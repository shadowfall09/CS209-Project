{"items":[{"tags":["java","spring-boot","api-key"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684767825,"creation_date":1684767825,"answer_id":76307518,"question_id":76300394,"body_markdown":"I solved the issue.\r\n\r\nAfter I defined this part in the application.yml file, the issue was disappeared.\r\n\r\n    spring:\r\n      config:\r\n        import: optional:file:.env[.properties]","title":"Cannot detect API key from .env in my Spring Boot App","body":"<p>I solved the issue.</p>\n<p>After I defined this part in the application.yml file, the issue was disappeared.</p>\n<pre><code>spring:\n  config:\n    import: optional:file:.env[.properties]\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76307518,"answer_count":1,"score":0,"last_activity_date":1684767825,"creation_date":1684679332,"question_id":76300394,"body_markdown":"I want to create an app to use API Layer for currency exchange. I used a API key of Exchange Rates Data API in apilayer.com.\r\n\r\nWhen I send a request to Get Rates defined in postman_collection in my repo.\r\n\r\nI get this error message shown below\r\n\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;message&quot; (class com.exchangeapi.currencyexchange.exception.RestTemplateError), not marked as ignorable (4 known properties: &quot;error&quot;, &quot;status&quot;, &quot;path&quot;, &quot;timestamp&quot;])\r\n     at [Source: (String)&quot;{&quot;message&quot;:&quot;No API key found in request&quot;}&quot;; line: 1, column: 42] (through reference chain: com.exchangeapi.currencyexchange.exception.RestTemplateError[&quot;message&quot;])\r\n\r\nIt always detect it as `default-key`.\r\n\r\nAfter endpoint converts to this URL like https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR, I revised it in getExchangeUrl method.\r\n\r\nHow can I fix it?\r\n\r\nHere is the .env file shown below (I defined .gitignore not to upload to git repo)\r\n\r\n    EXCHANGE_API_API_KEY=MY_APIKEY\r\n\r\nHere is the application.yml \r\n\r\n    exchange-api:\r\n      api-url: https://api.apilayer.com/exchangerates_data/\r\n      api-key: ${EXCHANGE_API_API_KEY:default-key}\r\n      api-call-limit: 60\r\n      cache-name: exchanges\r\n      cache-ttl: 10000\r\n\r\nHere is the Constants class shown below\r\n\r\n    @Component\r\n    public class Constants {\r\n    \r\n        public static String EXCHANGE_API_BASE_URL;\r\n        public static String EXCHANGE_API_API_KEY;\r\n    \r\n        public static String EXCHANGE_CACHE_NAME;\r\n        public static Integer EXCHANGE_API_CALL_LIMIT;\r\n    \r\n        @Value(&quot;${exchange-api.api-url}&quot;)\r\n        public void setExchangeApiBaseUrl(String apiUrl) {\r\n            Constants.EXCHANGE_API_BASE_URL = apiUrl;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.api-key}&quot;)\r\n        public void setExchangeApiKey(String apiKey) {\r\n            EXCHANGE_API_API_KEY = apiKey;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.cache-name}&quot;)\r\n        public void setExchangeCacheName(String cacheName) {\r\n            Constants.EXCHANGE_CACHE_NAME = cacheName;\r\n        }\r\n    \r\n        @Value(&quot;${exchange-api.api-call-limit}&quot;)\r\n        public void setExchangeApiCallLimit(Integer apiCallLimit) {\r\n            EXCHANGE_API_CALL_LIMIT = apiCallLimit;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the relevant methods saveRatesFromApi of RateService\r\n\r\n    private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\r\n            String url = getExchangeUrl(rateDate, base, targets);\r\n    \r\n            ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);\r\n    \r\n            RateResponse rates = responseEntity.getBody();\r\n            RateEntity entity = convert(rates);\r\n            entity.setDate(rateDate);\r\n            return rateRepository.save(entity);\r\n        }\r\n    \r\n    private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n        }\r\n\r\nHere is the repo : [Link][1]\r\n\r\n  [1]: https://github.com/Rapter1990/currencyexchange","title":"Cannot detect API key from .env in my Spring Boot App","body":"<p>I want to create an app to use API Layer for currency exchange. I used a API key of Exchange Rates Data API in apilayer.com.</p>\n<p>When I send a request to Get Rates defined in postman_collection in my repo.</p>\n<p>I get this error message shown below</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;message&quot; (class com.exchangeapi.currencyexchange.exception.RestTemplateError), not marked as ignorable (4 known properties: &quot;error&quot;, &quot;status&quot;, &quot;path&quot;, &quot;timestamp&quot;])\n at [Source: (String)&quot;{&quot;message&quot;:&quot;No API key found in request&quot;}&quot;; line: 1, column: 42] (through reference chain: com.exchangeapi.currencyexchange.exception.RestTemplateError[&quot;message&quot;])\n</code></pre>\n<p>It always detect it as <code>default-key</code>.</p>\n<p>After endpoint converts to this URL like <a href=\"https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR\" rel=\"nofollow noreferrer\">https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR</a>, I revised it in getExchangeUrl method.</p>\n<p>How can I fix it?</p>\n<p>Here is the .env file shown below (I defined .gitignore not to upload to git repo)</p>\n<pre><code>EXCHANGE_API_API_KEY=MY_APIKEY\n</code></pre>\n<p>Here is the application.yml</p>\n<pre><code>exchange-api:\n  api-url: https://api.apilayer.com/exchangerates_data/\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\n  api-call-limit: 60\n  cache-name: exchanges\n  cache-ttl: 10000\n</code></pre>\n<p>Here is the Constants class shown below</p>\n<pre><code>@Component\npublic class Constants {\n\n    public static String EXCHANGE_API_BASE_URL;\n    public static String EXCHANGE_API_API_KEY;\n\n    public static String EXCHANGE_CACHE_NAME;\n    public static Integer EXCHANGE_API_CALL_LIMIT;\n\n    @Value(&quot;${exchange-api.api-url}&quot;)\n    public void setExchangeApiBaseUrl(String apiUrl) {\n        Constants.EXCHANGE_API_BASE_URL = apiUrl;\n    }\n\n    @Value(&quot;${exchange-api.api-key}&quot;)\n    public void setExchangeApiKey(String apiKey) {\n        EXCHANGE_API_API_KEY = apiKey;\n    }\n\n    @Value(&quot;${exchange-api.cache-name}&quot;)\n    public void setExchangeCacheName(String cacheName) {\n        Constants.EXCHANGE_CACHE_NAME = cacheName;\n    }\n\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\n    }\n\n}\n</code></pre>\n<p>Here is the relevant methods saveRatesFromApi of RateService</p>\n<pre><code>private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n\n        log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\n        String url = getExchangeUrl(rateDate, base, targets);\n\n        ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);\n\n        RateResponse rates = responseEntity.getBody();\n        RateEntity entity = convert(rates);\n        entity.setDate(rateDate);\n        return rateRepository.save(entity);\n    }\n\nprivate String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n    }\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","scala","caching","guava"],"comments":[{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":1,"creation_date":1684638674,"post_id":76296669,"comment_id":134545480,"body_markdown":"I don&#39;t think your interpretation is correct. Let&#39;s say you set the refresh time to 1 minute and the expire time to 2 minutes. If you make a request after the 1 minute mark and before the 2 minute mark, you should get back the existing (stale) value immediately while it starts refreshing the value in the background (and stale values will be returned until either the refresh completes or the expire time occurs, whichever is first). However, if no requests are issued within 2 minutes of the last time the key was loaded...sure, you&#39;ll hit the expire time instead and be hit with a blocking call.","body":"I don&#39;t think your interpretation is correct. Let&#39;s say you set the refresh time to 1 minute and the expire time to 2 minutes. If you make a request after the 1 minute mark and before the 2 minute mark, you should get back the existing (stale) value immediately while it starts refreshing the value in the background (and stale values will be returned until either the refresh completes or the expire time occurs, whichever is first). However, if no requests are issued within 2 minutes of the last time the key was loaded...sure, you&#39;ll hit the expire time instead and be hit with a blocking call."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669587,"post_id":76296669,"comment_id":134547809,"body_markdown":"that&#39;s what I first thought when I implemented the cache but i when looking at the metrics (I tracked time to call `get()`) it seems it is not constant and follows the time to read from DB.","body":"that&#39;s what I first thought when I implemented the cache but i when looking at the metrics (I tracked time to call <code>get()</code>) it seems it is not constant and follows the time to read from DB."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669695,"post_id":76296669,"comment_id":134547820,"body_markdown":"I also thought increasing the `expireAfterWrite` but I don;t think it would help as I found there are tons (&gt; 100k range) of loads (I track the metric for the count of cache load) in contrast to evictions, so it is not like the cache is waiting for rows to expire to load them but probably it is doing the load when `get()` is called on keys needed refresh.","body":"I also thought increasing the <code>expireAfterWrite</code> but I don;t think it would help as I found there are tons (&gt; 100k range) of loads (I track the metric for the count of cache load) in contrast to evictions, so it is not like the cache is waiting for rows to expire to load them but probably it is doing the load when <code>get()</code> is called on keys needed refresh."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684669788,"post_id":76296669,"comment_id":134547832,"body_markdown":"And looking at the code in [LocalCache.java#waitForLoadingValue()](https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2200) it does seem to be a blocking call!","body":"And looking at the code in <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2200\" rel=\"nofollow noreferrer\">LocalCache.java#waitForLoadingValue()</a> it does seem to be a blocking call!"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1684767405,"post_id":76296669,"comment_id":134561119,"body_markdown":"Sure, but it depends on where `waitForLoadingValue` is getting called from. In `get`, it&#39;s only called if there&#39;s no value in the cache, and in `lockedGetOrLoad`, which is called from `get`, again if the value is null or expired.","body":"Sure, but it depends on where <code>waitForLoadingValue</code> is getting called from. In <code>get</code>, it&#39;s only called if there&#39;s no value in the cache, and in <code>lockedGetOrLoad</code>, which is called from <code>get</code>, again if the value is null or expired."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1684772486,"post_id":76296669,"comment_id":134562296,"body_markdown":"oh right this is called when the value is already loading as it checks with `valueReference.isLoading()`","body":"oh right this is called when the value is already loading as it checks with <code>valueReference.isLoading()</code>"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1684950102,"post_id":76296669,"comment_id":134593792,"body_markdown":"&quot;How can I have non-blocking get() with Guava cache?&quot; - Is that irrespective of refreshing, e.g. an `AsyncCache`? If so, then the `CacheBuilder` javadocs recommend using [Caffeine](https://github.com/ben-manes/caffeine)","body":"&quot;How can I have non-blocking get() with Guava cache?&quot; - Is that irrespective of refreshing, e.g. an <code>AsyncCache</code>? If so, then the <code>CacheBuilder</code> javadocs recommend using <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>"},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1685614027,"post_id":76296669,"comment_id":134685948,"body_markdown":"@BenManes yes i&#39;m expecting refresh to not block get() as it is OK to serve stale data until background refresh finishes. I will check Caffeine wasn&#39;t aware of this library.","body":"@BenManes yes i&#39;m expecting refresh to not block get() as it is OK to serve stale data until background refresh finishes. I will check Caffeine wasn&#39;t aware of this library."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685657019,"post_id":76296669,"comment_id":134695380,"body_markdown":"A confusion might be that refreshAfterWrite is triggered by activity. If you want a proactive refresh then you can use a scheduled task to periodically call `refresh(key)` and reload. That is sometimes desired when expiration shouldn&#39;t ever occur, which means it is a hot map rather than a cache, so a library is not actually needed vs plain Java.","body":"A confusion might be that refreshAfterWrite is triggered by activity. If you want a proactive refresh then you can use a scheduled task to periodically call <code>refresh(key)</code> and reload. That is sometimes desired when expiration shouldn&#39;t ever occur, which means it is a hot map rather than a cache, so a library is not actually needed vs plain Java."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1686073687,"post_id":76296669,"comment_id":134748421,"body_markdown":"@BenManes I am using an async reload (I wrap the loader with `CacheLoader.asyncReloading`), which should mean that when a key needs refresh, this would happen asynchronously and this is why I thought the get() should be non-blocking.","body":"@BenManes I am using an async reload (I wrap the loader with <code>CacheLoader.asyncReloading</code>), which should mean that when a key needs refresh, this would happen asynchronously and this is why I thought the get() should be non-blocking."}],"answers":[{"tags":[],"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684767580,"creation_date":1684767580,"answer_id":76307471,"question_id":76296669,"body_markdown":"Have you tried implementing the [refresh](https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-) method on `CacheLoader`?\r\n\r\n&gt; This implementation synchronously delegates to load(K). It is recommended that it be overridden with an asynchronous implementation when using CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).\r\n\r\nSeems like it might be required for the behavior you&#39;re seeking.","title":"Guava cache with async loading for non-blocking get","body":"<p>Have you tried implementing the <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-\" rel=\"nofollow noreferrer\">refresh</a> method on <code>CacheLoader</code>?</p>\n<blockquote>\n<p>This implementation synchronously delegates to load(K). It is recommended that it be overridden with an asynchronous implementation when using CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).</p>\n</blockquote>\n<p>Seems like it might be required for the behavior you're seeking.</p>\n"}],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684767580,"creation_date":1684605759,"question_id":76296669,"body_markdown":"I&#39;m trying to use Guava cache with async loading of values and have non-blocking get(). Because I do load values from DB so it is pretty expensive, it would be OK to serve temporally out-dated data until new data is loaded in the background but not OK to block when trying to read from cache. \r\n\r\nI first tried using `refreshAfterWrite` with `expireAfterWrite` but it does not seem to achieve what I&#39;m looking to do. It seems from the documentation of [refreshAfterWrite](https://github.com/google/guava/wiki/CachesExplained#refresh), entries needed refresh will not be remove until read which makes the call to `cache.get()` blocking!\r\n\r\n&gt; Automatically timed refreshing can be added to a cache using CacheBuilder.refreshAfterWrite(long, TimeUnit). In contrast to expireAfterWrite, refreshAfterWrite will make a key eligible for refresh after the specified duration, but a refresh will only be actually initiated when the entry is queried.\r\n\r\n\r\nThis is how i&#39;m creating the cache, I define a loader like this:\r\n\r\n```scala\r\nclass DbCacheLoader() extends CacheLoader[K, V] {\r\n  override def load(key: K): V = {\r\n    // read from DB\r\n  }\r\n}\r\n```\r\nThen, I tried using the `refreshOnWrite` option to build the cache like this\r\n```scala\r\nval syncLoader = new DbCacheLoader()\r\nval val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)\r\nval cache: LoadingCache[K, V] = CacheBuilder.newBuilder()\r\n  .refreshAfterWrite(timeout, TimeUnit.MILLISECONDS)  // timeout\r\n  .expireAfterWrite(hardTimeout, TimeUnit.MILLISECONDS) // hard timeout\r\n  .concurrencyLevel(threadPoolSize * 10)\r\n  .recordStats()\r\n  .build[K, V](cacheLoader)\r\n```\r\n\r\nHow can I have non-blocking `get()` with Guava cache?","title":"Guava cache with async loading for non-blocking get","body":"<p>I'm trying to use Guava cache with async loading of values and have non-blocking get(). Because I do load values from DB so it is pretty expensive, it would be OK to serve temporally out-dated data until new data is loaded in the background but not OK to block when trying to read from cache.</p>\n<p>I first tried using <code>refreshAfterWrite</code> with <code>expireAfterWrite</code> but it does not seem to achieve what I'm looking to do. It seems from the documentation of <a href=\"https://github.com/google/guava/wiki/CachesExplained#refresh\" rel=\"nofollow noreferrer\">refreshAfterWrite</a>, entries needed refresh will not be remove until read which makes the call to <code>cache.get()</code> blocking!</p>\n<blockquote>\n<p>Automatically timed refreshing can be added to a cache using CacheBuilder.refreshAfterWrite(long, TimeUnit). In contrast to expireAfterWrite, refreshAfterWrite will make a key eligible for refresh after the specified duration, but a refresh will only be actually initiated when the entry is queried.</p>\n</blockquote>\n<p>This is how i'm creating the cache, I define a loader like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class DbCacheLoader() extends CacheLoader[K, V] {\n  override def load(key: K): V = {\n    // read from DB\n  }\n}\n</code></pre>\n<p>Then, I tried using the <code>refreshOnWrite</code> option to build the cache like this</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val syncLoader = new DbCacheLoader()\nval val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)\nval cache: LoadingCache[K, V] = CacheBuilder.newBuilder()\n  .refreshAfterWrite(timeout, TimeUnit.MILLISECONDS)  // timeout\n  .expireAfterWrite(hardTimeout, TimeUnit.MILLISECONDS) // hard timeout\n  .concurrencyLevel(threadPoolSize * 10)\n  .recordStats()\n  .build[K, V](cacheLoader)\n</code></pre>\n<p>How can I have non-blocking <code>get()</code> with Guava cache?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1684767683,"post_id":76307438,"comment_id":134561184,"body_markdown":"Did you read https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value ?","body":"Did you read <a href=\"https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value\" title=\"spring data ignore parameter if it has a null value\">stackoverflow.com/questions/43780226/&hellip;</a> ?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1684767685,"post_id":76307438,"comment_id":134561185,"body_markdown":"If you pass `null`, it will be literal. If you want to ignore it, create another method i.e. `findAllByAvailabilityAndIdLessThanOrderByIdDesc` without `AndItemCategory` in the name. Create a service method that checks for `null` and call the appropriate repository method.","body":"If you pass <code>null</code>, it will be literal. If you want to ignore it, create another method i.e. <code>findAllByAvailabilityAndIdLessThanOrderByIdDesc</code> without <code>AndItemCategory</code> in the name. Create a service method that checks for <code>null</code> and call the appropriate repository method."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684767781,"post_id":76307438,"comment_id":134561206,"body_markdown":"you can use the Specification feature provided by Spring Data JPA. Here is examples how to use it https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl .  **NOTE: Specification adds an extra layer of abstraction and complexity to your code**","body":"you can use the Specification feature provided by Spring Data JPA. Here is examples how to use it <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a> .  <b>NOTE: Specification adds an extra layer of abstraction and complexity to your code</b>"},{"owner":{"account_id":2809292,"reputation":66,"user_id":2415859,"display_name":"Wansu yang"},"score":0,"creation_date":1684768464,"post_id":76307438,"comment_id":134561374,"body_markdown":"You can check https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers.","body":"You can check <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1684797508,"post_id":76307438,"comment_id":134566472,"body_markdown":"What @Mr.Polywhirl said, if it is optional then make another method without that parameter.","body":"What @Mr.Polywhirl said, if it is optional then make another method without that parameter."}],"owner":{"account_id":15332453,"reputation":321,"user_id":11156297,"display_name":"Zoe Lubanza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684767329,"creation_date":1684767329,"question_id":76307438,"body_markdown":"I have this spring JPA query:\r\n```\r\nOptional&lt;List&lt;Result&gt;&gt; findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(\r\n            String availability, String category, long cursor, Pageable pageable\r\n    );\r\n```\r\nWhen passing a `null` value as one of the parameters, JPA looks for the actual null value in the database.\r\nExample:\r\n```\r\nrepository.findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(&quot;avail&quot;,null,0, pageableObj);\r\n```\r\nIn this case, Spring will return the fields where `category` is `null` and match the rest of the criteria.\r\n\r\nWhat I&#39;d like to achieve is, when passing `null`, I want Spring to kind of ignore it and return all the values for that specific field.\r\n\r\nI know I can achieve this by writing a SQL `@Query` above the function, but I want to know if there is no way of adding a condition check in the JPA query itself.","title":"Spring Boot JPA findAllBy Condition","body":"<p>I have this spring JPA query:</p>\n<pre><code>Optional&lt;List&lt;Result&gt;&gt; findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(\n            String availability, String category, long cursor, Pageable pageable\n    );\n</code></pre>\n<p>When passing a <code>null</code> value as one of the parameters, JPA looks for the actual null value in the database.\nExample:</p>\n<pre><code>repository.findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(&quot;avail&quot;,null,0, pageableObj);\n</code></pre>\n<p>In this case, Spring will return the fields where <code>category</code> is <code>null</code> and match the rest of the criteria.</p>\n<p>What I'd like to achieve is, when passing <code>null</code>, I want Spring to kind of ignore it and return all the values for that specific field.</p>\n<p>I know I can achieve this by writing a SQL <code>@Query</code> above the function, but I want to know if there is no way of adding a condition check in the JPA query itself.</p>\n"},{"tags":["java","simpledateformat","milliseconds"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1431135891,"post_id":30135025,"comment_id":48380078,"body_markdown":"*... by just supplying a pattern to the standard `SimpleDateFormat` implementation, without any other code modifications or string manipulation?* Obviously not.","body":"<i>... by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</i> Obviously not."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1560543018,"creation_date":1431143432,"answer_id":30135772,"question_id":30135025,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime.parse(                 // With resolution of nanoseconds, represent the idea of a date and time somewhere, unspecified. Does *not* represent a moment, is *not* a point on the timeline. To determine an actual moment, place this date+time into context of a time zone (apply a `ZoneId` to get a `ZonedDateTime`). \r\n        &quot;2015-05-09 00:10:23.999750900&quot;  // A `String` nearly in standard ISO 8601 format.\r\n        .replace( &quot; &quot; , &quot;T&quot; )            // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\r\n    )                                    // Returns a `LocalDateTime` object.\r\n\r\n\r\n\r\n# Nope\r\n\r\nNo, you cannot use SimpleDateFormat to handle [nanoseconds][1].\r\n\r\nBut your premise that…\r\n\r\n&gt;Java does not support time granularity above [milliseconds][2] in its date patterns\r\n\r\n…is no longer true as of [Java 8][3], 9, 10 and later with *java.time* classes built-in. And not really true of Java 6 and Java 7 either, as most of the *java.time* [functionality is back-ported][4].\r\n\r\n# java.time\r\n\r\n`SimpleDateFormat`, and the related `java.util.Date`/`.Calendar` classes are now outmoded by the new [java.time][5] package found in Java 8 ([Tutorial][6]). \r\n\r\nThe new java.time classes support [nanosecond][7] resolution. That support includes parsing and generating nine digits of fractional second.  For example, when you use the `java.time.format` `DateTimeFormatter` API, the `S` pattern letter denotes a &quot;fraction of the second&quot; rather than &quot;milliseconds&quot;, and it can cope with nanosecond values.\r\n\r\n## `Instant`\r\n\r\nAs an example, the [`Instant`][8] class represents a moment in [UTC][9]. Its `toString` method generates a `String` object using the standard [ISO 8601][10] format. The `Z` on the end means UTC, pronounced “Zulu”. \r\n\r\n    instant.toString()  // Generate a `String` representing this moment, using standard ISO 8601 format.\r\n\r\n&gt;2013-08-20T12:34:56.123456789Z\r\n\r\nNote that capturing the current moment in Java 8 is limited to millisecond resolution. The *java.time* classes can *hold* a value in nanoseconds, but can only determine the current time with milliseconds. This limitation is due to the implementation of `Clock`. In Java 9 and later, a new `Clock` implementation can grab the current moment in finer resolution, depending on the limits of your host hardware and operating system, usually [microseconds][11] in my experience.\r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment. May be in milliseconds or microseconds rather than the maximum resolution of nanoseconds.\r\n\r\n## `LocalDateTime`\r\n\r\nYour example input string of `2015-05-09 00:10:23.999750900` lacks an indicator of time zone or offset-from-UTC. That means it does *not* represent a moment, is *not* a point on the timeline. Instead, it represents *potential* moments along a range of about 26-27 hours, the range of time zones around the globe.\r\n\r\nPares such an input as a `LocalDateTime` object. First, replace the SPACE in the middle with a `T` to comply with ISO 8601 format, used by default when parsing/generating strings. So no need to specify a formatting pattern.\r\n\r\n    LocalDateTime ldt = \r\n            LocalDateTime.parse( \r\n                &quot;2015-05-09 00:10:23.999750900&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\r\n            ) \r\n    ;\r\n\r\n# `java.sql.Timestamp`\r\n\r\nThe [`java.sql.Timestamp`][12] class also handles nanosecond resolution, but in an awkward way. Generally best to do your work inside java.time classes. No need to ever use `Timestamp` again as of JDBC 4.2 and later.\r\n\r\n    myPreparedStatement.setObject( … , instant ) ;\r\n\r\nAnd retrieval.\r\n\r\n    Instant instant = myResultSet.getObject( … , Instant.class ) ;\r\n\r\n## `OffsetDateTime`\r\n\r\nSupport for `Instant` is not mandated by the JDBC specification, but `OffsetDateTime` is. So if the above code fails with your JDBC driver, use the following. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nAnd retrieval. \r\n\r\n    Instant instant = myResultSet.getObject( … , OffsetDateTime.class ).toInstant() ;\r\n\r\nIf using an older pre-4.2 JDBC driver, you can use [`toInstant`][13] and [`from`][14] methods to go back and forth between `java.sql.Timestamp` and java.time. These new conversion methods were added to the *old* legacy classes. \r\n\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][15]][15]\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [2]: https://en.wikipedia.org/wiki/Millsecond\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [4]: http://www.threeten.org/threetenbp/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [6]: http://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [7]: http://en.m.wikipedia.org/wiki/Nanosecond\r\n  [8]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\r\n  [9]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [10]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [11]: https://en.wikipedia.org/wiki/Microsecond\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#toInstant--\r\n  [14]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#from-java.time.Instant-\r\n  [15]: https://i.stack.imgur.com/4NSDx.png","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                 // With resolution of nanoseconds, represent the idea of a date and time somewhere, unspecified. Does *not* represent a moment, is *not* a point on the timeline. To determine an actual moment, place this date+time into context of a time zone (apply a `ZoneId` to get a `ZonedDateTime`). \n    \"2015-05-09 00:10:23.999750900\"  // A `String` nearly in standard ISO 8601 format.\n    .replace( \" \" , \"T\" )            // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n)                                    // Returns a `LocalDateTime` object.\n</code></pre>\n\n<h1>Nope</h1>\n\n<p>No, you cannot use SimpleDateFormat to handle <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>.</p>\n\n<p>But your premise that…</p>\n\n<blockquote>\n  <p>Java does not support time granularity above <a href=\"https://en.wikipedia.org/wiki/Millsecond\" rel=\"noreferrer\">milliseconds</a> in its date patterns</p>\n</blockquote>\n\n<p>…is no longer true as of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"noreferrer\">Java 8</a>, 9, 10 and later with <em>java.time</em> classes built-in. And not really true of Java 6 and Java 7 either, as most of the <em>java.time</em> <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">functionality is back-ported</a>.</p>\n\n<h1>java.time</h1>\n\n<p><code>SimpleDateFormat</code>, and the related <code>java.util.Date</code>/<code>.Calendar</code> classes are now outmoded by the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package found in Java 8 (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Tutorial</a>). </p>\n\n<p>The new java.time classes support <a href=\"http://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanosecond</a> resolution. That support includes parsing and generating nine digits of fractional second.  For example, when you use the <code>java.time.format</code> <code>DateTimeFormatter</code> API, the <code>S</code> pattern letter denotes a \"fraction of the second\" rather than \"milliseconds\", and it can cope with nanosecond values.</p>\n\n<h2><code>Instant</code></h2>\n\n<p>As an example, the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. Its <code>toString</code> method generates a <code>String</code> object using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format. The <code>Z</code> on the end means UTC, pronounced “Zulu”. </p>\n\n<pre><code>instant.toString()  // Generate a `String` representing this moment, using standard ISO 8601 format.\n</code></pre>\n\n<blockquote>\n  <p>2013-08-20T12:34:56.123456789Z</p>\n</blockquote>\n\n<p>Note that capturing the current moment in Java 8 is limited to millisecond resolution. The <em>java.time</em> classes can <em>hold</em> a value in nanoseconds, but can only determine the current time with milliseconds. This limitation is due to the implementation of <code>Clock</code>. In Java 9 and later, a new <code>Clock</code> implementation can grab the current moment in finer resolution, depending on the limits of your host hardware and operating system, usually <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a> in my experience.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment. May be in milliseconds or microseconds rather than the maximum resolution of nanoseconds.\n</code></pre>\n\n<h2><code>LocalDateTime</code></h2>\n\n<p>Your example input string of <code>2015-05-09 00:10:23.999750900</code> lacks an indicator of time zone or offset-from-UTC. That means it does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. Instead, it represents <em>potential</em> moments along a range of about 26-27 hours, the range of time zones around the globe.</p>\n\n<p>Pares such an input as a <code>LocalDateTime</code> object. First, replace the SPACE in the middle with a <code>T</code> to comply with ISO 8601 format, used by default when parsing/generating strings. So no need to specify a formatting pattern.</p>\n\n<pre><code>LocalDateTime ldt = \n        LocalDateTime.parse( \n            \"2015-05-09 00:10:23.999750900\".replace( \" \" , \"T\" )  // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n        ) \n;\n</code></pre>\n\n<h1><code>java.sql.Timestamp</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.Timestamp</code></a> class also handles nanosecond resolution, but in an awkward way. Generally best to do your work inside java.time classes. No need to ever use <code>Timestamp</code> again as of JDBC 4.2 and later.</p>\n\n<pre><code>myPreparedStatement.setObject( … , instant ) ;\n</code></pre>\n\n<p>And retrieval.</p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , Instant.class ) ;\n</code></pre>\n\n<h2><code>OffsetDateTime</code></h2>\n\n<p>Support for <code>Instant</code> is not mandated by the JDBC specification, but <code>OffsetDateTime</code> is. So if the above code fails with your JDBC driver, use the following. </p>\n\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n\n<p>And retrieval. </p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , OffsetDateTime.class ).toInstant() ;\n</code></pre>\n\n<p>If using an older pre-4.2 JDBC driver, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#toInstant--\" rel=\"noreferrer\"><code>toInstant</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#from-java.time.Instant-\" rel=\"noreferrer\"><code>from</code></a> methods to go back and forth between <code>java.sql.Timestamp</code> and java.time. These new conversion methods were added to the <em>old</em> legacy classes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4NSDx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4NSDx.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":5945257,"reputation":461,"user_id":9101382,"display_name":"flowgrad"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1577808662,"creation_date":1577808337,"answer_id":59546290,"question_id":30135025,"body_markdown":"I found the it wonderful to cover multiple variants of date time format like this:\r\n\r\n    final DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\r\n    dtfb.appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSS&quot;))\r\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;))\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0);\r\n\r\n","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>I found the it wonderful to cover multiple variants of date time format like this:</p>\n\n<pre><code>final DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.S\"))\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667405023,"creation_date":1667164464,"answer_id":74256811,"question_id":30135025,"body_markdown":"# *java.time*\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nYou can build a `DateTimeFormatter` using `DateTimeFormatterBuilder` as shown below:\r\n\r\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .appendLiteral(&#39; &#39;)\r\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .toFormatter(Locale.ENGLISH);\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .appendLiteral(&#39; &#39;)\r\n            .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .toFormatter(Locale.ENGLISH);\r\n    \r\n        // Test\r\n        Stream.of(\r\n            &quot;2015-05-09 00:10:23.123456789&quot;,\r\n            &quot;2015-05-09 00:10:23.12345678&quot;,\r\n            &quot;2015-05-09 00:10:23.1234567&quot;,\r\n            &quot;2015-05-09 00:10:23.123456&quot;,\r\n            &quot;2015-05-09 00:10:23.12345&quot;,\r\n            &quot;2015-05-09 00:10:23.1234&quot;,\r\n            &quot;2015-05-09 00:10:23.123&quot;,\r\n            &quot;2015-05-09 00:10:23.12&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23&quot;,\r\n            &quot;2015-05-09 00:10&quot;\r\n          )\r\n          .map(s -&gt; LocalDateTime.parse(s, parser))\r\n          .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-09T00:10:23.123456789\r\n    2015-05-09T00:10:23.123456780\r\n    2015-05-09T00:10:23.123456700\r\n    2015-05-09T00:10:23.123456\r\n    2015-05-09T00:10:23.123450\r\n    2015-05-09T00:10:23.123400\r\n    2015-05-09T00:10:23.123\r\n    2015-05-09T00:10:23.120\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23\r\n    2015-05-09T00:10\r\n\r\nIf you want to make the time part optional, you can use the following `DateTimeFormatter`:\r\n\r\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n        .optionalStart()\r\n        .appendLiteral(&#39; &#39;)\r\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\r\n        .optionalEnd()\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .toFormatter(Locale.ENGLISH);\r\n\r\n**Demo**:\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .optionalStart()\r\n            .appendLiteral(&#39; &#39;)\r\n            .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\r\n            .optionalEnd()\r\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n            .toFormatter(Locale.ENGLISH);\r\n    \r\n        // Test\r\n        Stream.of(\r\n            &quot;2015-05-09 00:10:23.123456789&quot;,\r\n            &quot;2015-05-09 00:10:23.12345678&quot;,\r\n            &quot;2015-05-09 00:10:23.1234567&quot;,\r\n            &quot;2015-05-09 00:10:23.123456&quot;,\r\n            &quot;2015-05-09 00:10:23.12345&quot;,\r\n            &quot;2015-05-09 00:10:23.1234&quot;,\r\n            &quot;2015-05-09 00:10:23.123&quot;,\r\n            &quot;2015-05-09 00:10:23.12&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23.1&quot;,\r\n            &quot;2015-05-09 00:10:23&quot;,\r\n            &quot;2015-05-09 00:10&quot;,\r\n            &quot;2015-05-09&quot;\r\n            )\r\n            .map(s -&gt; LocalDateTime.parse(s, parser))\r\n            .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-09T00:10:23.123456789\r\n    2015-05-09T00:10:23.123456780\r\n    2015-05-09T00:10:23.123456700\r\n    2015-05-09T00:10:23.123456\r\n    2015-05-09T00:10:23.123450\r\n    2015-05-09T00:10:23.123400\r\n    2015-05-09T00:10:23.123\r\n    2015-05-09T00:10:23.120\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23.100\r\n    2015-05-09T00:10:23\r\n    2015-05-09T00:10\r\n    2015-05-09T00:00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>You can build a <code>DateTimeFormatter</code> using <code>DateTimeFormatterBuilder</code> as shown below:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;\n      )\n      .map(s -&gt; LocalDateTime.parse(s, parser))\n      .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n</code></pre>\n<p>If you want to make the time part optional, you can use the following <code>DateTimeFormatter</code>:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\n    .optionalStart()\n    .appendLiteral(' ')\n    .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n    .optionalEnd()\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .optionalStart()\n        .appendLiteral(' ')\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n        .optionalEnd()\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;,\n        &quot;2015-05-09&quot;\n        )\n        .map(s -&gt; LocalDateTime.parse(s, parser))\n        .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n2015-05-09T00:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":10936949,"reputation":21,"user_id":8038310,"display_name":"敖癸-Dimon Ho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684767005,"creation_date":1684766561,"answer_id":76307339,"question_id":30135025,"body_markdown":"TEST CODE:\r\n\r\n    @Test\r\n    void contextLoads() throws ParseException {\r\n        DateTimeFormatter ISO_LOCAL_DATE = new &gt;DateTimeFormatterBuilder()\r\n                .appendValue(YEAR, 4, 10, SignStyle.EXCEEDS_PAD)\r\n                .optionalStart().appendLiteral(&#39;/&#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;-&#39;).optionalEnd()\r\n                .optionalStart().appendValue(MONTH_OF_YEAR, 2)\r\n                .optionalStart().appendLiteral(&#39;/&#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;-&#39;).optionalEnd()\r\n                .optionalStart().appendValue(DAY_OF_MONTH, 2)\r\n                .toFormatter();\r\n\r\n        DateTimeFormatter ISO_LOCAL_TIME = new DateTimeFormatterBuilder()\r\n                .appendValue(HOUR_OF_DAY, 2)\r\n                .optionalStart().appendLiteral(&#39;:&#39;).appendValue(MINUTE_OF_HOUR, 2)\r\n                .optionalStart().appendLiteral(&#39;:&#39;).appendValue(SECOND_OF_MINUTE, 2)\r\n                .optionalStart().appendFraction(NANO_OF_SECOND, 0, 9, true)\r\n                .optionalStart().appendZoneId()\r\n                .toFormatter();\r\n\r\n        DateTimeFormatter dateTimeFormatter = new DateTimeFormatterBuilder()\r\n                .append(ISO_LOCAL_DATE)\r\n                .optionalStart().appendLiteral(&#39; &#39;).optionalEnd()\r\n                .optionalStart().appendLiteral(&#39;T&#39;).optionalEnd()\r\n                .optionalStart().appendOptional(ISO_LOCAL_TIME).optionalEnd()\r\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n                .toFormatter(Locale.SIMPLIFIED_CHINESE);\r\n\r\n        Stream.of(&quot;2015-05-09T00:10:23.934596635Z&quot;,\r\n                &quot;2015-05-09 00:10:23.123456789UTC&quot;,\r\n                &quot;2015/05/09 00:10:23.123456789&quot;,\r\n                &quot;2015-05-09 00:10:23.12345678&quot;,\r\n                &quot;2015/05/09 00:10:23.1234567&quot;,\r\n                &quot;2015-05-09T00:10:23.123456&quot;,\r\n                &quot;2015-05-09 00:10:23.12345&quot;,\r\n                &quot;2015/05-09T00:10:23.1234&quot;,\r\n                &quot;2015-05-09 00:10:23.123&quot;,\r\n                &quot;2015-05-09 00:10:23.12&quot;,\r\n                &quot;2015-05-09 00:10:23.1&quot;,\r\n                &quot;2015-05-09 00:10:23&quot;,\r\n                &quot;2015-05-09 00:10&quot;,\r\n                &quot;2015-05-09 01&quot;,\r\n                &quot;2015-05-09&quot;\r\n        ).forEach(s -&gt; {\r\n            LocalDateTime date = LocalDateTime.parse(s, dateTimeFormatter);\r\n            System.out.println(s + &quot; ==&gt; &quot; + date);\r\n        });\r\n    }\r\n\r\nOUT:\r\n```\r\n2015-05-09T00:10:23.934596635Z ==&gt; 2015-05-09T00:10:23.934596635\r\n2015-05-09 00:10:23.123456789UTC ==&gt; 2015-05-09T00:10:23.123456789\r\n2015/05/09 00:10:23.123456789 ==&gt; 2015-05-09T00:10:23.123456789\r\n2015-05-09 00:10:23.12345678 ==&gt; 2015-05-09T00:10:23.123456780\r\n2015/05/09 00:10:23.1234567 ==&gt; 2015-05-09T00:10:23.123456700\r\n2015-05-09T00:10:23.123456 ==&gt; 2015-05-09T00:10:23.123456\r\n2015-05-09 00:10:23.12345 ==&gt; 2015-05-09T00:10:23.123450\r\n2015/05-09T00:10:23.1234 ==&gt; 2015-05-09T00:10:23.123400\r\n2015-05-09 00:10:23.123 ==&gt; 2015-05-09T00:10:23.123\r\n2015-05-09 00:10:23.12 ==&gt; 2015-05-09T00:10:23.120\r\n2015-05-09 00:10:23.1 ==&gt; 2015-05-09T00:10:23.100\r\n2015-05-09 00:10:23 ==&gt; 2015-05-09T00:10:23\r\n2015-05-09 00:10 ==&gt; 2015-05-09T00:10\r\n2015-05-09 01 ==&gt; 2015-05-09T01:00\r\n2015-05-09 ==&gt; 2015-05-09T00:00\r\n```\r\n","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>TEST CODE:</p>\n<pre><code>@Test\nvoid contextLoads() throws ParseException {\n    DateTimeFormatter ISO_LOCAL_DATE = new &gt;DateTimeFormatterBuilder()\n            .appendValue(YEAR, 4, 10, SignStyle.EXCEEDS_PAD)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(MONTH_OF_YEAR, 2)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(DAY_OF_MONTH, 2)\n            .toFormatter();\n\n    DateTimeFormatter ISO_LOCAL_TIME = new DateTimeFormatterBuilder()\n            .appendValue(HOUR_OF_DAY, 2)\n            .optionalStart().appendLiteral(':').appendValue(MINUTE_OF_HOUR, 2)\n            .optionalStart().appendLiteral(':').appendValue(SECOND_OF_MINUTE, 2)\n            .optionalStart().appendFraction(NANO_OF_SECOND, 0, 9, true)\n            .optionalStart().appendZoneId()\n            .toFormatter();\n\n    DateTimeFormatter dateTimeFormatter = new DateTimeFormatterBuilder()\n            .append(ISO_LOCAL_DATE)\n            .optionalStart().appendLiteral(' ').optionalEnd()\n            .optionalStart().appendLiteral('T').optionalEnd()\n            .optionalStart().appendOptional(ISO_LOCAL_TIME).optionalEnd()\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n            .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n            .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n            .toFormatter(Locale.SIMPLIFIED_CHINESE);\n\n    Stream.of(&quot;2015-05-09T00:10:23.934596635Z&quot;,\n            &quot;2015-05-09 00:10:23.123456789UTC&quot;,\n            &quot;2015/05/09 00:10:23.123456789&quot;,\n            &quot;2015-05-09 00:10:23.12345678&quot;,\n            &quot;2015/05/09 00:10:23.1234567&quot;,\n            &quot;2015-05-09T00:10:23.123456&quot;,\n            &quot;2015-05-09 00:10:23.12345&quot;,\n            &quot;2015/05-09T00:10:23.1234&quot;,\n            &quot;2015-05-09 00:10:23.123&quot;,\n            &quot;2015-05-09 00:10:23.12&quot;,\n            &quot;2015-05-09 00:10:23.1&quot;,\n            &quot;2015-05-09 00:10:23&quot;,\n            &quot;2015-05-09 00:10&quot;,\n            &quot;2015-05-09 01&quot;,\n            &quot;2015-05-09&quot;\n    ).forEach(s -&gt; {\n        LocalDateTime date = LocalDateTime.parse(s, dateTimeFormatter);\n        System.out.println(s + &quot; ==&gt; &quot; + date);\n    });\n}\n</code></pre>\n<p>OUT:</p>\n<pre><code>2015-05-09T00:10:23.934596635Z ==&gt; 2015-05-09T00:10:23.934596635\n2015-05-09 00:10:23.123456789UTC ==&gt; 2015-05-09T00:10:23.123456789\n2015/05/09 00:10:23.123456789 ==&gt; 2015-05-09T00:10:23.123456789\n2015-05-09 00:10:23.12345678 ==&gt; 2015-05-09T00:10:23.123456780\n2015/05/09 00:10:23.1234567 ==&gt; 2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456 ==&gt; 2015-05-09T00:10:23.123456\n2015-05-09 00:10:23.12345 ==&gt; 2015-05-09T00:10:23.123450\n2015/05-09T00:10:23.1234 ==&gt; 2015-05-09T00:10:23.123400\n2015-05-09 00:10:23.123 ==&gt; 2015-05-09T00:10:23.123\n2015-05-09 00:10:23.12 ==&gt; 2015-05-09T00:10:23.120\n2015-05-09 00:10:23.1 ==&gt; 2015-05-09T00:10:23.100\n2015-05-09 00:10:23 ==&gt; 2015-05-09T00:10:23\n2015-05-09 00:10 ==&gt; 2015-05-09T00:10\n2015-05-09 01 ==&gt; 2015-05-09T01:00\n2015-05-09 ==&gt; 2015-05-09T00:00\n</code></pre>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57255,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":30135772,"answer_count":4,"score":35,"last_activity_date":1684767005,"creation_date":1431135068,"question_id":30135025,"body_markdown":"According to the [SimpleDateFormat class documentation][1], `Java` does not support time granularity above milliseconds in its date patterns.\r\n\r\nSo, a date string like\r\n\r\n - 2015-05-09 00:10:23.999750900 // The last 9 digits denote nanoseconds\r\n\r\nwhen parsed via the pattern\r\n\r\n -  yyyy-MM-dd HH:mm:ss.SSSSSSSSS // 9 &#39;S&#39; symbols\r\n\r\nactually interprets the whole number after the `.` symbol as (nearly 1 billion!) milliseconds and not as nanoseconds, resulting in the date\r\n\r\n - 2015-05-20 21:52:53 UTC\r\n\r\ni.e. over 11 days ahead. Surprisingly, using a smaller number of `S` symbols still results in all 9 digits being parsed (instead of, say, the leftmost 3 for `.SSS`).\r\n\r\nThere are 2 ways to handle this issue correctly:\r\n\r\n - Use string preprocessing\r\n - Use a custom SimpleDateFormat implementation\r\n\r\nWould there be any other way for getting a correct solution by just supplying a pattern to the standard `SimpleDateFormat` implementation, without any other code modifications or string manipulation?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/index.html?java/text/SimpleDateFormat.html","title":"Java date parsing with microsecond or nanosecond accuracy","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat class documentation</a>, <code>Java</code> does not support time granularity above milliseconds in its date patterns.</p>\n\n<p>So, a date string like</p>\n\n<ul>\n<li>2015-05-09 00:10:23.999750900 // The last 9 digits denote nanoseconds</li>\n</ul>\n\n<p>when parsed via the pattern</p>\n\n<ul>\n<li>yyyy-MM-dd HH:mm:ss.SSSSSSSSS // 9 'S' symbols</li>\n</ul>\n\n<p>actually interprets the whole number after the <code>.</code> symbol as (nearly 1 billion!) milliseconds and not as nanoseconds, resulting in the date</p>\n\n<ul>\n<li>2015-05-20 21:52:53 UTC</li>\n</ul>\n\n<p>i.e. over 11 days ahead. Surprisingly, using a smaller number of <code>S</code> symbols still results in all 9 digits being parsed (instead of, say, the leftmost 3 for <code>.SSS</code>).</p>\n\n<p>There are 2 ways to handle this issue correctly:</p>\n\n<ul>\n<li>Use string preprocessing</li>\n<li>Use a custom SimpleDateFormat implementation</li>\n</ul>\n\n<p>Would there be any other way for getting a correct solution by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</p>\n"},{"tags":["java","spring-boot","spring-starter"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1657719099,"post_id":72967161,"comment_id":128877150,"body_markdown":"Can you post your application.properties file?","body":"Can you post your application.properties file?"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657719704,"creation_date":1657719233,"answer_id":72967229,"question_id":72967161,"body_markdown":"The problem is that the Lombok constructor won&#39;t contain the `@Value` annotation. Rather, it will look like this:\r\n\r\n```java\r\npublic EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\n\r\nDue to this, Spring doesn&#39;t know how to pass the `sender` field, and so it complains that there&#39;s no bean of type `String`.\r\n\r\nThe solution is to write your own constructor:\r\n\r\n```java\r\n// Add the @Value to the sender parameter\r\npublic EmailService(@Value(value = &quot;${spring.mail.username}&quot;) String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\n\r\nAfter that, you can remove the `@Value` annotation from the `sender` field (since it&#39;s on the constructor) and remove the `@AllArgConstructor` annotation.","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>The problem is that the Lombok constructor won't contain the <code>@Value</code> annotation. Rather, it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Due to this, Spring doesn't know how to pass the <code>sender</code> field, and so it complains that there's no bean of type <code>String</code>.</p>\n<p>The solution is to write your own constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add the @Value to the sender parameter\npublic EmailService(@Value(value = &quot;${spring.mail.username}&quot;) String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>After that, you can remove the <code>@Value</code> annotation from the <code>sender</code> field (since it's on the constructor) and remove the <code>@AllArgConstructor</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":21954399,"reputation":31,"user_id":16233186,"display_name":"BoskiChlopaczyna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680518180,"creation_date":1680102371,"answer_id":75879041,"question_id":72967161,"body_markdown":"There is also an alternative way to solve this problem. This solution doesn&#39;t require writing your own constructor.\r\n\r\nThe `@AllArgsConstructor` annotation gathers all class fields (the exception is initialized `final` field). Based on your code, Lombok will generate a constructor like below.\r\n```\r\npublic EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.sender = sender;\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\nAs the `sender` is not a bean but only a value wired from properties, the container won&#39;t be able to find it as a bean.\r\n\r\nSimilar annotation - `@RequiredArgsConstructor` gathers **only** non-initialized `final` fields.\r\n\r\nTo resolve your issue, you should refactor the code like below:\r\n```\r\n@RequiredArgsConstructor\r\npublic class EmailService {\r\n\r\n    @Value(value = &quot;${spring.mail.username}&quot;)\r\n    String sender;\r\n\r\n    final String HOST = &quot;http://localhost:8080/&quot;;\r\n\r\n    final UserRepository userRepository;\r\n    final JavaMailSender javaMailSender;\r\n\r\n    ...\r\n}\r\n```\r\nNow your constructor will look like this:\r\n```\r\npublic EmailService(UserRepository userRepository, JavaMailSender javaMailSender) {\r\n    this.userRepository = userRepository;\r\n    this.javaMailSender = javaMailSender;\r\n}\r\n```\r\nNote that `final` fields are required to be initialized before the constructor completes and you are not able to reassign them after. As long as you don&#39;t need to change repository and sender in runtime, these fields **should** be `final`.","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>There is also an alternative way to solve this problem. This solution doesn't require writing your own constructor.</p>\n<p>The <code>@AllArgsConstructor</code> annotation gathers all class fields (the exception is initialized <code>final</code> field). Based on your code, Lombok will generate a constructor like below.</p>\n<pre><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>As the <code>sender</code> is not a bean but only a value wired from properties, the container won't be able to find it as a bean.</p>\n<p>Similar annotation - <code>@RequiredArgsConstructor</code> gathers <strong>only</strong> non-initialized <code>final</code> fields.</p>\n<p>To resolve your issue, you should refactor the code like below:</p>\n<pre><code>@RequiredArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n\n    final String HOST = &quot;http://localhost:8080/&quot;;\n\n    final UserRepository userRepository;\n    final JavaMailSender javaMailSender;\n\n    ...\n}\n</code></pre>\n<p>Now your constructor will look like this:</p>\n<pre><code>public EmailService(UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Note that <code>final</code> fields are required to be initialized before the constructor completes and you are not able to reassign them after. As long as you don't need to change repository and sender in runtime, these fields <strong>should</strong> be <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":20960786,"reputation":21,"user_id":15400268,"display_name":"David Izhak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684766915,"creation_date":1684766842,"answer_id":76307371,"question_id":72967161,"body_markdown":"You can&#39;t use the Lombok annotation @AllArgsConstructor and the Spring annotation @Value on a field in the same time without additional actions.\r\nIf you want to do it:\r\n1. Create &quot;lombok.config&quot; file in the root directory of the project;\r\n2. Add next lines to the lombok.config file:\r\n\r\nconfig.stopbubbling = true\r\n\r\nlombok.copyableannotations += org.springframework.beans.factory.annotation.Value\r\n\r\n","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>You can't use the Lombok annotation @AllArgsConstructor and the Spring annotation @Value on a field in the same time without additional actions.\nIf you want to do it:</p>\n<ol>\n<li>Create &quot;lombok.config&quot; file in the root directory of the project;</li>\n<li>Add next lines to the lombok.config file:</li>\n</ol>\n<p>config.stopbubbling = true</p>\n<p>lombok.copyableannotations += org.springframework.beans.factory.annotation.Value</p>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13986,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72967229,"answer_count":3,"score":5,"last_activity_date":1684766915,"creation_date":1657718992,"question_id":72967161,"body_markdown":"I am using spring starter-email service to send emails to the users when there will be new job posting: I am following [this][1] article from geeks for geeks, I feel issue is something with @Value annotation, but unable to get it \r\nbut while running mvn-clean install, I am getting below error\r\n\r\n   \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobController&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\controller\\JobController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.20.jar:5.3.20]\r\n    \t... 67 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 85 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailService&#39; defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 99 common frames omitted\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 113 common frames omitted\r\n\r\nBelow is my email service\r\n\r\n\r\n    import com.entity.Job;\r\n    import com.entity.User;\r\n    import com.repository.UserRepository;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.MimeMessageHelper;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    @AllArgsConstructor\r\n    public class EmailService {\r\n    \r\n        @Value(value = &quot;${spring.mail.username}&quot;)\r\n        String sender;\r\n        final String HOST = &quot;http://localhost:8080/&quot;;\r\n        UserRepository userRepository;\r\n        JavaMailSender javaMailSender;\r\n    \r\n        public void sendEmailWithDetails(Job job){\r\n            List&lt;User&gt; usersList = null;\r\n            if(!job.getPreferredSkills().isEmpty())\r\n                usersList = userRepository.findBySkills(job.getPreferredSkills());\r\n            else{\r\n                usersList = userRepository.findAll();\r\n            }\r\n            for(User user: usersList){\r\n                try {\r\n                    generateEmailBodyAndSend(job, user);\r\n                }catch (MessagingException e){\r\n                    log.error(&quot;error while sending mail to user:&quot;+user.getEmail());\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void generateEmailBodyAndSend(Job job, User user ) throws MessagingException {\r\n            String body = &quot;&lt;h4&gt;Hey, Found new matching job for you&lt;/h4&gt;\\n &lt;a href=&quot;+HOST+job.getId()+&quot;&gt;&quot;+job.getTitle()+&quot;&lt;/a&gt;&quot;;\r\n            MimeMessage msg = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n            helper.setText(body, true);\r\n            helper.setSubject(&quot;Notification&quot;);\r\n            helper.setFrom(sender);\r\n            helper.setTo(user.getEmail());\r\n            log.info(&quot;sending mail to:&quot;+user.getEmail());\r\n            javaMailSender.send(msg);\r\n            log.info(&quot;sent mail to:&quot;+user.getEmail());\r\n        }\r\n    }\r\n\r\nI am using spring-boot 2.7.0 and spring-starter-email 2.7.1\r\nbelow is my application.properties file:\r\n\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/jobDB\r\n    kafka.bootstrapAddress=localhost:9092\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=testingmynotification@gmail.com\r\n\r\n  [1]: https://www.geeksforgeeks.org/spring-boot-sending-email-via-smtp/","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations:","body":"<p>I am using spring starter-email service to send emails to the users when there will be new job posting: I am following <a href=\"https://www.geeksforgeeks.org/spring-boot-sending-email-via-smtp/\" rel=\"noreferrer\">this</a> article from geeks for geeks, I feel issue is something with @Value annotation, but unable to get it\nbut while running mvn-clean install, I am getting below error</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobController' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\controller\\JobController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.0.jar:2.7.0]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.20.jar:5.3.20]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.20.jar:5.3.20]\n    ... 67 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 85 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 99 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 113 common frames omitted\n</code></pre>\n<p>Below is my email service</p>\n<pre><code>import com.entity.Job;\nimport com.entity.User;\nimport com.repository.UserRepository;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.util.List;\n\n@Service\n@Slf4j\n@AllArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n    final String HOST = &quot;http://localhost:8080/&quot;;\n    UserRepository userRepository;\n    JavaMailSender javaMailSender;\n\n    public void sendEmailWithDetails(Job job){\n        List&lt;User&gt; usersList = null;\n        if(!job.getPreferredSkills().isEmpty())\n            usersList = userRepository.findBySkills(job.getPreferredSkills());\n        else{\n            usersList = userRepository.findAll();\n        }\n        for(User user: usersList){\n            try {\n                generateEmailBodyAndSend(job, user);\n            }catch (MessagingException e){\n                log.error(&quot;error while sending mail to user:&quot;+user.getEmail());\n            }\n        }\n    }\n\n    private void generateEmailBodyAndSend(Job job, User user ) throws MessagingException {\n        String body = &quot;&lt;h4&gt;Hey, Found new matching job for you&lt;/h4&gt;\\n &lt;a href=&quot;+HOST+job.getId()+&quot;&gt;&quot;+job.getTitle()+&quot;&lt;/a&gt;&quot;;\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n        helper.setText(body, true);\n        helper.setSubject(&quot;Notification&quot;);\n        helper.setFrom(sender);\n        helper.setTo(user.getEmail());\n        log.info(&quot;sending mail to:&quot;+user.getEmail());\n        javaMailSender.send(msg);\n        log.info(&quot;sent mail to:&quot;+user.getEmail());\n    }\n}\n</code></pre>\n<p>I am using spring-boot 2.7.0 and spring-starter-email 2.7.1\nbelow is my application.properties file:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/jobDB\nkafka.bootstrapAddress=localhost:9092\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=testingmynotification@gmail.com\n</code></pre>\n"},{"tags":["java","ubuntu","tomcat"],"comments":[{"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"score":0,"creation_date":1669604852,"post_id":65096577,"comment_id":131672242,"body_markdown":"[This answer](https://stackoverflow.com/a/74595569/6518664) will help you install `Tomcat Native Library` which is what is missing.","body":"<a href=\"https://stackoverflow.com/a/74595569/6518664\">This answer</a> will help you install <code>Tomcat Native Library</code> which is what is missing."}],"answers":[{"tags":[],"owner":{"account_id":15115227,"reputation":25331,"user_id":10907864,"display_name":"Promise Preston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606848088,"creation_date":1606848088,"answer_id":65096578,"question_id":65096577,"body_markdown":"I figured out what the issue was.\r\n\r\nI had already set up an **SSL/TLS/HTTPS** connection protocol in the `opt/tomcat/conf/server.xml` file:\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\r\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeyFile=&quot;conf/key.key&quot;\r\n                         certificateFile=&quot;conf/cert.crt&quot;\r\n                         certificateChainFile=&quot;conf/chain.crt&quot;\r\n                         type=&quot;RSA&quot; /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nbut the `*.war` file that was gonna use the connection was not put in the `opt/tomcat/webapps` directory.\r\n\r\n**Here&#39;s how I solved it**:\r\n\r\nI simply added the `*.war` file in the `opt/tomcat/webapps` directory of tomcat, and then I restarted the tomcat server using:\r\n\r\n    sudo systemctl restart tomcat\r\n\r\nAnd everything worked fine.\r\n\r\nThat&#39;s all.\r\n\r\n**I hope this helps**\r\n\r\n","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>I figured out what the issue was.</p>\n<p>I had already set up an <strong>SSL/TLS/HTTPS</strong> connection protocol in the <code>opt/tomcat/conf/server.xml</code> file:</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyFile=&quot;conf/key.key&quot;\n                     certificateFile=&quot;conf/cert.crt&quot;\n                     certificateChainFile=&quot;conf/chain.crt&quot;\n                     type=&quot;RSA&quot; /&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>but the <code>*.war</code> file that was gonna use the connection was not put in the <code>opt/tomcat/webapps</code> directory.</p>\n<p><strong>Here's how I solved it</strong>:</p>\n<p>I simply added the <code>*.war</code> file in the <code>opt/tomcat/webapps</code> directory of tomcat, and then I restarted the tomcat server using:</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>And everything worked fine.</p>\n<p>That's all.</p>\n<p><strong>I hope this helps</strong></p>\n"},{"tags":[],"owner":{"account_id":79856,"reputation":6560,"user_id":226145,"display_name":"ThanhHH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684766823,"creation_date":1633509149,"answer_id":69462314,"question_id":65096577,"body_markdown":"You need to install `tomcat-native-1.2.31` from source code as following steps:\r\n\r\n1. Install tool (skipped them if already exists)\r\n\r\n```\r\nyum install gcc apr-devel apr-util\r\n```\r\n\r\n2. Download tomcat-native from [official site][1] to `/tmp` folder\r\n\r\n```\r\ncd /tmp\r\nwget https://mirror-hk.koddos.net/apache/tomcat/tomcat-connectors/native/1.2.31/source/tomcat-native-1.2.31-src.tar.gz\r\n```\r\n\r\n3. Decompress file\r\n\r\n```\r\ntar zxvf tomcat-native-1.2.23-src.tar.gz\r\n```\r\n\r\n4. Configuration \r\n\r\n```\r\ncd tomcat-native-1.2.23-src/native\r\n\r\n./configure --with-apr=/usr/bin/apr-1-config \\\r\n            --with-java-home=$JAVA_HOME \\\r\n            --with-ssl=yes \\\r\n            --prefix=$CATALINA_HOME\r\n```\r\n\r\n5. Compile and install\r\n\r\n```\r\nmake &amp; make install\r\n```\r\n\r\n6. Edit `$CATALINA_HOME/bin/setenv.sh` (creating the file if necessary) and add the path to the tc-native libraries to LD_LIBRARY_PATH.\r\n\r\n```\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CATALINA_HOME/lib\r\nexport LD_LIBRARY_PATH\r\n\r\n```\r\n\r\nAnd it&#39;s work!\r\n\r\n\r\n[1]: http://tomcat.apache.org/native-doc/","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>You need to install <code>tomcat-native-1.2.31</code> from source code as following steps:</p>\n<ol>\n<li>Install tool (skipped them if already exists)</li>\n</ol>\n<pre><code>yum install gcc apr-devel apr-util\n</code></pre>\n<ol start=\"2\">\n<li>Download tomcat-native from <a href=\"http://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">official site</a> to <code>/tmp</code> folder</li>\n</ol>\n<pre><code>cd /tmp\nwget https://mirror-hk.koddos.net/apache/tomcat/tomcat-connectors/native/1.2.31/source/tomcat-native-1.2.31-src.tar.gz\n</code></pre>\n<ol start=\"3\">\n<li>Decompress file</li>\n</ol>\n<pre><code>tar zxvf tomcat-native-1.2.23-src.tar.gz\n</code></pre>\n<ol start=\"4\">\n<li>Configuration</li>\n</ol>\n<pre><code>cd tomcat-native-1.2.23-src/native\n\n./configure --with-apr=/usr/bin/apr-1-config \\\n            --with-java-home=$JAVA_HOME \\\n            --with-ssl=yes \\\n            --prefix=$CATALINA_HOME\n</code></pre>\n<ol start=\"5\">\n<li>Compile and install</li>\n</ol>\n<pre><code>make &amp; make install\n</code></pre>\n<ol start=\"6\">\n<li>Edit <code>$CATALINA_HOME/bin/setenv.sh</code> (creating the file if necessary) and add the path to the tc-native libraries to LD_LIBRARY_PATH.</li>\n</ol>\n<pre><code>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CATALINA_HOME/lib\nexport LD_LIBRARY_PATH\n\n</code></pre>\n<p>And it's work!</p>\n"},{"tags":[],"owner":{"account_id":28575471,"reputation":1,"user_id":21877147,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683778323,"creation_date":1683778323,"answer_id":76224101,"question_id":65096577,"body_markdown":"In my case, I was getting this issue with Java 17 and Tomcat 10.1.8. \r\nThe issue in my case was that another tomcat was already running that was started with Java 11 and was not shutdown. And I just changed the path of java from 11 to 17 and was trying to start Tomcat 10.\r\n\r\nOnce I stopped the older tomcat 9 instance, the tomcat 10 started fine.  ","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>In my case, I was getting this issue with Java 17 and Tomcat 10.1.8.\nThe issue in my case was that another tomcat was already running that was started with Java 11 and was not shutdown. And I just changed the path of java from 11 to 17 and was trying to start Tomcat 10.</p>\n<p>Once I stopped the older tomcat 9 instance, the tomcat 10 started fine.</p>\n"}],"owner":{"account_id":15115227,"reputation":25331,"user_id":10907864,"display_name":"Promise Preston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72794,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65096578,"answer_count":3,"score":10,"last_activity_date":1684766823,"creation_date":1606848088,"question_id":65096577,"body_markdown":"I just setup a new Java project with Tomcat 9 on Ubuntu 18.04.\r\n\r\nHowever, when I start the Tomcat server using the command\r\n\r\n    sudo systemctl restart tomcat\r\n\r\nI get the following error:\r\n\r\n&gt; The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path\r\n\r\nI still can figure out what the issue is.","title":"Tomcat: Native library which allows using OpenSSL was not found","body":"<p>I just setup a new Java project with Tomcat 9 on Ubuntu 18.04.</p>\n<p>However, when I start the Tomcat server using the command</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path</p>\n</blockquote>\n<p>I still can figure out what the issue is.</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriverwait"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1684782675,"post_id":76306346,"comment_id":134564375,"body_markdown":"The stack trace does not appear to have an error message. Either that or this error message is just poorly worded. Are you sure you included the full error message and stack trace in your question?","body":"The stack trace does not appear to have an error message. Either that or this error message is just poorly worded. Are you sure you included the full error message and stack trace in your question?"},{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1684843746,"post_id":76306346,"comment_id":134573676,"body_markdown":"Is your driver null or not? It&#39;s look like you are trying to call a null ojbect.","body":"Is your driver null or not? It&#39;s look like you are trying to call a null ojbect."}],"owner":{"account_id":28654312,"reputation":1,"user_id":21940679,"display_name":"Som Nath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766665,"creation_date":1684759554,"question_id":76306346,"body_markdown":"When I execute the following code:\r\n\r\n    &#39;driver.findElement(By.xpath(&quot;//h5[text()=&#39;Users and Groups Management&#39;]&quot;)).click();&#39;\r\n\r\nI get the following error\r\n\r\n    Element info: {Using=xpath, value=//h5[text()=&#39;Users and Groups Management&#39;]}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\r\n    \tat org.openqa.selenium.By$ByXPath.findElement(By.java:353)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n    \tat Basic.main(Basic.java:23)\r\n    Picked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true\r\n\r\nThe page contains the following lines and I have also tried waiting an appropriate amount of time to execute and also new `WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h5[text()=&#39;Users and Groups Management&#39;]&quot;)).click();`\r\nNothing worked!\r\n\r\n    &lt;div _ngcontent-ncj-c134=&quot;&quot; class=&quot;card-header flex-centrally-aligned border-0&quot;&gt;&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;&lt;/div&gt;\r\n    &lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;\r\n\r\nPlease share your thoughts on how I can proceed on this. Thanks!","title":"sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) error in Selenium","body":"<p>When I execute the following code:</p>\n<pre><code>'driver.findElement(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();'\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Element info: {Using=xpath, value=//h5[text()='Users and Groups Management']}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at Basic.main(Basic.java:23)\nPicked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>The page contains the following lines and I have also tried waiting an appropriate amount of time to execute and also new <code>WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();</code>\nNothing worked!</p>\n<pre><code>&lt;div _ngcontent-ncj-c134=&quot;&quot; class=&quot;card-header flex-centrally-aligned border-0&quot;&gt;&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;&lt;/div&gt;\n&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;\n</code></pre>\n<p>Please share your thoughts on how I can proceed on this. Thanks!</p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684680829,"post_id":76300444,"comment_id":134549107,"body_markdown":"Is `/2.png` a valid resource? Is it in your `resources` folder? Does it work if you use a relative path?","body":"Is <code>&#47;2.png</code> a valid resource? Is it in your <code>resources</code> folder? Does it work if you use a relative path?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684681785,"post_id":76300444,"comment_id":134549233,"body_markdown":"The right idiom is `MyClass.class.getResource(&quot;/foo&quot;)`, not `this.getClass()` (the latter breaks when subclassing). This looks for `/2.png` in the same place your class files are. Clearly, that resource isn&#39;t there. Easy way to debug this: `MyClass.class.getResource(&quot;MyClass.class&quot;)` - print that. It&#39;ll print precisely where its looking. Replace both times I mentioned `MyClass` with your class name, the rest, copy it verbatim.","body":"The right idiom is <code>MyClass.class.getResource(&quot;&#47;foo&quot;)</code>, not <code>this.getClass()</code> (the latter breaks when subclassing). This looks for <code>&#47;2.png</code> in the same place your class files are. Clearly, that resource isn&#39;t there. Easy way to debug this: <code>MyClass.class.getResource(&quot;MyClass.class&quot;)</code> - print that. It&#39;ll print precisely where its looking. Replace both times I mentioned <code>MyClass</code> with your class name, the rest, copy it verbatim."},{"owner":{"account_id":19103389,"reputation":1,"user_id":13951127,"display_name":"papi"},"score":0,"creation_date":1684683648,"post_id":76300444,"comment_id":134549449,"body_markdown":"@knittl No ,i even don&#39;t have a `resources` folder, i tried relative path before ,but it dosen&#39;t work. 2.png in the src forder","body":"@knittl No ,i even don&#39;t have a <code>resources</code> folder, i tried relative path before ,but it dosen&#39;t work. 2.png in the src forder"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684686096,"post_id":76300444,"comment_id":134549774,"body_markdown":"*2.png in the src forder* - it should be in a directory that is on your classpath.","body":"<i>2.png in the src forder</i> - it should be in a directory that is on your classpath."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684695918,"post_id":76300444,"comment_id":134550987,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19103389,"reputation":1,"user_id":13951127,"display_name":"papi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766642,"creation_date":1684680037,"question_id":76300444,"body_markdown":"I got \r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n\tat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1400)\r\n\tat studentsystem.frame.StudentSystemLoginFrame.&lt;init&gt;(StudentSystemLoginFrame.java:121)\r\n\tat studentsystem.run.TestLogin.main(TestLogin.java:7)\r\n```\r\nwhen I&#39;m using `Image img = ImageIO.read(this.getClass().getResource(&quot;/2.png&quot;));`\r\nThe error appeared in StudentSystemLoginFrame. My project directory looks like this: \r\n\r\n[![screenshot][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/EUKQI.png","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null! when using ImageIO.read(this.getClass().getResource()","body":"<p>I got</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1400)\n    at studentsystem.frame.StudentSystemLoginFrame.&lt;init&gt;(StudentSystemLoginFrame.java:121)\n    at studentsystem.run.TestLogin.main(TestLogin.java:7)\n</code></pre>\n<p>when I'm using <code>Image img = ImageIO.read(this.getClass().getResource(&quot;/2.png&quot;));</code>\nThe error appeared in StudentSystemLoginFrame. My project directory looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/EUKQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EUKQI.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","input","switch-statement","case"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684766382,"post_id":76307297,"comment_id":134560900,"body_markdown":"You have to use a library like jcurses to avoid echoing user input. Or use AWT, Swing or Java FX (which would be GUI, not TUI).","body":"You have to use a library like jcurses to avoid echoing user input. Or use AWT, Swing or Java FX (which would be GUI, not TUI)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1684766408,"post_id":76307297,"comment_id":134560906,"body_markdown":"You sort-of can&#39;t, because of the way that the console works. The only simple thing I can suggest is to pretend the user is [entering a &quot;password&quot;](https://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java).","body":"You sort-of can&#39;t, because of the way that the console works. The only simple thing I can suggest is to pretend the user is <a href=\"https://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java\">entering a &quot;password&quot;</a>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1684766656,"post_id":76307297,"comment_id":134560953,"body_markdown":"Another option: [How to clear the console using Java?](https://stackoverflow.com/q/2979383)","body":"Another option: <a href=\"https://stackoverflow.com/q/2979383\">How to clear the console using Java?</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1684766697,"post_id":76307297,"comment_id":134560964,"body_markdown":"Does this answer your question? [Hide input on command line](https://stackoverflow.com/questions/10819469/hide-input-on-command-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10819469/hide-input-on-command-line\">Hide input on command line</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684810483,"post_id":76307297,"comment_id":134567603,"body_markdown":"As a note, it&#39;s not printing the value.  That is the value the user has typed.  If you&#39;re looking to prevent the display of the characters the user is typing, you can use a `System.console()` instance.","body":"As a note, it&#39;s not printing the value.  That is the value the user has typed.  If you&#39;re looking to prevent the display of the characters the user is typing, you can use a <code>System.console()</code> instance."}],"owner":{"account_id":28655064,"reputation":1,"user_id":21941310,"display_name":"moh470"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766544,"creation_date":1684766235,"question_id":76307297,"body_markdown":"How do I prevent my code from printing user input?\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Days {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner ent = new Scanner(System.in);\r\n        int day;\r\n        System.out.println(&quot;Entrez un nombre d&#39;un jour du semaine&quot;);\r\n        day = ent.nextInt();\r\n        switch (day) {\r\n        case 1:\r\n            System.out.println(&quot;Dimanche&quot;);\r\n            break;\r\n        case 2:\r\n            System.out.println(&quot;Lundi&quot;);\r\n            break;\r\n        case 3:\r\n            System.out.println(&quot;Mardi&quot;);\r\n            break;\r\n        case 4:\r\n            System.out.println(&quot;Mercredi&quot;);\r\n            break;\r\n        case 5:\r\n            System.out.println(&quot;Jeudi&quot;);\r\n            break;\r\n        case 6:\r\n            System.out.println(&quot;Vendredi&quot;);\r\n            break;\r\n        case 7:\r\n            System.out.println(&quot;Samedi&quot;);\r\n            break;\r\n\r\n        default:\r\n            System.out.println(&quot;Nombre donn&#233;e invalide&quot;);\r\n            break;\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nI&#39;m trying a simple program that shows the days of the week (dimanche, lundi, mardi, etc are the days but in french) it works fine but it prints user input before printing the actual day like if the input is 3 (mardi) then it prints this in the console: \r\n\r\n```\r\n3 \r\nmardi\r\n```\r\n\r\nHow do I prevent it from printing the input? ","title":"Java switch case: how to avoid printing user input alongside desired output?","body":"<p>How do I prevent my code from printing user input?</p>\n<pre><code>import java.util.Scanner;\npublic class Days {\n    public static void main(String[] args) {\n\n        Scanner ent = new Scanner(System.in);\n        int day;\n        System.out.println(&quot;Entrez un nombre d'un jour du semaine&quot;);\n        day = ent.nextInt();\n        switch (day) {\n        case 1:\n            System.out.println(&quot;Dimanche&quot;);\n            break;\n        case 2:\n            System.out.println(&quot;Lundi&quot;);\n            break;\n        case 3:\n            System.out.println(&quot;Mardi&quot;);\n            break;\n        case 4:\n            System.out.println(&quot;Mercredi&quot;);\n            break;\n        case 5:\n            System.out.println(&quot;Jeudi&quot;);\n            break;\n        case 6:\n            System.out.println(&quot;Vendredi&quot;);\n            break;\n        case 7:\n            System.out.println(&quot;Samedi&quot;);\n            break;\n\n        default:\n            System.out.println(&quot;Nombre donnée invalide&quot;);\n            break;\n\n        }\n\n    }\n}\n</code></pre>\n<p>I'm trying a simple program that shows the days of the week (dimanche, lundi, mardi, etc are the days but in french) it works fine but it prints user input before printing the actual day like if the input is 3 (mardi) then it prints this in the console:</p>\n<pre><code>3 \nmardi\n</code></pre>\n<p>How do I prevent it from printing the input?</p>\n"},{"tags":["java","maven","playwright","maven-surefire-plugin"],"owner":{"account_id":17269988,"reputation":1,"user_id":12505922,"display_name":"DDtesttest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684766522,"creation_date":1684766522,"question_id":76307335,"body_markdown":"I&#39;m testing using Playwright trying to get the maven-surefire-plugin to re-test failed tests and maven-cucumber-reporting plugin to produce a report after all testing is carried out when ran from command line.\r\n\r\nI can get the cucumber report to create, but i cannot get test to re-run on a fail.\r\n\r\nI have tried re-ordering the POM file and trying to get both plugins to run on the verify command and tried various configurations within the file. See POM below\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;maven&lt;/executable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;execution&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;projectName&gt;Supersonic Report&lt;/projectName&gt;\r\n                            &lt;skip&gt;false&lt;/skip&gt;\r\n                            &lt;outputDirectory&gt;../Reports/Supersonic/TestReports/&lt;/outputDirectory&gt;\r\n                            &lt;inputDirectory&gt;../Reports/Supersonic/JsonOutput/&lt;/inputDirectory&gt;\r\n                            &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\r\n                            &lt;jsonFiles&gt;\r\n                                &lt;param&gt;**/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;\r\n                            &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\r\n                            &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\r\n                            &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI have tried moving the surefire and cucumber reporting executions between plugin management and the plugin section at the end but if the cucumber-reporting plugin is not in the last section it doesn&#39;t create a report. \r\n\r\nAny ideas on how to retest fails using these plugins ?","title":"How do i configure a playwright test in java to allow retest fails in surefire and produce a maven-cucumber-reporting report?","body":"<p>I'm testing using Playwright trying to get the maven-surefire-plugin to re-test failed tests and maven-cucumber-reporting plugin to produce a report after all testing is carried out when ran from command line.</p>\n<p>I can get the cucumber report to create, but i cannot get test to re-run on a fail.</p>\n<p>I have tried re-ordering the POM file and trying to get both plugins to run on the verify command and tried various configurations within the file. See POM below</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;maven&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;16&lt;/source&gt;\n                &lt;target&gt;16&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;Supersonic Report&lt;/projectName&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                        &lt;outputDirectory&gt;../Reports/Supersonic/TestReports/&lt;/outputDirectory&gt;\n                        &lt;inputDirectory&gt;../Reports/Supersonic/JsonOutput/&lt;/inputDirectory&gt;\n                        &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;param&gt;**/*.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                        &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\n                        &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n                        &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I have tried moving the surefire and cucumber reporting executions between plugin management and the plugin section at the end but if the cucumber-reporting plugin is not in the last section it doesn't create a report.</p>\n<p>Any ideas on how to retest fails using these plugins ?</p>\n"},{"tags":["java","eclipse","maven","jersey"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1609695541,"post_id":65552858,"comment_id":115897330,"body_markdown":"What action are you performing that isn&#39;t working? Can you copy the messages from the Console here, as text, instead of just posting a screenshot? How are your rest handlers set up?","body":"What action are you performing that isn&#39;t working? Can you copy the messages from the Console here, as text, instead of just posting a screenshot? How are your rest handlers set up?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1609695649,"post_id":65552858,"comment_id":115897366,"body_markdown":"Does the AlienResource class need to be saved?","body":"Does the AlienResource class need to be saved?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1609699260,"post_id":65552858,"comment_id":115898473,"body_markdown":"Can you show your dependencies in your pom.xml?","body":"Can you show your dependencies in your pom.xml?"},{"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"score":0,"creation_date":1609706115,"post_id":65552858,"comment_id":115900579,"body_markdown":"I&#39;m not sure but I think `MessageBodyWriter not found` error can occur when type of response you are sending is not what expected. Please check your configuration of accepts and response type of request. And as I said earlier, this is just a guess. Please add your code and stack trace for proper diagnosis of problem.","body":"I&#39;m not sure but I think <code>MessageBodyWriter not found</code> error can occur when type of response you are sending is not what expected. Please check your configuration of accepts and response type of request. And as I said earlier, this is just a guess. Please add your code and stack trace for proper diagnosis of problem."},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609725665,"post_id":65552858,"comment_id":115904879,"body_markdown":"Hi Paul.. Here is pom.xml codes:","body":"Hi Paul.. Here is pom.xml codes:"},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609726206,"post_id":65552858,"comment_id":115904958,"body_markdown":"Hi Paul..Dependencies are: jersey-bom, jersey-container-servlet-core, jersey-hk2, jersey-media-json-binding,","body":"Hi Paul..Dependencies are: jersey-bom, jersey-container-servlet-core, jersey-hk2, jersey-media-json-binding,"},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609726622,"post_id":65552858,"comment_id":115905024,"body_markdown":"Hi nitind.. Here is console message: getAlien() called....\nJan 04, 2021 7:43:39 AM org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\nSEVERE: MessageBodyWriter not found for media type=application/xml, type=class com.spiderscrawl.demorest.Alien, genericType=class com.spiderscrawl.demorest.Alien.  ........................ Here in above screen shot as you can see that i am trying to get xml response on browser and on conside println command shows getAlien() message called....","body":"Hi nitind.. Here is console message: getAlien() called.... Jan 04, 2021 7:43:39 AM org.glassfish.jersey.message.internal.WriterInterceptorExecu&zwnj;&#8203;tor$TerminalWriterIn&zwnj;&#8203;terceptor aroundWriteTo SEVERE: MessageBodyWriter not found for media type=application/xml, type=class com.spiderscrawl.demorest.Alien, genericType=class com.spiderscrawl.demorest.Alien.  ........................ Here in above screen shot as you can see that i am trying to get xml response on browser and on conside println command shows getAlien() message called...."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1609736814,"post_id":65552858,"comment_id":115906597,"body_markdown":"I would switch jersey-media-json-binding for jersey-media-json-jackson.","body":"I would switch jersey-media-json-binding for jersey-media-json-jackson."},{"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"score":0,"creation_date":1609737539,"post_id":65552858,"comment_id":115906727,"body_markdown":"Thanks Paul, I instead tried for MediaType.Application_JSON and it works rather XML...Thanks anyway...you helped a lot.....","body":"Thanks Paul, I instead tried for MediaType.Application_JSON and it works rather XML...Thanks anyway...you helped a lot....."}],"answers":[{"tags":[],"owner":{"account_id":16139777,"reputation":39,"user_id":11651253,"display_name":"ashish bindra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638011075,"creation_date":1638011075,"answer_id":70134186,"question_id":65552858,"body_markdown":"use these dependency\r\n   \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<p>use these dependency</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23641442,"reputation":1,"user_id":17671626,"display_name":"samiyudeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639472286,"creation_date":1639464966,"answer_id":70344799,"question_id":65552858,"body_markdown":"    import jakarta.xml.bind.annotation.*;\r\n\r\nImport this `package`, it will work with the above maven dependencies from Ashish bindra.\r\n\r\nNote: Hope you are working with Telusko tutorials, I tested with that and it is working fine.","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<pre><code>import jakarta.xml.bind.annotation.*;\n</code></pre>\n<p>Import this <code>package</code>, it will work with the above maven dependencies from Ashish bindra.</p>\n<p>Note: Hope you are working with Telusko tutorials, I tested with that and it is working fine.</p>\n"}],"owner":{"account_id":17200324,"reputation":19,"user_id":12452200,"display_name":"Rohin Thakur"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3297,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684765843,"creation_date":1609695115,"question_id":65552858,"body_markdown":"I am working on Maven-jersey-Tomcat for rest-api development. but or xml type annotation @XmlRootElement or dependency javax.bind.annotation.XmlRootElement is not working...\r\nI have also attached screen shot as well[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FPLVy.png","title":"is jakarta.xml.bind.annotation.XmlRootElement available?","body":"<p>I am working on Maven-jersey-Tomcat for rest-api development. but or xml type annotation @XmlRootElement or dependency javax.bind.annotation.XmlRootElement is not working...\nI have also attached screen shot as well<a href=\"https://i.stack.imgur.com/FPLVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPLVy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1684765209,"post_id":76307062,"comment_id":134560562,"body_markdown":"Check out [this](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies) chapter in the spring docs. Specifically self-invocation.","body":"Check out <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">this</a> chapter in the spring docs. Specifically self-invocation."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684765271,"creation_date":1684765271,"answer_id":76307167,"question_id":76307062,"body_markdown":"`@Retryable` only works for methods called from another bean; internal calls within the same bean bypass the retry interceptor.","title":"Update spring boot retry maxAttempts at runtime","body":"<p><code>@Retryable</code> only works for methods called from another bean; internal calls within the same bean bypass the retry interceptor.</p>\n"}],"owner":{"account_id":28547542,"reputation":11,"user_id":21852789,"display_name":"dev_pradeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765271,"creation_date":1684764567,"question_id":76307062,"body_markdown":"I need to use spring boot retry logic in my code. My retry method is getting call from multiple method, so I want to run retry logic for all caller method but retry logic is running only for first caller method and for later caller method, it is running only for 1 time in case of exception too.\r\n\r\n```\r\nsomeMethod1() {\r\n    retry();\r\n}\r\nsomeMethod2() {\r\n    retry();\r\n}\r\nsomeMethod3() {\r\n    retry();\r\n}\r\n\r\n@Retryable(maxAttempts = 2, value = SomeException.class)\r\npublic void retry() {\r\n    doSomething;\r\n}\r\n```","title":"Update spring boot retry maxAttempts at runtime","body":"<p>I need to use spring boot retry logic in my code. My retry method is getting call from multiple method, so I want to run retry logic for all caller method but retry logic is running only for first caller method and for later caller method, it is running only for 1 time in case of exception too.</p>\n<pre><code>someMethod1() {\n    retry();\n}\nsomeMethod2() {\n    retry();\n}\nsomeMethod3() {\n    retry();\n}\n\n@Retryable(maxAttempts = 2, value = SomeException.class)\npublic void retry() {\n    doSomething;\n}\n</code></pre>\n"},{"tags":["java","truststore"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1684765443,"post_id":76307162,"comment_id":134560641,"body_markdown":"Seems like you could have tested importing a cert with 2 different aliases almost as fast as typing out the question, no?","body":"Seems like you could have tested importing a cert with 2 different aliases almost as fast as typing out the question, no?"}],"owner":{"account_id":26423227,"reputation":11,"user_id":20070608,"display_name":"abdul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684765231,"creation_date":1684765231,"question_id":76307162,"body_markdown":"Isit OK to have a same certificate with different alias within java truststore?\r\nissuer of the certificate and serial no. also same.\r\n\r\nex:\r\n\r\nAlias name: cert1\r\nOwner: CN=xxxxxxx\r\nIssuer: CN=yyyyyy\r\n\r\n\r\nAlias name: cert2\r\nOwner: CN=xxxxxxx\r\nIssuer: CN=yyyyyy\r\n\r\nJust wanted to know if this is OK.","title":"Can we have same cert with different alias in Java trustore?","body":"<p>Isit OK to have a same certificate with different alias within java truststore?\nissuer of the certificate and serial no. also same.</p>\n<p>ex:</p>\n<p>Alias name: cert1\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Alias name: cert2\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Just wanted to know if this is OK.</p>\n"},{"tags":["java","pom.xml","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1684664471,"post_id":76299372,"comment_id":134547207,"body_markdown":"What is the id value here","body":"What is the id value here"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1684669904,"post_id":76299372,"comment_id":134547849,"body_markdown":"The ID is just a Long","body":"The ID is just a Long"}],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684665838,"creation_date":1684665838,"answer_id":76299473,"question_id":76299372,"body_markdown":"Check your persistence configuration, if it encompasses package and class of yours &#39;Customer&#39;.","title":"java.lang.IllegalArgumentException: Not an entity","body":"<p>Check your persistence configuration, if it encompasses package and class of yours 'Customer'.</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765180,"creation_date":1684664173,"question_id":76299372,"body_markdown":"I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called &#39;Customer&#39; with an according Customer class which is annotated as an @Entity:\r\n\r\n```\r\npackage org.agoncal.quarkus.jpa;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\nimport java.time.Instant;\r\n\r\n@Entity\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    public String firstName;\r\n...\r\n```\r\n\r\nIn another module &#39;vintage-store&#39;, the customerRepository is created andl ooks like this: \r\n\r\n```\r\npackage org.agoncal.quarkus.panache.repository;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\r\nimport org.agoncal.quarkus.jpa.Customer;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n@ApplicationScoped\r\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\r\n```\r\nNow, when I try to run `mvn clean install` on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:\r\n\r\n```\r\npackage org.agoncal.quarkus.panache.repository;\r\n\r\nimport io.quarkus.test.TestTransaction;\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.agoncal.quarkus.jpa.Customer;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.inject.Inject;\r\nimport java.sql.SQLException;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\n@QuarkusTest\r\npublic class CustomerRepositoryTest {\r\n    @Inject\r\n    CustomerRepository repository;\r\n\r\n    @Test\r\n    @TestTransaction\r\n    public void shouldCreateAndFindCustomer() throws SQLException {\r\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\r\n\r\n        repository.persist(customer);\r\n        assertNotNull(customer.getId());\r\n\r\n        Customer foundCustomer = repository.findById(customer.getId());\r\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith the following error message:\r\n```\r\njava.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\r\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\r\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\r\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\r\n```\r\n\r\nI have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\r\nAll the code can be found om github: https://github.com/Tom-De-Backer/agoncal-panache\r\n\r\n","title":"java.lang.IllegalArgumentException: Not an entity","body":"<p>I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called 'Customer' with an according Customer class which is annotated as an @Entity:</p>\n<pre><code>package org.agoncal.quarkus.jpa;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\nimport java.time.Instant;\n\n@Entity\npublic class Customer {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    public String firstName;\n...\n</code></pre>\n<p>In another module 'vintage-store', the customerRepository is created andl ooks like this:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\nimport org.agoncal.quarkus.jpa.Customer;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\n</code></pre>\n<p>Now, when I try to run <code>mvn clean install</code> on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.test.TestTransaction;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.agoncal.quarkus.jpa.Customer;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\nimport java.sql.SQLException;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@QuarkusTest\npublic class CustomerRepositoryTest {\n    @Inject\n    CustomerRepository repository;\n\n    @Test\n    @TestTransaction\n    public void shouldCreateAndFindCustomer() throws SQLException {\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\n\n        repository.persist(customer);\n        assertNotNull(customer.getId());\n\n        Customer foundCustomer = repository.findById(customer.getId());\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>With the following error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\n</code></pre>\n<p>I have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\nAll the code can be found om github: <a href=\"https://github.com/Tom-De-Backer/agoncal-panache\" rel=\"nofollow noreferrer\">https://github.com/Tom-De-Backer/agoncal-panache</a></p>\n"},{"tags":["java","jena"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1684774300,"post_id":76306895,"comment_id":134562669,"body_markdown":"Maybe this :: https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro","body":"Maybe this :: <a href=\"https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro\" title=\"uncompilable source code erroneous tree type error and cannot find symbol erro\">stackoverflow.com/questions/35662679/&hellip;</a>"},{"owner":{"account_id":20782878,"reputation":894,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1685024250,"post_id":76306895,"comment_id":134605932,"body_markdown":"Does this answer your question? [Uncompilable source code - Erroneous tree type error and cannot find symbol error](https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro\">Uncompilable source code - Erroneous tree type error and cannot find symbol error</a>"}],"owner":{"account_id":28654667,"reputation":1,"user_id":21940966,"display_name":"missa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684765169,"creation_date":1684763479,"question_id":76306895,"body_markdown":"There are no errors, but during compilation, it shows &quot;0000000000&quot; and the error message &quot;Uncompilable source code - Erroneous tree type: org.apache.jena.ontology.OntModel&quot;. I&#39;m using JDK 17 and Jena 4.8.0. What could be the problem?\r\n\r\n \r\n```\r\nimport org.apache.jena.ontology.*;\r\nimport org.apache.jena.rdf.model.*;\r\nimport javax.swing.*;\r\nimport java.awt.Color;\r\n\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        System.out.println(&quot;000000000000000&quot;);\r\n     OntModel model= ModelFactory.createOntologyModel();\r\n    System.out.println(&quot;111111111&quot;);\r\n         String chemin=&quot;D:\\\\test.owl&quot;;\r\n try {\r\n    model.read(chemin);\r\n    System.out.println(&quot;Ontologie charg&#233;e avec succ&#232;s.&quot;);\r\n} catch (Exception e) {\r\n    System.err.println(&quot;Erreur lors de la lecture de l&#39;ontologie : &quot; + e.getMessage());\r\n    e.printStackTrace();\r\n}\r\n   System.out.println(&quot;2222222222&quot;);\r\n        int Nb=model.listClasses().toList().size();\r\n         System.out.println(&quot;33333333333&quot;);\r\n      System.out.println( &quot;Nombre de classes dans l&#39;ontologie : &quot; + Nb );\r\n    \r\n    }\r\n```\r\n\r\n\r\n","title":"What could cause &#39;Uncompilable source code - Erroneous tree type&#39; error when using Jena OntModel in JDK 17?","body":"<p>There are no errors, but during compilation, it shows &quot;0000000000&quot; and the error message &quot;Uncompilable source code - Erroneous tree type: org.apache.jena.ontology.OntModel&quot;. I'm using JDK 17 and Jena 4.8.0. What could be the problem?</p>\n<pre><code>import org.apache.jena.ontology.*;\nimport org.apache.jena.rdf.model.*;\nimport javax.swing.*;\nimport java.awt.Color;\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        System.out.println(&quot;000000000000000&quot;);\n     OntModel model= ModelFactory.createOntologyModel();\n    System.out.println(&quot;111111111&quot;);\n         String chemin=&quot;D:\\\\test.owl&quot;;\n try {\n    model.read(chemin);\n    System.out.println(&quot;Ontologie chargée avec succès.&quot;);\n} catch (Exception e) {\n    System.err.println(&quot;Erreur lors de la lecture de l'ontologie : &quot; + e.getMessage());\n    e.printStackTrace();\n}\n   System.out.println(&quot;2222222222&quot;);\n        int Nb=model.listClasses().toList().size();\n         System.out.println(&quot;33333333333&quot;);\n      System.out.println( &quot;Nombre de classes dans l'ontologie : &quot; + Nb );\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":28651296,"reputation":31,"user_id":21938222,"display_name":"Srigadha Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758077,"creation_date":1684758077,"answer_id":76306147,"question_id":76305111,"body_markdown":"As mentioned [here][1], the ack will be sent to the broker only after the message is consumed by the consumer. &lt;br&gt;\r\n1. Ack will be sent after the listenForMessage method is completely executed.\r\n&lt;br&gt;\r\n2. Since the exception is not related to the failure of working environment, the kafka consumer marks the message as consumed and sends the ACK to the broker.\r\n\r\n  [1]: https://kafka.apache.org/documentation/#design_consumerposition","title":"What is the default kafka ack policy for @KafkaListener?","body":"<p>As mentioned <a href=\"https://kafka.apache.org/documentation/#design_consumerposition\" rel=\"nofollow noreferrer\">here</a>, the ack will be sent to the broker only after the message is consumed by the consumer. <br></p>\n<ol>\n<li>Ack will be sent after the listenForMessage method is completely executed.\n<br></li>\n<li>Since the exception is not related to the failure of working environment, the kafka consumer marks the message as consumed and sends the ACK to the broker.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684765148,"creation_date":1684765148,"answer_id":76307148,"question_id":76305111,"body_markdown":"&gt;Will be ack sent even in case of exception ?\r\n\r\nIt depends on the error handler.\r\n\r\nBy default, the record causing the exception will be retried up to 9 times before being logged and ack&#39;d. You can configure the retry behavior, and add a custom recover to take some action when retries are exhausted (or use the provided `DeadLetterPublishingRecoverer`. You can also configure which exceptions are retryable, and which are not.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling","title":"What is the default kafka ack policy for @KafkaListener?","body":"<blockquote>\n<p>Will be ack sent even in case of exception ?</p>\n</blockquote>\n<p>It depends on the error handler.</p>\n<p>By default, the record causing the exception will be retried up to 9 times before being logged and ack'd. You can configure the retry behavior, and add a custom recover to take some action when retries are exhausted (or use the provided <code>DeadLetterPublishingRecoverer</code>. You can also configure which exceptions are retryable, and which are not.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76307148,"answer_count":2,"score":0,"last_activity_date":1684765148,"creation_date":1684750259,"question_id":76305111,"body_markdown":"Let&#39;s say I have such a listener and no custom kafka configuration:\r\n\r\n    @KafkaListener(topics = &quot;${my_topic_listen}&quot;, autoStartup = &quot;true&quot;)\r\n    public void listenForMessage(String message) {\r\n        log.info(&quot;new message from kafka topic received: {}&quot;, message);\r\n        if(message.length() &gt;1000) {\r\n           throw new RuntimeException(&quot;TooLongMessage&quot;);\r\n        }\r\n        log.info(message is checked);\r\n    }\r\n\r\n1. Will ack be sent before \r\n\r\n    log.info(&quot;new message from kafka topic received: {}&quot;, message);\r\n\r\nis called ?\r\n\r\n\r\n2. if answer for the first question is &quot;No&quot;. Will be ack sent even in case of exception ?\r\n\r\n","title":"What is the default kafka ack policy for @KafkaListener?","body":"<p>Let's say I have such a listener and no custom kafka configuration:</p>\n<pre><code>@KafkaListener(topics = &quot;${my_topic_listen}&quot;, autoStartup = &quot;true&quot;)\npublic void listenForMessage(String message) {\n    log.info(&quot;new message from kafka topic received: {}&quot;, message);\n    if(message.length() &gt;1000) {\n       throw new RuntimeException(&quot;TooLongMessage&quot;);\n    }\n    log.info(message is checked);\n}\n</code></pre>\n<ol>\n<li><p>Will ack be sent before</p>\n<p>log.info(&quot;new message from kafka topic received: {}&quot;, message);</p>\n</li>\n</ol>\n<p>is called ?</p>\n<ol start=\"2\">\n<li>if answer for the first question is &quot;No&quot;. Will be ack sent even in case of exception ?</li>\n</ol>\n"},{"tags":["java","multithreading","sockets","inputstream","outputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684765452,"post_id":76306912,"comment_id":134560643,"body_markdown":"Using a Selector (answer below) is the right answer.  It&#39;s how basically all servers on the internet work.","body":"Using a Selector (answer below) is the right answer.  It&#39;s how basically all servers on the internet work."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684765089,"creation_date":1684765089,"answer_id":76307134,"question_id":76306912,"body_markdown":"The normal pattern in Java is to make a thread per client. One thread can&#39;t wait for more than one InputStream at the same time.\r\n\r\nIf you want to wait for more than one thing on the same thread, you can &quot;upgrade&quot; to NIO. Then you can create a [`Selector`](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html), [register](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectableChannel.html#register-java.nio.channels.Selector-int-) your channels (streams - you have to use `SocketChannel` instead of `InputStream`/`OutputStream`) with the selector, and [wait](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#select--) for one or more to have data, all on one thread. The selector also has a [`wakeup`](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#wakeup--) method which causes it to stop waiting immediately, in case you want it to stop waiting for a reason that has nothing to do with channels.","title":"How to make a Thread in Java wait for two different inputStreams to change?","body":"<p>The normal pattern in Java is to make a thread per client. One thread can't wait for more than one InputStream at the same time.</p>\n<p>If you want to wait for more than one thing on the same thread, you can &quot;upgrade&quot; to NIO. Then you can create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html\" rel=\"nofollow noreferrer\"><code>Selector</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectableChannel.html#register-java.nio.channels.Selector-int-\" rel=\"nofollow noreferrer\">register</a> your channels (streams - you have to use <code>SocketChannel</code> instead of <code>InputStream</code>/<code>OutputStream</code>) with the selector, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#select--\" rel=\"nofollow noreferrer\">wait</a> for one or more to have data, all on one thread. The selector also has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#wakeup--\" rel=\"nofollow noreferrer\"><code>wakeup</code></a> method which causes it to stop waiting immediately, in case you want it to stop waiting for a reason that has nothing to do with channels.</p>\n"}],"owner":{"account_id":24667141,"reputation":21,"user_id":18562600,"display_name":"Raul Salgado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684765089,"creation_date":1684763597,"question_id":76306912,"body_markdown":"I am creating a program where there is a Server and many Clients. When a client connects to the server a thread is created to manage that client. Whenever a client sends a message the thread receives this message and sends it to the rest of threads. When a thread receives a message from another thread sends it to its client. \r\n\r\nThe problem I am having is that for this purpose one thread needs to wait for two different conditions at the same time:\r\n1. A client sends a message\r\n2. Another thread sends a message to that thread\r\n\r\nThe code I have right now is:\r\n```\r\nbyte[] buffer = new byte[1024];\r\nint bytesRead = inputStream.read(buffer);\r\nsynchronized (otherclientSockets) {\r\n  for (Socket otherclientSocket : otherclientSockets) {\r\n    if (!clientSocket.equals(otherclientSocket)) {\r\n      otherclientSocket.getOutputStream().write(buffer, 0, bytesRead);\r\n    }\r\n  }\r\n}\r\n```\r\nRight now when a thread receives the message from the client it resends the message to the rest of clients. How can I change this in order to work as described before?\r\n\r\nThank you :)","title":"How to make a Thread in Java wait for two different inputStreams to change?","body":"<p>I am creating a program where there is a Server and many Clients. When a client connects to the server a thread is created to manage that client. Whenever a client sends a message the thread receives this message and sends it to the rest of threads. When a thread receives a message from another thread sends it to its client.</p>\n<p>The problem I am having is that for this purpose one thread needs to wait for two different conditions at the same time:</p>\n<ol>\n<li>A client sends a message</li>\n<li>Another thread sends a message to that thread</li>\n</ol>\n<p>The code I have right now is:</p>\n<pre><code>byte[] buffer = new byte[1024];\nint bytesRead = inputStream.read(buffer);\nsynchronized (otherclientSockets) {\n  for (Socket otherclientSocket : otherclientSockets) {\n    if (!clientSocket.equals(otherclientSocket)) {\n      otherclientSocket.getOutputStream().write(buffer, 0, bytesRead);\n    }\n  }\n}\n</code></pre>\n<p>Right now when a thread receives the message from the client it resends the message to the rest of clients. How can I change this in order to work as described before?</p>\n<p>Thank you :)</p>\n"},{"tags":["java","android","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1684770246,"post_id":76307125,"comment_id":134561768,"body_markdown":"It should be straightforward with CameraX. Is there a reason you don&#39;t want to use CameraX?","body":"It should be straightforward with CameraX. Is there a reason you don&#39;t want to use CameraX?"},{"owner":{"account_id":337128,"reputation":447,"user_id":665205,"accept_rate":54,"display_name":"leonidas79"},"score":0,"creation_date":1684786065,"post_id":76307125,"comment_id":134564980,"body_markdown":"the code i am using is working fine (face detection with graphics overlay) , with CameraX the overlay is not fit over face , so i have to use the Camera2 api","body":"the code i am using is working fine (face detection with graphics overlay) , with CameraX the overlay is not fit over face , so i have to use the Camera2 api"},{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1684788980,"post_id":76307125,"comment_id":134565488,"body_markdown":"For camera2 implementation,  you can check out the camera2 code sample: https://github.com/android/camera-samples/tree/main/Camera2Basic. However just FYI, it&#39;s very difficult to make your app compatible across all devices with camera2. That&#39;s why Google introduced CameraX.","body":"For camera2 implementation,  you can check out the camera2 code sample: <a href=\"https://github.com/android/camera-samples/tree/main/Camera2Basic\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/tree/main/Camera2Basic</a>. However just FYI, it&#39;s very difficult to make your app compatible across all devices with camera2. That&#39;s why Google introduced CameraX."}],"owner":{"account_id":337128,"reputation":447,"user_id":665205,"accept_rate":54,"display_name":"leonidas79"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684765037,"creation_date":1684765037,"question_id":76307125,"body_markdown":"I am trying to use &quot;camera preview&quot; and &quot;face detection&quot; using Camera2 and MLKIT face-detection , the preview and face detection works fine , but i cannot take a picture while showing the preview.\r\n\r\nLivePreviewActivity :\r\n\r\n    public final class LivePreviewActivity extends AppCompatActivity implements OnRequestPermissionsResultCallback, OnItemSelectedListener, CompoundButton.OnCheckedChangeListener {\r\n    private static final String FACE_DETECTION = &quot;Face Detection&quot;;\r\n\r\n    private static final String TAG = &quot;LivePreviewActivity&quot;;\r\n    private static final int PERMISSION_REQUESTS = 1;\r\n\r\n    private CameraSource cameraSource = null;\r\n    private CameraSourcePreview preview;\r\n    private GraphicOverlay graphicOverlay;\r\n    private String selectedModel = FACE_DETECTION;\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n    Button takePic;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Log.d(TAG, &quot;onCreate&quot;);\r\n\r\n        setContentView(R.layout.activity_vision_live_preview);\r\n\r\n        preview = findViewById(R.id.preview_view);\r\n        if (preview == null) {\r\n            Log.d(TAG, &quot;Preview is null&quot;);\r\n        }\r\n        graphicOverlay = findViewById(R.id.graphic_overlay);\r\n        if (graphicOverlay == null) {\r\n            Log.d(TAG, &quot;graphicOverlay is null&quot;);\r\n        }\r\n\r\n        ToggleButton facingSwitch = findViewById(R.id.facing_switch);\r\n        facingSwitch.setOnCheckedChangeListener(this);\r\n\r\n        takePic = findViewById(R.id.take_pic);\r\n\r\n        ImageView settingsButton = findViewById(R.id.settings_button);\r\n        settingsButton.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\r\n            intent.putExtra(SettingsActivity.EXTRA_LAUNCH_SOURCE, SettingsActivity.LaunchSource.LIVE_PREVIEW);\r\n            startActivity(intent);\r\n        });\r\n\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n        } else {\r\n            getRuntimePermissions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public synchronized void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\r\n        // An item was selected. You can retrieve the selected item using\r\n        // parent.getItemAtPosition(pos)\r\n        selectedModel = parent.getItemAtPosition(pos).toString();\r\n        Log.d(TAG, &quot;Selected model: &quot; + selectedModel);\r\n        preview.stop();\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n            startCameraSource();\r\n        } else {\r\n            getRuntimePermissions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n        // Do nothing.\r\n    }\r\n\r\n    @Override\r\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n        Log.d(TAG, &quot;Set facing&quot;);\r\n        if (cameraSource != null) {\r\n            if (isChecked) {\r\n                cameraSource.setFacing(CameraSource.CAMERA_FACING_FRONT);\r\n            } else {\r\n                cameraSource.setFacing(CameraSource.CAMERA_FACING_BACK);\r\n            }\r\n        }\r\n        preview.stop();\r\n        startCameraSource();\r\n    }\r\n\r\n    private void createCameraSource(String model) {\r\n        // If there&#39;s no existing cameraSource, create one.\r\n        if (cameraSource == null) {\r\n            cameraSource = new CameraSource(this, graphicOverlay);\r\n        }\r\n\r\n        try {\r\n            switch (model) {\r\n                case FACE_DETECTION:\r\n                    Log.i(TAG, &quot;Using Face Detector Processor&quot;);\r\n                    FaceDetectorOptions faceDetectorOptions = PreferenceUtils.getFaceDetectorOptionsForLivePreview(this);\r\n                    cameraSource.setMachineLearningFrameProcessor(new FaceDetectorProcessor(this, faceDetectorOptions));\r\n                    break;\r\n                default:\r\n                    Log.e(TAG, &quot;Unknown model: &quot; + model);\r\n            }\r\n        } catch (RuntimeException e) {\r\n            Log.e(TAG, &quot;Can not create image processor: &quot; + model, e);\r\n            Toast.makeText(getApplicationContext(), &quot;Can not create image processor: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts or restarts the camera source, if it exists. If the camera source doesn&#39;t exist yet\r\n     * (e.g., because onResume was called before the camera source was created), this will be called\r\n     * again when the camera source is created.\r\n     */\r\n    private void startCameraSource() {\r\n        if (cameraSource != null) {\r\n            try {\r\n                if (preview == null) {\r\n                    Log.d(TAG, &quot;resume: Preview is null&quot;);\r\n                }\r\n                if (graphicOverlay == null) {\r\n                    Log.d(TAG, &quot;resume: graphOverlay is null&quot;);\r\n                }\r\n\r\n                preview.start(cameraSource, graphicOverlay);\r\n\r\n               \r\n                final ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n                cameraProviderFuture.addListener(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                            bindPreview(cameraProvider);\r\n\r\n                        } catch (ExecutionException | InterruptedException e) {\r\n                            // No errors need to be handled for this Future.\r\n                            // This should never be reached.\r\n                        }\r\n                    }\r\n                }, ContextCompat.getMainExecutor(this));\r\n\r\n\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\r\n                cameraSource.release();\r\n                cameraSource = null;\r\n            } catch (Exception e){\r\n                Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\r\n                cameraSource.release();\r\n                cameraSource = null;\r\n            }\r\n        }\r\n    }\r\n    void bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\r\n        cameraProvider.unbindAll();\r\n        Preview preview = new Preview.Builder().build();\r\n        ImageCapture.Builder builder = new ImageCapture.Builder();\r\n        final ImageCapture imageCapture = builder.setTargetRotation(this.getWindowManager().getDefaultDisplay().getRotation()).build();\r\n        @SuppressLint(&quot;WrongConstant&quot;) CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(String.valueOf(cameraSource.getCameraFacing()).equals(&quot;0&quot;)?1:0).build();\r\n\r\n        @SuppressLint(&quot;RestrictedApi&quot;) ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();\r\n        MyAnalyzer myAnalyzer = new MyAnalyzer();\r\n        imageAnalysis.setAnalyzer(executor, myAnalyzer);\r\n\r\n        Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageAnalysis, imageCapture);\r\n\r\n        takePic.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\r\n                File file = new File(getBatchDirectoryName(), mDateFormat.format(new Date()) + &quot;.jpg&quot;);\r\n\r\n                ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\r\n                imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(LivePreviewActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException error) {\r\n                        error.printStackTrace();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        Log.d(TAG, &quot;onResume&quot;);\r\n        createCameraSource(selectedModel);\r\n        startCameraSource();\r\n    }\r\n\r\n    /**\r\n     * Stops the camera.\r\n     */\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        preview.stop();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (cameraSource != null) {\r\n            cameraSource.release();\r\n        }\r\n    }\r\n\r\n    private String[] getRequiredPermissions() {\r\n        try {\r\n            PackageInfo info = this.getPackageManager().getPackageInfo(this.getPackageName(), PackageManager.GET_PERMISSIONS);\r\n            String[] ps = info.requestedPermissions;\r\n            if (ps != null &amp;&amp; ps.length &gt; 0) {\r\n                return ps;\r\n            } else {\r\n                return new String[0];\r\n            }\r\n        } catch (Exception e) {\r\n            return new String[0];\r\n        }\r\n    }\r\n\r\n    private boolean allPermissionsGranted() {\r\n        for (String permission : getRequiredPermissions()) {\r\n            if (!isPermissionGranted(this, permission)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void getRuntimePermissions() {\r\n        List&lt;String&gt; allNeededPermissions = new ArrayList&lt;&gt;();\r\n        for (String permission : getRequiredPermissions()) {\r\n            if (!isPermissionGranted(this, permission)) {\r\n                allNeededPermissions.add(permission);\r\n            }\r\n        }\r\n\r\n        if (!allNeededPermissions.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, allNeededPermissions.toArray(new String[0]), PERMISSION_REQUESTS);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        Log.i(TAG, &quot;Permission granted!&quot;);\r\n        if (allPermissionsGranted()) {\r\n            createCameraSource(selectedModel);\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    private static boolean isPermissionGranted(Context context, String permission) {\r\n        if (ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED) {\r\n            Log.i(TAG, &quot;Permission granted: &quot; + permission);\r\n            return true;\r\n        }\r\n        Log.i(TAG, &quot;Permission NOT granted: &quot; + permission);\r\n        return false;\r\n    }\r\n\r\n    public String getBatchDirectoryName() {\r\n        String app_folder_path = &quot;&quot;;\r\n        app_folder_path = Environment.getExternalStorageDirectory().toString() + &quot;/images&quot;;\r\n        File dir = new File(app_folder_path);\r\n        if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\r\n        }\r\n        return app_folder_path;\r\n    }\r\n\r\n    private class MyAnalyzer implements ImageAnalysis.Analyzer {\r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        @androidx.camera.core.ExperimentalGetImage\r\n        public void analyze(ImageProxy imageProxy) {\r\n            Image mediaImage = imageProxy.getImage();\r\n            if (mediaImage != null) {\r\n                InputImage image = InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n                // Pass image to an ML Kit Vision API\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nCameraSourcePreview :\r\n\r\n      public class CameraSourcePreview extends ViewGroup {\r\n                          private static final String TAG = &quot;MIDemoApp:Preview&quot;;\r\n\r\n                          private final Context context;\r\n                          private final SurfaceView surfaceView;\r\n                          private boolean startRequested;\r\n                          private boolean surfaceAvailable;\r\n                          private CameraSource cameraSource;\r\n\r\n                          private GraphicOverlay overlay;\r\n\r\n                          public CameraSourcePreview(Context context, AttributeSet attrs) {\r\n                            super(context, attrs);\r\n                            this.context = context;\r\n                            startRequested = false;\r\n                            surfaceAvailable = false;\r\n\r\n                            surfaceView = new SurfaceView(context);\r\n                            surfaceView.getHolder().addCallback(new SurfaceCallback());\r\n                            addView(surfaceView);\r\n                          }\r\n\r\n                          private void start(CameraSource cameraSource) throws IOException {\r\n                            this.cameraSource = cameraSource;\r\n\r\n                            if (this.cameraSource != null) {\r\n                              startRequested = true;\r\n                              startIfReady();\r\n                            }\r\n                          }\r\n\r\n                          public void start(CameraSource cameraSource, GraphicOverlay overlay) throws IOException {\r\n                            this.overlay = overlay;\r\n                            start(cameraSource);\r\n                          }\r\n\r\n\r\n                          public void stop() {\r\n                            if (cameraSource != null) {\r\n                              cameraSource.stop();\r\n                            }\r\n                          }\r\n\r\n                          public void release() {\r\n                            if (cameraSource != null) {\r\n                              cameraSource.release();\r\n                              cameraSource = null;\r\n                            }\r\n                            surfaceView.getHolder().getSurface().release();\r\n                          }\r\n\r\n                          private void startIfReady() throws IOException, SecurityException {\r\n                            if (startRequested &amp;&amp; surfaceAvailable) {\r\n                              if (PreferenceUtils.isCameraLiveViewportEnabled(context)) {\r\n                                cameraSource.start(surfaceView.getHolder());\r\n                              } else {\r\n                                cameraSource.start();\r\n                              }\r\n                              requestLayout();\r\n\r\n                              if (overlay != null) {\r\n                                Size size = cameraSource.getPreviewSize();\r\n                                int min = Math.min(size.getWidth(), size.getHeight());\r\n                                int max = Math.max(size.getWidth(), size.getHeight());\r\n                                boolean isImageFlipped = cameraSource.getCameraFacing() == CameraSource.CAMERA_FACING_FRONT;\r\n                                if (isPortraitMode()) {\r\n                                  // Swap width and height sizes when in portrait, since it will be rotated by 90 degrees.\r\n                                  // The camera preview and the image being processed have the same size.\r\n                                  overlay.setImageSourceInfo(min, max, isImageFlipped);\r\n                                } else {\r\n                                  overlay.setImageSourceInfo(max, min, isImageFlipped);\r\n                                }\r\n                                overlay.clear();\r\n                              }\r\n                              startRequested = false;\r\n                            }\r\n                          }\r\n\r\n                          private class SurfaceCallback implements SurfaceHolder.Callback {\r\n                            @Override\r\n                            public void surfaceCreated(SurfaceHolder surface) {\r\n                              surfaceAvailable = true;\r\n                              try {\r\n                                startIfReady();\r\n                              } catch (IOException e) {\r\n                                Log.e(TAG, &quot;Could not start camera source.&quot;, e);\r\n                              }\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceDestroyed(SurfaceHolder surface) {\r\n                              surfaceAvailable = false;\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {}\r\n                          }\r\n\r\n                          @Override\r\n                          protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n                            int width = 320;\r\n                            int height = 240;\r\n                            if (cameraSource != null) {\r\n                              Size size = cameraSource.getPreviewSize();\r\n                              if (size != null) {\r\n                                width = size.getWidth();\r\n                                height = size.getHeight();\r\n                              }\r\n                            }\r\n\r\n                            // Swap width and height sizes when in portrait, since it will be rotated 90 degrees\r\n                            if (isPortraitMode()) {\r\n                              int tmp = width;\r\n                              width = height;\r\n                              height = tmp;\r\n                            }\r\n\r\n                            float previewAspectRatio = (float) width / height;\r\n                            int layoutWidth = right - left;\r\n                            int layoutHeight = bottom - top;\r\n                            float layoutAspectRatio = (float) layoutWidth / layoutHeight;\r\n                            if (previewAspectRatio &gt; layoutAspectRatio) {\r\n                              // The preview input is wider than the layout area. Fit the layout height and crop\r\n                              // the preview input horizontally while keep the center.\r\n                              int horizontalOffset = (int) (previewAspectRatio * layoutHeight - layoutWidth) / 2;\r\n                              surfaceView.layout(-horizontalOffset, 0, layoutWidth + horizontalOffset, layoutHeight);\r\n                            } else {\r\n                              // The preview input is taller than the layout area. Fit the layout width and crop the preview\r\n                              // input vertically while keep the center.\r\n                              int verticalOffset = (int) (layoutWidth / previewAspectRatio - layoutHeight) / 2;\r\n                              surfaceView.layout(0, -verticalOffset, layoutWidth, layoutHeight + verticalOffset);\r\n                            }\r\n                          }\r\n\r\n                          private boolean isPortraitMode() {\r\n                            int orientation = context.getResources().getConfiguration().orientation;\r\n                            if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n                              return false;\r\n                            }\r\n                            if (orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n                              return true;\r\n                            }\r\n\r\n                            Log.d(TAG, &quot;isPortraitMode returning false by default&quot;);\r\n                            return false;\r\n                          }\r\n                        }\r\n\r\n\r\nwhen i click on the button to take the picture nothing happened , ImageCapture.OnImageSavedCallback() is never called , what can be wrong and how can i achieve it.\r\n\r\n\r\n  \r\n\r\n","title":"Take a picture while camera preview on Android using Camera2","body":"<p>I am trying to use &quot;camera preview&quot; and &quot;face detection&quot; using Camera2 and MLKIT face-detection , the preview and face detection works fine , but i cannot take a picture while showing the preview.</p>\n<p>LivePreviewActivity :</p>\n<pre><code>public final class LivePreviewActivity extends AppCompatActivity implements OnRequestPermissionsResultCallback, OnItemSelectedListener, CompoundButton.OnCheckedChangeListener {\nprivate static final String FACE_DETECTION = &quot;Face Detection&quot;;\n\nprivate static final String TAG = &quot;LivePreviewActivity&quot;;\nprivate static final int PERMISSION_REQUESTS = 1;\n\nprivate CameraSource cameraSource = null;\nprivate CameraSourcePreview preview;\nprivate GraphicOverlay graphicOverlay;\nprivate String selectedModel = FACE_DETECTION;\nprivate Executor executor = Executors.newSingleThreadExecutor();\nButton takePic;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Log.d(TAG, &quot;onCreate&quot;);\n\n    setContentView(R.layout.activity_vision_live_preview);\n\n    preview = findViewById(R.id.preview_view);\n    if (preview == null) {\n        Log.d(TAG, &quot;Preview is null&quot;);\n    }\n    graphicOverlay = findViewById(R.id.graphic_overlay);\n    if (graphicOverlay == null) {\n        Log.d(TAG, &quot;graphicOverlay is null&quot;);\n    }\n\n    ToggleButton facingSwitch = findViewById(R.id.facing_switch);\n    facingSwitch.setOnCheckedChangeListener(this);\n\n    takePic = findViewById(R.id.take_pic);\n\n    ImageView settingsButton = findViewById(R.id.settings_button);\n    settingsButton.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\n        intent.putExtra(SettingsActivity.EXTRA_LAUNCH_SOURCE, SettingsActivity.LaunchSource.LIVE_PREVIEW);\n        startActivity(intent);\n    });\n\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic synchronized void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n    // An item was selected. You can retrieve the selected item using\n    // parent.getItemAtPosition(pos)\n    selectedModel = parent.getItemAtPosition(pos).toString();\n    Log.d(TAG, &quot;Selected model: &quot; + selectedModel);\n    preview.stop();\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n        startCameraSource();\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; parent) {\n    // Do nothing.\n}\n\n@Override\npublic void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n    Log.d(TAG, &quot;Set facing&quot;);\n    if (cameraSource != null) {\n        if (isChecked) {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_FRONT);\n        } else {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_BACK);\n        }\n    }\n    preview.stop();\n    startCameraSource();\n}\n\nprivate void createCameraSource(String model) {\n    // If there's no existing cameraSource, create one.\n    if (cameraSource == null) {\n        cameraSource = new CameraSource(this, graphicOverlay);\n    }\n\n    try {\n        switch (model) {\n            case FACE_DETECTION:\n                Log.i(TAG, &quot;Using Face Detector Processor&quot;);\n                FaceDetectorOptions faceDetectorOptions = PreferenceUtils.getFaceDetectorOptionsForLivePreview(this);\n                cameraSource.setMachineLearningFrameProcessor(new FaceDetectorProcessor(this, faceDetectorOptions));\n                break;\n            default:\n                Log.e(TAG, &quot;Unknown model: &quot; + model);\n        }\n    } catch (RuntimeException e) {\n        Log.e(TAG, &quot;Can not create image processor: &quot; + model, e);\n        Toast.makeText(getApplicationContext(), &quot;Can not create image processor: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\n    }\n}\n\n/**\n * Starts or restarts the camera source, if it exists. If the camera source doesn't exist yet\n * (e.g., because onResume was called before the camera source was created), this will be called\n * again when the camera source is created.\n */\nprivate void startCameraSource() {\n    if (cameraSource != null) {\n        try {\n            if (preview == null) {\n                Log.d(TAG, &quot;resume: Preview is null&quot;);\n            }\n            if (graphicOverlay == null) {\n                Log.d(TAG, &quot;resume: graphOverlay is null&quot;);\n            }\n\n            preview.start(cameraSource, graphicOverlay);\n\n           \n            final ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n            cameraProviderFuture.addListener(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                        bindPreview(cameraProvider);\n\n                    } catch (ExecutionException | InterruptedException e) {\n                        // No errors need to be handled for this Future.\n                        // This should never be reached.\n                    }\n                }\n            }, ContextCompat.getMainExecutor(this));\n\n\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        } catch (Exception e){\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        }\n    }\n}\nvoid bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\n    cameraProvider.unbindAll();\n    Preview preview = new Preview.Builder().build();\n    ImageCapture.Builder builder = new ImageCapture.Builder();\n    final ImageCapture imageCapture = builder.setTargetRotation(this.getWindowManager().getDefaultDisplay().getRotation()).build();\n    @SuppressLint(&quot;WrongConstant&quot;) CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(String.valueOf(cameraSource.getCameraFacing()).equals(&quot;0&quot;)?1:0).build();\n\n    @SuppressLint(&quot;RestrictedApi&quot;) ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();\n    MyAnalyzer myAnalyzer = new MyAnalyzer();\n    imageAnalysis.setAnalyzer(executor, myAnalyzer);\n\n    Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageAnalysis, imageCapture);\n\n    takePic.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\n            File file = new File(getBatchDirectoryName(), mDateFormat.format(new Date()) + &quot;.jpg&quot;);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\n            imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(LivePreviewActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                }\n                @Override\n                public void onError(@NonNull ImageCaptureException error) {\n                    error.printStackTrace();\n                }\n            });\n        }\n    });\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    Log.d(TAG, &quot;onResume&quot;);\n    createCameraSource(selectedModel);\n    startCameraSource();\n}\n\n/**\n * Stops the camera.\n */\n@Override\nprotected void onPause() {\n    super.onPause();\n    preview.stop();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    if (cameraSource != null) {\n        cameraSource.release();\n    }\n}\n\nprivate String[] getRequiredPermissions() {\n    try {\n        PackageInfo info = this.getPackageManager().getPackageInfo(this.getPackageName(), PackageManager.GET_PERMISSIONS);\n        String[] ps = info.requestedPermissions;\n        if (ps != null &amp;&amp; ps.length &gt; 0) {\n            return ps;\n        } else {\n            return new String[0];\n        }\n    } catch (Exception e) {\n        return new String[0];\n    }\n}\n\nprivate boolean allPermissionsGranted() {\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate void getRuntimePermissions() {\n    List&lt;String&gt; allNeededPermissions = new ArrayList&lt;&gt;();\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            allNeededPermissions.add(permission);\n        }\n    }\n\n    if (!allNeededPermissions.isEmpty()) {\n        ActivityCompat.requestPermissions(this, allNeededPermissions.toArray(new String[0]), PERMISSION_REQUESTS);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    Log.i(TAG, &quot;Permission granted!&quot;);\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\nprivate static boolean isPermissionGranted(Context context, String permission) {\n    if (ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED) {\n        Log.i(TAG, &quot;Permission granted: &quot; + permission);\n        return true;\n    }\n    Log.i(TAG, &quot;Permission NOT granted: &quot; + permission);\n    return false;\n}\n\npublic String getBatchDirectoryName() {\n    String app_folder_path = &quot;&quot;;\n    app_folder_path = Environment.getExternalStorageDirectory().toString() + &quot;/images&quot;;\n    File dir = new File(app_folder_path);\n    if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\n    }\n    return app_folder_path;\n}\n\nprivate class MyAnalyzer implements ImageAnalysis.Analyzer {\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    @androidx.camera.core.ExperimentalGetImage\n    public void analyze(ImageProxy imageProxy) {\n        Image mediaImage = imageProxy.getImage();\n        if (mediaImage != null) {\n            InputImage image = InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n            // Pass image to an ML Kit Vision API\n            // ...\n        }\n    }\n}\n}\n</code></pre>\n<p>CameraSourcePreview :</p>\n<pre><code>  public class CameraSourcePreview extends ViewGroup {\n                      private static final String TAG = &quot;MIDemoApp:Preview&quot;;\n\n                      private final Context context;\n                      private final SurfaceView surfaceView;\n                      private boolean startRequested;\n                      private boolean surfaceAvailable;\n                      private CameraSource cameraSource;\n\n                      private GraphicOverlay overlay;\n\n                      public CameraSourcePreview(Context context, AttributeSet attrs) {\n                        super(context, attrs);\n                        this.context = context;\n                        startRequested = false;\n                        surfaceAvailable = false;\n\n                        surfaceView = new SurfaceView(context);\n                        surfaceView.getHolder().addCallback(new SurfaceCallback());\n                        addView(surfaceView);\n                      }\n\n                      private void start(CameraSource cameraSource) throws IOException {\n                        this.cameraSource = cameraSource;\n\n                        if (this.cameraSource != null) {\n                          startRequested = true;\n                          startIfReady();\n                        }\n                      }\n\n                      public void start(CameraSource cameraSource, GraphicOverlay overlay) throws IOException {\n                        this.overlay = overlay;\n                        start(cameraSource);\n                      }\n\n\n                      public void stop() {\n                        if (cameraSource != null) {\n                          cameraSource.stop();\n                        }\n                      }\n\n                      public void release() {\n                        if (cameraSource != null) {\n                          cameraSource.release();\n                          cameraSource = null;\n                        }\n                        surfaceView.getHolder().getSurface().release();\n                      }\n\n                      private void startIfReady() throws IOException, SecurityException {\n                        if (startRequested &amp;&amp; surfaceAvailable) {\n                          if (PreferenceUtils.isCameraLiveViewportEnabled(context)) {\n                            cameraSource.start(surfaceView.getHolder());\n                          } else {\n                            cameraSource.start();\n                          }\n                          requestLayout();\n\n                          if (overlay != null) {\n                            Size size = cameraSource.getPreviewSize();\n                            int min = Math.min(size.getWidth(), size.getHeight());\n                            int max = Math.max(size.getWidth(), size.getHeight());\n                            boolean isImageFlipped = cameraSource.getCameraFacing() == CameraSource.CAMERA_FACING_FRONT;\n                            if (isPortraitMode()) {\n                              // Swap width and height sizes when in portrait, since it will be rotated by 90 degrees.\n                              // The camera preview and the image being processed have the same size.\n                              overlay.setImageSourceInfo(min, max, isImageFlipped);\n                            } else {\n                              overlay.setImageSourceInfo(max, min, isImageFlipped);\n                            }\n                            overlay.clear();\n                          }\n                          startRequested = false;\n                        }\n                      }\n\n                      private class SurfaceCallback implements SurfaceHolder.Callback {\n                        @Override\n                        public void surfaceCreated(SurfaceHolder surface) {\n                          surfaceAvailable = true;\n                          try {\n                            startIfReady();\n                          } catch (IOException e) {\n                            Log.e(TAG, &quot;Could not start camera source.&quot;, e);\n                          }\n                        }\n\n                        @Override\n                        public void surfaceDestroyed(SurfaceHolder surface) {\n                          surfaceAvailable = false;\n                        }\n\n                        @Override\n                        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {}\n                      }\n\n                      @Override\n                      protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n                        int width = 320;\n                        int height = 240;\n                        if (cameraSource != null) {\n                          Size size = cameraSource.getPreviewSize();\n                          if (size != null) {\n                            width = size.getWidth();\n                            height = size.getHeight();\n                          }\n                        }\n\n                        // Swap width and height sizes when in portrait, since it will be rotated 90 degrees\n                        if (isPortraitMode()) {\n                          int tmp = width;\n                          width = height;\n                          height = tmp;\n                        }\n\n                        float previewAspectRatio = (float) width / height;\n                        int layoutWidth = right - left;\n                        int layoutHeight = bottom - top;\n                        float layoutAspectRatio = (float) layoutWidth / layoutHeight;\n                        if (previewAspectRatio &gt; layoutAspectRatio) {\n                          // The preview input is wider than the layout area. Fit the layout height and crop\n                          // the preview input horizontally while keep the center.\n                          int horizontalOffset = (int) (previewAspectRatio * layoutHeight - layoutWidth) / 2;\n                          surfaceView.layout(-horizontalOffset, 0, layoutWidth + horizontalOffset, layoutHeight);\n                        } else {\n                          // The preview input is taller than the layout area. Fit the layout width and crop the preview\n                          // input vertically while keep the center.\n                          int verticalOffset = (int) (layoutWidth / previewAspectRatio - layoutHeight) / 2;\n                          surfaceView.layout(0, -verticalOffset, layoutWidth, layoutHeight + verticalOffset);\n                        }\n                      }\n\n                      private boolean isPortraitMode() {\n                        int orientation = context.getResources().getConfiguration().orientation;\n                        if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                          return false;\n                        }\n                        if (orientation == Configuration.ORIENTATION_PORTRAIT) {\n                          return true;\n                        }\n\n                        Log.d(TAG, &quot;isPortraitMode returning false by default&quot;);\n                        return false;\n                      }\n                    }\n</code></pre>\n<p>when i click on the button to take the picture nothing happened , ImageCapture.OnImageSavedCallback() is never called , what can be wrong and how can i achieve it.</p>\n"},{"tags":["java","string","list","equals","contains"],"comments":[{"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":1,"creation_date":1348400573,"post_id":12552048,"comment_id":16904767,"body_markdown":"Where do you get this `val` from? it might be an encoding problem","body":"Where do you get this <code>val</code> from? it might be an encoding problem"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1348400630,"post_id":12552048,"comment_id":16904779,"body_markdown":"And additionally to Binyamins question: What runtime type is stringList?","body":"And additionally to Binyamins question: What runtime type is stringList?"},{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1348400719,"post_id":12552048,"comment_id":16904801,"body_markdown":"It&#39;s taken from a .csv file, so you may be correct. Is there anything I can do - can I force the encoding to be the same for both.","body":"It&#39;s taken from a .csv file, so you may be correct. Is there anything I can do - can I force the encoding to be the same for both."},{"owner":{"account_id":1869385,"reputation":121,"user_id":1692008,"display_name":"toe"},"score":1,"creation_date":1348400773,"post_id":12552048,"comment_id":16904813,"body_markdown":"Could you show some context to that code fragment containing the construction/declaration/type of `val`?","body":"Could you show some context to that code fragment containing the construction/declaration/type of <code>val</code>?"},{"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"score":0,"creation_date":1348400950,"post_id":12552048,"comment_id":16904853,"body_markdown":"Yes I will do that, I&#39;d also like to say ... I&#39;ve used val.equals(aValThatIsInStringList) ... that is I&#39;ve used equals to compare with the individual items in the stringList ... I would imagine if it were encoding related this wouldn&#39;t work (but I a not sure about that)","body":"Yes I will do that, I&#39;d also like to say ... I&#39;ve used val.equals(aValThatIsInStringList) ... that is I&#39;ve used equals to compare with the individual items in the stringList ... I would imagine if it were encoding related this wouldn&#39;t work (but I a not sure about that)"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1348400852,"creation_date":1348400852,"answer_id":12552097,"question_id":12552048,"body_markdown":"`ArrayList.contains()` uses `Object.equals()` to check for equality (`hashCode()` is not involved in `List`). This works well for strings. Probably, your string really isn&#39;t contained in the list...\r\n\r\nYou&#39;ve probably overlooked some whitespace or upper/lower-case or encoding difference...","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p><code>ArrayList.contains()</code> uses <code>Object.equals()</code> to check for equality (<code>hashCode()</code> is not involved in <code>List</code>). This works well for strings. Probably, your string really isn't contained in the list...</p>\n\n<p>You've probably overlooked some whitespace or upper/lower-case or encoding difference...</p>\n"},{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348401432,"creation_date":1348400863,"answer_id":12552100,"question_id":12552048,"body_markdown":"That doesn’t sound right: `contains` uses `equals` rather than `==`, so if the string is in the list, it should be found.  This can be verified in the `indexOf` method of the superclass [AbstractList][1] used by `ArrayList`.\r\n\r\nFollowing your edit, make sure you `trim` strings before doing `contains`, as otherwise they may contain the `newline` character(s).\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>That doesn’t sound right: <code>contains</code> uses <code>equals</code> rather than <code>==</code>, so if the string is in the list, it should be found.  This can be verified in the <code>indexOf</code> method of the superclass <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java\" rel=\"nofollow\">AbstractList</a> used by <code>ArrayList</code>.</p>\n\n<p>Following your edit, make sure you <code>trim</code> strings before doing <code>contains</code>, as otherwise they may contain the <code>newline</code> character(s).</p>\n"},{"tags":[],"owner":{"account_id":60491,"reputation":8054,"user_id":180650,"accept_rate":80,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348400972,"creation_date":1348400972,"answer_id":12552113,"question_id":12552048,"body_markdown":"Try the following, first make the check more concrete by iterating the list and checking each element separately. Than, when you hit the elements that you are expecting to be equal, This is what you are supposed to be looking at. Check to see if they are really equal. Maybe there is a case difference? (or some other elusive but plain difference like white space?)","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>Try the following, first make the check more concrete by iterating the list and checking each element separately. Than, when you hit the elements that you are expecting to be equal, This is what you are supposed to be looking at. Check to see if they are really equal. Maybe there is a case difference? (or some other elusive but plain difference like white space?)</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348400987,"creation_date":1348400987,"answer_id":12552115,"question_id":12552048,"body_markdown":"More code please!\r\n\r\nThis works:\r\n\r\n    import java.util.*;\r\n\r\n    public class Contains {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n            stringList.add(&quot;someString&quot;);\r\n            String val = new String(&quot;someString&quot;);\r\n            if (stringList.contains(val)) {\r\n                System.out.println(&quot;The value is in there&quot;);\r\n            } else {\r\n                System.out.println(&quot;There&#39;s no such value here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>More code please!</p>\n\n<p>This works:</p>\n\n<pre><code>import java.util.*;\n\npublic class Contains {\n    public static void main(String[] args) {\n        List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n        stringList.add(\"someString\");\n        String val = new String(\"someString\");\n        if (stringList.contains(val)) {\n            System.out.println(\"The value is in there\");\n        } else {\n            System.out.println(\"There's no such value here\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1684765023,"creation_date":1387030886,"answer_id":20584408,"question_id":12552048,"body_markdown":"Try to override `equals()`, so that you can specify which property needs to compare equality .... :P","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>Try to override <code>equals()</code>, so that you can specify which property needs to compare equality .... :P</p>\n"}],"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39361,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12552097,"answer_count":5,"score":7,"last_activity_date":1684765023,"creation_date":1348400467,"question_id":12552048,"body_markdown":"I want check whether a String value `val` is contained within a List of Strings lets call it stringList.\r\n\r\nI am doing this\r\n\r\n    if(stringList.contains(val)){\r\n      System.out.println(&quot;The value is in there&quot;);\r\n    }\r\n    else{\r\n      System.out.println(&quot;There&#39;s no such value here&quot;);\r\n    }\r\n\r\nBut it always seems to be that the value is not included. Is this because two String values that have the same characters are not actually equal? For a &quot;home-made&quot; class I could implement hashCode() and equals() and fix this, what can I do for String data?\r\n\r\nEDIT: \r\n\r\nThe way I am getting val is outlined here:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n        stringList.add(&quot;PDT&quot;);\r\n\tstringList.add(&quot;LDT&quot;);\r\n\tstringList.add(&quot;ELNE&quot;);\r\n    \r\n    String myFile = &quot;/folder/myFile&quot;;\r\n    InputStream input = new FileInputStream(myFile);\r\n    CSVReader reader = new CSVReader(new InputStreamReader(input), &#39;,&#39;,&#39;&quot;&#39;, 1);\r\n    String[] nextLine;\r\n    try {\r\n        while ((nextLine = reader.readNext()) != null) {\r\n        if (nextLine != null) {\r\n            if (nextLine[6] != null){\r\n              String val = nextLine[6];\r\n                if(stringList.contains(val)){\r\n                System.out.println(&quot;Success&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Java contains doesn&#39;t work as expected because &quot;someString&quot; != &quot;someString&quot;","body":"<p>I want check whether a String value <code>val</code> is contained within a List of Strings lets call it stringList.</p>\n\n<p>I am doing this</p>\n\n<pre><code>if(stringList.contains(val)){\n  System.out.println(\"The value is in there\");\n}\nelse{\n  System.out.println(\"There's no such value here\");\n}\n</code></pre>\n\n<p>But it always seems to be that the value is not included. Is this because two String values that have the same characters are not actually equal? For a \"home-made\" class I could implement hashCode() and equals() and fix this, what can I do for String data?</p>\n\n<p>EDIT: </p>\n\n<p>The way I am getting val is outlined here:</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    stringList.add(\"PDT\");\nstringList.add(\"LDT\");\nstringList.add(\"ELNE\");\n\nString myFile = \"/folder/myFile\";\nInputStream input = new FileInputStream(myFile);\nCSVReader reader = new CSVReader(new InputStreamReader(input), ',','\"', 1);\nString[] nextLine;\ntry {\n    while ((nextLine = reader.readNext()) != null) {\n    if (nextLine != null) {\n        if (nextLine[6] != null){\n          String val = nextLine[6];\n            if(stringList.contains(val)){\n            System.out.println(\"Success\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","logging","amazon-cloudwatch"],"owner":{"account_id":28654218,"reputation":11,"user_id":21940607,"display_name":"Michał"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684764653,"creation_date":1684764653,"question_id":76307073,"body_markdown":"I want to create widget for monitoring purposes, which will group status codes for each soap operation.\r\nI have logs with message statuses like:\r\n```\r\n&quot;HTTP/1.1 200 OK&quot;\r\n```\r\nor\r\n```\r\n&quot;HTTP/1.1 400 Bad Request&quot;\r\n```\r\nAnd logs with requests containing operation body. The only common information binding logs with http statuses and soap body is @IngestionTime. As far as I know nested queries in Logs Insight are not allowed.\r\nIs there any way to create widget for each operation, which will make statistics like:\r\n\r\n```\r\nstatus | count\r\n---------------\r\n200    |   1\r\n400    |   3\r\n```\r\nIs there any way to do that?\r\n\r\n- I tried to add MDC field, but it is not visible in Logs Insights\r\n- Create nested query (I think it is not possible)\r\n- Create end logger with operation name and status (unsuccessfull)","title":"Is there a way to create a widget for monitoring soap operations in AWS CloudWatch to count http statuses?","body":"<p>I want to create widget for monitoring purposes, which will group status codes for each soap operation.\nI have logs with message statuses like:</p>\n<pre><code>&quot;HTTP/1.1 200 OK&quot;\n</code></pre>\n<p>or</p>\n<pre><code>&quot;HTTP/1.1 400 Bad Request&quot;\n</code></pre>\n<p>And logs with requests containing operation body. The only common information binding logs with http statuses and soap body is @IngestionTime. As far as I know nested queries in Logs Insight are not allowed.\nIs there any way to create widget for each operation, which will make statistics like:</p>\n<pre><code>status | count\n---------------\n200    |   1\n400    |   3\n</code></pre>\n<p>Is there any way to do that?</p>\n<ul>\n<li>I tried to add MDC field, but it is not visible in Logs Insights</li>\n<li>Create nested query (I think it is not possible)</li>\n<li>Create end logger with operation name and status (unsuccessfull)</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651655978,"creation_date":1651655978,"answer_id":72110586,"question_id":72110341,"body_markdown":"The problem that you face is that your `entity` `Page` does not have a field that relates with `Book`. So you have **unidirectional mapping** in JPA layer.\r\n\r\nOne solution would be to include the following custom query which will return you what you expect to be returned.\r\n\r\n     @Query( &quot;SELECT pg FROM Book bk join bk.pages pg WHERE bk.bookId = :bookId&quot;)\r\n     List&lt;Page&gt; findPagesByBookId(@Param(&quot;bookId&quot;) String bookId);","title":"Find all data using foreign key from referenced table in spring boot jpa","body":"<p>The problem that you face is that your <code>entity</code> <code>Page</code> does not have a field that relates with <code>Book</code>. So you have <strong>unidirectional mapping</strong> in JPA layer.</p>\n<p>One solution would be to include the following custom query which will return you what you expect to be returned.</p>\n<pre><code> @Query( &quot;SELECT pg FROM Book bk join bk.pages pg WHERE bk.bookId = :bookId&quot;)\n List&lt;Page&gt; findPagesByBookId(@Param(&quot;bookId&quot;) String bookId);\n</code></pre>\n"}],"owner":{"account_id":19452465,"reputation":223,"user_id":14228521,"display_name":"Rajeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72110586,"answer_count":1,"score":1,"last_activity_date":1684764536,"creation_date":1651654769,"question_id":72110341,"body_markdown":"I have done the jpa one to many mapping between Book &amp; corresponding Pages as follows.\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic class Book {\r\n    @Id\r\n    @EqualsAndHashCode.Include\r\n    @Column(name = &quot;book_id&quot;)\r\n    private String bookId;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(targetEntity = Page.class, cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;book_id_fk&quot;, referencedColumnName = &quot;book_id&quot;)\r\n    private List&lt;Page&gt; pages;\r\n}\r\n```\r\nand\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Page {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer sno;\r\n\r\n    private Integer number;\r\n}\r\n\r\n@Repository\r\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\r\n    List&lt;Page&gt; findAllByBook_Id(String bookId);\r\n}\r\n```\r\nNow I would like to get all pages using book id from Page table. For that I&#39;m using findAllBook_id method but I&#39;m getting the `No property book found for type Page!` exception. I tried XXXBook_fkId/XXXBookFkId/XXXBook_fk_id etc. method names but didn&#39;t worked out. Kindly help","title":"Find all data using foreign key from referenced table in spring boot jpa","body":"<p>I have done the jpa one to many mapping between Book &amp; corresponding Pages as follows.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Book {\n    @Id\n    @EqualsAndHashCode.Include\n    @Column(name = &quot;book_id&quot;)\n    private String bookId;\n\n    private String name;\n\n    @OneToMany(targetEntity = Page.class, cascade= CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;book_id_fk&quot;, referencedColumnName = &quot;book_id&quot;)\n    private List&lt;Page&gt; pages;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Page {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer sno;\n\n    private Integer number;\n}\n\n@Repository\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\n    List&lt;Page&gt; findAllByBook_Id(String bookId);\n}\n</code></pre>\n<p>Now I would like to get all pages using book id from Page table. For that I'm using findAllBook_id method but I'm getting the <code>No property book found for type Page!</code> exception. I tried XXXBook_fkId/XXXBookFkId/XXXBook_fk_id etc. method names but didn't worked out. Kindly help</p>\n"},{"tags":["java","spring-boot","azure","maven","azure-spring-cloud"],"comments":[{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1684330629,"post_id":76157424,"comment_id":134502581,"body_markdown":"I&#39;m experiencing exactly the same issue. Have you found the workaround or solution?","body":"I&#39;m experiencing exactly the same issue. Have you found the workaround or solution?"},{"owner":{"account_id":916638,"reputation":3457,"user_id":949297,"accept_rate":100,"display_name":"Nicolas Riousset"},"score":0,"creation_date":1684331877,"post_id":76157424,"comment_id":134502927,"body_markdown":"Not yet. I had some unsuccessful contacts with Azure support, I hope they&#39;ll get back to me.","body":"Not yet. I had some unsuccessful contacts with Azure support, I hope they&#39;ll get back to me."},{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1684418692,"post_id":76157424,"comment_id":134517092,"body_markdown":"I visit this issue which were informed fixed in 1.17.0. According to the discussion, the issue was narrowed down to action of deploying to the Azure Spring Apps Consumption Plan. That was my case as well.\nhttps://github.com/microsoft/azure-maven-plugins/issues/2268\nWith 1.17.0 released, it fixed this error but I haven&#39;t seen any report of whether the deployment to Azure Spring Apps Consumption Plan would success since they also stated that they doesn&#39;t have plan to support the plan soon.\nWhat do you think?","body":"I visit this issue which were informed fixed in 1.17.0. According to the discussion, the issue was narrowed down to action of deploying to the Azure Spring Apps Consumption Plan. That was my case as well. <a href=\"https://github.com/microsoft/azure-maven-plugins/issues/2268\" rel=\"nofollow noreferrer\">github.com/microsoft/azure-maven-plugins/issues/2268</a> With 1.17.0 released, it fixed this error but I haven&#39;t seen any report of whether the deployment to Azure Spring Apps Consumption Plan would success since they also stated that they doesn&#39;t have plan to support the plan soon. What do you think?"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683288063,"creation_date":1683288063,"answer_id":76181971,"question_id":76157424,"body_markdown":"&gt;Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided\r\n\r\nI would suggest you to run `mvn clean install` before deploying your application to Azure Spring Apps.\r\n\r\nAnd also Check if the below configuration is being added in your pom.xml file after running `mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config`.\r\n```xml\r\n&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;azure-spring-apps-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.17.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t            \r\n            &lt;subscriptionId&gt;Azure_SUbscription_id&lt;/subscriptionId&gt;\r\n\t\t    &lt;resourceGroup&gt;Resource_group_name&lt;/resourceGroup&gt;\r\n\t\t    &lt;clusterName&gt;kpspringapp&lt;/clusterName&gt;\r\n\t\t    &lt;appName&gt;springboot-crud&lt;/appName&gt;\r\n\t\t    &lt;isPublic&gt;false&lt;/isPublic&gt;\r\n\t\t    &lt;deployment&gt;\r\n\t\t          &lt;cpu&gt;1&lt;/cpu&gt;\r\n\t\t          &lt;memoryInGB&gt;1&lt;/memoryInGB&gt;\r\n\t\t          &lt;instanceCount&gt;1&lt;/instanceCount&gt;\r\n\t\t          &lt;runtimeVersion&gt;Java 11&lt;/runtimeVersion&gt;\r\n\t\t          &lt;resources&gt;\r\n\t\t              &lt;resource&gt;\r\n\t\t                  &lt;filtering/&gt;\r\n\t\t                  &lt;mergeId/&gt;\r\n\t\t                  &lt;targetPath/&gt;\r\n\t\t                &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\r\n\t\t                  &lt;includes&gt;\r\n\t\t                       &lt;include&gt;*.jar&lt;/include&gt;\r\n\t\t                  &lt;/includes&gt;\r\n\t\t               &lt;/resource&gt;\r\n\t\t           &lt;/resources&gt;\r\n\t\t      &lt;/deployment&gt;\r\n\t\t &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n---\r\nI have created a spring boot application and deployed to Azure Spring Apps:\r\n1.  Logged into Azure via command line.\r\n\r\n![enter image description here](https://i.imgur.com/0Hm2vQY.png)\r\n\r\n2.  Generating the configurations to deploy the Spring Boot application to Azure Spring Apps by running `mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config` command. \r\nThis will ask to select the *subscription, Resource group, Azure Spring Apps name, Java runtime version* etc., and then generate the configurations required for deployment. \r\n\r\n![enter image description here](https://i.imgur.com/WUrjFfn.png)\r\n![enter image description here](https://i.imgur.com/PVCLOWA.png)\r\n\r\nI was also getting errors initially and couldn&#39;t deploy the application.\r\nBut, after running the command  `mvn clean install`, I was able to deploy the application to spring apps.\r\n\r\n![enter image description here](https://i.imgur.com/9Nz0yt1.png)\r\n![enter image description here](https://i.imgur.com/mECLH70.png)\r\n![enter image description here](https://i.imgur.com/koB5xgY.png)\r\n\r\n***Deploying the application to Azure Spring Apps:***\r\n\r\n![enter image description here](https://i.imgur.com/DqFNNtK.png)\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/zQcK01s.png)\r\n\r\n**Response:**\r\n![enter image description here](https://i.imgur.com/qmbvd0X.png)\r\n\r\n\r\n","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<blockquote>\n<p>Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided</p>\n</blockquote>\n<p>I would suggest you to run <code>mvn clean install</code> before deploying your application to Azure Spring Apps.</p>\n<p>And also Check if the below configuration is being added in your pom.xml file after running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-apps-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n        &lt;configuration&gt;\n                    \n            &lt;subscriptionId&gt;Azure_SUbscription_id&lt;/subscriptionId&gt;\n            &lt;resourceGroup&gt;Resource_group_name&lt;/resourceGroup&gt;\n            &lt;clusterName&gt;kpspringapp&lt;/clusterName&gt;\n            &lt;appName&gt;springboot-crud&lt;/appName&gt;\n            &lt;isPublic&gt;false&lt;/isPublic&gt;\n            &lt;deployment&gt;\n                  &lt;cpu&gt;1&lt;/cpu&gt;\n                  &lt;memoryInGB&gt;1&lt;/memoryInGB&gt;\n                  &lt;instanceCount&gt;1&lt;/instanceCount&gt;\n                  &lt;runtimeVersion&gt;Java 11&lt;/runtimeVersion&gt;\n                  &lt;resources&gt;\n                      &lt;resource&gt;\n                          &lt;filtering/&gt;\n                          &lt;mergeId/&gt;\n                          &lt;targetPath/&gt;\n                        &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n                          &lt;includes&gt;\n                               &lt;include&gt;*.jar&lt;/include&gt;\n                          &lt;/includes&gt;\n                       &lt;/resource&gt;\n                   &lt;/resources&gt;\n              &lt;/deployment&gt;\n         &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<hr />\n<p>I have created a spring boot application and deployed to Azure Spring Apps:</p>\n<ol>\n<li>Logged into Azure via command line.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/0Hm2vQY.png\" alt=\"enter image description here\" /></p>\n<ol start=\"2\">\n<li>Generating the configurations to deploy the Spring Boot application to Azure Spring Apps by running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code> command.\nThis will ask to select the <em>subscription, Resource group, Azure Spring Apps name, Java runtime version</em> etc., and then generate the configurations required for deployment.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/WUrjFfn.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/PVCLOWA.png\" alt=\"enter image description here\" /></p>\n<p>I was also getting errors initially and couldn't deploy the application.\nBut, after running the command  <code>mvn clean install</code>, I was able to deploy the application to spring apps.</p>\n<p><img src=\"https://i.imgur.com/9Nz0yt1.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/mECLH70.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/koB5xgY.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Deploying the application to Azure Spring Apps:</strong></em></p>\n<p><img src=\"https://i.imgur.com/DqFNNtK.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/zQcK01s.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong>\n<img src=\"https://i.imgur.com/qmbvd0X.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":28648724,"reputation":61,"user_id":21936153,"display_name":"Dan Hager"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684764407,"creation_date":1684764407,"answer_id":76307038,"question_id":76157424,"body_markdown":"Everything works perfectly if you are NOT using the &quot;Standard Consumption&quot; plan. If you use at least &quot;Basic&quot; everything works as it should. I have retested this a few times and each time it works fine with &quot;Basic&quot; but not &quot;Consumption&quot; as I get same error as you each time.\r\n\r\nObviously this is not ideal, perhaps there is update coming soon? I would much rather use the new consumption plan","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<p>Everything works perfectly if you are NOT using the &quot;Standard Consumption&quot; plan. If you use at least &quot;Basic&quot; everything works as it should. I have retested this a few times and each time it works fine with &quot;Basic&quot; but not &quot;Consumption&quot; as I get same error as you each time.</p>\n<p>Obviously this is not ideal, perhaps there is update coming soon? I would much rather use the new consumption plan</p>\n"}],"owner":{"account_id":916638,"reputation":3457,"user_id":949297,"accept_rate":100,"display_name":"Nicolas Riousset"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684764407,"creation_date":1683048530,"question_id":76157424,"body_markdown":"I&#39;m trying to deploy a Spring Boot application to Microsoft Azure Spring Apps using Maven.\r\n\r\nI strictly followed this tutorial from Microsoft : https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps , except for the azure-spring-apps-maven-plugin which had to be upgraded from 1.10.0 to 1.17.0, as per follows :\r\n\r\n`mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config`\r\n\r\nBut when running the deploy command with the sample project :\r\n\r\n`mvn azure-spring-apps:deploy`\r\n\r\nThe following *&quot;Invalid arguments: DeploymentSettings must be provided&quot;* error occurs : \r\n\r\n    [ERROR] Operator called default onErrorDropped\r\n    reactor.core.Exceptions$StaticThrowable: Operator has been terminated\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  13.680 s\r\n    [INFO] Finished at: 2023-05-02T19:06:23+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:deploy (default-cli) on project hellospring: create or update Spring app(hellospring) from config: AzureToolkitRuntimeException: create Azure Spring App deployment (default): Status code 400, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid arguments: DeploymentSettings must be provided.&quot;,&quot;details&quot;:[{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;DeploymentSettings must be provided.&quot;,&quot;target&quot;:&quot;Properties.DeploymentSettings&quot;}]}}&quot; -&gt; [Help 1]\r\n\r\nThe HelloSpring sample application does not require any specific configuration (no database, no file storage, no https certificates, etc.).\r\n\r\nAny idea of what I may be doing wrong? ","title":"Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided","body":"<p>I'm trying to deploy a Spring Boot application to Microsoft Azure Spring Apps using Maven.</p>\n<p>I strictly followed this tutorial from Microsoft : <a href=\"https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps</a> , except for the azure-spring-apps-maven-plugin which had to be upgraded from 1.10.0 to 1.17.0, as per follows :</p>\n<p><code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code></p>\n<p>But when running the deploy command with the sample project :</p>\n<p><code>mvn azure-spring-apps:deploy</code></p>\n<p>The following <em>&quot;Invalid arguments: DeploymentSettings must be provided&quot;</em> error occurs :</p>\n<pre><code>[ERROR] Operator called default onErrorDropped\nreactor.core.Exceptions$StaticThrowable: Operator has been terminated\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  13.680 s\n[INFO] Finished at: 2023-05-02T19:06:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:deploy (default-cli) on project hellospring: create or update Spring app(hellospring) from config: AzureToolkitRuntimeException: create Azure Spring App deployment (default): Status code 400, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid arguments: DeploymentSettings must be provided.&quot;,&quot;details&quot;:[{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;DeploymentSettings must be provided.&quot;,&quot;target&quot;:&quot;Properties.DeploymentSettings&quot;}]}}&quot; -&gt; [Help 1]\n</code></pre>\n<p>The HelloSpring sample application does not require any specific configuration (no database, no file storage, no https certificates, etc.).</p>\n<p>Any idea of what I may be doing wrong?</p>\n"},{"tags":["java","sms","eclipse-jee"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684762553,"post_id":76306740,"comment_id":134559923,"body_markdown":"the code you provided doesn&#39;t compile. Please share syntactical correct code","body":"the code you provided doesn&#39;t compile. Please share syntactical correct code"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684762629,"post_id":76306740,"comment_id":134559943,"body_markdown":"BTW: Never catch exceptions without hanlde it. Atleast log them","body":"BTW: Never catch exceptions without hanlde it. Atleast log them"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684763202,"post_id":76306740,"comment_id":134560066,"body_markdown":"&quot;there is an issue&quot; is not a valid question for Stackoverlow. What is the error, symptoms? Be specific and provide details.","body":"&quot;there is an issue&quot; is not a valid question for Stackoverlow. What is the error, symptoms? Be specific and provide details."},{"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"score":0,"creation_date":1684763313,"post_id":76306740,"comment_id":134560087,"body_markdown":"maybe i&#39;m a little bit poor in Eng, I didn&#39;t explain well the request, anyways , the issue is that URL doesn&#39;t execute when I use the above code, that is the main issue","body":"maybe i&#39;m a little bit poor in Eng, I didn&#39;t explain well the request, anyways , the issue is that URL doesn&#39;t execute when I use the above code, that is the main issue"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684764564,"post_id":76306740,"comment_id":134560400,"body_markdown":"Throws an error? You should be debugging it. As @Jens said always handle exceptions.","body":"Throws an error? You should be debugging it. As @Jens said always handle exceptions."}],"answers":[{"tags":[],"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684763759,"creation_date":1684763759,"answer_id":76306934,"question_id":76306740,"body_markdown":"I found the solution :)\r\n\r\nJust I need to read the URL, I added the below code and it works fine. Thank you all.\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader( myURLConnection.getInputStream()));\r\n\r\n ","title":"Problem with URL connection (Sending SMS via URL)","body":"<p>I found the solution :)</p>\n<p>Just I need to read the URL, I added the below code and it works fine. Thank you all.</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader( myURLConnection.getInputStream()));\n</code></pre>\n"}],"owner":{"account_id":21888807,"reputation":47,"user_id":16176112,"display_name":"Haythem Nasri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1684763829,"creation_date":1684762338,"question_id":76306740,"body_markdown":"I am trying to send SMS via java using URL connection, when I&#39;m using the url directly in the browser i receive the SMS, however, using java code seems there is an issue when I call the URL..I wonder if  using HttpURLConnection will do the job or not? \r\n\r\ncode as below :\r\n\r\n   \r\n     try{\r\n     String myMobile = &quot;Country code&quot;+user.getMobile();\r\n     String  Url_str = &quot;http://sms.com/Api/.......+ myMobile+;  \t  \r\n     System.out.println(Url_str);\r\n     URL myURL = new URL(Url_str);\r\n     URLConnection myURLConnection = myURL.openConnection();\r\n      myURLConnection.connect();\r\n    } \r\n    \t\t\tcatch (MalformedURLException e) { \r\n    \t\t\t    // new URL() failed\r\n    \t\t\t} \r\n    \t\t\tcatch (IOException e) {   \r\n    \t\t\t    // openConnection() failed   \r\n    \t\t\t}\r\n\r\n\t\t\t\r\n\r\n\r\n","title":"Problem with URL connection (Sending SMS via URL)","body":"<p>I am trying to send SMS via java using URL connection, when I'm using the url directly in the browser i receive the SMS, however, using java code seems there is an issue when I call the URL..I wonder if  using HttpURLConnection will do the job or not?</p>\n<p>code as below :</p>\n<pre><code> try{\n String myMobile = &quot;Country code&quot;+user.getMobile();\n String  Url_str = &quot;http://sms.com/Api/.......+ myMobile+;        \n System.out.println(Url_str);\n URL myURL = new URL(Url_str);\n URLConnection myURLConnection = myURL.openConnection();\n  myURLConnection.connect();\n} \n            catch (MalformedURLException e) { \n                // new URL() failed\n            } \n            catch (IOException e) {   \n                // openConnection() failed   \n            }\n\n        \n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584481849,"creation_date":1584479455,"answer_id":60730272,"question_id":60728683,"body_markdown":"My solution : \r\nIn addition to the persistence.xml file I created application.properties file : \r\n    # Connection url for the database\r\n    spring.datasource.url=jdbc:postgresql://ip:port/db\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto =update\r\n    spring.jpa.show-sql = true\r\n    chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL9Dialect\r\n    spring.jpa.generate-ddl=true\r\n    server.port = 9091\r\n\r\nAfterwards, in my Application.java I added the following annotations and extend : \r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(&quot;repositories&quot;)\r\n    @EntityScan(&quot;dao&quot;)\r\n    public class Application extends SpringBootServletInitializer {","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>My solution : \nIn addition to the persistence.xml file I created application.properties file : \n    # Connection url for the database\n    spring.datasource.url=jdbc:postgresql://ip:port/db\n    spring.datasource.username=postgres\n    spring.datasource.password=postgres\n    spring.datasource.driver-class-name=org.postgresql.Driver\n    spring.jpa.hibernate.ddl-auto =update\n    spring.jpa.show-sql = true\n    chosen database\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL9Dialect\n    spring.jpa.generate-ddl=true\n    server.port = 9091</p>\n\n<p>Afterwards, in my Application.java I added the following annotations and extend : </p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(\"repositories\")\n@EntityScan(\"dao\")\npublic class Application extends SpringBootServletInitializer {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10177583,"reputation":145,"user_id":7515654,"accept_rate":0,"display_name":"abharku"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584482295,"creation_date":1584482295,"answer_id":60730826,"question_id":60728683,"body_markdown":"You need to override configure method from SpringBootServletInitializer\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \treturn application.sources(Application.class);\r\n    }","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>You need to override configure method from SpringBootServletInitializer</p>\n\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6607512,"reputation":31,"user_id":8297596,"display_name":"Ripunjoy RM Medhi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624044871,"creation_date":1621177254,"answer_id":67558171,"question_id":60728683,"body_markdown":"\r\nMake sure that your filename, class name and the name of the class inside the SpringApplication.run() function are the same.\r\nAlso, make sure you haven&#39;t forgotten the ```@SpringBootApplication``` annotation.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>Make sure that your filename, class name and the name of the class inside the SpringApplication.run() function are the same.\nAlso, make sure you haven't forgotten the <code>@SpringBootApplication</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":22329967,"reputation":451,"user_id":16551353,"display_name":"Мартин Русев"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627537526,"creation_date":1627537526,"answer_id":68570666,"question_id":60728683,"body_markdown":"I resolved my problem by adding dependancy &#39;spring-boot-starter-web&#39;.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I resolved my problem by adding dependancy 'spring-boot-starter-web'.</p>\n"},{"tags":[],"owner":{"account_id":7594758,"reputation":8039,"user_id":5761243,"display_name":"Muhammed Fasil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672044733,"creation_date":1672044733,"answer_id":74918686,"question_id":60728683,"body_markdown":"You can comment the `&lt;scope&gt;provided&lt;/scope&gt;` in pom.xml file like below\r\n\r\n[![See the sample snippet belo][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ENbRZ.png","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>You can comment the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> in pom.xml file like below</p>\n<p><a href=\"https://i.stack.imgur.com/ENbRZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENbRZ.png\" alt=\"See the sample snippet belo\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3088921,"reputation":1890,"user_id":2615510,"display_name":"Andrey Lebedenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684763417,"creation_date":1684763417,"answer_id":76306885,"question_id":60728683,"body_markdown":"I was fixing this because of https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298\r\n\r\nAnd my fix was to do this in pom.xml only:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNo changes in classes or config were needed.","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I was fixing this because of <a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298</a></p>\n<p>And my fix was to do this in pom.xml only:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>No changes in classes or config were needed.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35263,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1684763417,"creation_date":1584471603,"question_id":60728683,"body_markdown":"I&#39;m trying to start my spring-boot-web app but I&#39;m getting the following error : \r\n\r\n    2020-03-17 20:54:22.643  WARN 15640 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\r\n    2020-03-17 20:54:22.664 ERROR 15640 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n\r\nI configured the following ApplicationContext file : \r\n    \r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {&quot;repos&quot;})\r\n    public class AppConfig  {\r\n        @Bean\r\n        public LocalEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\r\n            factoryBean.setPersistenceUnitName(&quot;mydb&quot;);\r\n    \r\n            return factoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n    \r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\nI need those beans because in one of my services I inject the following objects :\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n    \r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n\r\n \r\nand my main app : \r\n\r\n    @SpringBootApplication\r\n    public class Application  extends SpringBootServletInitializer {\r\n    \r\n    \r\n        public static void main(String[]args)\r\n        {\r\n            //load the spring config class we configured\r\n            SpringApplication.run(AppConfig.class);\r\n        }\r\n\r\nmy dependencies in pom.xml : \r\n  \r\n\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nSolutions I tried but didnt work : \r\n\r\n1)add extends SpringBootServletInitializer to both Application.java and Appconfig.java\r\n\r\n2)Move the beans from the AppConfig.java to Application.java\r\n\r\n3)Tried to set the following annotation on  the application class : \r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n\r\n4)Adding the following dependency to the pom.xml : \r\n \r\n\r\n   &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"spring-boot web app fails to start : Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>I'm trying to start my spring-boot-web app but I'm getting the following error : </p>\n\n<pre><code>2020-03-17 20:54:22.643  WARN 15640 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\n2020-03-17 20:54:22.664 ERROR 15640 --- [           main] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p>I configured the following ApplicationContext file : </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\"repos\"})\npublic class AppConfig  {\n    @Bean\n    public LocalEntityManagerFactoryBean entityManagerFactory() {\n        LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\n        factoryBean.setPersistenceUnitName(\"mydb\");\n\n        return factoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n\n        return transactionManager;\n    }\n}\n</code></pre>\n\n<p>I need those beans because in one of my services I inject the following objects :</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory emf;\n\n@PersistenceContext\nprivate EntityManager em;\n</code></pre>\n\n<p>and my main app : </p>\n\n<pre><code>@SpringBootApplication\npublic class Application  extends SpringBootServletInitializer {\n\n\n    public static void main(String[]args)\n    {\n        //load the spring config class we configured\n        SpringApplication.run(AppConfig.class);\n    }\n</code></pre>\n\n<p>my dependencies in pom.xml : </p>\n\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Solutions I tried but didnt work : </p>\n\n<p>1)add extends SpringBootServletInitializer to both Application.java and Appconfig.java</p>\n\n<p>2)Move the beans from the AppConfig.java to Application.java</p>\n\n<p>3)Tried to set the following annotation on  the application class : </p>\n\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n</code></pre>\n\n<p>4)Adding the following dependency to the pom.xml : </p>\n\n<p>\n        org.springframework.boot\n        spring-boot-starter-tomcat\n        2.2.5.RELEASE\n    </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684763483,"post_id":76302249,"comment_id":134560132,"body_markdown":"Because those attributes are only used for non HTML responses, there is a default HTML page dispaying the default available parameters. If you need additional ones you will need a custom page. However I do not see how `message` and `status` can leak information, the stacktrace however can (and it is configurable if that should be displayed or not).","body":"Because those attributes are only used for non HTML responses, there is a default HTML page dispaying the default available parameters. If you need additional ones you will need a custom page. However I do not see how <code>message</code> and <code>status</code> can leak information, the stacktrace however can (and it is configurable if that should be displayed or not)."},{"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"score":0,"creation_date":1684764660,"post_id":76302249,"comment_id":134560424,"body_markdown":"Thanks for the response, ```message``` can contain internal info about the application, I cannot guarantee for that, it would be great if the ```message``` attribute also removed from html response too since I am telling spring boot to remove it right...","body":"Thanks for the response, <code>message</code> can contain internal info about the application, I cannot guarantee for that, it would be great if the <code>message</code> attribute also removed from html response too since I am telling spring boot to remove it right..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684765314,"post_id":76302249,"comment_id":134560599,"body_markdown":"No you aren&#39;t, as stated the errorattributes aren&#39;t used for HTML only for non HTML responses (JSON, XML, plain text).","body":"No you aren&#39;t, as stated the errorattributes aren&#39;t used for HTML only for non HTML responses (JSON, XML, plain text)."}],"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684763110,"creation_date":1684709719,"question_id":76302249,"body_markdown":"\r\nI want to remove some error attributes from error response in springboot since they could leak sensitive information.\r\n\r\n\r\n     @Component\r\n     public class MyCustomErrorAttributes extends DefaultErrorAttributes {\r\n\r\n          @Override\r\n          public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\r\n\r\n               Map&lt;String, Object&gt; errorAttributes = super.getErrorAttributes(webRequest, options);\r\n               errorAttributes.put(&quot;locale&quot;, webRequest.getLocale().toString());\r\n               errorAttributes.remove(&quot;message&quot;);\r\n               errorAttributes.remove(&quot;status&quot;);\r\n        \r\n               return errorAttributes;\r\n          }\r\n      }\r\n\r\nThis is working when I send a request containing Accept header ```application/json```. But when I send ```text/html```, I am able to see ```message``` and ```status``` attributes in the response. This is leaking the information and looks like someone can try to get extra information from my application.\r\n\r\nHere is the response, you can see that the ```message``` (```&lt;p&gt;&lt;b&gt;Message&lt;/b&gt;```) attribute exists even if I removed it in ```getErrorAttributes``` method.\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n   &lt;head&gt;\r\n      &lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;\r\n   &lt;/head&gt;\r\n   &lt;body&gt;\r\n      &lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;\r\n      &lt;hr class=&quot;line&quot; /&gt;\r\n      &lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Request processing failed: java.lang.NullPointerException: hellow&lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n      &lt;/p&gt;\r\n      &lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;\r\n      &lt;pre&gt;jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: hellow\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&lt;/pre&gt;\r\n      &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\r\n      &lt;pre&gt;java.lang.NullPointerException: hellow\r\n\tcom.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\r\n\tjava.base&amp;#47;jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\r\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&lt;/pre&gt;\r\n      &lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;\r\n      &lt;hr class=&quot;line&quot; /&gt;\r\n      &lt;h3&gt;Apache Tomcat/10.1.1&lt;/h3&gt;\r\n   &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[text/html media response ss][1]\r\n\r\nAnd you can see that ```message``` and ```status``` attributes does not exist in ```application/json``` response:\r\n```\r\n{\r\n    &quot;timestamp&quot;: 1684710265831,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;java.lang.NullPointerException: hellow\\n\\tat com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\r\n    &quot;path&quot;: &quot;/4/error_deneme/20&quot;,\r\n    &quot;locale&quot;: &quot;en_US&quot;\r\n}\r\n```\r\n\r\n```locale``` attribute I added also does not exist in ```text/html``` response\r\n\r\nEDIT:\r\n\r\nIt looks like ```getErrorAttributes``` does not effect response when ```text/html``` media type is requested\r\n\r\nWhat is going on here? Can you help please?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tjryE.png","title":"Springboot, removed error attributes are available in another media type","body":"<p>I want to remove some error attributes from error response in springboot since they could leak sensitive information.</p>\n<pre><code> @Component\n public class MyCustomErrorAttributes extends DefaultErrorAttributes {\n\n      @Override\n      public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\n\n           Map&lt;String, Object&gt; errorAttributes = super.getErrorAttributes(webRequest, options);\n           errorAttributes.put(&quot;locale&quot;, webRequest.getLocale().toString());\n           errorAttributes.remove(&quot;message&quot;);\n           errorAttributes.remove(&quot;status&quot;);\n    \n           return errorAttributes;\n      }\n  }\n</code></pre>\n<p>This is working when I send a request containing Accept header <code>application/json</code>. But when I send <code>text/html</code>, I am able to see <code>message</code> and <code>status</code> attributes in the response. This is leaking the information and looks like someone can try to get extra information from my application.</p>\n<p>Here is the response, you can see that the <code>message</code> (<code>&lt;p&gt;&lt;b&gt;Message&lt;/b&gt;</code>) attribute exists even if I removed it in <code>getErrorAttributes</code> method.</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n   &lt;head&gt;\n      &lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Request processing failed: java.lang.NullPointerException: hellow&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.\n      &lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: hellow\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;java.lang.NullPointerException: hellow\n    com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\n    java.base&amp;#47;jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    \norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;h3&gt;Apache Tomcat/10.1.1&lt;/h3&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tjryE.png\" rel=\"nofollow noreferrer\">text/html media response ss</a></p>\n<p>And you can see that <code>message</code> and <code>status</code> attributes does not exist in <code>application/json</code> response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1684710265831,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;java.lang.NullPointerException: hellow\\n\\tat com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\n    &quot;path&quot;: &quot;/4/error_deneme/20&quot;,\n    &quot;locale&quot;: &quot;en_US&quot;\n}\n</code></pre>\n<p><code>locale</code> attribute I added also does not exist in <code>text/html</code> response</p>\n<p>EDIT:</p>\n<p>It looks like <code>getErrorAttributes</code> does not effect response when <code>text/html</code> media type is requested</p>\n<p>What is going on here? Can you help please?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"score":1,"creation_date":1368612105,"post_id":16561692,"comment_id":23794705,"body_markdown":"please [check link](https://developers.google.com/analytics/devguides/collection/android/v2/exceptions)","body":"please <a href=\"https://developers.google.com/analytics/devguides/collection/android/v2/exceptions\" rel=\"nofollow noreferrer\">check link</a>"},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1368612426,"post_id":16561692,"comment_id":23794889,"body_markdown":"when crash happens your activity is destroyed so there is no way to handle the crash yourself.","body":"when crash happens your activity is destroyed so there is no way to handle the crash yourself."},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1368613063,"post_id":16561692,"comment_id":23795264,"body_markdown":"@Raghunandan yes but if the crash happens because of an unhandled exception you can use a general catch all exception handler and prevent it from completely crashing.","body":"@Raghunandan yes but if the crash happens because of an unhandled exception you can use a general catch all exception handler and prevent it from completely crashing."},{"owner":{"account_id":142732,"reputation":10255,"user_id":1747491,"accept_rate":62,"display_name":"theblang"},"score":0,"creation_date":1384266836,"post_id":16561692,"comment_id":29660398,"body_markdown":"@LoganDam Ever figure anything out?","body":"@LoganDam Ever figure anything out?"},{"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"score":0,"creation_date":1384344650,"post_id":16561692,"comment_id":29697033,"body_markdown":"@mattblang I actually haven&#39;t touched my android stuff in quite a while now, work has been crazy. Might get back into the android world again soon though. CRUSADER&#39;s option looks like the way to go from the reading I&#39;ve done.","body":"@mattblang I actually haven&#39;t touched my android stuff in quite a while now, work has been crazy. Might get back into the android world again soon though. CRUSADER&#39;s option looks like the way to go from the reading I&#39;ve done."}],"answers":[{"tags":[],"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"down_vote_count":1,"up_vote_count":108,"is_accepted":true,"score":107,"last_activity_date":1684763101,"creation_date":1368614086,"answer_id":16562770,"question_id":16561692,"body_markdown":"Here, check for the [link for reference][1].\r\n\r\nIn here you create a class say **ExceptionHandler** that `implements java.lang.Thread.UncaughtExceptionHandler`..\r\n\r\nInside this class you will do your life saving stuff like creating stacktrace and gettin ready to upload error report etc....\r\n\r\n&gt; **Now comes the important part** i.e. How to catch that exception.\r\nThough it is very simple. Copy following line of code in your each Activity just after the call of super method in your overriden `onCreate` method.\r\n&gt; \r\n&gt;     Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\r\n&gt; \r\n&gt; Your Activity may look something like this…\r\n&gt; \r\n&gt;     public class ForceClose extends Activity {\r\n&gt;         /** Called when the activity is first created. */\r\n&gt;         @Override\r\n&gt;         public void onCreate(Bundle savedInstanceState) {\r\n&gt;             super.onCreate(savedInstanceState);\r\n&gt;     \r\n&gt;             Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\r\n&gt;     \r\n&gt;             setContentView(R.layout.main);\r\n&gt;         }\r\n&gt;     }\r\n\r\nAnd this is a sample ExceptionHandler class:\r\n\r\n    public class ExceptionHandler implements Thread.UncaughtExceptionHandler {\r\n      private static final String TAG = &quot;ExceptionHandler&quot;;\r\n    \r\n      @Override\r\n      public void uncaughtException(@NonNull Thread thread, @NonNull Throwable exception) {\r\n        Log.e(TAG, &quot;uncaughtException: &quot; + &quot;\\n&quot; + getErrorReport(exception));\r\n        Log.i(TAG, getDeviceInfo());\r\n        Log.i(TAG, getFirmwareInfo());\r\n    \r\n        stopTheApp();\r\n      }\r\n    \r\n      private String getErrorReport(@NonNull Throwable exception) {\r\n        ApplicationErrorReport.CrashInfo crashInfo = new ApplicationErrorReport.CrashInfo(exception);\r\n    \r\n        return &quot;\\nCAUSE OF ERROR\\n&quot; +\r\n          crashInfo.stackTrace;\r\n      }\r\n    \r\n      private String getDeviceInfo() {\r\n        return\r\n          &quot;\\nDEVICE INFORMATION\\n&quot; +\r\n            &quot;Brand: &quot; +\r\n            Build.BRAND +\r\n            &quot;\\n&quot; +\r\n            &quot;Device: &quot; +\r\n            Build.DEVICE +\r\n            &quot;\\n&quot; +\r\n            &quot;Model: &quot; +\r\n            Build.MODEL +\r\n            &quot;\\n&quot; +\r\n            &quot;Id: &quot; +\r\n            Build.ID +\r\n            &quot;\\n&quot; +\r\n            &quot;Product: &quot; +\r\n            Build.PRODUCT +\r\n            &quot;\\n&quot;;\r\n      }\r\n    \r\n      private String getFirmwareInfo() {\r\n        return &quot;\\nFIRMWARE\\n&quot; +\r\n          &quot;SDK: &quot; +\r\n          Build.VERSION.SDK_INT +\r\n          &quot;\\n&quot; +\r\n          &quot;Release: &quot; +\r\n          Build.VERSION.RELEASE +\r\n          &quot;\\n&quot; +\r\n          &quot;Incremental: &quot; +\r\n          Build.VERSION.INCREMENTAL +\r\n          &quot;\\n&quot;;\r\n      }\r\n    \r\n      private void stopTheApp() {\r\n        android.os.Process.killProcess(android.os.Process.myPid());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://trivedihardik.wordpress.com/2011/08/20/how-to-avoid-force-close-error-in-android/\r\n","title":"Android exception handling best practice?","body":"<p>Here, check for the <a href=\"http://trivedihardik.wordpress.com/2011/08/20/how-to-avoid-force-close-error-in-android/\" rel=\"nofollow noreferrer\">link for reference</a>.</p>\n<p>In here you create a class say <strong>ExceptionHandler</strong> that <code>implements java.lang.Thread.UncaughtExceptionHandler</code>..</p>\n<p>Inside this class you will do your life saving stuff like creating stacktrace and gettin ready to upload error report etc....</p>\n<blockquote>\n<p><strong>Now comes the important part</strong> i.e. How to catch that exception.\nThough it is very simple. Copy following line of code in your each Activity just after the call of super method in your overriden <code>onCreate</code> method.</p>\n<pre><code>Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n</code></pre>\n<p>Your Activity may look something like this…</p>\n<pre><code>public class ForceClose extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n\n        setContentView(R.layout.main);\n    }\n}\n</code></pre>\n</blockquote>\n<p>And this is a sample ExceptionHandler class:</p>\n<pre><code>public class ExceptionHandler implements Thread.UncaughtExceptionHandler {\n  private static final String TAG = &quot;ExceptionHandler&quot;;\n\n  @Override\n  public void uncaughtException(@NonNull Thread thread, @NonNull Throwable exception) {\n    Log.e(TAG, &quot;uncaughtException: &quot; + &quot;\\n&quot; + getErrorReport(exception));\n    Log.i(TAG, getDeviceInfo());\n    Log.i(TAG, getFirmwareInfo());\n\n    stopTheApp();\n  }\n\n  private String getErrorReport(@NonNull Throwable exception) {\n    ApplicationErrorReport.CrashInfo crashInfo = new ApplicationErrorReport.CrashInfo(exception);\n\n    return &quot;\\nCAUSE OF ERROR\\n&quot; +\n      crashInfo.stackTrace;\n  }\n\n  private String getDeviceInfo() {\n    return\n      &quot;\\nDEVICE INFORMATION\\n&quot; +\n        &quot;Brand: &quot; +\n        Build.BRAND +\n        &quot;\\n&quot; +\n        &quot;Device: &quot; +\n        Build.DEVICE +\n        &quot;\\n&quot; +\n        &quot;Model: &quot; +\n        Build.MODEL +\n        &quot;\\n&quot; +\n        &quot;Id: &quot; +\n        Build.ID +\n        &quot;\\n&quot; +\n        &quot;Product: &quot; +\n        Build.PRODUCT +\n        &quot;\\n&quot;;\n  }\n\n  private String getFirmwareInfo() {\n    return &quot;\\nFIRMWARE\\n&quot; +\n      &quot;SDK: &quot; +\n      Build.VERSION.SDK_INT +\n      &quot;\\n&quot; +\n      &quot;Release: &quot; +\n      Build.VERSION.RELEASE +\n      &quot;\\n&quot; +\n      &quot;Incremental: &quot; +\n      Build.VERSION.INCREMENTAL +\n      &quot;\\n&quot;;\n  }\n\n  private void stopTheApp() {\n    android.os.Process.killProcess(android.os.Process.myPid());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3121459,"reputation":671,"user_id":2641158,"accept_rate":56,"display_name":"Louis Evans"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1376041246,"creation_date":1376041246,"answer_id":18143773,"question_id":16561692,"body_markdown":"You could just use a generic alert dialog to quickly display error messages.\r\nFor example...\r\n\r\n    //******************************************\r\n\t//some generic method\r\n\t//******************************************\r\n\tprivate void doStuff()\r\n\t{\t\t\r\n\t\ttry\r\n\t\t{\r\n            //do some stuff here\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tmessageBox(&quot;doStuff&quot;, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\n    //*********************************************************\r\n    //generic dialog, takes in the method name and error message\r\n    //*********************************************************\r\n\tprivate void messageBox(String method, String message)\r\n\t{\r\n\t\tLog.d(&quot;EXCEPTION: &quot; + method,  message);\r\n\r\n\t\tAlertDialog.Builder messageBox = new AlertDialog.Builder(this);\r\n\t\tmessageBox.setTitle(method);\r\n\t\tmessageBox.setMessage(message);\r\n\t\tmessageBox.setCancelable(false);\r\n\t\tmessageBox.setNeutralButton(&quot;OK&quot;, null);\r\n\t\tmessageBox.show();\r\n\t}\r\n\r\n\r\nYou could also add other error handling options into this method, such as print stacktrace","title":"Android exception handling best practice?","body":"<p>You could just use a generic alert dialog to quickly display error messages.\nFor example...</p>\n\n<pre><code>//******************************************\n//some generic method\n//******************************************\nprivate void doStuff()\n{       \n    try\n    {\n        //do some stuff here\n    }\n    catch(Exception e)\n    {\n        messageBox(\"doStuff\", e.getMessage());\n    }\n}\n\n\n//*********************************************************\n//generic dialog, takes in the method name and error message\n//*********************************************************\nprivate void messageBox(String method, String message)\n{\n    Log.d(\"EXCEPTION: \" + method,  message);\n\n    AlertDialog.Builder messageBox = new AlertDialog.Builder(this);\n    messageBox.setTitle(method);\n    messageBox.setMessage(message);\n    messageBox.setCancelable(false);\n    messageBox.setNeutralButton(\"OK\", null);\n    messageBox.show();\n}\n</code></pre>\n\n<p>You could also add other error handling options into this method, such as print stacktrace</p>\n"},{"tags":[],"owner":{"account_id":2069497,"reputation":1883,"user_id":2525237,"accept_rate":70,"display_name":"sunyata"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1626512223,"creation_date":1394983195,"answer_id":22438720,"question_id":16561692,"body_markdown":"i found the &quot;wtf&quot; (what a terrible failure) method in the Log class. From the description:\r\n\r\n&gt; Depending on system configuration, a report may be added to the\r\n&gt; DropBoxManager and/or the process may be terminated immediately with\r\n&gt; an error dialog.\r\n\r\nhttp://developer.android.com/reference/android/util/Log.html","title":"Android exception handling best practice?","body":"<p>i found the &quot;wtf&quot; (what a terrible failure) method in the Log class. From the description:</p>\n<blockquote>\n<p>Depending on system configuration, a report may be added to the\nDropBoxManager and/or the process may be terminated immediately with\nan error dialog.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/util/Log.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/util/Log.html</a></p>\n"}],"owner":{"account_id":1614893,"reputation":4452,"user_id":1492861,"accept_rate":93,"display_name":"ldam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92026,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":16562770,"answer_count":3,"score":85,"last_activity_date":1684763101,"creation_date":1368610924,"question_id":16561692,"body_markdown":"If my app crashes, it hangs for a couple of seconds before I&#39;m told by Android that the app crashed and needs to close. So I was thinking of catching all exceptions in my app with a general:\r\n\r\n    try {\r\n        // ... \r\n    } catch(Exception e) { \r\n        // ...\r\n    } \r\n\r\nAnd make a new `Activity` that explains that the application crashed instantly (and also giving users an opportunity to send a mail with the error details), instead of having that delay thanks to Android. Are there better methods of accomplishing this or is this discouraged?\r\n\r\n**Update:** I am using a Nexus 5 with ART enabled and I am not noticing the delay I used to experience with apps crashing (the &quot;hanging&quot; I was talking about originally). I think since everything is native code now, the crash happens instantly along with getting all the crash information. Perhaps the Nexus 5 is just quick :) regardless, this may not be a worry in future releases of Android (given that ART is going to be the default runtime in Android L).","title":"Android exception handling best practice?","body":"<p>If my app crashes, it hangs for a couple of seconds before I'm told by Android that the app crashed and needs to close. So I was thinking of catching all exceptions in my app with a general:</p>\n\n<pre><code>try {\n    // ... \n} catch(Exception e) { \n    // ...\n} \n</code></pre>\n\n<p>And make a new <code>Activity</code> that explains that the application crashed instantly (and also giving users an opportunity to send a mail with the error details), instead of having that delay thanks to Android. Are there better methods of accomplishing this or is this discouraged?</p>\n\n<p><strong>Update:</strong> I am using a Nexus 5 with ART enabled and I am not noticing the delay I used to experience with apps crashing (the \"hanging\" I was talking about originally). I think since everything is native code now, the crash happens instantly along with getting all the crash information. Perhaps the Nexus 5 is just quick :) regardless, this may not be a worry in future releases of Android (given that ART is going to be the default runtime in Android L).</p>\n"},{"tags":["java","unit-testing","static","kotlin","mockk"],"answers":[{"tags":[],"owner":{"account_id":4615556,"reputation":2769,"user_id":3742196,"display_name":"oleksiyp"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1523392879,"creation_date":1523392879,"answer_id":49762546,"question_id":49762409,"body_markdown":" MockK allows mocking static Java methods. The main purpose for it is mocking of Kotlin extension functions, so it is not as powerful as PowerMock, but still does it&#39;s job even for Java static methods.\r\n\r\nThe syntax would be following:\r\n\r\n    staticMockk&lt;Uri&gt;().use {\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\r\n      \r\n        assertEquals(Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;), Uri.parse(&quot;http://test/path&quot;))\r\n\r\n        verify { Uri.parse(&quot;http://test/path&quot;) }  \r\n    }\r\n\r\nMore details here: http://mockk.io/#extension-functions","title":"Mock static java methods using Mockk","body":"<p>MockK allows mocking static Java methods. The main purpose for it is mocking of Kotlin extension functions, so it is not as powerful as PowerMock, but still does it's job even for Java static methods.</p>\n\n<p>The syntax would be following:</p>\n\n<pre><code>staticMockk&lt;Uri&gt;().use {\n    every { Uri.parse(\"http://test/path\") } returns Uri(\"http\", \"test\", \"path\")\n\n    assertEquals(Uri(\"http\", \"test\", \"path\"), Uri.parse(\"http://test/path\"))\n\n    verify { Uri.parse(\"http://test/path\") }  \n}\n</code></pre>\n\n<p>More details here: <a href=\"http://mockk.io/#extension-functions\" rel=\"noreferrer\">http://mockk.io/#extension-functions</a></p>\n"},{"tags":[],"owner":{"account_id":5339493,"reputation":7038,"user_id":4257162,"accept_rate":80,"display_name":"LeoColman"},"down_vote_count":2,"up_vote_count":110,"is_accepted":true,"score":108,"last_activity_date":1677441695,"creation_date":1523631049,"answer_id":49819729,"question_id":49762409,"body_markdown":"After mockk 1.8.1:\r\n-\r\n\r\nMockk version 1.8.1 deprecated the solution below. After that version you should do:\r\n\r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        mockkStatic(Uri::class)\r\n        val uriMock = mockk&lt;Uri&gt;() \r\n        every { Uri.parse(&quot;test/path&quot;) } returns uriMock\r\n    }\r\n\r\n`mockkStatic` will be cleared everytime it&#39;s called, so you don&#39;t need to unmock it before using it again. \r\n\r\nHowever, if that static namespace will be shared across tests it will share the mocked behavior. To avoid it, make sure to `unmockkStatic` after your suite is done.\r\n\r\n\r\n\r\n-----\r\n\r\n**DEPRECATED:**\r\n\r\nIf you need that mocked behaviour to always be there, not only in a single test case, you can mock it using `@Before` and `@After`:\r\n\r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        staticMockk&lt;Uri&gt;().mock()\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)    //This line can also be in any @Test case\r\n    }\r\n\r\n    @After\r\n    fun unmockAllUriInteractions() {\r\n        staticMockk&lt;Uri&gt;().unmock()\r\n    }\r\n\r\nThis way, if you expect more pieces of your class to use the Uri class, you may mock it in a single place, instead of polluting your code with `.use` everywhere.\r\n","title":"Mock static java methods using Mockk","body":"<h2>After mockk 1.8.1:</h2>\n<p>Mockk version 1.8.1 deprecated the solution below. After that version you should do:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    val uriMock = mockk&lt;Uri&gt;() \n    every { Uri.parse(&quot;test/path&quot;) } returns uriMock\n}\n</code></pre>\n<p><code>mockkStatic</code> will be cleared everytime it's called, so you don't need to unmock it before using it again.</p>\n<p>However, if that static namespace will be shared across tests it will share the mocked behavior. To avoid it, make sure to <code>unmockkStatic</code> after your suite is done.</p>\n<hr />\n<p><strong>DEPRECATED:</strong></p>\n<p>If you need that mocked behaviour to always be there, not only in a single test case, you can mock it using <code>@Before</code> and <code>@After</code>:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().mock()\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)    //This line can also be in any @Test case\n}\n\n@After\nfun unmockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().unmock()\n}\n</code></pre>\n<p>This way, if you expect more pieces of your class to use the Uri class, you may mock it in a single place, instead of polluting your code with <code>.use</code> everywhere.</p>\n"},{"tags":[],"owner":{"account_id":10755898,"reputation":2412,"user_id":7913860,"display_name":"Danilo Lemes"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1600112131,"creation_date":1600112131,"answer_id":63890812,"question_id":49762409,"body_markdown":"Additionally to the accepted answer:\r\n\r\nYou can&#39;t create an `Uri` like that, you gonna have to mock the Uri instance as well. Something like:\r\n\r\n    private val mockUri = mockk&lt;Uri&gt;()\r\n    \r\n    @Before\r\n    fun mockAllUriInteractions() {\r\n        mockkStatic(Uri::class)\r\n        every { Uri.parse(&quot;http://test/path&quot;) } returns mockUri\r\n        // or just every { Uri.parse(&quot;http://test/path&quot;) } returns mockk&lt;Uri&gt;()\r\n    }\r\n\r\n","title":"Mock static java methods using Mockk","body":"<p>Additionally to the accepted answer:</p>\n<p>You can't create an <code>Uri</code> like that, you gonna have to mock the Uri instance as well. Something like:</p>\n<pre><code>private val mockUri = mockk&lt;Uri&gt;()\n\n@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    every { Uri.parse(&quot;http://test/path&quot;) } returns mockUri\n    // or just every { Uri.parse(&quot;http://test/path&quot;) } returns mockk&lt;Uri&gt;()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20871286,"reputation":251,"user_id":15331185,"display_name":"Tomas Rohovsky"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1614947453,"creation_date":1614876553,"answer_id":66479439,"question_id":49762409,"body_markdown":"# Beware\r\n\r\nIf you call `mockkSatic()` without a block, do not forget to call `unmockkStatic()` after the mocked method is called. The method is not unmocked automatically and you will still get the mocked value even in different test classes which do not call `mockkStatic()`, but use the static method.\r\n\r\nAnother option is to execute the mocked method inside a block, then it will be automatically unmocked:\r\n```\r\nmockkStatic(Uri::class) {\r\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\r\n    val uri = Uri.parse(&quot;http://test/path&quot;)\r\n}\r\n\r\n```","title":"Mock static java methods using Mockk","body":"<h1>Beware</h1>\n<p>If you call <code>mockkSatic()</code> without a block, do not forget to call <code>unmockkStatic()</code> after the mocked method is called. The method is not unmocked automatically and you will still get the mocked value even in different test classes which do not call <code>mockkStatic()</code>, but use the static method.</p>\n<p>Another option is to execute the mocked method inside a block, then it will be automatically unmocked:</p>\n<pre><code>mockkStatic(Uri::class) {\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\n    val uri = Uri.parse(&quot;http://test/path&quot;)\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7610951,"reputation":257,"user_id":5771796,"display_name":"neronovs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641414550,"creation_date":1641414550,"answer_id":70599227,"question_id":49762409,"body_markdown":"If we are going to mock static, like: *mockkStatic(Klass::class)*\r\n\r\nthen we definitely have to unmock it, like: *unmockkStatic(Klass::class)*\r\n\r\nI would suggest to unmock it in the method annotated @After.\r\n\r\nA full example would be:\r\n\r\n    class SomeTest {\r\n      private late var viewMode: SomeViewModel\r\n\r\n      @Before\r\n      fun setUp() {\r\n        viewMode = SomeViewModel()\r\n        mockkStatic(OurClassWithStaticMethods::class)       \r\n      }\r\n\r\n      @After\r\n      fun tearDown() {\r\n        unmockkStatic(OurClassWithStaticMethods::class)\r\n      }\r\n\r\n      @Test\r\n      fun `Check that static method get() in the class OurClassWithStaticMethods was called`() {\r\n        //Given\r\n        every { OurClassWithStaticMethods.get&lt;Any&gt;(any()) } returns &quot;dummyString&quot;\r\n\r\n        //When\r\n        viewModel.doSomethingWhereStaticMethodIsCalled()\r\n\r\n        //Then\r\n        verify(exactly = 1) { \r\n           OurClassWithStaticMethods.get&lt;Any&gt;(any()) \r\n        }\r\n      }\r\n    }\r\n\r\nThis example is written with the mocking library &quot;[Mockk][1]&quot; v.1.12.0\r\n\r\n\r\n  [1]: https://mockk.io/","title":"Mock static java methods using Mockk","body":"<p>If we are going to mock static, like: <em>mockkStatic(Klass::class)</em></p>\n<p>then we definitely have to unmock it, like: <em>unmockkStatic(Klass::class)</em></p>\n<p>I would suggest to unmock it in the method annotated @After.</p>\n<p>A full example would be:</p>\n<pre><code>class SomeTest {\n  private late var viewMode: SomeViewModel\n\n  @Before\n  fun setUp() {\n    viewMode = SomeViewModel()\n    mockkStatic(OurClassWithStaticMethods::class)       \n  }\n\n  @After\n  fun tearDown() {\n    unmockkStatic(OurClassWithStaticMethods::class)\n  }\n\n  @Test\n  fun `Check that static method get() in the class OurClassWithStaticMethods was called`() {\n    //Given\n    every { OurClassWithStaticMethods.get&lt;Any&gt;(any()) } returns &quot;dummyString&quot;\n\n    //When\n    viewModel.doSomethingWhereStaticMethodIsCalled()\n\n    //Then\n    verify(exactly = 1) { \n       OurClassWithStaticMethods.get&lt;Any&gt;(any()) \n    }\n  }\n}\n</code></pre>\n<p>This example is written with the mocking library &quot;<a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">Mockk</a>&quot; v.1.12.0</p>\n"},{"tags":[],"owner":{"account_id":5742110,"reputation":807,"user_id":4534493,"display_name":"Naren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659569270,"creation_date":1659569270,"answer_id":73228853,"question_id":49762409,"body_markdown":"As mentioned in multiple answers above, you&#39;ll have to ensure to invoke the unmockkStatic - otherwise you&#39;ll end up with flaky tests (since the mocked object/function will be available across test classes. \r\n\r\nIn my scenario - I had a module-wide extension function in kotlin and to mock that I used a companion object like below:\r\n\r\n    class SampleTest {\r\n\r\n    companion object {\r\n        @BeforeAll\r\n        @JvmStatic\r\n        fun setup() {\r\n            mockkStatic(&quot;packagename.filenameKt&quot;)\r\n        }\r\n\r\n        @AfterAll\r\n        @JvmStatic\r\n        fun teardown() {\r\n            unmockkStatic(&quot;packagename.filenameKt&quot;)\r\n        }\r\n    }}\r\n\r\n","title":"Mock static java methods using Mockk","body":"<p>As mentioned in multiple answers above, you'll have to ensure to invoke the unmockkStatic - otherwise you'll end up with flaky tests (since the mocked object/function will be available across test classes.</p>\n<p>In my scenario - I had a module-wide extension function in kotlin and to mock that I used a companion object like below:</p>\n<pre><code>class SampleTest {\n\ncompanion object {\n    @BeforeAll\n    @JvmStatic\n    fun setup() {\n        mockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n\n    @AfterAll\n    @JvmStatic\n    fun teardown() {\n        unmockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6804310,"reputation":21,"user_id":5236615,"display_name":"Rishabh Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762932,"creation_date":1684759125,"answer_id":76306289,"question_id":49762409,"body_markdown":"\r\n\r\n    // Add @RunWith(RobolectricTestRunner::class) on top of \r\n    // your class since it provides access to Android framework APIs.\r\n    \r\n    // Test case written inside the `mockkStatic` method to \r\n    // verify the behavior of a method that involves a static method call in Kotlin\r\n            \r\n                @Test\r\n                fun `my test case`() = runBlocking {\r\n                    // Mocking the Log class\r\n                    mockkStatic(Log::class) {\r\n                        // Test case to verify the behavior of a method \r\n                        // that involves a log method call\r\n                    }\r\n                }\r\n\r\n\r\n\r\n\r\n    // OR just use `mockkObject(Log)` without any block ","title":"Mock static java methods using Mockk","body":"<pre><code>// Add @RunWith(RobolectricTestRunner::class) on top of \n// your class since it provides access to Android framework APIs.\n\n// Test case written inside the `mockkStatic` method to \n// verify the behavior of a method that involves a static method call in Kotlin\n        \n            @Test\n            fun `my test case`() = runBlocking {\n                // Mocking the Log class\n                mockkStatic(Log::class) {\n                    // Test case to verify the behavior of a method \n                    // that involves a log method call\n                }\n            }\n\n\n\n\n// OR just use `mockkObject(Log)` without any block \n</code></pre>\n"}],"owner":{"account_id":943783,"reputation":1571,"user_id":971436,"accept_rate":33,"display_name":"Andrzej Sawoniewicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68212,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":49819729,"answer_count":7,"score":57,"last_activity_date":1684762932,"creation_date":1523392294,"question_id":49762409,"body_markdown":"We are currently working with java with kotlin project, slowly migrating the whole code to the latter.\r\n\r\nIs it possible to mock static methods like `Uri.parse()` using Mockk?\r\n\r\nHow would the sample code look like?","title":"Mock static java methods using Mockk","body":"<p>We are currently working with java with kotlin project, slowly migrating the whole code to the latter.</p>\n\n<p>Is it possible to mock static methods like <code>Uri.parse()</code> using Mockk?</p>\n\n<p>How would the sample code look like?</p>\n"},{"tags":["java","apache-kafka","microservices","scheduler"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684751081,"post_id":76305115,"comment_id":134557563,"body_markdown":"Another way would be to define a REST endpoint for communication between the two microservices.","body":"Another way would be to define a REST endpoint for communication between the two microservices."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684762243,"post_id":76305115,"comment_id":134559869,"body_markdown":"@Mar-Z Why REST over gRPC? Or what&#39;s what with using a message queue/broker, as already being done?","body":"@Mar-Z Why REST over gRPC? Or what&#39;s what with using a message queue/broker, as already being done?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684769184,"post_id":76305115,"comment_id":134561538,"body_markdown":"@OneCricketeer REST with Spring Boot MVC would be just another solution. OP asked for &quot;more ideas&quot;.","body":"@OneCricketeer REST with Spring Boot MVC would be just another solution. OP asked for &quot;more ideas&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684751183,"creation_date":1684751183,"answer_id":76305236,"question_id":76305115,"body_markdown":"Your idea is good. I assume that you create an event upon when all items are consumed and send it through some queue (or Kafka topic) where your service listens. I think this is very good and sound solution &lt;br&gt;\r\nHowever, I am not sure what type of other ideas you are looking for. \r\n\r\n 1. One option would be to use [Quartz enterprise Job scheduler][1]\r\n 2. The other one is similar to Cron scheduler that Spring provides, but it is more humanly readable compare to corn expression. It comes with Open Source MgntUtils library written and maintained by me. Here is [Javadoc page][2] that describes the idea. The library can be obtained as a [maven artifact][3], or on [GitHub][4], with source code and Javadoc. Also source code includes working runnable out of the box example on how to use it. (See class `com.mgnt.lifecycle.management.backgroundrunner.example.BackgroundRunnerUsageExample`)\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases","title":"Possible alternative to cron job based schedulers","body":"<p>Your idea is good. I assume that you create an event upon when all items are consumed and send it through some queue (or Kafka topic) where your service listens. I think this is very good and sound solution <br>\nHowever, I am not sure what type of other ideas you are looking for.</p>\n<ol>\n<li>One option would be to use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz enterprise Job scheduler</a></li>\n<li>The other one is similar to Cron scheduler that Spring provides, but it is more humanly readable compare to corn expression. It comes with Open Source MgntUtils library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc page</a> that describes the idea. The library can be obtained as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a>, or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">GitHub</a>, with source code and Javadoc. Also source code includes working runnable out of the box example on how to use it. (See class <code>com.mgnt.lifecycle.management.backgroundrunner.example.BackgroundRunnerUsageExample</code>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762470,"creation_date":1684762470,"answer_id":76306754,"question_id":76305115,"body_markdown":"You could try creating a KTable in Kafka Streams API and implement a Punctuator that&#39;ll iterate the table and process all events it has seen ","title":"Possible alternative to cron job based schedulers","body":"<p>You could try creating a KTable in Kafka Streams API and implement a Punctuator that'll iterate the table and process all events it has seen</p>\n"},{"tags":[],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762781,"creation_date":1684762781,"answer_id":76306797,"question_id":76305115,"body_markdown":"What about `org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler`?\r\n\r\n    Runnable task = createRunnable(s2);\r\n    ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n    scheduler.initialize();\r\n    scheduler.setPoolSize(2);\r\n    scheduler.schedule(task, date);","title":"Possible alternative to cron job based schedulers","body":"<p>What about <code>org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler</code>?</p>\n<pre><code>Runnable task = createRunnable(s2);\nThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\nscheduler.initialize();\nscheduler.setPoolSize(2);\nscheduler.schedule(task, date);\n</code></pre>\n"}],"owner":{"account_id":5138913,"reputation":83,"user_id":4116874,"accept_rate":89,"display_name":"TweaknFreak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684762781,"creation_date":1684750273,"question_id":76305115,"body_markdown":"We are processing data sets(aka item) from database in multiple Java micro services. We get a task which has all these items. Our services process these items as kafka event. One item is one event between services. \r\n\r\nEach service performs a said logic on the items. In one particular service, the logic is waiting for all items to get consumed and then trigger a business logic through a cron job based scheduler. \r\n\r\nHow can I remove this scheduler and maybe implement something more async in place?\r\n\r\nI came up with the approach of creating a producer that creates an event signifying the consumption of all items for a task so that the logic can follow. Any more ideas?","title":"Possible alternative to cron job based schedulers","body":"<p>We are processing data sets(aka item) from database in multiple Java micro services. We get a task which has all these items. Our services process these items as kafka event. One item is one event between services.</p>\n<p>Each service performs a said logic on the items. In one particular service, the logic is waiting for all items to get consumed and then trigger a business logic through a cron job based scheduler.</p>\n<p>How can I remove this scheduler and maybe implement something more async in place?</p>\n<p>I came up with the approach of creating a producer that creates an event signifying the consumption of all items for a task so that the logic can follow. Any more ideas?</p>\n"},{"tags":["java","nodes"],"answers":[{"tags":[],"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498180839,"creation_date":1498180839,"answer_id":44711644,"question_id":44710819,"body_markdown":"\r\n&gt;  does this mean that whenever I call curr.next the previous elements are just lost?\r\n\r\nAs you traversed down the list, you never modified `first` and you never modified the `next` link of any `Node`.  So no node is ever really lost.  Previously visited nodes just become a bit less convenient to access because you don&#39;t have a &quot;handle&quot; on them, but you could always find them again by starting back at the head of the list (`first`) and following the `next` links.\r\n\r\n&gt; I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? \r\n\r\nThe variable `first` will never be affected by anything other than an assignment statement having `first` on the left-hand side of the `=`.  On the other hand, the list to which `first` refers might change quite dramatically or be completely unaffected, depending on what you are using `curr` for, but `first` itself can only be affected by assigning a new value to `first`.\r\n\r\n&gt; Would the above code modify first or would I have to set first = curr;\r\n\r\nThe insert and delete code, as given, never modifies `first`. But it _should_, if it is going to be able to handle inserting a new node before the current first node, or deleting the current first node.  Maybe not with `first = curr` specifically, but `first` will definitely need to be updated to reflect a new head of the list.  I leave that, as the textbooks say, &quot;as a exercise for the reader&quot;.\r\n","title":"Questions about traversing, inserting, and deleting nodes","body":"<blockquote>\n  <p>does this mean that whenever I call curr.next the previous elements are just lost?</p>\n</blockquote>\n\n<p>As you traversed down the list, you never modified <code>first</code> and you never modified the <code>next</code> link of any <code>Node</code>.  So no node is ever really lost.  Previously visited nodes just become a bit less convenient to access because you don't have a \"handle\" on them, but you could always find them again by starting back at the head of the list (<code>first</code>) and following the <code>next</code> links.</p>\n\n<blockquote>\n  <p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? </p>\n</blockquote>\n\n<p>The variable <code>first</code> will never be affected by anything other than an assignment statement having <code>first</code> on the left-hand side of the <code>=</code>.  On the other hand, the list to which <code>first</code> refers might change quite dramatically or be completely unaffected, depending on what you are using <code>curr</code> for, but <code>first</code> itself can only be affected by assigning a new value to <code>first</code>.</p>\n\n<blockquote>\n  <p>Would the above code modify first or would I have to set first = curr;</p>\n</blockquote>\n\n<p>The insert and delete code, as given, never modifies <code>first</code>. But it <em>should</em>, if it is going to be able to handle inserting a new node before the current first node, or deleting the current first node.  Maybe not with <code>first = curr</code> specifically, but <code>first</code> will definitely need to be updated to reflect a new head of the list.  I leave that, as the textbooks say, \"as a exercise for the reader\".</p>\n"}],"owner":{"account_id":11166381,"reputation":1,"user_id":8194951,"display_name":"Finga licking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762655,"creation_date":1498173922,"question_id":44710819,"body_markdown":"Just started learning nodes and I have a few questions. Let&#39;s say I have a node class that looks like this:\r\n\r\n        private E number;\r\n        private Node next;\r\n        /**\r\n         *  Constructor\r\n         */\r\n        Node(E e){\r\n           number = e;\r\n           next = null;\r\n        }\r\n\r\nand I have a series of linked nodes with the starting node named first like so:\r\n\r\nfirst-&gt;(1)-&gt;(2)-&gt;(3)-&gt;(5)-&gt;(6)\r\n\r\nAssuming the list is not empty, to traverse the list, I would do something like so:\r\n\r\n    Node curr = first;\r\n    while(curr != null){\r\n        System.out.print(curr);\r\n        curr = curr.next;\r\n    }\r\n\r\nI understand that you cannot traverse a link list like this backwards, so does this mean that whenever I call curr.next the previous elements are just lost? \r\n\r\nI was also wondering if first, my original list, will ever be affected by a temporary node list like curr? For example, if I was to insert or delete a node on the list with codes similar to these: \r\n\r\nInsert:\r\n\r\n    Node curr = first;\r\n    Node newNode = new Node(4);\r\n    while(curr != null){\r\n        if(curr.number == 3){\r\n            newNode.next = curr.next;\r\n            curr.next = newNode;\r\n        }\r\n        curr = curr.next;\r\n    }\r\n\r\nDelete:\r\n\r\n    Node curr = first;\r\n    Node parent = first;\r\n    while(curr != null){\r\n        if(curr.number == 3){\r\n            parent.next = curr.next;\r\n        }\r\n        parent = curr;\r\n        curr = curr.next;\r\n    }\r\n\r\n\r\n\r\nWould the above code modify first or would I have to set `first = curr;` after the insertion or deletion for the changes take place? If they do modify first, how come `curr = curr.next;` doesn&#39;t modify first? What if I wanted to return the deleted node? Would I just do something like `curr.next = null;` and then `return curr;`?","title":"Questions about traversing, inserting, and deleting nodes","body":"<p>Just started learning nodes and I have a few questions. Let's say I have a node class that looks like this:</p>\n\n<pre><code>    private E number;\n    private Node next;\n    /**\n     *  Constructor\n     */\n    Node(E e){\n       number = e;\n       next = null;\n    }\n</code></pre>\n\n<p>and I have a series of linked nodes with the starting node named first like so:</p>\n\n<p>first->(1)->(2)->(3)->(5)->(6)</p>\n\n<p>Assuming the list is not empty, to traverse the list, I would do something like so:</p>\n\n<pre><code>Node curr = first;\nwhile(curr != null){\n    System.out.print(curr);\n    curr = curr.next;\n}\n</code></pre>\n\n<p>I understand that you cannot traverse a link list like this backwards, so does this mean that whenever I call curr.next the previous elements are just lost? </p>\n\n<p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? For example, if I was to insert or delete a node on the list with codes similar to these: </p>\n\n<p>Insert:</p>\n\n<pre><code>Node curr = first;\nNode newNode = new Node(4);\nwhile(curr != null){\n    if(curr.number == 3){\n        newNode.next = curr.next;\n        curr.next = newNode;\n    }\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Delete:</p>\n\n<pre><code>Node curr = first;\nNode parent = first;\nwhile(curr != null){\n    if(curr.number == 3){\n        parent.next = curr.next;\n    }\n    parent = curr;\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Would the above code modify first or would I have to set <code>first = curr;</code> after the insertion or deletion for the changes take place? If they do modify first, how come <code>curr = curr.next;</code> doesn't modify first? What if I wanted to return the deleted node? Would I just do something like <code>curr.next = null;</code> and then <code>return curr;</code>?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762629,"creation_date":1684762629,"answer_id":76306775,"question_id":76303659,"body_markdown":"What you are describing works as expected when you have only one instance of such a polling channel adapter. That `fixed-delay` option is exactly about starting a new task after that time when the previous is done. If you don&#39;t an executor on the poller, then your service activator is called from the scheduled thread and it is blocked until your process is done. \r\n\r\nIf you say that you have &quot;10 poller and same service activators&quot;, then it is really expected and natural that you got 10 parallel scheduled tasks against the same source of data.\r\n\r\nThere are several ways to mitigate your problem:\r\n\r\n1. Use DB-specific queries to avoid those records which are locked already in other process. For example, in Oracle there is something like `FOR UPDATE SKIP LOCKED` in the `SELECT` syntax. Other DB vendors may provide something similar.\r\n\r\n2. Always have only one instance of this poller: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\r\n\r\n3. You may also play with retry or distributes lock: https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry","title":"How to write a poller in spring integration within inbound channel adapter which run synchronously","body":"<p>What you are describing works as expected when you have only one instance of such a polling channel adapter. That <code>fixed-delay</code> option is exactly about starting a new task after that time when the previous is done. If you don't an executor on the poller, then your service activator is called from the scheduled thread and it is blocked until your process is done.</p>\n<p>If you say that you have &quot;10 poller and same service activators&quot;, then it is really expected and natural that you got 10 parallel scheduled tasks against the same source of data.</p>\n<p>There are several ways to mitigate your problem:</p>\n<ol>\n<li><p>Use DB-specific queries to avoid those records which are locked already in other process. For example, in Oracle there is something like <code>FOR UPDATE SKIP LOCKED</code> in the <code>SELECT</code> syntax. Other DB vendors may provide something similar.</p>\n</li>\n<li><p>Always have only one instance of this poller: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling</a></p>\n</li>\n<li><p>You may also play with retry or distributes lock: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":40719,"reputation":22666,"user_id":118061,"accept_rate":73,"display_name":"maxjackie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762629,"creation_date":1684738572,"question_id":76303659,"body_markdown":"spring integration within inbound channel adapter which run synchronously means second Iteration should run once it completes the first Iteration\r\n\r\n    &lt;int-jpa:inbound-channel-adapter \r\n\t\tid=&quot;ProcessingG1&quot; entity-manager=&quot;entityManager&quot;\r\n\t\texpect-single-result=&quot;false&quot;  \r\n\t\tnative-query=&quot;SELECT * FROM table1 FETCH FIRST 30 ROWS ONLY&quot;\r\n\t\tentity-class=&quot;org.entities.Table1&quot;\r\n\t\t&gt;\r\n\t\t&lt;int:poller fixed-delay=&quot;5000&quot;&gt;\r\n\t\t\t&lt;int:transactional /&gt;\r\n\t\t&lt;/int:poller&gt;\r\n\t&lt;/int-jpa:inbound-channel-adapter&gt;\r\n\r\n    &lt;int:service-activator input-channel=&quot;ProcessingG1&quot; ref=&quot;ProcessingG1&quot; /&gt;\r\n\r\nhere the poller is running every 5 seconds and giving the messages to service activator to process, till the service activator processes the messages it should not take next batch\r\n\r\nthere are 10 poller and same service activators for it I am facing the DB lock issue due to this scenario.\r\n\r\nI feel that if iterations were synchronous then it wont create the DB lock as service activator as also trying to update the same table ","title":"How to write a poller in spring integration within inbound channel adapter which run synchronously","body":"<p>spring integration within inbound channel adapter which run synchronously means second Iteration should run once it completes the first Iteration</p>\n<pre><code>&lt;int-jpa:inbound-channel-adapter \n    id=&quot;ProcessingG1&quot; entity-manager=&quot;entityManager&quot;\n    expect-single-result=&quot;false&quot;  \n    native-query=&quot;SELECT * FROM table1 FETCH FIRST 30 ROWS ONLY&quot;\n    entity-class=&quot;org.entities.Table1&quot;\n    &gt;\n    &lt;int:poller fixed-delay=&quot;5000&quot;&gt;\n        &lt;int:transactional /&gt;\n    &lt;/int:poller&gt;\n&lt;/int-jpa:inbound-channel-adapter&gt;\n\n&lt;int:service-activator input-channel=&quot;ProcessingG1&quot; ref=&quot;ProcessingG1&quot; /&gt;\n</code></pre>\n<p>here the poller is running every 5 seconds and giving the messages to service activator to process, till the service activator processes the messages it should not take next batch</p>\n<p>there are 10 poller and same service activators for it I am facing the DB lock issue due to this scenario.</p>\n<p>I feel that if iterations were synchronous then it wont create the DB lock as service activator as also trying to update the same table</p>\n"},{"tags":["java","inheritance","automation","testng","dataprovider"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684752791,"creation_date":1684752791,"answer_id":76305439,"question_id":76301258,"body_markdown":"You have data provider defined in different class. So you should also specify that class as a parameter to `@Test` annotation along with data provider name. Like this:\r\n\r\n```java\r\n@Test(description = &quot;User is not able to register Account with invalid Email&quot;, \r\n        groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\r\n        dataProvider = &quot;invalid-email&quot;,\r\n        dataProviderClass = your.package.Data.class, // &lt;-- put your Data class here \r\n        enabled = true)\r\n```\r\n","title":"Method requires a @DataProvider, even when @DataProvider for @Test method is provided","body":"<p>You have data provider defined in different class. So you should also specify that class as a parameter to <code>@Test</code> annotation along with data provider name. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;, \n        groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n        dataProvider = &quot;invalid-email&quot;,\n        dataProviderClass = your.package.Data.class, // &lt;-- put your Data class here \n        enabled = true)\n</code></pre>\n"}],"owner":{"account_id":20638624,"reputation":15,"user_id":15151782,"display_name":"Ivo Sorokins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684762435,"creation_date":1684692212,"question_id":76301258,"body_markdown":"After adding multiple **```@DataProviders```** for package ```dataobject``` class ```UserData``` , then renaming class to ```Data```, using newly added **```@DataProviders```** called ```invalid-email``` for testing multiple invalid inputs, results in error : ```Method public void Tasks.accountRegistration_5() requires a @DataProvider named : invalid-email```. **What could cause the error?**\r\nIt&#39;s allowed to use multiple ```@DataProviders``` in same class.\r\n\r\n\r\n\r\nHere is code:\r\n\r\n**Tasks:**\r\n\r\n*Take a look at Test scenario 5!*\r\n\r\n\r\n\r\n```import installations.APKInstallation;\r\nimport installations.AppDeletion;\r\nimport utils.ColorFormatter;\r\nimport utils.tempUser;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.Assert;\r\nimport org.testng.Reporter;\r\nimport org.testng.annotations.*;\r\nimport screens.*;\r\nimport utils.TestProperties;\r\nimport java.lang.*;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport dataobjects.Password;\r\nimport dataobjects.User;\r\n\r\nimport static dataobjects.Email.getEmail;\r\nimport static dataobjects.Email.getErrorMessage;\r\n\r\n\r\npublic class Tasks {\r\n\r\n    private void printTestResult(int testCaseNumber) {\r\n        ColorFormatter.colorize(&quot;Test &quot; + testCaseNumber + &quot; Passed!&quot;,ColorFormatter.boldGreenColor);\r\n    }\r\n\r\n    private AppDeletion appDeletion = new AppDeletion();\r\n    private APKInstallation apkInstallation = new APKInstallation();\r\n    private AndroidDriver driver;\r\n\r\n    public WelcomeScreen welcomeScreen;\r\n    public SignUpScreen signUpScreen;\r\n\r\n    public ConfirmRegistration confirmRegistration;\r\n\r\n    public AddToCart addToCart;\r\n\r\n    public LogOutAfterSignUp logOutAfterSignUp;\r\n\r\n    public InvalidCredentialsScreen invalidCredentialsScreen;\r\n\r\n    public NotificationScreen notificationScreen;\r\n    public int testCaseNumber;\r\n\r\n    public String tempEmail= tempUser.unTempEmail; //For creating manual account\r\n\r\n    public String tempPassword=tempUser.unTempPassword;//For creating manual account\r\n\r\n\r\n\r\n    @BeforeMethod(description=&quot;Starts each session&quot;,groups=(&quot;StartUp&quot;),alwaysRun = true)\r\n    public void setUp() throws IOException, InterruptedException {\r\n        // Close System.err to prevent any error messages from being printed to the console\r\n        System.err.close();\r\n\r\n        // Set System.err to the default output stream to allow any error messages to be printed to the console again\r\n        System.setErr(System.out);\r\n\r\n\r\n        // Installs application\r\n        apkInstallation.installAPK();\r\n\r\n        // Set the desired capabilities for the test\r\n        DesiredCapabilities desiredCapabilities = TestProperties.setDesiredCapabilities();\r\n        desiredCapabilities.setCapability(&quot;appium:udid&quot;, &quot;emulator-5554&quot;);\r\n\r\n        // Set the remote URL for Appium\r\n        URL remoteUrl = new URL(TestProperties.getProperty(&quot;appiumURL&quot;));\r\n\r\n        // Create a new AndroidDriver instance with the desired capabilities and remote URL\r\n        driver = new AndroidDriver(remoteUrl, desiredCapabilities);\r\n\r\n        // Set the implicit wait timeout to 15 seconds\r\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n\r\n        // Initialize the page objects for the different screens of the app\r\n        welcomeScreen = new WelcomeScreen(driver);\r\n        signUpScreen = new SignUpScreen(driver);\r\n        confirmRegistration = new ConfirmRegistration(driver);\r\n        addToCart = new AddToCart(driver);\r\n        logOutAfterSignUp = new LogOutAfterSignUp(driver);\r\n        invalidCredentialsScreen = new InvalidCredentialsScreen(driver);\r\n        notificationScreen = new NotificationScreen(driver);\r\n\r\n        // Reset the app to the initial state before each test\r\n        driver.resetApp();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Test(description = &quot;User installs app from the APK file&quot;, groups = {&quot;App Download&quot;,&quot;TC1&quot;}, enabled = true)// Done\r\n    public void appDownload_1(){\r\n        testCaseNumber = 1;\r\n        apkInstallation.testAppDownload(testCaseNumber);\r\n\r\n        printTestResult(testCaseNumber);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Test(description = &quot;App works correctly after installation&quot;, groups = {&quot;App Download&quot;,&quot;TC2&quot;}, enabled = true)// Done\r\n    public void appDownload_2(){\r\n        testCaseNumber = 2;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n        //Clicks on button after verification is successful (true)\r\n\r\n        //Verify application functioning by clicking button after launch\r\n        printTestResult(testCaseNumber);\r\n    }\r\n\r\n    @Test(description = &quot;App can be uninstalled from the device&quot;, groups = {&quot;App Uninstallation&quot;,&quot;TC3&quot;}, enabled = true) //Done\r\n    public void appUninstallation_3() throws IOException, InterruptedException {\r\n        testCaseNumber = 3;\r\n\r\n        appDeletion.isPackageInstalled(testCaseNumber);\r\n        appDeletion.uninstallation(testCaseNumber); // Return results of app deletion\r\n\r\n\r\n        printTestResult(testCaseNumber);\r\n    }\r\n    @Test(description = &quot;User navigates to Registration page&quot;, groups = {&quot;Account Registration&quot;, &quot;TC4&quot;}, enabled = true)\r\n    public void accountRegistration_4(){\r\n        testCaseNumber = 4;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n\r\n\r\n        welcomeScreen.clickSignUp(testCaseNumber);\r\n\r\n        //Confirm user is navigated to Sign Up page\r\n        signUpScreen.verifySignUpScreen(testCaseNumber);\r\n\r\n\r\n        printTestResult(testCaseNumber);\r\n    }\r\n\r\n    @Test(description = &quot;User is not able to register Account with invalid Email&quot;, groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},dataProvider = &quot;invalid-email&quot;,enabled = true)\r\n    public void accountRegistration_5(){\r\n        testCaseNumber = 5;\r\n\r\n        notificationScreen.validatedNotificationButton(testCaseNumber);\r\n        notificationScreen.clickNotificationButton(testCaseNumber);\r\n\r\n        welcomeScreen.clickSignUp(testCaseNumber);\r\n\r\n        signUpScreen.AcceptTerms(testCaseNumber);\r\n\r\n        signUpScreen.fillInvalidEmail(getEmail(), getErrorMessage(), testCaseNumber);\r\n        signUpScreen.clickCreateAccount(testCaseNumber);\r\n\r\n\r\n    }\r\n\r\n    @AfterMethod(description=&quot;Runs after each test&quot;,groups=(&quot;CleanUp&quot;),alwaysRun = true)\r\n    public void lastCleanUp() {\r\n        driver.quit();}\r\n}\r\n```\r\n\r\n**FillInvalidEmail:**\r\n\r\n```public static void fillInvalidEmail(String email,String errorMessage,int testCaseNumber) {\r\n            try {\r\n\r\n                Email.sendKeys(email);\r\n                ColorFormatter.colorize(errorMessage, ColorFormatter.orangeColor);\r\n\r\n            } catch (TestFailureException e) {\r\n\r\n                throw new TestFailureException(testCaseNumber);\r\n            }\r\n            ColorFormatter.colorize(&quot;\\nPassed!&quot;, ColorFormatter.greenColor);\r\n        }\r\n```\r\n*Email is MobileElement*\r\n\r\n**Data:**\r\n\r\n```package dataobjects;\r\n\r\nimport org.testng.annotations.DataProvider;\r\n\r\n/**\r\n * A class that provides test data for Registration tests.\r\n */\r\npublic class Data {\r\n\r\n\r\n    @DataProvider(name = &quot;login-credentials&quot;)\r\n    public static Object[][] createUserData() {\r\n        return new Object[][]{\r\n                {new User(&quot;tiweti1200@otanhome.com&quot;, &quot;Tiweti1200!&quot;, &quot;Unregistered User&quot;)},\r\n                {new User(&quot;wqji321@gqwasd.com&quot;, &quot;Warase3459!&quot;, &quot;Unverified User&quot;)},\r\n                {new User(&quot;xoheto3034@ngopy.com&quot;, &quot;qwekwei1932!&quot;, &quot;Incorrect Password&quot;)}\r\n        };\r\n    }\r\n\r\n    @DataProvider(name = &quot;invalid-password&quot;)\r\n    public static Object[][] createInvalidPassword() {\r\n        return new Object[][]{\r\n                {new Password(&quot;abcd&quot;)},//Less than 8 characters, no upper case letters, no digits, no special characters\r\n                {new Password(&quot;QWERT&quot;)},//Less than 8 characters, no lower case letters, no digits, no special characters\r\n                {new Password(&quot;qwertyui&quot;)},//No upper case letters, no digits, no special characters\r\n                {new Password(&quot;ASDFGHJK&quot;)},//No lower case letters, no digits, no special characters\r\n                {new Password(&quot;qwerty123&quot;)},///No upper case letters,no special characters\r\n                {new Password(&quot;ZXCVBX986&quot;)},//No lower case letters,no special characters\r\n                {new Password(&quot;QWERasdfg&quot;)},//No digits, no special characters\r\n                {new Password(&quot;FDWkwe!?&quot;)},//No digits\r\n                {new Password(&quot;qwekwei1932&quot;)},//No special characters\r\n                {new Password(&quot;QWsd12!&quot;)},//Less than 8 characters\r\n                {new Password(&quot;qwekwei1932!&quot;)},//No upper case\r\n                {new Password(&quot;ZXCAS1932!&quot;)},//No lower case\r\n                {new Password(&quot;!@&#163;$%^&amp;*&quot;)},//No upper,lower case letters, no digits\r\n                {new Password(&quot;123456789&quot;)},//No upper,lower case letters, no special characters\r\n                {new Password(&quot;@&#163;%^1932!&quot;)},//No upper,lower case letters\r\n                {new Password(&quot;&quot;)},//No letters, no numbers, no characters\r\n                {new Password(&quot;A1!aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\r\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;)}\r\n        };//More than 256 characters\r\n    }\r\n\r\n\r\n    @DataProvider(name = &quot;invalid-email&quot;)\r\n    public static Object[][] createInvalidEmail() {\r\n\r\n        return new Object[][]{\r\n                {new Email(&quot;fitop40249asuflex.com&quot;, &quot;Email with missing @:&quot;)},\r\n                {new Email(&quot;fitop40249@.com&quot;, &quot;Email with missing domain @:&quot;)},\r\n                {new Email(&quot;invalidemail@com&quot;, &quot;Email with missing dot:&quot;)},\r\n                {new Email(&quot;invalidemail@.&quot;, &quot;Email with missing com:&quot;)},\r\n                {new Email(&quot;&quot;, &quot;Email field empty:&quot;)},\r\n                {new Email(&quot;@asuflex.com&quot;, &quot;Email is missing local part&quot;)},\r\n                {new Email(&quot;fitop40249@uflex.com&quot;, &quot;Email has incorrect domain&quot;)},\r\n                {new Email(&quot;fitop40249@uflex,com&quot;, &quot;Email has comma instead of dot&quot;)},\r\n                {new Email(&quot;invalidemail@.comqwe&quot;, &quot;Email has extra characters after com&quot;)},\r\n                {new Email(&quot;invali demail@.com&quot;, &quot;Email contains &#39;Space&#39; character&quot;)}\r\n        };\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Email:**\r\n\r\n```package dataobjects;\r\n\r\n\r\npublic class Email {\r\n    private static String email;\r\n\r\n    private static String errorMessage;\r\n\r\n    public Email(String email, String errorMessage) {\r\n        this.email = email;\r\n        this.errorMessage = errorMessage;\r\n    }\r\n    public static String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public static String getErrorMessage() {return errorMessage;}\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Email{&quot; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, errorMessage=&#39;&quot; + errorMessage + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nCommenting out that specific Test or using another `@DataProvider` doesn&#39;t resolve issue, not using `@DataProvider` results in test running succesfully , ofcourse without `fillInvalidEmail`\r\n\r\n\r\n\r\nTried to use multiple `@DataProviders` for multiple Testing scenarios inside `Tasks`, results in `TestNGException` which tells that used `@DataProvider` is required, even when it is mentioned in `@Test` notation.\r\n\r\n\r\n**Update:**\r\n\r\nChanging name of `@DataProvider` did not fix error;\r\n\r\nRemoving space in `increateInvalidEmail()` did not fix error\r\n\r\n\r\n\r\n\r\n**Solution:**\r\n\r\nWhen using ```Inherited @DataProvider``` from different class , you must provide ```dataProviderClass``` in **@Test** annotation for ```Inherited @DataProvider``` to work.\r\n \r\nAnother minor issue:\r\n```Tasks.accountRegistration_5()] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).``` \r\n\r\nTo fix this change 2 things:\r\n\r\n1. \r\n```\r\nimport static dataobjects.Email.getEmail;\r\nimport static dataobjects.Email.getErrorMessage;\r\n``` \r\n\r\n\r\nreplace with :\r\n\r\n```import dataobjects.Email;```\r\n\r\n2. Pass it as parameter to accountRegistration_5() method\r\n\r\n```Like this:```\r\n\r\n\r\n```\r\n@Test(description = &quot;User is not able to register Account with invalid Email&quot;,\r\n            groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\r\n            dataProviderClass = dataobjects.Data.class,\r\n            dataProvider = &quot;invalid-email&quot;\r\n            ,enabled = true)\r\npublic void accountRegistration_5(Email email){\r\n             \r\n\r\nsignUpScreen.fillInvalidEmail(Email.getEmail(), Email.getErrorMessage(), testCaseNumber);\r\n```\r\n\r\n\r\n","title":"Method requires a @DataProvider, even when @DataProvider for @Test method is provided","body":"<p>After adding multiple <strong><code>@DataProviders</code></strong> for package <code>dataobject</code> class <code>UserData</code> , then renaming class to <code>Data</code>, using newly added <strong><code>@DataProviders</code></strong> called <code>invalid-email</code> for testing multiple invalid inputs, results in error : <code>Method public void Tasks.accountRegistration_5() requires a @DataProvider named : invalid-email</code>. <strong>What could cause the error?</strong>\nIt's allowed to use multiple <code>@DataProviders</code> in same class.</p>\n<p>Here is code:</p>\n<p><strong>Tasks:</strong></p>\n<p><em>Take a look at Test scenario 5!</em></p>\n<pre><code>import installations.AppDeletion;\nimport utils.ColorFormatter;\nimport utils.tempUser;\nimport io.appium.java_client.android.AndroidDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.Assert;\nimport org.testng.Reporter;\nimport org.testng.annotations.*;\nimport screens.*;\nimport utils.TestProperties;\nimport java.lang.*;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\n\nimport dataobjects.Password;\nimport dataobjects.User;\n\nimport static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n\n\npublic class Tasks {\n\n    private void printTestResult(int testCaseNumber) {\n        ColorFormatter.colorize(&quot;Test &quot; + testCaseNumber + &quot; Passed!&quot;,ColorFormatter.boldGreenColor);\n    }\n\n    private AppDeletion appDeletion = new AppDeletion();\n    private APKInstallation apkInstallation = new APKInstallation();\n    private AndroidDriver driver;\n\n    public WelcomeScreen welcomeScreen;\n    public SignUpScreen signUpScreen;\n\n    public ConfirmRegistration confirmRegistration;\n\n    public AddToCart addToCart;\n\n    public LogOutAfterSignUp logOutAfterSignUp;\n\n    public InvalidCredentialsScreen invalidCredentialsScreen;\n\n    public NotificationScreen notificationScreen;\n    public int testCaseNumber;\n\n    public String tempEmail= tempUser.unTempEmail; //For creating manual account\n\n    public String tempPassword=tempUser.unTempPassword;//For creating manual account\n\n\n\n    @BeforeMethod(description=&quot;Starts each session&quot;,groups=(&quot;StartUp&quot;),alwaysRun = true)\n    public void setUp() throws IOException, InterruptedException {\n        // Close System.err to prevent any error messages from being printed to the console\n        System.err.close();\n\n        // Set System.err to the default output stream to allow any error messages to be printed to the console again\n        System.setErr(System.out);\n\n\n        // Installs application\n        apkInstallation.installAPK();\n\n        // Set the desired capabilities for the test\n        DesiredCapabilities desiredCapabilities = TestProperties.setDesiredCapabilities();\n        desiredCapabilities.setCapability(&quot;appium:udid&quot;, &quot;emulator-5554&quot;);\n\n        // Set the remote URL for Appium\n        URL remoteUrl = new URL(TestProperties.getProperty(&quot;appiumURL&quot;));\n\n        // Create a new AndroidDriver instance with the desired capabilities and remote URL\n        driver = new AndroidDriver(remoteUrl, desiredCapabilities);\n\n        // Set the implicit wait timeout to 15 seconds\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\n\n        // Initialize the page objects for the different screens of the app\n        welcomeScreen = new WelcomeScreen(driver);\n        signUpScreen = new SignUpScreen(driver);\n        confirmRegistration = new ConfirmRegistration(driver);\n        addToCart = new AddToCart(driver);\n        logOutAfterSignUp = new LogOutAfterSignUp(driver);\n        invalidCredentialsScreen = new InvalidCredentialsScreen(driver);\n        notificationScreen = new NotificationScreen(driver);\n\n        // Reset the app to the initial state before each test\n        driver.resetApp();\n\n    }\n\n\n\n    @Test(description = &quot;User installs app from the APK file&quot;, groups = {&quot;App Download&quot;,&quot;TC1&quot;}, enabled = true)// Done\n    public void appDownload_1(){\n        testCaseNumber = 1;\n        apkInstallation.testAppDownload(testCaseNumber);\n\n        printTestResult(testCaseNumber);\n\n\n    }\n\n\n    @Test(description = &quot;App works correctly after installation&quot;, groups = {&quot;App Download&quot;,&quot;TC2&quot;}, enabled = true)// Done\n    public void appDownload_2(){\n        testCaseNumber = 2;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n        //Clicks on button after verification is successful (true)\n\n        //Verify application functioning by clicking button after launch\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;App can be uninstalled from the device&quot;, groups = {&quot;App Uninstallation&quot;,&quot;TC3&quot;}, enabled = true) //Done\n    public void appUninstallation_3() throws IOException, InterruptedException {\n        testCaseNumber = 3;\n\n        appDeletion.isPackageInstalled(testCaseNumber);\n        appDeletion.uninstallation(testCaseNumber); // Return results of app deletion\n\n\n        printTestResult(testCaseNumber);\n    }\n    @Test(description = &quot;User navigates to Registration page&quot;, groups = {&quot;Account Registration&quot;, &quot;TC4&quot;}, enabled = true)\n    public void accountRegistration_4(){\n        testCaseNumber = 4;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        //Confirm user is navigated to Sign Up page\n        signUpScreen.verifySignUpScreen(testCaseNumber);\n\n\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;User is not able to register Account with invalid Email&quot;, groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},dataProvider = &quot;invalid-email&quot;,enabled = true)\n    public void accountRegistration_5(){\n        testCaseNumber = 5;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        signUpScreen.AcceptTerms(testCaseNumber);\n\n        signUpScreen.fillInvalidEmail(getEmail(), getErrorMessage(), testCaseNumber);\n        signUpScreen.clickCreateAccount(testCaseNumber);\n\n\n    }\n\n    @AfterMethod(description=&quot;Runs after each test&quot;,groups=(&quot;CleanUp&quot;),alwaysRun = true)\n    public void lastCleanUp() {\n        driver.quit();}\n}\n</code></pre>\n<p><strong>FillInvalidEmail:</strong></p>\n<pre><code>            try {\n\n                Email.sendKeys(email);\n                ColorFormatter.colorize(errorMessage, ColorFormatter.orangeColor);\n\n            } catch (TestFailureException e) {\n\n                throw new TestFailureException(testCaseNumber);\n            }\n            ColorFormatter.colorize(&quot;\\nPassed!&quot;, ColorFormatter.greenColor);\n        }\n</code></pre>\n<p><em>Email is MobileElement</em></p>\n<p><strong>Data:</strong></p>\n<pre><code>\nimport org.testng.annotations.DataProvider;\n\n/**\n * A class that provides test data for Registration tests.\n */\npublic class Data {\n\n\n    @DataProvider(name = &quot;login-credentials&quot;)\n    public static Object[][] createUserData() {\n        return new Object[][]{\n                {new User(&quot;tiweti1200@otanhome.com&quot;, &quot;Tiweti1200!&quot;, &quot;Unregistered User&quot;)},\n                {new User(&quot;wqji321@gqwasd.com&quot;, &quot;Warase3459!&quot;, &quot;Unverified User&quot;)},\n                {new User(&quot;xoheto3034@ngopy.com&quot;, &quot;qwekwei1932!&quot;, &quot;Incorrect Password&quot;)}\n        };\n    }\n\n    @DataProvider(name = &quot;invalid-password&quot;)\n    public static Object[][] createInvalidPassword() {\n        return new Object[][]{\n                {new Password(&quot;abcd&quot;)},//Less than 8 characters, no upper case letters, no digits, no special characters\n                {new Password(&quot;QWERT&quot;)},//Less than 8 characters, no lower case letters, no digits, no special characters\n                {new Password(&quot;qwertyui&quot;)},//No upper case letters, no digits, no special characters\n                {new Password(&quot;ASDFGHJK&quot;)},//No lower case letters, no digits, no special characters\n                {new Password(&quot;qwerty123&quot;)},///No upper case letters,no special characters\n                {new Password(&quot;ZXCVBX986&quot;)},//No lower case letters,no special characters\n                {new Password(&quot;QWERasdfg&quot;)},//No digits, no special characters\n                {new Password(&quot;FDWkwe!?&quot;)},//No digits\n                {new Password(&quot;qwekwei1932&quot;)},//No special characters\n                {new Password(&quot;QWsd12!&quot;)},//Less than 8 characters\n                {new Password(&quot;qwekwei1932!&quot;)},//No upper case\n                {new Password(&quot;ZXCAS1932!&quot;)},//No lower case\n                {new Password(&quot;!@£$%^&amp;*&quot;)},//No upper,lower case letters, no digits\n                {new Password(&quot;123456789&quot;)},//No upper,lower case letters, no special characters\n                {new Password(&quot;@£%^1932!&quot;)},//No upper,lower case letters\n                {new Password(&quot;&quot;)},//No letters, no numbers, no characters\n                {new Password(&quot;A1!aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;)}\n        };//More than 256 characters\n    }\n\n\n    @DataProvider(name = &quot;invalid-email&quot;)\n    public static Object[][] createInvalidEmail() {\n\n        return new Object[][]{\n                {new Email(&quot;fitop40249asuflex.com&quot;, &quot;Email with missing @:&quot;)},\n                {new Email(&quot;fitop40249@.com&quot;, &quot;Email with missing domain @:&quot;)},\n                {new Email(&quot;invalidemail@com&quot;, &quot;Email with missing dot:&quot;)},\n                {new Email(&quot;invalidemail@.&quot;, &quot;Email with missing com:&quot;)},\n                {new Email(&quot;&quot;, &quot;Email field empty:&quot;)},\n                {new Email(&quot;@asuflex.com&quot;, &quot;Email is missing local part&quot;)},\n                {new Email(&quot;fitop40249@uflex.com&quot;, &quot;Email has incorrect domain&quot;)},\n                {new Email(&quot;fitop40249@uflex,com&quot;, &quot;Email has comma instead of dot&quot;)},\n                {new Email(&quot;invalidemail@.comqwe&quot;, &quot;Email has extra characters after com&quot;)},\n                {new Email(&quot;invali demail@.com&quot;, &quot;Email contains 'Space' character&quot;)}\n        };\n\n\n    }\n}\n</code></pre>\n<p><strong>Email:</strong></p>\n<pre><code>\n\npublic class Email {\n    private static String email;\n\n    private static String errorMessage;\n\n    public Email(String email, String errorMessage) {\n        this.email = email;\n        this.errorMessage = errorMessage;\n    }\n    public static String getEmail() {\n        return email;\n    }\n\n    public static String getErrorMessage() {return errorMessage;}\n\n    @Override\n    public String toString() {\n        return &quot;Email{&quot; +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, errorMessage='&quot; + errorMessage + '\\'' +\n                '}';\n    }\n\n}\n</code></pre>\n<p>Commenting out that specific Test or using another <code>@DataProvider</code> doesn't resolve issue, not using <code>@DataProvider</code> results in test running succesfully , ofcourse without <code>fillInvalidEmail</code></p>\n<p>Tried to use multiple <code>@DataProviders</code> for multiple Testing scenarios inside <code>Tasks</code>, results in <code>TestNGException</code> which tells that used <code>@DataProvider</code> is required, even when it is mentioned in <code>@Test</code> notation.</p>\n<p><strong>Update:</strong></p>\n<p>Changing name of <code>@DataProvider</code> did not fix error;</p>\n<p>Removing space in <code>increateInvalidEmail()</code> did not fix error</p>\n<p><strong>Solution:</strong></p>\n<p>When using <code>Inherited @DataProvider</code> from different class , you must provide <code>dataProviderClass</code> in <strong>@Test</strong> annotation for <code>Inherited @DataProvider</code> to work.</p>\n<p>Another minor issue:\n<code>Tasks.accountRegistration_5()] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).</code></p>\n<p>To fix this change 2 things:</p>\n<p>1.</p>\n<pre><code>import static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n</code></pre>\n<p>replace with :</p>\n<p><code>import dataobjects.Email;</code></p>\n<ol start=\"2\">\n<li>Pass it as parameter to accountRegistration_5() method</li>\n</ol>\n<p><code>Like this:</code></p>\n<pre><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;,\n            groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n            dataProviderClass = dataobjects.Data.class,\n            dataProvider = &quot;invalid-email&quot;\n            ,enabled = true)\npublic void accountRegistration_5(Email email){\n             \n\nsignUpScreen.fillInvalidEmail(Email.getEmail(), Email.getErrorMessage(), testCaseNumber);\n</code></pre>\n"},{"tags":["java","android","ip"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1684754058,"post_id":76305554,"comment_id":134558120,"body_markdown":"why exactly would you want to check someone&#39;s ip?","body":"why exactly would you want to check someone&#39;s ip?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1684754123,"post_id":76305554,"comment_id":134558131,"body_markdown":"You need to be more precise. *Which* IP address do you want? For example, your `WifiManager` solution would provide the actual IP address assigned to the device, but typically that will be a **private** IP address on the local network. The `ip-api.com` solution will provide the **public** IP address of that network as it appears on the Internet.","body":"You need to be more precise. <i>Which</i> IP address do you want? For example, your <code>WifiManager</code> solution would provide the actual IP address assigned to the device, but typically that will be a <b>private</b> IP address on the local network. The <code>ip-api.com</code> solution will provide the <b>public</b> IP address of that network as it appears on the Internet."},{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1684761900,"post_id":76305554,"comment_id":134559771,"body_markdown":"there is also another method to get the ipadress using NetworkInterface but it returns null when the user isn&#39;t connected to any ip address.","body":"there is also another method to get the ipadress using NetworkInterface but it returns null when the user isn&#39;t connected to any ip address."},{"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"score":0,"creation_date":1684767297,"post_id":76305554,"comment_id":134561087,"body_markdown":"@CommonsWare I want to use this IP for detect country of user. And visible some extra content according to their country (for few countries). [Which method you prefer for this? If any imported phone in any other country?]","body":"@CommonsWare I want to use this IP for detect country of user. And visible some extra content according to their country (for few countries). [Which method you prefer for this? If any imported phone in any other country?]"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1684770943,"post_id":76305554,"comment_id":134561914,"body_markdown":"@TexD: I went through this process earlier this year. Free geolocation services are very unreliable. Commercial ones are better. However, any decent geolocation service will handle finding the IP address for you -- you do not need any code in your app for that. The IP address of relevance would be the public IP address, not the private one like you might get from `WifiManager`.","body":"@TexD: I went through this process earlier this year. Free geolocation services are very unreliable. Commercial ones are better. However, any decent geolocation service will handle finding the IP address for you -- you do not need any code in your app for that. The IP address of relevance would be the public IP address, not the private one like you might get from <code>WifiManager</code>."}],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684761934,"creation_date":1684761934,"answer_id":76306679,"question_id":76305554,"body_markdown":"```\r\n\r\nfun getIPAddress(): String? {\r\n    try {\r\n        val interfaces: List&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces().toList()\r\n        for (networkInterface in interfaces) {\r\n            val addresses: List&lt;InetAddress&gt; = networkInterface.inetAddresses.toList()\r\n            for (address in addresses) {\r\n                if (!address.isLoopbackAddress &amp;&amp; !address.isLinkLocalAddress &amp;&amp; address.isSiteLocalAddress) {\r\n                    return address.hostAddress\r\n                }\r\n            }\r\n        }\r\n    } catch (e: Exception) {\r\n        e.printStackTrace()\r\n    }\r\n    return null\r\n}\r\n```\r\n It filters out loopback, link-local, and non-site-local addresses to find the IP address of the device. The function returns the IP address as a String, or null if it fails to retrieve the IP address.","title":"How get user&#39;s IP Address (Mobile Network or Wi-Fi)? -Android/java","body":"<pre><code>\nfun getIPAddress(): String? {\n    try {\n        val interfaces: List&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces().toList()\n        for (networkInterface in interfaces) {\n            val addresses: List&lt;InetAddress&gt; = networkInterface.inetAddresses.toList()\n            for (address in addresses) {\n                if (!address.isLoopbackAddress &amp;&amp; !address.isLinkLocalAddress &amp;&amp; address.isSiteLocalAddress) {\n                    return address.hostAddress\n                }\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    return null\n}\n</code></pre>\n<p>It filters out loopback, link-local, and non-site-local addresses to find the IP address of the device. The function returns the IP address as a String, or null if it fails to retrieve the IP address.</p>\n"}],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684761934,"creation_date":1684753831,"question_id":76305554,"body_markdown":"After visiting multiple question on same topic.\r\nThis is not duplicate Question. Because all other provided code is old or deprecated.\r\n\r\nI want to check What is IP address of user when splash screen show. No matter that time connected Mobile data or Wi-Fi.\r\n\r\n&gt; **Method**: through `WifiManager` . \r\n&gt; \r\n&gt; **Issue:1)** It provide IP only when user connected to wifi. **2)** `Formatter.formatIpAddress` deprecated in API version 12. **3)**  `getHostAddress()`, which supports both IPv4 and IPv6 addresses. This method does not support IPv6 addresses\r\n\r\n**I found only one short solution is just call this Api, http://www.ip-api.com/json &lt;and get data through Json.**\r\n\r\nIs there any other way to get IP from android device?","title":"How get user&#39;s IP Address (Mobile Network or Wi-Fi)? -Android/java","body":"<p>After visiting multiple question on same topic.\nThis is not duplicate Question. Because all other provided code is old or deprecated.</p>\n<p>I want to check What is IP address of user when splash screen show. No matter that time connected Mobile data or Wi-Fi.</p>\n<blockquote>\n<p><strong>Method</strong>: through <code>WifiManager</code> .</p>\n<p><strong>Issue:1)</strong> It provide IP only when user connected to wifi. <strong>2)</strong> <code>Formatter.formatIpAddress</code> deprecated in API version 12. <strong>3)</strong>  <code>getHostAddress()</code>, which supports both IPv4 and IPv6 addresses. This method does not support IPv6 addresses</p>\n</blockquote>\n<p><strong>I found only one short solution is just call this Api, <a href=\"http://www.ip-api.com/json\" rel=\"nofollow noreferrer\">http://www.ip-api.com/json</a> &lt;and get data through Json.</strong></p>\n<p>Is there any other way to get IP from android device?</p>\n"},{"tags":["java","jakarta-ee","jboss","command-line-interface","jboss7.x"],"answers":[{"tags":[],"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1349178697,"creation_date":1349178697,"answer_id":12689705,"question_id":12462491,"body_markdown":"If your users are stored in the properties file then it is not possible to obtain a listing of them using the management interface.\r\n\r\nAdding identity management operations including listing and modifying users is something being considered for a later release.\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>If your users are stored in the properties file then it is not possible to obtain a listing of them using the management interface.</p>\n\n<p>Adding identity management operations including listing and modifying users is something being considered for a later release.</p>\n"},{"tags":[],"owner":{"account_id":9191674,"reputation":111,"user_id":8841604,"display_name":"ross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634814109,"creation_date":1634814109,"answer_id":69660763,"question_id":12462491,"body_markdown":"Open the below file with notepad and find the list of users:\r\n\r\n    $HOME_wildfly-Final\\standalone\\configuration\\mgmt-groups.properties\r\n\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>Open the below file with notepad and find the list of users:</p>\n<pre><code>$HOME_wildfly-Final\\standalone\\configuration\\mgmt-groups.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6180392,"reputation":1028,"user_id":4816080,"accept_rate":100,"display_name":"يعقوب"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684761904,"creation_date":1684761383,"answer_id":76306589,"question_id":12462491,"body_markdown":"You can execute `help --commands` to see commands availabe in your current context.\r\n\r\n    [standalone@localhost:9990 /] help --commands\r\n    Commands available in the current context:\r\n    attachment                              deployment-info                         run-batch\r\n    \r\n    batch                                   deployment-overlay                      security disable-http-auth-http-server\r\n    \r\n    cd                                      echo                                    security disable-http-auth-management\r\n    \r\n    clear                                   echo-dmr                                security disable-sasl-management\r\n    \r\n    command                                 for                                     security disable-ssl-http-server\r\n    \r\n    command-timeout                         grep                                    security disable-ssl-management\r\n    \r\n    connect                                 help                                    security enable-http-auth-http-server\r\n    \r\n    connection-info                         history                                 security enable-http-auth-management\r\n    \r\n    data-source                             if                                      security enable-sasl-management\r\n    \r\n    deploy                                  jdbc-driver-info                        security enable-ssl-http-server\r\n    \r\n    deployment deploy-cli-archive           ls                                      security enable-ssl-management\r\n    \r\n    deployment deploy-file                  module                                  security reorder-sasl-management\r\n    \r\n    deployment deploy-url                   patch apply                             set\r\n    \r\n    deployment disable                      patch history                           shutdown\r\n    \r\n    deployment disable-all                  patch info                              try\r\n    \r\n    deployment enable                       patch inspect                           undeploy\r\n    \r\n    deployment enable-all                   pwd                                     unset\r\n    \r\n    deployment info                         quit                                    version\r\n    \r\n    deployment list                         read-attribute                          xa-data-source\r\n    \r\n    deployment undeploy                     read-operation\r\n    deployment undeploy-cli-archive         reload\r\n    To read a description of a specific command execute &#39;help &lt;command name&gt;&#39;.\r\n\r\nSo to answer to your question you can&#39;t list jboss users over CLI Client, you can see in \r\n\r\n&gt; EAP_HOME/domain/configuration/mgmt-users.properties or\r\n&gt; application-users.properties","title":"How to get a list of jboss users over the CLI client","body":"<p>You can execute <code>help --commands</code> to see commands availabe in your current context.</p>\n<pre><code>[standalone@localhost:9990 /] help --commands\nCommands available in the current context:\nattachment                              deployment-info                         run-batch\n\nbatch                                   deployment-overlay                      security disable-http-auth-http-server\n\ncd                                      echo                                    security disable-http-auth-management\n\nclear                                   echo-dmr                                security disable-sasl-management\n\ncommand                                 for                                     security disable-ssl-http-server\n\ncommand-timeout                         grep                                    security disable-ssl-management\n\nconnect                                 help                                    security enable-http-auth-http-server\n\nconnection-info                         history                                 security enable-http-auth-management\n\ndata-source                             if                                      security enable-sasl-management\n\ndeploy                                  jdbc-driver-info                        security enable-ssl-http-server\n\ndeployment deploy-cli-archive           ls                                      security enable-ssl-management\n\ndeployment deploy-file                  module                                  security reorder-sasl-management\n\ndeployment deploy-url                   patch apply                             set\n\ndeployment disable                      patch history                           shutdown\n\ndeployment disable-all                  patch info                              try\n\ndeployment enable                       patch inspect                           undeploy\n\ndeployment enable-all                   pwd                                     unset\n\ndeployment info                         quit                                    version\n\ndeployment list                         read-attribute                          xa-data-source\n\ndeployment undeploy                     read-operation\ndeployment undeploy-cli-archive         reload\nTo read a description of a specific command execute 'help &lt;command name&gt;'.\n</code></pre>\n<p>So to answer to your question you can't list jboss users over CLI Client, you can see in</p>\n<blockquote>\n<p>EAP_HOME/domain/configuration/mgmt-users.properties or\napplication-users.properties</p>\n</blockquote>\n"}],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10276,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12689705,"answer_count":3,"score":4,"last_activity_date":1684761904,"creation_date":1347895729,"question_id":12462491,"body_markdown":"I have not found anything suitable in the [Management API ref](https://docs.jboss.org/author/display/AS7/Management+API+reference) or the [CLI guide](https://community.jboss.org/wiki/CommandLineInterface).\r\n\r\nMy guess for retrieving the users of the management realm would have been  \r\n\r\n    ls core-service=management/security-realm=ManagementRealm/authentication=properties\r\n\r\nbut it returns nothing. I do have a management user though. \r\n\r\nI am using Jboss-7.1.1.Final\r\n\r\nThank you\r\n","title":"How to get a list of jboss users over the CLI client","body":"<p>I have not found anything suitable in the <a href=\"https://docs.jboss.org/author/display/AS7/Management+API+reference\" rel=\"nofollow\">Management API ref</a> or the <a href=\"https://community.jboss.org/wiki/CommandLineInterface\" rel=\"nofollow\">CLI guide</a>.</p>\n\n<p>My guess for retrieving the users of the management realm would have been  </p>\n\n<pre><code>ls core-service=management/security-realm=ManagementRealm/authentication=properties\n</code></pre>\n\n<p>but it returns nothing. I do have a management user though. </p>\n\n<p>I am using Jboss-7.1.1.Final</p>\n\n<p>Thank you</p>\n"},{"tags":["java","thymeleaf","isnullorempty"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":1,"creation_date":1531410678,"post_id":51301074,"comment_id":89596342,"body_markdown":"See `${#strings.isEmpty(variable)}`.  It will check for empty or null and call `trim()`.","body":"See <code>${#strings.isEmpty(variable)}</code>.  It will check for empty or null and call <code>trim()</code>."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1531410813,"post_id":51301074,"comment_id":89596451,"body_markdown":"Can you also post what you&#39;re trying to do?  It seems like you may really want `th:classappend` but I can&#39;t readily tell.","body":"Can you also post what you&#39;re trying to do?  It seems like you may really want <code>th:classappend</code> but I can&#39;t readily tell."},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1595510829,"post_id":51301074,"comment_id":111504853,"body_markdown":"@vphilipnyc if you&#39;ve posted your first comment as an answer, you could earn +300 reputation in 18 months. see [proof](https://stackoverflow.com/a/54048650/1429387).","body":"@vphilipnyc if you&#39;ve posted your first comment as an answer, you could earn +300 reputation in 18 months. see <a href=\"https://stackoverflow.com/a/54048650/1429387\">proof</a>."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1595525498,"post_id":51301074,"comment_id":111512933,"body_markdown":"@naxa Lol, maybe you can buy me a beer with all of those points","body":"@naxa Lol, maybe you can buy me a beer with all of those points"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1595568536,"post_id":51301074,"comment_id":111525421,"body_markdown":"@vphilipnyc ahah! no, problem :) contact me and request your free beer https://t.me/nullgz","body":"@vphilipnyc ahah! no, problem :) contact me and request your free beer <a href=\"https://t.me/nullgz\" rel=\"nofollow noreferrer\">t.me/nullgz</a>"}],"answers":[{"tags":[],"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"down_vote_count":3,"up_vote_count":24,"is_accepted":true,"score":21,"last_activity_date":1546656929,"creation_date":1531490399,"answer_id":51326916,"question_id":51301074,"body_markdown":"In order to check null or empty string using thymeleaf expressions, Use this approach : --- \r\n\r\n    &lt;div th:if= &quot;${searchResults.results != null}&quot;&gt;\r\n\r\nOR, this :-- &lt;br&gt;\r\n\r\n    &lt;div th:if= &quot;${searchResults.results != &#39;&#39;}&quot;&gt;\r\nFurthermore, you can check the empty or null object on your controller itself and then send the response on your thymeleaf-html page accordingly, like this :-- \r\n&lt;br&gt;\r\n1.) Your Controller :-    \r\n\r\n     List ls = //some data from you DAO\r\n        if(ls.isEmpty()){\r\n             model.addAttribute(&quot;response&quot;,&quot;NoData&quot;);\r\n          }else{\r\n             model.addAttribute(&quot;response&quot;,ls);\r\n         }\r\n\r\n2.) Then on your Thymleaf page :- - - \r\n\r\n    &lt;th:block th:if=&quot;${response==&#39;NoData&#39;}&quot;&gt; No Data Found &lt;/th:block&gt;\r\n\r\n\r\n\r\n**PS -** I&#39;ve answered the same question here which helps the questioner hope it helps you as well :--\r\nhttps://stackoverflow.com/questions/51152960/thymeleaf-not-equal-expression-in-thif/51153187#51153187\r\n\r\n","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>In order to check null or empty string using thymeleaf expressions, Use this approach : --- </p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != null}\"&gt;\n</code></pre>\n\n<p>OR, this :-- <br></p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != ''}\"&gt;\n</code></pre>\n\n<p>Furthermore, you can check the empty or null object on your controller itself and then send the response on your thymeleaf-html page accordingly, like this :-- \n<br>\n1.) Your Controller :-    </p>\n\n<pre><code> List ls = //some data from you DAO\n    if(ls.isEmpty()){\n         model.addAttribute(\"response\",\"NoData\");\n      }else{\n         model.addAttribute(\"response\",ls);\n     }\n</code></pre>\n\n<p>2.) Then on your Thymleaf page :- - - </p>\n\n<pre><code>&lt;th:block th:if=\"${response=='NoData'}\"&gt; No Data Found &lt;/th:block&gt;\n</code></pre>\n\n<p><strong>PS -</strong> I've answered the same question here which helps the questioner hope it helps you as well :--\n<a href=\"https://stackoverflow.com/questions/51152960/thymeleaf-not-equal-expression-in-thif/51153187#51153187\">ThymeLeaf: Not Equal expression in th:if</a></p>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1546657962,"creation_date":1546657962,"answer_id":54048650,"question_id":51301074,"body_markdown":"Try `${#strings.isEmpty(variable)}`.\r\n\r\nFrom [Tutorial | Using Thymeleaf | Strings][1]:\r\n\r\n    /*\r\n     * Check whether a String is empty (or null). Performs a trim() operation before check\r\n     */\r\n    ${#strings.isEmpty(name)}\r\n\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>Try <code>${#strings.isEmpty(variable)}</code>.</p>\n\n<p>From <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings\" rel=\"noreferrer\">Tutorial | Using Thymeleaf | Strings</a>:</p>\n\n<pre><code>/*\n * Check whether a String is empty (or null). Performs a trim() operation before check\n */\n${#strings.isEmpty(name)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9998469,"reputation":131,"user_id":7395303,"display_name":"Tomas Pinto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684761739,"creation_date":1684761739,"answer_id":76306654,"question_id":51301074,"body_markdown":"If you want to print only if NOT a null value or empty sting, then:\r\n\r\n     th:if=&quot;${not #strings.isEmpty(variableName)}&quot;\r\n\r\n","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>If you want to print only if NOT a null value or empty sting, then:</p>\n<pre><code> th:if=&quot;${not #strings.isEmpty(variableName)}&quot;\n</code></pre>\n"}],"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80477,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":51326916,"answer_count":3,"score":21,"last_activity_date":1684761739,"creation_date":1531385196,"question_id":51301074,"body_markdown":"Is there any way to check both null and empty condition in Thymeleaf?\r\n\r\nApproach 1\r\n\r\n    1) .variable1?.variable2?.variable3\r\n    2) variable!=null \r\n    3) variable!=&#39;&#39;\r\n\r\nIf we combine two conditions like (variable!=&#39;&#39; And variable!=null) I am having issue when rendering.\r\n\r\nI am trying following sample\r\n\r\n    ${#strings.concat(#strings.concat(&#39;class &#39;,variable1?.variable2), &#39; &#39;, variable1?.variable2?.variable3)}\r\n\r\nI also used ***containsKey*** as well but it is behaving differently.","title":"How to check null and empty condition using Thymeleaf in one single operation?","body":"<p>Is there any way to check both null and empty condition in Thymeleaf?</p>\n\n<p>Approach 1</p>\n\n<pre><code>1) .variable1?.variable2?.variable3\n2) variable!=null \n3) variable!=''\n</code></pre>\n\n<p>If we combine two conditions like (variable!='' And variable!=null) I am having issue when rendering.</p>\n\n<p>I am trying following sample</p>\n\n<pre><code>${#strings.concat(#strings.concat('class ',variable1?.variable2), ' ', variable1?.variable2?.variable3)}\n</code></pre>\n\n<p>I also used <strong><em>containsKey</em></strong> as well but it is behaving differently.</p>\n"},{"tags":["java","algorithm","overflow"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684665146,"post_id":76299415,"comment_id":134547282,"body_markdown":"Use biginteger instead of long","body":"Use biginteger instead of long"},{"owner":{"account_id":2684795,"reputation":182430,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1684669568,"post_id":76299415,"comment_id":134547806,"body_markdown":"`ans = ans*i;` can be very huge and cause *integer overflow*","body":"<code>ans = ans*i;</code> can be very huge and cause <i>integer overflow</i>"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1684669669,"post_id":76299415,"comment_id":134547819,"body_markdown":"@DmitryBychenko how do we resolve that problem?","body":"@DmitryBychenko how do we resolve that problem?"},{"owner":{"account_id":2684795,"reputation":182430,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1684669819,"post_id":76299415,"comment_id":134547836,"body_markdown":"`return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);`","body":"<code>return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1684680968,"post_id":76299415,"comment_id":134549123,"body_markdown":"@Max I believe my answer resolved some of your questions.","body":"@Max I believe my answer resolved some of your questions."}],"answers":[{"tags":[],"owner":{"account_id":20156230,"reputation":88,"user_id":14782365,"display_name":"Kirill Dolbilov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684761717,"creation_date":1684665225,"answer_id":76299440,"question_id":76299415,"body_markdown":"If you have to write `answer % 1000000007`, you can (and I guess you should) use `%` operator every time in `for` loop.\r\n\r\n```\r\nlong ans = 1;\r\nlong p = 1000000007;\r\n\r\nfor (int i = 0; i &lt; n; i++)\r\n{\r\n    ans = (ans * i) % p;\r\n}\r\n\r\nreturn ans;\r\n```\r\n\r\nIf this is not enough, you can try this:\r\n```\r\nlong ans = 1;\r\nlong p = 1000000007;\r\n\r\nfor (int i = 0; i &lt; n; i++)\r\n{\r\n    ans = ((ans % p) * (i % p)) % p;\r\n}\r\n\r\nreturn ans;\r\n```\r\n","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>If you have to write <code>answer % 1000000007</code>, you can (and I guess you should) use <code>%</code> operator every time in <code>for</code> loop.</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = (ans * i) % p;\n}\n\nreturn ans;\n</code></pre>\n<p>If this is not enough, you can try this:</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = ((ans % p) * (i % p)) % p;\n}\n\nreturn ans;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684694795,"creation_date":1684680906,"answer_id":76300500,"question_id":76299415,"body_markdown":"First, here is the `BigInteger` solution.\r\n```\r\nint p = 1_000_000_007;\r\n\r\nBigInteger fact = BigInteger.TWO;\r\nint N = 50;\r\nfor (int i = 3 ;i &lt; N; i++) {\r\n     fact = fact.multiply(BigInteger.valueOf(i));\r\n}\r\nSystem.out.println(fact.mod(BigInteger.valueOf(p)));\r\n```\r\nprints\r\n```\r\n726372166\r\n```\r\nTo solve this without using `BigInteger`, one can use the relationship that says that\r\n```\r\n (a mod n) * (b mod n) = ab mod n.\r\n```  \r\nCheck out the proof [here]( https://math.stackexchange.com/questions/1488529/prove-that-ab-bmod-n-a-bmod-n-b-bmod-n)\r\n\r\nSince the above can be applied to a larger range of integers, one can do the following:\r\n```\r\nlong mod = 2;\r\nint N = 50;\r\nfor (int i = 3; i &lt; N; i++) {\r\n    mod = (mod * i) % p;\r\n}\r\nSystem.out.println(mod);\r\n```\r\nprints\r\n```\r\n726372166\r\n```\r\nNote:  `1_000_000_007` is a prime number and thus guarantees no product above will ever have that value as a factor.  If `N &gt;= p` then all subsequent results will be `0`, even if the product is first computed using `BigInteger`, because the remainder will be zero when the product is divided by `p`","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>First, here is the <code>BigInteger</code> solution.</p>\n<pre><code>int p = 1_000_000_007;\n\nBigInteger fact = BigInteger.TWO;\nint N = 50;\nfor (int i = 3 ;i &lt; N; i++) {\n     fact = fact.multiply(BigInteger.valueOf(i));\n}\nSystem.out.println(fact.mod(BigInteger.valueOf(p)));\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>To solve this without using <code>BigInteger</code>, one can use the relationship that says that</p>\n<pre><code> (a mod n) * (b mod n) = ab mod n.\n</code></pre>\n<p>Check out the proof <a href=\"https://math.stackexchange.com/questions/1488529/prove-that-ab-bmod-n-a-bmod-n-b-bmod-n\">here</a></p>\n<p>Since the above can be applied to a larger range of integers, one can do the following:</p>\n<pre><code>long mod = 2;\nint N = 50;\nfor (int i = 3; i &lt; N; i++) {\n    mod = (mod * i) % p;\n}\nSystem.out.println(mod);\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>Note:  <code>1_000_000_007</code> is a prime number and thus guarantees no product above will ever have that value as a factor.  If <code>N &gt;= p</code> then all subsequent results will be <code>0</code>, even if the product is first computed using <code>BigInteger</code>, because the remainder will be zero when the product is divided by <code>p</code></p>\n"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1684761717,"creation_date":1684664742,"question_id":76299415,"body_markdown":"I am trying to solve the problem &quot;product of first n numbers&quot;\r\n \r\n       long ans=1;\r\n\r\n\t\tfor(int i=1;i&lt;=n;i++){\r\n\t\t\tans = ans*i;\r\n\t\t}\r\n\t\treturn ans % (1000000007) ;\r\n\r\nI am incorrect result for large n, I suspect possible overflow. How do I go about solving it?","title":"Product of N numbers, incorrect answer, possible overflow?","body":"<p>I am trying to solve the problem &quot;product of first n numbers&quot;</p>\n<pre><code>   long ans=1;\n\n    for(int i=1;i&lt;=n;i++){\n        ans = ans*i;\n    }\n    return ans % (1000000007) ;\n</code></pre>\n<p>I am incorrect result for large n, I suspect possible overflow. How do I go about solving it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684761716,"post_id":76306600,"comment_id":134559724,"body_markdown":"JSP is only supported in WAR files not JAR files (and come with limitations) as mentioned in the documentation. I would suggest to use something like Thymeleaf in the current day and age.","body":"JSP is only supported in WAR files not JAR files (and come with limitations) as mentioned in the documentation. I would suggest to use something like Thymeleaf in the current day and age."}],"owner":{"account_id":28654495,"reputation":1,"user_id":21940828,"display_name":"jack_sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684761446,"creation_date":1684761446,"question_id":76306600,"body_markdown":"I am working on spring boot web application project.\r\nwhen ever I run spring boot web app It runs well, but in the browser when I excess this web app content, my jsp file automatically downloads instead of displaying content.\r\n\r\nBelow Spring boot first application:\r\n\r\n```\r\n\r\npackage com.springboot.web;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n@SpringBootApplication\r\npublic class SpringBootFirstApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootFirstApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nBelow one is Controller:\r\n\r\n```\r\npackage com.springboot.web;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class mainController {\r\n\r\n\t@GetMapping(&quot;/home&quot;)\r\n\tpublic String home() {\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nBelow one is application.properties file:\r\n\r\n```\r\nspring.mvc.view.prefix=/views/\r\nspring.mvc.view.suffix=.jsp\r\nserver.port=9091\r\n```\r\n\r\nBelow one is pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.web&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springmvcboot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringBootFirst&lt;/name&gt;\r\n\t&lt;description&gt;web project spring boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nbelow one is my jsp file:\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;This is my Home Jsp&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHow can I solve it ?","title":"JSP file is automatically downloading instead of displaying content in Spring Boot app, how to resolve?","body":"<p>I am working on spring boot web application project.\nwhen ever I run spring boot web app It runs well, but in the browser when I excess this web app content, my jsp file automatically downloads instead of displaying content.</p>\n<p>Below Spring boot first application:</p>\n<pre><code>\npackage com.springboot.web;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@SpringBootApplication\npublic class SpringBootFirstApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootFirstApplication.class, args);\n    }\n}\n</code></pre>\n<p>Below one is Controller:</p>\n<pre><code>package com.springboot.web;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class mainController {\n\n    @GetMapping(&quot;/home&quot;)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<p>Below one is application.properties file:</p>\n<pre><code>spring.mvc.view.prefix=/views/\nspring.mvc.view.suffix=.jsp\nserver.port=9091\n</code></pre>\n<p>Below one is pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.web&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvcboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootFirst&lt;/name&gt;\n    &lt;description&gt;web project spring boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>below one is my jsp file:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;This is my Home Jsp&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>How can I solve it ?</p>\n"},{"tags":["java","android","kotlin","apk","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684750693,"creation_date":1684750693,"answer_id":76305164,"question_id":76305137,"body_markdown":"SourceStamp improves traceability of apps with respect to unauthorized distribution.\r\n\r\n&gt; The stamp is part of the APK that is protected by the signing block.\r\n&gt; The APK contents hash is signed using the stamp key, and is saved as\r\n&gt; part of the signing block.","title":"What is android.stamp in android-manifest?","body":"<p>SourceStamp improves traceability of apps with respect to unauthorized distribution.</p>\n<blockquote>\n<p>The stamp is part of the APK that is protected by the signing block.\nThe APK contents hash is signed using the stamp key, and is saved as\npart of the signing block.</p>\n</blockquote>\n"}],"owner":{"account_id":28653160,"reputation":31,"user_id":21939741,"display_name":"Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76305164,"answer_count":1,"score":2,"last_activity_date":1684761244,"creation_date":1684750421,"question_id":76305137,"body_markdown":"\r\nwhat does it mean in android-manifest?\r\n\r\n\r\n\r\n    &lt;meta-data android:name=&quot;com.android.stamp.source&quot; android:value=&quot;https://play.google.com/store&quot; /&gt; \r\n\t\t&lt;meta-data android:name=&quot;com.android.stamp.type&quot; android:value=&quot;STAMP_TYPE_DISTRIBUTION_APK&quot; /&gt;\r\n\r\nPlease explain me ,im a amateur programming &#128591; \r\nThank you &#128522; ","title":"What is android.stamp in android-manifest?","body":"<p>what does it mean in android-manifest?</p>\n<pre><code>&lt;meta-data android:name=&quot;com.android.stamp.source&quot; android:value=&quot;https://play.google.com/store&quot; /&gt; \n    &lt;meta-data android:name=&quot;com.android.stamp.type&quot; android:value=&quot;STAMP_TYPE_DISTRIBUTION_APK&quot; /&gt;\n</code></pre>\n<p>Please explain me ,im a amateur programming 🙏\nThank you 😊</p>\n"},{"tags":["java","spring-boot","webclient"],"owner":{"account_id":28619729,"reputation":1,"user_id":21912992,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684760225,"creation_date":1684732189,"question_id":76303176,"body_markdown":"I am trying to call a customer&#39;s endpoint to retrieve their data using `WebClient`. We have to use certificate when calling the endpoint. I configured the `WebClient` with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore. However, I am getting the `SSLHandshakeException`. If I commented out the filter(oauth), then I didn&#39;t get the SSLHandshakeException. Can someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the keyStore setup? Thanks.\r\n\r\n\r\n```\r\n@Configuration\r\npublic class WebClientConfig {\r\n\r\n\tprivate final Logger logger = (Logger) LoggerFactory.getLogger(WebClientConfig.class);\r\n\r\n\t@Autowired\r\n\tprivate DVSVerifySslContextBuilder sslContextbuilder;\r\n\r\n\t@Autowired\r\n\tprivate SslDetailsLoader sslDetailsLoader;\r\n\r\n\t@Autowired\r\n\tprivate CertificateConverter certificateConverter;\r\n\r\n\t@Value(&quot;${service.cert.keystorePassword}&quot;)\r\n\tprivate String keystorePassword;\r\n\r\n\t@Value(&quot;${service.cert.privateKeyPassword}&quot;)\r\n\tprivate String privateKeyPassword;\r\n\r\n\t@Value(&quot;${okapi.sslConfigName}&quot;)\r\n\tprivate String sslConfigName;\r\n\t\r\n\t@Value(&quot;${dvs.verify.base.uri}&quot;)\r\n\tprivate String baseUri;\r\n\r\n\t@Bean\r\n\tpublic ReactiveClientRegistrationRepository getRegistration(\r\n\r\n\t\t\t@Value(&quot;${dvs.verify.accessTokenUri}&quot;) final String accessTokenUri,\r\n\t\t\t@Value(&quot;${dvs.verify.client-id}&quot;) final String clientId,\r\n\t\t\t@Value(&quot;${dvs.verify.client-secret}&quot;) final String clientSecret,\r\n\t\t\t@Value(&quot;${dvs.verify.grant-type}&quot;) final String grantType,\r\n\t\t\t@Value(&quot;${dvs.verify.scope}&quot;) final String scope) {\r\n\t\tClientRegistration registration = ClientRegistration.withRegistrationId(&quot;dvs&quot;).tokenUri(accessTokenUri)\r\n\t\t\t\t.clientId(clientId).scope(scope).clientSecret(clientSecret)\r\n\t\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS).build();\r\n\t\treturn new InMemoryReactiveClientRegistrationRepository(registration);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\t\tvar clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n\t\tvar authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n\t\t\t\tclientRegistrations, clientService);\r\n\t\tvar oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n\t\toauth.setDefaultClientRegistrationId(&quot;dvs&quot;);\r\n\r\n\t\tHttpClient httpClient = HttpClient.create()\r\n\t\t        .secure(sslSpec -&gt; sslSpec.sslContext(getKeyStorefromMassl(sslConfigName)))\r\n\t\t        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\r\n\t\t        .doOnConnected(\r\n\t\t                  connection -&gt; {\r\n\t\t                    connection.addHandlerLast(\r\n\t\t                        new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS));\r\n\t\t                    connection.addHandlerLast(\r\n\t\t                        new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS));\r\n\t\t                  });\r\n\t\treturn WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).filter(oauth).baseUrl(baseUri)\r\n\t\t\t\t.filter(errorHandler()).build();\r\n\t}\r\n\r\n\tprivate ExchangeFilterFunction errorHandler() {\r\n\t\treturn ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n\t\t\tif (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError())\r\n\t\t\t\treturn clientResponse.bodyToMono(String.class)\r\n\t\t\t\t\t\t.flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\r\n\t\t\telse\r\n\t\t\t\treturn Mono.just(clientResponse);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate SslContext getKeyStorefromMassl(String sslConfigName) {\r\n\t\tSslContext sslcontext = null;\r\n\t\ttry {\r\n\t\t\t// setting passwords for keystore load\r\n\t\t\tsslContextbuilder.setSslDetailsLoader(sslDetailsLoader);\r\n\t\t\tsslContextbuilder.setPrivateKeyPassword(privateKeyPassword.toCharArray());\r\n\t\t\tsslContextbuilder.setCertificateConverter(certificateConverter);\r\n\t\t    SslDetails sslDetails = sslDetailsLoader.loadOkapiCerts(sslConfigName);\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\ttrustStore.load(null, keystorePassword.toCharArray());\r\n\t\t\tlogger.info(&quot;I have build the keystore for the trust manager.&quot;);\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\tkeyStore.load(null, keystorePassword.toCharArray());\r\n\t\t\tlogger.info(&quot;I have build the keystore for the key manager.&quot;);\r\n\t\t\tcertificateConverter.loadCertificateAuthorities(sslDetails, trustStore);\r\n\t\t\t/*\r\n\t\t\t * Load the my public certificate and key into the key store.\r\n\t\t\t */\r\n\t\t\tcertificateConverter.loadCertificateAndKey(sslDetails, keyStore, privateKeyPassword.toCharArray());\r\n\t\t\tsslcontext = sslContextbuilder.buildInternallySslContext(sslDetails, trustStore, keyStore, sslConfigName);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Failed getKeyStorefromMassl ==&gt;&quot;, e.getMessage());\r\n\t\t}\r\n\t\treturn sslcontext;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd calling post method from service class\r\n```\r\nResponseEntity&lt;IdvResponse&gt; response = webClient.post().uri(baseUriVerifyExt).headers(getDefaultHttpHeaders())\r\n\t\t\t\t\t.attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;dvs&quot;))\r\n\t\t\t\t\t.body(Mono.just(idvRequest), IdvRequest.class).retrieve().toEntity(IdvResponse.class).block();\r\n```\r\n\r\nCan someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the `keyStore` setup? Thanks.","title":"Configuring WebClient with keyStore and ServerOAuth2AuthorizedClientExchangeFilterFunction - troubleshooting SSLHandshakeException","body":"<p>I am trying to call a customer's endpoint to retrieve their data using <code>WebClient</code>. We have to use certificate when calling the endpoint. I configured the <code>WebClient</code> with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore. However, I am getting the <code>SSLHandshakeException</code>. If I commented out the filter(oauth), then I didn't get the SSLHandshakeException. Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the keyStore setup? Thanks.</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    private final Logger logger = (Logger) LoggerFactory.getLogger(WebClientConfig.class);\n\n    @Autowired\n    private DVSVerifySslContextBuilder sslContextbuilder;\n\n    @Autowired\n    private SslDetailsLoader sslDetailsLoader;\n\n    @Autowired\n    private CertificateConverter certificateConverter;\n\n    @Value(&quot;${service.cert.keystorePassword}&quot;)\n    private String keystorePassword;\n\n    @Value(&quot;${service.cert.privateKeyPassword}&quot;)\n    private String privateKeyPassword;\n\n    @Value(&quot;${okapi.sslConfigName}&quot;)\n    private String sslConfigName;\n    \n    @Value(&quot;${dvs.verify.base.uri}&quot;)\n    private String baseUri;\n\n    @Bean\n    public ReactiveClientRegistrationRepository getRegistration(\n\n            @Value(&quot;${dvs.verify.accessTokenUri}&quot;) final String accessTokenUri,\n            @Value(&quot;${dvs.verify.client-id}&quot;) final String clientId,\n            @Value(&quot;${dvs.verify.client-secret}&quot;) final String clientSecret,\n            @Value(&quot;${dvs.verify.grant-type}&quot;) final String grantType,\n            @Value(&quot;${dvs.verify.scope}&quot;) final String scope) {\n        ClientRegistration registration = ClientRegistration.withRegistrationId(&quot;dvs&quot;).tokenUri(accessTokenUri)\n                .clientId(clientId).scope(scope).clientSecret(clientSecret)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS).build();\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        var clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n        var authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                clientRegistrations, clientService);\n        var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth.setDefaultClientRegistrationId(&quot;dvs&quot;);\n\n        HttpClient httpClient = HttpClient.create()\n                .secure(sslSpec -&gt; sslSpec.sslContext(getKeyStorefromMassl(sslConfigName)))\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\n                .doOnConnected(\n                          connection -&gt; {\n                            connection.addHandlerLast(\n                                new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                            connection.addHandlerLast(\n                                new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                          });\n        return WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).filter(oauth).baseUrl(baseUri)\n                .filter(errorHandler()).build();\n    }\n\n    private ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            if (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError())\n                return clientResponse.bodyToMono(String.class)\n                        .flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\n            else\n                return Mono.just(clientResponse);\n        });\n    }\n\n    private SslContext getKeyStorefromMassl(String sslConfigName) {\n        SslContext sslcontext = null;\n        try {\n            // setting passwords for keystore load\n            sslContextbuilder.setSslDetailsLoader(sslDetailsLoader);\n            sslContextbuilder.setPrivateKeyPassword(privateKeyPassword.toCharArray());\n            sslContextbuilder.setCertificateConverter(certificateConverter);\n            SslDetails sslDetails = sslDetailsLoader.loadOkapiCerts(sslConfigName);\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n            trustStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the trust manager.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the key manager.&quot;);\n            certificateConverter.loadCertificateAuthorities(sslDetails, trustStore);\n            /*\n             * Load the my public certificate and key into the key store.\n             */\n            certificateConverter.loadCertificateAndKey(sslDetails, keyStore, privateKeyPassword.toCharArray());\n            sslcontext = sslContextbuilder.buildInternallySslContext(sslDetails, trustStore, keyStore, sslConfigName);\n        } catch (Exception e) {\n            logger.error(&quot;Failed getKeyStorefromMassl ==&gt;&quot;, e.getMessage());\n        }\n        return sslcontext;\n    }\n}\n\n</code></pre>\n<p>And calling post method from service class</p>\n<pre><code>ResponseEntity&lt;IdvResponse&gt; response = webClient.post().uri(baseUriVerifyExt).headers(getDefaultHttpHeaders())\n                    .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;dvs&quot;))\n                    .body(Mono.just(idvRequest), IdvRequest.class).retrieve().toEntity(IdvResponse.class).block();\n</code></pre>\n<p>Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the <code>keyStore</code> setup? Thanks.</p>\n"},{"tags":["java","hibernate","jpa","caching","redis"],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684760199,"creation_date":1684760199,"question_id":76306436,"body_markdown":"I have JPA Entity class as such:\r\n\r\n    class A extends BaseEntity{\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;b_id&quot;)\r\n    private B b;\r\n\r\n    @Column(name = &quot;is_checked&quot;)\r\n    private Boolean isChecked;    \r\n    }\r\n    \r\n    class B{\r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\r\n    private List&lt;A&gt; aList;\r\n    }\r\n\r\nNow my function to cache the object is as follows: (the function convert the JPA entity object to JSON string and cache it).\r\n        \r\n\r\n    public void cacheObject(String suffix, A object) {\r\n        try{\r\n            ...\r\n    \r\n            redisTemplate\r\n                .opsForValue()\r\n                .set(\r\n                    key,\r\n                    Jackson.toJsonString(object)\r\n                );\r\n\r\n            ...\r\n        }catch(Exception exception){\r\n            ...\r\n        }\r\n    }\r\n\r\nThe retrieval function is as follows: (It retrieves the JSON string and map it to the entity class object)\r\n\r\n    public A getById(Integer id) {\r\n        try{\r\n            String aString = this.getObjectFromCache(id.toString());\r\n\r\n            if(Utilities.isNull(aString) || aString.isEmpty()){\r\n                return null;\r\n            }\r\n\r\n            return objectMapper.readValue(\r\n                aString,\r\n                A.class\r\n            );\r\n        }catch(Exception exception){\r\n            log.warn(&quot;Exception occurred while converting JSON string to A(id:{})&quot;, id);\r\n            log.warn(&quot;Exception: {}&quot;, exception.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\nThe problem is when I try to do this a.getB().getAList() [after fetching from cache] it results in error of null pointer exception, as aList of entity B is not being cached as I am using @JsonIgnore on it. If I weren&#39;t using @JsonIgnore then there would have been another error of infinite recursion(A-&gt;B&gt;A-&gt;B-&gt;so on) at JSON serialization while caching.\r\nI don&#39;t want to cache aList either I want to fetch it from database, but I am unable to do so because of null pointer exception as it is null upon caching, also I tried to just save ids in AList so that if I do a.getB().getAList() then it fetches AList from db using JPA Persistence/context/whatever as ids are now there but it didn&#39;t work either. \r\nAny suggestions how to do that? any suggestion on how should I be caching? keep in mind I have a lot of referencing entities. ","title":"How to load JPA context and all after fetching JSON from cache and mapping it to JPA entity?","body":"<p>I have JPA Entity class as such:</p>\n<pre><code>class A extends BaseEntity{\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;b_id&quot;)\nprivate B b;\n\n@Column(name = &quot;is_checked&quot;)\nprivate Boolean isChecked;    \n}\n\nclass B{\n@JsonIgnore\n@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\nprivate List&lt;A&gt; aList;\n}\n</code></pre>\n<p>Now my function to cache the object is as follows: (the function convert the JPA entity object to JSON string and cache it).</p>\n<pre><code>public void cacheObject(String suffix, A object) {\n    try{\n        ...\n\n        redisTemplate\n            .opsForValue()\n            .set(\n                key,\n                Jackson.toJsonString(object)\n            );\n\n        ...\n    }catch(Exception exception){\n        ...\n    }\n}\n</code></pre>\n<p>The retrieval function is as follows: (It retrieves the JSON string and map it to the entity class object)</p>\n<pre><code>public A getById(Integer id) {\n    try{\n        String aString = this.getObjectFromCache(id.toString());\n\n        if(Utilities.isNull(aString) || aString.isEmpty()){\n            return null;\n        }\n\n        return objectMapper.readValue(\n            aString,\n            A.class\n        );\n    }catch(Exception exception){\n        log.warn(&quot;Exception occurred while converting JSON string to A(id:{})&quot;, id);\n        log.warn(&quot;Exception: {}&quot;, exception.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The problem is when I try to do this a.getB().getAList() [after fetching from cache] it results in error of null pointer exception, as aList of entity B is not being cached as I am using @JsonIgnore on it. If I weren't using @JsonIgnore then there would have been another error of infinite recursion(A-&gt;B&gt;A-&gt;B-&gt;so on) at JSON serialization while caching.\nI don't want to cache aList either I want to fetch it from database, but I am unable to do so because of null pointer exception as it is null upon caching, also I tried to just save ids in AList so that if I do a.getB().getAList() then it fetches AList from db using JPA Persistence/context/whatever as ids are now there but it didn't work either.\nAny suggestions how to do that? any suggestion on how should I be caching? keep in mind I have a lot of referencing entities.</p>\n"},{"tags":["java","intellij-idea","annotations","notnull"],"comments":[{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404149734,"post_id":24495448,"comment_id":37920570,"body_markdown":"Intellij has its own NotNull annotation class.  I wonder if its doing some slight of  hand around the return list.toArray which is the only place you can have an NPE potential","body":"Intellij has its own NotNull annotation class.  I wonder if its doing some slight of  hand around the return list.toArray which is the only place you can have an NPE potential"},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1404150473,"post_id":24495448,"comment_id":37920901,"body_markdown":"It&#39;s not possible for the list field to be null. Unless I missed something?","body":"It&#39;s not possible for the list field to be null. Unless I missed something?"},{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404150632,"post_id":24495448,"comment_id":37920978,"body_markdown":"there is an implicit ListHashSet() constructor added in by the compiler","body":"there is an implicit ListHashSet() constructor added in by the compiler"},{"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"score":0,"creation_date":1404746803,"post_id":24495448,"comment_id":38142007,"body_markdown":"try intellij forums/support?","body":"try intellij forums/support?"},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":1,"creation_date":1414998838,"post_id":24495448,"comment_id":42010671,"body_markdown":"I tried asking over at the IntelliJ forums, but got nowhere. This is probably a bug in IntelliJ","body":"I tried asking over at the IntelliJ forums, but got nowhere. This is probably a bug in IntelliJ"},{"owner":{"account_id":3839586,"reputation":388,"user_id":3183076,"display_name":"Dmytro"},"score":0,"creation_date":1527583507,"post_id":24495448,"comment_id":88169125,"body_markdown":"Sometimes, it helps to add a nullability check. In my case, there was the `@ParametersAreNonnullByDefault` an annotation on both the interface and implementing class packages. However, IDEA warned me that the overridden method param is not annotated until I added `Preconditions.checkNotNull(...)` for the param in the implementing class.","body":"Sometimes, it helps to add a nullability check. In my case, there was the <code>@ParametersAreNonnullByDefault</code> an annotation on both the interface and implementing class packages. However, IDEA warned me that the overridden method param is not annotated until I added <code>Preconditions.checkNotNull(...)</code> for the param in the implementing class."},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":0,"creation_date":1571963086,"post_id":24495448,"comment_id":103422130,"body_markdown":"It&#39;s weird I&#39;m still getting upvotes for this question, 5 years later. No one&#39;s made a fix?","body":"It&#39;s weird I&#39;m still getting upvotes for this question, 5 years later. No one&#39;s made a fix?"}],"answers":[{"tags":[],"owner":{"account_id":263634,"reputation":615,"user_id":549332,"display_name":"Totoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433401461,"creation_date":1404151152,"answer_id":24496141,"question_id":24495448,"body_markdown":"Try adding:\r\n\r\n    private ListHashSet() {}","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>Try adding:</p>\n\n<pre><code>private ListHashSet() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5360271,"reputation":4735,"user_id":4271755,"accept_rate":100,"display_name":"Invisible Arrow"},"down_vote_count":0,"up_vote_count":93,"is_accepted":true,"score":93,"last_activity_date":1421311012,"creation_date":1421238233,"answer_id":27942889,"question_id":24495448,"body_markdown":"Try adding `@Nonnull` (&lt;a href=&quot;https://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/Nonnull.html&quot;&gt;javax.annotation.Nonnull&lt;/a&gt;) to the `toArray` method.\r\n\r\nThe warning disappeared for me when I added this annotation. I think the warning message is incorrect which says that `@NotNull` is missing.","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>Try adding <code>@Nonnull</code> (<a href=\"https://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/Nonnull.html\" rel=\"noreferrer\">javax.annotation.Nonnull</a>) to the <code>toArray</code> method.</p>\n\n<p>The warning disappeared for me when I added this annotation. I think the warning message is incorrect which says that <code>@NotNull</code> is missing.</p>\n"},{"tags":[],"owner":{"account_id":2345280,"reputation":81,"user_id":2055716,"display_name":"doku"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1447286636,"creation_date":1447286636,"answer_id":33662173,"question_id":24495448,"body_markdown":"I agree it&#39;s a typo on Nonnull vs. NotNull. However, there also seems to be some other bug going on. I was implementing a custom Set and it was complaining about Iterator and toArray methods not having the annotation. But, looking at the JDK, there doesn&#39;t seem to be any such annotation on the interface for Set or Collection. \r\n\r\nhttp://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java\r\nhttp://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java\r\n\r\nWeird. \r\n\r\nAnyway, the other option is to add a @SuppressWarnings tag to your class or method:\r\n@SuppressWarnings(&quot;NullableProblems&quot;)","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I agree it's a typo on Nonnull vs. NotNull. However, there also seems to be some other bug going on. I was implementing a custom Set and it was complaining about Iterator and toArray methods not having the annotation. But, looking at the JDK, there doesn't seem to be any such annotation on the interface for Set or Collection. </p>\n\n<p><a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java</a>\n<a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java</a></p>\n\n<p>Weird. </p>\n\n<p>Anyway, the other option is to add a @SuppressWarnings tag to your class or method:\n@SuppressWarnings(\"NullableProblems\")</p>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684760142,"creation_date":1684760142,"answer_id":76306424,"question_id":24495448,"body_markdown":"I also face the same and solve it by adding package-info.java for that package. Under package-info.java added annotation @NonNullApi.\r\nmy package-info.java looks like - \r\n\r\n    @NonNullApi\r\n    package org.example.auth.repositories;\r\n\r\n    import org.springframework.lang.NonNullApi;","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I also face the same and solve it by adding package-info.java for that package. Under package-info.java added annotation @NonNullApi.\nmy package-info.java looks like -</p>\n<pre><code>@NonNullApi\npackage org.example.auth.repositories;\n\nimport org.springframework.lang.NonNullApi;\n</code></pre>\n"}],"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49494,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":27942889,"answer_count":4,"score":66,"last_activity_date":1684760142,"creation_date":1404148413,"question_id":24495448,"body_markdown":"I&#39;m implementing a custom data structure that gives me some properties of sets and other properties of lists. For most of the implemented methods though, I get this weird warning in IntelliJ IDEA on Java 7:\r\n\r\n&gt;Not annotated method overrides method annotated with @NotNull\r\n\r\n**EDIT**: The code below isn&#39;t relevant to the issue, but part of the original question. This warning shows up because of a bug in IntelliJ. See the [answer](https://stackoverflow.com/a/27942889/1827734) to (hopefully) resolve your issue.\r\n\r\n----\r\n\r\nI haven&#39;t been able to find anything relevant about it and I&#39;m not sure if I&#39;m actually missing some sort of check, but I&#39;ve looked through the source of both ArrayList and the List interface and can&#39;t see what this warning is actually about. It&#39;s on every implemented method that references the list field. Here&#39;s a snippet of the class I&#39;ve made:\r\n\r\n    public class ListHashSet&lt;T&gt; implements List&lt;T&gt;, Set&lt;T&gt; {\r\n\tprivate ArrayList&lt;T&gt; list;\r\n\tprivate HashSet&lt;T&gt; set;\r\n\r\n\r\n\t/**\r\n\t * Constructs a new, empty list hash set with the specified initial\r\n\t * capacity and load factor.\r\n\t *\r\n\t * @param      initialCapacity the initial capacity of the list hash set\r\n\t * @param      loadFactor      the load factor of the list hash set\r\n\t * @throws     IllegalArgumentException  if the initial capacity is less\r\n\t *               than zero, or if the load factor is nonpositive\r\n\t */\r\n\tpublic ListHashSet(int initialCapacity, float loadFactor) {\r\n\t\tset = new HashSet&lt;&gt;(initialCapacity, loadFactor);\r\n\t\tlist = new ArrayList&lt;&gt;(initialCapacity);\r\n\t}\r\n    ...\r\n    /**\r\n\t * The Object array representation of this collection\r\n\t * @return an Object array in insertion order\r\n\t */\r\n\t@Override\r\n\tpublic Object[] toArray() {  // warning is on this line for the toArray() method\r\n\t\treturn list.toArray();\r\n\t}\r\n\r\nEDIT: I have these additional constructors in the class:\r\n\r\n    public ListHashSet(int initialCapacity) {\r\n\t\tthis(initialCapacity, .75f);\r\n\t}\r\n\r\n\tpublic ListHashSet() {\r\n\t\tthis(16, .75f);\r\n\t}\r\n","title":"Not annotated method overrides method annotated with @NotNull","body":"<p>I'm implementing a custom data structure that gives me some properties of sets and other properties of lists. For most of the implemented methods though, I get this weird warning in IntelliJ IDEA on Java 7:</p>\n\n<blockquote>\n  <p>Not annotated method overrides method annotated with @NotNull</p>\n</blockquote>\n\n<p><strong>EDIT</strong>: The code below isn't relevant to the issue, but part of the original question. This warning shows up because of a bug in IntelliJ. See the <a href=\"https://stackoverflow.com/a/27942889/1827734\">answer</a> to (hopefully) resolve your issue.</p>\n\n<hr>\n\n<p>I haven't been able to find anything relevant about it and I'm not sure if I'm actually missing some sort of check, but I've looked through the source of both ArrayList and the List interface and can't see what this warning is actually about. It's on every implemented method that references the list field. Here's a snippet of the class I've made:</p>\n\n<pre><code>public class ListHashSet&lt;T&gt; implements List&lt;T&gt;, Set&lt;T&gt; {\nprivate ArrayList&lt;T&gt; list;\nprivate HashSet&lt;T&gt; set;\n\n\n/**\n * Constructs a new, empty list hash set with the specified initial\n * capacity and load factor.\n *\n * @param      initialCapacity the initial capacity of the list hash set\n * @param      loadFactor      the load factor of the list hash set\n * @throws     IllegalArgumentException  if the initial capacity is less\n *               than zero, or if the load factor is nonpositive\n */\npublic ListHashSet(int initialCapacity, float loadFactor) {\n    set = new HashSet&lt;&gt;(initialCapacity, loadFactor);\n    list = new ArrayList&lt;&gt;(initialCapacity);\n}\n...\n/**\n * The Object array representation of this collection\n * @return an Object array in insertion order\n */\n@Override\npublic Object[] toArray() {  // warning is on this line for the toArray() method\n    return list.toArray();\n}\n</code></pre>\n\n<p>EDIT: I have these additional constructors in the class:</p>\n\n<pre><code>public ListHashSet(int initialCapacity) {\n    this(initialCapacity, .75f);\n}\n\npublic ListHashSet() {\n    this(16, .75f);\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1561395075,"post_id":56725692,"comment_id":100040695,"body_markdown":"can&#39;t you get the bytes by `request.body().toString().getBytes()`?","body":"can&#39;t you get the bytes by <code>request.body().toString().getBytes()</code>?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1561407052,"post_id":56725692,"comment_id":100045552,"body_markdown":"@ThomasAndolf no, because it returns a BodyInserter which is not the actual body. See: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html#body--","body":"@ThomasAndolf no, because it returns a BodyInserter which is not the actual body. See: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html#body--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1599124567,"post_id":56725692,"comment_id":112678495,"body_markdown":"Is it possible now?","body":"Is it possible now?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":2,"creation_date":1599129586,"post_id":56725692,"comment_id":112681039,"body_markdown":"Not that I know of. I worked it around by serializing request body and calculating signing headers before sending the request.","body":"Not that I know of. I worked it around by serializing request body and calculating signing headers before sending the request."},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":2,"creation_date":1599377483,"post_id":56725692,"comment_id":112752029,"body_markdown":"Can you send a snippet code?","body":"Can you send a snippet code?"},{"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"score":0,"creation_date":1681472929,"post_id":56725692,"comment_id":134065880,"body_markdown":"I know this question is quite outdated but, anyone has a breakthrough on this issue?","body":"I know this question is quite outdated but, anyone has a breakthrough on this issue?"},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1684832134,"post_id":56725692,"comment_id":134570909,"body_markdown":"@bsferreira You can see my answer","body":"@bsferreira You can see my answer"}],"answers":[{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684759855,"creation_date":1684759855,"answer_id":76306384,"question_id":56725692,"body_markdown":"I came with the following solution:\r\n\r\n```kotlin\r\nimport org.springframework.util.MultiValueMapAdapter\r\nimport org.springframework.web.reactive.function.client.ClientRequest\r\nimport reactor.core.publisher.Mono\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\r\nimport software.amazon.awssdk.auth.signer.Aws4Signer\r\nimport software.amazon.awssdk.auth.signer.AwsSignerExecutionAttribute\r\nimport software.amazon.awssdk.core.interceptor.ExecutionAttributes\r\nimport software.amazon.awssdk.http.SdkHttpFullRequest\r\nimport software.amazon.awssdk.http.SdkHttpMethod\r\nimport software.amazon.awssdk.regions.Region\r\nimport java.util.function.Function\r\n\r\nclass WebClientAwsSigner(\r\n    private val body: String? = null,\r\n    private val signer: Aws4Signer,\r\n    private val awsCredentialsProvider: AwsCredentialsProvider,\r\n    private val serviceName: String,\r\n    private val region: Region,\r\n) : Function&lt;ClientRequest, Mono&lt;ClientRequest&gt;&gt; {\r\n\r\n    override fun apply(request: ClientRequest): Mono&lt;ClientRequest&gt; {\r\n        val requestBuilder = SdkHttpFullRequest.builder()\r\n            .method(SdkHttpMethod.fromValue(request.method().name()))\r\n            .uri(request.url())\r\n            .apply {\r\n                if (body != null) {\r\n                    contentStreamProvider { body.byteInputStream() }\r\n                }\r\n            }\r\n            .headers(request.headers())\r\n\r\n        val attributes = ExecutionAttributes()\r\n        attributes.putAttribute(\r\n            AwsSignerExecutionAttribute.AWS_CREDENTIALS,\r\n            awsCredentialsProvider.resolveCredentials(),\r\n        )\r\n        attributes.putAttribute(AwsSignerExecutionAttribute.SERVICE_SIGNING_NAME, serviceName)\r\n        attributes.putAttribute(AwsSignerExecutionAttribute.SIGNING_REGION, region)\r\n\r\n        val signedAwsRequest = signer.sign(requestBuilder.build(), attributes)\r\n        val signedClientRequest =\r\n            ClientRequest.from(request)\r\n                .headers {\r\n                    it.clear()\r\n                    it.addAll(MultiValueMapAdapter(signedAwsRequest.headers()))\r\n                }\r\n                .build()\r\n\r\n        return Mono.just(signedClientRequest)\r\n    }\r\n}\r\n\r\n    private fun signedAwsWebClient(body: String? = null): WebClient = webclient\r\n        .mutate().filter(\r\n            ExchangeFilterFunction.ofRequestProcessor(\r\n                WebClientAwsSigner(body, Aws4Signer.create(), DefaultCredentialsProvider.create(), &quot;es&quot;, Region.US_EAST_1),\r\n            ),\r\n        )\r\n        .build()\r\n```\r\n\r\nGitHub: https://github.com/kkocel/webclient-signed-request-to-aws","title":"Sign Spring WebClient HTTP request with AWS","body":"<p>I came with the following solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.util.MultiValueMapAdapter\nimport org.springframework.web.reactive.function.client.ClientRequest\nimport reactor.core.publisher.Mono\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\nimport software.amazon.awssdk.auth.signer.Aws4Signer\nimport software.amazon.awssdk.auth.signer.AwsSignerExecutionAttribute\nimport software.amazon.awssdk.core.interceptor.ExecutionAttributes\nimport software.amazon.awssdk.http.SdkHttpFullRequest\nimport software.amazon.awssdk.http.SdkHttpMethod\nimport software.amazon.awssdk.regions.Region\nimport java.util.function.Function\n\nclass WebClientAwsSigner(\n    private val body: String? = null,\n    private val signer: Aws4Signer,\n    private val awsCredentialsProvider: AwsCredentialsProvider,\n    private val serviceName: String,\n    private val region: Region,\n) : Function&lt;ClientRequest, Mono&lt;ClientRequest&gt;&gt; {\n\n    override fun apply(request: ClientRequest): Mono&lt;ClientRequest&gt; {\n        val requestBuilder = SdkHttpFullRequest.builder()\n            .method(SdkHttpMethod.fromValue(request.method().name()))\n            .uri(request.url())\n            .apply {\n                if (body != null) {\n                    contentStreamProvider { body.byteInputStream() }\n                }\n            }\n            .headers(request.headers())\n\n        val attributes = ExecutionAttributes()\n        attributes.putAttribute(\n            AwsSignerExecutionAttribute.AWS_CREDENTIALS,\n            awsCredentialsProvider.resolveCredentials(),\n        )\n        attributes.putAttribute(AwsSignerExecutionAttribute.SERVICE_SIGNING_NAME, serviceName)\n        attributes.putAttribute(AwsSignerExecutionAttribute.SIGNING_REGION, region)\n\n        val signedAwsRequest = signer.sign(requestBuilder.build(), attributes)\n        val signedClientRequest =\n            ClientRequest.from(request)\n                .headers {\n                    it.clear()\n                    it.addAll(MultiValueMapAdapter(signedAwsRequest.headers()))\n                }\n                .build()\n\n        return Mono.just(signedClientRequest)\n    }\n}\n\n    private fun signedAwsWebClient(body: String? = null): WebClient = webclient\n        .mutate().filter(\n            ExchangeFilterFunction.ofRequestProcessor(\n                WebClientAwsSigner(body, Aws4Signer.create(), DefaultCredentialsProvider.create(), &quot;es&quot;, Region.US_EAST_1),\n            ),\n        )\n        .build()\n</code></pre>\n<p>GitHub: <a href=\"https://github.com/kkocel/webclient-signed-request-to-aws\" rel=\"nofollow noreferrer\">https://github.com/kkocel/webclient-signed-request-to-aws</a></p>\n"}],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1684759855,"creation_date":1561306371,"question_id":56725692,"body_markdown":"I would like to [AWS sign][1] my HTTP request fired by reactive [WebClient][2] of Spring. To sign the request I need access to the followings: URL, HTTP method, query parameters, headers and request body bytes.\r\n\r\nI started with writing an [ExchangeFilterFunction][3]. Due to [ClientRequest][4] interface I can access everything there I need, except the request body:\r\n\r\n\t@Component\r\n\tpublic class AwsSigningInterceptor implements ExchangeFilterFunction\r\n\t{\r\n\t\tprivate final AwsHeaderSigner awsHeaderSigner;\r\n\r\n\t\tpublic AwsSigningInterceptor(AwsHeaderSigner awsHeaderSigner)\r\n\t\t{\r\n\t\t\tthis.awsHeaderSigner = awsHeaderSigner;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next)\r\n\t\t{\r\n\t\t\tMap&lt;String, List&lt;String&gt;&gt; signingHeaders = awsHeaderSigner.createSigningHeaders(request, new byte[]{}, &quot;es&quot;, &quot;us-west-2&quot;); // should pass request body bytes in place of new byte[]{}\r\n\r\n\t\t\tClientRequest.Builder requestBuilder = ClientRequest.from(request);\r\n\r\n\t\t\tsigningHeaders.forEach((key, value) -&gt; requestBuilder.header(key, value.toArray(new String[0])));\r\n\r\n\t\t\treturn next.exchange(requestBuilder.build());\r\n\t\t}\r\n\t}\r\n\r\nIn older spring versions we used [RestTemplate][5] with a [ClientHttpRequestInterceptor][6]. In that case the bytes of the body were exposed, so signing was possible.\r\n\r\nAs I see in case of [WebClient][2] Spring handles the body as a [Publisher][7], so I&#39;m not sure if an [ExchangeFilterFunction][3] is a good place to start. \r\n\r\nHow should I sign the HTTP request?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [6]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestInterceptor.html\r\n  [7]: https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html","title":"Sign Spring WebClient HTTP request with AWS","body":"<p>I would like to <a href=\"https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\" rel=\"noreferrer\">AWS sign</a> my HTTP request fired by reactive <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> of Spring. To sign the request I need access to the followings: URL, HTTP method, query parameters, headers and request body bytes.</p>\n\n<p>I started with writing an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a>. Due to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html\" rel=\"noreferrer\">ClientRequest</a> interface I can access everything there I need, except the request body:</p>\n\n<pre><code>@Component\npublic class AwsSigningInterceptor implements ExchangeFilterFunction\n{\n    private final AwsHeaderSigner awsHeaderSigner;\n\n    public AwsSigningInterceptor(AwsHeaderSigner awsHeaderSigner)\n    {\n        this.awsHeaderSigner = awsHeaderSigner;\n    }\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next)\n    {\n        Map&lt;String, List&lt;String&gt;&gt; signingHeaders = awsHeaderSigner.createSigningHeaders(request, new byte[]{}, \"es\", \"us-west-2\"); // should pass request body bytes in place of new byte[]{}\n\n        ClientRequest.Builder requestBuilder = ClientRequest.from(request);\n\n        signingHeaders.forEach((key, value) -&gt; requestBuilder.header(key, value.toArray(new String[0])));\n\n        return next.exchange(requestBuilder.build());\n    }\n}\n</code></pre>\n\n<p>In older spring versions we used <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate</a> with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestInterceptor.html\" rel=\"noreferrer\">ClientHttpRequestInterceptor</a>. In that case the bytes of the body were exposed, so signing was possible.</p>\n\n<p>As I see in case of <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> Spring handles the body as a <a href=\"https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html\" rel=\"noreferrer\">Publisher</a>, so I'm not sure if an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a> is a good place to start. </p>\n\n<p>How should I sign the HTTP request?</p>\n"},{"tags":["java","firebase","macos","apple-m1","firebase-tools"],"comments":[{"owner":{"account_id":11567332,"reputation":21,"user_id":8475129,"display_name":"Jean Charles"},"score":0,"creation_date":1679362065,"post_id":75794346,"comment_id":133704824,"body_markdown":"thanks . it won&#39;t change anything , already downgraded to node@18","body":"thanks . it won&#39;t change anything , already downgraded to node@18"}],"answers":[{"tags":[],"owner":{"account_id":3290504,"reputation":866,"user_id":2768937,"accept_rate":73,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679351043,"creation_date":1679351043,"answer_id":75795839,"question_id":75794346,"body_markdown":"Node 19 is experimental and not officially supported (by Node or Firebase):\r\n\r\nhttps://github.com/firebase/firebase-tools/issues/5608\r\n\r\nPlease downgrade to 18 and reply if you&#39;re still having issues.","title":"Unable to launch firebase emulators ui","body":"<p>Node 19 is experimental and not officially supported (by Node or Firebase):</p>\n<p><a href=\"https://github.com/firebase/firebase-tools/issues/5608\" rel=\"nofollow noreferrer\">https://github.com/firebase/firebase-tools/issues/5608</a></p>\n<p>Please downgrade to 18 and reply if you're still having issues.</p>\n"},{"tags":[],"owner":{"account_id":14201244,"reputation":249,"user_id":10259099,"display_name":"Rofie Sagara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679365681,"creation_date":1679365681,"answer_id":75796851,"question_id":75794346,"body_markdown":"You can use docker for that its more a clean way, Im use this image \r\nhttps://hub.docker.com/r/spine3/firebase-emulator","title":"Unable to launch firebase emulators ui","body":"<p>You can use docker for that its more a clean way, Im use this image\n<a href=\"https://hub.docker.com/r/spine3/firebase-emulator\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/spine3/firebase-emulator</a></p>\n"},{"tags":[],"owner":{"account_id":10521433,"reputation":21,"user_id":12614572,"display_name":"Dmitro Serdun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679556121,"creation_date":1679556121,"answer_id":75820160,"question_id":75794346,"body_markdown":"Downgrading the version helped me, as Chris.\r\n\r\nAlso, for everything to work, you need to delete the cache, in my case, it is the path &quot;/Users/dmitroserdun/.cache/firebase&quot;","title":"Unable to launch firebase emulators ui","body":"<p>Downgrading the version helped me, as Chris.</p>\n<p>Also, for everything to work, you need to delete the cache, in my case, it is the path &quot;/Users/dmitroserdun/.cache/firebase&quot;</p>\n"},{"tags":[],"owner":{"account_id":19025095,"reputation":31,"user_id":13888343,"display_name":"Camille"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682535472,"creation_date":1682535472,"answer_id":76114187,"question_id":75794346,"body_markdown":"It worked for me to downgrade to Node.js `v18.15.0`. I&#39;ve had `v18.16.0` installed before.\r\nhttps://nodejs.org/dist/v18.15.0/","title":"Unable to launch firebase emulators ui","body":"<p>It worked for me to downgrade to Node.js <code>v18.15.0</code>. I've had <code>v18.16.0</code> installed before.\n<a href=\"https://nodejs.org/dist/v18.15.0/\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/v18.15.0/</a></p>\n"},{"tags":[],"owner":{"account_id":14709384,"reputation":1,"user_id":10625776,"display_name":"Erik Bleckhorns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684759761,"creation_date":1684759738,"answer_id":76306371,"question_id":75794346,"body_markdown":"Answers above, note the combination of:\r\n - Downgrade to Node.js v18.15.0\r\n - Delete cache (on Windows /Users/user/.cache/firebase)","title":"Unable to launch firebase emulators ui","body":"<p>Answers above, note the combination of:</p>\n<ul>\n<li>Downgrade to Node.js v18.15.0</li>\n<li>Delete cache (on Windows /Users/user/.cache/firebase)</li>\n</ul>\n"}],"owner":{"account_id":11567332,"reputation":21,"user_id":8475129,"display_name":"Jean Charles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1684759761,"creation_date":1679339226,"question_id":75794346,"body_markdown":"Hello everybody: i can&#39;t launch my emulators , firebase init ok , ports ok , the problem seems to come from the ui . Anybody could help me ? \r\n\r\n```\r\n(base) jean-charlesdubien@airdejencharles firebase-demo-project % firebase emulators:start\r\ni  emulators: Starting emulators: auth, functions, firestore, hosting, storage\r\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub\r\ni  firestore: Firestore Emulator logging to firestore-debug.log\r\n✔  firestore: Firestore Emulator UI websocket is running on 9150.\r\ni  hosting[flutter-ultimate-ae8a4]: Serving hosting files from: public\r\n✔  hosting[flutter-ultimate-ae8a4]: Local server: http://127.0.0.1:5002/\r\ni  ui: Emulator UI logging to ui-debug.log\r\n⚠  ui: Fatal error occurred: \r\n   Emulator UI has exited with code: 1, \r\n   stopping all running emulators\r\ni  ui: Stopping Emulator UI\r\n⚠  ui: Error stopping Emulator UI\r\ni  functions: Stopping Functions Emulator\r\ni  hosting: Stopping Hosting Emulator\r\ni  firestore: Stopping Firestore Emulator\r\ni  auth: Stopping Authentication Emulator\r\ni  storage: Stopping Storage Emulator\r\ni  eventarc: Stopping Eventarc Emulator\r\ni  hub: Stopping emulator hub\r\ni  logging: Stopping Logging Emulator\r\n```\r\n\r\n\r\nNode @19 then downgraded unsuccesfully. java jre19 mac M1 , tried on rosetta and M1 terminal\r\n\r\nThank you \r\n\r\n\r\n\r\n\r\ndowngrade node from 19 to 16\r\nretry init and download emulators\r\ntry from terminal M1 and rosetta .\r\n\r\nEDIT : mode -- debug \r\n\r\nNode.js v18.15.0\r\n {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;/Users/jean-charlesdubien/.cache/firebase/emulators/ui-v1.11.4/server/server.js:569\\n        re\\&quot;use strict\\&quot;;\\n          ^^^^^^^^^^^^\\n\\nSyntaxError: Unexpected string\\n    at internalCompileFunction (node:internal/vm:73:18)\\n    at wrapSafe (node:internal/modules/cjs/loader:1176:20)\\n    at Module._compile (node:internal/modules/cjs/loader:1218:27)\\n    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)\\n    at Module.load (node:internal/modules/cjs/loader:1117:32)\\n    at Module._load (node:internal/modules/cjs/loader:958:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:23:47\\n\\nNode.js v18.15.0\\n&quot;}}\r\n⚠  ui: Fatal error occurred: \r\n   Emulator UI has exited with code: 1, \r\n   stopping all running emulators {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;Fatal error occurred: \\n   Emulator UI has exited with code: 1, \\n   stopping all running emulators&quot;}}\r\n\r\n","title":"Unable to launch firebase emulators ui","body":"<p>Hello everybody: i can't launch my emulators , firebase init ok , ports ok , the problem seems to come from the ui . Anybody could help me ?</p>\n<pre><code>(base) jean-charlesdubien@airdejencharles firebase-demo-project % firebase emulators:start\ni  emulators: Starting emulators: auth, functions, firestore, hosting, storage\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub\ni  firestore: Firestore Emulator logging to firestore-debug.log\n✔  firestore: Firestore Emulator UI websocket is running on 9150.\ni  hosting[flutter-ultimate-ae8a4]: Serving hosting files from: public\n✔  hosting[flutter-ultimate-ae8a4]: Local server: http://127.0.0.1:5002/\ni  ui: Emulator UI logging to ui-debug.log\n⚠  ui: Fatal error occurred: \n   Emulator UI has exited with code: 1, \n   stopping all running emulators\ni  ui: Stopping Emulator UI\n⚠  ui: Error stopping Emulator UI\ni  functions: Stopping Functions Emulator\ni  hosting: Stopping Hosting Emulator\ni  firestore: Stopping Firestore Emulator\ni  auth: Stopping Authentication Emulator\ni  storage: Stopping Storage Emulator\ni  eventarc: Stopping Eventarc Emulator\ni  hub: Stopping emulator hub\ni  logging: Stopping Logging Emulator\n</code></pre>\n<p>Node @19 then downgraded unsuccesfully. java jre19 mac M1 , tried on rosetta and M1 terminal</p>\n<p>Thank you</p>\n<p>downgrade node from 19 to 16\nretry init and download emulators\ntry from terminal M1 and rosetta .</p>\n<p>EDIT : mode -- debug</p>\n<p>Node.js v18.15.0\n{&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;/Users/jean-charlesdubien/.cache/firebase/emulators/ui-v1.11.4/server/server.js:569\\n        re&quot;use strict&quot;;\\n          ^^^^^^^^^^^^\\n\\nSyntaxError: Unexpected string\\n    at internalCompileFunction (node:internal/vm:73:18)\\n    at wrapSafe (node:internal/modules/cjs/loader:1176:20)\\n    at Module._compile (node:internal/modules/cjs/loader:1218:27)\\n    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)\\n    at Module.load (node:internal/modules/cjs/loader:1117:32)\\n    at Module._load (node:internal/modules/cjs/loader:958:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:23:47\\n\\nNode.js v18.15.0\\n&quot;}}\n⚠  ui: Fatal error occurred:\nEmulator UI has exited with code: 1,\nstopping all running emulators {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;Fatal error occurred: \\n   Emulator UI has exited with code: 1, \\n   stopping all running emulators&quot;}}</p>\n"},{"tags":["java","algorithm","data-structures","knuth-morris-pratt"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684716435,"post_id":76302458,"comment_id":134552878,"body_markdown":"A performance function for problem actually has three variables: A = the number of occurrences, B = length of str1, C = length of str2.  Which of these is your N?","body":"A performance function for problem actually has three variables: A = the number of occurrences, B = length of str1, C = length of str2.  Which of these is your N?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684716855,"post_id":76302458,"comment_id":134552906,"body_markdown":"Anyway, your conclusion that `indexOf` is `O(N)` time complexity is incorrect ... depending on which overload of `indexOf` you use and what `N` is.   And you shouldn&#39;t be using `substring` at all.","body":"Anyway, your conclusion that <code>indexOf</code> is <code>O(N)</code> time complexity is incorrect ... depending on which overload of <code>indexOf</code> you use and what <code>N</code> is.   And you shouldn&#39;t be using <code>substring</code> at all."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1684717419,"post_id":76302458,"comment_id":134552947,"body_markdown":"Yes, KMP is a good choice for this problem","body":"Yes, KMP is a good choice for this problem"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684718762,"post_id":76302458,"comment_id":134553060,"body_markdown":"The input data that makes this an interesting problem is one with overlap. So, not `abc`. Try doing this exercise for inputs: str1: `ana` str2: `banananas`. The correct answer is presumably [1, 3, 5]. A simple forward search will fail and answer [1, 5]. Yes, this can be done in O(N). Keep track of how &#39;far&#39; into the needle string you are, once you get to the end - you found an index. The trick is in how you &#39;reset&#39; the count when your algorithm concludes (either found a match, or knows there is no match). You can&#39;t just reset that to 0; you might be halfway to a new match already.","body":"The input data that makes this an interesting problem is one with overlap. So, not <code>abc</code>. Try doing this exercise for inputs: str1: <code>ana</code> str2: <code>banananas</code>. The correct answer is presumably [1, 3, 5]. A simple forward search will fail and answer [1, 5]. Yes, this can be done in O(N). Keep track of how &#39;far&#39; into the needle string you are, once you get to the end - you found an index. The trick is in how you &#39;reset&#39; the count when your algorithm concludes (either found a match, or knows there is no match). You can&#39;t just reset that to 0; you might be halfway to a new match already."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684721742,"post_id":76302458,"comment_id":134553269,"body_markdown":"You can iterate over a `str2.toCharArray`, and utilize a few local variables to determine if there are occurrences of `str1` within the array.  Would this not be O(n)?","body":"You can iterate over a <code>str2.toCharArray</code>, and utilize a few local variables to determine if there are occurrences of <code>str1</code> within the array.  Would this not be O(n)?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1684731605,"post_id":76302458,"comment_id":134554063,"body_markdown":"*&quot;Can KMP algorithm work here?&quot;*: is this a yes/no question?","body":"<i>&quot;Can KMP algorithm work here?&quot;</i>: is this a yes/no question?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684941099,"post_id":76302458,"comment_id":134591794,"body_markdown":"Instead of repeated `.substring(end, n).indexOf(str1)`, you should use [`indexOf(str1, end)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)), just specifying the start index. Yes, that’s a linear search, hence, O(n). But without the `substring` operations, the repeated searches from the previous match position still have the same total time complexity as a single `indexOf` call.","body":"Instead of repeated <code>.substring(end, n).indexOf(str1)</code>, you should use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>indexOf(str1, end)</code></a>, just specifying the start index. Yes, that’s a linear search, hence, O(n). But without the <code>substring</code> operations, the repeated searches from the previous match position still have the same total time complexity as a single <code>indexOf</code> call."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684722688,"creation_date":1684722688,"answer_id":76302729,"question_id":76302458,"body_markdown":"I was able to get the following algorithm to render.\r\n\r\nCorrect me if I&#39;m wrong; I believe this is an example of O(n) complexity.  \r\nAs for a KMP algorithm, I&#39;m unsure.\r\n\r\n```java\r\nList&lt;Integer&gt; firstMatchingIndexes(String stringA, String stringB) {\r\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\n    boolean checking = false;\r\n    int indexA = 0, indexB = 0;\r\n    for (char character : stringB.toCharArray()) {\r\n        if (checking) {\r\n            if (character == stringA.charAt(indexA))\r\n                if (indexA != stringA.length() - 1)\r\n                    indexA++;\r\n                else {\r\n                    indices.add(indexB - (stringA.length() - 1));\r\n                    checking = false;\r\n                    indexA = 0;\r\n                }\r\n            else {\r\n                checking = false;\r\n                indexA = 0;\r\n            }\r\n        } else if (character == stringA.charAt(indexA)) {\r\n            checking = true;\r\n            indexA++;\r\n        }\r\n        indexB++;\r\n    }\r\n    return indices;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[0, 5, 12]\r\n```","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>I was able to get the following algorithm to render.</p>\n<p>Correct me if I'm wrong; I believe this is an example of O(n) complexity.<br />\nAs for a KMP algorithm, I'm unsure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; firstMatchingIndexes(String stringA, String stringB) {\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\n    boolean checking = false;\n    int indexA = 0, indexB = 0;\n    for (char character : stringB.toCharArray()) {\n        if (checking) {\n            if (character == stringA.charAt(indexA))\n                if (indexA != stringA.length() - 1)\n                    indexA++;\n                else {\n                    indices.add(indexB - (stringA.length() - 1));\n                    checking = false;\n                    indexA = 0;\n                }\n            else {\n                checking = false;\n                indexA = 0;\n            }\n        } else if (character == stringA.charAt(indexA)) {\n            checking = true;\n            indexA++;\n        }\n        indexB++;\n    }\n    return indices;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0, 5, 12]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684759650,"creation_date":1684749253,"answer_id":76304970,"question_id":76302458,"body_markdown":"Yes, the Knuth–Morris–Pratt algorithm can be of use here.\r\n\r\nThe Wikipedia article on the [Knuth–Morris–Pratt algorithm](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm#Description_of_pseudocode_for_the_search_algorithm) provides pseudocode for the algorithm. Here is that pseudocode ported to Java:\r\n\r\n```\r\n    static int[] kmpTable(String pattern) {\r\n        int n = pattern.length();\r\n        int[] partialMatchTable = new int[n+1];\r\n        int j = 0;\r\n\r\n        partialMatchTable[0] = -1;\r\n\r\n        for (int i = 1; i &lt; n; i++, j++) {\r\n            if (pattern.charAt(i) == pattern.charAt(j)) {\r\n                partialMatchTable[i] = partialMatchTable[j];\r\n            } else {\r\n                partialMatchTable[i] = j;\r\n                while (j &gt;= 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) {\r\n                    j = partialMatchTable[j];\r\n                }\r\n            }\r\n        }\r\n        partialMatchTable[n] = j;\r\n        return partialMatchTable;\r\n    }\r\n \r\n    static List&lt;Integer&gt; kmpSearch(String needle, String haystack) {\r\n        List&lt;Integer&gt; matches = new ArrayList&lt;&gt;();\r\n        int m = haystack.length();\r\n        int n = needle.length();\r\n        if (n &gt; m) { // Added this to avoid O(m) runtime\r\n            return matches; // Return empty list when needle is too large\r\n        }\r\n        int[] partialMatchTable = kmpTable(needle);\r\n        int j = 0, k = 0;\r\n\r\n        while (j &lt; m) {\r\n            if (needle.charAt(k) == haystack.charAt(j)) {\r\n                j++;\r\n                k++;\r\n                if (k == n) {\r\n                    matches.add(j - k);\r\n                    k = partialMatchTable[k];\r\n                }\r\n            } else {\r\n                k = partialMatchTable[k];\r\n                if (k &lt; 0) {\r\n                    j++;\r\n                    k++;\r\n                }\r\n            }\r\n        }\r\n        return matches;\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        System.out.println(&quot;matches: &quot; + kmpSearch(&quot;abc&quot;, &quot;abckdabcgfacabc&quot;));\r\n    }\r\n```\r\n\r\nThis outputs:\r\n\r\n```none\r\nmatches: [0, 5, 12]\r\n```\r\n\r\nWikipedia says about the time complexity:\r\n\r\n&gt; the Knuth–Morris–Pratt algorithm has complexity O(&#119899;), where &#119899; is the length of &#119878;.\r\n\r\nAnd when taking into account the time needed for building the partial-match table for a pattern of length &#119896;:\r\n\r\n&gt; Since the two portions of the algorithm have, respectively, complexities of O(&#119896;) and O(&#119899;), the complexity of the overall algorithm is O(&#119899; + &#119896;).\r\n\r\nWe can however say it is O(&#119899;) when &#119896; ≤ &#119899;. When searching with a pattern that is longer than the string to search in, the algorithm could just skip building the partial match table for such a search string and exit with an empty list (See commented code that is not present in Wikipedia&#39;s pseudocode). That way it is always O(&#119899;).","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>Yes, the Knuth–Morris–Pratt algorithm can be of use here.</p>\n<p>The Wikipedia article on the <a href=\"https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm#Description_of_pseudocode_for_the_search_algorithm\" rel=\"nofollow noreferrer\">Knuth–Morris–Pratt algorithm</a> provides pseudocode for the algorithm. Here is that pseudocode ported to Java:</p>\n<pre><code>    static int[] kmpTable(String pattern) {\n        int n = pattern.length();\n        int[] partialMatchTable = new int[n+1];\n        int j = 0;\n\n        partialMatchTable[0] = -1;\n\n        for (int i = 1; i &lt; n; i++, j++) {\n            if (pattern.charAt(i) == pattern.charAt(j)) {\n                partialMatchTable[i] = partialMatchTable[j];\n            } else {\n                partialMatchTable[i] = j;\n                while (j &gt;= 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) {\n                    j = partialMatchTable[j];\n                }\n            }\n        }\n        partialMatchTable[n] = j;\n        return partialMatchTable;\n    }\n \n    static List&lt;Integer&gt; kmpSearch(String needle, String haystack) {\n        List&lt;Integer&gt; matches = new ArrayList&lt;&gt;();\n        int m = haystack.length();\n        int n = needle.length();\n        if (n &gt; m) { // Added this to avoid O(m) runtime\n            return matches; // Return empty list when needle is too large\n        }\n        int[] partialMatchTable = kmpTable(needle);\n        int j = 0, k = 0;\n\n        while (j &lt; m) {\n            if (needle.charAt(k) == haystack.charAt(j)) {\n                j++;\n                k++;\n                if (k == n) {\n                    matches.add(j - k);\n                    k = partialMatchTable[k];\n                }\n            } else {\n                k = partialMatchTable[k];\n                if (k &lt; 0) {\n                    j++;\n                    k++;\n                }\n            }\n        }\n        return matches;\n    }\n\n    public static void main(String args[])\n    {\n        System.out.println(&quot;matches: &quot; + kmpSearch(&quot;abc&quot;, &quot;abckdabcgfacabc&quot;));\n    }\n</code></pre>\n<p>This outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>matches: [0, 5, 12]\n</code></pre>\n<p>Wikipedia says about the time complexity:</p>\n<blockquote>\n<p>the Knuth–Morris–Pratt algorithm has complexity O(𝑛), where 𝑛 is the length of 𝑆.</p>\n</blockquote>\n<p>And when taking into account the time needed for building the partial-match table for a pattern of length 𝑘:</p>\n<blockquote>\n<p>Since the two portions of the algorithm have, respectively, complexities of O(𝑘) and O(𝑛), the complexity of the overall algorithm is O(𝑛 + 𝑘).</p>\n</blockquote>\n<p>We can however say it is O(𝑛) when 𝑘 ≤ 𝑛. When searching with a pattern that is longer than the string to search in, the algorithm could just skip building the partial match table for such a search string and exit with an empty list (See commented code that is not present in Wikipedia's pseudocode). That way it is always O(𝑛).</p>\n"}],"owner":{"account_id":13823033,"reputation":23,"user_id":9978033,"display_name":"bugdebug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76304970,"answer_count":2,"score":-1,"last_activity_date":1684759650,"creation_date":1684715770,"question_id":76302458,"body_markdown":"Given are two strings : str1 and str2. Find all the starting indexes of str1 in str2. Example:\r\nI/p = str1: abc, str2: abckdabcgfacabc\r\nO/p = [0, 5, 12]\r\n\r\n\r\n    public static List&lt;Integer&gt; firstMatchingIndexes(String str1, String str2) {\r\n\t\tList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;();\r\n\t\tint end = 0, n = str2.length();\r\n\t\t\r\n\t\tfor(; end&lt;n; end++) {\r\n\t\t\tint index = str2.substring(end, n).indexOf(str1)+end;\r\n\t\t\tif(index!=-1)\r\n\t\t\t\tindexes.add(index);\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t\tend =index + str1.length()-1;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn indexes;\r\n\t}\r\n\r\nBut this approach uses indexOf() which internally has O(N) time complexity. Can KMP algorithm work here?","title":"Find the list of starting indexes of occurring of a string in another string in O(N) time complexity","body":"<p>Given are two strings : str1 and str2. Find all the starting indexes of str1 in str2. Example:\nI/p = str1: abc, str2: abckdabcgfacabc\nO/p = [0, 5, 12]</p>\n<pre><code>public static List&lt;Integer&gt; firstMatchingIndexes(String str1, String str2) {\n    List&lt;Integer&gt; indexes = new ArrayList&lt;&gt;();\n    int end = 0, n = str2.length();\n    \n    for(; end&lt;n; end++) {\n        int index = str2.substring(end, n).indexOf(str1)+end;\n        if(index!=-1)\n            indexes.add(index);\n        else\n            break;\n        end =index + str1.length()-1;\n        \n    }\n    \n    return indexes;\n}\n</code></pre>\n<p>But this approach uses indexOf() which internally has O(N) time complexity. Can KMP algorithm work here?</p>\n"},{"tags":["java","spring","static-factory"],"comments":[{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610729802,"post_id":65739693,"comment_id":116232975,"body_markdown":"what I meant, Is it good practice or not","body":"what I meant, Is it good practice or not"},{"owner":{"account_id":7582429,"reputation":5670,"user_id":5752730,"display_name":"DV82XL"},"score":0,"creation_date":1610751406,"post_id":65739693,"comment_id":116240511,"body_markdown":"Please provide a code sample of what you have tried.","body":"Please provide a code sample of what you have tried."},{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610780402,"post_id":65739693,"comment_id":116244897,"body_markdown":"actually Iam not tried yet in Modal Class ,I just want to know it&#39;s good practice or not, My need is that I want to validate the field satisfy my equation before saving object to database","body":"actually Iam not tried yet in Modal Class ,I just want to know it&#39;s good practice or not, My need is that I want to validate the field satisfy my equation before saving object to database"},{"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"score":0,"creation_date":1610780874,"post_id":65739693,"comment_id":116244965,"body_markdown":"consider I have a Modal class named AA and fields are A ,B ,C .If it is valid C=A+B like that validation actually I need. And Need this to satisfy before saving to DB","body":"consider I have a Modal class named AA and fields are A ,B ,C .If it is valid C=A+B like that validation actually I need. And Need this to satisfy before saving to DB"}],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610763123,"creation_date":1610763123,"answer_id":65745842,"question_id":65739693,"body_markdown":"I would recommend to avoid this by the following reasons:\r\n1. You lose separation of concern between model and model validation logic. Especially if validation touches only a few fields. Adding/modifying fields and modifying validation logic at the same time should not cause the code change conflict.\r\n2. You make it much harder for testing (static variables are evil for testing).\r\n3. You violate &quot;inversion of control&quot; principle. You will have bad time when you need to replace validation implementation in a flexible way.\r\n\r\nWhat you can probably do is adding [custom validation annotation][1] to the model.\r\nThis validation will be executed by spring bean that implements some spec.\r\nThis way you don&#39;t have above issues but still you can keep validation rule (without implementation details) on the model class.\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-validator","title":"java static factory methods in Spring Model class","body":"<p>I would recommend to avoid this by the following reasons:</p>\n<ol>\n<li>You lose separation of concern between model and model validation logic. Especially if validation touches only a few fields. Adding/modifying fields and modifying validation logic at the same time should not cause the code change conflict.</li>\n<li>You make it much harder for testing (static variables are evil for testing).</li>\n<li>You violate &quot;inversion of control&quot; principle. You will have bad time when you need to replace validation implementation in a flexible way.</li>\n</ol>\n<p>What you can probably do is adding <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">custom validation annotation</a> to the model.\nThis validation will be executed by spring bean that implements some spec.\nThis way you don't have above issues but still you can keep validation rule (without implementation details) on the model class.</p>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684759585,"creation_date":1684759585,"answer_id":76306350,"question_id":65739693,"body_markdown":"No it is not a good to place java static factory method in Spring Model Class to validate fields.\r\n\r\nThis is a functionality, which have nothing to do with Model class. The purpose of model classes is to map SQL table data (or NoSQL data) to java POJO called Entity. Do not place any functionality there.\r\n\r\nValidation process is a functionality, thus it is the best to place it into Service layer within Spring bean like @Service or @Component.\r\n\r\nThe less efficient method for validation is to use annotations on POJO attributes. Though those POJOs are should not be Entities, but Data Transfer Objects and they have to map incoming request data. I consider this not as good as to place validation in Spring beans because validation with annotations have limited functionality, and makes functional code placed in few places. Some of validation code will be at the DTO annotations and some validation within bean (Service). This is harder to read and maintain, then have everything in spring Service bean.","title":"java static factory methods in Spring Model class","body":"<p>No it is not a good to place java static factory method in Spring Model Class to validate fields.</p>\n<p>This is a functionality, which have nothing to do with Model class. The purpose of model classes is to map SQL table data (or NoSQL data) to java POJO called Entity. Do not place any functionality there.</p>\n<p>Validation process is a functionality, thus it is the best to place it into Service layer within Spring bean like @Service or @Component.</p>\n<p>The less efficient method for validation is to use annotations on POJO attributes. Though those POJOs are should not be Entities, but Data Transfer Objects and they have to map incoming request data. I consider this not as good as to place validation in Spring beans because validation with annotations have limited functionality, and makes functional code placed in few places. Some of validation code will be at the DTO annotations and some validation within bean (Service). This is harder to read and maintain, then have everything in spring Service bean.</p>\n"}],"owner":{"account_id":13191305,"reputation":39,"user_id":9527519,"display_name":"rahuLrajaN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684759585,"creation_date":1610727672,"question_id":65739693,"body_markdown":"Is it good to use java static factory method in Spring Model Class for validate field with some kind of equation","title":"java static factory methods in Spring Model class","body":"<p>Is it good to use java static factory method in Spring Model Class for validate field with some kind of equation</p>\n"},{"tags":["java","tree","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1684759906,"post_id":76305552,"comment_id":134559323,"body_markdown":"This should not be called a tree. It is a directed cyclic graph.","body":"This should not be called a tree. It is a directed cyclic graph."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1684760131,"post_id":76305552,"comment_id":134559367,"body_markdown":"You can use a standard breadth-first-search algorithm: as soon as the target node is found you have the shortest path to it, which will not have a redundant cycle.","body":"You can use a standard breadth-first-search algorithm: as soon as the target node is found you have the shortest path to it, which will not have a redundant cycle."},{"owner":{"account_id":5660958,"reputation":107,"user_id":4478644,"accept_rate":75,"display_name":"TIW DEV"},"score":0,"creation_date":1684769442,"post_id":76305552,"comment_id":134561595,"body_markdown":"@trincot Thanks for that.  Breadth-first-search algorithm .. ill look into that.","body":"@trincot Thanks for that.  Breadth-first-search algorithm .. ill look into that."}],"owner":{"account_id":5660958,"reputation":107,"user_id":4478644,"accept_rate":75,"display_name":"TIW DEV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684759365,"creation_date":1684753814,"question_id":76305552,"body_markdown":"I have a slightly odd query.  A project I am working on, which because of a confidentiality clause I am limited in what I can say about it, employs the following style of node tree:\r\n\r\n[![Node tree with repetition][1]][1]\r\n\r\nThis six-level drawing is a small sample of the 69 level full tree.  Traversing and recording the routes through the tree to get from A to K for example is common practice where there is no repetition, and doesn&#39;t cause any problems.  However, at several places in the tree we have a situation where the exit from one node connects back to an earlier node in the tree.  Think of route mapping within Sat Nav software for a more visual example.\r\n\r\nSo there are valid links from A to S as well as F to N and from A to P as well as E to I for example. There are legal and illegal routes. For example in the case of A to S, it could go A,C,F,M,S and A,C,F,M,C,F,M,S (the latter is invalid as there is repetition that isn&#39;t needed).  To be clear, Not all routes through the tree necessarily start at A.\r\n\r\nMy query is how to detect the un-necessary repetition (ie illegal routes) and what is the most economical way of traversing the tree to record the routes.  The time to traverse is not a major consideration, as the tree will be traversed and the legal routes recorded in multi-dimensional arrays.  It will only be re-run if the node links change (which could potentially be every three to four months). \r\n\r\nCan anyone offer any thoughts on the most effective and efficient way to do this?  The software is being programmed in Java for reference.\r\n\r\n  [1]: https://i.stack.imgur.com/ccJoR.jpg","title":"Most efficient way of traversing a node tree when there is repetition","body":"<p>I have a slightly odd query.  A project I am working on, which because of a confidentiality clause I am limited in what I can say about it, employs the following style of node tree:</p>\n<p><a href=\"https://i.stack.imgur.com/ccJoR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccJoR.jpg\" alt=\"Node tree with repetition\" /></a></p>\n<p>This six-level drawing is a small sample of the 69 level full tree.  Traversing and recording the routes through the tree to get from A to K for example is common practice where there is no repetition, and doesn't cause any problems.  However, at several places in the tree we have a situation where the exit from one node connects back to an earlier node in the tree.  Think of route mapping within Sat Nav software for a more visual example.</p>\n<p>So there are valid links from A to S as well as F to N and from A to P as well as E to I for example. There are legal and illegal routes. For example in the case of A to S, it could go A,C,F,M,S and A,C,F,M,C,F,M,S (the latter is invalid as there is repetition that isn't needed).  To be clear, Not all routes through the tree necessarily start at A.</p>\n<p>My query is how to detect the un-necessary repetition (ie illegal routes) and what is the most economical way of traversing the tree to record the routes.  The time to traverse is not a major consideration, as the tree will be traversed and the legal routes recorded in multi-dimensional arrays.  It will only be re-run if the node links change (which could potentially be every three to four months).</p>\n<p>Can anyone offer any thoughts on the most effective and efficient way to do this?  The software is being programmed in Java for reference.</p>\n"},{"tags":["java","android","sql-server","okhttp"],"comments":[{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1684760922,"post_id":76306192,"comment_id":134559529,"body_markdown":"Do yourself a favour and don&#39;t even think about using the ancient `sp_OA` procedures, they are buggy and full of issues. Instead use Python, Java or C# or Powershell to get the data from SQL Server and send it. The table variable seems unnecessary, you can just do `SELECT (SELECT id, test FROM test_table FOR JSON PATH)`","body":"Do yourself a favour and don&#39;t even think about using the ancient <code>sp_OA</code> procedures, they are buggy and full of issues. Instead use Python, Java or C# or Powershell to get the data from SQL Server and send it. The table variable seems unnecessary, you can just do <code>SELECT (SELECT id, test FROM test_table FOR JSON PATH)</code>"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684763398,"post_id":76306192,"comment_id":134560114,"body_markdown":"You can&#39;t &quot;call&quot; sql server procedures as if it were a rest api, you have to go through the old boring jdbc. What you should do is to create an API server between your app and sql server, this server can act as API endpoint, and then call your database by jdbc from the API server and return json as results","body":"You can&#39;t &quot;call&quot; sql server procedures as if it were a rest api, you have to go through the old boring jdbc. What you should do is to create an API server between your app and sql server, this server can act as API endpoint, and then call your database by jdbc from the API server and return json as results"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1685016355,"post_id":76306192,"comment_id":134603736,"body_markdown":"_I will be honest, I can&#39;t really say if this procedure listens to the HTTP requests._ It doesn&#39;t. It&#39;s trying to send a POST request to the web server listening at ip_address:1433 except that most likely SQL Server is listening on that port and doesn&#39;t understand nor care for HTTP requests.","body":"<i>I will be honest, I can&#39;t really say if this procedure listens to the HTTP requests.</i> It doesn&#39;t. It&#39;s trying to send a POST request to the web server listening at ip_address:1433 except that most likely SQL Server is listening on that port and doesn&#39;t understand nor care for HTTP requests."}],"owner":{"account_id":28588451,"reputation":13,"user_id":21888219,"display_name":"theprodigy133"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684758379,"creation_date":1684758379,"question_id":76306192,"body_markdown":"I am currently working on my Android app. To receive data, that is required to run my app, I made a rest API for my app. I used the newest version of Okhttp3. Here&#39;s the classes and methods I created:\r\n\r\nMainActivity:\r\n\r\n```\r\npackage com.example.test3;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.chaquo.python.PyObject;\r\nimport com.chaquo.python.Python;\r\nimport com.chaquo.python.android.AndroidPlatform;\r\nimport com.google.gson.Gson;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        init();\r\n        //displayQuote();\r\n        button = findViewById(R.id.button);\r\n        button.setOnClickListener(v -&gt; receiveData());\r\n    }\r\n    public void init(){\r\n        if (! Python.isStarted()) {\r\n            Python.start(new AndroidPlatform(this));\r\n        }\r\n    }\r\n\r\n    public void receiveData() {\r\n        TextView text1 = findViewById(R.id.text1);\r\n        TextView text2 = findViewById(R.id.text2);\r\n\r\n        APIManager apiManager = new APIManager();\r\n        String url = &quot;http://ip_address:1433/test&quot;;\r\n\r\n        apiManager.fetchData(url, new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if (response.isSuccessful()) {\r\n                    assert response.body() != null;\r\n                    String responseData = response.body().string();\r\n\r\n                    try {\r\n                        JSONObject json = new JSONObject(responseData);\r\n                        String jsonResponse = json.optString(&quot;response&quot;);\r\n\r\n                        JSONArray jsonArray = new JSONArray(jsonResponse);\r\n                        if (jsonArray.length() &gt; 0) {\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(0);\r\n                            String id = jsonObject.optString(&quot;id&quot;);\r\n                            String test = jsonObject.optString(&quot;test&quot;);\r\n\r\n                            runOnUiThread(() -&gt; {\r\n                                text1.setText(id);\r\n                                text2.setText(test);\r\n                            });\r\n                        } else {\r\n                            runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Brak danych&quot;, Toast.LENGTH_SHORT).show());\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd przetwarzania danych JSON&quot;, Toast.LENGTH_SHORT).show());\r\n                    }\r\n                } else {\r\n                    runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nAPIManager:\r\n\r\n```\r\npackage com.example.test3;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport okhttp3.*;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class APIManager {\r\n    private OkHttpClient client = new OkHttpClient();\r\n\r\n    public void fetchData(String url, final okhttp3.Callback callback){\r\n        Request request = new Request.Builder().url(url).build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                e.printStackTrace();\r\n                callback.onFailure(call, e);\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if (response.isSuccessful()){\r\n                    String responseData = response.body().string();\r\n                    callback.onResponse(call, response);\r\n                } else {\r\n                    callback.onFailure(call, new IOException(&quot;Request failed: &quot;+ response));\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nTestTable:\r\n```\r\npackage com.example.test3;\r\n\r\npublic class TestTable {\r\n    private int id;\r\n    private String test;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTest() {\r\n        return test;\r\n    }\r\n\r\n    public void setTest(String test) {\r\n        this.test = test;\r\n    }\r\n}\r\n```\r\nAs you can notice, my code is simply a testfield, I tried some other solutions, but the solution I want to proceed seems to be the best.\r\n\r\nI also created a procedure for my database, that is meant to receive HTTP requests from REST API from my app and send him a response. Here&#39;s the query:\r\n```\r\nCREATE PROCEDURE [dbo].[ListenAndSendRequest]\r\nAS\r\nBEGIN\r\n    DECLARE @url NVARCHAR(200) = &#39;http://ip_address:1433/test&#39;\r\n    \r\n    DECLARE @requestBody NVARCHAR(MAX) = &#39;&#39;\r\n    DECLARE @response NVARCHAR(MAX)\r\n    DECLARE @httpStatus INT\r\n    DECLARE @data TABLE (id INT, test NVARCHAR(100))\r\n    INSERT INTO @data (id, test)\r\n    SELECT id, test FROM test_table\r\n\r\n    SET @requestBody = (\r\n        SELECT id, test\r\n        FROM @data\r\n        FOR JSON PATH\r\n    )\r\n\r\n    DECLARE @httpObj INT\r\n    EXEC sp_OACreate &#39;MSXML2.ServerXMLHTTP&#39;, @httpObj OUT\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;open&#39;, NULL, &#39;POST&#39;, @url, &#39;false&#39;\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;setRequestHeader&#39;, NULL, &#39;Content-Type&#39;, &#39;application/json&#39;\r\n    \r\n    EXEC sp_OAMethod @httpObj, &#39;send&#39;, NULL, @requestBody\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;responseText&#39;, @response OUTPUT\r\n\r\n    EXEC sp_OAMethod @httpObj, &#39;status&#39;, @httpStatus OUTPUT\r\n\r\n    PRINT &#39;Response: &#39; + @response\r\n    PRINT &#39;HTTP Status: &#39; + CAST(@httpStatus AS NVARCHAR(10))\r\n\r\n    EXEC sp_OADestroy @httpObj\r\nEND\r\n\r\n```\r\nI will be honest, I can&#39;t really say if this procedure listens to the HTTP requests. I am still learning.\r\n\r\n\r\n\r\nThere are no crashes occurred, whenever I run the app. But when I click the button, that is meant to display the data from my database, my logcat displays a warning. Here&#39;s the warning I am talking about:\r\n```\r\njava.io.IOException: unexpected end of stream on http://ip_address:1433/...\r\n\r\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\r\n```\r\nIt&#39;s  also worth to mention, that I run my app on physical device.\r\n\r\nEvery suggestion is appreciated, thanks!","title":"HTTP Requests from Android app to SQL Server issue","body":"<p>I am currently working on my Android app. To receive data, that is required to run my app, I made a rest API for my app. I used the newest version of Okhttp3. Here's the classes and methods I created:</p>\n<p>MainActivity:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.chaquo.python.PyObject;\nimport com.chaquo.python.Python;\nimport com.chaquo.python.android.AndroidPlatform;\nimport com.google.gson.Gson;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.w3c.dom.Text;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        init();\n        //displayQuote();\n        button = findViewById(R.id.button);\n        button.setOnClickListener(v -&gt; receiveData());\n    }\n    public void init(){\n        if (! Python.isStarted()) {\n            Python.start(new AndroidPlatform(this));\n        }\n    }\n\n    public void receiveData() {\n        TextView text1 = findViewById(R.id.text1);\n        TextView text2 = findViewById(R.id.text2);\n\n        APIManager apiManager = new APIManager();\n        String url = &quot;http://ip_address:1433/test&quot;;\n\n        apiManager.fetchData(url, new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    assert response.body() != null;\n                    String responseData = response.body().string();\n\n                    try {\n                        JSONObject json = new JSONObject(responseData);\n                        String jsonResponse = json.optString(&quot;response&quot;);\n\n                        JSONArray jsonArray = new JSONArray(jsonResponse);\n                        if (jsonArray.length() &gt; 0) {\n                            JSONObject jsonObject = jsonArray.getJSONObject(0);\n                            String id = jsonObject.optString(&quot;id&quot;);\n                            String test = jsonObject.optString(&quot;test&quot;);\n\n                            runOnUiThread(() -&gt; {\n                                text1.setText(id);\n                                text2.setText(test);\n                            });\n                        } else {\n                            runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Brak danych&quot;, Toast.LENGTH_SHORT).show());\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                        runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd przetwarzania danych JSON&quot;, Toast.LENGTH_SHORT).show());\n                    }\n                } else {\n                    runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>APIManager:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\n\nimport okhttp3.*;\nimport java.io.IOException;\n\n\npublic class APIManager {\n    private OkHttpClient client = new OkHttpClient();\n\n    public void fetchData(String url, final okhttp3.Callback callback){\n        Request request = new Request.Builder().url(url).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                e.printStackTrace();\n                callback.onFailure(call, e);\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()){\n                    String responseData = response.body().string();\n                    callback.onResponse(call, response);\n                } else {\n                    callback.onFailure(call, new IOException(&quot;Request failed: &quot;+ response));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>TestTable:</p>\n<pre><code>package com.example.test3;\n\npublic class TestTable {\n    private int id;\n    private String test;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTest() {\n        return test;\n    }\n\n    public void setTest(String test) {\n        this.test = test;\n    }\n}\n</code></pre>\n<p>As you can notice, my code is simply a testfield, I tried some other solutions, but the solution I want to proceed seems to be the best.</p>\n<p>I also created a procedure for my database, that is meant to receive HTTP requests from REST API from my app and send him a response. Here's the query:</p>\n<pre><code>CREATE PROCEDURE [dbo].[ListenAndSendRequest]\nAS\nBEGIN\n    DECLARE @url NVARCHAR(200) = 'http://ip_address:1433/test'\n    \n    DECLARE @requestBody NVARCHAR(MAX) = ''\n    DECLARE @response NVARCHAR(MAX)\n    DECLARE @httpStatus INT\n    DECLARE @data TABLE (id INT, test NVARCHAR(100))\n    INSERT INTO @data (id, test)\n    SELECT id, test FROM test_table\n\n    SET @requestBody = (\n        SELECT id, test\n        FROM @data\n        FOR JSON PATH\n    )\n\n    DECLARE @httpObj INT\n    EXEC sp_OACreate 'MSXML2.ServerXMLHTTP', @httpObj OUT\n\n    EXEC sp_OAMethod @httpObj, 'open', NULL, 'POST', @url, 'false'\n\n    EXEC sp_OAMethod @httpObj, 'setRequestHeader', NULL, 'Content-Type', 'application/json'\n    \n    EXEC sp_OAMethod @httpObj, 'send', NULL, @requestBody\n\n    EXEC sp_OAMethod @httpObj, 'responseText', @response OUTPUT\n\n    EXEC sp_OAMethod @httpObj, 'status', @httpStatus OUTPUT\n\n    PRINT 'Response: ' + @response\n    PRINT 'HTTP Status: ' + CAST(@httpStatus AS NVARCHAR(10))\n\n    EXEC sp_OADestroy @httpObj\nEND\n\n</code></pre>\n<p>I will be honest, I can't really say if this procedure listens to the HTTP requests. I am still learning.</p>\n<p>There are no crashes occurred, whenever I run the app. But when I click the button, that is meant to display the data from my database, my logcat displays a warning. Here's the warning I am talking about:</p>\n<pre><code>java.io.IOException: unexpected end of stream on http://ip_address:1433/...\n\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\n</code></pre>\n<p>It's  also worth to mention, that I run my app on physical device.</p>\n<p>Every suggestion is appreciated, thanks!</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":18603901,"reputation":11632,"user_id":13558035,"display_name":"Huthaifa Muayyad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628596122,"creation_date":1628596122,"answer_id":68726283,"question_id":68726096,"body_markdown":"Take the key generate from \r\n```\r\nkeytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n```\r\nAnd put it in:\r\n```\r\n&quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;\r\n```","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>Take the key generate from</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>And put it in:</p>\n<pre><code>&quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649130973,"creation_date":1649130973,"answer_id":71746145,"question_id":68726096,"body_markdown":"You might have changed the format for the debug.keystore\r\n\r\nif that&#39;s the case you should have a backup automatically created by keytool in at `.android/debug.keystore.old`.","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>You might have changed the format for the debug.keystore</p>\n<p>if that's the case you should have a backup automatically created by keytool in at <code>.android/debug.keystore.old</code>.</p>\n"},{"tags":[],"owner":{"account_id":2785708,"reputation":390,"user_id":2397177,"accept_rate":40,"display_name":"Walid Ammou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758084,"creation_date":1684758084,"answer_id":76306149,"question_id":68726096,"body_markdown":"I had the same problem. Resolved by removing the keystore `.android/debug.keystore` and run the application again.","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>I had the same problem. Resolved by removing the keystore <code>.android/debug.keystore</code> and run the application again.</p>\n"}],"owner":{"account_id":22013166,"reputation":146,"user_id":16283108,"display_name":"Gustavo Guzman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684758084,"creation_date":1628595342,"question_id":68726096,"body_markdown":"The error is:\r\n\r\n```\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:packageDebug&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\r\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;: Invalid keystore format\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\n\r\nDue to this error I thought the problem was my debug.keystore so I created a new one with the command \r\n\r\n```\r\nkeytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\r\n\r\n```\r\n\r\nBut this didn&#39;t fix the problem. It&#39;s also worth knowing that this problem (I think at least) started when I was trying to get the SHA certificate fingerprints for my project in firebase. However the command:\r\n\r\n```\r\nkeytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n```\r\ndid not work at first, it gave me another command as solution, I ran it and it worked, I got the SHA certificate and I continued with the development of the app without running the app on an android emulator or a physical device because I was coding the auth logic.\r\n\r\nI think the cause of this problem might be related to the command I ran (which I have not saved nor remember) but I have no idea how to solve it.\r\n\r\nThis problem is presented in all my flutter apps, the ones I already had created and the ones I create.\r\n\r\nThis is my log for ```flutter doctor -v```. I&#39;m putting this just in case, because I don&#39;t think the problem is with the flutter SDK.\r\n\r\n```\r\n[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [Version 10.0.19042.1110], locale en-GB)\r\n    • Flutter version 2.2.3 at C:\\Flutter\\flutter_windows_1.22.6-stable\\flutter\r\n    • Framework revision f4abaa0735 (6 weeks ago), 2021-07-01 12:46:11 -0700\r\n    • Engine revision 241c87ad80\r\n    • Dart version 2.13.4\r\n\r\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n    • Android SDK at C:\\Users\\tavo_\\AppData\\Local\\Android\\sdk\r\n    • Platform android-31, build-tools 31.0.0\r\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\r\n    • All Android licenses accepted.\r\n\r\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\r\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n\r\n[√] Android Studio (version 4.1.0)\r\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n    • Flutter plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/6351-dart\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\r\n\r\n[√] IntelliJ IDEA Community Edition (version 2020.3)\r\n    • IntelliJ at C:\\Users\\tavo_\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\203.7148.57\r\n    • Flutter plugin version 59.0.2\r\n    • Dart plugin version 203.8292\r\n\r\n[√] VS Code (version 1.58.2)\r\n    • VS Code at C:\\Users\\tavo_\\AppData\\Local\\Programs\\Microsoft VS Code\r\n    • Flutter extension version 3.25.0\r\n\r\n[√] Connected device (1 available)\r\n    • Edge (web) • edge • web-javascript • Microsoft Edge 92.0.902.67\r\n\r\n! Doctor found issues in 1 category.\r\n\r\n```  ","title":"debug.keystore, Invalid keystore format Flutter","body":"<p>The error is:</p>\n<pre><code>Running Gradle task 'assembleDebug'...\n\n* What went wrong:\nExecution failed for task ':app:packageDebug'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;: Invalid keystore format\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>Due to this error I thought the problem was my debug.keystore so I created a new one with the command</p>\n<pre><code>keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n\n</code></pre>\n<p>But this didn't fix the problem. It's also worth knowing that this problem (I think at least) started when I was trying to get the SHA certificate fingerprints for my project in firebase. However the command:</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>did not work at first, it gave me another command as solution, I ran it and it worked, I got the SHA certificate and I continued with the development of the app without running the app on an android emulator or a physical device because I was coding the auth logic.</p>\n<p>I think the cause of this problem might be related to the command I ran (which I have not saved nor remember) but I have no idea how to solve it.</p>\n<p>This problem is presented in all my flutter apps, the ones I already had created and the ones I create.</p>\n<p>This is my log for <code>flutter doctor -v</code>. I'm putting this just in case, because I don't think the problem is with the flutter SDK.</p>\n<pre><code>[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [Version 10.0.19042.1110], locale en-GB)\n    • Flutter version 2.2.3 at C:\\Flutter\\flutter_windows_1.22.6-stable\\flutter\n    • Framework revision f4abaa0735 (6 weeks ago), 2021-07-01 12:46:11 -0700\n    • Engine revision 241c87ad80\n    • Dart version 2.13.4\n\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\tavo_\\AppData\\Local\\Android\\sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n    • All Android licenses accepted.\n\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] IntelliJ IDEA Community Edition (version 2020.3)\n    • IntelliJ at C:\\Users\\tavo_\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\203.7148.57\n    • Flutter plugin version 59.0.2\n    • Dart plugin version 203.8292\n\n[√] VS Code (version 1.58.2)\n    • VS Code at C:\\Users\\tavo_\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.25.0\n\n[√] Connected device (1 available)\n    • Edge (web) • edge • web-javascript • Microsoft Edge 92.0.902.67\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684758058,"creation_date":1684758058,"answer_id":76306145,"question_id":76298050,"body_markdown":"Can you create a SQL View or even Materialized View in your DB?&lt;br&gt;\r\nThen you can have an entity (over your view) to support JPA Interface-based Projections.&lt;br&gt;\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\r\n\r\nWith Spring Data you can query Materialized View same way as a table.&lt;br&gt;\r\nAnd I would respect separation of concerns and create a @Component&lt;br&gt;\r\nto map an Entity to desired business object (Dto).","title":"I can&#39;t invoke a constructor inside another constructor in a JPQL query. What&#39;s an efficient workaround?","body":"<p>Can you create a SQL View or even Materialized View in your DB?<br>\nThen you can have an entity (over your view) to support JPA Interface-based Projections.<br>\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces</a></p>\n<p>With Spring Data you can query Materialized View same way as a table.<br>\nAnd I would respect separation of concerns and create a @Component<br>\nto map an Entity to desired business object (Dto).</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684758058,"creation_date":1684635908,"question_id":76298050,"body_markdown":"It seems I can&#39;t invoke a constructor inside another constructor in a JPQL query, like this\r\n```java\r\nTypedQuery&lt;QuestionCommentResponseDto&gt; = entityManager.createQuery(&quot;&quot;&quot;\r\n            SELECT new QuestionCommentResponseDto (\r\n            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text, new AccountResponseDto(\r\n                a.id, a.username\r\n                )\r\n            ) FROM QuestionComment qc JOIN FETCH Question q JOIN FETCH Account a\r\n            WHERE qc.id = :id\r\n        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\r\n```\r\n**How am I supposed to achieve the same effect then in the most efficient way possible?** Subqueries like `qc.text, (SELECT new AccountResponseDto(a.id, a.username)` don&#39;t work too (the part after `qc.text` is problematic). The IDE says\r\n&gt; &#39;(&#39;, &lt;expression&gt;, FUNCTION or identifier expected, got &#39;(&#39;\r\nShould I simply query for one DTO and then for another?\r\n\r\nA bit of context\r\n```java\r\n    @Override\r\n    public Optional&lt;QuestionCommentResponseDto&gt; getByQuestionCommentId(Long questionCommentId) {\r\n    // the query goes here\r\n```\r\n```java\r\n// I can make it a regular class if it&#39;s necessary\r\npublic record QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\r\n                                         LocalDateTime modifiedDate, String text, AccountResponseDto owner) {}\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Table(name = &quot;question_comments&quot;)\r\npublic class QuestionComment {\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @NotNull\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, nullable = false)\r\n    private LocalDateTime createdDate;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @NotNull\r\n    @LastModifiedDate\r\n    @Column(name = &quot;modified_date&quot;, nullable = false)\r\n    private LocalDateTime modifiedDate;\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;text&quot;, nullable = false)\r\n    private String text;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false, updatable = false)\r\n    private Account owner; // includes the fields id and username\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false, updatable = false)\r\n    private Question question; // includes the id field\r\n```\r\nIf I omitted some important parts of code, please let me know (it seems to me, no code is needed at all in this case since it&#39;s not a debugging question)","title":"I can&#39;t invoke a constructor inside another constructor in a JPQL query. What&#39;s an efficient workaround?","body":"<p>It seems I can't invoke a constructor inside another constructor in a JPQL query, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;QuestionCommentResponseDto&gt; = entityManager.createQuery(&quot;&quot;&quot;\n            SELECT new QuestionCommentResponseDto (\n            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text, new AccountResponseDto(\n                a.id, a.username\n                )\n            ) FROM QuestionComment qc JOIN FETCH Question q JOIN FETCH Account a\n            WHERE qc.id = :id\n        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\n</code></pre>\n<p><strong>How am I supposed to achieve the same effect then in the most efficient way possible?</strong> Subqueries like <code>qc.text, (SELECT new AccountResponseDto(a.id, a.username)</code> don't work too (the part after <code>qc.text</code> is problematic). The IDE says</p>\n<blockquote>\n<p>'(', , FUNCTION or identifier expected, got '('\nShould I simply query for one DTO and then for another?</p>\n</blockquote>\n<p>A bit of context</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Optional&lt;QuestionCommentResponseDto&gt; getByQuestionCommentId(Long questionCommentId) {\n    // the query goes here\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// I can make it a regular class if it's necessary\npublic record QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\n                                         LocalDateTime modifiedDate, String text, AccountResponseDto owner) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@EntityListeners(AuditingEntityListener.class)\n@Table(name = &quot;question_comments&quot;)\npublic class QuestionComment {\n\n    @Setter(AccessLevel.NONE)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\n    private Long id;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @LastModifiedDate\n    @Column(name = &quot;modified_date&quot;, nullable = false)\n    private LocalDateTime modifiedDate;\n\n    @NotBlank\n    @Column(name = &quot;text&quot;, nullable = false)\n    private String text;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false, updatable = false)\n    private Account owner; // includes the fields id and username\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false, updatable = false)\n    private Question question; // includes the id field\n</code></pre>\n<p>If I omitted some important parts of code, please let me know (it seems to me, no code is needed at all in this case since it's not a debugging question)</p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","uuid"],"comments":[{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":1,"creation_date":1524579320,"post_id":50003906,"comment_id":87024163,"body_markdown":"Think about this.. UUID in binary(16) is better for performance.","body":"Think about this.. UUID in binary(16) is better for performance."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1524579455,"post_id":50003906,"comment_id":87024267,"body_markdown":"You got result &#161;7&#244;&#225;&#223;EN&#185;&#186;}&#197;&#209;s from console or any GUI tool?","body":"You got result &#161;7&#244;&#225;&#223;EN&#185;&#186;}&#197;&#209;s from console or any GUI tool?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1524579564,"post_id":50003906,"comment_id":87024345,"body_markdown":"check this: https://stackoverflow.com/questions/43394039/modeling-uuid-in-hibernate-entity-against-mysql","body":"check this: <a href=\"https://stackoverflow.com/questions/43394039/modeling-uuid-in-hibernate-entity-against-mysql\" title=\"modeling uuid in hibernate entity against mysql\">stackoverflow.com/questions/43394039/&hellip;</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":6,"creation_date":1524579678,"post_id":50003906,"comment_id":87024434,"body_markdown":"Why save it in an inefficient format? Just use `BIN_TO_UUID(id)` when you need to actually look at the table.","body":"Why save it in an inefficient format? Just use <code>BIN_TO_UUID(id)</code> when you need to actually look at the table."},{"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"score":0,"creation_date":1524579865,"post_id":50003906,"comment_id":87024563,"body_markdown":"@dkb I copy pasted that value from mysql table.","body":"@dkb I copy pasted that value from mysql table."},{"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"score":0,"creation_date":1524579875,"post_id":50003906,"comment_id":87024570,"body_markdown":"@RaymondNijland yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?","body":"@RaymondNijland yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1524580070,"post_id":50003906,"comment_id":87024701,"body_markdown":"`BIN_TO_UUID(id)` will only work in MySQL 8.0 @RealSkeptic","body":"<code>BIN_TO_UUID(id)</code> will only work in MySQL 8.0 @RealSkeptic"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":1,"creation_date":1524580801,"post_id":50003906,"comment_id":87025241,"body_markdown":"&quot;yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?&quot; if you use MySQL 5.7+ you can use a generated column to generate a human readable UUID from the binary id column -&gt; https://dev.mysql.com/doc/refman/5.7/en/create-table-generated-columns.html .. or use a basic view if you don&#39;t have MySQL 5.7+","body":"&quot;yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?&quot; if you use MySQL 5.7+ you can use a generated column to generate a human readable UUID from the binary id column -&gt; <a href=\"https://dev.mysql.com/doc/refman/5.7/en/create-table-generated-columns.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a> .. or use a basic view if you don&#39;t have MySQL 5.7+"}],"answers":[{"tags":[],"owner":{"account_id":11171866,"reputation":746,"user_id":8198604,"display_name":"Ivan Osipov"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1532096336,"creation_date":1532018564,"answer_id":51427966,"question_id":50003906,"body_markdown":"just use \r\n`@org.hibernate.annotations.Type(type=&quot;uuid-char&quot;)`\r\n\r\nThere is three levels of data types:   \r\n- Java types   \r\n- Hibernate&#39;s types  \r\n- Database Specific types.  \r\n\r\nHibernate data type presentation is a bridge between Java data type and Database types to be independent from database. \r\n\r\nYou can check this [mappings](http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic ). \r\nAs you can find there `java.util.UUID` can be mapped to diferent types (binary or char/varchar). `uuid-binary` is key to hibernate&#39;s UUIDBinaryType, you get this type by default and it will be mapped to `BINARY` of your database.  \r\n\r\nIf you want to get CHAR type under your UUID, you should explain to hibernate that you want his `UUIDCharType`. To do that you use `uuid-char` key and as you can check in JavaDoc of @Type annotation: `Defines a Hibernate type mapping.`. So, you use annotation to explain hibernate which bridge it should use.","title":"Storing UUID as string in mysql using JPA","body":"<p>just use \n<code>@org.hibernate.annotations.Type(type=\"uuid-char\")</code></p>\n\n<p>There is three levels of data types:<br>\n- Java types<br>\n- Hibernate's types<br>\n- Database Specific types.  </p>\n\n<p>Hibernate data type presentation is a bridge between Java data type and Database types to be independent from database. </p>\n\n<p>You can check this <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic\" rel=\"noreferrer\">mappings</a>. \nAs you can find there <code>java.util.UUID</code> can be mapped to diferent types (binary or char/varchar). <code>uuid-binary</code> is key to hibernate's UUIDBinaryType, you get this type by default and it will be mapped to <code>BINARY</code> of your database.  </p>\n\n<p>If you want to get CHAR type under your UUID, you should explain to hibernate that you want his <code>UUIDCharType</code>. To do that you use <code>uuid-char</code> key and as you can check in JavaDoc of @Type annotation: <code>Defines a Hibernate type mapping.</code>. So, you use annotation to explain hibernate which bridge it should use.</p>\n"},{"tags":[],"owner":{"account_id":3281305,"reputation":300,"user_id":2761859,"display_name":"Radouane FADEL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645261303,"creation_date":1645261303,"answer_id":71183520,"question_id":50003906,"body_markdown":"I had the same problem in my last project (**spring-boot:2.5.3** + **mariaDB**).\\\r\nSo I added the following annotation `@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)` to fix it.\r\n```java-lang\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Type;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.UUID;\r\n/** imports */\r\n\r\n@Entity()\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n\t@GeneratedValue(generator = &quot;UUID&quot;)\r\n\t@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n\t@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)\r\n\t@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n\tprivate UUID uuid;\r\n\r\n   /** ... */\r\n}\r\n\r\n```\r\nThe purpose of the hibernate annotation `@Type` is to define the type of data stored in database and it&#39;s compatible with the previous line `@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)`\r\n\r\n&gt; *While googling it, I noticed that mariaDB &amp; MySQL have the same issue.*\r\n\r\nYou can [see here][1] more examples in different use cases for `org.hibernate.annotations.Type`\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/org.hibernate.annotations.Type","title":"Storing UUID as string in mysql using JPA","body":"<p>I had the same problem in my last project (<strong>spring-boot:2.5.3</strong> + <strong>mariaDB</strong>).<br />\nSo I added the following annotation <code>@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)</code> to fix it.</p>\n<pre><code>import org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Type;\n\nimport javax.persistence.*;\nimport java.util.UUID;\n/** imports */\n\n@Entity()\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID uuid;\n\n   /** ... */\n}\n\n</code></pre>\n<p>The purpose of the hibernate annotation <code>@Type</code> is to define the type of data stored in database and it's compatible with the previous line <code>@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)</code></p>\n<blockquote>\n<p><em>While googling it, I noticed that mariaDB &amp; MySQL have the same issue.</em></p>\n</blockquote>\n<p>You can <a href=\"https://www.programcreek.com/java-api-examples/org.hibernate.annotations.Type\" rel=\"nofollow noreferrer\">see here</a> more examples in different use cases for <code>org.hibernate.annotations.Type</code></p>\n"},{"tags":[],"owner":{"account_id":9645473,"reputation":21,"user_id":7158398,"display_name":"Jose Gelimer Gomez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667248268,"creation_date":1667248268,"answer_id":74268823,"question_id":50003906,"body_markdown":"i&#39;m using this annotations:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2r&quot;)\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;varchar(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID uuid;\r\n","title":"Storing UUID as string in mysql using JPA","body":"<p>i'm using this annotations:</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2r&quot;)\n@Column(name = &quot;id&quot;, columnDefinition = &quot;varchar(36)&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate UUID uuid;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28073326,"reputation":27,"user_id":21445585,"display_name":"Arnaud DUBOIS"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1684757949,"creation_date":1684757883,"answer_id":76306119,"question_id":50003906,"body_markdown":"The @Type annotation is deprecated and does not even exist in the last version of Spring Boot.\r\n\r\nYou need to use now @JdbcTypeCode\r\n\r\nThe correct way to do that is the following\r\n\r\n    @Column(columnDefinition = &quot;VARCHAR(36)&quot;)\r\n    @JdbcTypeCode(SqlTypes.VARCHAR)","title":"Storing UUID as string in mysql using JPA","body":"<p>The @Type annotation is deprecated and does not even exist in the last version of Spring Boot.</p>\n<p>You need to use now @JdbcTypeCode</p>\n<p>The correct way to do that is the following</p>\n<pre><code>@Column(columnDefinition = &quot;VARCHAR(36)&quot;)\n@JdbcTypeCode(SqlTypes.VARCHAR)\n</code></pre>\n"}],"owner":{"account_id":6937979,"reputation":810,"user_id":5325309,"accept_rate":80,"display_name":"Sunil Rao"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27751,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51427966,"answer_count":4,"score":19,"last_activity_date":1684757949,"creation_date":1524579209,"question_id":50003906,"body_markdown":"I came across a blog of using UUID with Hibernate and MySql. Now the problem is, whenever I take a look at the database the ID&#39;s will be non-readable format (binary-16). How can I store UUID as a \u001Breadable format like ```7feb24af-fc38-44de-bc38-04defc3804fe``` instead of ```&#161;7&#244;&#225;&#223;EN&#185;&#186;\u001F}&#197;&#209;\u0013s```\r\n\r\nI was using this code \r\n\r\n    @Id\r\n\t@GeneratedValue( generator = &quot;uuid2&quot; )\r\n\t@GenericGenerator( name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot; )\r\n\t@Column( name = &quot;id&quot;, columnDefinition = &quot;BINARY(16)&quot; )\r\n\tprivate UUID id;\r\n\r\nAnd the result is **&#161;7&#244;&#225;&#223;EN&#185;&#186;\u001F}&#197;&#209;\u0013s**. But I want it as readable UUID so I used the following code which didn&#39;t help me\r\n\r\n    @Id\r\n\t@GeneratedValue( generator = &quot;uuid2&quot; )\r\n\t@GenericGenerator( name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot; )\r\n\t@Column( name = &quot;id&quot;, columnDefinition = &quot;CHAR(32)&quot; )\r\n\tprivate UUID id;\r\n\r\nHow to save the UUID as a string instead of binary(16) without changing the java type UUID","title":"Storing UUID as string in mysql using JPA","body":"<p>I came across a blog of using UUID with Hibernate and MySql. Now the problem is, whenever I take a look at the database the ID's will be non-readable format (binary-16). How can I store UUID as a readable format like <code>7feb24af-fc38-44de-bc38-04defc3804fe</code> instead of <code>¡7ôáßEN¹º}ÅÑ\u0013s</code></p>\n\n<p>I was using this code </p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"BINARY(16)\" )\nprivate UUID id;\n</code></pre>\n\n<p>And the result is <strong>¡7ôáßEN¹º}ÅÑ\u0013s</strong>. But I want it as readable UUID so I used the following code which didn't help me</p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"CHAR(32)\" )\nprivate UUID id;\n</code></pre>\n\n<p>How to save the UUID as a string instead of binary(16) without changing the java type UUID</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":7,"creation_date":1369218087,"post_id":16689274,"comment_id":24017695,"body_markdown":"catalina.bat jpda start","body":"catalina.bat jpda start"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1369374439,"post_id":16689274,"comment_id":24088273,"body_markdown":"possible duplicate of [Start tomcat 6 in debug mode?](http://stackoverflow.com/questions/5458212/start-tomcat-6-in-debug-mode)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5458212/start-tomcat-6-in-debug-mode\">Start tomcat 6 in debug mode?</a>"}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369218964,"creation_date":1369218150,"answer_id":16689321,"question_id":16689274,"body_markdown":"First, Navigate to the `TOMCAT-HOME/bin` directory.\r\n\r\nThen, Execute the following in the command-line:\r\n\r\n    catalina.bat jpda start\r\n\r\nIf the Tomcat server is running under Linux, just invoke the `catalina.sh` program\r\n\r\n    catalina.sh jpda start\r\n\r\n\r\nIt&#39;s the same for Tomcat 5.5 and Tomcat 6","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>First, Navigate to the <code>TOMCAT-HOME/bin</code> directory.</p>\n\n<p>Then, Execute the following in the command-line:</p>\n\n<pre><code>catalina.bat jpda start\n</code></pre>\n\n<p>If the Tomcat server is running under Linux, just invoke the <code>catalina.sh</code> program</p>\n\n<pre><code>catalina.sh jpda start\n</code></pre>\n\n<p>It's the same for Tomcat 5.5 and Tomcat 6</p>\n"},{"tags":[],"owner":{"account_id":84287,"reputation":44609,"user_id":235710,"accept_rate":94,"display_name":"Adil Shaikh"},"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1561491995,"creation_date":1369218256,"answer_id":16689351,"question_id":16689274,"body_markdown":"#### On windows\r\n    $ catalina.bat jpda start\r\n\r\n#### On Linux/Unix\r\n    $ catalina.sh jpda start\r\n\r\nMore info `----&gt;` https://cwiki.apache.org/confluence/display/TOMCAT/Developing","title":"How to start debug mode from command prompt for apache tomcat server?","body":"On windows\n\n<pre><code>$ catalina.bat jpda start\n</code></pre>\n\nOn Linux/Unix\n\n<pre><code>$ catalina.sh jpda start\n</code></pre>\n\n<p>More info <code>----&gt;</code> <a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Developing\" rel=\"noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/Developing</a></p>\n"},{"tags":[],"owner":{"account_id":3266543,"reputation":2246,"user_id":2750931,"display_name":"krzysiek.ste"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1380882944,"creation_date":1380882944,"answer_id":19179155,"question_id":16689274,"body_markdown":"For windows first set variables:\r\n\r\n    set JPDA_ADDRESS=8000\r\n    set JPDA_TRANSPORT=dt_socket\r\n\r\n to start server in debug mode:\r\n\r\n    %TOMCAT_HOME%/bin/catalina.bat jpda start\r\n\r\nFor unix first export variables:\r\n\r\n    export JPDA_ADDRESS=8000\r\n    export JPDA_TRANSPORT=dt_socket\r\n\r\n and to start server in debug mode:\r\n\r\n    %TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>For windows first set variables:</p>\n\n<pre><code>set JPDA_ADDRESS=8000\nset JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.bat jpda start\n</code></pre>\n\n<p>For unix first export variables:</p>\n\n<pre><code>export JPDA_ADDRESS=8000\nexport JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>and to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.sh jpda start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125069,"reputation":6157,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1500310267,"creation_date":1392233010,"answer_id":21737633,"question_id":16689274,"body_markdown":"1. From your IDE, create a remote debug configuration, configure it for the default JPDA Tomcat port which is port 8000. \r\n\r\n2. From the command line:\r\n\r\n    Linux:\r\n\r\n        cd apache-tomcat/bin\r\n        export JPDA_SUSPEND=y\r\n        ./catalina.sh jpda run\r\n\r\n    Windows:\r\n\r\n        cd apache-tomcat\\bin\r\n        set JPDA_SUSPEND=y\r\n        catalina.bat jpda run\r\n\r\n\r\n3. Execute the remote debug configuration from your IDE, and Tomcat will start running and you are now able to set breakpoints in the IDE.\r\n\r\nNote: \r\n\r\nThe `JPDA_SUSPEND=y` line is optional, it is useful if you want that Apache Tomcat doesn&#39;t start its execution until step 3 is completed, useful if you want to troubleshoot application initialization issues.\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<ol>\n<li><p>From your IDE, create a remote debug configuration, configure it for the default JPDA Tomcat port which is port 8000. </p></li>\n<li><p>From the command line:</p>\n\n<p>Linux:</p>\n\n<pre><code>cd apache-tomcat/bin\nexport JPDA_SUSPEND=y\n./catalina.sh jpda run\n</code></pre>\n\n<p>Windows:</p>\n\n<pre><code>cd apache-tomcat\\bin\nset JPDA_SUSPEND=y\ncatalina.bat jpda run\n</code></pre></li>\n<li><p>Execute the remote debug configuration from your IDE, and Tomcat will start running and you are now able to set breakpoints in the IDE.</p></li>\n</ol>\n\n<p>Note: </p>\n\n<p>The <code>JPDA_SUSPEND=y</code> line is optional, it is useful if you want that Apache Tomcat doesn't start its execution until step 3 is completed, useful if you want to troubleshoot application initialization issues.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397543180,"creation_date":1397543180,"answer_id":23076081,"question_id":16689274,"body_markdown":"Inside catalina.bat set the port on which you wish to start the debugger\r\n\r\n    if not &quot;%JPDA_ADDRESS%&quot; == &quot;&quot; goto gotJpdaAddress\r\n    set JPDA_ADDRESS=9001\r\n\r\nThen you can simply start the debugger with \r\n\r\n    catalina.bat jpda \r\n\r\nNow from Eclipse or IDEA select remote debugging and start start debugging by connecting to port 9001.","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>Inside catalina.bat set the port on which you wish to start the debugger</p>\n\n<pre><code>if not \"%JPDA_ADDRESS%\" == \"\" goto gotJpdaAddress\nset JPDA_ADDRESS=9001\n</code></pre>\n\n<p>Then you can simply start the debugger with </p>\n\n<pre><code>catalina.bat jpda \n</code></pre>\n\n<p>Now from Eclipse or IDEA select remote debugging and start start debugging by connecting to port 9001.</p>\n"},{"tags":[],"owner":{"account_id":3431809,"reputation":1046,"user_id":2876009,"accept_rate":20,"display_name":"Tharindu Ketipearachchi"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1533540384,"creation_date":1432200386,"answer_id":30369718,"question_id":16689274,"body_markdown":"There are two ways to run tomcat in debug mode\r\n\r\n 1. Using jdpa run\r\n \r\n 2. Using JAVA_OPTS\r\n\r\nFirst setup the environment. Then start the server using following commands.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export JPDA_ADDRESS=8000\r\n\r\n    export JPDA_TRANSPORT=dt_socket\r\n\r\n    %TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\n    sudo catalina.sh jpda start\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nrefer this [article][1] for more information this is clearly define it\r\n\r\n\r\n\r\n  [1]: https://tharinduketipe.wordpress.com/2015/05/21/how-to-run-apache-tomcat-in-debug-mode-ubuntu/","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>There are two ways to run tomcat in debug mode</p>\n\n<ol>\n<li><p>Using jdpa run</p></li>\n<li><p>Using JAVA_OPTS</p></li>\n</ol>\n\n<p>First setup the environment. Then start the server using following commands.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export JPDA_ADDRESS=8000\r\n\r\nexport JPDA_TRANSPORT=dt_socket\r\n\r\n%TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\nsudo catalina.sh jpda start</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>refer this <a href=\"https://tharinduketipe.wordpress.com/2015/05/21/how-to-run-apache-tomcat-in-debug-mode-ubuntu/\" rel=\"noreferrer\">article</a> for more information this is clearly define it</p>\n"},{"tags":[],"owner":{"account_id":3445224,"reputation":311,"user_id":2886205,"display_name":"Marcel Zebrowski"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1601590341,"creation_date":1459842488,"answer_id":36420167,"question_id":16689274,"body_markdown":"A short answer is to add the following options when the JVM is started.\r\n\r\n    JAVA_OPTS=&quot; $JAVA_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8080&quot;","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>A short answer is to add the following options when the JVM is started.</p>\n<pre><code>JAVA_OPTS=&quot; $JAVA_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520487084,"creation_date":1520487084,"answer_id":49166082,"question_id":16689274,"body_markdown":"These instructions worked for me on apache-tomcat-8.5.20 on mac os 10.13.3 using jdk1.8.0_152:\r\n\r\n    $ cd /path/to/apache-tomcat-8.5.20/bin\r\n    $ export JPDA_ADDRESS=&quot;localhost:12321&quot;\r\n    $ ./catalina.sh jpda run\r\n\r\nNow connect to port 12321 from IntelliJ/Eclipse and enjoy remote debugging.","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>These instructions worked for me on apache-tomcat-8.5.20 on mac os 10.13.3 using jdk1.8.0_152:</p>\n\n<pre><code>$ cd /path/to/apache-tomcat-8.5.20/bin\n$ export JPDA_ADDRESS=\"localhost:12321\"\n$ ./catalina.sh jpda run\n</code></pre>\n\n<p>Now connect to port 12321 from IntelliJ/Eclipse and enjoy remote debugging.</p>\n"},{"tags":[],"owner":{"account_id":8742254,"reputation":1070,"user_id":6538939,"display_name":"MarkyMarksFunkyBunch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571850277,"creation_date":1571850277,"answer_id":58527808,"question_id":16689274,"body_markdown":"If you&#39;re wanting to do this via powershell on windows this worked for me\r\n\r\n $env:JPDA_SUSPEND=&quot;y&quot;\r\n\r\n$env:JPDA_TRANSPORT=&quot;dt_socket&quot;\r\n\r\n/path/to/tomcat/bin/catalina.bat jpda start\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>If you're wanting to do this via powershell on windows this worked for me</p>\n\n<p>$env:JPDA_SUSPEND=\"y\"</p>\n\n<p>$env:JPDA_TRANSPORT=\"dt_socket\"</p>\n\n<p>/path/to/tomcat/bin/catalina.bat jpda start</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684757772,"creation_date":1684748067,"answer_id":76304794,"question_id":16689274,"body_markdown":"If you want to keep this always when your service is running, you should edit your `bin/startup.sh`. There add &#39;jpda&#39; parameter right here \r\n\r\n    exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda  start &quot;$@&quot;\r\n\r\ninstead of original\r\n\r\n    exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; start &quot;$@&quot;\r\n\r\n\r\n","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>If you want to keep this always when your service is running, you should edit your <code>bin/startup.sh</code>. There add 'jpda' parameter right here</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda  start &quot;$@&quot;\n</code></pre>\n<p>instead of original</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; start &quot;$@&quot;\n</code></pre>\n"}],"owner":{"account_id":2800644,"reputation":1171,"user_id":2408954,"display_name":"Karthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286568,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"answer_count":10,"score":95,"last_activity_date":1684757772,"creation_date":1369218000,"question_id":16689274,"body_markdown":"I want to start debug mode for my application. But I need to start the debug mode from command prompt. Is it possible ? And will the procedure vary between tomcat 5.5 to tomcat 6.?","title":"How to start debug mode from command prompt for apache tomcat server?","body":"<p>I want to start debug mode for my application. But I need to start the debug mode from command prompt. Is it possible ? And will the procedure vary between tomcat 5.5 to tomcat 6.?</p>\n"},{"tags":["java","file","pdf","amazon-s3","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":14508862,"reputation":35,"user_id":10479879,"display_name":"Riya Bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684757386,"creation_date":1684757386,"answer_id":76306055,"question_id":76305676,"body_markdown":"Problem was i was converting content to string,, converting to byte array generated report correctly.","title":"Generate PDF in Lambda and Store it in S3","body":"<p>Problem was i was converting content to string,, converting to byte array generated report correctly.</p>\n"}],"owner":{"account_id":14508862,"reputation":35,"user_id":10479879,"display_name":"Riya Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684757757,"creation_date":1684754817,"question_id":76305676,"body_markdown":"I am using PDF Generator to generate PDF and then am storing it in Lambda local storage first using  \r\n```pdDocument.save(local storage path)```.\r\nThen am using \r\n```s3Client.putObject(new PutObjectRequest(bucketName, fileName, file))``` to upload file to S3.\r\nEverything is working fine but when i try to remove local storage logic and use ByteOutputStream :\r\n\r\n```\r\n\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    pdDocument.save(byteArrayOutputStream);\r\n\r\n\r\n    String content = byteArrayOutputStream.toString(StandardCharsets.UTF_8.name());\r\n\r\n    byte[] contentAsBytes = content.getBytes(StandardCharsets.UTF_8);\r\n    final InputStream input = new ByteArrayInputStream(contentAsBytes);\r\n    ObjectMetadata objectMetadata = new ObjectMetadata();\r\n    objectMetadata.setContentType(contentType);\r\n    objectMetadata.setContentLength(content.length());\r\n    objectMetadata.setContentEncoding(UTF_8);\r\n    s3Client.putObject(new PutObjectRequest(bucketName, fileName, input, objectMetadata));\r\n\r\n```\r\n\r\nGenerate PDF is giving ```Failed to load PDF document``` error.\r\n\r\nNot able to understand where am I going wrong.\r\nIs there another way to upload file to S3 without using Lambda local storage?\r\n","title":"Generate PDF in Lambda and Store it in S3","body":"<p>I am using PDF Generator to generate PDF and then am storing it in Lambda local storage first using<br />\n<code>pdDocument.save(local storage path)</code>.\nThen am using\n<code>s3Client.putObject(new PutObjectRequest(bucketName, fileName, file))</code> to upload file to S3.\nEverything is working fine but when i try to remove local storage logic and use ByteOutputStream :</p>\n<pre><code>\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    pdDocument.save(byteArrayOutputStream);\n\n\n    String content = byteArrayOutputStream.toString(StandardCharsets.UTF_8.name());\n\n    byte[] contentAsBytes = content.getBytes(StandardCharsets.UTF_8);\n    final InputStream input = new ByteArrayInputStream(contentAsBytes);\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    objectMetadata.setContentType(contentType);\n    objectMetadata.setContentLength(content.length());\n    objectMetadata.setContentEncoding(UTF_8);\n    s3Client.putObject(new PutObjectRequest(bucketName, fileName, input, objectMetadata));\n\n</code></pre>\n<p>Generate PDF is giving <code>Failed to load PDF document</code> error.</p>\n<p>Not able to understand where am I going wrong.\nIs there another way to upload file to S3 without using Lambda local storage?</p>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684757177,"creation_date":1684718511,"answer_id":76302572,"question_id":76302523,"body_markdown":"All classes are in a package. Even ones without a package statement; these are then considered to be in _the unnamed package_. That is not a slang term; that is the explicit term used in the JLS (Java Language Specification).\r\n\r\nAs per the JLS, it is __not possible__ to import from the unnamed package. `import Class2;`  is a syntax error; there has to be at least one dot in there, and no keyword exists to indicate &#39;the unnamed package, please&#39;.\r\n\r\nThe JLS also states that any source file trivially star-imports its own package. e.g, given:\r\n\r\n```\r\npackage com.foo;\r\n\r\npublic class Hello {}\r\n```\r\n\r\nIt is exactly as if `import com.foo.*;` was in that file: Any class that is in the com.foo package can just be referred to, and unless that name is explicitly imported, java will assume you meant the one in your package (named imports win over star imports; this is obvious, and specced in the JLS).\r\n\r\nThe same applies to the unnamed package: Anything __in__ the unnamed package therefore automatically and silently star-imports the unnamed package. There is no way to write an import statement that does that, of course.\r\n\r\nThese steps add up the following fact:\r\n\r\nIt is __impossible__ to refer to things in the unnamed package. Except from other types in the unnamed package, because they star-import the unnamed package.\r\n\r\nHence:\r\n\r\n&gt; A java file in the default package can refer to a class in the jar&#39;s unnamed package (class in the root of jar) but a java file in a named package cannot.\r\n\r\nYes. True. And not fixable.\r\n\r\n## What??\r\n\r\nThe unnamed package is meant _solely_ for throwaway projects and for extremely simple apps that do not want to mess with packages in any way. That&#39;s all. The moment you write `package` anywhere in the project, that is the moment __every__ source file should gain a package statement.\r\n\r\nYou may find this inconvenient, but there is no fix for this; the JLS __requires__ that java compilers work this way.\r\n","title":"Cannot use class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can","body":"<p>All classes are in a package. Even ones without a package statement; these are then considered to be in <em>the unnamed package</em>. That is not a slang term; that is the explicit term used in the JLS (Java Language Specification).</p>\n<p>As per the JLS, it is <strong>not possible</strong> to import from the unnamed package. <code>import Class2;</code>  is a syntax error; there has to be at least one dot in there, and no keyword exists to indicate 'the unnamed package, please'.</p>\n<p>The JLS also states that any source file trivially star-imports its own package. e.g, given:</p>\n<pre><code>package com.foo;\n\npublic class Hello {}\n</code></pre>\n<p>It is exactly as if <code>import com.foo.*;</code> was in that file: Any class that is in the com.foo package can just be referred to, and unless that name is explicitly imported, java will assume you meant the one in your package (named imports win over star imports; this is obvious, and specced in the JLS).</p>\n<p>The same applies to the unnamed package: Anything <strong>in</strong> the unnamed package therefore automatically and silently star-imports the unnamed package. There is no way to write an import statement that does that, of course.</p>\n<p>These steps add up the following fact:</p>\n<p>It is <strong>impossible</strong> to refer to things in the unnamed package. Except from other types in the unnamed package, because they star-import the unnamed package.</p>\n<p>Hence:</p>\n<blockquote>\n<p>A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n</blockquote>\n<p>Yes. True. And not fixable.</p>\n<h2>What??</h2>\n<p>The unnamed package is meant <em>solely</em> for throwaway projects and for extremely simple apps that do not want to mess with packages in any way. That's all. The moment you write <code>package</code> anywhere in the project, that is the moment <strong>every</strong> source file should gain a package statement.</p>\n<p>You may find this inconvenient, but there is no fix for this; the JLS <strong>requires</strong> that java compilers work this way.</p>\n"}],"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684718625,"answer_count":1,"score":0,"last_activity_date":1684757177,"creation_date":1684717253,"question_id":76302523,"body_markdown":"I cannot use a class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can. \r\n\r\nPossibly another way to descibe the problem: A java file in the default package can refer to a class in the jar&#39;s unnamed package (class in the root of jar) but a java file in a named package cannot.\r\n\r\nI&#39;ve created a bash script to reproduce the problem.\r\n\r\nbuild the jar\r\n```bash\r\n#!/bin/bash\r\n\r\n# Create directory structure\r\nmkdir -p projA/src/java/org/example\r\nmkdir -p projA/out/artifacts\r\n\r\n# Create Java source files\r\ncat &gt; projA/src/java/Class2.java &lt;&lt; EOF\r\npublic class Class2 {\r\n    // Empty class\r\n}\r\nEOF\r\n\r\ncat &gt; projA/src/java/org/example/Class1.java &lt;&lt; EOF\r\npackage org.example;\r\n\r\npublic class Class1 {\r\n    // Empty class\r\n}\r\nEOF\r\n\r\n# Compile Java files\r\nfind projA/src/java -name &quot;*.java&quot; &gt; sources.txt\r\njavac -d projA/target @sources.txt\r\n\r\n# Create JAR file\r\njar cf projA/out/artifacts/projA.jar -C projA/target .\r\n\r\n# View contents of JAR file\r\ntar tf projA/out/artifacts/projA.jar\r\n```\r\n\r\nuse the jar\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Create directory structure\r\nmkdir -p ProjB/src/java/org/fred\r\n\r\n# Create Java source files\r\ncat &gt; ProjB/src/java/Main2.java &lt;&lt; EOF\r\npublic class Main2 {\r\n    public static void main(String[] args) {\r\n        Class2 class2 = new Class2();\r\n    }\r\n}\r\nEOF\r\n\r\ncat &gt; ProjB/src/java/org/fred/Main1.java &lt;&lt; EOF\r\npackage org.fred;\r\n\r\nimport org.example.Class1;\r\n\r\npublic class Main1 {\r\n    public static void main(String[] args) {\r\n        Class1 class1 = new Class1();\r\n        // Class2 class2 = new Class2();  // &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM\r\n    }\r\n}\r\nEOF\r\n\r\n# Compile Java files\r\njavac -d ProjB/target -cp projA/out/artifacts/projA.jar ProjB/src/java/*.java ProjB/src/java/org/fred/*.java\r\n\r\n# Run the classes\r\njava -cp ProjB/target:projA/out/artifacts/projA.jar Main2\r\njava -cp ProjB/target:projA/out/artifacts/projA.jar org.fred.Main1\r\n```\r\n\r\nAfter running these scripts in a fresh directory, everything should compile, build and run ok. Now uncomment the line with `// &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM` and run the second script again. Notice the compiler error\r\n```\r\nProjB/src/java/org/fred/Main1.java:12: error: cannot find symbol\r\n        Class2 class2 = new Class2();\r\n```\r\n\r\nWhy can&#39;t I refer to Class2 - its clearly in the root of the jar. I can refer to it successfully from `ProjB/src/java/Main2.java` but not from `ProjB/src/java/org/fred/Main1.java`?\r\n\r\nInterestingly, I don&#39;t need to use an import statement to when I&#39;m referring to classes in the jar unnamed package (class in the root of jar) from a java file in the default package. \r\n","title":"Cannot use class in jar&#39;s root when my file is part of a package but when my file is not part of a package, I can","body":"<p>I cannot use a class in jar's root when my file is part of a package but when my file is not part of a package, I can.</p>\n<p>Possibly another way to descibe the problem: A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n<p>I've created a bash script to reproduce the problem.</p>\n<p>build the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p projA/src/java/org/example\nmkdir -p projA/out/artifacts\n\n# Create Java source files\ncat &gt; projA/src/java/Class2.java &lt;&lt; EOF\npublic class Class2 {\n    // Empty class\n}\nEOF\n\ncat &gt; projA/src/java/org/example/Class1.java &lt;&lt; EOF\npackage org.example;\n\npublic class Class1 {\n    // Empty class\n}\nEOF\n\n# Compile Java files\nfind projA/src/java -name &quot;*.java&quot; &gt; sources.txt\njavac -d projA/target @sources.txt\n\n# Create JAR file\njar cf projA/out/artifacts/projA.jar -C projA/target .\n\n# View contents of JAR file\ntar tf projA/out/artifacts/projA.jar\n</code></pre>\n<p>use the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p ProjB/src/java/org/fred\n\n# Create Java source files\ncat &gt; ProjB/src/java/Main2.java &lt;&lt; EOF\npublic class Main2 {\n    public static void main(String[] args) {\n        Class2 class2 = new Class2();\n    }\n}\nEOF\n\ncat &gt; ProjB/src/java/org/fred/Main1.java &lt;&lt; EOF\npackage org.fred;\n\nimport org.example.Class1;\n\npublic class Main1 {\n    public static void main(String[] args) {\n        Class1 class1 = new Class1();\n        // Class2 class2 = new Class2();  // &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM\n    }\n}\nEOF\n\n# Compile Java files\njavac -d ProjB/target -cp projA/out/artifacts/projA.jar ProjB/src/java/*.java ProjB/src/java/org/fred/*.java\n\n# Run the classes\njava -cp ProjB/target:projA/out/artifacts/projA.jar Main2\njava -cp ProjB/target:projA/out/artifacts/projA.jar org.fred.Main1\n</code></pre>\n<p>After running these scripts in a fresh directory, everything should compile, build and run ok. Now uncomment the line with <code>// &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM</code> and run the second script again. Notice the compiler error</p>\n<pre><code>ProjB/src/java/org/fred/Main1.java:12: error: cannot find symbol\n        Class2 class2 = new Class2();\n</code></pre>\n<p>Why can't I refer to Class2 - its clearly in the root of the jar. I can refer to it successfully from <code>ProjB/src/java/Main2.java</code> but not from <code>ProjB/src/java/org/fred/Main1.java</code>?</p>\n<p>Interestingly, I don't need to use an import statement to when I'm referring to classes in the jar unnamed package (class in the root of jar) from a java file in the default package.</p>\n"},{"tags":["java","jmx","java-threads","hive-metastore"],"comments":[{"owner":{"account_id":15580605,"reputation":116,"user_id":11240504,"display_name":"cpwillis"},"score":0,"creation_date":1685273189,"post_id":76161424,"comment_id":134636068,"body_markdown":"You need to provide more information in order to diagnose/replicate however, I can suggest... checking JMX server config, analysing resource allocation, reviewing HMS logs, scaling and monitoring the deployment.","body":"You need to provide more information in order to diagnose/replicate however, I can suggest... checking JMX server config, analysing resource allocation, reviewing HMS logs, scaling and monitoring the deployment."}],"owner":{"account_id":4011368,"reputation":269,"user_id":3304632,"display_name":"Shakti Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684757107,"creation_date":1683099248,"question_id":76161424,"body_markdown":"I have a deployment of HMS v2.0.1 on k8s with 20 replicas. Over the time, it becomes unresponsive.\r\n- CPU usage keeps on increasing. With it, increase in CPU throttling also.\r\n- JVMs are configured with 13 GB.\r\n- Some of the pods show unusually high number of threads like ~700-800.\r\nMajority of threads are of category `JMX server connection timeout`\r\n```\r\nstackTrace:\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(Native Method)\r\nat com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)\r\n- locked &lt;0x0000000544732110&gt; (a [I)\r\nat java.lang.Thread.run(Thread.java:750)\r\n```\r\n- Another impact is that app stops sending the JMX metrics after some time.\r\n\r\nI am not able to figure out the exact issue here. Looking for any tip/guidance from the community.","title":"Hive Metastore service having lot of threads of type, JMX server connection timeout","body":"<p>I have a deployment of HMS v2.0.1 on k8s with 20 replicas. Over the time, it becomes unresponsive.</p>\n<ul>\n<li>CPU usage keeps on increasing. With it, increase in CPU throttling also.</li>\n<li>JVMs are configured with 13 GB.</li>\n<li>Some of the pods show unusually high number of threads like ~700-800.\nMajority of threads are of category <code>JMX server connection timeout</code></li>\n</ul>\n<pre><code>stackTrace:\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(Native Method)\nat com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)\n- locked &lt;0x0000000544732110&gt; (a [I)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<ul>\n<li>Another impact is that app stops sending the JMX metrics after some time.</li>\n</ul>\n<p>I am not able to figure out the exact issue here. Looking for any tip/guidance from the community.</p>\n"},{"tags":["java","httpclient","okhttp","quarkus"],"comments":[{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1684754278,"post_id":76305102,"comment_id":134558152,"body_markdown":"Do you really need the OKHttpClient? With Quarkus, this is the recommended HTTP Client: https://quarkus.io/guides/rest-client-reactive","body":"Do you really need the OKHttpClient? With Quarkus, this is the recommended HTTP Client: <a href=\"https://quarkus.io/guides/rest-client-reactive\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client-reactive</a>"}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684756449,"creation_date":1684756449,"answer_id":76305909,"question_id":76305102,"body_markdown":"Set the connection pool’s keep alive duration to 60 seconds instead of the default 5 minutes.\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient.Builder()\r\n    .connectionPool(new ConnectionPool(5, 60, TimeUnit.SECONDS))\r\n    .build()\r\n```","title":"Getting SocketException: Connection reset with OHttp3 Client","body":"<p>Set the connection pool’s keep alive duration to 60 seconds instead of the default 5 minutes.</p>\n<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n    .connectionPool(new ConnectionPool(5, 60, TimeUnit.SECONDS))\n    .build()\n</code></pre>\n"}],"owner":{"account_id":19094442,"reputation":139,"user_id":13944037,"display_name":"Dinesh Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684757034,"creation_date":1684750203,"question_id":76305102,"body_markdown":"**Problem:**\r\nI am using OkHttp3 Client in Quarkus project, but I am getting the following error in production:\r\n&gt; java.net.SocketException: Connection reset at java.net.SocketInputStream.read(SocketInputStream.java:186) ~[?:?] at java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\r\n**Details**\r\nMy project is a type of middle layer that is calling the Backend APIs as a client, parses the response, and sends it back to the Front end. But sometimes, it throws the above exception when calling downstream APIs. In the case of a GET request, it retries two times, gets same exception and in third retry, a successful response is returned. But in POST request, it does not retries because of idempotency and fails in the first occurrence only.\r\n\r\n*Code:*\r\n```java\r\npublic class CustomOkHttpClient extends HttpClient {\r\n    private OkHttpClient client;\r\n\r\n    public Response callDownstream(HttpRequest clientRequest) {\r\n        Response clientResponse = null;\r\n        try {\r\n            Call call = client.newCall(clientRequest);\r\n            clientResponse = call.execute();\r\n            return parseClientResponse(clientResponse, responseClass);\r\n        } catch (final Exception exception) {\r\n            logger.error(&quot;Exception occurred&quot;);\r\n            throw exception;\r\n        } finally {\r\n            if (null!=clientResponse) {\r\n                clientResponse.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n*Dependencies used:*\r\ncom.squareup.okhttp3:\r\n- okhttp-urlconnection: 5.0.0-alpha.2\r\n- logging-interceptor: 4.9.3\r\n- mockwebserver: 4.9.0\r\n\r\n\r\n**Ways tried**\r\n- Used finally block to close the connection.\r\n- Increased readTimeOut value of http client, but same error is happenning.\r\n\r\n**How to proceed**\r\n- What approach can I do further?\r\n- Is this possible that the connection gets closed due to idle time period because no traffic is present during that time, and when after some long time, when request hit is made, it gets failed.","title":"Getting SocketException: Connection reset with OHttp3 Client","body":"<p><strong>Problem:</strong>\nI am using OkHttp3 Client in Quarkus project, but I am getting the following error in production:</p>\n<blockquote>\n<p>java.net.SocketException: Connection reset at java.net.SocketInputStream.read(SocketInputStream.java:186) ~[?:?] at java.net.SocketInputStream.read(SocketInputStream.java:140)</p>\n</blockquote>\n<p><strong>Details</strong>\nMy project is a type of middle layer that is calling the Backend APIs as a client, parses the response, and sends it back to the Front end. But sometimes, it throws the above exception when calling downstream APIs. In the case of a GET request, it retries two times, gets same exception and in third retry, a successful response is returned. But in POST request, it does not retries because of idempotency and fails in the first occurrence only.</p>\n<p><em>Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomOkHttpClient extends HttpClient {\n    private OkHttpClient client;\n\n    public Response callDownstream(HttpRequest clientRequest) {\n        Response clientResponse = null;\n        try {\n            Call call = client.newCall(clientRequest);\n            clientResponse = call.execute();\n            return parseClientResponse(clientResponse, responseClass);\n        } catch (final Exception exception) {\n            logger.error(&quot;Exception occurred&quot;);\n            throw exception;\n        } finally {\n            if (null!=clientResponse) {\n                clientResponse.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>Dependencies used:</em>\ncom.squareup.okhttp3:</p>\n<ul>\n<li>okhttp-urlconnection: 5.0.0-alpha.2</li>\n<li>logging-interceptor: 4.9.3</li>\n<li>mockwebserver: 4.9.0</li>\n</ul>\n<p><strong>Ways tried</strong></p>\n<ul>\n<li>Used finally block to close the connection.</li>\n<li>Increased readTimeOut value of http client, but same error is happenning.</li>\n</ul>\n<p><strong>How to proceed</strong></p>\n<ul>\n<li>What approach can I do further?</li>\n<li>Is this possible that the connection gets closed due to idle time period because no traffic is present during that time, and when after some long time, when request hit is made, it gets failed.</li>\n</ul>\n"},{"tags":["java","xml","xslt","yaml","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684750864,"post_id":76305044,"comment_id":134557524,"body_markdown":"I don&#39;t see your XSLT code generation any XSLT although your title suggests that is (part of) what you want to achieve. As for: &quot; i cannot call template inside another template or inside if tag or choose tag&quot;: why is that?  `&lt;xsl:template name=&quot;foo&quot;&gt;&lt;xsl:call-template name=&quot;bar&quot;/&gt;&lt;/xsl:template&gt;` is perfectly possible and not constrained. You can&#39;t nest template declarations but calling or applying templates at any level inside of another template is possible. Thus, if you have concrete code giving a concrete error, share that code.","body":"I don&#39;t see your XSLT code generation any XSLT although your title suggests that is (part of) what you want to achieve. As for: &quot; i cannot call template inside another template or inside if tag or choose tag&quot;: why is that?  <code>&lt;xsl:template name=&quot;foo&quot;&gt;&lt;xsl:call-template name=&quot;bar&quot;&#47;&gt;&lt;&#47;xsl:template&gt;</code> is perfectly possible and not constrained. You can&#39;t nest template declarations but calling or applying templates at any level inside of another template is possible. Thus, if you have concrete code giving a concrete error, share that code."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684753531,"post_id":76305044,"comment_id":134558024,"body_markdown":"Don&#39;t try to explain what you want to achieve by including code in comments. Edit your question to show any code there, in a well formatted way. To me it is not clear why you need both Java classes and XSLT code to generate XSLT code, it seems, XSLT code should suffice to process YAML and generate XSLT code. Anyway, it is not clear at which point you struggle so that someone could help fix a well defined and isolated problem; it seems you have chosen some complex task which might need some complex solution. But you have not even specified what your YAML stands for in terms of XSLT.","body":"Don&#39;t try to explain what you want to achieve by including code in comments. Edit your question to show any code there, in a well formatted way. To me it is not clear why you need both Java classes and XSLT code to generate XSLT code, it seems, XSLT code should suffice to process YAML and generate XSLT code. Anyway, it is not clear at which point you struggle so that someone could help fix a well defined and isolated problem; it seems you have chosen some complex task which might need some complex solution. But you have not even specified what your YAML stands for in terms of XSLT."},{"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"score":0,"creation_date":1684753890,"post_id":76305044,"comment_id":134558085,"body_markdown":"in my project i need to use xslt to transform an xml to xml, but i need to add a new layer in order to simplify the work, instead of making xslt templates everytime i want to specify the transformations in a yaml file then generate the xslt templates from it, so simply YAML contains the list of transformations for each element.\n&quot;XSLT code should suffice to process YAML and generate XSLT code.&quot; \ncan you tell me how, any useful links please ?","body":"in my project i need to use xslt to transform an xml to xml, but i need to add a new layer in order to simplify the work, instead of making xslt templates everytime i want to specify the transformations in a yaml file then generate the xslt templates from it, so simply YAML contains the list of transformations for each element. &quot;XSLT code should suffice to process YAML and generate XSLT code.&quot;  can you tell me how, any useful links please ?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684754567,"post_id":76305044,"comment_id":134558199,"body_markdown":"YAML is a text format, you can read it in with e.g. `unparsed-text(&#39;foo.yaml&#39;)`, you can process it with all text processing features you have in XSLT 3 (i.e. `analyze-string`, `tokenize`, grouping, matching) to transform it to maps/arrays or XML and then process that further. Whether it is in the end easier to have someone write YAML to have a transpiler to to create XSLT instead of having people write XSLT directly (e.g. `&lt;xsl:template match=&quot;ABC&quot;/&gt;` seems to be what your `-element: ABC action: removeElement: true` amounts to) I doubt. It all depends on the skill sets of people involved.","body":"YAML is a text format, you can read it in with e.g. <code>unparsed-text(&#39;foo.yaml&#39;)</code>, you can process it with all text processing features you have in XSLT 3 (i.e. <code>analyze-string</code>, <code>tokenize</code>, grouping, matching) to transform it to maps/arrays or XML and then process that further. Whether it is in the end easier to have someone write YAML to have a transpiler to to create XSLT instead of having people write XSLT directly (e.g. <code>&lt;xsl:template match=&quot;ABC&quot;&#47;&gt;</code> seems to be what your <code>-element: ABC action: removeElement: true</code> amounts to) I doubt. It all depends on the skill sets of people involved."},{"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"score":0,"creation_date":1684755099,"post_id":76305044,"comment_id":134558298,"body_markdown":"yeah it depends on the skills sets of the people involved and that&#39;s why i&#39;m asked to do generate xslt templates from YAML, and i think you gave me a better solution, i think i better transform it to XML and then process it further\nThanks a lot @MartinHonnen","body":"yeah it depends on the skills sets of the people involved and that&#39;s why i&#39;m asked to do generate xslt templates from YAML, and i think you gave me a better solution, i think i better transform it to XML and then process it further Thanks a lot @MartinHonnen"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684757034,"creation_date":1684757034,"answer_id":76306007,"question_id":76305044,"body_markdown":"A simple example to transpile part of your YAML to XSLT and then run it in XSLT 3 is at https://xsltfiddle.liberty-development.net/eiZNCwk doing e.g.\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    \txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    \txmlns:axsl=&quot;http://www.w3.org/1999/XSL/Transform-alias&quot;\r\n    \texclude-result-prefixes=&quot;#all&quot;\r\n    \tversion=&quot;3.0&quot;&gt;\r\n      \r\n      &lt;xsl:namespace-alias stylesheet-prefix=&quot;axsl&quot; result-prefix=&quot;xsl&quot;/&gt;\r\n    \r\n      &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:variable name=&quot;yaml-as-xslt&quot; as=&quot;element(xsl:stylesheet)&quot;&gt;\r\n          &lt;axsl:stylesheet version=&quot;3.0&quot;&gt;\r\n            \r\n            &lt;axsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n            \r\n            &lt;xsl:for-each-group select=&quot;tokenize($yaml, &#39;\\n&#39;) =&gt; tail()&quot; group-starting-with=&quot;.[matches(., &#39;^\\s+-\\selement:&#39;)]&quot;&gt;\r\n              &lt;axsl:template match=&quot;{substring-after(., &#39;element: &#39;)}&quot;&gt;\r\n                &lt;xsl:apply-templates select=&quot;current-group()[3]&quot;/&gt;\r\n              &lt;/axsl:template&gt;\r\n            &lt;/xsl:for-each-group&gt;\r\n            \r\n          &lt;/axsl:stylesheet&gt;\r\n        &lt;/xsl:variable&gt;\r\n        \r\n        &lt;xsl:sequence\r\n          select=&quot;transform(map { &#39;source-node&#39;: ., &#39;stylesheet-node&#39; : $yaml-as-xslt})?output&quot;/&gt;  \r\n      &lt;/xsl:template&gt;\r\n      \r\n      &lt;xsl:template match=&quot;.[matches(., &#39;^\\s+renameTag:\\s&#39;)]&quot;&gt;\r\n        &lt;axsl:element name=&quot;{substring-after(., &#39;renameTag: &#39;)}&quot;/&gt;\r\n      &lt;/xsl:template&gt;\r\n      \r\n      &lt;xsl:template match=&quot;.[matches(., &#39;^\\s+removeElement:\\strue&#39;)]&quot;/&gt;\r\n    \r\n      &lt;xsl:param name=&quot;yaml&quot; as=&quot;xs:string&quot; expand-text=&quot;no&quot;&gt;transformations:\r\n      - element: ABC\r\n        action:\r\n          removeElement: true\r\n      - element: BCD\r\n        action:\r\n          removeElement: true\r\n      - element: OldName1\r\n        action:\r\n          renameTag: NewName1\r\n      - element: OldName2\r\n        action:\r\n          renameTag: NewName2&lt;/xsl:param&gt;\r\n      \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nto transform e.g.\r\n\r\n    &lt;Root&gt;\r\n      &lt;ABC/&gt;\r\n      &lt;BCD/&gt;\r\n      &lt;OldName1/&gt;\r\n      &lt;OldName2/&gt;\r\n    &lt;/Root&gt;\r\n\r\nbased on the YAML rules into\r\n\r\n    &lt;Root&gt;\r\n       &lt;NewName1/&gt;\r\n       &lt;NewName2/&gt;\r\n    &lt;/Root&gt;\r\n\r\nOf course the full meaning of your YAML specifying XML transformations is not given and I have not tried to guess it for all of your sample nor have I tried to implement all of the sample, in the end, as said in the comment, an additional step first transforming the YAML into an intermediary XML or maps/json data structure to then generate XSLT and execute is might be necessary for a complex YAML syntax to define XML transformations.","title":"How to generate XSLT 3.0 templates from a yaml file?","body":"<p>A simple example to transpile part of your YAML to XSLT and then run it in XSLT 3 is at <a href=\"https://xsltfiddle.liberty-development.net/eiZNCwk\" rel=\"nofollow noreferrer\">https://xsltfiddle.liberty-development.net/eiZNCwk</a> doing e.g.</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:axsl=&quot;http://www.w3.org/1999/XSL/Transform-alias&quot;\n    exclude-result-prefixes=&quot;#all&quot;\n    version=&quot;3.0&quot;&gt;\n  \n  &lt;xsl:namespace-alias stylesheet-prefix=&quot;axsl&quot; result-prefix=&quot;xsl&quot;/&gt;\n\n  &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:variable name=&quot;yaml-as-xslt&quot; as=&quot;element(xsl:stylesheet)&quot;&gt;\n      &lt;axsl:stylesheet version=&quot;3.0&quot;&gt;\n        \n        &lt;axsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n        \n        &lt;xsl:for-each-group select=&quot;tokenize($yaml, '\\n') =&gt; tail()&quot; group-starting-with=&quot;.[matches(., '^\\s+-\\selement:')]&quot;&gt;\n          &lt;axsl:template match=&quot;{substring-after(., 'element: ')}&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;current-group()[3]&quot;/&gt;\n          &lt;/axsl:template&gt;\n        &lt;/xsl:for-each-group&gt;\n        \n      &lt;/axsl:stylesheet&gt;\n    &lt;/xsl:variable&gt;\n    \n    &lt;xsl:sequence\n      select=&quot;transform(map { 'source-node': ., 'stylesheet-node' : $yaml-as-xslt})?output&quot;/&gt;  \n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+renameTag:\\s')]&quot;&gt;\n    &lt;axsl:element name=&quot;{substring-after(., 'renameTag: ')}&quot;/&gt;\n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+removeElement:\\strue')]&quot;/&gt;\n\n  &lt;xsl:param name=&quot;yaml&quot; as=&quot;xs:string&quot; expand-text=&quot;no&quot;&gt;transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2&lt;/xsl:param&gt;\n  \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>to transform e.g.</p>\n<pre><code>&lt;Root&gt;\n  &lt;ABC/&gt;\n  &lt;BCD/&gt;\n  &lt;OldName1/&gt;\n  &lt;OldName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>based on the YAML rules into</p>\n<pre><code>&lt;Root&gt;\n   &lt;NewName1/&gt;\n   &lt;NewName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Of course the full meaning of your YAML specifying XML transformations is not given and I have not tried to guess it for all of your sample nor have I tried to implement all of the sample, in the end, as said in the comment, an additional step first transforming the YAML into an intermediary XML or maps/json data structure to then generate XSLT and execute is might be necessary for a complex YAML syntax to define XML transformations.</p>\n"}],"owner":{"account_id":27356150,"reputation":5,"user_id":20864518,"display_name":"I. Riahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76306007,"answer_count":1,"score":0,"last_activity_date":1684757034,"creation_date":1684749813,"question_id":76305044,"body_markdown":"I&#39;m trying to find a way to generate xslt 3.0 templates from a yaml file and i&#39;m looking for a way or a tool that can help me do it, the yaml file contains the list of transformations, here is the yaml file : \r\n\r\n```\r\ntransformations:\r\n  - element: ABC\r\n    action:\r\n      removeElement: true\r\n  - element: BCD\r\n    action:\r\n      removeElement: true\r\n  - element: OldName1\r\n    action:\r\n      renameTag: NewName1\r\n  - element: OldName2\r\n    action:\r\n      renameTag: NewName2\r\n      changeAttributes:\r\n        - name: x\r\n          value: &#39;@H&#39;\r\n        - name: y\r\n          value: &#39;@V&#39;\r\n        - name: PI\r\n          value: 3.14\r\n      excludedAttributes:\r\n        - H\r\n        - V\r\n```\r\ni&#39;m already parsing the yaml file to my java objects using snakeyaml\r\n```\r\n@Data\r\npublic class Transformations {\r\n\tprivate List&lt;Transformation&gt; transformations;\r\n}\r\n@Data\r\npublic class Transformation {\t\r\n\tprivate String element;\r\n\tprivate Action action;\r\n}\r\n@Data\r\npublic class Action {\r\n\tprivate String renameTag=&quot;&quot;;\r\n\tprivate boolean removeElement=false;\r\n\tprivate List&lt;Attribute&gt; changeAttributes= new ArrayList&lt;&gt;();\r\n\tprivate boolean copyOtherAttributes=true;\r\n\tprivate List&lt;String&gt; excludedAttributes= new ArrayList&lt;&gt;();\r\n\tprivate String addChildElement=&quot;&quot;;\r\n\tprivate String copyAttributesIn=&quot;&quot;;\r\n}\r\n@Data\r\npublic class Attribute {\r\n    private String name;\r\n    private String value; \r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni have passed the transformations list to my xslt 3.0 file \r\n\r\n```\r\nList&lt;Transformation&gt; transformationList = transformations.getTransformations();\r\ntransformer.setParameter(&quot;list&quot;, transformationList);\r\n```\r\nthen i create a new class, implemented ExtensionFunction and used saxon and s9api in order to create all the getters for theses classes to use them in xslt\r\n\r\nhere is how i looped through the list and used the getters to print some attributes : \r\n\r\n```\r\n&lt;xsl:template match=&quot;/&quot;&gt;\r\n\t\t&lt;xsl:for-each select=&quot;$list&quot;&gt;\r\n\t\t\t&lt;xsl:variable name=&quot;item&quot; select=&quot;.&quot;/&gt;\r\n\t\t\t&lt;Tranformation&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;element&quot; select=&quot;ext:getTransformationAttribute(&#39;element&#39;,$item)&quot;/&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;actionObj&quot; select=&quot;ext:getTransformationAttribute(&#39;action&#39;,$item)&quot;/&gt;\r\n\r\n\t\t\t\t&lt;xsl:value-of select=&quot;$element&quot; /&gt; \r\n\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t&lt;xsl:value-of select=&quot;$actionObj&quot; /&gt;\r\n\r\n\t\t\t\t&lt;Action&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;renameTag&quot; select=&quot;ext:getTransformationAttribute(&#39;renameTag&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$renameTag&quot; /&gt;\r\n\t\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;removeElement&quot; select=&quot;ext:getTransformationAttribute(&#39;removeElement&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$removeElement&quot; /&gt;\r\n\t\t\t\t\t&lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;changeAttributes&quot; select=&quot;ext:getTransformationAttribute(&#39;changeAttributes&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:for-each select=&quot;$changeAttributes&quot;&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;.&quot; /&gt; \r\n\t\t\t\t\t&lt;/xsl:for-each&gt;\r\n\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;addChildElement&quot; select=&quot;ext:getTransformationAttribute(&#39;addChildElement&#39;,$actionObj)&quot;/&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$addChildElement&quot; /&gt;\r\n\t\t\t\t&lt;/Action&gt;\r\n\t\t\t\t&lt;!-- \r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;$item&quot;  /&gt;\r\n\t\t\t\t--&gt;\r\n\t\t\t&lt;/Tranformation&gt;\r\n\t\t&lt;/xsl:for-each&gt;\r\n\t&lt;/xsl:template&gt;\r\n```\r\n\r\nwhat i want to do now is to generate the xslt templates by theses attributes in order to transform my xml file using yaml, one problem is that i cannot call template inside another template or inside if tag or choose tag \r\n\r\nexample of templates which i need generate :\r\n\r\n    \r\n\r\n    &lt;xsl:template match=&quot;Element&quot;&gt;\r\n        \t&lt;NewName2 x=&quot;{@H}&quot; y=&quot;{@V}&quot; PI=&quot;3.14&quot;&gt;\r\n        \t\t&lt;xsl:apply-templates select=&quot;@*[not(name() = (&#39;H&#39;, &#39;V&#39;))]&quot; /&gt;\r\n        \t\t&lt;addedChild&gt;\r\n        \t\t\t&lt;xsl:apply-templates select=&quot;node()&quot; /&gt;\r\n        \t\t&lt;/addedChild&gt;\r\n        \t&lt;/NewName2&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nin some transformations i have to add a child element, some should exclude attributes from copy, some don&#39;t have a renameTag action, some should have their attributes copied in the child tag and so on..\r\n\r\nhere is how it can be done with java for example : \r\n\r\n    private static void generateXSLT(String xsltPath, Transformations transformations) throws IOException {\r\n    \r\n    \tFileWriter writer = new FileWriter(xsltPath);\r\n    \tStringBuilder xslt = new StringBuilder();\r\n    \txslt.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\r\n    \t\t\t+ &quot;&lt;xsl:stylesheet xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:math=\\&quot;http://www.w3.org/2005/xpath-functions/math\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    xmlns:xd=\\&quot;http://www.oxygenxml.com/ns/doc/xsl\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;    exclude-result-prefixes=\\&quot;xs math xd\\&quot; version=\\&quot;3.0\\&quot;&gt;\\n&quot;);\r\n    \t\t\t// strip-space is used for removing empty lines after deleting some elements\r\n    \t\t\t// template to copy everything\r\n    \t\t\txslt.append(&quot;&lt;xsl:strip-space elements=\\&quot;*\\&quot; /&gt;\\r\\n&quot; + &quot;    \\r\\n&quot; + &quot;    &lt;xsl:template match=\\&quot;/\\&quot;&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;        &lt;xsl:apply-templates /&gt;\\r\\n&quot; + &quot;    &lt;/xsl:template&gt;\\r\\n&quot; + &quot;    \\r\\n&quot;\r\n    \t\t\t+ &quot;    &lt;xsl:template match=\\&quot;*\\&quot;&gt;\\r\\n&quot; + &quot;        &lt;xsl:copy&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;            &lt;xsl:apply-templates select=\\&quot;@* | node()\\&quot; /&gt;\\r\\n&quot; + &quot;        &lt;/xsl:copy&gt;\\r\\n&quot;\r\n    \t\t\t+ &quot;    &lt;/xsl:template&gt;\\n\\n&quot;);\r\n    \tList&lt;Transformation&gt; transformationList = transformations.getTransformations();\r\n    \tfor (Transformation transformation : transformationList) {\r\n    \t\tif (action.isRemoveElement()) {\r\n    \t\t\txslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;/&gt;\\n&quot;);\r\n    \t\t} else if (action.getRenameTag() != null) {\r\n    \t\t\txslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;&gt;\\n&quot;);\r\n    \t\t\tif (action.getChangeAttributes() != null) {\r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag());\r\n    \t\t\t\tfor (Attribute attribute : action.getChangeAttributes()) {\r\n    \t\t\t\t\txslt.append(&quot; &quot; + attribute.getName() + &quot;=\\&quot;{&quot; + attribute.getValue() + &quot;}\\&quot;&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\txslt.append(&quot;&gt;\\n&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tif (action.getExcludeAttributes() != null) {\r\n    \t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\r\n    \t\t\t\tif (action.getExcludeAttributes() != null) {\r\n    \t\t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\r\n    \t\t\t\t\tfor (String excludedAttribute : action.getExcludeAttributes()) {\r\n    \t\t\t\t\t\tjoiner.add(&quot;&#39;&quot; + excludedAttribute + &quot;&#39;&quot;);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\txslt.append(joiner.toString() + &quot;))]|node()\\&quot;/&gt;\\n&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\txslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\txslt.append(&quot;\\t\\t&lt;/&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\r\n    \t\t\t\txslt.append(&quot;\\t&lt;/xsl:template&gt;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\t","title":"How to generate XSLT 3.0 templates from a yaml file?","body":"<p>I'm trying to find a way to generate xslt 3.0 templates from a yaml file and i'm looking for a way or a tool that can help me do it, the yaml file contains the list of transformations, here is the yaml file :</p>\n<pre><code>transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2\n      changeAttributes:\n        - name: x\n          value: '@H'\n        - name: y\n          value: '@V'\n        - name: PI\n          value: 3.14\n      excludedAttributes:\n        - H\n        - V\n</code></pre>\n<p>i'm already parsing the yaml file to my java objects using snakeyaml</p>\n<pre><code>@Data\npublic class Transformations {\n    private List&lt;Transformation&gt; transformations;\n}\n@Data\npublic class Transformation {   \n    private String element;\n    private Action action;\n}\n@Data\npublic class Action {\n    private String renameTag=&quot;&quot;;\n    private boolean removeElement=false;\n    private List&lt;Attribute&gt; changeAttributes= new ArrayList&lt;&gt;();\n    private boolean copyOtherAttributes=true;\n    private List&lt;String&gt; excludedAttributes= new ArrayList&lt;&gt;();\n    private String addChildElement=&quot;&quot;;\n    private String copyAttributesIn=&quot;&quot;;\n}\n@Data\npublic class Attribute {\n    private String name;\n    private String value; \n}\n</code></pre>\n<p>i have passed the transformations list to my xslt 3.0 file</p>\n<pre><code>List&lt;Transformation&gt; transformationList = transformations.getTransformations();\ntransformer.setParameter(&quot;list&quot;, transformationList);\n</code></pre>\n<p>then i create a new class, implemented ExtensionFunction and used saxon and s9api in order to create all the getters for theses classes to use them in xslt</p>\n<p>here is how i looped through the list and used the getters to print some attributes :</p>\n<pre><code>&lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:for-each select=&quot;$list&quot;&gt;\n            &lt;xsl:variable name=&quot;item&quot; select=&quot;.&quot;/&gt;\n            &lt;Tranformation&gt;\n                &lt;xsl:variable name=&quot;element&quot; select=&quot;ext:getTransformationAttribute('element',$item)&quot;/&gt;\n                &lt;xsl:variable name=&quot;actionObj&quot; select=&quot;ext:getTransformationAttribute('action',$item)&quot;/&gt;\n\n                &lt;xsl:value-of select=&quot;$element&quot; /&gt; \n                &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                &lt;xsl:value-of select=&quot;$actionObj&quot; /&gt;\n\n                &lt;Action&gt;\n                    &lt;xsl:variable name=&quot;renameTag&quot; select=&quot;ext:getTransformationAttribute('renameTag',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$renameTag&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;removeElement&quot; select=&quot;ext:getTransformationAttribute('removeElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$removeElement&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;changeAttributes&quot; select=&quot;ext:getTransformationAttribute('changeAttributes',$actionObj)&quot;/&gt;\n                    &lt;xsl:for-each select=&quot;$changeAttributes&quot;&gt;\n                        &lt;xsl:value-of select=&quot;.&quot; /&gt; \n                    &lt;/xsl:for-each&gt;\n\n                    &lt;xsl:variable name=&quot;addChildElement&quot; select=&quot;ext:getTransformationAttribute('addChildElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$addChildElement&quot; /&gt;\n                &lt;/Action&gt;\n                &lt;!-- \n                    &lt;xsl:value-of select=&quot;$item&quot;  /&gt;\n                --&gt;\n            &lt;/Tranformation&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>what i want to do now is to generate the xslt templates by theses attributes in order to transform my xml file using yaml, one problem is that i cannot call template inside another template or inside if tag or choose tag</p>\n<p>example of templates which i need generate :</p>\n<pre><code>&lt;xsl:template match=&quot;Element&quot;&gt;\n        &lt;NewName2 x=&quot;{@H}&quot; y=&quot;{@V}&quot; PI=&quot;3.14&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;@*[not(name() = ('H', 'V'))]&quot; /&gt;\n            &lt;addedChild&gt;\n                &lt;xsl:apply-templates select=&quot;node()&quot; /&gt;\n            &lt;/addedChild&gt;\n        &lt;/NewName2&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>in some transformations i have to add a child element, some should exclude attributes from copy, some don't have a renameTag action, some should have their attributes copied in the child tag and so on..</p>\n<p>here is how it can be done with java for example :</p>\n<pre><code>private static void generateXSLT(String xsltPath, Transformations transformations) throws IOException {\n\n    FileWriter writer = new FileWriter(xsltPath);\n    StringBuilder xslt = new StringBuilder();\n    xslt.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\n            + &quot;&lt;xsl:stylesheet xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;\\n&quot;\n            + &quot;    xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;\\n&quot;\n            + &quot;    xmlns:math=\\&quot;http://www.w3.org/2005/xpath-functions/math\\&quot;\\n&quot;\n            + &quot;    xmlns:xd=\\&quot;http://www.oxygenxml.com/ns/doc/xsl\\&quot;\\n&quot;\n            + &quot;    exclude-result-prefixes=\\&quot;xs math xd\\&quot; version=\\&quot;3.0\\&quot;&gt;\\n&quot;);\n            // strip-space is used for removing empty lines after deleting some elements\n            // template to copy everything\n            xslt.append(&quot;&lt;xsl:strip-space elements=\\&quot;*\\&quot; /&gt;\\r\\n&quot; + &quot;    \\r\\n&quot; + &quot;    &lt;xsl:template match=\\&quot;/\\&quot;&gt;\\r\\n&quot;\n            + &quot;        &lt;xsl:apply-templates /&gt;\\r\\n&quot; + &quot;    &lt;/xsl:template&gt;\\r\\n&quot; + &quot;    \\r\\n&quot;\n            + &quot;    &lt;xsl:template match=\\&quot;*\\&quot;&gt;\\r\\n&quot; + &quot;        &lt;xsl:copy&gt;\\r\\n&quot;\n            + &quot;            &lt;xsl:apply-templates select=\\&quot;@* | node()\\&quot; /&gt;\\r\\n&quot; + &quot;        &lt;/xsl:copy&gt;\\r\\n&quot;\n            + &quot;    &lt;/xsl:template&gt;\\n\\n&quot;);\n    List&lt;Transformation&gt; transformationList = transformations.getTransformations();\n    for (Transformation transformation : transformationList) {\n        if (action.isRemoveElement()) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;/&gt;\\n&quot;);\n        } else if (action.getRenameTag() != null) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;&gt;\\n&quot;);\n            if (action.getChangeAttributes() != null) {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag());\n                for (Attribute attribute : action.getChangeAttributes()) {\n                    xslt.append(&quot; &quot; + attribute.getName() + &quot;=\\&quot;{&quot; + attribute.getValue() + &quot;}\\&quot;&quot;);\n                }\n                xslt.append(&quot;&gt;\\n&quot;);\n            } else {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n            }\n            if (action.getExcludeAttributes() != null) {\n                xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                if (action.getExcludeAttributes() != null) {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                    for (String excludedAttribute : action.getExcludeAttributes()) {\n                        joiner.add(&quot;'&quot; + excludedAttribute + &quot;'&quot;);\n                    }\n\n                    xslt.append(joiner.toString() + &quot;))]|node()\\&quot;/&gt;\\n&quot;);\n                } else {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot;);\n                }\n                \n\n                xslt.append(&quot;\\t\\t&lt;/&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n                xslt.append(&quot;\\t&lt;/xsl:template&gt;\\n&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","service","static"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639858696,"creation_date":1639856690,"answer_id":70406582,"question_id":70406499,"body_markdown":"Make it a spring service, and you will be able to substitute a mock for it easily when you write a test for the controller. Otherwise you will not be able to mock it (unless you use things like Powernock).  Since you&#39;re already injecting values into it, it&#39;s a lot easier to keep this as a Spring component. \r\n\r\nGenerally it&#39;s a premature optimization to use static util classes and it can get in the way of testing. I would use static util classes only if they contain only static methods that have no side effects, which don&#39;t need access to configuration data and which I don&#39;t mind not being able to mock.  The methods I use in input validation code would be an example of something I might use static methods for. But you have the most flexibility, for instance to be able to inject configurations, if you keep these as Spring components. ","title":"Spring Service or Util for a generator class in Java?","body":"<p>Make it a spring service, and you will be able to substitute a mock for it easily when you write a test for the controller. Otherwise you will not be able to mock it (unless you use things like Powernock).  Since you're already injecting values into it, it's a lot easier to keep this as a Spring component.</p>\n<p>Generally it's a premature optimization to use static util classes and it can get in the way of testing. I would use static util classes only if they contain only static methods that have no side effects, which don't need access to configuration data and which I don't mind not being able to mock.  The methods I use in input validation code would be an example of something I might use static methods for. But you have the most flexibility, for instance to be able to inject configurations, if you keep these as Spring components.</p>\n"},{"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639858136,"creation_date":1639857224,"answer_id":70406633,"question_id":70406499,"body_markdown":"Here are some opinions on your questions:\r\n1. Classes annotated with @Service are used in business logic layer, it can provide data but it can also do actions as in your case.\r\n2. Based on the point 1. you can make it a service because that provides logic for creating qr codes for representation layer (Controllers). \r\n3. Having this kind of classes as @Component or more specific @Service makes it easier to inject dependencies using Dependency Injection and also it&#39;s easier to inject your class as dependency to other beans so it&#39;s easier also to test/mock. Keeping it as Spring Service is a better approach.","title":"Spring Service or Util for a generator class in Java?","body":"<p>Here are some opinions on your questions:</p>\n<ol>\n<li>Classes annotated with @Service are used in business logic layer, it can provide data but it can also do actions as in your case.</li>\n<li>Based on the point 1. you can make it a service because that provides logic for creating qr codes for representation layer (Controllers).</li>\n<li>Having this kind of classes as @Component or more specific @Service makes it easier to inject dependencies using Dependency Injection and also it's easier to inject your class as dependency to other beans so it's easier also to test/mock. Keeping it as Spring Service is a better approach.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684756973,"creation_date":1684756973,"answer_id":76305982,"question_id":70406499,"body_markdown":"Short answer: user Spring Service (or Component) and avoid the use of Util classes with static methods. This way you will live happy life without Tight Coupling and Fragile Code \r\n\r\nhttps://www.geeksforgeeks.org/coupling-in-java/\r\n\r\nhttps://stackoverflow.com/a/76304657/4776689\r\n\r\nRegrding your 3 questions:\r\n\r\n&gt; 1. I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service,\r\n&gt; endpoints, etc. Is that true?\r\n\r\nYes it is true, but you also can create Spring beans like @Service or @Component for any general functionality\r\n&gt; 2. Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better\r\n&gt; (creating as a component and then injecting it to my Controller)?\r\n\r\nYes you should have Spring bean. It can be Service or Component or any else bean type. I would do with Service.\r\n&gt; 3. There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it\r\n&gt; better than now or using it as a Spring Service?\r\n\r\nDo not use static Util classes if you can. Spring beans (Service and others) are made to replace them with dependency injection.\r\n","title":"Spring Service or Util for a generator class in Java?","body":"<p>Short answer: user Spring Service (or Component) and avoid the use of Util classes with static methods. This way you will live happy life without Tight Coupling and Fragile Code</p>\n<p><a href=\"https://www.geeksforgeeks.org/coupling-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/coupling-in-java/</a></p>\n<p><a href=\"https://stackoverflow.com/a/76304657/4776689\">https://stackoverflow.com/a/76304657/4776689</a></p>\n<p>Regrding your 3 questions:</p>\n<blockquote>\n<ol>\n<li>I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service,\nendpoints, etc. Is that true?</li>\n</ol>\n</blockquote>\n<p>Yes it is true, but you also can create Spring beans like @Service or @Component for any general functionality</p>\n<blockquote>\n<ol start=\"2\">\n<li>Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better\n(creating as a component and then injecting it to my Controller)?</li>\n</ol>\n</blockquote>\n<p>Yes you should have Spring bean. It can be Service or Component or any else bean type. I would do with Service.</p>\n<blockquote>\n<ol start=\"3\">\n<li>There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it\nbetter than now or using it as a Spring Service?</li>\n</ol>\n</blockquote>\n<p>Do not use static Util classes if you can. Spring beans (Service and others) are made to replace them with dependency injection.</p>\n"}],"owner":{"display_name":"user17676679"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684756973,"creation_date":1639856058,"question_id":70406499,"body_markdown":"I have barcode generator methods that I call from Controller in my Java (Spring Boot) project. The generator class is as shown below:\r\n\r\n```\r\n@Component\r\n@NoArgsConstructor\r\npublic class QRCodeGenerator {\r\n    private static final int LABEL_X_POS = 45;\r\n    private static final int LABEL_Y_POS = 20;\r\n\r\n    @Value(&quot;${qr-code.margin}&quot;)\r\n    private int margin;\r\n\r\n    @Value(&quot;${qr-code.fontSize}&quot;)\r\n    private int fontSize;\r\n\r\n    public ResponseEntity&lt;Resource&gt; getQRCode(String data) throws IOException {\r\n        \r\n        // code omitted for brevity\r\n        \r\n        addLabel(image, label);        \r\n        final ByteArrayResource resource = new ByteArrayResource(toByteArray(image));\r\n        return ResponseEntity.ok().body(resource);\r\n    }\r\n\r\n    private static byte[] toByteArray(BufferedImage image) throws IOException {\r\n        // code omitted for brevity\r\n    }\r\n\r\n    private void addLabel(BufferedImage source, String text) {\r\n        int x = LABEL_X_POS;\r\n        int y = LABEL_Y_POS;\r\n        // code omitted for brevity\r\n    }\r\n}\r\n```\r\n\r\nFirst I started to use this class as static, but then I removed static to read the data in `application.yml` properly. \r\n\r\nHere is some points that I need to be clarified:\r\n\r\n**1.** I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service, endpoints, etc. Is that true? \r\n\r\n**2.** Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better (creating as a component and then injecting it to my Controller)?\r\n\r\n**3.** There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it better than now or using it as a Spring Service? \r\n\r\n\r\n\r\n\r\n","title":"Spring Service or Util for a generator class in Java?","body":"<p>I have barcode generator methods that I call from Controller in my Java (Spring Boot) project. The generator class is as shown below:</p>\n<pre><code>@Component\n@NoArgsConstructor\npublic class QRCodeGenerator {\n    private static final int LABEL_X_POS = 45;\n    private static final int LABEL_Y_POS = 20;\n\n    @Value(&quot;${qr-code.margin}&quot;)\n    private int margin;\n\n    @Value(&quot;${qr-code.fontSize}&quot;)\n    private int fontSize;\n\n    public ResponseEntity&lt;Resource&gt; getQRCode(String data) throws IOException {\n        \n        // code omitted for brevity\n        \n        addLabel(image, label);        \n        final ByteArrayResource resource = new ByteArrayResource(toByteArray(image));\n        return ResponseEntity.ok().body(resource);\n    }\n\n    private static byte[] toByteArray(BufferedImage image) throws IOException {\n        // code omitted for brevity\n    }\n\n    private void addLabel(BufferedImage source, String text) {\n        int x = LABEL_X_POS;\n        int y = LABEL_Y_POS;\n        // code omitted for brevity\n    }\n}\n</code></pre>\n<p>First I started to use this class as static, but then I removed static to read the data in <code>application.yml</code> properly.</p>\n<p>Here is some points that I need to be clarified:</p>\n<p><strong>1.</strong> I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service, endpoints, etc. Is that true?</p>\n<p><strong>2.</strong> Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better (creating as a component and then injecting it to my Controller)?</p>\n<p><strong>3.</strong> There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it better than now or using it as a Spring Service?</p>\n"},{"tags":["java","spring-boot","gradle","liquibase","liquibase-hibernate"],"owner":{"account_id":4923571,"reputation":459,"user_id":3965471,"accept_rate":83,"display_name":"Muhammad Danish Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684756179,"creation_date":1684747422,"question_id":76304717,"body_markdown":"I&#39;m getting the following error When I try to run Liquibase \r\n**diff** and **diffChangeLog**. \r\n\r\nThe fun part is When I try to run ./gradlew update -PrunList=&#39;localEnv&#39;\r\n**It runs without any issues**. \r\nThe same goes for if I **run the application, it runs successfully** and I can do the crud operations.\r\n\r\nThe issue is specifically in **diffChangeLog**\r\n\r\nFollowing are my configurations in build.gradle file.\r\n\r\n   \r\n    plugins {\r\n    id &#39;maven-publish&#39;\r\n    alias(libs.plugins.liquibase)\r\n    }\r\n\r\n    project.ext {\r\n    // Local Env DB\r\n    liquibaseLocalEnvUrl = &quot;jdbc:postgresql://localhost:5432/demo&quot;\r\n    liquibaseLocalEnvUsername = &quot;postgres&quot;\r\n    liquibaseLocalEnvPassword = &quot;admin&quot;\r\n    diffLogLocalEnvChangelogFile = &quot;$projectDir/src/main/resources/config/liquibase/changelog/prod/&quot; + new Date().format(&quot;yyyyMMddHHmmss&quot;) + &quot;_changelog_generated.yml&quot; as GStringImpl\r\n    }\r\n\r\n    liquibase {\r\n    activities {\r\n        localEnv {\r\n            driver &quot;org.postgresql.Driver&quot;\r\n\r\n            url project.ext.liquibaseLocalEnvUrl\r\n\r\n            username project.ext.liquibaseLocalEnvUsername\r\n            password project.ext.liquibaseLocalEnvPassword\r\n\r\n            changelogFile &quot;master-prod.yml&quot;\r\n\r\n            defaultSchemaName &quot;demo&quot;\r\n            logLevel &quot;debug&quot;\r\n            classpath &quot;$projectDir/src/main/resources/config/liquibase/&quot;\r\n        }\r\n\r\n        diffLogLocal {\r\n            driver &#39;org.postgresql.Driver&#39;\r\n            url project.ext.liquibaseLocalEnvUrl\r\n            username project.ext.liquibaseLocalEnvUsername\r\n            password project.ext.liquibaseLocalEnvPassword\r\n            changelogFile project.ext.diffLogLocalEnvChangelogFile\r\n            referenceUrl &quot;hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\r\n            defaultSchemaName &quot;demo&quot;\r\n            logLevel &quot;debug&quot;\r\n            classpath &quot;$buildDir/classes/java/main&quot;\r\n        }\r\n    }\r\n\r\n    runList = project.ext.runList\r\n    }\r\n\r\n\r\n     diff.dependsOn compileJava\r\n     diffChangelog.dependsOn compileJava\r\n     generateChangelog.dependsOn compileJava\r\n\r\n \r\n     dependencies {\r\n\r\n    // Liquibase plugin config\r\n    liquibaseRuntime(libs.sdwan.core)\r\n    liquibaseRuntime(libs.sdwan.data)\r\n    liquibaseRuntime(libs.liquibase.hibernate5)\r\n    liquibaseRuntime(libs.spring.boot.starter.data.jpa)\r\n    liquibaseRuntime(libs.postgresql)\r\n    liquibaseRuntime(libs.liquibase.core)\r\n    liquibaseRuntime(libs.liquibase.groovyDsl)\r\n    liquibaseRuntime(libs.picocli)\r\n    liquibaseRuntime(libs.snakeyaml)\r\n    liquibaseRuntime(sourceSets.main.output)\r\n    }\r\n\r\n\r\nall the dependencies are defined in catalog version file. **libs.versions.toml**\r\n\r\n\r\n**Toml File:**\r\n\r\n    [versions]\r\n    liquibaseCore = &quot;4.22.0&quot;\r\n    liquibaseGroovyDsl = &quot;3.0.3&quot;\r\n    liquibaseHibernate5 = &quot;4.22.0&quot;\r\n    picocli = &quot;4.7.3&quot;\r\n    snakeyaml = &quot;2.0&quot;\r\n    .............................\r\n\r\n    [libraries]\r\n    # Liquibase\r\n    liquibase-core = { module = &quot;org.liquibase:liquibase-core&quot;, version.ref = &quot;liquibaseCore&quot; }\r\n    liquibase-groovyDsl = { module = &quot;org.liquibase:liquibase-groovy-dsl&quot;, version.ref = &quot;liquibaseGroovyDsl&quot; }\r\n    liquibase-hibernate5 = { module = &quot;org.liquibase.ext:liquibase-hibernate5&quot;, version.ref = &quot;liquibaseHibernate5&quot; }\r\n    snakeyaml = { module = &quot;org.yaml:snakeyaml&quot;, version.ref = &quot;snakeyaml&quot; }\r\n    picocli = { module = &quot;info.picocli:picocli&quot;, version.ref = &quot;picocli&quot; }\r\n    postgresql = { module = &quot;org.postgresql:postgresql&quot;, version=&#39;42.6.0&#39;}\r\n    spring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;}\r\n\r\n\r\nI have omitted some libraries to keep it simple.\r\n\r\nBefore Error Logs:\r\n**DB Connection:**\r\n\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Properties:\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Key:&#39;password&#39; Value:&#39;**********&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Key:&#39;user&#39; Value:&#39;postgres&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the URL:&#39;jdbc:postgresql://localhost:5432/demo&#39; using driver:&#39;org.postgresql.Driver&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.servicelocator] Loaded liquibase.database.DatabaseConnection instance liquibase.database.jvm.JdbcConnection\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connected to postgres@jdbc:postgresql://localhost:5432/demo\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Setting auto commit to false from true\r\n\r\n**Hibernate Logs:**\r\n\r\n    [2023-05-22 13:54:32] FINE [liquibase.command] Executing internal command referenceDbUrlConnectionCommandStep\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Properties:\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the \r\n    URL:&#39;hibernate:spring:com.craas? hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&#39; using driver:&#39;liquibase.ext.hibernate.database.connection.HibernateDriver&#39;\r\n    [2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\r\n    [2023-05-22 13:54:32] FINE [liquibase.ext] Connected to null@hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n    [2023-05-22 13:54:32] FINE [liquibase.ext] Not adjusting the auto commit mode; it is already false\r\n    [2023-05-22 13:54:32] INFO [liquibase.ext] Reading hibernate configuration hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n    [2023-05-22 13:54:33] INFO [liquibase.ext] Found package com.craas\r\n\r\n\r\n\r\n**Full Exception**\r\n\r\n    13:54:33.587 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.\r\n    13:54:33.592 [main] INFO org.hibernate.service.internal.AbstractServiceRegistryImpl - HHH000369: Error stopping service [class org.hibernate.hikaricp.internal.HikariCPConnectionProvider]\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.zaxxer.hikari.HikariDataSource.close()&quot; because &quot;this.hds&quot; is null\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.stop(HikariCPConnectionProvider.java:122)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:399)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.cleanup(EntityManagerFactoryBuilderImpl.java:1449)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1508)\r\n        at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\r\n        at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\r\n        at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:212)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\r\n        at picocli.CommandLine.access$1500(CommandLine.java:148)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n        at picocli.CommandLine.execute(CommandLine.java:2170)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\r\n\r\n    13:54:33.593 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\r\n    [2023-05-22 13:54:33] INFO [liquibase.command] Command execution complete\r\n    [2023-05-22 13:54:33] SEVERE [liquibase.integration] Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    - Caused by: dataSource or dataSourceClassName or jdbcUrl is required.\r\n    liquibase.exception.CommandExecutionException: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:235)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\r\n        at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\r\n        at picocli.CommandLine.access$1500(CommandLine.java:148)\r\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\r\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\r\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\r\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\r\n        at picocli.CommandLine.execute(CommandLine.java:2170)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\r\n        at liquibase.Scope.child(Scope.java:203)\r\n        at liquibase.Scope.child(Scope.java:179)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\r\n        at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\r\n     Caused by: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:107)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\r\n        at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\r\n        at liquibase.command.CommandScope.execute(CommandScope.java:212)\r\n        ... 18 more\r\n\r\n     Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n        at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\r\n        at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\r\n        at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\r\n        at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\r\n        at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\r\n        ... 21 more\r\n     Caused by: org.hibernate.HibernateException: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:255)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\r\n        ... 37 more\r\n     Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n        at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:77)\r\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\r\n        ... 45 more\r\n","title":"Liquibase (diff and diffChangeLog) dataSource or dataSourceClassName or jdbcUrl is required","body":"<p>I'm getting the following error When I try to run Liquibase\n<strong>diff</strong> and <strong>diffChangeLog</strong>.</p>\n<p>The fun part is When I try to run ./gradlew update -PrunList='localEnv'\n<strong>It runs without any issues</strong>.\nThe same goes for if I <strong>run the application, it runs successfully</strong> and I can do the crud operations.</p>\n<p>The issue is specifically in <strong>diffChangeLog</strong></p>\n<p>Following are my configurations in build.gradle file.</p>\n<pre><code>plugins {\nid 'maven-publish'\nalias(libs.plugins.liquibase)\n}\n\nproject.ext {\n// Local Env DB\nliquibaseLocalEnvUrl = &quot;jdbc:postgresql://localhost:5432/demo&quot;\nliquibaseLocalEnvUsername = &quot;postgres&quot;\nliquibaseLocalEnvPassword = &quot;admin&quot;\ndiffLogLocalEnvChangelogFile = &quot;$projectDir/src/main/resources/config/liquibase/changelog/prod/&quot; + new Date().format(&quot;yyyyMMddHHmmss&quot;) + &quot;_changelog_generated.yml&quot; as GStringImpl\n}\n\nliquibase {\nactivities {\n    localEnv {\n        driver &quot;org.postgresql.Driver&quot;\n\n        url project.ext.liquibaseLocalEnvUrl\n\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n\n        changelogFile &quot;master-prod.yml&quot;\n\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$projectDir/src/main/resources/config/liquibase/&quot;\n    }\n\n    diffLogLocal {\n        driver 'org.postgresql.Driver'\n        url project.ext.liquibaseLocalEnvUrl\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n        changelogFile project.ext.diffLogLocalEnvChangelogFile\n        referenceUrl &quot;hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$buildDir/classes/java/main&quot;\n    }\n}\n\nrunList = project.ext.runList\n}\n\n\n diff.dependsOn compileJava\n diffChangelog.dependsOn compileJava\n generateChangelog.dependsOn compileJava\n\n\n dependencies {\n\n// Liquibase plugin config\nliquibaseRuntime(libs.sdwan.core)\nliquibaseRuntime(libs.sdwan.data)\nliquibaseRuntime(libs.liquibase.hibernate5)\nliquibaseRuntime(libs.spring.boot.starter.data.jpa)\nliquibaseRuntime(libs.postgresql)\nliquibaseRuntime(libs.liquibase.core)\nliquibaseRuntime(libs.liquibase.groovyDsl)\nliquibaseRuntime(libs.picocli)\nliquibaseRuntime(libs.snakeyaml)\nliquibaseRuntime(sourceSets.main.output)\n}\n</code></pre>\n<p>all the dependencies are defined in catalog version file. <strong>libs.versions.toml</strong></p>\n<p><strong>Toml File:</strong></p>\n<pre><code>[versions]\nliquibaseCore = &quot;4.22.0&quot;\nliquibaseGroovyDsl = &quot;3.0.3&quot;\nliquibaseHibernate5 = &quot;4.22.0&quot;\npicocli = &quot;4.7.3&quot;\nsnakeyaml = &quot;2.0&quot;\n.............................\n\n[libraries]\n# Liquibase\nliquibase-core = { module = &quot;org.liquibase:liquibase-core&quot;, version.ref = &quot;liquibaseCore&quot; }\nliquibase-groovyDsl = { module = &quot;org.liquibase:liquibase-groovy-dsl&quot;, version.ref = &quot;liquibaseGroovyDsl&quot; }\nliquibase-hibernate5 = { module = &quot;org.liquibase.ext:liquibase-hibernate5&quot;, version.ref = &quot;liquibaseHibernate5&quot; }\nsnakeyaml = { module = &quot;org.yaml:snakeyaml&quot;, version.ref = &quot;snakeyaml&quot; }\npicocli = { module = &quot;info.picocli:picocli&quot;, version.ref = &quot;picocli&quot; }\npostgresql = { module = &quot;org.postgresql:postgresql&quot;, version='42.6.0'}\nspring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;}\n</code></pre>\n<p>I have omitted some libraries to keep it simple.</p>\n<p>Before Error Logs:\n<strong>DB Connection:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'password' Value:'**********'\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'user' Value:'postgres'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the URL:'jdbc:postgresql://localhost:5432/demo' using driver:'org.postgresql.Driver'\n[2023-05-22 13:54:32] FINE [liquibase.servicelocator] Loaded liquibase.database.DatabaseConnection instance liquibase.database.jvm.JdbcConnection\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.database] Connected to postgres@jdbc:postgresql://localhost:5432/demo\n[2023-05-22 13:54:32] FINE [liquibase.database] Setting auto commit to false from true\n</code></pre>\n<p><strong>Hibernate Logs:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.command] Executing internal command referenceDbUrlConnectionCommandStep\n[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the \nURL:'hibernate:spring:com.craas? hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy' using driver:'liquibase.ext.hibernate.database.connection.HibernateDriver'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.ext] Connected to null@hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:32] FINE [liquibase.ext] Not adjusting the auto commit mode; it is already false\n[2023-05-22 13:54:32] INFO [liquibase.ext] Reading hibernate configuration hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:33] INFO [liquibase.ext] Found package com.craas\n</code></pre>\n<p><strong>Full Exception</strong></p>\n<pre><code>13:54:33.587 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.\n13:54:33.592 [main] INFO org.hibernate.service.internal.AbstractServiceRegistryImpl - HHH000369: Error stopping service [class org.hibernate.hikaricp.internal.HikariCPConnectionProvider]\njava.lang.NullPointerException: Cannot invoke &quot;com.zaxxer.hikari.HikariDataSource.close()&quot; because &quot;this.hds&quot; is null\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.stop(HikariCPConnectionProvider.java:122)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:399)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.cleanup(EntityManagerFactoryBuilderImpl.java:1449)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1508)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n\n13:54:33.593 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\n[2023-05-22 13:54:33] INFO [liquibase.command] Command execution complete\n[2023-05-22 13:54:33] SEVERE [liquibase.integration] Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n- Caused by: dataSource or dataSourceClassName or jdbcUrl is required.\nliquibase.exception.CommandExecutionException: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.CommandScope.execute(CommandScope.java:235)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n Caused by: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:107)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    ... 18 more\n\n Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    ... 21 more\n Caused by: org.hibernate.HibernateException: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:255)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\n    ... 37 more\n Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:77)\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\n    ... 45 more\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":18129699,"reputation":296,"user_id":13184919,"display_name":"M&#225;t&#233; Tős&#233;r"},"score":1,"creation_date":1684755025,"post_id":76305603,"comment_id":134558287,"body_markdown":"I think because you want to println the whole list of multilingualTemplates it calls the toString method, which calls the LAZY annotated ShemeCode, and it gets into a loop. Try to println for example the first element&#39;s templateCode of the multilingualTemplates and see if the problem still there. For example `System.out.println(schemeCode.getMultilingualTemplates().get(0).getTemplateCode());`","body":"I think because you want to println the whole list of multilingualTemplates it calls the toString method, which calls the LAZY annotated ShemeCode, and it gets into a loop. Try to println for example the first element&#39;s templateCode of the multilingualTemplates and see if the problem still there. For example <code>System.out.println(schemeCode.getMultilingualTemplates().get&zwnj;&#8203;(0).getTemplateCode(&zwnj;&#8203;));</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684756039,"post_id":76305603,"comment_id":134558493,"body_markdown":"Don&#39;t use `@Data` with entities (and `@ToString`/`@EqualsAndHashcode` for that matter). It will lead to these kinds of issues as it will generate a `toString` (and friednds) including **all fields** of your entites. Now you have a bi directional relationship going back and for. So 1 will call `toString`, leading to the other calling `toString`, leading to 1 will call `toString` and so on and on.... See https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/ for more detailed description.","body":"Don&#39;t use <code>@Data</code> with entities (and <code>@ToString</code>/<code>@EqualsAndHashcode</code> for that matter). It will lead to these kinds of issues as it will generate a <code>toString</code> (and friednds) including <b>all fields</b> of your entites. Now you have a bi directional relationship going back and for. So 1 will call <code>toString</code>, leading to the other calling <code>toString</code>, leading to 1 will call <code>toString</code> and so on and on.... See <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a> for more detailed description."}],"answers":[{"tags":[],"owner":{"account_id":5430343,"reputation":131,"user_id":4321414,"display_name":"Julien Antony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684755671,"creation_date":1684755485,"answer_id":76305780,"question_id":76305603,"body_markdown":"The recursion is caused by @ToString lombok annotation and the two way reference. The generated toString methods are unaware of any @JsonManagedReference (which is for jackson serialization)\r\n\r\nThere is no such equivalent as `@JsonBackReference`, but you could annotate the field with `@ToString.Exclude`\r\n\r\n```java\r\n@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JsonBackReference\r\n@ToString.Exclude\r\nList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\r\n```","title":"Jpa bidirectional many to one mapping going into infinite loop even with @JsonManagedReference","body":"<p>The recursion is caused by @ToString lombok annotation and the two way reference. The generated toString methods are unaware of any @JsonManagedReference (which is for jackson serialization)</p>\n<p>There is no such equivalent as <code>@JsonBackReference</code>, but you could annotate the field with <code>@ToString.Exclude</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonBackReference\n@ToString.Exclude\nList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n</code></pre>\n"}],"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76305780,"answer_count":1,"score":0,"last_activity_date":1684755671,"creation_date":1684754208,"question_id":76305603,"body_markdown":"I am using JPA with oracle databases and need to implement a bidirectional one to many and many to one mapping for the tables scheme_code_template and multilingual_template_v2 respectively.\r\n\r\n\r\n**MultilingualTemplateV2 Entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;multilingual_template_v2&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @ToString\r\n    public class MultilingualTemplateV2 {\r\n    \r\n    \t\r\n    \t@NotNull()\r\n    \tString language;\r\n    \t\r\n    \t\r\n    \t@NotNull()\r\n    \t@Nationalized\r\n    \tString template;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;template_code&quot;)\r\n    \t@NotNull()\r\n    \tString templateCode;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;associated_schemecode&quot;)\r\n    \t@JsonManagedReference\r\n    \tSchemeCode schemeCode;\r\n    }\r\n\r\n\r\n**SchemeCode Entity**\r\n\r\n    @Entity\r\n    @Table(name = &quot;scheme_code_templates&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @ToString\r\n    public class SchemeCode {\r\n    \r\n    \t\r\n    \t@Column(name=&quot;associated_pushcode&quot;)\r\n    \tInteger associatedPushcode;\r\n    \t\r\n    \t@NotNull\r\n    \tString description;\r\n    \t\t\r\n    \t@Id\r\n    \t@NotNull()\r\n    \tString schemeCode;\r\n    \t\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    \t@JsonBackReference\r\n    \tList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\r\n    }\r\n\r\n\r\n\r\ndatabase:\r\n\r\nbelow is scheme_code_templates. It has the scheme_code as primary key which is used as the foreign key in multilingual_template_v2 table\r\n\r\n    Name                Null?    Type          \r\n    ------------------- -------- ------------- \r\n    ASSOCIATED_PUSHCODE          NUMBER        \r\n    SCHEME_CODE         NOT NULL VARCHAR2(6)   \r\n    DESCRIPTION         NOT NULL VARCHAR2(200)\r\n\r\n\r\n\r\nbelow is multilingual_template_v2 . It has the ASSOCIATED_SCHEMECODE as foreign key referencing the scheme_code in scheme_code_templates. Template_code is the primary key.\r\n\r\n    Name                  Null?    Type         \r\n    --------------------- -------- ------------ \r\n    ASSOCIATED_SCHEMECODE          VARCHAR2(6)  \r\n    TEMPLATE_CODE         NOT NULL VARCHAR2(9)  \r\n    LANGUAGE              NOT NULL VARCHAR2(30) \r\n    TEMPLATE              NOT NULL NCLOB \r\n\r\n\r\n\r\nUsed the below query to set foreign key in multilingual_template_v2\r\n\r\n    ALTER TABLE multilingual_template_v2\r\n    ADD CONSTRAINT fk_scheme_code_templates\r\n      FOREIGN KEY (associated_schemecode)\r\n      REFERENCES scheme_code_templates(scheme_code);\r\n\r\n\r\n\r\n\r\nI have created a JpaRepository for scheme_code called SchemeCodeRepository through which I am using findAll(). Currently I am getting below error when getMultilingualTemplates() is called. \r\n\r\n    for (SchemeCode schemeCode : schemeRepo.findAll()) {\r\n    \t\t\tSystem.out.println(schemeCode.getMultilingualTemplates());\r\n    \t\t}\r\n\r\n\r\n**Error**\r\n\r\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\r\n    \tat org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n    \tat java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\r\n    \tat com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\r\n    \tat java.lang.String.valueOf(String.java:4218) ~[?:?]\r\n\r\n\r\n\r\n\r\nAny help or suggestion is greatly appreciated.","title":"Jpa bidirectional many to one mapping going into infinite loop even with @JsonManagedReference","body":"<p>I am using JPA with oracle databases and need to implement a bidirectional one to many and many to one mapping for the tables scheme_code_template and multilingual_template_v2 respectively.</p>\n<p><strong>MultilingualTemplateV2 Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;multilingual_template_v2&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class MultilingualTemplateV2 {\n\n    \n    @NotNull()\n    String language;\n    \n    \n    @NotNull()\n    @Nationalized\n    String template;\n    \n    @Id\n    @Column(name=&quot;template_code&quot;)\n    @NotNull()\n    String templateCode;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;associated_schemecode&quot;)\n    @JsonManagedReference\n    SchemeCode schemeCode;\n}\n</code></pre>\n<p><strong>SchemeCode Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;scheme_code_templates&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class SchemeCode {\n\n    \n    @Column(name=&quot;associated_pushcode&quot;)\n    Integer associatedPushcode;\n    \n    @NotNull\n    String description;\n        \n    @Id\n    @NotNull()\n    String schemeCode;\n    \n    \n    @OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JsonBackReference\n    List&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n}\n</code></pre>\n<p>database:</p>\n<p>below is scheme_code_templates. It has the scheme_code as primary key which is used as the foreign key in multilingual_template_v2 table</p>\n<pre><code>Name                Null?    Type          \n------------------- -------- ------------- \nASSOCIATED_PUSHCODE          NUMBER        \nSCHEME_CODE         NOT NULL VARCHAR2(6)   \nDESCRIPTION         NOT NULL VARCHAR2(200)\n</code></pre>\n<p>below is multilingual_template_v2 . It has the ASSOCIATED_SCHEMECODE as foreign key referencing the scheme_code in scheme_code_templates. Template_code is the primary key.</p>\n<pre><code>Name                  Null?    Type         \n--------------------- -------- ------------ \nASSOCIATED_SCHEMECODE          VARCHAR2(6)  \nTEMPLATE_CODE         NOT NULL VARCHAR2(9)  \nLANGUAGE              NOT NULL VARCHAR2(30) \nTEMPLATE              NOT NULL NCLOB \n</code></pre>\n<p>Used the below query to set foreign key in multilingual_template_v2</p>\n<pre><code>ALTER TABLE multilingual_template_v2\nADD CONSTRAINT fk_scheme_code_templates\n  FOREIGN KEY (associated_schemecode)\n  REFERENCES scheme_code_templates(scheme_code);\n</code></pre>\n<p>I have created a JpaRepository for scheme_code called SchemeCodeRepository through which I am using findAll(). Currently I am getting below error when getMultilingualTemplates() is called.</p>\n<pre><code>for (SchemeCode schemeCode : schemeRepo.findAll()) {\n            System.out.println(schemeCode.getMultilingualTemplates());\n        }\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n</code></pre>\n<p>Any help or suggestion is greatly appreciated.</p>\n"},{"tags":["java","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1499184722,"post_id":44905546,"comment_id":76797397,"body_markdown":"Why doesn&#39;t the cache annotation work?  For invalidating the cache, see https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Expiration and https://www.eclipse.org/eclipselink/documentation/2.5/concepts/cache006.htm","body":"Why doesn&#39;t the cache annotation work?  For invalidating the cache, see <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Expiration\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> and <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/concepts/cache006.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.5/concepts/cache006.&zwnj;&#8203;htm</a>"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1499261616,"post_id":44905546,"comment_id":76831008,"body_markdown":"The reason why the annotation doens&#39;t work is related to my IDE (netbeans). Importing the package `javax.persistence.Cache` I got an incompatible type error. I have to import the right package (org.eclipse.persistence.annotations). Anyway, the cache annotation is not the solution I am looking for. I need a global one. Is there any? Thanks","body":"The reason why the annotation doens&#39;t work is related to my IDE (netbeans). Importing the package <code>javax.persistence.Cache</code> I got an incompatible type error. I have to import the right package (org.eclipse.persistence.annotations). Anyway, the cache annotation is not the solution I am looking for. I need a global one. Is there any? Thanks"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1499263422,"post_id":44905546,"comment_id":76832372,"body_markdown":"What do you mean by global - invalidation only applies to the shared cache, at the EMF level.  If you have more than one application running, you can look into cache coordination, which would allow each application to listen for events.  See https://www.eclipse.org/eclipselink/documentation/2.6/concepts/cache010.htm","body":"What do you mean by global - invalidation only applies to the shared cache, at the EMF level.  If you have more than one application running, you can look into cache coordination, which would allow each application to listen for events.  See <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/concepts/cache010.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.6/concepts/cache010.&zwnj;&#8203;htm</a>"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1499265151,"post_id":44905546,"comment_id":76833783,"body_markdown":"I understand, so I have to change every entity or better have them all extending a superclass where I define the cache strategy which will be inherited. The document is very interesting. I&#39;ll need some time to dive in. Thanks Chris.","body":"I understand, so I have to change every entity or better have them all extending a superclass where I define the cache strategy which will be inherited. The document is very interesting. I&#39;ll need some time to dive in. Thanks Chris."}],"answers":[{"tags":[],"owner":{"account_id":12993243,"reputation":152,"user_id":9391811,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520505979,"creation_date":1520505979,"answer_id":49171220,"question_id":44905546,"body_markdown":"First level cache is enabled by default and you can not disable it. i.e. no settings in your persistence.xml file will disable first level cache.\r\n\r\nYou can only clear out all the entity manager objects by calling \r\n\r\n    entityManager.clear()\r\n\r\nthis will make subsequent queries go to the database (the first time) and then objects are again stored in the cache\r\n\r\nIn your case you would need to store your entitymanager objects in a register somewhere and have a loop through it every 3 hours to call the clear() function.\r\n\r\nYou can force each query to go to the database directly by calling \r\n\r\n    query.setHint(&quot;javax.persistence.cache.storeMode&quot;, CacheStoreMode.REFRESH);\r\n","title":"How to clear / refresh the cache in EclipseLink","body":"<p>First level cache is enabled by default and you can not disable it. i.e. no settings in your persistence.xml file will disable first level cache.</p>\n\n<p>You can only clear out all the entity manager objects by calling </p>\n\n<pre><code>entityManager.clear()\n</code></pre>\n\n<p>this will make subsequent queries go to the database (the first time) and then objects are again stored in the cache</p>\n\n<p>In your case you would need to store your entitymanager objects in a register somewhere and have a loop through it every 3 hours to call the clear() function.</p>\n\n<p>You can force each query to go to the database directly by calling </p>\n\n<pre><code>query.setHint(\"javax.persistence.cache.storeMode\", CacheStoreMode.REFRESH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20645,"reputation":5548,"user_id":49548,"accept_rate":94,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684755586,"creation_date":1684755586,"answer_id":76305793,"question_id":44905546,"body_markdown":"You can clear Eclipselink&#39;s second level cache by accessing the `Cache` object in the `EntityManagerFactory`:\r\n\r\n\r\n```java\r\nentityManager.getEntityManagerFactory().getCache().evictAll();\r\n``` ","title":"How to clear / refresh the cache in EclipseLink","body":"<p>You can clear Eclipselink's second level cache by accessing the <code>Cache</code> object in the <code>EntityManagerFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.getEntityManagerFactory().getCache().evictAll();\n</code></pre>\n"}],"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684755586,"creation_date":1499169899,"question_id":44905546,"body_markdown":"I&#39;m using following settings in persistence.xml (I use Eclipselink 2.6.4) from my web application:\r\n\r\n    &lt;properties&gt; \r\n        &lt;property name=&quot;eclipselink.jdbc.cache-statements&quot; value=&quot;true&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.cache.query-results&quot; value=&quot;true&quot; /&gt; \r\n        &lt;property name=&quot;eclipselink.ddl-generation.index-foreign-keys&quot; value=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;OFF&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.close-on-commit&quot; value=&quot;true&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.flush-mode&quot; value=&quot;commit&quot; /&gt;        \r\n        &lt;property name=&quot;eclipselink.persistence-context.persist-on-commit&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/properties&gt;\r\nI&#39;m using the `@Cacheable(false)` annotation to prevent some entities from being cached. &lt;br&gt; \r\nThe `@Cache` annotation doesn&#39;t work any more in version 2.6.4. &lt;br&gt; \r\nMy question is, is there a possibility to clear the cache globally? Let say every 3 hours? &lt;br&gt;\r\nThanks","title":"How to clear / refresh the cache in EclipseLink","body":"<p>I'm using following settings in persistence.xml (I use Eclipselink 2.6.4) from my web application:</p>\n\n<pre><code>&lt;properties&gt; \n    &lt;property name=\"eclipselink.jdbc.cache-statements\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.cache.query-results\" value=\"true\" /&gt; \n    &lt;property name=\"eclipselink.ddl-generation.index-foreign-keys\" value=\"true\" /&gt;\n    &lt;property name=\"eclipselink.logging.level\" value=\"OFF\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.close-on-commit\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.flush-mode\" value=\"commit\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.persist-on-commit\" value=\"false\" /&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I'm using the <code>@Cacheable(false)</code> annotation to prevent some entities from being cached. <br> \nThe <code>@Cache</code> annotation doesn't work any more in version 2.6.4. <br> \nMy question is, is there a possibility to clear the cache globally? Let say every 3 hours? <br>\nThanks</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1684756302,"post_id":76305394,"comment_id":134558545,"body_markdown":"Does this answer your question? [Issues were found when checking AAR metadata: androidx.core:core:1.12.0-alpha01 and androidx.core:core-ktx:1.12.0-alpha01](https://stackoverflow.com/questions/75684382/issues-were-found-when-checking-aar-metadata-androidx-corecore1-12-0-alpha01)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75684382/issues-were-found-when-checking-aar-metadata-androidx-corecore1-12-0-alpha01\">Issues were found when checking AAR metadata: androidx.core:core:1.12.0-alpha01 and androidx.core:core-ktx:1.12.0-alpha01</a>"},{"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"score":0,"creation_date":1684756457,"post_id":76305394,"comment_id":134558578,"body_markdown":"I tried all the methods out there but it didn&#39;t work","body":"I tried all the methods out there but it didn&#39;t work"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1684756797,"post_id":76305394,"comment_id":134558657,"body_markdown":"You should check this url: https://developer.android.com/about/versions/14/setup-sdk","body":"You should check this url: <a href=\"https://developer.android.com/about/versions/14/setup-sdk\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/14/setup-sdk</a>"},{"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"score":0,"creation_date":1684757974,"post_id":76305394,"comment_id":134558937,"body_markdown":"i did and the error is For input string: &quot;UpsideDownCake&quot;","body":"i did and the error is For input string: &quot;UpsideDownCake&quot;"},{"owner":{"account_id":18059881,"reputation":111,"user_id":14193948,"display_name":"Aakash Kumar"},"score":0,"creation_date":1686159199,"post_id":76305394,"comment_id":134762220,"body_markdown":"i have getting the same issue  when i am using \n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39; then i fixed with      implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;","body":"i have getting the same issue  when i am using      implementation &#39;androidx.appcompat:appcompat:1.6.1&#39; then i fixed with      implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;"}],"owner":{"account_id":21208932,"reputation":1,"user_id":15597974,"display_name":"Yıldırım Beyazid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684755336,"creation_date":1684752400,"question_id":76305394,"body_markdown":"2 issues were found when checking AAR metadata:\r\n\r\n  1.  Dependency &#39;androidx.core:core:1.12.0-alpha04&#39; requires libraries and applications that\r\n      depend on it to compile against codename &quot;UpsideDownCake&quot; of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Recommended action: Use a different version of dependency &#39;androidx.core:core:1.12.0-alpha04&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n\r\n  2.  Dependency &#39;androidx.core:core-ktx:1.12.0-alpha04&#39; requires libraries and applications that\r\n      depend on it to compile against codename &quot;UpsideDownCake&quot; of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Recommended action: Use a different version of dependency &#39;androidx.core:core-ktx:1.12.0-alpha04&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n\r\n\r\nI get this error when I want to run android project\r\n\r\n```gradle\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    //id &#39;com.google.gms.google-services&#39; // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.softr.tiktokdownloader&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;2.0.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    dataBinding {\r\n        enabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation project(path: &#39;:jcplayer&#39;)\r\n    implementation &#39;androidx.core:core-ktx:1.10.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // required to avoid crash on Android 12 API 31\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.8.1&#39;\r\n\r\n    // butterknife\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n\r\n    /*admob*/\r\n    implementation &#39;com.google.android.gms:play-services-ads:19.8.0&#39;\r\n    /*admob open app ad*/\r\n    def lifecycle_version = &quot;2.2.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n\r\n    implementation &#39;com.airbnb.android:lottie:5.2.0&#39;\r\n    implementation &#39;com.infideap.drawerbehavior:drawer-behavior:1.0.4&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n\r\n    implementation &#39;com.github.vimalcvs:Day-Night-Switch:1.0.3&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.polyak:icon-switch:1.0.0&#39;\r\n    //payment\r\n    def billing_version = &quot;4.0.0&quot;\r\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\r\n\r\n    implementation &#39;com.github.chnouman:AwesomeDialog:1.0.5&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:4.9.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.10&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.14.1&#39;\r\n    implementation &#39;com.jackandphantom.android:circularimageview:1.2.0&#39;\r\n    implementation &#39;com.nabinbhandari.android:permissions:3.8&#39;\r\n    implementation &#39;com.github.esafirm:RxDownloader:1.0.1&#39;\r\n    implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    implementation &#39;com.github.HBiSoft:PickiT:0.1.10&#39;\r\n    implementation &#39;com.github.Andy671:Dachshund-Tab-Layout:v0.3.3&#39;\r\n\r\n}\r\n```","title":"Android studio error:Execution failed for task &#39;:app:checkDebugAarMetadata&#39;","body":"<p>2 issues were found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.core:core:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n<li><p>Dependency 'androidx.core:core-ktx:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core-ktx:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n</ol>\n<p>I get this error when I want to run android project</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n    //id 'com.google.gms.google-services' // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.softr.tiktokdownloader&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;2.0.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n}\n\ndependencies {\n\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation project(path: ':jcplayer')\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // required to avoid crash on Android 12 API 31\n    implementation 'androidx.work:work-runtime-ktx:2.8.1'\n\n    // butterknife\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n\n    /*admob*/\n    implementation 'com.google.android.gms:play-services-ads:19.8.0'\n    /*admob open app ad*/\n    def lifecycle_version = &quot;2.2.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    implementation 'com.airbnb.android:lottie:5.2.0'\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.4'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    def multidex_version = &quot;2.0.1&quot;\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n\n    implementation 'com.github.vimalcvs:Day-Night-Switch:1.0.3'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.polyak:icon-switch:1.0.0'\n    //payment\n    def billing_version = &quot;4.0.0&quot;\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\n\n    implementation 'com.github.chnouman:AwesomeDialog:1.0.5'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.1'\n    implementation 'com.google.code.gson:gson:2.10'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.14.1'\n    implementation 'com.jackandphantom.android:circularimageview:1.2.0'\n    implementation 'com.nabinbhandari.android:permissions:3.8'\n    implementation 'com.github.esafirm:RxDownloader:1.0.1'\n    implementation 'io.paperdb:paperdb:2.6'\n    implementation 'com.github.HBiSoft:PickiT:0.1.10'\n    implementation 'com.github.Andy671:Dachshund-Tab-Layout:v0.3.3'\n\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","soap","apache-axis"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684755122,"post_id":76304690,"comment_id":134558302,"body_markdown":"Please go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_. Is this a fresh installation of Eclipse 2023-03?","body":"Please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>. Is this a fresh installation of Eclipse 2023-03?"}],"answers":[{"tags":[],"owner":{"account_id":28229587,"reputation":13,"user_id":21579005,"display_name":"DynComplier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684755176,"creation_date":1684755176,"answer_id":76305738,"question_id":76304690,"body_markdown":"Re-Installed eclipse \r\nissue resolved","title":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03","body":"<p>Re-Installed eclipse\nissue resolved</p>\n"}],"owner":{"account_id":28229587,"reputation":13,"user_id":21579005,"display_name":"DynComplier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684755176,"creation_date":1684747255,"question_id":76304690,"body_markdown":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03.\r\n\r\nRunning: \r\nServer : Apache Tomcat v9.0\r\nJRE : JavaSE 17\r\n\r\n    IWAB0014E Unexpected exception occurred.\r\n      com/ibm/icu/util/StringTokenizer\r\n          java.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\r\n          at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.greaterThan(FacetUtils.java:1279)\r\n          at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getRuntimes(FacetUtils.java:1153)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getRuntimes(WebServiceRuntimeExtensionUtils2.java:2329)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceRuntime(WebServiceRuntimeExtensionUtils2.java:732)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceType(WebServiceRuntimeExtensionUtils2.java:671)\r\n          at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getDefaultServerValueFor(WebServiceRuntimeExtensionUtils2.java:896)\r\n          at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidgetDefaultingCommand.execute(ServerWizardWidgetDefaultingCommand.java:53)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:421)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:361)\r\n          at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:256)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$6.run(SimpleCommandEngineManager.java:296)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:260)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:93)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:156)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:82)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:366)\r\n          at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1265)\r\n          at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:638)\r\n          at org.eclipse.jface.window.Window.create(Window.java:431)\r\n          at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\r\n          at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:128)\r\n          at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:239)\r\n          at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n          at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n          at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n          at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n          at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n          at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n          at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n          at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n          at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n          at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n          at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n          at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n          at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n          at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n          at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n          at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n          at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n          at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n          at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n          at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n          at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n          at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n          at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n          at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n          at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n          at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n          at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\n          Caused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.jst.ws.consumption_1.0.1600.v202302070757\r\n          ... 49 more\r\n\r\n\r\nTried \r\n - import javax.jws.WebService; however the javas.jws is not found.\r\n - Right Clicking on the class &quot;Web Service&quot;-&gt; &quot;create Web service&quot;","title":"How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03","body":"<p>How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03.</p>\n<p>Running:\nServer : Apache Tomcat v9.0\nJRE : JavaSE 17</p>\n<pre><code>IWAB0014E Unexpected exception occurred.\n  com/ibm/icu/util/StringTokenizer\n      java.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.greaterThan(FacetUtils.java:1279)\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getRuntimes(FacetUtils.java:1153)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getRuntimes(WebServiceRuntimeExtensionUtils2.java:2329)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceRuntime(WebServiceRuntimeExtensionUtils2.java:732)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceType(WebServiceRuntimeExtensionUtils2.java:671)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getDefaultServerValueFor(WebServiceRuntimeExtensionUtils2.java:896)\n      at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidgetDefaultingCommand.execute(ServerWizardWidgetDefaultingCommand.java:53)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:421)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:361)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:256)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$6.run(SimpleCommandEngineManager.java:296)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:260)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:93)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:156)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:82)\n      at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:366)\n      at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1265)\n      at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:638)\n      at org.eclipse.jface.window.Window.create(Window.java:431)\n      at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\n      at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:128)\n      at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:239)\n      at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n      at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n      at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n      at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n      at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n      at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n      at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n      at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n      at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n      at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n      at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n      at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n      at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n      Caused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.jst.ws.consumption_1.0.1600.v202302070757\n      ... 49 more\n</code></pre>\n<p>Tried</p>\n<ul>\n<li>import javax.jws.WebService; however the javas.jws is not found.</li>\n<li>Right Clicking on the class &quot;Web Service&quot;-&gt; &quot;create Web service&quot;</li>\n</ul>\n"},{"tags":["java","android","android-edittext","calculator"],"answers":[{"tags":[],"owner":{"account_id":15398031,"reputation":116,"user_id":11108450,"display_name":"Vikalp Vashisth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684752611,"creation_date":1684752611,"answer_id":76305413,"question_id":76305043,"body_markdown":"You can fetch the string that is already present in the EditText and then concatenate the new number present.\r\n\r\nEx: -\r\n\r\n    EditText edt = ((EditText)findViewById(R.id.et_ans));\r\n    Button one_button = findViewById(R.id.one);\r\n         one_button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                      String a=edt.getText().toString();\r\n                      edt.setText(a+ &quot;1&quot;);\r\n                    }\r\n                });\r\n\r\n","title":"Android calculator app frontend: How to allow number inputs using buttons instead of keyboard?","body":"<p>You can fetch the string that is already present in the EditText and then concatenate the new number present.</p>\n<p>Ex: -</p>\n<pre><code>EditText edt = ((EditText)findViewById(R.id.et_ans));\nButton one_button = findViewById(R.id.one);\n     one_button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                  String a=edt.getText().toString();\n                  edt.setText(a+ &quot;1&quot;);\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9543906,"reputation":1239,"user_id":7090806,"display_name":"Rahul Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684754951,"creation_date":1684752750,"answer_id":76305437,"question_id":76305043,"body_markdown":"You can store value in a string variable and when you press a new key you just append that value in your string variable and set this to your editText.\r\nsuppose you create a instance variable like - \r\n\r\n    String myValue = &quot;&quot;;\r\n\r\nand now you press the button having number 1, the logic after you click the button is - \r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        myValue = myValue+&quot;1&quot;;\r\n        ((EditText)findViewById(R.id.et_ans)).setText(myValue);\r\n    }\r\n\r\nHope this will helpful to you.\r\nYou can also use StringBuilder for the same.\r\n\r\n ","title":"Android calculator app frontend: How to allow number inputs using buttons instead of keyboard?","body":"<p>You can store value in a string variable and when you press a new key you just append that value in your string variable and set this to your editText.\nsuppose you create a instance variable like -</p>\n<pre><code>String myValue = &quot;&quot;;\n</code></pre>\n<p>and now you press the button having number 1, the logic after you click the button is -</p>\n<pre><code>@Override\npublic void onClick(View view) {\n    myValue = myValue+&quot;1&quot;;\n    ((EditText)findViewById(R.id.et_ans)).setText(myValue);\n}\n</code></pre>\n<p>Hope this will helpful to you.\nYou can also use StringBuilder for the same.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76305413,"answer_count":2,"score":0,"last_activity_date":1684754951,"creation_date":1684749802,"question_id":76305043,"body_markdown":"We all know how calculator works. I am trying to make a calculator in android studio. The thing is I don&#39;t want the user to use their keyboard to give number inputs, instead the user is gonna use the buttons on the app. The picture shown below-\r\n[![Calculator App Frontend](https://i.stack.imgur.com/QYlQ7.png)](https://i.stack.imgur.com/QYlQ7.png)\r\n\r\nNow the question is how to do this button thing? When user clicks button 1 the edittext should show 1, if pressed 2 then show 2 after the 1 in edittext. I am not having any idea at all. I just want an equation in the edittext like 456+54-56/5 like this. I can probably do the math coding but I can&#39;t have the numbers. And I don&#39;t know how to take input in the edittext other than the keyboard which is not really a calculator thing.\r\n\r\nI couldn&#39;t try anything. I kinda did this-\r\n```\r\nButton C_button = findViewById(R.id.c);\r\n        C_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ((EditText)findViewById(R.id.et_ans)).setText(&quot;0&quot;);\r\n            }\r\n        });\r\n```\r\nBut I know why it doesn&#39;t work, it just simply put the string zero all together in the edittext every time I click the zero button. But not working like the keyboard entry. Can somebody help me with this?","title":"Android calculator app frontend: How to allow number inputs using buttons instead of keyboard?","body":"<p>We all know how calculator works. I am trying to make a calculator in android studio. The thing is I don't want the user to use their keyboard to give number inputs, instead the user is gonna use the buttons on the app. The picture shown below-\n<a href=\"https://i.stack.imgur.com/QYlQ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYlQ7.png\" alt=\"Calculator App Frontend\" /></a></p>\n<p>Now the question is how to do this button thing? When user clicks button 1 the edittext should show 1, if pressed 2 then show 2 after the 1 in edittext. I am not having any idea at all. I just want an equation in the edittext like 456+54-56/5 like this. I can probably do the math coding but I can't have the numbers. And I don't know how to take input in the edittext other than the keyboard which is not really a calculator thing.</p>\n<p>I couldn't try anything. I kinda did this-</p>\n<pre><code>Button C_button = findViewById(R.id.c);\n        C_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                ((EditText)findViewById(R.id.et_ans)).setText(&quot;0&quot;);\n            }\n        });\n</code></pre>\n<p>But I know why it doesn't work, it just simply put the string zero all together in the edittext every time I click the zero button. But not working like the keyboard entry. Can somebody help me with this?</p>\n"},{"tags":["java","hibernate","annotations","hibernate-mapping"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":1,"creation_date":1449472378,"post_id":34128224,"comment_id":56004515,"body_markdown":"Where is stacktrace?","body":"Where is stacktrace?"},{"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"score":0,"creation_date":1700639474,"post_id":34128224,"comment_id":136677991,"body_markdown":"how is this finally solved?","body":"how is this finally solved?"}],"answers":[{"tags":[],"owner":{"account_id":7365038,"reputation":90,"user_id":5606982,"display_name":"suman tipparapu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1449475578,"creation_date":1449473752,"answer_id":34128519,"question_id":34128224,"body_markdown":"You did not add Dialect to your Hibernate config file.Add this line in your config file.\r\n                                           \r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>You did not add Dialect to your Hibernate config file.Add this line in your config file.</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449485112,"creation_date":1449476233,"answer_id":34129083,"question_id":34128224,"body_markdown":"your User not implemented Serializable, try with this:\r\n     \r\n     public class User implements Serializable{\r\n       }","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>your User not implemented Serializable, try with this:</p>\n\n<pre><code> public class User implements Serializable{\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449483155,"creation_date":1449483155,"answer_id":34131051,"question_id":34128224,"body_markdown":"You need to specifically add the entity classes in the configuration.\r\nBy default it loads the classes but do not initialize the entity classes.\r\nFor that configuration.addAnnotatedClass() or addResource will solve this out.","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>You need to specifically add the entity classes in the configuration.\nBy default it loads the classes but do not initialize the entity classes.\nFor that configuration.addAnnotatedClass() or addResource will solve this out.</p>\n"},{"tags":[],"owner":{"account_id":3274311,"reputation":673,"user_id":2756832,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684754706,"creation_date":1449486658,"answer_id":34132147,"question_id":34128224,"body_markdown":"replace your code \r\n \r\n```\r\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n.applySettings(configuration.getProperties()).build();\r\n```    \r\n\r\nfrom SessionFactory to\r\n \r\n```\r\nServiceRegistry  serviceRegistry = new ServiceRegistryBuilder().applySettings(\r\n            configuration.getProperties()). buildServiceRegistry();\r\n```\r\nand try to make your sessionfactory and serviceRegistry  static in class\r\n\r\nMay it works for you.","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>replace your code</p>\n<pre><code>ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n.applySettings(configuration.getProperties()).build();\n</code></pre>\n<p>from SessionFactory to</p>\n<pre><code>ServiceRegistry  serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()). buildServiceRegistry();\n</code></pre>\n<p>and try to make your sessionfactory and serviceRegistry  static in class</p>\n<p>May it works for you.</p>\n"},{"tags":[],"owner":{"account_id":7730053,"reputation":1,"user_id":5853512,"display_name":"Hemanth kumar.D"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1454017775,"creation_date":1454004521,"answer_id":35068853,"question_id":34128224,"body_markdown":"Your syntax works in Hibernate 4.x, but causes an error with Hibernate 5.x.\r\n\r\nThe configuration file causes this problem.\r\nIn the configuration XML file, you added a mapping file, such as:\r\n\r\n    mapping resource=&quot;hibernate.map.xml&quot;\r\n\r\nRemove this and add this programatically instead:\r\n\r\n    configure.addResource(hibernate.map.xml);\r\n\r\nIt will surely work.\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>Your syntax works in Hibernate 4.x, but causes an error with Hibernate 5.x.</p>\n\n<p>The configuration file causes this problem.\nIn the configuration XML file, you added a mapping file, such as:</p>\n\n<pre><code>mapping resource=\"hibernate.map.xml\"\n</code></pre>\n\n<p>Remove this and add this programatically instead:</p>\n\n<pre><code>configure.addResource(hibernate.map.xml);\n</code></pre>\n\n<p>It will surely work.</p>\n"},{"tags":[],"owner":{"account_id":10084416,"reputation":11,"user_id":7453554,"display_name":"Biswasini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518860929,"creation_date":1518860929,"answer_id":48839992,"question_id":34128224,"body_markdown":"    //I am using Hib5,I have created SF like this and it is working\r\n    private static SessionFactory sessionFactory;\r\n    public static SessionFactory getSessionFactory() {\r\n    \t\tif (sessionFactory == null) {\r\n    \t\t\tStandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\r\n    \t\t\tMetadata metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\r\n    \t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n    \t\t}\r\n    \t\treturn sessionFactory;\r\n    \t}","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<pre><code>//I am using Hib5,I have created SF like this and it is working\nprivate static SessionFactory sessionFactory;\npublic static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder().configure().build();\n            Metadata metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\n            sessionFactory = metadata.getSessionFactoryBuilder().build();\n        }\n        return sessionFactory;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27994727,"reputation":1,"user_id":21380235,"display_name":"PRIYANKA JAIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678569754,"creation_date":1678569754,"answer_id":75709609,"question_id":34128224,"body_markdown":"Hibernate version 6.0 moves from Java Persistence as defined by the Java EE specs to Jakarta Persistence. Instead of using the entity of java persistence use Jakarta. ","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>Hibernate version 6.0 moves from Java Persistence as defined by the Java EE specs to Jakarta Persistence. Instead of using the entity of java persistence use Jakarta.</p>\n"}],"owner":{"account_id":3837295,"reputation":765,"user_id":3181322,"accept_rate":50,"display_name":"vineeshchauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22637,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":7,"score":10,"last_activity_date":1684754706,"creation_date":1449472351,"question_id":34128224,"body_markdown":"I have to ask it, I almost tried everything.\r\n\r\nEntity Class\r\n______________\r\n\r\n    @Entity\r\n    @Table(name=&quot;UserInfo&quot;)\r\n    public class User {\r\n    \r\n    \t@Id@Column(name=&quot;user_name&quot;)\r\n    \tprivate String userName;\r\n    \t\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \tprivate Integer userId;\r\n    }\r\n\r\n_________________\r\n\r\n\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=BankingApplication&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;2OmniWay&lt;/property&gt;\r\n             \r\n            &lt;!-- org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\r\n            &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n             &lt;property name=&quot;hibernate.default_schema&quot;&gt;dbo&lt;/property&gt;\r\n            &lt;!-- Mapping with model class containing annotations --&gt;\r\n            &lt;mapping class=&quot;pojo.User&quot;/&gt;\r\n        &lt;/session-factory&gt;\t\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nSeesionFactory\r\n\r\n    // Create the SessionFactory from hibernate.cfg.xml\r\n    Configuration configuration = new Configuration();\r\n    configuration.configure(&quot;hibernate-annotation.cfg.xml&quot;);\r\n    System.out.println(&quot;Hibernate Annotation Configuration loaded&quot;);\r\n    ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().                                    applySettings(configuration.getProperties()).build();\r\n     System.out.println(&quot;Hibernate Annotation serviceRegistry created&quot;);             \r\n    SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n                 \r\n    return sessionFactory;\r\n\r\nGetting Object saved in DB\r\n_____________________________\r\n\r\n    SessionFactory sessionFactory = HibernateUtil.getSessionAnnotationFactory();\r\n    \t\tSession session = sessionFactory.openSession();\r\n    \t\tAccount account = null;\r\n    \t\ttry{\r\n    \t\taccount = (Account) session.get(Account.class, id);\r\n\r\nI am getting exception mentioned in subject. I just tripled checked everything but it is just not working.[![enter image description here][1]][1]\r\n\r\nAny suggestion would be helpful.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ySa2b.png\r\n                                 \r\n___________Stack Trace_________\r\n     \r\n     Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister: pojo.User\r\n\tat org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:792)\r\n\tat org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2652)\r\n\tat org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2590)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2577)\r\n\tat org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044)\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n\tat business.ManageAccount.getAccountDetails(ManageAccount.java:18)\r\n\tat Utils.TestConnecttion.main(TestConnecttion.java:16)\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister","body":"<p>I have to ask it, I almost tried everything.</p>\n\n<p>Entity Class</p>\n\n<hr>\n\n<pre><code>@Entity\n@Table(name=\"UserInfo\")\npublic class User {\n\n    @Id@Column(name=\"user_name\")\n    private String userName;\n\n    @Column(name=\"user_id\")\n    private Integer userId;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:sqlserver://localhost:1433;databaseName=BankingApplication&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;sa&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;2OmniWay&lt;/property&gt;\n\n        &lt;!-- org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\n        &lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt;\n         &lt;property name=\"hibernate.default_schema\"&gt;dbo&lt;/property&gt;\n        &lt;!-- Mapping with model class containing annotations --&gt;\n        &lt;mapping class=\"pojo.User\"/&gt;\n    &lt;/session-factory&gt;  \n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>SeesionFactory</p>\n\n<pre><code>// Create the SessionFactory from hibernate.cfg.xml\nConfiguration configuration = new Configuration();\nconfiguration.configure(\"hibernate-annotation.cfg.xml\");\nSystem.out.println(\"Hibernate Annotation Configuration loaded\");\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().                                    applySettings(configuration.getProperties()).build();\n System.out.println(\"Hibernate Annotation serviceRegistry created\");             \nSessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\nreturn sessionFactory;\n</code></pre>\n\n<p>Getting Object saved in DB</p>\n\n<hr>\n\n<pre><code>SessionFactory sessionFactory = HibernateUtil.getSessionAnnotationFactory();\n        Session session = sessionFactory.openSession();\n        Account account = null;\n        try{\n        account = (Account) session.get(Account.class, id);\n</code></pre>\n\n<p>I am getting exception mentioned in subject. I just tripled checked everything but it is just not working.<a href=\"https://i.stack.imgur.com/ySa2b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ySa2b.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestion would be helpful.</p>\n\n<p>___________Stack Trace_________</p>\n\n<pre><code> Exception in thread \"main\" org.hibernate.UnknownEntityTypeException: Unable to locate persister: pojo.User\nat org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:792)\nat org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2652)\nat org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2590)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2577)\nat org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044)\nat org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\nat business.ManageAccount.getAccountDetails(ManageAccount.java:18)\nat Utils.TestConnecttion.main(TestConnecttion.java:16)\n</code></pre>\n"},{"tags":["java","redis","stream","jedis","redisjson"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684754482,"creation_date":1684754482,"answer_id":76305645,"question_id":76304463,"body_markdown":"In `xgroupCreate` method, send `new StreamEntryID()` instead of StreamEntryID.LAST_ENTRY.","title":"Redis streams Data missing","body":"<p>In <code>xgroupCreate</code> method, send <code>new StreamEntryID()</code> instead of StreamEntryID.LAST_ENTRY.</p>\n"}],"owner":{"account_id":28652526,"reputation":13,"user_id":21939232,"display_name":"vincent_01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76305645,"answer_count":1,"score":0,"last_activity_date":1684754482,"creation_date":1684745480,"question_id":76304463,"body_markdown":"I am using Redis with the Jedis client , I have two classes , a Producer one and a Consumer one .The data sent by the producer class over streams is not being recieved well by the Consumer class . It seems there is loss of data but I do not know the source or how to mitigate this problem .\r\nMy Streams producer code snippet : \r\n```\r\n    Map&lt;String, String&gt; messageBody  = new HashMap&lt;&gt;();\r\n        for(String basekey : args){\r\n            Set&lt;String&gt; prices =  client.keys(&quot;RTSH:&quot;+basekey +&quot;*&quot;);\r\n            for(String price_key : prices){\r\n                messageBody.put(&quot;json_key&quot;, price_key);\r\n                client.xadd(STREAMS_KEY, StreamEntryID.NEW_ENTRY, messageBody);\r\n                System.out.println(messageBody);\r\n            }\r\n        }\r\n\r\n```\r\nMy streams consumer snippet : \r\n```\r\nHostAndPort config = new HostAndPort(Protocol.DEFAULT_HOST, 6379);\r\n        PooledConnectionProvider provider = new PooledConnectionProvider(config);\r\n        UnifiedJedis client = new UnifiedJedis(provider);\r\n        XReadGroupParams xReadGroupParams = new XReadGroupParams();\r\n        xReadGroupParams.block(0);\r\n        xReadGroupParams.count(1);\r\n        xReadGroupParams.noAck();\r\n        try {\r\n            client.xgroupCreate(STREAMS_KEY, &quot;RTSH_consumers&quot;,StreamEntryID.LAST_ENTRY,true);\r\n        }catch(Exception redisBusyException) {\r\n            System.out.println( String.format(&quot;\\t Group &#39;%s&#39; already exists&quot;, &quot;application_1&quot;));\r\n        }\r\n        Map&lt;String, StreamEntryID&gt; stream =  new HashMap&lt;&gt;();\r\n        stream.put(STREAMS_KEY,StreamEntryID.UNRECEIVED_ENTRY);\r\n        while(true) {\r\n            List&lt;Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt;&gt; messages = client.xreadGroup(&quot;RTSH_consumers&quot;, &quot;consumer_RTSH&quot;, xReadGroupParams, stream);\r\n            if (!messages.isEmpty()) {\r\n                for (Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt; entry : messages) {\r\n                    String key = entry.getKey();//key is the stream name\r\n                    List&lt;StreamEntry&gt; value = entry.getValue();\r\n                    for (StreamEntry StreamEntry : value) {\r\n                        String json_key = StreamEntry.getFields().get(&quot;json_key&quot;);\r\n                        Object prices =  client.jsonGet(json_key);\r\n                        System.out.println(prices);\r\n                        System.out.println(&quot;\\n&quot;);\r\n                        client.xack(STREAMS_KEY, &quot;RTSH_consumers&quot;, StreamEntry.getID());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```\r\nI tried fetching less data but the problem persists.","title":"Redis streams Data missing","body":"<p>I am using Redis with the Jedis client , I have two classes , a Producer one and a Consumer one .The data sent by the producer class over streams is not being recieved well by the Consumer class . It seems there is loss of data but I do not know the source or how to mitigate this problem .\nMy Streams producer code snippet :</p>\n<pre><code>    Map&lt;String, String&gt; messageBody  = new HashMap&lt;&gt;();\n        for(String basekey : args){\n            Set&lt;String&gt; prices =  client.keys(&quot;RTSH:&quot;+basekey +&quot;*&quot;);\n            for(String price_key : prices){\n                messageBody.put(&quot;json_key&quot;, price_key);\n                client.xadd(STREAMS_KEY, StreamEntryID.NEW_ENTRY, messageBody);\n                System.out.println(messageBody);\n            }\n        }\n\n</code></pre>\n<p>My streams consumer snippet :</p>\n<pre><code>HostAndPort config = new HostAndPort(Protocol.DEFAULT_HOST, 6379);\n        PooledConnectionProvider provider = new PooledConnectionProvider(config);\n        UnifiedJedis client = new UnifiedJedis(provider);\n        XReadGroupParams xReadGroupParams = new XReadGroupParams();\n        xReadGroupParams.block(0);\n        xReadGroupParams.count(1);\n        xReadGroupParams.noAck();\n        try {\n            client.xgroupCreate(STREAMS_KEY, &quot;RTSH_consumers&quot;,StreamEntryID.LAST_ENTRY,true);\n        }catch(Exception redisBusyException) {\n            System.out.println( String.format(&quot;\\t Group '%s' already exists&quot;, &quot;application_1&quot;));\n        }\n        Map&lt;String, StreamEntryID&gt; stream =  new HashMap&lt;&gt;();\n        stream.put(STREAMS_KEY,StreamEntryID.UNRECEIVED_ENTRY);\n        while(true) {\n            List&lt;Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt;&gt; messages = client.xreadGroup(&quot;RTSH_consumers&quot;, &quot;consumer_RTSH&quot;, xReadGroupParams, stream);\n            if (!messages.isEmpty()) {\n                for (Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt; entry : messages) {\n                    String key = entry.getKey();//key is the stream name\n                    List&lt;StreamEntry&gt; value = entry.getValue();\n                    for (StreamEntry StreamEntry : value) {\n                        String json_key = StreamEntry.getFields().get(&quot;json_key&quot;);\n                        Object prices =  client.jsonGet(json_key);\n                        System.out.println(prices);\n                        System.out.println(&quot;\\n&quot;);\n                        client.xack(STREAMS_KEY, &quot;RTSH_consumers&quot;, StreamEntry.getID());\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>I tried fetching less data but the problem persists.</p>\n"},{"tags":["java","tomcat8","jersey-2.0"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1554790694,"post_id":55586050,"comment_id":97869653,"body_markdown":"shouldn&#39;t be an issue since there is no significant change from 1.4 to 1.6, also class is present: https://commons.apache.org/proper/commons-validator/apidocs/index.html, https://commons.apache.org/proper/commons-validator/changes-report.html","body":"shouldn&#39;t be an issue since there is no significant change from 1.4 to 1.6, also class is present: <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/index.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-validator/apidocs/index.ht&zwnj;&#8203;ml</a>, <a href=\"https://commons.apache.org/proper/commons-validator/changes-report.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-validator/changes-report.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":7512957,"reputation":377,"user_id":5707347,"accept_rate":80,"display_name":"Shaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554789914,"creation_date":1554789914,"answer_id":55586085,"question_id":55586050,"body_markdown":"This means that the class `org.apache.commons.validator.routines.UrlValidator` is missing in the runtime classpath.","title":"java.lang.NoClassDefFoundError: Lorg apache commons validator routines UrlValidator exception when upgrading common-validator from 1.4.0 to 1.6","body":"<p>This means that the class <code>org.apache.commons.validator.routines.UrlValidator</code> is missing in the runtime classpath.</p>\n"},{"tags":[],"owner":{"account_id":15147294,"reputation":4578,"user_id":10931455,"display_name":"Freddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1554790834,"creation_date":1554790834,"answer_id":55586274,"question_id":55586050,"body_markdown":"Check if your `commons-validator.jar` exists in your war file. The class [still exists](https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html) in 1.6 and no dependencies have been changed since version 1.4. See the [release notes](https://commons.apache.org/proper/commons-validator/changes-report.html).","title":"java.lang.NoClassDefFoundError: Lorg apache commons validator routines UrlValidator exception when upgrading common-validator from 1.4.0 to 1.6","body":"<p>Check if your <code>commons-validator.jar</code> exists in your war file. The class <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\" rel=\"nofollow noreferrer\">still exists</a> in 1.6 and no dependencies have been changed since version 1.4. See the <a href=\"https://commons.apache.org/proper/commons-validator/changes-report.html\" rel=\"nofollow noreferrer\">release notes</a>.</p>\n"},{"tags":[],"owner":{"account_id":28653761,"reputation":1,"user_id":21940244,"display_name":"IOANNA PRASSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684754464,"creation_date":1684754464,"answer_id":76305642,"question_id":55586050,"body_markdown":"For me the problem was solved by adding the jar files in the path : C:\\Jboss_Seam\\jboss-6.1.0.Final\\server\\default\\lib","title":"java.lang.NoClassDefFoundError: Lorg apache commons validator routines UrlValidator exception when upgrading common-validator from 1.4.0 to 1.6","body":"<p>For me the problem was solved by adding the jar files in the path : C:\\Jboss_Seam\\jboss-6.1.0.Final\\server\\default\\lib</p>\n"}],"owner":{"account_id":4725648,"reputation":53,"user_id":3822376,"display_name":"Shahab Askarian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55586274,"answer_count":3,"score":0,"last_activity_date":1684754464,"creation_date":1554789718,"question_id":55586050,"body_markdown":"I work on the url shortener project. To test the validation of a url, I use the common-validator version 1.4.0. I use jersey and my web server is tomcat. After upgrading common-validator to version 1.6, I get the following exception. Could anybody help me?\r\n\r\n    HTTP Status 500 – Internal Server Error&lt;/h1&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Servlet.init() for servlet [jersey-serlvet] threw exception&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;javax.servlet.ServletException: Servlet.init() for servlet [jersey-serlvet] threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:748)\r\n    &lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.NoClassDefFoundError: Lorg&amp;#47;apache&amp;#47;commons&amp;#47;validator&amp;#47;routines&amp;#47;UrlValidator;\r\n    \tjava.lang.Class.getDeclaredFields0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredFields(Class.java:2583)\r\n    \tjava.lang.Class.getDeclaredFields(Class.java:1916)\r\n    \torg.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\r\n    \torg.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\r\n    \tjava.security.AccessController.doPrivileged(Native Method)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\r\n    \torg.glassfish.jersey.server.model.Resource.from(Resource.java:776)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\r\n    \torg.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\r\n    \torg.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\r\n    \torg.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:748)\r\n    &lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.ClassNotFoundException: org.apache.commons.validator.routines.UrlValidator\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1308)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1136)\r\n    \tjava.lang.Class.getDeclaredFields0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredFields(Class.java:2583)\r\n    \tjava.lang.Class.getDeclaredFields(Class.java:1916)\r\n    \torg.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\r\n    \torg.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\r\n    \tjava.security.AccessController.doPrivileged(Native Method)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\r\n    \torg.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\r\n    \torg.glassfish.jersey.server.model.Resource.from(Resource.java:776)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\r\n    \torg.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\r\n    \torg.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \torg.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\r\n    \torg.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\r\n    \torg.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\r\n    \torg.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:748)\r\n    &lt;/pre&gt;&lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;h3&gt;Apache Tomcat/8.5.31&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nI only get this exception when I use tomcat.\r\n\r\nPOM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.fanapium.tinylink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tinylink&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.2&lt;/version&gt;\r\n        &lt;name&gt;tinylink&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n            &lt;jersey2.version&gt;2.19&lt;/jersey2.version&gt;\r\n            &lt;jaxrs.version&gt;2.0.1&lt;/jaxrs.version&gt;\r\n            &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;eu.bitwalker&lt;/groupId&gt;\r\n                &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n                &lt;version&gt;1.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;25.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hashids&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hashids&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-jaxrs&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.floragunn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;search-guard-ssl&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0-19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fanapium.keylead&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keylead-client&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20160212&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxrs.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Jersey 2.19 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;1.7&lt;/source&gt;\r\n                            &lt;target&gt;1.7&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-resources&lt;/id&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${basedir}/target/TinyLink&lt;/outputDirectory&gt;\r\n                                &lt;resources&gt;\r\n                                    &lt;resource&gt;\r\n                                        &lt;directory&gt;resources&lt;/directory&gt;\r\n                                        &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${project.build.directory}/TinyLink/lib&lt;/outputDirectory&gt;\r\n                                &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                                &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;com.fanapium.tinylink.TinyLinkServer&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                            &lt;manifestEntries&gt;\r\n                                &lt;Class-Path&gt;.&lt;/Class-Path&gt;\r\n                            &lt;/manifestEntries&gt;\r\n                        &lt;/archive&gt;\r\n    \r\n                        &lt;finalName&gt;TinyLink/tinylink&lt;/finalName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;8&lt;/source&gt;\r\n                        &lt;target&gt;8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError: Lorg apache commons validator routines UrlValidator exception when upgrading common-validator from 1.4.0 to 1.6","body":"<p>I work on the url shortener project. To test the validation of a url, I use the common-validator version 1.4.0. I use jersey and my web server is tomcat. After upgrading common-validator to version 1.6, I get the following exception. Could anybody help me?</p>\n\n<pre><code>HTTP Status 500 – Internal Server Error&lt;/h1&gt;&lt;hr class=\"line\" /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Servlet.init() for servlet [jersey-serlvet] threw exception&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;javax.servlet.ServletException: Servlet.init() for servlet [jersey-serlvet] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.NoClassDefFoundError: Lorg&amp;#47;apache&amp;#47;commons&amp;#47;validator&amp;#47;routines&amp;#47;UrlValidator;\n    java.lang.Class.getDeclaredFields0(Native Method)\n    java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n    java.lang.Class.getDeclaredFields(Class.java:1916)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\n    java.security.AccessController.doPrivileged(Native Method)\n    org.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\n    org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\n    org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\n    org.glassfish.jersey.server.model.Resource.from(Resource.java:776)\n    org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\n    org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\n    org.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.ClassNotFoundException: org.apache.commons.validator.routines.UrlValidator\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1308)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1136)\n    java.lang.Class.getDeclaredFields0(Native Method)\n    java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n    java.lang.Class.getDeclaredFields(Class.java:1916)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\n    java.security.AccessController.doPrivileged(Native Method)\n    org.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\n    org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\n    org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\n    org.glassfish.jersey.server.model.Resource.from(Resource.java:776)\n    org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\n    org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\n    org.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;&lt;hr class=\"line\" /&gt;&lt;h3&gt;Apache Tomcat/8.5.31&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I only get this exception when I use tomcat.</p>\n\n<p>POM file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.fanapium.tinylink&lt;/groupId&gt;\n    &lt;artifactId&gt;tinylink&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n    &lt;name&gt;tinylink&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n        &lt;jersey2.version&gt;2.19&lt;/jersey2.version&gt;\n        &lt;jaxrs.version&gt;2.0.1&lt;/jaxrs.version&gt;\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.bitwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n            &lt;version&gt;1.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n            &lt;version&gt;2.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;25.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hashids&lt;/groupId&gt;\n            &lt;artifactId&gt;hashids&lt;/artifactId&gt;\n            &lt;version&gt;1.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.5.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.floragunn&lt;/groupId&gt;\n            &lt;artifactId&gt;search-guard-ssl&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0-19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fanapium.keylead&lt;/groupId&gt;\n            &lt;artifactId&gt;keylead-client&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160212&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;${jaxrs.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Jersey 2.19 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.7&lt;/source&gt;\n                        &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/TinyLink&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;resources&lt;/directory&gt;\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/TinyLink/lib&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.fanapium.tinylink.TinyLinkServer&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Class-Path&gt;.&lt;/Class-Path&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n\n                    &lt;finalName&gt;TinyLink/tinylink&lt;/finalName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","string","inputmismatchexception"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1684614708,"post_id":76296529,"comment_id":134543917,"body_markdown":"Aside from main question, compiler informs about problems via *errors* and/or *warnings*. The *exceptions* are thrown at *runtime*. But to run java code first it needs to compile without errors.","body":"Aside from main question, compiler informs about problems via <i>errors</i> and/or <i>warnings</i>. The <i>exceptions</i> are thrown at <i>runtime</i>. But to run java code first it needs to compile without errors."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1684655078,"post_id":76296529,"comment_id":134546364,"body_markdown":"@Pshemo yea it compiles without errors the question was about adding a condition for the error","body":"@Pshemo yea it compiles without errors the question was about adding a condition for the error"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1684655107,"post_id":76296529,"comment_id":134546366,"body_markdown":"during runtime input","body":"during runtime input"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684663133,"post_id":76296529,"comment_id":134547075,"body_markdown":"Sorry - mixed you up with OP. I&#39;ll delete, but think it really better here as it addresses the orig question and effects that were misleading the OP. Here is that comment: Super Coder, note I have deleted my comments. It is practicably impossible with your code (which should be corrected in the question for the equals stuff) to enter a name with whitespace, even with quoting (the reason why I deleted my comments). We are getting too academic about this question, and you should probably be doing nextLine, not next(). There&#39;s no reason why the user should not be able to enter a name with a space","body":"Sorry - mixed you up with OP. I&#39;ll delete, but think it really better here as it addresses the orig question and effects that were misleading the OP. Here is that comment: Super Coder, note I have deleted my comments. It is practicably impossible with your code (which should be corrected in the question for the equals stuff) to enter a name with whitespace, even with quoting (the reason why I deleted my comments). We are getting too academic about this question, and you should probably be doing nextLine, not next(). There&#39;s no reason why the user should not be able to enter a name with a space"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1684675500,"post_id":76296529,"comment_id":134548497,"body_markdown":"@g00se yea I figured that out about an hour after I wrote the program lol I thought someone would just figure that out using logic but first answer I got was about the q that I asked :D","body":"@g00se yea I figured that out about an hour after I wrote the program lol I thought someone would just figure that out using logic but first answer I got was about the q that I asked :D"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684604420,"creation_date":1684604420,"answer_id":76296573,"question_id":76296529,"body_markdown":"If you want to read a floating point number you have to explicitly ask for it using Scanner.nextDouble(). next() returns a String. You can not assign a string to a number in Java.","title":"Application throws InputMismatchException when string is assigned to double","body":"<p>If you want to read a floating point number you have to explicitly ask for it using Scanner.nextDouble(). next() returns a String. You can not assign a string to a number in Java.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684605898,"creation_date":1684604719,"answer_id":76296590,"question_id":76296529,"body_markdown":"You can use the following method to determine if a `String` contains a white-space character.\r\n\r\n```java\r\nboolean containsSpace(String string) {\r\n    for (char character : string.toCharArray()) {\r\n        switch (character) {\r\n            case &#39; &#39;, &#39;\\t&#39;, &#39;\\n&#39;, &#39;\\r&#39;, &#39;\\f&#39; -&gt; {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nAlso, you&#39;re going to want to test the `name` value using the `String.equals` method, as opposed to the `==` equality operator.\r\n\r\n```java\r\nif (name.equals(&quot;&quot;)) error = true;\r\n```\r\n\r\nFurthermore, the `main` method requires a single `String` array, or `String` varargs parameter, to be valid.\r\n\r\n```java\r\npublic static void main(String[] args)\r\n```\r\n\r\nHere is a quick demonstration of how I would implement the task.  \r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    \r\n    String name;\r\n    while (true) {\r\n        System.out.print(&quot;Name: &quot;);\r\n        name = scanner.nextLine();\r\n        if (!containsSpace(name))\r\n            break;\r\n        System.out.println(&quot;Name contains white-space.  Re-enter.&quot;);\r\n    }\r\n    \r\n    double amount;\r\n    while (true) {\r\n        System.out.print(&quot;Amount: &quot;);\r\n        try {\r\n            amount = Double.parseDouble(scanner.nextLine());\r\n            break;\r\n        } catch (NumberFormatException exception) {\r\n            System.out.println(&quot;Invalid amount.  Re-enter.&quot;);\r\n        }\r\n    }\r\n    \r\n    System.out.printf(&quot;Name is &#39;%s&#39;%n&quot;, name);\r\n    System.out.printf(&quot;Amount is %,f%n&quot;, amount);\r\n}\r\n```","title":"Application throws InputMismatchException when string is assigned to double","body":"<p>You can use the following method to determine if a <code>String</code> contains a white-space character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean containsSpace(String string) {\n    for (char character : string.toCharArray()) {\n        switch (character) {\n            case ' ', '\\t', '\\n', '\\r', '\\f' -&gt; {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Also, you're going to want to test the <code>name</code> value using the <code>String.equals</code> method, as opposed to the <code>==</code> equality operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (name.equals(&quot;&quot;)) error = true;\n</code></pre>\n<p>Furthermore, the <code>main</code> method requires a single <code>String</code> array, or <code>String</code> varargs parameter, to be valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n</code></pre>\n<p>Here is a quick demonstration of how I would implement the task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    String name;\n    while (true) {\n        System.out.print(&quot;Name: &quot;);\n        name = scanner.nextLine();\n        if (!containsSpace(name))\n            break;\n        System.out.println(&quot;Name contains white-space.  Re-enter.&quot;);\n    }\n    \n    double amount;\n    while (true) {\n        System.out.print(&quot;Amount: &quot;);\n        try {\n            amount = Double.parseDouble(scanner.nextLine());\n            break;\n        } catch (NumberFormatException exception) {\n            System.out.println(&quot;Invalid amount.  Re-enter.&quot;);\n        }\n    }\n    \n    System.out.printf(&quot;Name is '%s'%n&quot;, name);\n    System.out.printf(&quot;Amount is %,f%n&quot;, amount);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684754040,"creation_date":1684750768,"answer_id":76305176,"question_id":76296529,"body_markdown":"&gt; I am writing a program where I need to check if a string (name) contains any whitespaces or not.\r\n&gt; so there isn&#39;t any predefined functions?\r\n\r\nOf course, there is - isWhitespace,&lt;br&gt;\r\nplus the trim() method might be considered,&lt;br&gt;\r\nto remove leading and trailing spaces from the user input: name = scanner.next().trim();\r\n\r\n    boolean containsSpace(String string) {\r\n      for (char character : string.toCharArray()) {\r\n        if (Character.isWhitespace(character)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\nAnd the second part of your problem - to get the &quot;amount&quot; as a double,\r\nI would split into two simplistic functions to follow single responsibility principle and improve maintainability and testability.\r\nAnd I will put method getDouble(String string) into a dedicated class, and package, let say: myproject.common.Numbers\r\n\r\nSo the whole program will consist methods like this:\r\n\r\n    public static void main(String[] args) {\r\n      final var instance = new StackOverflow();\r\n      instance.parseNameAndAmount();\r\n    }\r\n  \r\n    void parseNameAndAmount() {\r\n      Scanner scanner = new Scanner(System.in);\r\n      final var name = getName(scanner);\r\n      final var amount = getAmount(scanner);\r\n      scanner.close();\r\n  \r\n      print(&quot;Name is %s&quot;.formatted(name));\r\n      print(&quot;Amount is %s&quot;.formatted(amount));\r\n  \r\n    }\r\n  \r\n    String getName(Scanner scanner) {\r\n      String name;\r\n      do {\r\n        print(&quot;Enter a name with no spaces: &quot;);\r\n        name = getName(scanner.nextLine().trim());\r\n      } while (name == null);\r\n      return name;\r\n    }\r\n  \r\n    String getName(String string) {\r\n      if (string == null || string.isEmpty()) {\r\n        return null;\r\n      }\r\n\r\n      if (containsSpace(string)) {\r\n        return null;\r\n      }\r\n      return string;\r\n    }\r\n  \r\n    boolean containsSpace(String string) {\r\n      for (char character : string.toCharArray()) {\r\n        if (Character.isWhitespace(character)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  \r\n  \r\n    double getAmount(Scanner scanner) {\r\n      Double amount;\r\n      do {\r\n        print(&quot;Enter amount of purchase (valid number): &quot;);\r\n        amount = getDouble(scanner.nextLine().trim());\r\n      } while (amount == null);\r\n      return amount;\r\n    }\r\n  \r\n    Double getDouble(String string) {\r\n      if (string == null) {\r\n        return null;\r\n      }\r\n  \r\n      try {\r\n        return Double.valueOf(string);\r\n      } catch (NumberFormatException e) {\r\n        return null;\r\n      }\r\n    }\r\n  \r\n    void print(String string) {\r\n      System.out.println(string);\r\n    }\r\n\r\n\r\n\r\nAs I mentioned testability and maintainability,\r\none of the tests might look like this, of course to be thorough,\r\nmore tests needs to be done.\r\n\r\n    @Test\r\n    void getDouble_When_NegativeWithExponent() {\r\n      // Given\r\n      final var given = &quot;-12.45E9&quot;;\r\n  \r\n      // when\r\n      final var actual = stackOverflow.getDouble(given);\r\n  \r\n      // Then\r\n      assertThat(actual)\r\n          .isNotNull()\r\n          .isNegative();\r\n    }\r\n","title":"Application throws InputMismatchException when string is assigned to double","body":"<blockquote>\n<p>I am writing a program where I need to check if a string (name) contains any whitespaces or not.\nso there isn't any predefined functions?</p>\n</blockquote>\n<p>Of course, there is - isWhitespace,<br>\nplus the trim() method might be considered,<br>\nto remove leading and trailing spaces from the user input: name = scanner.next().trim();</p>\n<pre><code>boolean containsSpace(String string) {\n  for (char character : string.toCharArray()) {\n    if (Character.isWhitespace(character)) {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n<p>And the second part of your problem - to get the &quot;amount&quot; as a double,\nI would split into two simplistic functions to follow single responsibility principle and improve maintainability and testability.\nAnd I will put method getDouble(String string) into a dedicated class, and package, let say: myproject.common.Numbers</p>\n<p>So the whole program will consist methods like this:</p>\n<pre><code>public static void main(String[] args) {\n  final var instance = new StackOverflow();\n  instance.parseNameAndAmount();\n}\n\nvoid parseNameAndAmount() {\n  Scanner scanner = new Scanner(System.in);\n  final var name = getName(scanner);\n  final var amount = getAmount(scanner);\n  scanner.close();\n\n  print(&quot;Name is %s&quot;.formatted(name));\n  print(&quot;Amount is %s&quot;.formatted(amount));\n\n}\n\nString getName(Scanner scanner) {\n  String name;\n  do {\n    print(&quot;Enter a name with no spaces: &quot;);\n    name = getName(scanner.nextLine().trim());\n  } while (name == null);\n  return name;\n}\n\nString getName(String string) {\n  if (string == null || string.isEmpty()) {\n    return null;\n  }\n\n  if (containsSpace(string)) {\n    return null;\n  }\n  return string;\n}\n\nboolean containsSpace(String string) {\n  for (char character : string.toCharArray()) {\n    if (Character.isWhitespace(character)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\ndouble getAmount(Scanner scanner) {\n  Double amount;\n  do {\n    print(&quot;Enter amount of purchase (valid number): &quot;);\n    amount = getDouble(scanner.nextLine().trim());\n  } while (amount == null);\n  return amount;\n}\n\nDouble getDouble(String string) {\n  if (string == null) {\n    return null;\n  }\n\n  try {\n    return Double.valueOf(string);\n  } catch (NumberFormatException e) {\n    return null;\n  }\n}\n\nvoid print(String string) {\n  System.out.println(string);\n}\n</code></pre>\n<p>As I mentioned testability and maintainability,\none of the tests might look like this, of course to be thorough,\nmore tests needs to be done.</p>\n<pre><code>@Test\nvoid getDouble_When_NegativeWithExponent() {\n  // Given\n  final var given = &quot;-12.45E9&quot;;\n\n  // when\n  final var actual = stackOverflow.getDouble(given);\n\n  // Then\n  assertThat(actual)\n      .isNotNull()\n      .isNegative();\n}\n</code></pre>\n"}],"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76296590,"answer_count":3,"score":1,"last_activity_date":1684754040,"creation_date":1684603897,"question_id":76296529,"body_markdown":"I am writing a program where I need to check if a string (`name`) contains any whitespaces or not.\r\n\r\nHere&#39;s part of my program :\r\n\r\n``` java\r\n    public static void main()\r\n    {\r\n        Scanner sc = new Scanner(System.in) ;\r\n        String name = &quot;&quot; ;\r\n        boolean error = false ;\r\n        do {\r\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\r\n            error = false ;\r\n            \r\n            System.out.print(&quot;Enter your name : &quot;) ;\r\n            name = sc.next() ;\r\n            if(name==&quot;&quot;) error = true ;\r\n        } while(error) ;\r\n        \r\n        double amount = 0.00 ;\r\n        do {\r\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\r\n            error = false ;\r\n            \r\n            System.out.print(&quot;Enter amount of purchase : &quot;) ;\r\n            amount = sc.nextDouble() ;\r\n            if(amount&lt;=1) error = true ;\r\n        } while(error) ;\r\n    }\r\n}\r\n```\r\n\r\nFor checking errors in the `name` string input, I need to check if the string contains any whitespaces or not because otherwise `java.lang.InputMismatchException` is thrown when it accepts `amount` (and when the entered `name` contains whitespace with another string). \r\n\r\nIs there any predefined function that does this?","title":"Application throws InputMismatchException when string is assigned to double","body":"<p>I am writing a program where I need to check if a string (<code>name</code>) contains any whitespaces or not.</p>\n<p>Here's part of my program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main()\n    {\n        Scanner sc = new Scanner(System.in) ;\n        String name = &quot;&quot; ;\n        boolean error = false ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter your name : &quot;) ;\n            name = sc.next() ;\n            if(name==&quot;&quot;) error = true ;\n        } while(error) ;\n        \n        double amount = 0.00 ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter amount of purchase : &quot;) ;\n            amount = sc.nextDouble() ;\n            if(amount&lt;=1) error = true ;\n        } while(error) ;\n    }\n}\n</code></pre>\n<p>For checking errors in the <code>name</code> string input, I need to check if the string contains any whitespaces or not because otherwise <code>java.lang.InputMismatchException</code> is thrown when it accepts <code>amount</code> (and when the entered <code>name</code> contains whitespace with another string).</p>\n<p>Is there any predefined function that does this?</p>\n"},{"tags":["java","scala","spinalhdl"],"answers":[{"tags":[],"owner":{"account_id":934511,"reputation":4576,"user_id":963700,"display_name":"Darryl Miles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684753945,"creation_date":1684753945,"answer_id":76305571,"question_id":72847225,"body_markdown":"A few things to point out.\r\n\r\nWhile the design is a copy from documentation, it doesn&#39;t really have multiple ClockDomains being used.  There is an implied toplevel ClockDomain that already exists can can be accessed with `this.clockDomain` from the Component.\r\n\r\nBecause all the active logic of the counter is tied to one ClockDomain (the one you created) and nothing is attached to the implicit clock domain the signals relating to the implicit ClockDomain may have got pruned from the Verilog.\r\n\r\nBut conceptually with SpinalHDL a `Component` always has a superior clock domain above it that it is attached to.  So the superior clock domain does not go away, even if signals do not appear to exist for it.\r\n\r\n...\r\n\r\nYou do not call `dut.clockDomain.waitSampling()` at any time to provide control to the simulator to do work.  Because of this simulation time (as reported by `simTime()`) is always zero.  This simTime=0 is an indicator the simulator is not getting to simulate anything.\r\n\r\nMaybe insert calls before `dut.clockDomain.waitSampling(count=50)`, inside `dut.clockDomain.waitSampling(count=1)` and after `dut.clockDomain.waitSampling(count=50)` the for() loop.\r\n\r\nDue to this you might hit the simTimeout() limit that has been set low at 1000, maybe increase this to 1000000.\r\n\r\n...\r\n\r\nOne issue if you are using the MyCounter as a toplevel module for SpinalSim and attempting to use APIs like forkStimulus() that assume the &#39;clk&#39; and &#39;reset&#39; implicit signals at the top level.\r\n\r\n**A few solutions:**\r\n\r\n**1)** Use SpinalHDL to elaborate the `MyCounter.v` file generated from your `MyCounterVerilog` main and create an independent testbench (that is not SpinalSim), that would drive the `io_clk` and `io_reset` as you expect.\r\n\r\nThis could be Verilator or cocotb or something-else, etc... a simulator that works with a Verilog file, this will demonstrate the Verilog design does work as generated by SpinalHDL.\r\n\r\n\r\n**2)** If you wish to use SpinalSim, don&#39;t expect any assistance from `forkStimulus()` API in your SpinalSim to manage a toplevel clk/reset signals if your toplevel design does not conform to what it expects.   That the toplevel module is attached to `this.clockDomain.readClockWire` as the master clock.\r\n\r\nIf you examine the generated verilog from suggestion 1 above, it has no toplevel signals called `clk` or `reset`.  Even if you attempt to rename your signal with `setName(&quot;clk&quot;)` or use `noIoPrefix()` I think you will run into problems because the implicit signal just gets renamed (maybe to `clk_1`) and still doesn&#39;t become joined to your signal.\r\n\r\nInstead to simulate this module you need to directly manage your independant clock in your simulation code.\r\nFrom your code the lines, try a sequence like:\r\n\r\n```\r\nvar myClock = false  // Consider using AtomicBoolean\r\nvar myReset = false  // Consider using AtomicBoolean\r\ndut.clockDomain.onSamplings({\r\n  myClock = !myClock\r\n  dut.io.clk #= myClock\r\n  dut.io.reset #= myReset\r\n})\r\n```\r\n\r\nHere you are taking control of the clock signal directly, not relying on `forkStimulus()` to assist.  So remove the `forkStimulus()` line of code.\r\n\r\nDue to this, consider the removal of `assertReset()` if you need to achieve this change the myReset state.  Again use of the API assume you are using the implicit toplevel ClockDomain.\r\n\r\n\r\n**3)** Insert a `Toplevel extends Component` module that is the toplevel for the Sim.  Place your `MyCounter extends Component` module, inside Topleve, and wire through.  This inserted Component would have regular ClockDomain inherited and the MyCounter would be a child module inside.  This may better emphasis what is already happening with regards to the superior ClockDomain of the Component hierarchy.\r\n\r\nYou can wire thru the 3 signals.  When you inspect the new Toplevel module it will now have 5 signals.  `clk, reset, io_clk, io_reset, io_num`\r\n\r\nAgain you still need to manually stimulate your io_* signals, but you will forkStimulus() is managing the other 2 signals `clk` and `reset`.\r\n\r\n\r\n**4)** Remove the 2 signals `clk` and `reset` from the io Bundle (delete the lines of code).  Yes this isn&#39;t exactly as the demonstration code in the SpinalHDL documentation suggests, but the other options exist above if you really need that.\r\n\r\nThen modify the 2 lines for the ClockDomain setup to read:\r\n\r\n```\r\n  clock = clockDomain.readClockWire,\r\n  reset = clockDomain.readResetWire,\r\n```\r\n\r\nKeep `forkStimulus()` because now you have a conforming toplevel Componment that regular `clk` and `reset` signals, which the SpinalSim expects to work with.   This can be confirmed if you examine the elaborated/generated `MyCounter.v` file, you will see, even after deleting the 2 signals you get the signals emitted by using the normal name, not `io_clk` and not `io_reset`.\r\n\r\n...\r\n\r\nUse of `dut.clockDomain.assertReset()` maybe problematic while using `forkStimulus()` that will also be manipulating the reset status early on after simulation startup.\r\n\r\nMaybe this ok, when `simTime()` is greater than a number, lets say 100.  The `forkStimulus()` call will generate reset line edges early in simulation but that should all be over by simulation step&gt;100.\r\n","title":"SpinalHDL ConfigClockDomain not work, how to drive configured clock domain when simulating?","body":"<p>A few things to point out.</p>\n<p>While the design is a copy from documentation, it doesn't really have multiple ClockDomains being used.  There is an implied toplevel ClockDomain that already exists can can be accessed with <code>this.clockDomain</code> from the Component.</p>\n<p>Because all the active logic of the counter is tied to one ClockDomain (the one you created) and nothing is attached to the implicit clock domain the signals relating to the implicit ClockDomain may have got pruned from the Verilog.</p>\n<p>But conceptually with SpinalHDL a <code>Component</code> always has a superior clock domain above it that it is attached to.  So the superior clock domain does not go away, even if signals do not appear to exist for it.</p>\n<p>...</p>\n<p>You do not call <code>dut.clockDomain.waitSampling()</code> at any time to provide control to the simulator to do work.  Because of this simulation time (as reported by <code>simTime()</code>) is always zero.  This simTime=0 is an indicator the simulator is not getting to simulate anything.</p>\n<p>Maybe insert calls before <code>dut.clockDomain.waitSampling(count=50)</code>, inside <code>dut.clockDomain.waitSampling(count=1)</code> and after <code>dut.clockDomain.waitSampling(count=50)</code> the for() loop.</p>\n<p>Due to this you might hit the simTimeout() limit that has been set low at 1000, maybe increase this to 1000000.</p>\n<p>...</p>\n<p>One issue if you are using the MyCounter as a toplevel module for SpinalSim and attempting to use APIs like forkStimulus() that assume the 'clk' and 'reset' implicit signals at the top level.</p>\n<p><strong>A few solutions:</strong></p>\n<p><strong>1)</strong> Use SpinalHDL to elaborate the <code>MyCounter.v</code> file generated from your <code>MyCounterVerilog</code> main and create an independent testbench (that is not SpinalSim), that would drive the <code>io_clk</code> and <code>io_reset</code> as you expect.</p>\n<p>This could be Verilator or cocotb or something-else, etc... a simulator that works with a Verilog file, this will demonstrate the Verilog design does work as generated by SpinalHDL.</p>\n<p><strong>2)</strong> If you wish to use SpinalSim, don't expect any assistance from <code>forkStimulus()</code> API in your SpinalSim to manage a toplevel clk/reset signals if your toplevel design does not conform to what it expects.   That the toplevel module is attached to <code>this.clockDomain.readClockWire</code> as the master clock.</p>\n<p>If you examine the generated verilog from suggestion 1 above, it has no toplevel signals called <code>clk</code> or <code>reset</code>.  Even if you attempt to rename your signal with <code>setName(&quot;clk&quot;)</code> or use <code>noIoPrefix()</code> I think you will run into problems because the implicit signal just gets renamed (maybe to <code>clk_1</code>) and still doesn't become joined to your signal.</p>\n<p>Instead to simulate this module you need to directly manage your independant clock in your simulation code.\nFrom your code the lines, try a sequence like:</p>\n<pre><code>var myClock = false  // Consider using AtomicBoolean\nvar myReset = false  // Consider using AtomicBoolean\ndut.clockDomain.onSamplings({\n  myClock = !myClock\n  dut.io.clk #= myClock\n  dut.io.reset #= myReset\n})\n</code></pre>\n<p>Here you are taking control of the clock signal directly, not relying on <code>forkStimulus()</code> to assist.  So remove the <code>forkStimulus()</code> line of code.</p>\n<p>Due to this, consider the removal of <code>assertReset()</code> if you need to achieve this change the myReset state.  Again use of the API assume you are using the implicit toplevel ClockDomain.</p>\n<p><strong>3)</strong> Insert a <code>Toplevel extends Component</code> module that is the toplevel for the Sim.  Place your <code>MyCounter extends Component</code> module, inside Topleve, and wire through.  This inserted Component would have regular ClockDomain inherited and the MyCounter would be a child module inside.  This may better emphasis what is already happening with regards to the superior ClockDomain of the Component hierarchy.</p>\n<p>You can wire thru the 3 signals.  When you inspect the new Toplevel module it will now have 5 signals.  <code>clk, reset, io_clk, io_reset, io_num</code></p>\n<p>Again you still need to manually stimulate your io_* signals, but you will forkStimulus() is managing the other 2 signals <code>clk</code> and <code>reset</code>.</p>\n<p><strong>4)</strong> Remove the 2 signals <code>clk</code> and <code>reset</code> from the io Bundle (delete the lines of code).  Yes this isn't exactly as the demonstration code in the SpinalHDL documentation suggests, but the other options exist above if you really need that.</p>\n<p>Then modify the 2 lines for the ClockDomain setup to read:</p>\n<pre><code>  clock = clockDomain.readClockWire,\n  reset = clockDomain.readResetWire,\n</code></pre>\n<p>Keep <code>forkStimulus()</code> because now you have a conforming toplevel Componment that regular <code>clk</code> and <code>reset</code> signals, which the SpinalSim expects to work with.   This can be confirmed if you examine the elaborated/generated <code>MyCounter.v</code> file, you will see, even after deleting the 2 signals you get the signals emitted by using the normal name, not <code>io_clk</code> and not <code>io_reset</code>.</p>\n<p>...</p>\n<p>Use of <code>dut.clockDomain.assertReset()</code> maybe problematic while using <code>forkStimulus()</code> that will also be manipulating the reset status early on after simulation startup.</p>\n<p>Maybe this ok, when <code>simTime()</code> is greater than a number, lets say 100.  The <code>forkStimulus()</code> call will generate reset line edges early in simulation but that should all be over by simulation step&gt;100.</p>\n"}],"owner":{"account_id":16346344,"reputation":31,"user_id":11805981,"display_name":"BossWangST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684753945,"creation_date":1656857956,"question_id":72847225,"body_markdown":"# ClockDomainConfig Problem in SpinalHDL\r\nI tried to write a simple spinal HDL demo according to [ClockDomainConfig Example](https://spinalhdl.github.io/SpinalDoc-RTD/master/SpinalHDL/Structuring/clock_domain.html) to test a configured clock domain and an Area which use the clock domain. \r\n\r\nHere is my simple counter:\r\n```\r\npackage mytest\r\n\r\nimport spinal.core._\r\nimport spinal.core.sim._\r\nimport spinal.lib._\r\n\r\nclass MyCounter extends Component {\r\n  val io = new Bundle {\r\n    val clk = in Bool() simPublic()\r\n    val rst = in Bool() simPublic()\r\n    val num = out UInt (16 bits)\r\n  }\r\n  val myClockDomain = ClockDomain(\r\n    clock = io.clk,\r\n    reset = io.rst,\r\n    config = ClockDomainConfig(\r\n      clockEdge = FALLING,\r\n      resetKind = ASYNC,\r\n      resetActiveLevel = HIGH\r\n    )\r\n  )\r\n  val counterArea = new ClockingArea(myClockDomain) {\r\n    val counter = RegInit(U&quot;16&#39;xffff&quot;)\r\n    counter := counter + 1\r\n    io.num := counter\r\n  }\r\n}\r\n\r\nobject MyCounterVerilog {\r\n  def main(args: Array[String]): Unit = {\r\n    SpinalVerilog(new MyCounter)\r\n  }\r\n}\r\n\r\n```\r\n\r\nAlso here is my simulate object:\r\n```\r\nackage mytest\r\n\r\nimport spinal.core._\r\nimport spinal.sim._\r\nimport spinal.core.sim._\r\n\r\n//MyCounter&#39;s testbench\r\nobject MyCounterSim {\r\n  def main(args: Array[String]) {\r\n    SimConfig.withWave.compile(new MyCounter).doSim { dut =&gt;\r\n      //get clock\r\n      dut.clockDomain.forkStimulus(period = 10) //10 ps\r\n      SimTimeout(1000)\r\n      dut.io.clk #= dut.clockDomain.clock.toBoolean\r\n      dut.io.rst #= dut.clockDomain.reset.toBoolean\r\n      for (i &lt;- 0 until 100) {\r\n        if (i == 50)\r\n          dut.clockDomain.assertReset()\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nBut when I attempt to simulate, the JAVA reports such an Error:\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: key not found: (clk :  Bool)\r\n\tat scala.collection.MapLike$class.default(MapLike.scala:228)\r\n\tat scala.collection.AbstractMap.default(Map.scala:59)\r\n\tat scala.collection.mutable.HashMap.apply(HashMap.scala:65)\r\n\tat spinal.core.sim.package$SimClockDomainPimper.getBool(package.scala:449)\r\n\tat spinal.core.sim.package$SimClockDomainPimper.getSignal(package.scala:454)\r\n\tat spinal.core.sim.package$SimClockDomainPimper.fallingEdge(package.scala:471)\r\n\tat spinal.core.sim.package$SimClockDomainPimper.forkStimulus(package.scala:663)\r\n\tat mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:12)\r\n\tat mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:10)\r\n\tat spinal.core.sim.SimCompiled$$anonfun$doSimApi$2.apply$mcV$sp(SimBootstraps.scala:538)\r\n\tat spinal.sim.SimManager.spinal$sim$SimManager$$threadBody$1(SimManager.scala:222)\r\n\tat spinal.sim.SimManager$$anonfun$2.apply$mcV$sp(SimManager.scala:225)\r\n\tat spinal.sim.SimThread$$anonfun$1.apply$mcV$sp(SimThread.scala:93)\r\n\tat spinal.sim.JvmThread.run(SimManager.scala:51)\r\n```\r\n\r\nI do not know how does the problem pop up. When I test the MyCounter without an configured clock domain, everything works well. But once I add the `myClockDomain`, the error occurs.\r\n\r\nMy JDK version is OpenJDK 17.0.2 2022-01-18\r\n\r\nsbt version is 1.6.2\r\n\r\nverilator version is 4.222 2022-05-02\r\n\r\nIDE is IntelliJ IDEA","title":"SpinalHDL ConfigClockDomain not work, how to drive configured clock domain when simulating?","body":"<h1>ClockDomainConfig Problem in SpinalHDL</h1>\n<p>I tried to write a simple spinal HDL demo according to <a href=\"https://spinalhdl.github.io/SpinalDoc-RTD/master/SpinalHDL/Structuring/clock_domain.html\" rel=\"nofollow noreferrer\">ClockDomainConfig Example</a> to test a configured clock domain and an Area which use the clock domain.</p>\n<p>Here is my simple counter:</p>\n<pre><code>package mytest\n\nimport spinal.core._\nimport spinal.core.sim._\nimport spinal.lib._\n\nclass MyCounter extends Component {\n  val io = new Bundle {\n    val clk = in Bool() simPublic()\n    val rst = in Bool() simPublic()\n    val num = out UInt (16 bits)\n  }\n  val myClockDomain = ClockDomain(\n    clock = io.clk,\n    reset = io.rst,\n    config = ClockDomainConfig(\n      clockEdge = FALLING,\n      resetKind = ASYNC,\n      resetActiveLevel = HIGH\n    )\n  )\n  val counterArea = new ClockingArea(myClockDomain) {\n    val counter = RegInit(U&quot;16'xffff&quot;)\n    counter := counter + 1\n    io.num := counter\n  }\n}\n\nobject MyCounterVerilog {\n  def main(args: Array[String]): Unit = {\n    SpinalVerilog(new MyCounter)\n  }\n}\n\n</code></pre>\n<p>Also here is my simulate object:</p>\n<pre><code>ackage mytest\n\nimport spinal.core._\nimport spinal.sim._\nimport spinal.core.sim._\n\n//MyCounter's testbench\nobject MyCounterSim {\n  def main(args: Array[String]) {\n    SimConfig.withWave.compile(new MyCounter).doSim { dut =&gt;\n      //get clock\n      dut.clockDomain.forkStimulus(period = 10) //10 ps\n      SimTimeout(1000)\n      dut.io.clk #= dut.clockDomain.clock.toBoolean\n      dut.io.rst #= dut.clockDomain.reset.toBoolean\n      for (i &lt;- 0 until 100) {\n        if (i == 50)\n          dut.clockDomain.assertReset()\n      }\n    }\n  }\n}\n</code></pre>\n<p>But when I attempt to simulate, the JAVA reports such an Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: key not found: (clk :  Bool)\n    at scala.collection.MapLike$class.default(MapLike.scala:228)\n    at scala.collection.AbstractMap.default(Map.scala:59)\n    at scala.collection.mutable.HashMap.apply(HashMap.scala:65)\n    at spinal.core.sim.package$SimClockDomainPimper.getBool(package.scala:449)\n    at spinal.core.sim.package$SimClockDomainPimper.getSignal(package.scala:454)\n    at spinal.core.sim.package$SimClockDomainPimper.fallingEdge(package.scala:471)\n    at spinal.core.sim.package$SimClockDomainPimper.forkStimulus(package.scala:663)\n    at mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:12)\n    at mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:10)\n    at spinal.core.sim.SimCompiled$$anonfun$doSimApi$2.apply$mcV$sp(SimBootstraps.scala:538)\n    at spinal.sim.SimManager.spinal$sim$SimManager$$threadBody$1(SimManager.scala:222)\n    at spinal.sim.SimManager$$anonfun$2.apply$mcV$sp(SimManager.scala:225)\n    at spinal.sim.SimThread$$anonfun$1.apply$mcV$sp(SimThread.scala:93)\n    at spinal.sim.JvmThread.run(SimManager.scala:51)\n</code></pre>\n<p>I do not know how does the problem pop up. When I test the MyCounter without an configured clock domain, everything works well. But once I add the <code>myClockDomain</code>, the error occurs.</p>\n<p>My JDK version is OpenJDK 17.0.2 2022-01-18</p>\n<p>sbt version is 1.6.2</p>\n<p>verilator version is 4.222 2022-05-02</p>\n<p>IDE is IntelliJ IDEA</p>\n"},{"tags":["java","image","type-conversion","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":7977662,"reputation":69,"user_id":6020261,"display_name":"Alexander Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684753782,"creation_date":1547810754,"answer_id":54253015,"question_id":54252367,"body_markdown":"I&#39;ve managed to do the conversion for the 640x480 resolution the following way:\r\n\r\n    BufferedImage image = new BufferedImage(640,480,BufferedImage.TYPE_BYTE_INDEXED);\r\n\r\n    int i = 0;\r\n    for(int y = 0; y &lt; 480; y++)\r\n    {\r\n        for(int x = 0; x &lt; 640; x++)\r\n        {\r\n            int g = imageBytes[i++] &amp; 0xFF;\r\n            image.setRGB(x,y,new Color(g,g,g).getRGB());\r\n        }\r\n    }\r\n\r\nEDIT: removed useless code (thanks to Marco13)","title":"Convert 8bit Grayscale image byte array to a BufferedImage","body":"<p>I've managed to do the conversion for the 640x480 resolution the following way:</p>\n<pre><code>BufferedImage image = new BufferedImage(640,480,BufferedImage.TYPE_BYTE_INDEXED);\n\nint i = 0;\nfor(int y = 0; y &lt; 480; y++)\n{\n    for(int x = 0; x &lt; 640; x++)\n    {\n        int g = imageBytes[i++] &amp; 0xFF;\n        image.setRGB(x,y,new Color(g,g,g).getRGB());\n    }\n}\n</code></pre>\n<p>EDIT: removed useless code (thanks to Marco13)</p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1547817534,"creation_date":1547814513,"answer_id":54254056,"question_id":54252367,"body_markdown":"There are two good ways to do this, depending on your use case. \r\n\r\nEither create a new, gray image, and copy the data into it. This will keep the image &quot;managed&quot;, which may lead to better rendering performance (ie. on screen). But it will need twice as much memory, and copy the data from your input to the image.\r\n\r\nThe other, is to create the gray image directly &quot;around&quot; your existing pixel data. This will be faster, and use almost no extra heap, as it avoids copying the pixel data. But the image will not be managed (as the backing array is exposed and mutable).\r\n\r\nBoth options are demonstrated below:\r\n\r\n    int w = 640;\r\n    int h = 480;\r\n\r\n    byte[] imageBytes = new byte[w * h];\r\n\r\n    // 1 Keeps the image &quot;managed&quot; at the expense of twice the memory + a large array copy\r\n    BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_GRAY);\r\n    image.getRaster().setDataElements(0, 0, w, h, imageBytes);\r\n\r\n    System.out.println(&quot;image: &quot; + image);\r\n\r\n    // 2 Faster, and uses less memory, but will make the image &quot;unmanaged&quot;\r\n    ColorModel cm = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_GRAY), false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\r\n    WritableRaster raster = Raster.createInterleavedRaster(new DataBufferByte(imageBytes, imageBytes.length), w, h, w, 1, new int[]{0}, null);\r\n    BufferedImage image2 = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\r\n\r\n    System.out.println(&quot;image2: &quot; + image2);\r\n\r\nIf the image data isn&#39;t in linear gray color space, one could use an `IndexColorModel` to map the input into whatever range you want:\r\n\r\n    // Alternate, using IndexColorModel, if your input isn&#39;t in linear gray color space\r\n    int[] cmap = new int[256]; // TODO: Add ARGB packed colors here...\r\n    IndexColorModel icm = new IndexColorModel(8, 256, cmap, 0, false, -1, DataBuffer.TYPE_BYTE);\r\n\r\n    // As 1\r\n    BufferedImage image3 = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_INDEXED, icm);\r\n    image3.getRaster().setDataElements(0, 0, w, h, imageBytes);\r\n    System.out.println(&quot;image3: &quot; + image3);\r\n\r\n    // As 2\r\n    BufferedImage image4 = new BufferedImage(icm, raster, cm.isAlphaPremultiplied(), null);\r\n\r\n    System.out.println(&quot;image4: &quot; + image4);\r\n","title":"Convert 8bit Grayscale image byte array to a BufferedImage","body":"<p>There are two good ways to do this, depending on your use case. </p>\n\n<p>Either create a new, gray image, and copy the data into it. This will keep the image \"managed\", which may lead to better rendering performance (ie. on screen). But it will need twice as much memory, and copy the data from your input to the image.</p>\n\n<p>The other, is to create the gray image directly \"around\" your existing pixel data. This will be faster, and use almost no extra heap, as it avoids copying the pixel data. But the image will not be managed (as the backing array is exposed and mutable).</p>\n\n<p>Both options are demonstrated below:</p>\n\n<pre><code>int w = 640;\nint h = 480;\n\nbyte[] imageBytes = new byte[w * h];\n\n// 1 Keeps the image \"managed\" at the expense of twice the memory + a large array copy\nBufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_GRAY);\nimage.getRaster().setDataElements(0, 0, w, h, imageBytes);\n\nSystem.out.println(\"image: \" + image);\n\n// 2 Faster, and uses less memory, but will make the image \"unmanaged\"\nColorModel cm = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_GRAY), false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\nWritableRaster raster = Raster.createInterleavedRaster(new DataBufferByte(imageBytes, imageBytes.length), w, h, w, 1, new int[]{0}, null);\nBufferedImage image2 = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\n\nSystem.out.println(\"image2: \" + image2);\n</code></pre>\n\n<p>If the image data isn't in linear gray color space, one could use an <code>IndexColorModel</code> to map the input into whatever range you want:</p>\n\n<pre><code>// Alternate, using IndexColorModel, if your input isn't in linear gray color space\nint[] cmap = new int[256]; // TODO: Add ARGB packed colors here...\nIndexColorModel icm = new IndexColorModel(8, 256, cmap, 0, false, -1, DataBuffer.TYPE_BYTE);\n\n// As 1\nBufferedImage image3 = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_INDEXED, icm);\nimage3.getRaster().setDataElements(0, 0, w, h, imageBytes);\nSystem.out.println(\"image3: \" + image3);\n\n// As 2\nBufferedImage image4 = new BufferedImage(icm, raster, cm.isAlphaPremultiplied(), null);\n\nSystem.out.println(\"image4: \" + image4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12016455,"reputation":1936,"user_id":8791436,"display_name":"mindlid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620372445,"creation_date":1620369482,"answer_id":67430088,"question_id":54252367,"body_markdown":"Java\r\n\r\n     BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY);\r\n     image.getRaster().setDataElements(0, 0, width, height, array));\r\n\r\nKotlin\r\n\r\n\r\n    val image = BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY)\r\n    image.raster.setDataElements(0, 0, width, height, byteArray )","title":"Convert 8bit Grayscale image byte array to a BufferedImage","body":"<p>Java</p>\n<pre><code> BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY);\n image.getRaster().setDataElements(0, 0, width, height, array));\n</code></pre>\n<p>Kotlin</p>\n<pre><code>val image = BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY)\nimage.raster.setDataElements(0, 0, width, height, byteArray )\n</code></pre>\n"}],"owner":{"account_id":7977662,"reputation":69,"user_id":6020261,"display_name":"Alexander Shaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54254056,"answer_count":3,"score":0,"last_activity_date":1684753782,"creation_date":1547808458,"question_id":54252367,"body_markdown":"I have a byte array containing data of the raw grayscale 8bit image, which I need to convert to a BufferedImage. I&#39;ve tried doing:\r\n\r\n    BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\r\n\r\nHowever, the resulting `image` object is null which means I&#39;m doing something wrong here. \r\n\r\nWhat&#39;s the correct way of making such a conversion?","title":"Convert 8bit Grayscale image byte array to a BufferedImage","body":"<p>I have a byte array containing data of the raw grayscale 8bit image, which I need to convert to a BufferedImage. I've tried doing:</p>\n\n<pre><code>BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\n</code></pre>\n\n<p>However, the resulting <code>image</code> object is null which means I'm doing something wrong here. </p>\n\n<p>What's the correct way of making such a conversion?</p>\n"},{"tags":["java","spring","netty","ocsp"],"owner":{"account_id":27884225,"reputation":36,"user_id":21292052,"display_name":"user21292052"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684753605,"creation_date":1677435524,"question_id":75574097,"body_markdown":"We have a reactive application (server) written in Java 17 using Spring Webflux via Spring Boot 3.x.  \r\nBut when trying to use it together with a TLS certificate that has the must-staple extension (formally known as [status_request](https://www.rfc-editor.org/rfc/rfc6066#section-8)) one cannot create a connection. When accessing the API via Firefox one receives the error `MOZILLA_PKIX_ERROR_REQUIRED_TLS_FEATURE_MISSING`, similarly `openssl s_client -connect &lt;application-address&gt; -status -tlsextdebug &lt; /dev/null 2&gt;&amp;1 | grep -i &quot;OCSP response&quot;` yields `OCSP response: no response sent`.\r\n\r\nAn easy way to receive such a certificate would be to pass the `--staple-ocsp --must-staple` flags to certbot.\r\n\r\nWhat must be done that the Spring Webflux Server using Netty serves stapled OCSP responses?\r\n\r\nI have searched around a lot already and couldn&#39;t find anything useful.\r\n\r\nI found that the [JDK](https://docs.oracle.com/en/java/javase/17/security/java-pki-programmers-guide.html#GUID-E6E737DB-4000-4005-969E-BCD0238B1566) has built-in support for OCSP since JDK 9, though no mention about OCSP stapling and setting the `ocsp.enable` security property to `true` doesn&#39;t help either.\r\n\r\nNetty seems to have some OCSP support in [netty-handler-ssl-ocsp](https://netty.io/4.1/api/io/netty/handler/ssl/ocsp/package-summary.html), though simply adding it doesn&#39;t solve it either and I don&#39;t know what to do with the classes and it too looks more like a client side support to me.\r\n\r\nAlso there seems to be support in [netty-tcnative](https://github.com/netty/netty/commit/077a1988b9c96b5f3e5693a3bb1b2e118992f3a8), but we don&#39;t use Tomcat nor Tomcat Native Fork for Netty and I don&#39;t see how this helps me with the standard Spring setup.\r\n\r\nWe are also not using Apache or Nginx so the plentiful resources how to enable OCSP stapling with them didn&#39;t help either.","title":"How to enable OCSP stapling in a Spring Webflux application?","body":"<p>We have a reactive application (server) written in Java 17 using Spring Webflux via Spring Boot 3.x.<br />\nBut when trying to use it together with a TLS certificate that has the must-staple extension (formally known as <a href=\"https://www.rfc-editor.org/rfc/rfc6066#section-8\" rel=\"nofollow noreferrer\">status_request</a>) one cannot create a connection. When accessing the API via Firefox one receives the error <code>MOZILLA_PKIX_ERROR_REQUIRED_TLS_FEATURE_MISSING</code>, similarly <code>openssl s_client -connect &lt;application-address&gt; -status -tlsextdebug &lt; /dev/null 2&gt;&amp;1 | grep -i &quot;OCSP response&quot;</code> yields <code>OCSP response: no response sent</code>.</p>\n<p>An easy way to receive such a certificate would be to pass the <code>--staple-ocsp --must-staple</code> flags to certbot.</p>\n<p>What must be done that the Spring Webflux Server using Netty serves stapled OCSP responses?</p>\n<p>I have searched around a lot already and couldn't find anything useful.</p>\n<p>I found that the <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-pki-programmers-guide.html#GUID-E6E737DB-4000-4005-969E-BCD0238B1566\" rel=\"nofollow noreferrer\">JDK</a> has built-in support for OCSP since JDK 9, though no mention about OCSP stapling and setting the <code>ocsp.enable</code> security property to <code>true</code> doesn't help either.</p>\n<p>Netty seems to have some OCSP support in <a href=\"https://netty.io/4.1/api/io/netty/handler/ssl/ocsp/package-summary.html\" rel=\"nofollow noreferrer\">netty-handler-ssl-ocsp</a>, though simply adding it doesn't solve it either and I don't know what to do with the classes and it too looks more like a client side support to me.</p>\n<p>Also there seems to be support in <a href=\"https://github.com/netty/netty/commit/077a1988b9c96b5f3e5693a3bb1b2e118992f3a8\" rel=\"nofollow noreferrer\">netty-tcnative</a>, but we don't use Tomcat nor Tomcat Native Fork for Netty and I don't see how this helps me with the standard Spring setup.</p>\n<p>We are also not using Apache or Nginx so the plentiful resources how to enable OCSP stapling with them didn't help either.</p>\n"},{"tags":["java","maven","testing","karate","junit5"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1684762395,"post_id":76305530,"comment_id":134559897,"body_markdown":"I have no idea about this, hope someone good at junit can answer. if it helps, karate does not &quot;require&quot; JUnit if you use the `Runner` API directly: https://stackoverflow.com/a/65578167/143475","body":"I have no idea about this, hope someone good at junit can answer. if it helps, karate does not &quot;require&quot; JUnit if you use the <code>Runner</code> API directly: <a href=\"https://stackoverflow.com/a/65578167/143475\">stackoverflow.com/a/65578167/143475</a>"}],"owner":{"account_id":8484598,"reputation":51,"user_id":6363250,"display_name":"Ahmed Hammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684753565,"creation_date":1684753565,"question_id":76305530,"body_markdown":"I would like to run test cases at test project that include 2 modules karate framework and Junit5, and I want to specify the tag name for the test cases that I need to run.\r\n\r\nI tried\r\n```mvn clean install -Dkarate.options=&quot;--tags @pass&quot; -Dgroups=@pass``` but it doesn&#39;t work as karate modules doesn&#39;t fetch scenarios with tag name ```@pass```.\r\nand when I remove ```@-Dgroups=@pass``` it works karate scenarios works fine. \r\n\r\nso I think there is an interfere between environment parameter karate.options and groups.\r\n\r\nhow can I run test cases with specific tag name with one command in both modules?\r\n","title":"Run Test cases from karate and Junit5 module together","body":"<p>I would like to run test cases at test project that include 2 modules karate framework and Junit5, and I want to specify the tag name for the test cases that I need to run.</p>\n<p>I tried\n<code>mvn clean install -Dkarate.options=&quot;--tags @pass&quot; -Dgroups=@pass</code> but it doesn't work as karate modules doesn't fetch scenarios with tag name <code>@pass</code>.\nand when I remove <code>@-Dgroups=@pass</code> it works karate scenarios works fine.</p>\n<p>so I think there is an interfere between environment parameter karate.options and groups.</p>\n<p>how can I run test cases with specific tag name with one command in both modules?</p>\n"},{"tags":["java","android","paypal","lifecycle"],"owner":{"account_id":28653600,"reputation":1,"user_id":21940104,"display_name":"Carlos Alonso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684753485,"creation_date":1684753485,"question_id":76305519,"body_markdown":"Im trying to implement paypal in my android app. Im using java.\r\n\r\nimplementation &#39;com.paypal.checkout:android-sdk:0.2.0&#39;\r\n\r\nBut i get this 3 errors:\r\n\r\nFailed to resolve: android.arch.lifecycle:extensions:2.1.0\r\nShow in Project Structure dialog\r\nAffected Modules: app\r\nFailed to resolve: android.arch.lifecycle:runtime:2.1.0\r\nShow in Project Structure dialog\r\nAffected Modules: app\r\nFailed to resolve: org.jfrog.cardinalcommerce.gradle:cardinalmobilesdk:2.2.4-1\r\nShow in Project Structure dialog\r\nAffected Modules: app\r\n\r\nI tried to implement this but doesn&#39;t fix the problems. \r\n\r\nhttps://developer.android.com/jetpack/androidx/releases/lifecycle?hl=es-419#java\r\n`def lifecycle_version = &quot;2.5.1&quot;\r\n        def arch_version = &quot;2.1.0&quot;\r\n\r\n        // ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\n        // LiveData\r\n        implementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\r\n        // Lifecycles only (without ViewModel or LiveData)\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n\r\n        // Saved state module for ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\r\n\r\n        // Annotation processor\r\n        annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n        // alternately - if using Java8, use the following instead of lifecycle-compiler\r\n        implementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\r\n\r\n        // optional - helpers for implementing LifecycleOwner in a Service\r\n        implementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\r\n\r\n        // optional - ProcessLifecycleOwner provides a lifecycle for the whole application process\r\n        implementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\r\n\r\n        // optional - ReactiveStreams support for LiveData\r\n        implementation &quot;androidx.lifecycle:lifecycle-reactivestreams:$lifecycle_version&quot;\r\n\r\n        // optional - Test helpers for LiveData\r\n        testImplementation &quot;androidx.arch.core:core-testing:$arch_version&quot;\r\n\r\n        // optional - Test helpers for Lifecycle runtime\r\n        testImplementation &quot;androidx.lifecycle:lifecycle-runtime-testing:$lifecycle_version&quot;`","title":"Implementing PayPal with Java in Android app is showing &quot;Failed to resolve&quot; errors. What could be the causes and how to resolve them?","body":"<p>Im trying to implement paypal in my android app. Im using java.</p>\n<p>implementation 'com.paypal.checkout:android-sdk:0.2.0'</p>\n<p>But i get this 3 errors:</p>\n<p>Failed to resolve: android.arch.lifecycle:extensions:2.1.0\nShow in Project Structure dialog\nAffected Modules: app\nFailed to resolve: android.arch.lifecycle:runtime:2.1.0\nShow in Project Structure dialog\nAffected Modules: app\nFailed to resolve: org.jfrog.cardinalcommerce.gradle:cardinalmobilesdk:2.2.4-1\nShow in Project Structure dialog\nAffected Modules: app</p>\n<p>I tried to implement this but doesn't fix the problems.</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=es-419#java\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=es-419#java</a>\n`def lifecycle_version = &quot;2.5.1&quot;\ndef arch_version = &quot;2.1.0&quot;</p>\n<pre><code>    // ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\n    // Lifecycles only (without ViewModel or LiveData)\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n\n    // Saved state module for ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\n\n    // Annotation processor\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n    // alternately - if using Java8, use the following instead of lifecycle-compiler\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\n\n    // optional - helpers for implementing LifecycleOwner in a Service\n    implementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\n\n    // optional - ProcessLifecycleOwner provides a lifecycle for the whole application process\n    implementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\n\n    // optional - ReactiveStreams support for LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-reactivestreams:$lifecycle_version&quot;\n\n    // optional - Test helpers for LiveData\n    testImplementation &quot;androidx.arch.core:core-testing:$arch_version&quot;\n\n    // optional - Test helpers for Lifecycle runtime\n    testImplementation &quot;androidx.lifecycle:lifecycle-runtime-testing:$lifecycle_version&quot;`\n</code></pre>\n"},{"tags":["java","regex","substring"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1684713636,"post_id":76302363,"comment_id":134552648,"body_markdown":"What is the general syntax you start with?  You give one example, which makes it hard to decide what the general case is supposed to be. Somehow I don&#39;t think `s.substring(0,113)` is the exact answer you want.","body":"What is the general syntax you start with?  You give one example, which makes it hard to decide what the general case is supposed to be. Somehow I don&#39;t think <code>s.substring(0,113)</code> is the exact answer you want."}],"answers":[{"tags":[],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684713723,"creation_date":1684713723,"answer_id":76302380,"question_id":76302363,"body_markdown":"I have two solutions.\r\nusing indexOf:\r\n```java\r\nString input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\r\n\r\n// Find the index of &quot;resource_name&quot;\r\nint endIndex = input.indexOf(&quot;/resource_name&quot;);\r\n\r\n// Extract the substring until &quot;resource_name&quot;\r\nString substring = input.substring(0, endIndex);\r\n\r\nSystem.out.println(substring);\r\n```\r\n\r\nusing replaceAll:\r\n```java\r\nString input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\r\n\r\nString regex = &quot;/resource_name.*$&quot;;\r\nString substring = input.replaceAll(regex, &quot;&quot;);\r\n\r\nSystem.out.println(substring);\r\n```\r\n\r\nIn my end, it works well. Hope these would give you help.","title":"How to fetch substring in required format from a String in java?","body":"<p>I have two solutions.\nusing indexOf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n\n// Find the index of &quot;resource_name&quot;\nint endIndex = input.indexOf(&quot;/resource_name&quot;);\n\n// Extract the substring until &quot;resource_name&quot;\nString substring = input.substring(0, endIndex);\n\nSystem.out.println(substring);\n</code></pre>\n<p>using replaceAll:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n\nString regex = &quot;/resource_name.*$&quot;;\nString substring = input.replaceAll(regex, &quot;&quot;);\n\nSystem.out.println(substring);\n</code></pre>\n<p>In my end, it works well. Hope these would give you help.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684728111,"creation_date":1684714381,"answer_id":76302407,"question_id":76302363,"body_markdown":"There are a few ways to do this.\r\n\r\nYou can use a `Pattern` and `Matcher`, to isolate the data using a regular expression capture.\r\n\r\nOr, you can use a `replace` procedure to remove the data you don&#39;t want.\r\n\r\nOr, finally, you can use an `indexOf` procedure to acquire an end-index for a `substring` method.\r\n\r\nBecause of the simplicity, I recommend the final option.\r\n\r\nConsider the following method, `parse`, which takes the `String` value as the first parameter, and the starting and ending `String` values as the second and third parameter.\r\n\r\n```java\r\nString parse(String string, String start, String end) {\r\n    int indexOf = string.indexOf(start);\r\n    return string.substring(indexOf, string.indexOf(end) + end.length());\r\n}\r\n```\r\n\r\nAnd, here is an example of it&#39;s usage.\r\n\r\n```java\r\nString string = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\r\nString value = parse(string, &quot;subscriptions&quot;, &quot;resource_name&quot;);\r\nSystem.out.println(value);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nsubscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\r\n```","title":"How to fetch substring in required format from a String in java?","body":"<p>There are a few ways to do this.</p>\n<p>You can use a <code>Pattern</code> and <code>Matcher</code>, to isolate the data using a regular expression capture.</p>\n<p>Or, you can use a <code>replace</code> procedure to remove the data you don't want.</p>\n<p>Or, finally, you can use an <code>indexOf</code> procedure to acquire an end-index for a <code>substring</code> method.</p>\n<p>Because of the simplicity, I recommend the final option.</p>\n<p>Consider the following method, <code>parse</code>, which takes the <code>String</code> value as the first parameter, and the starting and ending <code>String</code> values as the second and third parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String parse(String string, String start, String end) {\n    int indexOf = string.indexOf(start);\n    return string.substring(indexOf, string.indexOf(end) + end.length());\n}\n</code></pre>\n<p>And, here is an example of it's usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\nString value = parse(string, &quot;subscriptions&quot;, &quot;resource_name&quot;);\nSystem.out.println(value);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684737483,"creation_date":1684736927,"answer_id":76303518,"question_id":76302363,"body_markdown":"You can do something like this,\r\n```\r\n String sample = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\r\n StringBuilder subString = new StringBuilder(sample.substring(11, sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\r\n String endString = sample.substring(sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\r\n int lastIndex=subString.lastIndexOf(&quot;/&quot;);\r\n new StringBuilder(subString.replace(lastIndex,subString.length(),&quot;/vm_name&quot;).append(endString));\r\n ```","title":"How to fetch substring in required format from a String in java?","body":"<p>You can do something like this,</p>\n<pre><code> String sample = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n StringBuilder subString = new StringBuilder(sample.substring(11, sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\n String endString = sample.substring(sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\n int lastIndex=subString.lastIndexOf(&quot;/&quot;);\n new StringBuilder(subString.replace(lastIndex,subString.length(),&quot;/vm_name&quot;).append(endString));\n</code></pre>\n"}],"owner":{"account_id":12637935,"reputation":49,"user_id":9186497,"display_name":"dev007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76302407,"answer_count":3,"score":-2,"last_activity_date":1684753155,"creation_date":1684713132,"question_id":76302363,"body_markdown":"I have the String in the below format. \r\n\r\n    &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;\r\n\r\nI&#39;m trying to fetch the substring in the below manner by ideally splitting the string based on &quot;/&quot; and fetch the first part of string until resource_name :\r\n\r\n    /subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\r\n\r\nHow to achieve this format either by using substring or regEx in java?\r\n\r\nEdited\r\n---\r\n\r\nIn the given string ,resource_name will be substituted with vm_name or akv_name. It will be not be resource_name for ever in the string, have given generic name. \r\n\r\nBasically, I need to go until virtualMachines from the start and fetch the resource_name which is appended next to virtualMachines by a slash \r\n\r\nThen in this scenario.. how to handle it?\r\n\r\n","title":"How to fetch substring in required format from a String in java?","body":"<p>I have the String in the below format.</p>\n<pre><code>&quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;\n</code></pre>\n<p>I'm trying to fetch the substring in the below manner by ideally splitting the string based on &quot;/&quot; and fetch the first part of string until resource_name :</p>\n<pre><code>/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\n</code></pre>\n<p>How to achieve this format either by using substring or regEx in java?</p>\n<h2>Edited</h2>\n<p>In the given string ,resource_name will be substituted with vm_name or akv_name. It will be not be resource_name for ever in the string, have given generic name.</p>\n<p>Basically, I need to go until virtualMachines from the start and fetch the resource_name which is appended next to virtualMachines by a slash</p>\n<p>Then in this scenario.. how to handle it?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1684519729,"post_id":76291388,"comment_id":134534369,"body_markdown":"“i can only change the Graphics2D object color and if I did this the whole graph will be changed to the new color” …You can call g.setColor or g.setPaint multiple times in a single painting method.  You can change the color before you draw each shape.  I suspect you are currently storing only a list of shapes, without color information, but since you haven’t shown us any code, I can only guess about that.","body":"“i can only change the Graphics2D object color and if I did this the whole graph will be changed to the new color” …You can call g.setColor or g.setPaint multiple times in a single painting method.  You can change the color before you draw each shape.  I suspect you are currently storing only a list of shapes, without color information, but since you haven’t shown us any code, I can only guess about that."},{"owner":{"account_id":27582284,"reputation":1,"user_id":21051223,"display_name":"Mowafk Mha"},"score":0,"creation_date":1684523378,"post_id":76291388,"comment_id":134534969,"body_markdown":"I know that I can use g.setcolor before drawing any shape but how to change that color later for only one shape not all of them , I have the reference for all the shapes but they all share the same color variable  , for example I want to change the color of the second shape only not all the shapes","body":"I know that I can use g.setcolor before drawing any shape but how to change that color later for only one shape not all of them , I have the reference for all the shapes but they all share the same color variable  , for example I want to change the color of the second shape only not all the shapes"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684525463,"post_id":76291388,"comment_id":134535257,"body_markdown":"Edit your question and show the code for your painting method.  We cannot answer without seeing how you store your shapes.","body":"Edit your question and show the code for your painting method.  We cannot answer without seeing how you store your shapes."},{"owner":{"account_id":27582284,"reputation":1,"user_id":21051223,"display_name":"Mowafk Mha"},"score":0,"creation_date":1684530936,"post_id":76291388,"comment_id":134536120,"body_markdown":"I added an example of what I&#39;m trying to do","body":"I added an example of what I&#39;m trying to do"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684531120,"post_id":76291388,"comment_id":134536139,"body_markdown":"`Ellipse2D.Double oval_1;` cannot by itself record the color.  Why not add a `Color oval_color_1;` field, and use that in your paintComponent method?  (By the way, your paintComponent methods needs to call super.paintComponent(g); before doing anything else.  See https://docs.oracle.com/javase/tutorial/uiswing/painting/ for an explanation.)","body":"<code>Ellipse2D.Double oval_1;</code> cannot by itself record the color.  Why not add a <code>Color oval_color_1;</code> field, and use that in your paintComponent method?  (By the way, your paintComponent methods needs to call super.paintComponent(g); before doing anything else.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting</a> for an explanation.)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684531608,"post_id":76291388,"comment_id":134536210,"body_markdown":"Keep an ArrayList of objects to be painted. This way you can keep the properties such as the shape and color of the object. See: [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for more information and working examples.","body":"Keep an ArrayList of objects to be painted. This way you can keep the properties such as the shape and color of the object. See: <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for more information and working examples."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684536016,"post_id":76291388,"comment_id":134536738,"body_markdown":"For [example](https://stackoverflow.com/questions/34168628/gui-application-that-allows-the-user-to-choose-the-shape-and-color-of-a-drawing/34168841#34168841)","body":"For <a href=\"https://stackoverflow.com/questions/34168628/gui-application-that-allows-the-user-to-choose-the-shape-and-color-of-a-drawing/34168841#34168841\">example</a>"}],"owner":{"account_id":27582284,"reputation":1,"user_id":21051223,"display_name":"Mowafk Mha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684752908,"creation_date":1684518230,"question_id":76291388,"body_markdown":"im trying to make a gui visualizer for a certine graph (only one graph ) and I want to visulize the travelling sales man problem on it , so first i will draw the graph and then I will solve it using some algorithims, im using swing and im drawing all the shapes (circles and lines) on a panel by overriding the paint method , what im trying to do is to change the color of any shape I want  in the middle of my program   \r\n the problem im struggling with is how to change the color of any shape that I draw \r\n,all my vertices will hava a shape object  that i will add to the Graphics2D object of the panel that I will draw on, but how to change the color of only one shape from the many shapes that I draw on the same panel \r\nshape dosn&#39;t have setcolor() methode and i can only change the \r\nGraphics2D object color and if I did this the whole graph will be changed to the new color \r\n\r\nI want to draw many shapes inside the JPanel and I want to be able to change the color of any shape I want during my program\r\n\r\n   \r\n\r\n    public class Graphtesting {\r\n\r\n  \r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        JFrame frame=new JFrame();\r\n        frame.setDefaultCloseOperation(3);\r\n        My_Panel panel=new My_Panel();\r\n        frame.add(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        int var=sc.nextInt();\r\n        if(var==0)\r\n        {\r\n            // i want to change the color of oval 2 only and not both \r\n            //panel.oval_1.setcolor()    i want to do something like this but shape dosn&#39;t have a function to set color \r\n            // its like i want a seprate graphics2d object for each one of my shapes because i want to be able to change the color of each one individualy \r\n        }\r\n        else\r\n        {\r\n            // i want to change the color of oval 1 only and not both \r\n        }\r\n         \r\n    }\r\n    }\r\n    \r\n    \r\n    class My_Panel extends JPanel\r\n    {\r\n        Ellipse2D.Double oval_1;\r\n        Ellipse2D.Double oval_2;\r\n        \r\n        My_Panel()\r\n        {\r\n            setPreferredSize(new Dimension(500,500));\r\n        \r\n        }\r\n        @Override\r\n        public void paintComponent(Graphics g){\r\n\r\n    Graphics2D g2d=(Graphics2D)g;\r\n\r\n     oval_1=new Ellipse2D.Double(10,10,50,50);\r\n\r\n     oval_2=new Ellipse2D.Double(60,60,50,50);\r\n\r\n    g2d.setColor(Color.orange);  \r\n    \r\n    g2d.fill(oval_2);    \r\n             \r\n    g2d.setColor(Color.red); \r\n\r\n    g2d.fill(oval_1);\r\n    }\r\n    }\r\n    ","title":"How can I change the color of a specific shape in a Java Swing JPanel containing many shapes?","body":"<p>im trying to make a gui visualizer for a certine graph (only one graph ) and I want to visulize the travelling sales man problem on it , so first i will draw the graph and then I will solve it using some algorithims, im using swing and im drawing all the shapes (circles and lines) on a panel by overriding the paint method , what im trying to do is to change the color of any shape I want  in the middle of my program<br />\nthe problem im struggling with is how to change the color of any shape that I draw\n,all my vertices will hava a shape object  that i will add to the Graphics2D object of the panel that I will draw on, but how to change the color of only one shape from the many shapes that I draw on the same panel\nshape dosn't have setcolor() methode and i can only change the\nGraphics2D object color and if I did this the whole graph will be changed to the new color</p>\n<p>I want to draw many shapes inside the JPanel and I want to be able to change the color of any shape I want during my program</p>\n<pre><code>public class Graphtesting {\n\n\npublic static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    JFrame frame=new JFrame();\n    frame.setDefaultCloseOperation(3);\n    My_Panel panel=new My_Panel();\n    frame.add(panel);\n    frame.pack();\n    frame.setVisible(true);\n    int var=sc.nextInt();\n    if(var==0)\n    {\n        // i want to change the color of oval 2 only and not both \n        //panel.oval_1.setcolor()    i want to do something like this but shape dosn't have a function to set color \n        // its like i want a seprate graphics2d object for each one of my shapes because i want to be able to change the color of each one individualy \n    }\n    else\n    {\n        // i want to change the color of oval 1 only and not both \n    }\n     \n}\n}\n\n\nclass My_Panel extends JPanel\n{\n    Ellipse2D.Double oval_1;\n    Ellipse2D.Double oval_2;\n    \n    My_Panel()\n    {\n        setPreferredSize(new Dimension(500,500));\n    \n    }\n    @Override\n    public void paintComponent(Graphics g){\n\nGraphics2D g2d=(Graphics2D)g;\n\n oval_1=new Ellipse2D.Double(10,10,50,50);\n\n oval_2=new Ellipse2D.Double(60,60,50,50);\n\ng2d.setColor(Color.orange);  \n\ng2d.fill(oval_2);    \n         \ng2d.setColor(Color.red); \n\ng2d.fill(oval_1);\n}\n}\n</code></pre>\n"},{"tags":["java","apparmor"],"answers":[{"tags":[],"owner":{"account_id":27884225,"reputation":36,"user_id":21292052,"display_name":"user21292052"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684752728,"creation_date":1684752728,"answer_id":76305433,"question_id":20495632,"body_markdown":"I have the same problem with a systemd service that starts an application via `java -jar ...`.\r\n\r\nAs `aa-genprof` and AppArmor in general only works with file path and not PIDs and the jar files are not executables, it seems to me like one has to write a profile manually, maybe assisted by `aa-easyprof`, `aa-genprof` or `aa-logprof` for java.\r\n\r\nThe profile can then be enforced with e.g. the `AppArmorProfile=` directive in systemd.","title":"apparmor profile for a java application run run with java -jar","body":"<p>I have the same problem with a systemd service that starts an application via <code>java -jar ...</code>.</p>\n<p>As <code>aa-genprof</code> and AppArmor in general only works with file path and not PIDs and the jar files are not executables, it seems to me like one has to write a profile manually, maybe assisted by <code>aa-easyprof</code>, <code>aa-genprof</code> or <code>aa-logprof</code> for java.</p>\n<p>The profile can then be enforced with e.g. the <code>AppArmorProfile=</code> directive in systemd.</p>\n"}],"owner":{"account_id":782232,"reputation":390,"user_id":833359,"accept_rate":62,"display_name":"Sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1684752728,"creation_date":1386681442,"question_id":20495632,"body_markdown":"I am working with `logstash` and it is unable to read some log files.\r\nTo be able to read, I think I have to add a profile in apparmor but am pretty lost at this point.\r\n\r\n1. The app is run as:\r\n    `java -jar ....`\r\nDo I have to add a profile for java or is there some other simpler way?\r\n2. Will simply adding a single line like \r\n   `/path/to/mylogs r `\r\nwork?\r\n\r\nThanks for any help.","title":"apparmor profile for a java application run run with java -jar","body":"<p>I am working with <code>logstash</code> and it is unable to read some log files.\nTo be able to read, I think I have to add a profile in apparmor but am pretty lost at this point.</p>\n\n<ol>\n<li>The app is run as:\n<code>java -jar ....</code>\nDo I have to add a profile for java or is there some other simpler way?</li>\n<li>Will simply adding a single line like \n<code>/path/to/mylogs r</code>\nwork?</li>\n</ol>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","append","double-quotes"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1506605382,"post_id":46469143,"comment_id":79895875,"body_markdown":"Have you tried anything yet though?","body":"Have you tried anything yet though?"},{"owner":{"account_id":10301316,"reputation":10,"user_id":7599979,"display_name":"veda"},"score":0,"creation_date":1506684523,"post_id":46469143,"comment_id":79930091,"body_markdown":"Yead ,I tried  I am able to append double quotes to my array values, I tried this     &quot;\\&quot;&quot;+a[x]+&quot;\\&quot;&quot;.\nThanks everyone for your inputs.","body":"Yead ,I tried  I am able to append double quotes to my array values, I tried this     &quot;\\&quot;&quot;+a[x]+&quot;\\&quot;&quot;. Thanks everyone for your inputs."}],"answers":[{"tags":[],"owner":{"account_id":397924,"reputation":1022,"user_id":762326,"display_name":"vegaasen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506601743,"creation_date":1506601743,"answer_id":46469192,"question_id":46469143,"body_markdown":"I guess what you might be looking for is as follows:\r\n\r\n    region.append(&quot;\\&quot;&quot;).append(a[z]).append(&quot;\\&quot;&quot;).append(&#39;,&#39;);\r\n","title":"how to append Double quotes (&quot; &quot;) For a String Array Varible in java","body":"<p>I guess what you might be looking for is as follows:</p>\n\n<pre><code>region.append(\"\\\"\").append(a[z]).append(\"\\\"\").append(',');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506602157,"creation_date":1506602117,"answer_id":46469325,"question_id":46469143,"body_markdown":"If you&#39;re using Java 8, what you probably want to do is\r\n\r\n    String region = Arrays.stream(a)\r\n        .map(s -&gt; String.format(&quot;\\&quot;%s\\&quot;&quot;, s)) // add double quotes around each string\r\n        .collect(Collectors.joining(&quot;,&quot;); // comma-separate values","title":"how to append Double quotes (&quot; &quot;) For a String Array Varible in java","body":"<p>If you're using Java 8, what you probably want to do is</p>\n\n<pre><code>String region = Arrays.stream(a)\n    .map(s -&gt; String.format(\"\\\"%s\\\"\", s)) // add double quotes around each string\n    .collect(Collectors.joining(\",\"); // comma-separate values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8873451,"reputation":458,"user_id":6626496,"display_name":"Leonardo Pina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506603745,"creation_date":1506603745,"answer_id":46469881,"question_id":46469143,"body_markdown":" 1. for each string, surround it with quotes \r\n 2. for each string, except the last one, add a comma to its end\r\n 3. write all strings in the file.\r\n\r\nex:\r\n\r\n    int l = myStrings.length;\r\n    for(int i = 0; i &lt; l; i++){\r\n        // Adds &quot; to the begning of the string and &quot;, to the end of the string.\r\n        myStrings[i] = &quot;\\&quot;&quot; + mystrings[i] + &quot;\\&quot;,&quot;;\r\n        // if you want to use String.format:\r\n        //myStrings[i] = String.format(&quot;\\&quot;%s\\&quot;,&quot;, myStrings[i]);\r\n\r\n        // if it is the last string, remove the unwanted comma\r\n        if(i == l-1){\r\n            // gets the substring of the last string in the array, excluding only\r\n            // the last character, because it is an unwanted comma\r\n            myStrings[i] = myStrings[i].substring(0,l);\r\n        }\r\n        \r\n        // Write in your file here\r\n        // region.append(myStrings[i]);\r\n    }\r\n    ","title":"how to append Double quotes (&quot; &quot;) For a String Array Varible in java","body":"<ol>\n<li>for each string, surround it with quotes </li>\n<li>for each string, except the last one, add a comma to its end</li>\n<li>write all strings in the file.</li>\n</ol>\n\n<p>ex:</p>\n\n<pre><code>int l = myStrings.length;\nfor(int i = 0; i &lt; l; i++){\n    // Adds \" to the begning of the string and \", to the end of the string.\n    myStrings[i] = \"\\\"\" + mystrings[i] + \"\\\",\";\n    // if you want to use String.format:\n    //myStrings[i] = String.format(\"\\\"%s\\\",\", myStrings[i]);\n\n    // if it is the last string, remove the unwanted comma\n    if(i == l-1){\n        // gets the substring of the last string in the array, excluding only\n        // the last character, because it is an unwanted comma\n        myStrings[i] = myStrings[i].substring(0,l);\n    }\n\n    // Write in your file here\n    // region.append(myStrings[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25299934,"reputation":31,"user_id":19124332,"display_name":"Rahul Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684752378,"creation_date":1684751955,"answer_id":76305339,"question_id":46469143,"body_markdown":"```\r\nArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;();\r\nstr.add(&quot;One&quot;);\r\nstr.add(&quot;Two&quot;);\r\nstr.add(&quot;Three&quot;);\r\nJSONArray array = new JSONArray();\r\nfor (String i : str) {\r\n    array.put(i);\r\n}\r\nJSONObject userData = new JSONObject();\r\nuserData.put(&quot;user&quot;, array);\r\nprint(&quot;&quot; + userData)\r\n```\r\nOutPut:\r\n\r\n    {&quot;user&quot;: [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]}","title":"how to append Double quotes (&quot; &quot;) For a String Array Varible in java","body":"<pre><code>ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;();\nstr.add(&quot;One&quot;);\nstr.add(&quot;Two&quot;);\nstr.add(&quot;Three&quot;);\nJSONArray array = new JSONArray();\nfor (String i : str) {\n    array.put(i);\n}\nJSONObject userData = new JSONObject();\nuserData.put(&quot;user&quot;, array);\nprint(&quot;&quot; + userData)\n</code></pre>\n<p>OutPut:</p>\n<pre><code>{&quot;user&quot;: [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]}\n</code></pre>\n"}],"owner":{"account_id":10301316,"reputation":10,"user_id":7599979,"display_name":"veda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1684752378,"creation_date":1506601588,"question_id":46469143,"body_markdown":"I am working with  writing files.I have a string array as in loop \r\nI need to append double quotes for the all values which are writing it on  files . Can any one help me how to append double quotes for the all values in String Array.Thanks in advance`\r\n\r\n    \t\t\t\r\n    \t\t","title":"how to append Double quotes (&quot; &quot;) For a String Array Varible in java","body":"<p>I am working with  writing files.I have a string array as in loop \nI need to append double quotes for the all values which are writing it on  files . Can any one help me how to append double quotes for the all values in String Array.Thanks in advance`</p>\n"},{"tags":["java","spring","spring-cloud-sleuth","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":7175240,"reputation":725,"user_id":5481419,"accept_rate":77,"display_name":"Dfarrelly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684751907,"creation_date":1684751907,"answer_id":76305330,"question_id":76226277,"body_markdown":"I managed to make this work by autowiring a `Tracer` and instead adding the baggage inside the `Tracer`.\r\n\r\n    @Autowired\r\n    private final Tracer tracer;\r\n\r\n    tracer.createBaggageInScope(&quot;USER_ID&quot;, &quot;USER_ID_VALUE&quot;);","title":"Brave Baggage not working after switching from spring-cloud-sleuth to micrometer-tracing","body":"<p>I managed to make this work by autowiring a <code>Tracer</code> and instead adding the baggage inside the <code>Tracer</code>.</p>\n<pre><code>@Autowired\nprivate final Tracer tracer;\n\ntracer.createBaggageInScope(&quot;USER_ID&quot;, &quot;USER_ID_VALUE&quot;);\n</code></pre>\n"}],"owner":{"account_id":7175240,"reputation":725,"user_id":5481419,"accept_rate":77,"display_name":"Dfarrelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2011,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76305330,"answer_count":1,"score":4,"last_activity_date":1684751907,"creation_date":1683798386,"question_id":76226277,"body_markdown":"I am updating my spring project to newer versions, and after updating I got the following message: \r\n\r\n&gt; Your project setup is incompatible with our requirements due to following reasons: Spring Cloud Sleuth is not compatible with this Spring Cloud release train, Action: Consider applying the following actions: Migrate from Spring Cloud Sleuth to Micrometer Tracing.\r\n\r\nSo I removed sleuth and added the micrometer-tracing and micrometer-tracing-bridge-brave dependencies and switched to the following configuration:\r\n\r\n    management:\r\n      tracing:\r\n        enabled: true\r\n        baggage:\r\n          enabled: true\r\n          correlation:\r\n            enabled: true\r\n            fields: USER_ID\r\n          remote-fields: USER_ID\r\n\r\nNow my `BaggageField` is not getting added to my MDCs as it was before. I have narrowed it down to the `tracing.currentTraceContext().get()` returning null when I call `BaggageField.updateValue()` but I cannot figure out why this is. \r\n\r\n    @Nullable static TraceContext currentTraceContext() {\r\n        Tracing tracing = Tracing.current();\r\n        return tracing != null ? tracing.currentTraceContext().get() : null;\r\n    }\r\n\r\nHere is my code that creates the BaggageField bean:\r\n\r\n    import brave.baggage.BaggageField;\r\n    import brave.baggage.CorrelationScopeConfig;\r\n    import brave.context.slf4j.MDCScopeDecorator;\r\n    import brave.propagation.CurrentTraceContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class BaggageConfig {\r\n    \r\n        public static final String USER_ID_KEY = &quot;USER_ID&quot;;\r\n    \r\n        @Bean\r\n        BaggageField userIdField() {\r\n            return BaggageField.create(USER_ID_KEY);\r\n        }\r\n        \r\n    \r\n        @Bean\r\n        public CurrentTraceContext.ScopeDecorator mdcScopeDecorator(BaggageField userIdField) {\r\n            return MDCScopeDecorator.newBuilder()\r\n                    .clear()\r\n                    .add(CorrelationScopeConfig.SingleCorrelationField.newBuilder(userIdField).flushOnUpdate().build())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nAnd when I try to update the value I autowire in the BaggageField:\r\n\r\n    private final BaggageField userIdField;\r\n\r\nAnd update:\r\n\r\n    userIdField.updateValue(requestMetadataContext.getUserId());\r\n\r\nVersions:\r\n\r\n    org.springframework.boot:3.0.6\r\n    org.springframework.cloud:spring-cloud-starter-bootstrap:4.0.2\r\n    org.springframework.cloud:spring-cloud-starter-consul-all:4.0.2\r\n    io.micrometer:micrometer-tracing:1.1.0\r\n    io.micrometer:micrometer-tracing-bridge-brave:1.1.0\r\n\r\nEdit:\r\nSmall application to reproduce [Baggage Example][1]\r\n\r\n\r\n  [1]: https://github.com/davefarrelly/baggage-example","title":"Brave Baggage not working after switching from spring-cloud-sleuth to micrometer-tracing","body":"<p>I am updating my spring project to newer versions, and after updating I got the following message:</p>\n<blockquote>\n<p>Your project setup is incompatible with our requirements due to following reasons: Spring Cloud Sleuth is not compatible with this Spring Cloud release train, Action: Consider applying the following actions: Migrate from Spring Cloud Sleuth to Micrometer Tracing.</p>\n</blockquote>\n<p>So I removed sleuth and added the micrometer-tracing and micrometer-tracing-bridge-brave dependencies and switched to the following configuration:</p>\n<pre><code>management:\n  tracing:\n    enabled: true\n    baggage:\n      enabled: true\n      correlation:\n        enabled: true\n        fields: USER_ID\n      remote-fields: USER_ID\n</code></pre>\n<p>Now my <code>BaggageField</code> is not getting added to my MDCs as it was before. I have narrowed it down to the <code>tracing.currentTraceContext().get()</code> returning null when I call <code>BaggageField.updateValue()</code> but I cannot figure out why this is.</p>\n<pre><code>@Nullable static TraceContext currentTraceContext() {\n    Tracing tracing = Tracing.current();\n    return tracing != null ? tracing.currentTraceContext().get() : null;\n}\n</code></pre>\n<p>Here is my code that creates the BaggageField bean:</p>\n<pre><code>import brave.baggage.BaggageField;\nimport brave.baggage.CorrelationScopeConfig;\nimport brave.context.slf4j.MDCScopeDecorator;\nimport brave.propagation.CurrentTraceContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class BaggageConfig {\n\n    public static final String USER_ID_KEY = &quot;USER_ID&quot;;\n\n    @Bean\n    BaggageField userIdField() {\n        return BaggageField.create(USER_ID_KEY);\n    }\n    \n\n    @Bean\n    public CurrentTraceContext.ScopeDecorator mdcScopeDecorator(BaggageField userIdField) {\n        return MDCScopeDecorator.newBuilder()\n                .clear()\n                .add(CorrelationScopeConfig.SingleCorrelationField.newBuilder(userIdField).flushOnUpdate().build())\n                .build();\n    }\n}\n</code></pre>\n<p>And when I try to update the value I autowire in the BaggageField:</p>\n<pre><code>private final BaggageField userIdField;\n</code></pre>\n<p>And update:</p>\n<pre><code>userIdField.updateValue(requestMetadataContext.getUserId());\n</code></pre>\n<p>Versions:</p>\n<pre><code>org.springframework.boot:3.0.6\norg.springframework.cloud:spring-cloud-starter-bootstrap:4.0.2\norg.springframework.cloud:spring-cloud-starter-consul-all:4.0.2\nio.micrometer:micrometer-tracing:1.1.0\nio.micrometer:micrometer-tracing-bridge-brave:1.1.0\n</code></pre>\n<p>Edit:\nSmall application to reproduce <a href=\"https://github.com/davefarrelly/baggage-example\" rel=\"nofollow noreferrer\">Baggage Example</a></p>\n"},{"tags":["java","android","apache-poi"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1681378178,"post_id":76003739,"comment_id":134047763,"body_markdown":"`but less than API Android 33 save very well.` Because you use MANAGE_EXTERNAL_STIRAGE. Without that it will fail on 30+.","body":"<code>but less than API Android 33 save very well.</code> Because you use MANAGE_EXTERNAL_STIRAGE. Without that it will fail on 30+."},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1681378431,"post_id":76003739,"comment_id":134047829,"body_markdown":"@blackapps - I have used MANAGE_EXTERNAL_STORAGE in my project, but not work","body":"@blackapps - I have used MANAGE_EXTERNAL_STORAGE in my project, but not work"},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1681907287,"post_id":76003739,"comment_id":134132090,"body_markdown":"@blackapps ok I changed logcat to code block view","body":"@blackapps ok I changed logcat to code block view"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681918112,"post_id":76003739,"comment_id":134135340,"body_markdown":"`if (!file.exists()) {\n            file.mkdirs();\n        }` That should be: `if (!file.exists()) {\n            if(!file.mkdirs()) return;\n        }`","body":"<code>if (!file.exists()) {             file.mkdirs();         }</code> That should be: <code>if (!file.exists()) {             if(!file.mkdirs()) return;         }</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681918149,"post_id":76003739,"comment_id":134135349,"body_markdown":"You should use an existing public directory. Do not try to create one yourself.","body":"You should use an existing public directory. Do not try to create one yourself."},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1681988421,"post_id":76003739,"comment_id":134146650,"body_markdown":"@blackapps I changed it this way but I can&#39;t write the file I even change the path but did not get correct.","body":"@blackapps I changed it this way but I can&#39;t write the file I even change the path but did not get correct."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681988508,"post_id":76003739,"comment_id":134146663,"body_markdown":"Post your new code. Then tell what5 happens.","body":"Post your new code. Then tell what5 happens."},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1681989339,"post_id":76003739,"comment_id":134146859,"body_markdown":"@blackapps  : &gt;         String path = this.getExternalFilesDir(null).getAbsolutePath() + File.separator + folderName + File.separator + fileName;\n\n\n      File file = new File(path);\n        if (!file.exists()) {\n            File wallpaperDirectory = new File(path);\n            wallpaperDirectory.mkdirs();\n        }","body":"@blackapps  : &gt;         String path = this.getExternalFilesDir(null).getAbsolutePath() + File.separator + folderName + File.separator + fileName;         File file = new File(path);         if (!file.exists()) {             File wallpaperDirectory = new File(path);             wallpaperDirectory.mkdirs();         }"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1681989651,"post_id":76003739,"comment_id":134146933,"body_markdown":"Terrible. You have not used an existing public directory. You introduce a new File variable. You are not checking the return value of mkdirs(). You are doing nothing with all suggestions. And then you post code as comment. Unreadable. Post your code completely in your post. Also post the new logcat lines if anything goes wrong.","body":"Terrible. You have not used an existing public directory. You introduce a new File variable. You are not checking the return value of mkdirs(). You are doing nothing with all suggestions. And then you post code as comment. Unreadable. Post your code completely in your post. Also post the new logcat lines if anything goes wrong."},{"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"score":0,"creation_date":1681990207,"post_id":76003739,"comment_id":134147053,"body_markdown":"@blackapps\nsorry for the comment but I want to share the link answer that I used \n\nhttps://stackoverflow.com/a/70419518/10608055","body":"@blackapps sorry for the comment but I want to share the link answer that I used   <a href=\"https://stackoverflow.com/a/70419518/10608055\">stackoverflow.com/a/70419518/10608055</a>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681377847,"creation_date":1681377847,"answer_id":76003803,"question_id":76003739,"body_markdown":"You cannot request write permission on Android 13 devices.\r\n\r\nYou automatically have write permission in all app specific directories and all public directories on external storage.","title":"How to request write permission on the file system Android 13","body":"<p>You cannot request write permission on Android 13 devices.</p>\n<p>You automatically have write permission in all app specific directories and all public directories on external storage.</p>\n"},{"tags":[],"owner":{"account_id":251880,"reputation":594,"user_id":5505680,"display_name":"matheszabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684751898,"creation_date":1684751277,"answer_id":76305246,"question_id":76003739,"body_markdown":"In HomeFragment.kt is called like this:\r\n\r\n        binding.btHomeExport.setOnClickListener {\r\n            GlobalScope.launch {\r\n                exportData(requireActivity())\r\n            }\r\n        }\r\n\r\nThe `Export.kt` it is just a Java utility class converted to Kotlin, practically just to move out the code:\r\n\r\n\r\n\r\nobject Export {\r\n    suspend fun exportData(activity: Activity) {\r\n\r\n        try {\r\n            // read again from file?\r\n\r\n            val listMyDealWithMyClient = doReadFromFile(activity)\r\n\r\n            val timeZoneDate = SimpleDateFormat(&quot;yyyy-MMM-dd_HH-mm-ss&quot;, Locale.getDefault())\r\n            val formattedDate = timeZoneDate.format( Date())\r\n\r\n            val workbook = XSSFWorkbook()\r\n            val workSheet = workbook.createSheet(&quot;MyDeals_$formattedDate&quot;)\r\n            val colorMap = workbook.stylesSource.indexedColors\r\n\r\n            val cellStyleHeader = workbook.createCellStyle()\r\n            cellStyleHeader.fillForegroundColor = IndexedColors.AQUA.getIndex()\r\n            cellStyleHeader.fillPattern = FillPatternType.SOLID_FOREGROUND\r\n            cellStyleHeader.font.bold = true\r\n            cellStyleHeader.verticalAlignment = VerticalAlignment.CENTER\r\n            cellStyleHeader.alignment = HorizontalAlignment.CENTER\r\n            cellStyleHeader.setRightBorderColor( XSSFColor(byteArrayOf(0, 0, 0), colorMap))\r\n            cellStyleHeader.borderRight = BorderStyle.THIN\r\n\r\n\r\n            val row0 = workSheet.createRow(0)\r\n            row0.height = 800\r\n\r\nmore code here, which are data procesing ... \r\n\r\n            // save workbook to file:\r\n            val fileName = &quot;data_$formattedDate.xlsx&quot;\r\n            val fos: FileOutputStream =\r\n                activity.openFileOutput(fileName, Context.MODE_PRIVATE)!!\r\n\r\n            workbook.write(fos)\r\n            workbook.close()\r\n\r\n            withContext(Dispatchers.IO) {\r\n                fos.flush()\r\n                fos.close();\r\n            };\r\n\r\n            //need: fos.path, but it is private!\r\n\r\n            val appPath = activity.application?.filesDir?.absolutePath\r\n            // delete old .xlsx files\r\n            val dir = appPath?.let { File(it) }\r\n            dir?.listFiles()!!.forEach { file -&gt;\r\n                run {\r\n                    if (file.name.endsWith(&quot;.xlsx&quot;)) {\r\n                        file.deleteOnExit()\r\n                    }\r\n                }\r\n            }\r\n\r\n            val exportFile = File(appPath, fileName)\r\n\r\n\r\n            val sharingIntent = Intent(Intent.ACTION_SEND)\r\n\r\n            val fileUri =\r\n                FileProvider.getUriForFile(//\r\n                    activity.applicationContext!!,\r\n                    activity.packageName + &quot;.fileProvider&quot;,\r\n                    exportFile\r\n                );\r\n\r\nVERY IMPORTANT  `&quot;.fileProvider&quot;` must match the case with others:\r\nManifest:\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;false&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyAppTheme&quot;\r\n        tools:targetApi=&quot;33&quot;&gt;\r\n\r\n\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;my.package.with.myid.fileProvider&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_provider_path&quot;/&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;activity\r\n            android:name=\r\n\r\n\r\nNOT needed Read External, Write External permissions! None needed!\r\n\r\nAt `res/xml` create a file `file_provider_path.xml`\r\n\r\nPaste the content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;files-path\r\n            name=&quot;files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nThe file it wil be exported, not sure how it can be accessed by other apps. That&#39;s why I do a share / send file and I let the user choose the Intent:\r\n\r\n                // add provider\r\n                sharingIntent.type = &quot;*/*&quot;\r\n                sharingIntent.putExtra(Intent.EXTRA_STREAM, fileUri)\r\n    \r\n                sharingIntent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n    \r\n                activity.startActivity(sharingIntent)\r\n    \r\n    \r\n            } catch (ex: Exception) {\r\n                ex.printStackTrace()\r\n                Toast.makeText(activity, ex.message, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the final part of the `Export.kt`\r\n\r\nToday (May 22, 2023) it is working with Android 33...tomorrow maybe not -as how Google changes their API...\r\n\r\nI don&#39;t target other devices, just Android 33 - because it is a utility app for somebody. It were many changes at Androi pre 8, post 8, pre 9 , post 9, pre 10, post 10, pre 11, pre 12, post 12, pre 13, and +13\r\nSpent like 10 days to put the lego pieces together :)\r\n\r\nAs testing I am sending the .xlsx file via Bluetooth to Desktop PC ( Windowws 10) and checking there the data + formatting, and is working!","title":"How to request write permission on the file system Android 13","body":"<p>In HomeFragment.kt is called like this:</p>\n<pre><code>    binding.btHomeExport.setOnClickListener {\n        GlobalScope.launch {\n            exportData(requireActivity())\n        }\n    }\n</code></pre>\n<p>The <code>Export.kt</code> it is just a Java utility class converted to Kotlin, practically just to move out the code:</p>\n<p>object Export {\nsuspend fun exportData(activity: Activity) {</p>\n<pre><code>    try {\n        // read again from file?\n\n        val listMyDealWithMyClient = doReadFromFile(activity)\n\n        val timeZoneDate = SimpleDateFormat(&quot;yyyy-MMM-dd_HH-mm-ss&quot;, Locale.getDefault())\n        val formattedDate = timeZoneDate.format( Date())\n\n        val workbook = XSSFWorkbook()\n        val workSheet = workbook.createSheet(&quot;MyDeals_$formattedDate&quot;)\n        val colorMap = workbook.stylesSource.indexedColors\n\n        val cellStyleHeader = workbook.createCellStyle()\n        cellStyleHeader.fillForegroundColor = IndexedColors.AQUA.getIndex()\n        cellStyleHeader.fillPattern = FillPatternType.SOLID_FOREGROUND\n        cellStyleHeader.font.bold = true\n        cellStyleHeader.verticalAlignment = VerticalAlignment.CENTER\n        cellStyleHeader.alignment = HorizontalAlignment.CENTER\n        cellStyleHeader.setRightBorderColor( XSSFColor(byteArrayOf(0, 0, 0), colorMap))\n        cellStyleHeader.borderRight = BorderStyle.THIN\n\n\n        val row0 = workSheet.createRow(0)\n        row0.height = 800\n</code></pre>\n<p>more code here, which are data procesing ...</p>\n<pre><code>        // save workbook to file:\n        val fileName = &quot;data_$formattedDate.xlsx&quot;\n        val fos: FileOutputStream =\n            activity.openFileOutput(fileName, Context.MODE_PRIVATE)!!\n\n        workbook.write(fos)\n        workbook.close()\n\n        withContext(Dispatchers.IO) {\n            fos.flush()\n            fos.close();\n        };\n\n        //need: fos.path, but it is private!\n\n        val appPath = activity.application?.filesDir?.absolutePath\n        // delete old .xlsx files\n        val dir = appPath?.let { File(it) }\n        dir?.listFiles()!!.forEach { file -&gt;\n            run {\n                if (file.name.endsWith(&quot;.xlsx&quot;)) {\n                    file.deleteOnExit()\n                }\n            }\n        }\n\n        val exportFile = File(appPath, fileName)\n\n\n        val sharingIntent = Intent(Intent.ACTION_SEND)\n\n        val fileUri =\n            FileProvider.getUriForFile(//\n                activity.applicationContext!!,\n                activity.packageName + &quot;.fileProvider&quot;,\n                exportFile\n            );\n</code></pre>\n<p>VERY IMPORTANT  <code>&quot;.fileProvider&quot;</code> must match the case with others:\nManifest:</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;false&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyAppTheme&quot;\n    tools:targetApi=&quot;33&quot;&gt;\n\n\n\n    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;my.package.with.myid.fileProvider&quot;\n        android:grantUriPermissions=&quot;true&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_provider_path&quot;/&gt;\n    &lt;/provider&gt;\n\n    &lt;activity\n        android:name=\n</code></pre>\n<p>NOT needed Read External, Write External permissions! None needed!</p>\n<p>At <code>res/xml</code> create a file <code>file_provider_path.xml</code></p>\n<p>Paste the content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>The file it wil be exported, not sure how it can be accessed by other apps. That's why I do a share / send file and I let the user choose the Intent:</p>\n<pre><code>            // add provider\n            sharingIntent.type = &quot;*/*&quot;\n            sharingIntent.putExtra(Intent.EXTRA_STREAM, fileUri)\n\n            sharingIntent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n\n            activity.startActivity(sharingIntent)\n\n\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n            Toast.makeText(activity, ex.message, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>This is the final part of the <code>Export.kt</code></p>\n<p>Today (May 22, 2023) it is working with Android 33...tomorrow maybe not -as how Google changes their API...</p>\n<p>I don't target other devices, just Android 33 - because it is a utility app for somebody. It were many changes at Androi pre 8, post 8, pre 9 , post 9, pre 10, post 10, pre 11, pre 12, post 12, pre 13, and +13\nSpent like 10 days to put the lego pieces together :)</p>\n<p>As testing I am sending the .xlsx file via Bluetooth to Desktop PC ( Windowws 10) and checking there the data + formatting, and is working!</p>\n"}],"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76003803,"answer_count":2,"score":0,"last_activity_date":1684751898,"creation_date":1681377392,"question_id":76003739,"body_markdown":"I am targeting my Android app for Android 13 (API 33)\r\n\r\nI have generated an Excel file from my list and saved it but it doesn&#39;t save in API 33 but less than API Android 33 save very well.\r\n\r\n&gt; If needed, these libraries have been used\r\n&gt;\r\n&gt;     implementation &#39;org.apache.poi:poi:4.0.0&#39;\r\n&gt;     implementation &#39;org.apache.poi:poi-ooxml:4.0.0&#39;\r\n&gt; \r\n\r\n\r\n&gt; Manifest permission\r\n&gt; \r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n\r\nCheck Permission\r\n\r\n    private void checkPermission() {\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M) {\r\n            if (getApplicationContext().checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\r\n                String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n                requestPermissions(permissions, 1);\r\n            } else {\r\n                importData();\r\n            }\r\n        } else {\r\n            importData();\r\n        }\r\n    \r\n    }\r\n\r\nmake excel files and storage\r\n\r\n        private void importData() {\r\n            //get data from edit text\r\n    \r\n            try {\r\n                userList.add(new SheetModel(&quot;kawcher&quot;, &quot;0181238383&quot;, &quot;nmkawcher112@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;shuvo&quot;, &quot;0171238383&quot;, &quot;demo1@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;hasan&quot;, &quot;0161238383&quot;, &quot;demo2@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;habib&quot;, &quot;0151238383&quot;, &quot;demo3@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;selim&quot;, &quot;0131238383&quot;, &quot;demo4@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;tayeb&quot;, &quot;0121238383&quot;, &quot;demo5@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;abul kalam&quot;, &quot;0191238383&quot;, &quot;demo6@gmail.com&quot;));\r\n                userList.add(new SheetModel(&quot;Kamal&quot;, &quot;0101238383&quot;, &quot;demo7@gmail.com&quot;));\r\n    \r\n            }catch (Exception e){e.printStackTrace();}\r\n    \r\n            if (userList.size() &gt; 0) {\r\n                createXlFile();\r\n    \r\n    \r\n            } else {\r\n                Toast.makeText(this, &quot;list are empty&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        private void createXlFile() {\r\n    \r\n            // File filePath = new File(Environment.getExternalStorageDirectory() + &quot;/Demo.xls&quot;);\r\n            Workbook wb = new HSSFWorkbook();\r\n    \r\n    \r\n            Cell cell = null;\r\n    \r\n            Sheet sheet = null;\r\n            sheet = wb.createSheet(&quot;Demo Excel Sheet&quot;);\r\n            //Now column and row\r\n            Row row = sheet.createRow(0);\r\n    \r\n            cell = row.createCell(0);\r\n            cell.setCellValue(&quot;Person Name&quot;);\r\n    \r\n    \r\n            cell = row.createCell(1);\r\n            cell.setCellValue(&quot;Phone Number&quot;);\r\n    \r\n    \r\n            cell = row.createCell(2);\r\n            cell.setCellValue(&quot;Email Address&quot;);\r\n    \r\n    \r\n            //column width\r\n            sheet.setColumnWidth(0, (20 * 200));\r\n            sheet.setColumnWidth(1, (30 * 200));\r\n            sheet.setColumnWidth(2, (30 * 200));\r\n    \r\n    \r\n            for (int i = 0; i &lt; userList.size(); i++) {\r\n                Row row1 = sheet.createRow(i + 1);\r\n    \r\n                cell = row1.createCell(0);\r\n                cell.setCellValue(userList.get(i).getName());\r\n    \r\n                cell = row1.createCell(1);\r\n                cell.setCellValue((userList.get(i).getPhoneNo()));\r\n                //  cell.setCellStyle(cellStyle);\r\n    \r\n                cell = row1.createCell(2);\r\n                cell.setCellValue(userList.get(i).getEmail());\r\n    \r\n    \r\n                sheet.setColumnWidth(0, (20 * 200));\r\n                sheet.setColumnWidth(1, (30 * 200));\r\n                sheet.setColumnWidth(2, (30 * 200));\r\n    \r\n            }\r\n            String folderName = &quot;Import Excel&quot;;\r\n            String fileName = folderName + System.currentTimeMillis() + &quot;.xls&quot;;\r\n            String path = Environment.getExternalStorageDirectory() + File.separator + folderName + File.separator + fileName;\r\n    \r\n            File file = new File(Environment.getExternalStorageDirectory() + File.separator + folderName);\r\n            if (!file.exists()) {\r\n                file.mkdirs();\r\n            }\r\n    //         file.deleteOnExit();\r\n    \r\n            FileOutputStream outputStream = null;\r\n    \r\n            try {\r\n    \r\n                //\r\n                outputStream = new FileOutputStream(path);\r\n    //            outputStream = new FileOutputStream(new File(getFilesDir()., path));\r\n                wb.write(outputStream);\r\n                // ShareViaEmail(file.getParentFile().getName(),file.getName());\r\n                Toast.makeText(getApplicationContext(), &quot;Excel Created in &quot; + path, Toast.LENGTH_SHORT).show();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n    \r\n                Toast.makeText(getApplicationContext(), &quot;Not OK&quot;, Toast.LENGTH_LONG).show();\r\n                try {\r\n                    outputStream.close();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n\r\n\r\nError logcat:\r\n\r\n         /System.err: java.io.FileNotFoundException: /storage/emulated/0/Import Excel/Import Excel1681376608447.xls: open\r\n     failed: ENOENT (No such file or directory)\r\n                 at libcore.io.IoBridge.open(IoBridge.java:574)\r\n                 at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\n                 at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:125)\r\n                 at com.roomack.amlaak.view.activity.MainActivity.createXlFile(MainActivity.java:1125)\r\n                 at com.roomack.amlaak.view.activity.MainActivity.importData(MainActivity.java:1051)\r\n                 at com.roomack.amlaak.view.activity.MainActivity.checkPermission(MainActivity.java:1020)\r\n                 at com.roomack.amlaak.view.activity.MainActivity.access$300(MainActivity.java:100)\r\n                 at com.roomack.amlaak.view.activity.MainActivity$18.onClick(MainActivity.java:821)\r\n                 at android.view.View.performClick(View.java:7560)\r\n                 at android.view.View.performClickInternal(View.java:7533)\r\n                 at ndroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                 at android.view.View$PerformClick.run(View.java:29754)\r\n         W/System.err:     at android.os.Handler.handleCallback(Handler.java:942)\r\n                 at android.os.Handler.dispatchMessage(Handler.java:99)\r\n                 at android.os.Looper.loopOnce(Looper.java:211)\r\n                 at android.os.Looper.loop(Looper.java:300)\r\n                 at android.app.ActivityThread.main(ActivityThread.java:8143)\r\n                 at java.lang.reflect.Method.invoke(Native Method)\r\n                 at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:580)\r\n                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1028)\r\n             Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n                 at libcore.io.Linux.open(Native Method)\r\n                 at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\r\n                 at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\r\n                 at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\r\n                 at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8019)\r\n                 at libcore.io.IoBridge.open(IoBridge.java:560)\r\n\r\n","title":"How to request write permission on the file system Android 13","body":"<p>I am targeting my Android app for Android 13 (API 33)</p>\n<p>I have generated an Excel file from my list and saved it but it doesn't save in API 33 but less than API Android 33 save very well.</p>\n<blockquote>\n<p>If needed, these libraries have been used</p>\n<pre><code>implementation 'org.apache.poi:poi:4.0.0'\nimplementation 'org.apache.poi:poi-ooxml:4.0.0'\n</code></pre>\n</blockquote>\n<blockquote>\n<p>Manifest permission</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>Check Permission</p>\n<pre><code>private void checkPermission() {\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M) {\n        if (getApplicationContext().checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE};\n            requestPermissions(permissions, 1);\n        } else {\n            importData();\n        }\n    } else {\n        importData();\n    }\n\n}\n</code></pre>\n<p>make excel files and storage</p>\n<pre><code>    private void importData() {\n        //get data from edit text\n\n        try {\n            userList.add(new SheetModel(&quot;kawcher&quot;, &quot;0181238383&quot;, &quot;nmkawcher112@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;shuvo&quot;, &quot;0171238383&quot;, &quot;demo1@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;hasan&quot;, &quot;0161238383&quot;, &quot;demo2@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;habib&quot;, &quot;0151238383&quot;, &quot;demo3@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;selim&quot;, &quot;0131238383&quot;, &quot;demo4@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;tayeb&quot;, &quot;0121238383&quot;, &quot;demo5@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;abul kalam&quot;, &quot;0191238383&quot;, &quot;demo6@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;Kamal&quot;, &quot;0101238383&quot;, &quot;demo7@gmail.com&quot;));\n\n        }catch (Exception e){e.printStackTrace();}\n\n        if (userList.size() &gt; 0) {\n            createXlFile();\n\n\n        } else {\n            Toast.makeText(this, &quot;list are empty&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    private void createXlFile() {\n\n        // File filePath = new File(Environment.getExternalStorageDirectory() + &quot;/Demo.xls&quot;);\n        Workbook wb = new HSSFWorkbook();\n\n\n        Cell cell = null;\n\n        Sheet sheet = null;\n        sheet = wb.createSheet(&quot;Demo Excel Sheet&quot;);\n        //Now column and row\n        Row row = sheet.createRow(0);\n\n        cell = row.createCell(0);\n        cell.setCellValue(&quot;Person Name&quot;);\n\n\n        cell = row.createCell(1);\n        cell.setCellValue(&quot;Phone Number&quot;);\n\n\n        cell = row.createCell(2);\n        cell.setCellValue(&quot;Email Address&quot;);\n\n\n        //column width\n        sheet.setColumnWidth(0, (20 * 200));\n        sheet.setColumnWidth(1, (30 * 200));\n        sheet.setColumnWidth(2, (30 * 200));\n\n\n        for (int i = 0; i &lt; userList.size(); i++) {\n            Row row1 = sheet.createRow(i + 1);\n\n            cell = row1.createCell(0);\n            cell.setCellValue(userList.get(i).getName());\n\n            cell = row1.createCell(1);\n            cell.setCellValue((userList.get(i).getPhoneNo()));\n            //  cell.setCellStyle(cellStyle);\n\n            cell = row1.createCell(2);\n            cell.setCellValue(userList.get(i).getEmail());\n\n\n            sheet.setColumnWidth(0, (20 * 200));\n            sheet.setColumnWidth(1, (30 * 200));\n            sheet.setColumnWidth(2, (30 * 200));\n\n        }\n        String folderName = &quot;Import Excel&quot;;\n        String fileName = folderName + System.currentTimeMillis() + &quot;.xls&quot;;\n        String path = Environment.getExternalStorageDirectory() + File.separator + folderName + File.separator + fileName;\n\n        File file = new File(Environment.getExternalStorageDirectory() + File.separator + folderName);\n        if (!file.exists()) {\n            file.mkdirs();\n        }\n//         file.deleteOnExit();\n\n        FileOutputStream outputStream = null;\n\n        try {\n\n            //\n            outputStream = new FileOutputStream(path);\n//            outputStream = new FileOutputStream(new File(getFilesDir()., path));\n            wb.write(outputStream);\n            // ShareViaEmail(file.getParentFile().getName(),file.getName());\n            Toast.makeText(getApplicationContext(), &quot;Excel Created in &quot; + path, Toast.LENGTH_SHORT).show();\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            Toast.makeText(getApplicationContext(), &quot;Not OK&quot;, Toast.LENGTH_LONG).show();\n            try {\n                outputStream.close();\n            } catch (Exception ex) {\n                ex.printStackTrace();\n\n            }\n        }\n\n    }\n</code></pre>\n<p>Error logcat:</p>\n<pre><code>     /System.err: java.io.FileNotFoundException: /storage/emulated/0/Import Excel/Import Excel1681376608447.xls: open\n failed: ENOENT (No such file or directory)\n             at libcore.io.IoBridge.open(IoBridge.java:574)\n             at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\n             at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:125)\n             at com.roomack.amlaak.view.activity.MainActivity.createXlFile(MainActivity.java:1125)\n             at com.roomack.amlaak.view.activity.MainActivity.importData(MainActivity.java:1051)\n             at com.roomack.amlaak.view.activity.MainActivity.checkPermission(MainActivity.java:1020)\n             at com.roomack.amlaak.view.activity.MainActivity.access$300(MainActivity.java:100)\n             at com.roomack.amlaak.view.activity.MainActivity$18.onClick(MainActivity.java:821)\n             at android.view.View.performClick(View.java:7560)\n             at android.view.View.performClickInternal(View.java:7533)\n             at ndroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n             at android.view.View$PerformClick.run(View.java:29754)\n     W/System.err:     at android.os.Handler.handleCallback(Handler.java:942)\n             at android.os.Handler.dispatchMessage(Handler.java:99)\n             at android.os.Looper.loopOnce(Looper.java:211)\n             at android.os.Looper.loop(Looper.java:300)\n             at android.app.ActivityThread.main(ActivityThread.java:8143)\n             at java.lang.reflect.Method.invoke(Native Method)\n             at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:580)\n             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1028)\n         Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n             at libcore.io.Linux.open(Native Method)\n             at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n             at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\n             at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n             at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8019)\n             at libcore.io.IoBridge.open(IoBridge.java:560)\n</code></pre>\n"},{"tags":["java","docker","maven","circleci","docker-build"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684751834,"creation_date":1684751834,"answer_id":76305318,"question_id":76304976,"body_markdown":"Delete these two lines\r\n\r\n```sh\r\n# delete me!\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} application.jar\r\n```\r\n\r\nThose copy a jar file from your host system, any single `*.jar` file from the `target` directory relative to the build context; if you haven&#39;t separately built the application on your host this will fail.\r\n\r\nImmediately before this you have the correct line\r\n\r\n```sh\r\n# keep me!\r\nCOPY --from=maven_builder /app/target/*.jar up-user-service/target\r\n```\r\n\r\nwhich copies the jar file built by the `maven_builder` stage.  With that line the jar file is in fact in your image, the second set of lines is redundant.\r\n\r\nThe one other tricky thing here is that you require the jar file to be named `application.jar` when you run the Spring unpacker, but the build output will probably be named something like `myapp-0.0.1.jar`.  I might rename this in the build stage:\r\n\r\n```sh\r\nFROM maven:3.8.3-openjdk-17 as maven_builder\r\n...\r\nRUN mvn clean install\r\nRUN mv target/*.jar target/application.jar  # &lt;-- add\r\n\r\nFROM openjdk:17-jdk-alpine as builder\r\nWORKDIR /app\r\nCOPY --from=maven_builder /app/target/application.jar ./\r\nRUN java -Djarmode=layertools -jar application.jar extract\r\n\r\nFROM openjdk:17-jdk-alpine\r\nWORKDIR /app\r\nCOPY --from=builder /app/dependencies/ ./\r\n...\r\n```\r\n","title":"Error while copying maven generated jar file in Docker file build stage","body":"<p>Delete these two lines</p>\n<pre class=\"lang-bash prettyprint-override\"><code># delete me!\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\n</code></pre>\n<p>Those copy a jar file from your host system, any single <code>*.jar</code> file from the <code>target</code> directory relative to the build context; if you haven't separately built the application on your host this will fail.</p>\n<p>Immediately before this you have the correct line</p>\n<pre class=\"lang-bash prettyprint-override\"><code># keep me!\nCOPY --from=maven_builder /app/target/*.jar up-user-service/target\n</code></pre>\n<p>which copies the jar file built by the <code>maven_builder</code> stage.  With that line the jar file is in fact in your image, the second set of lines is redundant.</p>\n<p>The one other tricky thing here is that you require the jar file to be named <code>application.jar</code> when you run the Spring unpacker, but the build output will probably be named something like <code>myapp-0.0.1.jar</code>.  I might rename this in the build stage:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM maven:3.8.3-openjdk-17 as maven_builder\n...\nRUN mvn clean install\nRUN mv target/*.jar target/application.jar  # &lt;-- add\n\nFROM openjdk:17-jdk-alpine as builder\nWORKDIR /app\nCOPY --from=maven_builder /app/target/application.jar ./\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM openjdk:17-jdk-alpine\nWORKDIR /app\nCOPY --from=builder /app/dependencies/ ./\n...\n</code></pre>\n"}],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76305318,"answer_count":1,"score":0,"last_activity_date":1684751834,"creation_date":1684749297,"question_id":76304976,"body_markdown":"I have a docker file having 2 stages. The first stage builds the application using maven and the  second one start the application. The file contents are as follows:-\r\n\r\n    FROM maven:3.8.3-openjdk-17 as maven_builder\r\n    WORKDIR /app\r\n    COPY up-user-service/pom.xml .\r\n    COPY up-user-service/src ./src\r\n    RUN mvn clean install\r\n    RUN ls -l /app/target\r\n    \r\n    \r\n    FROM openjdk:17-jdk-alpine as builder\r\n    COPY --from=maven_builder /app/target/*.jar up-user-service/target\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} application.jar\r\n    RUN java -Djarmode=layertools -jar application.jar extract\r\n    FROM openjdk:17-jdk-alpine\r\n    COPY --from=builder dependencies/ ./\r\n    RUN true\r\n    COPY --from=builder snapshot-dependencies/ ./\r\n    RUN true\r\n    COPY --from=builder spring-boot-loader/ ./\r\n    RUN true\r\n    COPY --from=builder application/ ./\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\nHowever, when I build this using docker file, I am getting the error `ERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount1400144723/target: no such file or directory`. I am also unable to see the output of ls stage also as it disappears very fast from screen.\r\n\r\nCan someone please suggest what might be the issue here? \r\n","title":"Error while copying maven generated jar file in Docker file build stage","body":"<p>I have a docker file having 2 stages. The first stage builds the application using maven and the  second one start the application. The file contents are as follows:-</p>\n<pre><code>FROM maven:3.8.3-openjdk-17 as maven_builder\nWORKDIR /app\nCOPY up-user-service/pom.xml .\nCOPY up-user-service/src ./src\nRUN mvn clean install\nRUN ls -l /app/target\n\n\nFROM openjdk:17-jdk-alpine as builder\nCOPY --from=maven_builder /app/target/*.jar up-user-service/target\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\nFROM openjdk:17-jdk-alpine\nCOPY --from=builder dependencies/ ./\nRUN true\nCOPY --from=builder snapshot-dependencies/ ./\nRUN true\nCOPY --from=builder spring-boot-loader/ ./\nRUN true\nCOPY --from=builder application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>However, when I build this using docker file, I am getting the error <code>ERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount1400144723/target: no such file or directory</code>. I am also unable to see the output of ls stage also as it disappears very fast from screen.</p>\n<p>Can someone please suggest what might be the issue here?</p>\n"},{"tags":["java","bulkinsert","simultaneous"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684779780,"post_id":76305306,"comment_id":134563783,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28653303,"reputation":1,"user_id":21939862,"display_name":"Murat D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684751725,"creation_date":1684751725,"question_id":76305306,"body_markdown":"I have a Java app, clients send requests to this app and app executes SELECT (4 dif. column in WHERE condition) query on table A based on the fields existed in request. Other thread, in every 15 min. refreshes the data(that is fetched some external db) on this table A. Deleting all the data in table A and inserting new data (about 30k row) takes around 7-8 sec., it is a transactional connection. If SELECT query comes during this time interval it waits on &quot;dao&quot; level until delete/insert transaction will be committed.\r\n\r\nThis creates a delay for the clients and leads serious problems. I thought that this is a general problem, and wondered that whether there is a general approach/tech to cover this problem.\r\n\r\nThought that instead of executing SELECT query, maybe I can find matched records from memory through some list/map. But since multiple columns exist in WHERE clause, it will not be easy to use memory object as a table.","title":"Simultaneous Select and Insert operations on same database table","body":"<p>I have a Java app, clients send requests to this app and app executes SELECT (4 dif. column in WHERE condition) query on table A based on the fields existed in request. Other thread, in every 15 min. refreshes the data(that is fetched some external db) on this table A. Deleting all the data in table A and inserting new data (about 30k row) takes around 7-8 sec., it is a transactional connection. If SELECT query comes during this time interval it waits on &quot;dao&quot; level until delete/insert transaction will be committed.</p>\n<p>This creates a delay for the clients and leads serious problems. I thought that this is a general problem, and wondered that whether there is a general approach/tech to cover this problem.</p>\n<p>Thought that instead of executing SELECT query, maybe I can find matched records from memory through some list/map. But since multiple columns exist in WHERE clause, it will not be easy to use memory object as a table.</p>\n"},{"tags":["java","maven","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684751502,"creation_date":1684736783,"answer_id":76303508,"question_id":76303358,"body_markdown":"You are facing this because you are mocking the same dependencies 2 times.\r\nHere what i mean:\r\n\r\n     @Mock\r\n     private HttpClient httpClient;\r\n\r\nAnd then in beforeEach you again are mocking your dependency\r\n\r\n    httpClient = mock(HttpClient.class);\r\n\r\nI recommend choosing the approach that you need and don&#39;t mock 2 times.\r\nHere where you are mocking and use @InjectMocks. Also we need to add annotation @ExtendWith(MockitoExtension.class) this will handle initMocks(this) and we won&#39;t need to add it(this annotation helps to mocks be properly injected).\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTests {\r\n    \r\n        @InjectMocks\r\n        private MyService myService;\r\n    \r\n        @Mock\r\n        private HttpClient httpClient;\r\n        @Mock\r\n        HttpResponse&lt;Object&gt; httpResponse;\r\n    \r\n        @Mock\r\n        private HttpRequest request;\r\n    \r\n        @Test\r\n        void testSendMessage() throws Exception {\r\n            MyResponse myResponse=new MyResponse();\r\n    \r\n            when(httpClient.send(any(),any())).thenReturn(httpResponse);\r\n            when(myService.invokeApi(httpClient,request)).thenReturn(myResponse);\r\n            myService.createmyMnt(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\r\n            verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\r\n        }\r\n    }\r\n\r\nor use constructor injection like:\r\n\r\n    class MyServiceTests {\r\n    \r\n        private MyService myService;\r\n        private HttpClient httpClient;\r\n        private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\r\n        private HttpRequest request;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            httpClient = mock(HttpClient.class);\r\n            httpResponse = mock(HttpResponse.class);\r\n            request = mock(HttpRequest.class);\r\n            myService = new MyService();\r\n        }\r\n    \r\n        @Test\r\n        void testSendMessage() throws Exception {\r\n            MyResponse myResponse = new MyResponse();\r\n    \r\n            when(httpClient.send(any(), any())).thenReturn(httpResponse);\r\n            when(httpResponse.body()).thenReturn(() -&gt; myResponse);\r\n    \r\n            myService.create(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\r\n    \r\n            verify(httpClient).send(request, new JsonBodyHandler&lt;&gt;(MyResponse.class));\r\n        }\r\n    }\r\n\r\n\r\n-----------------------------------------------------------\r\nAccording to the comments try this please:\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTests {\r\n    \r\n        @InjectMocks\r\n        private MyService myService;\r\n    \r\n        @Mock\r\n        private HttpClient httpClient;\r\n    \r\n        @Mock\r\n        private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\r\n    \r\n        @Mock\r\n        private HttpRequest request;\r\n    \r\n        @Mock\r\n        private Supplier&lt;MyResponse&gt; myResponseSupplier;\r\n    \r\n        @Test\r\n        void testSendMessage() throws Exception {\r\n            MyResponse myResponse = getMyResponse();\r\n    \r\n            when(httpClient.send(any(), any())).thenReturn(httpResponse);\r\n            when(httpResponse.body()).thenReturn(() -&gt; myResponseSupplier);\r\n            when(myResponseSupplier.get()).thenReturn(myResponse);\r\n    \r\n            myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\r\n    \r\n            verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\r\n          \r\n        }\r\n    \r\n        private MyResponse getMyResponse() {\r\n            return new MyResponse();\r\n        }\r\n    }\r\n\r\n","title":"junit 5 is not mocking java.net.http.HttpClient.send","body":"<p>You are facing this because you are mocking the same dependencies 2 times.\nHere what i mean:</p>\n<pre><code> @Mock\n private HttpClient httpClient;\n</code></pre>\n<p>And then in beforeEach you again are mocking your dependency</p>\n<pre><code>httpClient = mock(HttpClient.class);\n</code></pre>\n<p>I recommend choosing the approach that you need and don't mock 2 times.\nHere where you are mocking and use @InjectMocks. Also we need to add annotation @ExtendWith(MockitoExtension.class) this will handle initMocks(this) and we won't need to add it(this annotation helps to mocks be properly injected).</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n    @Mock\n    HttpResponse&lt;Object&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse=new MyResponse();\n\n        when(httpClient.send(any(),any())).thenReturn(httpResponse);\n        when(myService.invokeApi(httpClient,request)).thenReturn(myResponse);\n        myService.createmyMnt(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n</code></pre>\n<p>or use constructor injection like:</p>\n<pre><code>class MyServiceTests {\n\n    private MyService myService;\n    private HttpClient httpClient;\n    private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\n    private HttpRequest request;\n\n    @BeforeEach\n    void setUp() {\n        httpClient = mock(HttpClient.class);\n        httpResponse = mock(HttpResponse.class);\n        request = mock(HttpRequest.class);\n        myService = new MyService();\n    }\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse = new MyResponse();\n\n        when(httpClient.send(any(), any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(() -&gt; myResponse);\n\n        myService.create(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\n\n        verify(httpClient).send(request, new JsonBodyHandler&lt;&gt;(MyResponse.class));\n    }\n}\n</code></pre>\n<hr />\n<p>According to the comments try this please:</p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n\n    @Mock\n    private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Mock\n    private Supplier&lt;MyResponse&gt; myResponseSupplier;\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse = getMyResponse();\n\n        when(httpClient.send(any(), any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(() -&gt; myResponseSupplier);\n        when(myResponseSupplier.get()).thenReturn(myResponse);\n\n        myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\n\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n      \n    }\n\n    private MyResponse getMyResponse() {\n        return new MyResponse();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684751502,"creation_date":1684734980,"question_id":76303358,"body_markdown":"I am trying to write junit 5 code in a java maven project(not a springboot project) , which is calling an API and extracting response and creating a file. But when I tried to mock the API calling, junit still calls actual API, which is not the desired behaviour. Can someone help to identify issue here? \r\n\r\nI followed this link to write below unit tests https://stackoverflow.com/questions/69768931/how-to-mock-httpclients-send-method-in-junit-5\r\n\r\nActual service code -\r\n\r\n    public class MyService {\r\n    \r\n        public void create(String apiHost, String firstPage) {\r\n            HttpClient httpClient = HttpClient.newBuilder()\r\n                    .version(HttpClient.Version.HTTP_2)\r\n                    .connectTimeout(Duration.ofSeconds(30))\r\n                    .build();\r\n            HttpRequest httpRequest = getHttpRequest(apiHost, firstPage);\r\n     \r\n            MyResponse myResponse = invokeApi(httpClient, httpRequest);\r\n            List&lt;ResponseData&gt; responseDataList = new ArrayList&lt;&gt;(myResponse.getData());\r\n            while (null != myResponse.getLinks().getNext()) {\r\n    \r\n                myResponse = invokeApi(httpClient, getHttpRequest(apiHost, invokeApi.getLinks().getNext()));\r\n                locationDetailsList.addAll(invokeApi.getData());\r\n            }\r\n    \r\n            createFile(fileName, responseDataList);\r\n        }\r\n    \r\n        private HttpRequest getHttpRequest(String apiHost, String pageUri) {\r\n            return HttpRequest.newBuilder()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .GET()\r\n                    .uri(URI.create(apiHost + pageUri))\r\n                    .build();\r\n        }\r\n    \r\n        @SneakyThrows\r\n        MyResponse invokeApi(HttpClient httpClient, HttpRequest httpRequest) {\r\n            HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; result = httpClient.send(httpRequest, new JsonBodyHandler&lt;&gt;(MyResponse.class));\r\n            return result.body().get();\r\n        }\r\n    \r\n        @SneakyThrows\r\n        void createFile(String fileName, List&lt;ResponseData&gt; responseDataList) {\r\n            Path filePath = Paths.get(&quot;test/path&quot; + fileName);\r\n            Files.createFile(filePath);\r\n            Files.writeString(filePath, header + System.lineSeparator(), StandardOpenOption.APPEND);\r\n            for (ResponseData responseData : responseDataList) {\r\n                Files.writeString(filePath, responseData + System.lineSeparator(), StandardOpenOption.APPEND);\r\n            }\r\n        }\r\n\r\nJunit 5 code -\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTests {\r\n    \r\n        @InjectMocks\r\n        private MyService myService;\r\n    \r\n        @Mock\r\n        private HttpClient httpClient;\r\n        @Mock\r\n        HttpResponse&lt;Object&gt; httpResponse;\r\n    \r\n        @Mock\r\n        private HttpRequest request;\r\n    \r\n        @Mock\r\n        Supplier&lt;MyResponse&gt; myResponseSupplier;\r\n    \r\n    \r\n        @Test\r\n        void testSendMessage() throws Exception {\r\n    \r\n            when(httpClient.send(any(),any())).thenReturn(httpResponse);\r\n            when(httpResponse.body()).thenReturn(myResponseSupplier);\r\n            when(myResponseSupplier.get()).thenReturn(getMyResponse());\r\n            myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\r\n            verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\r\n        }\r\n    }\r\n\r\nIn the above junit code when &quot;myService.createmyMnt&quot; is executed it actually tried to invoke https://test.com instead of mocking the call.","title":"junit 5 is not mocking java.net.http.HttpClient.send","body":"<p>I am trying to write junit 5 code in a java maven project(not a springboot project) , which is calling an API and extracting response and creating a file. But when I tried to mock the API calling, junit still calls actual API, which is not the desired behaviour. Can someone help to identify issue here?</p>\n<p>I followed this link to write below unit tests <a href=\"https://stackoverflow.com/questions/69768931/how-to-mock-httpclients-send-method-in-junit-5\">How to mock HttpClient&#39;s send method in junit 5?</a></p>\n<p>Actual service code -</p>\n<pre><code>public class MyService {\n\n    public void create(String apiHost, String firstPage) {\n        HttpClient httpClient = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .connectTimeout(Duration.ofSeconds(30))\n                .build();\n        HttpRequest httpRequest = getHttpRequest(apiHost, firstPage);\n \n        MyResponse myResponse = invokeApi(httpClient, httpRequest);\n        List&lt;ResponseData&gt; responseDataList = new ArrayList&lt;&gt;(myResponse.getData());\n        while (null != myResponse.getLinks().getNext()) {\n\n            myResponse = invokeApi(httpClient, getHttpRequest(apiHost, invokeApi.getLinks().getNext()));\n            locationDetailsList.addAll(invokeApi.getData());\n        }\n\n        createFile(fileName, responseDataList);\n    }\n\n    private HttpRequest getHttpRequest(String apiHost, String pageUri) {\n        return HttpRequest.newBuilder()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .GET()\n                .uri(URI.create(apiHost + pageUri))\n                .build();\n    }\n\n    @SneakyThrows\n    MyResponse invokeApi(HttpClient httpClient, HttpRequest httpRequest) {\n        HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; result = httpClient.send(httpRequest, new JsonBodyHandler&lt;&gt;(MyResponse.class));\n        return result.body().get();\n    }\n\n    @SneakyThrows\n    void createFile(String fileName, List&lt;ResponseData&gt; responseDataList) {\n        Path filePath = Paths.get(&quot;test/path&quot; + fileName);\n        Files.createFile(filePath);\n        Files.writeString(filePath, header + System.lineSeparator(), StandardOpenOption.APPEND);\n        for (ResponseData responseData : responseDataList) {\n            Files.writeString(filePath, responseData + System.lineSeparator(), StandardOpenOption.APPEND);\n        }\n    }\n</code></pre>\n<p>Junit 5 code -</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n    @Mock\n    HttpResponse&lt;Object&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Mock\n    Supplier&lt;MyResponse&gt; myResponseSupplier;\n\n\n    @Test\n    void testSendMessage() throws Exception {\n\n        when(httpClient.send(any(),any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(myResponseSupplier);\n        when(myResponseSupplier.get()).thenReturn(getMyResponse());\n        myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n</code></pre>\n<p>In the above junit code when &quot;myService.createmyMnt&quot; is executed it actually tried to invoke <a href=\"https://test.com\" rel=\"nofollow noreferrer\">https://test.com</a> instead of mocking the call.</p>\n"},{"tags":["java","gradle","javafx","build.gradle","json-simple"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1684751737,"post_id":76305270,"comment_id":134557695,"body_markdown":"Does this help? https://stackoverflow.com/questions/32543197/error-json-simple-java-util-zip-zipexception-duplicate-entry-org-hamcrest-bas","body":"Does this help? <a href=\"https://stackoverflow.com/questions/32543197/error-json-simple-java-util-zip-zipexception-duplicate-entry-org-hamcrest-bas\" title=\"error json simple java util zip zipexception duplicate entry org hamcrest bas\">stackoverflow.com/questions/32543197/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1684755559,"post_id":76305270,"comment_id":134558388,"body_markdown":"Json simple has been abandoned for years. Better use some other json library.","body":"Json simple has been abandoned for years. Better use some other json library."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1684785844,"post_id":76305270,"comment_id":134564946,"body_markdown":"Please use the correct terminology.  The build errors and warnings you are receiving are not what would be normally termed a &quot;crash&quot;.","body":"Please use the correct terminology.  The build errors and warnings you are receiving are not what would be normally termed a &quot;crash&quot;."}],"owner":{"account_id":28653306,"reputation":1,"user_id":21939865,"display_name":"Dabouz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684764439,"answer_count":0,"score":0,"last_activity_date":1684751434,"creation_date":1684751434,"question_id":76305270,"body_markdown":"I&#39;m encountering an issue with Gradle build of my javafx project after adding the json-simple library as a dependency. However, the build crashes, and I&#39;m unsure about the cause of the problem. Here are the details of my setup:\r\n\r\n- I added the following line to my build.gradle file within the dependencies block:\r\n`implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;`\r\n\r\n- I also included the line requires json.simple; in my module-info.java file.\r\n\r\nHowever, I&#39;m encountering the following error:\r\n\r\n\r\n```\r\nerror: module json.simple reads package org.hamcrest from both hamcrest.core and junit\r\nerror: module json.simple reads package org.hamcrest.internal from both hamcrest.core and junit\r\nerror: module json.simple reads package org.hamcrest.core from both hamcrest.core and junit\r\n```\r\n\r\nAdditionally, I received the following vuln&#233;rability warning:\r\n\r\n\r\n```\r\nProvides transitive vulnerable dependency maven:junit:junit:4.10\r\nCVE-2020-15250 5.5 Incorrect Permission Assignment for Critical Resource vulnerability pending CVSS allocation\r\nResults powered by Checkmarx(c)\r\n```\r\n\r\nThe error disappears if I remove the requires json.simple; line from the module-info.java file.","title":"Gradle build crashes with json-simple dependency","body":"<p>I'm encountering an issue with Gradle build of my javafx project after adding the json-simple library as a dependency. However, the build crashes, and I'm unsure about the cause of the problem. Here are the details of my setup:</p>\n<ul>\n<li><p>I added the following line to my build.gradle file within the dependencies block:\n<code>implementation 'com.googlecode.json-simple:json-simple:1.1.1'</code></p>\n</li>\n<li><p>I also included the line requires json.simple; in my module-info.java file.</p>\n</li>\n</ul>\n<p>However, I'm encountering the following error:</p>\n<pre><code>error: module json.simple reads package org.hamcrest from both hamcrest.core and junit\nerror: module json.simple reads package org.hamcrest.internal from both hamcrest.core and junit\nerror: module json.simple reads package org.hamcrest.core from both hamcrest.core and junit\n</code></pre>\n<p>Additionally, I received the following vulnérability warning:</p>\n<pre><code>Provides transitive vulnerable dependency maven:junit:junit:4.10\nCVE-2020-15250 5.5 Incorrect Permission Assignment for Critical Resource vulnerability pending CVSS allocation\nResults powered by Checkmarx(c)\n</code></pre>\n<p>The error disappears if I remove the requires json.simple; line from the module-info.java file.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1684731254,"post_id":76303075,"comment_id":134554024,"body_markdown":"Either use a debugger to step in `close` and see what is happening or added a debug statement to log `isClosed`","body":"Either use a debugger to step in <code>close</code> and see what is happening or added a debug statement to log <code>isClosed</code>"},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1684736274,"post_id":76303075,"comment_id":134554595,"body_markdown":"There are several issues over here. Do not use plain getConnection instead consider something called a connection pool to connect to DB. second is for a priority resource like a database you can exception handling and in finally block mandatorily close the connection. lastly as mentioned by the scary debugger and a detailed review of db server configuration will solve the issue.","body":"There are several issues over here. Do not use plain getConnection instead consider something called a connection pool to connect to DB. second is for a priority resource like a database you can exception handling and in finally block mandatorily close the connection. lastly as mentioned by the scary debugger and a detailed review of db server configuration will solve the issue."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684736933,"post_id":76303075,"comment_id":134554720,"body_markdown":"Are you using any connection pool like Hikari? If yes check the size of the pool - should not be greater then 8 in your case.","body":"Are you using any connection pool like Hikari? If yes check the size of the pool - should not be greater then 8 in your case."},{"owner":{"account_id":7957656,"reputation":81,"user_id":6250852,"display_name":"Miracle"},"score":0,"creation_date":1684749199,"post_id":76303075,"comment_id":134557196,"body_markdown":"@Mar-Z I am not using any connection pool","body":"@Mar-Z I am not using any connection pool"},{"owner":{"account_id":7957656,"reputation":81,"user_id":6250852,"display_name":"Miracle"},"score":0,"creation_date":1684749248,"post_id":76303075,"comment_id":134557206,"body_markdown":"@SuchandraT Yes, the code handles exception. I pasted only the important part of the code here","body":"@SuchandraT Yes, the code handles exception. I pasted only the important part of the code here"},{"owner":{"account_id":7957656,"reputation":81,"user_id":6250852,"display_name":"Miracle"},"score":0,"creation_date":1684759863,"post_id":76303075,"comment_id":134559310,"body_markdown":"@ScaryWombat It is hard to debug the issue. There are thousands of test cases, half of them run without any issue. The issue starts when around 50% of the total tests are completed","body":"@ScaryWombat It is hard to debug the issue. There are thousands of test cases, half of them run without any issue. The issue starts when around 50% of the total tests are completed"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684750737,"creation_date":1684750737,"answer_id":76305171,"question_id":76303075,"body_markdown":"&gt; I am running the validations in parallel on 10 different threads.\r\n\r\nI wonder how are you running the parallel tests? Is it possible that you will end up with 10 instances of the `DatabaseConnection` class? If yes then you will also get 10 semaphores counting 8 times each. In this case the maximum number of connections will be 80... You can avoid it declaring the semaphore as static.\r\n\r\n    static Semaphore counter = new Semaphore(8);","title":"connection.close() does not close the connection at server side","body":"<blockquote>\n<p>I am running the validations in parallel on 10 different threads.</p>\n</blockquote>\n<p>I wonder how are you running the parallel tests? Is it possible that you will end up with 10 instances of the <code>DatabaseConnection</code> class? If yes then you will also get 10 semaphores counting 8 times each. In this case the maximum number of connections will be 80... You can avoid it declaring the semaphore as static.</p>\n<pre><code>static Semaphore counter = new Semaphore(8);\n</code></pre>\n"}],"owner":{"account_id":7957656,"reputation":81,"user_id":6250852,"display_name":"Miracle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684750737,"creation_date":1684730424,"question_id":76303075,"body_markdown":"I am doing some data validations on Oracle DB. There are 10 different types of validations I have to do. Each set of validation contains hundreds of test cases. To save time, I am running the validations in parallel on 10 different threads. Each thread opens a database connection, execute the test cases and then close the connection - and do the same for the next test case. The problem is that I can have maximum of 8 concurrent oracle sessions. It is currently not possible to increase the number of sessions. To handle this scenario, I am using `Semaphore` to limit the number of concurrent oracle sessions to 8\r\n\r\n    public class DatabaseConnection{\r\n     Semaphore counter = new Semaphore(8);\r\n     public Connection createConnection(){\r\n       ...\r\n       ...\r\n       counter.acquire();\r\n       Connection connection = DriverManager.getConnection(....\r\n       ...\r\n    }\r\n    \r\n    public closeConnection(Connection con){\r\n      ...\r\n      con.close();\r\n      counter.release();\r\n    }\r\n    }\r\n\r\nEventhough I am closing the connections properly after executing each test, I am getting `maximum number of sessions exceeded` exception. I suspects eventhough I close the connections, it is not properly closed at server side. What is the solution for this?","title":"connection.close() does not close the connection at server side","body":"<p>I am doing some data validations on Oracle DB. There are 10 different types of validations I have to do. Each set of validation contains hundreds of test cases. To save time, I am running the validations in parallel on 10 different threads. Each thread opens a database connection, execute the test cases and then close the connection - and do the same for the next test case. The problem is that I can have maximum of 8 concurrent oracle sessions. It is currently not possible to increase the number of sessions. To handle this scenario, I am using <code>Semaphore</code> to limit the number of concurrent oracle sessions to 8</p>\n<pre><code>public class DatabaseConnection{\n Semaphore counter = new Semaphore(8);\n public Connection createConnection(){\n   ...\n   ...\n   counter.acquire();\n   Connection connection = DriverManager.getConnection(....\n   ...\n}\n\npublic closeConnection(Connection con){\n  ...\n  con.close();\n  counter.release();\n}\n}\n</code></pre>\n<p>Eventhough I am closing the connections properly after executing each test, I am getting <code>maximum number of sessions exceeded</code> exception. I suspects eventhough I close the connections, it is not properly closed at server side. What is the solution for this?</p>\n"},{"tags":["java","math","java-8"],"answers":[{"tags":[],"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1512645089,"creation_date":1419472114,"answer_id":27643634,"question_id":27643616,"body_markdown":"There is none in the `Math` class, but you can easily calculate it\r\n\r\n    long ceilDiv(long x, long y){\r\n        return -Math.floorDiv(-x,y);\r\n    }\r\n\r\nFor example, `ceilDiv(1,2)` = `-floorDiv(-1,2)` =`-(-1)`= 1 (correct answer). ","title":"ceil conterpart for Math.floorDiv in Java?","body":"<p>There is none in the <code>Math</code> class, but you can easily calculate it</p>\n\n<pre><code>long ceilDiv(long x, long y){\n    return -Math.floorDiv(-x,y);\n}\n</code></pre>\n\n<p>For example, <code>ceilDiv(1,2)</code> = <code>-floorDiv(-1,2)</code> =<code>-(-1)</code>= 1 (correct answer). </p>\n"},{"tags":[],"owner":{"account_id":1706986,"reputation":4611,"user_id":1565862,"display_name":"fejese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419472132,"creation_date":1419472132,"answer_id":27643636,"question_id":27643616,"body_markdown":"You can make use of the `floorDiv` function and fiddle with that:\r\n\r\n    int ceilDiv(int x, int y) {\r\n        return Math.floorDiv(x, y) + (x % y == 0 ? 0 : 1)\r\n    }","title":"ceil conterpart for Math.floorDiv in Java?","body":"<p>You can make use of the <code>floorDiv</code> function and fiddle with that:</p>\n\n<pre><code>int ceilDiv(int x, int y) {\n    return Math.floorDiv(x, y) + (x % y == 0 ? 0 : 1)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67261,"reputation":181,"user_id":2504891,"display_name":"Vesal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432821134,"creation_date":1432821134,"answer_id":30508570,"question_id":27643616,"body_markdown":"I&#39;d also just use the negation of floorMod, but if you are going to define your own function, you could simply adapt the above code:\r\n\r\n    public static int ceilDiv(int x, int y) {\r\n        int r = x / y;\r\n        // if the signs are the same and modulo not zero, round up\r\n        if ((x ^ y) &gt;= 0 &amp;&amp; (r * y != x)) r++;\r\n        return r;\r\n    }\r\n\r\n","title":"ceil conterpart for Math.floorDiv in Java?","body":"<p>I'd also just use the negation of floorMod, but if you are going to define your own function, you could simply adapt the above code:</p>\n\n<pre><code>public static int ceilDiv(int x, int y) {\n    int r = x / y;\n    // if the signs are the same and modulo not zero, round up\n    if ((x ^ y) &gt;= 0 &amp;&amp; (r * y != x)) r++;\n    return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684750472,"creation_date":1684749818,"answer_id":76305045,"question_id":27643616,"body_markdown":"Since Java 18, `Math.ceilDiv` is available, see https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)","title":"ceil conterpart for Math.floorDiv in Java?","body":"<p>Since Java 18, <code>Math.ceilDiv</code> is available, see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)</a></p>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5723,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27643634,"answer_count":4,"score":12,"last_activity_date":1684750472,"creation_date":1419471719,"question_id":27643616,"body_markdown":"Is there any `ceil` counterpart for [`Math.floorDiv()`][1]\r\n\r\nHow to calculate it fastest way with what we have?\r\n\r\n**UPDATE**\r\n\r\nThe code for `floorDiv()` is follows:\r\n\r\n     public static long floorDiv(long x, long y) {\r\n            long r = x / y;\r\n            // if the signs are different and modulo not zero, round down\r\n            if ((x ^ y) &lt; 0 &amp;&amp; (r * y != x)) {\r\n                r--;\r\n            }\r\n            return r;\r\n        }\r\n\r\nCan we code `ceil` the similar way?\r\n\r\n**UPDATE 2**\r\n\r\nI saw this answer https://stackoverflow.com/a/7446742/258483 but it seems to have too many unnecessary operations.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-long-long-\r\n\r\n","title":"ceil conterpart for Math.floorDiv in Java?","body":"<p>Is there any <code>ceil</code> counterpart for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-long-long-\" rel=\"noreferrer\"><code>Math.floorDiv()</code></a></p>\n\n<p>How to calculate it fastest way with what we have?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The code for <code>floorDiv()</code> is follows:</p>\n\n<pre><code> public static long floorDiv(long x, long y) {\n        long r = x / y;\n        // if the signs are different and modulo not zero, round down\n        if ((x ^ y) &lt; 0 &amp;&amp; (r * y != x)) {\n            r--;\n        }\n        return r;\n    }\n</code></pre>\n\n<p>Can we code <code>ceil</code> the similar way?</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I saw this answer <a href=\"https://stackoverflow.com/a/7446742/258483\">https://stackoverflow.com/a/7446742/258483</a> but it seems to have too many unnecessary operations.</p>\n"},{"tags":["java","c#","c++","math"],"comments":[{"owner":{"account_id":99415,"reputation":1127,"user_id":268555,"accept_rate":78,"display_name":"rikkit"},"score":1,"creation_date":1344355380,"post_id":17944,"comment_id":15759531,"body_markdown":"Am I missing something? y/x + 1 works great (provided you know the / operator always rounds down).","body":"Am I missing something? y/x + 1 works great (provided you know the / operator always rounds down)."},{"owner":{"account_id":1557,"reputation":57571,"user_id":2084,"accept_rate":100,"display_name":"Ian Nelson"},"score":68,"creation_date":1344366940,"post_id":17944,"comment_id":15764115,"body_markdown":"@rikkit - if y and x are equal, y/x + 1 is one too high.","body":"@rikkit - if y and x are equal, y/x + 1 is one too high."},{"owner":{"account_id":5204645,"reputation":917,"user_id":4163002,"accept_rate":90,"display_name":"ZX9"},"score":1,"creation_date":1482332051,"post_id":17944,"comment_id":69731961,"body_markdown":"For anyone just now finding this, [this answer to a dupe question](http://stackoverflow.com/a/4846569/4163002) avoids unnecessary conversion to double *and* avoids overflow concerns in addition to providing a clear explanation.","body":"For anyone just now finding this, <a href=\"http://stackoverflow.com/a/4846569/4163002\">this answer to a dupe question</a> avoids unnecessary conversion to double <i>and</i> avoids overflow concerns in addition to providing a clear explanation."},{"owner":{"account_id":26160,"reputation":36948,"user_id":67824,"accept_rate":85,"display_name":"Ohad Schneider"},"score":3,"creation_date":1503580231,"post_id":17944,"comment_id":78683189,"body_markdown":"@IanNelson more generally if `x` is divisible by `y`, `y/x + 1` would be one too high.","body":"@IanNelson more generally if <code>x</code> is divisible by <code>y</code>, <code>y&#47;x + 1</code> would be one too high."},{"owner":{"account_id":89883,"reputation":23781,"user_id":247702,"accept_rate":92,"display_name":"user247702"},"score":1,"creation_date":1512138124,"post_id":17944,"comment_id":82148215,"body_markdown":"@ZX9 No, it does not avoid overflow concerns. It&#39;s exactly the same solution as Ian Nelson posted here.","body":"@ZX9 No, it does not avoid overflow concerns. It&#39;s exactly the same solution as Ian Nelson posted here."}],"answers":[{"tags":[],"owner":{"account_id":1392,"reputation":65576,"user_id":1862,"accept_rate":59,"display_name":"Kibbee"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1219238997,"creation_date":1219238997,"answer_id":17949,"question_id":17944,"body_markdown":"You&#39;ll want to do floating point division, and then use the ceiling function, to round up the value to the next integer.","title":"How to round up the result of integer division?","body":"<p>You'll want to do floating point division, and then use the ceiling function, to round up the value to the next integer.</p>\n"},{"tags":[],"owner":{"account_id":813,"reputation":15500,"user_id":1061,"display_name":"Jarod Elliott"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1219239043,"creation_date":1219239043,"answer_id":17953,"question_id":17944,"body_markdown":"Another alternative is to use the mod() function (or &#39;%&#39;). If there is a non-zero remainder then increment the integer result of the division.","title":"How to round up the result of integer division?","body":"<p>Another alternative is to use the mod() function (or '%'). If there is a non-zero remainder then increment the integer result of the division.</p>\n"},{"tags":[],"owner":{"account_id":12,"reputation":54513,"user_id":17,"accept_rate":96,"display_name":"Nick Berardi"},"down_vote_count":2,"up_vote_count":89,"is_accepted":false,"score":87,"last_activity_date":1219239591,"creation_date":1219239068,"answer_id":17954,"question_id":17944,"body_markdown":"This should give you what you want.  You will definitely want x items divided by y items per page, the problem is when uneven numbers come up, so if there is a partial page we also want to add one page.\r\n\r\n    int x = number_of_items;\r\n    int y = items_per_page;\r\n\r\n    // with out library\r\n    int pages = x/y + (x % y &gt; 0 ? 1 : 0)\r\n\r\n    // with library\r\n    int pages = (int)Math.Ceiling((double)x / (double)y);","title":"How to round up the result of integer division?","body":"<p>This should give you what you want.  You will definitely want x items divided by y items per page, the problem is when uneven numbers come up, so if there is a partial page we also want to add one page.</p>\n\n<pre><code>int x = number_of_items;\nint y = items_per_page;\n\n// with out library\nint pages = x/y + (x % y &gt; 0 ? 1 : 0)\n\n// with library\nint pages = (int)Math.Ceiling((double)x / (double)y);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1372,"reputation":11302,"user_id":1830,"display_name":"Huppie"},"down_vote_count":9,"up_vote_count":109,"is_accepted":false,"score":100,"last_activity_date":1427664248,"creation_date":1219239184,"answer_id":17957,"question_id":17944,"body_markdown":"For C# the solution is to cast the values to a double (as Math.Ceiling takes a double):\r\n\r\n    int nPages = (int)Math.Ceiling((double)nItems / (double)nItemsPerPage);\r\n\r\nIn java you should do the same with Math.ceil().\r\n","title":"How to round up the result of integer division?","body":"<p>For C# the solution is to cast the values to a double (as Math.Ceiling takes a double):</p>\n\n<pre><code>int nPages = (int)Math.Ceiling((double)nItems / (double)nItemsPerPage);\n</code></pre>\n\n<p>In java you should do the same with Math.ceil().</p>\n"},{"tags":[],"owner":{"account_id":1557,"reputation":57571,"user_id":2084,"accept_rate":100,"display_name":"Ian Nelson"},"down_vote_count":8,"up_vote_count":587,"is_accepted":true,"score":579,"last_activity_date":1219239728,"creation_date":1219239728,"answer_id":17974,"question_id":17944,"body_markdown":"Found an elegant solution:\r\n\r\n    int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\r\n\r\nSource: [Number Conversion, Roland Backhouse, 2001][1]\r\n\r\n\r\n  [1]: http://www.cs.nott.ac.uk/~rcb/G51MPC/slides/NumberLogic.pdf","title":"How to round up the result of integer division?","body":"<p>Found an elegant solution:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>Source: <a href=\"http://www.cs.nott.ac.uk/~rcb/G51MPC/slides/NumberLogic.pdf\" rel=\"noreferrer\">Number Conversion, Roland Backhouse, 2001</a></p>\n"},{"tags":[],"owner":{"account_id":9610,"reputation":4810,"user_id":17834,"accept_rate":83,"display_name":"Brandon DuRette"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1535698317,"creation_date":1221771673,"answer_id":96921,"question_id":17944,"body_markdown":"The integer math solution that Ian provided is nice, but suffers from an integer overflow bug. Assuming the variables are all `int`, the solution could be rewritten to use `long` math and avoid the bug:\r\n\r\n `int pageCount = (-1L + records + recordsPerPage) / recordsPerPage;`\r\n\r\nIf `records` is a `long`, the bug remains. The modulus solution does not have the bug.","title":"How to round up the result of integer division?","body":"<p>The integer math solution that Ian provided is nice, but suffers from an integer overflow bug. Assuming the variables are all <code>int</code>, the solution could be rewritten to use <code>long</code> math and avoid the bug:</p>\n\n<p><code>int pageCount = (-1L + records + recordsPerPage) / recordsPerPage;</code></p>\n\n<p>If <code>records</code> is a <code>long</code>, the bug remains. The modulus solution does not have the bug.</p>\n"},{"tags":[],"owner":{"account_id":2445,"reputation":27389,"user_id":3408,"accept_rate":51,"display_name":"rjmunro"},"down_vote_count":3,"up_vote_count":251,"is_accepted":false,"score":248,"last_activity_date":1233581160,"creation_date":1233581160,"answer_id":503201,"question_id":17944,"body_markdown":"Converting to floating point and back seems like a huge waste of time at the CPU level.\r\n\r\nIan Nelson&#39;s solution:\r\n\r\n    int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\r\n\r\nCan be simplified to:\r\n\r\n    int pageCount = (records - 1) / recordsPerPage + 1;\r\n\r\nAFAICS, this doesn&#39;t have the overflow bug that Brandon DuRette pointed out, and because it only uses it once, you don&#39;t need to store the recordsPerPage specially if it comes from  an expensive function to fetch the value from a config file or something.\r\n\r\nI.e. this might be inefficient, if config.fetch_value used a database lookup or something:\r\n\r\n    int pageCount = (records + config.fetch_value(&#39;records per page&#39;) - 1) / config.fetch_value(&#39;records per page&#39;);\r\n\r\nThis creates a variable you don&#39;t really need, which probably has (minor) memory implications and is just too much typing:\r\n\r\n    int recordsPerPage = config.fetch_value(&#39;records per page&#39;)\r\n    int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\r\n\r\nThis is all one line, and only fetches the data once:\r\n\r\n    int pageCount = (records - 1) / config.fetch_value(&#39;records per page&#39;) + 1;\r\n","title":"How to round up the result of integer division?","body":"<p>Converting to floating point and back seems like a huge waste of time at the CPU level.</p>\n\n<p>Ian Nelson's solution:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>Can be simplified to:</p>\n\n<pre><code>int pageCount = (records - 1) / recordsPerPage + 1;\n</code></pre>\n\n<p>AFAICS, this doesn't have the overflow bug that Brandon DuRette pointed out, and because it only uses it once, you don't need to store the recordsPerPage specially if it comes from  an expensive function to fetch the value from a config file or something.</p>\n\n<p>I.e. this might be inefficient, if config.fetch_value used a database lookup or something:</p>\n\n<pre><code>int pageCount = (records + config.fetch_value('records per page') - 1) / config.fetch_value('records per page');\n</code></pre>\n\n<p>This creates a variable you don't really need, which probably has (minor) memory implications and is just too much typing:</p>\n\n<pre><code>int recordsPerPage = config.fetch_value('records per page')\nint pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>This is all one line, and only fetches the data once:</p>\n\n<pre><code>int pageCount = (records - 1) / config.fetch_value('records per page') + 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25314,"reputation":1227,"user_id":65004,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1234348888,"creation_date":1234347494,"answer_id":536219,"question_id":17944,"body_markdown":"For records == 0, rjmunro&#39;s solution gives 1.  The correct solution is 0.  That said, if you know that records &gt; 0 (and I&#39;m sure we&#39;ve all assumed recordsPerPage &gt; 0), then rjmunro solution gives correct results and does not have any of the overflow issues.\r\n\r\n    int pageCount = 0;\r\n    if (records &gt; 0)\r\n    {\r\n        pageCount = (((records - 1) / recordsPerPage) + 1);\r\n    }\r\n    // no else required\r\n\r\n**All** the integer math solutions are going to be more efficient than *any* of the floating point solutions.","title":"How to round up the result of integer division?","body":"<p>For records == 0, rjmunro's solution gives 1.  The correct solution is 0.  That said, if you know that records > 0 (and I'm sure we've all assumed recordsPerPage > 0), then rjmunro solution gives correct results and does not have any of the overflow issues.</p>\n\n<pre><code>int pageCount = 0;\nif (records &gt; 0)\n{\n    pageCount = (((records - 1) / recordsPerPage) + 1);\n}\n// no else required\n</code></pre>\n\n<p><strong>All</strong> the integer math solutions are going to be more efficient than <em>any</em> of the floating point solutions.</p>\n"},{"tags":[],"owner":{"account_id":80881,"reputation":189,"user_id":228406,"accept_rate":80,"display_name":"flux"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1281669968,"creation_date":1281669968,"answer_id":3473687,"question_id":17944,"body_markdown":"Alternative to remove branching in testing for zero:\r\n\r\n    int pageCount = (records + recordsPerPage - 1) / recordsPerPage * (records != 0);\r\n\r\nNot sure if this will work in C#, should do in C/C++.","title":"How to round up the result of integer division?","body":"<p>Alternative to remove branching in testing for zero:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage * (records != 0);\n</code></pre>\n\n<p>Not sure if this will work in C#, should do in C/C++.</p>\n"},{"tags":[],"owner":{"account_id":663931,"reputation":9,"user_id":490178,"display_name":"Jeremy Hadfied"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1288274955,"creation_date":1288274955,"answer_id":4043686,"question_id":17944,"body_markdown":"A generic method, whose result you can iterate over may be of interest:\r\n\r\n\tpublic static Object[][] chunk(Object[] src, int chunkSize) {\r\n\t\t\r\n\t\tint overflow = src.length%chunkSize;\r\n\t\tint numChunks = (src.length/chunkSize) + (overflow&gt;0?1:0);\r\n\t\tObject[][] dest = new Object[numChunks][];\t\t\r\n\t\tfor (int i=0; i&lt;numChunks; i++) {\r\n\t\t\tdest[i] = new Object[ (i&lt;numChunks-1 || overflow==0) ? chunkSize : overflow ];\r\n\t\t\tSystem.arraycopy(src, i*chunkSize, dest[i], 0, dest[i].length); \r\n\t\t}\r\n\t\treturn dest;\r\n\t}","title":"How to round up the result of integer division?","body":"<p>A generic method, whose result you can iterate over may be of interest:</p>\n\n<pre><code>public static Object[][] chunk(Object[] src, int chunkSize) {\n\n    int overflow = src.length%chunkSize;\n    int numChunks = (src.length/chunkSize) + (overflow&gt;0?1:0);\n    Object[][] dest = new Object[numChunks][];      \n    for (int i=0; i&lt;numChunks; i++) {\n        dest[i] = new Object[ (i&lt;numChunks-1 || overflow==0) ? chunkSize : overflow ];\n        System.arraycopy(src, i*chunkSize, dest[i], 0, dest[i].length); \n    }\n    return dest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1304514024,"creation_date":1304514024,"answer_id":5883806,"question_id":17944,"body_markdown":"A variant of [Nick Berardi&#39;s answer](https://stackoverflow.com/questions/17944/how-to-round-up-the-result-of-integer-division/17954#17954) that avoids a branch:\r\n\r\n    int q = records / recordsPerPage, r = records % recordsPerPage;\r\n    int pageCount = q - (-r &gt;&gt; (Integer.SIZE - 1));\r\n\r\nNote: `(-r &gt;&gt; (Integer.SIZE - 1))` consists of the sign bit of `r`, repeated 32 times (thanks to sign extension of the `&gt;&gt;` operator.)  This evaluates to 0 if `r` is zero or negative, -1 if `r` is positive.  So subtracting it from `q` has the effect of adding 1 if `records % recordsPerPage &gt; 0`.","title":"How to round up the result of integer division?","body":"<p>A variant of <a href=\"https://stackoverflow.com/questions/17944/how-to-round-up-the-result-of-integer-division/17954#17954\">Nick Berardi's answer</a> that avoids a branch:</p>\n\n<pre><code>int q = records / recordsPerPage, r = records % recordsPerPage;\nint pageCount = q - (-r &gt;&gt; (Integer.SIZE - 1));\n</code></pre>\n\n<p>Note: <code>(-r &gt;&gt; (Integer.SIZE - 1))</code> consists of the sign bit of <code>r</code>, repeated 32 times (thanks to sign extension of the <code>&gt;&gt;</code> operator.)  This evaluates to 0 if <code>r</code> is zero or negative, -1 if <code>r</code> is positive.  So subtracting it from <code>q</code> has the effect of adding 1 if <code>records % recordsPerPage &gt; 0</code>.</p>\n"},{"tags":[],"owner":{"account_id":1335920,"reputation":1,"user_id":1278685,"display_name":"Richard Parsons"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1332176765,"creation_date":1332164820,"answer_id":9771364,"question_id":17944,"body_markdown":"I had a similar need where I needed to convert Minutes to hours &amp; minutes. What I used was:\r\n\r\n    int hrs = 0; int mins = 0;\r\n    \r\n    float tm = totalmins;\r\n    \r\n    if ( tm &gt; 60 ) ( hrs = (int) (tm / 60);\r\n    \r\n    mins = (int) (tm - (hrs * 60));\r\n    \r\n    System.out.println(&quot;Total time in Hours &amp; Minutes = &quot; + hrs + &quot;:&quot; + mins);\r\n\r\n\r\n","title":"How to round up the result of integer division?","body":"<p>I had a similar need where I needed to convert Minutes to hours &amp; minutes. What I used was:</p>\n\n<pre><code>int hrs = 0; int mins = 0;\n\nfloat tm = totalmins;\n\nif ( tm &gt; 60 ) ( hrs = (int) (tm / 60);\n\nmins = (int) (tm - (hrs * 60));\n\nSystem.out.println(\"Total time in Hours &amp; Minutes = \" + hrs + \":\" + mins);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2339684,"reputation":1,"user_id":2051259,"display_name":"Jim Watson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1360250475,"creation_date":1360249354,"answer_id":14754238,"question_id":17944,"body_markdown":"The following should do rounding better than the above solutions, but at the expense of performance (due to floating point calculation of 0.5*rctDenominator):\r\n\r\n    uint64_t integerDivide( const uint64_t&amp; rctNumerator, const uint64_t&amp; rctDenominator )\r\n    {\r\n      // Ensure .5 upwards is rounded up (otherwise integer division just truncates - ie gives no remainder)\r\n      return (rctDenominator == 0) ? 0 : (rctNumerator + (int)(0.5*rctDenominator)) / rctDenominator;\r\n    }","title":"How to round up the result of integer division?","body":"<p>The following should do rounding better than the above solutions, but at the expense of performance (due to floating point calculation of 0.5*rctDenominator):</p>\n\n<pre><code>uint64_t integerDivide( const uint64_t&amp; rctNumerator, const uint64_t&amp; rctDenominator )\n{\n  // Ensure .5 upwards is rounded up (otherwise integer division just truncates - ie gives no remainder)\n  return (rctDenominator == 0) ? 0 : (rctNumerator + (int)(0.5*rctDenominator)) / rctDenominator;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530863,"reputation":4503,"user_id":1428089,"accept_rate":48,"display_name":"Sam Jones"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1391506618,"creation_date":1391506618,"answer_id":21548669,"question_id":17944,"body_markdown":"I do the following, handles any overflows:\r\n\r\n    var totalPages = totalResults.IsDivisble(recordsperpage) ? totalResults/(recordsperpage) : totalResults/(recordsperpage) + 1;\r\n\r\nAnd use this extension for if there&#39;s 0 results:\r\n\r\n    public static bool IsDivisble(this int x, int n)\r\n    {\r\n               return (x%n) == 0;\r\n    }\r\n\r\nAlso, for the current page number (wasn&#39;t asked but could be useful):\r\n\r\n    var currentPage = (int) Math.Ceiling(recordsperpage/(double) recordsperpage) + 1;\r\n\r\n","title":"How to round up the result of integer division?","body":"<p>I do the following, handles any overflows:</p>\n\n<pre><code>var totalPages = totalResults.IsDivisble(recordsperpage) ? totalResults/(recordsperpage) : totalResults/(recordsperpage) + 1;\n</code></pre>\n\n<p>And use this extension for if there's 0 results:</p>\n\n<pre><code>public static bool IsDivisble(this int x, int n)\n{\n           return (x%n) == 0;\n}\n</code></pre>\n\n<p>Also, for the current page number (wasn't asked but could be useful):</p>\n\n<pre><code>var currentPage = (int) Math.Ceiling(recordsperpage/(double) recordsperpage) + 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97315,"reputation":9210,"user_id":264031,"accept_rate":88,"display_name":"Nicholas Petersen"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1473969137,"creation_date":1473969137,"answer_id":39519292,"question_id":17944,"body_markdown":"In need of an extension method: \r\n\r\n\t\tpublic static int DivideUp(this int dividend, int divisor)\r\n\t\t{\r\n\t\t\treturn (dividend + (divisor - 1)) / divisor;\r\n\t\t}\r\n\r\nNo checks here (overflow, `DivideByZero`, etc), feel free to add if you like. By the way, for those worried about method invocation overhead, simple functions like this might be inlined by the compiler anyways, so I don&#39;t think that&#39;s where to be concerned. Cheers.\r\n\r\nP.S. you might find it useful to be aware of this as well (it gets the remainder): \r\n\r\n\t\tint remainder; \r\n\t\tint result = Math.DivRem(dividend, divisor, out remainder);","title":"How to round up the result of integer division?","body":"<p>In need of an extension method: </p>\n\n<pre><code>    public static int DivideUp(this int dividend, int divisor)\n    {\n        return (dividend + (divisor - 1)) / divisor;\n    }\n</code></pre>\n\n<p>No checks here (overflow, <code>DivideByZero</code>, etc), feel free to add if you like. By the way, for those worried about method invocation overhead, simple functions like this might be inlined by the compiler anyways, so I don't think that's where to be concerned. Cheers.</p>\n\n<p>P.S. you might find it useful to be aware of this as well (it gets the remainder): </p>\n\n<pre><code>    int remainder; \n    int result = Math.DivRem(dividend, divisor, out remainder);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7703242,"reputation":2880,"user_id":5835002,"accept_rate":25,"display_name":"SendETHToThisAddress"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1595326335,"creation_date":1595326335,"answer_id":63012251,"question_id":17944,"body_markdown":"**HOW TO ROUND UP THE RESULT OF INTEGER DIVISION IN C#**\r\n\r\nI was interested to know what the best way is to do this in C# since I need to do this in a loop up to nearly 100k times. Solutions posted by others using *Math* are ranked high in the answers, but in testing I found them slow. Jarod Elliott proposed a better tactic in checking if mod produces anything. \r\n\r\n    int result = (int1 / int2);\r\n    if (int1 % int2 != 0) { result++; }\r\n    \r\nI ran this in a loop 1 million times and it took 8ms. Here is the code using *Math*:\r\n\r\n    int result = (int)Math.Ceiling((double)int1 / (double)int2);\r\nWhich ran at 14ms in my testing, considerably longer.","title":"How to round up the result of integer division?","body":"<p><strong>HOW TO ROUND UP THE RESULT OF INTEGER DIVISION IN C#</strong></p>\n<p>I was interested to know what the best way is to do this in C# since I need to do this in a loop up to nearly 100k times. Solutions posted by others using <em>Math</em> are ranked high in the answers, but in testing I found them slow. Jarod Elliott proposed a better tactic in checking if mod produces anything.</p>\n<pre><code>int result = (int1 / int2);\nif (int1 % int2 != 0) { result++; }\n</code></pre>\n<p>I ran this in a loop 1 million times and it took 8ms. Here is the code using <em>Math</em>:</p>\n<pre><code>int result = (int)Math.Ceiling((double)int1 / (double)int2);\n</code></pre>\n<p>Which ran at 14ms in my testing, considerably longer.</p>\n"},{"tags":[],"owner":{"account_id":22767347,"reputation":190,"user_id":16925201,"display_name":"H.M.Mubashir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633601800,"creation_date":1633601800,"answer_id":69479389,"question_id":17944,"body_markdown":"you can use\r\n\r\n    (int)Math.Ceiling(((decimal)model.RecordCount )/ ((decimal)4));","title":"How to round up the result of integer division?","body":"<p>you can use</p>\n<pre><code>(int)Math.Ceiling(((decimal)model.RecordCount )/ ((decimal)4));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9721607,"reputation":105,"user_id":7210166,"display_name":"Jin-K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667500633,"creation_date":1666313983,"answer_id":74147725,"question_id":17944,"body_markdown":"I made this for me, thanks to [Jarod Elliott][1] &amp; [SendETHToThisAddress][2] replies.\r\n\r\n    public static int RoundedUpDivisionBy(this int @this, int divider)\r\n    {        \r\n        var result = @this / divider;\r\n        if (@this % divider is 0) return result;\r\n        return result + Math.Sign(@this * divider);\r\n    }\r\n\r\nThen I realized it is overkill for the CPU compared to the top answer.\r\nHowever, I think it&#39;s readable and works with negative numbers as well.\r\n\r\n  [1]: https://stackoverflow.com/a/17953/7210166\r\n  [2]: https://stackoverflow.com/a/63012251/7210166","title":"How to round up the result of integer division?","body":"<p>I made this for me, thanks to <a href=\"https://stackoverflow.com/a/17953/7210166\">Jarod Elliott</a> &amp; <a href=\"https://stackoverflow.com/a/63012251/7210166\">SendETHToThisAddress</a> replies.</p>\n<pre><code>public static int RoundedUpDivisionBy(this int @this, int divider)\n{        \n    var result = @this / divider;\n    if (@this % divider is 0) return result;\n    return result + Math.Sign(@this * divider);\n}\n</code></pre>\n<p>Then I realized it is overkill for the CPU compared to the top answer.\nHowever, I think it's readable and works with negative numbers as well.</p>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684750443,"creation_date":1684749918,"answer_id":76305061,"question_id":17944,"body_markdown":"Since Java 18, `Math.ceilDiv` is available for this purpose, see https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)","title":"How to round up the result of integer division?","body":"<p>Since Java 18, <code>Math.ceilDiv</code> is available for this purpose, see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)</a></p>\n"}],"owner":{"account_id":1557,"reputation":57571,"user_id":2084,"accept_rate":100,"display_name":"Ian Nelson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275420,"favorite_count":0,"down_vote_count":0,"up_vote_count":398,"accepted_answer_id":17974,"answer_count":19,"score":398,"last_activity_date":1684750443,"creation_date":1219238860,"question_id":17944,"body_markdown":"I&#39;m thinking in particular of how to display pagination controls, when using a language such as C# or Java.\r\n\r\nIf I have *x* items which I want to display in chunks of *y* per page, how many pages will be needed?","title":"How to round up the result of integer division?","body":"<p>I'm thinking in particular of how to display pagination controls, when using a language such as C# or Java.</p>\n\n<p>If I have <em>x</em> items which I want to display in chunks of <em>y</em> per page, how many pages will be needed?</p>\n"},{"tags":["java","android","android-viewpager","android-viewpager2"],"comments":[{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1684906811,"post_id":76305094,"comment_id":134583953,"body_markdown":"Don&#39;t show your whole code, give us a minimal self-contained code sample that demonstrates the problem.","body":"Don&#39;t show your whole code, give us a minimal self-contained code sample that demonstrates the problem."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1685022791,"post_id":76305094,"comment_id":134605506,"body_markdown":"tbh is the smallest amount of code I can provide to express my problem via code..","body":"tbh is the smallest amount of code I can provide to express my problem via code.."}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684750172,"creation_date":1684750172,"question_id":76305094,"body_markdown":"I am building a Calendar app and I want it to be like Google Calendar. As I was informed Google Calendar uses ViewPager2. The problem is that I made my adapter and everything I need to populate my Calendar, and I don&#39;t know how to implement it to my ViewPager to show it as a total of ArrayList month per month. Currently it shows me only day per day. I think I have to populate it as an ArrayList but I don&#39;t know how. \r\n\r\n**MainActivity**\r\n\r\n    package com.example.calendarcapital;\r\n    \r\n    import static com.example.calendarcapital.CalendarUtils.daysInMonthArray;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentPagerAdapter;\r\n    import androidx.viewpager2.widget.ViewPager2;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.MenuItem;\r\n    import android.view.ViewGroup;\r\n    import android.widget.GridLayout;\r\n    import android.widget.GridView;\r\n    import android.widget.LinearLayout;\r\n    \r\n    import com.google.android.material.navigation.NavigationView;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity2 extends AppCompatActivity implements CalendarAdapter.OnItemListener, NavigationView.OnNavigationItemSelectedListener {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n            ViewPager2 viewPager2 = findViewById(R.id.viewPager);\r\n            ViewPager2Adapter viewPager2Adapter = new ViewPager2Adapter(daysInMonthArray(),this::onItemClick,MainActivity2.this);\r\n    \r\n            viewPager2.setAdapter(viewPager2Adapter);\r\n            \r\n            viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n                @Override\r\n                // This method is triggered when there is any scrolling activity for the current page\r\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                    super.onPageScrolled(position, positionOffset, positionOffsetPixels);\r\n                }\r\n    \r\n                // triggered when you select a new page\r\n                @Override\r\n                public void onPageSelected(int position) {\r\n                    super.onPageSelected(position);\r\n                }\r\n    \r\n                // triggered when there is\r\n                // scroll state will be changed\r\n                @Override\r\n                public void onPageScrollStateChanged(int state) {\r\n                    super.onPageScrollStateChanged(state);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onItemClick(int position, LocalDate date) {\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n**ViewPager2Adapter**\r\n\r\n    package com.example.calendarcapital;\r\n    \r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.graphics.Color;\r\n    import android.os.Build;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2Adapter.ViewHolder&gt; {\r\n    \r\n    \r\n    \r\n        private final ArrayList&lt;LocalDate&gt; days;\r\n        private final ArrayList&lt;Date&gt; daysForRepeat;\r\n        Calendar calendar = Calendar.getInstance();\r\n        private final OnItemListener onItemListener;\r\n        private MyDatabaseHelper myDB;\r\n        static int numEvents;\r\n        static  int numRepeatingEvents;\r\n        Context context;\r\n    \r\n        // Constructor of our ViewPager2Adapter class\r\n        public ViewPager2Adapter(ArrayList&lt;LocalDate&gt; days, OnItemListener onItemListener, Context context) {\r\n            this.days = days;\r\n            this.onItemListener = onItemListener;\r\n            this.myDB = new MyDatabaseHelper(context.getApplicationContext());\r\n            this.context = context;\r\n            this.daysForRepeat = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        // This method returns our layout\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n            View view = inflater.inflate(R.layout.calendar_cell, parent, false);\r\n            LinearLayout test = view.findViewById(R.id.LinCell);\r\n            ViewGroup.LayoutParams layoutParams = test.getLayoutParams();\r\n    \r\n            calendar.setTime(new Date());\r\n            int currentMonth = calendar.get(Calendar.MONTH);\r\n            int currentDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n            int currentYear = calendar.get(Calendar.YEAR);\r\n    \r\n            calendar.set(Calendar.MONTH, Calendar.JANUARY);\r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n    \r\n    \r\n            calendar.set(Calendar.MONTH, currentMonth);\r\n            calendar.set(Calendar.DAY_OF_MONTH, currentDay);\r\n            calendar.set(Calendar.YEAR, currentYear);\r\n    \r\n            calendar.set(Calendar.HOUR_OF_DAY, 8);\r\n            calendar.set(Calendar.MINUTE, 0);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            calendar.set(Calendar.MILLISECOND, 0);\r\n    \r\n    \r\n    \r\n            if (days.size() &gt; 15) //month view\r\n            {\r\n    //            layoutParams.height = (int) (parent.getHeight() * 0.166666666);\r\n                layoutParams.height = (int) (test.getHeight() * 0.2);\r\n    \r\n            } else // week view\r\n                layoutParams.height = (int) test.getHeight();\r\n    \r\n    \r\n    \r\n            return new ViewHolder(view, onItemListener, days);\r\n        }\r\n    \r\n        // This method binds the screen with the view\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n    \r\n            Cursor cursor = myDB.readAllEvents();\r\n            holder.eventDayText.setVisibility(View.GONE);\r\n            holder.eventDayText2.setVisibility(View.GONE);\r\n            holder.eventDayText3.setVisibility(View.GONE);\r\n            holder.eventRepeatText1.setVisibility(View.GONE);\r\n            holder.eventRepeatText2.setVisibility(View.GONE);\r\n            holder.eventRepeatText3.setVisibility(View.GONE);\r\n            holder.eventsMore.setVisibility(View.GONE);\r\n    \r\n    \r\n            final LocalDate date = days.get(position);\r\n    \r\n            for (LocalDate day : days) {\r\n                Calendar calendar1 = Calendar.getInstance();\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    calendar1.set(day.getYear(), day.getMonthValue() - 1, day.getDayOfMonth());\r\n                }\r\n                calendar1.set(Calendar.HOUR_OF_DAY, 8);\r\n                calendar1.set(Calendar.MINUTE, 0);\r\n                calendar1.set(Calendar.SECOND, 0);\r\n                calendar1.set(Calendar.MILLISECOND, 0);\r\n                Date date2 = calendar1.getTime();\r\n                daysForRepeat.add(date2);\r\n            }\r\n    \r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                holder.dayOfMonth.setText(String.valueOf(date.getDayOfMonth()));\r\n            }\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                if (date.equals(CalendarUtils.selectedDate))\r\n                {\r\n    \r\n                    holder.LinCell.setBackgroundColor(Color.LTGRAY);\r\n    \r\n                }else {\r\n    //                holder.parentView.setBackground(defaultBackgroundDrawable);\r\n                    holder.LinCell.setBackgroundResource(R.drawable.back);\r\n                }\r\n            }\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                if (date.getMonth().equals(CalendarUtils.selectedDate.getMonth())) {\r\n                    holder.dayOfMonth.setTextColor(Color.BLACK);\r\n                }\r\n                else\r\n                {\r\n                    holder.dayOfMonth.setTextColor(Color.LTGRAY);\r\n                }\r\n            }\r\n            ArrayList&lt;Event&gt; myEvents = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n            cursor.moveToPosition(-1);\r\n            while (cursor.moveToNext()) {\r\n                Event eventDB = null;\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    eventDB = new Event(cursor.getString(0), cursor.getString(1), cursor.getString(2),\r\n                            CalendarUtils.stringToLocalDate(cursor.getString(3)), LocalTime.parse(cursor.getString(4)),\r\n                            cursor.getString(5), cursor.getString(6),cursor.getString(7));\r\n                }\r\n    \r\n                myEvents.add(eventDB);\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n            numEvents=0;\r\n            numRepeatingEvents=0;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                myEvents.sort((o1, o2) -&gt; o2.getName().compareTo(o1.getName()));\r\n            }\r\n            cursor.moveToPosition(-1);\r\n            for (int i=0; i&lt;days.size(); i++)\r\n            {\r\n    \r\n    \r\n                List&lt;String&gt; eventNames = new ArrayList&lt;&gt;();\r\n                for (Event event : myEvents) {\r\n    \r\n                    if (event.getDate().equals(date) &amp;&amp; event.getParent_id()==null) {\r\n                        eventNames.add(event.getName());\r\n    \r\n                    }\r\n                }\r\n    \r\n                Collections.sort(eventNames);\r\n    \r\n                numEvents = eventNames.size();\r\n    \r\n                if (numEvents &gt;= 1) {\r\n                    holder.eventDayText.setVisibility(View.VISIBLE);\r\n                    holder.eventDayText.setText(eventNames.get(0));\r\n                    holder.eventDayText.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventDayText.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                if (numEvents &gt;= 2) {\r\n                    holder.eventDayText2.setVisibility(View.VISIBLE);\r\n                    holder.eventDayText2.setText(eventNames.get(1));\r\n                    holder.eventDayText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventDayText2.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                if (numEvents &gt;= 3) {\r\n                    holder.eventDayText3.setVisibility(View.VISIBLE);\r\n                    holder.eventDayText3.setText(eventNames.get(2));\r\n                    holder.eventDayText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventDayText3.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                if (date.toString().equals(&quot;2023-05-11&quot;))\r\n                {\r\n                    System.out.println();\r\n                }\r\n                checkForMore( holder);\r\n    \r\n            }\r\n    \r\n            cursor.moveToPosition(-1);\r\n            for (int i=0; i&lt;days.size(); i++) {\r\n    \r\n                List&lt;String&gt; eventNamesRepeating = new ArrayList&lt;&gt;();\r\n                for (Event event : myEvents) {\r\n                    if (event.getDate().equals(date) &amp;&amp; !(event.getParent_id()==null)) {\r\n                        eventNamesRepeating.add(event.getName());\r\n                    }\r\n                }\r\n    \r\n                Collections.sort(eventNamesRepeating);\r\n    \r\n    \r\n                numRepeatingEvents = eventNamesRepeating.size();\r\n                if (numRepeatingEvents &gt;= 1 ) {\r\n                    holder.eventRepeatText1.setVisibility(View.VISIBLE);\r\n                    holder.eventRepeatText1.setText(eventNamesRepeating.get(0));\r\n                    holder.eventRepeatText1.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventRepeatText1.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                if (numRepeatingEvents &gt;= 2) {\r\n                    holder.eventRepeatText2.setVisibility(View.VISIBLE);\r\n                    holder.eventRepeatText2.setText(eventNamesRepeating.get(1));\r\n                    holder.eventRepeatText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventRepeatText2.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                if (numRepeatingEvents &gt;= 3) {\r\n                    holder.eventRepeatText3.setVisibility(View.VISIBLE);\r\n                    holder.eventRepeatText3.setText(eventNamesRepeating.get(2));\r\n                    holder.eventRepeatText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                    holder.eventRepeatText3.setBackgroundResource(R.drawable.rounded_corner);\r\n                }\r\n    \r\n                checkForMore( holder);\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n            cursor.close();\r\n            myDB.close();\r\n        }\r\n        public void checkForMore(@NonNull ViewHolder holder)\r\n        {\r\n            if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;=1)\r\n            {\r\n                holder.eventRepeatText1.setVisibility(View.GONE);\r\n                holder.eventRepeatText2.setVisibility(View.GONE);\r\n                holder.eventRepeatText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n    \r\n            }\r\n    \r\n            if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;1)\r\n            {\r\n                holder.eventDayText.setVisibility(View.GONE);\r\n                holder.eventDayText2.setVisibility(View.GONE);\r\n                holder.eventDayText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n    \r\n            if (numRepeatingEvents==2 &amp;&amp; numEvents&gt;1)\r\n            {\r\n                holder.eventDayText2.setVisibility(View.GONE);\r\n                holder.eventDayText3.setVisibility(View.GONE);\r\n                holder.eventRepeatText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n    \r\n            if (numEvents==2 &amp;&amp; numRepeatingEvents&gt;1)\r\n            {\r\n                holder.eventRepeatText2.setVisibility(View.GONE);\r\n                holder.eventRepeatText3.setVisibility(View.GONE);\r\n                holder.eventDayText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n    \r\n            }\r\n    \r\n            if (numEvents&gt;3 &amp;&amp; numRepeatingEvents==0)\r\n            {\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n    \r\n            if (numRepeatingEvents&gt;3 &amp;&amp; numEvents==0)\r\n            {\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n            if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;0)\r\n            {\r\n                holder.eventRepeatText1.setVisibility(View.GONE);\r\n                holder.eventRepeatText2.setVisibility(View.GONE);\r\n                holder.eventRepeatText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n    \r\n            if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;0)\r\n            {\r\n                holder.eventDayText.setVisibility(View.GONE);\r\n                holder.eventDayText2.setVisibility(View.GONE);\r\n                holder.eventDayText3.setVisibility(View.GONE);\r\n                holder.eventsMore.setVisibility(View.VISIBLE);\r\n                holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\r\n                holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\r\n            }\r\n        }\r\n    \r\n        // This Method returns the size of the Array\r\n        @Override\r\n        public int getItemCount() {\r\n            return days.size();\r\n        }\r\n    \r\n        public interface OnItemListener {\r\n    \r\n            void onItemClick(int position, LocalDate date);\r\n    \r\n        }\r\n    \r\n        // The ViewHolder class holds the view\r\n        public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n    \r\n            private final ArrayList&lt;LocalDate&gt; days;\r\n            public final View parentView;\r\n            public final TextView dayOfMonth, eventDayText, eventDayText2, eventDayText3;\r\n            public final TextView  eventRepeatText1, eventRepeatText2, eventRepeatText3,eventsMore;\r\n            public final LinearLayout LinCell;\r\n    \r\n    \r\n            private final OnItemListener onItemListener;\r\n    \r\n            public ViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;LocalDate&gt; days) {\r\n                super(itemView);\r\n                parentView = itemView.findViewById(R.id.parentView);\r\n                LinCell = itemView.findViewById(R.id.LinCell);\r\n                dayOfMonth = itemView.findViewById(R.id.cellDayText);\r\n                eventDayText = itemView.findViewById(R.id.eventDayText);\r\n                eventDayText2 = itemView.findViewById(R.id.eventDayText2);\r\n                eventDayText3 = itemView.findViewById(R.id.eventDayText3);\r\n                eventRepeatText1 = itemView.findViewById(R.id.eventRepeatText1);\r\n                eventRepeatText2= itemView.findViewById(R.id.eventRepeatText2);\r\n                eventRepeatText3= itemView.findViewById(R.id.eventRepeatText3);\r\n                eventsMore = itemView.findViewById(R.id.eventsMore);\r\n    \r\n    \r\n                this.onItemListener = onItemListener;\r\n                itemView.setOnClickListener(this);\r\n                this.days = days;\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onClick(View view) {\r\n    \r\n                view.setSelected(true);\r\n                onItemListener.onItemClick(getAdapterPosition(), days.get(getAdapterPosition()));\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**daysInMonthArray**\r\n\r\n    public static ArrayList&lt;LocalDate&gt; daysInMonthArray() //The arraylist that month will be stored\r\n        {\r\n            ArrayList&lt;LocalDate&gt; daysInMonthArray = new ArrayList&lt;&gt;();\r\n    \r\n            YearMonth yearMonth = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                yearMonth = YearMonth.from(selectedDate);\r\n            }\r\n            int daysInMonth = 0; //get how many days are in month\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                daysInMonth = yearMonth.lengthOfMonth();\r\n            }\r\n    \r\n            LocalDate prevMonth = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                prevMonth = selectedDate.minusMonths(1);\r\n            }\r\n            LocalDate nextMonth = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                nextMonth = selectedDate.plusMonths(1);\r\n            }\r\n    \r\n            YearMonth prevYearMonth = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                prevYearMonth = YearMonth.from(prevMonth);\r\n            }\r\n            int prevDaysInMonth = 0;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                prevDaysInMonth = prevYearMonth.lengthOfMonth();\r\n            }\r\n    \r\n            LocalDate firstOfMonth = null; //get first day of month\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                firstOfMonth = CalendarUtils.selectedDate.withDayOfMonth(1);\r\n            }\r\n            int dayOfWeek = 0; // return int between 0-7 which is the day of the week\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                dayOfWeek = firstOfMonth.getDayOfWeek().getValue();\r\n            }\r\n    \r\n            for (int i = 1; i &lt;= 42; i++) {\r\n                if (i &lt;= dayOfWeek) {\r\n    \r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        daysInMonthArray.add(LocalDate.of(prevMonth.getYear(), prevMonth.getMonth(), prevDaysInMonth + i - dayOfWeek));\r\n                    }\r\n                    if (dayOfWeek == 7 &amp;&amp; daysInMonthArray.size() &gt;= 7) {\r\n    \r\n                        daysInMonthArray.clear();\r\n                    }\r\n    \r\n    \r\n                } else if (i &gt; daysInMonth + dayOfWeek) {\r\n    \r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        daysInMonthArray.add(LocalDate.of(nextMonth.getYear(), nextMonth.getMonth(), i - dayOfWeek - daysInMonth));\r\n                    }\r\n    \r\n    \r\n                }\r\n                else {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        daysInMonthArray.add(LocalDate.of(selectedDate.getYear(), selectedDate.getMonth(), i - dayOfWeek));\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n            return daysInMonthArray;\r\n    \r\n    \r\n        }\r\n\r\n\r\n**My xml is simple with the ViewPager only inside:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity2&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/viewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"ViewPager2 as gridview calendar application","body":"<p>I am building a Calendar app and I want it to be like Google Calendar. As I was informed Google Calendar uses ViewPager2. The problem is that I made my adapter and everything I need to populate my Calendar, and I don't know how to implement it to my ViewPager to show it as a total of ArrayList month per month. Currently it shows me only day per day. I think I have to populate it as an ArrayList but I don't know how.</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>package com.example.calendarcapital;\n\nimport static com.example.calendarcapital.CalendarUtils.daysInMonthArray;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentPagerAdapter;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.ViewGroup;\nimport android.widget.GridLayout;\nimport android.widget.GridView;\nimport android.widget.LinearLayout;\n\nimport com.google.android.material.navigation.NavigationView;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity2 extends AppCompatActivity implements CalendarAdapter.OnItemListener, NavigationView.OnNavigationItemSelectedListener {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        ViewPager2 viewPager2 = findViewById(R.id.viewPager);\n        ViewPager2Adapter viewPager2Adapter = new ViewPager2Adapter(daysInMonthArray(),this::onItemClick,MainActivity2.this);\n\n        viewPager2.setAdapter(viewPager2Adapter);\n        \n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n            @Override\n            // This method is triggered when there is any scrolling activity for the current page\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n            }\n\n            // triggered when you select a new page\n            @Override\n            public void onPageSelected(int position) {\n                super.onPageSelected(position);\n            }\n\n            // triggered when there is\n            // scroll state will be changed\n            @Override\n            public void onPageScrollStateChanged(int state) {\n                super.onPageScrollStateChanged(state);\n            }\n        });\n\n\n    }\n\n    @Override\n    public void onItemClick(int position, LocalDate date) {\n\n\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        return false;\n    }\n}\n</code></pre>\n<p><strong>ViewPager2Adapter</strong></p>\n<pre><code>package com.example.calendarcapital;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.graphics.Color;\nimport android.os.Build;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2Adapter.ViewHolder&gt; {\n\n\n\n    private final ArrayList&lt;LocalDate&gt; days;\n    private final ArrayList&lt;Date&gt; daysForRepeat;\n    Calendar calendar = Calendar.getInstance();\n    private final OnItemListener onItemListener;\n    private MyDatabaseHelper myDB;\n    static int numEvents;\n    static  int numRepeatingEvents;\n    Context context;\n\n    // Constructor of our ViewPager2Adapter class\n    public ViewPager2Adapter(ArrayList&lt;LocalDate&gt; days, OnItemListener onItemListener, Context context) {\n        this.days = days;\n        this.onItemListener = onItemListener;\n        this.myDB = new MyDatabaseHelper(context.getApplicationContext());\n        this.context = context;\n        this.daysForRepeat = new ArrayList&lt;&gt;();\n    }\n\n    // This method returns our layout\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.calendar_cell, parent, false);\n        LinearLayout test = view.findViewById(R.id.LinCell);\n        ViewGroup.LayoutParams layoutParams = test.getLayoutParams();\n\n        calendar.setTime(new Date());\n        int currentMonth = calendar.get(Calendar.MONTH);\n        int currentDay = calendar.get(Calendar.DAY_OF_MONTH);\n        int currentYear = calendar.get(Calendar.YEAR);\n\n        calendar.set(Calendar.MONTH, Calendar.JANUARY);\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\n\n\n        calendar.set(Calendar.MONTH, currentMonth);\n        calendar.set(Calendar.DAY_OF_MONTH, currentDay);\n        calendar.set(Calendar.YEAR, currentYear);\n\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n        calendar.set(Calendar.MILLISECOND, 0);\n\n\n\n        if (days.size() &gt; 15) //month view\n        {\n//            layoutParams.height = (int) (parent.getHeight() * 0.166666666);\n            layoutParams.height = (int) (test.getHeight() * 0.2);\n\n        } else // week view\n            layoutParams.height = (int) test.getHeight();\n\n\n\n        return new ViewHolder(view, onItemListener, days);\n    }\n\n    // This method binds the screen with the view\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        Cursor cursor = myDB.readAllEvents();\n        holder.eventDayText.setVisibility(View.GONE);\n        holder.eventDayText2.setVisibility(View.GONE);\n        holder.eventDayText3.setVisibility(View.GONE);\n        holder.eventRepeatText1.setVisibility(View.GONE);\n        holder.eventRepeatText2.setVisibility(View.GONE);\n        holder.eventRepeatText3.setVisibility(View.GONE);\n        holder.eventsMore.setVisibility(View.GONE);\n\n\n        final LocalDate date = days.get(position);\n\n        for (LocalDate day : days) {\n            Calendar calendar1 = Calendar.getInstance();\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                calendar1.set(day.getYear(), day.getMonthValue() - 1, day.getDayOfMonth());\n            }\n            calendar1.set(Calendar.HOUR_OF_DAY, 8);\n            calendar1.set(Calendar.MINUTE, 0);\n            calendar1.set(Calendar.SECOND, 0);\n            calendar1.set(Calendar.MILLISECOND, 0);\n            Date date2 = calendar1.getTime();\n            daysForRepeat.add(date2);\n        }\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            holder.dayOfMonth.setText(String.valueOf(date.getDayOfMonth()));\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            if (date.equals(CalendarUtils.selectedDate))\n            {\n\n                holder.LinCell.setBackgroundColor(Color.LTGRAY);\n\n            }else {\n//                holder.parentView.setBackground(defaultBackgroundDrawable);\n                holder.LinCell.setBackgroundResource(R.drawable.back);\n            }\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            if (date.getMonth().equals(CalendarUtils.selectedDate.getMonth())) {\n                holder.dayOfMonth.setTextColor(Color.BLACK);\n            }\n            else\n            {\n                holder.dayOfMonth.setTextColor(Color.LTGRAY);\n            }\n        }\n        ArrayList&lt;Event&gt; myEvents = new ArrayList&lt;&gt;();\n\n\n        cursor.moveToPosition(-1);\n        while (cursor.moveToNext()) {\n            Event eventDB = null;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                eventDB = new Event(cursor.getString(0), cursor.getString(1), cursor.getString(2),\n                        CalendarUtils.stringToLocalDate(cursor.getString(3)), LocalTime.parse(cursor.getString(4)),\n                        cursor.getString(5), cursor.getString(6),cursor.getString(7));\n            }\n\n            myEvents.add(eventDB);\n\n\n        }\n\n\n        numEvents=0;\n        numRepeatingEvents=0;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            myEvents.sort((o1, o2) -&gt; o2.getName().compareTo(o1.getName()));\n        }\n        cursor.moveToPosition(-1);\n        for (int i=0; i&lt;days.size(); i++)\n        {\n\n\n            List&lt;String&gt; eventNames = new ArrayList&lt;&gt;();\n            for (Event event : myEvents) {\n\n                if (event.getDate().equals(date) &amp;&amp; event.getParent_id()==null) {\n                    eventNames.add(event.getName());\n\n                }\n            }\n\n            Collections.sort(eventNames);\n\n            numEvents = eventNames.size();\n\n            if (numEvents &gt;= 1) {\n                holder.eventDayText.setVisibility(View.VISIBLE);\n                holder.eventDayText.setText(eventNames.get(0));\n                holder.eventDayText.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numEvents &gt;= 2) {\n                holder.eventDayText2.setVisibility(View.VISIBLE);\n                holder.eventDayText2.setText(eventNames.get(1));\n                holder.eventDayText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText2.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numEvents &gt;= 3) {\n                holder.eventDayText3.setVisibility(View.VISIBLE);\n                holder.eventDayText3.setText(eventNames.get(2));\n                holder.eventDayText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText3.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (date.toString().equals(&quot;2023-05-11&quot;))\n            {\n                System.out.println();\n            }\n            checkForMore( holder);\n\n        }\n\n        cursor.moveToPosition(-1);\n        for (int i=0; i&lt;days.size(); i++) {\n\n            List&lt;String&gt; eventNamesRepeating = new ArrayList&lt;&gt;();\n            for (Event event : myEvents) {\n                if (event.getDate().equals(date) &amp;&amp; !(event.getParent_id()==null)) {\n                    eventNamesRepeating.add(event.getName());\n                }\n            }\n\n            Collections.sort(eventNamesRepeating);\n\n\n            numRepeatingEvents = eventNamesRepeating.size();\n            if (numRepeatingEvents &gt;= 1 ) {\n                holder.eventRepeatText1.setVisibility(View.VISIBLE);\n                holder.eventRepeatText1.setText(eventNamesRepeating.get(0));\n                holder.eventRepeatText1.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText1.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numRepeatingEvents &gt;= 2) {\n                holder.eventRepeatText2.setVisibility(View.VISIBLE);\n                holder.eventRepeatText2.setText(eventNamesRepeating.get(1));\n                holder.eventRepeatText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText2.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numRepeatingEvents &gt;= 3) {\n                holder.eventRepeatText3.setVisibility(View.VISIBLE);\n                holder.eventRepeatText3.setText(eventNamesRepeating.get(2));\n                holder.eventRepeatText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText3.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            checkForMore( holder);\n        }\n\n\n\n\n        cursor.close();\n        myDB.close();\n    }\n    public void checkForMore(@NonNull ViewHolder holder)\n    {\n        if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;=1)\n        {\n            holder.eventRepeatText1.setVisibility(View.GONE);\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n\n        }\n\n        if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;1)\n        {\n            holder.eventDayText.setVisibility(View.GONE);\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents==2 &amp;&amp; numEvents&gt;1)\n        {\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numEvents==2 &amp;&amp; numRepeatingEvents&gt;1)\n        {\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n\n        }\n\n        if (numEvents&gt;3 &amp;&amp; numRepeatingEvents==0)\n        {\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents&gt;3 &amp;&amp; numEvents==0)\n        {\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n        if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;0)\n        {\n            holder.eventRepeatText1.setVisibility(View.GONE);\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;0)\n        {\n            holder.eventDayText.setVisibility(View.GONE);\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n    }\n\n    // This Method returns the size of the Array\n    @Override\n    public int getItemCount() {\n        return days.size();\n    }\n\n    public interface OnItemListener {\n\n        void onItemClick(int position, LocalDate date);\n\n    }\n\n    // The ViewHolder class holds the view\n    public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n        private final ArrayList&lt;LocalDate&gt; days;\n        public final View parentView;\n        public final TextView dayOfMonth, eventDayText, eventDayText2, eventDayText3;\n        public final TextView  eventRepeatText1, eventRepeatText2, eventRepeatText3,eventsMore;\n        public final LinearLayout LinCell;\n\n\n        private final OnItemListener onItemListener;\n\n        public ViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;LocalDate&gt; days) {\n            super(itemView);\n            parentView = itemView.findViewById(R.id.parentView);\n            LinCell = itemView.findViewById(R.id.LinCell);\n            dayOfMonth = itemView.findViewById(R.id.cellDayText);\n            eventDayText = itemView.findViewById(R.id.eventDayText);\n            eventDayText2 = itemView.findViewById(R.id.eventDayText2);\n            eventDayText3 = itemView.findViewById(R.id.eventDayText3);\n            eventRepeatText1 = itemView.findViewById(R.id.eventRepeatText1);\n            eventRepeatText2= itemView.findViewById(R.id.eventRepeatText2);\n            eventRepeatText3= itemView.findViewById(R.id.eventRepeatText3);\n            eventsMore = itemView.findViewById(R.id.eventsMore);\n\n\n            this.onItemListener = onItemListener;\n            itemView.setOnClickListener(this);\n            this.days = days;\n\n\n        }\n\n\n        @Override\n        public void onClick(View view) {\n\n            view.setSelected(true);\n            onItemListener.onItemClick(getAdapterPosition(), days.get(getAdapterPosition()));\n\n        }\n    }\n\n}\n</code></pre>\n<p><strong>daysInMonthArray</strong></p>\n<pre><code>public static ArrayList&lt;LocalDate&gt; daysInMonthArray() //The arraylist that month will be stored\n    {\n        ArrayList&lt;LocalDate&gt; daysInMonthArray = new ArrayList&lt;&gt;();\n\n        YearMonth yearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            yearMonth = YearMonth.from(selectedDate);\n        }\n        int daysInMonth = 0; //get how many days are in month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            daysInMonth = yearMonth.lengthOfMonth();\n        }\n\n        LocalDate prevMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevMonth = selectedDate.minusMonths(1);\n        }\n        LocalDate nextMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            nextMonth = selectedDate.plusMonths(1);\n        }\n\n        YearMonth prevYearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevYearMonth = YearMonth.from(prevMonth);\n        }\n        int prevDaysInMonth = 0;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevDaysInMonth = prevYearMonth.lengthOfMonth();\n        }\n\n        LocalDate firstOfMonth = null; //get first day of month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            firstOfMonth = CalendarUtils.selectedDate.withDayOfMonth(1);\n        }\n        int dayOfWeek = 0; // return int between 0-7 which is the day of the week\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            dayOfWeek = firstOfMonth.getDayOfWeek().getValue();\n        }\n\n        for (int i = 1; i &lt;= 42; i++) {\n            if (i &lt;= dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(prevMonth.getYear(), prevMonth.getMonth(), prevDaysInMonth + i - dayOfWeek));\n                }\n                if (dayOfWeek == 7 &amp;&amp; daysInMonthArray.size() &gt;= 7) {\n\n                    daysInMonthArray.clear();\n                }\n\n\n            } else if (i &gt; daysInMonth + dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(nextMonth.getYear(), nextMonth.getMonth(), i - dayOfWeek - daysInMonth));\n                }\n\n\n            }\n            else {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(selectedDate.getYear(), selectedDate.getMonth(), i - dayOfWeek));\n                }\n\n            }\n\n        }\n\n\n        return daysInMonthArray;\n\n\n    }\n</code></pre>\n<p><strong>My xml is simple with the ViewPager only inside:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","swagger-core"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684749827,"creation_date":1684749827,"answer_id":76305046,"question_id":76304355,"body_markdown":"What you are trying to achieve cannot be done with @ApplicationPath. Remove them and build that part of the path in the @Path annotations.\r\n\r\n    @Path(&quot;/endpoint_1/path1&quot;)\r\n    public class SomeObject1 {\r\n    }\r\n    \r\n    \r\n    @Path(&quot;/endpoint_2/path2&quot;)\r\n    public class SomeObject2 {\r\n    }","title":"swagger wrong api for different servlets","body":"<p>What you are trying to achieve cannot be done with @ApplicationPath. Remove them and build that part of the path in the @Path annotations.</p>\n<pre><code>@Path(&quot;/endpoint_1/path1&quot;)\npublic class SomeObject1 {\n}\n\n\n@Path(&quot;/endpoint_2/path2&quot;)\npublic class SomeObject2 {\n}\n</code></pre>\n"}],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684749827,"creation_date":1684744425,"question_id":76304355,"body_markdown":"I have several endpoints. For example\r\n\r\n    @ApplicationPath(&quot;/endpoint_1&quot;)\r\n    public class Endpoint1 extends ResourceConfig {\r\n    \r\n\r\n     public Endpoint1(){\r\n        register(SomeObject1.class);\r\n        ...\r\n        }\r\n    \r\n    }\r\n    \r\n    @Path(&quot;/path1&quot;)\r\n    public class SomeObject1 {\r\n    }\r\n    \r\n    \r\n    @ApplicationPath(&quot;/endpoint_2&quot;)\r\n    public class Endpoint2 extends ResourceConfig {\r\n    \r\n    public Endpoint2(){\r\n        register(SomeObject2.class);\r\n        ...\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    @Path(&quot;/path2&quot;)\r\n    public class SomeObject2 {\r\n    }\r\n\r\nAnd when I try to register swagger and get API for both endpoints, I get only for 1 and its swagger&#39;s endpoint\r\n\r\n\r\nI have tried many variants but this one was last one\r\n\r\n    @ApplicationPath(&quot;/swagger&quot;)\r\n    public class OpenApiCOnfig extends ResourceConfig {\r\n    \r\n      public OpenApiConfig() {\r\n        OpenApiResource r = new OpenApiResource();\r\n        SwaggerConfiguration oasConfig = new SwaggerConfiguration()\r\n                    .openAPI(new OpenAPI())\r\n                    .prettyPrint(true);\r\n    \r\n        r.setOpenApiConfiguration(oasConfig);\r\n    \r\n        register(r);\r\n      }\r\n    }\r\n\r\n\r\n\r\nand I get API like\r\n\r\n/swagger/path1; /swagger/path2;\r\n\r\nHow to get correct API like \r\n\r\nendpoint_1/path1;  endpoint_2/path2","title":"swagger wrong api for different servlets","body":"<p>I have several endpoints. For example</p>\n<pre><code>@ApplicationPath(&quot;/endpoint_1&quot;)\npublic class Endpoint1 extends ResourceConfig {\n\n\n public Endpoint1(){\n    register(SomeObject1.class);\n    ...\n    }\n\n}\n\n@Path(&quot;/path1&quot;)\npublic class SomeObject1 {\n}\n\n\n@ApplicationPath(&quot;/endpoint_2&quot;)\npublic class Endpoint2 extends ResourceConfig {\n\npublic Endpoint2(){\n    register(SomeObject2.class);\n    ...\n    }\n\n}\n\n\n@Path(&quot;/path2&quot;)\npublic class SomeObject2 {\n}\n</code></pre>\n<p>And when I try to register swagger and get API for both endpoints, I get only for 1 and its swagger's endpoint</p>\n<p>I have tried many variants but this one was last one</p>\n<pre><code>@ApplicationPath(&quot;/swagger&quot;)\npublic class OpenApiCOnfig extends ResourceConfig {\n\n  public OpenApiConfig() {\n    OpenApiResource r = new OpenApiResource();\n    SwaggerConfiguration oasConfig = new SwaggerConfiguration()\n                .openAPI(new OpenAPI())\n                .prettyPrint(true);\n\n    r.setOpenApiConfiguration(oasConfig);\n\n    register(r);\n  }\n}\n</code></pre>\n<p>and I get API like</p>\n<p>/swagger/path1; /swagger/path2;</p>\n<p>How to get correct API like</p>\n<p>endpoint_1/path1;  endpoint_2/path2</p>\n"},{"tags":["java","find-sec-bugs"],"owner":{"account_id":28634591,"reputation":1,"user_id":21924938,"display_name":"timer 9527"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684749792,"creation_date":1684749792,"question_id":76305041,"body_markdown":"How to quickly debug and modify code?\r\n\r\nI am not a professional java developer and I am confused about how to debug this find-sec-bugs project. Whenever I add a new detector, do I need to package the entire project and replace plugins.jar in findsecbugs-cli, can I debug the source code I wrote directly with IDEA?\r\n\r\n","title":"How can I debug new detectors in find-sec-bugs without repackaging the entire project?","body":"<p>How to quickly debug and modify code?</p>\n<p>I am not a professional java developer and I am confused about how to debug this find-sec-bugs project. Whenever I add a new detector, do I need to package the entire project and replace plugins.jar in findsecbugs-cli, can I debug the source code I wrote directly with IDEA?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1624909958,"post_id":68169120,"comment_id":120481462,"body_markdown":"If you&#39;re including versions of Spring dependencies, you&#39;re usually clobbering the management and going to cause problems. In particular, you are pulling in 5.0.0 and 5.5.0; eliminate all of these versions and let Boot do its job.","body":"If you&#39;re including versions of Spring dependencies, you&#39;re usually clobbering the management and going to cause problems. In particular, you are pulling in 5.0.0 and 5.5.0; eliminate all of these versions and let Boot do its job."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1624947390,"post_id":68169120,"comment_id":120488941,"body_markdown":"If you generate your project via [start.spring.io](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.5.2.RELEASE&amp;packaging=jar&amp;jvmVersion=16&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=thymeleaf,security,data-jpa,devtools,mysql,lombok), you will see that you don&#39;t need all those versions specified. Spring Boot handles this automatically to select compatible versions.","body":"If you generate your project via <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.5.2.RELEASE&amp;packaging=jar&amp;jvmVersion=16&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=thymeleaf,security,data-jpa,devtools,mysql,lombok\" rel=\"nofollow noreferrer\">start.spring.io</a>, you will see that you don&#39;t need all those versions specified. Spring Boot handles this automatically to select compatible versions."},{"owner":{"display_name":"user16187195"},"score":0,"creation_date":1624957691,"post_id":68169120,"comment_id":120492812,"body_markdown":"Thanks that solved my problem","body":"Thanks that solved my problem"}],"answers":[{"tags":[],"owner":{"account_id":11171071,"reputation":1055,"user_id":8198017,"display_name":"VishnuVS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684749499,"creation_date":1684749499,"answer_id":76305000,"question_id":68169120,"body_markdown":"I got this error while running the application using IntelliJ. My issue was that I was using Java version 11 in the project settings. I changed it to version 1.8 from them project settings menu (Ctrl + Shift + Alt + S).","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39; in Spring Boot application","body":"<p>I got this error while running the application using IntelliJ. My issue was that I was using Java version 11 in the project settings. I changed it to version 1.8 from them project settings menu (Ctrl + Shift + Alt + S).</p>\n"}],"owner":{"display_name":"user16187195"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684749499,"creation_date":1624908870,"question_id":68169120,"body_markdown":"I&#39;m using a Spring Boot application with Thymeleaf in a simple test project. I want to show a message if the user is logged in so I want to use the sec:authorize=&quot;isAuthenticated()&quot;. I made my config class(thats totally new for me) but I get an error\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:2.5.1]\r\n\tat com.teszt.thymeleaftest.ThymeleaftestApplication.main(ThymeleaftestApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:2.5.1]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\r\n\tat org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration.addArgumentResolvers(WebMvcSecurityConfiguration.java:61) ~[spring-security-config-5.5.0.jar:5.5.0]\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addArgumentResolvers(WebMvcConfigurerComposite.java:123) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addArgumentResolvers(DelegatingWebMvcConfiguration.java:108) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getArgumentResolvers(WebMvcConfigurationSupport.java:812) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:675) ~[spring-webmvc-5.3.8.jar:5.3.8]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.web.method.annotation.CurrentSecurityContextArgumentResolver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\r\n\t... 35 common frames omitted\r\n```\r\nNow I&#39;m not sure which files should I share here but here is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.teszt&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;thymeleaftest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;thymeleaftest&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nMy config class:\r\n```\r\npackage com.teszt.thymeleaftest.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .loginProcessingUrl(&quot;/logIn&quot;)\r\n                    .permitAll()\r\n                .and()\r\n                .csrf().disable();\r\n    }\r\n}\r\n```\r\nHere is my html page:\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\r\n    &lt;!-- Required meta tags --&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n\r\n    &lt;!-- Bootstrap CSS --&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n\r\n\r\n    &lt;title&gt;Main Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;a th:href=&quot;@{/users/showUserForm}&quot;&gt;Click here&lt;/a&gt; to go to the User Registration page\r\n&lt;br&gt;\r\n&lt;a th:href=&quot;@{/users/list}&quot;&gt;Click here&lt;/a&gt; to go to the Users list page\r\n&lt;br&gt;\r\n&lt;a th:href=&quot;@{/login/signUp}&quot;&gt;Click here&lt;/a&gt; to go to the sign up page\r\n&lt;br&gt;\r\n&lt;a th:href=&quot;@{/login/members-list}&quot;&gt;Click here&lt;/a&gt; to see the list of the members\r\n&lt;br&gt;\r\n&lt;span sec:authorize=&quot;isAuthenticated()&quot;&gt;You are logged in&lt;/span&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nI hope somebody can help me.\r\n\r\n\r\n","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39; in Spring Boot application","body":"<p>I'm using a Spring Boot application with Thymeleaf in a simple test project. I want to show a message if the user is logged in so I want to use the sec:authorize=&quot;isAuthenticated()&quot;. I made my config class(thats totally new for me) but I get an error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:2.5.1]\n    at com.teszt.thymeleaftest.ThymeleaftestApplication.main(ThymeleaftestApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:2.5.1]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.8.jar:5.3.8]\n    ... 24 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration.addArgumentResolvers(WebMvcSecurityConfiguration.java:61) ~[spring-security-config-5.5.0.jar:5.5.0]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addArgumentResolvers(WebMvcConfigurerComposite.java:123) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addArgumentResolvers(DelegatingWebMvcConfiguration.java:108) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getArgumentResolvers(WebMvcConfigurationSupport.java:812) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:675) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.8.jar:5.3.8]\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.web.method.annotation.CurrentSecurityContextArgumentResolver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n    ... 35 common frames omitted\n</code></pre>\n<p>Now I'm not sure which files should I share here but here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.teszt&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaftest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;thymeleaftest&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My config class:</p>\n<pre><code>package com.teszt.thymeleaftest.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n@Configuration\n@EnableWebMvc\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .loginProcessingUrl(&quot;/logIn&quot;)\n                    .permitAll()\n                .and()\n                .csrf().disable();\n    }\n}\n</code></pre>\n<p>Here is my html page:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\n\n&lt;head&gt;\n\n    &lt;!-- Required meta tags --&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n\n    &lt;!-- Bootstrap CSS --&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n\n    &lt;title&gt;Main Page&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;a th:href=&quot;@{/users/showUserForm}&quot;&gt;Click here&lt;/a&gt; to go to the User Registration page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/users/list}&quot;&gt;Click here&lt;/a&gt; to go to the Users list page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/login/signUp}&quot;&gt;Click here&lt;/a&gt; to go to the sign up page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/login/members-list}&quot;&gt;Click here&lt;/a&gt; to see the list of the members\n&lt;br&gt;\n&lt;span sec:authorize=&quot;isAuthenticated()&quot;&gt;You are logged in&lt;/span&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I hope somebody can help me.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1354805533,"post_id":13746080,"comment_id":18889577,"body_markdown":"See http://stackoverflow.com/questions/4370683/inject-util-class-with-google-guice-vs-static-methods","body":"See <a href=\"http://stackoverflow.com/questions/4370683/inject-util-class-with-google-guice-vs-static-methods\" title=\"inject util class with google guice vs static methods\">stackoverflow.com/questions/4370683/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1354805824,"creation_date":1354805824,"answer_id":13746277,"question_id":13746080,"body_markdown":"If it has any kind of state to maintain, or any collaborators then make a Spring component. If the functionality you need is stateless and doesn&#39;t rely on the state of any other methods it calls then make it static.\r\n\r\nFor example in my app I have a static util method that clamps integers between a min and max value, but a Spring bean that returns the current date...\r\n\r\n    @Service\r\n    public class DateServiceImpl implements DateService {\r\n        @Override\r\n        public Date getCurrentDate() {\r\n            return Calendar.getInstance().getTime();\r\n        }\r\n    }\r\n\r\nWhy? Because now I can unit test code that uses the current date.","title":"Spring or not Spring : should we create a @Component on a class with static methods?","body":"<p>If it has any kind of state to maintain, or any collaborators then make a Spring component. If the functionality you need is stateless and doesn't rely on the state of any other methods it calls then make it static.</p>\n\n<p>For example in my app I have a static util method that clamps integers between a min and max value, but a Spring bean that returns the current date...</p>\n\n<pre><code>@Service\npublic class DateServiceImpl implements DateService {\n    @Override\n    public Date getCurrentDate() {\n        return Calendar.getInstance().getTime();\n    }\n}\n</code></pre>\n\n<p>Why? Because now I can unit test code that uses the current date.</p>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684749430,"creation_date":1684749430,"answer_id":76304992,"question_id":13746080,"body_markdown":"With Spring it is always better to have Components then Util classes with static methods. \r\n\r\nHowever if you have a lot of util classes with static methods already, refactoring could be difficult, because of, besides of replacing the util classes with Spring beans you also will have to update all methods invocations in classes depending on those utils classes. This is even harder if your code used as library in other projects. Though this is well known and is the consequence of tight coupling, which leads to fragility. Somebody will have to pay for that.\r\n\r\nThus I would create all new classes as Spring beans (components) but about older code I would may be left it as is, because large change could break something unintentionally. So I would replace older util classes in case I have some feature update task on them.\r\n\r\nHere some details: https://stackoverflow.com/a/76304657/4776689","title":"Spring or not Spring : should we create a @Component on a class with static methods?","body":"<p>With Spring it is always better to have Components then Util classes with static methods.</p>\n<p>However if you have a lot of util classes with static methods already, refactoring could be difficult, because of, besides of replacing the util classes with Spring beans you also will have to update all methods invocations in classes depending on those utils classes. This is even harder if your code used as library in other projects. Though this is well known and is the consequence of tight coupling, which leads to fragility. Somebody will have to pay for that.</p>\n<p>Thus I would create all new classes as Spring beans (components) but about older code I would may be left it as is, because large change could break something unintentionally. So I would replace older util classes in case I have some feature update task on them.</p>\n<p>Here some details: <a href=\"https://stackoverflow.com/a/76304657/4776689\">https://stackoverflow.com/a/76304657/4776689</a></p>\n"}],"owner":{"account_id":1674405,"reputation":979,"user_id":1540241,"accept_rate":60,"display_name":"MychaL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9576,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13746277,"answer_count":2,"score":11,"last_activity_date":1684749430,"creation_date":1354805263,"question_id":13746080,"body_markdown":"I have a package &quot;Utils&quot; where i have many classes. Some of them are just some classes with static methods and others some singleton where i pass some parameters in constructor (with @Value in order to replace the basic XML configuration by annotation).\r\n\r\nI have a configuration in ApplicationContext in order to scan the package.\r\n\r\nSo, my question : for classes with static methods, should we transform them with @Component annotation in order to have a singleton (still with static methods) or should we let them in this state without managed them by Spring ?\r\n\r\nthank you","title":"Spring or not Spring : should we create a @Component on a class with static methods?","body":"<p>I have a package \"Utils\" where i have many classes. Some of them are just some classes with static methods and others some singleton where i pass some parameters in constructor (with @Value in order to replace the basic XML configuration by annotation).</p>\n\n<p>I have a configuration in ApplicationContext in order to scan the package.</p>\n\n<p>So, my question : for classes with static methods, should we transform them with @Component annotation in order to have a singleton (still with static methods) or should we let them in this state without managed them by Spring ?</p>\n\n<p>thank you</p>\n"},{"tags":["java","hibernate","jpa","orm","many-to-many"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1587452670,"post_id":61337372,"comment_id":108509245,"body_markdown":"I assume you have found [this other question](https://stackoverflow.com/questions/19966486/hibernate-4-onetomany-liststring) and it doesn&#39;t work for you","body":"I assume you have found <a href=\"https://stackoverflow.com/questions/19966486/hibernate-4-onetomany-liststring\">this other question</a> and it doesn&#39;t work for you"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1587452882,"post_id":61337372,"comment_id":108509349,"body_markdown":"You probably don&#39;t need the `@JoinTable` and `@Column` annotations","body":"You probably don&#39;t need the <code>@JoinTable</code> and <code>@Column</code> annotations"},{"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"score":0,"creation_date":1587471100,"post_id":61337372,"comment_id":108519092,"body_markdown":"Hi Lino. The thread you mentioned does not deal with many-to-many relationship, so it does not solve my problem. Thanks anyway!","body":"Hi Lino. The thread you mentioned does not deal with many-to-many relationship, so it does not solve my problem. Thanks anyway!"},{"owner":{"account_id":11213379,"reputation":210,"user_id":8226811,"display_name":"Julien"},"score":0,"creation_date":1633435893,"post_id":61337372,"comment_id":122754255,"body_markdown":"Did you find any solution ? I encounter the same problem. Thanks in advance","body":"Did you find any solution ? I encounter the same problem. Thanks in advance"},{"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"score":0,"creation_date":1633526355,"post_id":61337372,"comment_id":122782873,"body_markdown":"@Julien, sadly I have not. I&#39;m &#39;ve created a class for the Label","body":"@Julien, sadly I have not. I&#39;m &#39;ve created a class for the Label"}],"answers":[{"tags":[],"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587452971,"creation_date":1587452971,"answer_id":61337803,"question_id":61337372,"body_markdown":"`@JoinTable` is used to map following associations to database table: bidirectional many-to-one/one-to-many, unidirectional many-to-one, and one-to-one (both bidirectional and unidirectional) associations.\r\n\r\nIf you really want to have  `Label`with his own table you have to define it as an `Entity` and then using `ManyToMany` relation.\r\n\r\nThe other solution would be to remove `Label` table and keep label name as `LABEL` instead of label_id inside `item_label` table.\r\n\r\nSo your relation will become \r\n```java\r\n@ElementCollection\r\n@CollectionTable(name = &quot;ITEM_LABEL&quot;, joinColumns = @JoinColumn(name = &quot;ITEM_ID&quot;))\r\n@Column(name = &quot;LABEL&quot;)\r\n```","title":"JPA - many-to-many as ElementCollection","body":"<p><code>@JoinTable</code> is used to map following associations to database table: bidirectional many-to-one/one-to-many, unidirectional many-to-one, and one-to-one (both bidirectional and unidirectional) associations.</p>\n\n<p>If you really want to have  <code>Label</code>with his own table you have to define it as an <code>Entity</code> and then using <code>ManyToMany</code> relation.</p>\n\n<p>The other solution would be to remove <code>Label</code> table and keep label name as <code>LABEL</code> instead of label_id inside <code>item_label</code> table.</p>\n\n<p>So your relation will become </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ElementCollection\n@CollectionTable(name = \"ITEM_LABEL\", joinColumns = @JoinColumn(name = \"ITEM_ID\"))\n@Column(name = \"LABEL\")\n</code></pre>\n"}],"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61337803,"answer_count":1,"score":3,"last_activity_date":1684749342,"creation_date":1587451167,"question_id":61337372,"body_markdown":"I&#39;ve got a many-to-many relationship that assigns labels (nothing but string) to items:\r\n\r\n    +------+   +------------+   +-------+\r\n    | ITEM |   | ITEM_LABEL |   | LABEL |\r\n    |------|   |------------|   |-------|\r\n    |  ID  |&lt;-&gt;|  ITEM_ID   | ┌&gt;|  ID   |\r\n    |------|   |------------| | |-------|\r\n    | .... |   |  LABEL_ID  |&lt;┘ | TEXT  |\r\n    +------+   +------------+   +-------+\r\n\r\n... and I&#39;d like to avoid creating POJO class for the label table and keep it in the Item class as a collection of strings. Is there a way to do it with JPA (hibernate) annotations?\r\n\r\nI&#39;ve tried to combine @CollectionTable with @JoinTable but it obviously does not work:\r\n\r\n```{java}\r\n@Entity\r\npublic class Item {\r\n\r\n\t@Id\r\n\tprivate long id;\r\n\r\n\t@ElementCollection\r\n\t@JoinTable(name = &quot;ITEM_LABEL&quot;,\tjoinColumns = @JoinColumn(name = &quot;ITEM_ID&quot;))\r\n\t@CollectionTable(name = &quot;LABEL&quot;, joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;LABEL_ID&quot;))\r\n\t@Column(name = &quot;TEXT&quot;)\r\n\tprivate Collection&lt;Strings&gt; labels;\r\n}\r\n```\r\n\r\nCan anyone tell me how could I include the labels as a collection of string in the item class, please? Many thanks! ","title":"JPA - many-to-many as ElementCollection","body":"<p>I've got a many-to-many relationship that assigns labels (nothing but string) to items:</p>\n\n<pre><code>+------+   +------------+   +-------+\n| ITEM |   | ITEM_LABEL |   | LABEL |\n|------|   |------------|   |-------|\n|  ID  |&lt;-&gt;|  ITEM_ID   | ┌&gt;|  ID   |\n|------|   |------------| | |-------|\n| .... |   |  LABEL_ID  |&lt;┘ | TEXT  |\n+------+   +------------+   +-------+\n</code></pre>\n\n<p>... and I'd like to avoid creating POJO class for the label table and keep it in the Item class as a collection of strings. Is there a way to do it with JPA (hibernate) annotations?</p>\n\n<p>I've tried to combine @CollectionTable with @JoinTable but it obviously does not work:</p>\n\n<pre><code>@Entity\npublic class Item {\n\n    @Id\n    private long id;\n\n    @ElementCollection\n    @JoinTable(name = \"ITEM_LABEL\", joinColumns = @JoinColumn(name = \"ITEM_ID\"))\n    @CollectionTable(name = \"LABEL\", joinColumns = @JoinColumn(name = \"ID\", referencedColumnName = \"LABEL_ID\"))\n    @Column(name = \"TEXT\")\n    private Collection&lt;Strings&gt; labels;\n}\n</code></pre>\n\n<p>Can anyone tell me how could I include the labels as a collection of string in the item class, please? Many thanks! </p>\n"},{"tags":["java","apache-axis"],"owner":{"account_id":28652564,"reputation":11,"user_id":21939263,"display_name":"null8l5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684749182,"creation_date":1684745003,"question_id":76304413,"body_markdown":"Occasionally we get invalid XML responses when calling webservices using Axis2. One reason beside others maybe a HTTP 500 on the other end, resulting in a non-XML response.\r\n\r\nFor better debugging it would be nice to log the HTTP response. \r\n\r\nIs there any possibility to get the actual HTTP response in case of an AxisFault exception?\r\n\r\n\r\n```\r\n[...]\r\nServiceClient sender;\r\nOperationClient mepClient;\r\n\t\t\r\nsender = new ServiceClient (\r\n\taxisConfiguration,\r\n\twsdlLocation,\r\n\tnew QName (\r\n\t\t\tns.getNamespaceURI(),\r\n\t\t\tserviceName ),\r\n\tnull );\r\n\r\nmepClient = sender.createClient (\r\n\tnew QName (\r\n\t\t\tns.getNamespaceURI(), action ) );\r\n\r\nMessageContext messageContext = createMessageContext(method, attachments);\r\nmepClient.addMessageContext (messageContext);\r\n\r\ntry {\r\n\r\n    mepClient.execute(true);\r\n\r\n} catch (AxisFault fault) {\r\n\r\n    // the other side responded with non-xml content for some\r\n    // reason - how to get the actual response?\r\n}\r\n```","title":"Axis2 AxisFault &quot;Content is not allowed in prolog.&quot; - How can i get the invalid XML message?","body":"<p>Occasionally we get invalid XML responses when calling webservices using Axis2. One reason beside others maybe a HTTP 500 on the other end, resulting in a non-XML response.</p>\n<p>For better debugging it would be nice to log the HTTP response.</p>\n<p>Is there any possibility to get the actual HTTP response in case of an AxisFault exception?</p>\n<pre><code>[...]\nServiceClient sender;\nOperationClient mepClient;\n        \nsender = new ServiceClient (\n    axisConfiguration,\n    wsdlLocation,\n    new QName (\n            ns.getNamespaceURI(),\n            serviceName ),\n    null );\n\nmepClient = sender.createClient (\n    new QName (\n            ns.getNamespaceURI(), action ) );\n\nMessageContext messageContext = createMessageContext(method, attachments);\nmepClient.addMessageContext (messageContext);\n\ntry {\n\n    mepClient.execute(true);\n\n} catch (AxisFault fault) {\n\n    // the other side responded with non-xml content for some\n    // reason - how to get the actual response?\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684445442,"creation_date":1684445442,"answer_id":76284615,"question_id":76242570,"body_markdown":"The reason for such behavior is in your DummyMessage configuration. You have the `String numbers` field but ignore it for Jackson. Instead, you provide the `getToken` method. So Jackson thinks that your object has only the `List&lt;String&gt; tokens` field and doesn&#39;t understand your bytes when you unmarshal it. \r\n\r\nLet&#39;s look closer:\r\n\r\nWhen you call your `/mvc` endpoint, there is only marshaling happening, so it works. You have the following flow:\r\n\r\n`Request body (1)-&gt; DummyMessage1 (2)-&gt; Response body`\r\n\r\n```\r\n{\r\n  &quot;numbers&quot;: &quot;6469344427; 2017586291&quot;\r\n}\r\n\r\n(1) ====&gt; \r\n\r\nDummyMessage1(\r\n  String numbers = &quot;6469344427; 2017586291&quot;\r\n)\r\n\r\n(2) ====&gt; \r\n\r\n{\r\n  &quot;tokens&quot;: [\r\n    &quot;6469344427&quot;,\r\n    &quot;2017586291&quot;\r\n  ]\r\n}\r\n```\r\n\r\nBut in your `/message` endpoint, the flow is longer: \r\n\r\n`Request body (1)-&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage2`\r\n\r\nAnd on step 3, at your `DummyMessageConsumerService`, spring tries to unmarshal `DummyMessage2` from JSON and can&#39;t do this because the Json has only the field &quot;tokens,&quot; but there is no such field in the object. \r\n\r\nTo fix this issue:\r\n1) Remove `@JsonProperty(access = JsonProperty.Access.READ_ONLY)` from `getTokens()` method \r\n\r\n2) Add the following setter to your `DummyMessage2`\r\n```\r\npublic void setTokens(List&lt;String&gt; tokens) {\r\n    this.numbers = String.join(&quot;;&quot;, tokens);\r\n}\r\n```\r\n\r\nOr you can create another DTO object like `DummyMessage3` with `List&lt;String&gt; tokens` instead of `String numbers`. In that case the flow will be `(1) -&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage3`.\r\n","title":"Spring Cloud Stream: Spring Boot 3.x: JsonProperty, JsonIgnoreProperties behaving unexpectedly with Jackson in Message Converter","body":"<p>The reason for such behavior is in your DummyMessage configuration. You have the <code>String numbers</code> field but ignore it for Jackson. Instead, you provide the <code>getToken</code> method. So Jackson thinks that your object has only the <code>List&lt;String&gt; tokens</code> field and doesn't understand your bytes when you unmarshal it.</p>\n<p>Let's look closer:</p>\n<p>When you call your <code>/mvc</code> endpoint, there is only marshaling happening, so it works. You have the following flow:</p>\n<p><code>Request body (1)-&gt; DummyMessage1 (2)-&gt; Response body</code></p>\n<pre><code>{\n  &quot;numbers&quot;: &quot;6469344427; 2017586291&quot;\n}\n\n(1) ====&gt; \n\nDummyMessage1(\n  String numbers = &quot;6469344427; 2017586291&quot;\n)\n\n(2) ====&gt; \n\n{\n  &quot;tokens&quot;: [\n    &quot;6469344427&quot;,\n    &quot;2017586291&quot;\n  ]\n}\n</code></pre>\n<p>But in your <code>/message</code> endpoint, the flow is longer:</p>\n<p><code>Request body (1)-&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage2</code></p>\n<p>And on step 3, at your <code>DummyMessageConsumerService</code>, spring tries to unmarshal <code>DummyMessage2</code> from JSON and can't do this because the Json has only the field &quot;tokens,&quot; but there is no such field in the object.</p>\n<p>To fix this issue:</p>\n<ol>\n<li><p>Remove <code>@JsonProperty(access = JsonProperty.Access.READ_ONLY)</code> from <code>getTokens()</code> method</p>\n</li>\n<li><p>Add the following setter to your <code>DummyMessage2</code></p>\n</li>\n</ol>\n<pre><code>public void setTokens(List&lt;String&gt; tokens) {\n    this.numbers = String.join(&quot;;&quot;, tokens);\n}\n</code></pre>\n<p>Or you can create another DTO object like <code>DummyMessage3</code> with <code>List&lt;String&gt; tokens</code> instead of <code>String numbers</code>. In that case the flow will be <code>(1) -&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage3</code>.</p>\n"}],"owner":{"account_id":2909779,"reputation":928,"user_id":2494311,"accept_rate":50,"display_name":"Vadiraj Purohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76284615,"answer_count":1,"score":2,"last_activity_date":1684749031,"creation_date":1683978660,"question_id":76242570,"body_markdown":"I am currently working on a Spring Boot application (version 3.0.6) and using Spring Cloud (version 2022.0.2). I have two different endpoints (&quot;/mvc&quot; and &quot;/message&quot;) that use two different request objects (**DummyMessage1** and **DummyMessage2**), and I&#39;m having some issues with Jackson&#39;s JsonProperty and JsonIgnoreProperties annotations.\r\n\r\nIn both the cases I&#39;m looking to supress **numbers** from response and get **tokens** in response.\r\n\r\nI have used JsonIgnoreProperties to suppress **numbers** from response.\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\r\n\r\nIn the **`/mvc`** endpoint, everything is working as expected. I&#39;m using **`DummyMessage1`** request object for this endpoint. The **`numbers`** field is suppressed from response as expected. Furthermore, the **`tokens`** field, is returned successfully in the JSON response and is not empty as it contains the list of tokens from the request.\r\n\r\nThe problem arises in the **`/message`** endpoint, which uses **`DummyMessage2`** to post a message to kafka. **`DummyMessage2`** is identical to **`DummyMessage1`**.\r\n\r\nWhen I attempted to post a JSON to the Kafka topic, an exception was thrown: \r\n\r\nFull stacktrace can be found [here](https://gist.github.com/cricketbackground/487eee625b1305076072164366a64635)\r\n\r\n```\r\njava.lang.ClassCastException: class [B cannot be cast to class com.example.marshaller.model.DummyMessage2 ([B is in module java.base of loader &#39;bootstrap&#39;; com.example.marshaller.model.DummyMessage2 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:990) ~[spring-cloud-function-context-4.0.2.jar:4.0.2]\r\n```\r\n\r\nHere are the request objects:\r\n\r\n`DummyMessage1`:\r\n\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @Getter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\r\n    public class DummyMessage1 extends BaseRequest {\r\n    \r\n        private String numbers;\r\n    \r\n        //@JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public List&lt;String&gt; getTokens() {\r\n            if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\r\n            return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\r\n        }\r\n    }\r\n\r\n\r\n`DummyMessage2`:\r\n\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @Getter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\r\n    public class DummyMessage2 extends BaseRequest {\r\n    \r\n        private String numbers;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public List&lt;String&gt; getTokens() {\r\n            if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\r\n            return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\r\n        }\r\n    }\r\n\r\n\r\nNext, to work around the the exception, I added the annotation **@JsonProperty(access = JsonProperty.Access.READ_ONLY)** on **getTokens()** method in **DummyMessage2**. However, this did not result in the desired outcome. The JSON posted to Kafka now did not include the numbers field as required, but also, the tokens field was as empty, which is not expected.\r\n\r\nWhy is this happening? I would expect the tokens field to be populated as it is in the /mvc endpoint. Any help or insights would be greatly appreciated.\r\n\r\nHere&#39;s repository to reproduce the issue: https://github.com/cricketbackground/marshaller\r\n\r\nPlease note for security reasons the kafka brokers and kafka zk nodes are purposefully not set in the repo.\r\n\r\nRequest Body:\r\n\r\n```json\r\n\r\n{\r\n    &quot;numbers&quot;:&quot;12345; 3982934823; 3248923492834; 324923434&quot;\r\n}\r\n```\r\n\r\nHow to use: please see [here](https://github.com/cricketbackground/marshaller#readme)\r\n\r\n**--- Update**\r\n\r\nHere&#39;s the simple working DummyMessage2 by adding a field for the utility getter. In the getter method the field itself is returned if it is not empty, thus retaining the field value across multiple message post hops\r\n\r\n```java\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.EqualsAndHashCode;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.experimental.SuperBuilder;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.util.CollectionUtils;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    @EqualsAndHashCode(callSuper = false)\r\n    @Getter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\r\n    public class DummyMessage2 extends BaseRequest {\r\n    \r\n        private String numbers;\r\n    \r\n        private List&lt;String&gt; tokens;\r\n    \r\n        public List&lt;String&gt; getTokens() {\r\n            if (!CollectionUtils.isEmpty(this.tokens)) return this.tokens;\r\n            if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\r\n            return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe other solution suggested by Yevhenii Semenov also works but requires setter method logic to be written exactly reverse of getter logic. Setter method complexity increases based on getter method. Also, if there are more fields then writing/maintaining setter methods for each field becomes a problem","title":"Spring Cloud Stream: Spring Boot 3.x: JsonProperty, JsonIgnoreProperties behaving unexpectedly with Jackson in Message Converter","body":"<p>I am currently working on a Spring Boot application (version 3.0.6) and using Spring Cloud (version 2022.0.2). I have two different endpoints (&quot;/mvc&quot; and &quot;/message&quot;) that use two different request objects (<strong>DummyMessage1</strong> and <strong>DummyMessage2</strong>), and I'm having some issues with Jackson's JsonProperty and JsonIgnoreProperties annotations.</p>\n<p>In both the cases I'm looking to supress <strong>numbers</strong> from response and get <strong>tokens</strong> in response.</p>\n<p>I have used JsonIgnoreProperties to suppress <strong>numbers</strong> from response.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\n</code></pre>\n<p>In the <strong><code>/mvc</code></strong> endpoint, everything is working as expected. I'm using <strong><code>DummyMessage1</code></strong> request object for this endpoint. The <strong><code>numbers</code></strong> field is suppressed from response as expected. Furthermore, the <strong><code>tokens</code></strong> field, is returned successfully in the JSON response and is not empty as it contains the list of tokens from the request.</p>\n<p>The problem arises in the <strong><code>/message</code></strong> endpoint, which uses <strong><code>DummyMessage2</code></strong> to post a message to kafka. <strong><code>DummyMessage2</code></strong> is identical to <strong><code>DummyMessage1</code></strong>.</p>\n<p>When I attempted to post a JSON to the Kafka topic, an exception was thrown:</p>\n<p>Full stacktrace can be found <a href=\"https://gist.github.com/cricketbackground/487eee625b1305076072164366a64635\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>java.lang.ClassCastException: class [B cannot be cast to class com.example.marshaller.model.DummyMessage2 ([B is in module java.base of loader 'bootstrap'; com.example.marshaller.model.DummyMessage2 is in unnamed module of loader 'app')\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:990) ~[spring-cloud-function-context-4.0.2.jar:4.0.2]\n</code></pre>\n<p>Here are the request objects:</p>\n<p><code>DummyMessage1</code>:</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n@Getter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\npublic class DummyMessage1 extends BaseRequest {\n\n    private String numbers;\n\n    //@JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public List&lt;String&gt; getTokens() {\n        if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n        return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n    }\n}\n</code></pre>\n<p><code>DummyMessage2</code>:</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n@Getter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\npublic class DummyMessage2 extends BaseRequest {\n\n    private String numbers;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public List&lt;String&gt; getTokens() {\n        if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n        return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n    }\n}\n</code></pre>\n<p>Next, to work around the the exception, I added the annotation <strong>@JsonProperty(access = JsonProperty.Access.READ_ONLY)</strong> on <strong>getTokens()</strong> method in <strong>DummyMessage2</strong>. However, this did not result in the desired outcome. The JSON posted to Kafka now did not include the numbers field as required, but also, the tokens field was as empty, which is not expected.</p>\n<p>Why is this happening? I would expect the tokens field to be populated as it is in the /mvc endpoint. Any help or insights would be greatly appreciated.</p>\n<p>Here's repository to reproduce the issue: <a href=\"https://github.com/cricketbackground/marshaller\" rel=\"nofollow noreferrer\">https://github.com/cricketbackground/marshaller</a></p>\n<p>Please note for security reasons the kafka brokers and kafka zk nodes are purposefully not set in the repo.</p>\n<p>Request Body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n{\n    &quot;numbers&quot;:&quot;12345; 3982934823; 3248923492834; 324923434&quot;\n}\n</code></pre>\n<p>How to use: please see <a href=\"https://github.com/cricketbackground/marshaller#readme\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>--- Update</strong></p>\n<p>Here's the simple working DummyMessage2 by adding a field for the utility getter. In the getter method the field itself is returned if it is not empty, thus retaining the field value across multiple message post hops</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n    import lombok.AllArgsConstructor;\n    import lombok.EqualsAndHashCode;\n    import lombok.Getter;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    import org.apache.commons.lang3.StringUtils;\n    import org.springframework.util.CollectionUtils;\n    \n    import java.util.Collections;\n    import java.util.List;\n    \n    @EqualsAndHashCode(callSuper = false)\n    @Getter\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\n    public class DummyMessage2 extends BaseRequest {\n    \n        private String numbers;\n    \n        private List&lt;String&gt; tokens;\n    \n        public List&lt;String&gt; getTokens() {\n            if (!CollectionUtils.isEmpty(this.tokens)) return this.tokens;\n            if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n            return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n        }\n    }\n\n</code></pre>\n<p>The other solution suggested by Yevhenii Semenov also works but requires setter method logic to be written exactly reverse of getter logic. Setter method complexity increases based on getter method. Also, if there are more fields then writing/maintaining setter methods for each field becomes a problem</p>\n"},{"tags":["java","encryption","hardware-security-module","oaep"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682343891,"creation_date":1682343891,"answer_id":76092572,"question_id":76091513,"body_markdown":"OAEP decryption [is defined in the PKCS#1 RSA standard](https://www.rfc-editor.org/rfc/rfc8017#section-7.1.2). The decoding of the padding starts at step 3.\r\n\r\nYou *could* take a look at existing software implementations of RSA OAEP, e.g. for the open source Bouncy Castle library if you don&#39;t want to fully program it yourself.","title":"oaep decryption with HSM private key","body":"<p>OAEP decryption <a href=\"https://www.rfc-editor.org/rfc/rfc8017#section-7.1.2\" rel=\"nofollow noreferrer\">is defined in the PKCS#1 RSA standard</a>. The decoding of the padding starts at step 3.</p>\n<p>You <em>could</em> take a look at existing software implementations of RSA OAEP, e.g. for the open source Bouncy Castle library if you don't want to fully program it yourself.</p>\n"},{"tags":[],"owner":{"account_id":7060571,"reputation":153,"user_id":12854684,"display_name":"An Anita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684748823,"creation_date":1684748823,"answer_id":76304915,"question_id":76091513,"body_markdown":"So, after some research I got the OAEP decryption.\r\nI use Bouncy Castle 1.7 and adjust code from `org.bouncycastle.crypto.encodings.OAEPEncoding` class.\r\n```\r\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\r\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \r\ndecryptedWithOaep = cipher.doFinal(data);\r\n// this is for with OAEP SHA-256\r\nOAEPEncoding eng =  new OAEPEncoding(new SHA256Digest(), new SHA256Digest());\r\n// if you need with OAEP SHA-1\r\n//new OAEPEncoding();\r\nbyte[] decrypted = eng.decodeBlock(decryptedWithOaep,0,decryptedWithOaep.length, getOutputBlockSize(publicPK11Key.getModulus().bitLength());\r\n\r\n```\r\n\r\n```\r\npublic static int getOutputBlockSize(bitSize)\r\n{\r\n  return (bitSize + 7) / 8 - 1;\r\n}\r\n```\r\n\r\n```\r\nimport org.bouncycastle.crypto.Digest;\r\nimport org.bouncycastle.crypto.InvalidCipherTextException;\r\nimport org.bouncycastle.crypto.util.DigestFactory;\r\nimport org.bouncycastle.util.Arrays;\r\nimport org.bouncycastle.util.Pack;\r\n\r\npublic class OAEPEncoding\r\n{\r\n// this part is adjusting to my case\r\n\r\n    private byte[]                  defHash ;\r\n    private Digest                  mgf1Hash ;\r\n\r\n    public OAEPEncoding()\r\n    {\r\n        Digest hash = DigestFactory.createSHA1();\r\n        mgf1Hash = DigestFactory.createSHA1();\r\n        defHash = new byte[mgf1Hash.getDigestSize()];\r\n        hash.reset();\r\n        hash.doFinal(defHash, 0);\r\n    }\r\n\r\n    public OAEPEncoding(Digest sha256Digest, Digest sha256Digest1) {\r\n        mgf1Hash = sha256Digest1;\r\n        defHash = new byte[mgf1Hash.getDigestSize()];\r\n        sha256Digest.reset();\r\n        sha256Digest.doFinal(defHash, 0);\r\n    }\r\n\r\n    public byte[] decodeBlock(\r\n        byte[]  in,\r\n        int     inOff,\r\n        int     inLen,\r\n        int outputBlockSize)\r\n        throws InvalidCipherTextException\r\n    {\r\n        byte[]  data = in;\r\n        byte[]  block = new byte[outputBlockSize];\r\n\r\n// from here starting original org.bouncycastle.crypto.encodings.OAEPEncoding code\r\n        //\r\n        // as we may have zeros in our leading bytes for the block we produced\r\n        // on encryption, we need to make sure our decrypted block comes back\r\n        // the same size.\r\n        //\r\n\r\n        // i.e. wrong when block.length &lt; (2 * defHash.length) + 1\r\n        int wrongMask = (block.length - ((2 * defHash.length) + 1)) &gt;&gt; 31;\r\n\r\n        if (data.length &lt;= block.length)\r\n        {\r\n            System.arraycopy(data, 0, block, block.length - data.length, data.length);\r\n        }\r\n        else\r\n        {\r\n            System.arraycopy(data, 0, block, 0, block.length);\r\n            wrongMask |= 1;\r\n        }\r\n\r\n        //\r\n        // unmask the seed.\r\n        //\r\n        byte[] mask = maskGeneratorFunction1(\r\n                    block, defHash.length, block.length - defHash.length, defHash.length);\r\n\r\n        for (int i = 0; i != defHash.length; i++)\r\n        {\r\n            block[i] ^= mask[i];\r\n        }\r\n\r\n        //\r\n        // unmask the message block.\r\n        //\r\n        mask = maskGeneratorFunction1(block, 0, defHash.length, block.length - defHash.length);\r\n\r\n        for (int i = defHash.length; i != block.length; i++)\r\n        {\r\n            block[i] ^= mask[i - defHash.length];\r\n        }\r\n\r\n        //\r\n        // check the hash of the encoding params.\r\n        // long check to try to avoid this been a source of a timing attack.\r\n        //\r\n        for (int i = 0; i != defHash.length; i++)\r\n        {\r\n            wrongMask |= defHash[i] ^ block[defHash.length + i];\r\n        }\r\n\r\n        //\r\n        // find the data block\r\n        //\r\n        int start = -1;\r\n\r\n        for (int index = 2 * defHash.length; index != block.length; index++)\r\n        {\r\n            int octet = block[index] &amp; 0xFF;\r\n\r\n            // i.e. mask will be 0xFFFFFFFF if octet is non-zero and start is (still) negative, else 0.\r\n            int shouldSetMask = (-octet &amp; start) &gt;&gt; 31;\r\n\r\n            start += index &amp; shouldSetMask;\r\n        }\r\n\r\n        wrongMask |= start &gt;&gt; 31;\r\n        ++start;\r\n        wrongMask |= block[start] ^ 1;\r\n\r\n        if (wrongMask != 0)\r\n        {\r\n            Arrays.fill(block, (byte)0);\r\n            throw new InvalidCipherTextException(&quot;data wrong&quot;);\r\n        }\r\n\r\n        ++start;\r\n\r\n        //\r\n        // extract the data block\r\n        //\r\n        byte[]  output = new byte[block.length - start];\r\n\r\n        System.arraycopy(block, start, output, 0, output.length);\r\n        Arrays.fill(block, (byte)0);\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * mask generator function, as described in PKCS1v2.\r\n     */\r\n    private byte[] maskGeneratorFunction1(\r\n        byte[]  Z,\r\n        int     zOff,\r\n        int     zLen,\r\n        int     length)\r\n    {\r\n        byte[]  mask = new byte[length];\r\n        byte[]  hashBuf = new byte[mgf1Hash.getDigestSize()];\r\n        byte[]  C = new byte[4];\r\n        int     counter = 0;\r\n\r\n        mgf1Hash.reset();\r\n\r\n        while (counter &lt; (length / hashBuf.length))\r\n        {\r\n            Pack.intToBigEndian(counter, C, 0);\r\n\r\n            mgf1Hash.update(Z, zOff, zLen);\r\n            mgf1Hash.update(C, 0, C.length);\r\n            mgf1Hash.doFinal(hashBuf, 0);\r\n\r\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, hashBuf.length);\r\n\r\n            counter++;\r\n        }\r\n\r\n        if ((counter * hashBuf.length) &lt; length)\r\n        {\r\n            Pack.intToBigEndian(counter, C, 0);\r\n\r\n            mgf1Hash.update(Z, zOff, zLen);\r\n            mgf1Hash.update(C, 0, C.length);\r\n            mgf1Hash.doFinal(hashBuf, 0);\r\n\r\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, mask.length - (counter * hashBuf.length));\r\n        }\r\n\r\n        return mask;\r\n    }\r\n}\r\n```\r\n\r\nAlso, I have issue with decryptedWithOaep length, it was longer than getOutputBlockSize, for this I delete additional 0 from decrypted with SunPKCS11 data.\r\nBut if I try it for random RSA keys generated with bouncy castle it was not happening. ","title":"oaep decryption with HSM private key","body":"<p>So, after some research I got the OAEP decryption.\nI use Bouncy Castle 1.7 and adjust code from <code>org.bouncycastle.crypto.encodings.OAEPEncoding</code> class.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \ndecryptedWithOaep = cipher.doFinal(data);\n// this is for with OAEP SHA-256\nOAEPEncoding eng =  new OAEPEncoding(new SHA256Digest(), new SHA256Digest());\n// if you need with OAEP SHA-1\n//new OAEPEncoding();\nbyte[] decrypted = eng.decodeBlock(decryptedWithOaep,0,decryptedWithOaep.length, getOutputBlockSize(publicPK11Key.getModulus().bitLength());\n\n</code></pre>\n<pre><code>public static int getOutputBlockSize(bitSize)\n{\n  return (bitSize + 7) / 8 - 1;\n}\n</code></pre>\n<pre><code>import org.bouncycastle.crypto.Digest;\nimport org.bouncycastle.crypto.InvalidCipherTextException;\nimport org.bouncycastle.crypto.util.DigestFactory;\nimport org.bouncycastle.util.Arrays;\nimport org.bouncycastle.util.Pack;\n\npublic class OAEPEncoding\n{\n// this part is adjusting to my case\n\n    private byte[]                  defHash ;\n    private Digest                  mgf1Hash ;\n\n    public OAEPEncoding()\n    {\n        Digest hash = DigestFactory.createSHA1();\n        mgf1Hash = DigestFactory.createSHA1();\n        defHash = new byte[mgf1Hash.getDigestSize()];\n        hash.reset();\n        hash.doFinal(defHash, 0);\n    }\n\n    public OAEPEncoding(Digest sha256Digest, Digest sha256Digest1) {\n        mgf1Hash = sha256Digest1;\n        defHash = new byte[mgf1Hash.getDigestSize()];\n        sha256Digest.reset();\n        sha256Digest.doFinal(defHash, 0);\n    }\n\n    public byte[] decodeBlock(\n        byte[]  in,\n        int     inOff,\n        int     inLen,\n        int outputBlockSize)\n        throws InvalidCipherTextException\n    {\n        byte[]  data = in;\n        byte[]  block = new byte[outputBlockSize];\n\n// from here starting original org.bouncycastle.crypto.encodings.OAEPEncoding code\n        //\n        // as we may have zeros in our leading bytes for the block we produced\n        // on encryption, we need to make sure our decrypted block comes back\n        // the same size.\n        //\n\n        // i.e. wrong when block.length &lt; (2 * defHash.length) + 1\n        int wrongMask = (block.length - ((2 * defHash.length) + 1)) &gt;&gt; 31;\n\n        if (data.length &lt;= block.length)\n        {\n            System.arraycopy(data, 0, block, block.length - data.length, data.length);\n        }\n        else\n        {\n            System.arraycopy(data, 0, block, 0, block.length);\n            wrongMask |= 1;\n        }\n\n        //\n        // unmask the seed.\n        //\n        byte[] mask = maskGeneratorFunction1(\n                    block, defHash.length, block.length - defHash.length, defHash.length);\n\n        for (int i = 0; i != defHash.length; i++)\n        {\n            block[i] ^= mask[i];\n        }\n\n        //\n        // unmask the message block.\n        //\n        mask = maskGeneratorFunction1(block, 0, defHash.length, block.length - defHash.length);\n\n        for (int i = defHash.length; i != block.length; i++)\n        {\n            block[i] ^= mask[i - defHash.length];\n        }\n\n        //\n        // check the hash of the encoding params.\n        // long check to try to avoid this been a source of a timing attack.\n        //\n        for (int i = 0; i != defHash.length; i++)\n        {\n            wrongMask |= defHash[i] ^ block[defHash.length + i];\n        }\n\n        //\n        // find the data block\n        //\n        int start = -1;\n\n        for (int index = 2 * defHash.length; index != block.length; index++)\n        {\n            int octet = block[index] &amp; 0xFF;\n\n            // i.e. mask will be 0xFFFFFFFF if octet is non-zero and start is (still) negative, else 0.\n            int shouldSetMask = (-octet &amp; start) &gt;&gt; 31;\n\n            start += index &amp; shouldSetMask;\n        }\n\n        wrongMask |= start &gt;&gt; 31;\n        ++start;\n        wrongMask |= block[start] ^ 1;\n\n        if (wrongMask != 0)\n        {\n            Arrays.fill(block, (byte)0);\n            throw new InvalidCipherTextException(&quot;data wrong&quot;);\n        }\n\n        ++start;\n\n        //\n        // extract the data block\n        //\n        byte[]  output = new byte[block.length - start];\n\n        System.arraycopy(block, start, output, 0, output.length);\n        Arrays.fill(block, (byte)0);\n\n        return output;\n    }\n\n    /**\n     * mask generator function, as described in PKCS1v2.\n     */\n    private byte[] maskGeneratorFunction1(\n        byte[]  Z,\n        int     zOff,\n        int     zLen,\n        int     length)\n    {\n        byte[]  mask = new byte[length];\n        byte[]  hashBuf = new byte[mgf1Hash.getDigestSize()];\n        byte[]  C = new byte[4];\n        int     counter = 0;\n\n        mgf1Hash.reset();\n\n        while (counter &lt; (length / hashBuf.length))\n        {\n            Pack.intToBigEndian(counter, C, 0);\n\n            mgf1Hash.update(Z, zOff, zLen);\n            mgf1Hash.update(C, 0, C.length);\n            mgf1Hash.doFinal(hashBuf, 0);\n\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, hashBuf.length);\n\n            counter++;\n        }\n\n        if ((counter * hashBuf.length) &lt; length)\n        {\n            Pack.intToBigEndian(counter, C, 0);\n\n            mgf1Hash.update(Z, zOff, zLen);\n            mgf1Hash.update(C, 0, C.length);\n            mgf1Hash.doFinal(hashBuf, 0);\n\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, mask.length - (counter * hashBuf.length));\n        }\n\n        return mask;\n    }\n}\n</code></pre>\n<p>Also, I have issue with decryptedWithOaep length, it was longer than getOutputBlockSize, for this I delete additional 0 from decrypted with SunPKCS11 data.\nBut if I try it for random RSA keys generated with bouncy castle it was not happening.</p>\n"}],"owner":{"account_id":7060571,"reputation":153,"user_id":12854684,"display_name":"An Anita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684748823,"creation_date":1682336663,"question_id":76091513,"body_markdown":"I have a key pair storage in HSM. SP for HSM is not support &quot;RSA/ECB/OAEPPadding&quot; decryption.\r\nI can decrypt without padding with existing private key.\r\n\r\n```\r\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\r\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \r\ndecrypted = cipher.doFinal(data);\r\n```\r\nnow how I can transform ```decrypted``` value to get original text?","title":"oaep decryption with HSM private key","body":"<p>I have a key pair storage in HSM. SP for HSM is not support &quot;RSA/ECB/OAEPPadding&quot; decryption.\nI can decrypt without padding with existing private key.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \ndecrypted = cipher.doFinal(data);\n</code></pre>\n<p>now how I can transform <code>decrypted</code> value to get original text?</p>\n"},{"tags":["java","apache-flink","flink-streaming","flink-cep"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1597413392,"post_id":63401125,"comment_id":112132642,"body_markdown":"Just a comment: since Flink already has a public class named ProcessFunction, it would be less confusing if you were to give your class a different name.","body":"Just a comment: since Flink already has a public class named ProcessFunction, it would be less confusing if you were to give your class a different name."},{"owner":{"account_id":5660794,"reputation":743,"user_id":4478526,"accept_rate":36,"display_name":"Vin"},"score":0,"creation_date":1647858611,"post_id":63401125,"comment_id":126468221,"body_markdown":"Hi! Did you find any solution? I cannot find any documentation for testing `ProcessWindowFunction.` .","body":"Hi! Did you find any solution? I cannot find any documentation for testing <code>ProcessWindowFunction.</code> ."},{"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"score":0,"creation_date":1647866988,"post_id":63401125,"comment_id":126471364,"body_markdown":"Hi @Vin. Nothing man.","body":"Hi @Vin. Nothing man."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684748719,"creation_date":1597414568,"answer_id":63414527,"question_id":63401125,"body_markdown":"In general these test harnesses expect to be testing an operator, rather than a user function. So in the case of a `ProcessWindowFunction`, you need to first create an suitable window operator to pass to the test harness.\r\n\r\nYou can test a `ProcessWindowFunction` using a `OneInputStreamOperatorTestHarness` that you instantiate with a `WindowOperator` wrapped around your `ProcessWindowFunction`. I&#39;m afraid this isn&#39;t particularly straightforward, but I can refer you to https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L437 as an example.\r\n","title":"Flink Unit Test over ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;","body":"<p>In general these test harnesses expect to be testing an operator, rather than a user function. So in the case of a <code>ProcessWindowFunction</code>, you need to first create an suitable window operator to pass to the test harness.</p>\n<p>You can test a <code>ProcessWindowFunction</code> using a <code>OneInputStreamOperatorTestHarness</code> that you instantiate with a <code>WindowOperator</code> wrapped around your <code>ProcessWindowFunction</code>. I'm afraid this isn't particularly straightforward, but I can refer you to <a href=\"https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L437\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L437</a> as an example.</p>\n"},{"tags":[],"owner":{"account_id":5660794,"reputation":743,"user_id":4478526,"accept_rate":36,"display_name":"Vin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647962487,"creation_date":1647947481,"answer_id":71571080,"question_id":63401125,"body_markdown":"I found a solution, inspired to this method https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1340\r\n\r\nIn my case, I have to test a `TumblingProcessingTimeWindow` where the `process()` operator use a `ProcessWindowFunction` to count words keeping the previous window count (i.e not resetting the count each time the window is triggered)\r\n\r\n`WordCountPojo` is a simple POJO with two field: `word` and `count` (you can use `Tuple2` if you please)\r\n\r\nThis is the test I wrote:\r\n\r\n    @Test\r\n    void testCounter() throws Exception {\r\n        //create a WindowOperator&lt;Key, Input, Accumulator, Output, Window&gt;\r\n        WindowOperator&lt;String, WordCountPojo, Iterable&lt;WordCountPojo&gt;, WordCountPojo, TimeWindow&gt; operator =\r\n                new WindowOperator&lt;&gt;(\r\n                        TumblingProcessingTimeWindows.of(Time.seconds(3)), //window assigner\r\n                        new TimeWindow.Serializer(), //window serializer\r\n                        WordCountPojo::getWord, //key selector\r\n                        BasicTypeInfo.STRING_TYPE_INFO.createSerializer(new ExecutionConfig()), //key serializer\r\n                        new ListStateDescriptor&lt;&gt;( //window state descriptor (in order to accumulate events inside the window)\r\n                                &quot;window-content&quot;,\r\n                                TypeInformation.of(WordCountPojo.class).createSerializer(new ExecutionConfig())), //input serializer\r\n                        new InternalIterableProcessWindowFunction&lt;&gt;(new Counter()), //my custom ProcessWindowFunction to invoke\r\n                        ProcessingTimeTrigger.create(), //window trigger\r\n                        0,\r\n                        null);\r\n    \r\n        //Flink Test Harness\r\n        OneInputStreamOperatorTestHarness&lt;WordCountPojo, WordCountPojo&gt; harness =\r\n                new KeyedOneInputStreamOperatorTestHarness&lt;&gt;(operator, WordCountPojo::getWord, BasicTypeInfo.STRING_TYPE_INFO);\r\n    \r\n        ConcurrentLinkedQueue&lt;Object&gt; expected = new ConcurrentLinkedQueue&lt;&gt;();\r\n        harness.open();\r\n        harness.setProcessingTime(10);\r\n    \r\n        //Push data into window\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1)));\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1)));\r\n    \r\n        harness.setProcessingTime(3500); //Set processing time in order to trigger the window\r\n    \r\n        //Expected result\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1), 2999));\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1), 2999));\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1), 2999));\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1), 2999));\r\n    \r\n        TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\r\n                Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\r\n                        .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\r\n    \r\n        //push other WordCountPojos to test global counting\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\r\n        harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\r\n    \r\n        harness.setProcessingTime(7000); //trigger the window again\r\n    \r\n        //Expected result\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 2), 5999));\r\n        expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 2), 5999));\r\n    \r\n        TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\r\n                Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\r\n                        .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\r\n    \r\n        harness.close();\r\n    }\r\n\r\n**Attention points:**\r\n\r\n - Type of the accumulator for the `WindowOperator` is\r\n   `Iterable&lt;WordCountPojo&gt;` and NOT simply `WordCountPojo`. This\r\n   because my `Counter`&#39;s `process()` method receive an `Iterable` and\r\n   not a single `WordCountPojo` (remember that `Counter` extends\r\n   `WindowProcessFunction`)\r\n - `WindowOperator`&#39;s state descriptor parameter is a `ListStateDescriptor`,\r\nthis means that when window collects `WordCountPojo`s (`WindowOperatorTest` example use a `ReducingStateDescriptor` that reduce by sum, but I don&#39;t need to do these because I&#39;ve the `Counter` function that is the function that I want to test)\r\n - `WindowsOperator`&#39;s internal window function parameter is of type `InternaleIterableProcessWindowFunction`. This function wraps my `Counter` function and is invoked when the window is triggered. Because the window accumulate an `Iterable&lt;WordCountPojo&gt;` collected by using a`ListStateDescriptor`, when the `Counter` function is invoked this Iterable&lt;WordCountPojo&gt; is passed as input parameter of the `process()` method.\r\n\r\n","title":"Flink Unit Test over ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;","body":"<p>I found a solution, inspired to this method <a href=\"https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1340\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1340</a></p>\n<p>In my case, I have to test a <code>TumblingProcessingTimeWindow</code> where the <code>process()</code> operator use a <code>ProcessWindowFunction</code> to count words keeping the previous window count (i.e not resetting the count each time the window is triggered)</p>\n<p><code>WordCountPojo</code> is a simple POJO with two field: <code>word</code> and <code>count</code> (you can use <code>Tuple2</code> if you please)</p>\n<p>This is the test I wrote:</p>\n<pre><code>@Test\nvoid testCounter() throws Exception {\n    //create a WindowOperator&lt;Key, Input, Accumulator, Output, Window&gt;\n    WindowOperator&lt;String, WordCountPojo, Iterable&lt;WordCountPojo&gt;, WordCountPojo, TimeWindow&gt; operator =\n            new WindowOperator&lt;&gt;(\n                    TumblingProcessingTimeWindows.of(Time.seconds(3)), //window assigner\n                    new TimeWindow.Serializer(), //window serializer\n                    WordCountPojo::getWord, //key selector\n                    BasicTypeInfo.STRING_TYPE_INFO.createSerializer(new ExecutionConfig()), //key serializer\n                    new ListStateDescriptor&lt;&gt;( //window state descriptor (in order to accumulate events inside the window)\n                            &quot;window-content&quot;,\n                            TypeInformation.of(WordCountPojo.class).createSerializer(new ExecutionConfig())), //input serializer\n                    new InternalIterableProcessWindowFunction&lt;&gt;(new Counter()), //my custom ProcessWindowFunction to invoke\n                    ProcessingTimeTrigger.create(), //window trigger\n                    0,\n                    null);\n\n    //Flink Test Harness\n    OneInputStreamOperatorTestHarness&lt;WordCountPojo, WordCountPojo&gt; harness =\n            new KeyedOneInputStreamOperatorTestHarness&lt;&gt;(operator, WordCountPojo::getWord, BasicTypeInfo.STRING_TYPE_INFO);\n\n    ConcurrentLinkedQueue&lt;Object&gt; expected = new ConcurrentLinkedQueue&lt;&gt;();\n    harness.open();\n    harness.setProcessingTime(10);\n\n    //Push data into window\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1)));\n\n    harness.setProcessingTime(3500); //Set processing time in order to trigger the window\n\n    //Expected result\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1), 2999));\n\n    TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\n            Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\n                    .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\n\n    //push other WordCountPojos to test global counting\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\n\n    harness.setProcessingTime(7000); //trigger the window again\n\n    //Expected result\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 2), 5999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 2), 5999));\n\n    TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\n            Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\n                    .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\n\n    harness.close();\n}\n</code></pre>\n<p><strong>Attention points:</strong></p>\n<ul>\n<li>Type of the accumulator for the <code>WindowOperator</code> is\n<code>Iterable&lt;WordCountPojo&gt;</code> and NOT simply <code>WordCountPojo</code>. This\nbecause my <code>Counter</code>'s <code>process()</code> method receive an <code>Iterable</code> and\nnot a single <code>WordCountPojo</code> (remember that <code>Counter</code> extends\n<code>WindowProcessFunction</code>)</li>\n<li><code>WindowOperator</code>'s state descriptor parameter is a <code>ListStateDescriptor</code>,\nthis means that when window collects <code>WordCountPojo</code>s (<code>WindowOperatorTest</code> example use a <code>ReducingStateDescriptor</code> that reduce by sum, but I don't need to do these because I've the <code>Counter</code> function that is the function that I want to test)</li>\n<li><code>WindowsOperator</code>'s internal window function parameter is of type <code>InternaleIterableProcessWindowFunction</code>. This function wraps my <code>Counter</code> function and is invoked when the window is triggered. Because the window accumulate an <code>Iterable&lt;WordCountPojo&gt;</code> collected by using a<code>ListStateDescriptor</code>, when the <code>Counter</code> function is invoked this Iterable is passed as input parameter of the <code>process()</code> method.</li>\n</ul>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684748719,"creation_date":1597343074,"question_id":63401125,"body_markdown":"How can I create a unit test for a Stateful Process Function. I have something like this:\r\n```\r\n private static SingleOutputStreamOperator&lt;Tuple&gt; methodName(KeyedStream&lt;Event, String&gt; stream) {\r\n        return stream.window(TumblingEventTimeWindows.of(Time.minutes(10)))\r\n                .process(new ProcessFunction());\r\n    }\r\n```\r\n\r\nand \r\n\r\n```\r\nProcessFunction extends ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;\r\n```\r\n\r\nAll the Harness tests that I&#39;ve found in Flink page are extending from KeyedProcessFunction and this is not my case.\r\nThanks.\r\nKind regards!","title":"Flink Unit Test over ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;","body":"<p>How can I create a unit test for a Stateful Process Function. I have something like this:</p>\n<pre><code> private static SingleOutputStreamOperator&lt;Tuple&gt; methodName(KeyedStream&lt;Event, String&gt; stream) {\n        return stream.window(TumblingEventTimeWindows.of(Time.minutes(10)))\n                .process(new ProcessFunction());\n    }\n</code></pre>\n<p>and</p>\n<pre><code>ProcessFunction extends ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;\n</code></pre>\n<p>All the Harness tests that I've found in Flink page are extending from KeyedProcessFunction and this is not my case.\nThanks.\nKind regards!</p>\n"},{"tags":["java","automated-tests","selenium-chromedriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":7183623,"reputation":384,"user_id":5486521,"display_name":"kajahno"},"score":0,"creation_date":1566026765,"post_id":57533827,"comment_id":101533588,"body_markdown":"Welcome to StackOverflow. For questions like this, it&#39;s very useful to show what you have tried and hasn&#39;t worked. Could you share what you have tried so far? (share your code)","body":"Welcome to StackOverflow. For questions like this, it&#39;s very useful to show what you have tried and hasn&#39;t worked. Could you share what you have tried so far? (share your code)"}],"answers":[{"tags":[],"owner":{"account_id":7945919,"reputation":137,"user_id":6267432,"display_name":"S Chathuranga Jayasinghe"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1566026870,"creation_date":1566026870,"answer_id":57534210,"question_id":57533827,"body_markdown":"    public void WebDriverManagerTest()\r\n    {\r\n        //setup the chromedriver using WebDriverManager\r\n        WebDriverManager.chromedriver().setup();\r\n \r\n        //Create Chrome Options\r\n        ChromeOptions option = new ChromeOptions();\r\n        option.addArguments(&quot;--test-type&quot;);\r\n        option.addArguments(&quot;--disable-popup-bloacking&quot;);\r\n        DesiredCapabilities chrome = DesiredCapabilities.chrome();\r\n        chrome.setJavascriptEnabled(true);\r\n        option.setCapability(ChromeOptions.CAPABILITY, option);\r\n\r\n        //Create driver object for Chrome\r\n        WebDriver driver = new ChromeDriver(option);\r\n \r\n        //Navigate to a URL\r\n        driver.get(&quot;http://toolsqa.com&quot;);\r\n \r\n        //quit the browser\r\n        driver.quit();\r\n    }\r\n\r\nFound the answer.. Check above!","title":"How to set Chrome Options when using WebDriverManager?","body":"<pre><code>public void WebDriverManagerTest()\n{\n    //setup the chromedriver using WebDriverManager\n    WebDriverManager.chromedriver().setup();\n\n    //Create Chrome Options\n    ChromeOptions option = new ChromeOptions();\n    option.addArguments(\"--test-type\");\n    option.addArguments(\"--disable-popup-bloacking\");\n    DesiredCapabilities chrome = DesiredCapabilities.chrome();\n    chrome.setJavascriptEnabled(true);\n    option.setCapability(ChromeOptions.CAPABILITY, option);\n\n    //Create driver object for Chrome\n    WebDriver driver = new ChromeDriver(option);\n\n    //Navigate to a URL\n    driver.get(\"http://toolsqa.com\");\n\n    //quit the browser\n    driver.quit();\n}\n</code></pre>\n\n<p>Found the answer.. Check above!</p>\n"},{"tags":[],"owner":{"account_id":19222066,"reputation":9,"user_id":14045638,"display_name":"AshishKumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596544591,"creation_date":1596541889,"answer_id":63246294,"question_id":57533827,"body_markdown":"This is the example code:\r\n```\r\npublic class Test1{\r\n\t\r\n\t@Test\r\n\tpublic void WebDriverManagerTest()\r\n\t{\r\n    \t//setup the chromedriver using WebDriverManager\r\n    \tWebDriverManager.chromedriver().setup();\r\n    \t//Create driver object for Chrome\r\n    \tWebDriver driver = new ChromeDriver();\r\n    \t//Navigate to a URL\r\n    \tdriver.get(&quot;http://toolsqa.com&quot;);\r\n    \t//quit the browser\r\n    \tdriver.quit();\r\n    }\r\n}\r\n```\r\n","title":"How to set Chrome Options when using WebDriverManager?","body":"<p>This is the example code:</p>\n<pre><code>public class Test1{\n    \n    @Test\n    public void WebDriverManagerTest()\n    {\n        //setup the chromedriver using WebDriverManager\n        WebDriverManager.chromedriver().setup();\n        //Create driver object for Chrome\n        WebDriver driver = new ChromeDriver();\n        //Navigate to a URL\n        driver.get(&quot;http://toolsqa.com&quot;);\n        //quit the browser\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14867822,"reputation":109,"user_id":11563660,"display_name":"ndb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640345779,"creation_date":1640345779,"answer_id":70472482,"question_id":57533827,"body_markdown":"from https://pypi.org/project/webdriver-manager/, pass it in after .install()\r\n\r\n```\r\nfrom selenium import webdriver\r\nfrom webdriver_manager.opera import OperaDriverManager\r\n\r\noptions = webdriver.ChromeOptions()\r\noptions.add_argument(&#39;allow-elevated-browser&#39;)\r\noptions.binary_location = &quot;C:\\\\Users\\\\USERNAME\\\\FOLDERLOCATION\\\\Opera\\\\VERSION\\\\opera.exe&quot;\r\n\r\ndriver = webdriver.Opera(executable_path=OperaDriverManager().install(), options=options)\r\n","title":"How to set Chrome Options when using WebDriverManager?","body":"<p>from <a href=\"https://pypi.org/project/webdriver-manager/\" rel=\"nofollow noreferrer\">https://pypi.org/project/webdriver-manager/</a>, pass it in after .install()</p>\n<pre><code>from selenium import webdriver\nfrom webdriver_manager.opera import OperaDriverManager\n\noptions = webdriver.ChromeOptions()\noptions.add_argument('allow-elevated-browser')\noptions.binary_location = &quot;C:\\\\Users\\\\USERNAME\\\\FOLDERLOCATION\\\\Opera\\\\VERSION\\\\opera.exe&quot;\n\ndriver = webdriver.Opera(executable_path=OperaDriverManager().install(), options=options)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664455290,"creation_date":1651739637,"answer_id":72124218,"question_id":57533827,"body_markdown":"As of WebDriverManager 5.x you can instantiate the webDriver directly via the WebDriverManager builder with additional `capabilities` this way (in java) :\r\n\r\n    WebDriver driver;\r\n    //...\r\n    ChromeOptions chromeOptions = new ChromeOptions();  \r\n\r\n    chromeOptions.addArguments(&quot;--headless&quot;);  \r\n\r\n    //...  \r\n\r\n    //chromeOptions.addArguments(&lt;another-option&gt;);  \r\n\r\n    //...  \r\n\r\n    driver = WebDriverManager.chromedriver().capabilities(chromeOptions).create();\r\n\r\nThe capabilities method take a `Capabilities` as param.   \r\nLucky we are, `ChromeOptions` implements the `Capabilities` interface.","title":"How to set Chrome Options when using WebDriverManager?","body":"<p>As of WebDriverManager 5.x you can instantiate the webDriver directly via the WebDriverManager builder with additional <code>capabilities</code> this way (in java) :</p>\n<pre><code>WebDriver driver;\n//...\nChromeOptions chromeOptions = new ChromeOptions();  \n\nchromeOptions.addArguments(&quot;--headless&quot;);  \n\n//...  \n\n//chromeOptions.addArguments(&lt;another-option&gt;);  \n\n//...  \n\ndriver = WebDriverManager.chromedriver().capabilities(chromeOptions).create();\n</code></pre>\n<p>The capabilities method take a <code>Capabilities</code> as param.<br />\nLucky we are, <code>ChromeOptions</code> implements the <code>Capabilities</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":2195221,"reputation":327,"user_id":1941095,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684748118,"creation_date":1684748118,"answer_id":76304800,"question_id":57533827,"body_markdown":"In Pom.xml add Webdriver Manager Dependancy and While Creating a browser instance you can use the below code snipped for running in incognito and without being controlled by automation.\r\n\r\n    public void setUpChromeBrowser(){\r\n\r\n      WebDriverManager.chromedriver().setup();\r\n      ChromeOptions options = new ChromeOptions();\r\n      options.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n      options.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);                     \r\n      options.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\r\n                        options.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);\r\n                        options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n                        options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\n                        options.addArguments(&quot;--no-sandbox&quot;);\r\n                        options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n                        options.addArguments(&quot;--start-maximised&quot;);\r\n                        options.addArguments(&quot;--incognito&quot;);\r\n                        options.setExperimentalOption(&quot;w3c&quot;, false);\r\n                        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n                        prefs.put(&quot;credentials_enable_service&quot;, false);\r\n                        prefs.put(&quot;profile.password_manager_enabled&quot;, false);\r\n                        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n                        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n                        capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n                        driver = new ChromeDriver(options);\r\n}","title":"How to set Chrome Options when using WebDriverManager?","body":"<p>In Pom.xml add Webdriver Manager Dependancy and While Creating a browser instance you can use the below code snipped for running in incognito and without being controlled by automation.</p>\n<pre><code>public void setUpChromeBrowser(){\n\n  WebDriverManager.chromedriver().setup();\n  ChromeOptions options = new ChromeOptions();\n  options.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\n  options.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);                     \n  options.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\n                    options.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);\n                    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n                    options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\n                    options.addArguments(&quot;--no-sandbox&quot;);\n                    options.addArguments(&quot;--ignore-certificate-errors&quot;);\n                    options.addArguments(&quot;--start-maximised&quot;);\n                    options.addArguments(&quot;--incognito&quot;);\n                    options.setExperimentalOption(&quot;w3c&quot;, false);\n                    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n                    prefs.put(&quot;credentials_enable_service&quot;, false);\n                    prefs.put(&quot;profile.password_manager_enabled&quot;, false);\n                    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n                    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n                    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n                    driver = new ChromeDriver(options);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7945919,"reputation":137,"user_id":6267432,"display_name":"S Chathuranga Jayasinghe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11198,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":57534210,"answer_count":5,"score":11,"last_activity_date":1684748118,"creation_date":1566023193,"question_id":57533827,"body_markdown":"I&#39;m **using Web driver manager** to setup chrome driver. When setting up the driver I want to add some **chrome options?** How can I do it when using web driver manager?\r\n\r\nI checked the WebDriverManager API but couldn&#39;t find any clue..","title":"How to set Chrome Options when using WebDriverManager?","body":"<p>I'm <strong>using Web driver manager</strong> to setup chrome driver. When setting up the driver I want to add some <strong>chrome options?</strong> How can I do it when using web driver manager?</p>\n\n<p>I checked the WebDriverManager API but couldn't find any clue..</p>\n"},{"tags":["java","captions","webvtt"],"comments":[{"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"score":0,"creation_date":1551993220,"post_id":47400909,"comment_id":96855590,"body_markdown":"have you found anything good?","body":"have you found anything good?"}],"answers":[{"tags":[],"owner":{"account_id":2018842,"reputation":398,"user_id":1805493,"display_name":"Liam Mazy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684747867,"creation_date":1684747867,"answer_id":76304772,"question_id":47400909,"body_markdown":"You can use \r\n[Subtitle library][1],  supported formats: STL EBU, TTML SMI, VTT, SRT\r\n\r\n\r\n  [1]: https://github.com/noophq/subtitle","title":"Java VTT parser/validator","body":"<p>You can use\n<a href=\"https://github.com/noophq/subtitle\" rel=\"nofollow noreferrer\">Subtitle library</a>,  supported formats: STL EBU, TTML SMI, VTT, SRT</p>\n"}],"owner":{"account_id":3727728,"reputation":11,"user_id":5696996,"display_name":"user4843"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684747867,"creation_date":1511211401,"question_id":47400909,"body_markdown":"Are there any open source VTT parser/validators libraries available for java?  \r\n\r\nWe found several for Node and Python\r\n\r\n - https://www.npmjs.com/package/webvtt\r\n - https://github.com/kickstarter/caption_crunch\r\n - https://www.npmjs.com/package/webvtt","title":"Java VTT parser/validator","body":"<p>Are there any open source VTT parser/validators libraries available for java?  </p>\n\n<p>We found several for Node and Python</p>\n\n<ul>\n<li><a href=\"https://www.npmjs.com/package/webvtt\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/webvtt</a></li>\n<li><a href=\"https://github.com/kickstarter/caption_crunch\" rel=\"nofollow noreferrer\">https://github.com/kickstarter/caption_crunch</a></li>\n<li><a href=\"https://www.npmjs.com/package/webvtt\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/webvtt</a></li>\n</ul>\n"},{"tags":["java","oracle","hash","compatibility"],"comments":[{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1505217708,"post_id":46175376,"comment_id":79313836,"body_markdown":"Instead of trying to reproduce the function in Java, why don&#39;t you just call it from Java using a service let&#39;s say(and let it execute on the DB side).","body":"Instead of trying to reproduce the function in Java, why don&#39;t you just call it from Java using a service let&#39;s say(and let it execute on the DB side)."}],"answers":[{"tags":[],"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505218270,"creation_date":1505218270,"answer_id":46176030,"question_id":46175376,"body_markdown":"If you&#39;re fine with using [Guava][1] on the Java side, the following code should produce equal results with Oracle&#39;s `STANDARD_HASH`:\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.hash.Hashing;\r\n    ...\r\n    \r\n    String input = &quot;1234&quot;;        \r\n    String hash = Hashing.sha256()\r\n           .hashString(input, Charsets.UTF_8)\r\n           .toString()\r\n           // toString() returns the HEX value as lower-case, whereas\r\n           // Oracle&#39;s STANDARD_HASH returns an upper-cased string\r\n           .toUpperCase(); \r\n            \r\n    System.out.println(hash);\r\n\r\nThis prints out `03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4` which is the same you get in Oracle with\r\n\r\n    select STANDARD_HASH(&#39;1234&#39;,&#39;SHA256&#39;) from dual;\r\n\r\n  [1]: https://github.com/google/guava/wiki/HashingExplained","title":"Using Oracle STANDARD_HASH, reproduce the hash in JAVA","body":"<p>If you're fine with using <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"nofollow noreferrer\">Guava</a> on the Java side, the following code should produce equal results with Oracle's <code>STANDARD_HASH</code>:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.hash.Hashing;\n...\n\nString input = \"1234\";        \nString hash = Hashing.sha256()\n       .hashString(input, Charsets.UTF_8)\n       .toString()\n       // toString() returns the HEX value as lower-case, whereas\n       // Oracle's STANDARD_HASH returns an upper-cased string\n       .toUpperCase(); \n\nSystem.out.println(hash);\n</code></pre>\n\n<p>This prints out <code>03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4</code> which is the same you get in Oracle with</p>\n\n<pre><code>select STANDARD_HASH('1234','SHA256') from dual;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684747857,"creation_date":1505219853,"answer_id":46176591,"question_id":46175376,"body_markdown":"You can do this with standard libraries. Use [java.security.MessageDigest](https://docs.oracle.com/javase/8/docs/api/java/security/Signature.html) with algorithm `SHA-256`:\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.MessageDigest;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    ...\r\n    \r\n    String input = &quot;1234&quot;;        \r\n    byte[] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;)\r\n            .digest(input.getBytes(StandardCharsets.UTF_8));\r\n    String hash = DatatypeConverter.printHexBinary(hashBytes);\r\n    System.out.println(hash);\r\n\r\nThis prints `03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4`, the same string that `STANDARD_HASH` would return.\r\n\r\nAs discussed in [How to convert a byte array to a hex string in Java?](https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java), there are faster ways to convert a `byte[]` to a hex string, but `DatatypeConverter.printHexBinary()` has the benefit of being part of the standard library, and should be fine for most use cases.\r\n\r\nJava 17 added [HexFormat][1] to the standard library, which lets you replace\r\n\r\n    String hash = DatatypeConverter.printHexBinary(hashBytes);\r\n\r\nwith\r\n\r\n    String hash = HexFormat.of().withUpperCase().formatHex(hashBytes);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Using Oracle STANDARD_HASH, reproduce the hash in JAVA","body":"<p>You can do this with standard libraries. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Signature.html\" rel=\"nofollow noreferrer\">java.security.MessageDigest</a> with algorithm <code>SHA-256</code>:</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport javax.xml.bind.DatatypeConverter;\n...\n\nString input = &quot;1234&quot;;        \nbyte[] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;)\n        .digest(input.getBytes(StandardCharsets.UTF_8));\nString hash = DatatypeConverter.printHexBinary(hashBytes);\nSystem.out.println(hash);\n</code></pre>\n<p>This prints <code>03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4</code>, the same string that <code>STANDARD_HASH</code> would return.</p>\n<p>As discussed in <a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">How to convert a byte array to a hex string in Java?</a>, there are faster ways to convert a <code>byte[]</code> to a hex string, but <code>DatatypeConverter.printHexBinary()</code> has the benefit of being part of the standard library, and should be fine for most use cases.</p>\n<p>Java 17 added <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">HexFormat</a> to the standard library, which lets you replace</p>\n<pre><code>String hash = DatatypeConverter.printHexBinary(hashBytes);\n</code></pre>\n<p>with</p>\n<pre><code>String hash = HexFormat.of().withUpperCase().formatHex(hashBytes);\n</code></pre>\n"}],"owner":{"account_id":475351,"reputation":928,"user_id":885618,"accept_rate":78,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5420,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46176591,"answer_count":2,"score":3,"last_activity_date":1684747857,"creation_date":1505216184,"question_id":46175376,"body_markdown":"I&#39;m using the STANDARD_HASH(&#39;input&#39;,&#39;SHA256&#39;) function within Oracle to populate records with their relative hash values.\r\n\r\nThis can be reproduced by connecting to Oracle doing:\r\n\r\n    select STANDARD_HASH(&#39;1234&#39;,&#39;SHA256&#39;) \r\n    from dual\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Table X    \r\n    Column 1, Column 1-hashed    \r\n    1234, sha512hashresult    \r\n    1234, sha512hashresult    \r\n    1234, sha512hashresult    \r\n    1234, sha512hashresult    \r\n\r\n**Now whats the question;** What do I have to do in JAVA in order to reproduce exactly the hash values which are produced by STANDARD_HASH in Oracle? Does anyone have experience with this? \r\n\r\nNote; For some reason there is no seed on the recommended Oracle hash function. Does anyone know the Default seed or how to figure this out?\r\n\r\n**Background:** What do i want to do? Populate the table within Oracle with Oracle-Default-Tools and use a Java program to receive the input, hash it and select the correct record in the table.\r\n\r\n**What i don&#39;t want**; People who tell me how I can achieve it in a different way, I need it exactly this way otherwise save your time\r\n\r\n","title":"Using Oracle STANDARD_HASH, reproduce the hash in JAVA","body":"<p>I'm using the STANDARD_HASH('input','SHA256') function within Oracle to populate records with their relative hash values.</p>\n\n<p>This can be reproduced by connecting to Oracle doing:</p>\n\n<pre><code>select STANDARD_HASH('1234','SHA256') \nfrom dual\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Table X    \nColumn 1, Column 1-hashed    \n1234, sha512hashresult    \n1234, sha512hashresult    \n1234, sha512hashresult    \n1234, sha512hashresult    \n</code></pre>\n\n<p><strong>Now whats the question;</strong> What do I have to do in JAVA in order to reproduce exactly the hash values which are produced by STANDARD_HASH in Oracle? Does anyone have experience with this? </p>\n\n<p>Note; For some reason there is no seed on the recommended Oracle hash function. Does anyone know the Default seed or how to figure this out?</p>\n\n<p><strong>Background:</strong> What do i want to do? Populate the table within Oracle with Oracle-Default-Tools and use a Java program to receive the input, hash it and select the correct record in the table.</p>\n\n<p><strong>What i don't want</strong>; People who tell me how I can achieve it in a different way, I need it exactly this way otherwise save your time</p>\n"},{"tags":["java","spring","spring-boot","caching","spring-cache"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1678408232,"post_id":75691108,"comment_id":133531537,"body_markdown":"Does annotating with @Lazy help here ?","body":"Does annotating with @Lazy help here ?"},{"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"score":2,"creation_date":1678470708,"post_id":75691108,"comment_id":133545110,"body_markdown":"Why do you want your caching (infrastructure) components and beans to be request scoped? Are you expecting the cache to be cleared (i.e. re-created) after each request? What is your UC? Setting the `CacheManageter` bean to request scope will not accomplish that, not unless the `CacheManager` provider implementation also implemented Spring&#39;s lifecycle interfaces. This would be a very expensive operation (recreating caches on each request) depending on the caching provider in use and not even practical in a distributed context using a client/server caching topology as is often the case.","body":"Why do you want your caching (infrastructure) components and beans to be request scoped? Are you expecting the cache to be cleared (i.e. re-created) after each request? What is your UC? Setting the <code>CacheManageter</code> bean to request scope will not accomplish that, not unless the <code>CacheManager</code> provider implementation also implemented Spring&#39;s lifecycle interfaces. This would be a very expensive operation (recreating caches on each request) depending on the caching provider in use and not even practical in a distributed context using a client/server caching topology as is often the case."}],"answers":[{"tags":[],"owner":{"account_id":7154253,"reputation":11,"user_id":5467275,"display_name":"huang kangda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678414141,"creation_date":1678414141,"answer_id":75691689,"question_id":75691108,"body_markdown":"add like this in @Configuration class:\r\n\r\n     @Bean(name = DispatcherServletAutoConfiguration. DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\r\n        public DispatcherServlet dispatcherServlet (WebMvProperties webMvcProperties) {\r\n            DispatcherServlet dispatcherServlet = new DispatcherServletO:\r\n            dispatcherServlet.setDispatchOptionsRequest(webMvcProperties.isDispatchOptionsRequest());\r\n            dispatcherServlet.setDispatchTraceRequest(webMvcProperties.isDispatchTraceRequest());\r\n            dispatcherServlet.setThrowExceptionIfNoHandlerFound(webMvProperties.isThrowExceptionIfNoHandlerFound()); \r\n            dispatcherServlet.setPublishEvents(webMvcProperties.isPublishRequestHandledEvents());\r\n            dispatcherServlet.setEnableLoggingRequestDetails(webMvcProperties.isLogRequestDetails());\r\n            dispatcherServlet.setThreadContextInheritable(true);\r\n            log. debug(&quot;init project dispatcher servlet&quot;)\r\n            return dispatcherServlet;\r\n        }\r\n\r\n\r\n    @Bean\r\n        @ConditionalOnMissingBean({RequestContextListener.class, RequestContextFilter.class})\r\n        @ConditionalOnMissingFilterBean(RequestContextFilter.class)\r\n        public RequestContextFilter requestContextFilter() {\r\n            OrderedRequestContextFilter orderedRequestContextFilter = new OrderedRequestContextFilter();\r\n            orderedRequestContextFilter.setThreadContextInheritable(true);\r\n            log.debug(&quot;init project request context filter!&quot;);\r\n            return orderedRequestContextFilter;\r\n    \r\n        }","title":"Bean request scope: No thread-bound request found on Spring Boot start","body":"<p>add like this in @Configuration class:</p>\n<pre><code> @Bean(name = DispatcherServletAutoConfiguration. DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\n    public DispatcherServlet dispatcherServlet (WebMvProperties webMvcProperties) {\n        DispatcherServlet dispatcherServlet = new DispatcherServletO:\n        dispatcherServlet.setDispatchOptionsRequest(webMvcProperties.isDispatchOptionsRequest());\n        dispatcherServlet.setDispatchTraceRequest(webMvcProperties.isDispatchTraceRequest());\n        dispatcherServlet.setThrowExceptionIfNoHandlerFound(webMvProperties.isThrowExceptionIfNoHandlerFound()); \n        dispatcherServlet.setPublishEvents(webMvcProperties.isPublishRequestHandledEvents());\n        dispatcherServlet.setEnableLoggingRequestDetails(webMvcProperties.isLogRequestDetails());\n        dispatcherServlet.setThreadContextInheritable(true);\n        log. debug(&quot;init project dispatcher servlet&quot;)\n        return dispatcherServlet;\n    }\n\n\n@Bean\n    @ConditionalOnMissingBean({RequestContextListener.class, RequestContextFilter.class})\n    @ConditionalOnMissingFilterBean(RequestContextFilter.class)\n    public RequestContextFilter requestContextFilter() {\n        OrderedRequestContextFilter orderedRequestContextFilter = new OrderedRequestContextFilter();\n        orderedRequestContextFilter.setThreadContextInheritable(true);\n        log.debug(&quot;init project request context filter!&quot;);\n        return orderedRequestContextFilter;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5430343,"reputation":131,"user_id":4321414,"display_name":"Julien Antony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684747562,"creation_date":1684747562,"answer_id":76304729,"question_id":75691108,"body_markdown":"# TL;DR;\r\n```java\r\n@Bean(autowireCandidate = false)\r\n@RequestScope\r\npublic CacheManager requestCacheManager() {\r\n  return new ConcurrentMapCacheManager(&quot;myValue&quot;);\r\n}\r\n```\r\n\r\n# Explanations\r\n\r\nYou are using spring boot and actuator, which comes with [CacheMetricsAutoConfiguration](https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsAutoConfiguration.java#L37).\r\nWhen autoconfiguration kicks in, [CacheMetricsRegistrarConfiguration](https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java#LL53C4-L53C43) will be instanciated with\r\n\r\n```java\r\nMap&lt;String, CacheManager&gt; cacheManagers;\r\n```\r\nSpring will populate this map with all candidates of &quot;CacheManager&quot; available as dependency injection. Since our CacheManager is supposed to be request scope, it will fail on instantiation because CacheMetricsRegistrarConfiguration does not have a request context, which it can&#39;t never had.\r\n\r\nThat is also the reason why @Lazy is not helping here, the candidate are instantiated eagerly anyway by this autoconfigure.\r\n","title":"Bean request scope: No thread-bound request found on Spring Boot start","body":"<h1>TL;DR;</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(autowireCandidate = false)\n@RequestScope\npublic CacheManager requestCacheManager() {\n  return new ConcurrentMapCacheManager(&quot;myValue&quot;);\n}\n</code></pre>\n<h1>Explanations</h1>\n<p>You are using spring boot and actuator, which comes with <a href=\"https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsAutoConfiguration.java#L37\" rel=\"nofollow noreferrer\">CacheMetricsAutoConfiguration</a>.\nWhen autoconfiguration kicks in, <a href=\"https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java#LL53C4-L53C43\" rel=\"nofollow noreferrer\">CacheMetricsRegistrarConfiguration</a> will be instanciated with</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, CacheManager&gt; cacheManagers;\n</code></pre>\n<p>Spring will populate this map with all candidates of &quot;CacheManager&quot; available as dependency injection. Since our CacheManager is supposed to be request scope, it will fail on instantiation because CacheMetricsRegistrarConfiguration does not have a request context, which it can't never had.</p>\n<p>That is also the reason why @Lazy is not helping here, the candidate are instantiated eagerly anyway by this autoconfigure.</p>\n"}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684747562,"creation_date":1678406389,"question_id":75691108,"body_markdown":"I am trying to instantiate a simple cache that is request-scoped.\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfiguration {\r\n\r\n  @Bean\r\n  @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n  public CacheManager requestCacheManager() {\r\n    return new ConcurrentMapCacheManager(&quot;myValue&quot;);\r\n  }\r\n}\r\n\r\n...\r\n\r\npublic interface MyRepository {\r\n\r\n  @Cacheable(cacheNames = &quot;myValue&quot;, cacheManager = &quot;requestCacheManager&quot;)\r\n  Integer getValue();\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI expect that the application starts up correctly, however, it fails directly at start up, without any requests happening. I am not calling `MyRepository.getValue()` any outside of the scope of a controller.\r\n\r\n\r\n```\r\n2023-03-09 15:55:02.596 ERROR 13171 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.requestCacheManager&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\tat tld.company.package.MyApplication.main(MyApplication.java:12)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.requestCacheManager&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311)\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.requestCacheManager&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy123.getCacheNames(Unknown Source)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCacheManagerToRegistry(CacheMetricsRegistrarConfiguration.java:70)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCachesToRegistry(CacheMetricsRegistrarConfiguration.java:66)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.&lt;init&gt;(CacheMetricsRegistrarConfiguration.java:57)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131)\r\n\tat org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:42)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n\t... 36 common frames omitted\r\n\r\n```","title":"Bean request scope: No thread-bound request found on Spring Boot start","body":"<p>I am trying to instantiate a simple cache that is request-scoped.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\n  @Bean\n  @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\n  public CacheManager requestCacheManager() {\n    return new ConcurrentMapCacheManager(&quot;myValue&quot;);\n  }\n}\n\n...\n\npublic interface MyRepository {\n\n  @Cacheable(cacheNames = &quot;myValue&quot;, cacheManager = &quot;requestCacheManager&quot;)\n  Integer getValue();\n\n}\n\n</code></pre>\n<p>I expect that the application starts up correctly, however, it fails directly at start up, without any requests happening. I am not calling <code>MyRepository.getValue()</code> any outside of the scope of a controller.</p>\n<pre><code>2023-03-09 15:55:02.596 ERROR 13171 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at tld.company.package.MyApplication.main(MyApplication.java:12)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311)\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\n    at jdk.proxy3/jdk.proxy3.$Proxy123.getCacheNames(Unknown Source)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCacheManagerToRegistry(CacheMetricsRegistrarConfiguration.java:70)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCachesToRegistry(CacheMetricsRegistrarConfiguration.java:66)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.&lt;init&gt;(CacheMetricsRegistrarConfiguration.java:57)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\n    ... 24 common frames omitted\nCaused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131)\n    at org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:42)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    ... 36 common frames omitted\n\n</code></pre>\n"},{"tags":["java","android","google-maps","android-canvas"],"comments":[{"owner":{"account_id":1738441,"reputation":1300,"user_id":1590479,"accept_rate":80,"display_name":"oli.G"},"score":0,"creation_date":1500036158,"post_id":3501126,"comment_id":77177551,"body_markdown":"As I posted in my answer, just don&#39;t moveTo() after each lineTo(), that&#39;s all there is.","body":"As I posted in my answer, just don&#39;t moveTo() after each lineTo(), that&#39;s all there is."},{"owner":{"account_id":1738441,"reputation":1300,"user_id":1590479,"accept_rate":80,"display_name":"oli.G"},"score":0,"creation_date":1500036210,"post_id":3501126,"comment_id":77177593,"body_markdown":"I know it&#39;s an old question which already has an (incorrect) accepted answer, and you also posted your final solution which works... but you&#39;re not stating why it works, and I hope my comment can save someone the time I&#39;ve just spent on this :)","body":"I know it&#39;s an old question which already has an (incorrect) accepted answer, and you also posted your final solution which works... but you&#39;re not stating why it works, and I hope my comment can save someone the time I&#39;ve just spent on this :)"}],"answers":[{"tags":[],"owner":{"account_id":181277,"reputation":983,"user_id":415159,"accept_rate":75,"display_name":"Nicolas C."},"down_vote_count":3,"up_vote_count":47,"is_accepted":true,"score":44,"last_activity_date":1282038636,"creation_date":1282038636,"answer_id":3501210,"question_id":3501126,"body_markdown":"You probably need to do something like :\r\n\r\n    Paint red = new Paint();\r\n    \r\n    red.setColor(android.graphics.Color.RED);\r\n    red.setStyle(Paint.Style.FILL);\r\n\r\nAnd use this color for your path, instead of your ARGB. Make sure the last point of your path ends on the first one, it makes sense also.\r\n\r\nTell me if it works please !","title":"How to draw a filled triangle in android canvas?","body":"<p>You probably need to do something like :</p>\n\n<pre><code>Paint red = new Paint();\n\nred.setColor(android.graphics.Color.RED);\nred.setStyle(Paint.Style.FILL);\n</code></pre>\n\n<p>And use this color for your path, instead of your ARGB. Make sure the last point of your path ends on the first one, it makes sense also.</p>\n\n<p>Tell me if it works please !</p>\n"},{"tags":[],"owner":{"account_id":148111,"reputation":5263,"user_id":359656,"accept_rate":85,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1374144571,"creation_date":1282042711,"answer_id":3501643,"question_id":3501126,"body_markdown":"Ok I&#39;ve done it. I&#39;m sharing this code in case someone else will need it:\r\n\r\n    super.draw(canvas, mapView, true);\r\n\t\t\r\n    Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n\t\t\r\n    paint.setStrokeWidth(2);\r\n    paint.setColor(android.graphics.Color.RED);\t\t\r\n    paint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n    paint.setAntiAlias(true);\r\n\t\t\r\n    Point point1_draw = new Point();\t\t\r\n    Point point2_draw = new Point();  \t\r\n    Point point3_draw = new Point();\r\n    \t\r\n    mapView.getProjection().toPixels(point1, point1_draw);\r\n    mapView.getProjection().toPixels(point2, point2_draw);\r\n    mapView.getProjection().toPixels(point3, point3_draw);\r\n\t\t\r\n    Path path = new Path();\r\n    path.setFillType(Path.FillType.EVEN_ODD);\r\n    path.moveTo(point1_draw.x,point1_draw.y);\r\n    path.lineTo(point2_draw.x,point2_draw.y);\r\n    path.lineTo(point3_draw.x,point3_draw.y);\r\n    path.lineTo(point1_draw.x,point1_draw.y);\r\n    path.close();\r\n\t\t\r\n    canvas.drawPath(path, paint);\r\n\r\n    //canvas.drawLine(point1_draw.x,point1_draw.y,point2_draw.x,point2_draw.y, paint);\r\n    \t\r\n    return true;\r\n\r\nThanks for the hint Nicolas!","title":"How to draw a filled triangle in android canvas?","body":"<p>Ok I've done it. I'm sharing this code in case someone else will need it:</p>\n\n<pre><code>super.draw(canvas, mapView, true);\n\nPaint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n\npaint.setStrokeWidth(2);\npaint.setColor(android.graphics.Color.RED);     \npaint.setStyle(Paint.Style.FILL_AND_STROKE);\npaint.setAntiAlias(true);\n\nPoint point1_draw = new Point();        \nPoint point2_draw = new Point();    \nPoint point3_draw = new Point();\n\nmapView.getProjection().toPixels(point1, point1_draw);\nmapView.getProjection().toPixels(point2, point2_draw);\nmapView.getProjection().toPixels(point3, point3_draw);\n\nPath path = new Path();\npath.setFillType(Path.FillType.EVEN_ODD);\npath.moveTo(point1_draw.x,point1_draw.y);\npath.lineTo(point2_draw.x,point2_draw.y);\npath.lineTo(point3_draw.x,point3_draw.y);\npath.lineTo(point1_draw.x,point1_draw.y);\npath.close();\n\ncanvas.drawPath(path, paint);\n\n//canvas.drawLine(point1_draw.x,point1_draw.y,point2_draw.x,point2_draw.y, paint);\n\nreturn true;\n</code></pre>\n\n<p>Thanks for the hint Nicolas!</p>\n"},{"tags":[],"owner":{"account_id":178544,"reputation":480,"user_id":410585,"display_name":"GBouerat"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1374145075,"creation_date":1282117867,"answer_id":3509969,"question_id":3501126,"body_markdown":"you can also use vertice : \r\n\r\n    private static final int verticesColors[] = {\r\n    \tColor.LTGRAY, Color.LTGRAY, Color.LTGRAY, 0xFF000000, 0xFF000000, 0xFF000000\r\n    };\r\n    float verts[] = {\r\n    \tpoint1.x, point1.y, point2.x, point2.y,\tpoint3.x, point3.y\r\n    };\r\n    canvas.drawVertices(Canvas.VertexMode.TRIANGLES, verts.length, verts, 0, null, 0, verticesColors,\t0, null, 0, 0, new Paint());","title":"How to draw a filled triangle in android canvas?","body":"<p>you can also use vertice : </p>\n\n<pre><code>private static final int verticesColors[] = {\n    Color.LTGRAY, Color.LTGRAY, Color.LTGRAY, 0xFF000000, 0xFF000000, 0xFF000000\n};\nfloat verts[] = {\n    point1.x, point1.y, point2.x, point2.y, point3.x, point3.y\n};\ncanvas.drawVertices(Canvas.VertexMode.TRIANGLES, verts.length, verts, 0, null, 0, verticesColors,   0, null, 0, 0, new Paint());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1430389,"reputation":3996,"user_id":1352919,"display_name":"Fakhar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374144262,"creation_date":1336475207,"answer_id":10497398,"question_id":3501126,"body_markdown":"    private void drawArrows(Point[] point, Canvas canvas, Paint paint) {\r\n    \t\t\r\n        float [] points  = new float[8];    \t\t \r\n        points[0] = point[0].x;    \t \r\n        points[1] = point[0].y;    \t \r\n        points[2] = point[1].x;    \t \r\n        points[3] = point[1].y;      \t\r\n        points[4] = point[2].x;    \t \r\n        points[5] = point[2].y;    \t     \t \r\n        points[6] = point[0].x;    \t \r\n        points[7] = point[0].y;\r\n    \t\t\r\n        canvas.drawVertices(VertexMode.TRIANGLES, 8, points, 0, null, 0, null, 0, null, 0, 0, paint);\r\n    \tPath path = new Path();\r\n    \tpath.moveTo(point[0].x , point[0].y);\r\n    \tpath.lineTo(point[1].x,point[1].y);\r\n     \tpath.lineTo(point[2].x,point[2].y);\r\n    \tcanvas.drawPath(path,paint);\r\n    \t\t\r\n    }","title":"How to draw a filled triangle in android canvas?","body":"<pre><code>private void drawArrows(Point[] point, Canvas canvas, Paint paint) {\n\n    float [] points  = new float[8];             \n    points[0] = point[0].x;      \n    points[1] = point[0].y;      \n    points[2] = point[1].x;      \n    points[3] = point[1].y;         \n    points[4] = point[2].x;      \n    points[5] = point[2].y;              \n    points[6] = point[0].x;      \n    points[7] = point[0].y;\n\n    canvas.drawVertices(VertexMode.TRIANGLES, 8, points, 0, null, 0, null, 0, null, 0, 0, paint);\n    Path path = new Path();\n    path.moveTo(point[0].x , point[0].y);\n    path.lineTo(point[1].x,point[1].y);\n    path.lineTo(point[2].x,point[2].y);\n    canvas.drawPath(path,paint);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2893710,"reputation":480,"user_id":2481934,"display_name":"kaftanati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417448739,"creation_date":1417448739,"answer_id":27231954,"question_id":3501126,"body_markdown":"You need remove path.moveTo after first initial.\r\n\r\n    Path path = new Path();\r\n    path.moveTo(point1_returned.x, point1_returned.y);\r\n    path.lineTo(point2_returned.x, point2_returned.y);\r\n    path.lineTo(point3_returned.x, point3_returned.y);\r\n    path.lineTo(point1_returned.x, point1_returned.y);\r\n    path.close();","title":"How to draw a filled triangle in android canvas?","body":"<p>You need remove path.moveTo after first initial.</p>\n\n<pre><code>Path path = new Path();\npath.moveTo(point1_returned.x, point1_returned.y);\npath.lineTo(point2_returned.x, point2_returned.y);\npath.lineTo(point3_returned.x, point3_returned.y);\npath.lineTo(point1_returned.x, point1_returned.y);\npath.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15164,"reputation":23711,"user_id":31751,"accept_rate":80,"display_name":"scottyab"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1457456783,"creation_date":1457456783,"answer_id":35873562,"question_id":3501126,"body_markdown":"Using @Pavel&#39;s answer as guide, here&#39;s a helper method if you don&#39;t have the points but have start x,y and height and width. Also can draw inverted/upside down - which is useful for me as it was used as end of vertical barchart. \r\n\r\n     private void drawTriangle(int x, int y, int width, int height, boolean inverted, Paint paint, Canvas canvas){\r\n    \r\n            Point p1 = new Point(x,y);\r\n            int pointX = x + width/2;\r\n            int pointY = inverted?  y + height : y - height;\r\n    \r\n            Point p2 = new Point(pointX,pointY);\r\n            Point p3 = new Point(x+width,y);\r\n    \r\n    \r\n            Path path = new Path();\r\n            path.setFillType(Path.FillType.EVEN_ODD);\r\n            path.moveTo(p1.x,p1.y);\r\n            path.lineTo(p2.x,p2.y);\r\n            path.lineTo(p3.x,p3.y);\r\n            path.close();\r\n    \r\n            canvas.drawPath(path, paint);\r\n        }\r\n","title":"How to draw a filled triangle in android canvas?","body":"<p>Using @Pavel's answer as guide, here's a helper method if you don't have the points but have start x,y and height and width. Also can draw inverted/upside down - which is useful for me as it was used as end of vertical barchart. </p>\n\n<pre><code> private void drawTriangle(int x, int y, int width, int height, boolean inverted, Paint paint, Canvas canvas){\n\n        Point p1 = new Point(x,y);\n        int pointX = x + width/2;\n        int pointY = inverted?  y + height : y - height;\n\n        Point p2 = new Point(pointX,pointY);\n        Point p3 = new Point(x+width,y);\n\n\n        Path path = new Path();\n        path.setFillType(Path.FillType.EVEN_ODD);\n        path.moveTo(p1.x,p1.y);\n        path.lineTo(p2.x,p2.y);\n        path.lineTo(p3.x,p3.y);\n        path.close();\n\n        canvas.drawPath(path, paint);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4727728,"reputation":2172,"user_id":6579192,"accept_rate":50,"display_name":"Daniel Nyamasyo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1684745863,"creation_date":1483267977,"answer_id":41414932,"question_id":3501126,"body_markdown":" \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis function shows how to create a triangle from bitmap. That is, create triangular shaped cropped image.\r\n\r\n     public static Bitmap getTriangleBitmap(Bitmap bitmap, int radius) {\r\n            Bitmap finalBitmap;\r\n            if (bitmap.getWidth() != radius || bitmap.getHeight() != radius)\r\n                finalBitmap = Bitmap.createScaledBitmap(bitmap, radius, radius,\r\n                        false);\r\n            else\r\n                finalBitmap = bitmap;\r\n            Bitmap output = Bitmap.createBitmap(finalBitmap.getWidth(),\r\n                    finalBitmap.getHeight(), Bitmap.Config.ARGB_8888);\r\n            Canvas canvas = new Canvas(output);\r\n    \r\n            Paint paint = new Paint();\r\n            final Rect rect = new Rect(0, 0, finalBitmap.getWidth(),\r\n                    finalBitmap.getHeight());\r\n    \r\n            Point point1_draw = new Point(75, 0);\r\n            Point point2_draw = new Point(0, 180);\r\n            Point point3_draw = new Point(180, 180);\r\n    \r\n            Path path = new Path();\r\n            path.moveTo(point1_draw.x, point1_draw.y);\r\n            path.lineTo(point2_draw.x, point2_draw.y);\r\n            path.lineTo(point3_draw.x, point3_draw.y);\r\n            path.lineTo(point1_draw.x, point1_draw.y);\r\n            path.close();\r\n            canvas.drawARGB(0, 0, 0, 0);\r\n            paint.setColor(Color.parseColor(&quot;#BAB399&quot;));\r\n            canvas.drawPath(path, paint);\r\n            paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\r\n            canvas.drawBitmap(finalBitmap, rect, rect, paint);\r\n    \r\n            return output;\r\n        }\r\n\r\nThe function above returns a triangular image drawn on canvas.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zMtSz.jpg","title":"How to draw a filled triangle in android canvas?","body":"<p><a href=\"https://i.stack.imgur.com/zMtSz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zMtSz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>this function shows how to create a triangle from bitmap. That is, create triangular shaped cropped image.</p>\n<pre><code> public static Bitmap getTriangleBitmap(Bitmap bitmap, int radius) {\n        Bitmap finalBitmap;\n        if (bitmap.getWidth() != radius || bitmap.getHeight() != radius)\n            finalBitmap = Bitmap.createScaledBitmap(bitmap, radius, radius,\n                    false);\n        else\n            finalBitmap = bitmap;\n        Bitmap output = Bitmap.createBitmap(finalBitmap.getWidth(),\n                finalBitmap.getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(output);\n\n        Paint paint = new Paint();\n        final Rect rect = new Rect(0, 0, finalBitmap.getWidth(),\n                finalBitmap.getHeight());\n\n        Point point1_draw = new Point(75, 0);\n        Point point2_draw = new Point(0, 180);\n        Point point3_draw = new Point(180, 180);\n\n        Path path = new Path();\n        path.moveTo(point1_draw.x, point1_draw.y);\n        path.lineTo(point2_draw.x, point2_draw.y);\n        path.lineTo(point3_draw.x, point3_draw.y);\n        path.lineTo(point1_draw.x, point1_draw.y);\n        path.close();\n        canvas.drawARGB(0, 0, 0, 0);\n        paint.setColor(Color.parseColor(&quot;#BAB399&quot;));\n        canvas.drawPath(path, paint);\n        paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\n        canvas.drawBitmap(finalBitmap, rect, rect, paint);\n\n        return output;\n    }\n</code></pre>\n<p>The function above returns a triangular image drawn on canvas.</p>\n"},{"tags":[],"owner":{"account_id":1738441,"reputation":1300,"user_id":1590479,"accept_rate":80,"display_name":"oli.G"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1500036316,"creation_date":1500035347,"answer_id":45103045,"question_id":3501126,"body_markdown":"**Don&#39;t `moveTo()` after each `lineTo()`**\r\n\r\nIn other words, remove every `moveTo()` except the first one.\r\n\r\nSeriously, if I just copy-paste OP&#39;s code and remove the unnecessary `moveTo()` calls, it works.\r\n\r\nNothing else needs to be done.\r\n\r\n---\r\n\r\nEDIT: I know the OP already posted his &quot;final working solution&quot;, but he didn&#39;t state *why* it works. The actual reason was quite surprising to me, so I felt the need to add an answer.","title":"How to draw a filled triangle in android canvas?","body":"<p><strong>Don't <code>moveTo()</code> after each <code>lineTo()</code></strong></p>\n\n<p>In other words, remove every <code>moveTo()</code> except the first one.</p>\n\n<p>Seriously, if I just copy-paste OP's code and remove the unnecessary <code>moveTo()</code> calls, it works.</p>\n\n<p>Nothing else needs to be done.</p>\n\n<hr>\n\n<p>EDIT: I know the OP already posted his \"final working solution\", but he didn't state <em>why</em> it works. The actual reason was quite surprising to me, so I felt the need to add an answer.</p>\n"}],"owner":{"account_id":148111,"reputation":5263,"user_id":359656,"accept_rate":85,"display_name":"Pavel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110431,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"accepted_answer_id":3501210,"answer_count":8,"score":95,"last_activity_date":1684745863,"creation_date":1282037855,"question_id":3501126,"body_markdown":"So I&#39;m drawing this triangle in android maps using the code below in my draw method:\r\n\r\n    paint.setARGB(255, 153, 29, 29);\r\n    paint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n    paint.setAntiAlias(true);\r\n\r\n    Path path = new Path();\r\n    path.moveTo(point1_returned.x, point1_returned.y);\r\n    path.lineTo(point2_returned.x, point2_returned.y);\r\n    path.moveTo(point2_returned.x, point2_returned.y);\r\n    path.lineTo(point3_returned.x, point3_returned.y);\r\n    path.moveTo(point3_returned.x, point3_returned.y);\r\n    path.lineTo(point1_returned.x, point1_returned.y);\r\n    path.close();\r\n        \t\r\n    canvas.drawPath(path, paint);\r\n\r\nThe pointX_returned are the coordinates which I&#39;m getting from the fields. They are basically latitudes and longitudes.\r\nThe result is a nice triangle but the insider is empty and therefore I can see the map. Is there a way to fill it up somehow? \r\n\r\n","title":"How to draw a filled triangle in android canvas?","body":"<p>So I'm drawing this triangle in android maps using the code below in my draw method:</p>\n\n<pre><code>paint.setARGB(255, 153, 29, 29);\npaint.setStyle(Paint.Style.FILL_AND_STROKE);\npaint.setAntiAlias(true);\n\nPath path = new Path();\npath.moveTo(point1_returned.x, point1_returned.y);\npath.lineTo(point2_returned.x, point2_returned.y);\npath.moveTo(point2_returned.x, point2_returned.y);\npath.lineTo(point3_returned.x, point3_returned.y);\npath.moveTo(point3_returned.x, point3_returned.y);\npath.lineTo(point1_returned.x, point1_returned.y);\npath.close();\n\ncanvas.drawPath(path, paint);\n</code></pre>\n\n<p>The pointX_returned are the coordinates which I'm getting from the fields. They are basically latitudes and longitudes.\nThe result is a nice triangle but the insider is empty and therefore I can see the map. Is there a way to fill it up somehow? </p>\n"},{"tags":["java","spring-boot","sentry"],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684745582,"creation_date":1684745582,"question_id":76304472,"body_markdown":" Even though I set the traces sample rate to 0.0 so as to stop the transactions being published to sentry in the spring boot application.We would be using sentry for error reporting but not for performance monitoring. \r\n\r\nThanks in advance!\r\n \r\n    sentry:\r\n      dsn: -\r\n      traces-sample-rate: 0.0","title":"How to disable transactions being published to sentry?","body":"<p>Even though I set the traces sample rate to 0.0 so as to stop the transactions being published to sentry in the spring boot application.We would be using sentry for error reporting but not for performance monitoring.</p>\n<p>Thanks in advance!</p>\n<pre><code>sentry:\n  dsn: -\n  traces-sample-rate: 0.0\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9574,"page":418,"page_size":100}
