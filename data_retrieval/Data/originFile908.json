{"items":[{"tags":["java","spring-boot","tomcat","https","openssl"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667583703,"creation_date":1667583703,"answer_id":74321037,"question_id":74317632,"body_markdown":"One of the correct procedures to set up a Java SSL/TLS (including HTTPS) server like Tomcat is:\r\n\r\n1. `openssl req -new -newkey ...` to create the key and CSR, both in PEM\r\n\r\n2. send CSR to Certificate Authority aka CA (here GoDaddy) and provide proof you own or control the specified domain(s), and (depending on the CA) payment, and get back a server (leaf) cert plus one or more chain cert(s) (often labelled intermediate) and possibly/probably a root cert, all usually in PEM; if not you must convert to PEM before continuing \r\n\r\n3. (your missing step) `openssl pkcs12 -export -in cert1PEM -inkey keyPEM [-certfile cert2PEM] [-friendlyname somename] -out p12file`\r\n\r\n    `cert1PEM` must contain at least the server cert, and may contain the other (chain/intermediate and optionally root) cert(s); if it doesn&#39;t contain the latter, those must be in `-certfile cert2PEM`. `-friendlyname somename` is optional but your displayed output from `keytool` implies it was used (Java including keytool shows it as the alias)\r\n\r\n4. `keytool -importkeystore -srckeystore p12file -destkeystore jksfile ...`\r\n\r\n    But I disbelieve your comment that &#39;Java 17 was active&#39; unless the .jks file already existed, which it shouldn&#39;t have. Java 9 up, including 17, creates new keystore files as PKCS12 by default, not JKS, and wouldn&#39;t produce that warning. _Recent_ updates of Java 8 would. (That is, all updates of j8 default output to JKS, and recent updates give the warning when doing so.)\r\n\r\n    In any case, step 4 is obsolete and unnecessary. All versions of Java since 8u60 in 2015 can read PKCS12 (as produced by step 3) by default and don&#39;t need a JKS file at all. Even older versions (back to 2000 or so) could read PKCS12 with only a slight change to the configuration, which I would recommend precisely because JKS is &#39;proprietary&#39; (as the warning now says) and also weak (which the warning doesn&#39;t say). \r\n","title":"How to use GoDaddy SSL Certificate with Spring Boot Embedded Tomcat Server?","body":"<p>One of the correct procedures to set up a Java SSL/TLS (including HTTPS) server like Tomcat is:</p>\n<ol>\n<li><p><code>openssl req -new -newkey ...</code> to create the key and CSR, both in PEM</p>\n</li>\n<li><p>send CSR to Certificate Authority aka CA (here GoDaddy) and provide proof you own or control the specified domain(s), and (depending on the CA) payment, and get back a server (leaf) cert plus one or more chain cert(s) (often labelled intermediate) and possibly/probably a root cert, all usually in PEM; if not you must convert to PEM before continuing</p>\n</li>\n<li><p>(your missing step) <code>openssl pkcs12 -export -in cert1PEM -inkey keyPEM [-certfile cert2PEM] [-friendlyname somename] -out p12file</code></p>\n<p><code>cert1PEM</code> must contain at least the server cert, and may contain the other (chain/intermediate and optionally root) cert(s); if it doesn't contain the latter, those must be in <code>-certfile cert2PEM</code>. <code>-friendlyname somename</code> is optional but your displayed output from <code>keytool</code> implies it was used (Java including keytool shows it as the alias)</p>\n</li>\n<li><p><code>keytool -importkeystore -srckeystore p12file -destkeystore jksfile ...</code></p>\n<p>But I disbelieve your comment that 'Java 17 was active' unless the .jks file already existed, which it shouldn't have. Java 9 up, including 17, creates new keystore files as PKCS12 by default, not JKS, and wouldn't produce that warning. <em>Recent</em> updates of Java 8 would. (That is, all updates of j8 default output to JKS, and recent updates give the warning when doing so.)</p>\n<p>In any case, step 4 is obsolete and unnecessary. All versions of Java since 8u60 in 2015 can read PKCS12 (as produced by step 3) by default and don't need a JKS file at all. Even older versions (back to 2000 or so) could read PKCS12 with only a slight change to the configuration, which I would recommend precisely because JKS is 'proprietary' (as the warning now says) and also weak (which the warning doesn't say).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74321037,"answer_count":1,"score":0,"last_activity_date":1667583703,"creation_date":1667567698,"question_id":74317632,"body_markdown":"I am working on a website I inherited. The website is made in Spring Boot with embedded Tomcat server. It is using a .jks file for HTTPS. The SSL certificate has expired and I am trying to make a ne .jks file from the files received from Godaddy.\r\nThere is a document that states how to go about it but something is missing. \r\n\r\n    These are the steps in document to create .jks file:\r\n    \r\n    Security Settings\r\n    C:\\trash\\keyproc&gt;openssl req -new -newkey rsa:2048 -nodes -keyout website_name_here.key -out website_name_here.csr\r\n    You are about to be asked to enter information that will be incorporated\r\n    into your certificate request.\r\n    What you are about to enter is what is called a Distinguished Name or a DN.\r\n    There are quite a few fields but you can leave some blank\r\n    For some fields there will be a default value,\r\n    If you enter &#39;.&#39;, the field will be left blank.\r\n    -----\r\n    Country Name (2 letter code) [AU]:XX\r\n    State or Province Name (full name) [Some-State]:XXXXX\r\n    Locality Name (eg, city) []:XXXX\r\n    Organization Name (eg, company) [Internet Widgits Pty Ltd]:XXXXX\r\n    Organizational Unit Name (eg, section) []:Software Development\r\n    Common Name (e.g. server FQDN or YOUR name) []:website_name_here.co\r\n    Email Address []:xxxxx@gmail.com\r\n    \r\n    Please enter the following &#39;extra&#39; attributes\r\n    to be sent with your certificate request\r\n    A challenge password []:pwd_here\r\n    An optional company name []:xxxxx\r\n    Two files are generated website_name_here.key &amp; website_name_here.csr\r\n    Use website_name_here.csr generated to get certificate from Godaddy.\r\n    Get SSL cetrificate from Godaddy and extract to this folder.\r\n    \r\n    ####################  Java Version 17 was active from hereon #################################################################\r\n    \r\n    Microsoft Windows [Version 10.0.14393]\r\n    (c) 2016 Microsoft Corporation. All rights reserved.\r\n    \r\n    \r\n    C:\\trash\\keyproc&gt;keytool -importkeystore -deststorepass pwd_here -destkeystore website_name_here.jks -srckeystore website_name_here.p12 -srcstoretype PKCS12\r\n    Importing keystore website_name_here.p12 to website_name_here.jks...\r\n    Enter source keystore password:\r\n    Entry for alias website_name_here.co successfully imported.\r\n    Import command completed:  1 entries successfully imported, 0 entries failed or cancelled\r\n    \r\n    Warning:\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore website_name_here.jks -destkeystore website_name_here.jks -deststoretype pkcs12&quot;.\r\n\r\n    C:\\trash\\keyproc&gt;\r\n    \r\n    After this just import  main CRT file not bundle file using keytool.\r\n\r\n\r\n**In the above steps it is not mentioned where website_name_here.p12 file is coming from. What it could be?**\r\n\r\n\r\nThe code that uses the .jks file is as follows:\r\n\r\n    import lombok.SneakyThrows;\r\n    import org.apache.catalina.connector.Connector;\r\n    import org.apache.coyote.http11.Http11NioProtocol;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.net.InetAddress;\r\n    import java.util.Optional;\r\n    //@Profile(&quot;dev&quot;)\r\n    @Component\r\n    public class TomcatEmbedServerCustomConfiguration implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\r\n    {\r\n        private static final Logger logger = LoggerFactory.getLogger(TomcatEmbedServerCustomConfiguration.class);\r\n    \r\n        IWebApplicationServerSettingsRepository appSettinsRepository;\r\n    \r\n        ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository;\r\n    \r\n        public TomcatEmbedServerCustomConfiguration(IWebApplicationServerSettingsRepository appSettinsRepository, ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository)\r\n        {\r\n            this.appSettinsRepository = appSettinsRepository;\r\n            this.applicationHttpsSettingsEntityRepository = applicationHttpsSettingsEntityRepository;\r\n        }\r\n    \r\n        @SneakyThrows\r\n        @Override\r\n        public void customize(TomcatServletWebServerFactory factory)\r\n        {\r\n            logger.info(&quot;Setting the Tomcat specific configurations. started&quot;);\r\n            try\r\n            {\r\n    \r\n                Optional&lt;WebApplicationServerSettingEntity&gt; serverSettingEntity = appSettinsRepository.findById(1);\r\n    \r\n                if (serverSettingEntity.isPresent())\r\n                {\r\n                    factory.setPort(serverSettingEntity.get().getPort().getPORT());\r\n                    factory.setAddress(InetAddress.getByName(serverSettingEntity.get().getHost()));\r\n                }\r\n                factory.setServerHeader(&quot;Server header of tomcat&quot;);\r\n    \r\n    // HTTPS Settings - Begin\r\n    \r\n                Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\r\n    \r\n                if(applicationHttpsSettingsEntity.isPresent())\r\n                {\r\n                    logger.info(&quot;Setting HTTPS settings....&quot;);\r\n                    if(applicationHttpsSettingsEntity.get().getUseHttps() !=0)\r\n                    {\r\n                        factory.addAdditionalTomcatConnectors(createSslConnector());\r\n                        factory.addContextCustomizers(context -&gt;\r\n                                                      {\r\n                                                          logger.info(&quot;Setting HTTPS settings....setting...&quot;);\r\n                                                          SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                                                          securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                                                          SecurityCollection collection = new SecurityCollection();\r\n                                                          collection.addPattern(&quot;/*&quot;);\r\n                                                          securityConstraint.addCollection(collection);\r\n                                                          context.addConstraint(securityConstraint);\r\n                                                          logger.info(&quot;Setting HTTPS settings....setting...Done&quot;);\r\n                                                      });\r\n                    }\r\n                    logger.info(&quot;Setting HTTPS settings....End&quot;);\r\n                }\r\n    // HTTPS Settings - end\r\n                logger.info(&quot;Tomcat Server Configuration Host=[&quot; + factory.getAddress() + &quot;] Port=[&quot; + factory.getPort() + &quot;]&quot;);\r\n                logger.info(&quot;Setting the Tomcat specific configurations. ended&quot;);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.error(e.getMessage());\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n    // HTTPS Settings - Begin\r\n        private Connector createSslConnector() {\r\n    \r\n    \r\n            Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\r\n    \r\n            if(applicationHttpsSettingsEntity.isPresent())\r\n            {\r\n                logger.info(&quot;Creating SSL Connector...&quot;);\r\n    \r\n                Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n                Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n                //            File keystore = new ClassPathResource(&quot;website_name.jks&quot;).getFile();\r\n    //            File truststore = new ClassPathResource(&quot;keystore&quot;).getFile();\r\n                connector.setScheme(&quot;https&quot;);\r\n                connector.setSecure(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\r\n                connector.setPort(applicationHttpsSettingsEntity.get().getBroadcaster().getPORT());\r\n                protocol.setSSLEnabled(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\r\n    //            protocol.setKeystoreFile(&quot;file:///c://trash//website_name_here.jks&quot;);\r\n                protocol.setKeystoreFile(applicationHttpsSettingsEntity.get().getKeyStore());\r\n    //            protocol.setKeystorePass(&quot;pwd_here&quot;);\r\n                protocol.setKeystorePass(applicationHttpsSettingsEntity.get().getKeyStorePassword());\r\n    //            protocol.setTruststoreFile(truststore.getAbsolutePath());\r\n    //            protocol.setTruststorePass(&quot;changeit&quot;);\r\n                protocol.setKeyAlias(applicationHttpsSettingsEntity.get().getKeyAlias());\r\n                logger.info(&quot;Creating SSL Connector...Done&quot;);\r\n                return connector;\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    // HTTPS Settings - End\r\n    }\r\n\r\nAnd\r\n\r\n    @Configuration\r\n    //@Profile(&quot;production&quot;)\r\n    public class SecurityConfig\r\n    {\r\n    // HTTPS Settings - Begin\r\n        @Bean\r\n        public TomcatServletWebServerFactory httpsRedirectConfig()\r\n        {\r\n            return new TomcatServletWebServerFactory()\r\n            {\r\n                @Override\r\n                protected void postProcessContext(Context context)\r\n                {\r\n                    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                    SecurityCollection collection = new SecurityCollection();\r\n                    collection.addPattern(&quot;/*&quot;);\r\n                    securityConstraint.addCollection(collection);\r\n                    context.addConstraint(securityConstraint);\r\n                }\r\n            };\r\n        }\r\n    // HTTPS Settings - End\r\n    }\r\n\r\n","title":"How to use GoDaddy SSL Certificate with Spring Boot Embedded Tomcat Server?","body":"<p>I am working on a website I inherited. The website is made in Spring Boot with embedded Tomcat server. It is using a .jks file for HTTPS. The SSL certificate has expired and I am trying to make a ne .jks file from the files received from Godaddy.\nThere is a document that states how to go about it but something is missing.</p>\n<pre><code>These are the steps in document to create .jks file:\n\nSecurity Settings\nC:\\trash\\keyproc&gt;openssl req -new -newkey rsa:2048 -nodes -keyout website_name_here.key -out website_name_here.csr\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [AU]:XX\nState or Province Name (full name) [Some-State]:XXXXX\nLocality Name (eg, city) []:XXXX\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:XXXXX\nOrganizational Unit Name (eg, section) []:Software Development\nCommon Name (e.g. server FQDN or YOUR name) []:website_name_here.co\nEmail Address []:xxxxx@gmail.com\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:pwd_here\nAn optional company name []:xxxxx\nTwo files are generated website_name_here.key &amp; website_name_here.csr\nUse website_name_here.csr generated to get certificate from Godaddy.\nGet SSL cetrificate from Godaddy and extract to this folder.\n\n####################  Java Version 17 was active from hereon #################################################################\n\nMicrosoft Windows [Version 10.0.14393]\n(c) 2016 Microsoft Corporation. All rights reserved.\n\n\nC:\\trash\\keyproc&gt;keytool -importkeystore -deststorepass pwd_here -destkeystore website_name_here.jks -srckeystore website_name_here.p12 -srcstoretype PKCS12\nImporting keystore website_name_here.p12 to website_name_here.jks...\nEnter source keystore password:\nEntry for alias website_name_here.co successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or cancelled\n\nWarning:\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore website_name_here.jks -destkeystore website_name_here.jks -deststoretype pkcs12&quot;.\n\nC:\\trash\\keyproc&gt;\n\nAfter this just import  main CRT file not bundle file using keytool.\n</code></pre>\n<p><strong>In the above steps it is not mentioned where website_name_here.p12 file is coming from. What it could be?</strong></p>\n<p>The code that uses the .jks file is as follows:</p>\n<pre><code>import lombok.SneakyThrows;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.coyote.http11.Http11NioProtocol;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\nimport java.net.InetAddress;\nimport java.util.Optional;\n//@Profile(&quot;dev&quot;)\n@Component\npublic class TomcatEmbedServerCustomConfiguration implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt;\n{\n    private static final Logger logger = LoggerFactory.getLogger(TomcatEmbedServerCustomConfiguration.class);\n\n    IWebApplicationServerSettingsRepository appSettinsRepository;\n\n    ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository;\n\n    public TomcatEmbedServerCustomConfiguration(IWebApplicationServerSettingsRepository appSettinsRepository, ApplicationHttpsSettingsEntityRepository applicationHttpsSettingsEntityRepository)\n    {\n        this.appSettinsRepository = appSettinsRepository;\n        this.applicationHttpsSettingsEntityRepository = applicationHttpsSettingsEntityRepository;\n    }\n\n    @SneakyThrows\n    @Override\n    public void customize(TomcatServletWebServerFactory factory)\n    {\n        logger.info(&quot;Setting the Tomcat specific configurations. started&quot;);\n        try\n        {\n\n            Optional&lt;WebApplicationServerSettingEntity&gt; serverSettingEntity = appSettinsRepository.findById(1);\n\n            if (serverSettingEntity.isPresent())\n            {\n                factory.setPort(serverSettingEntity.get().getPort().getPORT());\n                factory.setAddress(InetAddress.getByName(serverSettingEntity.get().getHost()));\n            }\n            factory.setServerHeader(&quot;Server header of tomcat&quot;);\n\n// HTTPS Settings - Begin\n\n            Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\n\n            if(applicationHttpsSettingsEntity.isPresent())\n            {\n                logger.info(&quot;Setting HTTPS settings....&quot;);\n                if(applicationHttpsSettingsEntity.get().getUseHttps() !=0)\n                {\n                    factory.addAdditionalTomcatConnectors(createSslConnector());\n                    factory.addContextCustomizers(context -&gt;\n                                                  {\n                                                      logger.info(&quot;Setting HTTPS settings....setting...&quot;);\n                                                      SecurityConstraint securityConstraint = new SecurityConstraint();\n                                                      securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                                                      SecurityCollection collection = new SecurityCollection();\n                                                      collection.addPattern(&quot;/*&quot;);\n                                                      securityConstraint.addCollection(collection);\n                                                      context.addConstraint(securityConstraint);\n                                                      logger.info(&quot;Setting HTTPS settings....setting...Done&quot;);\n                                                  });\n                }\n                logger.info(&quot;Setting HTTPS settings....End&quot;);\n            }\n// HTTPS Settings - end\n            logger.info(&quot;Tomcat Server Configuration Host=[&quot; + factory.getAddress() + &quot;] Port=[&quot; + factory.getPort() + &quot;]&quot;);\n            logger.info(&quot;Setting the Tomcat specific configurations. ended&quot;);\n        }\n        catch (Exception e)\n        {\n            logger.error(e.getMessage());\n            throw e;\n        }\n    }\n\n// HTTPS Settings - Begin\n    private Connector createSslConnector() {\n\n\n        Optional&lt;ApplicationHttpsSettingsEntity&gt; applicationHttpsSettingsEntity = applicationHttpsSettingsEntityRepository.findById(1);\n\n        if(applicationHttpsSettingsEntity.isPresent())\n        {\n            logger.info(&quot;Creating SSL Connector...&quot;);\n\n            Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n            Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n            //            File keystore = new ClassPathResource(&quot;website_name.jks&quot;).getFile();\n//            File truststore = new ClassPathResource(&quot;keystore&quot;).getFile();\n            connector.setScheme(&quot;https&quot;);\n            connector.setSecure(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\n            connector.setPort(applicationHttpsSettingsEntity.get().getBroadcaster().getPORT());\n            protocol.setSSLEnabled(applicationHttpsSettingsEntity.get().getUseHttps() != 0);\n//            protocol.setKeystoreFile(&quot;file:///c://trash//website_name_here.jks&quot;);\n            protocol.setKeystoreFile(applicationHttpsSettingsEntity.get().getKeyStore());\n//            protocol.setKeystorePass(&quot;pwd_here&quot;);\n            protocol.setKeystorePass(applicationHttpsSettingsEntity.get().getKeyStorePassword());\n//            protocol.setTruststoreFile(truststore.getAbsolutePath());\n//            protocol.setTruststorePass(&quot;changeit&quot;);\n            protocol.setKeyAlias(applicationHttpsSettingsEntity.get().getKeyAlias());\n            logger.info(&quot;Creating SSL Connector...Done&quot;);\n            return connector;\n        }\n\n        return null;\n    }\n// HTTPS Settings - End\n}\n</code></pre>\n<p>And</p>\n<pre><code>@Configuration\n//@Profile(&quot;production&quot;)\npublic class SecurityConfig\n{\n// HTTPS Settings - Begin\n    @Bean\n    public TomcatServletWebServerFactory httpsRedirectConfig()\n    {\n        return new TomcatServletWebServerFactory()\n        {\n            @Override\n            protected void postProcessContext(Context context)\n            {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n    }\n// HTTPS Settings - End\n}\n</code></pre>\n"},{"tags":["java","loops","math","integer"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667575914,"post_id":74319367,"comment_id":131206213,"body_markdown":"It sounds like you&#39;re looking for the _Knapsack Problem_.","body":"It sounds like you&#39;re looking for the <i>Knapsack Problem</i>."}],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667576100,"creation_date":1667576100,"answer_id":74319444,"question_id":74319367,"body_markdown":" 1. While `n&gt;=5`: Add 5 to the list and set `n = n - 5`.\r\n 2. While `n&gt;=2`: Add 2 to the list and set `n = n - 2`.\r\n 3. While `n&gt;=1`: Add 1 to the list and set `n = n - 1`.\r\n 4. Return the list\r\n\r\nAdditionally, a list is not the same as an array and you need to use the correct constructor for it i.e.\r\n\r\n    List&lt;Integer&gt; j = new ArrayList&lt;&gt;();","title":"How can I return a list of integers that add up to a provided integer n","body":"<ol>\n<li>While <code>n&gt;=5</code>: Add 5 to the list and set <code>n = n - 5</code>.</li>\n<li>While <code>n&gt;=2</code>: Add 2 to the list and set <code>n = n - 2</code>.</li>\n<li>While <code>n&gt;=1</code>: Add 1 to the list and set <code>n = n - 1</code>.</li>\n<li>Return the list</li>\n</ol>\n<p>Additionally, a list is not the same as an array and you need to use the correct constructor for it i.e.</p>\n<pre><code>List&lt;Integer&gt; j = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1667583629,"accepted_answer_id":74319444,"answer_count":1,"score":1,"last_activity_date":1667583624,"creation_date":1667575695,"question_id":74319367,"body_markdown":"I have a function  `public static List&lt;Integer&gt; change(int n)` that takes in an integer n and returns how many times does ints 5,2 and 1 add up to `n` (it should use the minimum number of ints possible). For example\r\n\r\nif `n = 12`, the output would be `[5,5,2]` since 5+5+2 = 12\r\nif `n = 55`, the output would be `[5,5,5,5,5]` since 5+5+5+5+5 = 25.\r\nif `n = 3`, the output would be `[2,1]` since 2+1 = 3.\r\n\r\nI&#39;m struggling to understand the logic behind implementing this into code, so here is what I have so far:\r\n\r\n    List&lt;Integer&gt; change(int n) {\r\n        a = 5\r\n        b = 2\r\n        c = 1\r\n        int[] j;\r\n        if (a+b+c == n) {\r\n             j.add(a)\r\n             j.add(b)\r\n             j.add(c) }\r\n        }\r\n\r\nCan someone please explain the logic behind tackling a problem like this so that I can make the necessary changes?\r\n\r\n\r\n \r\n","title":"How can I return a list of integers that add up to a provided integer n","body":"<p>I have a function  <code>public static List&lt;Integer&gt; change(int n)</code> that takes in an integer n and returns how many times does ints 5,2 and 1 add up to <code>n</code> (it should use the minimum number of ints possible). For example</p>\n<p>if <code>n = 12</code>, the output would be <code>[5,5,2]</code> since 5+5+2 = 12\nif <code>n = 55</code>, the output would be <code>[5,5,5,5,5]</code> since 5+5+5+5+5 = 25.\nif <code>n = 3</code>, the output would be <code>[2,1]</code> since 2+1 = 3.</p>\n<p>I'm struggling to understand the logic behind implementing this into code, so here is what I have so far:</p>\n<pre><code>List&lt;Integer&gt; change(int n) {\n    a = 5\n    b = 2\n    c = 1\n    int[] j;\n    if (a+b+c == n) {\n         j.add(a)\n         j.add(b)\n         j.add(c) }\n    }\n</code></pre>\n<p>Can someone please explain the logic behind tackling a problem like this so that I can make the necessary changes?</p>\n"},{"tags":["java","android","json","rest","listview"],"comments":[{"owner":{"account_id":5231393,"reputation":196,"user_id":4181597,"accept_rate":67,"display_name":"theSereneRebel"},"score":0,"creation_date":1493059991,"post_id":43595389,"comment_id":74241283,"body_markdown":"Try using volley for retrieving data","body":"Try using volley for retrieving data"}],"answers":[{"tags":[],"owner":{"account_id":7441167,"reputation":1764,"user_id":5658915,"display_name":"Jonathan Aste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493059804,"creation_date":1493059804,"answer_id":43595634,"question_id":43595389,"body_markdown":"You need to add an AsyncTask to run your api calls, otherwise the Network will fail because is running on UI thread.\r\nCheck [this answer][1] for an example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6343299/5658915","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>You need to add an AsyncTask to run your api calls, otherwise the Network will fail because is running on UI thread.\nCheck <a href=\"https://stackoverflow.com/a/6343299/5658915\">this answer</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":8394032,"reputation":629,"user_id":6301831,"display_name":"pantos27"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493060209,"creation_date":1493060209,"answer_id":43595755,"question_id":43595389,"body_markdown":"Looks like your making a network request on the main thread,which is a big no no on android.\r\n\r\nTry doing it on a new `Thread`, `AsyncTask` or event an `IntentService`\r\n\r\nSome reading material\r\nhttps://developer.android.com/training/articles/perf-anr.html\r\n\r\nhttps://developer.android.com/reference/android/os/AsyncTask.html\r\n","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>Looks like your making a network request on the main thread,which is a big no no on android.</p>\n\n<p>Try doing it on a new <code>Thread</code>, <code>AsyncTask</code> or event an <code>IntentService</code></p>\n\n<p>Some reading material\n<a href=\"https://developer.android.com/training/articles/perf-anr.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/perf-anr.html</a></p>\n\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask.html</a></p>\n"},{"tags":[],"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493070313,"creation_date":1493061486,"answer_id":43596091,"question_id":43595389,"body_markdown":"&gt; Error in http connection android.os.NetworkOnMainThreadException\r\n\r\nTry using `AsyncTask` to get `JSON` from HTTP requests. Or use `Volley` library as its easy to implement.\r\n\r\n&gt; Error parsing data org.json.JSONException: End of input at character 0\r\n&gt; of\r\n\r\nYou are getting `JSON` parsing error at `json_data.getString(&quot;id_DAB&quot;)` as `id_DAB` is contains `int` value.\r\n\r\n**Try this:**\r\n\r\n    //create a new person\r\n    Dabl resultRow = new Dabl();\r\n    \r\n    //set that person&#39;s attributes\r\n    resultRow.id = json_data.getInt(&quot;id_DAB&quot;); \r\n    resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n    resultRow.etat = json_data.getString(&quot;etat&quot;);\r\n    resultRow.des= json_data.getString(&quot;description&quot;);\r\n    resultRow.zone= json_data.getString(&quot;zone&quot;);\r\n\r\n\r\n**UPDATE:**\r\n\r\n&gt; E/ERROR: ERROR IN CODE: `org.json.JSONException`: Value\r\n&gt; `{&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne`\r\n&gt; `correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}` at 0\r\n&gt; of type `java.lang.String` cannot be converted to `JSONObject`\r\n\r\n\r\n**Here is the working code:**\r\n\r\n    public void parseJson(){\r\n\r\n\t\t// Your JSON\r\n\t\tString result = &quot;[\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:22,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:26,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;ooo\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:27,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;\\\\\\&quot;}\\&quot;,\\n&quot; +\r\n\t\t\t\t&quot;  \\&quot;{\\\\\\&quot;zone\\\\\\&quot;:\\\\\\&quot;Tunis\\\\\\&quot;,\\\\\\&quot;description\\\\\\&quot;:\\\\\\&quot;le DAB fonctionne correctement.\\\\\\&quot;,\\\\\\&quot;id_DAB\\\\\\&quot;:6660,\\\\\\&quot;etat\\\\\\&quot;:\\\\\\&quot;En marche\\\\\\&quot;,\\\\\\&quot;Libelle_DAB\\\\\\&quot;:\\\\\\&quot;yyy\\\\\\&quot;}\\&quot;\\n&quot; +\r\n\t\t\t\t&quot;]&quot;;\r\n\r\n\t\tString response = result.toString();\r\n\r\n\t\ttry {\r\n\t\t\tJSONArray jArray = new JSONArray(response);\r\n\r\n\t\t\tfor (int i = 0; i &lt; jArray.length(); i++) {\r\n\t\t\t\tString string = jArray.getString(i);\r\n\t\t\t\tLog.i(&quot;try jaaray ob &quot;, string.toString());\r\n\r\n\t\t\t\tJSONObject json_data = new JSONObject(string);\r\n\t\t\t\tint id = json_data.getInt(&quot;id_DAB&quot;);\r\n\t\t\t\tString libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n\t\t\t\tString etat = json_data.getString(&quot;etat&quot;);\r\n\t\t\t\tString des= json_data.getString(&quot;description&quot;);\r\n\t\t\t\tString zone= json_data.getString(&quot;zone&quot;);\r\n\r\n\t\t\t\tLog.d(&quot;Success&quot;, &quot;id: &quot; + id + &quot;\\nlibdab: &quot; + libdab + &quot;\\netat: &quot; + etat +\r\n\t\t\t\t&quot;\\ndes: &quot; + des + &quot;\\nzone: &quot; + zone);\r\n\t\t\t}\r\n\t\t} catch (JSONException e) {\r\n\t\t\tLog.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n**OUTPUT LOG:**\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}\r\n    D/Success: id: 22\r\n               libdab: \r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n    \r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:26,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;ooo&quot;}\r\n    D/Success: id: 26\r\n               libdab: ooo\r\n               etat: En marche    \r\n               des: le DAB fonctionne correctement.       \r\n               zone: Tunis\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:27,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;}\r\n    D/Success: id: 27\r\n               libdab: \r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n\r\n    I/try&#160;jaaray&#160;ob: {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:6660,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;yyy&quot;}\r\n    D/Success: id: 6660\r\n               libdab: yyy\r\n               etat: En marche\r\n               des: le DAB fonctionne correctement.\r\n               zone: Tunis\r\n\r\nHope this will help~","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<blockquote>\n  <p>Error in http connection android.os.NetworkOnMainThreadException</p>\n</blockquote>\n\n<p>Try using <code>AsyncTask</code> to get <code>JSON</code> from HTTP requests. Or use <code>Volley</code> library as its easy to implement.</p>\n\n<blockquote>\n  <p>Error parsing data org.json.JSONException: End of input at character 0\n  of</p>\n</blockquote>\n\n<p>You are getting <code>JSON</code> parsing error at <code>json_data.getString(\"id_DAB\")</code> as <code>id_DAB</code> is contains <code>int</code> value.</p>\n\n<p><strong>Try this:</strong></p>\n\n<pre><code>//create a new person\nDabl resultRow = new Dabl();\n\n//set that person's attributes\nresultRow.id = json_data.getInt(\"id_DAB\"); \nresultRow.libdab = json_data.getString(\"Libelle_DAB\");\nresultRow.etat = json_data.getString(\"etat\");\nresultRow.des= json_data.getString(\"description\");\nresultRow.zone= json_data.getString(\"zone\");\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<blockquote>\n  <p>E/ERROR: ERROR IN CODE: <code>org.json.JSONException</code>: Value\n  <code>{\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne</code>\n  <code>correctement.\",\"id_DAB\":22,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}</code> at 0\n  of type <code>java.lang.String</code> cannot be converted to <code>JSONObject</code></p>\n</blockquote>\n\n<p><strong>Here is the working code:</strong></p>\n\n<pre><code>public void parseJson(){\n\n    // Your JSON\n    String result = \"[\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":22,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":26,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"ooo\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":27,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"\\\\\\\"}\\\",\\n\" +\n            \"  \\\"{\\\\\\\"zone\\\\\\\":\\\\\\\"Tunis\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"le DAB fonctionne correctement.\\\\\\\",\\\\\\\"id_DAB\\\\\\\":6660,\\\\\\\"etat\\\\\\\":\\\\\\\"En marche\\\\\\\",\\\\\\\"Libelle_DAB\\\\\\\":\\\\\\\"yyy\\\\\\\"}\\\"\\n\" +\n            \"]\";\n\n    String response = result.toString();\n\n    try {\n        JSONArray jArray = new JSONArray(response);\n\n        for (int i = 0; i &lt; jArray.length(); i++) {\n            String string = jArray.getString(i);\n            Log.i(\"try jaaray ob \", string.toString());\n\n            JSONObject json_data = new JSONObject(string);\n            int id = json_data.getInt(\"id_DAB\");\n            String libdab = json_data.getString(\"Libelle_DAB\");\n            String etat = json_data.getString(\"etat\");\n            String des= json_data.getString(\"description\");\n            String zone= json_data.getString(\"zone\");\n\n            Log.d(\"Success\", \"id: \" + id + \"\\nlibdab: \" + libdab + \"\\netat: \" + etat +\n            \"\\ndes: \" + des + \"\\nzone: \" + zone);\n        }\n    } catch (JSONException e) {\n        Log.e(\"ERROR\", \"ERROR IN CODE: \" + e.toString());\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT LOG:</strong></p>\n\n<pre><code>I/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":22,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}\nD/Success: id: 22\n           libdab: \n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":26,\"etat\":\"En marche\",\"Libelle_DAB\":\"ooo\"}\nD/Success: id: 26\n           libdab: ooo\n           etat: En marche    \n           des: le DAB fonctionne correctement.       \n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":27,\"etat\":\"En marche\",\"Libelle_DAB\":\"\"}\nD/Success: id: 27\n           libdab: \n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n\nI/try jaaray ob: {\"zone\":\"Tunis\",\"description\":\"le DAB fonctionne correctement.\",\"id_DAB\":6660,\"etat\":\"En marche\",\"Libelle_DAB\":\"yyy\"}\nD/Success: id: 6660\n           libdab: yyy\n           etat: En marche\n           des: le DAB fonctionne correctement.\n           zone: Tunis\n</code></pre>\n\n<p>Hope this will help~</p>\n"}],"owner":{"display_name":"user7876280"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43596091,"answer_count":3,"score":0,"last_activity_date":1667583500,"creation_date":1493058943,"question_id":43595389,"body_markdown":"I&#39;m developping an Android application which consumes a restful web service that retrieves data from Mysql database.\r\n\r\nSo I&#39;m trying to display the result of a web method on my listview but the list is always empty.\r\n\r\nThe result is in JSON format but as a string.\r\n\r\nI created a layout that contains a list view\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;La liste des DAB&quot; /&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/lstdab&quot;\r\n            style=&quot;@style/Widget.AppCompat.ListView.DropDown&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nA layout that contains the items of the list View\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;10dp&quot; &gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/id&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/libdab&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tet&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:paddingTop=&quot;6dip&quot;\r\n            android:textColor=&quot;#43bd00&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/libe&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;2dip&quot;\r\n            android:textColor=&quot;#acacac&quot; /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/zone&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:textColor=&quot;#5d5d5d&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd this is my activity that will fill the list view received from a web method on restful web service using an URL:\r\n\r\n    package com.example.projetmonitoringapplication;\r\n    \r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    \r\n    import cz.msebera.android.httpclient.HttpResponse;\r\n    import cz.msebera.android.httpclient.client.HttpClient;\r\n    import cz.msebera.android.httpclient.client.methods.HttpGet;\r\n    import cz.msebera.android.httpclient.impl.client.DefaultHttpClient;\r\n    import cz.msebera.android.httpclient.util.EntityUtils;\r\n    \r\n    /**\r\n     * Created by Emel on 24/04/2017.\r\n     */\r\n    \r\n    public class listez extends AppCompatActivity {\r\n    \r\n        ListView list;\r\n       // BaseAdapter2 adapter;\r\n       ArrayList&lt;Dabl&gt; arrayOfWebData = new ArrayList&lt;Dabl&gt;();\r\n        //this is our result object\r\n    \r\n        class Dabl {\r\n            int id ;\r\n            String libdab;\r\n            String etat;\r\n            String des ;\r\n            String zone ;\r\n    \r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.listezonelayout);\r\n            list = (ListView) findViewById(R.id.lstdab);\r\n            new TheTask().execute();\r\n        }\r\n        adapter aa ;\r\n    \r\n        class adapter extends ArrayAdapter&lt;listez.Dabl&gt; {\r\n            adapter() {\r\n                super(listez.this, android.R.layout.simple_list_item_1, arrayOfWebData);\r\n            }\r\n    \r\n            public View getView(int position, View convertView,\r\n                                ViewGroup parent) {\r\n                ViewHolder holder;\r\n    \r\n                if (convertView==null) {\r\n                    LayoutInflater inflater=getLayoutInflater();\r\n                    convertView=inflater.inflate(R.layout.listdabzitem, null);\r\n    \r\n                    holder=new listez.ViewHolder(convertView);\r\n    \r\n                    convertView.setTag(holder);\r\n                }\r\n                else\r\n                {\r\n                    holder=(ViewHolder)convertView.getTag();\r\n                }\r\n                holder.populateFrom(arrayOfWebData.get(position));\r\n    \r\n                return(convertView);\r\n            }\r\n        }\r\n    \r\n        class ViewHolder {\r\n            public TextView idd=null;\r\n            public TextView lib=null;\r\n            public TextView et=null;\r\n            public TextView des=null;\r\n            public TextView zone=null;\r\n    \r\n            ViewHolder(View row) {\r\n                idd=(TextView)row.findViewById(R.id.id);\r\n                lib=(TextView)row.findViewById(R.id.libdab);\r\n                et=(TextView)row.findViewById(R.id.tet);\r\n                des=(TextView)row.findViewById(R.id.libe);\r\n                zone=(TextView)row.findViewById(R.id.zone);\r\n            }\r\n            //notice we had to change our populate from to take an argument of type person\r\n            void populateFrom(Dabl r) {\r\n                idd.setText(r.id);\r\n                lib.setText(r.libdab);\r\n                et.setText(r.etat);\r\n                des.setText(r.des);\r\n                zone.setText(r.zone);\r\n            }\r\n        }\r\n    \r\n        class TheTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n    \r\n            @Override\r\n            protected String doInBackground(Void... params) {\r\n                String str = null;\r\n                try {\r\n                    HttpClient httpclient = new DefaultHttpClient();\r\n                    HttpGet httppost = new HttpGet(\r\n                            &quot;http://10.0.2.2:8180/ProjetMonitoring/RestApp/DA/RechercherDABzTunis&quot;);\r\n                    HttpResponse response = httpclient.execute(httppost);\r\n                    str = EntityUtils.toString(response.getEntity());\r\n                    Log.e(&quot;test&quot;, &quot;----&quot; + str);\r\n                } catch (IOException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return str;\r\n    \r\n            }\r\n    \r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n    \r\n                super.onPostExecute(result);\r\n    \r\n                String response = result.toString();\r\n                try {\r\n    \r\n    \r\n                    JSONArray jArray = new JSONArray(response);\r\n    \r\n                    for (int i = 0, count = jArray.length(); i &lt; count; i++) {\r\n                        //get our object, this is one person&#39;s worth of data\r\n                        JSONObject json_data = jArray.getJSONObject(i);\r\n                        Log.i(&quot;try jaaray ob &quot;,json_data.toString());\r\n    \r\n                        //create a new person\r\n                        Dabl resultRow = new Dabl();\r\n                        //set that person&#39;s attributes\r\n                        resultRow.id = json_data.getInt(&quot;id_DAB&quot;);\r\n                        resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\r\n                        resultRow.etat = json_data.getString(&quot;etat&quot;);\r\n                        resultRow.des= json_data.getString(&quot;description&quot;);\r\n                        resultRow.zone= json_data.getString(&quot;zone&quot;);\r\n    \r\n                        //this is our arrayList object, we add our Person object to it\r\n                        arrayOfWebData.add(resultRow);\r\n                    }\r\n                    ListView myListView = (ListView)findViewById(R.id.lstdab);\r\n    \r\n                    aa=new adapter();\r\n    \r\n                    myListView.setAdapter(aa);\r\n    String s=myListView.getItemAtPosition(1).toString();\r\n                    Log.i(&quot;ITEM&quot;,s);\r\n                } catch (JSONException e) {\r\n                    // TODO Auto-genrror2&quot;);\r\n                    Log.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nDon&#39;t give attention to my comments or to the unused variables.\r\n\r\nAfter executing the code, this is what I get on my logcat, even the log.e that I&#39;m displaying to test doesn&#39;t appear:\r\n\r\n  \r\n\r\n     04-24 20:51:29.355 20374-20636/com.example.projetmonitoringapplication E/test: ----[&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;]\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication E/ERROR: ERROR IN CODE: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSON.typeMismatch(JSON.java:100)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:514)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:141)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:106)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.finish(AsyncTask.java:632)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.access$600(AsyncTask.java:177)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Looper.loop(Looper.java:136)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5021)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invoke(Method.java:515)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\r\n    04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at dalvik.system.NativeStart.main(Native Method)\r\n\r\nthis is my WebMethode:\r\n \r\n\r\n  \r\n\r\n     // DAB zone Tunis\r\n            @GET\r\n            @Path(&quot;/RechercherDABzTunis&quot;)\r\n            @Produces(MediaType.APPLICATION_JSON)\r\n         //   @Consumes(MediaType.APPLICATION_JSON)\r\n            public String DABtunis()   \r\n         \t\t   throws SQLException, JSONException {\r\n            \tJSONObject obj = new JSONObject();\r\n            \tJSONArray array=new JSONArray();\r\n        \r\n    \r\n    \t    dbCoN = new DBConnection();\r\n    \t    query = &quot;SELECT dab.id_DAB, dab.libelle_DAB , etat.titre_etat , etat.libelle,zone.nom_zone FROM dab, agence,zone,etat where dab.id_agence=agence.id_agence and agence.id_zone=zone.id_zone and zone.nom_zone=&#39;Tunis&#39; GROUP by dab.id_DAB;&quot;;\r\n       \r\n    \t    \ttry {\r\n    \t    \t\tconn = (Connection) DBConnection.createConnection();\r\n    \t    \t\trslt = dbCoN.getResutlSet(query, conn);\r\n    \t    \t\tSystem.out.println(&quot;try here ! ! !  &quot;);\r\n    \r\n    \t    \t\tif (rslt.next()) {   \r\n    \t    \t\twhile (rslt.next()){\r\n    \t    \t\t\tobj = DAB.DABzoneToJson(rslt.getInt(&quot;id_DAB&quot;),rslt.getString(&quot;libelle_DAB&quot;),rslt.getString(&quot;titre_etat&quot;),rslt.getString(&quot;libelle&quot;),rslt.getString(&quot;nom_zone&quot;) );\r\n    \t    \t\t\tarray.put(obj.toString());\r\n    \r\n    \r\n    \t    \t\t\tSystem.out.println(rslt.getString(1).toString());\r\n        \t\t\t\t }\r\n    \t    \t\t}\r\n    \t    \t\telse {\r\n    \t    \t\t\tobj=DAB.DABToJsonFaux();\r\n    \t    \t\t\tarray.put(obj.toString());\r\n    \r\n    \t    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \r\n    \t    \t\t\t }\r\n     \r\n    \t    \t\t} catch (SQLException e){\r\n    \t    \t\t\tSystem.out.println(&quot;exception here sql! ! &quot;+e);\r\n    \t    \t\t} catch (Exception ex){\r\n    \t    \t\t\tSystem.out.println(&quot;exception here ! ! &quot;+ex);\r\n    \t    \t\t} finally { \r\n    \t    \t\t\tif (conn != null) {\r\n    \t    \t\t\t\tconn.close();\r\n    \t    \t\t\t\t\t\t\t}\r\n    \t    \t\t}\r\n    \t    \t//JSONObject jobj=new JSONObject();\r\n    \t    //\tjobj.put(&quot;array&quot;, array.toString());\r\n    \t    \r\n        \t\treturn array.toString();\r\n    \r\n        \t}\r\n    \t    \r\n\r\n \r\n\r\ni think the problem is on these two exception but i don&#39;t see any fault.\r\nthis is the result of my webMethode o postman:\r\n\r\n    [\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\r\n      &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;\r\n    ]\r\n    i&#39;m using Android Studio , and wildfly 8 as a server, my web Service is a  r\r\n\r\nestful i have a login activity in the same application that works perfectly, i think the probleme is on the parsing , but i don&#39;t see the error , can some one explian please ? thank you! \r\n\r\n\r\nUPDATED: i added asyncTask as you said , no im receiving the result from the webService in the log but i still can&#39;t display it on the ListView , i updated my Activity code , the Log also !","title":"Android: Result From Restful WS didn&#39;t display on my ListView","body":"<p>I'm developping an Android application which consumes a restful web service that retrieves data from Mysql database.</p>\n<p>So I'm trying to display the result of a web method on my listview but the list is always empty.</p>\n<p>The result is in JSON format but as a string.</p>\n<p>I created a layout that contains a list view</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;La liste des DAB&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lstdab&quot;\n        style=&quot;@style/Widget.AppCompat.ListView.DropDown&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>A layout that contains the items of the list View</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot; &gt;\n    &lt;TextView\n        android:id=&quot;@+id/id&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/libdab&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tet&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:paddingTop=&quot;6dip&quot;\n        android:textColor=&quot;#43bd00&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/libe&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;2dip&quot;\n        android:textColor=&quot;#acacac&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/zone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;left&quot;\n        android:textColor=&quot;#5d5d5d&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And this is my activity that will fill the list view received from a web method on restful web service using an URL:</p>\n<pre><code>package com.example.projetmonitoringapplication;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport cz.msebera.android.httpclient.HttpResponse;\nimport cz.msebera.android.httpclient.client.HttpClient;\nimport cz.msebera.android.httpclient.client.methods.HttpGet;\nimport cz.msebera.android.httpclient.impl.client.DefaultHttpClient;\nimport cz.msebera.android.httpclient.util.EntityUtils;\n\n/**\n * Created by Emel on 24/04/2017.\n */\n\npublic class listez extends AppCompatActivity {\n\n    ListView list;\n   // BaseAdapter2 adapter;\n   ArrayList&lt;Dabl&gt; arrayOfWebData = new ArrayList&lt;Dabl&gt;();\n    //this is our result object\n\n    class Dabl {\n        int id ;\n        String libdab;\n        String etat;\n        String des ;\n        String zone ;\n\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.listezonelayout);\n        list = (ListView) findViewById(R.id.lstdab);\n        new TheTask().execute();\n    }\n    adapter aa ;\n\n    class adapter extends ArrayAdapter&lt;listez.Dabl&gt; {\n        adapter() {\n            super(listez.this, android.R.layout.simple_list_item_1, arrayOfWebData);\n        }\n\n        public View getView(int position, View convertView,\n                            ViewGroup parent) {\n            ViewHolder holder;\n\n            if (convertView==null) {\n                LayoutInflater inflater=getLayoutInflater();\n                convertView=inflater.inflate(R.layout.listdabzitem, null);\n\n                holder=new listez.ViewHolder(convertView);\n\n                convertView.setTag(holder);\n            }\n            else\n            {\n                holder=(ViewHolder)convertView.getTag();\n            }\n            holder.populateFrom(arrayOfWebData.get(position));\n\n            return(convertView);\n        }\n    }\n\n    class ViewHolder {\n        public TextView idd=null;\n        public TextView lib=null;\n        public TextView et=null;\n        public TextView des=null;\n        public TextView zone=null;\n\n        ViewHolder(View row) {\n            idd=(TextView)row.findViewById(R.id.id);\n            lib=(TextView)row.findViewById(R.id.libdab);\n            et=(TextView)row.findViewById(R.id.tet);\n            des=(TextView)row.findViewById(R.id.libe);\n            zone=(TextView)row.findViewById(R.id.zone);\n        }\n        //notice we had to change our populate from to take an argument of type person\n        void populateFrom(Dabl r) {\n            idd.setText(r.id);\n            lib.setText(r.libdab);\n            et.setText(r.etat);\n            des.setText(r.des);\n            zone.setText(r.zone);\n        }\n    }\n\n    class TheTask extends AsyncTask&lt;Void, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(Void... params) {\n            String str = null;\n            try {\n                HttpClient httpclient = new DefaultHttpClient();\n                HttpGet httppost = new HttpGet(\n                        &quot;http://10.0.2.2:8180/ProjetMonitoring/RestApp/DA/RechercherDABzTunis&quot;);\n                HttpResponse response = httpclient.execute(httppost);\n                str = EntityUtils.toString(response.getEntity());\n                Log.e(&quot;test&quot;, &quot;----&quot; + str);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            return str;\n\n        }\n\n\n        @Override\n        protected void onPostExecute(String result) {\n\n            super.onPostExecute(result);\n\n            String response = result.toString();\n            try {\n\n\n                JSONArray jArray = new JSONArray(response);\n\n                for (int i = 0, count = jArray.length(); i &lt; count; i++) {\n                    //get our object, this is one person's worth of data\n                    JSONObject json_data = jArray.getJSONObject(i);\n                    Log.i(&quot;try jaaray ob &quot;,json_data.toString());\n\n                    //create a new person\n                    Dabl resultRow = new Dabl();\n                    //set that person's attributes\n                    resultRow.id = json_data.getInt(&quot;id_DAB&quot;);\n                    resultRow.libdab = json_data.getString(&quot;Libelle_DAB&quot;);\n                    resultRow.etat = json_data.getString(&quot;etat&quot;);\n                    resultRow.des= json_data.getString(&quot;description&quot;);\n                    resultRow.zone= json_data.getString(&quot;zone&quot;);\n\n                    //this is our arrayList object, we add our Person object to it\n                    arrayOfWebData.add(resultRow);\n                }\n                ListView myListView = (ListView)findViewById(R.id.lstdab);\n\n                aa=new adapter();\n\n                myListView.setAdapter(aa);\nString s=myListView.getItemAtPosition(1).toString();\n                Log.i(&quot;ITEM&quot;,s);\n            } catch (JSONException e) {\n                // TODO Auto-genrror2&quot;);\n                Log.e(&quot;ERROR&quot;, &quot;ERROR IN CODE: &quot; + e.toString());\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Don't give attention to my comments or to the unused variables.</p>\n<p>After executing the code, this is what I get on my logcat, even the log.e that I'm displaying to test doesn't appear:</p>\n<pre><code> 04-24 20:51:29.355 20374-20636/com.example.projetmonitoringapplication E/test: ----[&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,&quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;]\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication E/ERROR: ERROR IN CODE: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err: org.json.JSONException: Value {&quot;zone&quot;:&quot;Tunis&quot;,&quot;description&quot;:&quot;le DAB fonctionne correctement.&quot;,&quot;id_DAB&quot;:22,&quot;etat&quot;:&quot;En marche&quot;,&quot;Libelle_DAB&quot;:&quot;&quot;} at 0 of type java.lang.String cannot be converted to JSONObject\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSON.typeMismatch(JSON.java:100)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at org.json.JSONArray.getJSONObject(JSONArray.java:514)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:141)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.example.projetmonitoringapplication.listez$TheTask.onPostExecute(listez.java:106)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.finish(AsyncTask.java:632)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask.access$600(AsyncTask.java:177)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.os.Looper.loop(Looper.java:136)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5021)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invokeNative(Native Method)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at java.lang.reflect.Method.invoke(Method.java:515)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:827)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:643)\n04-24 20:51:29.365 20374-20374/com.example.projetmonitoringapplication W/System.err:     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n<p>this is my WebMethode:</p>\n<pre><code> // DAB zone Tunis\n        @GET\n        @Path(&quot;/RechercherDABzTunis&quot;)\n        @Produces(MediaType.APPLICATION_JSON)\n     //   @Consumes(MediaType.APPLICATION_JSON)\n        public String DABtunis()   \n               throws SQLException, JSONException {\n            JSONObject obj = new JSONObject();\n            JSONArray array=new JSONArray();\n    \n\n        dbCoN = new DBConnection();\n        query = &quot;SELECT dab.id_DAB, dab.libelle_DAB , etat.titre_etat , etat.libelle,zone.nom_zone FROM dab, agence,zone,etat where dab.id_agence=agence.id_agence and agence.id_zone=zone.id_zone and zone.nom_zone='Tunis' GROUP by dab.id_DAB;&quot;;\n   \n            try {\n                conn = (Connection) DBConnection.createConnection();\n                rslt = dbCoN.getResutlSet(query, conn);\n                System.out.println(&quot;try here ! ! !  &quot;);\n\n                if (rslt.next()) {   \n                while (rslt.next()){\n                    obj = DAB.DABzoneToJson(rslt.getInt(&quot;id_DAB&quot;),rslt.getString(&quot;libelle_DAB&quot;),rslt.getString(&quot;titre_etat&quot;),rslt.getString(&quot;libelle&quot;),rslt.getString(&quot;nom_zone&quot;) );\n                    array.put(obj.toString());\n\n\n                    System.out.println(rslt.getString(1).toString());\n                     }\n                }\n                else {\n                    obj=DAB.DABToJsonFaux();\n                    array.put(obj.toString());\n\n                    System.out.println(&quot;&quot;);\n\n                     }\n \n                } catch (SQLException e){\n                    System.out.println(&quot;exception here sql! ! &quot;+e);\n                } catch (Exception ex){\n                    System.out.println(&quot;exception here ! ! &quot;+ex);\n                } finally { \n                    if (conn != null) {\n                        conn.close();\n                                    }\n                }\n            //JSONObject jobj=new JSONObject();\n        //  jobj.put(&quot;array&quot;, array.toString());\n        \n            return array.toString();\n\n        }\n        \n</code></pre>\n<p>i think the problem is on these two exception but i don't see any fault.\nthis is the result of my webMethode o postman:</p>\n<pre><code>[\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:22,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:26,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;ooo\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:27,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;\\&quot;}&quot;,\n  &quot;{\\&quot;zone\\&quot;:\\&quot;Tunis\\&quot;,\\&quot;description\\&quot;:\\&quot;le DAB fonctionne correctement.\\&quot;,\\&quot;id_DAB\\&quot;:6660,\\&quot;etat\\&quot;:\\&quot;En marche\\&quot;,\\&quot;Libelle_DAB\\&quot;:\\&quot;yyy\\&quot;}&quot;\n]\ni'm using Android Studio , and wildfly 8 as a server, my web Service is a  r\n</code></pre>\n<p>estful i have a login activity in the same application that works perfectly, i think the probleme is on the parsing , but i don't see the error , can some one explian please ? thank you!</p>\n<p>UPDATED: i added asyncTask as you said , no im receiving the result from the webService in the log but i still can't display it on the ListView , i updated my Activity code , the Log also !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1667558444,"post_id":74315665,"comment_id":131199772,"body_markdown":"Evidently you&#39;re running the JVM under x86 emulation.","body":"Evidently you&#39;re running the JVM under x86 emulation."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667559241,"post_id":74315665,"comment_id":131200096,"body_markdown":"may be duplicate of https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java#:~:text=Please%20note%2C%20the%20os.arch%20property%20will%20only%20give,you%20will%20need%20to%20write%20some%20native%20code.","body":"may be duplicate of <a href=\"https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java#:~:text=Please%20note%2C%20the%20os.arch%20property%20will%20only%20give,you%20will%20need%20to%20write%20some%20native%20code\" title=\"how do you determine 32 or 64 bit architecture of windows using java%23%3a%7e%3atext%3dPlease%2520note%252C%2520the%2520os.arch%2520property%2520will%2520only%2520give%2cyou%2520will%2520need%2520to%2520write%2520some%2520native%2520code\">stackoverflow.com/questions/1856565/&hellip;</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667559851,"post_id":74315665,"comment_id":131200331,"body_markdown":"Possible duplicate of [Get OS-level system information](https://stackoverflow.com/questions/25552/get-os-level-system-information)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25552/get-os-level-system-information\">Get OS-level system information</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667559867,"post_id":74315665,"comment_id":131200339,"body_markdown":"Possible duplicate of [Detect CPU model information](https://stackoverflow.com/questions/55050864/detect-cpu-model-information)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55050864/detect-cpu-model-information\">Detect CPU model information</a>"},{"owner":{"account_id":9816330,"reputation":757,"user_id":7272723,"display_name":"Mayuri S Kulkarni"},"score":0,"creation_date":1667561929,"post_id":74315665,"comment_id":131201023,"body_markdown":"Does this answer your question? [How do you determine 32 or 64 bit architecture of Windows using Java?](https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1856565/how-do-you-determine-32-or-64-bit-architecture-of-windows-using-java\">How do you determine 32 or 64 bit architecture of Windows using Java?</a>"},{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":1,"creation_date":1667582791,"post_id":74315665,"comment_id":131208806,"body_markdown":"It is not a duplicate. What you gave me I already searched and that gives you the architecture of the JRE you have. Because it is possible to have a jdk for intel processor on a m1 processor. I needed the type of processor, not how much cores, memory etc. it has. The answer is below :) Thanks for all the help and interest anyway.","body":"It is not a duplicate. What you gave me I already searched and that gives you the architecture of the JRE you have. Because it is possible to have a jdk for intel processor on a m1 processor. I needed the type of processor, not how much cores, memory etc. it has. The answer is below :) Thanks for all the help and interest anyway."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667561426,"creation_date":1667561426,"answer_id":74316347,"question_id":74315665,"body_markdown":"You have to get this information from the operating system. On Windows, there is an environment variable &amp;ndash; `PROCESSOR_IDENTIFIER` &amp;ndash; which you can obtain via method [getenv][1], as in:\r\n```java\r\nSystem.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\r\n```\r\nOn my Windows 10 machine, I get:\r\n```none\r\nIntel64 Family 6 Model 158 Stepping 11, GenuineIntel\r\n```\r\nI don&#39;t have Mac but according to [this][2] you can call the command via class [ProcessBuilder][3].\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\r\ntry {\r\n    Process p = pb.start();\r\n    BufferedReader br = p.inputReader();\r\n    String output = br.readLine();\r\n    int status = p.waitFor();\r\n    if (status == 0) {\r\n        // Command succeeded.\r\n    }\r\n}\r\ncatch (InterruptedException | IOException x) {\r\n    x.printStackTrace();\r\n}\r\n```\r\nSo you would probably want code similar to the following:\r\n```java\r\nString details;\r\nif (&quot;Windows 10&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\r\n    details = System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\r\n}\r\nelse if (&quot;Mac OS X&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\r\n    try {\r\n        Process p = pb.start();\r\n        BufferedReader br = p.inputReader();\r\n        details = br.readLine();\r\n        int status = p.waitFor();\r\n        if (status == 0) {\r\n            // Command succeeded.\r\n        }\r\n    }\r\n    catch (InterruptedException | IOException x) {\r\n        x.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\r\n  [2]: https://github.molgen.mpg.de/pages/bs/macOSnotes/mac/mac_procs_cpu.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html","title":"How do I detect apple silicon (M1) vs. intel in java?","body":"<p>You have to get this information from the operating system. On Windows, there is an environment variable – <code>PROCESSOR_IDENTIFIER</code> – which you can obtain via method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\">getenv</a>, as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\n</code></pre>\n<p>On my Windows 10 machine, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Intel64 Family 6 Model 158 Stepping 11, GenuineIntel\n</code></pre>\n<p>I don't have Mac but according to <a href=\"https://github.molgen.mpg.de/pages/bs/macOSnotes/mac/mac_procs_cpu.html\" rel=\"nofollow noreferrer\">this</a> you can call the command via class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\ntry {\n    Process p = pb.start();\n    BufferedReader br = p.inputReader();\n    String output = br.readLine();\n    int status = p.waitFor();\n    if (status == 0) {\n        // Command succeeded.\n    }\n}\ncatch (InterruptedException | IOException x) {\n    x.printStackTrace();\n}\n</code></pre>\n<p>So you would probably want code similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String details;\nif (&quot;Windows 10&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\n    details = System.getenv(&quot;PROCESSOR_IDENTIFIER&quot;);\n}\nelse if (&quot;Mac OS X&quot;.equals(System.getProperty(&quot;os.name&quot;))) {\n    ProcessBuilder pb = new ProcessBuilder(&quot;sysctl&quot;, &quot;-n&quot;, &quot;machdep.cpu.brand_string&quot;);\n    try {\n        Process p = pb.start();\n        BufferedReader br = p.inputReader();\n        details = br.readLine();\n        int status = p.waitFor();\n        if (status == 0) {\n            // Command succeeded.\n        }\n    }\n    catch (InterruptedException | IOException x) {\n        x.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":74316347,"answer_count":1,"score":4,"last_activity_date":1667583385,"creation_date":1667558271,"question_id":74315665,"body_markdown":"(For everyone who does not understand the question, please note, the os.arch property will only give you the architecture of the JRE, not of the underlying OS, which does not answer my question)\r\n\r\nIf you install a 32 bit jre on a 64 bit system, System.getProperty(&quot;os.arch&quot;) will return x86\r\n\r\nIn order to actually determine the underlying architecture, you will need to write some native code.\r\n\r\nI want my app to do something if the processor is intel and something else if my processor is apple silicon.\r\n\r\nI tried with \r\n\r\n```\r\nSystem.getProperties().list(System.out);\r\nSystem.out.println(System.getProperty(&quot;os.arch&quot;));\r\n```\r\nbut on intel ```os.arch``` is the same value as in apple silicon = x86_64","title":"How do I detect apple silicon (M1) vs. intel in java?","body":"<p>(For everyone who does not understand the question, please note, the os.arch property will only give you the architecture of the JRE, not of the underlying OS, which does not answer my question)</p>\n<p>If you install a 32 bit jre on a 64 bit system, System.getProperty(&quot;os.arch&quot;) will return x86</p>\n<p>In order to actually determine the underlying architecture, you will need to write some native code.</p>\n<p>I want my app to do something if the processor is intel and something else if my processor is apple silicon.</p>\n<p>I tried with</p>\n<pre><code>System.getProperties().list(System.out);\nSystem.out.println(System.getProperty(&quot;os.arch&quot;));\n</code></pre>\n<p>but on intel <code>os.arch</code> is the same value as in apple silicon = x86_64</p>\n"},{"tags":["java","parquet","resultset","classcastexception","parquet-mr"],"owner":{"account_id":6749906,"reputation":63,"user_id":5200232,"display_name":"javaseeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667583089,"creation_date":1667549625,"question_id":74313942,"body_markdown":"\r\nI am writing ResultSet to parquet file using AvroParquetWriter. One column in the ResultSet is java.sql.Timestamp. When writing, I get the exception :\r\n\r\n&gt; java.sql.Timestamp cannot be cast to java.lang.Number\r\n\r\nAdding addLogicalTypeConversion does not work. The code is as below. Please provide any suggestions on how to make the LogicalTypeConversion work on the code:\r\n\r\n    GenericData timeSupport = GenericData.get();\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.DateConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMillisConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimeMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimeMillisConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMicrosConversion());\r\n    timeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\r\n\r\n     OutputFile opHadoop = HadoopOutputFile.fromPath(outputPath, new Configuration());\r\n     SchemaResults schemaResults = new ResultSetSchemaGenerator().generateSchema(resultSet, schemaName, namespace);\r\n\r\n     ParquetWriter&lt;GenericRecord&gt; parquetWriter = AvroParquetWriter.&lt;GenericRecord&gt; builder(opHadoop)\r\n                    .withSchema(schemaResults.getParsedSchema())\r\n                    .withDataModel(timeSupport)\r\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n                    .build();\r\n    List&lt;GenericRecord&gt; records = new ArrayList&lt;&gt;();\r\n    while (resultSet.next()) {\r\n    \tGenericRecordBuilder builder = new GenericRecordBuilder(schemaResults.getParsedSchema())\r\n    \t\r\n    \tfor (SchemaSqlMapping mapping : schemaResults.getMappings()) {\r\n    \t\t builder.set(\r\n    \t\t\t\t\tschemaResults.getParsedSchema().getField(mapping.getSchemaName()),\r\n    \t\t\t\t\textractResult(mapping, resultSet));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tGenericRecord record = builder.build();\r\n    \trecords.add(record);\r\n    }\r\n    \r\n    for (GenericRecord record : records) {\r\n    \tparquetWriter.write(record);\r\n    }\r\n    \r\n    parquetWriter.close();\r\n\r\n    /**\r\n    \t * Extracts the appropriate value from the ResultSet using the given\r\n    \t * SchemaSqlMapping.\r\n    \t *\r\n    \t * @param mapping\r\n    \t * @param resultSet\r\n    \t * @return\r\n    \t * @throws SQLException\r\n    \t */\r\n    \tpublic Object extractResult(SchemaSqlMapping mapping, ResultSet resultSet) throws SQLException {\r\n    \t\tswitch (mapping.getSqlType()) {\r\n            case Types.BOOLEAN:\r\n                return resultSet.getBoolean(mapping.getColumnIndex());\r\n            case Types.TINYINT:\r\n            case Types.SMALLINT:\r\n            case Types.INTEGER:\r\n            case Types.BIGINT:\r\n            case Types.ROWID:\r\n                return resultSet.getInt(mapping.getColumnIndex());\r\n            case Types.CHAR:\r\n            case Types.VARCHAR:\r\n            case Types.LONGVARCHAR:\r\n            case Types.NCHAR:\r\n            case Types.NVARCHAR:\r\n            case Types.LONGNVARCHAR:\r\n            case Types.SQLXML:\r\n                return resultSet.getString(mapping.getColumnIndex());\r\n            case Types.REAL:\r\n            case Types.FLOAT:\r\n                return resultSet.getFloat(mapping.getColumnIndex());\r\n            case Types.DOUBLE:\r\n                return resultSet.getDouble(mapping.getColumnIndex());\r\n            case Types.NUMERIC:\r\n                return resultSet.getBigDecimal(mapping.getColumnIndex());\r\n            case Types.DECIMAL:\r\n                return resultSet.getBigDecimal(mapping.getColumnIndex());\r\n            case Types.DATE:\r\n                return resultSet.getDate(mapping.getColumnIndex());\r\n            case Types.TIME:\r\n            case Types.TIME_WITH_TIMEZONE:\r\n                return resultSet.getTime(mapping.getColumnIndex());\r\n            case Types.TIMESTAMP:\r\n            case Types.TIMESTAMP_WITH_TIMEZONE:\r\n                return resultSet.getTimestamp(mapping.getColumnIndex());\r\n            case Types.BINARY:\r\n            case Types.VARBINARY:\r\n            case Types.LONGVARBINARY:\r\n            case Types.NULL:\r\n            case Types.OTHER:\r\n            case Types.JAVA_OBJECT:\r\n            case Types.DISTINCT:\r\n            case Types.STRUCT:\r\n            case Types.ARRAY:\r\n            case Types.BLOB:\r\n            case Types.CLOB:\r\n            case Types.REF:\r\n            case Types.DATALINK:\r\n            case Types.NCLOB:\r\n            case Types.REF_CURSOR:\r\n                return resultSet.getByte(mapping.getColumnIndex());\r\n            default:\r\n                return resultSet.getString(mapping.getColumnIndex());\r\n        }\r\n\r\nResultSetSchemaGenerator class:\r\n\r\n    public class ResultSetSchemaGenerator {\r\n        \t/**\r\n        \t * Generates parquet schema using {@link ResultSetMetaData }\r\n        \t *\r\n        \t * @param resultSet\r\n        \t * @param name\r\n        \t *            Record name.\r\n        \t * @param nameSpace\r\n        \t * @return\r\n        \t * @throws SQLException\r\n        \t */\r\n        \tpublic SchemaResults generateSchema(ResultSet resultSet, String name, String nameSpace) throws SQLException {\r\n        \r\n        \t\tSchemaResults schemaResults = new SchemaResults();\r\n        \t\tList&lt;SchemaSqlMapping&gt; mappings = new ArrayList&lt;&gt;();\r\n        \r\n        \t\tSchema recordSchema = Schema.createRecord(name, null, nameSpace, false);\r\n        \r\n        \t\tList&lt;Schema.Field&gt; fields = new ArrayList&lt;&gt;();\r\n        \r\n        \t\tif (resultSet != null) {\r\n        \r\n        \t\t\tResultSetMetaData resultSetMetaData = resultSet.getMetaData();\r\n        \t\t\tint columnCount = resultSetMetaData.getColumnCount();\r\n        \r\n        \t\t\tfor (int x = 1; x &lt;= columnCount; x++) {\r\n        \r\n        \t\t\t\tString columnName = resultSetMetaData.getColumnName(x).replaceAll(&quot;[^a-zA-Z0-9_]&quot;, &quot;&quot;);\r\n        \t\t\t\tint sqlColumnType = resultSetMetaData.getColumnType(x);\r\n        \t\t\t\tString schemaName = columnName.toLowerCase();\r\n        \t\t\t\tSchema.Type schemaType = parseSchemaType(sqlColumnType);\r\n        \t\t\t\tmappings.add(new SchemaSqlMapping(schemaName, columnName, sqlColumnType, x, schemaType));\r\n        \t\t\t\tfields.add(createNullableField(schemaName, schemaType));\r\n        \t\t\t\t\r\n        \t\t\t}\r\n        \r\n        \t\t}\r\n        \r\n        \t\trecordSchema.setFields(fields);\r\n        \r\n        \t\tschemaResults.setMappings(mappings);\r\n        \t\tschemaResults.setParsedSchema(recordSchema);\r\n        \r\n        \t\treturn schemaResults;\r\n        \t}\r\n        \r\n        \r\n        \r\n        \tpublic Schema.Type parseSchemaType(int sqlColumnType) {\r\n        \t\t switch (sqlColumnType) {\r\n        \r\n                 case Types.BOOLEAN:\r\n                     return Schema.Type.BOOLEAN;\r\n        \r\n                 case Types.TINYINT:             // 1 byte\r\n                 case Types.SMALLINT:            // 2 bytes\r\n                 case Types.INTEGER:             // 4 bytes\r\n                     return Schema.Type.INT;     // 32 bit (4 bytes) (signed)\r\n        \r\n                 case Types.ROWID:\r\n                 case Types.CHAR:\r\n                 case Types.VARCHAR:\r\n                 case Types.LONGVARCHAR:\r\n                 case Types.NCHAR:\r\n                 case Types.NVARCHAR:\r\n                 case Types.LONGNVARCHAR:\r\n                 case Types.SQLXML:\r\n                     return Schema.Type.STRING;  // unicode string\r\n        \r\n                 case Types.REAL:                // Approximate numerical (mantissa single precision 7)\r\n                     return Schema.Type.FLOAT;   // A 32-bit IEEE single-float\r\n        \r\n                 case Types.DOUBLE:              // Approximate numerical (mantissa precision 16)\r\n                 case Types.DECIMAL:             // Exact numerical (5 - 17 bytes)\r\n                 case Types.NUMERIC:             // Exact numerical (5 - 17 bytes)\r\n                 case Types.FLOAT:               // Approximate numerical (mantissa precision 16)\r\n                     return Schema.Type.DOUBLE;  // A 64-bit IEEE double-float\r\n        \r\n                 case Types.DATE:\r\n                 case Types.TIME:\r\n                 case Types.TIMESTAMP:\r\n                 case Types.TIME_WITH_TIMEZONE:\r\n                 case Types.TIMESTAMP_WITH_TIMEZONE:\r\n                 case Types.BIGINT:              // 8 bytes\r\n                     return Schema.Type.LONG;    // 64 bit (signed)\r\n        \r\n                 case Types.BINARY:\r\n                 case Types.VARBINARY:\r\n                 case Types.LONGVARBINARY:\r\n                 case Types.NULL:\r\n                 case Types.OTHER:\r\n                 case Types.JAVA_OBJECT:\r\n                 case Types.DISTINCT:\r\n                 case Types.STRUCT:\r\n                 case Types.ARRAY:\r\n                 case Types.BLOB:\r\n                 case Types.CLOB:\r\n                 case Types.REF:\r\n                 case Types.DATALINK:\r\n                 case Types.NCLOB:\r\n                 case Types.REF_CURSOR:\r\n                     return Schema.Type.BYTES;   // sequence of bytes\r\n             }\r\n        \r\n        \t\treturn null;\r\n        \t}\r\n        \r\n        \t/**\r\n        \t * Creates field that can be null {@link Schema#createUnion(List)}\r\n        \t *\r\n        \t * @param recordSchema\r\n        \t *            The root record schema\r\n        \t * @param columnName\r\n        \t *            The schema column name\r\n        \t * @param type\r\n        \t *            Schema type for this field\r\n        \t * @return\r\n        \t */\r\n        \tpublic Schema.Field createNullableField(String columnName, Schema.Type type) {\r\n        \r\n        \t\tSchema intSchema = Schema.create(type);\r\n        \t\tSchema nullSchema = Schema.create(Schema.Type.NULL);\r\n        \r\n        \t\tList&lt;Schema&gt; fieldSchemas = new ArrayList&lt;&gt;();\r\n        \t\tfieldSchemas.add(intSchema);\r\n        \t\tfieldSchemas.add(nullSchema);\r\n        \r\n        \t\tSchema fieldSchema = Schema.createUnion(fieldSchemas);\r\n        \r\n        \t\treturn new Schema.Field(columnName, fieldSchema, null, null);\r\n        \t}\r\n\r\n  ","title":"AvroParquetWriter - addLogicalTypeConversion not working as expected (using version parquet-avro 1.12.3) - causing ClassCastException","body":"<p>I am writing ResultSet to parquet file using AvroParquetWriter. One column in the ResultSet is java.sql.Timestamp. When writing, I get the exception :</p>\n<blockquote>\n<p>java.sql.Timestamp cannot be cast to java.lang.Number</p>\n</blockquote>\n<p>Adding addLogicalTypeConversion does not work. The code is as below. Please provide any suggestions on how to make the LogicalTypeConversion work on the code:</p>\n<pre><code>GenericData timeSupport = GenericData.get();\ntimeSupport.addLogicalTypeConversion(new TimeConversions.DateConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMillisConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.LocalTimestampMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimeMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimeMillisConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMicrosConversion());\ntimeSupport.addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\n\n OutputFile opHadoop = HadoopOutputFile.fromPath(outputPath, new Configuration());\n SchemaResults schemaResults = new ResultSetSchemaGenerator().generateSchema(resultSet, schemaName, namespace);\n\n ParquetWriter&lt;GenericRecord&gt; parquetWriter = AvroParquetWriter.&lt;GenericRecord&gt; builder(opHadoop)\n                .withSchema(schemaResults.getParsedSchema())\n                .withDataModel(timeSupport)\n                .withCompressionCodec(CompressionCodecName.SNAPPY)\n                .build();\nList&lt;GenericRecord&gt; records = new ArrayList&lt;&gt;();\nwhile (resultSet.next()) {\n    GenericRecordBuilder builder = new GenericRecordBuilder(schemaResults.getParsedSchema())\n    \n    for (SchemaSqlMapping mapping : schemaResults.getMappings()) {\n         builder.set(\n                    schemaResults.getParsedSchema().getField(mapping.getSchemaName()),\n                    extractResult(mapping, resultSet));\n        \n    }\n    \n    GenericRecord record = builder.build();\n    records.add(record);\n}\n\nfor (GenericRecord record : records) {\n    parquetWriter.write(record);\n}\n\nparquetWriter.close();\n\n/**\n     * Extracts the appropriate value from the ResultSet using the given\n     * SchemaSqlMapping.\n     *\n     * @param mapping\n     * @param resultSet\n     * @return\n     * @throws SQLException\n     */\n    public Object extractResult(SchemaSqlMapping mapping, ResultSet resultSet) throws SQLException {\n        switch (mapping.getSqlType()) {\n        case Types.BOOLEAN:\n            return resultSet.getBoolean(mapping.getColumnIndex());\n        case Types.TINYINT:\n        case Types.SMALLINT:\n        case Types.INTEGER:\n        case Types.BIGINT:\n        case Types.ROWID:\n            return resultSet.getInt(mapping.getColumnIndex());\n        case Types.CHAR:\n        case Types.VARCHAR:\n        case Types.LONGVARCHAR:\n        case Types.NCHAR:\n        case Types.NVARCHAR:\n        case Types.LONGNVARCHAR:\n        case Types.SQLXML:\n            return resultSet.getString(mapping.getColumnIndex());\n        case Types.REAL:\n        case Types.FLOAT:\n            return resultSet.getFloat(mapping.getColumnIndex());\n        case Types.DOUBLE:\n            return resultSet.getDouble(mapping.getColumnIndex());\n        case Types.NUMERIC:\n            return resultSet.getBigDecimal(mapping.getColumnIndex());\n        case Types.DECIMAL:\n            return resultSet.getBigDecimal(mapping.getColumnIndex());\n        case Types.DATE:\n            return resultSet.getDate(mapping.getColumnIndex());\n        case Types.TIME:\n        case Types.TIME_WITH_TIMEZONE:\n            return resultSet.getTime(mapping.getColumnIndex());\n        case Types.TIMESTAMP:\n        case Types.TIMESTAMP_WITH_TIMEZONE:\n            return resultSet.getTimestamp(mapping.getColumnIndex());\n        case Types.BINARY:\n        case Types.VARBINARY:\n        case Types.LONGVARBINARY:\n        case Types.NULL:\n        case Types.OTHER:\n        case Types.JAVA_OBJECT:\n        case Types.DISTINCT:\n        case Types.STRUCT:\n        case Types.ARRAY:\n        case Types.BLOB:\n        case Types.CLOB:\n        case Types.REF:\n        case Types.DATALINK:\n        case Types.NCLOB:\n        case Types.REF_CURSOR:\n            return resultSet.getByte(mapping.getColumnIndex());\n        default:\n            return resultSet.getString(mapping.getColumnIndex());\n    }\n</code></pre>\n<p>ResultSetSchemaGenerator class:</p>\n<pre><code>public class ResultSetSchemaGenerator {\n        /**\n         * Generates parquet schema using {@link ResultSetMetaData }\n         *\n         * @param resultSet\n         * @param name\n         *            Record name.\n         * @param nameSpace\n         * @return\n         * @throws SQLException\n         */\n        public SchemaResults generateSchema(ResultSet resultSet, String name, String nameSpace) throws SQLException {\n    \n            SchemaResults schemaResults = new SchemaResults();\n            List&lt;SchemaSqlMapping&gt; mappings = new ArrayList&lt;&gt;();\n    \n            Schema recordSchema = Schema.createRecord(name, null, nameSpace, false);\n    \n            List&lt;Schema.Field&gt; fields = new ArrayList&lt;&gt;();\n    \n            if (resultSet != null) {\n    \n                ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\n                int columnCount = resultSetMetaData.getColumnCount();\n    \n                for (int x = 1; x &lt;= columnCount; x++) {\n    \n                    String columnName = resultSetMetaData.getColumnName(x).replaceAll(&quot;[^a-zA-Z0-9_]&quot;, &quot;&quot;);\n                    int sqlColumnType = resultSetMetaData.getColumnType(x);\n                    String schemaName = columnName.toLowerCase();\n                    Schema.Type schemaType = parseSchemaType(sqlColumnType);\n                    mappings.add(new SchemaSqlMapping(schemaName, columnName, sqlColumnType, x, schemaType));\n                    fields.add(createNullableField(schemaName, schemaType));\n                    \n                }\n    \n            }\n    \n            recordSchema.setFields(fields);\n    \n            schemaResults.setMappings(mappings);\n            schemaResults.setParsedSchema(recordSchema);\n    \n            return schemaResults;\n        }\n    \n    \n    \n        public Schema.Type parseSchemaType(int sqlColumnType) {\n             switch (sqlColumnType) {\n    \n             case Types.BOOLEAN:\n                 return Schema.Type.BOOLEAN;\n    \n             case Types.TINYINT:             // 1 byte\n             case Types.SMALLINT:            // 2 bytes\n             case Types.INTEGER:             // 4 bytes\n                 return Schema.Type.INT;     // 32 bit (4 bytes) (signed)\n    \n             case Types.ROWID:\n             case Types.CHAR:\n             case Types.VARCHAR:\n             case Types.LONGVARCHAR:\n             case Types.NCHAR:\n             case Types.NVARCHAR:\n             case Types.LONGNVARCHAR:\n             case Types.SQLXML:\n                 return Schema.Type.STRING;  // unicode string\n    \n             case Types.REAL:                // Approximate numerical (mantissa single precision 7)\n                 return Schema.Type.FLOAT;   // A 32-bit IEEE single-float\n    \n             case Types.DOUBLE:              // Approximate numerical (mantissa precision 16)\n             case Types.DECIMAL:             // Exact numerical (5 - 17 bytes)\n             case Types.NUMERIC:             // Exact numerical (5 - 17 bytes)\n             case Types.FLOAT:               // Approximate numerical (mantissa precision 16)\n                 return Schema.Type.DOUBLE;  // A 64-bit IEEE double-float\n    \n             case Types.DATE:\n             case Types.TIME:\n             case Types.TIMESTAMP:\n             case Types.TIME_WITH_TIMEZONE:\n             case Types.TIMESTAMP_WITH_TIMEZONE:\n             case Types.BIGINT:              // 8 bytes\n                 return Schema.Type.LONG;    // 64 bit (signed)\n    \n             case Types.BINARY:\n             case Types.VARBINARY:\n             case Types.LONGVARBINARY:\n             case Types.NULL:\n             case Types.OTHER:\n             case Types.JAVA_OBJECT:\n             case Types.DISTINCT:\n             case Types.STRUCT:\n             case Types.ARRAY:\n             case Types.BLOB:\n             case Types.CLOB:\n             case Types.REF:\n             case Types.DATALINK:\n             case Types.NCLOB:\n             case Types.REF_CURSOR:\n                 return Schema.Type.BYTES;   // sequence of bytes\n         }\n    \n            return null;\n        }\n    \n        /**\n         * Creates field that can be null {@link Schema#createUnion(List)}\n         *\n         * @param recordSchema\n         *            The root record schema\n         * @param columnName\n         *            The schema column name\n         * @param type\n         *            Schema type for this field\n         * @return\n         */\n        public Schema.Field createNullableField(String columnName, Schema.Type type) {\n    \n            Schema intSchema = Schema.create(type);\n            Schema nullSchema = Schema.create(Schema.Type.NULL);\n    \n            List&lt;Schema&gt; fieldSchemas = new ArrayList&lt;&gt;();\n            fieldSchemas.add(intSchema);\n            fieldSchemas.add(nullSchema);\n    \n            Schema fieldSchema = Schema.createUnion(fieldSchemas);\n    \n            return new Schema.Field(columnName, fieldSchema, null, null);\n        }\n</code></pre>\n"},{"tags":["java","jar","graphhopper"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667552926,"post_id":74313142,"comment_id":131197859,"body_markdown":"The option `-jar` takes *one* file as its target,so *.jar is invalid","body":"The option <code>-jar</code> takes <i>one</i> file as its target,so *.jar is invalid"},{"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"score":0,"creation_date":1667558329,"post_id":74313142,"comment_id":131199733,"body_markdown":"Thanx g00se. Given the information I provided, what is in your opinion the proper command syntax in order to perform the intended function? It&#39;s quite puzzling since I believe that the original programmer that put together the entire procedure knows JAVA","body":"Thanx g00se. Given the information I provided, what is in your opinion the proper command syntax in order to perform the intended function? It&#39;s quite puzzling since I believe that the original programmer that put together the entire procedure knows JAVA"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667558567,"post_id":74313142,"comment_id":131199824,"body_markdown":"`java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar graphhopper-web-6.0.jar server config-example.yml`","body":"<code>java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar graphhopper-web-6.0.jar server config-example.yml</code>"}],"answers":[{"tags":[],"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667582602,"creation_date":1667582602,"answer_id":74320841,"question_id":74313142,"body_markdown":"Well, with the kind and fast help of &#39;g00se&#39;, the answer is:\r\nThe wildcard *.jar cannot be used with &#39;-jar&#39;. a single definite file name is required.\r\n\r\nIn the specific context of my question instead of: &quot;-jar *.jar&quot; the syntax should be: &quot;-jar graphhopper-web-6.0.jar&quot;.\r\n\r\nThe Server is actually started now :)\r\n\r\nHope the GraphHopper people will correct their instructions on github for the sack of java-nonliterate people like myself :):)","title":"&quot;Error: Unable to access jarfile *.jar&quot; - what&#39;s the remedy?","body":"<p>Well, with the kind and fast help of 'g00se', the answer is:\nThe wildcard *.jar cannot be used with '-jar'. a single definite file name is required.</p>\n<p>In the specific context of my question instead of: &quot;-jar *.jar&quot; the syntax should be: &quot;-jar graphhopper-web-6.0.jar&quot;.</p>\n<p>The Server is actually started now :)</p>\n<p>Hope the GraphHopper people will correct their instructions on github for the sack of java-nonliterate people like myself :):)</p>\n"}],"owner":{"account_id":19584613,"reputation":1,"user_id":14543336,"display_name":"AlonTAU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668315134,"accepted_answer_id":74320841,"answer_count":1,"score":-2,"last_activity_date":1667582602,"creation_date":1667544439,"question_id":74313142,"body_markdown":"the error was in response to command:\r\nC:\\Users\\User1&gt;java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar *.jar server config-example.yml\r\n\r\nthe previous command: \r\nwget https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf\r\n\r\nseemed to be correctly executed.\r\n\r\nI have windows 10 machine with &#39;Eclipse Adoptium jdk-17.0.5.8-hotspot&#39; installed.\r\n\r\nIt seems to me as an environment problem but I&#39;m not a programmer, so it&#39;s a wild guess :)\r\n\r\nActually I&#39;m following the instructions given in github in relation to GraphHopper:\r\nhttps://github.com/graphhopper/graphhopper#get-started\r\n[text](https://github.com/graphhopper/graphhopper#get-started)\r\n\r\nI was hoping to see a log message with &#39;Server - Started&#39; :(\r\n\r\nI&#39;m not sure what exactly jave trying to access. google doesn&#39;t bring anything useful mentioning &#39;*.jar&#39;","title":"&quot;Error: Unable to access jarfile *.jar&quot; - what&#39;s the remedy?","body":"<p>the error was in response to command:\nC:\\Users\\User1&gt;java -Ddw.graphhopper.datareader.file=berlin-latest.osm.pbf -jar *.jar server config-example.yml</p>\n<p>the previous command:\nwget <a href=\"https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar\" rel=\"nofollow noreferrer\">https://github.com/graphhopper/graphhopper/releases/download/6.0/graphhopper-web-6.0.jar</a> <a href=\"https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/graphhopper/graphhopper/6.x/config-example.yml</a> <a href=\"http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf\" rel=\"nofollow noreferrer\">http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf</a></p>\n<p>seemed to be correctly executed.</p>\n<p>I have windows 10 machine with 'Eclipse Adoptium jdk-17.0.5.8-hotspot' installed.</p>\n<p>It seems to me as an environment problem but I'm not a programmer, so it's a wild guess :)</p>\n<p>Actually I'm following the instructions given in github in relation to GraphHopper:\n<a href=\"https://github.com/graphhopper/graphhopper#get-started\" rel=\"nofollow noreferrer\">https://github.com/graphhopper/graphhopper#get-started</a>\n<a href=\"https://github.com/graphhopper/graphhopper#get-started\" rel=\"nofollow noreferrer\">text</a></p>\n<p>I was hoping to see a log message with 'Server - Started' :(</p>\n<p>I'm not sure what exactly jave trying to access. google doesn't bring anything useful mentioning '*.jar'</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1592826172,"post_id":62505305,"comment_id":110554122,"body_markdown":"How did you do that for the reader? Can you share your code? If you managed to do it for the reader, you should be able to do it for the writer as well using the same approach.","body":"How did you do that for the reader? Can you share your code? If you managed to do it for the reader, you should be able to do it for the writer as well using the same approach."}],"answers":[{"tags":[],"owner":{"account_id":3215306,"reputation":792,"user_id":2714202,"display_name":"Vignesh T I"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592829986,"creation_date":1592829986,"answer_id":62514786,"question_id":62505305,"body_markdown":"One of the ways to access the Job Parameters is to implement StepExecutionListener to your processor/writer Class to make use of its Overridden methods beforeStep and afterStep,\r\n\r\n    public class TestWriter implements ItemWriter&lt;TestData&gt;,StepExecutionListener {\r\n\r\n\t\tprivate String filePath;\r\n\r\n\t\t@Override\r\n\t\tpublic void beforeStep(StepExecution stepExecution) {\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tfilePath = (String) stepExecution.getJobExecution().getExecutionContext()\r\n                .get(&quot;filePath&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;Exception while performing read {}&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void write(List&lt;? extends TestData&gt; items) throws Exception {\r\n\t\t\t// filePath value read from the job execution can be used inside read use case impl\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic ExitStatus afterStep(StepExecution stepExecution) {\r\n\t\t\treturn ExitStatus.COMPLETED;\r\n\t\t}\r\n\t}\r\n\r\nTo Add a value to the jobExecutionContext, you can use like below,\r\n\r\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;path&quot;, filePath);","title":"Spring batch reading job parameter in writer","body":"<p>One of the ways to access the Job Parameters is to implement StepExecutionListener to your processor/writer Class to make use of its Overridden methods beforeStep and afterStep,</p>\n<pre><code>public class TestWriter implements ItemWriter&lt;TestData&gt;,StepExecutionListener {\n\n    private String filePath;\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n\n        try {\n            filePath = (String) stepExecution.getJobExecution().getExecutionContext()\n            .get(&quot;filePath&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;Exception while performing read {}&quot;, e);\n        }\n    }\n\n\n    @Override\n    public void write(List&lt;? extends TestData&gt; items) throws Exception {\n        // filePath value read from the job execution can be used inside read use case impl\n\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        return ExitStatus.COMPLETED;\n    }\n}\n</code></pre>\n<p>To Add a value to the jobExecutionContext, you can use like below,</p>\n<pre><code>stepExecution.getJobExecution().getExecutionContext().put(&quot;path&quot;, filePath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8388402,"reputation":57,"user_id":6297976,"display_name":"Nilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667582516,"creation_date":1667570976,"answer_id":74318362,"question_id":62505305,"body_markdown":"\t@StepScope\r\n\t@Bean\r\n\tpublic ItemWriter&lt;EmployeeCSVItem&gt;  writer(@Value(&quot;#{jobParameters[&#39;file.path&#39;]}&quot;) String filepath) {\r\n      return new CsvItemWriter().buildWriter(filepath);\r\n\t}","title":"Spring batch reading job parameter in writer","body":"<pre><code>@StepScope\n@Bean\npublic ItemWriter&lt;EmployeeCSVItem&gt;  writer(@Value(&quot;#{jobParameters['file.path']}&quot;) String filepath) {\n  return new CsvItemWriter().buildWriter(filepath);\n}\n</code></pre>\n"}],"owner":{"account_id":29462,"reputation":9481,"user_id":79631,"accept_rate":34,"display_name":"web dunia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667582516,"creation_date":1592780113,"question_id":62505305,"body_markdown":"I am currently passing the file name in spring batch job parameter in command line and running my job, the spring batch job will look for file and read, process and write the file. I am currently the job parameter file name in reader and reading the file name, how can I use the same job parameter file name in processor and writer. ","title":"Spring batch reading job parameter in writer","body":"<p>I am currently passing the file name in spring batch job parameter in command line and running my job, the spring batch job will look for file and read, process and write the file. I am currently the job parameter file name in reader and reading the file name, how can I use the same job parameter file name in processor and writer.</p>\n"},{"tags":["java","command-line-interface","apache-commons","apache-commons-cli"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":2,"creation_date":1515673181,"post_id":48205610,"comment_id":83394707,"body_markdown":"You could try adding an OptionGroup which represents a set of exclusive options (only one option from the group is allowed to be present) and put all your required options in that group (including `-help`).","body":"You could try adding an OptionGroup which represents a set of exclusive options (only one option from the group is allowed to be present) and put all your required options in that group (including <code>-help</code>)."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516533264,"creation_date":1516261256,"answer_id":48316054,"question_id":48205610,"body_markdown":"It seems commons-cli does not support that currently, so I would create a 2nd Options object where the param is not required and parse/check that first, before doing the full parse, something like this:\r\n\r\n    public static void main(String[] args) {\r\n        // define the options with required arguments as needed\r\n        Options opts = new Options()\r\n                .addOption(Option.builder(&quot;p&quot;)\r\n                        .required()\r\n                        .hasArg(true)\r\n                        .argName(&quot;arg&quot;)\r\n                        .desc(&quot;description  &quot;)\r\n                        .longOpt(&quot;param&quot;)\r\n                        .build())\r\n                .addOption(Option.builder(&quot;h&quot;)\r\n                        .hasArg(false)\r\n                        .longOpt(&quot;help&quot;)\r\n                        .desc(&quot;help description&quot;)\r\n                        .build());\r\n\r\n        // first check if usage-output was requested\r\n        if (handleHelp(args, opts)) {\r\n            return;\r\n        }\r\n\r\n        // now handle the full options\r\n        CommandLineParser parser = new DefaultParser();\r\n        final CommandLine cmdLine;\r\n        try {\r\n            cmdLine = parser.parse(opts, args);\r\n        } catch (ParseException ex) {\r\n            System.out.println(&quot;Syntax error: &quot; + ex.getMessage());\r\n\r\n            printHelp(opts);\r\n\r\n            return;\r\n        }\r\n\r\n        // now handle options and do your work\r\n    }\r\n\r\n    private boolean handleHelp(String[] args, Options opts) {\r\n        Options helpOpts = new Options()\r\n                .addOption(Option.builder(&quot;p&quot;)\r\n                        //.required()\r\n                        .hasArg(true)\r\n                        .argName(&quot;arg&quot;)\r\n                        .desc(&quot;description  &quot;)\r\n                        .longOpt(&quot;param&quot;)\r\n                        .build())\r\n                .addOption(Option.builder(&quot;h&quot;)\r\n                        .hasArg(false)\r\n                        .longOpt(&quot;help&quot;)\r\n                        .desc(&quot;help description&quot;)\r\n                        .build());\r\n\r\n        CommandLineParser helpParser = new DefaultParser();\r\n        final CommandLine cmdLine;\r\n        try {\r\n            cmdLine = helpParser.parse(helpOpts, args);\r\n        } catch (ParseException ex) {\r\n            System.out.println(&quot;Syntax error: &quot; + ex.getMessage());\r\n\r\n            printHelp(opts);\r\n\r\n            return true;\r\n        }\r\n\r\n        if(cmdLine.hasOption(&quot;h&quot;)) {\r\n            printHelp(opts);\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private void printHelp(Options opts) {\r\n        try (PrintWriter pw = new PrintWriter(System.out)) {\r\n            HelpFormatter formatter = new HelpFormatter();\r\n\r\n            formatter.printHelp(pw, 80, &quot;myapp&quot;, &quot;test-header&quot;, opts,\r\n                    formatter.getLeftPadding(), formatter.getDescPadding(), &quot;test-footer&quot;, true);\r\n        }\r\n    }","title":"Overriding required() parameters while using help parameter","body":"<p>It seems commons-cli does not support that currently, so I would create a 2nd Options object where the param is not required and parse/check that first, before doing the full parse, something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    // define the options with required arguments as needed\n    Options opts = new Options()\n            .addOption(Option.builder(\"p\")\n                    .required()\n                    .hasArg(true)\n                    .argName(\"arg\")\n                    .desc(\"description  \")\n                    .longOpt(\"param\")\n                    .build())\n            .addOption(Option.builder(\"h\")\n                    .hasArg(false)\n                    .longOpt(\"help\")\n                    .desc(\"help description\")\n                    .build());\n\n    // first check if usage-output was requested\n    if (handleHelp(args, opts)) {\n        return;\n    }\n\n    // now handle the full options\n    CommandLineParser parser = new DefaultParser();\n    final CommandLine cmdLine;\n    try {\n        cmdLine = parser.parse(opts, args);\n    } catch (ParseException ex) {\n        System.out.println(\"Syntax error: \" + ex.getMessage());\n\n        printHelp(opts);\n\n        return;\n    }\n\n    // now handle options and do your work\n}\n\nprivate boolean handleHelp(String[] args, Options opts) {\n    Options helpOpts = new Options()\n            .addOption(Option.builder(\"p\")\n                    //.required()\n                    .hasArg(true)\n                    .argName(\"arg\")\n                    .desc(\"description  \")\n                    .longOpt(\"param\")\n                    .build())\n            .addOption(Option.builder(\"h\")\n                    .hasArg(false)\n                    .longOpt(\"help\")\n                    .desc(\"help description\")\n                    .build());\n\n    CommandLineParser helpParser = new DefaultParser();\n    final CommandLine cmdLine;\n    try {\n        cmdLine = helpParser.parse(helpOpts, args);\n    } catch (ParseException ex) {\n        System.out.println(\"Syntax error: \" + ex.getMessage());\n\n        printHelp(opts);\n\n        return true;\n    }\n\n    if(cmdLine.hasOption(\"h\")) {\n        printHelp(opts);\n\n        return true;\n    }\n\n    return false;\n}\n\nprivate void printHelp(Options opts) {\n    try (PrintWriter pw = new PrintWriter(System.out)) {\n        HelpFormatter formatter = new HelpFormatter();\n\n        formatter.printHelp(pw, 80, \"myapp\", \"test-header\", opts,\n                formatter.getLeftPadding(), formatter.getDescPadding(), \"test-footer\", true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586390988,"creation_date":1586390988,"answer_id":61111968,"question_id":48205610,"body_markdown":"There is a fluent wrapper for the commons-cli library: https://github.com/bogdanovmn/java-cmdline-app\r\n\r\nThe -h option is already built-in. You don&#39;t need to manage it in your own code.\r\n","title":"Overriding required() parameters while using help parameter","body":"<p>There is a fluent wrapper for the commons-cli library: <a href=\"https://github.com/bogdanovmn/java-cmdline-app\" rel=\"nofollow noreferrer\">https://github.com/bogdanovmn/java-cmdline-app</a></p>\n\n<p>The -h option is already built-in. You don't need to manage it in your own code.</p>\n"},{"tags":[],"owner":{"account_id":9087891,"reputation":43,"user_id":6765102,"display_name":"Michele Vascellari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572772,"creation_date":1667572772,"answer_id":74318752,"question_id":48205610,"body_markdown":"A better solution can be the following:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    // define the options with required arguments as needed\r\n    Options opts = new Options()\r\n            .addOption(Option.builder(&quot;p&quot;)\r\n                    .required()\r\n                    .hasArg(true)\r\n                    .argName(&quot;arg&quot;)\r\n                    .desc(&quot;description  &quot;)\r\n                    .longOpt(&quot;param&quot;)\r\n                    .build())\r\n            .addOption(Option.builder(&quot;h&quot;)\r\n                    .hasArg(false)\r\n                    .longOpt(&quot;help&quot;)\r\n                    .desc(&quot;help description&quot;)\r\n                    .build());\r\n\r\n    // first check if usage-output was requested\r\n    if (Arrays.asList(args).contains(&quot;--help&quot;)) {\r\n        HelpFormatter help = new HelpFormatter();\r\n        help.printHelp(&quot;betgenius-stream&quot;, opts);\r\n        System.exit(0);\r\n    }\r\n    CommandLineParser parser = new DefaultParser();\r\n    CommandLine cli = parser.parse(options, args);\r\n    // now handle options and do your work\r\n}\r\n```\r\n\r\nIn this way it is not necessary to rewrite the options.","title":"Overriding required() parameters while using help parameter","body":"<p>A better solution can be the following:</p>\n<pre><code>public static void main(String[] args) {\n    // define the options with required arguments as needed\n    Options opts = new Options()\n            .addOption(Option.builder(&quot;p&quot;)\n                    .required()\n                    .hasArg(true)\n                    .argName(&quot;arg&quot;)\n                    .desc(&quot;description  &quot;)\n                    .longOpt(&quot;param&quot;)\n                    .build())\n            .addOption(Option.builder(&quot;h&quot;)\n                    .hasArg(false)\n                    .longOpt(&quot;help&quot;)\n                    .desc(&quot;help description&quot;)\n                    .build());\n\n    // first check if usage-output was requested\n    if (Arrays.asList(args).contains(&quot;--help&quot;)) {\n        HelpFormatter help = new HelpFormatter();\n        help.printHelp(&quot;betgenius-stream&quot;, opts);\n        System.exit(0);\n    }\n    CommandLineParser parser = new DefaultParser();\n    CommandLine cli = parser.parse(options, args);\n    // now handle options and do your work\n}\n</code></pre>\n<p>In this way it is not necessary to rewrite the options.</p>\n"}],"owner":{"account_id":8851961,"reputation":91,"user_id":6637207,"accept_rate":25,"display_name":"mordowiciel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667582382,"creation_date":1515668822,"question_id":48205610,"body_markdown":"I&#39;m adding options for the Parser in following way:\r\n\r\n    options = new Options()\r\n                    .addOption(Option.builder(CONFIG_PARAM)\r\n                            .required()\r\n                            .hasArg(true)\r\n                            .argName(CONFIG_PARAM_NAME + &quot;_path&quot;)\r\n                            .desc(CONFIG_PARAM_DESC)\r\n                            .longOpt(CONFIG_PARAM_NAME)\r\n                            .build())\r\n                    (...)\r\n                    .addOption(Option.builder(HELP_PARAM)\r\n                            .hasArg(false)\r\n                            .longOpt(HELP_PARAM_NAME)\r\n                            .desc(HELP_PARAM_DESC)\r\n                            .build());\r\n\r\nNow, I would like to allow the user to use only the help command, for ex.\r\n\r\n    mypreciousapp --help\r\n\r\nWith the above solution, it is impossible - I&#39;m receiving the information about missing required parameters\r\n\r\n    Missing required options: c\r\n\r\nIs there any way to flag the help parameter so it can override the required parameters, and allow its usage alone? I can do this manually, but first I would like to know if there&#39;s such option in CLI lib.","title":"Overriding required() parameters while using help parameter","body":"<p>I'm adding options for the Parser in following way:</p>\n<pre><code>options = new Options()\n                .addOption(Option.builder(CONFIG_PARAM)\n                        .required()\n                        .hasArg(true)\n                        .argName(CONFIG_PARAM_NAME + &quot;_path&quot;)\n                        .desc(CONFIG_PARAM_DESC)\n                        .longOpt(CONFIG_PARAM_NAME)\n                        .build())\n                (...)\n                .addOption(Option.builder(HELP_PARAM)\n                        .hasArg(false)\n                        .longOpt(HELP_PARAM_NAME)\n                        .desc(HELP_PARAM_DESC)\n                        .build());\n</code></pre>\n<p>Now, I would like to allow the user to use only the help command, for ex.</p>\n<pre><code>mypreciousapp --help\n</code></pre>\n<p>With the above solution, it is impossible - I'm receiving the information about missing required parameters</p>\n<pre><code>Missing required options: c\n</code></pre>\n<p>Is there any way to flag the help parameter so it can override the required parameters, and allow its usage alone? I can do this manually, but first I would like to know if there's such option in CLI lib.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667508716,"post_id":74308842,"comment_id":131189753,"body_markdown":"I&#39;m not sure I understand the question. Which part of the code you shared isn&#39;t working the way you expect it to?","body":"I&#39;m not sure I understand the question. Which part of the code you shared isn&#39;t working the way you expect it to?"},{"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"score":0,"creation_date":1667510011,"post_id":74308842,"comment_id":131190116,"body_markdown":"THe code i shared is working fine , it checks if the value is present in the DB.. but i also want the data from the same node in which the value is found..as i wrote at last","body":"THe code i shared is working fine , it checks if the value is present in the DB.. but i also want the data from the same node in which the value is found..as i wrote at last"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667519218,"post_id":74308842,"comment_id":131191999,"body_markdown":"Are you asking how to get the value from the data snapshot? If so: `dataSnapshot.val()` should do the trick, but also have a look at https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events since you&#39;re using a query and that means it returns a list of data (even if there&#39;s only one result).","body":"Are you asking how to get the value from the data snapshot? If so: <code>dataSnapshot.val()</code> should do the trick, but also have a look at <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a> since you&#39;re using a query and that means it returns a list of data (even if there&#39;s only one result)."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667582314,"creation_date":1667544943,"answer_id":74313223,"question_id":74308842,"body_markdown":"&gt; If my user inputs username &quot;Admin&quot; which is available in my DB, I want to get the pass that is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app.\r\n\r\nTo be able to solve this problem, first, you have to perform a query that gets all the users where the value of the `username` field matches what the user types in the `userinputname` EditText. If the query returns at least a record, then you have to check the value of the `pass` field against the value `userinputpass` EditText. If there is a match, you can go ahead with the authentication, otherwise display a message, or do whatever you want.\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference usersRef = db.child(&quot;users&quot;);\r\n\tQuery queryByUserName = usersRef.orderByChild(&quot;username&quot;).equalTo(userinputname);\r\n    queryByUserName.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot userSnapshot : task.getResult().getChildren()) {\r\n\t\t\t\t\tString pass = userSnapshot.child(&quot;pass&quot;).getValue(String.class);\r\n\t\t\t\t\tif(pass.equals(userinputpass)) {\r\n\t\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;Username and password are correct.&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.d(&quot;TAG&quot;, &quot;The password is incorrect&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nIn the solution above, I have used [Query#get()][1] and not [Query()#addListenerForSingleValueEvent()][2]. Why? Is because of [this][3].\r\n\r\nWhile the above solution will work, please note that you should **never** store the user credentials in the way you do. Never! Storing passwords in cleartext is one of the worst security risks you can inflict on your users. So for avoiding that, I highly recommend you implement [Firebase Authentication][4].\r\n\r\nSince you&#39;re using Java, I recommend you read the following article:\r\n\r\n* [How to create a clean Firebase authentication using MVVM?][5]\r\n\r\nIf you consider at some point in time learning Kotlin, which I personally recommend, then please also check the following resources:\r\n\r\n* [How to handle Firebase Authentication in clean architecture using Jetpack Compose?][6]\r\n\r\nAnd:\r\n\r\n* [How to authenticate to Firebase using Google One Tap in Jetpack Compose?][7]\r\n\r\n**Edit:**\r\n\r\nThe above query requires an index. So in order to make it work, please add the following rules inside your Firebase console:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;.indexOn&quot;: &quot;username&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#get()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\r\n  [3]: https://stackoverflow.com/questions/65653735/firebase-query-get-vs-addlistenerforsinglevalueevent-for-single-data-read\r\n  [4]: https://firebase.google.com/docs/auth\r\n  [5]: https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\r\n  [6]: https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\r\n  [7]: https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d","title":"How to get the value from a node if we have a data from that node","body":"<blockquote>\n<p>If my user inputs username &quot;Admin&quot; which is available in my DB, I want to get the pass that is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app.</p>\n</blockquote>\n<p>To be able to solve this problem, first, you have to perform a query that gets all the users where the value of the <code>username</code> field matches what the user types in the <code>userinputname</code> EditText. If the query returns at least a record, then you have to check the value of the <code>pass</code> field against the value <code>userinputpass</code> EditText. If there is a match, you can go ahead with the authentication, otherwise display a message, or do whatever you want.</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference usersRef = db.child(&quot;users&quot;);\nQuery queryByUserName = usersRef.orderByChild(&quot;username&quot;).equalTo(userinputname);\nqueryByUserName.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot userSnapshot : task.getResult().getChildren()) {\n                String pass = userSnapshot.child(&quot;pass&quot;).getValue(String.class);\n                if(pass.equals(userinputpass)) {\n                    Log.d(&quot;TAG&quot;, &quot;Username and password are correct.&quot;);\n                } else {\n                    Log.d(&quot;TAG&quot;, &quot;The password is incorrect&quot;);\n                }\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>In the solution above, I have used <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#get()\" rel=\"nofollow noreferrer\">Query#get()</a> and not <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query()#addListenerForSingleValueEvent()</a>. Why? Is because of <a href=\"https://stackoverflow.com/questions/65653735/firebase-query-get-vs-addlistenerforsinglevalueevent-for-single-data-read\">this</a>.</p>\n<p>While the above solution will work, please note that you should <strong>never</strong> store the user credentials in the way you do. Never! Storing passwords in cleartext is one of the worst security risks you can inflict on your users. So for avoiding that, I highly recommend you implement <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>.</p>\n<p>Since you're using Java, I recommend you read the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">How to create a clean Firebase authentication using MVVM?</a></li>\n</ul>\n<p>If you consider at some point in time learning Kotlin, which I personally recommend, then please also check the following resources:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">How to handle Firebase Authentication in clean architecture using Jetpack Compose?</a></li>\n</ul>\n<p>And:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">How to authenticate to Firebase using Google One Tap in Jetpack Compose?</a></li>\n</ul>\n<p><strong>Edit:</strong></p>\n<p>The above query requires an index. So in order to make it work, please add the following rules inside your Firebase console:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;users&quot;: {\n      &quot;.indexOn&quot;: &quot;username&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74313223,"answer_count":1,"score":0,"last_activity_date":1667582314,"creation_date":1667505136,"question_id":74308842,"body_markdown":"what I want to do \r\n- I have a firebase node as shown here: ![here][1]\r\n- my user will input a string(name), after that I will check if the (name)or(userinput) is available in the firebase by this code\r\n\r\n```\r\nDatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);            \r\nref.orderByChild(&quot;username&quot;).equalTo(userinputname).addListenerForSingleValueEvent(new ValueEventListener(){\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot){\r\n        if(dataSnapshot.exists()) {\r\n            //username exist\r\n            Toast.makeText(LoginActivity.this, &quot;exists&quot;, Toast.LENGTH_SHORT).show();\r\n   }     \r\n}\r\n```\r\n\r\nIf it is available then I want to get other data from that specific node in which the (name) is present..\r\n\r\nsimplified -\r\nmy user will input a username and pass, I have multiple username and pass in my DB so i want to first check if the username exists in DB if yes then i want the Pass which is in the DB to match it with the Password which is entered by the user to login \r\n\r\n\r\n\r\neg - if my user inputs username &quot;Admin&quot; which is avaiable in my DB, so I want to get the pass which is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sxl0x.png\r\n","title":"How to get the value from a node if we have a data from that node","body":"<p>what I want to do</p>\n<ul>\n<li>I have a firebase node as shown here: <img src=\"https://i.stack.imgur.com/Sxl0x.png\" alt=\"here\" /></li>\n<li>my user will input a string(name), after that I will check if the (name)or(userinput) is available in the firebase by this code</li>\n</ul>\n<pre><code>DatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);            \nref.orderByChild(&quot;username&quot;).equalTo(userinputname).addListenerForSingleValueEvent(new ValueEventListener(){\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot){\n        if(dataSnapshot.exists()) {\n            //username exist\n            Toast.makeText(LoginActivity.this, &quot;exists&quot;, Toast.LENGTH_SHORT).show();\n   }     \n}\n</code></pre>\n<p>If it is available then I want to get other data from that specific node in which the (name) is present..</p>\n<p>simplified -\nmy user will input a username and pass, I have multiple username and pass in my DB so i want to first check if the username exists in DB if yes then i want the Pass which is in the DB to match it with the Password which is entered by the user to login</p>\n<p>eg - if my user inputs username &quot;Admin&quot; which is avaiable in my DB, so I want to get the pass which is in that node which is &quot;Admin123&quot; and later I will check if the pass from DB matches the pass which is entered by the user to log him in the app</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667490343,"post_id":74305596,"comment_id":131183799,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667543356,"creation_date":1667543356,"answer_id":74312974,"question_id":74305596,"body_markdown":"Use setMinDate() and setMaxDate() on the DatePicker. You can access it from your DatePickerDialog with getDatePicker().\r\n\r\n\r\n\r\nhttp://developer.android.com/reference/android/widget/DatePicker.html","title":"how to disable dates after one year from today in android studio","body":"<p>Use setMinDate() and setMaxDate() on the DatePicker. You can access it from your DatePickerDialog with getDatePicker().</p>\n<p><a href=\"http://developer.android.com/reference/android/widget/DatePicker.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/widget/DatePicker.html</a></p>\n"}],"owner":{"account_id":4389364,"reputation":1,"user_id":3578324,"display_name":"baban"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667582184,"creation_date":1667489320,"question_id":74305596,"body_markdown":"&gt; im working with material date range picker in android studio\r\n&gt; \r\n&gt; i want the way to disable future date after (360 - 7) days from today--for example\r\n&gt; \r\n&gt; today is 3/11/2022 i want to disable future date start from 28/10/2023\r\n&gt; \r\n&gt; how can i do that???\r\n\r\n\r\n````````````````````````````````````````````\r\nMaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; materialDatePicker=MaterialDatePicker.Builder.dateRangePicker();\r\n        MaterialDatePicker builder=materialDatePicker.build();\r\n\r\n        CalendarConstraints.Builder calendarConstraints=new CalendarConstraints.Builder();\r\n        RangeDateBuilder rangeDateBuilder=new RangeDateBuilder(353);\r\n        \r\n        materialDatePicker.setCalendarConstraints(calendarConstraints.build());\r\n        calendarConstraints.setValidator(rangeDateBuilder);\r\n        rangeDateBuilder.setDatePicker(builder);\r\n        btnFrom.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                builder.show(getSupportFragmentManager(),&quot;Date_Picker&quot;);\r\n            }\r\n        });\r\n\r\n    @SuppressLint(&quot;ParcelCreator&quot;)\r\n    public class RangeDateBuilder implements CalendarConstraints.DateValidator{\r\n        int numberOfDays;\r\n        MaterialDatePicker rangepicker;\r\n\r\n        public RangeDateBuilder(int numberOfDays){\r\n            this.numberOfDays=numberOfDays;\r\n        }\r\n\r\n        public void setDatePicker(MaterialDatePicker rangepicker){\r\n         this.rangepicker=rangepicker;\r\n        }\r\n        @Override\r\n        public boolean isValid(long date) {\r\n            Pair&lt;Long, Long&gt; selection =(Pair&lt;Long, Long&gt;) rangepicker . getSelection ();\r\n            if (selection != null) {\r\n                Long startDate = selection . first;\r\n                if (startDate != null) {\r\n                    long days =(numberOfDays - 1) * TimeUnit.DAYS.toMillis(1);;\r\n                    if (date &gt; startDate + days)\r\n                        return false;\r\n                    if (date &lt; startDate)\r\n                        return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public void writeToParcel(Parcel parcel, int i) {\r\n\r\n        }\r\n\r\n\r\n    }\r\n```````````````````````````````````````````````````````````","title":"how to disable dates after one year from today in android studio","body":"<blockquote>\n<p>im working with material date range picker in android studio</p>\n<p>i want the way to disable future date after (360 - 7) days from today--for example</p>\n<p>today is 3/11/2022 i want to disable future date start from 28/10/2023</p>\n<p>how can i do that???</p>\n</blockquote>\n<pre><code>MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; materialDatePicker=MaterialDatePicker.Builder.dateRangePicker();\n        MaterialDatePicker builder=materialDatePicker.build();\n\n        CalendarConstraints.Builder calendarConstraints=new CalendarConstraints.Builder();\n        RangeDateBuilder rangeDateBuilder=new RangeDateBuilder(353);\n        \n        materialDatePicker.setCalendarConstraints(calendarConstraints.build());\n        calendarConstraints.setValidator(rangeDateBuilder);\n        rangeDateBuilder.setDatePicker(builder);\n        btnFrom.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                builder.show(getSupportFragmentManager(),&quot;Date_Picker&quot;);\n            }\n        });\n\n    @SuppressLint(&quot;ParcelCreator&quot;)\n    public class RangeDateBuilder implements CalendarConstraints.DateValidator{\n        int numberOfDays;\n        MaterialDatePicker rangepicker;\n\n        public RangeDateBuilder(int numberOfDays){\n            this.numberOfDays=numberOfDays;\n        }\n\n        public void setDatePicker(MaterialDatePicker rangepicker){\n         this.rangepicker=rangepicker;\n        }\n        @Override\n        public boolean isValid(long date) {\n            Pair&lt;Long, Long&gt; selection =(Pair&lt;Long, Long&gt;) rangepicker . getSelection ();\n            if (selection != null) {\n                Long startDate = selection . first;\n                if (startDate != null) {\n                    long days =(numberOfDays - 1) * TimeUnit.DAYS.toMillis(1);;\n                    if (date &gt; startDate + days)\n                        return false;\n                    if (date &lt; startDate)\n                        return false;\n                }\n            }\n            return true;\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        @Override\n        public void writeToParcel(Parcel parcel, int i) {\n\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":2,"creation_date":1441810704,"post_id":32482127,"comment_id":52826813,"body_markdown":"You have a problem with creating 50 controllers, but no problem including 50 different services and calling 50 different service methods in a gigantic switch statement? You can take a look at Spring Data REST, then you don&#39;t even need one controller.","body":"You have a problem with creating 50 controllers, but no problem including 50 different services and calling 50 different service methods in a gigantic switch statement? You can take a look at Spring Data REST, then you don&#39;t even need one controller."}],"answers":[{"tags":[],"owner":{"account_id":337454,"reputation":189,"user_id":665735,"display_name":"Mare Geldenhuys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1441811429,"creation_date":1441811429,"answer_id":32483283,"question_id":32482127,"body_markdown":"I don&#39;t think that is possible as the underlying mapper would need the concrete class which the json is parsed to. The parameter is simply a reference to the actual object. \r\n\r\nSomething to take note of is that when using REST and getting the benefit from it is not only having simple urls to call. One has to design APIs to be RESTfull. I would advice you to read up on that concept before going down this path you are heading.","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>I don't think that is possible as the underlying mapper would need the concrete class which the json is parsed to. The parameter is simply a reference to the actual object. </p>\n\n<p>Something to take note of is that when using REST and getting the benefit from it is not only having simple urls to call. One has to design APIs to be RESTfull. I would advice you to read up on that concept before going down this path you are heading.</p>\n"},{"tags":[],"owner":{"account_id":19330651,"reputation":78,"user_id":14132343,"display_name":"denizeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667582129,"creation_date":1667582129,"answer_id":74320747,"question_id":32482127,"body_markdown":"It can be done with only one controller.\r\nOne possible implementation would be using JsonSubTypes and Java inheritance.\r\n\r\nIt is done by moddeling request body objects (*entities*, in the original question) that extend an abstract class. Request body parameter in the controller&#39;s method then has the type of the abstract class.\r\n","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>It can be done with only one controller.\nOne possible implementation would be using JsonSubTypes and Java inheritance.</p>\n<p>It is done by moddeling request body objects (<em>entities</em>, in the original question) that extend an abstract class. Request body parameter in the controller's method then has the type of the abstract class.</p>\n"}],"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32483283,"answer_count":2,"score":0,"last_activity_date":1667582129,"creation_date":1441808405,"question_id":32482127,"body_markdown":"my motive is to write one **generic save method** in REST API. User will send the **entity in Request body** such that depending upon Request Mapping String it should be **converted to entity**.\r\n\r\nWhy i am want this, because in my case there are as many as 50-60 entities and as per my understanding i have to write many controllers.\r\n\r\nI am trying to achieve something like this. \r\n\r\n    @RequestMapping(value = &quot;/{entity}&quot;, method = RequestMethod.POST)\r\n\t@ResponseBody\r\n\tpublic Object performSave(@PathVariable String entity\r\n\t\t\t@RequestBody Object entity)  {\r\n\r\n\t\tswitch(entity){\r\n\r\n                 case &quot;employee&quot;\r\n                  return employeeService.save((Employee)entity);\r\n                  \r\n                 case &quot;Boss&quot;\r\n                  return bossService.save((Boss)entity);\r\n                  \r\n                  default:\r\n                   return null;\r\n          \r\n                 }\r\n\r\nbut i am not able to do that because Spring cannot convert the JSON Request into java.lang.Object.\r\n\r\nwhat possible solutions i have ?\r\n\r\nIf my question do not make sense to you, please let me know ,i will provide additional details.\r\n\r\nThanks in advance. ","title":"how can i typecast Request body into desired entity in REST API Controller","body":"<p>my motive is to write one <strong>generic save method</strong> in REST API. User will send the <strong>entity in Request body</strong> such that depending upon Request Mapping String it should be <strong>converted to entity</strong>.</p>\n\n<p>Why i am want this, because in my case there are as many as 50-60 entities and as per my understanding i have to write many controllers.</p>\n\n<p>I am trying to achieve something like this. </p>\n\n<pre><code>@RequestMapping(value = \"/{entity}\", method = RequestMethod.POST)\n@ResponseBody\npublic Object performSave(@PathVariable String entity\n        @RequestBody Object entity)  {\n\n    switch(entity){\n\n             case \"employee\"\n              return employeeService.save((Employee)entity);\n\n             case \"Boss\"\n              return bossService.save((Boss)entity);\n\n              default:\n               return null;\n\n             }\n</code></pre>\n\n<p>but i am not able to do that because Spring cannot convert the JSON Request into java.lang.Object.</p>\n\n<p>what possible solutions i have ?</p>\n\n<p>If my question do not make sense to you, please let me know ,i will provide additional details.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","encryption","netbeans","jframe","file-descriptor"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667580261,"post_id":74320310,"comment_id":131207865,"body_markdown":"Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case","body":"Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667581587,"creation_date":1667581587,"answer_id":74320645,"question_id":74320310,"body_markdown":"You should really rethink you variable names\r\n\r\nBoth actionPerfom methods are wrong:\r\n\r\n    private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        Txt(encrypt(Text.getText(), &quot;Marti&quot;)); //you need to use the text of field Text not from Text1\r\n        Text1.setText(llegir());\r\n        \r\n        Text1.setEditable(false);\r\n    }                                           \r\n\r\n    private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\r\n        //Text2.setText(llegir()); remove this line, it overrides the encrypted text\r\n        \r\n         Text2.setEditable(false);\r\n    }                                           \r\n\r\nTake care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case","title":"I am encrypting and decrypting but it does not show me the decryption","body":"<p>You should really rethink you variable names</p>\n<p>Both actionPerfom methods are wrong:</p>\n<pre><code>private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    Txt(encrypt(Text.getText(), &quot;Marti&quot;)); //you need to use the text of field Text not from Text1\n    Text1.setText(llegir());\n    \n    Text1.setEditable(false);\n}                                           \n\nprivate void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\n    //Text2.setText(llegir()); remove this line, it overrides the encrypted text\n    \n     Text2.setEditable(false);\n}                                           \n</code></pre>\n<p>Take care of java naming conventions. Variable names should start with a lower case character and be camelCase not snake_case</p>\n"}],"owner":{"account_id":26619208,"reputation":13,"user_id":20238177,"display_name":"Mart&#237; Ribalta Vil&#224;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667584550,"accepted_answer_id":74320645,"answer_count":1,"score":0,"last_activity_date":1667581587,"creation_date":1667580038,"question_id":74320310,"body_markdown":"I was trying to class a code that would encrypt an entered text with JFRAME, which does it well for me. Once I&#39;m done, it saves the encrypted text in a .txt and then has to decrypt it, but I don&#39;t understand why it doesn&#39;t decrypt it for me.\r\nThank you very much.\r\n\r\n\r\n\r\n\r\n    public class NewJFrame extends javax.swing.JFrame {\r\n       \r\n        /**\r\n         * Creates new form NewJFrame\r\n         */\r\n        public NewJFrame() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            btn_Decript = new javax.swing.JButton();\r\n            btn_Encript = new javax.swing.JButton();\r\n            text_Encript = new javax.swing.JLabel();\r\n            text_decript = new javax.swing.JLabel();\r\n            Text = new javax.swing.JTextField();\r\n            Text1 = new javax.swing.JTextField();\r\n            Text2 = new javax.swing.JTextField();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            btn_Decript.setText(&quot;Desencriptar&quot;);\r\n            btn_Decript.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btn_DecriptActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            btn_Encript.setText(&quot;Encirptar&quot;);\r\n            btn_Encript.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btn_EncriptActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            text_Encript.setText(&quot;Encriptat&quot;);\r\n    \r\n            text_decript.setText(&quot;Desencriptar&quot;);\r\n    \r\n            Text.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    TextActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            Text1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    Text1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            Text2.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    Text2ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(56, 56, 56)\r\n                    .addComponent(btn_Encript)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\r\n                    .addComponent(btn_Decript)\r\n                    .addGap(53, 53, 53))\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(88, 88, 88)\r\n                    .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(30, 30, 30))\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(text_Encript, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                        .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(Text2)\r\n                            .addContainerGap())))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(38, 38, 38)\r\n                    .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(18, 18, 18)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(text_Encript)\r\n                        .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addComponent(Text2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGap(46, 127, Short.MAX_VALUE)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(btn_Encript)\r\n                        .addComponent(btn_Decript))\r\n                    .addGap(29, 29, 29))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void TextActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n    \r\n        }                                    \r\n    \r\n        private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            Txt(encrypt(Text1.getText(), &quot;Marti&quot;));\r\n            Text1.setText(llegir());\r\n            \r\n            Text1.setEditable(false);\r\n        }                                           \r\n    \r\n        private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\r\n            Text2.setText(llegir());\r\n            \r\n             Text1.setEditable(false);\r\n        }                                           \r\n    \r\n        private void Text1ActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n            // TODO add your handling code here:\r\n        }                                     \r\n    \r\n        private void Text2ActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n         \r\n        }                                     \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        \r\n     \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JTextField Text;\r\n        private javax.swing.JTextField Text1;\r\n        private javax.swing.JTextField Text2;\r\n        private javax.swing.JButton btn_Decript;\r\n        private javax.swing.JButton btn_Encript;\r\n        private javax.swing.JLabel text_Encript;\r\n        private javax.swing.JLabel text_decript;\r\n        // End of variables declaration                   \r\n    \r\n        \r\n    public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new NewJFrame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        \r\n    public static void Txt(String secret){\r\n        Path path = Paths.get(&quot;./encriptar.txt&quot;);\r\n        \r\n        try{\r\n            Files.writeString(path, secret, StandardCharsets.UTF_8);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;Error while encrypting: &quot;);\r\n        }\r\n    }\r\n    \r\n    public static String llegir(){\r\n        Path path = Paths.get(&quot;./encriptar.txt&quot;);\r\n        String algo = null;\r\n        try{\r\n            algo = Files.readString(path);\r\n        }catch(Exception e){\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n        return algo;\r\n    }\r\n      \r\n      private static SecretKeySpec secretKey;\r\n      private static byte[] key;\r\n     \r\n      \r\n      public static void setKey(final String myKey) {\r\n        MessageDigest sha = null;\r\n        try {\r\n          key = myKey.getBytes(&quot;UTF-8&quot;);\r\n          sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n          key = sha.digest(key);\r\n          key = Arrays.copyOf(key, 16);\r\n          secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      public static String encrypt(final String strToEncrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n          return Base64.getEncoder()\r\n            .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while encrypting: &quot;);\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static String decrypt(final String strToDecrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n          return new String(cipher.doFinal(Base64.getDecoder()\r\n            .decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      } \r\n\r\nI try to see if someone can know how to solve the error that I write above, thanks.","title":"I am encrypting and decrypting but it does not show me the decryption","body":"<p>I was trying to class a code that would encrypt an entered text with JFRAME, which does it well for me. Once I'm done, it saves the encrypted text in a .txt and then has to decrypt it, but I don't understand why it doesn't decrypt it for me.\nThank you very much.</p>\n<pre><code>public class NewJFrame extends javax.swing.JFrame {\n   \n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        btn_Decript = new javax.swing.JButton();\n        btn_Encript = new javax.swing.JButton();\n        text_Encript = new javax.swing.JLabel();\n        text_decript = new javax.swing.JLabel();\n        Text = new javax.swing.JTextField();\n        Text1 = new javax.swing.JTextField();\n        Text2 = new javax.swing.JTextField();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        btn_Decript.setText(&quot;Desencriptar&quot;);\n        btn_Decript.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btn_DecriptActionPerformed(evt);\n            }\n        });\n\n        btn_Encript.setText(&quot;Encirptar&quot;);\n        btn_Encript.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btn_EncriptActionPerformed(evt);\n            }\n        });\n\n        text_Encript.setText(&quot;Encriptat&quot;);\n\n        text_decript.setText(&quot;Desencriptar&quot;);\n\n        Text.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                TextActionPerformed(evt);\n            }\n        });\n\n        Text1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                Text1ActionPerformed(evt);\n            }\n        });\n\n        Text2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                Text2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(56, 56, 56)\n                .addComponent(btn_Encript)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 35, Short.MAX_VALUE)\n                .addComponent(btn_Decript)\n                .addGap(53, 53, 53))\n            .addGroup(layout.createSequentialGroup()\n                .addGap(88, 88, 88)\n                .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(30, 30, 30))\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(text_Encript, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(Text2)\n                        .addContainerGap())))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(38, 38, 38)\n                .addComponent(Text, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(text_Encript)\n                    .addComponent(text_decript, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(Text1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(Text2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(46, 127, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(btn_Encript)\n                    .addComponent(btn_Decript))\n                .addGap(29, 29, 29))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void TextActionPerformed(java.awt.event.ActionEvent evt) {                                     \n\n    }                                    \n\n    private void btn_EncriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        Txt(encrypt(Text1.getText(), &quot;Marti&quot;));\n        Text1.setText(llegir());\n        \n        Text1.setEditable(false);\n    }                                           \n\n    private void btn_DecriptActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        Text2.setText(decrypt(llegir(),&quot;Marti&quot;));\n        Text2.setText(llegir());\n        \n         Text1.setEditable(false);\n    }                                           \n\n    private void Text1ActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    private void Text2ActionPerformed(java.awt.event.ActionEvent evt) {                                      \n     \n    }                                     \n\n    /**\n     * @param args the command line arguments\n     */\n    \n \n    // Variables declaration - do not modify                     \n    private javax.swing.JTextField Text;\n    private javax.swing.JTextField Text1;\n    private javax.swing.JTextField Text2;\n    private javax.swing.JButton btn_Decript;\n    private javax.swing.JButton btn_Encript;\n    private javax.swing.JLabel text_Encript;\n    private javax.swing.JLabel text_decript;\n    // End of variables declaration                   \n\n    \npublic static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n    \npublic static void Txt(String secret){\n    Path path = Paths.get(&quot;./encriptar.txt&quot;);\n    \n    try{\n        Files.writeString(path, secret, StandardCharsets.UTF_8);\n    }\n    catch (Exception e){\n        System.out.println(&quot;Error while encrypting: &quot;);\n    }\n}\n\npublic static String llegir(){\n    Path path = Paths.get(&quot;./encriptar.txt&quot;);\n    String algo = null;\n    try{\n        algo = Files.readString(path);\n    }catch(Exception e){\n        System.out.println(&quot;Error&quot;);\n    }\n    return algo;\n}\n  \n  private static SecretKeySpec secretKey;\n  private static byte[] key;\n \n  \n  public static void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16);\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static String encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n        .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot;);\n    }\n    return null;\n  }\n\n  public static String decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n        .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  } \n</code></pre>\n<p>I try to see if someone can know how to solve the error that I write above, thanks.</p>\n"},{"tags":["java","android","android-studio","arduino","hc-05"],"answers":[{"tags":[],"owner":{"account_id":23471229,"reputation":656,"user_id":17524723,"display_name":"Peter Plesn&#237;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667581344,"creation_date":1667410795,"answer_id":74293529,"question_id":74290756,"body_markdown":"The problem with BT transmission is that the thread that receives the characters can deliver the message in arbitrary bursts. Therefore, it is necessary for the sender to mark the end of the message somehow. Here it can be the &quot;\\n&quot; character. So I suggest change the sending of data from the arduino, for example, as follows:\r\n\r\n    Serial1.print(&quot;Left Sensor &quot;); \r\n    Serial1.println(distanceL); \r\n    delay(500);\r\n    \r\n    Serial1.print(&quot;Right Sensor &quot;); \r\n    Serial1.println(distanceR); \r\n    delay(500);   \r\n    \r\n    Serial1.print(&quot;Center Sensor &quot;); \r\n    Serial1.println(distanceC); \r\n    delay(500);     \r\n\r\nThe program for receiving data from BT (which is not included) must be modified so that it stores the received characters in the buffer until the &quot;\\n&quot; character arrives. Only when the complete line arrives should it be sent to the main thread, which will find out what information was sent by searching for keywords (**Left Sensor**, **Right Sensor**, **Center Sensor**) and then display it in the appropriate textbox\r\n\r\nUpdate:\r\n\r\nModification your run method:\r\n\r\n    public void run() {\r\n        byte[] buffer = new byte[1024];  // buffer store for the stream\r\n        int c; // one byte from BT or -1 if end\r\n        int position =0; //position in the line\r\n        // Keep listening to the InputStream until an exception occurs\r\n        while (true) {\r\n            try {\r\n                // Read from the InputStream\r\n                c = mmInStream.read(); //read one byte from stream\r\n                if(c == -1) {  //if end of stream\r\n                    break; // stop receive\r\n                }\r\n                if (c==&#39;\\n&#39;){ //if end of line char arrives\r\n                    byte[] copyBuffer = Arrays.copyOf(buffer, position+1); //make copy of received line\r\n                    hesler.obtainMessage(MainActivity.MESSAGE_READ, position+1, -1, copyBuffer)\r\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\r\n                    position=0; //start save chars again from beginning \r\n                }\r\n                buffer[position]=(byte) c; //store char to buffer\r\n                if (position&lt;1024) position++; //advance position for next char if not overflow buffer\r\n                \r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n    \r\n                break;\r\n            }\r\n        }\r\n    }","title":"HC-05 Multiple data sending to android studio app","body":"<p>The problem with BT transmission is that the thread that receives the characters can deliver the message in arbitrary bursts. Therefore, it is necessary for the sender to mark the end of the message somehow. Here it can be the &quot;\\n&quot; character. So I suggest change the sending of data from the arduino, for example, as follows:</p>\n<pre><code>Serial1.print(&quot;Left Sensor &quot;); \nSerial1.println(distanceL); \ndelay(500);\n\nSerial1.print(&quot;Right Sensor &quot;); \nSerial1.println(distanceR); \ndelay(500);   \n\nSerial1.print(&quot;Center Sensor &quot;); \nSerial1.println(distanceC); \ndelay(500);     \n</code></pre>\n<p>The program for receiving data from BT (which is not included) must be modified so that it stores the received characters in the buffer until the &quot;\\n&quot; character arrives. Only when the complete line arrives should it be sent to the main thread, which will find out what information was sent by searching for keywords (<strong>Left Sensor</strong>, <strong>Right Sensor</strong>, <strong>Center Sensor</strong>) and then display it in the appropriate textbox</p>\n<p>Update:</p>\n<p>Modification your run method:</p>\n<pre><code>public void run() {\n    byte[] buffer = new byte[1024];  // buffer store for the stream\n    int c; // one byte from BT or -1 if end\n    int position =0; //position in the line\n    // Keep listening to the InputStream until an exception occurs\n    while (true) {\n        try {\n            // Read from the InputStream\n            c = mmInStream.read(); //read one byte from stream\n            if(c == -1) {  //if end of stream\n                break; // stop receive\n            }\n            if (c=='\\n'){ //if end of line char arrives\n                byte[] copyBuffer = Arrays.copyOf(buffer, position+1); //make copy of received line\n                hesler.obtainMessage(MainActivity.MESSAGE_READ, position+1, -1, copyBuffer)\n                        .sendToTarget(); // Send the obtained bytes to the UI activity\n                position=0; //start save chars again from beginning \n            }\n            buffer[position]=(byte) c; //store char to buffer\n            if (position&lt;1024) position++; //advance position for next char if not overflow buffer\n            \n\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18506691,"reputation":21,"user_id":13482837,"display_name":"Jezdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667581344,"creation_date":1667398957,"question_id":74290756,"body_markdown":"I&#39;m trying to make android applications with the hc 05 module and 3 ultrasonic sensors. It consists in the fact that each sensor sends information about the distance from the obstacle to the application, which is divided into 3 textviews and each of them displays information on how many cm are left. And here comes my problem that I have no idea how I could divide the data sent by the module to the application into 3 independent textview.\r\n\r\n    // arduino code\r\n    int LtriggerPin = 13;\r\n    int LechoPin = 12;  \r\n\r\n    int RtriggerPin = 11;\r\n    int RechoPin = 10;  \r\n\r\n    int CtriggerPin = 9;\r\n    int CechoPin = 8;  \r\n\r\n    int info = 0;\r\n    int state = 0;\r\n\r\n    void setup() { \r\n\r\n     Serial1.begin(9600);  \r\n    \r\n     pinMode(LtriggerPin, OUTPUT); \r\n     pinMode(LechoPin, INPUT);\r\n\r\n     pinMode(RtriggerPin, OUTPUT); \r\n     pinMode(RechoPin, INPUT);\r\n\r\n     pinMode(CtriggerPin, OUTPUT); \r\n     pinMode(CechoPin, INPUT);\r\n  \r\n     }\r\n\r\n     void loop(){ \r\n \r\n        sensor();\r\n     }\r\n\r\n\r\n\r\n\r\n     void sensor() { \r\n  \r\n     int durationL, distanceL;  \r\n     int durationR, distanceR;   \r\n     int durationC, distanceC;        \r\n  \r\n     digitalWrite(LtriggerPin, HIGH); \r\n     delay(10);\r\n      digitalWrite(LtriggerPin, LOW);\r\n     durationL = pulseIn(LechoPin, HIGH); \r\n     distanceL = (durationL/2) / 29.1; \r\n\r\n     digitalWrite(RtriggerPin, HIGH); \r\n     delay(10);\r\n     digitalWrite(RtriggerPin, LOW);\r\n     durationR = pulseIn(RechoPin, HIGH); \r\n      distanceR = (durationR/2) / 29.1; \r\n\r\n     digitalWrite(CtriggerPin, HIGH); \r\n     delay(10);\r\n     digitalWrite(CtriggerPin, LOW);\r\n     durationC = pulseIn(CechoPin, HIGH); \r\n     distanceC = (durationC/2) / 29.1; \r\n  \r\n  \r\n     Serial1.print(&quot;Left Sensor &quot;); \r\n     Serial1.print((String) distanceL + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n\r\n     Serial1.print(&quot;Right Sensor &quot;); \r\n     Serial1.print((String) distanceR + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n\r\n     Serial1.print(&quot;Center Sensor &quot;); \r\n     Serial1.print((String) distanceC + &quot; cm&quot; ); \r\n     delay(500);   \r\n     Serial1.println(&quot; &quot;);  \r\n      Serial1.println(&quot; &quot;); \r\n     Serial1.println(&quot; &quot;); \r\n      }\r\n\r\n   / /  /  / / Android Studio Code\r\n\r\n     handler = new Handler(Looper.getMainLooper()){\r\n            @Override\r\n            public void handleMessage(Message msg){\r\n                if(msg.what == MESSAGE_READ){\r\n                    String readMessage = null;\r\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\r\n                    TvL.setText(readMessage);\r\n                    TvR.setText(readMessage);\r\n                    TvC.setText(readMessage);\r\n\r\n                }\r\n\r\n                if(msg.what == CONNECTING_STATUS){\r\n                    char[] sConnected;\r\n                    if(msg.arg1 == 1)\r\n                        Tv3.setText(getString(R.string.BTConnected) + msg.obj);\r\n                    else\r\n                        Tv3.setText(getString(R.string.BTconnFail));\r\n                }\r\n            }\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n        @Override\r\n    public void run() {\r\n        byte[] buffer = new byte[1024];  // buffer store for the stream\r\n        int bytes; // bytes returned from read()\r\n        // Keep listening to the InputStream until an exception occurs\r\n        while (true) {\r\n            try {\r\n                // Read from the InputStream\r\n                bytes = mmInStream.available();\r\n                if(bytes != 0) {\r\n                    buffer = new byte[1024];\r\n                    SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\r\n                    bytes = mmInStream.available(); // how many bytes are ready to be read?\r\n                    bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\r\n                    hesler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\r\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"HC-05 Multiple data sending to android studio app","body":"<p>I'm trying to make android applications with the hc 05 module and 3 ultrasonic sensors. It consists in the fact that each sensor sends information about the distance from the obstacle to the application, which is divided into 3 textviews and each of them displays information on how many cm are left. And here comes my problem that I have no idea how I could divide the data sent by the module to the application into 3 independent textview.</p>\n<pre><code>// arduino code\nint LtriggerPin = 13;\nint LechoPin = 12;  \n\nint RtriggerPin = 11;\nint RechoPin = 10;  \n\nint CtriggerPin = 9;\nint CechoPin = 8;  \n\nint info = 0;\nint state = 0;\n\nvoid setup() { \n\n Serial1.begin(9600);  \n\n pinMode(LtriggerPin, OUTPUT); \n pinMode(LechoPin, INPUT);\n\n pinMode(RtriggerPin, OUTPUT); \n pinMode(RechoPin, INPUT);\n\n pinMode(CtriggerPin, OUTPUT); \n pinMode(CechoPin, INPUT);\n\n }\n\n void loop(){ \n\n    sensor();\n }\n\n\n\n\n void sensor() { \n\n int durationL, distanceL;  \n int durationR, distanceR;   \n int durationC, distanceC;        \n\n digitalWrite(LtriggerPin, HIGH); \n delay(10);\n  digitalWrite(LtriggerPin, LOW);\n durationL = pulseIn(LechoPin, HIGH); \n distanceL = (durationL/2) / 29.1; \n\n digitalWrite(RtriggerPin, HIGH); \n delay(10);\n digitalWrite(RtriggerPin, LOW);\n durationR = pulseIn(RechoPin, HIGH); \n  distanceR = (durationR/2) / 29.1; \n\n digitalWrite(CtriggerPin, HIGH); \n delay(10);\n digitalWrite(CtriggerPin, LOW);\n durationC = pulseIn(CechoPin, HIGH); \n distanceC = (durationC/2) / 29.1; \n\n\n Serial1.print(&quot;Left Sensor &quot;); \n Serial1.print((String) distanceL + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n\n Serial1.print(&quot;Right Sensor &quot;); \n Serial1.print((String) distanceR + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n\n Serial1.print(&quot;Center Sensor &quot;); \n Serial1.print((String) distanceC + &quot; cm&quot; ); \n delay(500);   \n Serial1.println(&quot; &quot;);  \n  Serial1.println(&quot; &quot;); \n Serial1.println(&quot; &quot;); \n  }\n</code></pre>\n<p>/ /  /  / / Android Studio Code</p>\n<pre><code> handler = new Handler(Looper.getMainLooper()){\n        @Override\n        public void handleMessage(Message msg){\n            if(msg.what == MESSAGE_READ){\n                String readMessage = null;\n                readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\n                TvL.setText(readMessage);\n                TvR.setText(readMessage);\n                TvC.setText(readMessage);\n\n            }\n\n            if(msg.what == CONNECTING_STATUS){\n                char[] sConnected;\n                if(msg.arg1 == 1)\n                    Tv3.setText(getString(R.string.BTConnected) + msg.obj);\n                else\n                    Tv3.setText(getString(R.string.BTconnFail));\n            }\n        }\n\n\n    };\n\n\n\n\n\n    @Override\npublic void run() {\n    byte[] buffer = new byte[1024];  // buffer store for the stream\n    int bytes; // bytes returned from read()\n    // Keep listening to the InputStream until an exception occurs\n    while (true) {\n        try {\n            // Read from the InputStream\n            bytes = mmInStream.available();\n            if(bytes != 0) {\n                buffer = new byte[1024];\n                SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\n                bytes = mmInStream.available(); // how many bytes are ready to be read?\n                bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\n                hesler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\n                        .sendToTarget(); // Send the obtained bytes to the UI activity\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","methods","double","square-root"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1667624766,"post_id":74320504,"comment_id":131215988,"body_markdown":"Welcome to Stack Overflow! We know you are a new contributor. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"Welcome to Stack Overflow! We know you are a new contributor. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"}],"owner":{"account_id":26830524,"reputation":21,"user_id":20418571,"display_name":"PizzaPossum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1667580966,"creation_date":1667580966,"question_id":74320504,"body_markdown":"I am tasked with creating a program in java which calculates the square root of a double and goes through each step of calculating it manually. The requirements are:\r\n\r\n1) split the number into number pairs including the decimal point (1234.67 -&gt; 12 34 67) to prepare for subtraction. If the number is uneven, a zero must populate (234.67 -&gt; 02 34 67)\r\n2) Print each pair (each pair is a minuend), one at a time, into the console and have the console show the subtraction. Subtrahend starts at 1 and so long as the result &gt;= 0, the subtrahend increases by 2. \r\n3) The count of subtrahends is the first number of the final square root output, the count of subtrahends from the second round is the second number of the square root output, etc.\r\n4) From the first subtrahend round, take the remainder and join it to the second number pair, this is the new minuend for the second round of subtraction\r\n5) Calculate the second subtrahend in round two by doubling the first number of the square root output and adding 1 in the first digit position\r\n6) Repeat step 2, increasing by 2 each time\r\n7) Step 5 and 6 repeat until two decimal places are reached\r\n\r\nMy question is with the number pairs in step 1 and getting the subsequent subtrahends after step 3 as a number to calculate. We are given the following visual:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/4uHuM.png)](https://i.stack.imgur.com/4uHuM.png)\r\n\r\nMy current thought is to put the double into a string and then tell java that each number pair is a number. I have a method created which creates a string from a double, but I am still missing how to incorporate the decimal place numbers. From my C class, I remember multiplying decimals by 100 to &quot;store&quot; the decimal numbers before converting them back later with another division by 100. I&#39;m sure there is a java library that is able to do this but we are specifically not allowed to use them.\r\n\r\nI think I should be able to continue on with the rest of the problem once I get past this point of splitting the number into number pairs inclusive of the decimals. \r\n\r\n**This is also my first stack post so if you have any tips on how to better write questions for future posts that would be helpful as well.** \r\n\r\nThis is my current array method to store a given double into an array:\r\n\r\n```\r\npublic static void printArray(int [] a) //printer helper method\r\n{\r\n   for(int i = 0; i &lt; a.length; i++)\r\n   {\r\n      System.out.print(a[i]);\r\n   }\r\n}\r\n\r\npublic static void stringDigits (double n) //begin string method\r\n{\r\n   int a [] = new int [15];\r\n   int i = 0;\r\n   int stringLength = 0;\r\n\r\n   while(n &gt; 1)\r\n   {\r\n      a[i] = (int) (n % 10);\r\n      n = n / 10;\r\n      i++;\r\n   }\r\n\r\n   for(int j = 0; a[j] != 0; j++)\r\n   {\r\n      System.out.print(a[j]);\r\n      if(a[j] != 0)\r\n      {\r\n         stringLength++;\r\n      }\r\n   }\r\n\r\n   System.out.println(&quot;&quot;);\r\n   System.out.println(stringLength);\r\n\r\n   int[] numbersArray = new int[stringLength];\r\n   int g = 0;\r\n\r\n   for(int k = a.length-1; g &lt; numbersArray.length; k--)\r\n   {\r\n      if(a[k] &gt; 0)\r\n      {\r\n         numbersArray[g] = a[k];\r\n         g++;\r\n      }\r\n   }\r\n   System.out.println(&quot;&quot;);\r\n   printArray(numbersArray);\r\n   \r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried at first to store the value of the double into an int[] a array so that I can then select the numbers in pairs and then somehow combine them back into numbers. So if the array is {1,2,3,4,5,6} my next idea is to get java to convert a[0] + a[1] into the number 12 to prepare for the subtraction step.\r\n\r\nThis link looks close but does anyone know why the numbers are &quot;10l&quot; and &quot;100l&quot; etc? I&#39;ve tested some of the answers and they dont produce the proper squareroot compared to the sqrt function from the math library.\r\n\r\nhttps://stackoverflow.com/questions/35013004/create-a-program-that-calculates-the-square-root-of-a-number-without-using-math","title":"Java method to calculate the square root via minuend and subtrahend and print each step","body":"<p>I am tasked with creating a program in java which calculates the square root of a double and goes through each step of calculating it manually. The requirements are:</p>\n<ol>\n<li>split the number into number pairs including the decimal point (1234.67 -&gt; 12 34 67) to prepare for subtraction. If the number is uneven, a zero must populate (234.67 -&gt; 02 34 67)</li>\n<li>Print each pair (each pair is a minuend), one at a time, into the console and have the console show the subtraction. Subtrahend starts at 1 and so long as the result &gt;= 0, the subtrahend increases by 2.</li>\n<li>The count of subtrahends is the first number of the final square root output, the count of subtrahends from the second round is the second number of the square root output, etc.</li>\n<li>From the first subtrahend round, take the remainder and join it to the second number pair, this is the new minuend for the second round of subtraction</li>\n<li>Calculate the second subtrahend in round two by doubling the first number of the square root output and adding 1 in the first digit position</li>\n<li>Repeat step 2, increasing by 2 each time</li>\n<li>Step 5 and 6 repeat until two decimal places are reached</li>\n</ol>\n<p>My question is with the number pairs in step 1 and getting the subsequent subtrahends after step 3 as a number to calculate. We are given the following visual:</p>\n<p><a href=\"https://i.stack.imgur.com/4uHuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4uHuM.png\" alt=\"enter image description here\" /></a></p>\n<p>My current thought is to put the double into a string and then tell java that each number pair is a number. I have a method created which creates a string from a double, but I am still missing how to incorporate the decimal place numbers. From my C class, I remember multiplying decimals by 100 to &quot;store&quot; the decimal numbers before converting them back later with another division by 100. I'm sure there is a java library that is able to do this but we are specifically not allowed to use them.</p>\n<p>I think I should be able to continue on with the rest of the problem once I get past this point of splitting the number into number pairs inclusive of the decimals.</p>\n<p><strong>This is also my first stack post so if you have any tips on how to better write questions for future posts that would be helpful as well.</strong></p>\n<p>This is my current array method to store a given double into an array:</p>\n<pre><code>public static void printArray(int [] a) //printer helper method\n{\n   for(int i = 0; i &lt; a.length; i++)\n   {\n      System.out.print(a[i]);\n   }\n}\n\npublic static void stringDigits (double n) //begin string method\n{\n   int a [] = new int [15];\n   int i = 0;\n   int stringLength = 0;\n\n   while(n &gt; 1)\n   {\n      a[i] = (int) (n % 10);\n      n = n / 10;\n      i++;\n   }\n\n   for(int j = 0; a[j] != 0; j++)\n   {\n      System.out.print(a[j]);\n      if(a[j] != 0)\n      {\n         stringLength++;\n      }\n   }\n\n   System.out.println(&quot;&quot;);\n   System.out.println(stringLength);\n\n   int[] numbersArray = new int[stringLength];\n   int g = 0;\n\n   for(int k = a.length-1; g &lt; numbersArray.length; k--)\n   {\n      if(a[k] &gt; 0)\n      {\n         numbersArray[g] = a[k];\n         g++;\n      }\n   }\n   System.out.println(&quot;&quot;);\n   printArray(numbersArray);\n   \n}\n</code></pre>\n<p>I've tried at first to store the value of the double into an int[] a array so that I can then select the numbers in pairs and then somehow combine them back into numbers. So if the array is {1,2,3,4,5,6} my next idea is to get java to convert a[0] + a[1] into the number 12 to prepare for the subtraction step.</p>\n<p>This link looks close but does anyone know why the numbers are &quot;10l&quot; and &quot;100l&quot; etc? I've tested some of the answers and they dont produce the proper squareroot compared to the sqrt function from the math library.</p>\n<p><a href=\"https://stackoverflow.com/questions/35013004/create-a-program-that-calculates-the-square-root-of-a-number-without-using-math\">Create a program that calculates the square root of a number without using Math.sqrt</a></p>\n"},{"tags":["java","node.js","integration"],"comments":[{"owner":{"account_id":2542209,"reputation":769,"user_id":2207769,"accept_rate":71,"display_name":"Mahesh Guruswamy"},"score":2,"creation_date":1375450787,"post_id":18018236,"comment_id":26351493,"body_markdown":"Easiest thing to do is test it out and see how various technologies perform against your requirements. Also keep in mind that infrastructure is not as expensive as it was 10 years ago. Spinnning up new server instances to support load is trivial these days.","body":"Easiest thing to do is test it out and see how various technologies perform against your requirements. Also keep in mind that infrastructure is not as expensive as it was 10 years ago. Spinnning up new server instances to support load is trivial these days."},{"owner":{"account_id":1713484,"reputation":8917,"user_id":1571073,"display_name":"randunel"},"score":1,"creation_date":1375454105,"post_id":18018236,"comment_id":26353752,"body_markdown":"Why choose some other technology, when you can outsource the cpu-heavy JS code to another thread?\nCheck out threads-a-gogo https://github.com/xk/node-threads-a-gogo and other nodejs threading tools :)","body":"Why choose some other technology, when you can outsource the cpu-heavy JS code to another thread? Check out threads-a-gogo <a href=\"https://github.com/xk/node-threads-a-gogo\" rel=\"nofollow noreferrer\">github.com/xk/node-threads-a-gogo</a> and other nodejs threading tools :)"},{"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"score":0,"creation_date":1375456309,"post_id":18018236,"comment_id":26355250,"body_markdown":"Thanks a lot guys, the nodejs threading tools seems what I was looking for. I will try that for sure. :)","body":"Thanks a lot guys, the nodejs threading tools seems what I was looking for. I will try that for sure. :)"},{"owner":{"account_id":1582170,"reputation":18564,"user_id":1467304,"accept_rate":80,"display_name":"MobA11y"},"score":2,"creation_date":1375464000,"post_id":18018236,"comment_id":26359525,"body_markdown":"You could also look into native c++ extensions.  A lot of use cases that would run better in Java than Node, C++ will run even better than Java.  http://syskall.com/how-to-write-your-own-native-nodejs-extension/index.html/","body":"You could also look into native c++ extensions.  A lot of use cases that would run better in Java than Node, C++ will run even better than Java.  <a href=\"http://syskall.com/how-to-write-your-own-native-nodejs-extension/index.html/\" rel=\"nofollow noreferrer\">syskall.com/how-to-write-your-own-native-nodejs-extension/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":438331,"reputation":13843,"user_id":826532,"accept_rate":82,"display_name":"JustDanyul"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1379426367,"creation_date":1379426367,"answer_id":18851974,"question_id":18018236,"body_markdown":"You can intergrate NodeJS with Java using [node-java][1].\r\n\r\n\r\n  [1]: https://github.com/nearinfinity/node-java","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>You can intergrate NodeJS with Java using <a href=\"https://github.com/nearinfinity/node-java\" rel=\"noreferrer\">node-java</a>.</p>\n"},{"tags":[],"owner":{"account_id":1123290,"reputation":2500,"user_id":1111109,"accept_rate":83,"display_name":"irbull"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469656843,"creation_date":1469656843,"answer_id":38623920,"question_id":18018236,"body_markdown":"As mentioned in a previous answer, you can use node-java which is an npm module that talks to Java. You can also use [J2V8](http://eclipsesource.com/blogs/2016/07/20/running-node-js-on-the-jvm/) which wraps Node.js as a Java library and provides a Node.js API in Java.","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>As mentioned in a previous answer, you can use node-java which is an npm module that talks to Java. You can also use <a href=\"http://eclipsesource.com/blogs/2016/07/20/running-node-js-on-the-jvm/\" rel=\"noreferrer\">J2V8</a> which wraps Node.js as a Java library and provides a Node.js API in Java.</p>\n"},{"tags":[],"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667580580,"creation_date":1472204279,"answer_id":39163171,"question_id":18018236,"body_markdown":"The answer is lambda architecture.\r\n\r\nNodeJs is nice by itself - handling fast queries in a lightweight manner, not doing any extra computations on data. \r\n\r\nThe CPU heavy tasks can be easily delegated to specialized components based on JVM (well, the most famous ones are on JVM). This is nicely implemented by using message brokers and microservices. \r\n\r\nAn event-based architecture, where nodejs can be hooked up to databases like Cassandra or Mongodb and cluster computing frameworks like Apache Spark (not necessarily, though, it depends on the problem) to handle the cpu-heavy parts of the system. And lightweight containers add an icing to the cake by providing nice isolated runtime environments for each of the components to live in.\r\n\r\nThat&#39;s my conclusion so far regarding this question. \r\nI think the suggestions above sort of eliminate the need to wrap node under java or other JVM based solution for cpu-heavy tasks.\r\n","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>The answer is lambda architecture.</p>\n<p>NodeJs is nice by itself - handling fast queries in a lightweight manner, not doing any extra computations on data.</p>\n<p>The CPU heavy tasks can be easily delegated to specialized components based on JVM (well, the most famous ones are on JVM). This is nicely implemented by using message brokers and microservices.</p>\n<p>An event-based architecture, where nodejs can be hooked up to databases like Cassandra or Mongodb and cluster computing frameworks like Apache Spark (not necessarily, though, it depends on the problem) to handle the cpu-heavy parts of the system. And lightweight containers add an icing to the cake by providing nice isolated runtime environments for each of the components to live in.</p>\n<p>That's my conclusion so far regarding this question.\nI think the suggestions above sort of eliminate the need to wrap node under java or other JVM based solution for cpu-heavy tasks.</p>\n"},{"tags":[],"owner":{"account_id":12922484,"reputation":565,"user_id":9443288,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551851357,"creation_date":1551851357,"answer_id":55016396,"question_id":18018236,"body_markdown":"NodeJS is based on the v8 javascript engine which is written in c++.\r\n\r\nIt is therefore possible to write fully native addons in c++ for NodeJS. Check out some of these resources:\r\n\r\n- https://github.com/nodejs/node-addon-api\r\n\r\n- https://github.com/nodejs/node-addon-examples","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>NodeJS is based on the v8 javascript engine which is written in c++.</p>\n\n<p>It is therefore possible to write fully native addons in c++ for NodeJS. Check out some of these resources:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/nodejs/node-addon-api\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node-addon-api</a></p></li>\n<li><p><a href=\"https://github.com/nodejs/node-addon-examples\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node-addon-examples</a></p></li>\n</ul>\n"}],"owner":{"account_id":1061079,"reputation":215,"user_id":1062699,"display_name":"gev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37901,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":18851974,"answer_count":4,"score":17,"last_activity_date":1667580580,"creation_date":1375450470,"question_id":18018236,"body_markdown":"I am trying to pick a right web technology both for I/O heavy and CPU heavy tasks. NodeJs is perfect for handling large load and it also can be scaled out. However, I am stuck with the cpu heavy part. Is it possible to integrate another technology (e.g. Java) into node, so that I will have it running my algorithms in other threads and then use the results again in node. Is there any existing solution? Any other suggestions will be very good.  ","title":"How to integrate Java with nodejs for handling CPU-heavy tasks?","body":"<p>I am trying to pick a right web technology both for I/O heavy and CPU heavy tasks. NodeJs is perfect for handling large load and it also can be scaled out. However, I am stuck with the cpu heavy part. Is it possible to integrate another technology (e.g. Java) into node, so that I will have it running my algorithms in other threads and then use the results again in node. Is there any existing solution? Any other suggestions will be very good.  </p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1667574070,"post_id":74318979,"comment_id":131205520,"body_markdown":"If you have an `Employer e` available before that `Collections#sort` call, it would just be `.thenComparing(e::getYearsOfEmployment)`.","body":"If you have an <code>Employer e</code> available before that <code>Collections#sort</code> call, it would just be <code>.thenComparing(e::getYearsOfEmployment)</code>."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1667577874,"post_id":74318979,"comment_id":131206948,"body_markdown":"@Rogue Perfect, this worked. If you make this an answer, I will accept it.","body":"@Rogue Perfect, this worked. If you make this an answer, I will accept it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667577958,"post_id":74318979,"comment_id":131206973,"body_markdown":"You can give it to @Alexander, he put the effort into a fully fleshed-out answer.","body":"You can give it to @Alexander, he put the effort into a fully fleshed-out answer."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1667578457,"post_id":74318979,"comment_id":131207175,"body_markdown":"OK. Thanks anyway, you were superfast, which was exactly what I needed now :)","body":"OK. Thanks anyway, you were superfast, which was exactly what I needed now :)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667580474,"creation_date":1667575516,"answer_id":74319329,"question_id":74318979,"body_markdown":"As [*@Rogue* has said in the comment](https://stackoverflow.com/questions/74318979/sorting-a-list-of-objects-using-multiple-fields-java-8#comment131205520_74318979) you need a reference to an instance of `Employer`.\r\n\r\nIn case if all `Person` instances belong to the same `Employer`, then you can use it in the *keyExtractor* function of `thenComparing()` (*alternatively, you can use* `thenComparingInt()`):\r\n\r\n```\r\nList&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});\r\nEmployer employer = // initializing the employer\r\n\r\nCollections.sort(persons, Comparator.comparing(Person::getAge)\r\n    .thenComparing(Person::getYearsOfEducation)\r\n    .thenComparing(employer::getYearsOfEmployment);\r\n```\r\n\r\nWhere `employer::getYearsOfEmployment` is an equivalent of the following lambda expression:\r\n\r\n```\r\nperson -&gt; employer.getYearsOfEmployment(person)\r\n```\r\n\r\nAnd it should be qualified as a [Reference to an Instance Method of a Particular Object][1]\r\n\r\n   [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object","title":"Sorting a list of objects using multiple fields (Java 8)","body":"<p>As <a href=\"https://stackoverflow.com/questions/74318979/sorting-a-list-of-objects-using-multiple-fields-java-8#comment131205520_74318979\"><em>@Rogue</em> has said in the comment</a> you need a reference to an instance of <code>Employer</code>.</p>\n<p>In case if all <code>Person</code> instances belong to the same <code>Employer</code>, then you can use it in the <em>keyExtractor</em> function of <code>thenComparing()</code> (<em>alternatively, you can use</em> <code>thenComparingInt()</code>):</p>\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});\nEmployer employer = // initializing the employer\n\nCollections.sort(persons, Comparator.comparing(Person::getAge)\n    .thenComparing(Person::getYearsOfEducation)\n    .thenComparing(employer::getYearsOfEmployment);\n</code></pre>\n<p>Where <code>employer::getYearsOfEmployment</code> is an equivalent of the following lambda expression:</p>\n<pre><code>person -&gt; employer.getYearsOfEmployment(person)\n</code></pre>\n<p>And it should be qualified as a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#object\" rel=\"nofollow noreferrer\">Reference to an Instance Method of a Particular Object</a></p>\n"}],"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319329,"answer_count":1,"score":0,"last_activity_date":1667580474,"creation_date":1667573850,"question_id":74318979,"body_markdown":"Let&#39;s say I have a class `Person` that has methods `getAge()` and `getYearsOfEducation()`, both returning `int`s. Then I have another class `Employer` that has a method `getYearsOfEmployment(Person p)` for a given `Person`, also returning an `int`. \r\n\r\n    Employer e = new Employer();\r\n    Person p1 = new Person(26, 3) // age and years of education\r\n    Person p2 = new Person(30, 4) \r\n    Person p3 = new Person(28, 5) // let&#39;s say that e.getYearsOfEmployment(p3) returns 10\r\n    Person p4 = new Person(28, 5) // let&#39;s say that e.getYearsOfEmployment(p4) returns 8\r\n     \r\nWhen I have a list of `Person`s (added randomly to the list), I want it sorted (1) by age, (2) by years of education, and (3) by years of employment (always least first) -- so in the above example, the final order should be `p1`, `p4`, `p3`, `p2`. It is clear to me how to sort by age and years of education, but I cannot figure out how to do the final sorting by years of employment since that is not a method of `Person`.\r\n\r\n    List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});    \r\n    Collections.sort(persons, Comparator.comparing(Person::getAge)\r\n            .thenComparing(Person::getYearsOfEducation)\r\n            .thenComparing(...));\r\n\r\nIs what I want to do possible?\r\n","title":"Sorting a list of objects using multiple fields (Java 8)","body":"<p>Let's say I have a class <code>Person</code> that has methods <code>getAge()</code> and <code>getYearsOfEducation()</code>, both returning <code>int</code>s. Then I have another class <code>Employer</code> that has a method <code>getYearsOfEmployment(Person p)</code> for a given <code>Person</code>, also returning an <code>int</code>.</p>\n<pre><code>Employer e = new Employer();\nPerson p1 = new Person(26, 3) // age and years of education\nPerson p2 = new Person(30, 4) \nPerson p3 = new Person(28, 5) // let's say that e.getYearsOfEmployment(p3) returns 10\nPerson p4 = new Person(28, 5) // let's say that e.getYearsOfEmployment(p4) returns 8\n \n</code></pre>\n<p>When I have a list of <code>Person</code>s (added randomly to the list), I want it sorted (1) by age, (2) by years of education, and (3) by years of employment (always least first) -- so in the above example, the final order should be <code>p1</code>, <code>p4</code>, <code>p3</code>, <code>p2</code>. It is clear to me how to sort by age and years of education, but I cannot figure out how to do the final sorting by years of employment since that is not a method of <code>Person</code>.</p>\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person[]{p1, p2, p3, p4});    \nCollections.sort(persons, Comparator.comparing(Person::getAge)\n        .thenComparing(Person::getYearsOfEducation)\n        .thenComparing(...));\n</code></pre>\n<p>Is what I want to do possible?</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667579226,"creation_date":1667579226,"answer_id":74320151,"question_id":74310857,"body_markdown":"\r\nin the project &#39;A&#39;  \r\n\r\nsettings.gradle\r\n```\r\ninclude &#39;:prjB&#39;\r\nproject (&#39;:prjB&#39;).projectDir = new File(settingsDir, &#39;../relativePath&#39;)\r\n```\r\nbuild.gradle\r\n```\r\ndef prjBExists = file(&#39;path-to-prjB&#39;).exists\r\n\r\ndependencies {\r\n...\r\n\r\n   if (prjBExists) {\r\n       implementation project(&#39;:prjB&#39;)\r\n   } else {\r\n      implementation &#39;g:a:v&#39;\r\n   }\r\n}\r\n```\r\n\r\nPS - this referencing is under discussions as gradle-8 is expected to deprecate ...\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>in the project 'A'</p>\n<p>settings.gradle</p>\n<pre><code>include ':prjB'\nproject (':prjB').projectDir = new File(settingsDir, '../relativePath')\n</code></pre>\n<p>build.gradle</p>\n<pre><code>def prjBExists = file('path-to-prjB').exists\n\ndependencies {\n...\n\n   if (prjBExists) {\n       implementation project(':prjB')\n   } else {\n      implementation 'g:a:v'\n   }\n}\n</code></pre>\n<p>PS - this referencing is under discussions as gradle-8 is expected to deprecate ...</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667580472,"creation_date":1667580472,"answer_id":74320405,"question_id":74310857,"body_markdown":"You don&#39;t need to do any sort of local workstation hodgepodge.  All you need is the following:\r\n\r\n 1. Declare `mavenLocal()` as the first repository in the dependent project (you probably already have `mavenCentral()`.\r\n 2. Publish the dependency to Maven local repository using the task `.gradlew publishToMavenLocal`.\r\n\r\nNow, your dependent project can use the latest code from the dependency.\r\n\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>You don't need to do any sort of local workstation hodgepodge.  All you need is the following:</p>\n<ol>\n<li>Declare <code>mavenLocal()</code> as the first repository in the dependent project (you probably already have <code>mavenCentral()</code>.</li>\n<li>Publish the dependency to Maven local repository using the task <code>.gradlew publishToMavenLocal</code>.</li>\n</ol>\n<p>Now, your dependent project can use the latest code from the dependency.</p>\n"}],"owner":{"account_id":26813083,"reputation":11,"user_id":20403385,"display_name":"Swaranga Sarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74320405,"answer_count":2,"score":0,"last_activity_date":1667580472,"creation_date":1667520929,"question_id":74310857,"body_markdown":"I have a Gradle project (say project A) that depends on another Gradle project (say B). Each project live in their own git repository. Sometimes when I have to make a non-trivial change across both projects, I will make the code changes in B and push to remote where our CI will pick it up and release it as a new version.\r\n\r\nThen in project A, I will update the version for B with the new version number, then run `./gradlew generateLock saveLock` and then I will be able to use the new changes made in B to implement the feature in A.\r\n\r\nI want to avoid having to push B to remote and release a new version before I can start using the new code in A. Ideally, I want to make change to B locally and have A reference the local version of the project. That way I can test both and test the whole feature before I push any code. How can I achieve that using Gradle. I am using Gradle 7.5?\r\n\r\nI declare my dependency on B in A&#39;s `build.gradle` as `implementation &#39;com.something.project-b&#39;`. Note that B might have a bunch of other library dependencies of its own declared in its own build.gradle which should still be transitively pulled when I want to use the local version of B in A.\r\n\r\nAny pointers?\r\n\r\nThere is a local JAR option in Gradle but that will not pull all the transitive dependencies of B and I do not want to build a combined JAR of B and all its dependencies and use that since then I lose all dependency resolution benefits in case of conflicts.\r\n\r\nAlso note that B is an independent project and cannot simply be moved to Project A as a sub-project\r\n","title":"How to reference local version of a project in another Gradle project dependencies","body":"<p>I have a Gradle project (say project A) that depends on another Gradle project (say B). Each project live in their own git repository. Sometimes when I have to make a non-trivial change across both projects, I will make the code changes in B and push to remote where our CI will pick it up and release it as a new version.</p>\n<p>Then in project A, I will update the version for B with the new version number, then run <code>./gradlew generateLock saveLock</code> and then I will be able to use the new changes made in B to implement the feature in A.</p>\n<p>I want to avoid having to push B to remote and release a new version before I can start using the new code in A. Ideally, I want to make change to B locally and have A reference the local version of the project. That way I can test both and test the whole feature before I push any code. How can I achieve that using Gradle. I am using Gradle 7.5?</p>\n<p>I declare my dependency on B in A's <code>build.gradle</code> as <code>implementation 'com.something.project-b'</code>. Note that B might have a bunch of other library dependencies of its own declared in its own build.gradle which should still be transitively pulled when I want to use the local version of B in A.</p>\n<p>Any pointers?</p>\n<p>There is a local JAR option in Gradle but that will not pull all the transitive dependencies of B and I do not want to build a combined JAR of B and all its dependencies and use that since then I lose all dependency resolution benefits in case of conflicts.</p>\n<p>Also note that B is an independent project and cannot simply be moved to Project A as a sub-project</p>\n"},{"tags":["java","json","mongodb","pojo"],"comments":[{"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"score":0,"creation_date":1603980864,"post_id":62829710,"comment_id":114212170,"body_markdown":"Are you able to solve this issue ?","body":"Are you able to solve this issue ?"}],"answers":[{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603985238,"creation_date":1603985238,"answer_id":64594248,"question_id":62829710,"body_markdown":"Here is a generic solution to store any document\r\n\r\n    package io.innoit.elearning.generic;\r\n\r\n    import java.util.List;\r\n    \r\n    import org.bson.Document;\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/generic&quot;)\r\n    @CrossOrigin(origins = { &quot;*&quot; })\r\n    public class GenericController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;Document&gt; addData(@RequestBody String data) {\r\n    \t\tJSONObject jsonObject = new JSONObject(data);\r\n    \t\tString documentName = jsonObject.getString(&quot;documentName&quot;);\r\n    \t\tDocument doc = Document.parse(data);\r\n    \t\tDocument insertedDoc = mongoTemplate.insert(doc, documentName);\r\n    \t\treturn new ResponseEntity&lt;&gt;(insertedDoc, HttpStatus.CREATED);\r\n    \r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/{documentName}&quot;)\r\n    \tpublic List&lt;Document&gt; getData(@PathVariable String documentName) {\r\n    \t\tList&lt;Document&gt; allData = mongoTemplate.findAll(Document.class, documentName);\r\n    \t\treturn allData;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>Here is a generic solution to store any document</p>\n<pre><code>package io.innoit.elearning.generic;\n\nimport java.util.List;\n\nimport org.bson.Document;\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/generic&quot;)\n@CrossOrigin(origins = { &quot;*&quot; })\npublic class GenericController {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @PostMapping\n    public ResponseEntity&lt;Document&gt; addData(@RequestBody String data) {\n        JSONObject jsonObject = new JSONObject(data);\n        String documentName = jsonObject.getString(&quot;documentName&quot;);\n        Document doc = Document.parse(data);\n        Document insertedDoc = mongoTemplate.insert(doc, documentName);\n        return new ResponseEntity&lt;&gt;(insertedDoc, HttpStatus.CREATED);\n\n    }\n\n    @GetMapping(&quot;/{documentName}&quot;)\n    public List&lt;Document&gt; getData(@PathVariable String documentName) {\n        List&lt;Document&gt; allData = mongoTemplate.findAll(Document.class, documentName);\n        return allData;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22517470,"reputation":91,"user_id":16711507,"display_name":"akram seid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667580406,"creation_date":1667580406,"answer_id":74320389,"question_id":62829710,"body_markdown":"you can use `BasicDBObject` in the pojo and the parsing as follows:\r\n\r\n    String json = &quot;{\r\n      &quot;id&quot;: Mdt1,\r\n      &quot;user&quot;: &quot;user&quot;,\r\n      &quot;metadata&quot;: {\r\n    &quot;departament&quot;: &quot;JUST&quot;,\r\n    &quot;college&quot;:&quot;informatics&quot;\r\n    }\r\n    }&quot;;\r\n\r\n \r\n\r\n    BasicDBObject object = BasicDBObject.parse(json);\r\nuse `object` in the setter.","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>you can use <code>BasicDBObject</code> in the pojo and the parsing as follows:</p>\n<pre><code>String json = &quot;{\n  &quot;id&quot;: Mdt1,\n  &quot;user&quot;: &quot;user&quot;,\n  &quot;metadata&quot;: {\n&quot;departament&quot;: &quot;JUST&quot;,\n&quot;college&quot;:&quot;informatics&quot;\n}\n}&quot;;\n\n\n\nBasicDBObject object = BasicDBObject.parse(json);\n</code></pre>\n<p>use <code>object</code> in the setter.</p>\n"}],"owner":{"account_id":11779773,"reputation":33,"user_id":8619841,"display_name":"JDTechTips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1819,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667580406,"creation_date":1594367902,"question_id":62829710,"body_markdown":"I have a simple POJO similar to below. Getters and setters are omitted for brevity.\r\n\r\n```\r\n@Document(collection = &quot;posts&quot;)\r\npublic class Post {\r\n\t@Id\r\n\tpublic String id;\r\n\t\r\n\t@Field(name = &quot;author&quot;)\r\n\tpublic String author;\r\n\t\r\n\t@Field(name = &quot;title&quot;)\r\n\tpublic String title;\r\n\t\r\n\t@Field(name = &quot;body&quot;)\r\n\tpublic JSONObject body;\r\n\t\r\n\tpublic Post() {\r\n\r\n\t}\r\n\t\r\n\tpublic Post(String id, String author, String title, JSONObject body) {\r\n\t\tthis.id = id;\r\n        this.title = title;\r\n\t\tthis.author = author;\r\n\t\tthis.body = body;\r\n\t}\r\n```\r\n\r\nAnd I use default save from MongoRepository in order to save my data:\r\n```\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface PostRepository extends MongoRepository&lt;Post, String&gt; {\r\n\r\n}\r\n```\r\n\r\nIt is getting saved to MongoDB by using the codes below:\r\n```\r\n@PostMapping\r\n\tpublic Post addPost(HttpEntity&lt;String&gt; httpEntity) {\r\n\t\ttry {\r\n\t\t\tJSONObject obj = new JSONObject(httpEntity.getBody());\r\n\r\n\t\t\tPost p1 = new Post(&quot;123&quot;, obj.getString(&quot;author&quot;), obj.getString(&quot;title&quot;), \r\n\t\t\t\t\tobj.getJSONObject(&quot;body&quot;));\r\n\r\n\t\t\treturn postRepository.save(p1);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhen it is saved in MongoDB, it stores fields that are not originally in the JSON that I am supposed to save.\r\n\r\nOriginal JSON:\r\n```\r\n{\r\n   body: {\r\n     blocks: {\r\n        [\r\n           { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; },\r\n           { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; },\r\n        ]\r\n     },\r\n     version: &quot;1.2.2&quot;\r\n   }\r\n}\r\n```\r\n\r\nSaved JSON:\r\n```\r\n{\r\n   body: {\r\n     map: {\r\n        blocks: {\r\n           myArrayList:\r\n           [\r\n               { map: { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; }, _class: &quot;org.json.JSONObject&quot; },\r\n               { map: { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; }, _class: &quot;org.json.JSONObject&quot; },\r\n           ],\r\n           _class: &quot;org.json.JSONArray&quot;\r\n        },\r\n        version: &quot;1.2.2&quot;\r\n     }\r\n   }\r\n}\r\n```\r\n\r\nWhen I try to get the data, I am receiving the following error:\r\n&gt;java.lang.IllegalStateException: Cannot set property map because no setter, no wither and it&#39;s not part of the persistence constructor public org.json.JSONObject()!\r\n\r\nThis is how I get the data:\r\n```\r\n@GetMapping(path = &quot;/{id}&quot;)\r\n\tpublic Post getPost(@PathVariable String id) {\r\n\t\ttry {\r\n\t\t\tOptional&lt;Post&gt; post = postRepository.findById(id);\r\n\r\n\t\t\treturn post.orElseThrow();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMy first question is, is there a way to save a JSON object to MongoDB without the extra fields (e.g. `map`, `myArrayList`)?\r\n\r\nSecond, how am I supposed to retrieve data with a JSONObject field in the POJO?\r\n\r\nThanks in advance!","title":"SpringBoot and MongoDB Saving Issue for a JSONObject Field inside a POJO","body":"<p>I have a simple POJO similar to below. Getters and setters are omitted for brevity.</p>\n<pre><code>@Document(collection = &quot;posts&quot;)\npublic class Post {\n    @Id\n    public String id;\n    \n    @Field(name = &quot;author&quot;)\n    public String author;\n    \n    @Field(name = &quot;title&quot;)\n    public String title;\n    \n    @Field(name = &quot;body&quot;)\n    public JSONObject body;\n    \n    public Post() {\n\n    }\n    \n    public Post(String id, String author, String title, JSONObject body) {\n        this.id = id;\n        this.title = title;\n        this.author = author;\n        this.body = body;\n    }\n</code></pre>\n<p>And I use default save from MongoRepository in order to save my data:</p>\n<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface PostRepository extends MongoRepository&lt;Post, String&gt; {\n\n}\n</code></pre>\n<p>It is getting saved to MongoDB by using the codes below:</p>\n<pre><code>@PostMapping\n    public Post addPost(HttpEntity&lt;String&gt; httpEntity) {\n        try {\n            JSONObject obj = new JSONObject(httpEntity.getBody());\n\n            Post p1 = new Post(&quot;123&quot;, obj.getString(&quot;author&quot;), obj.getString(&quot;title&quot;), \n                    obj.getJSONObject(&quot;body&quot;));\n\n            return postRepository.save(p1);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\n        }\n    }\n</code></pre>\n<p>When it is saved in MongoDB, it stores fields that are not originally in the JSON that I am supposed to save.</p>\n<p>Original JSON:</p>\n<pre><code>{\n   body: {\n     blocks: {\n        [\n           { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; },\n           { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; },\n        ]\n     },\n     version: &quot;1.2.2&quot;\n   }\n}\n</code></pre>\n<p>Saved JSON:</p>\n<pre><code>{\n   body: {\n     map: {\n        blocks: {\n           myArrayList:\n           [\n               { map: { data: &quot;Data 1&quot;, type: &quot;Type 1&quot; }, _class: &quot;org.json.JSONObject&quot; },\n               { map: { data: &quot;Data 2&quot;, type: &quot;Type 2&quot; }, _class: &quot;org.json.JSONObject&quot; },\n           ],\n           _class: &quot;org.json.JSONArray&quot;\n        },\n        version: &quot;1.2.2&quot;\n     }\n   }\n}\n</code></pre>\n<p>When I try to get the data, I am receiving the following error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Cannot set property map because no setter, no wither and it's not part of the persistence constructor public org.json.JSONObject()!</p>\n</blockquote>\n<p>This is how I get the data:</p>\n<pre><code>@GetMapping(path = &quot;/{id}&quot;)\n    public Post getPost(@PathVariable String id) {\n        try {\n            Optional&lt;Post&gt; post = postRepository.findById(id);\n\n            return post.orElseThrow();\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Foo Not Found&quot;, e);\n        }\n    }\n</code></pre>\n<p>My first question is, is there a way to save a JSON object to MongoDB without the extra fields (e.g. <code>map</code>, <code>myArrayList</code>)?</p>\n<p>Second, how am I supposed to retrieve data with a JSONObject field in the POJO?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","post","inputstream","resttemplate"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1599571923,"post_id":63794946,"comment_id":112810255,"body_markdown":"Why not using multipart instead?","body":"Why not using multipart instead?"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1599572703,"creation_date":1599572703,"answer_id":63795247,"question_id":63794946,"body_markdown":"[`ByteArrayHttpMessageConverter`][1] is for `byte[]`, not `InputStream`, just like the name of the class says.\r\n\r\nThere are no built-in [`HttpMessageConverter`][2] for `InputStream`, but there is a [`ResourceHttpMessageConverter`][3], which can handle e.g. an [`InputStreamResource`][4].\r\n\r\n```lang-java\r\nRestTemplate restTemplate = new RestTemplate(Arrays.asList(new ResourceHttpMessageConverter()));\r\nURI location = restTemplate.postForLocation(url, new InputStreamResource(inputStream)); \r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\r\n  [2]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [3]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\r\n  [4]: https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html","title":"POST InputStream RestTemplate","body":"<p><a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>ByteArrayHttpMessageConverter</code></a> is for <code>byte[]</code>, not <code>InputStream</code>, just like the name of the class says.</p>\n<p>There are no built-in <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverter</code></a> for <code>InputStream</code>, but there is a <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>ResourceHttpMessageConverter</code></a>, which can handle e.g. an <a href=\"https://docs.spring.io/spring/docs/5.2.7.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"nofollow noreferrer\"><code>InputStreamResource</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplate restTemplate = new RestTemplate(Arrays.asList(new ResourceHttpMessageConverter()));\nURI location = restTemplate.postForLocation(url, new InputStreamResource(inputStream)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1599572753,"creation_date":1599572753,"answer_id":63795266,"question_id":63794946,"body_markdown":"You cannot transfer streams over HTTP. HTTP is a stateless protocol and it won&#39;t support byte transfer. What you can do is\r\n1) Read the whole input stream and output it as a string or any other form\r\n2) Use any UDP form of data transfer (SOAP or sockets)","title":"POST InputStream RestTemplate","body":"<p>You cannot transfer streams over HTTP. HTTP is a stateless protocol and it won't support byte transfer. What you can do is</p>\n<ol>\n<li>Read the whole input stream and output it as a string or any other form</li>\n<li>Use any UDP form of data transfer (SOAP or sockets)</li>\n</ol>\n"}],"owner":{"account_id":19118313,"reputation":43,"user_id":13962753,"display_name":"Zeh Renics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63795247,"answer_count":2,"score":2,"last_activity_date":1667580318,"creation_date":1599571676,"question_id":63794946,"body_markdown":"I want to POST an InputStream to the Server. \r\nI&#39;m using Spring and therefore RestTemplate to execute my HTTP Requests.\r\n\r\nClient\r\n\r\n        public void postSomething(InputStream inputStream) {\r\n              String url = &quot;localhost:8080/example/id&quot;;\r\n              RestTemplate restTemplate = new RestTemplate();\r\n              restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\r\n              restTemplate.postForLocation(url, inputStream, InputStream.class); \r\n        }\r\n\r\nServer\r\n\r\n    @PostMapping(&quot;/example/{id}&quot;)\r\n    public void uploadFile(@RequestBody InputStream inputStream, @PathVariable String id) { \r\n               InputStream inputStream1 = inputStream;\r\n    }\r\n\r\nOn Client side I get \r\n`No HttpMessageConverter for [java.io.ByteArrayInputStream]`\r\nAnd on Server side I get `Cannot construct instance of &#39;java.io.InputStream&#39; (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information`\r\n\r\n\r\n\r\n\r\n","title":"POST InputStream RestTemplate","body":"<p>I want to POST an InputStream to the Server.\nI'm using Spring and therefore RestTemplate to execute my HTTP Requests.</p>\n<p>Client</p>\n<pre><code>    public void postSomething(InputStream inputStream) {\n          String url = &quot;localhost:8080/example/id&quot;;\n          RestTemplate restTemplate = new RestTemplate();\n          restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\n          restTemplate.postForLocation(url, inputStream, InputStream.class); \n    }\n</code></pre>\n<p>Server</p>\n<pre><code>@PostMapping(&quot;/example/{id}&quot;)\npublic void uploadFile(@RequestBody InputStream inputStream, @PathVariable String id) { \n           InputStream inputStream1 = inputStream;\n}\n</code></pre>\n<p>On Client side I get\n<code>No HttpMessageConverter for [java.io.ByteArrayInputStream]</code>\nAnd on Server side I get <code>Cannot construct instance of 'java.io.InputStream' (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</code></p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1667513361,"post_id":74294771,"comment_id":131190957,"body_markdown":"you need to raise exception on `retrieve()` method instead of `bodyToMono `","body":"you need to raise exception on <code>retrieve()</code> method instead of <code>bodyToMono </code>"},{"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"score":1,"creation_date":1667575526,"post_id":74294771,"comment_id":131206077,"body_markdown":"@AndreyB.Panfilov I tried the way you said, but try-catch still can&#39;t capture the `InvalidRequestException`. The function code is not written by me and I&#39;m new to Java. I think my code will throw `InvalidRequestException` when `WebClientResponseException` happens, right? Or it means an `InvalidRequestException` will be thrown only when there&#39;s an `error`? If so, how do we let `retrieve()` return an error?","body":"@AndreyB.Panfilov I tried the way you said, but try-catch still can&#39;t capture the <code>InvalidRequestException</code>. The function code is not written by me and I&#39;m new to Java. I think my code will throw <code>InvalidRequestException</code> when <code>WebClientResponseException</code> happens, right? Or it means an <code>InvalidRequestException</code> will be thrown only when there&#39;s an <code>error</code>? If so, how do we let <code>retrieve()</code> return an error?"}],"answers":[{"tags":[],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667580261,"creation_date":1667580261,"answer_id":74320355,"question_id":74294771,"body_markdown":"The solution is I need to wrap the exception in `Mono.error,` and then the `doOnError` will be triggered.\r\n```\r\nwhen(responseMock.bodyToMono(String.class)).thenReturn(Mono.error(thrownException));\r\n```","title":"Unit test the .doOnError in Java","body":"<p>The solution is I need to wrap the exception in <code>Mono.error,</code> and then the <code>doOnError</code> will be triggered.</p>\n<pre><code>when(responseMock.bodyToMono(String.class)).thenReturn(Mono.error(thrownException));\n</code></pre>\n"}],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74320355,"answer_count":1,"score":1,"last_activity_date":1667580261,"creation_date":1667417764,"question_id":74294771,"body_markdown":"I have a piece of code to send a request via WebClient:\r\n```\r\npublic String getResponse(String requestBody){\r\n ...\r\n    final WebClient.RequestHeadersSpec&lt;?&gt; request =\r\n        client.post().body(BodyInserters.fromValue(requestBody));\r\n\r\n    final String resp =\r\n        req.retrieve().bodyToMono(String.class)\r\n            .doOnError(\r\n                WebClientResponseException.class,\r\n                err -&gt; {\r\n                  // do something\r\n                  throw new InvalidRequestException(err.getResponseBodyAsString());\r\n                })\r\n            .block();\r\n ...\r\n}\r\n```\r\n\r\nFrom the code, it looks like the `InvalidRequestException` will be thrown when the `WebClientResponseException` happens. However, the test throws the `WebClientResponseException` instead of the `InvalidRequestException`. \r\n\r\nHere&#39;s the part of unit test I wrote to cover the `.doOnError` part. I tried the following:\r\n```\r\n...\r\nwhen(webClientMock.post()).thenReturn(requestBodyUriMock);\r\nwhen(requestBodyUriMock.body(any())).thenReturn(requestHeadersMock);\r\nwhen(requestHeadersMock.retrieve()).thenReturn(responseMock);\r\nwhen(responseMock.bodyToMono(String.class)).thenThrow(new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null));\r\n\r\ntry {\r\n      String result = someServiceSpy.getResponse(requestBody);\r\n} catch (InvalidRequestException e) {\r\n      assertEquals(expectedCode, e.getRawStatusCode());\r\n}\r\n```\r\n\r\n","title":"Unit test the .doOnError in Java","body":"<p>I have a piece of code to send a request via WebClient:</p>\n<pre><code>public String getResponse(String requestBody){\n ...\n    final WebClient.RequestHeadersSpec&lt;?&gt; request =\n        client.post().body(BodyInserters.fromValue(requestBody));\n\n    final String resp =\n        req.retrieve().bodyToMono(String.class)\n            .doOnError(\n                WebClientResponseException.class,\n                err -&gt; {\n                  // do something\n                  throw new InvalidRequestException(err.getResponseBodyAsString());\n                })\n            .block();\n ...\n}\n</code></pre>\n<p>From the code, it looks like the <code>InvalidRequestException</code> will be thrown when the <code>WebClientResponseException</code> happens. However, the test throws the <code>WebClientResponseException</code> instead of the <code>InvalidRequestException</code>.</p>\n<p>Here's the part of unit test I wrote to cover the <code>.doOnError</code> part. I tried the following:</p>\n<pre><code>...\nwhen(webClientMock.post()).thenReturn(requestBodyUriMock);\nwhen(requestBodyUriMock.body(any())).thenReturn(requestHeadersMock);\nwhen(requestHeadersMock.retrieve()).thenReturn(responseMock);\nwhen(responseMock.bodyToMono(String.class)).thenThrow(new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null));\n\ntry {\n      String result = someServiceSpy.getResponse(requestBody);\n} catch (InvalidRequestException e) {\n      assertEquals(expectedCode, e.getRawStatusCode());\n}\n</code></pre>\n"},{"tags":["java","android","api","listview","android-volley"],"comments":[{"owner":{"account_id":14059937,"reputation":2328,"user_id":10247147,"display_name":"Daniel.Wang"},"score":1,"creation_date":1612179567,"post_id":65992011,"comment_id":116676888,"body_markdown":"could you post adapter code, and create adapter part?","body":"could you post adapter code, and create adapter part?"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179667,"post_id":65992011,"comment_id":116676936,"body_markdown":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);\n        myproducts.setAdapter(arrayAdapter);","body":"ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);         myproducts.setAdapter(arrayAdapter);"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179855,"post_id":65992011,"comment_id":116677011,"body_markdown":"if i do-------  productList.add(&quot;hello world&quot;)    ----- then hello world show in list view but if i add the value through response as shown above, it get add in the productList which is ArrayList variavle but not shown in listview","body":"if i do-------  productList.add(&quot;hello world&quot;)    ----- then hello world show in list view but if i add the value through response as shown above, it get add in the productList which is ArrayList variavle but not shown in listview"},{"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"score":0,"creation_date":1612179910,"post_id":65992011,"comment_id":116677030,"body_markdown":"myproducts is my list view","body":"myproducts is my list view"}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612179920,"creation_date":1612179920,"answer_id":65992158,"question_id":65992011,"body_markdown":"You have to notify `adapter` about `dataset` changes using `notifyDataSetChanged()` or `notifyItemRangeInserted()` like below\r\n\r\n    public void onResponse(JSONArray response) {\r\n         try {\r\n             for(int i=0;i&lt;response.length();i++) {\r\n                 JSONObject productfromjson = response.getJSONObject(i);\r\n                 productList.add(productfromjson.getString(&quot;title&quot;));\r\n              }\r\n              arrayAdapter.notifyDataSetChanged();\r\n              Log.d(&quot;products&quot;, String.valueOf(productList));\r\n              Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n         } catch (JSONException e) {\r\n              e.printStackTrace();\r\n         }\r\n    }","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>You have to notify <code>adapter</code> about <code>dataset</code> changes using <code>notifyDataSetChanged()</code> or <code>notifyItemRangeInserted()</code> like below</p>\n<pre><code>public void onResponse(JSONArray response) {\n     try {\n         for(int i=0;i&lt;response.length();i++) {\n             JSONObject productfromjson = response.getJSONObject(i);\n             productList.add(productfromjson.getString(&quot;title&quot;));\n          }\n          arrayAdapter.notifyDataSetChanged();\n          Log.d(&quot;products&quot;, String.valueOf(productList));\n          Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n     } catch (JSONException e) {\n          e.printStackTrace();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17057383,"reputation":109,"user_id":12341584,"display_name":"Haris Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612183060,"creation_date":1612183060,"answer_id":65992859,"question_id":65992011,"body_markdown":"brother you don&#39;t have used notifyDataSetChanged();\r\nHere is how you will do it.\r\n\r\n    ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList); \r\n     myproducts.setAdapter(arrayAdapter);\r\n\r\n    public void onResponse(JSONArray response) {\r\n     try {\r\n         for(int i=0;i&lt;response.length();i++) {\r\n             JSONObject productfromjson = response.getJSONObject(i);\r\n             productList.add(productfromjson.getString(&quot;title&quot;));\r\n          }\r\n          arrayAdapter.notifyDataSetChanged();\r\n          Toast.makeText(getApplicationcontext, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n     } catch (JSONException e) {\r\n          e.printStackTrace();\r\n     }\r\n}","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>brother you don't have used notifyDataSetChanged();\nHere is how you will do it.</p>\n<pre><code>ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList); \n myproducts.setAdapter(arrayAdapter);\n\npublic void onResponse(JSONArray response) {\n try {\n     for(int i=0;i&lt;response.length();i++) {\n         JSONObject productfromjson = response.getJSONObject(i);\n         productList.add(productfromjson.getString(&quot;title&quot;));\n      }\n      arrayAdapter.notifyDataSetChanged();\n      Toast.makeText(getApplicationcontext, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n } catch (JSONException e) {\n      e.printStackTrace();\n }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19712352,"reputation":543,"user_id":14432582,"display_name":"Litva Nika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667580170,"creation_date":1612201470,"answer_id":65997585,"question_id":65992011,"body_markdown":"You have to let the adapter know that the data in the list has changed by adding this line into your code:\r\n\r\n    arrayAdapter.notifyDataSetChanged();\r\nSo your code should look like this:\r\n\r\n    public void onResponse(JSONArray response) {\r\n         try {\r\n             for(int i=0;i&lt;response.length();i++) {\r\n                 JSONObject productfromjson = response.getJSONObject(i);\r\n                 productList.add(productfromjson.getString(&quot;title&quot;));\r\n              }\r\n              arrayAdapter.notifyDataSetChanged();\r\n              Log.d(&quot;products&quot;, String.valueOf(productList));\r\n              Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n         } catch (JSONException e) {\r\n              e.printStackTrace();\r\n         }\r\n    }","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>You have to let the adapter know that the data in the list has changed by adding this line into your code:</p>\n<pre><code>arrayAdapter.notifyDataSetChanged();\n</code></pre>\n<p>So your code should look like this:</p>\n<pre><code>public void onResponse(JSONArray response) {\n     try {\n         for(int i=0;i&lt;response.length();i++) {\n             JSONObject productfromjson = response.getJSONObject(i);\n             productList.add(productfromjson.getString(&quot;title&quot;));\n          }\n          arrayAdapter.notifyDataSetChanged();\n          Log.d(&quot;products&quot;, String.valueOf(productList));\n          Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n     } catch (JSONException e) {\n          e.printStackTrace();\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":20599393,"reputation":5,"user_id":15120995,"display_name":"Shreyas Patne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65992158,"answer_count":3,"score":0,"last_activity_date":1667580170,"creation_date":1612179310,"question_id":65992011,"body_markdown":"I write this code to fetch data from URL and get the title from each JSON object and show this in the list view. The problem is data is stored successfully in productlist variable, which I check it by Log.d and Toast massage method. but it not show in listview.\r\n\r\n      public void onResponse(JSONArray response) {\r\n                try {\r\n                        for(int i=0;i&lt;response.length();i++) {\r\n                            JSONObject productfromjson = response.getJSONObject(i);\r\n                            productList.add(productfromjson.getString(&quot;title&quot;));\r\n                        }\r\n                        Log.d(&quot;products&quot;, String.valueOf(productList));\r\n                        Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n\r\n                    }\r\n            }\r\n\r\nthe following is the adaptor code\r\n       ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, productList);\r\n        myproducts.setAdapter(arrayAdapter);\r\n\r\n","title":"The adaptor not showing the Array list items in List view but show the string in Toast msg which used for test","body":"<p>I write this code to fetch data from URL and get the title from each JSON object and show this in the list view. The problem is data is stored successfully in productlist variable, which I check it by Log.d and Toast massage method. but it not show in listview.</p>\n<pre><code>  public void onResponse(JSONArray response) {\n            try {\n                    for(int i=0;i&lt;response.length();i++) {\n                        JSONObject productfromjson = response.getJSONObject(i);\n                        productList.add(productfromjson.getString(&quot;title&quot;));\n                    }\n                    Log.d(&quot;products&quot;, String.valueOf(productList));\n                    Toast.makeText(MainActivity.this, String.valueOf(productList), Toast.LENGTH_SHORT).show();\n                } catch (JSONException e) {\n                    e.printStackTrace();\n\n                }\n        }\n</code></pre>\n<p>the following is the adaptor code\nArrayAdapter arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, productList);\nmyproducts.setAdapter(arrayAdapter);</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667579355,"post_id":74320150,"comment_id":131207542,"body_markdown":"each of those methods return the object back.","body":"each of those methods return the object back."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667579392,"post_id":74320150,"comment_id":131207560,"body_markdown":"Like @ChengThao says, just declare the return type to be the class itself, and end the method with `return this;`","body":"Like @ChengThao says, just declare the return type to be the class itself, and end the method with <code>return this;</code>"}],"owner":{"account_id":13754510,"reputation":35,"user_id":9925805,"display_name":"Sugato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667579357,"answer_count":0,"score":0,"last_activity_date":1667579221,"creation_date":1667579221,"question_id":74320150,"body_markdown":" i was working with sparkSession object in java and encountered a code snippet like this\r\n```\r\nSparkSession.builder()\r\n.appnamme(&quot;some name&quot;)\r\n.config(..,..)\r\n.config(..,..)\r\n.config(..,..)\r\n.getOrCreate();\r\n```\r\ni am interested in implementing something like the cascading .config() calls ,\r\nhow can I recreate this method type in java? \r\n\r\nfor eg a cascading call which would simply add some string to a list","title":"cascading calls of same function java","body":"<p>i was working with sparkSession object in java and encountered a code snippet like this</p>\n<pre><code>SparkSession.builder()\n.appnamme(&quot;some name&quot;)\n.config(..,..)\n.config(..,..)\n.config(..,..)\n.getOrCreate();\n</code></pre>\n<p>i am interested in implementing something like the cascading .config() calls ,\nhow can I recreate this method type in java?</p>\n<p>for eg a cascading call which would simply add some string to a list</p>\n"},{"tags":["java","rest","methods","overriding"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1667555707,"post_id":74315103,"comment_id":131198792,"body_markdown":"you don&#39;t. You extract that part in (yet) another method, and call it on both places you need it","body":"you don&#39;t. You extract that part in (yet) another method, and call it on both places you need it"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667562442,"post_id":74315103,"comment_id":131201205,"body_markdown":"Why don’t you want to create another method?","body":"Why don’t you want to create another method?"}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667578654,"creation_date":1667578654,"answer_id":74320026,"question_id":74315103,"body_markdown":"You have to create a new method. Add it to the `UserEntity` class and call it something like `getRoleIds()`. Then it technically won&#39;t be an additional method call since you&#39;re replacing the existing call to getRoles.\r\n\r\nEx:\r\n```\r\nvar userRoles = entity.getRoles().stream()\r\n            .map(RoleEntity::getId)\r\n            .map(String::valueOf)\r\n            .collect(Collectors.toList());\r\n```\r\nbecomes\r\n```\r\nvar userRoles = entity.getRoleIds();\r\n```","title":"How to call part of one method in another in the same class?","body":"<p>You have to create a new method. Add it to the <code>UserEntity</code> class and call it something like <code>getRoleIds()</code>. Then it technically won't be an additional method call since you're replacing the existing call to getRoles.</p>\n<p>Ex:</p>\n<pre><code>var userRoles = entity.getRoles().stream()\n            .map(RoleEntity::getId)\n            .map(String::valueOf)\n            .collect(Collectors.toList());\n</code></pre>\n<p>becomes</p>\n<pre><code>var userRoles = entity.getRoleIds();\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74320026,"answer_count":1,"score":0,"last_activity_date":1667578654,"creation_date":1667555643,"question_id":74315103,"body_markdown":"I would like to use part of one method in another in the same class in order not to duplicate several lines in my code.\r\nThe first method is:\r\n\r\n    protected UserDTO map(UserEntity entity) {\r\n        var result = new UserDTO();\r\n        var userRoles = entity.getRoles().stream()\r\n                .map(RoleEntity::getId)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.toList());\r\n        result.setId(entity.getId().toString());\r\n        result.setLastAccessDate(entity.getLastAccessDate());\r\n        result.setRoles(userRoles);\r\n        if (entity.getEmail() != null) {\r\n            var email = new UserDTO.Email(entity.getEmail(), EMAIL_TYPE);\r\n            result.setEmails(List.of(email));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe second one is:\r\n   \r\n     public UserResource updateUser(String id, UserResource updatedUser) {\r\n            var optionalUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\r\n                updatedUser.setRoles(optionalUser.get().getRoles()\r\n                        .stream()\r\n                        .map(RoleEntity::getId)\r\n                        .map(String::valueOf)\r\n                        .collect(Collectors.toList()));\r\n                updatedUser.setLastAccessDate(optionalUser.get().getLastAccessDate());\r\n            var entity = mapToUserEntity(updatedUser);\r\n            userRepository.save(entity);\r\n            return updatedUser;\r\n        }\r\nSo, I have duplicate code in both methods:\r\n\r\n    .getRoles()\r\n    .stream()\r\n    .map(RoleEntity::getId)\r\n    .map(String::valueOf)\r\n    .collect(Collectors.toList()));\r\n\r\nCould you give me the piece of advice - how can I simplify this without creating additional method which will be called in two methods above?","title":"How to call part of one method in another in the same class?","body":"<p>I would like to use part of one method in another in the same class in order not to duplicate several lines in my code.\nThe first method is:</p>\n<pre><code>protected UserDTO map(UserEntity entity) {\n    var result = new UserDTO();\n    var userRoles = entity.getRoles().stream()\n            .map(RoleEntity::getId)\n            .map(String::valueOf)\n            .collect(Collectors.toList());\n    result.setId(entity.getId().toString());\n    result.setLastAccessDate(entity.getLastAccessDate());\n    result.setRoles(userRoles);\n    if (entity.getEmail() != null) {\n        var email = new UserDTO.Email(entity.getEmail(), EMAIL_TYPE);\n        result.setEmails(List.of(email));\n    }\n    return result;\n}\n</code></pre>\n<p>The second one is:</p>\n<pre><code> public UserResource updateUser(String id, UserResource updatedUser) {\n        var optionalUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\n            updatedUser.setRoles(optionalUser.get().getRoles()\n                    .stream()\n                    .map(RoleEntity::getId)\n                    .map(String::valueOf)\n                    .collect(Collectors.toList()));\n            updatedUser.setLastAccessDate(optionalUser.get().getLastAccessDate());\n        var entity = mapToUserEntity(updatedUser);\n        userRepository.save(entity);\n        return updatedUser;\n    }\n</code></pre>\n<p>So, I have duplicate code in both methods:</p>\n<pre><code>.getRoles()\n.stream()\n.map(RoleEntity::getId)\n.map(String::valueOf)\n.collect(Collectors.toList()));\n</code></pre>\n<p>Could you give me the piece of advice - how can I simplify this without creating additional method which will be called in two methods above?</p>\n"},{"tags":["java","executorservice","java.util.concurrent","java-threads"],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577965,"creation_date":1667577965,"answer_id":74319875,"question_id":74318706,"body_markdown":"The issue is that the elements array contains Futures. You&#39;re trying to put an integer into an array that contains Future objects, not integers. Futures are also immutable so you can&#39;t overwrite the value inside the Future either. Why are you creating the elements array by submitting tasks to the Executor? If you just create an array of integers you will fix your issue, but I&#39;m not entirely clear what the point is of the code you&#39;re writing. Also you are shutting down the executor after submitting the first batch, so the next batch will not be able to be submitted. You will also have some concurrency issues since you&#39;ll have multiple threads reading and writing to the same array.\r\n\r\n```\r\nvar ex = Executors.newFixedThreadPool(10);\r\n\r\nList&lt;Integer&gt; elements = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 100; i++) {\r\n  elements.add(1000);\r\n}\r\n\r\n//ex.shutdown();\r\n\r\nint sum = 0;\r\nfor (int el : elements) {\r\n  sum += el;\r\n}\r\nSystem.out.println(&quot;Initial sum: &quot; + sum);\r\n\r\nfor (int i = 0; i &lt; 10_000; i++) {\r\n  ex.submit(() -&gt; {\r\n      int firstIndex = ThreadLocalRandom.current().nextInt(100);\r\n      int secondIndex = ThreadLocalRandom.current().nextInt(100);\r\n      int randomAmount = ThreadLocalRandom.current().nextInt(1000);\r\n      if (elements.get(firstIndex) - randomAmount &gt; 0) {\r\n          elements.set(firstIndex, elements.get(firstIndex) - randomAmount);\r\n      }\r\n  });\r\n}\r\n```","title":"set&lt;int, Future&lt;Integer&gt; is not applicable to arguments (int,int)","body":"<p>The issue is that the elements array contains Futures. You're trying to put an integer into an array that contains Future objects, not integers. Futures are also immutable so you can't overwrite the value inside the Future either. Why are you creating the elements array by submitting tasks to the Executor? If you just create an array of integers you will fix your issue, but I'm not entirely clear what the point is of the code you're writing. Also you are shutting down the executor after submitting the first batch, so the next batch will not be able to be submitted. You will also have some concurrency issues since you'll have multiple threads reading and writing to the same array.</p>\n<pre><code>var ex = Executors.newFixedThreadPool(10);\n\nList&lt;Integer&gt; elements = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; 100; i++) {\n  elements.add(1000);\n}\n\n//ex.shutdown();\n\nint sum = 0;\nfor (int el : elements) {\n  sum += el;\n}\nSystem.out.println(&quot;Initial sum: &quot; + sum);\n\nfor (int i = 0; i &lt; 10_000; i++) {\n  ex.submit(() -&gt; {\n      int firstIndex = ThreadLocalRandom.current().nextInt(100);\n      int secondIndex = ThreadLocalRandom.current().nextInt(100);\n      int randomAmount = ThreadLocalRandom.current().nextInt(1000);\n      if (elements.get(firstIndex) - randomAmount &gt; 0) {\n          elements.set(firstIndex, elements.get(firstIndex) - randomAmount);\n      }\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":18511652,"reputation":39,"user_id":13486705,"display_name":"sufocator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667577965,"creation_date":1667572577,"question_id":74318706,"body_markdown":"Hi I am doing a concurrent programming task in java where I&#39;m using an executorService consisting of 10 threads. I have an array containing 100 elements all set initially to 1000. What I am trying to do is I have 2 indexes from the array, and I need to transfer a random amount from the first index to the second index, my problem is I&#39;m not sure how to use the set function here in this case, as the second parameter of set should be a Future&lt;Integer&gt;.\r\n```\r\n        var ex = Executors.newFixedThreadPool(10);\r\n\r\n        List&lt;Future&lt;Integer&gt;&gt; elements = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            elements.add(ex.submit(() -&gt; {\r\n                int val = 1000;\r\n                return val;\r\n            }));\r\n        }\r\n\r\n        ex.shutdown();\r\n\r\n        int sum = 0;\r\n        for (Future&lt;Integer&gt; el : elements) {\r\n            sum += el.get();\r\n        }\r\n        System.out.println(&quot;Initial sum: &quot; + sum);\r\n\r\nfor (int i = 0; i &lt; 10_000; i++) {\r\n            ex.submit(() -&gt; {\r\n                int firstIndex = ThreadLocalRandom.current().nextInt(100);\r\n                int secondIndex = ThreadLocalRandom.current().nextInt(100);\r\n                int randomAmount = ThreadLocalRandom.current().nextInt(1000);\r\n                try {\r\n                    if (elements.get(firstIndex).get() - randomAmount &gt; 0) {\r\n                        elements.set(firstIndex,elements.get(firstIndex).get() - randomAmount);\r\n                    }\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n```","title":"set&lt;int, Future&lt;Integer&gt; is not applicable to arguments (int,int)","body":"<p>Hi I am doing a concurrent programming task in java where I'm using an executorService consisting of 10 threads. I have an array containing 100 elements all set initially to 1000. What I am trying to do is I have 2 indexes from the array, and I need to transfer a random amount from the first index to the second index, my problem is I'm not sure how to use the set function here in this case, as the second parameter of set should be a Future.</p>\n<pre><code>        var ex = Executors.newFixedThreadPool(10);\n\n        List&lt;Future&lt;Integer&gt;&gt; elements = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 100; i++) {\n            elements.add(ex.submit(() -&gt; {\n                int val = 1000;\n                return val;\n            }));\n        }\n\n        ex.shutdown();\n\n        int sum = 0;\n        for (Future&lt;Integer&gt; el : elements) {\n            sum += el.get();\n        }\n        System.out.println(&quot;Initial sum: &quot; + sum);\n\nfor (int i = 0; i &lt; 10_000; i++) {\n            ex.submit(() -&gt; {\n                int firstIndex = ThreadLocalRandom.current().nextInt(100);\n                int secondIndex = ThreadLocalRandom.current().nextInt(100);\n                int randomAmount = ThreadLocalRandom.current().nextInt(1000);\n                try {\n                    if (elements.get(firstIndex).get() - randomAmount &gt; 0) {\n                        elements.set(firstIndex,elements.get(firstIndex).get() - randomAmount);\n                    }\n                } catch (InterruptedException | ExecutionException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1667487801,"post_id":74305182,"comment_id":131182752,"body_markdown":"Like the second array would contain numbers such as `11` `193491` and `6`?","body":"Like the second array would contain numbers such as <code>11</code> <code>193491</code> and <code>6</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667488358,"post_id":74305182,"comment_id":131182987,"body_markdown":"Technically, `6` would have the first digit matching the last digit, it&#39;s just that in both cases the first and last digit is index `0`. In all honesty, you might have an easier time working with the string values of the integers, since `String c = &quot;12321&quot;` could be compared via `c.charAt(0) == c.charAt(c.length() - 1)`.","body":"Technically, <code>6</code> would have the first digit matching the last digit, it&#39;s just that in both cases the first and last digit is index <code>0</code>. In all honesty, you might have an easier time working with the string values of the integers, since <code>String c = &quot;12321&quot;</code> could be compared via <code>c.charAt(0) == c.charAt(c.length() - 1)</code>."},{"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"score":0,"creation_date":1667488817,"post_id":74305182,"comment_id":131183148,"body_markdown":"I will try that, thanks. I wanted to know if there is a way to avoid string and just use an array of integers as an input","body":"I will try that, thanks. I wanted to know if there is a way to avoid string and just use an array of integers as an input"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667490067,"post_id":74305182,"comment_id":131183679,"body_markdown":"You would need to be able to `/10` and `%10` until you hit a `0`, which seems like more work than simple string comparisons. You&#39;re concerned with the lexical representation of the number, moreso than the number itself, so imo it&#39;s appropriate to work with the strings.","body":"You would need to be able to <code>&#47;10</code> and <code>%10</code> until you hit a <code>0</code>, which seems like more work than simple string comparisons. You&#39;re concerned with the lexical representation of the number, moreso than the number itself, so imo it&#39;s appropriate to work with the strings."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667490522,"post_id":74305182,"comment_id":131183876,"body_markdown":"(In addition to the above, you&#39;d need a `&gt;0` check, since just checking for 0s would fail on, say, `10001`.)","body":"(In addition to the above, you&#39;d need a <code>&gt;0</code> check, since just checking for 0s would fail on, say, <code>10001</code>.)"},{"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"score":0,"creation_date":1667494045,"post_id":74305182,"comment_id":131185312,"body_markdown":"I wanted to find pairs. The answers below helped me. Thank you","body":"I wanted to find pairs. The answers below helped me. Thank you"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667499076,"post_id":74305182,"comment_id":131186982,"body_markdown":"Note that for pairs, there are only 10 possible digits, and thus `10*10 == 100` possible types of pairs. So there may be a storage/cpu optimization available to you where instead of doing comparisons, you can simply &quot;feed&quot; the number into the appropriate set based on what it has.","body":"Note that for pairs, there are only 10 possible digits, and thus <code>10*10 == 100</code> possible types of pairs. So there may be a storage/cpu optimization available to you where instead of doing comparisons, you can simply &quot;feed&quot; the number into the appropriate set based on what it has."}],"answers":[{"tags":[],"owner":{"account_id":26611323,"reputation":26,"user_id":20231479,"display_name":"Youssef Rajoul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667489243,"creation_date":1667489243,"answer_id":74305570,"question_id":74305182,"body_markdown":"You can use the while loop (number /= 10) algorithm to get the first digit.&lt;br/&gt;\r\nAnd number % 10 to get the last digit.&lt;br/&gt;\r\nAnd then you can compare between them with if condition, if true you add that number to the list.&lt;br/&gt;\r\nAnd do not forget the return type of that method it must be List&lt;Integer&gt;&lt;br/&gt;\r\n\r\n    public List&lt;Integer&gt; findDuplicates(int[] array){\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            int firstDigit = array[i];\r\n            int lastDigit = array[i] % 10;\r\n            while (firstDigit &gt;= 10)\r\n                firstDigit /= 10;\r\n            if (firstDigit == lastDigit)\r\n                result.add(array[i]);\r\n        }\r\n        return result;\r\n    }","title":"Find numbers with same first and last digits","body":"<p>You can use the while loop (number /= 10) algorithm to get the first digit.<br/>\nAnd number % 10 to get the last digit.<br/>\nAnd then you can compare between them with if condition, if true you add that number to the list.<br/>\nAnd do not forget the return type of that method it must be List<br/></p>\n<pre><code>public List&lt;Integer&gt; findDuplicates(int[] array){\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; array.length; i++) {\n        int firstDigit = array[i];\n        int lastDigit = array[i] % 10;\n        while (firstDigit &gt;= 10)\n            firstDigit /= 10;\n        if (firstDigit == lastDigit)\n            result.add(array[i]);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25274459,"reputation":71,"user_id":19103327,"display_name":"Coline MIGNOT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667489865,"creation_date":1667489865,"answer_id":74305728,"question_id":74305182,"body_markdown":"The easiest way is to parse your numbers into strings and compare them. I did it this way :\r\n\r\n    public int[] findDuplicates(int[] a) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        boolean[] numbersThatHaveBeenAdded = new boolean[a.length];\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = i + 1; j &lt; a.length; j++) {\r\n\r\n                String iNumber = String.valueOf(a[i]);\r\n                String jNumber = String.valueOf(a[j]);\r\n                if (iNumber.charAt(0) == jNumber.charAt(0)\r\n                    &amp;&amp; iNumber.charAt(iNumber.length()-1) == jNumber.charAt(jNumber.length()-1)) {\r\n\r\n                    if (!numbersThatHaveBeenAdded[i]) {\r\n                        result.add(a[i]);\r\n                        numbersThatHaveBeenAdded[i] = true;\r\n                    }\r\n                    if (!numbersThatHaveBeenAdded[j]) {\r\n                        result.add(a[j]);\r\n                        numbersThatHaveBeenAdded[j] = true;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return result.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n    }\r\n\r\nAnd I used a boolean array to keep in memory the numbers I already added in the result, to avoid duplication.","title":"Find numbers with same first and last digits","body":"<p>The easiest way is to parse your numbers into strings and compare them. I did it this way :</p>\n<pre><code>public int[] findDuplicates(int[] a) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    boolean[] numbersThatHaveBeenAdded = new boolean[a.length];\n\n    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = i + 1; j &lt; a.length; j++) {\n\n            String iNumber = String.valueOf(a[i]);\n            String jNumber = String.valueOf(a[j]);\n            if (iNumber.charAt(0) == jNumber.charAt(0)\n                &amp;&amp; iNumber.charAt(iNumber.length()-1) == jNumber.charAt(jNumber.length()-1)) {\n\n                if (!numbersThatHaveBeenAdded[i]) {\n                    result.add(a[i]);\n                    numbersThatHaveBeenAdded[i] = true;\n                }\n                if (!numbersThatHaveBeenAdded[j]) {\n                    result.add(a[j]);\n                    numbersThatHaveBeenAdded[j] = true;\n                }\n            }\n\n        }\n    }\n\n    return result.stream()\n        .mapToInt(Integer::intValue)\n        .toArray();\n}\n</code></pre>\n<p>And I used a boolean array to keep in memory the numbers I already added in the result, to avoid duplication.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577717,"creation_date":1667500555,"answer_id":74308022,"question_id":74305182,"body_markdown":"&gt; I prefer to do this using integers instead of strings.\r\n\r\nYou can do it pretty easily with math using a `log` function.  Here, `^` is exponentiation.  This uses the fact that for some number `n`,  `n = 10^y`, where `y = log10(n)`.  Unless `y` is a power of `10`, it will have a fractional part which should be ignored. So `log10(12345) = 4.091491094267951`.  Ignoring the fraction and computing `10^4 == 10,000` which will yield `1` when dividing `12345`.  The right most digit is simply `12345 % 10` using the remainder operator.   \r\n```\r\nint[] testData = {1,3,122,121,455,19202,20222, 29927, 291957, 49855, 291293};\r\nint[] result = findDuplicates(testData);\r\nSystem.out.println(Arrays.toString(result));\r\n\r\n```\r\nprints\r\n```\r\n[29927, 291957, 1, 121, 122, 19202, 455, 49855]\r\n```\r\nThis method uses a `Map&lt;Integer, List&lt;Integer&gt;&gt;` to collect the values.\r\n- The key is the first and last digits combined `firstDigit * 10 + lastDigit` which is determined in the `getFirstAndLast` method.\r\n- Once the map is generated, the values are processed to return just the array of values which met the criteria. Since this works with a single iteration, no duplicates will occur *unless* they were included in the data.\r\n```\r\npublic static int[] findDuplicates(int[] array) {\r\n    // collect into a map. Key = firstDigit * 10 + lastDigit\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = Arrays.stream(array).boxed()\r\n            .collect(Collectors.groupingBy(i-&gt;getFirstAndLast(i)));\r\n    \r\n    // map.values() returns a `Collection of lists.\r\n    // The following transforms the those Collections to a flattened array \r\n    // of ints, ignoring lists that have a single, unique, value.\r\n    return map.values().stream().filter(list -&gt; list.size() &gt; 1)\r\n            .flatMap(List::stream).mapToInt(Integer::intValue).toArray();\r\n}\r\n\r\n```\r\n- The method takes the target and the digits argument.            \r\n- The digits from the target are extracted and compared the supplied digits value by building the digits value from the first and last digits of the target. \r\n\r\n```   \r\npublic static int getFirstAndLast(int target) {\r\n    int divisor = (int) Math.pow(10, (int) Math.log10(target));\r\n    int firstDigit = target / divisor;\r\n    int lastDigit = target % 10;\r\n    return firstDigit * 10 + lastDigit;\r\n}\r\n```\r\n**Notes:**\r\n- `Arrays` are cumbersome, especially when working between primitive arrays and arrays or `Lists` of objects. I recommend you use `Collections` where ever possible.\r\n- The two statements in the `findDuplicates` method could have been combined. However, I find doing so to be cluttered and of no performance benefit.","title":"Find numbers with same first and last digits","body":"<blockquote>\n<p>I prefer to do this using integers instead of strings.</p>\n</blockquote>\n<p>You can do it pretty easily with math using a <code>log</code> function.  Here, <code>^</code> is exponentiation.  This uses the fact that for some number <code>n</code>,  <code>n = 10^y</code>, where <code>y = log10(n)</code>.  Unless <code>y</code> is a power of <code>10</code>, it will have a fractional part which should be ignored. So <code>log10(12345) = 4.091491094267951</code>.  Ignoring the fraction and computing <code>10^4 == 10,000</code> which will yield <code>1</code> when dividing <code>12345</code>.  The right most digit is simply <code>12345 % 10</code> using the remainder operator.</p>\n<pre><code>int[] testData = {1,3,122,121,455,19202,20222, 29927, 291957, 49855, 291293};\nint[] result = findDuplicates(testData);\nSystem.out.println(Arrays.toString(result));\n\n</code></pre>\n<p>prints</p>\n<pre><code>[29927, 291957, 1, 121, 122, 19202, 455, 49855]\n</code></pre>\n<p>This method uses a <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code> to collect the values.</p>\n<ul>\n<li>The key is the first and last digits combined <code>firstDigit * 10 + lastDigit</code> which is determined in the <code>getFirstAndLast</code> method.</li>\n<li>Once the map is generated, the values are processed to return just the array of values which met the criteria. Since this works with a single iteration, no duplicates will occur <em>unless</em> they were included in the data.</li>\n</ul>\n<pre><code>public static int[] findDuplicates(int[] array) {\n    // collect into a map. Key = firstDigit * 10 + lastDigit\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = Arrays.stream(array).boxed()\n            .collect(Collectors.groupingBy(i-&gt;getFirstAndLast(i)));\n    \n    // map.values() returns a `Collection of lists.\n    // The following transforms the those Collections to a flattened array \n    // of ints, ignoring lists that have a single, unique, value.\n    return map.values().stream().filter(list -&gt; list.size() &gt; 1)\n            .flatMap(List::stream).mapToInt(Integer::intValue).toArray();\n}\n\n</code></pre>\n<ul>\n<li>The method takes the target and the digits argument.</li>\n<li>The digits from the target are extracted and compared the supplied digits value by building the digits value from the first and last digits of the target.</li>\n</ul>\n<pre><code>public static int getFirstAndLast(int target) {\n    int divisor = (int) Math.pow(10, (int) Math.log10(target));\n    int firstDigit = target / divisor;\n    int lastDigit = target % 10;\n    return firstDigit * 10 + lastDigit;\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li><code>Arrays</code> are cumbersome, especially when working between primitive arrays and arrays or <code>Lists</code> of objects. I recommend you use <code>Collections</code> where ever possible.</li>\n<li>The two statements in the <code>findDuplicates</code> method could have been combined. However, I find doing so to be cluttered and of no performance benefit.</li>\n</ul>\n"}],"owner":{"account_id":18772787,"reputation":43,"user_id":13689270,"display_name":"eScape CS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74305728,"answer_count":3,"score":1,"last_activity_date":1667577717,"creation_date":1667487632,"question_id":74305182,"body_markdown":"Sorry if I type something wrong, I am new. I want to create a method that takes an array, and gives back an array with the numbers that have the same first and last digits in the previous array.Example: 12 is equal to 1342. \r\n\r\nI have created this for loop to go through the numbers, but I don&#39;t know how to compare them.\r\n\r\n```\r\npublic int[] findDuplicates(int[] a) {\r\n      List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; a.length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif ((//what do I write here) ) {\r\n\t\t\t\t\t//and here\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n\t}\r\n```","title":"Find numbers with same first and last digits","body":"<p>Sorry if I type something wrong, I am new. I want to create a method that takes an array, and gives back an array with the numbers that have the same first and last digits in the previous array.Example: 12 is equal to 1342.</p>\n<p>I have created this for loop to go through the numbers, but I don't know how to compare them.</p>\n<pre><code>public int[] findDuplicates(int[] a) {\n      List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; a.length; i++) {\n            for (int j = i + 1; j &lt; a.length; j++) {\n                \n                if ((//what do I write here) ) {\n                    //and here\n\n                }\n                \n            }\n        }\n\n        return result.stream()\n            .mapToInt(Integer::intValue)\n            .toArray();\n    }\n</code></pre>\n"},{"tags":["java","reactive","completable-future","mutiny"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1667519483,"post_id":74310062,"comment_id":131192038,"body_markdown":"What problem does `onItem().transformToIterable()` cause for you? It converts the Multi&lt;List&lt;Integer&gt;&gt; to Multi&lt;Integer&gt; for you.","body":"What problem does <code>onItem().transformToIterable()</code> cause for you? It converts the Multi&lt;List&lt;Integer&gt;&gt; to Multi&lt;Integer&gt; for you."},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1667557900,"post_id":74310062,"comment_id":131199576,"body_markdown":"I like your username sir, I&#39;ve downedvoted the answer but upvoted your comment to make it even. Now to the point, there is nothing wrong with `onItem().transformToIterable()` but feels there may be a nicer shorter way","body":"I like your username sir, I&#39;ve downedvoted the answer but upvoted your comment to make it even. Now to the point, there is nothing wrong with <code>onItem().transformToIterable()</code> but feels there may be a nicer shorter way"}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577324,"creation_date":1667520320,"answer_id":74310805,"question_id":74310062,"body_markdown":"You can use `Multi.createFrom().iterable()` and pass in the result of the CompletableFuture. \r\n\r\n    Multi&lt;Integer&gt; stream = Multi\r\n                        .createFrom()\r\n                        .iterable(getStuffAsync().get());\r\n\r\n---\r\n\r\n#### Alternatively use a utility method to create it. \r\n\r\nCreate this class Multi.java (or other name) in a package such as util:\r\n\r\n    package util;\r\n    \r\n    import io.smallrye.mutiny.groups.*;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    import java.util.function.Function;\r\n    \r\n    \r\n    public interface Multi&lt;T&gt; extends io.smallrye.mutiny.Multi&lt;T&gt; {\r\n        static &lt;T&gt; io.smallrye.mutiny.Multi&lt;T&gt; createFromCompletionStageIterable(CompletableFuture&lt;? extends Iterable&lt;T&gt;&gt; completableFuture) {\r\n            return MultiCreate.INSTANCE.completionStage(completableFuture).onItem().transformToIterable(Function.identity());\r\n        }\r\n    }\r\n\r\nThen you can use your custom method like this:\r\n\r\n    Multi&lt;Integer&gt; stream = util.Multi\r\n    .createFromCompletionStageIterable(getStuffAsync());","title":"Java Mutiny Multi from CompletableFuture&lt;List&lt;T&gt;&gt;","body":"<p>You can use <code>Multi.createFrom().iterable()</code> and pass in the result of the CompletableFuture.</p>\n<pre><code>Multi&lt;Integer&gt; stream = Multi\n                    .createFrom()\n                    .iterable(getStuffAsync().get());\n</code></pre>\n<hr />\n<h4>Alternatively use a utility method to create it.</h4>\n<p>Create this class Multi.java (or other name) in a package such as util:</p>\n<pre><code>package util;\n\nimport io.smallrye.mutiny.groups.*;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.function.Function;\n\n\npublic interface Multi&lt;T&gt; extends io.smallrye.mutiny.Multi&lt;T&gt; {\n    static &lt;T&gt; io.smallrye.mutiny.Multi&lt;T&gt; createFromCompletionStageIterable(CompletableFuture&lt;? extends Iterable&lt;T&gt;&gt; completableFuture) {\n        return MultiCreate.INSTANCE.completionStage(completableFuture).onItem().transformToIterable(Function.identity());\n    }\n}\n</code></pre>\n<p>Then you can use your custom method like this:</p>\n<pre><code>Multi&lt;Integer&gt; stream = util.Multi\n.createFromCompletionStageIterable(getStuffAsync());\n</code></pre>\n"}],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667577324,"creation_date":1667513162,"question_id":74310062,"body_markdown":"say you have a method:\r\n\r\n```\r\npublic CompletableFuture&lt;List&lt;Integer&gt;&gt; getStuffAsync()\r\n```\r\n\r\nI want the same stream as:\r\n\r\n```\r\nMulti&lt;Integer&gt; stream  = Multi\r\n.createFrom().completionStage(() -&gt; getStuffAsync())\r\n.onItem().transformToIterable(Function.identity())\r\n```\r\n\r\nwhich is a stream of each integer returned by the list from the method specified at the beggining...\r\n\r\nbut without the `onItem().transformToIterable()`, hopefully something like:\r\n\r\n```\r\nMulti.createFrom().completionStageIterable(() -&gt; getStuffAsync())\r\n```\r\n\r\npurely for aesthetic reasons and to save on valuable characters","title":"Java Mutiny Multi from CompletableFuture&lt;List&lt;T&gt;&gt;","body":"<p>say you have a method:</p>\n<pre><code>public CompletableFuture&lt;List&lt;Integer&gt;&gt; getStuffAsync()\n</code></pre>\n<p>I want the same stream as:</p>\n<pre><code>Multi&lt;Integer&gt; stream  = Multi\n.createFrom().completionStage(() -&gt; getStuffAsync())\n.onItem().transformToIterable(Function.identity())\n</code></pre>\n<p>which is a stream of each integer returned by the list from the method specified at the beggining...</p>\n<p>but without the <code>onItem().transformToIterable()</code>, hopefully something like:</p>\n<pre><code>Multi.createFrom().completionStageIterable(() -&gt; getStuffAsync())\n</code></pre>\n<p>purely for aesthetic reasons and to save on valuable characters</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1566969101,"post_id":57685424,"comment_id":101816296,"body_markdown":"I&#39;m voting to close this question as off-topic because this is not a &quot;do my homework for me&quot; site","body":"I&#39;m voting to close this question as off-topic because this is not a &quot;do my homework for me&quot; site"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566969412,"post_id":57685424,"comment_id":101816379,"body_markdown":"I was having issues adding my code, it there now. Thanks.","body":"I was having issues adding my code, it there now. Thanks."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1566969592,"post_id":57685424,"comment_id":101816429,"body_markdown":"The opposite of `(a == 0 || b == 0)` is `(a != 0 &amp;&amp; b != 0)`. The `if` statement in the second loop uses `||` when it should use `&amp;&amp;`.","body":"The opposite of <code>(a == 0 || b == 0)</code> is <code>(a != 0 &amp;&amp; b != 0)</code>. The <code>if</code> statement in the second loop uses <code>||</code> when it should use <code>&amp;&amp;</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1566969683,"post_id":57685424,"comment_id":101816454,"body_markdown":"&quot;Count all that is, and count all that isn&#39;t. The sum of those counts should equal the total count.&quot; --- In what world wouldn&#39;t they equal? You just counted all the values, so how can that not equal to total count? That test makes no sense whatsoever.","body":"&quot;Count all that is, and count all that isn&#39;t. The sum of those counts should equal the total count.&quot; --- In what world wouldn&#39;t they equal? You just counted all the values, so how can that not equal to total count? That test makes no sense whatsoever."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1566969814,"post_id":57685424,"comment_id":101816489,"body_markdown":"`a / 2 == 0` is not the test for whether `a` is *divisible* by 2. You need to use `%` operator, not `/` operator, to test that.","body":"<code>a &#47; 2 == 0</code> is not the test for whether <code>a</code> is <i>divisible</i> by 2. You need to use <code>%</code> operator, not <code>&#47;</code> operator, to test that."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1566969870,"post_id":57685424,"comment_id":101816503,"body_markdown":"@ScaryWombat If `a[j]` is 1, the result is false.","body":"@ScaryWombat If <code>a[j]</code> is 1, the result is false."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566969899,"post_id":57685424,"comment_id":101816511,"body_markdown":"@Andeas, thanks a lot, it worked. But for this input int[] a = {3, 3, 5, 7, 11} It&#39;s returning 1 instead of 0.","body":"@Andeas, thanks a lot, it worked. But for this input int[] a = {3, 3, 5, 7, 11} It&#39;s returning 1 instead of 0."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566970151,"post_id":57685424,"comment_id":101816579,"body_markdown":"@Hulk because the no integer is divisible by 2.","body":"@Hulk because the no integer is divisible by 2."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1566970162,"post_id":57685424,"comment_id":101816582,"body_markdown":"You need to add a check that *each* of the numbers you are looking for is present. Currently you are only checking the sum. You can do that by maintaining 3 separate counts instead of `countOne`.","body":"You need to add a check that <i>each</i> of the numbers you are looking for is present. Currently you are only checking the sum. You can do that by maintaining 3 separate counts instead of <code>countOne</code>."},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1566970779,"post_id":57685424,"comment_id":101816766,"body_markdown":"@Hulk thanks, trying to wrap my head around it.","body":"@Hulk thanks, trying to wrap my head around it."},{"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"score":0,"creation_date":1566972604,"post_id":57685424,"comment_id":101817328,"body_markdown":"Basically what you are trying to do is `if divisible by 2, 3 or 5 -&gt; countOne++, else -&gt; countTwo++`. So since all elements are counted for in one of the counters your total sum will always equal array length. As Andreas said earlier this check makes no sense currently. Are you expecting to `return 1` if and only if `countOne == array.length` or if atleast one number divisible by 2, 3 AND 5 is present?","body":"Basically what you are trying to do is <code>if divisible by 2, 3 or 5 -&gt; countOne++, else -&gt; countTwo++</code>. So since all elements are counted for in one of the counters your total sum will always equal array length. As Andreas said earlier this check makes no sense currently. Are you expecting to <code>return 1</code> if and only if <code>countOne == array.length</code> or if atleast one number divisible by 2, 3 AND 5 is present?"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567172594,"post_id":57685424,"comment_id":101895955,"body_markdown":"@Tunde did my answer work?","body":"@Tunde did my answer work?"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1567348326,"post_id":57685424,"comment_id":101931250,"body_markdown":"@Daniel K, there has to be a number divisible by 2, another one divisible by 3 and a third number which would be divisible by 5, this is the first thing to check ,if this first check fails, it should return 0. The second thing is just to count all other numbers that are not divisible by either 2, 3 or 5, then it should return 1 because obviously the length of the array would be equal to the total number of the array elements. Thanks a l","body":"@Daniel K, there has to be a number divisible by 2, another one divisible by 3 and a third number which would be divisible by 5, this is the first thing to check ,if this first check fails, it should return 0. The second thing is just to count all other numbers that are not divisible by either 2, 3 or 5, then it should return 1 because obviously the length of the array would be equal to the total number of the array elements. Thanks a l"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1567348677,"post_id":57685424,"comment_id":101931335,"body_markdown":"@Tunde did my answer work??","body":"@Tunde did my answer work??"},{"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"score":0,"creation_date":1567382819,"post_id":57685424,"comment_id":101937807,"body_markdown":"@Daniel K, no it didn&#39;t. This input int[] arr = {2, 3, 5, 7, 11} it&#39;s returning 0 instead of 1. Thanks.","body":"@Daniel K, no it didn&#39;t. This input int[] arr = {2, 3, 5, 7, 11} it&#39;s returning 0 instead of 1. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566975356,"creation_date":1566974935,"answer_id":57686469,"question_id":57685424,"body_markdown":"When you want to compare if an integer is divisible by a number then you should use the [remainder operator][1]\r\n\r\nSo here&#39;s the code:\r\n\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int n = a.length;\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            if (a[i] % 2 == 0 || a[i] % 3 == 0 || a[i] / 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n        \r\n        if (countOne + countTwo != n) {\r\n            return 0;\r\n        }else{return 1;}\r\n        \r\n    }\r\n}\r\n```\r\n\r\nAlso notice that there is no need to write that 2nd ```for loop``` as it isn&#39;t necessary at all and a bad practice if you can do the task using a single for loop.\r\n\r\nAlso as mentioned is the [answer][2] of the question, a ```for-each loop``` is better [performance wise] than the regular ```for loop``` so using a ```for-each loop``` would turn in into:\r\n\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i : a) {\r\n            if (i % 2 == 0 || i % 3 == 0 || i / 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n\r\n        if (countOne + countTwo != a.length) {\r\n            return 0;\r\n        }else{return 1;}\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.cafeaulait.org/course/week2/15.html\r\n  [2]: https://stackoverflow.com/questions/256859/is-there-a-performance-difference-between-a-for-loop-and-a-for-each-loop","title":"Check if array Is235","body":"<p>When you want to compare if an integer is divisible by a number then you should use the <a href=\"http://www.cafeaulait.org/course/week2/15.html\" rel=\"nofollow noreferrer\">remainder operator</a></p>\n\n<p>So here's the code:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int n = a.length;\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i] % 2 == 0 || a[i] % 3 == 0 || a[i] / 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != n) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n\n<p>Also notice that there is no need to write that 2nd <code>for loop</code> as it isn't necessary at all and a bad practice if you can do the task using a single for loop.</p>\n\n<p>Also as mentioned is the <a href=\"https://stackoverflow.com/questions/256859/is-there-a-performance-difference-between-a-for-loop-and-a-for-each-loop\">answer</a> of the question, a <code>for-each loop</code> is better [performance wise] than the regular <code>for loop</code> so using a <code>for-each loop</code> would turn in into:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i : a) {\n            if (i % 2 == 0 || i % 3 == 0 || i / 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != a.length) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567420499,"creation_date":1567420499,"answer_id":57755450,"question_id":57685424,"body_markdown":"Try this, I tested it and it works, you should use the remainder operator ```%```:\r\n```\r\npublic class Array {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] arr = {2, 3, 5, 7, 11};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n\r\n    public static int is235Array(int[] a) {\r\n        int countOne = 0;\r\n        int countTwo = 0;\r\n\r\n        for (int i : a) {\r\n            if (i % 2 == 0 || i % 3 == 0 || i % 5 == 0) {\r\n                countOne++;\r\n            }else{countTwo++;}\r\n        }\r\n\r\n        if (countOne + countTwo != a.length) {\r\n            return 0;\r\n        }else{return 1;}\r\n\r\n    }\r\n}\r\n```","title":"Check if array Is235","body":"<p>Try this, I tested it and it works, you should use the remainder operator <code>%</code>:</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i : a) {\n            if (i % 2 == 0 || i % 3 == 0 || i % 5 == 0) {\n                countOne++;\n            }else{countTwo++;}\n        }\n\n        if (countOne + countTwo != a.length) {\n            return 0;\n        }else{return 1;}\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13271791,"reputation":157,"user_id":9582575,"display_name":"Alagie F. Nget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667577159,"creation_date":1667577159,"answer_id":74319687,"question_id":57685424,"body_markdown":"Check if an array is 235. is235Array.\r\n\r\n    public class Array{\r\n\r\n    static int is235Array(int[] a){\r\n\r\n        int countNonMultiples = 0;\r\n        int countMultiplesOfTwo = 0;\r\n        int countMultiplesOfThree = 0;\r\n        int countMultiplesOfFive = 0;\r\n\r\n        for (int i : a){\r\n            if(i % 2 == 0 ){\r\n                countMultiplesOfTwo++;\r\n            }\r\n            if(i % 3 == 0){\r\n                countMultiplesOfThree++;\r\n            }\r\n            if(i % 5 == 0){\r\n                countMultiplesOfFive++;\r\n            }\r\n            if(i % 2 != 0 &amp;&amp; i % 3 != 0 &amp;&amp; i % 5 != 0 ){\r\n                countNonMultiples++;\r\n            }\r\n        }\r\n\r\n        if(countMultiplesOfTwo + countMultiplesOfThree + countMultiplesOfFive + countNonMultiples != a.length){\r\n            return 0;\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {7,2,7,2,7,2,7,2,3,7,7};\r\n\r\n        System.out.println(is235Array(arr));\r\n    }\r\n}","title":"Check if array Is235","body":"<p>Check if an array is 235. is235Array.</p>\n<pre><code>public class Array{\n\nstatic int is235Array(int[] a){\n\n    int countNonMultiples = 0;\n    int countMultiplesOfTwo = 0;\n    int countMultiplesOfThree = 0;\n    int countMultiplesOfFive = 0;\n\n    for (int i : a){\n        if(i % 2 == 0 ){\n            countMultiplesOfTwo++;\n        }\n        if(i % 3 == 0){\n            countMultiplesOfThree++;\n        }\n        if(i % 5 == 0){\n            countMultiplesOfFive++;\n        }\n        if(i % 2 != 0 &amp;&amp; i % 3 != 0 &amp;&amp; i % 5 != 0 ){\n            countNonMultiples++;\n        }\n    }\n\n    if(countMultiplesOfTwo + countMultiplesOfThree + countMultiplesOfFive + countNonMultiples != a.length){\n        return 0;\n    }\n    return 1;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {7,2,7,2,7,2,7,2,3,7,7};\n\n    System.out.println(is235Array(arr));\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6748708,"reputation":31,"user_id":5199479,"display_name":"Tunde"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":8,"up_vote_count":2,"accepted_answer_id":57755450,"answer_count":3,"score":-6,"last_activity_date":1667577159,"creation_date":1566969032,"question_id":57685424,"body_markdown":"I want to check if an array Is235. Is235 is an array that has an integer divisible by 2, another integer divisible by 3 and a third integer divisible by 5. The other integers in the array that aren’t divisible by either of 2, 3, or 5 when added to the integers divisible by 2, 3 and 5 should be equal to the total number of elements in the array. Return 1 if the array Is235, else return 0. Please note that array cannot contain negative integers or zero. I want to approach this in a brute force manner only, thanks for your help in advance.\r\nMy wrong attempt -  \r\n\r\n    public class Array {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int[] arr = {2, 3, 5, 7, 11};\r\n    \r\n            System.out.println(is235Array(arr));\r\n        }\r\n    \r\n        public static int is235Array(int[] a) {\r\n            int n = a.length;\r\n            int countOne = 0;\r\n            int countTwo = 0;\r\n    \r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                if (a[i] / 2 == 0 || a[i] / 3 == 0 || a[i] / 5 == 0) {\r\n                    countOne++;\r\n                }\r\n            }\r\n            for (int j = 0; j &lt; a.length; j++) {\r\n                if (a[j] / 2 != 0 || a[j] / 3 != 0 || a[j] / 5 != 0) {\r\n                    countTwo++;\r\n                }\r\n            }\r\n            if (countOne + countTwo != n) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n    }\r\n\r\nMy countOne and countTwo variables couldn&#39;t count the integers as i taught it would.\r\n\r\n\r\n    ","title":"Check if array Is235","body":"<p>I want to check if an array Is235. Is235 is an array that has an integer divisible by 2, another integer divisible by 3 and a third integer divisible by 5. The other integers in the array that aren’t divisible by either of 2, 3, or 5 when added to the integers divisible by 2, 3 and 5 should be equal to the total number of elements in the array. Return 1 if the array Is235, else return 0. Please note that array cannot contain negative integers or zero. I want to approach this in a brute force manner only, thanks for your help in advance.\nMy wrong attempt -  </p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[] arr = {2, 3, 5, 7, 11};\n\n        System.out.println(is235Array(arr));\n    }\n\n    public static int is235Array(int[] a) {\n        int n = a.length;\n        int countOne = 0;\n        int countTwo = 0;\n\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i] / 2 == 0 || a[i] / 3 == 0 || a[i] / 5 == 0) {\n                countOne++;\n            }\n        }\n        for (int j = 0; j &lt; a.length; j++) {\n            if (a[j] / 2 != 0 || a[j] / 3 != 0 || a[j] / 5 != 0) {\n                countTwo++;\n            }\n        }\n        if (countOne + countTwo != n) {\n            return 0;\n        }\n        return 1;\n    }\n}\n</code></pre>\n\n<p>My countOne and countTwo variables couldn't count the integers as i taught it would.</p>\n"},{"tags":["java","string","multiple-matches"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667574325,"post_id":74319012,"comment_id":131205633,"body_markdown":"You may be forgetting about what could come between the two things you are searching for. You should include some example inputs, and what matches you are hoping to find in them.","body":"You may be forgetting about what could come between the two things you are searching for. You should include some example inputs, and what matches you are hoping to find in them."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1667574747,"post_id":74319012,"comment_id":131205789,"body_markdown":"Your samples don&#39;t **match** (which would imply the whole input matches the regex). You might want to use `find` instead.","body":"Your samples don&#39;t <b>match</b> (which would imply the whole input matches the regex). You might want to use <code>find</code> instead."}],"owner":{"account_id":26830622,"reputation":11,"user_id":20418656,"display_name":"shaharW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667576585,"creation_date":1667574024,"question_id":74319012,"body_markdown":"I want to look for any of the following sequences: either one of `*` `-` `/` `+` followed by a `*` `+` `/`\r\n\r\nfor example: \r\n`4+*2` is something I am looking for.\r\n `4+5/2` is not\r\n\r\n\r\n\r\n    if (combinedArray.matches(&quot;[-*+/][*+/]&quot;))\r\n    {\r\n    ...code\r\n    }\r\n\r\nI&#39;d be happy to know what I did wrong.\r\n\r\nI basicly want it to have the same logic as this:\r\n```\r\nif (combinedArray.contains(&quot;*/&quot;) | combinedArray.contains(&quot;*+&quot;) | combinedArray.contains(&quot;**&quot;) \r\n        | combinedArray.contains(&quot;//&quot;) | combinedArray.contains(&quot;/+&quot;) | combinedArray.contains(&quot;/*&quot;) \r\n        | combinedArray.contains(&quot;+/&quot;) | combinedArray.contains(&quot;++&quot;) | combinedArray.contains(&quot;+*&quot;) \r\n        | combinedArray.contains(&quot;-/&quot;) | combinedArray.contains(&quot;-+&quot;) | combinedArray.contains(&quot;-*&quot;) )\r\n~~~","title":"Is there a way of checking for multiple string sequences with String.matches in Java?","body":"<p>I want to look for any of the following sequences: either one of <code>*</code> <code>-</code> <code>/</code> <code>+</code> followed by a <code>*</code> <code>+</code> <code>/</code></p>\n<p>for example:\n<code>4+*2</code> is something I am looking for.\n<code>4+5/2</code> is not</p>\n<pre><code>if (combinedArray.matches(&quot;[-*+/][*+/]&quot;))\n{\n...code\n}\n</code></pre>\n<p>I'd be happy to know what I did wrong.</p>\n<p>I basicly want it to have the same logic as this:</p>\n<pre><code>if (combinedArray.contains(&quot;*/&quot;) | combinedArray.contains(&quot;*+&quot;) | combinedArray.contains(&quot;**&quot;) \n        | combinedArray.contains(&quot;//&quot;) | combinedArray.contains(&quot;/+&quot;) | combinedArray.contains(&quot;/*&quot;) \n        | combinedArray.contains(&quot;+/&quot;) | combinedArray.contains(&quot;++&quot;) | combinedArray.contains(&quot;+*&quot;) \n        | combinedArray.contains(&quot;-/&quot;) | combinedArray.contains(&quot;-+&quot;) | combinedArray.contains(&quot;-*&quot;) )\n~~~\n</code></pre>\n"},{"tags":["javascript","java","forms","jsp","servlets"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667560520,"post_id":74315350,"comment_id":131200538,"body_markdown":"It&#39;s not very clear what are you trying to achieve. What is the error?","body":"It&#39;s not very clear what are you trying to achieve. What is the error?"},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667563773,"post_id":74315350,"comment_id":131201642,"body_markdown":"@RomanC I am trying to use js to verify that password is atleast 7 character long and then trying to fire servlet code. But servlet is not getting called.","body":"@RomanC I am trying to use js to verify that password is atleast 7 character long and then trying to fire servlet code. But servlet is not getting called."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667564916,"post_id":74315350,"comment_id":131202014,"body_markdown":"So why do you trying to change the location of the page?","body":"So why do you trying to change the location of the page?"},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667565843,"post_id":74315350,"comment_id":131202362,"body_markdown":"@RomanC because that&#39;s the servlet which I am trying to run after checking password length in java script.","body":"@RomanC because that&#39;s the servlet which I am trying to run after checking password length in java script."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667566182,"post_id":74315350,"comment_id":131202475,"body_markdown":"When you run this code you should allow the form to submitt to it.","body":"When you run this code you should allow the form to submitt to it."},{"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"score":0,"creation_date":1667566818,"post_id":74315350,"comment_id":131202683,"body_markdown":"@RomanC Sorry, I am kind of new to servlets(getting form details and sending it) so can&#39;t understand what you mean. Can you please elaborate what you mean.","body":"@RomanC Sorry, I am kind of new to servlets(getting form details and sending it) so can&#39;t understand what you mean. Can you please elaborate what you mean."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667575871,"post_id":74315350,"comment_id":131206201,"body_markdown":"Sure see my answer below","body":"Sure see my answer below"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667576580,"creation_date":1667575786,"answer_id":74319381,"question_id":74315350,"body_markdown":"In the JSP page you are using HTML `&lt;form&gt;` which has an `action` attribute to bind the URL value to the servlet. The servlet expose itself with `&lt;servlet-mapping&gt;` configuration that is created via `web.xml` or with annotarions if you use at least servlet 3.0 specification in your application.\r\n\r\nTo communicate with a servlet you should make a HTTP request from your browser. There&#39;s a lot of ways to send a HTTP request from the page but you are using HTML `&lt;form&gt;` tag and when you press a submit button the request is going to the URL which contains in the `action` attribute of the `&lt;form&gt;` tag with the HTTP method used in the `method` attribute.\r\n\r\nIf you bind specific event handlers on the form&#39;s submit button then in the code you should allow the function to proceed with the event queue. But your handler is written such as it does not perform the event but also reloads the page. This way a new HTTP request is made from the browser and it uses HTTP GET method which is not implemented by the servlet. The error 405 is sent to the browser because no `doGet()` method in the servlet.\r\n\r\nThe solution to the problem is to remove the code that reloads a page and use `preventDefault()` only if the password is incorrect.","title":"How to call servlet after running JavaScript verification code?","body":"<p>In the JSP page you are using HTML <code>&lt;form&gt;</code> which has an <code>action</code> attribute to bind the URL value to the servlet. The servlet expose itself with <code>&lt;servlet-mapping&gt;</code> configuration that is created via <code>web.xml</code> or with annotarions if you use at least servlet 3.0 specification in your application.</p>\n<p>To communicate with a servlet you should make a HTTP request from your browser. There's a lot of ways to send a HTTP request from the page but you are using HTML <code>&lt;form&gt;</code> tag and when you press a submit button the request is going to the URL which contains in the <code>action</code> attribute of the <code>&lt;form&gt;</code> tag with the HTTP method used in the <code>method</code> attribute.</p>\n<p>If you bind specific event handlers on the form's submit button then in the code you should allow the function to proceed with the event queue. But your handler is written such as it does not perform the event but also reloads the page. This way a new HTTP request is made from the browser and it uses HTTP GET method which is not implemented by the servlet. The error 405 is sent to the browser because no <code>doGet()</code> method in the servlet.</p>\n<p>The solution to the problem is to remove the code that reloads a page and use <code>preventDefault()</code> only if the password is incorrect.</p>\n"}],"owner":{"account_id":22903436,"reputation":15,"user_id":17041822,"display_name":"Arihant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74319381,"answer_count":1,"score":1,"last_activity_date":1667576580,"creation_date":1667556757,"question_id":74315350,"body_markdown":"I am trying to run a character length check first and if user pass that than want to call the servlet which will return that user logged in.\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;Login&lt;/title&gt;&lt;/head&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;Welcome-division&quot;&gt;\r\n        &lt;div class=&quot;header-top&quot;&gt; &lt;a href=&quot;/&quot;&gt;&lt;img class=&quot;logo&quot; src=&quot;images/logo.png&quot; alt=&quot;Hostel logo&quot;&gt;&lt;/a&gt;\r\n            &lt;H1&gt;Welcome to Arihant&#39;s hostel&lt;/H1&gt;\r\n        &lt;/div&gt;\r\n        &lt;navbar class=&quot;horizontal-navbar&quot;&gt;\r\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\r\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\r\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\r\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\r\n        &lt;/navbar&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;center-body&quot;&gt;\r\n        &lt;navbar class=&quot;Menu-option&quot;&gt;\r\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\r\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\r\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\r\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\r\n        &lt;/navbar&gt;\r\n        &lt;div class=&quot;Room-information&quot;&gt;\r\n        \r\n            &lt;form class=&quot;loginForm&quot; method=post action=LoginServlet&gt; \r\n                &lt;div&gt;Room No: &lt;input type=&quot;text&quot; name=&quot;Roomno&quot; id=&quot;Rno&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;\r\n                &lt;div&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;pass&quot;&gt;&lt;/div&gt;&lt;br&gt;\r\n                &lt;input id=&quot;formSubmit&quot; type=&quot;submit&quot; value=&quot;SUBMIT&quot;&gt;  \r\n                &lt;/form&gt; \r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;Copyright-Information&quot;&gt;\r\n        &amp;#169; Arihant graphics\r\n    &lt;/div&gt;\r\n   &lt;script&gt;\r\n        const formSubmit = document.getElementById(&quot;formSubmit&quot;);\r\n        formSubmit.addEventListener(&quot;click&quot;, (e) =&gt; {\r\n            const Rno = document.getElementById(&quot;Rno&quot;).value;\r\n            const Password = document.getElementById(&quot;pass&quot;).value;\r\n            if (Rno == null || Rno == &quot;&quot; || Password.length &lt; 7) {\r\n                alert(&quot;Please enter a Room No or your password is incorrect&quot;);\r\n                setTimeout(function () {\r\n                    window.location.reload();\r\n                }, 5000);\r\n            }\r\n            \r\n            e.preventDefault();\r\n        })\r\n    &lt;/script&gt;\r\n     \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAfter running the above jsp code it is checking the password length and Rno check correctly but not running the servlet after that given below.\r\n\r\nI want to do this in doPost if possible.\r\n\r\nand adding &quot;else document.location.href = &#39;LoginServlet&#39;;&quot; in javascript part return a error Status 405 -Method not allowed\r\n\r\n```\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class LoginServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n    public LoginServlet() {\r\n        super();\r\n        }\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\r\n\t\t\tPrintWriter out = response.getWriter();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/student&quot;,&quot;root&quot;,&quot;root&quot;);\r\n\t\t\tint roomNo = Integer.parseInt(request.getParameter(&quot;Roomno&quot;));\r\n\t\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\t\tPreparedStatement ps = con.prepareStatement(&quot;select * from login where roomNo=? and password=?&quot;);\r\n\t\t\tps.setInt(1, roomNo);\r\n\t\t\tps.setString(2, password);\r\n\t\t\tResultSet rs =\tps.executeQuery();\r\n\t\t\t\r\n\t\t\tif(rs.next()) {\r\n\t\t\t  int userRoom = rs.getInt(1);\r\n\t\t\t  String userName = rs.getString(3);\r\n\t\t\t\tout.println(&quot;RoomNo:&quot;+userRoom+&quot; is allocated to &quot;+ userName);\r\n\t\t\t\tcon.close();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tout.println(&quot;Failed to log in&quot;);\r\n\t\t\t\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to call servlet after running JavaScript verification code?","body":"<p>I am trying to run a character length check first and if user pass that than want to call the servlet which will return that user logged in.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Login&lt;/title&gt;&lt;/head&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt;\n&lt;body&gt;\n    &lt;div class=&quot;Welcome-division&quot;&gt;\n        &lt;div class=&quot;header-top&quot;&gt; &lt;a href=&quot;/&quot;&gt;&lt;img class=&quot;logo&quot; src=&quot;images/logo.png&quot; alt=&quot;Hostel logo&quot;&gt;&lt;/a&gt;\n            &lt;H1&gt;Welcome to Arihant's hostel&lt;/H1&gt;\n        &lt;/div&gt;\n        &lt;navbar class=&quot;horizontal-navbar&quot;&gt;\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\n        &lt;/navbar&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;center-body&quot;&gt;\n        &lt;navbar class=&quot;Menu-option&quot;&gt;\n            &lt;a href=&quot;Home.jsp&quot;&gt;Home&lt;/a&gt;\n            &lt;a class=&quot;active&quot; href=&quot;Login.jsp&quot;&gt;Login&lt;/a&gt;\n            &lt;a href=&quot;Room details.jsp&quot;&gt;Room Details&lt;/a&gt;\n            &lt;a href=&quot;Contact Us.jsp&quot;&gt;Contact Us&lt;/a&gt;\n        &lt;/navbar&gt;\n        &lt;div class=&quot;Room-information&quot;&gt;\n        \n            &lt;form class=&quot;loginForm&quot; method=post action=LoginServlet&gt; \n                &lt;div&gt;Room No: &lt;input type=&quot;text&quot; name=&quot;Roomno&quot; id=&quot;Rno&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;\n                &lt;div&gt;Password : &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;pass&quot;&gt;&lt;/div&gt;&lt;br&gt;\n                &lt;input id=&quot;formSubmit&quot; type=&quot;submit&quot; value=&quot;SUBMIT&quot;&gt;  \n                &lt;/form&gt; \n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;Copyright-Information&quot;&gt;\n        &amp;#169; Arihant graphics\n    &lt;/div&gt;\n   &lt;script&gt;\n        const formSubmit = document.getElementById(&quot;formSubmit&quot;);\n        formSubmit.addEventListener(&quot;click&quot;, (e) =&gt; {\n            const Rno = document.getElementById(&quot;Rno&quot;).value;\n            const Password = document.getElementById(&quot;pass&quot;).value;\n            if (Rno == null || Rno == &quot;&quot; || Password.length &lt; 7) {\n                alert(&quot;Please enter a Room No or your password is incorrect&quot;);\n                setTimeout(function () {\n                    window.location.reload();\n                }, 5000);\n            }\n            \n            e.preventDefault();\n        })\n    &lt;/script&gt;\n     \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>After running the above jsp code it is checking the password length and Rno check correctly but not running the servlet after that given below.</p>\n<p>I want to do this in doPost if possible.</p>\n<p>and adding &quot;else document.location.href = 'LoginServlet';&quot; in javascript part return a error Status 405 -Method not allowed</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class LoginServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    public LoginServlet() {\n        super();\n        }\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n            PrintWriter out = response.getWriter();\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/student&quot;,&quot;root&quot;,&quot;root&quot;);\n            int roomNo = Integer.parseInt(request.getParameter(&quot;Roomno&quot;));\n            String password = request.getParameter(&quot;password&quot;);\n            PreparedStatement ps = con.prepareStatement(&quot;select * from login where roomNo=? and password=?&quot;);\n            ps.setInt(1, roomNo);\n            ps.setString(2, password);\n            ResultSet rs =  ps.executeQuery();\n            \n            if(rs.next()) {\n              int userRoom = rs.getInt(1);\n              String userName = rs.getString(3);\n                out.println(&quot;RoomNo:&quot;+userRoom+&quot; is allocated to &quot;+ userName);\n                con.close();\n            }\n            else\n                out.println(&quot;Failed to log in&quot;);\n            \n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interface","interface-segregation-principle"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1667575231,"post_id":74319232,"comment_id":131205959,"body_markdown":"You&#39;re not breaking *existing* functionalities by adding a method to the interface. You&#39;re adding a new one. How to handle that depends on the specific case. In this case, players that can pause will need to implement that method, players that don&#39;t will need to handle that method being called on them, somehow.","body":"You&#39;re not breaking <i>existing</i> functionalities by adding a method to the interface. You&#39;re adding a new one. How to handle that depends on the specific case. In this case, players that can pause will need to implement that method, players that don&#39;t will need to handle that method being called on them, somehow."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667575343,"post_id":74319232,"comment_id":131206007,"body_markdown":"You&#39;re not really breaking anything, you just halfway-added a new feature. You&#39;re hitting the O (Open/closed principle: open to extension, closed to modification) and L (Liskov Substitution Principle) of SOLID code. When you add a modification, you&#39;re responsible for ensuring it hasn&#39;t broken anything.","body":"You&#39;re not really breaking anything, you just halfway-added a new feature. You&#39;re hitting the O (Open/closed principle: open to extension, closed to modification) and L (Liskov Substitution Principle) of SOLID code. When you add a modification, you&#39;re responsible for ensuring it hasn&#39;t broken anything."}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667576098,"creation_date":1667576098,"answer_id":74319442,"question_id":74319232,"body_markdown":"Adding a new method to an interface will break compilation for all the existing implementations of that interface. This is why for many years Java did not add any functionality to its core library classes like Collections. In Java 8 they added the ability to add a default implementation of an interface method so they could then add new methods to Collections interfaces without breaking compilation for everyone upgrading.\r\n\r\nSo to answer your question, you can always add a new method to an interface and give it a default implementation and you would not be breaking any of your existing code. The second way you can do this is to create a new interface called PausablePlayer which has the pause method. In Java you can implement multiple interfaces, so any implementations which support pause could implement that new interface in addition to the existing one. This approach works best when you want to add functionality which only applies to certain implementations but not all.","title":"Advantage of Using Interface in production application","body":"<p>Adding a new method to an interface will break compilation for all the existing implementations of that interface. This is why for many years Java did not add any functionality to its core library classes like Collections. In Java 8 they added the ability to add a default implementation of an interface method so they could then add new methods to Collections interfaces without breaking compilation for everyone upgrading.</p>\n<p>So to answer your question, you can always add a new method to an interface and give it a default implementation and you would not be breaking any of your existing code. The second way you can do this is to create a new interface called PausablePlayer which has the pause method. In Java you can implement multiple interfaces, so any implementations which support pause could implement that new interface in addition to the existing one. This approach works best when you want to add functionality which only applies to certain implementations but not all.</p>\n"}],"owner":{"account_id":26830498,"reputation":1,"user_id":20418547,"display_name":"Skirllex Rude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667576098,"creation_date":1667575013,"question_id":74319232,"body_markdown":"I am programming in java for a while not much used interface. I just wondering what are the benefits of using interface. I read a article about loose coupling it states that \r\n\r\n&gt; Tight coupling makes it much harder to add new functionality. With loose coupling, you can swap out components easily. This also makes your system more scalable as your system grows. Using loose coupling, you can safely write additional code when adding new features to your system without breaking the existing functionality.\r\n\r\nAfter reading this i understood that the key take away is classes/components can be swapped easily and it helps to achieve code extensibility without breaking the existing functionality. code swapping makes sense but code extensibility without breaking changes doesn&#39;t makes sense to me. \r\n\r\nI tried creating a interface called Player at first.\r\n\r\n```\r\npublic interface Player {\r\n  void play();\r\n}\r\n```\r\n\r\nAfter creating this interface i had implemented the contracts of this interface\r\n\r\n\r\n```\r\npublic class BlackPlayer implements Player{\r\n    @Override\r\n    public void play() {\r\n        System.out.println(&quot;playing videos from black player&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFinally i had created a VideoPlayer class and the constructor takes Player implemented classes.\r\n\r\n\r\n```\r\npublic class VideoPlayer {\r\n    private Player videoplayer;\r\n    VideoPlayer(Player videoplayer){\r\n        this.videoplayer = videoplayer;\r\n    }\r\n    void playVideo(){\r\n        videoplayer.play();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn the main method i am creating the Videoplayer instance and using its functionality\r\n\r\n\r\n```\r\nclass Main{\r\n    public static void main(String[] args) {\r\n        VideoPlayer player = new VideoPlayer(new BlackPlayer());\r\n        player.playVideo();\r\n    }\r\n}\r\n```\r\nJava Interface helps to achieve code extensibility without breaking changes, easy implementation swapping and easy unit testing(exclude about testing for now).\r\n\r\nIn future i planned to add different player i can easily swap its implementation by other class which implement the contracts of Player lets call it as Redplayer. Now i can easily swap the implementation by this line of code\r\n Before - `VideoPlayer player = new VideoPlayer(new BlackPlayer());`\r\n After- `VideoPlayer player = new VideoPlayer(new RedPlayer());`\r\n\r\nCorrect me if i told anything wrong about implementation swapping.\r\n\r\nNow the second thing which confused me alot. \r\n\r\nInterface help to achieve extensible code without breaking its functionality.\r\n\r\nAgain in future all my app users are requesting a pause feature which is already in production. Now i am trying to add the additional contracts to the already created interface.\r\n\r\n```\r\npublic interface Player {\r\n    void play();\r\n    void pause();\r\n}\r\n\r\n```\r\n\r\nAfter adding this pause contract all the  class which implements Player showing error that override missing for pause. By introducing the pause contract broken my existing class.\r\n\r\nThen how can i achieve code extensibility without breaking existing functionality. How can i scale the application with new features?\r\n\r\n","title":"Advantage of Using Interface in production application","body":"<p>I am programming in java for a while not much used interface. I just wondering what are the benefits of using interface. I read a article about loose coupling it states that</p>\n<blockquote>\n<p>Tight coupling makes it much harder to add new functionality. With loose coupling, you can swap out components easily. This also makes your system more scalable as your system grows. Using loose coupling, you can safely write additional code when adding new features to your system without breaking the existing functionality.</p>\n</blockquote>\n<p>After reading this i understood that the key take away is classes/components can be swapped easily and it helps to achieve code extensibility without breaking the existing functionality. code swapping makes sense but code extensibility without breaking changes doesn't makes sense to me.</p>\n<p>I tried creating a interface called Player at first.</p>\n<pre><code>public interface Player {\n  void play();\n}\n</code></pre>\n<p>After creating this interface i had implemented the contracts of this interface</p>\n<pre><code>public class BlackPlayer implements Player{\n    @Override\n    public void play() {\n        System.out.println(&quot;playing videos from black player&quot;);\n    }\n}\n</code></pre>\n<p>Finally i had created a VideoPlayer class and the constructor takes Player implemented classes.</p>\n<pre><code>public class VideoPlayer {\n    private Player videoplayer;\n    VideoPlayer(Player videoplayer){\n        this.videoplayer = videoplayer;\n    }\n    void playVideo(){\n        videoplayer.play();\n    }\n}\n\n</code></pre>\n<p>In the main method i am creating the Videoplayer instance and using its functionality</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n        VideoPlayer player = new VideoPlayer(new BlackPlayer());\n        player.playVideo();\n    }\n}\n</code></pre>\n<p>Java Interface helps to achieve code extensibility without breaking changes, easy implementation swapping and easy unit testing(exclude about testing for now).</p>\n<p>In future i planned to add different player i can easily swap its implementation by other class which implement the contracts of Player lets call it as Redplayer. Now i can easily swap the implementation by this line of code\nBefore - <code>VideoPlayer player = new VideoPlayer(new BlackPlayer());</code>\nAfter- <code>VideoPlayer player = new VideoPlayer(new RedPlayer());</code></p>\n<p>Correct me if i told anything wrong about implementation swapping.</p>\n<p>Now the second thing which confused me alot.</p>\n<p>Interface help to achieve extensible code without breaking its functionality.</p>\n<p>Again in future all my app users are requesting a pause feature which is already in production. Now i am trying to add the additional contracts to the already created interface.</p>\n<pre><code>public interface Player {\n    void play();\n    void pause();\n}\n\n</code></pre>\n<p>After adding this pause contract all the  class which implements Player showing error that override missing for pause. By introducing the pause contract broken my existing class.</p>\n<p>Then how can i achieve code extensibility without breaking existing functionality. How can i scale the application with new features?</p>\n"},{"tags":["java","jaxb","java-11"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667576429,"post_id":74319109,"comment_id":131206396,"body_markdown":"&quot;dao&quot; and &quot;springframework&quot; sounds *very like* `javax.sql.DataSource` ... can you exclude this misunderstanding/wrong import?","body":"&quot;dao&quot; and &quot;springframework&quot; sounds <i>very like</i> <code>javax.sql.DataSource</code> ... can you exclude this misunderstanding/wrong import?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667579609,"post_id":74319109,"comment_id":131207632,"body_markdown":"`javax.activation` has been [superseded by `jakarta.activation`](https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates)","body":"<code>javax.activation</code> has been <a href=\"https://wiki.eclipse.org/Jakarta_EE_Maven_Coordinates\" rel=\"nofollow noreferrer\">superseded by <code>jakarta.activation</code></a>"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667591495,"post_id":74319109,"comment_id":131211128,"body_markdown":"@Holger So you think substituting javax.activation dependency in pom with jakarta.activation should solve this ?","body":"@Holger So you think substituting javax.activation dependency in pom with jakarta.activation should solve this ?"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667591930,"post_id":74319109,"comment_id":131211260,"body_markdown":"switching to jakarta.activation did not help","body":"switching to jakarta.activation did not help"},{"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"score":0,"creation_date":1667592026,"post_id":74319109,"comment_id":131211294,"body_markdown":"@xerx593 could you elaborate a bit on your answer?","body":"@xerx593 could you elaborate a bit on your answer?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667812880,"post_id":74319109,"comment_id":131248354,"body_markdown":"I think, there’s no way around also updating the software.","body":"I think, there’s no way around also updating the software."}],"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667575550,"creation_date":1667574456,"question_id":74319109,"body_markdown":"We are going through a migration from java 8 to java 11, and are currently stuck on an issue  which seems like a javax library problem. I found out that javax.activation was excluded from java 9 and onwards so we added the following dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n, but the issue persists. Any other thoughts on what could be wrong here?    \r\n\r\n    022-11-04 15:30:56,505 [][][][][ERROR] - javax/activation/DataSource\r\n    2022-11-04 15:30:56,506 [][][][][ERROR] - [java.base/java.lang.ClassLoader.defineClass1(Native Method), \r\n    java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017), \r\n    java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174), \r\n    java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555), \r\n    java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458), \r\n    java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452), \r\n    java.base/java.security.AccessController.doPrivileged(Native Method), \r\n    java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \r\n    org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:538), \r\n    java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.mapLiveCycleRequestToDocumentInputData(LiveCycleProxyClient.java:269), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.createLiveCycleProxyServiceRequest(LiveCycleProxyClient.java:231), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocuments(LiveCycleProxyClient.java:84), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:79), \r\n    com.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:64), \r\n    com.edb.finance.appl.document.components.decisionreport.dao.DecisionReportDAO.generateDecisionReport(DecisionReportDAO.java:75), \r\n    com.edb.finance.appl.document.components.decisionreport.business.DecisionReport.generateDecisionReport(DecisionReport.java:91), \r\n    com.edb.finance.appl.document.components.decisionreport.business.DecisionReportProxy.generateDecisionReport(DecisionReportProxy.java:44), \r\n    com.edb.finance.appl.document.components.decisionreport.business.report.StandardReportPdfGenerator.generateStandardPdfCaseReport(StandardReportPdfGenerator.java:110), \r\n    com.edb.finance.appl.document.components.decisionreport.business.report.DecisionReportGenerator.storeAllCaseReports(DecisionReportGenerator.java:109), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedEJB.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedEJB.java:3990), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedProxy.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedProxy.java:346), \r\n    com.edb.finance.appl.decisionextended.components.decisionextended.business.ServiceHandler.updateRecommendationOnCaseAndGenerateReport(ServiceHandler.java:83), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationInCase(JointLimitService.java:921), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationForCase(JointLimitService.java:706), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationsAllCasesRelatedToGroup(JointLimitService.java:685), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendation(JointLimitService.java:643), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:517), \r\n    com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;), \r\n    org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), \r\n    org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779), \r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), \r\n    org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750), \r\n    org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115), \r\n    java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), \r\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), \r\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), \r\n    java.base/java.lang.Thread.run(Thread.java:829)]\r\n    2022-11-04 15:30:56,506 [][][][][ERROR] - javax/activation/DataSource\r\n    2022-11-04 15:30:56,508 [][][][][ERROR] - Service threw exception\r\n    com.edb.finance.common.exception.SystemException: javax/activation/DataSource\r\n                    at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:525)\r\n                    at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;)\r\n                    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n                    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n                    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n                    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n                    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n                    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n                    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                    at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n\r\n","title":"How to fix the following issue - SystemException: javax/activation/DataSource?","body":"<p>We are going through a migration from java 8 to java 11, and are currently stuck on an issue  which seems like a javax library problem. I found out that javax.activation was excluded from java 9 and onwards so we added the following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>, but the issue persists. Any other thoughts on what could be wrong here?</p>\n<pre><code>022-11-04 15:30:56,505 [][][][][ERROR] - javax/activation/DataSource\n2022-11-04 15:30:56,506 [][][][][ERROR] - [java.base/java.lang.ClassLoader.defineClass1(Native Method), \njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017), \njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174), \njava.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:555), \njava.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458), \njava.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452), \njava.base/java.security.AccessController.doPrivileged(Native Method), \njava.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \norg.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:538), \njava.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.mapLiveCycleRequestToDocumentInputData(LiveCycleProxyClient.java:269), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.createLiveCycleProxyServiceRequest(LiveCycleProxyClient.java:231), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocuments(LiveCycleProxyClient.java:84), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:79), \ncom.edb.finance.appl.document.livecycleproxy.LiveCycleProxyClient.produceDocument(LiveCycleProxyClient.java:64), \ncom.edb.finance.appl.document.components.decisionreport.dao.DecisionReportDAO.generateDecisionReport(DecisionReportDAO.java:75), \ncom.edb.finance.appl.document.components.decisionreport.business.DecisionReport.generateDecisionReport(DecisionReport.java:91), \ncom.edb.finance.appl.document.components.decisionreport.business.DecisionReportProxy.generateDecisionReport(DecisionReportProxy.java:44), \ncom.edb.finance.appl.document.components.decisionreport.business.report.StandardReportPdfGenerator.generateStandardPdfCaseReport(StandardReportPdfGenerator.java:110), \ncom.edb.finance.appl.document.components.decisionreport.business.report.DecisionReportGenerator.storeAllCaseReports(DecisionReportGenerator.java:109), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedEJB.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedEJB.java:3990), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ejb.DecisionExtendedProxy.updateRecommendationOnCaseAndGenerateReport(DecisionExtendedProxy.java:346), \ncom.edb.finance.appl.decisionextended.components.decisionextended.business.ServiceHandler.updateRecommendationOnCaseAndGenerateReport(ServiceHandler.java:83), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationInCase(JointLimitService.java:921), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationForCase(JointLimitService.java:706), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendationsAllCasesRelatedToGroup(JointLimitService.java:685), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.createRecommendation(JointLimitService.java:643), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:517), \ncom.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;), \norg.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218), \norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779), \norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163), \norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750), \norg.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115), \njava.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), \njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), \njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), \njava.base/java.lang.Thread.run(Thread.java:829)]\n2022-11-04 15:30:56,506 [][][][][ERROR] - javax/activation/DataSource\n2022-11-04 15:30:56,508 [][][][][ERROR] - Service threw exception\ncom.edb.finance.common.exception.SystemException: javax/activation/DataSource\n                at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService.runCreateRecommendationJob(JointLimitService.java:525)\n                at com.evry.fs.lending.ecp.jointlimit.ws.resources.jointlimit.JointLimitService$$FastClassBySpringCGLIB$$2a40bb74.invoke(&lt;generated&gt;)\n                at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n                at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n                at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n                at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n                at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n                at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n                at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","file","netbeans"],"comments":[{"owner":{"account_id":14665398,"reputation":5,"user_id":10591381,"display_name":"Emanuel Heged&#252;s"},"score":0,"creation_date":1546187656,"post_id":53979398,"comment_id":94796142,"body_markdown":"the System.out.println(line); was to check if the file had that many lines he kept going but it didn&#39;t.","body":"the System.out.println(line); was to check if the file had that many lines he kept going but it didn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":4816916,"reputation":16538,"user_id":3888766,"accept_rate":100,"display_name":"Fullstack Guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1546190587,"creation_date":1546187807,"answer_id":53979439,"question_id":53979398,"body_markdown":"When you instantiate a `BuffereReader` assign it to `count`, `count` will always be non-null and hence will satisfy the while loop:\r\n\r\n    count = new BufferedReader(input); //count is holding an instance of BufferedReader.\r\n    \r\n    while(count != null){ //here count is non-null and while loop is infinite and program never exits.\r\n\r\nInstead use the following code, where the each line will be read and checked whether it is null, if null then the program will exit.:\r\n\r\n    input = new FileReader(txt);\r\n    count = new BufferedReader(input);\r\n    String line = null;\r\n    while(( line = count.readLine())!= null){ //each line is read and assigned to the String line variable.\r\n            System.out.println(line);\r\n            result++;\r\n     }\r\n\r\nIf you are using JDK-1.8 you can shorten your code using the `Files` API:\r\n\r\n    int result = 0;\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(txt.getAbsolutePath()))) {\r\n          //either print the lines or take the count.\r\n          //stream.forEach(System.out::println); \r\n          result = (int)stream.count(); \r\n    } catch (IOException e) {\r\n          e.printStackTrace();\r\n    }","title":"How to solve infinite readLine while","body":"<p>When you instantiate a <code>BuffereReader</code> assign it to <code>count</code>, <code>count</code> will always be non-null and hence will satisfy the while loop:</p>\n\n<pre><code>count = new BufferedReader(input); //count is holding an instance of BufferedReader.\n\nwhile(count != null){ //here count is non-null and while loop is infinite and program never exits.\n</code></pre>\n\n<p>Instead use the following code, where the each line will be read and checked whether it is null, if null then the program will exit.:</p>\n\n<pre><code>input = new FileReader(txt);\ncount = new BufferedReader(input);\nString line = null;\nwhile(( line = count.readLine())!= null){ //each line is read and assigned to the String line variable.\n        System.out.println(line);\n        result++;\n }\n</code></pre>\n\n<p>If you are using JDK-1.8 you can shorten your code using the <code>Files</code> API:</p>\n\n<pre><code>int result = 0;\ntry (Stream&lt;String&gt; stream = Files.lines(Paths.get(txt.getAbsolutePath()))) {\n      //either print the lines or take the count.\n      //stream.forEach(System.out::println); \n      result = (int)stream.count(); \n} catch (IOException e) {\n      e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546187857,"creation_date":1546187857,"answer_id":53979447,"question_id":53979398,"body_markdown":"`count` is your `BufferedReader`, your loop should be on `line`! Like,\r\n\r\n    String line = &quot;&quot;;\r\n    while (line != null) {\r\n        line = count.readLine();\r\n\r\nAlso, you should use [`try-with-Resources`](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to `close` your resources (instead of the `finally` block). And you could write that `while` loop more idiomatically. Like,\r\n\r\n\tprivate int sizeOfFile(File txt) {\r\n\t\tint result = 0;\r\n\t\ttry (BufferedReader count = new BufferedReader(new FileReader(txt))) {\r\n\t\t\tString line;\r\n\t\t\twhile ((line = count.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\tresult++;\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n","title":"How to solve infinite readLine while","body":"<p><code>count</code> is your <code>BufferedReader</code>, your loop should be on <code>line</code>! Like,</p>\n\n<pre><code>String line = \"\";\nwhile (line != null) {\n    line = count.readLine();\n</code></pre>\n\n<p>Also, you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try-with-Resources</code></a> to <code>close</code> your resources (instead of the <code>finally</code> block). And you could write that <code>while</code> loop more idiomatically. Like,</p>\n\n<pre><code>private int sizeOfFile(File txt) {\n    int result = 0;\n    try (BufferedReader count = new BufferedReader(new FileReader(txt))) {\n        String line;\n        while ((line = count.readLine()) != null) {\n            System.out.println(line);\n            result++;\n        }\n    } catch (FileNotFoundException ex) {\n        ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":14665398,"reputation":5,"user_id":10591381,"display_name":"Emanuel Heged&#252;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53979439,"answer_count":2,"score":0,"last_activity_date":1667575418,"creation_date":1546187530,"question_id":53979398,"body_markdown":"I have a program and one of the methods I use is for counting the lines a .txt file has and return an integer value. The problem is when I execute it, despite I wrote if my line is == null the while has to stop, the while loop keeps going, ignoring the nulls it gets infinitely.\r\n\r\nI don&#39;t know what to do to try to solve it.\r\n\r\n    private int sizeOfFile (File txt) {\r\n        FileReader input = null;\r\n        BufferedReader count = null;\r\n        int result = 0;\r\n        try {\r\n            \r\n            input = new FileReader(txt);\r\n            count = new BufferedReader(input);\r\n            \r\n            while(count != null){\r\n            String line = count.readLine();\r\n                System.out.println(line);\r\n            result++;\r\n            }\r\n            \r\n        } catch (FileNotFoundException ex) {\r\n           ex.printStackTrace();\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            try {\r\n                input.close();\r\n                count.close();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\nIt has to stop when it detects a null, which means there are no more lines, but it keeps going.","title":"How to solve infinite readLine while","body":"<p>I have a program and one of the methods I use is for counting the lines a .txt file has and return an integer value. The problem is when I execute it, despite I wrote if my line is == null the while has to stop, the while loop keeps going, ignoring the nulls it gets infinitely.</p>\n<p>I don't know what to do to try to solve it.</p>\n<pre><code>private int sizeOfFile (File txt) {\n    FileReader input = null;\n    BufferedReader count = null;\n    int result = 0;\n    try {\n        \n        input = new FileReader(txt);\n        count = new BufferedReader(input);\n        \n        while(count != null){\n        String line = count.readLine();\n            System.out.println(line);\n        result++;\n        }\n        \n    } catch (FileNotFoundException ex) {\n       ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    } finally {\n        try {\n            input.close();\n            count.close();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n    \n    return result;\n}\n</code></pre>\n<p>It has to stop when it detects a null, which means there are no more lines, but it keeps going.</p>\n"},{"tags":["java","dynamic"],"comments":[{"owner":{"account_id":355051,"reputation":3995,"user_id":693765,"display_name":"Justin Waugh"},"score":0,"creation_date":1302116977,"post_id":5571466,"comment_id":6338279,"body_markdown":"Are you trying to load a class from the binary.class file or by class name?","body":"Are you trying to load a class from the binary.class file or by class name?"},{"owner":{"display_name":"user1636522"},"score":0,"creation_date":1448719207,"post_id":5571466,"comment_id":55700601,"body_markdown":"@JustinWaugh Hi Justin, is the accepted answer suitable to load a .class file?","body":"@JustinWaugh Hi Justin, is the accepted answer suitable to load a .class file?"}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1302116326,"creation_date":1302116326,"answer_id":5571532,"question_id":5571466,"body_markdown":"[`ClassLoader.loadClass`][1] will load a class.  You get a classloader by `myClass.getClassLoader()` and you should fall back to `ClassLoader.getSystemClassLoader()` if that is null.\r\n\r\nOnce you&#39;ve got a class instance, you can get its constructors via [`getDeclaredConstructor(...)`][2].\r\nSo if you have a `public class MyClass` with a constructor like `public MyClass(String) { ... }` then\r\n\r\n    Class&lt;MyClass&gt; clazz = MyClass.class;\r\n    Constructor&lt;MyClass&gt; ctor = clazz.getDeclaredConstructor(String.class);\r\n    MyClass instance = ctor.newInstance(&quot;foo&quot;);\r\n\r\nThe above ignores a bunch of possible exceptions.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#loadClass%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29","title":"Dynamically loading a class in Java","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#loadClass%28java.lang.String%29\" rel=\"noreferrer\"><code>ClassLoader.loadClass</code></a> will load a class.  You get a classloader by <code>myClass.getClassLoader()</code> and you should fall back to <code>ClassLoader.getSystemClassLoader()</code> if that is null.</p>\n\n<p>Once you've got a class instance, you can get its constructors via <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29\" rel=\"noreferrer\"><code>getDeclaredConstructor(...)</code></a>.\nSo if you have a <code>public class MyClass</code> with a constructor like <code>public MyClass(String) { ... }</code> then</p>\n\n<pre><code>Class&lt;MyClass&gt; clazz = MyClass.class;\nConstructor&lt;MyClass&gt; ctor = clazz.getDeclaredConstructor(String.class);\nMyClass instance = ctor.newInstance(\"foo\");\n</code></pre>\n\n<p>The above ignores a bunch of possible exceptions.</p>\n"},{"tags":[],"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1302116734,"creation_date":1302116734,"answer_id":5571612,"question_id":5571466,"body_markdown":"Assuming the class has no-arg constructor, the simplest way would be -\r\n\r\n    Object newObject = Class.forName(strFullyQualifiedClassName).newInstance();\r\n\r\nReference - [java.lang.Class][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#newInstance%28%29","title":"Dynamically loading a class in Java","body":"<p>Assuming the class has no-arg constructor, the simplest way would be -</p>\n\n<pre><code>Object newObject = Class.forName(strFullyQualifiedClassName).newInstance();\n</code></pre>\n\n<p>Reference - <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#newInstance%28%29\" rel=\"noreferrer\">java.lang.Class</a></p>\n"},{"tags":[],"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667575380,"creation_date":1302136434,"answer_id":5574541,"question_id":5571466,"body_markdown":"Here is what I got working. This is not a finihsed product, but is just test to see if I could get it to work. Thank you to everyone that answered the questoin :-).\r\n\r\n    public class SimLoader {  \r\n      public static void main(String[] args)  \r\n      {  \r\n        try {  \r\n          Object simulator = Class.forName(&quot;SimX&quot;).newInstance();  \r\n          ((SimInterface)simulator).run();  \r\n        }  \r\n        catch(ClassNotFoundException e) {}  \r\n        catch(InstantiationException e) {}  \r\n        catch(IllegalAccessException e) {}  \r\n      }  \r\n    }\r\n  \r\n    interface SimInterface {  \r\n     void run();  \r\n    } \r\n \r\n    class SimX implements SimInterface  \r\n    {  \r\n      public void run() {  \r\n        System.out.println(&quot;Success&quot;);  \r\n      }  \r\n    }  ","title":"Dynamically loading a class in Java","body":"<p>Here is what I got working. This is not a finihsed product, but is just test to see if I could get it to work. Thank you to everyone that answered the questoin :-).</p>\n<pre><code>public class SimLoader {  \n  public static void main(String[] args)  \n  {  \n    try {  \n      Object simulator = Class.forName(&quot;SimX&quot;).newInstance();  \n      ((SimInterface)simulator).run();  \n    }  \n    catch(ClassNotFoundException e) {}  \n    catch(InstantiationException e) {}  \n    catch(IllegalAccessException e) {}  \n  }  \n}\n\ninterface SimInterface {  \n void run();  \n} \n\nclass SimX implements SimInterface  \n{  \n  public void run() {  \n    System.out.println(&quot;Success&quot;);  \n  }  \n}  \n</code></pre>\n"}],"owner":{"account_id":330677,"reputation":7139,"user_id":654928,"accept_rate":89,"display_name":"rubixibuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52614,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":5571612,"answer_count":3,"score":24,"last_activity_date":1667575380,"creation_date":1302115949,"question_id":5571466,"body_markdown":"I looked up the syntax and searched the api but am still confused about the process. I also searched Stackoverflow.  What is the proper way to load a class and create an object out of it dynamically?  In otherwords I want the user to specify what type of object they want to create, and then create that type of object.  I don&#39;t want a menu, because I want them to be able to choose any class within the current directory.","title":"Dynamically loading a class in Java","body":"<p>I looked up the syntax and searched the api but am still confused about the process. I also searched Stackoverflow.  What is the proper way to load a class and create an object out of it dynamically?  In otherwords I want the user to specify what type of object they want to create, and then create that type of object.  I don't want a menu, because I want them to be able to choose any class within the current directory.</p>\n"},{"tags":["java","recursion","random","logic","java-11"],"comments":[{"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"score":3,"creation_date":1667575009,"post_id":74318824,"comment_id":131205865,"body_markdown":"I have not worked with Java in a while, but did you just assign the same reference to the array to all of the ArrayList? Try drawing 4 cards, and let me know if it works. I think you need to make a new array of { 1 1 1 1 } for each of the numbers from 1 - 13, or else the ArrayList just repeatedly point to the same array.","body":"I have not worked with Java in a while, but did you just assign the same reference to the array to all of the ArrayList? Try drawing 4 cards, and let me know if it works. I think you need to make a new array of { 1 1 1 1 } for each of the numbers from 1 - 13, or else the ArrayList just repeatedly point to the same array."},{"owner":{"account_id":26830357,"reputation":1,"user_id":20418428,"display_name":"Lawrance"},"score":0,"creation_date":1667575066,"post_id":74318824,"comment_id":131205892,"body_markdown":"yes i did do that and i&#39;ve edited the question","body":"yes i did do that and i&#39;ve edited the question"},{"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"score":1,"creation_date":1667575220,"post_id":74318824,"comment_id":131205954,"body_markdown":"Ok, my suspicions are correct: you need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.","body":"Ok, my suspicions are correct: you need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667579810,"post_id":74318824,"comment_id":131207699,"body_markdown":"Don’t use `Integer` where an `int` will do. You can replace all occurrences of `Integer` in your code with `int` which will improve robustness (an `int` can never be `null`) and performance (no conversions between `int` and `Integer`).","body":"Don’t use <code>Integer</code> where an <code>int</code> will do. You can replace all occurrences of <code>Integer</code> in your code with <code>int</code> which will improve robustness (an <code>int</code> can never be <code>null</code>) and performance (no conversions between <code>int</code> and <code>Integer</code>)."}],"answers":[{"tags":[],"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667575335,"creation_date":1667573582,"answer_id":74318917,"question_id":74318824,"body_markdown":"You need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.\r\n\r\nYou can fix the code by moving the new array declaration inside the loop, so a new array is created to be added to the list:\r\n\r\n```\r\n        for(int i = 0; i &lt; 13; i++){\r\n            Integer[] deckSet = {1, 1, 1, 1}; // Moved inside\r\n            deck.add(deckSet);\r\n        }\r\n```\r\n\r\n&lt;s&gt;Doesn&#39;t seem like you initialized all the Integers in the arrays in deck to be 1, so the conditional in the if statement is always false.\r\n\r\nConsider doing\r\n\r\n```\r\n        if(deckSet[shape] == 0){ // Zero for unpicked card\r\n            deckSet[shape] = 1; // One for picked card\r\n            deck.set(num, deckSet);\r\n            card[0] = num;\r\n            card[1] = shape;\r\n            return card;\r\n        }\r\n```\r\n&lt;/s&gt;","title":"java.lang.StackOverflowError on a recursive function","body":"<p>You need to make a new array for each element of the ArrayList, or else every element in the ArrayList is pointing to the same array. So for each of the 4 draws, it will turn 1 number in { 1, 1, 1, 1 } into 0, and on the 5th draw, a stack overflow occurs as there is no more 1s in the shared array.</p>\n<p>You can fix the code by moving the new array declaration inside the loop, so a new array is created to be added to the list:</p>\n<pre><code>        for(int i = 0; i &lt; 13; i++){\n            Integer[] deckSet = {1, 1, 1, 1}; // Moved inside\n            deck.add(deckSet);\n        }\n</code></pre>\n<p><s>Doesn't seem like you initialized all the Integers in the arrays in deck to be 1, so the conditional in the if statement is always false.</p>\n<p>Consider doing</p>\n<pre><code>        if(deckSet[shape] == 0){ // Zero for unpicked card\n            deckSet[shape] = 1; // One for picked card\n            deck.set(num, deckSet);\n            card[0] = num;\n            card[1] = shape;\n            return card;\n        }\n</code></pre>\n</s>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667575174,"creation_date":1667575174,"answer_id":74319265,"question_id":74318824,"body_markdown":"You use the same `deckSet` array for all deck numbers. That means that after drawing for cards for all deck numbers the deckSet will be `{0, 0, 0, 0}`.\r\n\r\nTo solve it you need to initialize the `deck` as\r\n\r\n        for(int i = 0; i &lt; 13; i++){\r\n            Integer[] deckSet = {1, 1, 1, 1};\r\n            deck.add(deckSet);\r\n        }\r\n","title":"java.lang.StackOverflowError on a recursive function","body":"<p>You use the same <code>deckSet</code> array for all deck numbers. That means that after drawing for cards for all deck numbers the deckSet will be <code>{0, 0, 0, 0}</code>.</p>\n<p>To solve it you need to initialize the <code>deck</code> as</p>\n<pre><code>    for(int i = 0; i &lt; 13; i++){\n        Integer[] deckSet = {1, 1, 1, 1};\n        deck.add(deckSet);\n    }\n</code></pre>\n"}],"owner":{"account_id":26830357,"reputation":1,"user_id":20418428,"display_name":"Lawrance"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667575335,"creation_date":1667573144,"question_id":74318824,"body_markdown":"I want to draw a random card from a deck and validates that it&#39;s always unique. I&#39;m using the cardGenerator() recursive function to do that. If the random card picked has been shown then it calls itself again. Need a work around or if any of yall got a better logic please let me know.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class App {\r\n    static ArrayList&lt;Integer[]&gt; deck = new ArrayList&lt;&gt;();\r\n    static ArrayList&lt;Integer[]&gt; dealer = new ArrayList&lt;&gt;();\r\n\r\n    static Integer[] cardGenerator() throws Exception{\r\n        Random random = new Random();\r\n        Integer[] card = {0, 0};\r\n        Integer num = random.nextInt(13);\r\n        Integer shape = random.nextInt(4);\r\n        Integer[] deckSet = deck.get(num);\r\n        if(deckSet[shape] == 1){\r\n            deckSet[shape] = 0;\r\n            deck.set(num, deckSet);\r\n            card[0] = num;\r\n            card[1] = shape;\r\n            return card;\r\n        }\r\n        else return cardGenerator();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Integer[] deckSet = {1, 1, 1, 1};\r\n        for(int i = 0; i &lt; 13; i++){\r\n            deck.add(deckSet);\r\n        }\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n        dealer.add(cardGenerator());\r\n    }\r\n}\r\n```\r\nexpecting for dealer to store 5 unique cards, but java.lang.StackOverflowError occured on the cardGenerator function.","title":"java.lang.StackOverflowError on a recursive function","body":"<p>I want to draw a random card from a deck and validates that it's always unique. I'm using the cardGenerator() recursive function to do that. If the random card picked has been shown then it calls itself again. Need a work around or if any of yall got a better logic please let me know.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class App {\n    static ArrayList&lt;Integer[]&gt; deck = new ArrayList&lt;&gt;();\n    static ArrayList&lt;Integer[]&gt; dealer = new ArrayList&lt;&gt;();\n\n    static Integer[] cardGenerator() throws Exception{\n        Random random = new Random();\n        Integer[] card = {0, 0};\n        Integer num = random.nextInt(13);\n        Integer shape = random.nextInt(4);\n        Integer[] deckSet = deck.get(num);\n        if(deckSet[shape] == 1){\n            deckSet[shape] = 0;\n            deck.set(num, deckSet);\n            card[0] = num;\n            card[1] = shape;\n            return card;\n        }\n        else return cardGenerator();\n    }\n\n    public static void main(String[] args) throws Exception {\n        Integer[] deckSet = {1, 1, 1, 1};\n        for(int i = 0; i &lt; 13; i++){\n            deck.add(deckSet);\n        }\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n        dealer.add(cardGenerator());\n    }\n}\n</code></pre>\n<p>expecting for dealer to store 5 unique cards, but java.lang.StackOverflowError occured on the cardGenerator function.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1667574157,"post_id":74319008,"comment_id":131205567,"body_markdown":"If your types are in an `Enum`, and listed in sort order, you can sort on the `Enum` ordinal number.","body":"If your types are in an <code>Enum</code>, and listed in sort order, you can sort on the <code>Enum</code> ordinal number."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667574460,"post_id":74319008,"comment_id":131205686,"body_markdown":"Please, share what have you tried and explain where have you stack. If you explain what&#39;s your point of misunderstanding, you&#39;ll be more likely to receive helpful feedback that targets it.","body":"Please, share what have you tried and explain where have you stack. If you explain what&#39;s your point of misunderstanding, you&#39;ll be more likely to receive helpful feedback that targets it."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667575278,"creation_date":1667575278,"answer_id":74319293,"question_id":74319008,"body_markdown":"The cleanest solution is use an enum for types, which holds the priority of each type. Basically maps the type to a priority number.\r\n```\r\npublic enum ActorType {\r\n\r\n  ARTIST(1),\r\n  PRODUCER(2),\r\n  MIXER(3);\r\n\r\n  private final int priority;\r\n\r\n  ActorType(int priority) {\r\n    this.priority = priority;\r\n  }\r\n\r\n  public static int compare(ActorType t1, ActorType t2) {\r\n    return Integer.compare(t1.priority, t2.priority);\r\n  }\r\n}\r\n```\r\nThen the comparator is quite simple.\r\n```\r\npublic class ActorByActorTypeComparator implements Comparator&lt;Actor&gt; {\r\n\r\n  @Override\r\n  public int compare(Actor actor1, Actor actor2) {\r\n    return ActorType.compare(actor1.getActorType(), actor2.getActorType());\r\n  }\r\n}\r\n```\r\nIf you use String for types and can&#39;t change for whatever reason, one option is the comparator to hold the priority for each type. Something like this.\r\n```\r\npublic class ActorByTypeComparator implements Comparator&lt;Actor&gt; {\r\n  \r\n  private final Map&lt;String, Integer&gt; typePriorityMap = new HashMap&lt;&gt;();\r\n  //add each type in map\r\n  //map.put(&quot;Artist&quot;, 1);\r\n  //or provide the map from constructor\r\n\r\n  @Override\r\n  public int compare(Actor a1, Actor a2) {\r\n    int a1Priority = this.typePriorityMap.getOrDefault(a1.getType(), Integer.MAX_VALUE);\r\n    //handle unknown type, according to your needs\r\n    int a2Priority = this.typePriorityMap.getOrDefault(a2.getType(), Integer.MAX_VALUE);\r\n    return Integer.compare(a1Priority, a2Priority);\r\n  }\r\n}\r\n```\r\nThe first option is cleaner and less error prone.","title":"Complex logix in Java Comparator","body":"<p>The cleanest solution is use an enum for types, which holds the priority of each type. Basically maps the type to a priority number.</p>\n<pre><code>public enum ActorType {\n\n  ARTIST(1),\n  PRODUCER(2),\n  MIXER(3);\n\n  private final int priority;\n\n  ActorType(int priority) {\n    this.priority = priority;\n  }\n\n  public static int compare(ActorType t1, ActorType t2) {\n    return Integer.compare(t1.priority, t2.priority);\n  }\n}\n</code></pre>\n<p>Then the comparator is quite simple.</p>\n<pre><code>public class ActorByActorTypeComparator implements Comparator&lt;Actor&gt; {\n\n  @Override\n  public int compare(Actor actor1, Actor actor2) {\n    return ActorType.compare(actor1.getActorType(), actor2.getActorType());\n  }\n}\n</code></pre>\n<p>If you use String for types and can't change for whatever reason, one option is the comparator to hold the priority for each type. Something like this.</p>\n<pre><code>public class ActorByTypeComparator implements Comparator&lt;Actor&gt; {\n  \n  private final Map&lt;String, Integer&gt; typePriorityMap = new HashMap&lt;&gt;();\n  //add each type in map\n  //map.put(&quot;Artist&quot;, 1);\n  //or provide the map from constructor\n\n  @Override\n  public int compare(Actor a1, Actor a2) {\n    int a1Priority = this.typePriorityMap.getOrDefault(a1.getType(), Integer.MAX_VALUE);\n    //handle unknown type, according to your needs\n    int a2Priority = this.typePriorityMap.getOrDefault(a2.getType(), Integer.MAX_VALUE);\n    return Integer.compare(a1Priority, a2Priority);\n  }\n}\n</code></pre>\n<p>The first option is cleaner and less error prone.</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319293,"answer_count":1,"score":0,"last_activity_date":1667575278,"creation_date":1667574001,"question_id":74319008,"body_markdown":"I have a list of actors where each actor has a type (&quot;Artist&quot;, &quot;Producer&quot;, &quot;Mixer&quot;...some other types).\r\n\r\nI need to order this list taking the following into consideration:\r\n\r\n1. Actors with the type of “Artist” will be displayed first.\r\n2. Actors with the type of “Producer” will be displayed next.\r\n3. Actors with the type of “Mixer” will be displayed next.\r\n\r\nAll actors also have to be ordered in alphabetical order based on their names.\r\n\r\nI know I could write differet comparators and chain them, but I&#39;m not sure how to implement the first 3 points.","title":"Complex logix in Java Comparator","body":"<p>I have a list of actors where each actor has a type (&quot;Artist&quot;, &quot;Producer&quot;, &quot;Mixer&quot;...some other types).</p>\n<p>I need to order this list taking the following into consideration:</p>\n<ol>\n<li>Actors with the type of “Artist” will be displayed first.</li>\n<li>Actors with the type of “Producer” will be displayed next.</li>\n<li>Actors with the type of “Mixer” will be displayed next.</li>\n</ol>\n<p>All actors also have to be ordered in alphabetical order based on their names.</p>\n<p>I know I could write differet comparators and chain them, but I'm not sure how to implement the first 3 points.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":266613,"reputation":9373,"user_id":554279,"accept_rate":80,"display_name":"Rangi Lin"},"score":0,"creation_date":1348677317,"post_id":12606148,"comment_id":16992719,"body_markdown":"can you provide an example to show how you want to use Mockito in your unit test ?","body":"can you provide an example to show how you want to use Mockito in your unit test ?"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1480104724,"creation_date":1348677702,"answer_id":12606503,"question_id":12606148,"body_markdown":"In JUnit, [Parameterized tests][parameterized] use [a special runner][runner] that ensure that the test is instantiated multiple times, so each test method is called multiple times. Mockito is a tool for writing specific unit tests, so there is no built-in ability to run the same test multiple times with different Mockito expectations.\r\n\r\nIf you want your test conditions to change, your best bet is to do one of the following:\r\n\r\n  * Parameterize your test using JUnit, with a parameter for the mock inputs you want;\r\n  * Run a loop of different parameters in your test, which unfortunately avoids the &quot;test one thing per method&quot; philosophy\r\n  * Extract a method that actually performs the test, and create a new `@Test` method for each mock you want.\r\n\r\nNote that there&#39;s no prohibition on using mock objects as `@Parameterized` test parameters. If you&#39;re looking to parameterize based on mocks, you can do that, possibly creating the mock and setting the expectations in a static method on the test.\r\n\r\n---\r\n\r\n**Note about runners**: This [Parameterized test runner][runner] conflicts with Mockito&#39;s [MockitoJUnitRunner][mockito-runner]: Each test class can only have one runner. You&#39;ll want to switch to [@Before and @After methods][before-and-after] or [a Mockito JUnit4 rule][mockito-rule] for your setup, if you use them both.\r\n\r\nAs an example, compressed from [a different answer](https://stackoverflow.com/q/40793464/1426891) that explains more about Parameterized runners versus JUnit rules and lifting from the [JUnit4 Parameterized Test](https://github.com/junit-team/junit4/wiki/Parameterized-tests) doc page and [MockitoRule](https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/junit/MockitoRule.html) doc page:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class YourComponentTest {\r\n        @Rule public MockitoRule rule = MockitoJUnit.rule();\r\n        @Mock YourDep mockYourDep;\r\n\r\n        @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\r\n\r\n        public YourComponentTest(Parameter parameter) { /* Save the parameter to a field */ }\r\n    \r\n        @Test public void test() { /* Use the field value in assertions */ }\r\n    }\r\n\r\n[parameterized]: https://github.com/junit-team/junit/wiki/Parameterized-tests\r\n[runner]: https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\r\n[mockito-runner]: http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\r\n[before-and-after]: https://stackoverflow.com/q/10806345/1426891\r\n[mockito-rule]: http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html","title":"passing Parameterized input using Mockitos","body":"<p>In JUnit, <a href=\"https://github.com/junit-team/junit/wiki/Parameterized-tests\" rel=\"noreferrer\">Parameterized tests</a> use <a href=\"https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\" rel=\"noreferrer\">a special runner</a> that ensure that the test is instantiated multiple times, so each test method is called multiple times. Mockito is a tool for writing specific unit tests, so there is no built-in ability to run the same test multiple times with different Mockito expectations.</p>\n\n<p>If you want your test conditions to change, your best bet is to do one of the following:</p>\n\n<ul>\n<li>Parameterize your test using JUnit, with a parameter for the mock inputs you want;</li>\n<li>Run a loop of different parameters in your test, which unfortunately avoids the \"test one thing per method\" philosophy</li>\n<li>Extract a method that actually performs the test, and create a new <code>@Test</code> method for each mock you want.</li>\n</ul>\n\n<p>Note that there's no prohibition on using mock objects as <code>@Parameterized</code> test parameters. If you're looking to parameterize based on mocks, you can do that, possibly creating the mock and setting the expectations in a static method on the test.</p>\n\n<hr>\n\n<p><strong>Note about runners</strong>: This <a href=\"https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/runners/Parameterized.java\" rel=\"noreferrer\">Parameterized test runner</a> conflicts with Mockito's <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\">MockitoJUnitRunner</a>: Each test class can only have one runner. You'll want to switch to <a href=\"https://stackoverflow.com/q/10806345/1426891\">@Before and @After methods</a> or <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">a Mockito JUnit4 rule</a> for your setup, if you use them both.</p>\n\n<p>As an example, compressed from <a href=\"https://stackoverflow.com/q/40793464/1426891\">a different answer</a> that explains more about Parameterized runners versus JUnit rules and lifting from the <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\">JUnit4 Parameterized Test</a> doc page and <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/junit/MockitoRule.html\" rel=\"noreferrer\">MockitoRule</a> doc page:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class YourComponentTest {\n    @Rule public MockitoRule rule = MockitoJUnit.rule();\n    @Mock YourDep mockYourDep;\n\n    @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\n\n    public YourComponentTest(Parameter parameter) { /* Save the parameter to a field */ }\n\n    @Test public void test() { /* Use the field value in assertions */ }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483972202,"creation_date":1483972202,"answer_id":41550220,"question_id":12606148,"body_markdown":"If you are stuck with an older version of mockito where `MockitoRule` isn&#39;t available, the other possibility is to initialize the mocks explicitely with `MockitoAnnotations.initMocks`:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class YourComponentTest {        \r\n        @Mock YourDep mockYourDep;\r\n\r\n        @Parameter\r\n        public Parameter parameter;\r\n    \r\n        @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\r\n    \r\n        @Before\r\n        public void init() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test public void test() { /* Use the field value in assertions */ }\r\n    }","title":"passing Parameterized input using Mockitos","body":"<p>If you are stuck with an older version of mockito where <code>MockitoRule</code> isn't available, the other possibility is to initialize the mocks explicitely with <code>MockitoAnnotations.initMocks</code>:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class YourComponentTest {        \n    @Mock YourDep mockYourDep;\n\n    @Parameter\n    public Parameter parameter;\n\n    @Parameters public static Collection&lt;Object[]&gt; data() { /* Return the values */ }\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test public void test() { /* Use the field value in assertions */ }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3860652,"reputation":195,"user_id":3198476,"accept_rate":22,"display_name":"Jonas Bausch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500528573,"creation_date":1500528573,"answer_id":45205894,"question_id":12606148,"body_markdown":"You can use the JUnitParamsRunner. Here&#39;s how I do it:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n    import junitparams.Parameters;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.mockito.Mockito.when;\r\n    import static org.mockito.MockitoAnnotations.initMocks;\r\n    \r\n    @RunWith(value = JUnitParamsRunner.class)\r\n    public class ParameterizedMockitoTest {\r\n    \r\n        @InjectMocks\r\n        private SomeService someService;\r\n        @Mock\r\n        private SomeOtherService someOtherService;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        @Parameters(method = &quot;getParameters&quot;)\r\n        public void testWithParameters(Boolean parameter, Boolean expected) throws Exception {\r\n            when(someOtherService.getSomething()).thenReturn(new Something());\r\n            Boolean testObject = someService.getTestObject(parameter);\r\n            assertThat(testObject, is(expected));\r\n        }\r\n    \r\n        @Test\r\n        public void testSomeBasicStuffWithoutParameters() {\r\n            int i = 0;\r\n            assertThat(i, is(0));\r\n        }\r\n    \r\n        public Iterable getParameters() {\r\n            return Arrays.asList(new Object[][]{\r\n                    {Boolean.TRUE, Boolean.TRUE},\r\n                    {Boolean.FALSE, Boolean.FALSE},\r\n            });\r\n        }\r\n    }","title":"passing Parameterized input using Mockitos","body":"<p>You can use the JUnitParamsRunner. Here's how I do it:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\nimport junitparams.Parameters;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\n\nimport java.util.Arrays;\n\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.mockito.Mockito.when;\nimport static org.mockito.MockitoAnnotations.initMocks;\n\n@RunWith(value = JUnitParamsRunner.class)\npublic class ParameterizedMockitoTest {\n\n    @InjectMocks\n    private SomeService someService;\n    @Mock\n    private SomeOtherService someOtherService;\n\n    @Before\n    public void setup() {\n        initMocks(this);\n    }\n\n    @Test\n    @Parameters(method = \"getParameters\")\n    public void testWithParameters(Boolean parameter, Boolean expected) throws Exception {\n        when(someOtherService.getSomething()).thenReturn(new Something());\n        Boolean testObject = someService.getTestObject(parameter);\n        assertThat(testObject, is(expected));\n    }\n\n    @Test\n    public void testSomeBasicStuffWithoutParameters() {\n        int i = 0;\n        assertThat(i, is(0));\n    }\n\n    public Iterable getParameters() {\n        return Arrays.asList(new Object[][]{\n                {Boolean.TRUE, Boolean.TRUE},\n                {Boolean.FALSE, Boolean.FALSE},\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667574958,"creation_date":1667574958,"answer_id":74319217,"question_id":12606148,"body_markdown":"What solved it for me was: \r\n1) Class level annotation of `@ExtendWith(MockitoExtension.class)`\r\n2) Annotate each mock object with `@Mock`\r\n3) `@InjectMocks` on the test class. Or a setup method annotated with `@BeforeEach` where you initialise the class to be tested. \r\n4) if you need the @test annotation, make sure you import `org.junit.jupiter.api.Test`. `org.junit.test` will not work! \r\n\r\nI&#39;m using mockito version 4. ","title":"passing Parameterized input using Mockitos","body":"<p>What solved it for me was:</p>\n<ol>\n<li>Class level annotation of <code>@ExtendWith(MockitoExtension.class)</code></li>\n<li>Annotate each mock object with <code>@Mock</code></li>\n<li><code>@InjectMocks</code> on the test class. Or a setup method annotated with <code>@BeforeEach</code> where you initialise the class to be tested.</li>\n<li>if you need the @test annotation, make sure you import <code>org.junit.jupiter.api.Test</code>. <code>org.junit.test</code> will not work!</li>\n</ol>\n<p>I'm using mockito version 4.</p>\n"}],"owner":{"account_id":1753787,"reputation":731,"user_id":1602280,"accept_rate":45,"display_name":"spal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50299,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":12606503,"answer_count":4,"score":33,"last_activity_date":1667574958,"creation_date":1348676423,"question_id":12606148,"body_markdown":"I am using Mockito for unit testing. I am wondering if its possible to send Parametrized input parameters with as in Junit testing   \r\ne.g\r\n  \r\n\t@InjectMocks\r\n\tMockClass mockClass = new MockClass();\r\n\r\n    @Test\r\n    public void mockTestMethod()\r\n        {\r\n        mockClass.testMethod(stringInput); \r\n    // here I want to pass a list of String inputs \r\n    // this is possible in Junit through Parameterized.class.. \r\n    // wondering if its can be done in Mockito\r\n        } ","title":"passing Parameterized input using Mockitos","body":"<p>I am using Mockito for unit testing. I am wondering if its possible to send Parametrized input parameters with as in Junit testing<br>\ne.g</p>\n\n<pre><code>@InjectMocks\nMockClass mockClass = new MockClass();\n\n@Test\npublic void mockTestMethod()\n    {\n    mockClass.testMethod(stringInput); \n// here I want to pass a list of String inputs \n// this is possible in Junit through Parameterized.class.. \n// wondering if its can be done in Mockito\n    } \n</code></pre>\n"},{"tags":["java","casting","calculation","primitive","primitive-types"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1667556395,"post_id":74315219,"comment_id":131199063,"body_markdown":"Does this answer your question? [Promotion in Java?](https://stackoverflow.com/questions/1660856/promotion-in-java) (the duplicate is mainly about bytes, but the same things happen here: operands are converted to `int` and then added)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1660856/promotion-in-java\">Promotion in Java?</a> (the duplicate is mainly about bytes, but the same things happen here: operands are converted to <code>int</code> and then added)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667574620,"post_id":74315219,"comment_id":131205735,"body_markdown":"*tl;dr* `byte` and `short` are not general purpose numeric variables in Java and will be hard to use for stuff like that. Just use `int` and cast down were necessary (plus probably checking for overflow).","body":"<i>tl;dr</i> <code>byte</code> and <code>short</code> are not general purpose numeric variables in Java and will be hard to use for stuff like that. Just use <code>int</code> and cast down were necessary (plus probably checking for overflow)."}],"owner":{"account_id":26827768,"reputation":1,"user_id":20416171,"display_name":"Kennszo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667556517,"answer_count":0,"score":0,"last_activity_date":1667574508,"creation_date":1667556151,"question_id":74315219,"body_markdown":"I added a `Byte` variable to a `Short` variable, however I had to add `(Short)` for the line of code to compute. I thought this was not needed as I&#39;m adding a smaller data type to a bigger one. Why is this?\r\n\r\n\r\nWhat i thought was correct.\r\n\r\n```\r\n        byte NumberOfShoes = 5;\r\n\t\tshort Laces = 10;\r\n\t\tshort ShoePacks = NumberOfShoes + Laces;\r\n\t\tSystem.out.println(ShoePacks);\r\n```\r\nWhat was correct.\r\n```\r\n        byte NumberOfShoes = 5;\r\n\t\tshort Laces = 10;\r\n\t\tshort ShoePacks = (short) (NumberOfShoes + Laces);\r\n\t\tSystem.out.println(ShoePacks);\r\n```\r\n","title":"Adding Byte and Short","body":"<p>I added a <code>Byte</code> variable to a <code>Short</code> variable, however I had to add <code>(Short)</code> for the line of code to compute. I thought this was not needed as I'm adding a smaller data type to a bigger one. Why is this?</p>\n<p>What i thought was correct.</p>\n<pre><code>        byte NumberOfShoes = 5;\n        short Laces = 10;\n        short ShoePacks = NumberOfShoes + Laces;\n        System.out.println(ShoePacks);\n</code></pre>\n<p>What was correct.</p>\n<pre><code>        byte NumberOfShoes = 5;\n        short Laces = 10;\n        short ShoePacks = (short) (NumberOfShoes + Laces);\n        System.out.println(ShoePacks);\n</code></pre>\n"},{"tags":["java","spring-boot","azure","hibernate","mssql-jdbc"],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667574335,"creation_date":1667574335,"answer_id":74319083,"question_id":74247318,"body_markdown":"- you can create these table using entities class too where you can create a join table using the `many- to-many ` annotation. \r\n\r\n- The `many-to-many` annotation will help in creating a new table though join where you can pick and choose which columns will part of the new table. \r\n\r\n```\r\npackage com.example.demo;  \r\n\r\n import javax.persistence.*;  \r\n import java.util.HashSet;  \r\n import java.util.Set;  \r\n  \r\n@Entity  \r\n@Table(name=&quot;t1&quot;)  \r\npublic class t1 {  \r\n    @Id  \r\n @GeneratedValue(strategy = GenerationType.AUTO)  \r\n    @Column(name = &quot;id&quot;, nullable = false)  \r\n    private Long id;  \r\n  \r\n public Long getId() {  \r\n        return id;  \r\n  }  \r\n  \r\n    public void setId(Long id) {  \r\n        this.id = id;  \r\n  }  \r\n  \r\n    @Column(name = &quot;name&quot;)  \r\n    private String name ;  \r\n  \r\n  @ManyToMany(cascade = { CascadeType.ALL })  \r\n    @JoinTable(  \r\n            name = &quot;t3&quot;,  \r\n  joinColumns = { @JoinColumn(name = &quot;id&quot;) },  \r\n  inverseJoinColumns = { @JoinColumn(name = &quot;newid&quot;) }  \r\n    )  \r\n    Set&lt;t2&gt; t1 = new HashSet&lt;&gt;();   \r\n}\r\n``` \r\n\r\n- Here the many-to-many will connect the two table and create a new table called `t3` . Here we are also giving a reference of the table t2 as set.\r\n\r\n```\r\npackage com.example.demo;  \r\n  \r\nimport javax.persistence.*;  \r\nimport java.util.HashSet;  \r\nimport java.util.Set;  \r\n  \r\n@Entity  \r\n@Table(name=&quot;t2&quot;)  \r\npublic class t2 {  \r\n    @Id  \r\n @GeneratedValue(strategy = GenerationType.AUTO)  \r\n    @Column(name = &quot;newid&quot;, nullable = false)  \r\n    private Long newid;  \r\n  \r\n public Long getNewid() {  \r\n        return newid;  \r\n  }  \r\n  \r\n    public void setNewid(Long newid) {  \r\n        this.newid = newid;  \r\n  }  \r\n  \r\n    @Column(name = &quot;newname&quot;)  \r\n    private String newname ;  \r\n  \r\n  @ManyToMany(mappedBy = &quot;t1&quot;)  \r\n    Set&lt;t1&gt; t2 = new HashSet&lt;&gt;();  \r\n}\r\n```\r\n- Similar to t1 here we are also mapping t2 to t1 and giving a reference of t1 as a set . \r\n\r\ndependency (pom.xml):\r\n```\r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \r\n &lt;scope&gt;test&lt;/scope&gt;  \r\n&lt;/dependency&gt;\r\n```\r\nNow run you project, and it will create the tables.\r\n\r\n![enter image description here](https://i.stack.imgur.com/gsW7d.png)\r\n\r\n\r\nRefer this [article](https://www.baeldung.com/hibernate-many-to-many) Zeger Hendrikse on this ","title":"Error creating table in MSSQL server in Microsoft Azure: Spring Boot and Hibernate","body":"<ul>\n<li><p>you can create these table using entities class too where you can create a join table using the <code>many- to-many </code> annotation.</p>\n</li>\n<li><p>The <code>many-to-many</code> annotation will help in creating a new table though join where you can pick and choose which columns will part of the new table.</p>\n</li>\n</ul>\n<pre><code>package com.example.demo;  \n\n import javax.persistence.*;  \n import java.util.HashSet;  \n import java.util.Set;  \n  \n@Entity  \n@Table(name=&quot;t1&quot;)  \npublic class t1 {  \n    @Id  \n @GeneratedValue(strategy = GenerationType.AUTO)  \n    @Column(name = &quot;id&quot;, nullable = false)  \n    private Long id;  \n  \n public Long getId() {  \n        return id;  \n  }  \n  \n    public void setId(Long id) {  \n        this.id = id;  \n  }  \n  \n    @Column(name = &quot;name&quot;)  \n    private String name ;  \n  \n  @ManyToMany(cascade = { CascadeType.ALL })  \n    @JoinTable(  \n            name = &quot;t3&quot;,  \n  joinColumns = { @JoinColumn(name = &quot;id&quot;) },  \n  inverseJoinColumns = { @JoinColumn(name = &quot;newid&quot;) }  \n    )  \n    Set&lt;t2&gt; t1 = new HashSet&lt;&gt;();   \n}\n</code></pre>\n<ul>\n<li>Here the many-to-many will connect the two table and create a new table called <code>t3</code> . Here we are also giving a reference of the table t2 as set.</li>\n</ul>\n<pre><code>package com.example.demo;  \n  \nimport javax.persistence.*;  \nimport java.util.HashSet;  \nimport java.util.Set;  \n  \n@Entity  \n@Table(name=&quot;t2&quot;)  \npublic class t2 {  \n    @Id  \n @GeneratedValue(strategy = GenerationType.AUTO)  \n    @Column(name = &quot;newid&quot;, nullable = false)  \n    private Long newid;  \n  \n public Long getNewid() {  \n        return newid;  \n  }  \n  \n    public void setNewid(Long newid) {  \n        this.newid = newid;  \n  }  \n  \n    @Column(name = &quot;newname&quot;)  \n    private String newname ;  \n  \n  @ManyToMany(mappedBy = &quot;t1&quot;)  \n    Set&lt;t1&gt; t2 = new HashSet&lt;&gt;();  \n}\n</code></pre>\n<ul>\n<li>Similar to t1 here we are also mapping t2 to t1 and giving a reference of t1 as a set .</li>\n</ul>\n<p>dependency (pom.xml):</p>\n<pre><code>&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \n &lt;scope&gt;test&lt;/scope&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>Now run you project, and it will create the tables.</p>\n<p><img src=\"https://i.stack.imgur.com/gsW7d.png\" alt=\"enter image description here\" /></p>\n<p>Refer this <a href=\"https://www.baeldung.com/hibernate-many-to-many\" rel=\"nofollow noreferrer\">article</a> Zeger Hendrikse on this</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74319083,"answer_count":1,"score":0,"last_activity_date":1667574335,"creation_date":1667063940,"question_id":74247318,"body_markdown":"I have created a **Spring Boot Web Application with Hibernate**. I am using **Microsoft Azure and SQL Database** to deploy my application. I have configured the database on Azure and in my code. Configuration code is-  \r\n**1. application.properties file**\r\n\r\n```\r\n#to  automatically create/update tables for any entities\r\nspring.jpa.hibernate.ddl-auto=update\r\n#to show the table operation query in the console\r\nspring.jpa.show-sql=true\r\n\r\n#change port\r\nserver.port=8085\r\n\r\n#File related all configurations\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\n\r\nproject.image=images/\r\n\r\n#get all the debugging logs for spring security\r\nlogging.level.org.springframework.security=DEBUG\r\n```\r\n\r\n**2. application.yml file**\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:sqlserver:&lt;url&gt;:1433;database=blogging-application-db;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\r\n    username: &lt;username&gt;\r\n    password: &lt;password&gt;\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      dialect : org.hibernate.dialect.SQLServer2012Dialect\r\n    #   hibernate:\r\n    #     &#39;[globally_quoted_identifiers: true]&#39;\r\n    #   properties:\r\n    #     dialect : org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nserver:\r\n  port: 8085\r\n```\r\n\r\nI am creating several tables in my database.  \r\n[![Image of tables in Microsoft Azure console][1]][1]\r\n\r\nAll the tables are getting created, but one that needs to be created automatically for a **many to many relationship between user and role** is not getting created. The table is named as **user_role**. I am getting the following errors for it-\r\n```\r\nHibernate: create table user_role (user int not null, role int not null, primary key (user, role))  \r\n2022-10-29 22:22:39.192  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \r\nGenerationTarget encountered exception accepting command : \r\nError executing DDL &quot;create table user_role (user int not null, role int not null, primary key (user, role))&quot; via JDBC Statement\r\n```\r\n**and**\r\n```\r\nHibernate: alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users  \r\n2022-10-29 22:22:39.852  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \r\nGenerationTarget encountered exception accepting the command : \r\nError executing DDL &quot;alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users&quot; via JDBC Statement\r\n```\r\n**and**  \r\n```\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;user&#39;.\r\n```\r\nI am not able to figure out what is the problem in creating the **user_role table** which should be created automatically by the hibernate. Also, the code was working perfectly when I was using **MySQL with localhost**. Now, when I am trying to use **Microsoft Azure and MSSQL** database, I get the error.\r\nPlease help me to figure this out!\r\n\r\n  [1]: https://i.stack.imgur.com/oCOmn.png","title":"Error creating table in MSSQL server in Microsoft Azure: Spring Boot and Hibernate","body":"<p>I have created a <strong>Spring Boot Web Application with Hibernate</strong>. I am using <strong>Microsoft Azure and SQL Database</strong> to deploy my application. I have configured the database on Azure and in my code. Configuration code is-<br />\n<strong>1. application.properties file</strong></p>\n<pre><code>#to  automatically create/update tables for any entities\nspring.jpa.hibernate.ddl-auto=update\n#to show the table operation query in the console\nspring.jpa.show-sql=true\n\n#change port\nserver.port=8085\n\n#File related all configurations\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n\nproject.image=images/\n\n#get all the debugging logs for spring security\nlogging.level.org.springframework.security=DEBUG\n</code></pre>\n<p><strong>2. application.yml file</strong></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:sqlserver:&lt;url&gt;:1433;database=blogging-application-db;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\n    username: &lt;username&gt;\n    password: &lt;password&gt;\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n    properties:\n      dialect : org.hibernate.dialect.SQLServer2012Dialect\n    #   hibernate:\n    #     '[globally_quoted_identifiers: true]'\n    #   properties:\n    #     dialect : org.hibernate.dialect.SQLServer2012Dialect\n\nserver:\n  port: 8085\n</code></pre>\n<p>I am creating several tables in my database.<br />\n<a href=\"https://i.stack.imgur.com/oCOmn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCOmn.png\" alt=\"Image of tables in Microsoft Azure console\" /></a></p>\n<p>All the tables are getting created, but one that needs to be created automatically for a <strong>many to many relationship between user and role</strong> is not getting created. The table is named as <strong>user_role</strong>. I am getting the following errors for it-</p>\n<pre><code>Hibernate: create table user_role (user int not null, role int not null, primary key (user, role))  \n2022-10-29 22:22:39.192  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \nGenerationTarget encountered exception accepting command : \nError executing DDL &quot;create table user_role (user int not null, role int not null, primary key (user, role))&quot; via JDBC Statement\n</code></pre>\n<p><strong>and</strong></p>\n<pre><code>Hibernate: alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users  \n2022-10-29 22:22:39.852  WARN 18348 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : \nGenerationTarget encountered exception accepting the command : \nError executing DDL &quot;alter table user_role add constraint FKlduspqw8rg0gbcpludbfadw6l foreign key (user) references users&quot; via JDBC Statement\n</code></pre>\n<p><strong>and</strong></p>\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'user'.\n</code></pre>\n<p>I am not able to figure out what is the problem in creating the <strong>user_role table</strong> which should be created automatically by the hibernate. Also, the code was working perfectly when I was using <strong>MySQL with localhost</strong>. Now, when I am trying to use <strong>Microsoft Azure and MSSQL</strong> database, I get the error.\nPlease help me to figure this out!</p>\n"},{"tags":["java","angular","spring","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":3145100,"reputation":314,"user_id":2659721,"display_name":"tiziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667573918,"creation_date":1667573918,"answer_id":74318994,"question_id":58961202,"body_markdown":"You can increase the max size of the body configuring the Nginx reverse proxy in /etc/nginx/conf.d/proxy.conf:\r\n\r\n    client_max_body_size 2M;\r\n\r\nYou can also configure Nginx via ebextensions (in .ebextensions/nginx/conf.d/proxy.conf)","title":"Java AWS 413 (Request Entity Too Large)","body":"<p>You can increase the max size of the body configuring the Nginx reverse proxy in /etc/nginx/conf.d/proxy.conf:</p>\n<pre><code>client_max_body_size 2M;\n</code></pre>\n<p>You can also configure Nginx via ebextensions (in .ebextensions/nginx/conf.d/proxy.conf)</p>\n"}],"owner":{"account_id":16507903,"reputation":39,"user_id":11927483,"display_name":"tundra90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667573918,"creation_date":1574274998,"question_id":58961202,"body_markdown":"I am having a problem uploading files to S3 Bucket after I&#39;ve uploaded and deployed my Spring Boot/Angular application to Elastic Beanstalk. I get, 413 (Request Entity Too Large). I have tried uploading a zipped folder with the .ebextensions directory with the myconf.conf file. Still end up with the same result as well as a blocked by CORS policy. Obviously just running the spring boot app and using postman, everything worked fine and everything worked on localhost:4200 as well. ","title":"Java AWS 413 (Request Entity Too Large)","body":"<p>I am having a problem uploading files to S3 Bucket after I've uploaded and deployed my Spring Boot/Angular application to Elastic Beanstalk. I get, 413 (Request Entity Too Large). I have tried uploading a zipped folder with the .ebextensions directory with the myconf.conf file. Still end up with the same result as well as a blocked by CORS policy. Obviously just running the spring boot app and using postman, everything worked fine and everything worked on localhost:4200 as well. </p>\n"},{"tags":["java","html","spring-boot","thymeleaf","computer-science"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1667484075,"post_id":74303694,"comment_id":131181140,"body_markdown":"It looks as if you have two separate Java lists - one used by `${descriptionList}` and one used by `${idList}`. What is the relationship between these two lists? Perhaps what you need is a single Java list, where each object in the list contains all the data needed for one table row. Then you only need one iterator (at the `&lt;tr&gt;` level) and your Thymeleaf becomes much simpler.","body":"It looks as if you have two separate Java lists - one used by <code>${descriptionList}</code> and one used by <code>${idList}</code>. What is the relationship between these two lists? Perhaps what you need is a single Java list, where each object in the list contains all the data needed for one table row. Then you only need one iterator (at the <code>&lt;tr&gt;</code> level) and your Thymeleaf becomes much simpler."}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572570,"creation_date":1667572570,"answer_id":74318705,"question_id":74303694,"body_markdown":"A simple example which can help you out. Given the class `User`,\r\n\r\n    class User {\r\n        private Long id;\r\n        private String email;\r\n        // other data that is desired\r\n        // setters and getters omitted\r\n    }\r\n\r\n**In the spring controller**\r\n\r\nYou would have something like a list of users, as such `List&lt;User&gt; specialUsers` and you would add it to the model, `model.add(&quot;users&quot;, specialUsers);`.\r\n\r\n**In the appropriate html page, using thymeleaf**\r\n\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Id&lt;/td&gt;\r\n            &lt;td&gt;Email&lt;/td&gt;\r\n            &lt;td&gt;Operation(s)&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;th:block th:each=&quot;user : ${specialUsers}&quot;&gt; &lt;!-- Looping each user in the list specialUsers--&gt;\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;form th:action=&quot;@{/user/delete}&quot;&gt;\r\n                    &lt;input type=&quot;hidden&quot; th:value=&quot;${user.id}&quot;&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\r\n                &lt;/form&gt;\r\n            &lt;/td&gt;\r\n        &lt;tr&gt;\r\n    &lt;/th:block&gt;\r\n    &lt;/table&gt;","title":"SpringBoot &amp;Thymeleaf loop and buttons","body":"<p>A simple example which can help you out. Given the class <code>User</code>,</p>\n<pre><code>class User {\n    private Long id;\n    private String email;\n    // other data that is desired\n    // setters and getters omitted\n}\n</code></pre>\n<p><strong>In the spring controller</strong></p>\n<p>You would have something like a list of users, as such <code>List&lt;User&gt; specialUsers</code> and you would add it to the model, <code>model.add(&quot;users&quot;, specialUsers);</code>.</p>\n<p><strong>In the appropriate html page, using thymeleaf</strong></p>\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Id&lt;/td&gt;\n        &lt;td&gt;Email&lt;/td&gt;\n        &lt;td&gt;Operation(s)&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;th:block th:each=&quot;user : ${specialUsers}&quot;&gt; &lt;!-- Looping each user in the list specialUsers--&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n        &lt;td&gt;\n            &lt;form th:action=&quot;@{/user/delete}&quot;&gt;\n                &lt;input type=&quot;hidden&quot; th:value=&quot;${user.id}&quot;&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\n            &lt;/form&gt;\n        &lt;/td&gt;\n    &lt;tr&gt;\n&lt;/th:block&gt;\n&lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":24393499,"reputation":1,"user_id":18323125,"display_name":"Ian Justino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667572570,"creation_date":1667481369,"question_id":74303694,"body_markdown":"Could anyone spare a moment?\r\n\r\nIssue: I would like to iterate over an array in thymeleaf and add a button to it inside a cell or however it can work.\r\n\r\nThis is what I&#39;m currently working on: \r\n``` \r\n&lt;table&gt;\r\n   &lt;tr th:each=&quot;description : ${descriptionList}&quot;&gt;\r\n     &lt;td  th:text=&quot;${description}&quot;&gt; &lt;/td&gt;\r\n     &lt;td  th:each=&quot;id : ${idList}&quot;&gt;  &lt;/td&gt;\r\n     &lt;td  th:text=&quot;${id}&quot;&gt;\r\n     &lt;td th:each=&quot;id : ${idList}&quot;&gt;\r\n       &lt;form action=&quot;/deletewish&quot; method=&quot;post&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; name=&quot;email&quot; th:value=&quot;${email}&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; name=&quot;wish_id&quot; th:value=&quot;${id}&quot;&gt;\r\n         &lt;button type=&quot;submit&quot;&gt; Delete &lt;/button&gt;\r\n       &lt;/form&gt;\r\n      &lt;/td&gt;&lt;/td&gt;\r\n   &lt;/tr&gt;\r\n&lt;/table&gt; \r\n```\r\n\r\nIssue here is that its adding the button correctly, but its also adding buttons equal to amount of iterations.\r\n\r\nIs there a solution to iterate once? I&#39;m having real trouble working the syntax here.\r\n\r\nI need a table with 1 row and 3 columns with the following info: Description, ID and a delete button.\r\n\r\nThank you for your time.\r\n\r\nI tried changing table size and tried different syntax approaches to the thymeleaf loop, but this solution was the best one I found yet.","title":"SpringBoot &amp;Thymeleaf loop and buttons","body":"<p>Could anyone spare a moment?</p>\n<p>Issue: I would like to iterate over an array in thymeleaf and add a button to it inside a cell or however it can work.</p>\n<p>This is what I'm currently working on:</p>\n<pre><code>&lt;table&gt;\n   &lt;tr th:each=&quot;description : ${descriptionList}&quot;&gt;\n     &lt;td  th:text=&quot;${description}&quot;&gt; &lt;/td&gt;\n     &lt;td  th:each=&quot;id : ${idList}&quot;&gt;  &lt;/td&gt;\n     &lt;td  th:text=&quot;${id}&quot;&gt;\n     &lt;td th:each=&quot;id : ${idList}&quot;&gt;\n       &lt;form action=&quot;/deletewish&quot; method=&quot;post&quot;&gt;\n         &lt;input type=&quot;hidden&quot; name=&quot;email&quot; th:value=&quot;${email}&quot;&gt;\n         &lt;input type=&quot;hidden&quot; name=&quot;wish_id&quot; th:value=&quot;${id}&quot;&gt;\n         &lt;button type=&quot;submit&quot;&gt; Delete &lt;/button&gt;\n       &lt;/form&gt;\n      &lt;/td&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/table&gt; \n</code></pre>\n<p>Issue here is that its adding the button correctly, but its also adding buttons equal to amount of iterations.</p>\n<p>Is there a solution to iterate once? I'm having real trouble working the syntax here.</p>\n<p>I need a table with 1 row and 3 columns with the following info: Description, ID and a delete button.</p>\n<p>Thank you for your time.</p>\n<p>I tried changing table size and tried different syntax approaches to the thymeleaf loop, but this solution was the best one I found yet.</p>\n"},{"tags":["java","spring","caching","jedis"],"answers":[{"tags":[],"owner":{"account_id":13696444,"reputation":26,"user_id":9882969,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667572092,"creation_date":1667249523,"answer_id":74269001,"question_id":74267834,"body_markdown":"Found this [stack post](https://stackoverflow.com/questions/48181614/using-multiple-jedis-clusters-for-caching-with-spring-boot) on setting up `CacheManager -&gt; RedisCacheManager -&gt; RedisTemplate -&gt; JedisConnectionFactory -&gt; Redis(Cluster/Standalone)Configuration + JedisClientConfiguration` \r\n\r\nThink RedisStandalone Configuration best suits your needs: \r\n\r\n&gt; Configuration class used for setting up RedisConnection via\r\n&gt; RedisConnectionFactory using connecting to a single node Redis\r\n&gt; installation.\r\n\r\n\r\n\r\nThere is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: `redisTemplate.setConnectionFactory(getJedisConnectionFactory())`, then you can setup the `jedisConnectionFactory` with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See [JedisConnectionFactory](https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html)\r\n\r\nExample setup of the JedisConnectionFactory setup \r\n\r\n      redisTemplate.setConnectionFactory(getJedisConnectionFactory())\r\n\r\n      private JedisConnectionFactory getJedisConnectionFactory() {      \r\n          JedisConnectionFactory jedisConnectionFactory = new \r\n    JedisConnectionFactory();      \r\n          jedisConnectionFactory.setClientName(&quot;myClientName&quot;);      \r\n          jedisConnectionFactory.set(new JedisClientConfiguration(\r\n            new RedisStandaloneConfiguration(...), \r\n            new JedisClientConfiguration(...)))\r\n\r\n","title":"How to use Cacheable annotation in spring boot app when it already uses jedis as a fast storage","body":"<p>Found this <a href=\"https://stackoverflow.com/questions/48181614/using-multiple-jedis-clusters-for-caching-with-spring-boot\">stack post</a> on setting up <code>CacheManager -&gt; RedisCacheManager -&gt; RedisTemplate -&gt; JedisConnectionFactory -&gt; Redis(Cluster/Standalone)Configuration + JedisClientConfiguration</code></p>\n<p>Think RedisStandalone Configuration best suits your needs:</p>\n<blockquote>\n<p>Configuration class used for setting up RedisConnection via\nRedisConnectionFactory using connecting to a single node Redis\ninstallation.</p>\n</blockquote>\n<p>There is no JedisCachemanager, only a RedisCacheManager like you said, therefore you have to setup a RedisTemplate with a JedisConnectionFactory: <code>redisTemplate.setConnectionFactory(getJedisConnectionFactory())</code>, then you can setup the <code>jedisConnectionFactory</code> with your specific configs e.g. setting database index name, redis host name, JedisClientConfiguration, timeouts, etc. See <a href=\"https://docs.spring.io/spring-data/redis/docs/current/api/org/springframework/data/redis/connection/jedis/JedisConnectionFactory.html\" rel=\"nofollow noreferrer\">JedisConnectionFactory</a></p>\n<p>Example setup of the JedisConnectionFactory setup</p>\n<pre><code>  redisTemplate.setConnectionFactory(getJedisConnectionFactory())\n\n  private JedisConnectionFactory getJedisConnectionFactory() {      \n      JedisConnectionFactory jedisConnectionFactory = new \nJedisConnectionFactory();      \n      jedisConnectionFactory.setClientName(&quot;myClientName&quot;);      \n      jedisConnectionFactory.set(new JedisClientConfiguration(\n        new RedisStandaloneConfiguration(...), \n        new JedisClientConfiguration(...)))\n</code></pre>\n"}],"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269001,"answer_count":1,"score":0,"last_activity_date":1667572092,"creation_date":1667241823,"question_id":74267834,"body_markdown":"I&#39;m working on java spring project (Spring Boot v2.3.3.RELEASE, Spring v5.2.8.RELEASE).\r\n \r\nI&#39;m want to use spring&#39;s @Cacheable annotation with customized cache (not spring default cache).\r\nI already have Jedis configured in this app to be used as fast storage.\r\nIn order to use this annotation I need to configure cacheManger, \r\nbut I&#39;m not sure how to implement it so it will make use with Jedis, all I find is Redis.\r\n\r\nany help will be appreciated!","title":"How to use Cacheable annotation in spring boot app when it already uses jedis as a fast storage","body":"<p>I'm working on java spring project (Spring Boot v2.3.3.RELEASE, Spring v5.2.8.RELEASE).</p>\n<p>I'm want to use spring's @Cacheable annotation with customized cache (not spring default cache).\nI already have Jedis configured in this app to be used as fast storage.\nIn order to use this annotation I need to configure cacheManger,\nbut I'm not sure how to implement it so it will make use with Jedis, all I find is Redis.</p>\n<p>any help will be appreciated!</p>\n"},{"tags":["java","algorithm","data-structures","linked-list","structure"],"answers":[{"tags":[],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667237576,"creation_date":1667237576,"answer_id":74267090,"question_id":74266804,"body_markdown":"Need to see all the relevent code file before answering,but i observe that you are doing \r\n```\r\nSystem.out.println(list2.val);\r\n```\r\nYou are assuming list2!=null here \r\n```\r\nwhile (list1 != null &amp;&amp; list2 != null)\r\n```\r\nbut in the code you are doing \r\n```\r\nlist2 = list2.next;\r\n            \r\n        }\r\n\r\n        System.out.println(list2.val);\r\n```\r\n\r\nwhat if list2 becomes null here .Need to put null checks\r\n\r\n\r\n","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>Need to see all the relevent code file before answering,but i observe that you are doing</p>\n<pre><code>System.out.println(list2.val);\n</code></pre>\n<p>You are assuming list2!=null here</p>\n<pre><code>while (list1 != null &amp;&amp; list2 != null)\n</code></pre>\n<p>but in the code you are doing</p>\n<pre><code>list2 = list2.next;\n            \n        }\n\n        System.out.println(list2.val);\n</code></pre>\n<p>what if list2 becomes null here .Need to put null checks</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667238895,"creation_date":1667238895,"answer_id":74267319,"question_id":74266804,"body_markdown":"When you draw the states of your list nodes on a piece of paper step by step, you&#39;ll see how that cycle gets introduced.\r\n\r\nHere is a visualisation -- step by step. I assume the code has first created a dummy node to which also `result` has a reference. Before the loop gets executed we thus have this state:\r\n\r\n```\r\nlist1\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\nlist2\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\nresult\r\n  ↓ \r\n┌───┐\r\n│   ├──► null\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 1** of the loop: `if` condition is false, so `list2` is moved, and then `result-&gt;next` gets the same reference, and then `result` itself moves:\r\n\r\n```\r\nlist1\r\n  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘   └───┘   └───┘\r\n\r\n        list2\r\n          ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n┌───┐│  result\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 2** of the loop: `if` condition is true, so `list1` is moved, and then `result-&gt;next` gets the same reference, and then `result` itself moves:\r\n\r\n```\r\n        list1\r\n          ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n     │  result\r\n     └───────┐\r\n        list2│\r\n          ↓  │\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\nAt this point we already have a serious problem, as the last node that belonged to the second list has now become detached and unreachable.\r\n\r\n**Iteration 3** of the loop: `if` condition is true, so `list1` is moved, and then `result-&gt;next` gets the same reference (but this was already the case), and then `result` itself moves:\r\n\r\n```\r\n                list1\r\n                  ↓ \r\n┌───┐   ┌───┐   ┌───┐\r\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │            ↑\r\n     │          result\r\n     └───────┐\r\n        list2│\r\n          ↓  │\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\n**Iteration 4** of the loop: `if` condition is false, so `list2` is moved (and is going the wrong way!), and then `result-&gt;next` gets the same reference (creating the cycle!), and then `result` itself moves:\r\n\r\n```\r\n        list2   list1\r\n          ↓       ↓ \r\n     ┌───────────────┐\r\n┌───┐└─►┌───┐   ┌───┐│\r\n│ 1 ├──►│ 2 ├──►│ 4 ├┘\r\n└───┘┌─►└───┘   └───┘\r\n     │    ↑\r\n     │  result\r\n     └───────┐\r\n┌───┐   ┌───┐│  ┌───┐\r\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\r\n└───┘┌─►└───┘   └───┘\r\n     │    \r\n┌───┐│\r\n│   ├┘\r\n└───┘\r\n  ↑\r\ndummy\r\n```\r\n\r\nAnd now the cycle has been made! The node with value 2 points to the node with value 4, and vice versa!","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>When you draw the states of your list nodes on a piece of paper step by step, you'll see how that cycle gets introduced.</p>\n<p>Here is a visualisation -- step by step. I assume the code has first created a dummy node to which also <code>result</code> has a reference. Before the loop gets executed we thus have this state:</p>\n<pre><code>list1\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\nlist2\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\nresult\n  ↓ \n┌───┐\n│   ├──► null\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 1</strong> of the loop: <code>if</code> condition is false, so <code>list2</code> is moved, and then <code>result-&gt;next</code> gets the same reference, and then <code>result</code> itself moves:</p>\n<pre><code>list1\n  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘   └───┘   └───┘\n\n        list2\n          ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 3 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    ↑\n┌───┐│  result\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 2</strong> of the loop: <code>if</code> condition is true, so <code>list1</code> is moved, and then <code>result-&gt;next</code> gets the same reference, and then <code>result</code> itself moves:</p>\n<pre><code>        list1\n          ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    ↑\n     │  result\n     └───────┐\n        list2│\n          ↓  │\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p>At this point we already have a serious problem, as the last node that belonged to the second list has now become detached and unreachable.</p>\n<p><strong>Iteration 3</strong> of the loop: <code>if</code> condition is true, so <code>list1</code> is moved, and then <code>result-&gt;next</code> gets the same reference (but this was already the case), and then <code>result</code> itself moves:</p>\n<pre><code>                list1\n                  ↓ \n┌───┐   ┌───┐   ┌───┐\n│ 1 ├──►│ 2 ├──►│ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │            ↑\n     │          result\n     └───────┐\n        list2│\n          ↓  │\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p><strong>Iteration 4</strong> of the loop: <code>if</code> condition is false, so <code>list2</code> is moved (and is going the wrong way!), and then <code>result-&gt;next</code> gets the same reference (creating the cycle!), and then <code>result</code> itself moves:</p>\n<pre><code>        list2   list1\n          ↓       ↓ \n     ┌───────────────┐\n┌───┐└─►┌───┐   ┌───┐│\n│ 1 ├──►│ 2 ├──►│ 4 ├┘\n└───┘┌─►└───┘   └───┘\n     │    ↑\n     │  result\n     └───────┐\n┌───┐   ┌───┐│  ┌───┐\n│ 1 ├──►│ 3 ├┘  │ 4 ├──► null\n└───┘┌─►└───┘   └───┘\n     │    \n┌───┐│\n│   ├┘\n└───┘\n  ↑\ndummy\n</code></pre>\n<p>And now the cycle has been made! The node with value 2 points to the node with value 4, and vice versa!</p>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667572056,"creation_date":1667572056,"answer_id":74318594,"question_id":74266804,"body_markdown":"You are not setting the next pointer of the result node to the next node of the list1 or list2 node. You are setting it to the list1 or list2 node itself. So you are creating a cycle in the linked list. You need to set the next pointer of the result node to the next node of the list1 or list2 node. So the correct code should be:\r\n\r\n    result.next = list1.next;\r\n    list1 = list1.next;\r\n    \r\n    result.next = list2.next;\r\n    list2 = list2.next;","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>You are not setting the next pointer of the result node to the next node of the list1 or list2 node. You are setting it to the list1 or list2 node itself. So you are creating a cycle in the linked list. You need to set the next pointer of the result node to the next node of the list1 or list2 node. So the correct code should be:</p>\n<pre><code>result.next = list1.next;\nlist1 = list1.next;\n\nresult.next = list2.next;\nlist2 = list2.next;\n</code></pre>\n"}],"owner":{"account_id":2334864,"reputation":221,"user_id":2047436,"accept_rate":76,"display_name":"Minelava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74267319,"answer_count":3,"score":-1,"last_activity_date":1667572056,"creation_date":1667235897,"question_id":74266804,"body_markdown":"I am attempting leetcode merging of sorted linkedlist\r\n\r\nI have just discovered a mistake of my code that I placed `list1 = list1.next` right before the `result.next = list1`, causing the code to caused an infinite loop. However, I tried to trace and still don&#39;t understand how the logic caused an infinite loop.\r\n\r\n**Wrong Solution**\r\n\r\n\t\t\r\n\t\t// Loop until list1 and list2 is not empty\r\n\t\twhile (list1 != null &amp;&amp; list2 != null) {\r\n\t\t\tif (list1.val &lt; list2.val) {\r\n\t\t\t\tlist1 = list1.next;\r\n\t\t\t\tresult.next = list1;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tlist2 = list2.next;\r\n\t\t\t\tresult.next = list2;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(list2.val);\r\n\r\n\t\t\tresult = result.next;\r\n\r\n\t\t}\r\n\r\n**Correct Solution**\r\n\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n\t\t\tif (list1.val &lt; list2.val) {\r\n\t\t\t\t\r\n\t\t\t\tresult.next = list1;\r\n                list1 = list1.next;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tresult.next = list2;\r\n                list2 = list2.next;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(list2.val);\r\n\r\n\t\t\tresult = result.next;\r\n\r\n\t\t}\r\nCan someone enlighten me why does the placement of list1 = list1.next and list2 = list2.next, will caused an infinite loop? Here are my debugging attempts\r\n\r\n[![1) The 2nd last iteration][1]][1]\r\n\r\n[![The final iteration][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvRw9.png\r\n  [2]: https://i.stack.imgur.com/KujoG.png\r\n\r\nAs you can see the two images, represents the value of the result linkedlist, which will continuously loop through the value of 4,2,3 -&gt; 2,4,2 -&gt; 4,2,3 -&gt; 2,4,2 .... vice versa.\r\n\r\nFinally here is my input\r\n1,2,4\r\n1,3,4","title":"Merge LinkedList - Why does this code caused an infinite loop?","body":"<p>I am attempting leetcode merging of sorted linkedlist</p>\n<p>I have just discovered a mistake of my code that I placed <code>list1 = list1.next</code> right before the <code>result.next = list1</code>, causing the code to caused an infinite loop. However, I tried to trace and still don't understand how the logic caused an infinite loop.</p>\n<p><strong>Wrong Solution</strong></p>\n<pre><code>    // Loop until list1 and list2 is not empty\n    while (list1 != null &amp;&amp; list2 != null) {\n        if (list1.val &lt; list2.val) {\n            list1 = list1.next;\n            result.next = list1;\n            \n        } else {\n            list2 = list2.next;\n            result.next = list2;\n            \n        }\n\n        System.out.println(list2.val);\n\n        result = result.next;\n\n    }\n</code></pre>\n<p><strong>Correct Solution</strong></p>\n<pre><code>    while (list1 != null &amp;&amp; list2 != null) {\n        if (list1.val &lt; list2.val) {\n            \n            result.next = list1;\n            list1 = list1.next;\n            \n        } else {\n            \n            result.next = list2;\n            list2 = list2.next;\n            \n        }\n\n        System.out.println(list2.val);\n\n        result = result.next;\n\n    }\n</code></pre>\n<p>Can someone enlighten me why does the placement of list1 = list1.next and list2 = list2.next, will caused an infinite loop? Here are my debugging attempts</p>\n<p><a href=\"https://i.stack.imgur.com/mvRw9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mvRw9.png\" alt=\"1) The 2nd last iteration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/KujoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KujoG.png\" alt=\"The final iteration\" /></a></p>\n<p>As you can see the two images, represents the value of the result linkedlist, which will continuously loop through the value of 4,2,3 -&gt; 2,4,2 -&gt; 4,2,3 -&gt; 2,4,2 .... vice versa.</p>\n<p>Finally here is my input\n1,2,4\n1,3,4</p>\n"},{"tags":["java","apache-camel","camel-file"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667571671,"creation_date":1667501020,"answer_id":74308115,"question_id":74307662,"body_markdown":"Since the File component is a [batch consumer](https://camel.apache.org/components/3.18.x/file-component.html#_batch_consumer), you can inspect the exchange property called `CamelBatchComplete`. If the value is `true`, there no more files to process, so you can stop the `CamelContext`. This could be as simple as `camelContext.stop()`, but see [this question](https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way) for more options.\r\n\r\nhttps://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\r\n\r\nEdit: Since you have a standalone application, if you&#39;re using Camel main you can use the `camel.main.durationMaxIdle​Seconds` option. Spring Boot has a similar setting.","title":"Camel standalone application - exit after processing multiple files","body":"<p>Since the File component is a <a href=\"https://camel.apache.org/components/3.18.x/file-component.html#_batch_consumer\" rel=\"nofollow noreferrer\">batch consumer</a>, you can inspect the exchange property called <code>CamelBatchComplete</code>. If the value is <code>true</code>, there no more files to process, so you can stop the <code>CamelContext</code>. This could be as simple as <code>camelContext.stop()</code>, but see <a href=\"https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\">this question</a> for more options.</p>\n<p><a href=\"https://stackoverflow.com/questions/17311379/how-can-i-shutdown-a-standalone-apache-camel-application-in-an-automated-way\">How can I shutdown a standalone Apache Camel application in an automated way?</a></p>\n<p>Edit: Since you have a standalone application, if you're using Camel main you can use the <code>camel.main.durationMaxIdle​Seconds</code> option. Spring Boot has a similar setting.</p>\n"}],"owner":{"account_id":4845098,"reputation":163,"user_id":4023897,"display_name":"Makaque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667571671,"creation_date":1667498642,"question_id":74307662,"body_markdown":"I have a standalone Camel application that is executed by an external task scheduler. Because of this, it needs to exit once execution is finished. To accomplish this, I&#39;m passing the command line argument `-dm 1` to process a single message before shutting down. \r\n\r\nThe application is being used to consume files in a directory\r\n``` \r\nfrom(file(&quot;SomeDirectory&quot;).include(&quot;TestFile.*&quot;))\r\n.to(...);\r\n```\r\n\r\nThe problem I&#39;m running into is that each file is processed as a unique message, so the `-dm 1` argument causes the application to exit after processing 1 file. \r\n\r\nHow can I get the application to exit after processing the full list of files given by `TestFile.*`?\r\n","title":"Camel standalone application - exit after processing multiple files","body":"<p>I have a standalone Camel application that is executed by an external task scheduler. Because of this, it needs to exit once execution is finished. To accomplish this, I'm passing the command line argument <code>-dm 1</code> to process a single message before shutting down.</p>\n<p>The application is being used to consume files in a directory</p>\n<pre><code>from(file(&quot;SomeDirectory&quot;).include(&quot;TestFile.*&quot;))\n.to(...);\n</code></pre>\n<p>The problem I'm running into is that each file is processed as a unique message, so the <code>-dm 1</code> argument causes the application to exit after processing 1 file.</p>\n<p>How can I get the application to exit after processing the full list of files given by <code>TestFile.*</code>?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","x509certificate","cacerts"],"answers":[{"tags":[],"owner":{"account_id":24493709,"reputation":161,"user_id":18410362,"display_name":"pranavbhandari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667571484,"creation_date":1667571484,"answer_id":74318468,"question_id":74317736,"body_markdown":"We did something [similar](https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/HttpEventPublisher.java#L392) for authenticating to services which use self-signed certificates. \r\n\r\nYou could always use [custom containers](https://cloud.google.com/dataflow/docs/guides/using-custom-containers) for your workers and copy the certificate to cacerts in the dockerfile? This way the worker will always have the certificate in cacerts. (Custom containers are only supported for pipelines using Dataflow Runner v2)","title":"Rest https call from GCP Dataflow (Apache Beam/ Java SDK) with custom Certificate .crt","body":"<p>We did something <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/HttpEventPublisher.java#L392\" rel=\"nofollow noreferrer\">similar</a> for authenticating to services which use self-signed certificates.</p>\n<p>You could always use <a href=\"https://cloud.google.com/dataflow/docs/guides/using-custom-containers\" rel=\"nofollow noreferrer\">custom containers</a> for your workers and copy the certificate to cacerts in the dockerfile? This way the worker will always have the certificate in cacerts. (Custom containers are only supported for pipelines using Dataflow Runner v2)</p>\n"}],"owner":{"account_id":15722068,"reputation":3,"user_id":11344701,"display_name":"omelnykov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318468,"answer_count":1,"score":0,"last_activity_date":1667571484,"creation_date":1667568199,"question_id":74317736,"body_markdown":"We faced problem with REST calls from GCP Dataflow (Apache Beam/ Java SDK based) to our internal service within GCP with custom Self-Signed Certificate.\r\n\r\nWe tried to put certificate in Runtime to **../java/../cacerts** file and it works well, but Java reads **../cacert** during start and we are forced to override **SSlContext** and **X509TrustManager**, put it to **HttpClient** and reload **cacert** file in Runtime before http call and after custom cert loaded ([followed this example](https://www.tutorialspoint.com/apache_httpclient/apache_httpclient_custom_ssl_context.htm)). \r\n\r\nFrom my perspective it looks like pretty hard implementation. \r\n\r\nSo the question: Does this problem has any easy workaround like run **.sh** script before GCP Dataflow Worker runs and update **cacert** file via cli before JVM started. \r\n\r\nWe also up Dataflow via **gcloud** cli so we cannot just put custom **cacert** to the project and point JVM to it via Java Options. \r\n\r\nThanks for any suggestions!","title":"Rest https call from GCP Dataflow (Apache Beam/ Java SDK) with custom Certificate .crt","body":"<p>We faced problem with REST calls from GCP Dataflow (Apache Beam/ Java SDK based) to our internal service within GCP with custom Self-Signed Certificate.</p>\n<p>We tried to put certificate in Runtime to <strong>../java/../cacerts</strong> file and it works well, but Java reads <strong>../cacert</strong> during start and we are forced to override <strong>SSlContext</strong> and <strong>X509TrustManager</strong>, put it to <strong>HttpClient</strong> and reload <strong>cacert</strong> file in Runtime before http call and after custom cert loaded (<a href=\"https://www.tutorialspoint.com/apache_httpclient/apache_httpclient_custom_ssl_context.htm\" rel=\"nofollow noreferrer\">followed this example</a>).</p>\n<p>From my perspective it looks like pretty hard implementation.</p>\n<p>So the question: Does this problem has any easy workaround like run <strong>.sh</strong> script before GCP Dataflow Worker runs and update <strong>cacert</strong> file via cli before JVM started.</p>\n<p>We also up Dataflow via <strong>gcloud</strong> cli so we cannot just put custom <strong>cacert</strong> to the project and point JVM to it via Java Options.</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","javafx","nested-controls"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667572989,"post_id":74318015,"comment_id":131205126,"body_markdown":"don&#39;t delete and repost a question .. instead edit the previous","body":"don&#39;t delete and repost a question .. instead edit the previous"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667571196,"creation_date":1667570673,"answer_id":74318289,"question_id":74318015,"body_markdown":"The `fx:id` for the included FXML is not correctly matching the field name for the controller. The rule for &quot;nested controllers&quot; is that the field name for the nested controller should be the `fx:id` with `&quot;Controller&quot;` appended. You have\r\n\r\n    fx:id=&quot;CardInfos&quot;\r\n\r\nbut\r\n\r\n    @FXML\r\n    CardInfosController cardInfosController ;\r\n\r\nAppending `&quot;Controller&quot;` to the `fx:id` gives `&quot;CardInfosController&quot;`, not `&quot;cardInfosController&quot;`.\r\n\r\nTo fix this in a way that conforms to standard Java naming conventions, you should fix the `fx:id`, not the field name. This will also mean you have to fix the field name for the included element:\r\n\r\n    &lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\r\n             &lt;left&gt;\r\n               &lt;fx:include fx:id=&quot;cardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\r\n             &lt;/left&gt;\r\n    ...\r\n    &lt;/AnchorPane&gt;\r\n\r\nand\r\n\r\n    public class DeckBuilderController implements Initializable{\r\n        \r\n        @FXML\r\n        AnchorPane cardInfos;\r\n        \r\n        @FXML\r\n        CardInfosController cardInfosController ;\r\n        \r\n          \r\n        \r\n        @Override\r\n        public void initialize(URL arg0, ResourceBundle arg1) {\r\n                \r\n                    System.out.println(cardInfos);\r\n                    System.out.println(cardInfosController);          \r\n            \r\n        }\r\n    }","title":"nested control is null","body":"<p>The <code>fx:id</code> for the included FXML is not correctly matching the field name for the controller. The rule for &quot;nested controllers&quot; is that the field name for the nested controller should be the <code>fx:id</code> with <code>&quot;Controller&quot;</code> appended. You have</p>\n<pre><code>fx:id=&quot;CardInfos&quot;\n</code></pre>\n<p>but</p>\n<pre><code>@FXML\nCardInfosController cardInfosController ;\n</code></pre>\n<p>Appending <code>&quot;Controller&quot;</code> to the <code>fx:id</code> gives <code>&quot;CardInfosController&quot;</code>, not <code>&quot;cardInfosController&quot;</code>.</p>\n<p>To fix this in a way that conforms to standard Java naming conventions, you should fix the <code>fx:id</code>, not the field name. This will also mean you have to fix the field name for the included element:</p>\n<pre><code>&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\n         &lt;left&gt;\n           &lt;fx:include fx:id=&quot;cardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\n         &lt;/left&gt;\n...\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>and</p>\n<pre><code>public class DeckBuilderController implements Initializable{\n    \n    @FXML\n    AnchorPane cardInfos;\n    \n    @FXML\n    CardInfosController cardInfosController ;\n    \n      \n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n            \n                System.out.println(cardInfos);\n                System.out.println(cardInfosController);          \n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318289,"answer_count":1,"score":0,"last_activity_date":1667571196,"creation_date":1667569515,"question_id":74318015,"body_markdown":"I am really new in javafx development and I want to ask some questions about the best practices and about my issue.\r\n\r\nWell I am working ona yugioh! game and I started to develop the interfaces. I tried to do like with react ( working with components and reuse them instead of making interfaces for every case). So I studied yesterday the nested controllers and tried to do as told.However, the subController returns NULL.\r\n\r\nHere is the deck builder interface (main interface)\r\n```\r\n&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\r\n         &lt;left&gt;\r\n           &lt;fx:include fx:id=&quot;CardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\r\n         &lt;/left&gt;\r\n...\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nhere is the deck builder controller\r\n```\r\npublic class DeckBuilderController implements Initializable{\r\n    \r\n    @FXML\r\n    AnchorPane CardInfos;\r\n    \r\n    @FXML\r\n    CardInfosController cardInfosController ;\r\n    \r\n      \r\n    \r\n    @Override\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n            \r\n                System.out.println( CardInfos);\r\n                System.out.println(cardInfosController);          \r\n        \r\n    }\r\n}\r\n\r\n```\r\nHere is the cardInfos interface (subInterface)\r\n\r\n```\r\n&lt;AnchorPane  fx:controller=&quot;controller.CardInfosController&quot;&gt;\r\n....\r\n&lt;/AnchorPane&gt;\r\n```\r\nHere is the CardInfosController\r\n```\r\npublic class CardInfosController implements Initializable {\r\n    \r\n    @Override\r\n    public void initialize(URL arg0, ResourceBundle arg1) {\r\n        System.out.println(&quot;init&quot;);\r\n    }\r\n```\r\nAnd the result of my execution\r\n```\r\ninit\r\nAnchorPane[id=CardInfos]\r\nnull\r\n```","title":"nested control is null","body":"<p>I am really new in javafx development and I want to ask some questions about the best practices and about my issue.</p>\n<p>Well I am working ona yugioh! game and I started to develop the interfaces. I tried to do like with react ( working with components and reuse them instead of making interfaces for every case). So I studied yesterday the nested controllers and tried to do as told.However, the subController returns NULL.</p>\n<p>Here is the deck builder interface (main interface)</p>\n<pre><code>&lt;AnchorPane fx:controller=&quot;controller.DeckBuilderController&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=&quot;cardBuilderPane&quot; &gt;\n         &lt;left&gt;\n           &lt;fx:include fx:id=&quot;CardInfos&quot; source=&quot;CardInfosInterface.fxml&quot; /&gt;\n         &lt;/left&gt;\n...\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>here is the deck builder controller</p>\n<pre><code>public class DeckBuilderController implements Initializable{\n    \n    @FXML\n    AnchorPane CardInfos;\n    \n    @FXML\n    CardInfosController cardInfosController ;\n    \n      \n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n            \n                System.out.println( CardInfos);\n                System.out.println(cardInfosController);          \n        \n    }\n}\n\n</code></pre>\n<p>Here is the cardInfos interface (subInterface)</p>\n<pre><code>&lt;AnchorPane  fx:controller=&quot;controller.CardInfosController&quot;&gt;\n....\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Here is the CardInfosController</p>\n<pre><code>public class CardInfosController implements Initializable {\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        System.out.println(&quot;init&quot;);\n    }\n</code></pre>\n<p>And the result of my execution</p>\n<pre><code>init\nAnchorPane[id=CardInfos]\nnull\n</code></pre>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667369347,"post_id":74284931,"comment_id":131148137,"body_markdown":"Looks optimal time but for details of coding. To argue about details, add a tag for the programming language to be considered.","body":"Looks optimal time but for details of coding. To argue about details, add a tag for the programming language to be considered."},{"owner":{"account_id":356709,"reputation":24084,"user_id":696391,"accept_rate":83,"display_name":"samgak"},"score":2,"creation_date":1667370740,"post_id":74284931,"comment_id":131148389,"body_markdown":"Doubt you can do better than O(n) where n is the number of characters. You have to read each character at least once right?","body":"Doubt you can do better than O(n) where n is the number of characters. You have to read each character at least once right?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":2,"creation_date":1667371262,"post_id":74284931,"comment_id":131148495,"body_markdown":"I hope you know how this works. How can you detect unique characters without visiting each one at least once?","body":"I hope you know how this works. How can you detect unique characters without visiting each one at least once?"},{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":2,"creation_date":1667372512,"post_id":74284931,"comment_id":131148788,"body_markdown":"If you know the size of the alphabet used, one small optimization is to stop when all symbol are found","body":"If you know the size of the alphabet used, one small optimization is to stop when all symbol are found"}],"answers":[{"tags":[],"owner":{"account_id":13658941,"reputation":343,"user_id":10371918,"display_name":"cooleck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667373939,"creation_date":1667373939,"answer_id":74285658,"question_id":74284931,"body_markdown":"This task couldn&#39;t be solved in asymptotic complexity that less than O(n) because you have to iterate over all elements of your string (with length n) at least one time to count unique chars in this string (it&#39;s pretty obvious I guess). Your solution has exactly O(n) asymptotic complexity: you iterate over the chars of the string, on each step of your loop you put some value in `HashSet` that takes O(1), then you get `set.size` that takes O(1) time too. The overall complexity is O(n) then and that&#39;s the minimum complexity that you can achieve.\r\n\r\nBut actually `HashSet` requires more memory than regular array. And if any string that you are going to pass to your function is guaranteed to consist of some limited set of chars (for example any string you pass to your function only consists of ASCII symbols) you could create an array with length of this limited set (for ASCII symbols it would be 256). Then on each step of iterating over chars of your string you could increment element of created array with index equal to ASCII code of that char (this approach is similar to [counting sort][1]). And then you could iterate over your array and just count non-zero elements. That would be number of unique symbols in your string. It would reduce memory utilization of you function and would have the same asymptotic complexity(O(n)). But nevertheless I don&#39;t recommend this approach as it&#39;s not a production solution.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Counting_sort","title":"reducing time complexity to find the length of unique characters in string","body":"<p>This task couldn't be solved in asymptotic complexity that less than O(n) because you have to iterate over all elements of your string (with length n) at least one time to count unique chars in this string (it's pretty obvious I guess). Your solution has exactly O(n) asymptotic complexity: you iterate over the chars of the string, on each step of your loop you put some value in <code>HashSet</code> that takes O(1), then you get <code>set.size</code> that takes O(1) time too. The overall complexity is O(n) then and that's the minimum complexity that you can achieve.</p>\n<p>But actually <code>HashSet</code> requires more memory than regular array. And if any string that you are going to pass to your function is guaranteed to consist of some limited set of chars (for example any string you pass to your function only consists of ASCII symbols) you could create an array with length of this limited set (for ASCII symbols it would be 256). Then on each step of iterating over chars of your string you could increment element of created array with index equal to ASCII code of that char (this approach is similar to <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a>). And then you could iterate over your array and just count non-zero elements. That would be number of unique symbols in your string. It would reduce memory utilization of you function and would have the same asymptotic complexity(O(n)). But nevertheless I don't recommend this approach as it's not a production solution.</p>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570796,"creation_date":1667570796,"answer_id":74318318,"question_id":74284931,"body_markdown":"You can use a boolean array to keep track of the characters you have seen. The array will have 256 elements, one for each possible character. You can then iterate through the string and set the corresponding element in the array to true. At the end, you can count the number of true elements in the array. This will be O(n) time and O(1) space. The code would look something like this:\r\n\r\n    public static int unique(String s) {\r\n        boolean[] seen = new boolean[256];\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            seen[s.charAt(i)] = true;\r\n        }\r\n        int count = 0;\r\n        for (int i = 0; i &lt; seen.length; i++) {\r\n            if (seen[i]) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"reducing time complexity to find the length of unique characters in string","body":"<p>You can use a boolean array to keep track of the characters you have seen. The array will have 256 elements, one for each possible character. You can then iterate through the string and set the corresponding element in the array to true. At the end, you can count the number of true elements in the array. This will be O(n) time and O(1) space. The code would look something like this:</p>\n<pre><code>public static int unique(String s) {\n    boolean[] seen = new boolean[256];\n    for (int i = 0; i &lt; s.length(); i++) {\n        seen[s.charAt(i)] = true;\n    }\n    int count = 0;\n    for (int i = 0; i &lt; seen.length; i++) {\n        if (seen[i]) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667570796,"creation_date":1667368830,"question_id":74284931,"body_markdown":"I want to count all the unique characters in a given string. So for string &quot;abcaabbd&quot; the length should be 4.\r\n\r\nMy solution:\r\n\r\n```\r\n    public static void unique(String s){\r\n        int max = 0;\r\n        HashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\r\n        for(int i = 0; i &lt; s.length(); i++){\r\n            set.add(s.charAt(i));\r\n        }\r\n        max = set.size();\r\n        System.out.println(max);\r\n    }\r\n```\r\n\r\nwhich works fine but I was thinking if there is any way to reduct the time complexity of the operation. ","title":"reducing time complexity to find the length of unique characters in string","body":"<p>I want to count all the unique characters in a given string. So for string &quot;abcaabbd&quot; the length should be 4.</p>\n<p>My solution:</p>\n<pre><code>    public static void unique(String s){\n        int max = 0;\n        HashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\n        for(int i = 0; i &lt; s.length(); i++){\n            set.add(s.charAt(i));\n        }\n        max = set.size();\n        System.out.println(max);\n    }\n</code></pre>\n<p>which works fine but I was thinking if there is any way to reduct the time complexity of the operation.</p>\n"},{"tags":["python","java","excel"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667570767,"post_id":74316375,"comment_id":131204186,"body_markdown":"_&quot;I tried to configure Java to increase the size, but it failed.&quot;_ How did you try, because your question shows no attempt to configure the memory for Java.","body":"<i>&quot;I tried to configure Java to increase the size, but it failed.&quot;</i> How did you try, because your question shows no attempt to configure the memory for Java."},{"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1667798211,"post_id":74316375,"comment_id":131244686,"body_markdown":"Hii  \nMark Rotteveel, I increase this configure Java but i worked on python thats why this shown this error the heap space got error to load the file and save the xlsb file not supported..","body":"Hii   Mark Rotteveel, I increase this configure Java but i worked on python thats why this shown this error the heap space got error to load the file and save the xlsb file not supported.."}],"answers":[{"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561975,"creation_date":1667561975,"answer_id":74316458,"question_id":74316375,"body_markdown":"From https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm you can send arguments to `startJVM`.\r\n\r\nIf you want to increase max memory you would use `jpype.startJVM(&quot;-Xmx2g&quot;)`. Adjust the actual size to what is needed.\r\n\r\nRun `java --help` or `java -X` to get available options.","title":"java.lang.OutOfMemoryError: Java heap space in Python","body":"<p>From <a href=\"https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm\" rel=\"nofollow noreferrer\">https://jpype.readthedocs.io/en/latest/userguide.html#controlling-the-jvm</a> you can send arguments to <code>startJVM</code>.</p>\n<p>If you want to increase max memory you would use <code>jpype.startJVM(&quot;-Xmx2g&quot;)</code>. Adjust the actual size to what is needed.</p>\n<p>Run <code>java --help</code> or <code>java -X</code> to get available options.</p>\n"}],"owner":{"account_id":26197035,"reputation":1,"user_id":19878015,"display_name":"Lucifer Morningstar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667570720,"creation_date":1667561571,"question_id":74316375,"body_markdown":"I can&#39;t understand that this error is regarding to Java or Python. I tried to configure Java to increase the size, but it failed. This code is written in Jupyter Notebook.\r\n\r\n```\r\nimport  jpype\r\nimport numpy\r\nimport pandas\r\nimport win32com.client as win32\r\nimport os\r\nimport pyspark\r\nimport EasyExcel \r\nfrom xlrd import open_workbook\r\nimport  asposecells\r\njpype.startJVM()\r\nfrom asposecells.api import Workbook\r\nworkbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\r\nworkbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\r\njpype.shutdownJVM()\r\n```\r\n\r\n\r\nError\r\n\r\n```\r\nException                                 Traceback (most recent call last)\r\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.save()\r\n\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\njava.lang.OutOfMemoryError                Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_6056\\723174829.py in &lt;module&gt;\r\n      6 from asposecells.api import Workbook\r\n      7 workbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\r\n----&gt; 8 workbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\r\n      9 jpype.shutdownJVM()\r\n\r\njava.lang.OutOfMemoryError: java.lang.OutOfMemoryError: Java heap space\r\n```\r\nI want the output is to save the xlsb file in small data format.","title":"java.lang.OutOfMemoryError: Java heap space in Python","body":"<p>I can't understand that this error is regarding to Java or Python. I tried to configure Java to increase the size, but it failed. This code is written in Jupyter Notebook.</p>\n<pre><code>import  jpype\nimport numpy\nimport pandas\nimport win32com.client as win32\nimport os\nimport pyspark\nimport EasyExcel \nfrom xlrd import open_workbook\nimport  asposecells\njpype.startJVM()\nfrom asposecells.api import Workbook\nworkbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\nworkbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\njpype.shutdownJVM()\n</code></pre>\n<p>Error</p>\n<pre><code>Exception                                 Traceback (most recent call last)\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.save()\n\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\njava.lang.OutOfMemoryError                Traceback (most recent call last)\n~\\AppData\\Local\\Temp\\ipykernel_6056\\723174829.py in &lt;module&gt;\n      6 from asposecells.api import Workbook\n      7 workbook = Workbook(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile.xlsx&quot;)\n----&gt; 8 workbook.save(r&quot;C:\\Users\\prajw\\Downloads\\LargeFile1.xlsb&quot;)\n      9 jpype.shutdownJVM()\n\njava.lang.OutOfMemoryError: java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>I want the output is to save the xlsb file in small data format.</p>\n"},{"tags":["java","matrix"],"answers":[{"tags":[],"owner":{"account_id":20933394,"reputation":242,"user_id":15379178,"display_name":"Alian713"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565864,"creation_date":1667565864,"answer_id":74317272,"question_id":74316671,"body_markdown":"When you define a multi-dimensional array without an initialiser, you&#39;re only required to specify its first dimension. A multi-dimensional array doesn&#39;t **have to be** rectangular:\r\n\r\n```java\r\nvoid readMtx() {\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n\r\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n    while (br.ready()) {\r\n        lines.add(br.readLine());\r\n    }\r\n    int matrixHeight = lines.size();\r\n\r\n    Double[][] matrix = new Double[matrixHeight][];\r\n\r\n    for(int i = 0; i &lt; matrixHeight; ++i) {\r\n        String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\r\n        matrix[i] = new Double[nums.length];\r\n        for(int j = 0; j &lt; nums.length; ++j) {\r\n            matrix[i][j] = Double.valueOf(nums[j]);\r\n        }\r\n    }\r\n\r\n    for (int i = 0; i &lt; matrixHeight; ++i) {\r\n        System.out.println(Arrays.toString(matrix[i]));\r\n    }\r\n}\r\n```\r\n\r\nMy `input.txt` looks like this:\r\n```\r\n1\r\n2, 3\r\n4, 5, 6\r\n```\r\n\r\nAnd the function above prints:\r\n\r\n```\r\n[1.0]\r\n[2.0, 3.0]\r\n[4.0, 5.0, 6.0]\r\n```","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<p>When you define a multi-dimensional array without an initialiser, you're only required to specify its first dimension. A multi-dimensional array doesn't <strong>have to be</strong> rectangular:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void readMtx() {\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\n\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    while (br.ready()) {\n        lines.add(br.readLine());\n    }\n    int matrixHeight = lines.size();\n\n    Double[][] matrix = new Double[matrixHeight][];\n\n    for(int i = 0; i &lt; matrixHeight; ++i) {\n        String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\n        matrix[i] = new Double[nums.length];\n        for(int j = 0; j &lt; nums.length; ++j) {\n            matrix[i][j] = Double.valueOf(nums[j]);\n        }\n    }\n\n    for (int i = 0; i &lt; matrixHeight; ++i) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n<p>My <code>input.txt</code> looks like this:</p>\n<pre><code>1\n2, 3\n4, 5, 6\n</code></pre>\n<p>And the function above prints:</p>\n<pre><code>[1.0]\n[2.0, 3.0]\n[4.0, 5.0, 6.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667566806,"creation_date":1667566806,"answer_id":74317456,"question_id":74316671,"body_markdown":"- Double is a wrapper Class, not the primitive floating point type.\r\n- Files and Path (generalisation of File) are very useful.\r\n- Stream is very expressive for conversions.\r\n\r\nSo:\r\n\r\n    void readMtx() throws IOException {\r\n        double[][] matrix =\r\n            Files.lines(Paths.get(&quot;input.txt&quot;))  // Stream&lt;String&gt; of lines\r\n            .map(line -&gt; line.split(&quot;,\\\\s*))     // Stream&lt;String[]&gt; of line words\r\n            .map(words -&gt; Arrays.stream(words)\r\n                     .mapToDouble(Double::parseDouble)\r\n                     .toArray())                 // Stream&lt;double[]&gt;\r\n            .toArray();                          // double[][]\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            System.out.println(Arrays.toString(matrix[i]));\r\n        }\r\n    }","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<ul>\n<li>Double is a wrapper Class, not the primitive floating point type.</li>\n<li>Files and Path (generalisation of File) are very useful.</li>\n<li>Stream is very expressive for conversions.</li>\n</ul>\n<p>So:</p>\n<pre><code>void readMtx() throws IOException {\n    double[][] matrix =\n        Files.lines(Paths.get(&quot;input.txt&quot;))  // Stream&lt;String&gt; of lines\n        .map(line -&gt; line.split(&quot;,\\\\s*))     // Stream&lt;String[]&gt; of line words\n        .map(words -&gt; Arrays.stream(words)\n                 .mapToDouble(Double::parseDouble)\n                 .toArray())                 // Stream&lt;double[]&gt;\n        .toArray();                          // double[][]\n    for (int i = 0; i &lt; matrix.length; i++) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23176387,"reputation":29,"user_id":17274825,"display_name":"vegaLDN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667570644,"creation_date":1667562933,"question_id":74316671,"body_markdown":"This is an example of input.txt:  \r\n[![enter image description here][1]][1]\r\n\r\nI need to read the matrix from the input.txt file and output it to the output.txt file in the same format. The matrix can be stepped (not rectangular). The size of the array is determined as it will be entered by the user in input.txt. The input format should be shown in the screenshot.\r\n\r\nI tried to read the matrix using rows, I can read a rectangular matrix and if we know its size in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uDCVb.png\r\n\r\n     void readMtx() throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n\r\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n        while (br.ready()) {\r\n            lines.add(br.readLine());\r\n        }\r\n        int matrixWidth = lines.get(0).split(&quot; &quot;).length;\r\n        int matrixHeight = lines.size();\r\n\r\n        Double[][] matrix = new Double[matrixHeight][matrixWidth];\r\n\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            for (int j = 0; j &lt; matrixWidth; j++) {\r\n                String[] line = lines.get(i).split(&quot; &quot;);\r\n                matrix[i][j] = Double.parseDouble(line[j]);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            System.out.println(Arrays.toString(matrix[i]));\r\n        }\r\n    }","title":"How to read a matrix from a file so that you can perform operations on it?","body":"<p>This is an example of input.txt:<br />\n<a href=\"https://i.stack.imgur.com/uDCVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDCVb.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to read the matrix from the input.txt file and output it to the output.txt file in the same format. The matrix can be stepped (not rectangular). The size of the array is determined as it will be entered by the user in input.txt. The input format should be shown in the screenshot.</p>\n<p>I tried to read the matrix using rows, I can read a rectangular matrix and if we know its size in advance.</p>\n<pre><code> void readMtx() throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(&quot;input.txt&quot;));\n\n    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    while (br.ready()) {\n        lines.add(br.readLine());\n    }\n    int matrixWidth = lines.get(0).split(&quot; &quot;).length;\n    int matrixHeight = lines.size();\n\n    Double[][] matrix = new Double[matrixHeight][matrixWidth];\n\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        for (int j = 0; j &lt; matrixWidth; j++) {\n            String[] line = lines.get(i).split(&quot; &quot;);\n            matrix[i][j] = Double.parseDouble(line[j]);\n        }\n    }\n\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        System.out.println(Arrays.toString(matrix[i]));\n    }\n}\n</code></pre>\n"},{"tags":["java","gzip","nio","gzipoutputstream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1667565602,"post_id":74317196,"comment_id":131202272,"body_markdown":"A `ByteArrayOutputStream` is a memory backed, growing, that is even array copying, data structure. No wonder. You could copy to a temporary file. Alternatively you could assume a 10% compression, and do `new ByteArrayOutputStream(100_000)` with a sufficient initial capacity reserved.","body":"A <code>ByteArrayOutputStream</code> is a memory backed, growing, that is even array copying, data structure. No wonder. You could copy to a temporary file. Alternatively you could assume a 10% compression, and do <code>new ByteArrayOutputStream(100_000)</code> with a sufficient initial capacity reserved."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1667570570,"post_id":74317196,"comment_id":131204096,"body_markdown":"@JoopEggen Presizing the BytArrayOutputStream will likely just move the OutOfMemoryError to baos.toByteArray().","body":"@JoopEggen Presizing the BytArrayOutputStream will likely just move the OutOfMemoryError to baos.toByteArray()."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667581339,"post_id":74317196,"comment_id":131208291,"body_markdown":"@MarkRotteveel likely as then the memory is duplicated too, however many small reallocations (much slower too), will reallocate to _more_ than needed, so instead of double memory it might be triple memory","body":"@MarkRotteveel likely as then the memory is duplicated too, however many small reallocations (much slower too), will reallocate to <i>more</i> than needed, so instead of double memory it might be triple memory"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680603151,"post_id":74317196,"comment_id":133922392,"body_markdown":"Don&#39;t try to load entire large files into memory. At some point it *must* fail. Rethink.","body":"Don&#39;t try to load entire large files into memory. At some point it <i>must</i> fail. Rethink."}],"owner":{"account_id":1588905,"reputation":335,"user_id":1472672,"accept_rate":0,"display_name":"user1472672"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667570449,"creation_date":1667565452,"question_id":74317196,"body_markdown":"I have a simple method that creates a tar file with a collection of compressed files inside:\r\n\r\n```\r\nprivate byte[] gzipCompress() throws IOException {\r\n\tFile source = super.getPath();\r\n\t\r\n\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\ttry (GZIPOutputStream gos = new GZIPOutputStream(baos)) {\r\n\t\tFiles.copy(source.toPath(), gos);\r\n\t}\r\n\t\r\n\treturn baos.toByteArray();\r\n}\r\n```\r\n\r\nWhen the file is large (not sure of exact size 1GB maybe) - this method causes an error:\r\n&gt; Caused by: java.lang.OutOfMemoryError: Java heap space\r\n\r\nSeems similar to this question - https://stackoverflow.com/questions/28466755/java-nio-files-copy-thowing-java-heap-space-out-of-memory, but is there some other alternative to the `IOUtils.copyLarge` solution.\r\n\r\n\r\n\r\n\r\n","title":"Why does Files.copy cause out of memory error when creating large file","body":"<p>I have a simple method that creates a tar file with a collection of compressed files inside:</p>\n<pre><code>private byte[] gzipCompress() throws IOException {\n    File source = super.getPath();\n    \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (GZIPOutputStream gos = new GZIPOutputStream(baos)) {\n        Files.copy(source.toPath(), gos);\n    }\n    \n    return baos.toByteArray();\n}\n</code></pre>\n<p>When the file is large (not sure of exact size 1GB maybe) - this method causes an error:</p>\n<blockquote>\n<p>Caused by: java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<p>Seems similar to this question - <a href=\"https://stackoverflow.com/questions/28466755/java-nio-files-copy-thowing-java-heap-space-out-of-memory\">java nio Files.copy thowing Java heap space out of memory</a>, but is there some other alternative to the <code>IOUtils.copyLarge</code> solution.</p>\n"},{"tags":["java","android-studio","android-fragments","constraints","android-button"],"answers":[{"tags":[],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570366,"creation_date":1667570366,"answer_id":74318216,"question_id":74318011,"body_markdown":"Just replace your parent layout **FrameLayout** to **androidx.constraintlayout.widget.ConstraintLayout** or **RelativeLayout**","title":"Buttons getting stuck in top left corner of Fragment","body":"<p>Just replace your parent layout <strong>FrameLayout</strong> to <strong>androidx.constraintlayout.widget.ConstraintLayout</strong> or <strong>RelativeLayout</strong></p>\n"}],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667570366,"creation_date":1667569508,"question_id":74318011,"body_markdown":"I&#39;ve seen quite a few solutions to this problem but non which I seem to be able to implement. I&#39;m really new to Android Studio, but Fragments seems so straight forward and &quot;simple&quot;. However before I could even get going with coding functionality all the buttons I added to my mainFragment got stuck in the upper left corner. [![[![enter image description here](https://i.stack.imgur.com/Xe9zk.png)](https://i.stack.imgur.com/Xe9zk.png)](https://i.stack.imgur.com/bJzPb.png)](https://i.stack.imgur.com/bJzPb.png)\r\n\r\nFurther, I cannot seem to add a constraint the way I usually do it in my xml-code, when I write &quot;app:cons&quot; nothing comes up. \r\n\r\nI&#39;ve heard about a &quot;Auto connection to Parent&quot; button but I cannot for the life of me seem to find it. Read about it here https://stackoverflow.com/questions/51056109/textview-and-button-get-stuck-in-the-top-left-corner-of-the-blueprint-in-android \r\n\r\nI tried looking for a &quot;Auto connection  to Parent&quot; button.\r\nI tried recreating the fragment.\r\nI tried to restart to program.\r\n","title":"Buttons getting stuck in top left corner of Fragment","body":"<p>I've seen quite a few solutions to this problem but non which I seem to be able to implement. I'm really new to Android Studio, but Fragments seems so straight forward and &quot;simple&quot;. However before I could even get going with coding functionality all the buttons I added to my mainFragment got stuck in the upper left corner. <a href=\"https://i.stack.imgur.com/bJzPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bJzPb.png\" alt=\"enter image description here\" /></a></p>\n<p>Further, I cannot seem to add a constraint the way I usually do it in my xml-code, when I write &quot;app:cons&quot; nothing comes up.</p>\n<p>I've heard about a &quot;Auto connection to Parent&quot; button but I cannot for the life of me seem to find it. Read about it here <a href=\"https://stackoverflow.com/questions/51056109/textview-and-button-get-stuck-in-the-top-left-corner-of-the-blueprint-in-android\">TextView and Button get stuck in the top-left corner of the blueprint in android studio</a></p>\n<p>I tried looking for a &quot;Auto connection  to Parent&quot; button.\nI tried recreating the fragment.\nI tried to restart to program.</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":1,"creation_date":1667406830,"post_id":74292093,"comment_id":131161177,"body_markdown":"Do you have any problem link for this?","body":"Do you have any problem link for this?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1667407144,"post_id":74292093,"comment_id":131161326,"body_markdown":"Seems to be something along the lines of overlapping intervals or kind of like merging k sorted arrays.","body":"Seems to be something along the lines of overlapping intervals or kind of like merging k sorted arrays."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667408082,"creation_date":1667408082,"answer_id":74292954,"question_id":74292093,"body_markdown":"If `start` and `end` are reasonably small number you can just calculate how many ranges element is included in then iterate thru ranges and cross numbers with biggest associated count until you cross enough of them.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int[][] arr = {{1, 3, 2}, {2, 5, 3}, {5, 6, 2}};\r\n\r\n        Map&lt;Integer, Ps&gt; map = Stream.of(arr)\r\n                .flatMap(x -&gt; {\r\n                    H h = new H(x[0], x[1], x[2]);\r\n                    return IntStream.rangeClosed(x[0], x[1]).boxed().map(v -&gt; new P(v, h));\r\n                })\r\n                .collect(Collectors.groupingBy(\r\n                        P::getV,\r\n                        Collectors.mapping(\r\n                                P::getH,\r\n                                Collectors.teeing(\r\n                                        Collectors.counting(),\r\n                                        Collectors.toList(),\r\n                                        Ps::new))));\r\n\r\n        Set&lt;H&gt; hSet = map.values().stream().flatMap(x -&gt; x.getH().stream()).collect(Collectors.toSet());\r\n\r\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n        for (H r : hSet) {\r\n            while (r.c &gt; 0) {\r\n                IntStream.rangeClosed(r.s, r.e)\r\n                        .boxed()\r\n                        .max(Comparator.comparing(y -&gt; map.getOrDefault(y, Ps.ZERO).getH().size()))\r\n                        .ifPresent(v -&gt; {\r\n                            map.remove(v).getH().forEach(x -&gt; x.c--);\r\n                            res.add(v);\r\n                        });\r\n\r\n            }\r\n        }\r\n        System.out.println(&quot;res = &quot; + res);\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    static class P {\r\n        final int v;\r\n        final H h;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    static class Ps {\r\n        public static final Ps ZERO = new Ps(0, Collections.emptyList());\r\n        final long v;\r\n        final List&lt;H&gt; h;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    static class H {\r\n        final int s, e;\r\n        int c;\r\n    }\r\n}\r\n```","title":"Find the size of minimal possible set after operations","body":"<p>If <code>start</code> and <code>end</code> are reasonably small number you can just calculate how many ranges element is included in then iterate thru ranges and cross numbers with biggest associated count until you cross enough of them.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        int[][] arr = {{1, 3, 2}, {2, 5, 3}, {5, 6, 2}};\n\n        Map&lt;Integer, Ps&gt; map = Stream.of(arr)\n                .flatMap(x -&gt; {\n                    H h = new H(x[0], x[1], x[2]);\n                    return IntStream.rangeClosed(x[0], x[1]).boxed().map(v -&gt; new P(v, h));\n                })\n                .collect(Collectors.groupingBy(\n                        P::getV,\n                        Collectors.mapping(\n                                P::getH,\n                                Collectors.teeing(\n                                        Collectors.counting(),\n                                        Collectors.toList(),\n                                        Ps::new))));\n\n        Set&lt;H&gt; hSet = map.values().stream().flatMap(x -&gt; x.getH().stream()).collect(Collectors.toSet());\n\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n        for (H r : hSet) {\n            while (r.c &gt; 0) {\n                IntStream.rangeClosed(r.s, r.e)\n                        .boxed()\n                        .max(Comparator.comparing(y -&gt; map.getOrDefault(y, Ps.ZERO).getH().size()))\n                        .ifPresent(v -&gt; {\n                            map.remove(v).getH().forEach(x -&gt; x.c--);\n                            res.add(v);\n                        });\n\n            }\n        }\n        System.out.println(&quot;res = &quot; + res);\n    }\n\n    @AllArgsConstructor\n    @Getter\n    static class P {\n        final int v;\n        final H h;\n    }\n\n    @AllArgsConstructor\n    @Getter\n    static class Ps {\n        public static final Ps ZERO = new Ps(0, Collections.emptyList());\n        final long v;\n        final List&lt;H&gt; h;\n    }\n\n    @AllArgsConstructor\n    static class H {\n        final int s, e;\n        int c;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26706373,"reputation":24,"user_id":20312513,"display_name":"lzl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667570221,"creation_date":1667570221,"answer_id":74318188,"question_id":74292093,"body_markdown":"I think this is a DP problem. Let&#39;s define dp[i][j] as the minimum size of the set when we have selected j elements and we are at the i-th element. The answer is dp[n][k]. We can calculate dp[i][j] in O(j) time. We can iterate over j from 0 to k and for each j we can iterate over i from 0 to n-1. The time complexity is O(nk^2). I think this is the best time complexity we can get. The java code is below:\r\n\r\n    public int solve(int[][] arr, int k) {\r\n        int n = arr.length;\r\n        int[][] dp = new int[n][k + 1];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt;= k; j++) {\r\n                dp[i][j] = Integer.MAX_VALUE;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt;= k; j++) {\r\n                if (i == 0) {\r\n                    if (j &gt;= arr[i][2] &amp;&amp; j &lt;= arr[i][1] - arr[i][0] + 1) {\r\n                        dp[i][j] = arr[i][1] - arr[i][0] + 1;\r\n                    }\r\n                } else {\r\n                    for (int l = 0; l &lt;= j; l++) {\r\n                        if (l &gt;= arr[i][2] &amp;&amp; l &lt;= arr[i][1] - arr[i][0] + 1) {\r\n                            dp[i][j] = Math.min(dp[i][j], dp[i - 1][j - l] + arr[i][1] - arr[i][0] + 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return dp[n - 1][k];\r\n    }","title":"Find the size of minimal possible set after operations","body":"<p>I think this is a DP problem. Let's define dp[i][j] as the minimum size of the set when we have selected j elements and we are at the i-th element. The answer is dp[n][k]. We can calculate dp[i][j] in O(j) time. We can iterate over j from 0 to k and for each j we can iterate over i from 0 to n-1. The time complexity is O(nk^2). I think this is the best time complexity we can get. The java code is below:</p>\n<pre><code>public int solve(int[][] arr, int k) {\n    int n = arr.length;\n    int[][] dp = new int[n][k + 1];\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= k; j++) {\n            dp[i][j] = Integer.MAX_VALUE;\n        }\n    }\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= k; j++) {\n            if (i == 0) {\n                if (j &gt;= arr[i][2] &amp;&amp; j &lt;= arr[i][1] - arr[i][0] + 1) {\n                    dp[i][j] = arr[i][1] - arr[i][0] + 1;\n                }\n            } else {\n                for (int l = 0; l &lt;= j; l++) {\n                    if (l &gt;= arr[i][2] &amp;&amp; l &lt;= arr[i][1] - arr[i][0] + 1) {\n                        dp[i][j] = Math.min(dp[i][j], dp[i - 1][j - l] + arr[i][1] - arr[i][0] + 1);\n                    }\n                }\n            }\n        }\n    }\n    return dp[n - 1][k];\n}\n</code></pre>\n"}],"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667570221,"creation_date":1667404441,"question_id":74292093,"body_markdown":"Given an array with each element consisting of three numbers [start, end, x].  \r\nAn element of array [start,end,x] means that we have to select exactly x integers from [start,end] inclusive of both start and end. Put these numbers in a Set. Do this for all elements of the array. So at the end the Set will have a size. Return the minimal possible size. `Example Array= [1,3,2],[2,5,3],[5,6,2]`  \r\nfrom 1st elements choose 2,3 from 2nd choose 2,3,5 and from 3rd choose 5,6 so the set of chosen numbers = 2,3,5,6 which has 4 elements which is the minimum. So for this input the answer or the return value is `4`\r\n\r\n **My Thoughts:**    \r\nI tried to think of some optimal substructure property in the hope that it will yield to a DP solution, but looks like there is no clear optimal substructure property here.\r\n","title":"Find the size of minimal possible set after operations","body":"<p>Given an array with each element consisting of three numbers [start, end, x].<br />\nAn element of array [start,end,x] means that we have to select exactly x integers from [start,end] inclusive of both start and end. Put these numbers in a Set. Do this for all elements of the array. So at the end the Set will have a size. Return the minimal possible size. <code>Example Array= [1,3,2],[2,5,3],[5,6,2]</code><br />\nfrom 1st elements choose 2,3 from 2nd choose 2,3,5 and from 3rd choose 5,6 so the set of chosen numbers = 2,3,5,6 which has 4 elements which is the minimum. So for this input the answer or the return value is <code>4</code></p>\n<p><strong>My Thoughts:</strong><br />\nI tried to think of some optimal substructure property in the hope that it will yield to a DP solution, but looks like there is no clear optimal substructure property here.</p>\n"},{"tags":["java","quarkus","mutiny"],"answers":[{"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667570034,"creation_date":1667570034,"answer_id":74318152,"question_id":74317223,"body_markdown":"You need to subscribe or else no processing will ever be done (see https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api)\r\n\r\n`.await().indefinitely()` is a blocking subscription where you block the current thread. Here you&#39;re blocking a Vert.x event-loop thread, hence you get a warning after some time.\r\n\r\nThis might also help: https://quarkus.io/guides/quarkus-reactive-architecture","title":"Quarkus Mutiny request ignored when using Unis.combinedWith","body":"<p>You need to subscribe or else no processing will ever be done (see <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/hello-mutiny/#mutiny-uses-a-builder-api</a>)</p>\n<p><code>.await().indefinitely()</code> is a blocking subscription where you block the current thread. Here you're blocking a Vert.x event-loop thread, hence you get a warning after some time.</p>\n<p>This might also help: <a href=\"https://quarkus.io/guides/quarkus-reactive-architecture\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/quarkus-reactive-architecture</a></p>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74318152,"answer_count":1,"score":0,"last_activity_date":1667570034,"creation_date":1667565600,"question_id":74317223,"body_markdown":"Hello i have the following problem. As you see i have created this 3 Unis \r\n\r\n```\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\r\n                            variable2, variable3);\r\n\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\r\n                            variable2, variable3);\r\n\r\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\r\n                            variable2, variable3);\r\n```\r\n\r\nThose three Unis make a request in 3 different microservices and I want to combine the response. I have used the following code in order to combine it\r\n\r\n```\r\n\r\n                    Uni.combine()\r\n                            .all()\r\n                            .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                            .combinedWith((carDoors, carWheels, carWindows) -&gt; {\r\n                                Optional.of(carDoors)\r\n                                        .ifPresent(val -&gt; car.setDoors(val.getDoors()));\r\n                                Optional.of(carWheels)\r\n                                        .ifPresent(val -&gt; car.setWheels(val.getWheels()));\r\n                                Optional.of(carWindows)\r\n                                        .ifPresent(val -&gt; car.setWindows(val.getWindows()));\r\n\r\n                                return car;\r\n                            });\r\n\r\n```\r\n\r\nIntellij shows a warning saying that the combined will be ignored and it actually never runs. I have also tried using `.await().indefinitely()` but I receive the following error `The current thread cannot be blocked: vert.x-eventloop-thread-11`.","title":"Quarkus Mutiny request ignored when using Unis.combinedWith","body":"<p>Hello i have the following problem. As you see i have created this 3 Unis</p>\n<pre><code>                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\n                            variable2, variable3);\n\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\n                            variable2, variable3);\n\n                    Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\n                            variable2, variable3);\n</code></pre>\n<p>Those three Unis make a request in 3 different microservices and I want to combine the response. I have used the following code in order to combine it</p>\n<pre><code>\n                    Uni.combine()\n                            .all()\n                            .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                            .combinedWith((carDoors, carWheels, carWindows) -&gt; {\n                                Optional.of(carDoors)\n                                        .ifPresent(val -&gt; car.setDoors(val.getDoors()));\n                                Optional.of(carWheels)\n                                        .ifPresent(val -&gt; car.setWheels(val.getWheels()));\n                                Optional.of(carWindows)\n                                        .ifPresent(val -&gt; car.setWindows(val.getWindows()));\n\n                                return car;\n                            });\n\n</code></pre>\n<p>Intellij shows a warning saying that the combined will be ignored and it actually never runs. I have also tried using <code>.await().indefinitely()</code> but I receive the following error <code>The current thread cannot be blocked: vert.x-eventloop-thread-11</code>.</p>\n"},{"tags":["java","windows","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667416581,"post_id":74293544,"comment_id":131164648,"body_markdown":"Swing does not handle transparent colors very well.  You can fake transparency by drawing a background from your display image.","body":"Swing does not handle transparent colors very well.  You can fake transparency by drawing a background from your display image."},{"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"score":0,"creation_date":1667417311,"post_id":74293544,"comment_id":131164903,"body_markdown":"@GilbertLeBlanc Unfortunately, for the game to work as intended, the background does need to be truly transparent and click-through, because the end user will need to be able to interact with applications underneath the game window. Unless I&#39;m misunderstanding what you&#39;re suggesting with fake transparency?","body":"@GilbertLeBlanc Unfortunately, for the game to work as intended, the background does need to be truly transparent and click-through, because the end user will need to be able to interact with applications underneath the game window. Unless I&#39;m misunderstanding what you&#39;re suggesting with fake transparency?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667425679,"post_id":74293544,"comment_id":131167408,"body_markdown":"You can try JavaFX or Apache Pivot.  Swing does not handle transparent colors very well.","body":"You can try JavaFX or Apache Pivot.  Swing does not handle transparent colors very well."},{"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"score":0,"creation_date":1667569914,"post_id":74293544,"comment_id":131203845,"body_markdown":"@GilbertLeBlanc I&#39;m currently slowly converting everything to JavaFX, mostly because of some unrelated functionality that Swing doesn&#39;t directly support. However, I will still leave this question up because I am still curious as to what the issue is (note that it still has high GPU usage with an opaque window) and in case someone else has this same problem.","body":"@GilbertLeBlanc I&#39;m currently slowly converting everything to JavaFX, mostly because of some unrelated functionality that Swing doesn&#39;t directly support. However, I will still leave this question up because I am still curious as to what the issue is (note that it still has high GPU usage with an opaque window) and in case someone else has this same problem."}],"owner":{"account_id":26808236,"reputation":1,"user_id":20399232,"display_name":"Taylor Grossenbacher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667570015,"creation_date":1667410902,"question_id":74293544,"body_markdown":"I&#39;ve been working on a simple game recently, and so far, I&#39;ve had few problems getting things to work as I want them to. At the moment, it&#39;s very simple, there&#39;s just a single sprite that I can click and drag around the screen. However, I noticed something odd at one point: that the resource usage is unexpectedly high. According to Task Manager, Java&#39;s CPU usage reads around 6% and GPU usage around 34%, which is higher than nearly all programs on my computer, save for more demanding games which typically hover around 10-15% CPU and 20% GPU. For reference, idling, my computer usually sits around 2-3% total CPU usage and 1% GPU. After a good deal of process of elimination, I narrowed the problem down to calling repaint() every frame for a maximized, transparent window, which is an important aspect for the game.\r\n\r\nI was able to reproduce the issue with a barebones program:\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.util.*;\r\n\r\npublic class Test extends JFrame {\r\n\tBody root;\r\n\t\r\n\tpublic Test() {\r\n\t\troot = new Body();\r\n\t\troot.setOpaque(false);\r\n\t\tadd(root);\r\n\t\t\r\n\t\tsetUndecorated(true);\r\n\t\tsetBackground(new Color(0,0,0,0));\r\n\t\tsetVisible(true);\r\n\t\tsetExtendedState(getExtendedState()|MAXIMIZED_BOTH);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t\r\n\t\troot.run();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTest app = new Test();\r\n\t}\r\n\t\r\n\tclass Body extends JPanel implements Runnable {\r\n\t\tfinal int DELAY = 1000/60;\r\n\t\t\r\n\t\tpublic Body() {}\r\n\t\t\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void run() {\r\n\t\t\tlong prevframe, sleep;\r\n\t\t\twhile (true) {\r\n\t\t\t\tprevframe = System.currentTimeMillis();\r\n\t\t\t\trepaint();\r\n\t\t\t\tsleep = DELAY - (System.currentTimeMillis() - prevframe);\r\n\t\t\t\tif (sleep &lt; 0) {\r\n\t\t\t\t\tsleep = 2;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(sleep);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAt first, I thought it was an issue with my use of `BufferedImage`s, since they are not hardware accelerated by default, but when I stopped drawing them, the CPU/GPU usage persisted. That&#39;s when I started my process of elimination, gradually commenting out chunks of code until I found that it was just the `repaint()` call and whatever happens to be attached to it.\r\n\r\nIf the window is made opaque (i.e., removing the `root.setOpaque(false)` and `setBackground(new Color(0,0,0,0))` lines), the resource usage drops to about 2% CPU and 20% GPU, which is still significantly higher than I would expect out of a window that isn&#39;t doing anything except showing a blank screen every frame, especially in terms of GPU usage.\r\n\r\nI also tried, on a whimsy, enabling OpenGL hardware acceleration by putting `System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;True&quot;)` in main() before the Test() object is created, but there is no noticeable impact.\r\n\r\nAlso, I will call myself out on not using `invokeLater()` to start the Swing application (bad practice, because Swing components are supposed to have all their processing done on the Event Dispatch Thread). I realized late into putting the game together that I neglected to do that, but when I went and tried to basically retrofit it into `main()`, the graphics won&#39;t update. I&#39;m not sure if it has to do with the way my classes are currently organized or what, but I spent minimal effort on that front since it runs fine at the moment without the EDT, save for the CPU/GPU usage. Unless this may be the cause of my problem, in which case that needs to be fixed.\r\n\r\nAny assistance would be greatly appreciated. This is my first post of Stack Overflow, so I&#39;m not totally sure if there is anything I am missing. That said, if any other information or testing is needed on my part, I will gladly provide.\r\n\r\nI am currently working with:\r\n- Java 18 and 19 (Oracle&#39;s official SE Development Kit)\r\n- OS: Windows 11\r\n- GPU: Intel UHD Graphics (i7-10750H).\r\n\r\nI will note that my computer does have a GTX 1650 Ti as a dedicated card, but everything mentioned above has been running off of the Intel chip.","title":"Java Swing - transparent JFrame causing high CPU usage","body":"<p>I've been working on a simple game recently, and so far, I've had few problems getting things to work as I want them to. At the moment, it's very simple, there's just a single sprite that I can click and drag around the screen. However, I noticed something odd at one point: that the resource usage is unexpectedly high. According to Task Manager, Java's CPU usage reads around 6% and GPU usage around 34%, which is higher than nearly all programs on my computer, save for more demanding games which typically hover around 10-15% CPU and 20% GPU. For reference, idling, my computer usually sits around 2-3% total CPU usage and 1% GPU. After a good deal of process of elimination, I narrowed the problem down to calling repaint() every frame for a maximized, transparent window, which is an important aspect for the game.</p>\n<p>I was able to reproduce the issue with a barebones program:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.*;\n\npublic class Test extends JFrame {\n    Body root;\n    \n    public Test() {\n        root = new Body();\n        root.setOpaque(false);\n        add(root);\n        \n        setUndecorated(true);\n        setBackground(new Color(0,0,0,0));\n        setVisible(true);\n        setExtendedState(getExtendedState()|MAXIMIZED_BOTH);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n        root.run();\n    }\n    \n    public static void main(String[] args) {\n        Test app = new Test();\n    }\n    \n    class Body extends JPanel implements Runnable {\n        final int DELAY = 1000/60;\n        \n        public Body() {}\n        \n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n        }\n        \n        public void run() {\n            long prevframe, sleep;\n            while (true) {\n                prevframe = System.currentTimeMillis();\n                repaint();\n                sleep = DELAY - (System.currentTimeMillis() - prevframe);\n                if (sleep &lt; 0) {\n                    sleep = 2;\n                }\n                try {\n                    Thread.sleep(sleep);\n                }\n                catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>At first, I thought it was an issue with my use of <code>BufferedImage</code>s, since they are not hardware accelerated by default, but when I stopped drawing them, the CPU/GPU usage persisted. That's when I started my process of elimination, gradually commenting out chunks of code until I found that it was just the <code>repaint()</code> call and whatever happens to be attached to it.</p>\n<p>If the window is made opaque (i.e., removing the <code>root.setOpaque(false)</code> and <code>setBackground(new Color(0,0,0,0))</code> lines), the resource usage drops to about 2% CPU and 20% GPU, which is still significantly higher than I would expect out of a window that isn't doing anything except showing a blank screen every frame, especially in terms of GPU usage.</p>\n<p>I also tried, on a whimsy, enabling OpenGL hardware acceleration by putting <code>System.setProperty(&quot;sun.java2d.opengl&quot;, &quot;True&quot;)</code> in main() before the Test() object is created, but there is no noticeable impact.</p>\n<p>Also, I will call myself out on not using <code>invokeLater()</code> to start the Swing application (bad practice, because Swing components are supposed to have all their processing done on the Event Dispatch Thread). I realized late into putting the game together that I neglected to do that, but when I went and tried to basically retrofit it into <code>main()</code>, the graphics won't update. I'm not sure if it has to do with the way my classes are currently organized or what, but I spent minimal effort on that front since it runs fine at the moment without the EDT, save for the CPU/GPU usage. Unless this may be the cause of my problem, in which case that needs to be fixed.</p>\n<p>Any assistance would be greatly appreciated. This is my first post of Stack Overflow, so I'm not totally sure if there is anything I am missing. That said, if any other information or testing is needed on my part, I will gladly provide.</p>\n<p>I am currently working with:</p>\n<ul>\n<li>Java 18 and 19 (Oracle's official SE Development Kit)</li>\n<li>OS: Windows 11</li>\n<li>GPU: Intel UHD Graphics (i7-10750H).</li>\n</ul>\n<p>I will note that my computer does have a GTX 1650 Ti as a dedicated card, but everything mentioned above has been running off of the Intel chip.</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":7971710,"reputation":11005,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1474484601,"creation_date":1474484601,"answer_id":39624577,"question_id":39622089,"body_markdown":"you have to create secretKey using RSA like \r\n\r\n    SecretKey secretKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey(); \r\n    or \r\n    Key secretKey = MacProvider.generateKey();\r\n\r\nuse same secretKey key to generate jwt string and decrypt it using same secrete key like \r\n\r\n\r\n    SecretKey secretKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey();\r\n    String compactJws = Jwts.builder()\r\n    \t\t\t\t  .setSubject(&quot;Joe&quot;)\r\n    \t\t\t\t  .signWith(SignatureAlgorithm.HS512, secretKey)\r\n    \t\t\t\t  .compact();\r\n    \t\t\r\n    \t\t\r\n    Claims claims = Jwts.parser().setSigningKey(secretKey)\r\n    \t\t                .parseClaimsJws(compactJws).getBody();\r\n\r\n\r\n \r\n","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>you have to create secretKey using RSA like </p>\n\n<pre><code>SecretKey secretKey = KeyGenerator.getInstance(\"AES\").generateKey(); \nor \nKey secretKey = MacProvider.generateKey();\n</code></pre>\n\n<p>use same secretKey key to generate jwt string and decrypt it using same secrete key like </p>\n\n<pre><code>SecretKey secretKey = KeyGenerator.getInstance(\"AES\").generateKey();\nString compactJws = Jwts.builder()\n                  .setSubject(\"Joe\")\n                  .signWith(SignatureAlgorithm.HS512, secretKey)\n                  .compact();\n\n\nClaims claims = Jwts.parser().setSigningKey(secretKey)\n                        .parseClaimsJws(compactJws).getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653525,"reputation":23,"user_id":6478492,"display_name":"Keramat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554713776,"creation_date":1554713776,"answer_id":55569625,"question_id":39622089,"body_markdown":"I had the same problem, it was my solution\r\n\r\nin my case I gad a certificate that give the ability that can be signed with different keys,\r\n\r\n       CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n       FileInputStream is = new FileInputStream (&quot;yourcertificate.jks&quot;);\r\n       Certificate cer = fact.generateCertificate(is);\r\n       PublicKey  publicKey = cer.getPublicKey();\r\nand then to verify the jwt token used:\r\n\r\n     Claims body = Jwts.parser()\r\n                    .setSigningKey(publicKey)\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\n ","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>I had the same problem, it was my solution</p>\n\n<p>in my case I gad a certificate that give the ability that can be signed with different keys,</p>\n\n<pre><code>   CertificateFactory fact = CertificateFactory.getInstance(\"X.509\");\n   FileInputStream is = new FileInputStream (\"yourcertificate.jks\");\n   Certificate cer = fact.generateCertificate(is);\n   PublicKey  publicKey = cer.getPublicKey();\n</code></pre>\n\n<p>and then to verify the jwt token used:</p>\n\n<pre><code> Claims body = Jwts.parser()\n                .setSigningKey(publicKey)\n                .parseClaimsJws(token)\n                .getBody();\n</code></pre>\n"}],"owner":{"account_id":262014,"reputation":672,"user_id":546594,"accept_rate":65,"display_name":"Pegah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7455,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667569926,"creation_date":1474475961,"question_id":39622089,"body_markdown":"I receive the jwt (access token) from an OAuth Server. The OAuth server has already provided me with the secret, public key, and self-signed CA certificate.\r\n\r\nI want to write a code that when I receive a jwt, I can validate it and check if this server has sent it to me. I use the following code to validat my jwt in java.\r\n\r\n    String jwt = &quot;xxx.yyy.zzz&quot;;\r\n\r\n            //This line will throw an exception if it is not a signed JWS (as expected)\r\n    Claims claims = Jwts.parser().setSigningKey(DatatypeConverter.parseBase64Binary(self_signed_CA_Certificate))\r\n                    .parseClaimsJws(jwt).getBody();\r\n\r\nI get the error: `Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.`\r\n\r\n\r\n\r\nAny help is appreciated.","title":"Validating jwt in java: Key bytes cannot be specified for RSA signatures","body":"<p>I receive the jwt (access token) from an OAuth Server. The OAuth server has already provided me with the secret, public key, and self-signed CA certificate.</p>\n\n<p>I want to write a code that when I receive a jwt, I can validate it and check if this server has sent it to me. I use the following code to validat my jwt in java.</p>\n\n<pre><code>String jwt = \"xxx.yyy.zzz\";\n\n        //This line will throw an exception if it is not a signed JWS (as expected)\nClaims claims = Jwts.parser().setSigningKey(DatatypeConverter.parseBase64Binary(self_signed_CA_Certificate))\n                .parseClaimsJws(jwt).getBody();\n</code></pre>\n\n<p>I get the error: <code>Key bytes cannot be specified for RSA signatures.  Please specify a PublicKey or PrivateKey instance.</code></p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","openid-connect","jjwt"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1580732731,"post_id":60038550,"comment_id":106182041,"body_markdown":"Looks like you will have to parse your public key using `KeyFactory` and then pass the resulting instance to your library.","body":"Looks like you will have to parse your public key using <code>KeyFactory</code> and then pass the resulting instance to your library."},{"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"score":1,"creation_date":1580774087,"post_id":60038550,"comment_id":106200750,"body_markdown":"hey @michalk .... I ended up fixing the **publicKey** with this code snippet\n-------------------\n \n`X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(PUBLIC_KEY));`\n________\n`RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(keySpecX509);`","body":"hey @michalk .... I ended up fixing the <b>publicKey</b> with this code snippet -------------------   <code>X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(Base64.getDecoder().decode(PUBLIC_KEY));</code> ________ <code>RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(keySpecX509);</code>"},{"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"score":0,"creation_date":1580774515,"post_id":60038550,"comment_id":106200837,"body_markdown":"It worked fine with that snippet temporary. It&#39;s now giving different error. that is, `JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted` .......  I don&#39;t know if that was what you were actually recommending. If not, could you help me out. Thanks.","body":"It worked fine with that snippet temporary. It&#39;s now giving different error. that is, <code>JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted</code> .......  I don&#39;t know if that was what you were actually recommending. If not, could you help me out. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615397304,"creation_date":1580756981,"answer_id":60045658,"question_id":60038550,"body_markdown":"A good approach can be to use the JWT.IO web page to validate the token manually - as described in [my article](https://authguidance.com/2017/12/06/azure-ad-api-token-validation) - then to [apply the equivalent code](https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts) - though my code is NodeJS.\r\n\r\nInterested in how you come to be validating an id token manually - \r\ncould you explain which clients and APIs are involved - there may be a more standard way to achieve your goals.","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>A good approach can be to use the JWT.IO web page to validate the token manually - as described in <a href=\"https://authguidance.com/2017/12/06/azure-ad-api-token-validation\" rel=\"nofollow noreferrer\">my article</a> - then to <a href=\"https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts\" rel=\"nofollow noreferrer\">apply the equivalent code</a> - though my code is NodeJS.</p>\n<p>Interested in how you come to be validating an id token manually -\ncould you explain which clients and APIs are involved - there may be a more standard way to achieve your goals.</p>\n"},{"tags":[],"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1580998065,"creation_date":1580777370,"answer_id":60049108,"question_id":60038550,"body_markdown":"I think I have been able to fix the gotcha by parsing the publicKey as an `RSAPublicKey`. Below is the nitty-gritty of how i went about it. \r\n\r\n```\r\n public static Optional&lt;RSAPublicKey&gt; getParsedPublicKey(){\r\n       // public key content...excluding &#39;---PUBLIC KEY---&#39; and &#39;---END PUBLIC KEY---&#39;\r\n        String PUB_KEY =System.getenv(&quot;PUBLIC_KEY&quot;) ; \r\n\r\n       // removes white spaces or char 20\r\n        String PUBLIC_KEY = &quot;&quot;;\r\n          if (!PUB_KEY.isEmpty()) {\r\n            PUBLIC_KEY = PUB_KEY.replace(&quot; &quot;, &quot;&quot;);\r\n        }\r\n\r\n        try {\r\n            byte[] decode = com.google.api.client.util.Base64.decodeBase64(PUBLIC_KEY);\r\n            X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(decode);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            RSAPublicKey pubKey = (RSAPublicKey) keyFactory.generatePublic(keySpecX509);\r\n            return Optional.of(pubKey);\r\n\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Exception block | Public key parsing error &quot;);\r\n            return Optional.empty();\r\n        }\r\n```\r\n \r\nHope it helps :).\r\n ","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>I think I have been able to fix the gotcha by parsing the publicKey as an <code>RSAPublicKey</code>. Below is the nitty-gritty of how i went about it. </p>\n\n<pre><code> public static Optional&lt;RSAPublicKey&gt; getParsedPublicKey(){\n       // public key content...excluding '---PUBLIC KEY---' and '---END PUBLIC KEY---'\n        String PUB_KEY =System.getenv(\"PUBLIC_KEY\") ; \n\n       // removes white spaces or char 20\n        String PUBLIC_KEY = \"\";\n          if (!PUB_KEY.isEmpty()) {\n            PUBLIC_KEY = PUB_KEY.replace(\" \", \"\");\n        }\n\n        try {\n            byte[] decode = com.google.api.client.util.Base64.decodeBase64(PUBLIC_KEY);\n            X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(decode);\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            RSAPublicKey pubKey = (RSAPublicKey) keyFactory.generatePublic(keySpecX509);\n            return Optional.of(pubKey);\n\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            e.printStackTrace();\n            System.out.println(\"Exception block | Public key parsing error \");\n            return Optional.empty();\n        }\n</code></pre>\n\n<p>Hope it helps :).</p>\n"},{"tags":[],"owner":{"account_id":5442196,"reputation":151,"user_id":4329945,"display_name":"Suresh Kb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599223727,"creation_date":1599223727,"answer_id":63741508,"question_id":60038550,"body_markdown":"This can be done like below, generate a token using private key signing and parse claims with the public key\r\n\r\n      @Configuration\r\n      public class KeyGeneratorConfig {\r\n    \r\n   \r\n        @Value(&quot;${jwt.privateKey}&quot;)\r\n        private String privateKey; //Encoded private key string\r\n    \r\n    \r\n        @Value(&quot;${jwt.publicKey}&quot;)\r\n        private String publicKey;//Encoded public key string\r\n    \r\n    \r\n        @Bean\r\n        public PrivateKey generatePrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PKCS8EncodedKeySpec privKeySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKey));\r\n            return kf.generatePrivate(privKeySpecPKCS8);\r\n        }\r\n    \r\n        @Bean\r\n        public PublicKey generatePublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\r\n            return kf.generatePublic(pubKeySpecX509EncodedKeySpec);\r\n        }\r\n    }\r\nand generating token and parsing can be done like this\r\n\r\n    @Autowired\r\n    private PublicKey publicKey;\r\n\r\n    @Autowired\r\n    private PrivateKey privateKey;\r\n\r\n    private String doGenerateToken(Map claims) {\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setExpiration(generateExpirationDate(&quot;token&quot;))\r\n                .signWith(SignatureAlgorithm.RS512, privateKey)\r\n                .compact();\r\n    }\r\n\r\n    public Claims getClaimsFromToken(String token) throws ExpiredJwtException, UnsupportedJwtException,\r\n            MalformedJwtException, SignatureException, IllegalArgumentException {\r\n        Claims claims;\r\n\r\n        claims = Jwts.parser()\r\n                .setSigningKey(publicKey)\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n\r\n        return claims;\r\n    }","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>This can be done like below, generate a token using private key signing and parse claims with the public key</p>\n<pre><code>  @Configuration\n  public class KeyGeneratorConfig {\n\n\n    @Value(&quot;${jwt.privateKey}&quot;)\n    private String privateKey; //Encoded private key string\n\n\n    @Value(&quot;${jwt.publicKey}&quot;)\n    private String publicKey;//Encoded public key string\n\n\n    @Bean\n    public PrivateKey generatePrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec privKeySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKey));\n        return kf.generatePrivate(privKeySpecPKCS8);\n    }\n\n    @Bean\n    public PublicKey generatePublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\n        return kf.generatePublic(pubKeySpecX509EncodedKeySpec);\n    }\n}\n</code></pre>\n<p>and generating token and parsing can be done like this</p>\n<pre><code>@Autowired\nprivate PublicKey publicKey;\n\n@Autowired\nprivate PrivateKey privateKey;\n\nprivate String doGenerateToken(Map claims) {\n    return Jwts.builder()\n            .setClaims(claims)\n            .setExpiration(generateExpirationDate(&quot;token&quot;))\n            .signWith(SignatureAlgorithm.RS512, privateKey)\n            .compact();\n}\n\npublic Claims getClaimsFromToken(String token) throws ExpiredJwtException, UnsupportedJwtException,\n        MalformedJwtException, SignatureException, IllegalArgumentException {\n    Claims claims;\n\n    claims = Jwts.parser()\n            .setSigningKey(publicKey)\n            .parseClaimsJws(token)\n            .getBody();\n\n    return claims;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667569887,"creation_date":1667569887,"answer_id":74318096,"question_id":60038550,"body_markdown":"My relive came with [this post](https://github.com/jwtk/jjwt/issues/131).\r\n\r\n\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateFactory;\r\n    ...\r\n    // First, get your PEM-encoded DER certificate into a String, like this:\r\n    String certChart = &quot;-----BEGIN CERTIFICATE-----\\n.....&quot;;\r\n    \r\n    // Now parse it using CertificateFactory:\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    Certificate cert = cf.generateCertificate(new java.io.ByteArrayInputStream(certChars.getBytes(StandardCharsets.US_ASCII)));\r\n\r\n    // Now verify:\r\n    Jwts.parserBuilder()\r\n        .setSigningKey(cert.getPublicKey())\r\n     ...","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>My relive came with <a href=\"https://github.com/jwtk/jjwt/issues/131\" rel=\"nofollow noreferrer\">this post</a>.</p>\n<pre><code>import java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\n...\n// First, get your PEM-encoded DER certificate into a String, like this:\nString certChart = &quot;-----BEGIN CERTIFICATE-----\\n.....&quot;;\n\n// Now parse it using CertificateFactory:\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\nCertificate cert = cf.generateCertificate(new java.io.ByteArrayInputStream(certChars.getBytes(StandardCharsets.US_ASCII)));\n\n// Now verify:\nJwts.parserBuilder()\n    .setSigningKey(cert.getPublicKey())\n ...\n</code></pre>\n"}],"owner":{"account_id":17260867,"reputation":355,"user_id":12498784,"display_name":"John Erbynn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16579,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":60049108,"answer_count":4,"score":13,"last_activity_date":1667569887,"creation_date":1580730117,"question_id":60038550,"body_markdown":"I am trying to read a Json Web Token(JWT) generated from Google OpenID Connect&#39;s Id Token in order to get the claims and to verify using [jjwt][1] library. I have tried several ways to fix it with the code below.\r\n```\r\n\r\n String publicKeyFromJsonFile = &quot;-----BEGIN PUBLIC KEY-----xxxxxxx-----END PUBLIC KEY-----&quot;\r\n\r\n Claims claims = Jwts.parser()\r\n                .setSigningKey(publicKeyFromJsonFile)\r\n                .parseClaimsJws(jwt).getBody();\r\n\r\n System.out.println(claims);\r\n\r\n\r\n```\r\nbut I am getting this error:\r\n```\r\njava.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance\r\n```\r\n\r\nPlease what could be the right approach to follow ? \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://github.com/jwtk/jjwt","title":"Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance","body":"<p>I am trying to read a Json Web Token(JWT) generated from Google OpenID Connect's Id Token in order to get the claims and to verify using <a href=\"https://github.com/jwtk/jjwt\" rel=\"noreferrer\">jjwt</a> library. I have tried several ways to fix it with the code below.</p>\n\n<pre><code>\n String publicKeyFromJsonFile = \"-----BEGIN PUBLIC KEY-----xxxxxxx-----END PUBLIC KEY-----\"\n\n Claims claims = Jwts.parser()\n                .setSigningKey(publicKeyFromJsonFile)\n                .parseClaimsJws(jwt).getBody();\n\n System.out.println(claims);\n\n\n</code></pre>\n\n<p>but I am getting this error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance\n</code></pre>\n\n<p>Please what could be the right approach to follow ? </p>\n"},{"tags":["java","arraylist","terminology"],"answers":[{"tags":[],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"down_vote_count":0,"up_vote_count":183,"is_accepted":true,"score":183,"last_activity_date":1543837212,"creation_date":1323471055,"answer_id":8452709,"question_id":8452672,"body_markdown":"[`ArrayList`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html) is unique in its naming standards. Here are the equivalencies:\r\n\r\n    Array.push    -&gt; ArrayList.add(Object o); // Append the list\r\n    Array.pop     -&gt; ArrayList.remove(int index); // Remove list[index]\r\n    Array.shift   -&gt; ArrayList.remove(0); // Remove first element\r\n    Array.unshift -&gt; ArrayList.add(int index, Object o); // Prepend the list\r\n\r\nNote that `unshift` does not *remove* an element, but instead *adds* one to the list. Also note that corner-case behaviors are likely to be different between Java and JS, since they each have their own standards.","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> is unique in its naming standards. Here are the equivalencies:</p>\n\n<pre><code>Array.push    -&gt; ArrayList.add(Object o); // Append the list\nArray.pop     -&gt; ArrayList.remove(int index); // Remove list[index]\nArray.shift   -&gt; ArrayList.remove(0); // Remove first element\nArray.unshift -&gt; ArrayList.add(int index, Object o); // Prepend the list\n</code></pre>\n\n<p>Note that <code>unshift</code> does not <em>remove</em> an element, but instead <em>adds</em> one to the list. Also note that corner-case behaviors are likely to be different between Java and JS, since they each have their own standards.</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1323472764,"creation_date":1323472764,"answer_id":8452920,"question_id":8452672,"body_markdown":"maybe you want to take a look `java.util.Stack` class.\r\nit has push, pop methods. and implemented List interface.\r\n\r\nfor shift/unshift, you can reference @Jon&#39;s answer.\r\n\r\nhowever, something of ArrayList you may want to care about , arrayList is **not** synchronized. but Stack is. (sub-class of Vector).  If you have thread-safe requirement, Stack may be better than ArrayList.","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>maybe you want to take a look <code>java.util.Stack</code> class.\nit has push, pop methods. and implemented List interface.</p>\n\n<p>for shift/unshift, you can reference @Jon's answer.</p>\n\n<p>however, something of ArrayList you may want to care about , arrayList is <strong>not</strong> synchronized. but Stack is. (sub-class of Vector).  If you have thread-safe requirement, Stack may be better than ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":448339,"reputation":3348,"user_id":842480,"accept_rate":69,"display_name":"Wirone"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1366701717,"creation_date":1366701717,"answer_id":16163302,"question_id":8452672,"body_markdown":"I was facing with this problem some time ago and I found [`java.util.LinkedList`][1] is best for my case. It has several methods, with different namings, but they&#39;re doing what is needed:\r\n\r\n    push()    -&gt; LinkedList.addLast(); // Or just LinkedList.add();\r\n    pop()     -&gt; LinkedList.pollLast();\r\n    shift()   -&gt; LinkedList.pollFirst();\r\n    unshift() -&gt; LinkedList.addFirst();\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>I was facing with this problem some time ago and I found <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\"><code>java.util.LinkedList</code></a> is best for my case. It has several methods, with different namings, but they're doing what is needed:</p>\n\n<pre><code>push()    -&gt; LinkedList.addLast(); // Or just LinkedList.add();\npop()     -&gt; LinkedList.pollLast();\nshift()   -&gt; LinkedList.pollFirst();\nunshift() -&gt; LinkedList.addFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630717228,"creation_date":1470027037,"answer_id":38691219,"question_id":8452672,"body_markdown":"[Underscore-java][1] library contains methods push(values), pop(), shift() and unshift(values).\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.Underscore:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot; three&quot;);\r\n    List&lt;String&gt; newStrings = Underscore.push(strings, &quot;four&quot;, &quot;five&quot;);\r\n    // [&quot;one&quot;, &quot; two&quot;, &quot;three&quot;, &quot; four&quot;, &quot;five&quot;]\r\n    String newPopString = Underscore.pop(strings).fst();\r\n    // &quot; three&quot;\r\n    String newShiftString = Underscore.shift(strings).fst();\r\n    // &quot;one&quot;\r\n    List&lt;String&gt; newUnshiftStrings = Underscore.unshift(strings, &quot;four&quot;, &quot;five&quot;);\r\n    // [&quot;four&quot;, &quot; five&quot;, &quot;one&quot;, &quot; two&quot;, &quot;three&quot;]\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library contains methods push(values), pop(), shift() and unshift(values).</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.Underscore:\n\nList&lt;String&gt; strings = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot; three&quot;);\nList&lt;String&gt; newStrings = Underscore.push(strings, &quot;four&quot;, &quot;five&quot;);\n// [&quot;one&quot;, &quot; two&quot;, &quot;three&quot;, &quot; four&quot;, &quot;five&quot;]\nString newPopString = Underscore.pop(strings).fst();\n// &quot; three&quot;\nString newShiftString = Underscore.shift(strings).fst();\n// &quot;one&quot;\nList&lt;String&gt; newUnshiftStrings = Underscore.unshift(strings, &quot;four&quot;, &quot;five&quot;);\n// [&quot;four&quot;, &quot; five&quot;, &quot;one&quot;, &quot; two&quot;, &quot;three&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1271937,"reputation":1043,"user_id":7384648,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543921843,"creation_date":1543921843,"answer_id":53611633,"question_id":8452672,"body_markdown":"Great Answer by [Jon][1]. \r\n\r\nI&#39;m lazy though and I hate typing, so I created a simple cut and paste example for all the other people who are like me. Enjoy!\r\n   \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n            List&lt;String&gt; animals = new ArrayList&lt;&gt;();\r\n    \r\n            animals.add(&quot;Lion&quot;);\r\n            animals.add(&quot;Tiger&quot;);\r\n            animals.add(&quot;Cat&quot;);\r\n            animals.add(&quot;Dog&quot;);\r\n    \r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n    \r\n            // add() -&gt; push(): Add items to the end of an array\r\n            animals.add(&quot;Elephant&quot;);\r\n            System.out.println(animals);  // [Lion, Tiger, Cat, Dog, Elephant]\r\n    \t\t\r\n            // remove() -&gt; pop(): Remove an item from the end of an array\r\n            animals.remove(animals.size() - 1);\r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n            \r\n            // add(0,&quot;xyz&quot;) -&gt; unshift(): Add items to the beginning of an array\r\n            animals.add(0, &quot;Penguin&quot;);\r\n            System.out.println(animals); // [Penguin, Lion, Tiger, Cat, Dog]\r\n            \r\n            // remove(0) -&gt; shift(): Remove an item from the beginning of an array\r\n            animals.remove(0);\r\n            System.out.println(animals); // [Lion, Tiger, Cat, Dog]\r\n            \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8452709/7384648","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>Great Answer by <a href=\"https://stackoverflow.com/a/8452709/7384648\">Jon</a>. </p>\n\n<p>I'm lazy though and I hate typing, so I created a simple cut and paste example for all the other people who are like me. Enjoy!</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; animals = new ArrayList&lt;&gt;();\n\n        animals.add(\"Lion\");\n        animals.add(\"Tiger\");\n        animals.add(\"Cat\");\n        animals.add(\"Dog\");\n\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n        // add() -&gt; push(): Add items to the end of an array\n        animals.add(\"Elephant\");\n        System.out.println(animals);  // [Lion, Tiger, Cat, Dog, Elephant]\n\n        // remove() -&gt; pop(): Remove an item from the end of an array\n        animals.remove(animals.size() - 1);\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n        // add(0,\"xyz\") -&gt; unshift(): Add items to the beginning of an array\n        animals.add(0, \"Penguin\");\n        System.out.println(animals); // [Penguin, Lion, Tiger, Cat, Dog]\n\n        // remove(0) -&gt; shift(): Remove an item from the beginning of an array\n        animals.remove(0);\n        System.out.println(animals); // [Lion, Tiger, Cat, Dog]\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286718,"favorite_count":0,"down_vote_count":1,"up_vote_count":115,"accepted_answer_id":8452709,"answer_count":5,"score":114,"last_activity_date":1667569674,"creation_date":1323470722,"question_id":8452672,"body_markdown":"I&#39;ve determined that a Java `ArrayList.add` is similar to a JavaScript `Array.push`\r\n\r\nI&#39;m stuck on finding `ArrayList` functions similar to the following\r\n\r\n - `Array.pop`\r\n - `Array.shift`\r\n - `Array.unshift` I&#39;m leaning toward `ArrayList.remove[At]`\r\n\r\n\r\n","title":"java howto ArrayList push, pop, shift, and unshift","body":"<p>I've determined that a Java <code>ArrayList.add</code> is similar to a JavaScript <code>Array.push</code></p>\n\n<p>I'm stuck on finding <code>ArrayList</code> functions similar to the following</p>\n\n<ul>\n<li><code>Array.pop</code></li>\n<li><code>Array.shift</code></li>\n<li><code>Array.unshift</code> I'm leaning toward <code>ArrayList.remove[At]</code></li>\n</ul>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1667546043,"post_id":74313318,"comment_id":131196041,"body_markdown":"Please add more details like relevant code and expected results.","body":"Please add more details like relevant code and expected results."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667584061,"post_id":74313318,"comment_id":131209154,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667552216,"creation_date":1667552216,"answer_id":74314434,"question_id":74313318,"body_markdown":"You could invoke an XSLT transformation from the Java application:\r\n\r\n    &lt;xsl:transform \r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        version=&quot;3.0&quot;&gt;\r\n      &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n      &lt;xsl:param name=&quot;newValue&quot;/&gt;\r\n      &lt;xsl:template match=&quot;specific-tag&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n          &lt;xsl:value-of select=&quot;$newValue&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n      &lt;/xsl:template&gt;\r\n    &lt;/xsl:transform&gt;","title":"How can I pass a parameter from a java method to specific xml tag","body":"<p>You could invoke an XSLT transformation from the Java application:</p>\n<pre><code>&lt;xsl:transform \n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;&gt;\n  &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n  &lt;xsl:param name=&quot;newValue&quot;/&gt;\n  &lt;xsl:template match=&quot;specific-tag&quot;&gt;\n    &lt;xsl:copy&gt;\n      &lt;xsl:value-of select=&quot;$newValue&quot;/&gt;\n    &lt;/xsl:copy&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:transform&gt;\n</code></pre>\n"}],"owner":{"account_id":19083613,"reputation":1,"user_id":13935336,"display_name":"Phil160"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667569327,"creation_date":1667545639,"question_id":74313318,"body_markdown":"Can you please share a way to update a value in xml tag, which is passed from a java method\r\n\r\nPass the values from a method to a specific xml tag. Below is a sample code;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;company&gt;\r\n      &lt;staff &gt;\r\n          &lt;name&gt;value1&lt;/name&gt;\r\n          &lt;location&gt;value2&lt;/location&gt;\r\n      &lt;/staff&gt;\r\n    &lt;company&gt;\r\n\r\n\r\n    public class Populate{\r\n    \r\n    \r\n    public void populateData (String value1, String value2){\r\n    \r\n    ???\r\n    }\r\n    }","title":"How can I pass a parameter from a java method to specific xml tag","body":"<p>Can you please share a way to update a value in xml tag, which is passed from a java method</p>\n<p>Pass the values from a method to a specific xml tag. Below is a sample code;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;company&gt;\n  &lt;staff &gt;\n      &lt;name&gt;value1&lt;/name&gt;\n      &lt;location&gt;value2&lt;/location&gt;\n  &lt;/staff&gt;\n&lt;company&gt;\n\n\npublic class Populate{\n\n\npublic void populateData (String value1, String value2){\n\n???\n}\n}\n</code></pre>\n"},{"tags":["java","java-native-interface","project-panama","java-18"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1667559456,"post_id":74314769,"comment_id":131200179,"body_markdown":"You can copy a MemorySegment to an other. And the other MemorySegment can be backed by a `byte[]`.","body":"You can copy a MemorySegment to an other. And the other MemorySegment can be backed by a <code>byte[]</code>."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667569288,"creation_date":1667569288,"answer_id":74317967,"question_id":74314769,"body_markdown":"`VarHandle`s, at their root, are only for accessing memory that can fit in a primitive type, and `char[100]` does not fit in a primitive.\r\n\r\nWhat you get when doing:\r\n\r\n    ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\r\n\r\nIs a `VarHandle` that selects a single `byte` from the array, for which the index is supplied dynamically:\r\n\r\n    long index = 42; // select element 42\r\n    byte nameByte = (byte) VH_ENT_NAME.get(segment, index);\r\n\r\n&gt; should stick to mix of `VarHandle` and `slice`\r\n\r\nYes, `slice` is needed to access anything that&#39;s too big for a primitive. It is essentially the same as doing this in C:\r\n\r\n    ent* x = foo();\r\n    char* name = x-&gt;name;\r\n\r\nYou can use `MemoryLayout::sliceHandle` as well to get a `MethodHandle` that embeds the offset computations:\r\n\r\n    MethodHandle MH_ENT_NAME = ENT_LAYOUT.sliceHandle(groupElement(&quot;name&quot;));\r\n\r\nMethod handles can also be combined further (just like varhandles), to create one that directly gets the string from the segment:\r\n\r\n    MethodHandle MH_getUtf8String = MethodHandles.lookup().findVirtual(MemorySegment.class, &quot;getUtf8String&quot;, MethodType.methodType(String.class, long.class));\r\n    MethodHandle mh = MethodHandles.insertArguments(MH_getUtf8String, 1, 0); // always access string at offset 0\r\n    mh = MethodHandles.filterArguments(result, 0, MH_ENT_NAME);\r\n\r\n    String name = (String) mh.invokeExact(segment);\r\n\r\nThough, it is often simpler just to define a `static` helper method that does the above:\r\n\r\n    public static String getName(MemorySegment segment) {\r\n        try {\r\n            MemorySegment nameSegment = (MemorySegment) MH_ENT_NAME.invokeExact(segment);\r\n            return nameSegment.getUtf8String(0);\r\n        } catch(Throwable t) {\r\n            throw new RuntimeException(t);\r\n        }\r\n    }","title":"Java VarHandle to a C string with java.lang.foreign API","body":"<p><code>VarHandle</code>s, at their root, are only for accessing memory that can fit in a primitive type, and <code>char[100]</code> does not fit in a primitive.</p>\n<p>What you get when doing:</p>\n<pre><code>ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\n</code></pre>\n<p>Is a <code>VarHandle</code> that selects a single <code>byte</code> from the array, for which the index is supplied dynamically:</p>\n<pre><code>long index = 42; // select element 42\nbyte nameByte = (byte) VH_ENT_NAME.get(segment, index);\n</code></pre>\n<blockquote>\n<p>should stick to mix of <code>VarHandle</code> and <code>slice</code></p>\n</blockquote>\n<p>Yes, <code>slice</code> is needed to access anything that's too big for a primitive. It is essentially the same as doing this in C:</p>\n<pre><code>ent* x = foo();\nchar* name = x-&gt;name;\n</code></pre>\n<p>You can use <code>MemoryLayout::sliceHandle</code> as well to get a <code>MethodHandle</code> that embeds the offset computations:</p>\n<pre><code>MethodHandle MH_ENT_NAME = ENT_LAYOUT.sliceHandle(groupElement(&quot;name&quot;));\n</code></pre>\n<p>Method handles can also be combined further (just like varhandles), to create one that directly gets the string from the segment:</p>\n<pre><code>MethodHandle MH_getUtf8String = MethodHandles.lookup().findVirtual(MemorySegment.class, &quot;getUtf8String&quot;, MethodType.methodType(String.class, long.class));\nMethodHandle mh = MethodHandles.insertArguments(MH_getUtf8String, 1, 0); // always access string at offset 0\nmh = MethodHandles.filterArguments(result, 0, MH_ENT_NAME);\n\nString name = (String) mh.invokeExact(segment);\n</code></pre>\n<p>Though, it is often simpler just to define a <code>static</code> helper method that does the above:</p>\n<pre><code>public static String getName(MemorySegment segment) {\n    try {\n        MemorySegment nameSegment = (MemorySegment) MH_ENT_NAME.invokeExact(segment);\n        return nameSegment.getUtf8String(0);\n    } catch(Throwable t) {\n        throw new RuntimeException(t);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74317967,"answer_count":1,"score":2,"last_activity_date":1667569288,"creation_date":1667554067,"question_id":74314769,"body_markdown":"I would like to use foreign function interface from project panama to access C library from Java19. The C interface is quite simple:\r\n\r\n```c\r\ntypedef struct {\r\n  int len;\r\n  char name[100];\r\n} ent;\r\n\r\nent* foo();\r\n```\r\n\r\nWhen called, function foo returns pointer to `struct ent`, where `len` tells the size of the string `name`.\r\n\r\nThe corresponding Java side is:\r\n\r\n```java\r\nprivate static final MemoryLayout ENT_LAYOUT = MemoryLayout.structLayout(\r\n        JAVA_INT.withName(&quot;len&quot;),\r\n        MemoryLayout.sequenceLayout(100, ValueLayout.JAVA_BYTE).withName(&quot;name&quot;)\r\n);\r\n```\r\n\r\nFor ease of access I would like use `VarHandle`:\r\n\r\n\r\n```java\r\nprivate static final VarHandle VH_ENT_LEN = ENT_LAYOUT.varHandle(groupElement(&quot;len&quot;));\r\n\r\n```\r\n\r\nand later on\r\n\r\n```java\r\nint len = (int)VH_ENT_LEN.get(segment);\r\nString name = segment.asSlice(ENT_LAYOUT.byteOffset(groupElement(&quot;name&quot;)), len).getUtf8String(0);\r\n\r\n```\r\n\r\nWhich is still a bit messy.\r\n\r\nMy naive expectation ware, that the solution should be something like:\r\n\r\n\r\n```java\r\nprivate static final VarHandle VH_ENT_NAME = ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\r\n\r\nbyte[] nameRaw = (byte[])VH_ENT_NAME.get(segment);\r\n```\r\n\r\nHowever I get:\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.invoke.WrongMethodTypeException:\r\n   cannot convert MethodHandle(VarHandle,MemorySegment,long)byte to (VarHandle,MemorySegment)byte[]\r\n```\r\n\r\nSo, the question is: is there an elegant solution to access arrays from java foreign API, or we should stick to mix of `VarHandle` and `slice`.\r\n\r\n\r\n","title":"Java VarHandle to a C string with java.lang.foreign API","body":"<p>I would like to use foreign function interface from project panama to access C library from Java19. The C interface is quite simple:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef struct {\n  int len;\n  char name[100];\n} ent;\n\nent* foo();\n</code></pre>\n<p>When called, function foo returns pointer to <code>struct ent</code>, where <code>len</code> tells the size of the string <code>name</code>.</p>\n<p>The corresponding Java side is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final MemoryLayout ENT_LAYOUT = MemoryLayout.structLayout(\n        JAVA_INT.withName(&quot;len&quot;),\n        MemoryLayout.sequenceLayout(100, ValueLayout.JAVA_BYTE).withName(&quot;name&quot;)\n);\n</code></pre>\n<p>For ease of access I would like use <code>VarHandle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final VarHandle VH_ENT_LEN = ENT_LAYOUT.varHandle(groupElement(&quot;len&quot;));\n\n</code></pre>\n<p>and later on</p>\n<pre class=\"lang-java prettyprint-override\"><code>int len = (int)VH_ENT_LEN.get(segment);\nString name = segment.asSlice(ENT_LAYOUT.byteOffset(groupElement(&quot;name&quot;)), len).getUtf8String(0);\n\n</code></pre>\n<p>Which is still a bit messy.</p>\n<p>My naive expectation ware, that the solution should be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final VarHandle VH_ENT_NAME = ENT_LAYOUT.varHandle(groupElement(&quot;name&quot;), sequenceElement());\n\nbyte[] nameRaw = (byte[])VH_ENT_NAME.get(segment);\n</code></pre>\n<p>However I get:</p>\n<pre><code>java.lang.RuntimeException: java.lang.invoke.WrongMethodTypeException:\n   cannot convert MethodHandle(VarHandle,MemorySegment,long)byte to (VarHandle,MemorySegment)byte[]\n</code></pre>\n<p>So, the question is: is there an elegant solution to access arrays from java foreign API, or we should stick to mix of <code>VarHandle</code> and <code>slice</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":19886917,"reputation":1199,"user_id":14569750,"display_name":"ericmp"},"score":0,"creation_date":1667562173,"post_id":74316485,"comment_id":131201103,"body_markdown":"are you sure this is js related?","body":"are you sure this is js related?"},{"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"score":0,"creation_date":1667562273,"post_id":74316485,"comment_id":131201142,"body_markdown":"no but to add a question requires at least one popular tag I wrote java and android but he wrote anyway I saw that JavaScript was more popular and that was the only way I could add","body":"no but to add a question requires at least one popular tag I wrote java and android but he wrote anyway I saw that JavaScript was more popular and that was the only way I could add"},{"owner":{"account_id":19886917,"reputation":1199,"user_id":14569750,"display_name":"ericmp"},"score":0,"creation_date":1667562315,"post_id":74316485,"comment_id":131201159,"body_markdown":"change it to java","body":"change it to java"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667562877,"post_id":74316485,"comment_id":131201348,"body_markdown":"`wrote the code for receiving and transmitting data.` Receiving from who? Transmitting to what? Please start a post telling what you do.","body":"<code>wrote the code for receiving and transmitting data.</code> Receiving from who? Transmitting to what? Please start a post telling what you do."},{"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"score":0,"creation_date":1667563324,"post_id":74316485,"comment_id":131201489,"body_markdown":"getting text, passing to firebase","body":"getting text, passing to firebase"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667569272,"post_id":74316485,"comment_id":131203575,"body_markdown":"Please edit your question to include the exact error message and complete stack trace that you copy/paste from the logcat. It&#39;ll also be helpful if you include the JSON data that exists at `databaseReference` in your database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"Please edit your question to include the exact error message and complete stack trace that you copy/paste from the logcat. It&#39;ll also be helpful if you include the JSON data that exists at <code>databaseReference</code> in your database (as text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667569351,"post_id":74316485,"comment_id":131203606,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":26828659,"reputation":1,"user_id":20416949,"display_name":"Федор Сергеевич"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667569159,"creation_date":1667562124,"question_id":74316485,"body_markdown":"I wrote the code for receiving and transmitting data.  but when you start the activity, the application crashes.here is the problem line (according to Logcat)\r\n\r\n```\r\nString msg=snapshot.getValue(String.class);\r\n```\r\n\r\ncomplete data receiving code with complete information about each object in this activity (except adapter and holder)\r\n\r\n```\r\ndatabaseReference.addChildEventListener(new ChildEventListener() {\r\n    @Override\r\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n        String msg=snapshot.getValue(String.class);\r\n\r\n        messages.add(msg);\r\n\r\n        adapter.notifyDataSetChanged();\r\n\r\n        recyclemanwoman.smoothScrollToPosition(messages.size());\r\n    }\r\n\r\n    @Override\r\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n    }\r\n\r\n    @Override\r\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n    }\r\n});\r\n```\r\n\r\ndata send code\r\n\r\n```\r\nprivate void ValidateAndSaveOnlyInfo() {\r\n    if (TextUtils.isEmpty(edit_chat.getText().toString())) {\r\n        Toast.makeText(this, &quot;Введите текст&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\r\n\r\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());\r\n\r\n        userMap.put(&quot;text&quot;, edit_chat.getText().toString());\r\n\r\n        databaseReference.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\r\n\r\n        edit_chat.setText(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni tried to change send HashMap to String\r\n\r\n```\r\npublic void onClick(View view) {\r\n        String msg= edit_chat.getText().toString();\r\n\r\n        if (msg.equals(&quot;&quot;)){\r\n            return;\r\n        }\r\n\r\n        if (msg.length()==MAX_MESSAGE_LENGTMAH){\r\n            return;\r\n        }\r\n\r\n        databaseReference.push().setValue(msg);\r\n    }\r\n});\r\n```\r\n\r\nbut the problematic line is the same.  how can this be fixed? ","title":"I can&#39;t receive data, how can I fix it?","body":"<p>I wrote the code for receiving and transmitting data.  but when you start the activity, the application crashes.here is the problem line (according to Logcat)</p>\n<pre><code>String msg=snapshot.getValue(String.class);\n</code></pre>\n<p>complete data receiving code with complete information about each object in this activity (except adapter and holder)</p>\n<pre><code>databaseReference.addChildEventListener(new ChildEventListener() {\n    @Override\n    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n        String msg=snapshot.getValue(String.class);\n\n        messages.add(msg);\n\n        adapter.notifyDataSetChanged();\n\n        recyclemanwoman.smoothScrollToPosition(messages.size());\n    }\n\n    @Override\n    public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n    }\n\n    @Override\n    public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n    }\n});\n</code></pre>\n<p>data send code</p>\n<pre><code>private void ValidateAndSaveOnlyInfo() {\n    if (TextUtils.isEmpty(edit_chat.getText().toString())) {\n        Toast.makeText(this, &quot;Введите текст&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\n\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());\n\n        userMap.put(&quot;text&quot;, edit_chat.getText().toString());\n\n        databaseReference.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\n\n        edit_chat.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>i tried to change send HashMap to String</p>\n<pre><code>public void onClick(View view) {\n        String msg= edit_chat.getText().toString();\n\n        if (msg.equals(&quot;&quot;)){\n            return;\n        }\n\n        if (msg.length()==MAX_MESSAGE_LENGTMAH){\n            return;\n        }\n\n        databaseReference.push().setValue(msg);\n    }\n});\n</code></pre>\n<p>but the problematic line is the same.  how can this be fixed?</p>\n"},{"tags":["java","jakarta-ee","xjc"],"answers":[{"tags":[],"owner":{"account_id":15199460,"reputation":171,"user_id":10967864,"display_name":"Francisco Azedo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1615379857,"creation_date":1615379857,"answer_id":66564949,"question_id":64154425,"body_markdown":"After some days of research my baseline solution for a problem related to the same plugin is the following:\r\n\r\npom.xml file\r\n\r\n    &lt;properties&gt;\r\n\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;!-- maven compiler version --&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;version.maven.jakartaee&gt;9.0.0&lt;/version.maven.jakartaee&gt;\r\n        &lt;version.maven.jakarta.xml.bind-api&gt;3.0.0&lt;/version.maven.jakarta.xml.bind-api&gt;\r\n        &lt;version.maven.jakarta.ws.rs-api&gt;3.0.0&lt;/version.maven.jakarta.ws.rs-api&gt;\r\n        &lt;version.maven.jakarta.activation.api&gt;2.0.0&lt;/version.maven.jakarta.activation.api&gt;\r\n        &lt;version.maven.jaxb.impl&gt;3.0.0&lt;/version.maven.jaxb.impl&gt;\r\n        &lt;version.maven.jaxb.xjc&gt;3.0.0&lt;/version.maven.jaxb.xjc&gt;\r\n        &lt;version.maven.servlet.api&gt;5.0.0&lt;/version.maven.servlet.api&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xjbSources&gt;\r\n                        &lt;xjbSource&gt;src/main/resources/global.xjb&lt;/xjbSource&gt;\r\n                    &lt;/xjbSources&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;src/main/resources/xsd&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jaxb.xjc}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jakarta.activation.api}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakarta.ws.rs-api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.servlet.api}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jakartaee}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn the resources folder, I have a bindings.xjb file and another folder named XSD with the XSD schema.\r\n\r\nglobal.xjb file\r\n\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n        &lt;jaxb:globalBindings&gt;\r\n    \r\n            &lt;jaxb:serializable uid=&quot;1&quot;/&gt;\r\n    \r\n            &lt;!-- date time adapter --&gt;\r\n            &lt;jaxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xsi:dateTime&quot;\r\n                           parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDateTime&quot;\r\n                           printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\r\n    \r\n        &lt;/jaxb:globalBindings&gt;\r\n    \r\n        &lt;jaxb:bindings schemaLocation=&quot;xsd/schema.xsd&quot;&gt;\r\n            &lt;jaxb:schemaBindings&gt;\r\n                &lt;jaxb:package name=&quot;com.test.request&quot; /&gt;\r\n            &lt;/jaxb:schemaBindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    \r\n    &lt;/jaxb:bindings&gt;\r\n\r\n\r\nschema.xsd file\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://services.memorynotfound.com/&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n    \r\n    \r\n        &lt;xs:complexType name=&quot;CourseRequest&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot; nillable=&quot;false&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    \r\n        &lt;xs:complexType name=&quot;CourseResponse&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;xs:element name=&quot;created&quot; type=&quot;xs:dateTime&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;","title":"jaxb2-maven-plugin Jakarta and java 11","body":"<p>After some days of research my baseline solution for a problem related to the same plugin is the following:</p>\n<p>pom.xml file</p>\n<pre><code>&lt;properties&gt;\n\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n    &lt;!-- maven compiler version --&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;version.maven.jakartaee&gt;9.0.0&lt;/version.maven.jakartaee&gt;\n    &lt;version.maven.jakarta.xml.bind-api&gt;3.0.0&lt;/version.maven.jakarta.xml.bind-api&gt;\n    &lt;version.maven.jakarta.ws.rs-api&gt;3.0.0&lt;/version.maven.jakarta.ws.rs-api&gt;\n    &lt;version.maven.jakarta.activation.api&gt;2.0.0&lt;/version.maven.jakarta.activation.api&gt;\n    &lt;version.maven.jaxb.impl&gt;3.0.0&lt;/version.maven.jaxb.impl&gt;\n    &lt;version.maven.jaxb.xjc&gt;3.0.0&lt;/version.maven.jaxb.xjc&gt;\n    &lt;version.maven.servlet.api&gt;5.0.0&lt;/version.maven.servlet.api&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/resources/global.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/xsd&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jaxb.xjc}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jakarta.activation.api}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                    &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\n                &lt;/dependency&gt;\n\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakarta.xml.bind-api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakarta.ws.rs-api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.servlet.api}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jakartaee}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;${version.maven.jaxb.impl}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In the resources folder, I have a bindings.xjb file and another folder named XSD with the XSD schema.</p>\n<p>global.xjb file</p>\n<pre><code>&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;3.0&quot;&gt;\n\n    &lt;jaxb:globalBindings&gt;\n\n        &lt;jaxb:serializable uid=&quot;1&quot;/&gt;\n\n        &lt;!-- date time adapter --&gt;\n        &lt;jaxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xsi:dateTime&quot;\n                       parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDateTime&quot;\n                       printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\n\n    &lt;/jaxb:globalBindings&gt;\n\n    &lt;jaxb:bindings schemaLocation=&quot;xsd/schema.xsd&quot;&gt;\n        &lt;jaxb:schemaBindings&gt;\n            &lt;jaxb:package name=&quot;com.test.request&quot; /&gt;\n        &lt;/jaxb:schemaBindings&gt;\n    &lt;/jaxb:bindings&gt;\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>schema.xsd file</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; targetNamespace=&quot;http://services.memorynotfound.com/&quot; elementFormDefault=&quot;qualified&quot;&gt;\n\n\n    &lt;xs:complexType name=&quot;CourseRequest&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot; nillable=&quot;false&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;CourseResponse&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:int&quot;/&gt;\n            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;description&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;created&quot; type=&quot;xs:dateTime&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n"}],"owner":{"account_id":5347198,"reputation":789,"user_id":4262423,"accept_rate":66,"display_name":"Iman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21616,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1667568509,"creation_date":1601551524,"question_id":64154425,"body_markdown":"I am trying to migrate to java 11 and jakarta. I need to create java classes from XSD Files as I did in Java EE. I have changed all jaxb imports into jakarta. But I can not make jaxb2 to create classes with jakarta namspace instead of jaxb.\r\nIf I add no dependencies to the plugin part then the class will be created with javax namspace, which I do not need and the imports can not be found anyway with Java error: `package javax.xml.bind.annotation does not exist.`\r\nThe generated class is:\r\n\r\n    package org.ttt.raw.reporting.core.fussnote;\r\n    import javax.xml.bind.annotation.XmlAccessType; // I need to have jakarta.xml.bind ... here!\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    /**\r\n    \r\n        Java-Klasse f&#252;r FussnoteType complex type.\r\n    \r\n        Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\r\n    \r\n        &lt;complexType name=&quot;FussnoteType&quot;&gt;\r\n        &lt;complexContent&gt;\r\n    \r\n        &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n    \r\n          &amp;lt;sequence&amp;gt;\r\n    \r\n            &amp;lt;element name=&quot;FussnoteNummer&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\r\n    \r\n            &amp;lt;element name=&quot;FussnoteText&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\r\n    \r\n          &amp;lt;/sequence&amp;gt;\r\n    \r\n        &amp;lt;/restriction&amp;gt;\r\n    \r\n        &lt;/complexContent&gt;\r\n        &lt;/complexType&gt;\r\n    \r\n    */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;FussnoteType&quot;, propOrder = {\r\n    &quot;fussnoteNummer&quot;,\r\n    &quot;fussnoteText&quot;\r\n    })\r\n    public class FussnoteType {\r\n    \r\n    @XmlElement(name = &quot;FussnoteNummer&quot;, required = true)\r\n    protected String fussnoteNummer;\r\n    @XmlElement(name = &quot;FussnoteText&quot;, required = true)\r\n    protected String fussnoteText;\r\n    \r\n    /**\r\n     * Ruft den Wert der fussnoteNummer-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public String getFussnoteNummer() {\r\n        return fussnoteNummer;\r\n    }\r\n    \r\n    /**\r\n     * Legt den Wert der fussnoteNummer-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public void setFussnoteNummer(String value) {\r\n        this.fussnoteNummer = value;\r\n    }\r\n    \r\n    /**\r\n     * Ruft den Wert der fussnoteText-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public String getFussnoteText() {\r\n        return fussnoteText;\r\n    }\r\n    \r\n    /**\r\n     * Legt den Wert der fussnoteText-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link String }\r\n     *     \r\n     */\r\n    public void setFussnoteText(String value) {\r\n        this.fussnoteText = value;\r\n    }\r\n    \r\n    }\r\n\r\nIf I add `jakarta.xml.bind` then the FussnoteType class will not be generated at all an I get these errors:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project raw-reporting-core: A Plug-in could not be loaded: &quot;java.util.ServiceConfigurationError: com.sun.tools.xjc.Plugin: com.sun.tools.xjc.addon.accessors.PluginImpl Unable to get public no-arg constructor\r\n    [ERROR] at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:581)\r\n    [ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:672)\r\n    [ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1232)\r\n    [ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1264)\r\n    [ERROR] at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1299)\r\n    [ERROR] at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1384)\r\n    [ERROR] at com.sun.tools.xjc.Options.findServices(Options.java:979)\r\n    [ERROR] at com.sun.tools.xjc.Options.getAllPlugins(Options.java:355)\r\n    [ERROR] at com.sun.tools.xjc.Options.parseArgument(Options.java:694)\r\n    [ERROR] at com.sun.tools.xjc.Driver$OptionsEx.parseArgument(Driver.java:502)\r\n    [ERROR] at com.sun.tools.xjc.Options.parseArguments(Options.java:827)\r\n    [ERROR] at com.sun.tools.xjc.Driver.run(Driver.java:231)\r\n    [ERROR] at org.codehaus.mojo.jaxb2.javageneration.AbstractJavaGeneratorMojo.performExecution(AbstractJavaGeneratorMojo.java:475)\r\n    [ERROR] at org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:337)\r\n    [ERROR] at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    [ERROR] at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    [ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    [ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    [ERROR] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    [ERROR] at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    [ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [ERROR] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR] at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    [ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    [ERROR] at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    [ERROR] Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlAccessType\r\n    [ERROR] at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    [ERROR] at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n    [ERROR] at java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n    [ERROR] at java.base/java.lang.Class.getConstructor(Class.java:2151)\r\n    [ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:659)\r\n    [ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:656)\r\n    [ERROR] at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    [ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:667)\r\n    [ERROR] ... 35 more\r\n    [ERROR] Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlAccessType\r\n    [ERROR] at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    [ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    [ERROR] ... 43 more\r\n\r\nThe pom is:\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;parent-baw-reporting&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${revision}&lt;/version&gt;\r\n    \t&lt;relativePath&gt;../parent-baw-reporting&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;artifactId&gt;baw-reporting-core&lt;/artifactId&gt;\r\n    &lt;name&gt;RAW-Reporting-Core&lt;/name&gt;\r\n    &lt;description&gt;\r\n    \t- Technisches Modul\r\n    \t- Die technische Implementierung des Reportings\r\n    \t- Keine Fachlichkeit!\r\n    &lt;/description&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-config-service&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;baw-results-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ttt.swaw.pl&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;swaw-pl&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- API, java.xml.bind module --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;!-- Tests --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.jimfs&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jimfs&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;!-- @see http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/example_xjc_basic.html --&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t&lt;source&gt;src/main/resources/reports/core/fussnote/xsd/fussnote.xsd&lt;/source&gt;\r\n    \t\t\t\t&lt;/sources&gt;\r\n    \t\t\t\t&lt;packageName&gt;org.ttt.baw.reporting.core.fussnote&lt;/packageName&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n    \t\t\t\t&lt;xsdPathWithinArtifact&gt;.&lt;/xsdPathWithinArtifact&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"jaxb2-maven-plugin Jakarta and java 11","body":"<p>I am trying to migrate to java 11 and jakarta. I need to create java classes from XSD Files as I did in Java EE. I have changed all jaxb imports into jakarta. But I can not make jaxb2 to create classes with jakarta namspace instead of jaxb.\nIf I add no dependencies to the plugin part then the class will be created with javax namspace, which I do not need and the imports can not be found anyway with Java error: <code>package javax.xml.bind.annotation does not exist.</code>\nThe generated class is:</p>\n<pre><code>package org.ttt.raw.reporting.core.fussnote;\nimport javax.xml.bind.annotation.XmlAccessType; // I need to have jakarta.xml.bind ... here!\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n/**\n\n    Java-Klasse für FussnoteType complex type.\n\n    Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\n\n    &lt;complexType name=&quot;FussnoteType&quot;&gt;\n    &lt;complexContent&gt;\n\n    &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n\n      &amp;lt;sequence&amp;gt;\n\n        &amp;lt;element name=&quot;FussnoteNummer&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\n\n        &amp;lt;element name=&quot;FussnoteText&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot;/&amp;gt;\n\n      &amp;lt;/sequence&amp;gt;\n\n    &amp;lt;/restriction&amp;gt;\n\n    &lt;/complexContent&gt;\n    &lt;/complexType&gt;\n\n*/\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;FussnoteType&quot;, propOrder = {\n&quot;fussnoteNummer&quot;,\n&quot;fussnoteText&quot;\n})\npublic class FussnoteType {\n\n@XmlElement(name = &quot;FussnoteNummer&quot;, required = true)\nprotected String fussnoteNummer;\n@XmlElement(name = &quot;FussnoteText&quot;, required = true)\nprotected String fussnoteText;\n\n/**\n * Ruft den Wert der fussnoteNummer-Eigenschaft ab.\n * \n * @return\n *     possible object is\n *     {@link String }\n *     \n */\npublic String getFussnoteNummer() {\n    return fussnoteNummer;\n}\n\n/**\n * Legt den Wert der fussnoteNummer-Eigenschaft fest.\n * \n * @param value\n *     allowed object is\n *     {@link String }\n *     \n */\npublic void setFussnoteNummer(String value) {\n    this.fussnoteNummer = value;\n}\n\n/**\n * Ruft den Wert der fussnoteText-Eigenschaft ab.\n * \n * @return\n *     possible object is\n *     {@link String }\n *     \n */\npublic String getFussnoteText() {\n    return fussnoteText;\n}\n\n/**\n * Legt den Wert der fussnoteText-Eigenschaft fest.\n * \n * @param value\n *     allowed object is\n *     {@link String }\n *     \n */\npublic void setFussnoteText(String value) {\n    this.fussnoteText = value;\n}\n\n}\n</code></pre>\n<p>If I add <code>jakarta.xml.bind</code> then the FussnoteType class will not be generated at all an I get these errors:</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project raw-reporting-core: A Plug-in could not be loaded: &quot;java.util.ServiceConfigurationError: com.sun.tools.xjc.Plugin: com.sun.tools.xjc.addon.accessors.PluginImpl Unable to get public no-arg constructor\n[ERROR] at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:581)\n[ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:672)\n[ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1232)\n[ERROR] at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1264)\n[ERROR] at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1299)\n[ERROR] at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1384)\n[ERROR] at com.sun.tools.xjc.Options.findServices(Options.java:979)\n[ERROR] at com.sun.tools.xjc.Options.getAllPlugins(Options.java:355)\n[ERROR] at com.sun.tools.xjc.Options.parseArgument(Options.java:694)\n[ERROR] at com.sun.tools.xjc.Driver$OptionsEx.parseArgument(Driver.java:502)\n[ERROR] at com.sun.tools.xjc.Options.parseArguments(Options.java:827)\n[ERROR] at com.sun.tools.xjc.Driver.run(Driver.java:231)\n[ERROR] at org.codehaus.mojo.jaxb2.javageneration.AbstractJavaGeneratorMojo.performExecution(AbstractJavaGeneratorMojo.java:475)\n[ERROR] at org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:337)\n[ERROR] at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR] at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n[ERROR] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n[ERROR] at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n[ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[ERROR] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR] at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR] at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\n[ERROR] Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlAccessType\n[ERROR] at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n[ERROR] at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n[ERROR] at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n[ERROR] at java.base/java.lang.Class.getConstructor(Class.java:2151)\n[ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:659)\n[ERROR] at java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:656)\n[ERROR] at java.base/java.security.AccessController.doPrivileged(Native Method)\n[ERROR] at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:667)\n[ERROR] ... 35 more\n[ERROR] Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlAccessType\n[ERROR] at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n[ERROR] at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n[ERROR] ... 43 more\n</code></pre>\n<p>The pom is:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-baw-reporting&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;relativePath&gt;../parent-baw-reporting&lt;/relativePath&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;baw-reporting-core&lt;/artifactId&gt;\n&lt;name&gt;RAW-Reporting-Core&lt;/name&gt;\n&lt;description&gt;\n    - Technisches Modul\n    - Die technische Implementierung des Reportings\n    - Keine Fachlichkeit!\n&lt;/description&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-config-service&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-io&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.baw.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;baw-results-core&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ttt.swaw.pl&lt;/groupId&gt;\n        &lt;artifactId&gt;swaw-pl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- API, java.xml.bind module --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Tests --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.jimfs&lt;/groupId&gt;\n        &lt;artifactId&gt;jimfs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- @see http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.2/example_xjc_basic.html --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/reports/core/fussnote/xsd/fussnote.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;packageName&gt;org.ttt.baw.reporting.core.fussnote&lt;/packageName&gt;\n                &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;xsdPathWithinArtifact&gt;.&lt;/xsdPathWithinArtifact&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n            &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"score":1,"creation_date":1667565463,"post_id":74317156,"comment_id":131202220,"body_markdown":"Set result in `onResponse(...)`","body":"Set result in <code>onResponse(...)</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667565779,"post_id":74317156,"comment_id":131202334,"body_markdown":"`After that i close the secondary activity` Pretty unclear when you actually do that. You did not tell and there is no code. We cannot see when and where you return data. But as said by Onik you should do all in onResponse().","body":"<code>After that i close the secondary activity</code> Pretty unclear when you actually do that. You did not tell and there is no code. We cannot see when and where you return data. But as said by Onik you should do all in onResponse()."},{"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"score":0,"creation_date":1667565887,"post_id":74317156,"comment_id":131202376,"body_markdown":"@blackapps  this is  how i close the activity.\nIntent resultIntent = new Intent();\nresultIntent.putExtra(&quot;obj&quot;, obj);\nsetResult(1, resultIntent);","body":"@blackapps  this is  how i close the activity. Intent resultIntent = new Intent(); resultIntent.putExtra(&quot;obj&quot;, obj); setResult(1, resultIntent);"}],"answers":[{"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667568253,"creation_date":1667568253,"answer_id":74317748,"question_id":74317156,"body_markdown":"You can use `java.util.concurrent.CountDownLatch`:\r\n\r\n    CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    RequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\r\n    Request request = new Request.Builder().url(myURL).post(body).build();\r\n    client.newCall(request).enqueue(new Callback() {\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n            System.out.println(e);\r\n            //Add line here\r\n            latch.countDown();\r\n        }\r\n\r\n        @Override\r\n        public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n            System.out.println(response.body().string());\r\n            //Add line here\r\n            latch.countDown();\r\n        }\r\n\r\n    });\r\n\r\n    try {\r\n        //Await method will stop main thread until calling Latch.countDown();\r\n        latch.await(10, //Write here timeout you want\r\n                TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    //Do your stuff with UI here","title":"Android use OkHttpClient on main thread","body":"<p>You can use <code>java.util.concurrent.CountDownLatch</code>:</p>\n<pre><code>CountDownLatch latch = new CountDownLatch(1);\n\nOkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\nRequest request = new Request.Builder().url(myURL).post(body).build();\nclient.newCall(request).enqueue(new Callback() {\n\n    @Override\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n        System.out.println(e);\n        //Add line here\n        latch.countDown();\n    }\n\n    @Override\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n        System.out.println(response.body().string());\n        //Add line here\n        latch.countDown();\n    }\n\n});\n\ntry {\n    //Await method will stop main thread until calling Latch.countDown();\n    latch.await(10, //Write here timeout you want\n            TimeUnit.SECONDS);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n\n//Do your stuff with UI here\n</code></pre>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74317748,"answer_count":1,"score":0,"last_activity_date":1667568253,"creation_date":1667565247,"question_id":74317156,"body_markdown":"In my main activity, i am opening a new activity like this:\r\n\r\n```\r\nsomeActivityResultLauncher.launch(myIntent);\r\n```\r\n\r\nIn my secondary activity i am invoking a REST api with like this:\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient();\r\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\r\nRequest request = new Request.Builder().url(myURL).post(body).build();\r\nclient.newCall(request).enqueue(new Callback() {\r\n    @Override\r\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n        System.out.println(e);\r\n    }\r\n\r\n    @Override\r\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n        System.out.println(response.body().string());\r\n    }\r\n});\r\n```\r\n\r\nAfter that i close the secondary activity returning an object with data i retrieved from the REST api to the main activity.\r\n\r\nThe problem is that the HTTP call executes on the seperate thread and the main thread is executed before the HTTP call, which means the secondary activity returns the object before it is filled with data.\r\n\r\nI tried execute() in order to wait for the HTTP response before returning to the main activity, but this generates an android.os.NetworkOnMainThreadException. \r\n\r\nHow can i force it to wait for a response before returning to the main activity?","title":"Android use OkHttpClient on main thread","body":"<p>In my main activity, i am opening a new activity like this:</p>\n<pre><code>someActivityResultLauncher.launch(myIntent);\n</code></pre>\n<p>In my secondary activity i am invoking a REST api with like this:</p>\n<pre><code>OkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(MediaType.parse(&quot;application/json; charset=utf-8&quot;), someRequest.toString());\nRequest request = new Request.Builder().url(myURL).post(body).build();\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n        System.out.println(e);\n    }\n\n    @Override\n    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n</code></pre>\n<p>After that i close the secondary activity returning an object with data i retrieved from the REST api to the main activity.</p>\n<p>The problem is that the HTTP call executes on the seperate thread and the main thread is executed before the HTTP call, which means the secondary activity returns the object before it is filled with data.</p>\n<p>I tried execute() in order to wait for the HTTP response before returning to the main activity, but this generates an android.os.NetworkOnMainThreadException.</p>\n<p>How can i force it to wait for a response before returning to the main activity?</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667568495,"post_id":74317357,"comment_id":131203275,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667571919,"post_id":74317357,"comment_id":131204663,"body_markdown":"(1-) *JLabel doesnt change its size or alignment.* - that is not a requirement. What do you expect to happen? The size of the label is the size of the text. How should the size change? Do you want the text to be bigger? Again what kind of alignment are you expecting. Should it be left/right/center aligned? Any question should state what you see and what you expect to see. Also, why are you using &quot;setAlignmentX&quot;. You stated vertical alignment works when you use &quot;setVertcalAlignment&quot;, so why wouldn&#39;t you use &quot;setHorizontalAlignment&quot;?","body":"(1-) <i>JLabel doesnt change its size or alignment.</i> - that is not a requirement. What do you expect to happen? The size of the label is the size of the text. How should the size change? Do you want the text to be bigger? Again what kind of alignment are you expecting. Should it be left/right/center aligned? Any question should state what you see and what you expect to see. Also, why are you using &quot;setAlignmentX&quot;. You stated vertical alignment works when you use &quot;setVertcalAlignment&quot;, so why wouldn&#39;t you use &quot;setHorizontalAlignment&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667568069,"creation_date":1667568069,"answer_id":74317716,"question_id":74317357,"body_markdown":"Add this line to your code: `g.setLayout(new FlowLayout());`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can read more on Layouts and how to use them [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fzLel.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"Jlabel size and alignment wont change","body":"<p>Add this line to your code: <code>g.setLayout(new FlowLayout());</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/fzLel.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzLel.png\" alt=\"enter image description here\" /></a></p>\n<p>You can read more on Layouts and how to use them <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"display_name":"user20137453"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74317716,"answer_count":1,"score":-2,"last_activity_date":1667568069,"creation_date":1667566339,"question_id":74317357,"body_markdown":"I am trying to make a rock paper scissors game for school and the title JLabel doesnt change its size or alignment. No matter what i put in `title.setAlignmentX();` it doesnt change but the vertical alignment works fine. \r\n\r\n\r\n \r\n       public class Game extends JFrame implements MouseListener, ActionListener,KeyListener {\r\n       public static void main(String[] args) {\r\n             Game g = new Game();\r\n\r\n\r\n        //frame\r\n        JLabel title = new JLabel(&quot;ROCK PAPER SCISSORS&quot;);\r\n        title.setPreferredSize(new Dimension(300,150));\r\n        title.setAlignmentX(400);\r\n        title.setVerticalAlignment(SwingConstants.TOP);\r\n        title.setForeground(Color.black);\r\n        g.setTitle(&quot;rockpaperscissors&quot;);\r\n        g.setVisible(true);\r\n        g.setResizable(false);\r\n        g.setBounds(0,0,800,800);\r\n        g.getContentPane().setBackground(Color.green);\r\n        g.add(title);","title":"Jlabel size and alignment wont change","body":"<p>I am trying to make a rock paper scissors game for school and the title JLabel doesnt change its size or alignment. No matter what i put in <code>title.setAlignmentX();</code> it doesnt change but the vertical alignment works fine.</p>\n<pre><code>   public class Game extends JFrame implements MouseListener, ActionListener,KeyListener {\n   public static void main(String[] args) {\n         Game g = new Game();\n\n\n    //frame\n    JLabel title = new JLabel(&quot;ROCK PAPER SCISSORS&quot;);\n    title.setPreferredSize(new Dimension(300,150));\n    title.setAlignmentX(400);\n    title.setVerticalAlignment(SwingConstants.TOP);\n    title.setForeground(Color.black);\n    g.setTitle(&quot;rockpaperscissors&quot;);\n    g.setVisible(true);\n    g.setResizable(false);\n    g.setBounds(0,0,800,800);\n    g.getContentPane().setBackground(Color.green);\n    g.add(title);\n</code></pre>\n"},{"tags":["java","scala","playframework","sbt","sbt-assembly"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1667590946,"post_id":74317640,"comment_id":131210994,"body_markdown":"What do you mean disable compiling ?! Code have to be compiled if you want to run it afterwards.","body":"What do you mean disable compiling ?! Code have to be compiled if you want to run it afterwards."},{"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"score":0,"creation_date":1667594115,"post_id":74317640,"comment_id":131211892,"body_markdown":"@Ga&#235;lJ for example if I want to build two jar files with a source code, but to prevent compiling extra source code, I want to pass a flag or a config in compile time and disable building some section of code.","body":"@Ga&#235;lJ for example if I want to build two jar files with a source code, but to prevent compiling extra source code, I want to pass a flag or a config in compile time and disable building some section of code."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1667598209,"post_id":74317640,"comment_id":131212847,"body_markdown":"Look at SBT submodules then. Each submodule will produce a JAR.","body":"Look at SBT submodules then. Each submodule will produce a JAR."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670458138,"post_id":74317640,"comment_id":131883191,"body_markdown":"Can you comment out the section of code that shouldn&#39;t be compiled?","body":"Can you comment out the section of code that shouldn&#39;t be compiled?"},{"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"score":0,"creation_date":1674815678,"post_id":74317640,"comment_id":132798167,"body_markdown":"@DmytroMitin Is it possible to comment section of codes in compile time automatically?","body":"@DmytroMitin Is it possible to comment section of codes in compile time automatically?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1674817444,"post_id":74317640,"comment_id":132798646,"body_markdown":"@moeinzargarzadeh https://stackoverflow.com/questions/61796570/scala-conditional-compilation","body":"@moeinzargarzadeh <a href=\"https://stackoverflow.com/questions/61796570/scala-conditional-compilation\" title=\"scala conditional compilation\">stackoverflow.com/questions/61796570/&hellip;</a>"}],"owner":{"account_id":14542791,"reputation":35,"user_id":10503950,"display_name":"moein zargarzadeh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667567747,"creation_date":1667567747,"question_id":74317640,"body_markdown":"I want to disable compiling some section code and system jobs in the Scala Play Framework for example pass a flag at the assembly time jar file to disable compiling some sections.","title":"How to disable compiling some section of code in Scala Play Framework?","body":"<p>I want to disable compiling some section code and system jobs in the Scala Play Framework for example pass a flag at the assembly time jar file to disable compiling some sections.</p>\n"},{"tags":["java","ubuntu","ssh"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667551559,"post_id":74313911,"comment_id":131197469,"body_markdown":"Did you use the `-X` option?","body":"Did you use the <code>-X</code> option?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667557113,"post_id":74313911,"comment_id":131199321,"body_markdown":"You mean &quot;java &lt;program&gt; -X&quot;? Same error","body":"You mean &quot;java &lt;program&gt; -X&quot;? Same error"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667557457,"post_id":74313911,"comment_id":131199432,"body_markdown":"No, I mean `ssh -X hostname java -cp somepath x.y.z.Foo` Of course, you need X running on the client too","body":"No, I mean <code>ssh -X hostname java -cp somepath x.y.z.Foo</code> Of course, you need X running on the client too"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667558120,"post_id":74313911,"comment_id":131199659,"body_markdown":"Same error. But im getting an error when starting local: Failed to load module „canberra-gtk-module“ and „WARNING: lavapipe is not a conformant vulkan implementation, testing use only. Opening in existing browser session.“ But it works","body":"Same error. But im getting an error when starting local: Failed to load module „canberra-gtk-module“ and „WARNING: lavapipe is not a conformant vulkan implementation, testing use only. Opening in existing browser session.“ But it works"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667558342,"post_id":74313911,"comment_id":131199737,"body_markdown":"That&#39;s quite a bit ask. You&#39;re hoping a remote java app is going to open the remote browser then open a link?","body":"That&#39;s quite a bit ask. You&#39;re hoping a remote java app is going to open the remote browser then open a link?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667558825,"post_id":74313911,"comment_id":131199918,"body_markdown":"I sent via the client, which is on my pc, a string over socket with the link to the server, who should open it in his default browser. Code https://hastebin.com/arojoxener.swift","body":"I sent via the client, which is on my pc, a string over socket with the link to the server, who should open it in his default browser. Code <a href=\"https://hastebin.com/arojoxener.swift\" rel=\"nofollow noreferrer\">hastebin.com/arojoxener.swift</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667560533,"post_id":74313911,"comment_id":131200546,"body_markdown":"The first thing I&#39;d do is to run the server and try a client from the same host","body":"The first thing I&#39;d do is to run the server and try a client from the same host"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667561631,"post_id":74313911,"comment_id":131200933,"body_markdown":"As I said, It works when I had the server and client local","body":"As I said, It works when I had the server and client local"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667562504,"post_id":74313911,"comment_id":131201233,"body_markdown":"Are you expecting to see the browser on the client?","body":"Are you expecting to see the browser on the client?"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667562796,"post_id":74313911,"comment_id":131201324,"body_markdown":"No, I just should open the browser on the host","body":"No, I just should open the browser on the host"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667562886,"post_id":74313911,"comment_id":131201353,"body_markdown":"In that case you actually *don&#39;t* want `-X`. I tried to test but it refused to BROWSE when I did so","body":"In that case you actually <i>don&#39;t</i> want <code>-X</code>. I tried to test but it refused to BROWSE when I did so"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667563268,"post_id":74313911,"comment_id":131201472,"body_markdown":"OK, just tested it again the other way around. It worked","body":"OK, just tested it again the other way around. It worked"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667564394,"post_id":74313911,"comment_id":131201846,"body_markdown":"https://imgur.com/a/IVcDvuT","body":"<a href=\"https://imgur.com/a/IVcDvuT\" rel=\"nofollow noreferrer\">imgur.com/a/IVcDvuT</a>"},{"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"score":0,"creation_date":1667565355,"post_id":74313911,"comment_id":131202182,"body_markdown":"Other way around?","body":"Other way around?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667566646,"post_id":74313911,"comment_id":131202616,"body_markdown":"I just switched around the machines I used client-server-wise and it worked","body":"I just switched around the machines I used client-server-wise and it worked"}],"answers":[{"tags":[],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667567412,"creation_date":1667567412,"answer_id":74317574,"question_id":74313911,"body_markdown":"I know now what the problem is. SSH makes a new session without a gui, even if you connected with Remote Desktop. And you cant open a browser in a session with no gui.\r\n\r\nThe solution I have is, that I connect via remote desktop to the server and open my program in the terminal. My program has now a session with gui and the browser opens.","title":"Exception in thread &quot;main&quot; java.awt.HeadlessException: No X11 DISPLAY variable was set, when starting java program per ssh","body":"<p>I know now what the problem is. SSH makes a new session without a gui, even if you connected with Remote Desktop. And you cant open a browser in a session with no gui.</p>\n<p>The solution I have is, that I connect via remote desktop to the server and open my program in the terminal. My program has now a session with gui and the browser opens.</p>\n"}],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74317574,"answer_count":1,"score":1,"last_activity_date":1667567412,"creation_date":1667549444,"question_id":74313911,"body_markdown":"My java program should open the default browser and open a link. When I local start the java program on my ubuntu server it works just fine, but when I start the program per ssh it gives me this error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.awt.HeadlessException: \r\nNo X11 DISPLAY variable was set,\r\nbut this program performed an operation which requires it.\r\n        at java.desktop/java.awt.Desktop.getDesktop(Desktop.java:302)\r\n        at Server.openURL(Server.java:69)\r\n        at Server.main(Server.java:58)\r\n```\r\n\r\nMaybe when starting per ssh it uses a headless version of java?\r\nThanks!\r\n\r\n-------------------------------------------------------------------","title":"Exception in thread &quot;main&quot; java.awt.HeadlessException: No X11 DISPLAY variable was set, when starting java program per ssh","body":"<p>My java program should open the default browser and open a link. When I local start the java program on my ubuntu server it works just fine, but when I start the program per ssh it gives me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException: \nNo X11 DISPLAY variable was set,\nbut this program performed an operation which requires it.\n        at java.desktop/java.awt.Desktop.getDesktop(Desktop.java:302)\n        at Server.openURL(Server.java:69)\n        at Server.main(Server.java:58)\n</code></pre>\n<p>Maybe when starting per ssh it uses a headless version of java?\nThanks!</p>\n<hr />\n"},{"tags":["java","maven","class","intellij-idea","jar"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1667567115,"post_id":74317492,"comment_id":131202760,"body_markdown":"Getting `.java` files back from `.class` files is called decompiling. You can do it, but you won&#39;t get &quot;the original .java&quot; files back. If you&#39;re lucky, you&#39;ll get something that will end up compiling back into the same binary, but the reconstruction is not perfect. And since you tagged this as intellij-idea for some reason: IDEA comes with a decompiler built in, IIRC, so opening the jar in there should allow you to few the decompilation result.","body":"Getting <code>.java</code> files back from <code>.class</code> files is called decompiling. You can do it, but you won&#39;t get &quot;the original .java&quot; files back. If you&#39;re lucky, you&#39;ll get something that will end up compiling back into the same binary, but the reconstruction is not perfect. And since you tagged this as intellij-idea for some reason: IDEA comes with a decompiler built in, IIRC, so opening the jar in there should allow you to few the decompilation result."},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667567707,"post_id":74317492,"comment_id":131202976,"body_markdown":"@JoachimSauer - if I&#39;m seeing a hard-coded date in the clearcase code, would the decompiled file have the code showing if the date is hard-coded?","body":"@JoachimSauer - if I&#39;m seeing a hard-coded date in the clearcase code, would the decompiled file have the code showing if the date is hard-coded?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1667567944,"post_id":74317492,"comment_id":131203076,"body_markdown":"Yes, *usually* the decompiled code will be effectively equivalent, but it will be missing niceties like local variable names, comments and formatting. If the jar file has been intentionally obfuscated, then the decompilation result could be worse (or not get produced at all).","body":"Yes, <i>usually</i> the decompiled code will be effectively equivalent, but it will be missing niceties like local variable names, comments and formatting. If the jar file has been intentionally obfuscated, then the decompilation result could be worse (or not get produced at all)."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1667569568,"post_id":74317492,"comment_id":131203690,"body_markdown":"Technically you will never get the original java source because things like comments etc. and local variable names etc. can not be decompiled. You will get a source file which is equivalent in function ( I can remenber there had been some issues with that)... furthermore why using such old JDK version ?","body":"Technically you will never get the original java source because things like comments etc. and local variable names etc. can not be decompiled. You will get a source file which is equivalent in function ( I can remenber there had been some issues with that)... furthermore why using such old JDK version ?"},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667580936,"post_id":74317492,"comment_id":131208141,"body_markdown":"@JoachimSauer - thank you for this info.  I searched for videos on how to convert .class file to .java file, and found a video that referred to javadecompilers.com.  I used this to upload my class file and it converted it to a .java source code.  I noticed that the date is hard-coded to 2018 in this version too, which is what I needed to know.  Thank you so much for giving me enough info to search and find out how to do this!","body":"@JoachimSauer - thank you for this info.  I searched for videos on how to convert .class file to .java file, and found a video that referred to javadecompilers.com.  I used this to upload my class file and it converted it to a .java source code.  I noticed that the date is hard-coded to 2018 in this version too, which is what I needed to know.  Thank you so much for giving me enough info to search and find out how to do this!"},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1667581018,"post_id":74317492,"comment_id":131208171,"body_markdown":"@khmarbaise -  we are tied to an old java version because of what is running on our server.  The programs running there were built with the older java version. I tried compiling mine with a newer java version a few months ago, and once I try running it on the server, it gets an error about using the wrong java version.","body":"@khmarbaise -  we are tied to an old java version because of what is running on our server.  The programs running there were built with the older java version. I tried compiling mine with a newer java version a few months ago, and once I try running it on the server, it gets an error about using the wrong java version."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667581460,"post_id":74317492,"comment_id":131208350,"body_markdown":"What kind of servers? (Tomcat, WebSphere, JBoss etc.)? Apart from that this old version has a lot of security vulnerbilities even while running in a Server... Current version of [JDK 8](https://www.oracle.com/java/technologies/javase/8u-relnotes.html) ...even the current state of encryption parts (TLS etc.)","body":"What kind of servers? (Tomcat, WebSphere, JBoss etc.)? Apart from that this old version has a lot of security vulnerbilities even while running in a Server... Current version of <a href=\"https://www.oracle.com/java/technologies/javase/8u-relnotes.html\" rel=\"nofollow noreferrer\">JDK 8</a> ...even the current state of encryption parts (TLS etc.)"}],"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667566996,"creation_date":1667566996,"question_id":74317492,"body_markdown":"We have jar files on the server that are run on a schedule, but I don&#39;t think the code I found is matching what&#39;s on the server.  What&#39;s in clearcase does not have jar files to compare sizes/dates.  \r\n\r\nIs there a way to extract the original .java text contents from the .class files when I open the .jar file with 7-zip? The class contents have garbage in them since they are a result of compiling. Then I can compare the class contents with what I found in clearcase and see if the errors I&#39;m seeing were in the release a few years ago. The people who worked on this don&#39;t work here anymore.\r\n\r\nI&#39;m not finding what I&#39;m looking for in an internet search. It could be it&#39;s not possible. In my search, I&#39;m just finding how to unzip the jar file and see the .class files there but not the original class text contents.\r\n\r\nI&#39;m using SDK 1.8.0_2-2, SDK default 8 (lambdas etc).\r\n\r\nThank you!","title":"Is there a way to get original .java contents from .class file in compiled jar file","body":"<p>We have jar files on the server that are run on a schedule, but I don't think the code I found is matching what's on the server.  What's in clearcase does not have jar files to compare sizes/dates.</p>\n<p>Is there a way to extract the original .java text contents from the .class files when I open the .jar file with 7-zip? The class contents have garbage in them since they are a result of compiling. Then I can compare the class contents with what I found in clearcase and see if the errors I'm seeing were in the release a few years ago. The people who worked on this don't work here anymore.</p>\n<p>I'm not finding what I'm looking for in an internet search. It could be it's not possible. In my search, I'm just finding how to unzip the jar file and see the .class files there but not the original class text contents.</p>\n<p>I'm using SDK 1.8.0_2-2, SDK default 8 (lambdas etc).</p>\n<p>Thank you!</p>\n"},{"tags":["java","java-stream","collect","supplier"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1667459387,"post_id":74299142,"comment_id":131172649,"body_markdown":"Does this help: [java.util.stream.Collectors with EnumSet Stream](https://stackoverflow.com/questions/35178294/java-util-stream-collectors-with-enumset-stream)?","body":"Does this help: <a href=\"https://stackoverflow.com/questions/35178294/java-util-stream-collectors-with-enumset-stream\">java.util.stream.Collectors with EnumSet Stream</a>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1667459937,"post_id":74299142,"comment_id":131172781,"body_markdown":"How about `() -&gt; EnumSet.noneOf(ScConstraint.class)`?","body":"How about <code>() -&gt; EnumSet.noneOf(ScConstraint.class)</code>?"},{"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"score":0,"creation_date":1667460325,"post_id":74299142,"comment_id":131172868,"body_markdown":"@li: no, I get the following runtime error:\n    java.lang.ClassCastException: j$.util.stream.Stream$VivifiedWrapper cannot be cast to java.util.stream.Stream\n        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:280)","body":"@li: no, I get the following runtime error:     java.lang.ClassCastException: j$.util.stream.Stream$VivifiedWrapper cannot be cast to java.util.stream.Stream         at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipel&zwnj;&#8203;ine.java:280)"},{"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"score":0,"creation_date":1667460685,"post_id":74299142,"comment_id":131172971,"body_markdown":"@Maurice: no, same run time error","body":"@Maurice: no, same run time error"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667566648,"creation_date":1667468866,"answer_id":74300969,"question_id":74299142,"body_markdown":"The first argument of the tree-args flavor of [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) is of type [`Supplier`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html). It&#39;s a *function* which is meant to provide a mutable object, that would be used to accumulate stream elements and would be returned as the result of the stream execution.\r\n\r\nAs it was [mentioned by @MauricePerry][1] in the comments, you&#39;ve provided a value, i.e. an `EnumSet` itself, not a `Supplier` of an `EnumSet`. Therefore, you&#39;re getting a compilation error due to the mismatch of type of the argument and expected type.\r\n\r\nThe correct code can be written like this:\r\n\r\n```\r\nEnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\r\n    .filter(cstr -&gt; !s.contains(cstr.RC))\r\n    .collect(\r\n        () -&gt; EnumSet.noneOf(ScConstraint.class),\r\n        Set::add,\r\n        Set::addAll\r\n    );\r\n```\r\n\r\nAlternatively, you can make use of the [`collect()`][2] version expecting an instance of `Collector` as an argument. And as a Collector, you can provide [`toCollection()`][3] (*credits to @Holger*):\r\n\r\n```\r\nEnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\r\n    .filter(cstr -&gt; !s.contains(cstr.RC))\r\n    .collect(Collectors.toCollection(\r\n        () -&gt; EnumSet.noneOf(ScConstraint.class)\r\n    ));\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/74299142/what-is-a-proper-supplier-for-a-stream-collector-of-enumset#comment131172781_74299142\r\n\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\r\n\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toCollection(java.util.function.Supplier)","title":"what is a proper &quot;supplier&quot; for a &quot;stream.collector&quot; of EnumSet?","body":"<p>The first argument of the tree-args flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a> is of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a>. It's a <em>function</em> which is meant to provide a mutable object, that would be used to accumulate stream elements and would be returned as the result of the stream execution.</p>\n<p>As it was <a href=\"https://stackoverflow.com/questions/74299142/what-is-a-proper-supplier-for-a-stream-collector-of-enumset#comment131172781_74299142\">mentioned by @MauricePerry</a> in the comments, you've provided a value, i.e. an <code>EnumSet</code> itself, not a <code>Supplier</code> of an <code>EnumSet</code>. Therefore, you're getting a compilation error due to the mismatch of type of the argument and expected type.</p>\n<p>The correct code can be written like this:</p>\n<pre><code>EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\n    .filter(cstr -&gt; !s.contains(cstr.RC))\n    .collect(\n        () -&gt; EnumSet.noneOf(ScConstraint.class),\n        Set::add,\n        Set::addAll\n    );\n</code></pre>\n<p>Alternatively, you can make use of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> version expecting an instance of <code>Collector</code> as an argument. And as a Collector, you can provide <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toCollection(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>toCollection()</code></a> (<em>credits to @Holger</em>):</p>\n<pre><code>EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n    .flatMap(p -&gt; rowConstraints[10 * k + p].stream())\n    .filter(cstr -&gt; !s.contains(cstr.RC))\n    .collect(Collectors.toCollection(\n        () -&gt; EnumSet.noneOf(ScConstraint.class)\n    ));\n</code></pre>\n"}],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74300969,"answer_count":1,"score":1,"last_activity_date":1667566648,"creation_date":1667459164,"question_id":74299142,"body_markdown":"The following code does not compile:\r\n\r\n        HashSet&lt;Integer&gt; nlsCandidates;         // added here to help read the stream coding below\r\n        EnumSet&lt;ScConstraint&gt;[] rowConstraints; // added here to help read the stream coding below\r\n        EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\r\n            .flatMap(p -&gt; rowConstraints[10*k + p].stream())\r\n            .filter(cstr -&gt; !s.contains(cstr.RC))\r\n            .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\r\n\r\n\r\nThis is the error message:\r\n\r\n    no suitable method found for collect(EnumSet&lt;ScConstraint&gt;,(c,cstr)-&gt;[...]cstr),EnumSet::addAll)\r\n            .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\r\n            ^\r\n    method Stream.&lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super ScConstraint&gt;,BiConsumer&lt;R#1,R#1&gt;) is not applicable\r\n      (cannot infer type-variable(s) R#1\r\n        (argument mismatch; no instance(s) of type variable(s) E exist so that EnumSet&lt;E&gt; conforms to Supplier&lt;R#1&gt;))\r\n\r\n    method Stream.&lt;R#2,A&gt;collect(Collector&lt;? super ScConstraint,A,R#2&gt;) is not applicable\r\n      (cannot infer type-variable(s) R#2,A\r\n        (actual and formal argument lists differ in length))\r\n  \r\n    where R#1,T,E,R#2,A are type-variables:\r\n    R#1 extends Object declared in method &lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super T&gt;,BiConsumer&lt;R#1,R#1&gt;)\r\n    T extends Object declared in interface Stream\r\n    E extends Enum&lt;E&gt; declared in method &lt;E&gt;noneOf(Class&lt;E&gt;)\r\n    R#2 extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\r\n    A extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\r\n\r\n\r\nI need the `Supplier` to return an empty EnumSet. How can I achieve that?","title":"what is a proper &quot;supplier&quot; for a &quot;stream.collector&quot; of EnumSet?","body":"<p>The following code does not compile:</p>\n<pre><code>    HashSet&lt;Integer&gt; nlsCandidates;         // added here to help read the stream coding below\n    EnumSet&lt;ScConstraint&gt;[] rowConstraints; // added here to help read the stream coding below\n    EnumSet&lt;ScConstraint&gt; tbd = nlsCandidates.stream()\n        .flatMap(p -&gt; rowConstraints[10*k + p].stream())\n        .filter(cstr -&gt; !s.contains(cstr.RC))\n        .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\n</code></pre>\n<p>This is the error message:</p>\n<pre><code>no suitable method found for collect(EnumSet&lt;ScConstraint&gt;,(c,cstr)-&gt;[...]cstr),EnumSet::addAll)\n        .collect(EnumSet.noneOf(ScConstraint.class), (c, cstr) -&gt; c.add(cstr), EnumSet::addAll);\n        ^\nmethod Stream.&lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super ScConstraint&gt;,BiConsumer&lt;R#1,R#1&gt;) is not applicable\n  (cannot infer type-variable(s) R#1\n    (argument mismatch; no instance(s) of type variable(s) E exist so that EnumSet&lt;E&gt; conforms to Supplier&lt;R#1&gt;))\n\nmethod Stream.&lt;R#2,A&gt;collect(Collector&lt;? super ScConstraint,A,R#2&gt;) is not applicable\n  (cannot infer type-variable(s) R#2,A\n    (actual and formal argument lists differ in length))\n\nwhere R#1,T,E,R#2,A are type-variables:\nR#1 extends Object declared in method &lt;R#1&gt;collect(Supplier&lt;R#1&gt;,BiConsumer&lt;R#1,? super T&gt;,BiConsumer&lt;R#1,R#1&gt;)\nT extends Object declared in interface Stream\nE extends Enum&lt;E&gt; declared in method &lt;E&gt;noneOf(Class&lt;E&gt;)\nR#2 extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\nA extends Object declared in method &lt;R#2,A&gt;collect(Collector&lt;? super T,A,R#2&gt;)\n</code></pre>\n<p>I need the <code>Supplier</code> to return an empty EnumSet. How can I achieve that?</p>\n"},{"tags":["java","mongodb","spring-boot","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":24615818,"reputation":173,"user_id":18516849,"display_name":"ypdev19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667488405,"creation_date":1667488405,"answer_id":74305365,"question_id":74304250,"body_markdown":"With `MongoRepository` you could do something like:\r\n\r\n    public Optional&lt;YourObject&gt; getByModelId(theVariableWithTheValue) {\r\n    \tQuery query = new Query().addCriteria(Criteria.where(&quot;models.id&quot;).is(theVariableWithTheValue));\r\n    \tList&lt;YourObject&gt; result = mongoTemplate.find(query, YourObject.class);\r\n    \r\n    \treturn result.isEmpty() ? Optional.empty() : Optional.of(result.get(0));\r\n    }","title":"Nested Select Query With Mongo Repository","body":"<p>With <code>MongoRepository</code> you could do something like:</p>\n<pre><code>public Optional&lt;YourObject&gt; getByModelId(theVariableWithTheValue) {\n    Query query = new Query().addCriteria(Criteria.where(&quot;models.id&quot;).is(theVariableWithTheValue));\n    List&lt;YourObject&gt; result = mongoTemplate.find(query, YourObject.class);\n\n    return result.isEmpty() ? Optional.empty() : Optional.of(result.get(0));\n}\n</code></pre>\n"}],"owner":{"account_id":24950425,"reputation":49,"user_id":18815294,"display_name":"Khushal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74305365,"answer_count":1,"score":0,"last_activity_date":1667566502,"creation_date":1667483621,"question_id":74304250,"body_markdown":"We use SpringBoot with mongo and have a document like this:\r\n```\r\n[{\r\n  &quot;id&quot;: &quot;classicId&quot;,\r\n  &quot;name&quot;: &quot;classicName&quot;,\r\n  &quot;models&quot;: [\r\n   {\r\n      &quot;id&quot;: &quot;AnotherId&quot;,\r\n      &quot;name&quot;: &quot;AnotherSomeName&quot;\r\n    },\r\n     {\r\n      &quot;id&quot;: &quot;RequiredId&quot;,\r\n      &quot;name&quot;: &quot;SomeName&quot;\r\n    }\r\n  ]\r\n}]\r\n```\r\n\r\nThe id in the array models is unique. \r\n\r\nThe input could be just any id in the models array. So the user will just give us the value &quot;AnotherId&quot; in order to find the document.\r\n\r\nHow can we do that in java using the mongo template or mongo repository?\r\n","title":"Nested Select Query With Mongo Repository","body":"<p>We use SpringBoot with mongo and have a document like this:</p>\n<pre><code>[{\n  &quot;id&quot;: &quot;classicId&quot;,\n  &quot;name&quot;: &quot;classicName&quot;,\n  &quot;models&quot;: [\n   {\n      &quot;id&quot;: &quot;AnotherId&quot;,\n      &quot;name&quot;: &quot;AnotherSomeName&quot;\n    },\n     {\n      &quot;id&quot;: &quot;RequiredId&quot;,\n      &quot;name&quot;: &quot;SomeName&quot;\n    }\n  ]\n}]\n</code></pre>\n<p>The id in the array models is unique.</p>\n<p>The input could be just any id in the models array. So the user will just give us the value &quot;AnotherId&quot; in order to find the document.</p>\n<p>How can we do that in java using the mongo template or mongo repository?</p>\n"},{"tags":["java","android","root","rooted-device"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1570113315,"post_id":58221251,"comment_id":102818527,"body_markdown":"That&#39;s basically like asking if we are living in the Matrix. You may find a way to detect that your app runs on a rooted device, but the system may lie to your app tomorrow.","body":"That&#39;s basically like asking if we are living in the Matrix. You may find a way to detect that your app runs on a rooted device, but the system may lie to your app tomorrow."},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1570113619,"post_id":58221251,"comment_id":102818684,"body_markdown":"So what should exactly i need to do?","body":"So what should exactly i need to do?"},{"owner":{"account_id":5949420,"reputation":14268,"user_id":4677951,"accept_rate":50,"display_name":"shadowsheep"},"score":0,"creation_date":1570116071,"post_id":58221251,"comment_id":102819996,"body_markdown":"Have a look at [SafetyNet](https://developer.android.com/training/safetynet/index.html). Btw I actually didn&#39;t use them yet. Specifically [here](https://developer.android.com/training/safetynet/attestation.html) I read &quot;Purely to check whether the device is rooted, as the API is designed to check the overall integrity of the device.&quot;. Anyway, as Johannes says, maybe it could be circumvented.","body":"Have a look at <a href=\"https://developer.android.com/training/safetynet/index.html\" rel=\"nofollow noreferrer\">SafetyNet</a>. Btw I actually didn&#39;t use them yet. Specifically <a href=\"https://developer.android.com/training/safetynet/attestation.html\" rel=\"nofollow noreferrer\">here</a> I read &quot;Purely to check whether the device is rooted, as the API is designed to check the overall integrity of the device.&quot;. Anyway, as Johannes says, maybe it could be circumvented."},{"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"score":0,"creation_date":1570116765,"post_id":58221251,"comment_id":102820375,"body_markdown":"@shadowsheep thanks for reply, let me check. I&#39;ll get back to you","body":"@shadowsheep thanks for reply, let me check. I&#39;ll get back to you"}],"answers":[{"tags":[],"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570818697,"creation_date":1570681869,"answer_id":58315478,"question_id":58221251,"body_markdown":"After couple of days, I got the solution. [RootDevice][1] is the library which will check for all kind of root device check. Like:\r\n \r\n- CheckRootManagementApps\r\n- CheckPotentiallyDangerousApps\r\n- CheckRootCloakingApps\r\n- CheckTestKeys\r\n- checkForDangerousProps\r\n- checkForBusyBoxBinary\r\n- checkForSuBinary\r\n- checkSuExists\r\n- checkForRWSystem\r\n\r\n\r\n  [1]: https://github.com/scottyab/rootbeer","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>After couple of days, I got the solution. <a href=\"https://github.com/scottyab/rootbeer\" rel=\"nofollow noreferrer\">RootDevice</a> is the library which will check for all kind of root device check. Like:</p>\n\n<ul>\n<li>CheckRootManagementApps</li>\n<li>CheckPotentiallyDangerousApps</li>\n<li>CheckRootCloakingApps</li>\n<li>CheckTestKeys</li>\n<li>checkForDangerousProps</li>\n<li>checkForBusyBoxBinary</li>\n<li>checkForSuBinary</li>\n<li>checkSuExists</li>\n<li>checkForRWSystem</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17612031,"reputation":23,"user_id":12779866,"display_name":"asfaqe hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603861219,"creation_date":1603861219,"answer_id":64566707,"question_id":58221251,"body_markdown":"check for magisk hide options to.\r\nMagisk Hide lets you use apps without letting it know that it is the rooted device","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>check for magisk hide options to.\nMagisk Hide lets you use apps without letting it know that it is the rooted device</p>\n"}],"owner":{"account_id":3360457,"reputation":1725,"user_id":2822369,"accept_rate":48,"display_name":"Amit Jayaswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2054,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667566418,"creation_date":1570112771,"question_id":58221251,"body_markdown":"I am working on an android app. I want to save my app from rooted devices. I am successfully restricting my app with rooted devices, but one rooted device has magisk app, so with the help of this magis app, user is able to open my app in rooted device also. can any body help me in this? Thanks in advance.\r\n\r\n\r\nmy code is \r\n\r\n\r\n private static boolean checkRootMethod1() {\r\n        String buildTags = Build.TAGS;\r\n        return buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;);\r\n    }\r\n\r\n    private static boolean checkRootMethod2() {\r\n        String[] paths = {&quot;/system/apn/which sup/Superuser.apk&quot;, &quot;/sbin/su&quot;, &quot;/system/bin/su&quot;, &quot;/system/xbin/su&quot;,\r\n                &quot;/data/local/xbin/su&quot;, &quot;/data/local/bin/su&quot;, &quot;/system/sd/xbin/su&quot;, &quot;/system/bin/.ext/.su&quot;,\r\n                &quot;/system/bin/failsafe/su&quot;, &quot;/data/local/su&quot;, &quot;/system/xbin/mu&quot;, &quot;/su/bin/su&quot;, &quot;/system/usr/we-need-root/su-backup&quot;};\r\n        for (String path : paths) {\r\n            if (new File(path).exists()) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static boolean checkRootMethod3() {\r\n        File file = Environment.getDataDirectory();\r\n        return file != null &amp;&amp; file.canWrite();\r\n    }\r\n\r\n    private static boolean checkRootMethod4() {\r\n        File file = new File(&quot;/system/bin/&quot;);\r\n        return file != null &amp;&amp; file.canWrite();\r\n    }\r\n\r\n    private static  boolean checkRootMethod5() {\r\n        return new File(&quot;/system/app/Superuser.apk&quot;).exists();\r\n    }","title":"How to restrict my android app in rooted device which contain magisk app?","body":"<p>I am working on an android app. I want to save my app from rooted devices. I am successfully restricting my app with rooted devices, but one rooted device has magisk app, so with the help of this magis app, user is able to open my app in rooted device also. can any body help me in this? Thanks in advance.</p>\n\n<p>my code is </p>\n\n<p>private static boolean checkRootMethod1() {\n        String buildTags = Build.TAGS;\n        return buildTags != null &amp;&amp; buildTags.contains(\"test-keys\");\n    }</p>\n\n<pre><code>private static boolean checkRootMethod2() {\n    String[] paths = {\"/system/apn/which sup/Superuser.apk\", \"/sbin/su\", \"/system/bin/su\", \"/system/xbin/su\",\n            \"/data/local/xbin/su\", \"/data/local/bin/su\", \"/system/sd/xbin/su\", \"/system/bin/.ext/.su\",\n            \"/system/bin/failsafe/su\", \"/data/local/su\", \"/system/xbin/mu\", \"/su/bin/su\", \"/system/usr/we-need-root/su-backup\"};\n    for (String path : paths) {\n        if (new File(path).exists()) return true;\n    }\n    return false;\n}\n\nprivate static boolean checkRootMethod3() {\n    File file = Environment.getDataDirectory();\n    return file != null &amp;&amp; file.canWrite();\n}\n\nprivate static boolean checkRootMethod4() {\n    File file = new File(\"/system/bin/\");\n    return file != null &amp;&amp; file.canWrite();\n}\n\nprivate static  boolean checkRootMethod5() {\n    return new File(\"/system/app/Superuser.apk\").exists();\n}\n</code></pre>\n"},{"tags":["java","arraylist","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1626209546,"post_id":68369056,"comment_id":120831190,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1626212133,"post_id":68369056,"comment_id":120831914,"body_markdown":"I suggest you remove the prefix `emp` from the fields, as the class is already named `Employee`. Just `id`, `name` and `roles` are sufficient.","body":"I suggest you remove the prefix <code>emp</code> from the fields, as the class is already named <code>Employee</code>. Just <code>id</code>, <code>name</code> and <code>roles</code> are sufficient."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626209602,"creation_date":1626209602,"answer_id":68369195,"question_id":68369056,"body_markdown":"Stream over the roles and map to a new Employee:\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n        return emp.getEmpRoles()\r\n                .stream()\r\n                .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), Collections.singletonList(role)))\r\n                .collect(Collectors.toList());\r\n    }","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>Stream over the roles and map to a new Employee:</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n    return emp.getEmpRoles()\n            .stream()\n            .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), Collections.singletonList(role)))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565391,"creation_date":1667565391,"answer_id":74317187,"question_id":68369056,"body_markdown":"You can do this with the Lombok framework and then use @Eritrean&#39;s solution:\r\n\r\n    @Builder(toBuilder = true) // here is the magic\r\n    public class Employee {\r\n      private String empId;\r\n      private String empName;\r\n      private List&lt;String&gt; empRoles;\r\n\r\n      public List&lt;Employee&gt; explode() {\r\n        return emp.getEmpRoles().stream()\r\n            .map(role -&gt; this.toBuilder()\r\n                           .empRoles(singletonList(role))\r\n                           .build()\r\n            )\r\n            .collect(toList());\r\n      }\r\n    }","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>You can do this with the Lombok framework and then use @Eritrean's solution:</p>\n<pre><code>@Builder(toBuilder = true) // here is the magic\npublic class Employee {\n  private String empId;\n  private String empName;\n  private List&lt;String&gt; empRoles;\n\n  public List&lt;Employee&gt; explode() {\n    return emp.getEmpRoles().stream()\n        .map(role -&gt; this.toBuilder()\n                       .empRoles(singletonList(role))\n                       .build()\n        )\n        .collect(toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667566124,"creation_date":1667566124,"answer_id":74317312,"question_id":68369056,"body_markdown":"You will need a few public things in your `Employee` class:\r\n\r\n    public class Employee {\r\n       private String empId;\r\n       private String empName;\r\n       private List&lt;String&gt; empRoles = new ArrayList&lt;&gt;();\r\n\r\n       public Employee(String empId, String empName, String... empRoles) {\r\n           this.empId = empId;\r\n           this.empName = empName;\r\n           for (String role: empRoles) {\r\n               this.empRoles.add(role);\r\n           }\r\n       }\r\n\r\n        public String getEmpId() {\r\n            return empId;\r\n        }\r\n\r\n        public String getEmpName() {\r\n            return empName;\r\n        }\r\n\r\n        public List&lt;String&gt; getEmpRoles() {\r\n            return empRoles;\r\n        }\r\n    }\r\n\r\nThen:\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n        return emp.getEmpRoles().stream()\r\n                .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), role))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>You will need a few public things in your <code>Employee</code> class:</p>\n<pre><code>public class Employee {\n   private String empId;\n   private String empName;\n   private List&lt;String&gt; empRoles = new ArrayList&lt;&gt;();\n\n   public Employee(String empId, String empName, String... empRoles) {\n       this.empId = empId;\n       this.empName = empName;\n       for (String role: empRoles) {\n           this.empRoles.add(role);\n       }\n   }\n\n    public String getEmpId() {\n        return empId;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public List&lt;String&gt; getEmpRoles() {\n        return empRoles;\n    }\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n    return emp.getEmpRoles().stream()\n            .map(role -&gt; new Employee(emp.getEmpId(), emp.getEmpName(), role))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":16816658,"reputation":70,"user_id":12158308,"display_name":"SAS DEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667566124,"creation_date":1626208730,"question_id":68369056,"body_markdown":"I have the following code where i have a single employee object with multiple roles. i want to split this single employee object into multiple employee objects with each object have just ONE role.\r\n\r\n    public class Employee {\r\n       private String empId;\r\n       private String empName;\r\n       private List&lt;String&gt; empRoles;\r\n     }\r\n\r\nNow i have a method with return type List&lt;Employees&gt;\r\n\r\n    public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\r\n       // code logic goes here \r\n     }\r\n       // sample input : { empId:&#39;123&#39;,empName:&#39;john&#39;,empRoles:[&#39;Developer&#39;,&#39;Tester&#39;] }\r\n       // sample output : [ { empId:&#39;123&#39;, empName:&#39;john&#39;,empRoles : [&#39;Developer&#39;] },\r\n                            { empId:&#39;123&#39;, empName:&#39;john&#39;,empRoles : [&#39;Tester&#39;]]\r\n\r\ncan someone help with an efficient java8 solution.\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n ","title":"Split one object into List of objects - JAVA8 Solution required","body":"<p>I have the following code where i have a single employee object with multiple roles. i want to split this single employee object into multiple employee objects with each object have just ONE role.</p>\n<pre><code>public class Employee {\n   private String empId;\n   private String empName;\n   private List&lt;String&gt; empRoles;\n }\n</code></pre>\n<p>Now i have a method with return type List</p>\n<pre><code>public List&lt;Employee&gt; splitEmployeObj(Employee emp) {\n   // code logic goes here \n }\n   // sample input : { empId:'123',empName:'john',empRoles:['Developer','Tester'] }\n   // sample output : [ { empId:'123', empName:'john',empRoles : ['Developer'] },\n                        { empId:'123', empName:'john',empRoles : ['Tester']]\n</code></pre>\n<p>can someone help with an efficient java8 solution.</p>\n"},{"tags":["java","variadic-functions","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":11373166,"reputation":1,"user_id":8338217,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565861,"creation_date":1667565861,"answer_id":74317271,"question_id":65690414,"body_markdown":"Resilience4j Circuit Breaker does not support varargs in a fallback - https://github.com/resilience4j/resilience4j/issues/1294\r\n\r\nAlso, return type for fallback and original methods shall be the same. Though you can use List instead of varargs parameter to make fallback work.","title":"How to define resilience4j Fallback method when my actual methods has varargs","body":"<p>Resilience4j Circuit Breaker does not support varargs in a fallback - <a href=\"https://github.com/resilience4j/resilience4j/issues/1294\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/issues/1294</a></p>\n<p>Also, return type for fallback and original methods shall be the same. Though you can use List instead of varargs parameter to make fallback work.</p>\n"}],"owner":{"account_id":2917204,"reputation":46,"user_id":2500148,"display_name":"Sudhakar V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667565861,"creation_date":1610478368,"question_id":65690414,"body_markdown":"We are using resilience4j Circuit Breaker, our monitored methods have varargs and return types are different so how can we define Fallback methods as I cant use last parameter as Exception as I have varargs as the last parameter. ","title":"How to define resilience4j Fallback method when my actual methods has varargs","body":"<p>We are using resilience4j Circuit Breaker, our monitored methods have varargs and return types are different so how can we define Fallback methods as I cant use last parameter as Exception as I have varargs as the last parameter.</p>\n"},{"tags":["java","timer","missing-data","apache-storm","stream-processing"],"answers":[{"tags":[],"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663955138,"creation_date":1663955138,"answer_id":73831280,"question_id":73830608,"body_markdown":"The main routine of a bolt is inside the `execute`-Function as documented [here][1]. To the best of my knowledge, this automatically called by the underlying `supervisor`, when a new tuple arrives and this is something you cannot easily change without forking Storm. However, if you want to have an ongoing routine in a bolt, than you could maybe start a parallel thread in the constructor.\r\n\r\n\r\n  [1]: https://storm.apache.org/releases/current/javadocs/org/apache/storm/task/IBolt.html#execute-org.apache.storm.tuple.Tuple-","title":"Is it possible to implement a timer in a Apache Storm bolt?","body":"<p>The main routine of a bolt is inside the <code>execute</code>-Function as documented <a href=\"https://storm.apache.org/releases/current/javadocs/org/apache/storm/task/IBolt.html#execute-org.apache.storm.tuple.Tuple-\" rel=\"nofollow noreferrer\">here</a>. To the best of my knowledge, this automatically called by the underlying <code>supervisor</code>, when a new tuple arrives and this is something you cannot easily change without forking Storm. However, if you want to have an ongoing routine in a bolt, than you could maybe start a parallel thread in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":1959421,"reputation":240,"user_id":1761505,"display_name":"Re&#39;em"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665052450,"creation_date":1665052450,"answer_id":73972398,"question_id":73830608,"body_markdown":"Yes, you can definitely use timers to trigger logic to run as part of a bolt, and to emit using the bolt&#39;s `OutputCollector`. I did this in production in the past. You&#39;ll probably want to use Storm&#39;s `IRichBolt` interface to allow utilizing the bolt&#39;s `OutputCollector` across different threads.\r\n\r\nAnother option you have handy in Storm is tick tuples. Those are tuples you configure Storm to send your bolt at a given interval. These are often much more useful than using timers because they don&#39;t require extra threads, and as a result also behave much nicer when your stream is back-pressured.","title":"Is it possible to implement a timer in a Apache Storm bolt?","body":"<p>Yes, you can definitely use timers to trigger logic to run as part of a bolt, and to emit using the bolt's <code>OutputCollector</code>. I did this in production in the past. You'll probably want to use Storm's <code>IRichBolt</code> interface to allow utilizing the bolt's <code>OutputCollector</code> across different threads.</p>\n<p>Another option you have handy in Storm is tick tuples. Those are tuples you configure Storm to send your bolt at a given interval. These are often much more useful than using timers because they don't require extra threads, and as a result also behave much nicer when your stream is back-pressured.</p>\n"}],"owner":{"account_id":11975009,"reputation":1,"user_id":9740346,"display_name":"ellav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667565735,"creation_date":1663950472,"question_id":73830608,"body_markdown":"A Bolt&#39;s code is triggered when data arrives (an input tuple). How can we program code inside a Bolt to run even in the case of missing input data? I mean, if no tuple arrives how can we force an action to be accomplished? Are timers allowed?","title":"Is it possible to implement a timer in a Apache Storm bolt?","body":"<p>A Bolt's code is triggered when data arrives (an input tuple). How can we program code inside a Bolt to run even in the case of missing input data? I mean, if no tuple arrives how can we force an action to be accomplished? Are timers allowed?</p>\n"},{"tags":["java","android","authentication","retrofit2"],"comments":[{"owner":{"account_id":6719388,"reputation":5065,"user_id":5180017,"display_name":"Shashanth"},"score":0,"creation_date":1667494804,"post_id":74304380,"comment_id":131185595,"body_markdown":"Welcome to StackOverflow. Please [edit] the question and post the JSON response you get in both success and failure login case.","body":"Welcome to StackOverflow. Please <a href=\"https://stackoverflow.com/posts/74304380/edit\">edit</a> the question and post the JSON response you get in both success and failure login case."},{"owner":{"account_id":19623445,"reputation":11,"user_id":14363413,"display_name":"seun oke"},"score":0,"creation_date":1667564566,"post_id":74304380,"comment_id":131201901,"body_markdown":"Thanks, i have updated the question with the JSON response i got in both success and failure login case.","body":"Thanks, i have updated the question with the JSON response i got in both success and failure login case."},{"owner":{"account_id":19623445,"reputation":11,"user_id":14363413,"display_name":"seun oke"},"score":0,"creation_date":1667686164,"post_id":74304380,"comment_id":131226705,"body_markdown":"@Shashanth i have updated my question as you requested, looking forward to your feedback","body":"@Shashanth i have updated my question as you requested, looking forward to your feedback"}],"owner":{"account_id":19623445,"reputation":11,"user_id":14363413,"display_name":"seun oke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667565677,"creation_date":1667484139,"question_id":74304380,"body_markdown":"Retrofit response returning null when i use wrong login details but works fine when i use correct login details, i have checked the response for both successful and failed attempt and they both are in json format.\r\n\r\nThis is my login retrofit call:\r\n\r\n\r\n```\r\nCall&lt;LoginResponse&gt; call = RetrofitClient\r\n        .getInstance().getApi().userLogin(email_id, password_id);\r\ncall.enqueue(new Callback&lt;LoginResponse&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\r\n\r\n\r\n        if (!response.body().getError()){\r\n\r\n            if (progressDialog.isShowing()) {\r\n                progressDialog.dismiss();\r\n            }\r\n\r\n            SharedPrefManager.getInstance(Login.this)\r\n                    .saveLoginData(response.body());\r\n\r\n            Intent intent = new Intent(Login.this, MainActivity2.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(intent);\r\n\r\n            Toast.makeText(Login.this, &quot;login successful&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        else {\r\n\r\n            if (progressDialog.isShowing()) {\r\n                progressDialog.dismiss();\r\n            }\r\n\r\n                Toast.makeText(Login.this, response.body().getDesc(), Toast.LENGTH_LONG).show();\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\r\n\r\n        if (progressDialog.isShowing()) {\r\n            progressDialog.dismiss();\r\n        }\r\n\r\n        Toast.makeText(Login.this, t.getLocalizedMessage(), Toast.LENGTH_LONG).show();\r\n\r\n\r\n    }\r\n});\r\n```\r\n\r\nthis is my login response model:\r\n\r\n\r\n```\r\npublic class LoginResponse {\r\n    @SerializedName(&quot;error&quot;)\r\n    @Expose\r\n    private Boolean error;\r\n    @SerializedName(&quot;code&quot;)\r\n    @Expose\r\n    private Integer code;\r\n    @SerializedName(&quot;desc&quot;)\r\n    @Expose\r\n    private String desc;\r\n    @SerializedName(&quot;data&quot;)\r\n    @Expose\r\n    private LoginData data;\r\n\r\n\r\n    public LoginResponse(Boolean error, Integer code, String desc) {\r\n        this.error = error;\r\n        this.code = code;\r\n        this.desc = desc;\r\n    }\r\n\r\n    public Boolean getError() {\r\n        return error;\r\n    }\r\n\r\n    public void setError(Boolean error) {\r\n        this.error = error;\r\n    }\r\n\r\n    public Integer getCode() {\r\n        return code;\r\n    }\r\n\r\n    public void setCode(Integer code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public LoginData getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(LoginData data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\n\r\n```\r\nthis is the model for LoginData:\r\n\r\n\r\n```\r\npublic class LoginData {\r\n\r\n    @SerializedName(&quot;userId&quot;)\r\n    @Expose\r\n    private String userId;\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is my retrofit client code:\r\n\r\n\r\n```\r\npublic class RetrofitClient {\r\n\r\n\r\n    private static final String BASE_URL = &quot;https://misemusic.com/app_api/get/&quot;;\r\n    private static RetrofitClient mInstance;\r\n    private Retrofit retrofit;\r\n\r\n\r\n    private RetrofitClient() {\r\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n// set your desired log level\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .addInterceptor(\r\n                        logging\r\n\r\n                ).build();\r\n\r\n\r\n\r\n\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(okHttpClient)\r\n                .build();\r\n    }\r\n\r\n    public static synchronized RetrofitClient getInstance() {\r\n        if (mInstance == null) {\r\n            mInstance = new RetrofitClient();\r\n        }\r\n        return mInstance;\r\n    }\r\n\r\n    public Api getApi() {\r\n        return retrofit.create(Api.class);\r\n    }\r\n}\r\n```\r\n\r\nthis is my api call:\r\n\r\n\r\n```\r\n@FormUrlEncoded\r\n@POST(&quot;login&quot;)\r\nCall&lt;LoginResponse&gt; userLogin(\r\n        @Field(&quot;email&quot;) String email,\r\n        @Field(&quot;password&quot;) String password\r\n);\r\n\r\n```\r\n\r\nJason successful response:\r\n\r\n    {\r\n    &quot;error&quot;: false,\r\n    &quot;code&quot;: 200,\r\n    &quot;desc&quot;: &quot;Login Successful&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;userId&quot;: &quot;5731e033283f6435e9ed32e2dcf3a59b28e9f23f&quot;\r\n    }\r\n}\r\n\r\n\r\nJson failed response:\r\n\r\n    {\r\n    &quot;error&quot;: true,\r\n    &quot;code&quot;: 403,\r\n    &quot;desc&quot;: &quot;Incorrect Password Supplied&quot;\r\n}\r\n\r\n","title":"Retrofit response returning null when wrong login details used Android Studio","body":"<p>Retrofit response returning null when i use wrong login details but works fine when i use correct login details, i have checked the response for both successful and failed attempt and they both are in json format.</p>\n<p>This is my login retrofit call:</p>\n<pre><code>Call&lt;LoginResponse&gt; call = RetrofitClient\n        .getInstance().getApi().userLogin(email_id, password_id);\ncall.enqueue(new Callback&lt;LoginResponse&gt;() {\n    @Override\n    public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\n\n\n        if (!response.body().getError()){\n\n            if (progressDialog.isShowing()) {\n                progressDialog.dismiss();\n            }\n\n            SharedPrefManager.getInstance(Login.this)\n                    .saveLoginData(response.body());\n\n            Intent intent = new Intent(Login.this, MainActivity2.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            startActivity(intent);\n\n            Toast.makeText(Login.this, &quot;login successful&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        else {\n\n            if (progressDialog.isShowing()) {\n                progressDialog.dismiss();\n            }\n\n                Toast.makeText(Login.this, response.body().getDesc(), Toast.LENGTH_LONG).show();\n            }\n    }\n\n    @Override\n    public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\n\n        if (progressDialog.isShowing()) {\n            progressDialog.dismiss();\n        }\n\n        Toast.makeText(Login.this, t.getLocalizedMessage(), Toast.LENGTH_LONG).show();\n\n\n    }\n});\n</code></pre>\n<p>this is my login response model:</p>\n<pre><code>public class LoginResponse {\n    @SerializedName(&quot;error&quot;)\n    @Expose\n    private Boolean error;\n    @SerializedName(&quot;code&quot;)\n    @Expose\n    private Integer code;\n    @SerializedName(&quot;desc&quot;)\n    @Expose\n    private String desc;\n    @SerializedName(&quot;data&quot;)\n    @Expose\n    private LoginData data;\n\n\n    public LoginResponse(Boolean error, Integer code, String desc) {\n        this.error = error;\n        this.code = code;\n        this.desc = desc;\n    }\n\n    public Boolean getError() {\n        return error;\n    }\n\n    public void setError(Boolean error) {\n        this.error = error;\n    }\n\n    public Integer getCode() {\n        return code;\n    }\n\n    public void setCode(Integer code) {\n        this.code = code;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    public LoginData getData() {\n        return data;\n    }\n\n    public void setData(LoginData data) {\n        this.data = data;\n    }\n}\n\n\n</code></pre>\n<p>this is the model for LoginData:</p>\n<pre><code>public class LoginData {\n\n    @SerializedName(&quot;userId&quot;)\n    @Expose\n    private String userId;\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n}\n\n</code></pre>\n<p>this is my retrofit client code:</p>\n<pre><code>public class RetrofitClient {\n\n\n    private static final String BASE_URL = &quot;https://misemusic.com/app_api/get/&quot;;\n    private static RetrofitClient mInstance;\n    private Retrofit retrofit;\n\n\n    private RetrofitClient() {\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n// set your desired log level\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .addInterceptor(\n                        logging\n\n                ).build();\n\n\n\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(okHttpClient)\n                .build();\n    }\n\n    public static synchronized RetrofitClient getInstance() {\n        if (mInstance == null) {\n            mInstance = new RetrofitClient();\n        }\n        return mInstance;\n    }\n\n    public Api getApi() {\n        return retrofit.create(Api.class);\n    }\n}\n</code></pre>\n<p>this is my api call:</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;login&quot;)\nCall&lt;LoginResponse&gt; userLogin(\n        @Field(&quot;email&quot;) String email,\n        @Field(&quot;password&quot;) String password\n);\n\n</code></pre>\n<p>Jason successful response:</p>\n<pre><code>{\n&quot;error&quot;: false,\n&quot;code&quot;: 200,\n&quot;desc&quot;: &quot;Login Successful&quot;,\n&quot;data&quot;: {\n    &quot;userId&quot;: &quot;5731e033283f6435e9ed32e2dcf3a59b28e9f23f&quot;\n}\n</code></pre>\n<p>}</p>\n<p>Json failed response:</p>\n<pre><code>{\n&quot;error&quot;: true,\n&quot;code&quot;: 403,\n&quot;desc&quot;: &quot;Incorrect Password Supplied&quot;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sql","postgresql","jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1667557709,"post_id":74315502,"comment_id":131199511,"body_markdown":"I don&#39;t understand the question. Just copy the SELECT from the procedure into your Java code.","body":"I don&#39;t understand the question. Just copy the SELECT from the procedure into your Java code."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1667557815,"post_id":74315502,"comment_id":131199547,"body_markdown":"@a_horse_with_no_name : how to pass the parameter values in java method is where I am stuck.","body":"@a_horse_with_no_name : how to pass the parameter values in java method is where I am stuck."}],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667565562,"creation_date":1667565218,"answer_id":74317148,"question_id":74315502,"body_markdown":"When specifying the parameters to your query (@Query) you basically have 2 options\r\n\r\nOption 1 (using named parameters)\r\n      \r\n     @Query(nativeQuery = true,\r\n        value = &quot;SELECT\r\n        z.owner_num, \r\n        COALESCE(op_type_num, optype) AS op_type_num, \r\n        ad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\r\n        FROM (SELECT :ownerNum AS owner_num) AS z\r\n        LEFT OUTER JOIN owner_details AS ad\r\n            ON z.owner_num = ad.owner_num AND op_type_num = :typeNum&quot;)\r\n       OwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\r\n        @Param(&quot;ownerNum&quot;) Integer owner, \r\n        @Param(&quot;typeNum&quot;) Integer type );\r\n\r\nor option 2 (using ordinal numbers preceded by a ?)\r\n\r\n     @Query(nativeQuery = true,\r\n        value = &quot;SELECT\r\n        z.owner_num, \r\n        COALESCE(op_type_num, optype) AS op_type_num, \r\n        ad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\r\n        FROM (SELECT ?1 AS owner_num) AS z\r\n        LEFT OUTER JOIN owner_details AS ad\r\n            ON z.owner_num = ad.owner_num AND op_type_num = ?2&quot;)\r\n     OwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\r\n        Integer owner, \r\n        Integer type );\r\n\r\n\r\n","title":"Issue in Converting postgres stored procedure to java query","body":"<p>When specifying the parameters to your query (@Query) you basically have 2 options</p>\n<p>Option 1 (using named parameters)</p>\n<pre><code> @Query(nativeQuery = true,\n    value = &quot;SELECT\n    z.owner_num, \n    COALESCE(op_type_num, optype) AS op_type_num, \n    ad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\n    FROM (SELECT :ownerNum AS owner_num) AS z\n    LEFT OUTER JOIN owner_details AS ad\n        ON z.owner_num = ad.owner_num AND op_type_num = :typeNum&quot;)\n   OwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\n    @Param(&quot;ownerNum&quot;) Integer owner, \n    @Param(&quot;typeNum&quot;) Integer type );\n</code></pre>\n<p>or option 2 (using ordinal numbers preceded by a ?)</p>\n<pre><code> @Query(nativeQuery = true,\n    value = &quot;SELECT\n    z.owner_num, \n    COALESCE(op_type_num, optype) AS op_type_num, \n    ad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\n    FROM (SELECT ?1 AS owner_num) AS z\n    LEFT OUTER JOIN owner_details AS ad\n        ON z.owner_num = ad.owner_num AND op_type_num = ?2&quot;)\n OwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\n    Integer owner, \n    Integer type );\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74317148,"answer_count":1,"score":0,"last_activity_date":1667565562,"creation_date":1667557587,"question_id":74315502,"body_markdown":"I am migrating a DB. In old DB we use some **stored procedures - SP** which we want to get rid off in new DB. Simply we want to use plain java query instead of a **SP**. We will call the query from our java spring boot app. \r\n\r\nHere is the **SP** :\r\n\r\n    CREATE OR REPLACE PROCEDURE public.spfetchowner(\r\n    \towner integer,\r\n    \toptype integer,\r\n    \tINOUT p_refcur refcursor)\r\n    LANGUAGE &#39;plpgsql&#39;\r\n    AS $BODY$\r\n    BEGIN\r\n        OPEN p_refcur FOR\r\n        SELECT\r\n            z.owner_num, \r\n    \t\tCOALESCE(op_type_num, optype) AS op_type_num, \r\n    \t\tad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\r\n            FROM (SELECT owner AS owner_num) AS z\r\n            LEFT OUTER JOIN owner_details AS ad\r\n                ON z.owner_num = ad.owner_num AND op_type_num = optype;\r\n    END;\r\n    $BODY$;\r\n    \r\n    ALTER PROCEDURE public.spfetchowner(integer, integer, refcursor)\r\n        OWNER TO postgres;\r\n\r\n\r\nMy DB table details :\r\n\r\n        owner_num integer NOT NULL,\r\n        op_type_num integer NOT NULL,\r\n        sunday numeric(5,3),\r\n        monday numeric(5,3),\r\n        tuesday numeric(5,3),\r\n        wednesday numeric(5,3),\r\n        thursday numeric(5,3),\r\n        friday numeric(5,3),\r\n        saturday numeric(5,3),\r\n        CONSTRAINT pk_owner_details PRIMARY KEY (owner_num, op_type_num)\r\n   \r\n\r\n\r\nThis is my java repository method to fetch details from owner_details\r\n\r\n    @Query(nativeQuery = true,\r\n\t\t\tvalue = &quot;I need the proper equivalent query from the SP here&quot;)\r\n\tOwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\r\n\t\t\t@Param(&quot;ownerNum&quot;) Integer owner, \r\n\t\t\t@Param(&quot;typeNum&quot;) Integer type );\r\n\r\nI am unable to form the query from the SP that I need to use in repo method. Can someone help me out here on the query formation part. Simple select is working but I would need the select query as framed in the SP with the joins and then how to use the same in my repo method.","title":"Issue in Converting postgres stored procedure to java query","body":"<p>I am migrating a DB. In old DB we use some <strong>stored procedures - SP</strong> which we want to get rid off in new DB. Simply we want to use plain java query instead of a <strong>SP</strong>. We will call the query from our java spring boot app.</p>\n<p>Here is the <strong>SP</strong> :</p>\n<pre><code>CREATE OR REPLACE PROCEDURE public.spfetchowner(\n    owner integer,\n    optype integer,\n    INOUT p_refcur refcursor)\nLANGUAGE 'plpgsql'\nAS $BODY$\nBEGIN\n    OPEN p_refcur FOR\n    SELECT\n        z.owner_num, \n        COALESCE(op_type_num, optype) AS op_type_num, \n        ad.sunday, ad.monday, ad.tuesday, ad.wednesday, ad.thursday, ad.friday, ad.saturday\n        FROM (SELECT owner AS owner_num) AS z\n        LEFT OUTER JOIN owner_details AS ad\n            ON z.owner_num = ad.owner_num AND op_type_num = optype;\nEND;\n$BODY$;\n\nALTER PROCEDURE public.spfetchowner(integer, integer, refcursor)\n    OWNER TO postgres;\n</code></pre>\n<p>My DB table details :</p>\n<pre><code>    owner_num integer NOT NULL,\n    op_type_num integer NOT NULL,\n    sunday numeric(5,3),\n    monday numeric(5,3),\n    tuesday numeric(5,3),\n    wednesday numeric(5,3),\n    thursday numeric(5,3),\n    friday numeric(5,3),\n    saturday numeric(5,3),\n    CONSTRAINT pk_owner_details PRIMARY KEY (owner_num, op_type_num)\n</code></pre>\n<p>This is my java repository method to fetch details from owner_details</p>\n<pre><code>@Query(nativeQuery = true,\n        value = &quot;I need the proper equivalent query from the SP here&quot;)\nOwnerDetails fetchOwnerDetailsByOwnerNumAndOpType(\n        @Param(&quot;ownerNum&quot;) Integer owner, \n        @Param(&quot;typeNum&quot;) Integer type );\n</code></pre>\n<p>I am unable to form the query from the SP that I need to use in repo method. Can someone help me out here on the query formation part. Simple select is working but I would need the select query as framed in the SP with the joins and then how to use the same in my repo method.</p>\n"},{"tags":["java","spring","flyway"],"answers":[{"tags":[],"owner":{"account_id":4376365,"reputation":1903,"user_id":9080066,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1581443218,"creation_date":1581441186,"answer_id":60174155,"question_id":60173562,"body_markdown":"Assuming you are using Spring Boot:\r\n\r\n 1. First you will need to disable the initialization and triggering of flyway by setting the `spring.flyway.enabled` to `false`. This also means you will have to configure Flyway yourself.\r\n 2. Annotate your `JavaMigrations` classes with `@Component`.\r\n 3. Create a Class that implements `CommandLineRunner` and implements the run method. This class should also have your `JavaMigrations` autowired and your datasource url, user and password will also need to be injected as well or alternatively a `DataSource` object.\r\n 4. In the `run` method collect your `JavaMigrations` objects into an array and programmatically register them with Flyway and then run the migration:\r\n\r\n        JavaMigrations migrations[] = {myJavaMigration};\r\n        Flyway flyway = Flyway.configure()\r\n                             .dataSource(url, user, password)\r\n                             .javaMigrations(migrations)\r\n                             .load();\r\n        flyway.migrate();\r\n\r\nFull implementation:\r\n\r\n    @Component\r\n    public class MyJavaMigration extends BaseJavaMigration {\r\n    ...\r\n    }\r\n\r\n    @Component\r\n    public class MyFlywayMigration implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private MyJavaMigration myJavaMigration;\r\n    \r\n        @Autowired\r\n        private DataSource dataSource; \r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n          JavaMigrations migrations[] = {myJavaMigration};\r\n          Flyway flyway = Flyway.configure()\r\n                                .dataSource(dataSource)\r\n                                .javaMigrations(migrations)\r\n                                .load();\r\n          flyway.migrate();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring autowiring in flyway","body":"<p>Assuming you are using Spring Boot:</p>\n\n<ol>\n<li>First you will need to disable the initialization and triggering of flyway by setting the <code>spring.flyway.enabled</code> to <code>false</code>. This also means you will have to configure Flyway yourself.</li>\n<li>Annotate your <code>JavaMigrations</code> classes with <code>@Component</code>.</li>\n<li>Create a Class that implements <code>CommandLineRunner</code> and implements the run method. This class should also have your <code>JavaMigrations</code> autowired and your datasource url, user and password will also need to be injected as well or alternatively a <code>DataSource</code> object.</li>\n<li><p>In the <code>run</code> method collect your <code>JavaMigrations</code> objects into an array and programmatically register them with Flyway and then run the migration:</p>\n\n<pre><code>JavaMigrations migrations[] = {myJavaMigration};\nFlyway flyway = Flyway.configure()\n                     .dataSource(url, user, password)\n                     .javaMigrations(migrations)\n                     .load();\nflyway.migrate();\n</code></pre></li>\n</ol>\n\n<p>Full implementation:</p>\n\n<pre><code>@Component\npublic class MyJavaMigration extends BaseJavaMigration {\n...\n}\n\n@Component\npublic class MyFlywayMigration implements CommandLineRunner {\n\n    @Autowired\n    private MyJavaMigration myJavaMigration;\n\n    @Autowired\n    private DataSource dataSource; \n\n    @Override\n    public void run(String... args) {\n      JavaMigrations migrations[] = {myJavaMigration};\n      Flyway flyway = Flyway.configure()\n                            .dataSource(dataSource)\n                            .javaMigrations(migrations)\n                            .load();\n      flyway.migrate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17710740,"reputation":163,"user_id":12858329,"display_name":"BobJI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2057,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60174155,"answer_count":1,"score":3,"last_activity_date":1667565368,"creation_date":1581439006,"question_id":60173562,"body_markdown":"How can I inject a Spring bean in class that implements `org.flywaydb.core.api.migration.JavaMigration` ?\r\n\r\nIt seems it&#39;s been added in Flyway 6.0: [This issue](https://github.com/flyway/flyway/issues/1062) seems to talk about it, but I don&#39;t really see how to proceed.\r\n\r\nI&#39;ve also seen [this answer](https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency/48242865#48242865) which seems to talk about it, but I was hoping there was a shorter solution (I don&#39;t have the requirement about the JPA dependency that the author speaks about).\r\n\r\nThanks\r\n","title":"Spring autowiring in flyway","body":"<p>How can I inject a Spring bean in class that implements <code>org.flywaydb.core.api.migration.JavaMigration</code> ?</p>\n\n<p>It seems it's been added in Flyway 6.0: <a href=\"https://github.com/flyway/flyway/issues/1062\" rel=\"nofollow noreferrer\">This issue</a> seems to talk about it, but I don't really see how to proceed.</p>\n\n<p>I've also seen <a href=\"https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency/48242865#48242865\">this answer</a> which seems to talk about it, but I was hoping there was a shorter solution (I don't have the requirement about the JPA dependency that the author speaks about).</p>\n\n<p>Thanks</p>\n"},{"tags":["java","string","if-statement","while-loop","char"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667563799,"post_id":74316735,"comment_id":131201652,"body_markdown":"When I run this code I get a `java.lang.StringIndexOutOfBoundsException: String index out of range: 6` and not the `true` return value you claim to get.","body":"When I run this code I get a <code>java.lang.StringIndexOutOfBoundsException: String index out of range: 6</code> and not the <code>true</code> return value you claim to get."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667564081,"post_id":74316735,"comment_id":131201747,"body_markdown":"But, after changing the condition to `n &lt; zahl.length` i think i see what you mean and your real problem is: You aren&#39;t converting your integer to chars correctly. `(char) 2` is not the same as `&#39;2&#39;`.  The int values of chars correspond to the [Ascii value](https://www.rapidtables.com/code/text/ascii-table.html) where `&#39;2&#39;` has the int value of `50`. A quick fix for your code would be to directly use chars as a data type: `char y = &#39;2&#39;` -&gt; `while (y &lt;= &#39;9&#39;)`","body":"But, after changing the condition to <code>n &lt; zahl.length</code> i think i see what you mean and your real problem is: You aren&#39;t converting your integer to chars correctly. <code>(char) 2</code> is not the same as <code>&#39;2&#39;</code>.  The int values of chars correspond to the <a href=\"https://www.rapidtables.com/code/text/ascii-table.html\" rel=\"nofollow noreferrer\">Ascii value</a> where <code>&#39;2&#39;</code> has the int value of <code>50</code>. A quick fix for your code would be to directly use chars as a data type: <code>char y = &#39;2&#39;</code> -&gt; <code>while (y &lt;= &#39;9&#39;)</code>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667564776,"post_id":74316735,"comment_id":131201977,"body_markdown":"What the hell do you call a dual number?","body":"What the hell do you call a dual number?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667565075,"post_id":74316735,"comment_id":131202066,"body_markdown":"OK, so I guess what you call a dual number is actually a binary number","body":"OK, so I guess what you call a dual number is actually a binary number"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1667565178,"post_id":74316735,"comment_id":131202113,"body_markdown":"Try `Character b = (char) (y + &#39;0&#39;);`","body":"Try <code>Character b = (char) (y + &#39;0&#39;);</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1667565354,"post_id":74316735,"comment_id":131202180,"body_markdown":"Try this instead: `return zahl.matches(&quot;.*(.).*\\\\1.*&quot;); ` if you want to detect duplicate digits, or `return zahl.matches(&quot;.*[2-9].*&quot;);` if you want to detect digits 2-9.","body":"Try this instead: <code>return zahl.matches(&quot;.*(.).*\\\\1.*&quot;); </code> if you want to detect duplicate digits, or <code>return zahl.matches(&quot;.*[2-9].*&quot;);</code> if you want to detect digits 2-9."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1667565401,"post_id":74316735,"comment_id":131202200,"body_markdown":"Don’t use `Character` at places where a `char` would do. Using `equals` with an `int` value will always fail because you end up comparing an `Integer` with a `Character`. In contrast, comparing `char` with `int` (just use `==` instead of `equals`) may succeed if the values match. And rethink you logic. You want to check whether the string solely consists of `&#39;1&#39;` and `&#39;0&#39;` values, so check for precisely that, instead of checking for other characters.","body":"Don’t use <code>Character</code> at places where a <code>char</code> would do. Using <code>equals</code> with an <code>int</code> value will always fail because you end up comparing an <code>Integer</code> with a <code>Character</code>. In contrast, comparing <code>char</code> with <code>int</code> (just use <code>==</code> instead of <code>equals</code>) may succeed if the values match. And rethink you logic. You want to check whether the string solely consists of <code>&#39;1&#39;</code> and <code>&#39;0&#39;</code> values, so check for precisely that, instead of checking for other characters."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667565330,"creation_date":1667565330,"answer_id":74317174,"question_id":74316735,"body_markdown":"Try something like this:\r\n\r\n    public static boolean istDualZahl(String zahl) {\r\n        for(int n = 0; n &lt; zahl.length(); ++n) {\r\n            char c = zahl.charAt(n);\r\n            if (c &gt;= &#39;2&#39; &amp;&amp; c &lt;= &#39;9&#39;) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n","title":"Check if String is a Dualnumber using if and while methods","body":"<p>Try something like this:</p>\n<pre><code>public static boolean istDualZahl(String zahl) {\n    for(int n = 0; n &lt; zahl.length(); ++n) {\n        char c = zahl.charAt(n);\n        if (c &gt;= '2' &amp;&amp; c &lt;= '9') {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":26828927,"reputation":1,"user_id":20417191,"display_name":"hus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667565330,"creation_date":1667563266,"question_id":74316735,"body_markdown":"\r\nwhen I run these methods it returns true no matter what the Input is and I haven&#39;t been able to figure out why this happens for the life of me. The code above is probably the 60th iteration I&#39;ve tried and nothing has worked out so far. Help is appreciated\r\n\r\nSo I have the first while loop go from the first Index of the String to the last, then I assign n to a character c. After that I open another while loop which is gonna go from 2 to 9 and assign  the variable y to the character b and then for each loop Im checking if the characters match and if they do its supposed to return false since a dualnumber may only consist of 1 and 0.\r\n\r\n\r\n```\r\npublic static boolean istDualZahl(String zahl)\r\n\t{\r\n\t\t\r\n\t\tint n = 0;\r\n\t\t\twhile(n &lt;= zahl.length()) {\r\n\t\t\t\t\r\n\t\t\t\tCharacter c = zahl.charAt(n);\r\n\t\t\t\t\t\r\n\t\t\t\t\tint y = 2;\r\n\t\t\t\t\twhile(y &lt;= 9) {\r\n\t\t\t\t\t\tCharacter b = (char) y;\r\n\t\t\t\t\t\tif(c.equals(b)) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ty++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tn++;\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\treturn true;\t\r\n\t}\r\n```\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(istDualZahl(&quot;101010&quot;));//Sollte true sein\r\n\t\tSystem.out.println(istDualZahl(&quot;123&quot;));//Sollte false sein\r\n\t\t\r\n\t}\r\n```\r\n\r\nshould return true and then false.","title":"Check if String is a Dualnumber using if and while methods","body":"<p>when I run these methods it returns true no matter what the Input is and I haven't been able to figure out why this happens for the life of me. The code above is probably the 60th iteration I've tried and nothing has worked out so far. Help is appreciated</p>\n<p>So I have the first while loop go from the first Index of the String to the last, then I assign n to a character c. After that I open another while loop which is gonna go from 2 to 9 and assign  the variable y to the character b and then for each loop Im checking if the characters match and if they do its supposed to return false since a dualnumber may only consist of 1 and 0.</p>\n<pre><code>public static boolean istDualZahl(String zahl)\n    {\n        \n        int n = 0;\n            while(n &lt;= zahl.length()) {\n                \n                Character c = zahl.charAt(n);\n                    \n                    int y = 2;\n                    while(y &lt;= 9) {\n                        Character b = (char) y;\n                        if(c.equals(b)) {\n                            return false;\n                            \n                        }\n                        y++;\n                        }\n                    n++;\n                    \n            }\n        \n            \n        return true;    \n    }\n</code></pre>\n<pre><code>    public static void main(String[] args) {\n        System.out.println(istDualZahl(&quot;101010&quot;));//Sollte true sein\n        System.out.println(istDualZahl(&quot;123&quot;));//Sollte false sein\n        \n    }\n</code></pre>\n<p>should return true and then false.</p>\n"},{"tags":["java","apache-poi","linechart"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664183955,"post_id":73851921,"comment_id":130404870,"body_markdown":"Are you creating the chart in the first place or is it coming form somewhere else?","body":"Are you creating the chart in the first place or is it coming form somewhere else?"},{"owner":{"account_id":18008854,"reputation":1,"user_id":13089017,"display_name":"beanairputih"},"score":0,"creation_date":1664185003,"post_id":73851921,"comment_id":130405232,"body_markdown":"yes I&#39;m creating the chart in the first place @XtremeBaumer","body":"yes I&#39;m creating the chart in the first place @XtremeBaumer"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664185620,"post_id":73851921,"comment_id":130405434,"body_markdown":"Where are you adding the data? Something like `XDDFLineChartData.Series series1 = (XDDFLineChartData.Series) data.addSeries(countries, area);` and `XDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, bottomAxis, leftAxis);` is missing from your code","body":"Where are you adding the data? Something like <code>XDDFLineChartData.Series series1 = (XDDFLineChartData.Series) data.addSeries(countries, area);</code> and <code>XDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, bottomAxis, leftAxis);</code> is missing from your code"},{"owner":{"account_id":18008854,"reputation":1,"user_id":13089017,"display_name":"beanairputih"},"score":0,"creation_date":1664185889,"post_id":73851921,"comment_id":130405506,"body_markdown":"I&#39;ve added the corresponding lines how to add the data in my question @XtremeBaumer","body":"I&#39;ve added the corresponding lines how to add the data in my question @XtremeBaumer"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1664189425,"post_id":73851921,"comment_id":130406576,"body_markdown":"Have you tried to swap `valuesData` and `categoriesData` in this line: `xddfLineChartData.addSeries(categoriesData, valuesData);`?","body":"Have you tried to swap <code>valuesData</code> and <code>categoriesData</code> in this line: <code>xddfLineChartData.addSeries(categoriesData, valuesData);</code>?"},{"owner":{"account_id":18008854,"reputation":1,"user_id":13089017,"display_name":"beanairputih"},"score":0,"creation_date":1664193754,"post_id":73851921,"comment_id":130407912,"body_markdown":"Yes I have tried to swap the data-contents between those two data, it still unfortunately exports the original result @XtremeBaumer","body":"Yes I have tried to swap the data-contents between those two data, it still unfortunately exports the original result @XtremeBaumer"}],"answers":[{"tags":[],"owner":{"account_id":18008854,"reputation":1,"user_id":13089017,"display_name":"beanairputih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664346542,"creation_date":1664346542,"answer_id":73877068,"question_id":73851921,"body_markdown":"It seems like apache does not support anything regarding &quot;rotation&quot; of chart area or switching the x- and y-values.\r\nWe ended up to use the original one (**ChartTypes.LINE**) like what we implemented till now.\r\n ","title":"how to rotate &quot;Axis&quot; from values and category in LineChart Java apache poi","body":"<p>It seems like apache does not support anything regarding &quot;rotation&quot; of chart area or switching the x- and y-values.\nWe ended up to use the original one (<strong>ChartTypes.LINE</strong>) like what we implemented till now.</p>\n"}],"owner":{"account_id":18008854,"reputation":1,"user_id":13089017,"display_name":"beanairputih"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667565083,"creation_date":1664183507,"question_id":73851921,"body_markdown":"Currently my diagram inside XLSX looks like this -&gt; [Line diagram xlsx result][1]\r\n\r\nUnfortunately I need to switch the position between category and values to be looked like this -&gt; [expected result line chart][2] where I need to place values of the chart on the X-Axis and category on the Y-axis.\r\n\r\nAre there any workaround or tipps how to rotate the position between these two axis in Java Apache POI?\r\n\r\nI&#39;ve tried to manage like this:\r\n\r\n        XSSFChart chart = drawing.createChart(anchor);\r\n        chart.setTitleText(&quot;Test Line Chart&quot;);\r\n        chart.setTitleOverlay(false);\r\n        XDDFChartLegend legend = chart.getOrAddLegend();\r\n        legend.setPosition(LegendPosition.TOP_RIGHT);\r\n\r\n        XDDFCategoryAxis leftAxis = chart.createCategoryAxis(AxisPosition.LEFT);\r\n        leftAxis.setTitle(&quot;Test Category&quot;);\r\n        XDDFValueAxis bottomAxis = chart.createValueAxis(AxisPosition.BOTTOM);\r\n        bottomAxis.setTitle(&quot;Test Values&quot;);\r\n        bottomAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n\r\n        int firstRowNum = sheet.getFirstRowNum() + 1; //hier wird auch ben&#246;tigt f&#252;r Balken-component\r\n        int lastRowNum = sheet.getLastRowNum();\r\n        XDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, leftAxis, bottomAxis);\r\n      \r\n\r\nBut lineChart still can&#39;t put category on X-Axis.\r\n\r\nPS: I&#39;ve also tried to use **AxisOrientation.MAX_MIN** for the categoryAxis, which at the end will be exported like [this][3]\r\n\r\nHow I add the data?\r\n\r\n    int indexColor = 0;\r\n    MutableInt mutableRow = new MutableInt(-1);\r\n    byte[] colorChart = vpsChartsXlsxDocumentExportService.setColorChart(colors.get(indexColor));\r\n    XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(colorChart));\r\n    \r\n    String[] rawCategoryData = translationService.translate(language, null, chartData.getCaptions().toArray(new String[chartData.getCaptions().size()]));\r\n    BigDecimal[] rawValueData = chartData.getValues().get(0).toArray(new BigDecimal[chartData.getValues().get(0).size()]); //not only the first index from array\r\n    \r\n    Row row = sheet.getRow(firstRowNum);\r\n    int cellValues = row.getLastCellNum() - 1;\r\n    int cellCategories = row.getFirstCellNum();\r\n    \r\n    XDDFDataSource&lt;String&gt; categoriesData = XDDFDataSourcesFactory.fromStringCellRange(\r\n            (XSSFSheet) sheet,\r\n            new CellRangeAddress(firstRowNum, lastRowNum, cellCategories, cellCategories));\r\n    \r\n    final int numOfPoints = rawCategoryData.length;\r\n    final String valuesDataRange = chart.formatRange(new CellRangeAddress(mutableRow.intValue(), numOfPoints, cellValues, cellValues));\r\n    final XDDFNumericalDataSource&lt;BigDecimal&gt; valuesData = XDDFDataSourcesFactory.fromArray(rawValueData, valuesDataRange, cellValues);\r\n    \r\n    xddfLineChartData.addSeries(categoriesData, valuesData);\r\n    chart.plot(xddfLineChartData);\r\n    XDDFChartData.Series series = xddfLineChartData.getSeries(0);\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c7xYl.png\r\n  [2]: https://i.stack.imgur.com/wWvmH.png\r\n  [3]: https://i.stack.imgur.com/4kSIJ.png","title":"how to rotate &quot;Axis&quot; from values and category in LineChart Java apache poi","body":"<p>Currently my diagram inside XLSX looks like this -&gt; <a href=\"https://i.stack.imgur.com/c7xYl.png\" rel=\"nofollow noreferrer\">Line diagram xlsx result</a></p>\n<p>Unfortunately I need to switch the position between category and values to be looked like this -&gt; <a href=\"https://i.stack.imgur.com/wWvmH.png\" rel=\"nofollow noreferrer\">expected result line chart</a> where I need to place values of the chart on the X-Axis and category on the Y-axis.</p>\n<p>Are there any workaround or tipps how to rotate the position between these two axis in Java Apache POI?</p>\n<p>I've tried to manage like this:</p>\n<pre><code>    XSSFChart chart = drawing.createChart(anchor);\n    chart.setTitleText(&quot;Test Line Chart&quot;);\n    chart.setTitleOverlay(false);\n    XDDFChartLegend legend = chart.getOrAddLegend();\n    legend.setPosition(LegendPosition.TOP_RIGHT);\n\n    XDDFCategoryAxis leftAxis = chart.createCategoryAxis(AxisPosition.LEFT);\n    leftAxis.setTitle(&quot;Test Category&quot;);\n    XDDFValueAxis bottomAxis = chart.createValueAxis(AxisPosition.BOTTOM);\n    bottomAxis.setTitle(&quot;Test Values&quot;);\n    bottomAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n\n    int firstRowNum = sheet.getFirstRowNum() + 1; //hier wird auch benötigt für Balken-component\n    int lastRowNum = sheet.getLastRowNum();\n    XDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, leftAxis, bottomAxis);\n  \n</code></pre>\n<p>But lineChart still can't put category on X-Axis.</p>\n<p>PS: I've also tried to use <strong>AxisOrientation.MAX_MIN</strong> for the categoryAxis, which at the end will be exported like <a href=\"https://i.stack.imgur.com/4kSIJ.png\" rel=\"nofollow noreferrer\">this</a></p>\n<p>How I add the data?</p>\n<pre><code>int indexColor = 0;\nMutableInt mutableRow = new MutableInt(-1);\nbyte[] colorChart = vpsChartsXlsxDocumentExportService.setColorChart(colors.get(indexColor));\nXDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(colorChart));\n\nString[] rawCategoryData = translationService.translate(language, null, chartData.getCaptions().toArray(new String[chartData.getCaptions().size()]));\nBigDecimal[] rawValueData = chartData.getValues().get(0).toArray(new BigDecimal[chartData.getValues().get(0).size()]); //not only the first index from array\n\nRow row = sheet.getRow(firstRowNum);\nint cellValues = row.getLastCellNum() - 1;\nint cellCategories = row.getFirstCellNum();\n\nXDDFDataSource&lt;String&gt; categoriesData = XDDFDataSourcesFactory.fromStringCellRange(\n        (XSSFSheet) sheet,\n        new CellRangeAddress(firstRowNum, lastRowNum, cellCategories, cellCategories));\n\nfinal int numOfPoints = rawCategoryData.length;\nfinal String valuesDataRange = chart.formatRange(new CellRangeAddress(mutableRow.intValue(), numOfPoints, cellValues, cellValues));\nfinal XDDFNumericalDataSource&lt;BigDecimal&gt; valuesData = XDDFDataSourcesFactory.fromArray(rawValueData, valuesDataRange, cellValues);\n\nxddfLineChartData.addSeries(categoriesData, valuesData);\nchart.plot(xddfLineChartData);\nXDDFChartData.Series series = xddfLineChartData.getSeries(0);\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667416555,"creation_date":1667416555,"answer_id":74294572,"question_id":74293818,"body_markdown":"So after a while and many many tryouts I&#39;ve finally got the templates working. Since there isn&#39;t any decent answer to my question flying round the internet, I will post my solution for others:\r\n\r\n```Java\r\n@Configuration\r\npublic class ThymeleafConfig implements ApplicationContextAware {\r\n\r\n    private ApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void setApplicationContext(@Autowired ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(this.applicationContext);\r\n        templateResolver.setPrefix(&quot;classpath:/templates-1/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(TemplateMode.HTML);\r\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        templateResolver.setOrder(1);\r\n        templateResolver.setCheckExistence(true); /* FYI: necessary to chain TemplateResolvers */\r\n        templateResolver.setCacheable(false);     /* FYI: during development -&gt; false, so that we can see changes we make */\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver2() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(this.applicationContext);\r\n        templateResolver.setPrefix(&quot;classpath:/templates-2/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(TemplateMode.HTML);\r\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        templateResolver.setOrder(2);\r\n        templateResolver.setCheckExistence(true); /* FYI: necessary to chain TemplateResolvers */\r\n        templateResolver.setCacheable(false);     /* FYI: during development -&gt; false, so that we can see changes we make */\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        /* SpringTemplateEngine automatically applies SpringStandardDialect and\r\n           enables Spring&#39;s own MessageSource message resolution mechanisms. */\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n\r\n        templateEngine.addTemplateResolver(this.templateResolver());\r\n        templateEngine.addTemplateResolver(this.templateResolver2());\r\n\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n        viewResolver.setTemplateEngine(this.templateEngine());\r\n        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        viewResolver.setCache(false);   /* FYI: during development -&gt; false */\r\n        viewResolver.setOrder(1);\r\n        return viewResolver;\r\n    }\r\n}\r\n```\r\nI hope this will help others to save time and nerves^^.","title":"How to use TWO SpringResourceTemplateResolver Beans?","body":"<p>So after a while and many many tryouts I've finally got the templates working. Since there isn't any decent answer to my question flying round the internet, I will post my solution for others:</p>\n<pre><code>@Configuration\npublic class ThymeleafConfig implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(@Autowired ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(this.applicationContext);\n        templateResolver.setPrefix(&quot;classpath:/templates-1/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        templateResolver.setOrder(1);\n        templateResolver.setCheckExistence(true); /* FYI: necessary to chain TemplateResolvers */\n        templateResolver.setCacheable(false);     /* FYI: during development -&gt; false, so that we can see changes we make */\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver2() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(this.applicationContext);\n        templateResolver.setPrefix(&quot;classpath:/templates-2/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        templateResolver.setOrder(2);\n        templateResolver.setCheckExistence(true); /* FYI: necessary to chain TemplateResolvers */\n        templateResolver.setCacheable(false);     /* FYI: during development -&gt; false, so that we can see changes we make */\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        /* SpringTemplateEngine automatically applies SpringStandardDialect and\n           enables Spring's own MessageSource message resolution mechanisms. */\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n\n        templateEngine.addTemplateResolver(this.templateResolver());\n        templateEngine.addTemplateResolver(this.templateResolver2());\n\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Bean\n    public ViewResolver viewResolver() {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setTemplateEngine(this.templateEngine());\n        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        viewResolver.setCache(false);   /* FYI: during development -&gt; false */\n        viewResolver.setOrder(1);\n        return viewResolver;\n    }\n}\n</code></pre>\n<p>I hope this will help others to save time and nerves^^.</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667564931,"creation_date":1667564931,"answer_id":74317086,"question_id":74293818,"body_markdown":"If you are using Spring Boot, you can add an extra resolver on top of the default one like this:\r\n\r\nFirst, add this to `application.properties`:\r\n\r\n    # This ensures that the default HTML template resolver of Thymeleaf has priority over our custom SVG resolver\r\n    spring.thymeleaf.template-resolver-order=0\r\n\r\nThen add the extra resolver in a `@Configuration` class:\r\n\r\n```\r\n@Configuration\r\npublic class MyApplicationConfiguration {\r\n\r\n    @Bean\r\n    public ITemplateResolver svgTemplateResolver() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setPrefix(&quot;classpath:/templates/svg/&quot;);\r\n        resolver.setSuffix(&quot;.svg&quot;);\r\n        resolver.setTemplateMode(&quot;XML&quot;);\r\n\r\n        return resolver;\r\n    }\r\n}\r\n```\r\n\r\nThere is no need to manually define `SpringTemplateEngine` and `ViewResolver` beans.\r\n\r\nYou can disable caching during development using `spring.thymeleaf.cache=false`.","title":"How to use TWO SpringResourceTemplateResolver Beans?","body":"<p>If you are using Spring Boot, you can add an extra resolver on top of the default one like this:</p>\n<p>First, add this to <code>application.properties</code>:</p>\n<pre><code># This ensures that the default HTML template resolver of Thymeleaf has priority over our custom SVG resolver\nspring.thymeleaf.template-resolver-order=0\n</code></pre>\n<p>Then add the extra resolver in a <code>@Configuration</code> class:</p>\n<pre><code>@Configuration\npublic class MyApplicationConfiguration {\n\n    @Bean\n    public ITemplateResolver svgTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setPrefix(&quot;classpath:/templates/svg/&quot;);\n        resolver.setSuffix(&quot;.svg&quot;);\n        resolver.setTemplateMode(&quot;XML&quot;);\n\n        return resolver;\n    }\n}\n</code></pre>\n<p>There is no need to manually define <code>SpringTemplateEngine</code> and <code>ViewResolver</code> beans.</p>\n<p>You can disable caching during development using <code>spring.thymeleaf.cache=false</code>.</p>\n"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667564931,"creation_date":1667412257,"question_id":74293818,"body_markdown":"Since Thymeleaf 3, Thymeleaf prefers the use of `SpringResourceTemplateResolver` (https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html). So I decided to go from `ClassLoaderTemplateResolver` to `SpringResourceTemplateResolver`:\r\n\r\n```Java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\r\n        registry.setOrder(1);\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setPrefix(&quot;/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        resolver.setOrder(0);\r\n        resolver.setCheckExistence(true);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver2() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setPrefix(&quot;/templates-2/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        resolver.setOrder(1);\r\n        resolver.setCheckExistence(true);\r\n        return resolver;\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, when implementig like this, I&#39;ll get an error:\r\n`Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers`.\r\n\r\nTo be honest, I&#39;ve simple replaced `ClassLoaderTemplateResolver` with `SpringResourceTemplateResolver` in the hope, this will work. It doesn&#39;t. But searching for a working solution dealing with two template locations, all I find are outdated samples using ClassLoaderTemplateResolvers.\r\n\r\nTrying to implement the code snippet provided by Thymeleaf as shown here https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html won&#39;t work either when using two template directories, besides the fact, that this code itself uses the deprecated WebMvcConfigurerAdapter.\r\n\r\nIs there any example how to configure a Spring Boot application using Thymeleaf having two or more template locations which isn&#39;t completely outdated?\r\n\r\n","title":"How to use TWO SpringResourceTemplateResolver Beans?","body":"<p>Since Thymeleaf 3, Thymeleaf prefers the use of <code>SpringResourceTemplateResolver</code> (<a href=\"https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html</a>). So I decided to go from <code>ClassLoaderTemplateResolver</code> to <code>SpringResourceTemplateResolver</code>:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n        registry.setOrder(1);\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setPrefix(&quot;/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setOrder(0);\n        resolver.setCheckExistence(true);\n        return resolver;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver2() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setPrefix(&quot;/templates-2/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setOrder(1);\n        resolver.setCheckExistence(true);\n        return resolver;\n    }\n}\n</code></pre>\n<p>Unfortunately, when implementig like this, I'll get an error:\n<code>Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers</code>.</p>\n<p>To be honest, I've simple replaced <code>ClassLoaderTemplateResolver</code> with <code>SpringResourceTemplateResolver</code> in the hope, this will work. It doesn't. But searching for a working solution dealing with two template locations, all I find are outdated samples using ClassLoaderTemplateResolvers.</p>\n<p>Trying to implement the code snippet provided by Thymeleaf as shown here <a href=\"https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html</a> won't work either when using two template directories, besides the fact, that this code itself uses the deprecated WebMvcConfigurerAdapter.</p>\n<p>Is there any example how to configure a Spring Boot application using Thymeleaf having two or more template locations which isn't completely outdated?</p>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581342686,"creation_date":1581342295,"answer_id":60151773,"question_id":60145128,"body_markdown":"This is not yet supported by `XDDFCategoryAxis`. But of course the underlying `ooxml-schemas` classes support it.\r\n\r\nSo we could get the `org.openxmlformats.schemas.drawingml.x2006.main.CTTextBody` from the category axis and set rotation property there. Because of the `bottomAxis.getOrAddTextProperties()` setting, we can be sure, there is a `TxPr` already and also a `BodyPr`. So we need no `null` check for those.\r\n\r\nOnly additional challenge are the values of the rotation. We can set rotation from 0 to 90 degrees and 0 to -90 degrees. There 90 degrees is a value of 5400000.\r\n\r\nExample:\r\n\r\n    ...\r\n      bottomAxis.getOrAddTextProperties().setBold(true);\r\n\r\n      java.lang.reflect.Field _ctCatAx = XDDFCategoryAxis.class.getDeclaredField(&quot;ctCatAx&quot;);\r\n      _ctCatAx.setAccessible(true);\r\n      org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx ctCatAx = (org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx)_ctCatAx.get(bottomAxis);\r\n      org.openxmlformats.schemas.drawingml.x2006.main.CTTextBody text = ctCatAx.getTxPr(); // there is a TxPr already because of bottomAxis.getOrAddTextProperties()\r\n\r\n      int rotAngle = 0;\r\n      //int plus90Deg = 5400000; rotAngle = plus90Deg;\r\n      //int minus90Deg = -5400000; rotAngle = minus90Deg;\r\n      //int plus45Deg = (int)Math.round(5400000/2d); rotAngle = plus45Deg;\r\n      int minus45Deg = (int)Math.round(-5400000/2d); rotAngle = minus45Deg;\r\n\r\n      text.getBodyPr().setRot(rotAngle); // there is a BodyPr already because of bottomAxis.getOrAddTextProperties()\r\n    ...","title":"how to rotate text labels in Apache POI XSSFChart","body":"<p>This is not yet supported by <code>XDDFCategoryAxis</code>. But of course the underlying <code>ooxml-schemas</code> classes support it.</p>\n\n<p>So we could get the <code>org.openxmlformats.schemas.drawingml.x2006.main.CTTextBody</code> from the category axis and set rotation property there. Because of the <code>bottomAxis.getOrAddTextProperties()</code> setting, we can be sure, there is a <code>TxPr</code> already and also a <code>BodyPr</code>. So we need no <code>null</code> check for those.</p>\n\n<p>Only additional challenge are the values of the rotation. We can set rotation from 0 to 90 degrees and 0 to -90 degrees. There 90 degrees is a value of 5400000.</p>\n\n<p>Example:</p>\n\n<pre><code>...\n  bottomAxis.getOrAddTextProperties().setBold(true);\n\n  java.lang.reflect.Field _ctCatAx = XDDFCategoryAxis.class.getDeclaredField(\"ctCatAx\");\n  _ctCatAx.setAccessible(true);\n  org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx ctCatAx = (org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx)_ctCatAx.get(bottomAxis);\n  org.openxmlformats.schemas.drawingml.x2006.main.CTTextBody text = ctCatAx.getTxPr(); // there is a TxPr already because of bottomAxis.getOrAddTextProperties()\n\n  int rotAngle = 0;\n  //int plus90Deg = 5400000; rotAngle = plus90Deg;\n  //int minus90Deg = -5400000; rotAngle = minus90Deg;\n  //int plus45Deg = (int)Math.round(5400000/2d); rotAngle = plus45Deg;\n  int minus45Deg = (int)Math.round(-5400000/2d); rotAngle = minus45Deg;\n\n  text.getBodyPr().setRot(rotAngle); // there is a BodyPr already because of bottomAxis.getOrAddTextProperties()\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2548075,"reputation":2913,"user_id":2212458,"accept_rate":79,"display_name":"denver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666192575,"creation_date":1666192575,"answer_id":74127888,"question_id":60145128,"body_markdown":"A slight simplification of the answer provided by @Axel Richter.\r\n\r\n    // Starting with the chart and axis.\r\n    XSSFChart chart = ...\r\n    XDDFCategoryAxis categoryAxis = ...\r\n\r\n    // triggers creation of TxtPr and BodyPr used when setting the rotation\r\n    categoryAxis.getOrAddTextProperties();\r\n\r\n    // set the rotation angle\r\n    chart.getCTChart().getPlotArea().getCatAxArray(0).getTxPr().getBodyPr().setRot(-5400000);\r\n\r\nAnd for reference the rotation angle is defined as 1/60000 of a degree, so set the value to degrees*60000.\r\n \r\n","title":"how to rotate text labels in Apache POI XSSFChart","body":"<p>A slight simplification of the answer provided by @Axel Richter.</p>\n<pre><code>// Starting with the chart and axis.\nXSSFChart chart = ...\nXDDFCategoryAxis categoryAxis = ...\n\n// triggers creation of TxtPr and BodyPr used when setting the rotation\ncategoryAxis.getOrAddTextProperties();\n\n// set the rotation angle\nchart.getCTChart().getPlotArea().getCatAxArray(0).getTxPr().getBodyPr().setRot(-5400000);\n</code></pre>\n<p>And for reference the rotation angle is defined as 1/60000 of a degree, so set the value to degrees*60000.</p>\n"}],"owner":{"account_id":5487190,"reputation":1471,"user_id":4361584,"accept_rate":44,"display_name":"Ajantha Bandara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667564817,"creation_date":1581316187,"question_id":60145128,"body_markdown":"I&#39;m trying to generate an excel document that contains Bar chats using Apache POI library. I want to rotate the text in x-axis labels, but there is no option to rotate the text. This is what I have tried so far\r\n\r\n    XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n    XSSFClientAnchor anchor = drawing\r\n                    .createAnchor(0, 0, 0, 0, graphStartColumn, graphStartRow, graphEndColumn, graphEndRow);\r\n     XSSFChart chart = drawing.createChart(anchor);\r\n\r\n    XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n    bottomAxis.setTitle(report.getX().getLegend());\r\n    bottomAxis.getOrAddTextProperties().setBold(true);\r\n    // here I&#39;m trying to add text rotation to x-axis labels, but I don&#39;t see an option in axis\r\n \r\n    XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n    leftAxis.setTitle(report.getY().get(0).getLegend());\r\n    leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n\r\nDoes anyone know how to rotate text on the x-axis?","title":"how to rotate text labels in Apache POI XSSFChart","body":"<p>I'm trying to generate an excel document that contains Bar chats using Apache POI library. I want to rotate the text in x-axis labels, but there is no option to rotate the text. This is what I have tried so far</p>\n\n<pre><code>XSSFDrawing drawing = sheet.createDrawingPatriarch();\nXSSFClientAnchor anchor = drawing\n                .createAnchor(0, 0, 0, 0, graphStartColumn, graphStartRow, graphEndColumn, graphEndRow);\n XSSFChart chart = drawing.createChart(anchor);\n\nXDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\nbottomAxis.setTitle(report.getX().getLegend());\nbottomAxis.getOrAddTextProperties().setBold(true);\n// here I'm trying to add text rotation to x-axis labels, but I don't see an option in axis\n\nXDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\nleftAxis.setTitle(report.getY().get(0).getLegend());\nleftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n</code></pre>\n\n<p>Does anyone know how to rotate text on the x-axis?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667564672,"creation_date":1667564672,"answer_id":74317033,"question_id":74266254,"body_markdown":"In order to access the `CustId` field you must first recognize that that field does not belong to the `CommonDTO` class.  Therefore, there is no guarantee that a given instance will have that field.  If every instance is supposed to have the field then move that field to that class to properly model the data.\r\n\r\nGiven the existing models, there is a `CustId` field in both `Emp` and `Student` but these are NOT the same field.  You can test the data type of a given instance, cast it, and call the appropriate method.\r\n\r\n    public String getCustId(CommonDTO dto) {\r\n      if (dto instanceof Emp) {\r\n        return ((Emp)dto).getCustId();\r\n      }\r\n      if (dto instanceof Student) {\r\n        return ((Student)dto).getCustId();\r\n      }\r\n      return null;\r\n    }\r\n\r\nIf you have leeway to alter the data model then you can move `CustId` to the parent class (i.e. CommonDTO).  Let&#39;s assume that his class is provided and you cannot change it.  However, you still have leeway to alter the `Emp` and `Student` models.\r\n\r\nYou could also define a common interface that defines the property via method and have each of the classes implement that interface.\r\n\r\n    public interface Custmor {\r\n      public String getCustId();\r\n    }\r\n\r\n    public class Emp implements Customer {\r\n      private String custId;\r\n      public String getCustId() { return custId; }\r\n      ...\r\n    }\r\n\r\n    public class Student implements Customer {\r\n      private String custId;\r\n      public String getCustId() { return custId; }\r\n      ...\r\n    }\r\n\r\nThen you can handle the data via the interface.\r\n\r\n    public String getCustId(CommonDTO dto) {\r\n      if (dto instanceof Customer) {\r\n        return ((Customer)dto).getCustId();\r\n      }\r\n      return null;\r\n    }\r\n\r\nAlternatively, you could create a `Customer` class that extends the `CommonDTO` and serves as a base class for both of these...\r\n\r\n    public class Customer extends CommonDTO {\r\n      private custId;\r\n      public String getCustId() { return custId; }\r\n      ...\r\n    }\r\n\r\nAnd alter the `Emp` and `Student` classes to extend this...\r\n\r\n    public class Emp extends Customer { ... }\r\n    public class Student extends Customer { ... }\r\n\r\nIn either case (interface or common base class), you can then use `instanceof` to determine if a given `CommonDTO` instance is a `Customer` and cast it to access the method.  You can use the Stream API to easily pull the `custId`s from the `Customer`s in a `List&lt;CommonDTO&gt;`:\r\n\r\n    List&lt;String&gt; customerIds = commonList.stream()\r\n         .filter(c -&gt; c instanceof Customer) // filter out the non-Customer elements out of the streawm\r\n         .map(c -&gt; (Customer)c) // cast the CommonDTO to a Customer\r\n         .map(c -&gt; c.getCustId()) // get the custId\r\n         .collect(Collectors.toList()); // capture the custIds in a List\r\n\r\np.s. suggest that you adhere to Java naming conventions (e.g. variable names begin with lower case letter).","title":"CustId is primary key and been used in every class file so how I can fetch data member CustId value from List&lt;CommonDTO&gt; list = new ArrayList&lt;&gt;()","body":"<p>In order to access the <code>CustId</code> field you must first recognize that that field does not belong to the <code>CommonDTO</code> class.  Therefore, there is no guarantee that a given instance will have that field.  If every instance is supposed to have the field then move that field to that class to properly model the data.</p>\n<p>Given the existing models, there is a <code>CustId</code> field in both <code>Emp</code> and <code>Student</code> but these are NOT the same field.  You can test the data type of a given instance, cast it, and call the appropriate method.</p>\n<pre><code>public String getCustId(CommonDTO dto) {\n  if (dto instanceof Emp) {\n    return ((Emp)dto).getCustId();\n  }\n  if (dto instanceof Student) {\n    return ((Student)dto).getCustId();\n  }\n  return null;\n}\n</code></pre>\n<p>If you have leeway to alter the data model then you can move <code>CustId</code> to the parent class (i.e. CommonDTO).  Let's assume that his class is provided and you cannot change it.  However, you still have leeway to alter the <code>Emp</code> and <code>Student</code> models.</p>\n<p>You could also define a common interface that defines the property via method and have each of the classes implement that interface.</p>\n<pre><code>public interface Custmor {\n  public String getCustId();\n}\n\npublic class Emp implements Customer {\n  private String custId;\n  public String getCustId() { return custId; }\n  ...\n}\n\npublic class Student implements Customer {\n  private String custId;\n  public String getCustId() { return custId; }\n  ...\n}\n</code></pre>\n<p>Then you can handle the data via the interface.</p>\n<pre><code>public String getCustId(CommonDTO dto) {\n  if (dto instanceof Customer) {\n    return ((Customer)dto).getCustId();\n  }\n  return null;\n}\n</code></pre>\n<p>Alternatively, you could create a <code>Customer</code> class that extends the <code>CommonDTO</code> and serves as a base class for both of these...</p>\n<pre><code>public class Customer extends CommonDTO {\n  private custId;\n  public String getCustId() { return custId; }\n  ...\n}\n</code></pre>\n<p>And alter the <code>Emp</code> and <code>Student</code> classes to extend this...</p>\n<pre><code>public class Emp extends Customer { ... }\npublic class Student extends Customer { ... }\n</code></pre>\n<p>In either case (interface or common base class), you can then use <code>instanceof</code> to determine if a given <code>CommonDTO</code> instance is a <code>Customer</code> and cast it to access the method.  You can use the Stream API to easily pull the <code>custId</code>s from the <code>Customer</code>s in a <code>List&lt;CommonDTO&gt;</code>:</p>\n<pre><code>List&lt;String&gt; customerIds = commonList.stream()\n     .filter(c -&gt; c instanceof Customer) // filter out the non-Customer elements out of the streawm\n     .map(c -&gt; (Customer)c) // cast the CommonDTO to a Customer\n     .map(c -&gt; c.getCustId()) // get the custId\n     .collect(Collectors.toList()); // capture the custIds in a List\n</code></pre>\n<p>p.s. suggest that you adhere to Java naming conventions (e.g. variable names begin with lower case letter).</p>\n"}],"owner":{"account_id":20080498,"reputation":1,"user_id":14723224,"display_name":"danceAyush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667564672,"creation_date":1667233276,"question_id":74266254,"body_markdown":"How can I fetch `custId` from a list which has a generic interface? I tried fetching `custId` via `list.getClass.getField(&quot;custId&quot;)` but unfortunately, the value is not coming.\r\n\r\n```java\r\nclass Emp implements CommonDto {\r\n    private String CustId;\r\n    private String EmpId;\r\n    private String EmpName;\r\n}\r\nclass Student implements CommonDto{\r\n    private String CustId;\r\n    private String StudentId;\r\n    private String StudentName;\r\n}\r\npublic interface CommonDto {\r\n}\r\npublic class TestApplication {\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException, IllegalArgumentException {\r\n\r\n        Emp emp = new Emp(1 , 100, &quot;ayush&quot;);\r\n\r\n        List&lt;Emp&gt; temp = new ArrayList&lt;&gt;() ;\r\n        temp.add(emp);\r\n\r\n        List&lt;CommonDto&gt; commonList = new ArrayList&lt;&gt;();\r\n        commonList.add(temp);\r\n\r\n        for(CommonDto comm : commonList)// is this the right way to fetch CustId \r\n            \r\n        {\r\n            // fetch cusId from every domain and add it to new list and return that list\r\n        }\r\n}}\r\n```                    ","title":"CustId is primary key and been used in every class file so how I can fetch data member CustId value from List&lt;CommonDTO&gt; list = new ArrayList&lt;&gt;()","body":"<p>How can I fetch <code>custId</code> from a list which has a generic interface? I tried fetching <code>custId</code> via <code>list.getClass.getField(&quot;custId&quot;)</code> but unfortunately, the value is not coming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Emp implements CommonDto {\n    private String CustId;\n    private String EmpId;\n    private String EmpName;\n}\nclass Student implements CommonDto{\n    private String CustId;\n    private String StudentId;\n    private String StudentName;\n}\npublic interface CommonDto {\n}\npublic class TestApplication {\n\n    public static void main(String[] args) throws NoSuchFieldException, IllegalArgumentException {\n\n        Emp emp = new Emp(1 , 100, &quot;ayush&quot;);\n\n        List&lt;Emp&gt; temp = new ArrayList&lt;&gt;() ;\n        temp.add(emp);\n\n        List&lt;CommonDto&gt; commonList = new ArrayList&lt;&gt;();\n        commonList.add(temp);\n\n        for(CommonDto comm : commonList)// is this the right way to fetch CustId \n            \n        {\n            // fetch cusId from every domain and add it to new list and return that list\n        }\n}}\n</code></pre>\n"},{"tags":["java","apache-poi","xdocreport","docx-to-pdf-conversion"],"owner":{"account_id":4207624,"reputation":21,"user_id":3446173,"display_name":"rul0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667564615,"creation_date":1667564615,"question_id":74317022,"body_markdown":"When converting a docx file ([testDocument.docx](https://github.com/opensagres/xdocreport/files/9937006/testDocument.docx)) to PDF using xdocreport, the output file ([testDocument-new.pdf](https://github.com/opensagres/xdocreport/files/9937007/testDocument-new.pdf)) has some overlapping words.\r\n\r\nIn order to replicate the issue, here you have the code:\r\n\r\n```\r\n@Test\r\nvoid simpletestconversion() {\r\n\ttry(InputStream in = new FileInputStream(docPath);\r\n\t\tOutputStream out = new FileOutputStream(pdfPath)) {\r\n\r\n\t\tXWPFDocument document = new XWPFDocument(in);\r\n\t\tPdfOptions pdfOptions = PdfOptions.create();\r\n\t\t// Use a special font provider for chinese\r\n\t\tpdfOptions.fontProvider(CHINESE_FONT_PROVIDER);\r\n\r\n\t\tPdfConverter.getInstance().convert(document, out, pdfOptions);\r\n\t} catch(Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nwith Chinese font provider defined as follow ([here](https://chinesefonts.org/fonts/noto-sans-cjk-regular) you can find the font)\r\n\r\n```\r\nprivate static final IFontProvider CHINESE_FONT_PROVIDER = (familyName, encoding, size, style, color) -&gt; {\r\n\ttry {\r\n\t\tBaseFont bf = BaseFont.createFont(&quot;NotoSansCJK-Regular.ttc&quot; + &quot;,0&quot;, BaseFont.IDENTITY_H,\r\n\t\t\t\t\t\t\t\t\t\t  BaseFont.NOT_EMBEDDED);\r\n\t\tFont font = new Font(bf, size, style, color);\r\n\t\tif(familyName != null) {\r\n\t\t\tfont.setFamily(familyName);\r\n\t\t}\r\n\t\treturn font;\r\n\t} catch(DocumentException | IOException e) {\r\n\t\tlog.error(&quot;Font error&quot;, e);\r\n\t\treturn ITextFontRegistry.getRegistry().getFont(familyName, encoding, size, style, color);\r\n\t}\r\n};\r\n```\r\n\r\nand using the following dependencies in the pom file\r\n\r\n```\r\n...\r\n &lt;apache-poi.version&gt;5.2.3&lt;/apache-poi.version&gt;\r\n...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThank you so much for your help since I haven&#39;t found any related issues.","title":"Apache poi 5 -PDF converter from docx generates overlapping words","body":"<p>When converting a docx file (<a href=\"https://github.com/opensagres/xdocreport/files/9937006/testDocument.docx\" rel=\"nofollow noreferrer\">testDocument.docx</a>) to PDF using xdocreport, the output file (<a href=\"https://github.com/opensagres/xdocreport/files/9937007/testDocument-new.pdf\" rel=\"nofollow noreferrer\">testDocument-new.pdf</a>) has some overlapping words.</p>\n<p>In order to replicate the issue, here you have the code:</p>\n<pre><code>@Test\nvoid simpletestconversion() {\n    try(InputStream in = new FileInputStream(docPath);\n        OutputStream out = new FileOutputStream(pdfPath)) {\n\n        XWPFDocument document = new XWPFDocument(in);\n        PdfOptions pdfOptions = PdfOptions.create();\n        // Use a special font provider for chinese\n        pdfOptions.fontProvider(CHINESE_FONT_PROVIDER);\n\n        PdfConverter.getInstance().convert(document, out, pdfOptions);\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>with Chinese font provider defined as follow (<a href=\"https://chinesefonts.org/fonts/noto-sans-cjk-regular\" rel=\"nofollow noreferrer\">here</a> you can find the font)</p>\n<pre><code>private static final IFontProvider CHINESE_FONT_PROVIDER = (familyName, encoding, size, style, color) -&gt; {\n    try {\n        BaseFont bf = BaseFont.createFont(&quot;NotoSansCJK-Regular.ttc&quot; + &quot;,0&quot;, BaseFont.IDENTITY_H,\n                                          BaseFont.NOT_EMBEDDED);\n        Font font = new Font(bf, size, style, color);\n        if(familyName != null) {\n            font.setFamily(familyName);\n        }\n        return font;\n    } catch(DocumentException | IOException e) {\n        log.error(&quot;Font error&quot;, e);\n        return ITextFontRegistry.getRegistry().getFont(familyName, encoding, size, style, color);\n    }\n};\n</code></pre>\n<p>and using the following dependencies in the pom file</p>\n<pre><code>...\n &lt;apache-poi.version&gt;5.2.3&lt;/apache-poi.version&gt;\n...\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Thank you so much for your help since I haven't found any related issues.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"down_vote_count":1,"up_vote_count":308,"is_accepted":false,"score":307,"last_activity_date":1429618301,"creation_date":1429618301,"answer_id":29771875,"question_id":29740078,"body_markdown":"This is not possible in Lombok. Although it would be a really nice feature, it requires resolution to find the constructors of the super class. The super class is only known by name the moment Lombok gets invoked. Using the import statements and the classpath to find the actual class is not trivial. And during compilation you cannot just use reflection to get a list of constructors.\r\n\r\nIt is not entirely impossible but the results using resolution in `val` and `@ExtensionMethod` have taught us that is it hard and error-prone.\r\n\r\nDisclosure: I am a Lombok developer.","title":"how to Call super constructor in Lombok","body":"<p>This is not possible in Lombok. Although it would be a really nice feature, it requires resolution to find the constructors of the super class. The super class is only known by name the moment Lombok gets invoked. Using the import statements and the classpath to find the actual class is not trivial. And during compilation you cannot just use reflection to get a list of constructors.</p>\n\n<p>It is not entirely impossible but the results using resolution in <code>val</code> and <code>@ExtensionMethod</code> have taught us that is it hard and error-prone.</p>\n\n<p>Disclosure: I am a Lombok developer.</p>\n"},{"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"down_vote_count":14,"up_vote_count":44,"is_accepted":false,"score":30,"last_activity_date":1460584249,"creation_date":1460584249,"answer_id":36610224,"question_id":29740078,"body_markdown":"[Lombok Issue #78][1] references this page https://www.donneo.de/2015/09/16/lomboks-builder-annotation-and-inheritance/ with this lovely explanation:\r\n\r\n&gt;     @AllArgsConstructor \r\n&gt;     public class Parent {   \r\n&gt;          private String a; \r\n&gt;     }\r\n&gt; \r\n&gt;     public class Child extends Parent {\r\n&gt;       private String b;\r\n&gt;       \r\n&gt;       @Builder\r\n&gt;       public Child(String a, String b){\r\n&gt;         super(a);\r\n&gt;         this.b = b;   \r\n&gt;       } \r\n&gt;     } \r\n&gt; \r\n&gt; As a result you can then use the generated builder like this:\r\n&gt; \r\n&gt;     Child.builder().a(&quot;testA&quot;).b(&quot;testB&quot;).build(); \r\n&gt; \r\n&gt; The [official documentation][2] explains this, but it doesn’t explicitly point out that you can facilitate it in this way.\r\n\r\nI also found this works nicely with Spring Data JPA.\r\n\r\n  [1]: https://github.com/peichhorn/lombok-pg/issues/78\r\n  [2]: https://projectlombok.org/features/Builder.html","title":"how to Call super constructor in Lombok","body":"<p><a href=\"https://github.com/peichhorn/lombok-pg/issues/78\" rel=\"noreferrer\">Lombok Issue #78</a> references this page <a href=\"https://www.donneo.de/2015/09/16/lomboks-builder-annotation-and-inheritance/\" rel=\"noreferrer\">https://www.donneo.de/2015/09/16/lomboks-builder-annotation-and-inheritance/</a> with this lovely explanation:</p>\n\n<blockquote>\n<pre><code>@AllArgsConstructor \npublic class Parent {   \n     private String a; \n}\n\npublic class Child extends Parent {\n  private String b;\n\n  @Builder\n  public Child(String a, String b){\n    super(a);\n    this.b = b;   \n  } \n} \n</code></pre>\n  \n  <p>As a result you can then use the generated builder like this:</p>\n\n<pre><code>Child.builder().a(\"testA\").b(\"testB\").build(); \n</code></pre>\n  \n  <p>The <a href=\"https://projectlombok.org/features/Builder.html\" rel=\"noreferrer\">official documentation</a> explains this, but it doesn’t explicitly point out that you can facilitate it in this way.</p>\n</blockquote>\n\n<p>I also found this works nicely with Spring Data JPA.</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1470904593,"creation_date":1470904593,"answer_id":38891295,"question_id":29740078,"body_markdown":"Lombok does not support that also indicated by making any `@Value` annotated class `final` (as you know by using `@NonFinal`).\r\n\r\nThe only workaround I found is to declare all members final yourself and use the `@Data` annotation instead. Those subclasses need to be annotated by `@EqualsAndHashCode` and need an explicit all args constructor as Lombok doesn&#39;t know how to create one using the all args one of the super class:\r\n\r\n    @Data\r\n    public class A {\r\n        private final int x;\r\n        private final int y;\r\n    }\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class B extends A {\r\n        private final int z;\r\n\r\n        public B(int x, int y, int z) {\r\n            super(x, y);\r\n            this.z = z;\r\n        }\r\n    }\r\n\r\nEspecially the constructors of the subclasses make the solution a little untidy for superclasses with many members, sorry.","title":"how to Call super constructor in Lombok","body":"<p>Lombok does not support that also indicated by making any <code>@Value</code> annotated class <code>final</code> (as you know by using <code>@NonFinal</code>).</p>\n\n<p>The only workaround I found is to declare all members final yourself and use the <code>@Data</code> annotation instead. Those subclasses need to be annotated by <code>@EqualsAndHashCode</code> and need an explicit all args constructor as Lombok doesn't know how to create one using the all args one of the super class:</p>\n\n<pre><code>@Data\npublic class A {\n    private final int x;\n    private final int y;\n}\n\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class B extends A {\n    private final int z;\n\n    public B(int x, int y, int z) {\n        super(x, y);\n        this.z = z;\n    }\n}\n</code></pre>\n\n<p>Especially the constructors of the subclasses make the solution a little untidy for superclasses with many members, sorry.</p>\n"},{"tags":[],"owner":{"account_id":8244696,"reputation":71,"user_id":6201214,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1485381359,"creation_date":1485381359,"answer_id":41862380,"question_id":29740078,"body_markdown":"for superclasses with many members I would suggest you to use @Delegate\r\n\r\n    @Data\r\n    public class A {\r\n        @Delegate public class AInner{\r\n            private final int x;\r\n            private final int y;\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class B extends A {\r\n        private final int z;\r\n\r\n        public B(A.AInner a, int z) {\r\n            super(a);\r\n            this.z = z;\r\n        }\r\n    }\r\n ","title":"how to Call super constructor in Lombok","body":"<p>for superclasses with many members I would suggest you to use @Delegate</p>\n\n<pre><code>@Data\npublic class A {\n    @Delegate public class AInner{\n        private final int x;\n        private final int y;\n    }\n}\n\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class B extends A {\n    private final int z;\n\n    public B(A.AInner a, int z) {\n        super(a);\n        this.z = z;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1511199459,"creation_date":1511199459,"answer_id":47397959,"question_id":29740078,"body_markdown":"If child class has more members, than parent, it could be done not very clean, but short way:\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @ToString(callSuper = true)\r\n    public class User extends BaseEntity {\r\n        private @NonNull String fullName;\r\n        private @NonNull String email;\r\n        ... \r\n\r\n        public User(Integer id, String fullName, String email, ....) {\r\n            this(fullName, email, ....);\r\n            this.id = id;\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    abstract public class BaseEntity {\r\n       protected Integer id;\r\n\r\n       public boolean isNew() {\r\n          return id == null;\r\n       }\r\n    }","title":"how to Call super constructor in Lombok","body":"<p>If child class has more members, than parent, it could be done not very clean, but short way:</p>\n\n<pre><code>@Data\n@RequiredArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\npublic class User extends BaseEntity {\n    private @NonNull String fullName;\n    private @NonNull String email;\n    ... \n\n    public User(Integer id, String fullName, String email, ....) {\n        this(fullName, email, ....);\n        this.id = id;\n    }\n}\n\n@Data\n@AllArgsConstructor\nabstract public class BaseEntity {\n   protected Integer id;\n\n   public boolean isNew() {\n      return id == null;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3532513,"reputation":686,"user_id":2951619,"display_name":"Alan Ho"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1586628008,"creation_date":1586628008,"answer_id":61161385,"question_id":29740078,"body_markdown":"Version 1.18 of Lombok introduced the @SuperBuilder annotation. We can use this to solve our problem in a simpler way.\r\n\r\nYou can refer to https://www.baeldung.com/lombok-builder-inheritance#lombok-builder-and-inheritance-3.\r\n\r\nso in your child class, you will need these annotations:\r\n```\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n```\r\nin your parent class: \r\n```\r\n@Data\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n```","title":"how to Call super constructor in Lombok","body":"<p>Version 1.18 of Lombok introduced the @SuperBuilder annotation. We can use this to solve our problem in a simpler way.</p>\n\n<p>You can refer to <a href=\"https://www.baeldung.com/lombok-builder-inheritance#lombok-builder-and-inheritance-3\" rel=\"noreferrer\">https://www.baeldung.com/lombok-builder-inheritance#lombok-builder-and-inheritance-3</a>.</p>\n\n<p>so in your child class, you will need these annotations:</p>\n\n<pre><code>@Data\n@SuperBuilder\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n</code></pre>\n\n<p>in your parent class: </p>\n\n<pre><code>@Data\n@SuperBuilder\n@NoArgsConstructor\n</code></pre>\n"}],"owner":{"account_id":2361139,"reputation":2182,"user_id":2067797,"accept_rate":0,"display_name":"Sandeep Nagaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270863,"favorite_count":0,"down_vote_count":0,"up_vote_count":205,"answer_count":6,"score":205,"last_activity_date":1667564472,"creation_date":1429508786,"question_id":29740078,"body_markdown":"I have a class \r\n\r\n    @Value\r\n    @NonFinal\r\n    public class A {\r\n        int x;\r\n        int y;\r\n    }\r\n\r\nI have another class B\r\n\r\n    @Value\r\n    public class B extends A {\r\n        int z;\r\n    }\r\n\r\nlombok is throwing error saying it cant find A() constructor, explicitly call it what i want lombok to do is to give annotation to class b such that  it generates the following code:\r\n\r\n    public class B extends A {\r\n        int z;\r\n        public B( int x, int y, int z) {\r\n            super( x , y );\r\n            this.z = z;\r\n        }\r\n    }\r\n\r\nDo we have an annotation to do that in Lombok?","title":"how to Call super constructor in Lombok","body":"<p>I have a class </p>\n\n<pre><code>@Value\n@NonFinal\npublic class A {\n    int x;\n    int y;\n}\n</code></pre>\n\n<p>I have another class B</p>\n\n<pre><code>@Value\npublic class B extends A {\n    int z;\n}\n</code></pre>\n\n<p>lombok is throwing error saying it cant find A() constructor, explicitly call it what i want lombok to do is to give annotation to class b such that  it generates the following code:</p>\n\n<pre><code>public class B extends A {\n    int z;\n    public B( int x, int y, int z) {\n        super( x , y );\n        this.z = z;\n    }\n}\n</code></pre>\n\n<p>Do we have an annotation to do that in Lombok?</p>\n"},{"tags":["java","spring-boot","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667556693,"post_id":74315325,"comment_id":131199177,"body_markdown":"`&lt;input type=&quot;hidden&quot;... /&gt;` ?","body":"<code>&lt;input type=&quot;hidden&quot;... &#47;&gt;</code> ?"},{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1667557020,"post_id":74315325,"comment_id":131199286,"body_markdown":"@xerx593, tricky one but how does it help? Instead of `username = null` I will have `username = &quot;&quot;`","body":"@xerx593, tricky one but how does it help? Instead of <code>username = null</code> I will have <code>username = &quot;&quot;</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667557098,"post_id":74315325,"comment_id":131199320,"body_markdown":"...who/how GETs the view?;) ..should set! ..and even why not `${httpServletRequest.remoteUser}`?","body":"...who/how GETs the view?;) ..should set! ..and even why not <code>${httpServletRequest.remoteUser}</code>?"},{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1667565112,"post_id":74315325,"comment_id":131202087,"body_markdown":"@xerx593 got a problem with sending this as `username`","body":"@xerx593 got a problem with sending this as <code>username</code>"}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667564273,"creation_date":1667564273,"answer_id":74316950,"question_id":74315325,"body_markdown":"There is no need to send the user from the view to the controller. Just use `@AuthenticationPrincipal` in your controller:\r\n\r\n```\r\n    @PostMapping(&quot;/changePassword&quot;)\r\n    public String updatePassword(@AuthenticationPrincipal MySecurityUser securityUser, \r\n                                 @ModelAttribute(&quot;user&quot;) User user, \r\n                                 Model model) {\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        userService.changeUserPassword(user.getUsername(), user.getPassword());\r\n        return &quot;display&quot;;\r\n    }\r\n```\r\n\r\nThe actual class (`MySecurityUser` in the example) to use will depend on how exactly you have set up your security. If you don&#39;t know it, type it to `Object` and print out the class name or use a debugger to see the actual class name that is used. \r\n\r\nSee https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html#mvc-authentication-principal for more info.","title":"how to send value from thymyleaf to controller which is not used in view","body":"<p>There is no need to send the user from the view to the controller. Just use <code>@AuthenticationPrincipal</code> in your controller:</p>\n<pre><code>    @PostMapping(&quot;/changePassword&quot;)\n    public String updatePassword(@AuthenticationPrincipal MySecurityUser securityUser, \n                                 @ModelAttribute(&quot;user&quot;) User user, \n                                 Model model) {\n        model.addAttribute(&quot;user&quot;, user);\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        userService.changeUserPassword(user.getUsername(), user.getPassword());\n        return &quot;display&quot;;\n    }\n</code></pre>\n<p>The actual class (<code>MySecurityUser</code> in the example) to use will depend on how exactly you have set up your security. If you don't know it, type it to <code>Object</code> and print out the class name or use a debugger to see the actual class name that is used.</p>\n<p>See <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html#mvc-authentication-principal\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html#mvc-authentication-principal</a> for more info.</p>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74316950,"answer_count":1,"score":0,"last_activity_date":1667564273,"creation_date":1667556590,"question_id":74315325,"body_markdown":"I am trying to send some value from view to controller however this value is not used in view.\r\n\r\nView:\r\n\r\n    &lt;form th:action=&quot;@{/changePassword}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n        &lt;div class=&quot;col-md-6 form-group&quot;&gt;\r\n            &lt;label&gt;Old Password&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:name=&quot;oldPassword&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col-md-6 form-group&quot;&gt;\r\n            &lt;label&gt;New Password&lt;/label&gt;\r\n            &lt;input type=&quot;password&quot; class=&quot;form-control&quot; th:name=&quot;password&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col-md-6 form-group&quot;&gt;\r\n            &lt;label&gt;Confirm Password&lt;/label&gt;\r\n            &lt;input type=&quot;password&quot; class=&quot;form-control&quot; &gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;button type=&quot;submit&quot; onclick=&quot;savePass()&quot;&gt;Change Password&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nand method in controller\r\n\r\n    @PostMapping(&quot;/changePassword&quot;)\r\n        public String updatePassword(@ModelAttribute(&quot;user&quot;) User user, Model model) {\r\n            model.addAttribute(&quot;user&quot;, user);\r\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n            userService.changeUserPassword(user.getUsername(), user.getPassword());\r\n            return &quot;display&quot;;\r\n        }\r\n\r\nand simple model with `id`, `username`, `password`, `oldPassword` and `enable` fields.\r\n\r\nI know I can get logged user in view by `[[${#httpServletRequest.remoteUser}]]` but how can I put it into model and send to controller. With actual code during debugging I can see that `password` and `oldPassword` are set but `username = null`.\r\n\r\nI could add:\r\n\r\n    &lt;div class=&quot;col-md-6 form-group&quot;&gt;\r\n           &lt;label&gt;Username&lt;/label&gt;\r\n           &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:name=&quot;username&quot;&gt;\r\n    &lt;/div&gt;\r\n\r\nbut I don&#39;t want user to type his username, I know who is logged and who wants to change password.","title":"how to send value from thymyleaf to controller which is not used in view","body":"<p>I am trying to send some value from view to controller however this value is not used in view.</p>\n<p>View:</p>\n<pre><code>&lt;form th:action=&quot;@{/changePassword}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n    &lt;div class=&quot;col-md-6 form-group&quot;&gt;\n        &lt;label&gt;Old Password&lt;/label&gt;\n        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:name=&quot;oldPassword&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col-md-6 form-group&quot;&gt;\n        &lt;label&gt;New Password&lt;/label&gt;\n        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; th:name=&quot;password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col-md-6 form-group&quot;&gt;\n        &lt;label&gt;Confirm Password&lt;/label&gt;\n        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; &gt;\n    &lt;/div&gt;\n\n    &lt;button type=&quot;submit&quot; onclick=&quot;savePass()&quot;&gt;Change Password&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and method in controller</p>\n<pre><code>@PostMapping(&quot;/changePassword&quot;)\n    public String updatePassword(@ModelAttribute(&quot;user&quot;) User user, Model model) {\n        model.addAttribute(&quot;user&quot;, user);\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        userService.changeUserPassword(user.getUsername(), user.getPassword());\n        return &quot;display&quot;;\n    }\n</code></pre>\n<p>and simple model with <code>id</code>, <code>username</code>, <code>password</code>, <code>oldPassword</code> and <code>enable</code> fields.</p>\n<p>I know I can get logged user in view by <code>[[${#httpServletRequest.remoteUser}]]</code> but how can I put it into model and send to controller. With actual code during debugging I can see that <code>password</code> and <code>oldPassword</code> are set but <code>username = null</code>.</p>\n<p>I could add:</p>\n<pre><code>&lt;div class=&quot;col-md-6 form-group&quot;&gt;\n       &lt;label&gt;Username&lt;/label&gt;\n       &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:name=&quot;username&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>but I don't want user to type his username, I know who is logged and who wants to change password.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":22375525,"reputation":51,"user_id":16589861,"display_name":"Hardik kotadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667564189,"creation_date":1667564189,"answer_id":74316937,"question_id":74316231,"body_markdown":"Rename package name using shift+f6, \r\n\r\nthen ctrl + shift + r then replace old package name with new one\r\n\r\nif firebase is integrated,\r\n\r\nReplace package name in google-services.json \r\n\r\nthen, restart or invalidate caches \r\n","title":"How to change package name in multi module project with firebase in android(java) app?","body":"<p>Rename package name using shift+f6,</p>\n<p>then ctrl + shift + r then replace old package name with new one</p>\n<p>if firebase is integrated,</p>\n<p>Replace package name in google-services.json</p>\n<p>then, restart or invalidate caches</p>\n"}],"owner":{"account_id":26828480,"reputation":11,"user_id":20416783,"display_name":"Harsh kansoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667564189,"creation_date":1667560787,"question_id":74316231,"body_markdown":"It gives package error while changing package name in module\r\n\r\ni tried to change in packagename in one module but it gives me error package R not found, I am expecting to change package name in one module in multi module app","title":"How to change package name in multi module project with firebase in android(java) app?","body":"<p>It gives package error while changing package name in module</p>\n<p>i tried to change in packagename in one module but it gives me error package R not found, I am expecting to change package name in one module in multi module app</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":281477,"reputation":686,"user_id":9085253,"display_name":"Martijn van Welie"},"score":1,"creation_date":1667415463,"post_id":74288056,"comment_id":131164315,"body_markdown":"Take out the &#39;advertiser = null&#39;. That prevents the callbacks from happening","body":"Take out the &#39;advertiser = null&#39;. That prevents the callbacks from happening"},{"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"score":0,"creation_date":1667457646,"post_id":74288056,"comment_id":131172240,"body_markdown":"even without, the callback isn&#39;t happening","body":"even without, the callback isn&#39;t happening"}],"answers":[{"tags":[],"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667564045,"creation_date":1667552105,"answer_id":74314403,"question_id":74288056,"body_markdown":"**Answer to my own question :** \r\n\r\nThe problem was that the callback for stopAdvertising and startAdvertising must be the same object as said by google doc : \r\n\r\n    * Stop Bluetooth LE advertising. The {@code callback} must be the same one use in\r\n    * {@link BluetoothLeAdvertiser#startAdvertising}.\r\n\r\n(the callback is used to identify the instance of advertise by google&#39;s sdk)\r\n\r\nUsing the same callback for both worked for me","title":"Android java Ble, can&#39;t stop advertising","body":"<p><strong>Answer to my own question :</strong></p>\n<p>The problem was that the callback for stopAdvertising and startAdvertising must be the same object as said by google doc :</p>\n<pre><code>* Stop Bluetooth LE advertising. The {@code callback} must be the same one use in\n* {@link BluetoothLeAdvertiser#startAdvertising}.\n</code></pre>\n<p>(the callback is used to identify the instance of advertise by google's sdk)</p>\n<p>Using the same callback for both worked for me</p>\n"}],"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74314403,"answer_count":1,"score":0,"last_activity_date":1667564045,"creation_date":1667386524,"question_id":74288056,"body_markdown":"i&#39;ve started an advertise and tried calling stop advertiser later but the advertise just won&#39;t stop (it just keeps sending its advert even though)\r\n\r\n\r\n    advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\r\n    \r\n    advSettings = new AdvertiseSettings.Builder()\r\n            .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\r\n            .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\r\n            .setConnectable(false)\r\n            .setTimeout(0)\r\n            .build();\r\n    \r\n    AdvertiseData data = new AdvertiseData.Builder()\r\n            .setIncludeDeviceName( true )\r\n            .setIncludeTxPowerLevel(false)\r\n            .addServiceUuid(serviceId)\r\n            .build();\r\n    \r\n    AdvertiseData response = new AdvertiseData.Builder()\r\n            .setIncludeDeviceName( false )\r\n            .setIncludeTxPowerLevel(false)\r\n            .addServiceData(serviceId, packet )\r\n            .build();\r\n    \r\n    \r\n    advertiser.startAdvertising(advSettings, data, response, new AdvertiseCallback() {\r\n        @Override\r\n        public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n            super.onStartSuccess(settingsInEffect);\r\n            Log.d(TAG, &quot;Packet was successfully sent&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStartFailure(int errorCode) {\r\n            super.onStartFailure(errorCode);\r\n            Log.e(TAG, &quot;Advertise failed : &quot; + errorCode);\r\n        }\r\n    });\r\n\r\n\r\nstopAdvertising Method : \r\n\r\n    public void stopAdvertising(){\r\n    \r\n            Log.d(TAG, &quot;stoping advertising ...&quot; );\r\n            advertiser.stopAdvertising(new AdvertiseCallback() {\r\n                @Override\r\n                public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n                    Log.d(TAG, &quot;onStopSuccess&quot; );\r\n                    super.onStartSuccess(settingsInEffect);\r\n                }\r\n    \r\n                @Override\r\n                public void onStartFailure(int errorCode) {\r\n                    Log.e(TAG, &quot;onStopFailed&quot; + errorCode );\r\n                    super.onStartFailure(errorCode);\r\n                }\r\n            });\r\n            advertiser = null;\r\n        }\r\n\r\nBut when i call the stopAdvertising method the advertising doesn&#39;t stop, i don&#39;t no if it can help but, when i call my method stopAdvertising i get : \r\n\r\n    D/ContentValues: stoping advertising ...\r\n    D/BluetoothAdapter: STATE_ON\r\n    D/BluetoothAdapter: STATE_ON\r\n    D/BluetoothLeAdvertiser: wrapper is null\r\n\r\n\r\n                ","title":"Android java Ble, can&#39;t stop advertising","body":"<p>i've started an advertise and tried calling stop advertiser later but the advertise just won't stop (it just keeps sending its advert even though)</p>\n<pre><code>advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\n\nadvSettings = new AdvertiseSettings.Builder()\n        .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\n        .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\n        .setConnectable(false)\n        .setTimeout(0)\n        .build();\n\nAdvertiseData data = new AdvertiseData.Builder()\n        .setIncludeDeviceName( true )\n        .setIncludeTxPowerLevel(false)\n        .addServiceUuid(serviceId)\n        .build();\n\nAdvertiseData response = new AdvertiseData.Builder()\n        .setIncludeDeviceName( false )\n        .setIncludeTxPowerLevel(false)\n        .addServiceData(serviceId, packet )\n        .build();\n\n\nadvertiser.startAdvertising(advSettings, data, response, new AdvertiseCallback() {\n    @Override\n    public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n        super.onStartSuccess(settingsInEffect);\n        Log.d(TAG, &quot;Packet was successfully sent&quot;);\n    }\n\n    @Override\n    public void onStartFailure(int errorCode) {\n        super.onStartFailure(errorCode);\n        Log.e(TAG, &quot;Advertise failed : &quot; + errorCode);\n    }\n});\n</code></pre>\n<p>stopAdvertising Method :</p>\n<pre><code>public void stopAdvertising(){\n\n        Log.d(TAG, &quot;stoping advertising ...&quot; );\n        advertiser.stopAdvertising(new AdvertiseCallback() {\n            @Override\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n                Log.d(TAG, &quot;onStopSuccess&quot; );\n                super.onStartSuccess(settingsInEffect);\n            }\n\n            @Override\n            public void onStartFailure(int errorCode) {\n                Log.e(TAG, &quot;onStopFailed&quot; + errorCode );\n                super.onStartFailure(errorCode);\n            }\n        });\n        advertiser = null;\n    }\n</code></pre>\n<p>But when i call the stopAdvertising method the advertising doesn't stop, i don't no if it can help but, when i call my method stopAdvertising i get :</p>\n<pre><code>D/ContentValues: stoping advertising ...\nD/BluetoothAdapter: STATE_ON\nD/BluetoothAdapter: STATE_ON\nD/BluetoothLeAdvertiser: wrapper is null\n\n\n            \n</code></pre>\n"},{"tags":["java","spring-boot","api","controller","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667563854,"creation_date":1667563337,"answer_id":74316758,"question_id":74315653,"body_markdown":"&gt; However, I cannot add another class file to the same package.\r\n\r\nThe obvious workaround here would be \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;) &lt;----------\r\n    public class AuthController {\r\n\r\n      GetMapping(&quot;v1/users&quot;)\r\n      public List&lt;String&gt; getAllV1() {\r\n        ...\r\n      }\r\n\r\n      GetMapping(&quot;v2/users&quot;)\r\n      public List&lt;String&gt; getAllV2() {\r\n        ...\r\n      }\r\n\r\n      ..relative you can have all methods exposed in the same class for both v1 and v2 implementations\r\n    \r\n    }\r\n\r\n&gt; What is the purpose of using API versioning\r\n\r\nIt is so that external people are able to know when your API has been modified as to know that they probably need to do changes in their consumer code. You may have shutdown `v1` and offer only `v2` now meaning they need to adapt to new implementation to continue functioning. Or you may offer both `v1` and `v2` so they don&#39;t nessesary need to adapt right now to continue to function but could start working to catch up with your new version in the future.  \r\n\r\n&gt; How can I use API versioning for my endpoints? Is there any extra\r\n&gt; implementation needed on another Spring Boot files?\r\n\r\nEither you have a specific `AuthController` and when you release a new version which impacts this controller you change the mapping from `v1` into `v2`, or you have 2 controllers one for `v1` and one for `v2` as linked to your question so you continue to expose both old implementation and new implementation under different urls. If this is not the case because of the constraint you mention `However, I cannot add another class file to the same package.` then you can do the workaround I have written in this answer as to have both versions from the same file offered. But this would not be best practice to be used often.","title":"Spring Boot API versioning using @RequestMapping","body":"<blockquote>\n<p>However, I cannot add another class file to the same package.</p>\n</blockquote>\n<p>The obvious workaround here would be</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/&quot;) &lt;----------\npublic class AuthController {\n\n  GetMapping(&quot;v1/users&quot;)\n  public List&lt;String&gt; getAllV1() {\n    ...\n  }\n\n  GetMapping(&quot;v2/users&quot;)\n  public List&lt;String&gt; getAllV2() {\n    ...\n  }\n\n  ..relative you can have all methods exposed in the same class for both v1 and v2 implementations\n\n}\n</code></pre>\n<blockquote>\n<p>What is the purpose of using API versioning</p>\n</blockquote>\n<p>It is so that external people are able to know when your API has been modified as to know that they probably need to do changes in their consumer code. You may have shutdown <code>v1</code> and offer only <code>v2</code> now meaning they need to adapt to new implementation to continue functioning. Or you may offer both <code>v1</code> and <code>v2</code> so they don't nessesary need to adapt right now to continue to function but could start working to catch up with your new version in the future.</p>\n<blockquote>\n<p>How can I use API versioning for my endpoints? Is there any extra\nimplementation needed on another Spring Boot files?</p>\n</blockquote>\n<p>Either you have a specific <code>AuthController</code> and when you release a new version which impacts this controller you change the mapping from <code>v1</code> into <code>v2</code>, or you have 2 controllers one for <code>v1</code> and one for <code>v2</code> as linked to your question so you continue to expose both old implementation and new implementation under different urls. If this is not the case because of the constraint you mention <code>However, I cannot add another class file to the same package.</code> then you can do the workaround I have written in this answer as to have both versions from the same file offered. But this would not be best practice to be used often.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74316758,"answer_count":1,"score":2,"last_activity_date":1667563854,"creation_date":1667558200,"question_id":74315653,"body_markdown":"As far as I know, we can version our APIs for some reason e.g. there is a change needed for the current API but we also need to use it in its previous state. \r\n\r\nFor this purpose, I generally use the following approach from start when building a project:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class AuthController {\r\n\r\n}\r\n```\r\n\r\nHowever, when I try to add another as mentioned on [this](https://stackoverflow.com/questions/62946106/api-versioning-in-spring-boot) page (in the same Controller file) I get Duplicate class error. However, I cannot add another class file to the same package. \r\n\r\nSo, could you pls clarify me about the following issues?\r\n\r\n1. What is the purpose of using API versioning? Is the idea that I gave at the beginning one of the reason for that?\r\n\r\n2. How can I use API versioning for my endpoints? Is there any extra implementation needed on another Spring Boot files? \r\n","title":"Spring Boot API versioning using @RequestMapping","body":"<p>As far as I know, we can version our APIs for some reason e.g. there is a change needed for the current API but we also need to use it in its previous state.</p>\n<p>For this purpose, I generally use the following approach from start when building a project:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class AuthController {\n\n}\n</code></pre>\n<p>However, when I try to add another as mentioned on <a href=\"https://stackoverflow.com/questions/62946106/api-versioning-in-spring-boot\">this</a> page (in the same Controller file) I get Duplicate class error. However, I cannot add another class file to the same package.</p>\n<p>So, could you pls clarify me about the following issues?</p>\n<ol>\n<li><p>What is the purpose of using API versioning? Is the idea that I gave at the beginning one of the reason for that?</p>\n</li>\n<li><p>How can I use API versioning for my endpoints? Is there any extra implementation needed on another Spring Boot files?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","serialization","jackson"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1509144397,"post_id":46984314,"comment_id":80916126,"body_markdown":"Map it to/from a Dictionary/HashMap? Use a custom serialization? POJO fields themselves are *fixed names*.","body":"Map it to/from a Dictionary/HashMap? Use a custom serialization? POJO fields themselves are <i>fixed names</i>."},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":0,"creation_date":1509145273,"post_id":46984314,"comment_id":80916354,"body_markdown":"Can you explain the map approach a bit more ? Won&#39;t it then serialize using the property name of the map field ? I do not want custom serializer as I am mostly using POJO&#39;s with any Jackson annotations, so just for this case I do not want unless necessary","body":"Can you explain the map approach a bit more ? Won&#39;t it then serialize using the property name of the map field ? I do not want custom serializer as I am mostly using POJO&#39;s with any Jackson annotations, so just for this case I do not want unless necessary"}],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1509150154,"creation_date":1509149426,"answer_id":46985005,"question_id":46984314,"body_markdown":"Unfortunately, you cannot have _dynamic_ fields in Java classes (unlike some other languages), so you have two choices:\r\n\r\n 1. Using [`Map`][1]s\r\n 1. Using JSON objects (i.e. [`JsonNode`][2] in case of Jackson)\r\n\r\nSuppose, you have a data like this:\r\n\r\n\t{\r\n\t\t&quot;record&quot;: {\r\n\t\t\t&quot;jon-skeet&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Jon Skeet&quot;,\r\n\t\t\t\t&quot;rep&quot;: 982706\r\n\t\t\t},\r\n\t\t\t&quot;darin-dimitrov&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Darin Dimitrov&quot;,\r\n\t\t\t\t&quot;rep&quot;: 762173\r\n\t\t\t},\r\n\t\t\t&quot;novice-user&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;Novice User&quot;,\r\n\t\t\t\t&quot;rep&quot;: 766\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nCreate two classes to capture it, one for user and another for the object itself:\r\n\r\n_User.java_:\r\n\r\n\tpublic class User {\r\n\t\tprivate String name;\r\n\t\tprivate Long rep;\r\n\t\r\n\t\tpublic String getName() { return name; }\r\n\t\r\n\t\tpublic void setName(String name) { this.name = name; }\r\n\t\r\n\t\tpublic Long getRep() { return rep; }\r\n\t\r\n\t\tpublic void setRep(Long rep) { this.rep = rep; }\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;User{&quot; +\r\n\t\t\t\t\t&quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n\t\t\t\t\t&quot;, rep=&quot; + rep +\r\n\t\t\t\t\t&#39;}&#39;;\r\n\t\t}\r\n\t}\r\n\r\n_Data.java_:\r\n\r\n\tpublic class Data {\r\n\t\tprivate Map&lt;String, User&gt; record;\r\n\t\r\n\t\tpublic Map&lt;String, User&gt; getRecord() { return record; }\r\n\t\r\n\t\tpublic void setRecord(Map&lt;String, User&gt; record) { this.record = record; }\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Data{&quot; +\r\n\t\t\t\t\t&quot;record=&quot; + record +\r\n\t\t\t\t\t&#39;}&#39;;\r\n\t\t}\r\n\t}\r\n\r\nNow, parse the JSON (I assume there is a `data.json` file in the root of your classpath):\r\n\r\n\tpublic class App {\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tfinal ObjectMapper objectMapper = new ObjectMapper();\r\n\t\r\n\t\t\tSystem.out.println(objectMapper.readValue(App.class.getResourceAsStream(&quot;/data.json&quot;), Data.class));\r\n\t\t\tSystem.out.println(objectMapper.readTree(App.class.getResourceAsStream(&quot;/data.json&quot;)));\r\n\t\t}\r\n\t}\r\n\r\nThis will output:\r\n\r\n    Data{record={jon-skeet=User{name=&#39;Jon Skeet&#39;, rep=982706}, darin-dimitrov=User{name=&#39;Darin Dimitrov&#39;, rep=762173}, novice-user=User{name=&#39;Novice User&#39;, rep=766}}}\r\n    {&quot;record&quot;:{&quot;jon-skeet&quot;:{&quot;name&quot;:&quot;Jon Skeet&quot;,&quot;rep&quot;:982706},&quot;darin-dimitrov&quot;:{&quot;name&quot;:&quot;Darin Dimitrov&quot;,&quot;rep&quot;:762173},&quot;novice-user&quot;:{&quot;name&quot;:&quot;Novice User&quot;,&quot;rep&quot;:766}}}\r\n\r\nIn case of a `Map` you can use some static classes, like `User` in this case, or go completely dynamic by using `Map`s of `Map`s (`Map&lt;String, Map&lt;String, ...&gt;&gt;`. However, if you find yourself using too much maps, consider switching to `JsonNode`s. Basically, they are the same as `Map` and &quot;invented&quot; specifically for highly dynamic data. Though, you&#39;ll have some hard time working with them later...\r\n\r\nTake a look at a complete example, I&#39;ve prepared for you [here][3].\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [2]: http://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonNode.html\r\n  [3]: https://github.com/madhead/playgrounds/tree/master/46984314","title":"Jackson JSON key as value in Java","body":"<p>Unfortunately, you cannot have <em>dynamic</em> fields in Java classes (unlike some other languages), so you have two choices:</p>\n\n<ol>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>s</li>\n<li>Using JSON objects (i.e. <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\"><code>JsonNode</code></a> in case of Jackson)</li>\n</ol>\n\n<p>Suppose, you have a data like this:</p>\n\n<pre><code>{\n    \"record\": {\n        \"jon-skeet\": {\n            \"name\": \"Jon Skeet\",\n            \"rep\": 982706\n        },\n        \"darin-dimitrov\": {\n            \"name\": \"Darin Dimitrov\",\n            \"rep\": 762173\n        },\n        \"novice-user\": {\n            \"name\": \"Novice User\",\n            \"rep\": 766\n        }\n    }\n}\n</code></pre>\n\n<p>Create two classes to capture it, one for user and another for the object itself:</p>\n\n<p><em>User.java</em>:</p>\n\n<pre><code>public class User {\n    private String name;\n    private Long rep;\n\n    public String getName() { return name; }\n\n    public void setName(String name) { this.name = name; }\n\n    public Long getRep() { return rep; }\n\n    public void setRep(Long rep) { this.rep = rep; }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", rep=\" + rep +\n                '}';\n    }\n}\n</code></pre>\n\n<p><em>Data.java</em>:</p>\n\n<pre><code>public class Data {\n    private Map&lt;String, User&gt; record;\n\n    public Map&lt;String, User&gt; getRecord() { return record; }\n\n    public void setRecord(Map&lt;String, User&gt; record) { this.record = record; }\n\n    @Override\n    public String toString() {\n        return \"Data{\" +\n                \"record=\" + record +\n                '}';\n    }\n}\n</code></pre>\n\n<p>Now, parse the JSON (I assume there is a <code>data.json</code> file in the root of your classpath):</p>\n\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        final ObjectMapper objectMapper = new ObjectMapper();\n\n        System.out.println(objectMapper.readValue(App.class.getResourceAsStream(\"/data.json\"), Data.class));\n        System.out.println(objectMapper.readTree(App.class.getResourceAsStream(\"/data.json\")));\n    }\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Data{record={jon-skeet=User{name='Jon Skeet', rep=982706}, darin-dimitrov=User{name='Darin Dimitrov', rep=762173}, novice-user=User{name='Novice User', rep=766}}}\n{\"record\":{\"jon-skeet\":{\"name\":\"Jon Skeet\",\"rep\":982706},\"darin-dimitrov\":{\"name\":\"Darin Dimitrov\",\"rep\":762173},\"novice-user\":{\"name\":\"Novice User\",\"rep\":766}}}\n</code></pre>\n\n<p>In case of a <code>Map</code> you can use some static classes, like <code>User</code> in this case, or go completely dynamic by using <code>Map</code>s of <code>Map</code>s (<code>Map&lt;String, Map&lt;String, ...&gt;&gt;</code>. However, if you find yourself using too much maps, consider switching to <code>JsonNode</code>s. Basically, they are the same as <code>Map</code> and \"invented\" specifically for highly dynamic data. Though, you'll have some hard time working with them later...</p>\n\n<p>Take a look at a complete example, I've prepared for you <a href=\"https://github.com/madhead/playgrounds/tree/master/46984314\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10581240,"reputation":75,"user_id":7794964,"display_name":"Matt Goodwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522293341,"creation_date":1522293341,"answer_id":49547429,"question_id":46984314,"body_markdown":"This is in Kotlin but I have found a solution to the same problem using Jackson.\r\n\r\nYou don&#39;t need the root node &quot;record&quot;, so you will need to get rid of it or start one node deeper(you&#39;re on your own there) but to turn the list of records that are children of their id into a list of records with id in the object follows:\r\n\r\n        val node = ObjectMapper().reader().readTree(json)\r\n\r\n        val recordList = mutableListOf&lt;Record&gt;()\r\n        node.fields().iterator().forEach {\r\n            val record = record(\r\n                    it.key,\r\n                    it.value.get(&quot;name&quot;).asText(),\r\n                    it.value.get(&quot;rep&quot;).asText()\r\n            )\r\n\r\n            recordList.add(event)\r\n        }\r\n\r\nnode.fields() returns a map of children(also maps)\r\n\r\niterating through the parent map you will get the id from the key and then the nested data is in the value (which is another map)\r\n\r\neach child of fields is key : value where\r\n\r\n    key = record id\r\n    value = nested data (map)\r\n\r\nThis solution, you don&#39;t need multiple classes to deserialize a list of classes.","title":"Jackson JSON key as value in Java","body":"<p>This is in Kotlin but I have found a solution to the same problem using Jackson.</p>\n\n<p>You don't need the root node \"record\", so you will need to get rid of it or start one node deeper(you're on your own there) but to turn the list of records that are children of their id into a list of records with id in the object follows:</p>\n\n<pre><code>    val node = ObjectMapper().reader().readTree(json)\n\n    val recordList = mutableListOf&lt;Record&gt;()\n    node.fields().iterator().forEach {\n        val record = record(\n                it.key,\n                it.value.get(\"name\").asText(),\n                it.value.get(\"rep\").asText()\n        )\n\n        recordList.add(event)\n    }\n</code></pre>\n\n<p>node.fields() returns a map of children(also maps)</p>\n\n<p>iterating through the parent map you will get the id from the key and then the nested data is in the value (which is another map)</p>\n\n<p>each child of fields is key : value where</p>\n\n<pre><code>key = record id\nvalue = nested data (map)\n</code></pre>\n\n<p>This solution, you don't need multiple classes to deserialize a list of classes.</p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667563581,"creation_date":1667563581,"answer_id":74316819,"question_id":46984314,"body_markdown":"I have my data in this format:\r\n\r\n    {\r\n     &quot;0&quot; : {&quot;a&quot;: {}}, {&quot;b&quot;: {}}, ...\r\n     &quot;1&quot; : {&quot;c&quot;: {}}, {&quot;d&quot;: {}}, ...\r\n      .\r\n      .\r\n      .\r\n\r\n    }\r\n\r\nI am able to capture it into a map using the dynamic capture feature of jackson by using @JsonAnySetter annotation.\r\n\r\n    public class Destination{\r\n\r\n        Map&lt;String, Object&gt; destination = new LinkedHashMap&lt;&gt;();\r\n\r\n        @JsonAnySetter\r\n        void setDestination(String key, Object value) {\r\n            destination.put(key, value);\r\n        }\r\n\r\n    }","title":"Jackson JSON key as value in Java","body":"<p>I have my data in this format:</p>\n<pre><code>{\n &quot;0&quot; : {&quot;a&quot;: {}}, {&quot;b&quot;: {}}, ...\n &quot;1&quot; : {&quot;c&quot;: {}}, {&quot;d&quot;: {}}, ...\n  .\n  .\n  .\n\n}\n</code></pre>\n<p>I am able to capture it into a map using the dynamic capture feature of jackson by using @JsonAnySetter annotation.</p>\n<pre><code>public class Destination{\n\n    Map&lt;String, Object&gt; destination = new LinkedHashMap&lt;&gt;();\n\n    @JsonAnySetter\n    void setDestination(String key, Object value) {\n        destination.put(key, value);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46985005,"answer_count":3,"score":2,"last_activity_date":1667563581,"creation_date":1509143766,"question_id":46984314,"body_markdown":"I&#39;m using Jackson in Spring MVC application. I want to use a String value as key name for Java POJO --&gt; JSON \r\n\r\n    &quot;record&quot;: {\r\n            &quot;&lt;Dynamic record name String&gt;&quot;: {\r\n              &quot;value&quot;: { \r\n              ....\r\n              }\r\n          }\r\n     }     \r\n\r\nSo the dynamic record name String could be &quot;abcd&quot;,&quot;xyz&quot; or any other string value. How can I define my &quot;record&quot; POJO to have a key like that ?","title":"Jackson JSON key as value in Java","body":"<p>I'm using Jackson in Spring MVC application. I want to use a String value as key name for Java POJO --> JSON </p>\n\n<pre><code>\"record\": {\n        \"&lt;Dynamic record name String&gt;\": {\n          \"value\": { \n          ....\n          }\n      }\n }     \n</code></pre>\n\n<p>So the dynamic record name String could be \"abcd\",\"xyz\" or any other string value. How can I define my \"record\" POJO to have a key like that ?</p>\n"},{"tags":["java","spring","aop"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1667563570,"creation_date":1631277691,"answer_id":69132369,"question_id":69131434,"body_markdown":"A lot has been written about how proxies are implemented in Spring, see my answers in the following posts:\r\n\r\n- https://stackoverflow.com/a/58207312/438154\r\n- https://stackoverflow.com/a/26893834/438154\r\n\r\nIn short, with `ScopedProxyMode.TARGET_CLASS`, Spring will use [CGLIB][1] to generate a subclass of `RandomNumberGenerator`. The class will have a name like `RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41`.\r\n\r\nThis class overrides (almost) all the methods of `RandomNumberGenerator` to act as factories and delegators. Each of these overriden methods will produce a new instance (per request) of the real `RandomNumberGenerator` type and delegate the method call to it.\r\n\r\n\r\nSpring will create an instance of this new CGLIB class and inject it into your `@Controller` class&#39; field\r\n\r\n```\r\n@Autowired\r\nRandomNumberGenerator numberGenerator;\r\n```\r\n\r\nYou can call `getClass` on this object (one of the methods that is not overriden). You&#39;d see something like\r\n\r\n&gt; RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41\r\n\r\nindicating that this is the proxy object.\r\n\r\nWhen you call the (overriden) methods\r\n\r\n```\r\nnumberGenerator.getNumber()\r\n```\r\n\r\nThat CGLIB class will use Spring&#39;s `ApplicationContext` to generate a new `RandomNumberGenerator` bean and invoke the `getNumber()` method on it.\r\n\r\n\r\n----\r\n\r\nThe `scopeName` controls the scope of the bean. Spring will use [`RequestScope`][2] to handle these beans. If your controller called `getNumber()` twice, you should get the same value. The proxy (through the `RequestScope`) would internally cache the new, per-request object\r\n```\r\n@GetMapping(path = &quot;/number&quot;)\r\npublic double getNumber(){\r\n  System.out.println(numberGenerator.getNumber() == numberGenerator.getNumber()); // true\r\n  return 123d;\r\n}\r\n```\r\n\r\nIf you had used a scope like &quot;session&quot;, Spring would cache the real object across multiple requests. You can even use scope &quot;singleton&quot; and the object would be cached across all requests.\r\n\r\n----\r\n\r\nIf you really needed to, you can retrieve the actual instance with the techniques described here\r\n\r\n- https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\r\n\r\nFor example,\r\n```\r\nObject real = ((Advised)numberGenerator).getTargetSource().getTarget();\r\n```\r\n\r\n\r\n---- \r\n\r\nAs for `System.identityHashCode`, you&#39;re calling it by passing the proxy object to it. There&#39;s only one proxy object, so the call will always return the same value. \r\n\r\nNote that [`identityHashCode`][3] is not guaranteed to return different values for different objects. Its javadoc states\r\n\r\n&gt; Returns the same hash code for the given object as would be returned\r\n&gt; by the default method `hashCode()`, whether or not the given object&#39;s\r\n&gt; class overrides `hashCode()`. The hash code for the null reference is\r\n&gt; zero.\r\n\r\nand [`hashCode()`&#39;s javadoc][4] states\r\n\r\n&gt; It is **not required** that if two objects are **unequal** according to\r\n&gt; the `equals(java.lang.Object)` method, then calling the hashCode\r\n&gt; method on each of the two objects must produce **distinct** integer\r\n&gt; results.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38089200/what-is-cglib-in-spring-framework#:~:text=CGLIB%20is%20a%20code%20generation,use%20CGLIB%20based%20proxies%20explicitly.\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestScope.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()","title":"How proxyMode and scopeName works under the hood?","body":"<p>A lot has been written about how proxies are implemented in Spring, see my answers in the following posts:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/58207312/438154\">https://stackoverflow.com/a/58207312/438154</a></li>\n<li><a href=\"https://stackoverflow.com/a/26893834/438154\">https://stackoverflow.com/a/26893834/438154</a></li>\n</ul>\n<p>In short, with <code>ScopedProxyMode.TARGET_CLASS</code>, Spring will use <a href=\"https://stackoverflow.com/questions/38089200/what-is-cglib-in-spring-framework#:%7E:text=CGLIB%20is%20a%20code%20generation,use%20CGLIB%20based%20proxies%20explicitly.\">CGLIB</a> to generate a subclass of <code>RandomNumberGenerator</code>. The class will have a name like <code>RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41</code>.</p>\n<p>This class overrides (almost) all the methods of <code>RandomNumberGenerator</code> to act as factories and delegators. Each of these overriden methods will produce a new instance (per request) of the real <code>RandomNumberGenerator</code> type and delegate the method call to it.</p>\n<p>Spring will create an instance of this new CGLIB class and inject it into your <code>@Controller</code> class' field</p>\n<pre><code>@Autowired\nRandomNumberGenerator numberGenerator;\n</code></pre>\n<p>You can call <code>getClass</code> on this object (one of the methods that is not overriden). You'd see something like</p>\n<blockquote>\n<p>RandomNumberGenerator$$EnhancerByCGLIB$$d0daae41</p>\n</blockquote>\n<p>indicating that this is the proxy object.</p>\n<p>When you call the (overriden) methods</p>\n<pre><code>numberGenerator.getNumber()\n</code></pre>\n<p>That CGLIB class will use Spring's <code>ApplicationContext</code> to generate a new <code>RandomNumberGenerator</code> bean and invoke the <code>getNumber()</code> method on it.</p>\n<hr />\n<p>The <code>scopeName</code> controls the scope of the bean. Spring will use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/RequestScope.html\" rel=\"nofollow noreferrer\"><code>RequestScope</code></a> to handle these beans. If your controller called <code>getNumber()</code> twice, you should get the same value. The proxy (through the <code>RequestScope</code>) would internally cache the new, per-request object</p>\n<pre><code>@GetMapping(path = &quot;/number&quot;)\npublic double getNumber(){\n  System.out.println(numberGenerator.getNumber() == numberGenerator.getNumber()); // true\n  return 123d;\n}\n</code></pre>\n<p>If you had used a scope like &quot;session&quot;, Spring would cache the real object across multiple requests. You can even use scope &quot;singleton&quot; and the object would be cached across all requests.</p>\n<hr />\n<p>If you really needed to, you can retrieve the actual instance with the techniques described here</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\">Is it possible to unproxy a Spring bean?</a></li>\n</ul>\n<p>For example,</p>\n<pre><code>Object real = ((Advised)numberGenerator).getTargetSource().getTarget();\n</code></pre>\n<hr />\n<p>As for <code>System.identityHashCode</code>, you're calling it by passing the proxy object to it. There's only one proxy object, so the call will always return the same value.</p>\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>identityHashCode</code></a> is not guaranteed to return different values for different objects. Its javadoc states</p>\n<blockquote>\n<p>Returns the same hash code for the given object as would be returned\nby the default method <code>hashCode()</code>, whether or not the given object's\nclass overrides <code>hashCode()</code>. The hash code for the null reference is\nzero.</p>\n</blockquote>\n<p>and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode()</code>'s javadoc</a> states</p>\n<blockquote>\n<p>It is <strong>not required</strong> that if two objects are <strong>unequal</strong> according to\nthe <code>equals(java.lang.Object)</code> method, then calling the hashCode\nmethod on each of the two objects must produce <strong>distinct</strong> integer\nresults.</p>\n</blockquote>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69132369,"answer_count":1,"score":0,"last_activity_date":1667563570,"creation_date":1631272762,"question_id":69131434,"body_markdown":"I am studying Spring framework and I saw some thing that I couldn&#39;t explain what happens actually. \r\nsuppose we have this simple Service class:\r\n\r\n    @Service\r\n    @Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class RandomNumberGenerator {\r\n    \r\n      double number;\r\n      public RandomNumberGenerator() {\r\n        System.out.println(&quot;Constructor is called!&quot;);\r\n        number = Math.random();\r\n      }\r\n    \r\n      public double getNumber() {\r\n        return number;\r\n      }\r\n    }\r\n\r\nand the following controller that uses above service:\r\n\r\n    @RestController\r\n    public class NumberController {\r\n    \r\n      @Autowired\r\n      RandomNumberGenerator numberGenerator;\r\n    \r\n      @GetMapping(path = &quot;/number&quot;)\r\n      public double getNumber(){\r\n        System.out.println(System.identityHashCode(numberGenerator));\r\n        return numberGenerator.getNumber();\r\n      }\r\n    }\r\n\r\nI postulated that with every request a new `RandomNumberGenerator numberGenerator` instance will be created and so I should have different numbers printed in the  `System.out.println(System.identityHashCode(numberGenerator));` but strangely I got the same number with every request but I can see with every request constructor of the `RandomNumberGenerator` is called!\r\n\r\n\r\nfor example you can see my console output:\r\n\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n    Constructor is called!\r\n    257434344\r\n\r\n\r\n\r\n\r\nmy question is why I get the same number even though constructor is called? isn&#39;t `System.out.println(System.identityHashCode(numberGenerator))` should returns different integers?","title":"How proxyMode and scopeName works under the hood?","body":"<p>I am studying Spring framework and I saw some thing that I couldn't explain what happens actually.\nsuppose we have this simple Service class:</p>\n<pre><code>@Service\n@Scope(scopeName = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class RandomNumberGenerator {\n\n  double number;\n  public RandomNumberGenerator() {\n    System.out.println(&quot;Constructor is called!&quot;);\n    number = Math.random();\n  }\n\n  public double getNumber() {\n    return number;\n  }\n}\n</code></pre>\n<p>and the following controller that uses above service:</p>\n<pre><code>@RestController\npublic class NumberController {\n\n  @Autowired\n  RandomNumberGenerator numberGenerator;\n\n  @GetMapping(path = &quot;/number&quot;)\n  public double getNumber(){\n    System.out.println(System.identityHashCode(numberGenerator));\n    return numberGenerator.getNumber();\n  }\n}\n</code></pre>\n<p>I postulated that with every request a new <code>RandomNumberGenerator numberGenerator</code> instance will be created and so I should have different numbers printed in the  <code>System.out.println(System.identityHashCode(numberGenerator));</code> but strangely I got the same number with every request but I can see with every request constructor of the <code>RandomNumberGenerator</code> is called!</p>\n<p>for example you can see my console output:</p>\n<pre><code>257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\nConstructor is called!\n257434344\n</code></pre>\n<p>my question is why I get the same number even though constructor is called? isn't <code>System.out.println(System.identityHashCode(numberGenerator))</code> should returns different integers?</p>\n"},{"tags":["java","json","spring","spring-mvc","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513895334,"creation_date":1513895334,"answer_id":47933569,"question_id":47931467,"body_markdown":"It is not going to work the way you have it now. You don&#39;t need the `Rates` class, you can get rid of it entirely and use:\r\n\r\n    private Map&lt;String, Double&gt; rates\r\n\r\nin the currency class.\r\n   ","title":"RestTemplate mapping to Map instead of fields","body":"<p>It is not going to work the way you have it now. You don't need the <code>Rates</code> class, you can get rid of it entirely and use:</p>\n\n<pre><code>private Map&lt;String, Double&gt; rates\n</code></pre>\n\n<p>in the currency class.</p>\n"},{"tags":[],"owner":{"account_id":16919246,"reputation":101,"user_id":12236439,"display_name":"Sai Vamsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667563203,"creation_date":1667563203,"answer_id":74316722,"question_id":47931467,"body_markdown":"You could use the dynamic object mapping of jackson library.\r\n\r\n    private Map&lt;String, Object&gt; rates = new LinkedHashMap&lt;&gt;();\r\n    \r\n    @JsonAnySetter\r\n    void setRates(String key, Object value) {\r\n        rates.put(key, value);\r\n    }\r\n","title":"RestTemplate mapping to Map instead of fields","body":"<p>You could use the dynamic object mapping of jackson library.</p>\n<pre><code>private Map&lt;String, Object&gt; rates = new LinkedHashMap&lt;&gt;();\n\n@JsonAnySetter\nvoid setRates(String key, Object value) {\n    rates.put(key, value);\n}\n</code></pre>\n"}],"owner":{"account_id":12281026,"reputation":370,"user_id":8962614,"accept_rate":100,"display_name":"Gromo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47933569,"answer_count":2,"score":0,"last_activity_date":1667563203,"creation_date":1513884046,"question_id":47931467,"body_markdown":"I&#39;ve wrote simple currency converter which reads JSON from web service and prepare table on website with selected ratios.\r\n\r\nUntil now, my Rates class had field for each ratio, but I decided to change it to `Map`. I rewrote entire class using `Map` but `RestTemplate` is unable to map `JSON` data to my HashMap. Entire field is considered as `null`.\r\nHow can I reconfigure `RestTemplate` or `ObjectMapper` to enable mapping `JSON` to `Map`?\r\n\r\n[Example JSON string that I am trying to map][1]\r\n\r\n\r\nRepository class I am using to read `JSON` and to map it on object:\r\n    package com.github.gromo13.currencyConverter.repository;\r\n    \r\n    import com.github.gromo13.currencyConverter.model.Currency;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Repository\r\n    public class FixerIoCurrencyRepository implements CurrencyRepository {\r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        public void setRestTemplate(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public Currency getCurrency(String currencyCode) {\r\n            Currency currency = restTemplate.getForObject(&quot;http://api.fixer.io/latest?base={currencyCode}&quot;, Currency.class, currencyCode);\r\n    \r\n            return currency;\r\n        }\r\n    }\r\n\r\n\r\nCurrency class I am mapping using JSON data:\r\n    package com.github.gromo13.currencyConverter.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Currency {\r\n        private String base;\r\n        private String date;\r\n        private Rates rates;\r\n    \r\n        public String getBase() {\r\n            return this.base;\r\n        }\r\n    \r\n        public void setBase(String base) {\r\n            this.base = base;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return this.date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public Rates getRates() {\r\n            return this.rates;\r\n        }\r\n    \r\n        public void setRates(Rates rates) {\r\n            this.rates = rates;\r\n        }\r\n    }\r\n\r\n\r\nRates class (field in Currency class) with `Map` that i am unable to map:\r\npackage com.github.gromo13.currencyConverter.model;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Rates {\r\n        private Map&lt;String, Double&gt; rates = new HashMap&lt;&gt;();\r\n    \r\n        public void clear() {\r\n            rates.clear();\r\n        }\r\n    \r\n        public void setRate(String currencyCode, double rate) {\r\n            rates.put(currencyCode.toUpperCase(), rate);\r\n        }\r\n    \r\n        public double getRate(String currencyCode) {\r\n            return rates.get(currencyCode.toUpperCase());\r\n        }\r\n    }\r\n\r\n\r\nMy actual RestTemplate configuration:\r\n    package com.github.gromo13.currencyConverter.config;\r\n    \r\n    import com.fasterxml.jackson.databind.MapperFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Configuration\r\n    public class Config {\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            restTemplate.getMessageConverters().add(0, mappingJackson2HttpMessageConverter());\r\n    \r\n            return restTemplate;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n    \r\n            return mapper;\r\n        }\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n            converter.setObjectMapper(objectMapper());\r\n    \r\n            return converter;\r\n        }\r\n    }\r\n\r\n  [1]: http://api.fixer.io/latest?base=EUR\r\n\r\n\r\n\r\n","title":"RestTemplate mapping to Map instead of fields","body":"<p>I've wrote simple currency converter which reads JSON from web service and prepare table on website with selected ratios.</p>\n\n<p>Until now, my Rates class had field for each ratio, but I decided to change it to <code>Map</code>. I rewrote entire class using <code>Map</code> but <code>RestTemplate</code> is unable to map <code>JSON</code> data to my HashMap. Entire field is considered as <code>null</code>.\nHow can I reconfigure <code>RestTemplate</code> or <code>ObjectMapper</code> to enable mapping <code>JSON</code> to <code>Map</code>?</p>\n\n<p><a href=\"http://api.fixer.io/latest?base=EUR\" rel=\"nofollow noreferrer\">Example JSON string that I am trying to map</a></p>\n\n<p>Repository class I am using to read <code>JSON</code> and to map it on object:\n    package com.github.gromo13.currencyConverter.repository;</p>\n\n<pre><code>import com.github.gromo13.currencyConverter.model.Currency;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.web.client.RestTemplate;\n\n@Repository\npublic class FixerIoCurrencyRepository implements CurrencyRepository {\n    @Autowired\n    private RestTemplate restTemplate;\n\n    public void setRestTemplate(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public Currency getCurrency(String currencyCode) {\n        Currency currency = restTemplate.getForObject(\"http://api.fixer.io/latest?base={currencyCode}\", Currency.class, currencyCode);\n\n        return currency;\n    }\n}\n</code></pre>\n\n<p>Currency class I am mapping using JSON data:\n    package com.github.gromo13.currencyConverter.model;</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Currency {\n    private String base;\n    private String date;\n    private Rates rates;\n\n    public String getBase() {\n        return this.base;\n    }\n\n    public void setBase(String base) {\n        this.base = base;\n    }\n\n    public String getDate() {\n        return this.date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public Rates getRates() {\n        return this.rates;\n    }\n\n    public void setRates(Rates rates) {\n        this.rates = rates;\n    }\n}\n</code></pre>\n\n<p>Rates class (field in Currency class) with <code>Map</code> that i am unable to map:\npackage com.github.gromo13.currencyConverter.model;\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Rates {\n    private Map&lt;String, Double&gt; rates = new HashMap&lt;&gt;();\n\n    public void clear() {\n        rates.clear();\n    }\n\n    public void setRate(String currencyCode, double rate) {\n        rates.put(currencyCode.toUpperCase(), rate);\n    }\n\n    public double getRate(String currencyCode) {\n        return rates.get(currencyCode.toUpperCase());\n    }\n}\n</code></pre>\n\n<p>My actual RestTemplate configuration:\n    package com.github.gromo13.currencyConverter.config;</p>\n\n<pre><code>import com.fasterxml.jackson.databind.MapperFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class Config {\n    @Bean\n    public RestTemplate restTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.getMessageConverters().add(0, mappingJackson2HttpMessageConverter());\n\n        return restTemplate;\n    }\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n        return mapper;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setObjectMapper(objectMapper());\n\n        return converter;\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","java-stream","max"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667483295,"post_id":74304041,"comment_id":131180801,"body_markdown":"`Stream#max` takes a `Comparator` object. You could pass it something like `Comparator.comparingInt(Map::length)`. If you&#39;re new to programming (and not just Java), I&#39;d suggest trying to use a `for` loop rather than mucking with streams right now.","body":"<code>Stream#max</code> takes a <code>Comparator</code> object. You could pass it something like <code>Comparator.comparingInt(Map::length)</code>. If you&#39;re new to programming (and not just Java), I&#39;d suggest trying to use a <code>for</code> loop rather than mucking with streams right now."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1667483442,"post_id":74304041,"comment_id":131180863,"body_markdown":"You can achieve everything that stream does with for loop with better performance btw so start with that. Also it&#39;s easier to learn starting from for loop then going to streams","body":"You can achieve everything that stream does with for loop with better performance btw so start with that. Also it&#39;s easier to learn starting from for loop then going to streams"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667562420,"creation_date":1667484284,"answer_id":74304413,"question_id":74304041,"body_markdown":"# Use the Power of Objects\r\n\r\n&gt;  hashmap looks like `{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}`\r\n\r\nYou are misusing Maps, it definitely should be a custom **object**, with attributes having proper types instead of storing them as `java.lang.Object` in the map.\r\n\r\nFor example, that how it might look like, if we implemented as a [Java 16 record](https://docs.oracle.com/en/java/javase/18/language/records.html):\r\n\r\n```\r\npublic record Foo(String start, String end,int length) {}\r\n```\r\nNow things would be simple, instead of a nested collection you would have a list of `Foo`.\r\n\r\n# Find a single Max element\r\n\r\nTo find a `Foo` with maximum `length` you can use either [`Stream.max()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)) or [`Collections.max()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)), both expect an instance of `Comparator` as an argument. \r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n\r\n// with Stream API\r\nFoo max = foos.stream()\r\n    .max(Comparator.comparingInt(Foo::length)) // produces Optional&lt;Foo&gt;\r\n    .orElseThrow();\r\n\r\n// using Collections.max()\r\nFoo max = Collections.max(foos, Comparator.comparingInt(Foo::length));\r\n```\r\n\r\n# Find a group of elements\r\n\r\nIf you want to obtain a Collection of objects having the largest value of `length`, then it would require a bit more effort.\r\n\r\nFor that can group the data by `length` into an intermediate Map by using Collector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)), then create a stream over map entries and pick the entry with the highest key using `Stream.max()` (like it has been done above):\r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n        \r\nList&lt;Foo&gt; max = foos.stream()\r\n    .collect(Collectors.groupingBy(Foo::length)) // Map&lt;Integer, List&lt;Foo&gt;&gt;\r\n    .entrySet().stream()             // Stream&lt;Map.Entry&lt;Integer, List&lt;Foo&gt;&gt;&gt;\r\n    .max(Map.Entry.comparingByKey()) // Optional&lt;Map.Entry&lt;Integer, Foo&gt;&gt;\r\n    .map(Map.Entry::getValue)        // Optional&lt;List&lt;Foo&gt;&gt;\r\n    .orElse(Collections.emptyList());\r\n```\r\n\r\nAlternatively, it can be done without creating an intermediate Map and the second stream over its entries.\r\n\r\nTo achieve that we can use the *three-args* version of [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)) and accumulate stream elements into a list that would be returned as the result of the stream execution:\r\n\r\n```\r\nList&lt;Foo&gt; foos = // intializing the list\r\n        \r\nList&lt;Foo&gt; max = foos.stream()\r\n    .collect(\r\n        ArrayList::new,\r\n        (List&lt;Foo&gt; l, Foo f) -&gt; {\r\n            if (!l.isEmpty() &amp;&amp; l.get(0).length() &lt; f.length()) l.clear();\r\n            if (l.isEmpty() || l.get(0).length() == f.length()) l.add(f);\r\n        },\r\n        (l, r) -&gt; {\r\n            if (l.get(0).length() &lt; r.get(0).length()) l.clear();\r\n            if (l.isEmpty() || l.get(0).length() == r.get(0).length()) l.addAll(r);\r\n        }\r\n    );\r\n```\r\n\r\n***Sidenote:*** you might also want to learn https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<h1>Use the Power of Objects</h1>\n<blockquote>\n<p>hashmap looks like <code>{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}</code></p>\n</blockquote>\n<p>You are misusing Maps, it definitely should be a custom <strong>object</strong>, with attributes having proper types instead of storing them as <code>java.lang.Object</code> in the map.</p>\n<p>For example, that how it might look like, if we implemented as a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">Java 16 record</a>:</p>\n<pre><code>public record Foo(String start, String end,int length) {}\n</code></pre>\n<p>Now things would be simple, instead of a nested collection you would have a list of <code>Foo</code>.</p>\n<h1>Find a single Max element</h1>\n<p>To find a <code>Foo</code> with maximum <code>length</code> you can use either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.max()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.max()</code></a>, both expect an instance of <code>Comparator</code> as an argument.</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n\n// with Stream API\nFoo max = foos.stream()\n    .max(Comparator.comparingInt(Foo::length)) // produces Optional&lt;Foo&gt;\n    .orElseThrow();\n\n// using Collections.max()\nFoo max = Collections.max(foos, Comparator.comparingInt(Foo::length));\n</code></pre>\n<h1>Find a group of elements</h1>\n<p>If you want to obtain a Collection of objects having the largest value of <code>length</code>, then it would require a bit more effort.</p>\n<p>For that can group the data by <code>length</code> into an intermediate Map by using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a>, then create a stream over map entries and pick the entry with the highest key using <code>Stream.max()</code> (like it has been done above):</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n        \nList&lt;Foo&gt; max = foos.stream()\n    .collect(Collectors.groupingBy(Foo::length)) // Map&lt;Integer, List&lt;Foo&gt;&gt;\n    .entrySet().stream()             // Stream&lt;Map.Entry&lt;Integer, List&lt;Foo&gt;&gt;&gt;\n    .max(Map.Entry.comparingByKey()) // Optional&lt;Map.Entry&lt;Integer, Foo&gt;&gt;\n    .map(Map.Entry::getValue)        // Optional&lt;List&lt;Foo&gt;&gt;\n    .orElse(Collections.emptyList());\n</code></pre>\n<p>Alternatively, it can be done without creating an intermediate Map and the second stream over its entries.</p>\n<p>To achieve that we can use the <em>three-args</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a> and accumulate stream elements into a list that would be returned as the result of the stream execution:</p>\n<pre><code>List&lt;Foo&gt; foos = // intializing the list\n        \nList&lt;Foo&gt; max = foos.stream()\n    .collect(\n        ArrayList::new,\n        (List&lt;Foo&gt; l, Foo f) -&gt; {\n            if (!l.isEmpty() &amp;&amp; l.get(0).length() &lt; f.length()) l.clear();\n            if (l.isEmpty() || l.get(0).length() == f.length()) l.add(f);\n        },\n        (l, r) -&gt; {\n            if (l.get(0).length() &lt; r.get(0).length()) l.clear();\n            if (l.isEmpty() || l.get(0).length() == r.get(0).length()) l.addAll(r);\n        }\n    );\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> you might also want to learn <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667484704,"creation_date":1667484403,"answer_id":74304439,"question_id":74304041,"body_markdown":"In one shot, you can use `Collectors.groupingBy` like so:\r\n\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; response = resultslist.stream()\r\n            .collect(Collectors.groupingBy(HashMap::size))\r\n            .entrySet().stream()\r\n            .max(Map.Entry.comparingByKey())\r\n            .map(Map.Entry::getValue)\r\n            .orElseGet(Collections::emptyList);\r\n\r\nThe idea is, to group by size (This step returns a Map of Integer and List of Map), then get the max of this map.","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>In one shot, you can use <code>Collectors.groupingBy</code> like so:</p>\n<pre><code>List&lt;HashMap&lt;String, Object&gt;&gt; response = resultslist.stream()\n        .collect(Collectors.groupingBy(HashMap::size))\n        .entrySet().stream()\n        .max(Map.Entry.comparingByKey())\n        .map(Map.Entry::getValue)\n        .orElseGet(Collections::emptyList);\n</code></pre>\n<p>The idea is, to group by size (This step returns a Map of Integer and List of Map), then get the max of this map.</p>\n"}],"owner":{"account_id":15273121,"reputation":23,"user_id":11019702,"display_name":"Michael Mo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74304413,"answer_count":2,"score":0,"last_activity_date":1667562420,"creation_date":1667482743,"question_id":74304041,"body_markdown":"I have an `ArrayList` of `HashMap`s and each `HashMap` looks like:\r\n\r\n    {&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}\r\n\r\nI want to find the one that has the longest length, or maybe more than one, they all have the same length equal to the max length.\r\n\r\nTrying to use stream, how should I do it?\r\n\r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; finalresult = resultslist.stream().max()\r\n","title":"How use stream max for a List of Maps? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>I have an <code>ArrayList</code> of <code>HashMap</code>s and each <code>HashMap</code> looks like:</p>\n<pre><code>{&quot;Start&quot;:&quot;A&quot;, &quot;End&quot;:&quot;B&quot;,&quot;Length&quot;:5}\n</code></pre>\n<p>I want to find the one that has the longest length, or maybe more than one, they all have the same length equal to the max length.</p>\n<p>Trying to use stream, how should I do it?</p>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; finalresult = resultslist.stream().max()\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667556378,"post_id":74314924,"comment_id":131199056,"body_markdown":"First, you drop using `java.sql.Date` since it is poorly designed and long outdated, nothing you will want to struggle with. Use `LocalDate`. Second, you are asking the impossible. When you output a Java object, you are iplicitly calling its `toString` method. The `toString` methods of both `LocalDate` and `java.sql.Date` produce strings with hyphens in the format you saw, `yyyy-MM-dd`.","body":"First, you drop using <code>java.sql.Date</code> since it is poorly designed and long outdated, nothing you will want to struggle with. Use <code>LocalDate</code>. Second, you are asking the impossible. When you output a Java object, you are iplicitly calling its <code>toString</code> method. The <code>toString</code> methods of both <code>LocalDate</code> and <code>java.sql.Date</code> produce strings with hyphens in the format you saw, <code>yyyy-MM-dd</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667556478,"post_id":74314924,"comment_id":131199093,"body_markdown":"You can get any format you want, but only in a `String`. For example `yourLocalDate.format(DateTimeFormatter.BASIC_ISO_DATE)` will give you `20021029` (provided that the date is Oct 29, 2002).","body":"You can get any format you want, but only in a <code>String</code>. For example <code>yourLocalDate.format(DateTimeFormatter.BASIC_ISO_DATE)</code> will give you <code>20021029</code> (provided that the date is Oct 29, 2002)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1667557656,"post_id":74314924,"comment_id":131199494,"body_markdown":"I understand that you want to convert a string to an instance of `java.sql.Date`. If I understand correctly, then an instance of `java.sql.Date` **does not have a format**. The format is only relevant when you want to convert the `java.util.Date` object to a string. Similarly, for your database, a column in a table whose data type is DATE also **does not have a format**. The format is only used when displaying the value stored in the column. So **forget the format**. Are you trying to update a DATE column in your database using [JDBC](https://docs.oracle.com/javase/tutorial/jdbc/index.html) ?","body":"I understand that you want to convert a string to an instance of <code>java.sql.Date</code>. If I understand correctly, then an instance of <code>java.sql.Date</code> <b>does not have a format</b>. The format is only relevant when you want to convert the <code>java.util.Date</code> object to a string. Similarly, for your database, a column in a table whose data type is DATE also <b>does not have a format</b>. The format is only used when displaying the value stored in the column. So <b>forget the format</b>. Are you trying to update a DATE column in your database using <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">JDBC</a> ?"},{"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"score":0,"creation_date":1667562011,"post_id":74314924,"comment_id":131201050,"body_markdown":"@Abra Thanks, if it does not have a format, then I guess just by converting a String into Java.sql.Date type will suffice to insert into a DB.","body":"@Abra Thanks, if it does not have a format, then I guess just by converting a String into Java.sql.Date type will suffice to insert into a DB."},{"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"score":0,"creation_date":1667562057,"post_id":74314924,"comment_id":131201066,"body_markdown":"@OleV.V. Thanks but I&#39;m unable to change the whole database just because something is outdated. May be for future projects I will keep it in mind.","body":"@OleV.V. Thanks but I&#39;m unable to change the whole database just because something is outdated. May be for future projects I will keep it in mind."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667564305,"post_id":74314924,"comment_id":131201818,"body_markdown":"It doesn’t require any database change, only a change in Java. And most likely only in the code that you are modifying anyway (if the old class is used elsewhere in the code, you can let that be for now if you want). See also [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"It doesn’t require any database change, only a change in Java. And most likely only in the code that you are modifying anyway (if the old class is used elsewhere in the code, you can let that be for now if you want). See also <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667564648,"post_id":74314924,"comment_id":131201924,"body_markdown":"`LocalDate.parse(fromUser).format(DateTimeFormatter.BASIC_ISO_DATE)`.","body":"<code>LocalDate.parse(fromUser).format(DateTimeFormatter.BASIC_ISO&zwnj;&#8203;_DATE)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667562409,"creation_date":1667562409,"answer_id":74316558,"question_id":74314924,"body_markdown":"Here are three ways to convert a string to `java.sql.Date`.\r\n1. Since the string is already in the recognized format, use [static] method [valueOf(String)][1] in class `java.sql.Date`.\r\n2. Convert the string to a `LocalDate` and call [static] method `valueOf(LocalDate)` also in class `java.sql.Date`.\r\n3. Convert the string to a date, get the epoch milliseconds and call the constructor of class `java.sql.Date`.\r\n\r\nThe below code demonstrates each of the above ways.\r\n```java\r\nimport java.sql.Date;\r\nimport java.time.Instant;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\npublic class JdbcTest {\r\n\r\n    public static void main(String[] args) {\r\n        String fromUser = &quot;2002-10-29&quot;;\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\r\n        LocalDate ld = LocalDate.parse(fromUser, dtf);\r\n        LocalDateTime ldt = ld.atStartOfDay();\r\n        ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\r\n        Instant inst = zdt.toInstant();\r\n        long millis = inst.toEpochMilli();\r\n        Date d = new Date(millis);\r\n        System.out.println(&quot;Constructor: &quot; + d);\r\n        d = Date.valueOf(ld);\r\n        System.out.println(&quot;From LocalDate: &quot; + d);\r\n        d = Date.valueOf(fromUser);\r\n        System.out.println(&quot;From String: &quot; + d);\r\n    }\r\n}\r\n```\r\nWhen I run the above code using JDK 19 on Windows 10, I get the following:\r\n```none\r\nConstructor: 2002-10-29\r\nFrom LocalDate: 2002-10-29\r\nFrom String: 2002-10-29\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.lang.String)","title":"How do I parse a String (yyyyMMdd ONLY) to Java.sql.Date type to be stored in SQL?","body":"<p>Here are three ways to convert a string to <code>java.sql.Date</code>.</p>\n<ol>\n<li>Since the string is already in the recognized format, use [static] method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">valueOf(String)</a> in class <code>java.sql.Date</code>.</li>\n<li>Convert the string to a <code>LocalDate</code> and call [static] method <code>valueOf(LocalDate)</code> also in class <code>java.sql.Date</code>.</li>\n<li>Convert the string to a date, get the epoch milliseconds and call the constructor of class <code>java.sql.Date</code>.</li>\n</ol>\n<p>The below code demonstrates each of the above ways.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Date;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class JdbcTest {\n\n    public static void main(String[] args) {\n        String fromUser = &quot;2002-10-29&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;, Locale.ENGLISH);\n        LocalDate ld = LocalDate.parse(fromUser, dtf);\n        LocalDateTime ldt = ld.atStartOfDay();\n        ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\n        Instant inst = zdt.toInstant();\n        long millis = inst.toEpochMilli();\n        Date d = new Date(millis);\n        System.out.println(&quot;Constructor: &quot; + d);\n        d = Date.valueOf(ld);\n        System.out.println(&quot;From LocalDate: &quot; + d);\n        d = Date.valueOf(fromUser);\n        System.out.println(&quot;From String: &quot; + d);\n    }\n}\n</code></pre>\n<p>When I run the above code using JDK 19 on Windows 10, I get the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Constructor: 2002-10-29\nFrom LocalDate: 2002-10-29\nFrom String: 2002-10-29\n</code></pre>\n"}],"owner":{"account_id":22759602,"reputation":21,"user_id":16918637,"display_name":"Ken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667562409,"creation_date":1667554781,"question_id":74314924,"body_markdown":"I have a:\r\n```\r\n String fromUser = &quot;2002-10-29&quot;;\r\n```\r\nI would like to output it to Date type (Java.sql.Date) without dashes, and just numbers.\r\n```\r\n20021029 // yyyyMMdd\r\n```\r\nHow do I achieve it? Thank you,\r\n\r\nI&#39;ve tried using DateFormat, SimpleDateFormat and most of them give me back yyyy-MM-dd.\r\n\r\nThe documentation in Oracle for Java.util.Date mentioned that the Constructor \r\n```\r\nDate(int year, int month, int day) \r\n```\r\nis already deprecated.","title":"How do I parse a String (yyyyMMdd ONLY) to Java.sql.Date type to be stored in SQL?","body":"<p>I have a:</p>\n<pre><code> String fromUser = &quot;2002-10-29&quot;;\n</code></pre>\n<p>I would like to output it to Date type (Java.sql.Date) without dashes, and just numbers.</p>\n<pre><code>20021029 // yyyyMMdd\n</code></pre>\n<p>How do I achieve it? Thank you,</p>\n<p>I've tried using DateFormat, SimpleDateFormat and most of them give me back yyyy-MM-dd.</p>\n<p>The documentation in Oracle for Java.util.Date mentioned that the Constructor</p>\n<pre><code>Date(int year, int month, int day) \n</code></pre>\n<p>is already deprecated.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1667562837,"post_id":74316497,"comment_id":131201337,"body_markdown":"&quot;we are changing something in application.xml&quot; =&gt; Well ... you shouldn&#39;t!","body":"&quot;we are changing something in application.xml&quot; =&gt; Well ... you shouldn&#39;t!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667562932,"post_id":74316497,"comment_id":131201365,"body_markdown":"if you are changing something dynamically you should not change in the `src/` area. Then this file should be put into `src/main/resources` and change via resource filtering etc. which will result in a changed file in `target/..` That shows me that your setup in your project is simply wrong...","body":"if you are changing something dynamically you should not change in the <code>src&#47;</code> area. Then this file should be put into <code>src&#47;main&#47;resources</code> and change via resource filtering etc. which will result in a changed file in <code>target&#47;..</code> That shows me that your setup in your project is simply wrong..."},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667572220,"post_id":74316497,"comment_id":131204793,"body_markdown":"@Seelenvirtuose well I&#39;m just working in this already built project so I&#39;m really not in a position to justify that. But thanks for your response, Also can you elaborate why you said that?","body":"@Seelenvirtuose well I&#39;m just working in this already built project so I&#39;m really not in a position to justify that. But thanks for your response, Also can you elaborate why you said that?"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667572339,"post_id":74316497,"comment_id":131204839,"body_markdown":"@khmarbaise why should we not put it src/ area, Can you please explain? Also the apparent solution was that we stopped building the module as it was decommissioned earlier.","body":"@khmarbaise why should we not put it src/ area, Can you please explain? Also the apparent solution was that we stopped building the module as it was decommissioned earlier."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1667573777,"post_id":74316497,"comment_id":131205414,"body_markdown":"You should not change code/files which are in `src/` area because they are under version control which exactly is the case here during the release preparation will check if uncommitted files can be located which is exactly what happen here in that case. You can put files into `src/main/resources/META-INF/application.xml` and use the filtering(resources) which will filter those files and write the results into `target/classes/META-INF` location and package them in later life cycle phases. The `target` directory should be ignored always...","body":"You should not change code/files which are in <code>src&#47;</code> area because they are under version control which exactly is the case here during the release preparation will check if uncommitted files can be located which is exactly what happen here in that case. You can put files into <code>src&#47;main&#47;resources&#47;META-INF&#47;application.xml</code> and use the filtering(resources) which will filter those files and write the results into <code>target&#47;classes&#47;META-INF</code> location and package them in later life cycle phases. The <code>target</code> directory should be ignored always..."}],"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667562172,"creation_date":1667562172,"question_id":74316497,"body_markdown":"I&#39;m working on this project in my firm and I&#39;m facing this issue on a jenkins deployment pipeline. I have a java component, whose packaging type is pom, and under it I have another java component whose packaging type is ear.\r\n\r\nNow when I trigger the jenkins build it throws error \r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare on project : Cannot prepare the release because you have local modifications-\r\nchild-component/src/main/application/META-INF/application.xml\r\n```\r\n\r\nThe problem is we are changing something in application.xml dynamically based on a version. Hence I don&#39;t know how to fix this issue?\r\n\r\nI took help from [this][1] answer but i wonder if we exclude application.xml from checking modifications whether dynamic changes will be pushed under final packaging or not?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16199154/maven-releaseprepare-cannot-prepare-the-release-because-you-have-local-modifi","title":"Failed to execute goal maen:release Cannot prepare because you have local modifications","body":"<p>I'm working on this project in my firm and I'm facing this issue on a jenkins deployment pipeline. I have a java component, whose packaging type is pom, and under it I have another java component whose packaging type is ear.</p>\n<p>Now when I trigger the jenkins build it throws error</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.2:prepare on project : Cannot prepare the release because you have local modifications-\nchild-component/src/main/application/META-INF/application.xml\n</code></pre>\n<p>The problem is we are changing something in application.xml dynamically based on a version. Hence I don't know how to fix this issue?</p>\n<p>I took help from <a href=\"https://stackoverflow.com/questions/16199154/maven-releaseprepare-cannot-prepare-the-release-because-you-have-local-modifi\">this</a> answer but i wonder if we exclude application.xml from checking modifications whether dynamic changes will be pushed under final packaging or not?</p>\n"},{"tags":["javascript","java","jquery","jsp","struts2"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667552168,"post_id":74314226,"comment_id":131197637,"body_markdown":"Yes: use different IDs","body":"Yes: use different IDs"},{"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"score":0,"creation_date":1667554829,"post_id":74314226,"comment_id":131198459,"body_markdown":"@MauricePerry how ? I want to use the same checkbox !","body":"@MauricePerry how ? I want to use the same checkbox !"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1667558640,"post_id":74314226,"comment_id":131199851,"body_markdown":"elements may have the same name, not the same ID. Deal with it.","body":"elements may have the same name, not the same ID. Deal with it."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667570558,"post_id":74314226,"comment_id":131204090,"body_markdown":"Both IDs are in the HTML (the DOM). An ID should be in the DOM only once. I don&#39;t see any reason for the hidden element to have an ID at all.","body":"Both IDs are in the HTML (the DOM). An ID should be in the DOM only once. I don&#39;t see any reason for the hidden element to have an ID at all."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667561799,"creation_date":1667561399,"answer_id":74316341,"question_id":74314226,"body_markdown":"The Struts tags `id` attribute are used for HTML ID attribute. Both inputs `hidden` and `select` have the same ID but the JavaScript code finds the first one but should use the second.\r\n\r\nThe solution to the problem is to use different value for the id attribute. \r\n```xhtml\r\n&lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActesID&quot;&gt;&lt;/s:hidden&gt;\r\n```\r\n \r\nYou can find detailed information how to use struts tags on the docs site. [There](https://stackoverflow.com/a/35500266/573032)&#39;s a similar answer on the question which has a link to the docs site ","title":"How to fix action using the same id in JSP and JS?","body":"<p>The Struts tags <code>id</code> attribute are used for HTML ID attribute. Both inputs <code>hidden</code> and <code>select</code> have the same ID but the JavaScript code finds the first one but should use the second.</p>\n<p>The solution to the problem is to use different value for the id attribute.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActesID&quot;&gt;&lt;/s:hidden&gt;\n</code></pre>\n<p>You can find detailed information how to use struts tags on the docs site. <a href=\"https://stackoverflow.com/a/35500266/573032\">There</a>'s a similar answer on the question which has a link to the docs site</p>\n"}],"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667561799,"creation_date":1667551079,"question_id":74314226,"body_markdown":"I am sending a variable from JSP to java using this code :\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n     &lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActes&quot;&gt;&lt;/s:hidden&gt;\r\n     \r\n     &lt;s:checkbox id=&quot;checkActes&quot; labelposition=&quot;left&quot; cssClass=&quot; block-left check&quot; \r\n     label=&quot;%{getText(&#39;prestationPsDto.actes&#39;)}&quot; key=&quot;prestationPsDto.actesSpec&quot;/&gt;  \r\n\r\nAfter adding the hidden attribute, the action in JS didn&#39;t work \r\n\r\n    $(&#39;#checkActes&#39;).on(&#39;click&#39;,function() {\r\n    \t\t\tconsole.log(&quot;kjfffkj&quot;);\r\n    \t\t\tif($(&#39;#checkActes&#39;).is(&#39;:checked&#39;)){\r\n    \t\t\t\tconsole.log(&quot;kjkj&quot;)\r\n    \t\t\t\t$(&quot;#cleCotation&quot;).show()\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\t$(&quot;#cleCotation&quot;).hide()\r\n    \t            $(&#39;#cleCotation&#39;).find(&quot;input,select&quot;).val(&#39;&#39;);\r\n    \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t}); \r\nI guess the problem is because i am using the same id in both JSP and JS\r\nIs there any solution to fix this problem ?","title":"How to fix action using the same id in JSP and JS?","body":"<p>I am sending a variable from JSP to java using this code :</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;s:hidden name=&quot;checkActes&quot; id=&quot;checkActes&quot;&gt;&lt;/s:hidden&gt;\n \n &lt;s:checkbox id=&quot;checkActes&quot; labelposition=&quot;left&quot; cssClass=&quot; block-left check&quot; \n label=&quot;%{getText('prestationPsDto.actes')}&quot; key=&quot;prestationPsDto.actesSpec&quot;/&gt;  \n</code></pre>\n<p>After adding the hidden attribute, the action in JS didn't work</p>\n<pre><code>$('#checkActes').on('click',function() {\n            console.log(&quot;kjfffkj&quot;);\n            if($('#checkActes').is(':checked')){\n                console.log(&quot;kjkj&quot;)\n                $(&quot;#cleCotation&quot;).show()\n            \n            }\n            else{\n                $(&quot;#cleCotation&quot;).hide()\n                $('#cleCotation').find(&quot;input,select&quot;).val('');\n\n            }\n            \n            }); \n</code></pre>\n<p>I guess the problem is because i am using the same id in both JSP and JS\nIs there any solution to fix this problem ?</p>\n"},{"tags":["java","char","ascii"],"comments":[{"owner":{"account_id":20380046,"reputation":1598,"user_id":14950361,"display_name":"pxDav"},"score":0,"creation_date":1631763854,"post_id":69202074,"comment_id":122311174,"body_markdown":"Please add the programming language to the tag, for this case add Java","body":"Please add the programming language to the tag, for this case add Java"}],"answers":[{"tags":[],"owner":{"account_id":20380046,"reputation":1598,"user_id":14950361,"display_name":"pxDav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631764444,"creation_date":1631764444,"answer_id":69202146,"question_id":69202074,"body_markdown":"The error means that you are trying to access a variable that is not initialized.\r\n```java\r\nint ascii = (int) ch;\r\n```\r\nAs you can see here, you are trying to access `ch` but it doesn&#39;t have a value.\r\n\r\nTo fix it, move the `int ascii = (int) ch;` below the input.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ASCIIvalue\r\n{\r\n    public static void main(String[] arg)\r\n    {\r\n        Scanner input=new Scanner(System.in);\r\n        char ch;\r\n\r\n        System.out.println(&quot;Enter you any character: &quot;);\r\n        ch=input.next().charAt(0);\r\n\r\n        int ascii = (int) ch;\r\n\r\n        System.out.println(&quot;The ASCII for this character &quot; + ch + &quot; is &quot; + ascii);\r\n\r\n        System.out.println(&quot;&quot;);\r\n\r\n    }\r\n}\r\n```\r\nOutput\r\n```\r\nEnter you any character:\r\na\r\n\r\nThe ASCII for this character a is 97\r\n```","title":"Character to ASCII","body":"<p>The error means that you are trying to access a variable that is not initialized.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int ascii = (int) ch;\n</code></pre>\n<p>As you can see here, you are trying to access <code>ch</code> but it doesn't have a value.</p>\n<p>To fix it, move the <code>int ascii = (int) ch;</code> below the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ASCIIvalue\n{\n    public static void main(String[] arg)\n    {\n        Scanner input=new Scanner(System.in);\n        char ch;\n\n        System.out.println(&quot;Enter you any character: &quot;);\n        ch=input.next().charAt(0);\n\n        int ascii = (int) ch;\n\n        System.out.println(&quot;The ASCII for this character &quot; + ch + &quot; is &quot; + ascii);\n\n        System.out.println(&quot;&quot;);\n\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter you any character:\na\n\nThe ASCII for this character a is 97\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667561569,"creation_date":1667561569,"answer_id":74316374,"question_id":69202074,"body_markdown":"Integer.valueOf(&#39;+&#39;) or Integer.valueOf(charInstance)","title":"Character to ASCII","body":"<p>Integer.valueOf('+') or Integer.valueOf(charInstance)</p>\n"}],"owner":{"account_id":22147698,"reputation":1,"user_id":16396691,"display_name":"Fazal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667561569,"creation_date":1631763709,"question_id":69202074,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class ASCIIvalue\r\n{\r\n    public static void main(String[] arg)\r\n    {\r\n        Scanner input=new Scanner(System.in);\r\n        char ch;\r\n\r\n        int ascii=(int)ch;\r\n\r\n        System.out.println(&quot;Enter you any character: &quot;);\r\n\r\n        ch=input.next().charAt(0);\r\n        System.out.println(&quot;The ASCII for this character&quot;+ ch +&quot;is&quot; +ascii);\r\n\r\n        System.out.println(&quot;&quot;);\r\n\r\n    }\r\n}\r\n```\r\nIn the above code I am trying to get input(char) from user and then convert it to it&#39;s ASCII value but I get the error `Variable character might not have been initialized`","title":"Character to ASCII","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ASCIIvalue\n{\n    public static void main(String[] arg)\n    {\n        Scanner input=new Scanner(System.in);\n        char ch;\n\n        int ascii=(int)ch;\n\n        System.out.println(&quot;Enter you any character: &quot;);\n\n        ch=input.next().charAt(0);\n        System.out.println(&quot;The ASCII for this character&quot;+ ch +&quot;is&quot; +ascii);\n\n        System.out.println(&quot;&quot;);\n\n    }\n}\n</code></pre>\n<p>In the above code I am trying to get input(char) from user and then convert it to it's ASCII value but I get the error <code>Variable character might not have been initialized</code></p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1667733393,"post_id":74316350,"comment_id":131232609,"body_markdown":"I suspect you&#39;ve used MapState where ValueState would be more appropriate. Maybe https://stackoverflow.com/a/66590659/2000823 will help clear things up.","body":"I suspect you&#39;ve used MapState where ValueState would be more appropriate. Maybe <a href=\"https://stackoverflow.com/a/66590659/2000823\">stackoverflow.com/a/66590659/2000823</a> will help clear things up."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1668243822,"post_id":74316350,"comment_id":131361914,"body_markdown":"See also https://stackoverflow.com/a/74411579/2000823.","body":"See also <a href=\"https://stackoverflow.com/a/74411579/2000823\">stackoverflow.com/a/74411579/2000823</a>."}],"owner":{"account_id":16687704,"reputation":11,"user_id":13221128,"display_name":"Chandan Bansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667561447,"creation_date":1667561447,"question_id":74316350,"body_markdown":"I am using MapState in CoProcessFunction in Flink.\r\n\r\nGoal:\r\nIn CoProcessFunction, I want to make a mapState such that any entry that I insert into it, should persist. \r\n\r\nCurrent Situation: \r\n1. There is a stream of dtos from kafka stream.\r\n2. From the stream, a dto arrives at x time and a key &quot;abc&quot; is stored in mapstate. \r\n3. Then at any time&gt;x, another dto arrives with the same key &quot;abc&quot;, I want to check if this key has already been stored in mapstate or not.\r\n\r\nProblem:\r\nNow the problem is, on every element of the stream, a new Process Function is triggered, a new map is generated, so I can&#39;t access the previous Elements.\r\n\r\nPossible but not applicable solution:\r\nI can use a WindowProcessFunction, but it doesn&#39;t have the concept of timers. Since, I also need to set Timer based on every element, so this method in not applicable.\r\n\r\n\r\nMain.java\r\n```\r\ndataStream1.connect(dataStream2)\r\n        .keyBy((KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey,\r\n                (KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey)\r\n        .process(new FlinkStateStorageCoProcess());\r\n```\r\n\r\nFlinkStateStorageCoProcess.java\r\n\r\n```\r\npublic class FlinkStateStorageCoProcess extends KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n    private transient MapState&lt;String, DTORetryMetadata&gt; updatedMap;\r\n    private transient MapState&lt;String, DTORetryMetadata&gt; retriesMaxedOutMap;\r\n\r\n    @Override\r\n    public void processElement1(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\r\n        if(Objects.nonNull(dtoRetryMetadata)) {\r\n            collector.collect(dtoRetryMetadata);\r\n        }\r\n        else {\r\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\r\n        }\r\n\r\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\r\n\r\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\r\n            updatedMap.remove(dtoRetryMetaDataId);\r\n        } else {\r\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\r\n            log.info(&quot;{} added to Flink Memory&quot;, dtoRetryMetaDataId);\r\n            try {\r\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                log.info(&quot;Trigger timer set at {} from {}&quot;, triggerTime, context.timestamp());\r\n                context.timerService().registerProcessingTimeTimer(\r\n                        context.timestamp() + triggerTime);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void processElement2(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\r\n        if(Objects.nonNull(dtoRetryMetadata)) {\r\n            collector.collect(dtoRetryMetadata);\r\n        }\r\n        else {\r\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\r\n        }\r\n\r\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\r\n\r\n        System.out.println(&quot;BEFORE INSERT IN KAFKA&quot;);\r\n        for(DTORetryMetadata dtoRetryMetadata1: updatedMap.values()) {\r\n            System.out.println(&quot;ENTRY : &quot; + dtoRetryMetadata1);\r\n        }\r\n\r\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\r\n            updatedMap.remove(dtoRetryMetaDataId);\r\n        } else {\r\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\r\n            try {\r\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                context.timerService().registerProcessingTimeTimer(\r\n                        context.timestamp() + triggerTime);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onTimer(long timestamp, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.OnTimerContext context, Collector&lt;DTORetryMetadata&gt; out) throws Exception {\r\n        String key = (String) context.getCurrentKey();\r\n        if (updatedMap.contains(key)) {\r\n            DTORetryMetadata dtoRetryMetadata = updatedMap.get(key);\r\n\r\n            if (dtoRetryMetadata.getRetryNo() &gt;= dtoRetryMetadata.getMaxRetryNo()) {\r\n                updatedMap.remove(key);\r\n            } else {\r\n                RetryKafkaProducer retryKafkaProducer = new RetryKafkaProducer();\r\n                if (retryKafkaProducer.sendMessageWithHeader(&quot;&quot;, dtoRetryMetadata)) {\r\n                    updatedMap.remove(key);\r\n                } else {\r\n                    updatedMap.put(key, dtoRetryMetadata);\r\n                    try {\r\n                        TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\r\n                        Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\r\n                        context.timerService().registerProcessingTimeTimer(\r\n                                context.timestamp() + triggerTime);\r\n                    } catch (RuntimeException e) {\r\n                        e.printStackTrace();\r\n                        throw new RuntimeException(&quot;Failed to add timer to DTO, Retry Mechanism Failure. &quot;);\r\n                    }\r\n\r\n                    log.info(&quot;ACK Not Received, Updating state {}:{}&quot;, key, updatedMap.get(key));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void open(Configuration parameters) throws Exception {\r\n        try {\r\n            MapStateDescriptor&lt;String, DTORetryMetadata&gt; updatedMapDescriptor = new MapStateDescriptor(\r\n                    &quot;updatedMapState&quot;, String.class, DTORetryMetadata.class);\r\n            updatedMap = getRuntimeContext().getMapState(updatedMapDescriptor);\r\n        } catch (RuntimeException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Flink state initialisation failed. &quot;+ e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n","title":"Want to Persist entries in Mapstate in Flink","body":"<p>I am using MapState in CoProcessFunction in Flink.</p>\n<p>Goal:\nIn CoProcessFunction, I want to make a mapState such that any entry that I insert into it, should persist.</p>\n<p>Current Situation:</p>\n<ol>\n<li>There is a stream of dtos from kafka stream.</li>\n<li>From the stream, a dto arrives at x time and a key &quot;abc&quot; is stored in mapstate.</li>\n<li>Then at any time&gt;x, another dto arrives with the same key &quot;abc&quot;, I want to check if this key has already been stored in mapstate or not.</li>\n</ol>\n<p>Problem:\nNow the problem is, on every element of the stream, a new Process Function is triggered, a new map is generated, so I can't access the previous Elements.</p>\n<p>Possible but not applicable solution:\nI can use a WindowProcessFunction, but it doesn't have the concept of timers. Since, I also need to set Timer based on every element, so this method in not applicable.</p>\n<p>Main.java</p>\n<pre><code>dataStream1.connect(dataStream2)\n        .keyBy((KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey,\n                (KeySelector&lt;DTORetryMetadata, Object&gt;) PrimaryKey::getPrimaryKey)\n        .process(new FlinkStateStorageCoProcess());\n</code></pre>\n<p>FlinkStateStorageCoProcess.java</p>\n<pre><code>public class FlinkStateStorageCoProcess extends KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt; {\n    private static final long serialVersionUID = 1L;\n    private transient MapState&lt;String, DTORetryMetadata&gt; updatedMap;\n    private transient MapState&lt;String, DTORetryMetadata&gt; retriesMaxedOutMap;\n\n    @Override\n    public void processElement1(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\n        if(Objects.nonNull(dtoRetryMetadata)) {\n            collector.collect(dtoRetryMetadata);\n        }\n        else {\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\n        }\n\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\n\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\n            updatedMap.remove(dtoRetryMetaDataId);\n        } else {\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\n            log.info(&quot;{} added to Flink Memory&quot;, dtoRetryMetaDataId);\n            try {\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                log.info(&quot;Trigger timer set at {} from {}&quot;, triggerTime, context.timestamp());\n                context.timerService().registerProcessingTimeTimer(\n                        context.timestamp() + triggerTime);\n            } catch (RuntimeException e) {\n                e.printStackTrace();\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\n            }\n        }\n\n    }\n\n    @Override\n    public void processElement2(DTORetryMetadata dtoRetryMetadata, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.Context context, Collector&lt;DTORetryMetadata&gt; collector) throws Exception {\n        if(Objects.nonNull(dtoRetryMetadata)) {\n            collector.collect(dtoRetryMetadata);\n        }\n        else {\n            throw new Exception(&quot;DtoRetryMetaData is null&quot;);\n        }\n\n        String dtoRetryMetaDataId = (String) context.getCurrentKey();\n\n        System.out.println(&quot;BEFORE INSERT IN KAFKA&quot;);\n        for(DTORetryMetadata dtoRetryMetadata1: updatedMap.values()) {\n            System.out.println(&quot;ENTRY : &quot; + dtoRetryMetadata1);\n        }\n\n        if(updatedMap.contains(dtoRetryMetaDataId)) {\n            updatedMap.remove(dtoRetryMetaDataId);\n        } else {\n            updatedMap.put(dtoRetryMetaDataId, dtoRetryMetadata);\n            try {\n                TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                context.timerService().registerProcessingTimeTimer(\n                        context.timestamp() + triggerTime);\n            } catch (RuntimeException e) {\n                e.printStackTrace();\n                throw new RuntimeException(&quot;Failed to add timer to DTO,Retry Mechanism Failure. &quot;);\n            }\n        }\n    }\n\n    @Override\n    public void onTimer(long timestamp, KeyedCoProcessFunction&lt;Object, DTORetryMetadata, DTORetryMetadata, DTORetryMetadata&gt;.OnTimerContext context, Collector&lt;DTORetryMetadata&gt; out) throws Exception {\n        String key = (String) context.getCurrentKey();\n        if (updatedMap.contains(key)) {\n            DTORetryMetadata dtoRetryMetadata = updatedMap.get(key);\n\n            if (dtoRetryMetadata.getRetryNo() &gt;= dtoRetryMetadata.getMaxRetryNo()) {\n                updatedMap.remove(key);\n            } else {\n                RetryKafkaProducer retryKafkaProducer = new RetryKafkaProducer();\n                if (retryKafkaProducer.sendMessageWithHeader(&quot;&quot;, dtoRetryMetadata)) {\n                    updatedMap.remove(key);\n                } else {\n                    updatedMap.put(key, dtoRetryMetadata);\n                    try {\n                        TriggerTimeHelper triggerTimeHelper = new TriggerTimeHelper();\n                        Long triggerTime = triggerTimeHelper.getTriggerTime(dtoRetryMetadata.getRetryNo());\n                        context.timerService().registerProcessingTimeTimer(\n                                context.timestamp() + triggerTime);\n                    } catch (RuntimeException e) {\n                        e.printStackTrace();\n                        throw new RuntimeException(&quot;Failed to add timer to DTO, Retry Mechanism Failure. &quot;);\n                    }\n\n                    log.info(&quot;ACK Not Received, Updating state {}:{}&quot;, key, updatedMap.get(key));\n                }\n            }\n        }\n    }\n\n    @Override\n    public void open(Configuration parameters) throws Exception {\n        try {\n            MapStateDescriptor&lt;String, DTORetryMetadata&gt; updatedMapDescriptor = new MapStateDescriptor(\n                    &quot;updatedMapState&quot;, String.class, DTORetryMetadata.class);\n            updatedMap = getRuntimeContext().getMapState(updatedMapDescriptor);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Flink state initialisation failed. &quot;+ e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1610614655,"post_id":65715848,"comment_id":116189966,"body_markdown":"that doesn&#39;t seem/sound right, from what you&#39;ve described (if i&#39;m understanding it correctly) the files should definitely be moved to `activities` and there shouldn&#39;t be duplicates","body":"that doesn&#39;t seem/sound right, from what you&#39;ve described (if i&#39;m understanding it correctly) the files should definitely be moved to <code>activities</code> and there shouldn&#39;t be duplicates"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1610626704,"post_id":65715848,"comment_id":116195144,"body_markdown":"Cannot reproduce. Can you record a screencast? Are there any errors in idea.log (Help | Show Log in ... action) file after reproducing?","body":"Cannot reproduce. Can you record a screencast? Are there any errors in idea.log (Help | Show Log in ... action) file after reproducing?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1610626778,"post_id":65715848,"comment_id":116195175,"body_markdown":"Do you mean the file disappears from an old package after you close/open Project tool window?","body":"Do you mean the file disappears from an old package after you close/open Project tool window?"},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1638807322,"post_id":65715848,"comment_id":124180083,"body_markdown":"I can confirm I&#39;m also seeing this issue. If I check the OS file system, the file shows as moved correctly, but in Android Studio it still appears in its old location. I&#39;m using Arctic Fox Patch 3 on macOS 11.6.","body":"I can confirm I&#39;m also seeing this issue. If I check the OS file system, the file shows as moved correctly, but in Android Studio it still appears in its old location. I&#39;m using Arctic Fox Patch 3 on macOS 11.6."}],"answers":[{"tags":[],"owner":{"account_id":19392417,"reputation":197,"user_id":14180770,"display_name":"Bilal Bangash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610616721,"creation_date":1610616721,"answer_id":65716454,"question_id":65715848,"body_markdown":"Posting an answer is because I don&#39;t have enough reputation. \r\nafter refactoring the file actually moves there but it is bug I also have noticed, A copy of the file seems to be present in the old places even after refactoring but after refreshing It is gone.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>Posting an answer is because I don't have enough reputation.\nafter refactoring the file actually moves there but it is bug I also have noticed, A copy of the file seems to be present in the old places even after refactoring but after refreshing It is gone.</p>\n"},{"tags":[],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644598692,"creation_date":1644598692,"answer_id":71083792,"question_id":65715848,"body_markdown":"I&#39;m able to resolve this issue by simply closing and re-opening Android Studio.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>I'm able to resolve this issue by simply closing and re-opening Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":14864749,"reputation":21,"user_id":10734249,"display_name":"Ebru Hatipoglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561301,"creation_date":1667561301,"answer_id":74316323,"question_id":65715848,"body_markdown":"It looks like a bug of Android Studio.  When I restart Android Studio, the file only was shown in the new location. The copy was disappeared.  ","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>It looks like a bug of Android Studio.  When I restart Android Studio, the file only was shown in the new location. The copy was disappeared.</p>\n"}],"owner":{"account_id":4939100,"reputation":43,"user_id":3976378,"display_name":"Liam Baron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65716454,"answer_count":3,"score":3,"last_activity_date":1667561301,"creation_date":1610613919,"question_id":65715848,"body_markdown":"In visual Studio when I move files into a package on the same original level, the files that I move also remain where they were.\r\n\r\n[![Picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j689C.png\r\n\r\nI dragged each of these Kotlin files (AddHappyPlaceActivity and MainActivity) into the &quot;activities&quot; package, then pressed refactor in the screen that appears. I would expect the original files to not appear.\r\n\r\nThanks a lot.","title":"Android Studio - Refactor move files still keeps a copy in original place","body":"<p>In visual Studio when I move files into a package on the same original level, the files that I move also remain where they were.</p>\n<p><a href=\"https://i.stack.imgur.com/j689C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j689C.png\" alt=\"Picture\" /></a></p>\n<p>I dragged each of these Kotlin files (AddHappyPlaceActivity and MainActivity) into the &quot;activities&quot; package, then pressed refactor in the screen that appears. I would expect the original files to not appear.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","spring-boot","azure","cloud"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667567078,"post_id":74316299,"comment_id":131202750,"body_markdown":"Need more details. How do you invoke the eclipse command line tool from your Sping Boot app? What is the difference between the environment in Azure cloud and in your local machine? Is the eclipse command line tool part of your application as a dependency?","body":"Need more details. How do you invoke the eclipse command line tool from your Sping Boot app? What is the difference between the environment in Azure cloud and in your local machine? Is the eclipse command line tool part of your application as a dependency?"},{"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"score":0,"creation_date":1667795758,"post_id":74316299,"comment_id":131244377,"body_markdown":"Eclipse application is invoked from the command prompt by passing the inputs, this eclipse application is present in a local drive. Eclipse command line tool isn&#39;t part of the dependency, it&#39;s a separate tool present in other location. It&#39;s like invoking any other windows application from the command prompt.","body":"Eclipse application is invoked from the command prompt by passing the inputs, this eclipse application is present in a local drive. Eclipse command line tool isn&#39;t part of the dependency, it&#39;s a separate tool present in other location. It&#39;s like invoking any other windows application from the command prompt."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667803210,"post_id":74316299,"comment_id":131245625,"body_markdown":"Well theres your answer in that case. Make sure your Azure machine would have this thing installed.","body":"Well theres your answer in that case. Make sure your Azure machine would have this thing installed."},{"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"score":0,"creation_date":1667816187,"post_id":74316299,"comment_id":131249583,"body_markdown":"I am not sure how to make this eclipse application to be available in the cloud. How this application can be installed in cloud?\nThanks.","body":"I am not sure how to make this eclipse application to be available in the cloud. How this application can be installed in cloud? Thanks."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667816436,"post_id":74316299,"comment_id":131249668,"body_markdown":"Depends on what the actual application is and what is the host running in the cloud. If I were you, I&#39;d Dockerise my application and try to get this utility installed in docker via Docker scripts. Then you could just deploy your Docker container to the cloud and wouldn&#39;t have to burden your head between the differences in cloud and in your local environment.","body":"Depends on what the actual application is and what is the host running in the cloud. If I were you, I&#39;d Dockerise my application and try to get this utility installed in docker via Docker scripts. Then you could just deploy your Docker container to the cloud and wouldn&#39;t have to burden your head between the differences in cloud and in your local environment."}],"owner":{"account_id":14129990,"reputation":43,"user_id":10208234,"display_name":"Manjunath S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667561171,"creation_date":1667561171,"question_id":74316299,"body_markdown":"We have a built a spring boot application which invokes a command-line eclipse tool and generates few output files. Configurations for eclipse tool is added in the `application.properties` file. This is successfully achieved locally. Now, we have deployed the spring-boot application to azure cloud and able to access the REST apis. But stuck while invoking the eclipse command-line tool. How to upload the commandline tool into azure and access it through the cloud app?","title":"How to communicate cloud spring-boot with files which are available on azure?","body":"<p>We have a built a spring boot application which invokes a command-line eclipse tool and generates few output files. Configurations for eclipse tool is added in the <code>application.properties</code> file. This is successfully achieved locally. Now, we have deployed the spring-boot application to azure cloud and able to access the REST apis. But stuck while invoking the eclipse command-line tool. How to upload the commandline tool into azure and access it through the cloud app?</p>\n"},{"tags":["java","mongodb","web","request","token"],"answers":[{"tags":[],"owner":{"account_id":26798110,"reputation":1,"user_id":20390520,"display_name":"outOfTheWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667561018,"creation_date":1667336645,"answer_id":74281776,"question_id":74279953,"body_markdown":"Ok I was totally wrong my filter was just bad \r\n\r\nthe probleme come from my query thats the correct : `{&quot;CookieConnexion.value&quot; : &quot;&lt;token&gt;&quot;}`\r\n\r\nthat&#39;s the good code : \r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    System.out.println(&quot;Token = &quot; + token);\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = BasicDBObject.parse(&quot;{\\&quot;CookieConnexion.value\\&quot; : \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\r\n    System.out.println(dbObjectFilter.toString());\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n","title":"Java mongoDB query probleme for any values","body":"<p>Ok I was totally wrong my filter was just bad</p>\n<p>the probleme come from my query thats the correct : <code>{&quot;CookieConnexion.value&quot; : &quot;&lt;token&gt;&quot;}</code></p>\n<p>that's the good code :</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    System.out.println(&quot;Token = &quot; + token);\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = BasicDBObject.parse(&quot;{\\&quot;CookieConnexion.value\\&quot; : \\&quot;&quot; + token + &quot;\\&quot;}&quot;);\n    System.out.println(dbObjectFilter.toString());\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26798110,"reputation":1,"user_id":20390520,"display_name":"outOfTheWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667561018,"creation_date":1667325411,"question_id":74279953,"body_markdown":"I&#39;m a French student in development\r\nI&#39;m actually working on a project to create a web auth\r\nI&#39;m trying to introduce a token system working with cookies\r\nBut the problem is my query for finding a client with his token\r\n\r\nThat&#39;s my code (don&#39;t work) to get a client with a token\r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,new BasicDBObject(&quot;$exists&quot;, true)));\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd this one (work) but I have one hard value\r\n\r\n```\r\npublic static DBObject findClientByToken(DB database, String token){\r\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\r\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,&quot;Wed Nov 02 17:29:54 CET 2022&quot;));\r\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\r\n    if (cursor.hasNext()) {\r\n        DBObject client = cursor.next();\r\n        if (cursor.hasNext()){\r\n            return null;\r\n        } else {\r\n            return client;\r\n        }\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nthats a exemple of one documents [![enter image description here](https://i.stack.imgur.com/9h4Wf.png)](https://i.stack.imgur.com/9h4Wf.png)\r\n\r\n\r\nSorry for my bad english !\r\nHope someone can help me\r\n\r\nIm trying to get the DBObject who match with the query","title":"Java mongoDB query probleme for any values","body":"<p>I'm a French student in development\nI'm actually working on a project to create a web auth\nI'm trying to introduce a token system working with cookies\nBut the problem is my query for finding a client with his token</p>\n<p>That's my code (don't work) to get a client with a token</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,new BasicDBObject(&quot;$exists&quot;, true)));\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>And this one (work) but I have one hard value</p>\n<pre><code>public static DBObject findClientByToken(DB database, String token){\n    DBCollection collectionUser = database.getCollection(&quot;users&quot;);\n    DBObject dbObjectFilter = new BasicDBObject().append(&quot;CookieConnexion&quot;, new BasicDBObject().append(&quot;value&quot;, token).append(&quot;dateExpire&quot;,&quot;Wed Nov 02 17:29:54 CET 2022&quot;));\n    DBCursor cursor = collectionUser.find(dbObjectFilter);\n    if (cursor.hasNext()) {\n        DBObject client = cursor.next();\n        if (cursor.hasNext()){\n            return null;\n        } else {\n            return client;\n        }\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>thats a exemple of one documents <a href=\"https://i.stack.imgur.com/9h4Wf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9h4Wf.png\" alt=\"enter image description here\" /></a></p>\n<p>Sorry for my bad english !\nHope someone can help me</p>\n<p>Im trying to get the DBObject who match with the query</p>\n"},{"tags":["java","thread-safety","prometheus"],"answers":[{"tags":[],"owner":{"account_id":22070529,"reputation":1,"user_id":16331584,"display_name":"GodChin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560976,"creation_date":1667294018,"answer_id":74273692,"question_id":74273450,"body_markdown":"```\r\nstatic final ThreadLocal&lt;int[]&gt; threadHashCode = new ThreadLocal&lt;int[]&gt;();\r\n```\r\n\r\nPrometheus uses ThreadLocal\r\n\r\n\r\n\r\n","title":"How does prometheus make sure counter is thread safety?","body":"<pre><code>static final ThreadLocal&lt;int[]&gt; threadHashCode = new ThreadLocal&lt;int[]&gt;();\n</code></pre>\n<p>Prometheus uses ThreadLocal</p>\n"}],"owner":{"account_id":26792180,"reputation":1,"user_id":20385421,"display_name":"NorthWind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667560976,"creation_date":1667292409,"question_id":74273450,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/BcUji.png)](https://i.stack.imgur.com/BcUji.png)\r\n\r\nit seems io.prometheus.client.Gauge is thread safety but io.prometheus.client.Counter is not.\r\n\r\nWhy counter.get is always 200000 while a != 200000?\r\n[![enter image description here](https://i.stack.imgur.com/3m5Nc.png)](https://i.stack.imgur.com/3m5Nc.png) \r\n\r\nHow does prometheus make sure counter is thread safety?\r\n","title":"How does prometheus make sure counter is thread safety?","body":"<p><a href=\"https://i.stack.imgur.com/BcUji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BcUji.png\" alt=\"enter image description here\" /></a></p>\n<p>it seems io.prometheus.client.Gauge is thread safety but io.prometheus.client.Counter is not.</p>\n<p>Why counter.get is always 200000 while a != 200000?\n<a href=\"https://i.stack.imgur.com/3m5Nc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3m5Nc.png\" alt=\"enter image description here\" /></a></p>\n<p>How does prometheus make sure counter is thread safety?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2820145,"reputation":1610,"user_id":2424073,"accept_rate":80,"display_name":"MyPasswordIsLasercats"},"score":0,"creation_date":1429883230,"post_id":29849068,"comment_id":47824324,"body_markdown":"possible duplicate of [Eclipse error: indirectly referenced from required .class files?](http://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files\">Eclipse error: indirectly referenced from required .class files?</a>"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":2,"creation_date":1429883244,"post_id":29849068,"comment_id":47824333,"body_markdown":"What is the complete error message","body":"What is the complete error message"},{"owner":{"account_id":2734524,"reputation":1928,"user_id":2357483,"accept_rate":86,"display_name":"davide"},"score":0,"creation_date":1429883548,"post_id":29849068,"comment_id":47824596,"body_markdown":"possible duplicate of [Indirectly referenced from required .class file](http://stackoverflow.com/questions/115971/indirectly-referenced-from-required-class-file)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/115971/indirectly-referenced-from-required-class-file\">Indirectly referenced from required .class file</a>"}],"answers":[{"tags":[],"owner":{"account_id":5472741,"reputation":1823,"user_id":4351621,"display_name":"Josh Davis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429883469,"creation_date":1429883469,"answer_id":29849301,"question_id":29849068,"body_markdown":"That error means you have some unresolved dependency, i.e. one of those jar files depends on some other jar file that you have not added to your classpath.\r\n\r\nI believe this is a duplicate of: https://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>That error means you have some unresolved dependency, i.e. one of those jar files depends on some other jar file that you have not added to your classpath.</p>\n\n<p>I believe this is a duplicate of: <a href=\"https://stackoverflow.com/questions/5547162/eclipse-error-indirectly-referenced-from-required-class-files\">Eclipse error: indirectly referenced from required .class files?</a></p>\n"},{"tags":[],"owner":{"account_id":5089651,"reputation":882,"user_id":4083113,"display_name":"Shayan Ghosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429883675,"creation_date":1429883675,"answer_id":29849383,"question_id":29849068,"body_markdown":"\r\none of the class that you use needs another class which is not in classpath.Just add the required jar to the classpath.Also clean the workspace.Missing file&#39;s name will be in the error message.\r\n","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>one of the class that you use needs another class which is not in classpath.Just add the required jar to the classpath.Also clean the workspace.Missing file's name will be in the error message.</p>\n"},{"tags":[],"owner":{"account_id":13961129,"reputation":127,"user_id":10082325,"display_name":"Mutaealim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560895,"creation_date":1667560895,"answer_id":74316253,"question_id":29849068,"body_markdown":"For me, after changing a dependency in pom.xml file,this kind of error started showing up.Maven repository was corrupted.So deleted the.m2 repository and updated maven.Refered this answer:\r\n\r\n[https://stackoverflow.com/a/46582952/10082325][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46582952/10082325","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>For me, after changing a dependency in pom.xml file,this kind of error started showing up.Maven repository was corrupted.So deleted the.m2 repository and updated maven.Refered this answer:</p>\n<p><a href=\"https://stackoverflow.com/a/46582952/10082325\">https://stackoverflow.com/a/46582952/10082325</a></p>\n"}],"owner":{"account_id":945022,"reputation":817,"user_id":972418,"accept_rate":37,"display_name":"user972418"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42813,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29849301,"answer_count":3,"score":8,"last_activity_date":1667560895,"creation_date":1429882827,"question_id":29849068,"body_markdown":"I am facing a weird issue. When I add some external JARs to the classpath I get the error &quot;It is indirectly referenced from required .class files&quot;. But when I remove all of them I get rid of this error. Here re the entries for .classpath\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;bundle/src/main/java&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-api-5.7.8.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-commons-5.7.8.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/external_jars/cq-wcm-core-5.7.116.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nDo let me know if I need to provide any other info.\r\n\r\nThanks in advance","title":"Eclipse::Indirectly referenced from required .class files","body":"<p>I am facing a weird issue. When I add some external JARs to the classpath I get the error \"It is indirectly referenced from required .class files\". But when I remove all of them I get rid of this error. Here re the entries for .classpath</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" path=\"bundle/src/main/java\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-api-5.7.8.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-commons-5.7.8.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/external_jars/cq-wcm-core-5.7.116.jar\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>Do let me know if I need to provide any other info.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":37849,"reputation":3679,"user_id":108341,"accept_rate":88,"display_name":"Micha&#235;l"},"score":3,"creation_date":1418805147,"post_id":27521209,"comment_id":43471739,"body_markdown":"It could be helpful if you add what you have done.","body":"It could be helpful if you add what you have done."},{"owner":{"account_id":4728074,"reputation":1608,"user_id":3826188,"display_name":"MihaiC"},"score":0,"creation_date":1418805185,"post_id":27521209,"comment_id":43471763,"body_markdown":"what library are you using for reading excel? jxl?","body":"what library are you using for reading excel? jxl?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1418805264,"post_id":27521209,"comment_id":43471796,"body_markdown":"With the POI streaming API you can stream the workbook until you find what you need. But because of the way Excel files are structured, you obviously cannot locate the data an `A1` without reading a lot of other information. Further, what if `A1` contains a formula?","body":"With the POI streaming API you can stream the workbook until you find what you need. But because of the way Excel files are structured, you obviously cannot locate the data an <code>A1</code> without reading a lot of other information. Further, what if <code>A1</code> contains a formula?"},{"owner":{"account_id":5494825,"reputation":13,"user_id":4366334,"display_name":"sandy"},"score":0,"creation_date":1418805460,"post_id":27521209,"comment_id":43471893,"body_markdown":"i am using apache poi","body":"i am using apache poi"},{"owner":{"account_id":4728074,"reputation":1608,"user_id":3826188,"display_name":"MihaiC"},"score":0,"creation_date":1418805557,"post_id":27521209,"comment_id":43471935,"body_markdown":"possible duplicate of [Get Cell Value from Excel Sheet with Apache Poi](http://stackoverflow.com/questions/5578535/get-cell-value-from-excel-sheet-with-apache-poi)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5578535/get-cell-value-from-excel-sheet-with-apache-poi\">Get Cell Value from Excel Sheet with Apache Poi</a>"},{"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":0,"creation_date":1418805749,"post_id":27521209,"comment_id":43472026,"body_markdown":"possible duplicate of your own question from yesterday, [How to read column a1 from an Excel sheet and perform string matching to define variables in a Java program](http://stackoverflow.com/questions/27505196/how-to-read-column-a1-from-an-excel-sheet-and-perform-string-matching-to-define)","body":"possible duplicate of your own question from yesterday, <a href=\"http://stackoverflow.com/questions/27505196/how-to-read-column-a1-from-an-excel-sheet-and-perform-string-matching-to-define\">How to read column a1 from an Excel sheet and perform string matching to define variables in a Java program</a>"}],"answers":[{"tags":[],"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1418805992,"creation_date":1418805668,"answer_id":27521363,"question_id":27521209,"body_markdown":"You can use row.getCell() method.&lt;br/&gt;\r\nTry this:\r\n\r\n\r\n\r\n    Workbook workbook = WorkbookFactory.create(yourFile.getInputstream());\r\n    \r\n     Sheet sheet = workbook.getSheet(0);//1,2,3\r\n\r\n     Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    \r\n            while (rowIterator.hasNext()) {\r\n    \r\n                Row row = rowIterator.next();\r\n    \r\n                row.getCell(0);\r\n                row.getCell(1);\r\n    }","title":"how to read a single cell from excel sheet into java program,","body":"<p>You can use row.getCell() method.<br/>\nTry this:</p>\n\n<pre><code>Workbook workbook = WorkbookFactory.create(yourFile.getInputstream());\n\n Sheet sheet = workbook.getSheet(0);//1,2,3\n\n Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n        while (rowIterator.hasNext()) {\n\n            Row row = rowIterator.next();\n\n            row.getCell(0);\n            row.getCell(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26799568,"reputation":1,"user_id":20391748,"display_name":"hibrahim09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667560804,"creation_date":1667334363,"answer_id":74281417,"question_id":27521209,"body_markdown":"```\r\ntry {\r\n    FileInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Users\\\\HP\\\\Desktop\\\\test.xlsx&quot;));\r\n    XSSFWorkbook wb = new XSSFWorkbook(inputStream);\r\n    XSSFSheet sheet = wb.getSheetAt(0);\r\n    Row row;\r\n    Cell cell;\r\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    while (rowIterator.hasNext()) {\r\n        row = (Row) rowIterator.next();\r\n        cell = row.getCell(0);\r\n        int id = (int)cell.getNumericCellValue();\r\n        System.out.println(id);\r\n    }\r\n    \r\n    inputStream.close(); \r\n\r\n} catch (Exception e) {\r\n    System.out.println(e.getStackTrace());\r\n    \r\n}\r\n```","title":"how to read a single cell from excel sheet into java program,","body":"<pre><code>try {\n    FileInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Users\\\\HP\\\\Desktop\\\\test.xlsx&quot;));\n    XSSFWorkbook wb = new XSSFWorkbook(inputStream);\n    XSSFSheet sheet = wb.getSheetAt(0);\n    Row row;\n    Cell cell;\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n    while (rowIterator.hasNext()) {\n        row = (Row) rowIterator.next();\n        cell = row.getCell(0);\n        int id = (int)cell.getNumericCellValue();\n        System.out.println(id);\n    }\n    \n    inputStream.close(); \n\n} catch (Exception e) {\n    System.out.println(e.getStackTrace());\n    \n}\n</code></pre>\n"}],"owner":{"account_id":5494825,"reputation":13,"user_id":4366334,"display_name":"sandy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13206,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":27521363,"answer_count":2,"score":-3,"last_activity_date":1667560804,"creation_date":1418805046,"question_id":27521209,"body_markdown":"I need to read a single cell, (example A1) into my java program. I am able to read out whole content into my program but how can i read only a specific cell?\r\n\r\n    import java.io.*;\r\n    import java.util.Iterator;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    class JavaApplication2\r\n    {\r\n    static void readXlsx(File inputFile) \r\n    {\r\n    try \r\n    {\r\n        // Get the workbook instance for XLSX file\r\n        XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(inputFile));\r\n\r\n        // Get first sheet from the workbook\r\n        XSSFSheet sheet = wb.getSheetAt(0);\r\n\r\n        Row row;\r\n        Cell cell;\r\n\r\n        // Iterate through each rows from first sheet\r\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\r\n        while (rowIterator.hasNext()) \r\n        {\r\n                row = rowIterator.next();\r\n\r\n                // For each row, iterate through each columns\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                \r\n                while (cellIterator.hasNext()) \r\n                {\r\n                cell = cellIterator.next();\r\n\r\n                switch (cell.getCellType()) \r\n                {\r\n\r\n                case Cell.CELL_TYPE_BOOLEAN:\r\n                        System.out.println(cell.getBooleanCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                        System.out.println(cell.getNumericCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_STRING:\r\n                        System.out.println(cell.getStringCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_BLANK:\r\n                        System.out.println(&quot; &quot;);\r\n                        break;\r\n\r\n                default:\r\n                        System.out.println(cell);\r\n\r\n                }\r\n                }\r\n        }\r\n    }\r\n    catch (Exception e) \r\n    {\r\n        System.err.println(&quot;Exception :&quot; + e.getMessage());\r\n    }\r\n    }\r\n\r\n    static void readXls(File inputFile) \r\n    {\r\n    try \r\n    {\r\n        // Get the workbook instance for XLS file\r\n        HSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\r\n        // Get first sheet from the workbook\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n        Cell cell;\r\n        Row row;\r\n\r\n        // Iterate through each rows from first sheet\r\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n        \r\n        while (rowIterator.hasNext()) \r\n        {\r\n                row = rowIterator.next();\r\n\r\n                // For each row, iterate through each columns\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                \r\n                while (cellIterator.hasNext()) \r\n                {\r\n                cell = cellIterator.next();\r\n\r\n                switch (cell.getCellType()) \r\n                {\r\n\r\n                case Cell.CELL_TYPE_BOOLEAN:\r\n                        System.out.println(cell.getBooleanCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                        System.out.println(cell.getNumericCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_STRING:\r\n                        System.out.println(cell.getStringCellValue());\r\n                        break;\r\n\r\n                case Cell.CELL_TYPE_BLANK:\r\n                        System.out.println(&quot; &quot;);\r\n                        break;\r\n\r\n                default:\r\n                        System.out.println(cell);\r\n                }\r\n                }\r\n        }\r\n\r\n    } \r\n\r\n    catch (FileNotFoundException e) \r\n    {\r\n        System.err.println(&quot;Exception&quot; + e.getMessage());\r\n    }\r\n    catch (IOException e) \r\n    {\r\n        System.err.println(&quot;Exception&quot; + e.getMessage());\r\n    }\r\n    }\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        File inputFile = new File(&quot;C://users/admin/Desktop/Content.xls&quot;);\r\n       \r\n        readXls(inputFile);\r\n        \r\n    }\r\n    }\r\n\r\nthis is what I have done, I am reading the whole content but I need a specific cell","title":"how to read a single cell from excel sheet into java program,","body":"<p>I need to read a single cell, (example A1) into my java program. I am able to read out whole content into my program but how can i read only a specific cell?</p>\n\n<pre><code>import java.io.*;\nimport java.util.Iterator;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nclass JavaApplication2\n{\nstatic void readXlsx(File inputFile) \n{\ntry \n{\n    // Get the workbook instance for XLSX file\n    XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(inputFile));\n\n    // Get first sheet from the workbook\n    XSSFSheet sheet = wb.getSheetAt(0);\n\n    Row row;\n    Cell cell;\n\n    // Iterate through each rows from first sheet\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n    while (rowIterator.hasNext()) \n    {\n            row = rowIterator.next();\n\n            // For each row, iterate through each columns\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) \n            {\n            cell = cellIterator.next();\n\n            switch (cell.getCellType()) \n            {\n\n            case Cell.CELL_TYPE_BOOLEAN:\n                    System.out.println(cell.getBooleanCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_NUMERIC:\n                    System.out.println(cell.getNumericCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_STRING:\n                    System.out.println(cell.getStringCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_BLANK:\n                    System.out.println(\" \");\n                    break;\n\n            default:\n                    System.out.println(cell);\n\n            }\n            }\n    }\n}\ncatch (Exception e) \n{\n    System.err.println(\"Exception :\" + e.getMessage());\n}\n}\n\nstatic void readXls(File inputFile) \n{\ntry \n{\n    // Get the workbook instance for XLS file\n    HSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\n    // Get first sheet from the workbook\n    HSSFSheet sheet = workbook.getSheetAt(0);\n    Cell cell;\n    Row row;\n\n    // Iterate through each rows from first sheet\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n    while (rowIterator.hasNext()) \n    {\n            row = rowIterator.next();\n\n            // For each row, iterate through each columns\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) \n            {\n            cell = cellIterator.next();\n\n            switch (cell.getCellType()) \n            {\n\n            case Cell.CELL_TYPE_BOOLEAN:\n                    System.out.println(cell.getBooleanCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_NUMERIC:\n                    System.out.println(cell.getNumericCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_STRING:\n                    System.out.println(cell.getStringCellValue());\n                    break;\n\n            case Cell.CELL_TYPE_BLANK:\n                    System.out.println(\" \");\n                    break;\n\n            default:\n                    System.out.println(cell);\n            }\n            }\n    }\n\n} \n\ncatch (FileNotFoundException e) \n{\n    System.err.println(\"Exception\" + e.getMessage());\n}\ncatch (IOException e) \n{\n    System.err.println(\"Exception\" + e.getMessage());\n}\n}\n\npublic static void main(String[] args) \n{\n    File inputFile = new File(\"C://users/admin/Desktop/Content.xls\");\n\n    readXls(inputFile);\n\n}\n}\n</code></pre>\n\n<p>this is what I have done, I am reading the whole content but I need a specific cell</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9084,"page":908,"page_size":100}
