{"items":[{"tags":["java","string","arraylist","runtime-error","println"],"answers":[{"tags":[],"owner":{"account_id":370496,"reputation":1057,"user_id":718472,"display_name":"mastermind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368990462,"creation_date":1368990462,"answer_id":16638400,"question_id":16638349,"body_markdown":"consider list have 10 items,\r\nthen indexes were 0 - 9\r\n\r\nnow when index=9\r\n\r\nwhile loop check it 9&lt;10 which is true and enters in then add 1\r\n\r\nindex become 10 which is out of bound error occured","title":"Runtime error Java","body":"<p>consider list have 10 items,\nthen indexes were 0 - 9</p>\n\n<p>now when index=9</p>\n\n<p>while loop check it 9&lt;10 which is true and enters in then add 1</p>\n\n<p>index become 10 which is out of bound error occured</p>\n"},{"tags":[],"owner":{"account_id":1331302,"reputation":118767,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1368990780,"creation_date":1368990780,"answer_id":16638448,"question_id":16638349,"body_markdown":"    while (index &lt; list.size) {\r\n     index = index + 1;\r\n     System.out.println(list.get(index));\r\n    }\r\n\r\nHere `index` is incremented *before* accessing the list. So it reads one element ahead everytime. So run-time error when the list is not empty. \r\n\r\nIf the list is empty then the condition `while (index &lt; list.size)` will fail and hence the loop code that causes the run-time error will never be executed.\r\n\r\nAlthough not relevant to your question, the correct code would be to increment the `index` after reading:\r\n\r\n    while (index &lt; list.size) {\r\n     System.out.println(list.get(index));\r\n     index = index + 1;\r\n    }","title":"Runtime error Java","body":"<pre><code>while (index &lt; list.size) {\n index = index + 1;\n System.out.println(list.get(index));\n}\n</code></pre>\n\n<p>Here <code>index</code> is incremented <em>before</em> accessing the list. So it reads one element ahead everytime. So run-time error when the list is not empty. </p>\n\n<p>If the list is empty then the condition <code>while (index &lt; list.size)</code> will fail and hence the loop code that causes the run-time error will never be executed.</p>\n\n<p>Although not relevant to your question, the correct code would be to increment the <code>index</code> after reading:</p>\n\n<pre><code>while (index &lt; list.size) {\n System.out.println(list.get(index));\n index = index + 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5839922,"reputation":2089,"user_id":4601864,"accept_rate":75,"display_name":"M.Usman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502969167,"creation_date":1502969167,"answer_id":45733867,"question_id":16638349,"body_markdown":"    while (index &lt; list.size) {\r\n     index = index + 1;\r\n     System.out.println(list.get(index));\r\n    }\r\n\r\n&gt; case 1\r\n\r\n: if list is empty, content of while loop will never be executed.\r\n\r\n&gt; case 2\r\n\r\n:if list is not empty, accessing last element will occurs an error. Because the element at `list.size` is not there in list.\r\n\r\n\r\nSo, that error occurs only if list contains at least one element.","title":"Runtime error Java","body":"<pre><code>while (index &lt; list.size) {\n index = index + 1;\n System.out.println(list.get(index));\n}\n</code></pre>\n\n<blockquote>\n  <p>case 1</p>\n</blockquote>\n\n<p>: if list is empty, content of while loop will never be executed.</p>\n\n<blockquote>\n  <p>case 2</p>\n</blockquote>\n\n<p>:if list is not empty, accessing last element will occurs an error. Because the element at <code>list.size</code> is not there in list.</p>\n\n<p>So, that error occurs only if list contains at least one element.</p>\n"},{"tags":[],"owner":{"account_id":26597752,"reputation":1,"user_id":20219823,"display_name":"SKhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665559653,"creation_date":1665559562,"answer_id":74037966,"question_id":16638349,"body_markdown":"The correct option is b) a run time error occurs when list is not emtpty\r\n\r\nExplanation: We are starting from index=0, but just before print statement we are incrementing the index by 1. So, even if the condition in while is satisfied, the last index we will get index out of bounds error. \r\n\r\nEg. if array&#39;s size is 2 and after first iteration, index=1. Next time, inside while (1&lt;array.size()), but then we increment the index by 1, so index=2 and when the print statement will be executed, it will throw error as array.get(2) is out of bounds because of 0 based indexing.\r\n\r\nif the list is empty, we wont get inside while loop.","title":"Runtime error Java","body":"<p>The correct option is b) a run time error occurs when list is not emtpty</p>\n<p>Explanation: We are starting from index=0, but just before print statement we are incrementing the index by 1. So, even if the condition in while is satisfied, the last index we will get index out of bounds error.</p>\n<p>Eg. if array's size is 2 and after first iteration, index=1. Next time, inside while (1&lt;array.size()), but then we increment the index by 1, so index=2 and when the print statement will be executed, it will throw error as array.get(2) is out of bounds because of 0 based indexing.</p>\n<p>if the list is empty, we wont get inside while loop.</p>\n"}],"owner":{"account_id":2584693,"reputation":193,"user_id":2240664,"display_name":"user2240664"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16638448,"answer_count":4,"score":0,"last_activity_date":1665559653,"creation_date":1368990065,"question_id":16638349,"body_markdown":"I am a beginner in Java and I have a run time error question. I have answered it correctly, however I do not completely understand the concept behind the answer. Could someone please explain why B is the right answer to the question, thank you:\r\n\r\nConsider the following declarations:\r\n\r\n    private ArrayList&lt;String&gt; list;\r\n    ...\r\n    public void printAll()\r\n    {\r\n    int index = 0;\r\n    while (index &lt; list.size) {\r\n    index = index + 1;\r\n    System.out.println(list.get(index));\r\n       }\r\n    }\r\n\r\nAssuming that list is not null, which one of the following is true about invocations of printAll()?\r\n\r\na)A run-time error occurs only if the list is empty.\r\n\r\nb)A run-time error occurs only if the list is not empty.\r\n\r\nc)A run-time error never occurs.\r\n\r\nd)A run-time error always occurs.\r\n\r\ne)A run-time error occurs whenever the list has an even length","title":"Runtime error Java","body":"<p>I am a beginner in Java and I have a run time error question. I have answered it correctly, however I do not completely understand the concept behind the answer. Could someone please explain why B is the right answer to the question, thank you:</p>\n\n<p>Consider the following declarations:</p>\n\n<pre><code>private ArrayList&lt;String&gt; list;\n...\npublic void printAll()\n{\nint index = 0;\nwhile (index &lt; list.size) {\nindex = index + 1;\nSystem.out.println(list.get(index));\n   }\n}\n</code></pre>\n\n<p>Assuming that list is not null, which one of the following is true about invocations of printAll()?</p>\n\n<p>a)A run-time error occurs only if the list is empty.</p>\n\n<p>b)A run-time error occurs only if the list is not empty.</p>\n\n<p>c)A run-time error never occurs.</p>\n\n<p>d)A run-time error always occurs.</p>\n\n<p>e)A run-time error occurs whenever the list has an even length</p>\n"},{"tags":["java","hibernate","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665559438,"creation_date":1665559438,"answer_id":74037941,"question_id":74035068,"body_markdown":"`hibernate.search.indexing_strategy = manual` was for all entity types, not for a specific one.\r\n\r\nThe feature you&#39;re looking for has already been filed as [HSEARCH-168](https://hibernate.atlassian.net/browse/HSEARCH-168), and is currently planned for Hibernate Search 6.2.\r\n\r\nIn the meantime, I think the best you can do would be to rely on a hack. It won&#39;t be as efficient as what we envision for [HSEARCH-168](https://hibernate.atlassian.net/browse/HSEARCH-168), but it&#39;s a start:\r\n\r\n* Implement a [RoutingBridge](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-bridge-routingkeybridge) which, based on a switch, will either disable indexing completely (both adding and removing the entity from the index) or behave normally as if there was no routing bridge:\r\n  ```java\r\n  public class ManualIndexingRoutingBinder implements RoutingBinder {\r\n\r\n      private static volatile boolean indexingEnabled = false;\r\n\r\n      public static synchronized void withIndexingEnabled(Runnable runnable) {\r\n          indexingEnabled = true;\r\n          try {\r\n              runnable.run();\r\n          }\r\n          finally {\r\n              indexingEnabled = false;\r\n          }\r\n      }\r\n  \r\n      @Override\r\n      public void bind(RoutingBindingContext context) { \r\n          context.dependencies() \r\n                  .useRootOnly();\r\n  \r\n          context.bridge( \r\n                  Book.class, \r\n                  new Bridge() \r\n          );\r\n      }\r\n  \r\n      public static class Bridge implements RoutingBridge&lt;Book&gt; { \r\n          @Override\r\n          public void route(DocumentRoutes routes, Object entityIdentifier, Book indexedEntity, \r\n                  RoutingBridgeRouteContext context) {\r\n              if ( indexingEnabled ) { \r\n                  routes.addRoute();\r\n              }\r\n              else {\r\n                  routes.notIndexed(); \r\n              }\r\n          }\r\n  \r\n          @Override\r\n          public void previousRoutes(DocumentRoutes routes, Object entityIdentifier, Book indexedEntity, \r\n                  RoutingBridgeRouteContext context) {\r\n              if ( indexingEnabled ) {\r\n                  // So that Hibernate Search will correctly delete entities if necessary.\r\n                  // Only useful if you use SearchIndexingPlan for manual indexing,\r\n                  // as the MassIndexer never deletes documents.\r\n                  routes.addRoute();\r\n              }\r\n              else {\r\n                  routes.notIndexed(); \r\n              }\r\n          }\r\n      }\r\n  }\r\n  ```\r\n* Apply that routing bridge to the entity types you want to control:\r\n  ```java\r\n  @Entity\r\n  @Indexed(routingBinder = @RoutingBinderRef(type = ManualIndexingRoutingBinder.class))\r\n  public class Book {\r\n      // ...\r\n  }\r\n  ```\r\n* The routing bridge will effectively disable automatic indexing.\r\n* To index manually, do this:\r\n  ```java\r\n  ManualIndexingRoutingBinder.withIndexingEnabled(() -&gt; {\r\n      Search.mapping(entityManagerFactory).scope(Book.class)\r\n              .massIndexer()\r\n              .startAndWait();\r\n  });\r\n  ```\r\n\r\nI didn&#39;t test this exactly, so please report back, but in principle this should work.","title":"Using Hibernate Search 6 - How to prevent automatic indexing for a specific entity?","body":"<p><code>hibernate.search.indexing_strategy = manual</code> was for all entity types, not for a specific one.</p>\n<p>The feature you're looking for has already been filed as <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-168\" rel=\"nofollow noreferrer\">HSEARCH-168</a>, and is currently planned for Hibernate Search 6.2.</p>\n<p>In the meantime, I think the best you can do would be to rely on a hack. It won't be as efficient as what we envision for <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-168\" rel=\"nofollow noreferrer\">HSEARCH-168</a>, but it's a start:</p>\n<ul>\n<li>Implement a <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-bridge-routingkeybridge\" rel=\"nofollow noreferrer\">RoutingBridge</a> which, based on a switch, will either disable indexing completely (both adding and removing the entity from the index) or behave normally as if there was no routing bridge:\n<pre class=\"lang-java prettyprint-override\"><code>public class ManualIndexingRoutingBinder implements RoutingBinder {\n\n    private static volatile boolean indexingEnabled = false;\n\n    public static synchronized void withIndexingEnabled(Runnable runnable) {\n        indexingEnabled = true;\n        try {\n            runnable.run();\n        }\n        finally {\n            indexingEnabled = false;\n        }\n    }\n\n    @Override\n    public void bind(RoutingBindingContext context) { \n        context.dependencies() \n                .useRootOnly();\n\n        context.bridge( \n                Book.class, \n                new Bridge() \n        );\n    }\n\n    public static class Bridge implements RoutingBridge&lt;Book&gt; { \n        @Override\n        public void route(DocumentRoutes routes, Object entityIdentifier, Book indexedEntity, \n                RoutingBridgeRouteContext context) {\n            if ( indexingEnabled ) { \n                routes.addRoute();\n            }\n            else {\n                routes.notIndexed(); \n            }\n        }\n\n        @Override\n        public void previousRoutes(DocumentRoutes routes, Object entityIdentifier, Book indexedEntity, \n                RoutingBridgeRouteContext context) {\n            if ( indexingEnabled ) {\n                // So that Hibernate Search will correctly delete entities if necessary.\n                // Only useful if you use SearchIndexingPlan for manual indexing,\n                // as the MassIndexer never deletes documents.\n                routes.addRoute();\n            }\n            else {\n                routes.notIndexed(); \n            }\n        }\n    }\n}\n</code></pre>\n</li>\n<li>Apply that routing bridge to the entity types you want to control:\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Indexed(routingBinder = @RoutingBinderRef(type = ManualIndexingRoutingBinder.class))\npublic class Book {\n    // ...\n}\n</code></pre>\n</li>\n<li>The routing bridge will effectively disable automatic indexing.</li>\n<li>To index manually, do this:\n<pre class=\"lang-java prettyprint-override\"><code>ManualIndexingRoutingBinder.withIndexingEnabled(() -&gt; {\n    Search.mapping(entityManagerFactory).scope(Book.class)\n            .massIndexer()\n            .startAndWait();\n});\n</code></pre>\n</li>\n</ul>\n<p>I didn't test this exactly, so please report back, but in principle this should work.</p>\n"}],"owner":{"account_id":5922405,"reputation":162,"user_id":4659370,"display_name":"Rick Gagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74037941,"answer_count":1,"score":0,"last_activity_date":1665559438,"creation_date":1665531705,"question_id":74035068,"body_markdown":"We would like to handle the indexing ourselves for one of our Hibernate Search entities. \r\n\r\nIs it possible to disable auto indexing within Hibernate Search 6 for a specific entity?  Similar to the older Hibernate Search global setting: hibernate.search.indexing_strategy = manual\r\n\r\nI&#39;ve searched through the documentation but haven&#39;t seen this mentioned.","title":"Using Hibernate Search 6 - How to prevent automatic indexing for a specific entity?","body":"<p>We would like to handle the indexing ourselves for one of our Hibernate Search entities.</p>\n<p>Is it possible to disable auto indexing within Hibernate Search 6 for a specific entity?  Similar to the older Hibernate Search global setting: hibernate.search.indexing_strategy = manual</p>\n<p>I've searched through the documentation but haven't seen this mentioned.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646216720,"post_id":71272556,"comment_id":126066645,"body_markdown":"For the future: please see [mcve], always include expected and **actual** output of your code. And hint: the real answer is: when you dont understand what your code is doing ... just add more print statements. Ideally, first do the whole thing on paper with a pen and a small example. Write down how your variables contain, and so on. The thing with learning programming: figuring &quot;what is my code doing&quot; is really a big part of that. Don&#39;t delegate that work easily to other people.","body":"For the future: please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, always include expected and <b>actual</b> output of your code. And hint: the real answer is: when you dont understand what your code is doing ... just add more print statements. Ideally, first do the whole thing on paper with a pen and a small example. Write down how your variables contain, and so on. The thing with learning programming: figuring &quot;what is my code doing&quot; is really a big part of that. Don&#39;t delegate that work easily to other people."},{"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"score":0,"creation_date":1646217652,"post_id":71272556,"comment_id":126066952,"body_markdown":"Okay, i will remeber that, so next time i have to write line by line what i want to do, and what i expect from the code","body":"Okay, i will remeber that, so next time i have to write line by line what i want to do, and what i expect from the code"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646218036,"post_id":71272556,"comment_id":126067077,"body_markdown":"Just for clarity: that isn&#39;t something you want to do forever. But the key point is that you have to train to &quot;think&quot; like the computer. In coding, every detail matters. Writing code is less than half of the work; the real challenge is to figure &quot;why isn&#39;t it doing what I want it to do&quot;. And note: as soon as you have a feeling how these computations and loops and methods and all come together ... you switch from paper/pen to ... using a **debugger**, so you can look at your code and the data it is working with right when it is running.","body":"Just for clarity: that isn&#39;t something you want to do forever. But the key point is that you have to train to &quot;think&quot; like the computer. In coding, every detail matters. Writing code is less than half of the work; the real challenge is to figure &quot;why isn&#39;t it doing what I want it to do&quot;. And note: as soon as you have a feeling how these computations and loops and methods and all come together ... you switch from paper/pen to ... using a <b>debugger</b>, so you can look at your code and the data it is working with right when it is running."}],"answers":[{"tags":[],"owner":{"account_id":22941167,"reputation":21,"user_id":17073904,"display_name":"nikosidij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645830331,"creation_date":1645830331,"answer_id":71272612,"question_id":71272556,"body_markdown":"add this line of code ```currentMaxDivisors = numDivisors;``` inside your if-statement like so: \r\n\r\n```\r\nstatic int getNumWithMaxDivisors(int[] numbers) {\r\n    int currentMaxDivisors = 0;\r\n    int numWithMaxDivisors = numbers[0];\r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n        int numDivisors = getNumDivisors(numbers[i]);\r\n        if (numDivisors &gt; currentMaxDivisors) {\r\n            currentMaxDivisors = numDivisors; //here this is missing\r\n            numWithMaxDivisors = numbers[i];\r\n        }\r\n    }\r\n    return numWithMaxDivisors;\r\n}\r\n```","title":"how to find number with most divisor from array in java","body":"<p>add this line of code <code>currentMaxDivisors = numDivisors;</code> inside your if-statement like so:</p>\n<pre><code>static int getNumWithMaxDivisors(int[] numbers) {\n    int currentMaxDivisors = 0;\n    int numWithMaxDivisors = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        int numDivisors = getNumDivisors(numbers[i]);\n        if (numDivisors &gt; currentMaxDivisors) {\n            currentMaxDivisors = numDivisors; //here this is missing\n            numWithMaxDivisors = numbers[i];\n        }\n    }\n    return numWithMaxDivisors;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665531743,"creation_date":1645830422,"answer_id":71272624,"question_id":71272556,"body_markdown":"The problem is that inside of your ```getNumWithMaxDivisors()``` method, you are not redefining the current number of max divisors. To fix this, you can update it inside of the if statement as so:\r\n\r\n    static int getNumWithMaxDivisors(int[] numbers) {\r\n        int currentMaxDivisors = 0;\r\n        int numWithMaxDivisors = numbers[0];\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            int numDivisors = getNumDivisors(numbers[i]);\r\n            if (numDivisors &gt; currentMaxDivisors) {\r\n                currentMaxDivisors = numDivisors; //ADD THIS LINE\r\n                numWithMaxDivisors = numbers[i];\r\n            }\r\n        }\r\n        return numWithMaxDivisors;\r\n    }\r\n\r\nInput: \r\n\r\n    int[] numbers = {1,2,3,4,5};\r\n    System.out.println(getNumWithMaxDivisors(numbers));\r\n\r\nOutput:\r\n\r\n    4\r\n\r\nSide Note: You could just as well start your for loop at ```i = 2``` in your ```getNumDivisors()``` method, since every number is divisible by 1, so there is no point in checking it. This just saves you a bit of time!\r\n\r\n","title":"how to find number with most divisor from array in java","body":"<p>The problem is that inside of your <code>getNumWithMaxDivisors()</code> method, you are not redefining the current number of max divisors. To fix this, you can update it inside of the if statement as so:</p>\n<pre><code>static int getNumWithMaxDivisors(int[] numbers) {\n    int currentMaxDivisors = 0;\n    int numWithMaxDivisors = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        int numDivisors = getNumDivisors(numbers[i]);\n        if (numDivisors &gt; currentMaxDivisors) {\n            currentMaxDivisors = numDivisors; //ADD THIS LINE\n            numWithMaxDivisors = numbers[i];\n        }\n    }\n    return numWithMaxDivisors;\n}\n</code></pre>\n<p>Input:</p>\n<pre><code>int[] numbers = {1,2,3,4,5};\nSystem.out.println(getNumWithMaxDivisors(numbers));\n</code></pre>\n<p>Output:</p>\n<pre><code>4\n</code></pre>\n<p>Side Note: You could just as well start your for loop at <code>i = 2</code> in your <code>getNumDivisors()</code> method, since every number is divisible by 1, so there is no point in checking it. This just saves you a bit of time!</p>\n"}],"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71272624,"answer_count":2,"score":1,"last_activity_date":1665559299,"creation_date":1645829745,"question_id":71272556,"body_markdown":"I got some problem someone of with really helped me but I got program source code who print all of divisor from array, but I tried to print a number with most divisor for ex. array[1,2,3,4,5] and I want to print that the number with most divisor is 4 (1,2,4)\r\n\r\n~~~\r\npublic static class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(getNumWithMaxDivisors(numbers));\r\n    }\r\n\r\n    static int getNumDivisors(int n) {\r\n        int noOfDivisors = 0;\r\n        for (int i = 1; i &lt;= n / 2; i++) {\r\n            if (n % i == 0) {\r\n                System.out.print(i + &quot; &quot;);\r\n                noOfDivisors++;\r\n            }\r\n        }\r\n        return noOfDivisors;\r\n    }\r\n\r\n    static int getNumWithMaxDivisors(int[] numbers) {\r\n        int currentMaxDivisors = 0;\r\n        int numWithMaxDivisors = numbers[0];\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            int numDivisors = getNumDivisors(numbers[i]);\r\n            if (numDivisors &gt; currentMaxDivisors) {\r\n                numWithMaxDivisors = numbers[i];\r\n            }\r\n        }\r\n        return numWithMaxDivisors;\r\n    }\r\n}\r\n~~~\r\nCode looks that, do you know where is a problem ?\r\n","title":"how to find number with most divisor from array in java","body":"<p>I got some problem someone of with really helped me but I got program source code who print all of divisor from array, but I tried to print a number with most divisor for ex. array[1,2,3,4,5] and I want to print that the number with most divisor is 4 (1,2,4)</p>\n<pre><code>public static class Main {\n    public static void main(String[] args) {\n        System.out.println(getNumWithMaxDivisors(numbers));\n    }\n\n    static int getNumDivisors(int n) {\n        int noOfDivisors = 0;\n        for (int i = 1; i &lt;= n / 2; i++) {\n            if (n % i == 0) {\n                System.out.print(i + &quot; &quot;);\n                noOfDivisors++;\n            }\n        }\n        return noOfDivisors;\n    }\n\n    static int getNumWithMaxDivisors(int[] numbers) {\n        int currentMaxDivisors = 0;\n        int numWithMaxDivisors = numbers[0];\n        for (int i = 0; i &lt; numbers.length; i++) {\n            int numDivisors = getNumDivisors(numbers[i]);\n            if (numDivisors &gt; currentMaxDivisors) {\n                numWithMaxDivisors = numbers[i];\n            }\n        }\n        return numWithMaxDivisors;\n    }\n}\n</code></pre>\n<p>Code looks that, do you know where is a problem ?</p>\n"},{"tags":["java","apache-beam","directed-acyclic-graphs"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1665567181,"post_id":74033961,"comment_id":130728915,"body_markdown":"Your external api call depends on fields from the current element in the `PCollection` or it&#39;s independant ?","body":"Your external api call depends on fields from the current element in the <code>PCollection</code> or it&#39;s independant ?"}],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665546180,"creation_date":1665545820,"answer_id":74036235,"question_id":74033961,"body_markdown":"It is possible to stage a pipeline as a template, and use ValueProviders to feed parameters dynamically. Take a look at [Creating classic templates](https://cloud.google.com/dataflow/docs/guides/templates/creating-templates), as it is covered in detail. \r\nPlease note that the transforms/IOs have to support it in the classic templates model.\r\n\r\nOn the other hand, if desired IOs or transforms do not support ValueProviders, or you require a dynamic pipeline, it is possible to use [Flex Templates](https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates). \r\nWhile Flex templates are indeed more flexible, there are some caveats \r\nsuch as a more complex model and higher startup times.\r\n","title":"Can an Apache Beam pipeline contain dynamic transformations?","body":"<p>It is possible to stage a pipeline as a template, and use ValueProviders to feed parameters dynamically. Take a look at <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/creating-templates\" rel=\"nofollow noreferrer\">Creating classic templates</a>, as it is covered in detail.\nPlease note that the transforms/IOs have to support it in the classic templates model.</p>\n<p>On the other hand, if desired IOs or transforms do not support ValueProviders, or you require a dynamic pipeline, it is possible to use <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates\" rel=\"nofollow noreferrer\">Flex Templates</a>.\nWhile Flex templates are indeed more flexible, there are some caveats\nsuch as a more complex model and higher startup times.</p>\n"},{"tags":[],"owner":{"account_id":5368982,"reputation":895,"user_id":4278032,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665558894,"creation_date":1665558894,"answer_id":74037811,"question_id":74033961,"body_markdown":"There&#39;s two parts to this question, that are in fact very different:\r\n1. &quot;a more straightforward way of creating pipelines&quot;\r\n2. &quot;change it (the pipeline) once it is running&quot;\r\n\r\nTemplates, mentioned [above][1], will absolutely streamline the creation of new, similar pipelines addressing 1. Just for completeness, you may also use plain [pipeline options][2] to achieve something similar.\r\n\r\nRegarding 2, as pointed out, you cannot change the execution graph (DAG) structurally while running. Though, the question is if you really need that. If it&#39;s all about changing configuration of parts of the DAG, such as the filters in the example mentioned in the question, that&#39;s possible. Consider such configuration as slowly changing data flowing through the pipeline. The [slowly updating side inputs][3] Beam pattern implements exactly this.\r\n\r\nFinally, beam-sql shell isn&#39;t any different. Every query has to be parsed &amp; translated into the respective DAG and is then executed. \r\n\r\n  [1]: https://stackoverflow.com/a/74036235/4278032\r\n  [2]: https://beam.apache.org/documentation/patterns/pipeline-options/\r\n  [3]: https://beam.apache.org/documentation/patterns/side-inputs/","title":"Can an Apache Beam pipeline contain dynamic transformations?","body":"<p>There's two parts to this question, that are in fact very different:</p>\n<ol>\n<li>&quot;a more straightforward way of creating pipelines&quot;</li>\n<li>&quot;change it (the pipeline) once it is running&quot;</li>\n</ol>\n<p>Templates, mentioned <a href=\"https://stackoverflow.com/a/74036235/4278032\">above</a>, will absolutely streamline the creation of new, similar pipelines addressing 1. Just for completeness, you may also use plain <a href=\"https://beam.apache.org/documentation/patterns/pipeline-options/\" rel=\"nofollow noreferrer\">pipeline options</a> to achieve something similar.</p>\n<p>Regarding 2, as pointed out, you cannot change the execution graph (DAG) structurally while running. Though, the question is if you really need that. If it's all about changing configuration of parts of the DAG, such as the filters in the example mentioned in the question, that's possible. Consider such configuration as slowly changing data flowing through the pipeline. The <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/\" rel=\"nofollow noreferrer\">slowly updating side inputs</a> Beam pattern implements exactly this.</p>\n<p>Finally, beam-sql shell isn't any different. Every query has to be parsed &amp; translated into the respective DAG and is then executed.</p>\n"}],"owner":{"account_id":5216100,"reputation":562,"user_id":4170988,"accept_rate":40,"display_name":"Frederick &#193;lvarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665558894,"creation_date":1665521350,"question_id":74033961,"body_markdown":"I have been learning about apache beam architecture/model, where I work one of the requirements is to create a more straightforward way of creating pipelines and to use apache beam (Java) as one of the parts of the stack.\r\n\r\nThe goal is that they can pass dynamic values within a pipeline to change it once it is running, for example.\r\n\r\n    PCollection&lt;String&gt; output = input.apply(&quot;filter&quot;, ParDo.do(DoFn{\r\n    // get filters from external API [&quot;filter1&quot;,&quot;filter2&quot;]\r\n    // return data filtered data (regex(filter1, filter2))\r\n    }))\r\n\r\n    pipeline.run();\r\n\r\n\r\nSo far from what I have read this is not possible because once the code has been compiled and is running (within a runner) the DAG has already been created and it cannot be changed dynamically as it would require to be recompiled, reconstructed and reexecuted\r\n\r\nAm I right or is this actually possible?\r\n\r\nPerhaps the closest option would be to use a beam-sql shell?\r\n","title":"Can an Apache Beam pipeline contain dynamic transformations?","body":"<p>I have been learning about apache beam architecture/model, where I work one of the requirements is to create a more straightforward way of creating pipelines and to use apache beam (Java) as one of the parts of the stack.</p>\n<p>The goal is that they can pass dynamic values within a pipeline to change it once it is running, for example.</p>\n<pre><code>PCollection&lt;String&gt; output = input.apply(&quot;filter&quot;, ParDo.do(DoFn{\n// get filters from external API [&quot;filter1&quot;,&quot;filter2&quot;]\n// return data filtered data (regex(filter1, filter2))\n}))\n\npipeline.run();\n</code></pre>\n<p>So far from what I have read this is not possible because once the code has been compiled and is running (within a runner) the DAG has already been created and it cannot be changed dynamically as it would require to be recompiled, reconstructed and reexecuted</p>\n<p>Am I right or is this actually possible?</p>\n<p>Perhaps the closest option would be to use a beam-sql shell?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665555216,"post_id":74037194,"comment_id":130724990,"body_markdown":"* java.lang.NumberFormatException: For input string: &quot;&quot;* the message is quiet clear. You try to parse an empty String as an int","body":"* java.lang.NumberFormatException: For input string: &quot;&quot;* the message is quiet clear. You try to parse an empty String as an int"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1665555332,"post_id":74037194,"comment_id":130725023,"body_markdown":"&quot;_Lastly, displayBody() reads the file Lab6Data.txt_&quot; - but you don&#39;t read that file (at least not with your `Scanner`), your `Scanner` points to `System.in`.","body":"&quot;<i>Lastly, displayBody() reads the file Lab6Data.txt</i>&quot; - but you don&#39;t read that file (at least not with your <code>Scanner</code>), your <code>Scanner</code> points to <code>System.in</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665555339,"post_id":74037194,"comment_id":130725024,"body_markdown":"&quot;displayBody() reads the file Lab6Data.txt&quot; - no it doesn&#39;t. It reads from `System.in` which is normally the command line terminal.","body":"&quot;displayBody() reads the file Lab6Data.txt&quot; - no it doesn&#39;t. It reads from <code>System.in</code> which is normally the command line terminal."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665555479,"post_id":74037194,"comment_id":130725059,"body_markdown":"You might want to step through your code with a debugger but I _guess_ your problem is here (or one of them): `Integer.parseInt(sc.nextLine())` - if the scanner reads an empty line or anything that isn&#39;t just an integer parsing will fail. Either use `nextInt()` if you _know_ you should get an `int`, check the line content before trying to parse or put a try-catch block around that code.","body":"You might want to step through your code with a debugger but I <i>guess</i> your problem is here (or one of them): <code>Integer.parseInt(sc.nextLine())</code> - if the scanner reads an empty line or anything that isn&#39;t just an integer parsing will fail. Either use <code>nextInt()</code> if you <i>know</i> you should get an <code>int</code>, check the line content before trying to parse or put a try-catch block around that code."},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665557573,"post_id":74037194,"comment_id":130725596,"body_markdown":"you also have multiple scanners listening in on System.in which is never good. it&#39;s better to use one scanner in the main and pass the String to the functions instead","body":"you also have multiple scanners listening in on System.in which is never good. it&#39;s better to use one scanner in the main and pass the String to the functions instead"}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665558731,"creation_date":1665558731,"answer_id":74037776,"question_id":74037194,"body_markdown":"1 you are using multiple scanners that listening in on a single source (System.in) which is a very bad practice.\r\n\r\n2 each time you call ```sc.nextLine()``` you are consuming a line of input. so all your throwAways are actually eating up legitimate inputs\r\n\r\n3&quot;displayBody() reads the file Lab6Data.txt&quot; no it doesn&#39;t. right now it&#39;s receiving data from the System.in. if you want to read from a file you need to replace \r\n\r\n```\r\nScanner sc= new Scanner(System.in);\r\n```\r\nwith\r\n```\r\nFile file = new File(&quot;your file path in here&quot;);\r\nScanner fileScanner = new Scanner(file);\r\n```\r\nFinally this is what your code should look like\r\n```\r\n   public static void main(String[] args) {\r\n        //replace scanner here\r\n        Scanner sc = new Scanner(System.in);\r\n        displayHeader();\r\n        displayBody(sc);\r\n    }\r\n    public static void displayHeader() {\r\n        System.out.println(&quot;Sales Report&quot;);\r\n        System.out.println(&quot;Name......Amount&quot;);\r\n        System.out.println(&quot;Enter &#39;quit&#39; to quit&quot;);\r\n    }\r\n    public static void displayBody(Scanner sc) {\r\n        int sum =0;\r\n        while (sc.hasNextLine()) {\r\n            String name = sc.nextLine();\r\n            if (name.equals(&quot;quit&quot;)){\r\n                System.out.println(&quot;Total.....&quot; + sum);\r\n                break;\r\n            }\r\n            int amount = Integer.parseInt(sc.nextLine());\r\n            sum += amount;\r\n            System.out.println(&quot;name......&quot;+name+&quot; amount &quot;+amount);\r\n        }\r\n    }\r\n```","title":"use multiple methods to print a sales report","body":"<p>1 you are using multiple scanners that listening in on a single source (System.in) which is a very bad practice.</p>\n<p>2 each time you call <code>sc.nextLine()</code> you are consuming a line of input. so all your throwAways are actually eating up legitimate inputs</p>\n<p>3&quot;displayBody() reads the file Lab6Data.txt&quot; no it doesn't. right now it's receiving data from the System.in. if you want to read from a file you need to replace</p>\n<pre><code>Scanner sc= new Scanner(System.in);\n</code></pre>\n<p>with</p>\n<pre><code>File file = new File(&quot;your file path in here&quot;);\nScanner fileScanner = new Scanner(file);\n</code></pre>\n<p>Finally this is what your code should look like</p>\n<pre><code>   public static void main(String[] args) {\n        //replace scanner here\n        Scanner sc = new Scanner(System.in);\n        displayHeader();\n        displayBody(sc);\n    }\n    public static void displayHeader() {\n        System.out.println(&quot;Sales Report&quot;);\n        System.out.println(&quot;Name......Amount&quot;);\n        System.out.println(&quot;Enter 'quit' to quit&quot;);\n    }\n    public static void displayBody(Scanner sc) {\n        int sum =0;\n        while (sc.hasNextLine()) {\n            String name = sc.nextLine();\n            if (name.equals(&quot;quit&quot;)){\n                System.out.println(&quot;Total.....&quot; + sum);\n                break;\n            }\n            int amount = Integer.parseInt(sc.nextLine());\n            sum += amount;\n            System.out.println(&quot;name......&quot;+name+&quot; amount &quot;+amount);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26594629,"reputation":9,"user_id":20217226,"display_name":"user20217226"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665558731,"creation_date":1665555115,"question_id":74037194,"body_markdown":"I keep on getting a error when I tried to run the program. I keep getting&#160;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    &#160; &#160; at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    &#160; &#160; at java.base/java.lang.Integer.parseInt(Integer.java:662)\r\n    &#160; &#160; at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n    &#160; &#160; at Main.displayBody(Main.java:27)\r\n    &#160; &#160; at Main.main(Main.java:11)\r\n\r\nWhat should I do to fix it? The following is the program that I have started. What I need to do is set the Main controller with methods and write a program that contains the methods main(), displayHeader(), displayBody(), and displayFooter(). Then main() calls displayHeader(), displayBody(), and displayFooter() and displayHeader() prints the heading area. Lastly, displayBody() reads the file Lab6Data.txt, prints the body, accumulates a total until &#39;quit&#39; is read, and returns the total.\r\n\r\n\r\nExpected output:\r\n\r\nSales Report\r\nName..........Amount\r\n\r\nAbbot.......2,685\r\nCoswell.....1,745\r\nFreedwick...6,283\r\nGibson......5,453\r\n\r\nTotal......16,166\r\n\r\nThis is the file to be read:\r\n\r\nAbbot\r\n\r\n2685\r\n\r\nCoswell\r\n\r\n1745\r\n\r\nFreedwick\r\n\r\n6283\r\n\r\nGibson\r\n\r\n5453\r\n\r\nquit\r\n\r\n0\r\n\r\n\r\n\r\nThis is the code I have started:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n    public static void main(String[] args) {\r\n        displayHeader();\r\n        displayBody(); &#160; &#160; &#160;&#160;\r\n        displayFooter();\r\n    &#160; }\r\n    public static void displayHeader() {\r\n        String header = &quot;&quot;;\r\n        Scanner sc = new Scanner(System.in);\r\n    &#160; &#160; System.out.println(&quot;Sales Report&quot;);\r\n    &#160; &#160; System.out.println(&quot;Name......Amount&quot;);&#160;\r\n    &#160; }\r\n    &#160; public static void displayBody() {\r\n        String throwaway = &quot;&quot;;\r\n    &#160; &#160; Scanner sc = new Scanner(System.in);\r\n    &#160; &#160; while (sc.hasNextLine()) {\r\n    &#160; &#160; &#160; &#160;String name = sc.nextLine();\r\n    &#160; &#160; &#160; &#160;throwaway = sc.nextLine();\r\n    &#160; &#160; &#160; &#160;if (name.equals(&quot;quit&quot;)) break;\r\n    &#160; &#160; &#160; &#160;int amount = Integer.parseInt(sc.nextLine());\r\n    &#160; &#160; &#160; &#160;throwaway = sc.nextLine();\r\n    &#160; &#160; &#160; &#160;System.out.println(&quot;name......&quot;+name+&quot; amount&quot;+amount);\r\n    &#160; &#160; }\r\n    &#160; }\r\n    &#160; public static void displayFooter() {\r\n    \r\n    &#160; &#160; String totalSum = &quot;&quot;;\r\n    &#160; &#160; Scanner sc = new Scanner(System.in);\r\n    &#160; &#160; while(sc.hasNextLine()){\r\n    &#160; &#160; &#160; int sum =0;\r\n    &#160; &#160; &#160; int total = Integer.parseInt(sc.nextLine());\r\n    &#160; &#160; &#160; sum += total;\r\n    &#160; &#160; &#160; &#160;System.out.println(&quot;Total.....&quot; + sum);\r\n    &#160; &#160; } &#160; &#160; &#160; &#160;&#160;\r\n    &#160; }\r\n    &#160; }","title":"use multiple methods to print a sales report","body":"<p>I keep on getting a error when I tried to run the program. I keep getting </p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.base/java.lang.Integer.parseInt(Integer.java:662)\n    at java.base/java.lang.Integer.parseInt(Integer.java:770)\n    at Main.displayBody(Main.java:27)\n    at Main.main(Main.java:11)\n</code></pre>\n<p>What should I do to fix it? The following is the program that I have started. What I need to do is set the Main controller with methods and write a program that contains the methods main(), displayHeader(), displayBody(), and displayFooter(). Then main() calls displayHeader(), displayBody(), and displayFooter() and displayHeader() prints the heading area. Lastly, displayBody() reads the file Lab6Data.txt, prints the body, accumulates a total until 'quit' is read, and returns the total.</p>\n<p>Expected output:</p>\n<p>Sales Report\nName..........Amount</p>\n<p>Abbot.......2,685\nCoswell.....1,745\nFreedwick...6,283\nGibson......5,453</p>\n<p>Total......16,166</p>\n<p>This is the file to be read:</p>\n<p>Abbot</p>\n<p>2685</p>\n<p>Coswell</p>\n<p>1745</p>\n<p>Freedwick</p>\n<p>6283</p>\n<p>Gibson</p>\n<p>5453</p>\n<p>quit</p>\n<p>0</p>\n<p>This is the code I have started:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\npublic static void main(String[] args) {\n    displayHeader();\n    displayBody();       \n    displayFooter();\n  }\npublic static void displayHeader() {\n    String header = &quot;&quot;;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Sales Report&quot;);\n    System.out.println(&quot;Name......Amount&quot;); \n  }\n  public static void displayBody() {\n    String throwaway = &quot;&quot;;\n    Scanner sc = new Scanner(System.in);\n    while (sc.hasNextLine()) {\n       String name = sc.nextLine();\n       throwaway = sc.nextLine();\n       if (name.equals(&quot;quit&quot;)) break;\n       int amount = Integer.parseInt(sc.nextLine());\n       throwaway = sc.nextLine();\n       System.out.println(&quot;name......&quot;+name+&quot; amount&quot;+amount);\n    }\n  }\n  public static void displayFooter() {\n\n    String totalSum = &quot;&quot;;\n    Scanner sc = new Scanner(System.in);\n    while(sc.hasNextLine()){\n      int sum =0;\n      int total = Integer.parseInt(sc.nextLine());\n      sum += total;\n       System.out.println(&quot;Total.....&quot; + sum);\n    }         \n  }\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","session","spring-thymeleaf"],"comments":[{"owner":{"account_id":17263784,"reputation":1860,"user_id":12501050,"display_name":"Muhammadzohir Rustamov"},"score":0,"creation_date":1665556925,"post_id":74037364,"comment_id":130725436,"body_markdown":"How can this question may be already edited, is there is still spelling and grammar error? My adjustment is not being accepted.","body":"How can this question may be already edited, is there is still spelling and grammar error? My adjustment is not being accepted."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665558519,"creation_date":1665558519,"answer_id":74037739,"question_id":74037364,"body_markdown":"In your html tag add namespace, \r\n```\r\nxmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;\r\n```\r\n\r\nIn pom.xml, ensure you have the following dependency\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand then in html, you can use tag ```sec:authorize``` , like:\r\n```\r\n&lt;div sec:authorize=&quot;isAnonymous()&quot;&gt;\r\n     &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Login&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;div sec:authorize=&quot;isAuthenticated()&quot;&gt;\r\n     &lt;a href=&quot;logout&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Logout&lt;/a&gt;\r\n&lt;/div&gt;\r\n```\r\n","title":"spring boot/thymleaf is their another method when that is in session its showing directly logout is their any other method to slove my prblm","body":"<p>In your html tag add namespace,</p>\n<pre><code>xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;\n</code></pre>\n<p>In pom.xml, ensure you have the following dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and then in html, you can use tag <code>sec:authorize</code> , like:</p>\n<pre><code>&lt;div sec:authorize=&quot;isAnonymous()&quot;&gt;\n     &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Login&lt;/a&gt;\n&lt;/div&gt;\n&lt;div sec:authorize=&quot;isAuthenticated()&quot;&gt;\n     &lt;a href=&quot;logout&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Logout&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":26376514,"reputation":9,"user_id":20030374,"display_name":"Ramu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665558519,"creation_date":1665556160,"question_id":74037364,"body_markdown":"    &lt;div class=&quot;header__top__right__auth&quot;&gt;\r\n                                \r\n    \t\t\t\t\t\t\t&lt;span th:if =&quot;${session.isEmpty()}&quot;&gt;\r\n                                  &lt;!--  &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; Login&lt;/a&gt;&lt;/span&gt; --&gt;\r\n                                   &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; Login&lt;/a&gt;&lt;/span&gt;\r\n                                &lt;span th:if = &quot;${!session.isEmpty()}&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;span th:text=&quot;${session.uid}&quot;&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t\t&lt;a href=&quot;logout&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Logout&lt;/a&gt;&lt;/span&gt;\r\n                                &lt;/div&gt;\r\n\r\nspring boot/thymleaf\r\nis their another method when that is in session its showing directly logout is their any other method to slove my problem\r\n","title":"spring boot/thymleaf is their another method when that is in session its showing directly logout is their any other method to slove my prblm","body":"<pre><code>&lt;div class=&quot;header__top__right__auth&quot;&gt;\n                            \n                            &lt;span th:if =&quot;${session.isEmpty()}&quot;&gt;\n                              &lt;!--  &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; Login&lt;/a&gt;&lt;/span&gt; --&gt;\n                               &lt;a href=&quot;login&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; Login&lt;/a&gt;&lt;/span&gt;\n                            &lt;span th:if = &quot;${!session.isEmpty()}&quot;&gt;\n                                &lt;span th:text=&quot;${session.uid}&quot;&gt;&lt;/span&gt;\n                                &lt;a href=&quot;logout&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Logout&lt;/a&gt;&lt;/span&gt;\n                            &lt;/div&gt;\n</code></pre>\n<p>spring boot/thymleaf\nis their another method when that is in session its showing directly logout is their any other method to slove my problem</p>\n"},{"tags":["java","loops","while-loop","break"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":13,"creation_date":1338049402,"post_id":10767927,"comment_id":13998992,"body_markdown":"What do you even *mean* by &quot;loop and a half&quot;? I&#39;ve never heard of the term before.","body":"What do you even <i>mean</i> by &quot;loop and a half&quot;? I&#39;ve never heard of the term before."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1338049604,"post_id":10767927,"comment_id":13999041,"body_markdown":"I googled &quot;loop and a half&quot; (which I didn&#39;t know either), and came up with this: http://www.cs.duke.edu/~ola/patterns/plopd/loops.html#loop-and-a-half, which explains what it is and when we use it. Google is your best friend.","body":"I googled &quot;loop and a half&quot; (which I didn&#39;t know either), and came up with this: <a href=\"http://www.cs.duke.edu/~ola/patterns/plopd/loops.html#loop-and-a-half\" rel=\"nofollow noreferrer\">cs.duke.edu/~ola/patterns/plopd/loops.html#loop-and-a-half</a>, which explains what it is and when we use it. Google is your best friend."},{"owner":{"account_id":182761,"reputation":23472,"user_id":417685,"accept_rate":75,"display_name":"Alexander"},"score":4,"creation_date":1338049637,"post_id":10767927,"comment_id":13999049,"body_markdown":"It seems someone puts a `break` in the middle of a loop and named it &quot;loop and a half.&quot;","body":"It seems someone puts a <code>break</code> in the middle of a loop and named it &quot;loop and a half.&quot;"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1338049654,"post_id":10767927,"comment_id":13999055,"body_markdown":"I think the OP is about loop-and-a-half problem described in [this note](http://www.cis.temple.edu/~giorgio/cis71/software/roberts/documents/loopexit.txt).","body":"I think the OP is about loop-and-a-half problem described in <a href=\"http://www.cis.temple.edu/~giorgio/cis71/software/roberts/documents/loopexit.txt\" rel=\"nofollow noreferrer\">this note</a>."},{"owner":{"account_id":1483020,"reputation":103,"user_id":1391911,"display_name":"aablah"},"score":0,"creation_date":1338049939,"post_id":10767927,"comment_id":13999113,"body_markdown":"Loop-and-a-Half Repetition Control, that&#39;s what&#39;s written in the book :/ Thanks dasblinkenlight :)","body":"Loop-and-a-Half Repetition Control, that&#39;s what&#39;s written in the book :/ Thanks dasblinkenlight :)"}],"answers":[{"tags":[],"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1338049642,"creation_date":1338049642,"answer_id":10767975,"question_id":10767927,"body_markdown":"You use loop-and-a-half to avoid repeating code from outside the loop to the inside.  Example:\r\n\r\n    read a;\r\n    while a != b do\r\n      stuff;\r\n      read a;\r\n    end\r\n\r\nbecomes\r\n\r\n    while true do\r\n      read a\r\n      if a == b then break\r\n      stuff;\r\n    end\r\n\r\nNow I only have the read in one place.\r\n","title":"when to use and how to write loop and a half code","body":"<p>You use loop-and-a-half to avoid repeating code from outside the loop to the inside.  Example:</p>\n\n<pre><code>read a;\nwhile a != b do\n  stuff;\n  read a;\nend\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>while true do\n  read a\n  if a == b then break\n  stuff;\nend\n</code></pre>\n\n<p>Now I only have the read in one place.</p>\n"},{"tags":[],"owner":{"account_id":231354,"reputation":9102,"user_id":495545,"accept_rate":100,"display_name":"Dhruv Gairola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338050460,"creation_date":1338050460,"answer_id":10768068,"question_id":10767927,"body_markdown":"As an aside, I&#39;d like to add that the scope of the variable (assuming `a` is a local variable in this idiom) is minimized as compared to the alternative case, where `a` is still in scope even after the while loop terminates. Minimizing the scope of local variables is considered good practice whenever possible (Josh Bloch, Effective Java, Item 45).","title":"when to use and how to write loop and a half code","body":"<p>As an aside, I'd like to add that the scope of the variable (assuming <code>a</code> is a local variable in this idiom) is minimized as compared to the alternative case, where <code>a</code> is still in scope even after the while loop terminates. Minimizing the scope of local variables is considered good practice whenever possible (Josh Bloch, Effective Java, Item 45).</p>\n"}],"owner":{"account_id":1483020,"reputation":103,"user_id":1391911,"display_name":"aablah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5617,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1341511110,"answer_count":2,"score":8,"last_activity_date":1665558460,"creation_date":1338049296,"question_id":10767927,"body_markdown":"When do we use loop and a half? Also, should someone briefly elaborate how to write its code?","title":"when to use and how to write loop and a half code","body":"<p>When do we use loop and a half? Also, should someone briefly elaborate how to write its code?</p>\n"},{"tags":["java","if-statement","unicode","jtextfield","hebrew"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1462635522,"post_id":37090410,"comment_id":61724564,"body_markdown":"Do you mean `if (0x05D0 &lt;= ch &amp;&amp; ch &lt;= 0x05EA)`  to check it is ok.","body":"Do you mean <code>if (0x05D0 &lt;= ch &amp;&amp; ch &lt;= 0x05EA)</code>  to check it is ok."},{"owner":{"account_id":8041960,"reputation":69,"user_id":6063400,"accept_rate":31,"display_name":"Aboelmagd Saad"},"score":0,"creation_date":1462635644,"post_id":37090410,"comment_id":61724602,"body_markdown":"@PeterLawrey\nYes something like that","body":"@PeterLawrey Yes something like that"}],"answers":[{"tags":[],"owner":{"account_id":8343110,"reputation":464,"user_id":6267811,"display_name":"java8.being"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1462640115,"creation_date":1462635896,"answer_id":37090495,"question_id":37090410,"body_markdown":"Since you are using `JTextField` and this class inherits `getText()` method which returns a `String`. So, this is how I will probably do it.\r\n\r\n    String name = jTextField.getText();\r\n    char[] charArray = name.toCharArray();\r\n    for (char c : charArray) {\r\n        if (!(c &lt;= 0x05ea &amp;&amp; c &gt;= 0x05d0)) {\r\n            break;\r\n            //valid\r\n        }\r\n    }\r\n\r\n\r\nThis can become more efficient, if you keep the counter of elements added/removed, you only will have to check the latest entered character (in case of removal you probably won&#39;t need that but that scenario will need more coding, so I hope you will figure that out once you solves this issue).\r\n\r\n\r\nUpdate:\r\n\r\nThis is what I have tried:\r\n\r\n            String name      = &quot;אבגa&quot;;\r\n            char[] charArray = name.toCharArray();\r\n            for (char c : charArray) {\r\n                if (c &lt;= 0x05ea &amp;&amp; c &gt;= 0x05d0) {\r\n                    System.out.println(&quot;Valid hebrew&quot;);\r\n                }\r\n            }\r\n\r\nAnd this prints `Valid hebrew` three times.","title":"Force the user to add only Hebrew letters","body":"<p>Since you are using <code>JTextField</code> and this class inherits <code>getText()</code> method which returns a <code>String</code>. So, this is how I will probably do it.</p>\n\n<pre><code>String name = jTextField.getText();\nchar[] charArray = name.toCharArray();\nfor (char c : charArray) {\n    if (!(c &lt;= 0x05ea &amp;&amp; c &gt;= 0x05d0)) {\n        break;\n        //valid\n    }\n}\n</code></pre>\n\n<p>This can become more efficient, if you keep the counter of elements added/removed, you only will have to check the latest entered character (in case of removal you probably won't need that but that scenario will need more coding, so I hope you will figure that out once you solves this issue).</p>\n\n<p>Update:</p>\n\n<p>This is what I have tried:</p>\n\n<pre><code>        String name      = \"אבגa\";\n        char[] charArray = name.toCharArray();\n        for (char c : charArray) {\n            if (c &lt;= 0x05ea &amp;&amp; c &gt;= 0x05d0) {\n                System.out.println(\"Valid hebrew\");\n            }\n        }\n</code></pre>\n\n<p>And this prints <code>Valid hebrew</code> three times.</p>\n"},{"tags":[],"owner":{"account_id":3693494,"reputation":2307,"user_id":3075533,"accept_rate":53,"display_name":"mohsenmadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462636322,"creation_date":1462636322,"answer_id":37090563,"question_id":37090410,"body_markdown":"Build an input validator with your validation logic, and attach it to your textField to verify input as you enter it. Steps: Combine the validation logic given by @peter-lawray with the mechanism of building an [input verifier][1] and you&#39;re good to go.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2749521/how-to-validate-a-jtextfield","title":"Force the user to add only Hebrew letters","body":"<p>Build an input validator with your validation logic, and attach it to your textField to verify input as you enter it. Steps: Combine the validation logic given by @peter-lawray with the mechanism of building an <a href=\"https://stackoverflow.com/questions/2749521/how-to-validate-a-jtextfield\">input verifier</a> and you're good to go.</p>\n"},{"tags":[],"owner":{"account_id":8305766,"reputation":1118,"user_id":6242846,"display_name":"Mad Matts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462636415,"creation_date":1462636415,"answer_id":37090581,"question_id":37090410,"body_markdown":"You could use a simple one-liner using a Stream\r\n\r\n`boolean valid = jTextField.getText().chars().allMatch(p -&gt; p &lt;= 0x05ea &amp;&amp; p &gt;= 0x05d0);`","title":"Force the user to add only Hebrew letters","body":"<p>You could use a simple one-liner using a Stream</p>\n\n<p><code>boolean valid = jTextField.getText().chars().allMatch(p -&gt; p &lt;= 0x05ea &amp;&amp; p &gt;= 0x05d0);</code></p>\n"},{"tags":[],"owner":{"account_id":222458,"reputation":13840,"user_id":481061,"accept_rate":84,"display_name":"Felix Dombek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462639228,"creation_date":1462639228,"answer_id":37091091,"question_id":37090410,"body_markdown":"Putting the other answers together, this is an input validator you could use:\r\n\r\n    // adapted from mohsenmadi/Daniel Rikowski\r\n    public class HebrewVerifier extends InputVerifier {\r\n        @Override\r\n        public boolean verify(JComponent input) {\r\n            String text = ((JTextField) input).getText();\r\n            // method suggested by Mad Matts\r\n            return text.chars().allMatch(p -&gt; p &lt;= 0x05ea &amp;&amp; p &gt;= 0x05d0);\r\n        }\r\n    }\r\n\r\nAnd then you simply need to attach it to your `JTextField`:\r\n\r\n    myHebrewTextField.setInputVerifier(new HebrewVerifier());\r\n","title":"Force the user to add only Hebrew letters","body":"<p>Putting the other answers together, this is an input validator you could use:</p>\n\n<pre><code>// adapted from mohsenmadi/Daniel Rikowski\npublic class HebrewVerifier extends InputVerifier {\n    @Override\n    public boolean verify(JComponent input) {\n        String text = ((JTextField) input).getText();\n        // method suggested by Mad Matts\n        return text.chars().allMatch(p -&gt; p &lt;= 0x05ea &amp;&amp; p &gt;= 0x05d0);\n    }\n}\n</code></pre>\n\n<p>And then you simply need to attach it to your <code>JTextField</code>:</p>\n\n<pre><code>myHebrewTextField.setInputVerifier(new HebrewVerifier());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26597630,"reputation":1,"user_id":20219714,"display_name":"Bor Lib "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665558235,"creation_date":1665558235,"answer_id":74037687,"question_id":37090410,"body_markdown":"    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    //...\r\n     public static String readHebrewString()\r\n        {\r\n            String str=&quot;&quot;;\r\n            System.out.println(&quot;הקלד שורה&quot;);      \r\n            InputStreamReader in;\r\n            try {\r\n                char[]buffer=new char[1024];\r\n                in = new InputStreamReader(System.in, &quot;Windows-1255&quot;);\r\n                in.read(buffer);\r\n                int i=0;\r\n                while((int)buffer[i]!=10)\r\n                      str+=buffer[i++];\r\n            } catch (UnsupportedEncodingException ex) {\r\n                Logger.getLogger(Demo001.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Demo001.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return str;\r\n        }\r\n\r\n","title":"Force the user to add only Hebrew letters","body":"<pre><code>import java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n//...\n public static String readHebrewString()\n    {\n        String str=&quot;&quot;;\n        System.out.println(&quot;הקלד שורה&quot;);      \n        InputStreamReader in;\n        try {\n            char[]buffer=new char[1024];\n            in = new InputStreamReader(System.in, &quot;Windows-1255&quot;);\n            in.read(buffer);\n            int i=0;\n            while((int)buffer[i]!=10)\n                  str+=buffer[i++];\n        } catch (UnsupportedEncodingException ex) {\n            Logger.getLogger(Demo001.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(Demo001.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return str;\n    }\n</code></pre>\n"}],"owner":{"account_id":8041960,"reputation":69,"user_id":6063400,"accept_rate":31,"display_name":"Aboelmagd Saad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37090495,"answer_count":5,"score":0,"last_activity_date":1665558235,"creation_date":1462635392,"question_id":37090410,"body_markdown":"How can I make a `JTextfield` accept only Hebrew letters with if statement?\r\nI can do a long if statement with all the Hebrew letters but it will not look good.&lt;br&gt;\r\nI found out that the Unicode of Hebrew first letter is `\\u05D0` and last one is `\\u05EA`.&lt;br&gt;\r\nHow can I say that if the gettext is in between these 2 letters so show (meaning to check if the text entered is only a Hebrew letter), the user will add only one letter in each textfield.&lt;br&gt;\r\nThank you in advance","title":"Force the user to add only Hebrew letters","body":"<p>How can I make a <code>JTextfield</code> accept only Hebrew letters with if statement?\nI can do a long if statement with all the Hebrew letters but it will not look good.<br>\nI found out that the Unicode of Hebrew first letter is <code>\\u05D0</code> and last one is <code>\\u05EA</code>.<br>\nHow can I say that if the gettext is in between these 2 letters so show (meaning to check if the text entered is only a Hebrew letter), the user will add only one letter in each textfield.<br>\nThank you in advance</p>\n"},{"tags":["java","mongodb","collections","nullpointerexception","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1665558285,"post_id":74037683,"comment_id":130725809,"body_markdown":"considering you have this: MongoClient = mongoUtil.init(); I&#39;m surprised it even compiles.","body":"considering you have this: MongoClient = mongoUtil.init(); I&#39;m surprised it even compiles."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665558625,"post_id":74037683,"comment_id":130725900,"body_markdown":"`initCollection` is not mocked","body":"<code>initCollection</code> is not mocked"},{"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"score":0,"creation_date":1665558812,"post_id":74037683,"comment_id":130725964,"body_markdown":"Tried with mocking but still issue is there. Avoided to write it because it is part of solution.","body":"Tried with mocking but still issue is there. Avoided to write it because it is part of solution."},{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":1,"creation_date":1665560316,"post_id":74037683,"comment_id":130726488,"body_markdown":"@Stultuske and `@PostCunstruct`","body":"@Stultuske and <code>@PostCunstruct</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665560360,"post_id":74037683,"comment_id":130726501,"body_markdown":"@havryliuk didn&#39;t even see that one. At least we understand why the code doesn&#39;t work.","body":"@havryliuk didn&#39;t even see that one. At least we understand why the code doesn&#39;t work."},{"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"score":0,"creation_date":1665576754,"post_id":74037683,"comment_id":130732432,"body_markdown":"Did we have something on this?","body":"Did we have something on this?"}],"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665558175,"creation_date":1665558175,"question_id":74037683,"body_markdown":"I have a class ConfigurationEventDatabse which deals with mondo db collections and have db methods. I had to create an Index for one of the field. I put Index as shown in below code\r\n```\r\n@PostCunstruct \r\nPrivate void init(){\r\nMongoClient = mongoUtil.init();\r\ncollection = mongoUtil.initCollection(mongoClient, databaseName, EventCollections.Configuration_Events);\r\ncollection.createIndex(Indexes.ascending(EventFields.Sequence_Field));\r\n```\r\n\r\nTest class\r\n```\r\n@Mock\r\nprivate MongoUtil mockedMongoUtil\r\n\r\n@Mock\r\nprivate MongoClient mockedMongoClient\r\n\r\n@Mock\r\nprivate MongoCollection&lt;Document&gt; mockedCollection\r\n\r\n@Before\r\npublic void setup(){\r\nMockito.when(mockedMongoUtil.init()).thenReturn(mockedMongoClient);\r\nMethod postConstruct = ConfigurationEventDatabase.class.getDeclaredMethod(&quot;init&quot;);\r\npostConstruct.setAccessible(true);\r\npostConstruct.invoke(db); //db refers to class under test\r\n}\r\n```\r\n\r\nI am getting npe at &quot;collection.createIndex&quot; line. I tried to mock collection.initCollection and others things also, but npe still persist. Don&#39;t want to create a separate method for it. \r\nCan anyone help?","title":"Mockito Null pointer exception for mocked object. New to mockito as well mongo","body":"<p>I have a class ConfigurationEventDatabse which deals with mondo db collections and have db methods. I had to create an Index for one of the field. I put Index as shown in below code</p>\n<pre><code>@PostCunstruct \nPrivate void init(){\nMongoClient = mongoUtil.init();\ncollection = mongoUtil.initCollection(mongoClient, databaseName, EventCollections.Configuration_Events);\ncollection.createIndex(Indexes.ascending(EventFields.Sequence_Field));\n</code></pre>\n<p>Test class</p>\n<pre><code>@Mock\nprivate MongoUtil mockedMongoUtil\n\n@Mock\nprivate MongoClient mockedMongoClient\n\n@Mock\nprivate MongoCollection&lt;Document&gt; mockedCollection\n\n@Before\npublic void setup(){\nMockito.when(mockedMongoUtil.init()).thenReturn(mockedMongoClient);\nMethod postConstruct = ConfigurationEventDatabase.class.getDeclaredMethod(&quot;init&quot;);\npostConstruct.setAccessible(true);\npostConstruct.invoke(db); //db refers to class under test\n}\n</code></pre>\n<p>I am getting npe at &quot;collection.createIndex&quot; line. I tried to mock collection.initCollection and others things also, but npe still persist. Don't want to create a separate method for it.\nCan anyone help?</p>\n"},{"tags":["java","spring","jsp","servlets"],"comments":[{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665555402,"post_id":74037218,"comment_id":130725040,"body_markdown":"can you share your code ?","body":"can you share your code ?"},{"owner":{"account_id":17686733,"reputation":1,"user_id":12839527,"display_name":"ozgan"},"score":0,"creation_date":1665555758,"post_id":74037218,"comment_id":130725121,"body_markdown":"which part of code?","body":"which part of code?"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665555855,"post_id":74037218,"comment_id":130725145,"body_markdown":"web.xml code file","body":"web.xml code file"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665556251,"post_id":74037218,"comment_id":130725257,"body_markdown":"Also, what test server you are using","body":"Also, what test server you are using"},{"owner":{"account_id":17686733,"reputation":1,"user_id":12839527,"display_name":"ozgan"},"score":0,"creation_date":1665557047,"post_id":74037218,"comment_id":130725467,"body_markdown":"test server Jboss","body":"test server Jboss"},{"owner":{"account_id":17686733,"reputation":1,"user_id":12839527,"display_name":"ozgan"},"score":0,"creation_date":1665557094,"post_id":74037218,"comment_id":130725485,"body_markdown":"web.xml  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n    &lt;display-name&gt;Servlet 2.4 Web Application&lt;/display-name&gt;","body":"web.xml  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app version=&quot;2.4&quot; xmlns=&quot;<a href=\"http://java.sun.com/xml/ns/j2ee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/j2ee</a>&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xsi:schemaLocation=&quot;<a href=\"http://java.sun.com/xml/ns/j2ee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/j2ee</a> <a href=\"http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/j2ee/web-app_2_4.xsd</a>&quot;&gt;     &lt;display-name&gt;Servlet 2.4 Web Application&lt;/display-name&gt;"},{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1665560213,"post_id":74037218,"comment_id":130726454,"body_markdown":"As it is currently written, your post is unclear and can hardly be answered. What do you mean by &quot;not working&quot;? Which error occurs? Where? Please edit your question and add the relevant portions of the code. Please take a look at [how to ask](https://stackoverflow.com/help/how-to-ask).","body":"As it is currently written, your post is unclear and can hardly be answered. What do you mean by &quot;not working&quot;? Which error occurs? Where? Please edit your question and add the relevant portions of the code. Please take a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665557857,"creation_date":1665557534,"answer_id":74037579,"question_id":74037218,"body_markdown":"try this dependency\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt; \r\n\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;  \r\n&lt;/dependency&gt; \r\n\r\n```","title":"//java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application (JSTL lib added but does not workin)","body":"<p>try this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt; \n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;  \n&lt;/dependency&gt; \n\n</code></pre>\n"}],"owner":{"account_id":17686733,"reputation":1,"user_id":12839527,"display_name":"ozgan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665557857,"creation_date":1665555320,"question_id":74037218,"body_markdown":"I have gradle java spring project.\r\nspring 3 ,Tomcat 7 , Jdk 1.8 .\r\n\r\nProject run local machine but does not working on test server.\r\n\r\nchecked jstl lib and added.","title":"//java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application (JSTL lib added but does not workin)","body":"<p>I have gradle java spring project.\nspring 3 ,Tomcat 7 , Jdk 1.8 .</p>\n<p>Project run local machine but does not working on test server.</p>\n<p>checked jstl lib and added.</p>\n"},{"tags":["java","maven","opencv","intellij-idea"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1665557770,"post_id":74037586,"comment_id":130725658,"body_markdown":"Is file present here `C:\\Users\\Bartek\\Downloads\\opencv\\build\\java\\x64\\opencv_java455.dll` ?","body":"Is file present here <code>C:\\Users\\Bartek\\Downloads\\opencv\\build\\java\\x64\\opencv_java4&zwnj;&#8203;55.dll</code> ?"},{"owner":{"account_id":26592811,"reputation":1,"user_id":20215728,"display_name":"gruszkini"},"score":0,"creation_date":1665558689,"post_id":74037586,"comment_id":130725929,"body_markdown":"Yes, it is present","body":"Yes, it is present"}],"owner":{"account_id":26592811,"reputation":1,"user_id":20215728,"display_name":"gruszkini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665557604,"creation_date":1665557604,"question_id":74037586,"body_markdown":"I need to import OpenCV to my project.\r\nI downloaded library from &lt;https://opencv.org/releases&gt; version 4.5.5.\r\nExtracted and then I added .jar and .dll file to Project Structure but it doesn&#39;t work.\r\n\r\n[Project Structure in Intellij Idea][1]\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;OpenCvTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.5-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nOpenCvExample.java\r\n```import org.opencv.core.Core;\r\nimport org.opencv.core.CvType;\r\nimport org.opencv.core.Mat;\r\n\r\npublic class OpenCvExample {\r\n\r\n    public static void main(String[] args) {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        Mat mat = Mat.eye(3, 3, CvType.CV_8UC1);\r\n        System.out.println(&quot;mat = &quot; + mat.dump());\r\n    }\r\n}\r\n```\r\nException\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\Bartek\\Downloads\\opencv\\build\\java\\x64\\opencv_java455.dll: Can&#39;t find dependent libraries\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\tat OpenCvExample.main(OpenCvExample.java:8)\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oWoNn.png","title":"How to import OpenCV in the Maven project? (Intellij Idea)","body":"<p>I need to import OpenCV to my project.\nI downloaded library from <a href=\"https://opencv.org/releases\" rel=\"nofollow noreferrer\">https://opencv.org/releases</a> version 4.5.5.\nExtracted and then I added .jar and .dll file to Project Structure but it doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/oWoNn.png\" rel=\"nofollow noreferrer\">Project Structure in Intellij Idea</a></p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;OpenCvTest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n            &lt;version&gt;4.5.5-1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>OpenCvExample.java</p>\n<pre><code>import org.opencv.core.CvType;\nimport org.opencv.core.Mat;\n\npublic class OpenCvExample {\n\n    public static void main(String[] args) {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        Mat mat = Mat.eye(3, 3, CvType.CV_8UC1);\n        System.out.println(&quot;mat = &quot; + mat.dump());\n    }\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\Bartek\\Downloads\\opencv\\build\\java\\x64\\opencv_java455.dll: Can't find dependent libraries\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n    at java.base/java.lang.System.loadLibrary(System.java:1989)\n    at OpenCvExample.main(OpenCvExample.java:8)\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","ssl","cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665557311,"creation_date":1665557311,"answer_id":74037544,"question_id":74037033,"body_markdown":"I was able to resolve this issue by including that jar file in the boot loader class path using \r\n```\r\n-Xbootclasspath/a: \r\n```\r\noption. But I didn&#39;t like this solution anyway.\r\n\r\nP.S, Also, there is another thread in [stackoverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8253958/classnotfoundexception-when-using-custom-sslsocketfactory","title":"ClassNotFoundException for Custom Java SSL Factory","body":"<p>I was able to resolve this issue by including that jar file in the boot loader class path using</p>\n<pre><code>-Xbootclasspath/a: \n</code></pre>\n<p>option. But I didn't like this solution anyway.</p>\n<p>P.S, Also, there is another thread in <a href=\"https://stackoverflow.com/questions/8253958/classnotfoundexception-when-using-custom-sslsocketfactory\">stackoverflow</a></p>\n"}],"owner":{"account_id":389035,"reputation":907,"user_id":748279,"accept_rate":58,"display_name":"sgrgmngt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665557393,"creation_date":1665553856,"question_id":74037033,"body_markdown":"I have written custom java ssl factory and not using the default SSL Factory (org.postgresql.ssl.DefaultJavaSSLFactory) while attempting SSL handshake to postgreSQL\r\n\r\n**jdblUrl** = jdbc:postgresql://hostname:port/dbName?sslmode=verify-ca&amp;sslfactory=PathToMyCustomJavaSSLFactory\r\n\r\nCustom SSL Factory class is in different jar file and I am trying to use in the main jar file. I am able to successfully use it while calling DB when I run the application locally in my eclipse.\r\nBut, when I push the main jar to cloud foundry and try to run it, I am getting ClassNotFoundException for the custom SSL factory class.\r\nThere are other classes in that jar file which I am able to call from main jar. But only for the custom ssl factory it is throwing ClassNotFoundException .\r\n\r\nCan someone please help on what I might be missing.\r\n\r\nException Trace:\r\n\r\n    {java.lang.ClassNotFoundException: com.cf.commons.db.ssl.CustomJavaSSLFactory&quot;,&quot;\\tat java.net.URLClassLoader.findClass(URLClassLoader.java:449)&quot;,&quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:482)&quot;,&quot;\\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:384)&quot;,&quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:415)&quot;,&quot;\\tat java.lang.Class.forName0(Native Method)&quot;,&quot;\\tat java.lang.Class.forNameFW(Class.java:362)&quot;,&quot;\\tat java.lang.Class.forName(Class.java:270)&quot;,&quot;\\tat org.postgresql.util.ObjectFactory.instantiate(ObjectFactory.java:50)&quot;,&quot;\\tat org.postgresql.core.SocketFactoryFactory.getSslSocketFactory(SocketFactoryFactory.java:64)&quot;,&quot;\\t... 77 more&quot;] }\r\n\r\nI am using Java 8","title":"ClassNotFoundException for Custom Java SSL Factory","body":"<p>I have written custom java ssl factory and not using the default SSL Factory (org.postgresql.ssl.DefaultJavaSSLFactory) while attempting SSL handshake to postgreSQL</p>\n<p><strong>jdblUrl</strong> = jdbc:postgresql://hostname:port/dbName?sslmode=verify-ca&amp;sslfactory=PathToMyCustomJavaSSLFactory</p>\n<p>Custom SSL Factory class is in different jar file and I am trying to use in the main jar file. I am able to successfully use it while calling DB when I run the application locally in my eclipse.\nBut, when I push the main jar to cloud foundry and try to run it, I am getting ClassNotFoundException for the custom SSL factory class.\nThere are other classes in that jar file which I am able to call from main jar. But only for the custom ssl factory it is throwing ClassNotFoundException .</p>\n<p>Can someone please help on what I might be missing.</p>\n<p>Exception Trace:</p>\n<pre><code>{java.lang.ClassNotFoundException: com.cf.commons.db.ssl.CustomJavaSSLFactory&quot;,&quot;\\tat java.net.URLClassLoader.findClass(URLClassLoader.java:449)&quot;,&quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:482)&quot;,&quot;\\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:384)&quot;,&quot;\\tat java.lang.ClassLoader.loadClass(ClassLoader.java:415)&quot;,&quot;\\tat java.lang.Class.forName0(Native Method)&quot;,&quot;\\tat java.lang.Class.forNameFW(Class.java:362)&quot;,&quot;\\tat java.lang.Class.forName(Class.java:270)&quot;,&quot;\\tat org.postgresql.util.ObjectFactory.instantiate(ObjectFactory.java:50)&quot;,&quot;\\tat org.postgresql.core.SocketFactoryFactory.getSslSocketFactory(SocketFactoryFactory.java:64)&quot;,&quot;\\t... 77 more&quot;] }\n</code></pre>\n<p>I am using Java 8</p>\n"},{"tags":["java","arrays","collections","queue"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1614453915,"post_id":66402608,"comment_id":117392605,"body_markdown":"Notice that `q` is a `Queue`, not a `LinkedList`, because you *declared* it to be a `Queue` even if you then *instantiated* it as a `LinkedList`","body":"Notice that <code>q</code> is a <code>Queue</code>, not a <code>LinkedList</code>, because you <i>declared</i> it to be a <code>Queue</code> even if you then <i>instantiated</i> it as a <code>LinkedList</code>"},{"owner":{"account_id":13731171,"reputation":45,"user_id":9908657,"display_name":"Shreya Birthare"},"score":0,"creation_date":1614454491,"post_id":66402608,"comment_id":117392778,"body_markdown":"Yes, realized it now!","body":"Yes, realized it now!"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614453888,"creation_date":1614453745,"answer_id":66402639,"question_id":66402608,"body_markdown":"`push()` isn&#39;t a method [declared by the `Queue`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Queue.html) interface. Use a different method or declare `q` as a `LinkedList`.","title":"How to pass an integer array to queue interface in java","body":"<p><code>push()</code> isn't a method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Queue.html\" rel=\"nofollow noreferrer\">declared by the <code>Queue</code></a> interface. Use a different method or declare <code>q</code> as a <code>LinkedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":24498139,"reputation":1,"user_id":18414111,"display_name":"Kavita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658205274,"creation_date":1658205274,"answer_id":73031162,"question_id":66402608,"body_markdown":"Use queue.offer(new int[]{0,0});","title":"How to pass an integer array to queue interface in java","body":"<p>Use queue.offer(new int[]{0,0});</p>\n"},{"tags":[],"owner":{"account_id":21334259,"reputation":13,"user_id":15705713,"display_name":"Rayhaan Hanslod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665556681,"creation_date":1665132884,"answer_id":73984719,"question_id":66402608,"body_markdown":"This works \r\n\r\n    Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();        \r\n    queue.add(new int[]{0,0});","title":"How to pass an integer array to queue interface in java","body":"<p>This works</p>\n<pre><code>Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();        \nqueue.add(new int[]{0,0});\n</code></pre>\n"}],"owner":{"account_id":13731171,"reputation":45,"user_id":9908657,"display_name":"Shreya Birthare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665556681,"creation_date":1614453614,"question_id":66402608,"body_markdown":"I am trying to create a queue in java which takes up integer array as arguments:\r\n\r\n    Queue&lt;int[]&gt; q=new LinkedList&lt;&gt;();\r\n    q.push(new int[]{0,0});\r\n\r\nI am getting the error: \r\n\r\n    cannot find symbol\r\n        q.push(new int[]{0,0});\r\n         ^\r\n    symbol:   method push(int[])\r\n    location: variable q of type Queue&lt;int[]&gt;&quot;\r\n\r\nHow do I pass the array to this queue?\r\n ","title":"How to pass an integer array to queue interface in java","body":"<p>I am trying to create a queue in java which takes up integer array as arguments:</p>\n<pre><code>Queue&lt;int[]&gt; q=new LinkedList&lt;&gt;();\nq.push(new int[]{0,0});\n</code></pre>\n<p>I am getting the error:</p>\n<pre><code>cannot find symbol\n    q.push(new int[]{0,0});\n     ^\nsymbol:   method push(int[])\nlocation: variable q of type Queue&lt;int[]&gt;&quot;\n</code></pre>\n<p>How do I pass the array to this queue?</p>\n"},{"tags":["java","apache-spark","spark-shuffle"],"answers":[{"tags":[],"owner":{"account_id":6843439,"reputation":108,"user_id":5262967,"display_name":"Amol Limaye"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1665556631,"creation_date":1664289014,"answer_id":73869335,"question_id":73732970,"body_markdown":"Ok, I don&#39;t know Spark, but I referred below 2 pages.\r\n\r\nhttps://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/MapOutputTracker.scala unregisterShuffle method\r\n\r\nhttps://www.hadoopinrealworld.com/how-does-shuffle-sort-merge-join-work-in-spark/\r\n\r\nSpark shuffles the data and during that shuffling, some data, which was supposed to be there based on id, is not found.\r\n\r\nOption 1:\r\nTry to increase memory allocated to your application to see if that solves this.\r\n\r\nOption 2: Unit test with various use cases to see if you can find the use case when you get a problem.\r\n\r\nOption 3: Try an earlier version of spark.\r\n\r\nUpdated reasons for my suggestions as per OP comment -\r\nI agree with your viewpoint and my answer may seem &quot;restart your computer&quot; kind of general suggestions. Here are the specific reasons why I gave above 3 suggestions.\r\n\r\n 1. I looked up the source code of spark (given the link) where NullPointerException is occurring.  I see a ConcurrentHashMap shuffleStatuses where a value for shuffleId is expected but not found. Your now edited, question mentioned that you were getting the error non-deterministically. i.e. for same data, you got error once, but not the next time. This points to a non-code reason for the problem, like memory availability - hence suggestion #1\r\n\r\n2. A general approach to such &#39;non-deterministic&#39; errors is to unit test your code with different possible use cases. That helps you pin-point a use case when such errors come. Hence suggestion #2.\r\n\r\n3. A runtime exception like NullPointerException occurring inside the library code indicates that some code flow is not handled and library code is buggy. New versions of libraries could have such errors. In such cases, it is prudent to report such errors to the github community. We can use earlier and more stable versions to unblock ourselves- Hence suggestion #3. (I think you had not reported the bug at the time of me writing my original answer)\r\n\r\n ","title":"Spark NullPointerException: Cannot invoke invalidateSerializedMapOutputStatusCache() because &quot;shuffleStatus&quot; is null","body":"<p>Ok, I don't know Spark, but I referred below 2 pages.</p>\n<p><a href=\"https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/MapOutputTracker.scala\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/MapOutputTracker.scala</a> unregisterShuffle method</p>\n<p><a href=\"https://www.hadoopinrealworld.com/how-does-shuffle-sort-merge-join-work-in-spark/\" rel=\"nofollow noreferrer\">https://www.hadoopinrealworld.com/how-does-shuffle-sort-merge-join-work-in-spark/</a></p>\n<p>Spark shuffles the data and during that shuffling, some data, which was supposed to be there based on id, is not found.</p>\n<p>Option 1:\nTry to increase memory allocated to your application to see if that solves this.</p>\n<p>Option 2: Unit test with various use cases to see if you can find the use case when you get a problem.</p>\n<p>Option 3: Try an earlier version of spark.</p>\n<p>Updated reasons for my suggestions as per OP comment -\nI agree with your viewpoint and my answer may seem &quot;restart your computer&quot; kind of general suggestions. Here are the specific reasons why I gave above 3 suggestions.</p>\n<ol>\n<li><p>I looked up the source code of spark (given the link) where NullPointerException is occurring.  I see a ConcurrentHashMap shuffleStatuses where a value for shuffleId is expected but not found. Your now edited, question mentioned that you were getting the error non-deterministically. i.e. for same data, you got error once, but not the next time. This points to a non-code reason for the problem, like memory availability - hence suggestion #1</p>\n</li>\n<li><p>A general approach to such 'non-deterministic' errors is to unit test your code with different possible use cases. That helps you pin-point a use case when such errors come. Hence suggestion #2.</p>\n</li>\n<li><p>A runtime exception like NullPointerException occurring inside the library code indicates that some code flow is not handled and library code is buggy. New versions of libraries could have such errors. In such cases, it is prudent to report such errors to the github community. We can use earlier and more stable versions to unblock ourselves- Hence suggestion #3. (I think you had not reported the bug at the time of me writing my original answer)</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664374372,"creation_date":1664374372,"answer_id":73883004,"question_id":73732970,"body_markdown":"I filed [SPARK-40582](https://issues.apache.org/jira/browse/SPARK-40582), and they told me that this is a known Scala 2.13.8 issue ([#12613](https://github.com/scala/bug/issues/12613)). They are adding a fix in [SPARK-39553](https://issues.apache.org/jira/browse/SPARK-39553), scheduled for release in v3.3.1.","title":"Spark NullPointerException: Cannot invoke invalidateSerializedMapOutputStatusCache() because &quot;shuffleStatus&quot; is null","body":"<p>I filed <a href=\"https://issues.apache.org/jira/browse/SPARK-40582\" rel=\"nofollow noreferrer\">SPARK-40582</a>, and they told me that this is a known Scala 2.13.8 issue (<a href=\"https://github.com/scala/bug/issues/12613\" rel=\"nofollow noreferrer\">#12613</a>). They are adding a fix in <a href=\"https://issues.apache.org/jira/browse/SPARK-39553\" rel=\"nofollow noreferrer\">SPARK-39553</a>, scheduled for release in v3.3.1.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73883004,"answer_count":2,"score":0,"last_activity_date":1665556631,"creation_date":1663252172,"question_id":73732970,"body_markdown":"I&#39;m running a simple little Spark 3.3.0 pipeline on Windows 10 using Java 17 and UDFs. I hardly do anything interesting, and now when I run the pipeline on only 30,000 records I&#39;m getting this:\r\n\r\n```\r\n[ERROR] Error in removing shuffle 2\r\njava.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.ShuffleStatus.invalidateSerializedMapOutputStatusCache()&quot; because &quot;shuffleStatus&quot; is null\r\n        at org.apache.spark.MapOutputTrackerMaster.$anonfun$unregisterShuffle$1(MapOutputTracker.scala:882)\r\n        at org.apache.spark.MapOutputTrackerMaster.$anonfun$unregisterShuffle$1$adapted(MapOutputTracker.scala:881)\r\n        at scala.Option.foreach(Option.scala:437)\r\n        at org.apache.spark.MapOutputTrackerMaster.unregisterShuffle(MapOutputTracker.scala:881)\r\n        at org.apache.spark.storage.BlockManagerStorageEndpoint$$anonfun$receiveAndReply$1.$anonfun$applyOrElse$3(BlockManagerStorageEndpoint.scala:59)\r\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.scala:17)\r\n        at org.apache.spark.storage.BlockManagerStorageEndpoint.$anonfun$doAsync$1(BlockManagerStorageEndpoint.scala:89)\r\n        at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:678)\r\n        at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI searched and couldn&#39;t find any of the principal terms in the error message.\r\n\r\nDisconcerting that Spark is breaking at what seems to be a fundamental part of processing, and with a `NullPointerException` at that.\r\n\r\nI filed ticket [SPARK-40582](https://issues.apache.org/jira/browse/SPARK-40582).","title":"Spark NullPointerException: Cannot invoke invalidateSerializedMapOutputStatusCache() because &quot;shuffleStatus&quot; is null","body":"<p>I'm running a simple little Spark 3.3.0 pipeline on Windows 10 using Java 17 and UDFs. I hardly do anything interesting, and now when I run the pipeline on only 30,000 records I'm getting this:</p>\n<pre><code>[ERROR] Error in removing shuffle 2\njava.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.ShuffleStatus.invalidateSerializedMapOutputStatusCache()&quot; because &quot;shuffleStatus&quot; is null\n        at org.apache.spark.MapOutputTrackerMaster.$anonfun$unregisterShuffle$1(MapOutputTracker.scala:882)\n        at org.apache.spark.MapOutputTrackerMaster.$anonfun$unregisterShuffle$1$adapted(MapOutputTracker.scala:881)\n        at scala.Option.foreach(Option.scala:437)\n        at org.apache.spark.MapOutputTrackerMaster.unregisterShuffle(MapOutputTracker.scala:881)\n        at org.apache.spark.storage.BlockManagerStorageEndpoint$$anonfun$receiveAndReply$1.$anonfun$applyOrElse$3(BlockManagerStorageEndpoint.scala:59)\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.scala:17)\n        at org.apache.spark.storage.BlockManagerStorageEndpoint.$anonfun$doAsync$1(BlockManagerStorageEndpoint.scala:89)\n        at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:678)\n        at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:467)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I searched and couldn't find any of the principal terms in the error message.</p>\n<p>Disconcerting that Spark is breaking at what seems to be a fundamental part of processing, and with a <code>NullPointerException</code> at that.</p>\n<p>I filed ticket <a href=\"https://issues.apache.org/jira/browse/SPARK-40582\" rel=\"nofollow noreferrer\">SPARK-40582</a>.</p>\n"},{"tags":["java","spring","spring-boot","xss"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665556054,"creation_date":1665555576,"answer_id":74037267,"question_id":74037241,"body_markdown":"You can use security filter chain like this :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class YourAppSecurityConfiguration{\r\n  \r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t\t.headers()\r\n          .xssProtection()\r\n          .and()\r\n          .contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;);  \t\t\r\n    \treturn http.build();\r\n    \t}\r\n    \t","title":"Alternate for deprecated WebSecurityConfigurerAdapter to implement Cross-Site Scripting (XSS) by using SecurityFilterChain","body":"<p>You can use security filter chain like this :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class YourAppSecurityConfiguration{\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .headers()\n      .xssProtection()\n      .and()\n      .contentSecurityPolicy(&quot;script-src 'self'&quot;);          \n    return http.build();\n    }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665556272,"creation_date":1665555758,"answer_id":74037295,"question_id":74037241,"body_markdown":"you can try like this if you don&#39;t want to extend deprecated websecurityconfigureradapter you can use SecurityFilterChain and then apply your xss implementation \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class BlogAppSecurityConfig{\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n    \r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider provider =new DaoAuthenticationProvider();\r\n        provider.setUserDetailsService(userDetailsService);\r\n        provider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n        return provider;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .headers()\r\n          .xssProtection()\r\n          .and()\r\n          .contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;);\r\n    return http.build();\r\n    }\r\n```\r\n          \r\n","title":"Alternate for deprecated WebSecurityConfigurerAdapter to implement Cross-Site Scripting (XSS) by using SecurityFilterChain","body":"<p>you can try like this if you don't want to extend deprecated websecurityconfigureradapter you can use SecurityFilterChain and then apply your xss implementation</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class BlogAppSecurityConfig{\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider provider =new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userDetailsService);\n        provider.setPasswordEncoder(new BCryptPasswordEncoder());\n        return provider;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .headers()\n          .xssProtection()\n          .and()\n          .contentSecurityPolicy(&quot;script-src 'self'&quot;);\n    return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":22508363,"reputation":96,"user_id":16703627,"display_name":"dev4java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665556272,"creation_date":1665555441,"question_id":74037241,"body_markdown":"For the first time I added spring-boot-starter-security starter to my spring boot application to prevent Cross-Site Scripting (XSS) Attack, I referred this (https://www.baeldung.com/spring-prevent-xss) link. But as per this (https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) link websecurityconfigureradapter is deprecated. I am unable to find the alternative, please suggest.","title":"Alternate for deprecated WebSecurityConfigurerAdapter to implement Cross-Site Scripting (XSS) by using SecurityFilterChain","body":"<p>For the first time I added spring-boot-starter-security starter to my spring boot application to prevent Cross-Site Scripting (XSS) Attack, I referred this (<a href=\"https://www.baeldung.com/spring-prevent-xss\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-prevent-xss</a>) link. But as per this (<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>) link websecurityconfigureradapter is deprecated. I am unable to find the alternative, please suggest.</p>\n"},{"tags":["java","kotlin","logging","jersey","dropwizard"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1665151176,"post_id":73975564,"comment_id":130639145,"body_markdown":"You can try to set [this property](https://eclipse-ee4j.github.io/jersey.github.io/apidocs/2.35/jersey/org/glassfish/jersey/logging/LoggingFeature.html#LOGGING_FEATURE_MAX_ENTITY_SIZE_CLIENT). I don&#39;t know if it will make a difference or not if the maxEntitySize argument didn&#39;t work","body":"You can try to set <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/apidocs/2.35/jersey/org/glassfish/jersey/logging/LoggingFeature.html#LOGGING_FEATURE_MAX_ENTITY_SIZE_CLIENT\" rel=\"nofollow noreferrer\">this property</a>. I don&#39;t know if it will make a difference or not if the maxEntitySize argument didn&#39;t work"},{"owner":{"account_id":13738231,"reputation":39,"user_id":9913999,"display_name":"Menyten"},"score":0,"creation_date":1665556072,"post_id":73975564,"comment_id":130725212,"body_markdown":"@PaulSamsotha Hey thanks for you comment. The issue was a settings with Dropwizard/Jersey, apparently I had to set gzipEnabled = true","body":"@PaulSamsotha Hey thanks for you comment. The issue was a settings with Dropwizard/Jersey, apparently I had to set gzipEnabled = true"}],"answers":[{"tags":[],"owner":{"account_id":13738231,"reputation":39,"user_id":9913999,"display_name":"Menyten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665556112,"creation_date":1665556112,"answer_id":74037357,"question_id":73975564,"body_markdown":"The issue was a settings with Dropwizard/Jersey. Apparently I had to set gzipEnabled = true","title":"Issue with LoggingFeature not logging the complete response body","body":"<p>The issue was a settings with Dropwizard/Jersey. Apparently I had to set gzipEnabled = true</p>\n"}],"owner":{"account_id":13738231,"reputation":39,"user_id":9913999,"display_name":"Menyten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74037357,"answer_count":1,"score":0,"last_activity_date":1665556112,"creation_date":1665066676,"question_id":73975564,"body_markdown":"I&#39;m currently working building an endpoint that will make a couple of requests to an external API. In this endpoint I&#39;m logging all of the request bodies to the terminal. But I&#39;m having an issue where jerseys **LoggingFeature** doesn&#39;t log the complete response body for a request that is done. The log gets cut in the middle of the body. I&#39;ve tried messing around with the logger level, verbosity but that did nothing. I tried changing **maxEntitySize** to be a large value but that doesn&#39;t change anything either, I&#39;m not really sure what the issue is and why it won&#39;t log the complete response body. I&#39;ve also tried logging to a file instead of the terminal but unfortunately I got the same result.\r\n\r\nHere&#39;s what the log looks like (as it&#39;s proprietary software I had to change some information)\r\n\r\n```\r\nINFO  [2022-10-06 13:54:04,261] se.bla.bla.bla.clients.BlaClientImpl: 1 * Sending client request on thread dw-18 - GET /api/bla/log/98014384\r\n1 &gt; GET https://url.com/2574339575\r\n1 &gt; Accept: application/json\r\n1 &gt; Authorization: Bearer tokenstuff\r\n\r\nINFO  [2022-10-06 13:54:04,475] se.bla.bla.bla.clients.BlaClientImpl: 1 * Client response received on thread dw-18 - GET /api/bla/log/98014384\r\n1 &lt; 200\r\n1 &lt; Cache-Control: no-cache\r\n1 &lt; Content-Type: application/json; charset=utf-8\r\n1 &lt; Date: Thu, 06 Oct 2022 13:54:04 GMT\r\n1 &lt; Etag: Yee\r\n1 &lt; Server-Response-Time: 169.44395400000002\r\n1 &lt; Transfer-Encoding: chunked\r\n1 &lt; Vary: Origin\r\n1 &lt; X-Request-Id: Woo\r\n1 &lt; X-Runtime: 0.169337\r\n{example1: &quot;2134123123&quot;,example2: &quot;2134123123&quot;,example3: &quot;2134123123&quot;,example4: &quot;2134123123&quot;,example5: &quot;2134123123&quot;,example6: &quot;2134123123&quot;,example7: &quot;2134123123&quot;,example8: &quot;2134123123&quot;,example9: &quot;2134123123&quot;,example10: &quot;2134123123&quot;,example11: &quot;2134123123&quot;,example12: &quot;2134123123&quot;,example13: &quot;2134123123&quot;,example14: &quot;2134123123&quot;,example15: &quot;2134123123&quot;,example16: &quot;2134123123&quot;,example17: &quot;2134123123&quot;,example18: &quot;21341\r\n```\r\n\r\nAnd I&#39;ve registered the logger like so.\r\n\r\n            val restlog = getLogger(BlaClientImpl::class.java.name)\r\n            restlog.addHandler(FileHandler(&quot;rest.log&quot;, 83886080, 1))\r\n            val requestBuilder =\r\n                client\r\n                    .register(\r\n                        LoggingFeature(\r\n                            restlog,\r\n                            Level.INFO,\r\n                            LoggingFeature.Verbosity.PAYLOAD_ANY,\r\n                            83886080\r\n                        )\r\n                    )\r\n\r\nI&#39;m quite new to the Kotlin/Java world so maybe I&#39;m missing something fundamental.","title":"Issue with LoggingFeature not logging the complete response body","body":"<p>I'm currently working building an endpoint that will make a couple of requests to an external API. In this endpoint I'm logging all of the request bodies to the terminal. But I'm having an issue where jerseys <strong>LoggingFeature</strong> doesn't log the complete response body for a request that is done. The log gets cut in the middle of the body. I've tried messing around with the logger level, verbosity but that did nothing. I tried changing <strong>maxEntitySize</strong> to be a large value but that doesn't change anything either, I'm not really sure what the issue is and why it won't log the complete response body. I've also tried logging to a file instead of the terminal but unfortunately I got the same result.</p>\n<p>Here's what the log looks like (as it's proprietary software I had to change some information)</p>\n<pre><code>INFO  [2022-10-06 13:54:04,261] se.bla.bla.bla.clients.BlaClientImpl: 1 * Sending client request on thread dw-18 - GET /api/bla/log/98014384\n1 &gt; GET https://url.com/2574339575\n1 &gt; Accept: application/json\n1 &gt; Authorization: Bearer tokenstuff\n\nINFO  [2022-10-06 13:54:04,475] se.bla.bla.bla.clients.BlaClientImpl: 1 * Client response received on thread dw-18 - GET /api/bla/log/98014384\n1 &lt; 200\n1 &lt; Cache-Control: no-cache\n1 &lt; Content-Type: application/json; charset=utf-8\n1 &lt; Date: Thu, 06 Oct 2022 13:54:04 GMT\n1 &lt; Etag: Yee\n1 &lt; Server-Response-Time: 169.44395400000002\n1 &lt; Transfer-Encoding: chunked\n1 &lt; Vary: Origin\n1 &lt; X-Request-Id: Woo\n1 &lt; X-Runtime: 0.169337\n{example1: &quot;2134123123&quot;,example2: &quot;2134123123&quot;,example3: &quot;2134123123&quot;,example4: &quot;2134123123&quot;,example5: &quot;2134123123&quot;,example6: &quot;2134123123&quot;,example7: &quot;2134123123&quot;,example8: &quot;2134123123&quot;,example9: &quot;2134123123&quot;,example10: &quot;2134123123&quot;,example11: &quot;2134123123&quot;,example12: &quot;2134123123&quot;,example13: &quot;2134123123&quot;,example14: &quot;2134123123&quot;,example15: &quot;2134123123&quot;,example16: &quot;2134123123&quot;,example17: &quot;2134123123&quot;,example18: &quot;21341\n</code></pre>\n<p>And I've registered the logger like so.</p>\n<pre><code>        val restlog = getLogger(BlaClientImpl::class.java.name)\n        restlog.addHandler(FileHandler(&quot;rest.log&quot;, 83886080, 1))\n        val requestBuilder =\n            client\n                .register(\n                    LoggingFeature(\n                        restlog,\n                        Level.INFO,\n                        LoggingFeature.Verbosity.PAYLOAD_ANY,\n                        83886080\n                    )\n                )\n</code></pre>\n<p>I'm quite new to the Kotlin/Java world so maybe I'm missing something fundamental.</p>\n"},{"tags":["java","properties","log4j"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":1,"creation_date":1266500056,"post_id":2288876,"comment_id":2252921,"body_markdown":"The log4j.properties file must be in the root folder of your main application (since you&#39;re writing a desktop application).","body":"The log4j.properties file must be in the root folder of your main application (since you&#39;re writing a desktop application)."}],"answers":[{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1266558636,"creation_date":1266500123,"answer_id":2288910,"question_id":2288876,"body_markdown":"I believe that the configure method expects an absolute path. Anyhow, you may also try to load a Properties object first:\r\n\r\n    Properties props = new Properties();\r\n    props.load(new FileInputStream(&quot;log4j.properties&quot;));\r\n    PropertyConfigurator.configure(props);\r\n\r\nIf the properties file is in the jar, then you could do something like this:\r\n\r\n\r\n    Properties props = new Properties();\r\n    props.load(getClass().getResourceAsStream(&quot;/log4j.properties&quot;));\r\n    PropertyConfigurator.configure(props);\r\n\r\nThe above assumes that the log4j.properties is in the root folder of the jar file.","title":"How to configure log4j with a properties file","body":"<p>I believe that the configure method expects an absolute path. Anyhow, you may also try to load a Properties object first:</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"log4j.properties\"));\nPropertyConfigurator.configure(props);\n</code></pre>\n\n<p>If the properties file is in the jar, then you could do something like this:</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(getClass().getResourceAsStream(\"/log4j.properties\"));\nPropertyConfigurator.configure(props);\n</code></pre>\n\n<p>The above assumes that the log4j.properties is in the root folder of the jar file.</p>\n"},{"tags":[],"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1266505209,"creation_date":1266505209,"answer_id":2289520,"question_id":2288876,"body_markdown":"You can enable log4j internal logging by defining the &#39;**log4j.debug**&#39; variable. ","title":"How to configure log4j with a properties file","body":"<p>You can enable log4j internal logging by defining the '<strong>log4j.debug</strong>' variable. </p>\n"},{"tags":[],"owner":{"account_id":51330,"reputation":10190,"user_id":551899,"accept_rate":89,"display_name":"jmq"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1297310740,"creation_date":1297310740,"answer_id":4953244,"question_id":2288876,"body_markdown":"I have this code in my application today    \r\n\r\n    File log4jfile = new File(&quot;./conf/log4j.properties&quot;);\r\n    PropertyConfigurator.configure(log4jfile.getAbsolutePath());\r\n\r\nThe relative path is from the working directory of the JVM (where the JVM starts).","title":"How to configure log4j with a properties file","body":"<p>I have this code in my application today    </p>\n\n<pre><code>File log4jfile = new File(\"./conf/log4j.properties\");\nPropertyConfigurator.configure(log4jfile.getAbsolutePath());\n</code></pre>\n\n<p>The relative path is from the working directory of the JVM (where the JVM starts).</p>\n"},{"tags":[],"owner":{"account_id":287186,"reputation":616,"user_id":586848,"display_name":"Yu Sun corn"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1297322605,"creation_date":1297322605,"answer_id":4954438,"question_id":2288876,"body_markdown":"When you use PropertyConfigurator.configure(**String configFilename**),\r\nthey are the following operation in the log4j library. \r\n\r\n    Properties props = new Properties();\r\n    FileInputStream istream = null;\r\n    try {\r\n      istream = new FileInputStream(configFileName);\r\n      props.load(istream);\r\n      istream.close();\r\n    }\r\n    catch (Exception e) {\r\n    ...\r\n\r\nIt fails in reading because it looks for &quot;Log4j.properties&quot; from the current directory where the application is executed. \r\n\r\nHow about the way that it changes the reading part of the property file as follows, and puts &quot;log4j.properties&quot; on the directory to which the CLASSPATH is set.\r\n\r\n    ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n    URL url = loader.getResource(&quot;log4j.properties&quot;);\r\n    PropertyConfigurator.configure(url);\r\n\r\nAnother method of putting &quot;Log4j.properties&quot; in the jar file exists. \r\n\r\n    jar xvf [YourApplication].jar log4j.properties","title":"How to configure log4j with a properties file","body":"<p>When you use PropertyConfigurator.configure(<strong>String configFilename</strong>),\nthey are the following operation in the log4j library. </p>\n\n<pre><code>Properties props = new Properties();\nFileInputStream istream = null;\ntry {\n  istream = new FileInputStream(configFileName);\n  props.load(istream);\n  istream.close();\n}\ncatch (Exception e) {\n...\n</code></pre>\n\n<p>It fails in reading because it looks for \"Log4j.properties\" from the current directory where the application is executed. </p>\n\n<p>How about the way that it changes the reading part of the property file as follows, and puts \"log4j.properties\" on the directory to which the CLASSPATH is set.</p>\n\n<pre><code>ClassLoader loader = Thread.currentThread().getContextClassLoader();\nURL url = loader.getResource(\"log4j.properties\");\nPropertyConfigurator.configure(url);\n</code></pre>\n\n<p>Another method of putting \"Log4j.properties\" in the jar file exists. </p>\n\n<pre><code>jar xvf [YourApplication].jar log4j.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78268,"reputation":3821,"user_id":222867,"accept_rate":78,"display_name":"qwerty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297325152,"creation_date":1297325152,"answer_id":4954694,"question_id":2288876,"body_markdown":"I believe the log4j.properties directory it needs to be in the java classpath. In your case adding the CWD to the classpath *should* work.","title":"How to configure log4j with a properties file","body":"<p>I believe the log4j.properties directory it needs to be in the java classpath. In your case adding the CWD to the classpath <em>should</em> work.</p>\n"},{"tags":[],"owner":{"account_id":2814582,"reputation":567,"user_id":2420019,"display_name":"Solomon Kariri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375965583,"creation_date":1375965583,"answer_id":18126277,"question_id":2288876,"body_markdown":"Since JVM arguments are eventually passed to your java program as system variables, you can use this code at the beginning of your execution point to edit the property and have log4j read the property you just set in system properties\r\n\r\n    try {\r\n\t\t\tSystem.setProperty(&quot;log4j.configuration&quot;, new File(System.getProperty(&quot;user.dir&quot;)+File.separator+&quot;conf&quot;+File.separator+&quot;log4j.properties&quot;).toURI().toURL().toString());\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"How to configure log4j with a properties file","body":"<p>Since JVM arguments are eventually passed to your java program as system variables, you can use this code at the beginning of your execution point to edit the property and have log4j read the property you just set in system properties</p>\n\n<pre><code>try {\n        System.setProperty(\"log4j.configuration\", new File(System.getProperty(\"user.dir\")+File.separator+\"conf\"+File.separator+\"log4j.properties\").toURI().toURL().toString());\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382368217,"creation_date":1382368217,"answer_id":19498230,"question_id":2288876,"body_markdown":"This is an edit of the answer from @kgiannakakis:\r\nThe original code is wrong because it does not correctly close the InputStream after `Properties.load(InputStream)` is called.  From the Javadocs: `The specified stream remains open after this method returns.`\r\n\r\n================================\r\n\r\nI believe that the configure method expects an absolute path. Anyhow, you may also try to load a Properties object first:\r\n\r\n    Properties props = new Properties();\r\n    InputStream is = new FileInputStream(&quot;log4j.properties&quot;);\r\n    try {\r\n        props.load(is);\r\n    }\r\n    finally {\r\n        try {\r\n            is.close();\r\n        }\r\n        catch (Exception e) {\r\n            // ignore this exception\r\n        }\r\n    }\r\n    PropertyConfigurator.configure(props);\r\n\r\nIf the properties file is in the jar, then you could do something like this:\r\n\r\n\r\n    Properties props = new Properties();\r\n    InputStream is = getClass().getResourceAsStream(&quot;/log4j.properties&quot;);\r\n    try {\r\n        props.load(is);\r\n    }\r\n    finally {\r\n        try {\r\n            is.close();\r\n        }\r\n        catch (Exception e) {\r\n            // ignore this exception\r\n        }\r\n    }\r\n    PropertyConfigurator.configure(props);\r\n\r\nThe above assumes that the log4j.properties is in the root folder of the jar file.","title":"How to configure log4j with a properties file","body":"<p>This is an edit of the answer from @kgiannakakis:\nThe original code is wrong because it does not correctly close the InputStream after <code>Properties.load(InputStream)</code> is called.  From the Javadocs: <code>The specified stream remains open after this method returns.</code></p>\n\n<p>================================</p>\n\n<p>I believe that the configure method expects an absolute path. Anyhow, you may also try to load a Properties object first:</p>\n\n<pre><code>Properties props = new Properties();\nInputStream is = new FileInputStream(\"log4j.properties\");\ntry {\n    props.load(is);\n}\nfinally {\n    try {\n        is.close();\n    }\n    catch (Exception e) {\n        // ignore this exception\n    }\n}\nPropertyConfigurator.configure(props);\n</code></pre>\n\n<p>If the properties file is in the jar, then you could do something like this:</p>\n\n<pre><code>Properties props = new Properties();\nInputStream is = getClass().getResourceAsStream(\"/log4j.properties\");\ntry {\n    props.load(is);\n}\nfinally {\n    try {\n        is.close();\n    }\n    catch (Exception e) {\n        // ignore this exception\n    }\n}\nPropertyConfigurator.configure(props);\n</code></pre>\n\n<p>The above assumes that the log4j.properties is in the root folder of the jar file.</p>\n"},{"tags":[],"owner":{"account_id":3009250,"reputation":111,"user_id":2553098,"display_name":"consultantleon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1460325510,"creation_date":1460325510,"answer_id":36536018,"question_id":2288876,"body_markdown":"just set  -Dlog4j.configuration=file:log4j.properties worked for me. \r\n\r\nlog4j then looks for the *file* log4j.properties in the current working directory of the application.\r\n\r\nRemember that log4j.configuration is a *URL* specification, so add &#39;file:&#39; in front of your log4j.properties filename if you want to refer to a regular file on the filesystem, i.e. a file not on the classpath!\r\n\r\nInitially I specified  -Dlog4j.configuration=log4j.properties. However that only works if log4j.properties is on the classpath. When I copied log4j.properties to main/resources in my project and rebuild so that it was copied to the target directory (maven project) this worked as well (or you could package your log4j.properties in your project jars, but that would not allow the user to edit the logger configuration!).\r\n","title":"How to configure log4j with a properties file","body":"<p>just set  -Dlog4j.configuration=file:log4j.properties worked for me. </p>\n\n<p>log4j then looks for the <em>file</em> log4j.properties in the current working directory of the application.</p>\n\n<p>Remember that log4j.configuration is a <em>URL</em> specification, so add 'file:' in front of your log4j.properties filename if you want to refer to a regular file on the filesystem, i.e. a file not on the classpath!</p>\n\n<p>Initially I specified  -Dlog4j.configuration=log4j.properties. However that only works if log4j.properties is on the classpath. When I copied log4j.properties to main/resources in my project and rebuild so that it was copied to the target directory (maven project) this worked as well (or you could package your log4j.properties in your project jars, but that would not allow the user to edit the logger configuration!).</p>\n"},{"tags":[],"owner":{"account_id":15322989,"reputation":107,"user_id":11054890,"display_name":"harish nune"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597989729,"creation_date":1597984657,"answer_id":63516603,"question_id":2288876,"body_markdown":"```java\r\nimport org.apache.log4j.PropertyConfigurator;\r\n``` \r\nImport this, then:\r\n```java\r\nProperties props = new Properties();\r\nInputStream is = Main.class.getResourceAsStream(&quot;/log4j.properties&quot;);\r\n\r\ntry {\r\n    props.load(is);\r\n} catch (Exception e) {\r\n    // ignore this exception\r\n    log.error(&quot;Unable to load log4j properties file.&quot;,e);\r\n}\r\nPropertyConfigurator.configure(props);\r\n```\r\n\r\nMy java files directory like this:\r\n```\r\nsrc/main/java/com/abc/xyz\r\n```\r\n\r\nAnd log4j directory like this:\r\n```java\r\nsrc/main/resources\r\n```","title":"How to configure log4j with a properties file","body":"<pre class=\"lang-java prettyprint-override\"><code>import org.apache.log4j.PropertyConfigurator;\n</code></pre>\n<p>Import this, then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = new Properties();\nInputStream is = Main.class.getResourceAsStream(&quot;/log4j.properties&quot;);\n\ntry {\n    props.load(is);\n} catch (Exception e) {\n    // ignore this exception\n    log.error(&quot;Unable to load log4j properties file.&quot;,e);\n}\nPropertyConfigurator.configure(props);\n</code></pre>\n<p>My java files directory like this:</p>\n<pre><code>src/main/java/com/abc/xyz\n</code></pre>\n<p>And log4j directory like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>src/main/resources\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13109162,"reputation":21,"user_id":9470838,"display_name":"Vimal Surendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665556109,"creation_date":1665556109,"answer_id":74037355,"question_id":2288876,"body_markdown":"If your **log4j.properties** location is like *path/to/configfiles/log4j.properties*.\r\nThen simply use,\r\n\r\n    PropertyConfigurator.configure(&quot;path/to/configfiles/log4j.properties&quot;);\r\n\r\nAlso, if the path is *src/main/resources/log4j.properties* then even this code is not required since it is the default location.\r\n\r\n","title":"How to configure log4j with a properties file","body":"<p>If your <strong>log4j.properties</strong> location is like <em>path/to/configfiles/log4j.properties</em>.\nThen simply use,</p>\n<pre><code>PropertyConfigurator.configure(&quot;path/to/configfiles/log4j.properties&quot;);\n</code></pre>\n<p>Also, if the path is <em>src/main/resources/log4j.properties</em> then even this code is not required since it is the default location.</p>\n"}],"owner":{"account_id":186,"reputation":29159,"user_id":230,"accept_rate":54,"display_name":"Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148107,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":10,"score":28,"last_activity_date":1665556109,"creation_date":1266499798,"question_id":2288876,"body_markdown":"How do I get log4j to pick up a properties file.\r\n\r\nI&#39;m writing a Java desktop app which I want to use log4j. In my main method if have this:\r\n\r\n       PropertyConfigurator.configure(&quot;log4j.properties&quot;);\r\n\r\nThe log4j.properties file sits in the same directory when I open the Jar.\r\n\r\nYet I get this error:\r\n\r\n&gt; log4j:ERROR Could not read\r\n&gt; configuration file [log4j.properties].\r\n&gt; java.io.FileNotFoundException:\r\n&gt; log4j.properties (The system cannot\r\n&gt; find the file specified)\r\n\r\nWhat am I doing wrong? ","title":"How to configure log4j with a properties file","body":"<p>How do I get log4j to pick up a properties file.</p>\n\n<p>I'm writing a Java desktop app which I want to use log4j. In my main method if have this:</p>\n\n<pre><code>   PropertyConfigurator.configure(\"log4j.properties\");\n</code></pre>\n\n<p>The log4j.properties file sits in the same directory when I open the Jar.</p>\n\n<p>Yet I get this error:</p>\n\n<blockquote>\n  <p>log4j:ERROR Could not read\n  configuration file [log4j.properties].\n  java.io.FileNotFoundException:\n  log4j.properties (The system cannot\n  find the file specified)</p>\n</blockquote>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315498583,"creation_date":1315498255,"answer_id":7351200,"question_id":7351073,"body_markdown":"No, synchronizing this way only means you are locking on the array object, not that you are actually synchronizing access to its methods. If your array is visible to others, they may still access/modify its contents regardless of whether or not it is being locked on. Only they can&#39;t lock on it at the same time - if they attempt to (from a different thread), they will be blocked until the lock is released by its original acquirer.\r\n\r\nIf you want to ensure that only one thread is accessing your array (or one element of it) at a time, you need to encapsulate it in a class and synchronize all public class methods which manipulate the array. (You may lock on the array for this purpose, though, if you want to - the simpler and usual approach is to declare the methods themselves as `synchronized`, in which case their content is synchronized on `this`, the enclosing object).\r\n\r\n    class ArrayWrapper {\r\n      private int[] array = ...;\r\n    \r\n      public void setValue(int index, int value) {\r\n        synchronized (array) {\r\n          array[index] = value;\r\n        }\r\n      }\r\n\r\n      public int getValue(int index) {\r\n        synchronized (array) {\r\n          return array[index];\r\n        }\r\n      }\r\n\r\n      ...\r\n    }\r\n\r\n","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>No, synchronizing this way only means you are locking on the array object, not that you are actually synchronizing access to its methods. If your array is visible to others, they may still access/modify its contents regardless of whether or not it is being locked on. Only they can't lock on it at the same time - if they attempt to (from a different thread), they will be blocked until the lock is released by its original acquirer.</p>\n\n<p>If you want to ensure that only one thread is accessing your array (or one element of it) at a time, you need to encapsulate it in a class and synchronize all public class methods which manipulate the array. (You may lock on the array for this purpose, though, if you want to - the simpler and usual approach is to declare the methods themselves as <code>synchronized</code>, in which case their content is synchronized on <code>this</code>, the enclosing object).</p>\n\n<pre><code>class ArrayWrapper {\n  private int[] array = ...;\n\n  public void setValue(int index, int value) {\n    synchronized (array) {\n      array[index] = value;\n    }\n  }\n\n  public int getValue(int index) {\n    synchronized (array) {\n      return array[index];\n    }\n  }\n\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315498573,"creation_date":1315498573,"answer_id":7351262,"question_id":7351073,"body_markdown":"The `synchronized`keyword only works with Objects.\r\n\r\nSynchronizing on the array only locks on the array (in Java an array is an object). \r\n\r\nIf you synchronize on some array individual element, suppousing they are objects and not primitives, that is another different lock. You can have one without the other, and the inverse is also true. You can&#180;t synchronize on a primitive.\r\n\r\nIf you need to prevent concurrent modification of the array, synchronize on some object in **every** access to the array. You can use whichever object you want for this purpose, but it has to be the same for the thing to work. Note that if you access a shared resource with synchronize and in other parts of the code you access without synchronized or synchronizing on other object, then that is useful for nothing.","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>The <code>synchronized</code>keyword only works with Objects.</p>\n\n<p>Synchronizing on the array only locks on the array (in Java an array is an object). </p>\n\n<p>If you synchronize on some array individual element, suppousing they are objects and not primitives, that is another different lock. You can have one without the other, and the inverse is also true. You can´t synchronize on a primitive.</p>\n\n<p>If you need to prevent concurrent modification of the array, synchronize on some object in <strong>every</strong> access to the array. You can use whichever object you want for this purpose, but it has to be the same for the thing to work. Note that if you access a shared resource with synchronize and in other parts of the code you access without synchronized or synchronizing on other object, then that is useful for nothing.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1473241528,"creation_date":1315498616,"answer_id":7351268,"question_id":7351073,"body_markdown":"Yes, you can synchronize using an array as monitor object, because arrays (even arrays of primitives) are objects in Java.\r\n\r\nYou can synchronize a block of code on a specific monitor like this:\r\n\r\n    public void myMethod() {\r\n\r\n        unsynchronized_statements...\r\n\r\n        synchronized(myMonitorObject) {\r\n            synchronized_statments...\r\n        }\r\n\r\nIt is best practice to synchronize as few lines of code as possible.\r\n\r\nSynchronizing code on a monitor does not affect the monitor in any way, it only affects the threads accessing the synchronized block of code. Before thread execution can enter the block of code, it must obtain &#39;the lock&#39; on the monitor. The Java runtime ensures that at most one thread at a time can have &#39;the lock&#39; on a monitor. **So synchronizing on your array does not prohibit unsynchronized blocks of code to access it!** The trick is to make sure that all the operations you don&#39;t want to happen at the same time are within blocks synchronized on the same monitor.\r\n\r\nSince Java does not offer multi-dimensional arrays, only arrays-of-arrays, you can certainly synchronize on a nested array for more fine-grained synchronization. If you model a 2d array as an array of rows, you can only synchronize on rows, not on columns because in that example columns are not represented as separate arrays. \r\n\r\nYou can only synchronize on single array values if these are non-primitve, so Integer() instead of int. Note that Integer() is an immutable object, so you would not be able to change its value. A solution would be to create your own Cell() wrapper object with a getter and setter for the contained numeric value. This would allow you to let a thread get a lock on the Cell and safely change its value.\r\n\r\nBecause it&#39;s my day off I decided to have some fun and created a working example of what you describe. Yes, this is my idea of having fun.\r\n\r\nClasses:\r\n\r\n - [Matrix][1] : representation of a 2d matrix of cells\r\n - [Cell][2] : wrapper for a matrix cell value\r\n - [Operation][4] : An abstract operation on an array of Cells \r\n - [IncrementOperation][5] : an Operation which increments each Cell value\r\n - [ReverseOperation][6] : an Operation which reverses the order of the cells\r\n -  [Main][3] : the application \r\n\r\nThe application starts multiple operations on the same matrix. The only synchronized block of code is in the class Operation. If you remove the synchronization, the results will be wrong because two operations are manipulating the same row simultaneously.\r\n\r\nOutput when synchronized:\r\n\r\n    [105, 104, 103, 102, 101]\r\n    [110, 109, 108, 107, 106]\r\n    [115, 114, 113, 112, 111]\r\n    [120, 119, 118, 117, 116]\r\n    [125, 124, 123, 122, 121]\r\n    [130, 129, 128, 127, 126]\r\n    [135, 134, 133, 132, 131]\r\n    [140, 139, 138, 137, 136]\r\n    [145, 144, 143, 142, 141]\r\n    [150, 149, 148, 147, 146]\r\n\r\nExample output when NOT synchronized:\r\n\r\n    [105, 4, 103, 102, 101]\r\n    [110, 9, 108, 207, 106]\r\n    [115, 14, 113, 212, 111]\r\n    [120, 19, 118, 217, 116]\r\n    [125, 124, 123, 122, 121]\r\n    [130, 129, 128, 127, 126]\r\n    [135, 34, 133, 232, 131]\r\n    [140, 139, 138, 137, 136]\r\n    [145, 144, 143, 142, 141]\r\n    [150, 149, 148, 147, 146]\r\n\r\nNote that I added some Thread.sleep() statements in the operation implementations to make the difference between synchronized and unsynchronized execution more obvious.\r\n\r\n  [1]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Matrix.java\r\n  [2]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Cell.java\r\n  [3]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Main.java\r\n  [4]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Operation.java\r\n  [5]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/IncrementOperation.java\r\n  [6]: https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/ReverseOperation.java","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>Yes, you can synchronize using an array as monitor object, because arrays (even arrays of primitives) are objects in Java.</p>\n\n<p>You can synchronize a block of code on a specific monitor like this:</p>\n\n<pre><code>public void myMethod() {\n\n    unsynchronized_statements...\n\n    synchronized(myMonitorObject) {\n        synchronized_statments...\n    }\n</code></pre>\n\n<p>It is best practice to synchronize as few lines of code as possible.</p>\n\n<p>Synchronizing code on a monitor does not affect the monitor in any way, it only affects the threads accessing the synchronized block of code. Before thread execution can enter the block of code, it must obtain 'the lock' on the monitor. The Java runtime ensures that at most one thread at a time can have 'the lock' on a monitor. <strong>So synchronizing on your array does not prohibit unsynchronized blocks of code to access it!</strong> The trick is to make sure that all the operations you don't want to happen at the same time are within blocks synchronized on the same monitor.</p>\n\n<p>Since Java does not offer multi-dimensional arrays, only arrays-of-arrays, you can certainly synchronize on a nested array for more fine-grained synchronization. If you model a 2d array as an array of rows, you can only synchronize on rows, not on columns because in that example columns are not represented as separate arrays. </p>\n\n<p>You can only synchronize on single array values if these are non-primitve, so Integer() instead of int. Note that Integer() is an immutable object, so you would not be able to change its value. A solution would be to create your own Cell() wrapper object with a getter and setter for the contained numeric value. This would allow you to let a thread get a lock on the Cell and safely change its value.</p>\n\n<p>Because it's my day off I decided to have some fun and created a working example of what you describe. Yes, this is my idea of having fun.</p>\n\n<p>Classes:</p>\n\n<ul>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Matrix.java\" rel=\"noreferrer\">Matrix</a> : representation of a 2d matrix of cells</li>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Cell.java\" rel=\"noreferrer\">Cell</a> : wrapper for a matrix cell value</li>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Operation.java\" rel=\"noreferrer\">Operation</a> : An abstract operation on an array of Cells </li>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/IncrementOperation.java\" rel=\"noreferrer\">IncrementOperation</a> : an Operation which increments each Cell value</li>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/ReverseOperation.java\" rel=\"noreferrer\">ReverseOperation</a> : an Operation which reverses the order of the cells</li>\n<li><a href=\"https://github.com/akoster/x-converter/blob/master/src/main/java/xcon/stackoverflow/matrix/Main.java\" rel=\"noreferrer\">Main</a> : the application </li>\n</ul>\n\n<p>The application starts multiple operations on the same matrix. The only synchronized block of code is in the class Operation. If you remove the synchronization, the results will be wrong because two operations are manipulating the same row simultaneously.</p>\n\n<p>Output when synchronized:</p>\n\n<pre><code>[105, 104, 103, 102, 101]\n[110, 109, 108, 107, 106]\n[115, 114, 113, 112, 111]\n[120, 119, 118, 117, 116]\n[125, 124, 123, 122, 121]\n[130, 129, 128, 127, 126]\n[135, 134, 133, 132, 131]\n[140, 139, 138, 137, 136]\n[145, 144, 143, 142, 141]\n[150, 149, 148, 147, 146]\n</code></pre>\n\n<p>Example output when NOT synchronized:</p>\n\n<pre><code>[105, 4, 103, 102, 101]\n[110, 9, 108, 207, 106]\n[115, 14, 113, 212, 111]\n[120, 19, 118, 217, 116]\n[125, 124, 123, 122, 121]\n[130, 129, 128, 127, 126]\n[135, 34, 133, 232, 131]\n[140, 139, 138, 137, 136]\n[145, 144, 143, 142, 141]\n[150, 149, 148, 147, 146]\n</code></pre>\n\n<p>Note that I added some Thread.sleep() statements in the operation implementations to make the difference between synchronized and unsynchronized execution more obvious.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315500950,"creation_date":1315500950,"answer_id":7351728,"question_id":7351073,"body_markdown":"When you synchronise an Object or array, you are preventing another thread from synchronising than same object.  This doesn&#39;t prevent you from using the object and no other operation is &quot;locked&quot; You have to ensure you locked the object first in a consistent manner for it to &quot;lock&quot; the object.","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>When you synchronise an Object or array, you are preventing another thread from synchronising than same object.  This doesn't prevent you from using the object and no other operation is \"locked\" You have to ensure you locked the object first in a consistent manner for it to \"lock\" the object.</p>\n"},{"tags":[],"owner":{"account_id":15519434,"reputation":1,"user_id":11196024,"display_name":"Anil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665556034,"creation_date":1665556034,"answer_id":74037341,"question_id":7351073,"body_markdown":"in my opinon , using arrays for synchronization is not good incase the array is  not fixed . i mean if array is cloned , then it creates a new object ,then it is possible that , the data in consistency /conflict can happe.  \r\nfor example, we have two methods add() - add element into array and remove() remove element from array , while addiing element, if array capacity increased to accomidate new value, at the same time, if remove is using lock on new array object , though your add is not finished. that makes some data inconsistency. ","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>in my opinon , using arrays for synchronization is not good incase the array is  not fixed . i mean if array is cloned , then it creates a new object ,then it is possible that , the data in consistency /conflict can happe.<br />\nfor example, we have two methods add() - add element into array and remove() remove element from array , while addiing element, if array capacity increased to accomidate new value, at the same time, if remove is using lock on new array object , though your add is not finished. that makes some data inconsistency.</p>\n"}],"owner":{"account_id":898466,"reputation":123,"user_id":935235,"display_name":"James Street"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28276,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7351268,"answer_count":5,"score":12,"last_activity_date":1665556034,"creation_date":1315497689,"question_id":7351073,"body_markdown":"I had a 2x2 array that I had two threads operating on.\r\n\r\nit is possible to use a synchronized statement in java on an array?\r\n\r\nhow does the locking work? the java tutorial thread said that the synchronized statement works on objects, so I wasn&#39;t sure what they meant. Another site said that I could make a statement like\r\n\r\n    synchronized (array1[]){\r\n    \r\n    }\r\n\r\nDoes this synchronize accesses to everything in the array so that the array is locked to other threads?\r\n\r\nif I have a two-d Array can i use\r\n\r\n`synchronized (array1[i])` to lock one of the rows of the array?\r\n\r\nand is it possible to lock individual array values\r\nwith something like\r\n\r\n    synchronized (array1[i][j]){\r\n    \r\n    }\r\n\r\nBut yeah, tips or help are greatly appreciated. Actually I already turned it in, correct or not. But I want to know for future use","title":"Java: how to synchronize array accesses and what are the limitations on what goes in a synchronized condition","body":"<p>I had a 2x2 array that I had two threads operating on.</p>\n\n<p>it is possible to use a synchronized statement in java on an array?</p>\n\n<p>how does the locking work? the java tutorial thread said that the synchronized statement works on objects, so I wasn't sure what they meant. Another site said that I could make a statement like</p>\n\n<pre><code>synchronized (array1[]){\n\n}\n</code></pre>\n\n<p>Does this synchronize accesses to everything in the array so that the array is locked to other threads?</p>\n\n<p>if I have a two-d Array can i use</p>\n\n<p><code>synchronized (array1[i])</code> to lock one of the rows of the array?</p>\n\n<p>and is it possible to lock individual array values\nwith something like</p>\n\n<pre><code>synchronized (array1[i][j]){\n\n}\n</code></pre>\n\n<p>But yeah, tips or help are greatly appreciated. Actually I already turned it in, correct or not. But I want to know for future use</p>\n"},{"tags":["java","java-8","stringbuilder","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":6,"creation_date":1665550651,"post_id":74036570,"comment_id":130724101,"body_markdown":"Please read a basic Java tutorial. Statements need to go inside methods or initialisers.","body":"Please read a basic Java tutorial. Statements need to go inside methods or initialisers."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665551552,"post_id":74036570,"comment_id":130724262,"body_markdown":"Because Java doesn&#39;t let you put code there in general.","body":"Because Java doesn&#39;t let you put code there in general."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1665557262,"post_id":74036570,"comment_id":130725527,"body_markdown":"You could place the statement into an initializer block, i.e. `static { sb1.append(&quot; world!&quot;); }`, to be executed after the initialization of the `sb1` variable. But why? What’s the purpose of the obsolete string concatenation? And, by the way, don’t use the legacy array syntax. A string array variable should be declared as `String[] arg`.","body":"You could place the statement into an initializer block, i.e. <code>static { sb1.append(&quot; world!&quot;); }</code>, to be executed after the initialization of the <code>sb1</code> variable. But why? What’s the purpose of the obsolete string concatenation? And, by the way, don’t use the legacy array syntax. A string array variable should be declared as <code>String[] arg</code>."}],"answers":[{"tags":[],"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665555525,"creation_date":1665555525,"answer_id":74037259,"question_id":74036570,"body_markdown":"Basically you should have a public classes with inherited methods and variables. You can use the StringBuilder constructor in your main method, in which the code execution occurs and print the result.\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String args[]){\r\n            \r\n            StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\r\n            System.out.println(sb1);\r\n        }\r\n    }\r\n\r\nOr you can implement your StringBuilder in a separate method (in this case: `build()`) and execute this method in your main method and print the returned value inside the `System.out.println()` function. The function build() (you can insert any name you want), returns a `StringBuilder` Object to your main method.\r\n\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String args[]){\r\n            \r\n            System.out.println(build());\r\n        }\r\n        \r\n        public static StringBuilder build(){\r\n            \r\n            StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\r\n            return sb1;\r\n        } }\r\n\r\nThird option: You use the StringBuilder constructor in a static block:\r\n\r\n    public class Test {\r\n        \r\n        static {\r\n            StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\r\n            System.out.println(sb1);\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n        }\r\n    }\r\n\r\nhttps://www.javatpoint.com/java-main-method","title":"Unable to use Java StringBuilder. append () as a global variable","body":"<p>Basically you should have a public classes with inherited methods and variables. You can use the StringBuilder constructor in your main method, in which the code execution occurs and print the result.</p>\n<pre><code>public class Test {\n\n    public static void main(String args[]){\n        \n        StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\n        System.out.println(sb1);\n    }\n}\n</code></pre>\n<p>Or you can implement your StringBuilder in a separate method (in this case: <code>build()</code>) and execute this method in your main method and print the returned value inside the <code>System.out.println()</code> function. The function build() (you can insert any name you want), returns a <code>StringBuilder</code> Object to your main method.</p>\n<pre><code>public class Test {\n\n    public static void main(String args[]){\n        \n        System.out.println(build());\n    }\n    \n    public static StringBuilder build(){\n        \n        StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\n        return sb1;\n    } }\n</code></pre>\n<p>Third option: You use the StringBuilder constructor in a static block:</p>\n<pre><code>public class Test {\n    \n    static {\n        StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\n        System.out.println(sb1);\n    }\n\n    public static void main(String args[]){\n    }\n}\n</code></pre>\n<p><a href=\"https://www.javatpoint.com/java-main-method\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-main-method</a></p>\n"}],"owner":{"account_id":22579290,"reputation":13,"user_id":16764185,"display_name":"Ravindranadh Inavolu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1665563139,"accepted_answer_id":74037259,"answer_count":1,"score":-2,"last_activity_date":1665555525,"creation_date":1665549627,"question_id":74036570,"body_markdown":"A StringBuilder declaration as a global variable\r\n\r\n    public class Test {\r\n    \r\n        public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;);\r\n        public static void main(String args[]){}\r\n    }\r\n\r\nI&#39;m using Intellij IDE. After declaration if I try to use \r\n\r\n\r\n    public class Test {\r\n    \r\n        public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;);\r\n        sb1.append(&quot; world!&quot;);\r\n        public static void main(String args[]){}\r\n    }\r\n\r\nIDE suggests. append() is not available. Appending inside a method or at declaration level it works. Whereas appending after declaration is not working\r\n\r\n    public class Test {\r\n    \r\n        public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\r\n        public static void main(String args[]){}\r\n    }\r\n\r\n\r\n\r\nJust wanted to know why it is not working after declaration at global level. Can anyone help me with this\r\n","title":"Unable to use Java StringBuilder. append () as a global variable","body":"<p>A StringBuilder declaration as a global variable</p>\n<pre><code>public class Test {\n\n    public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;);\n    public static void main(String args[]){}\n}\n</code></pre>\n<p>I'm using Intellij IDE. After declaration if I try to use</p>\n<pre><code>public class Test {\n\n    public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;);\n    sb1.append(&quot; world!&quot;);\n    public static void main(String args[]){}\n}\n</code></pre>\n<p>IDE suggests. append() is not available. Appending inside a method or at declaration level it works. Whereas appending after declaration is not working</p>\n<pre><code>public class Test {\n\n    public static StringBuilder sb1=new StringBuilder(&quot;Hello&quot;).append(&quot; World!&quot;);\n    public static void main(String args[]){}\n}\n</code></pre>\n<p>Just wanted to know why it is not working after declaration at global level. Can anyone help me with this</p>\n"},{"tags":["java","object"],"answers":[{"tags":[],"owner":{"account_id":26576867,"reputation":100,"user_id":20202080,"display_name":"Master4You"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665554554,"creation_date":1665554554,"answer_id":74037122,"question_id":74037094,"body_markdown":"Static variables can be used without instantiating an object. You can access these without calling class constructor. Instance variables are accessed globally within the class and if you want to use them they have to be public and you must create new object by calling constructor","title":"Instance vs Static Variable Java BIG CONFUSION","body":"<p>Static variables can be used without instantiating an object. You can access these without calling class constructor. Instance variables are accessed globally within the class and if you want to use them they have to be public and you must create new object by calling constructor</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665554948,"creation_date":1665554592,"answer_id":74037127,"question_id":74037094,"body_markdown":"&gt; &quot;if we declare the instance variable&quot;\r\n\r\n... then it still is an instance variable even if you don&#39;t change it in the constructor. As the name says instance variables are for an instance only, i.e. each instance has its own copy which may have the same value. A static or global variable is only one copy that all instances have access to.\r\n\r\nLet me make a real world example: \r\n\r\nSeveral people (instances) are in a room and want to get the news.\r\n\r\nInstance variables: everyone gets a newspaper and may chose to read it at their own pace or not at all.\r\n\r\nStatic variable: a TV in the room. Everyone gets the same channel so if anyone switches the channel all others will be affected too.\r\n\r\n&gt; ... and dont touch it in the constructor\r\n\r\nWhether you update a variable in the constructor or not doesn&#39;t make a variable an instance variable or a global one. It&#39;s how they are declared. \r\n\r\nNote that you could have instance variables that are changed by other methods only which is perfectly fine in many designs.\r\n\r\nAlso note that you could change a global variable in a constructor too albeit that wouldn&#39;t make much sense in many cases - but there are valid cases.","title":"Instance vs Static Variable Java BIG CONFUSION","body":"<blockquote>\n<p>&quot;if we declare the instance variable&quot;</p>\n</blockquote>\n<p>... then it still is an instance variable even if you don't change it in the constructor. As the name says instance variables are for an instance only, i.e. each instance has its own copy which may have the same value. A static or global variable is only one copy that all instances have access to.</p>\n<p>Let me make a real world example:</p>\n<p>Several people (instances) are in a room and want to get the news.</p>\n<p>Instance variables: everyone gets a newspaper and may chose to read it at their own pace or not at all.</p>\n<p>Static variable: a TV in the room. Everyone gets the same channel so if anyone switches the channel all others will be affected too.</p>\n<blockquote>\n<p>... and dont touch it in the constructor</p>\n</blockquote>\n<p>Whether you update a variable in the constructor or not doesn't make a variable an instance variable or a global one. It's how they are declared.</p>\n<p>Note that you could have instance variables that are changed by other methods only which is perfectly fine in many designs.</p>\n<p>Also note that you could change a global variable in a constructor too albeit that wouldn't make much sense in many cases - but there are valid cases.</p>\n"}],"owner":{"account_id":25000463,"reputation":7,"user_id":18860925,"display_name":"zzzzzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665554948,"creation_date":1665554329,"question_id":74037094,"body_markdown":"I know for a fact that static variable is used for all instances of the object whereas the instance variable is used specifically for each instance.\r\n\r\nHowever, what if we declare the instance variable in the beginning and dont touch it in the constructor ? It will act exactly as a static variable right ? \r\n\r\nSo why bother using both of those ? I&#39;m so confused.","title":"Instance vs Static Variable Java BIG CONFUSION","body":"<p>I know for a fact that static variable is used for all instances of the object whereas the instance variable is used specifically for each instance.</p>\n<p>However, what if we declare the instance variable in the beginning and dont touch it in the constructor ? It will act exactly as a static variable right ?</p>\n<p>So why bother using both of those ? I'm so confused.</p>\n"},{"tags":["java","spring","security","sql-injection","checkmarx"],"comments":[{"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1665388387,"post_id":74011508,"comment_id":130679870,"body_markdown":"This code is already protected. Either that &quot;checkmarx&quot; thingy gave you false positives or there is another code which is vulnerable. The latter must be rewritten the same way as this code is written, using parameters","body":"This code is already protected. Either that &quot;checkmarx&quot; thingy gave you false positives or there is another code which is vulnerable. The latter must be rewritten the same way as this code is written, using parameters"},{"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1665388537,"post_id":74011508,"comment_id":130679917,"body_markdown":"Does this answer your question? [Avoid SQL Injection in Spring JPA](https://stackoverflow.com/questions/63997976/avoid-sql-injection-in-spring-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63997976/avoid-sql-injection-in-spring-jpa\">Avoid SQL Injection in Spring JPA</a>"}],"owner":{"account_id":26577416,"reputation":1,"user_id":20202554,"display_name":"Steven Zhou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665554755,"creation_date":1665387232,"question_id":74011508,"body_markdown":"The SQL_Injection and Second_Order_SQL_Injection vulnerability appears in the source code of the project using the spring data jpa framework, scanned with **checkmarx**\r\n\r\nWhat do I do with them? do you have any suggestions, thanks\r\n\r\n1. An injection vulnerability has been detected in &quot;password&quot;\r\n```\r\npublic interface AccRepository extends BaseRepository&lt;Acc, String&gt; {\r\n    @Query(value = &quot;SELECT * FROM acc WHERE username = ?1 and password = ?2&quot;,nativeQuery = true)\r\n    Acc selectAcc(String username, String password);\r\n}\r\n```\r\n\r\n\r\n","title":"How to handle SQL_Injection and Second_Order_SQL_Injection vulnerabilities scanned by checkmarx?","body":"<p>The SQL_Injection and Second_Order_SQL_Injection vulnerability appears in the source code of the project using the spring data jpa framework, scanned with <strong>checkmarx</strong></p>\n<p>What do I do with them? do you have any suggestions, thanks</p>\n<ol>\n<li>An injection vulnerability has been detected in &quot;password&quot;</li>\n</ol>\n<pre><code>public interface AccRepository extends BaseRepository&lt;Acc, String&gt; {\n    @Query(value = &quot;SELECT * FROM acc WHERE username = ?1 and password = ?2&quot;,nativeQuery = true)\n    Acc selectAcc(String username, String password);\n}\n</code></pre>\n"},{"tags":["java","android","xml","game-development"],"answers":[{"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665554591,"creation_date":1665554591,"answer_id":74037126,"question_id":74010262,"body_markdown":"Instead of having a lot of drawable xml selectors you can create one custom ImageButton and create programmatically all the button states using the [StateListDrawable][1]. Example will be like the below:\r\n\r\nFirst create your CustomButton which extends from `AppCompatImageButton` like the below:\r\n\r\n    public class CustomButton extends androidx.appcompat.widget.AppCompatImageButton {\r\n    \r\n        public CustomButton(@NonNull Context context) {\r\n            super(context);\r\n            init(context, null, 0);\r\n        }\r\n    \r\n        public CustomButton(@NonNull Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init(context, attrs, 0);\r\n        }\r\n    \r\n        public CustomButton(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init(context, attrs, defStyleAttr);\r\n        }\r\n    \r\n        private void init(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr){\r\n    \r\n            TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.CustomButton, defStyleAttr, 0);\r\n            try {\r\n                int defaultDrawableResId = typedArray.getResourceId(R.styleable.CustomButton_drawable_default, -1);\r\n                int pressedDrawableResId = typedArray.getResourceId(R.styleable.CustomButton_drawable_pressed, -1);\r\n    \r\n                StateListDrawable stateListDrawable = new StateListDrawable();\r\n                if(pressedDrawableResId!=-1) {\r\n                    stateListDrawable.addState(new int[]{android.R.attr.state_pressed}, ContextCompat.getDrawable(context, pressedDrawableResId));\r\n                }\r\n                if(defaultDrawableResId!=-1) {\r\n                    stateListDrawable.addState(new int[]{}, ContextCompat.getDrawable(context, defaultDrawableResId));\r\n                }\r\n                setBackground(stateListDrawable);\r\n            }\r\n            catch (Exception e){\r\n                Log.e(&quot;CustomButton&quot;, e.getMessage());\r\n            }\r\n            finally {\r\n                typedArray.recycle();\r\n            }\r\n        }\r\n    }\r\n\r\nDeclare the CustomButton styleable under the `res&gt;values&gt;attrs.xml` like the below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;declare-styleable name=&quot;CustomButton&quot;&gt;\r\n            &lt;attr name=&quot;drawable_default&quot; format=&quot;reference&quot; /&gt;\r\n            &lt;attr name=&quot;drawable_pressed&quot; format=&quot;reference&quot; /&gt;\r\n        &lt;/declare-styleable&gt;\r\n    &lt;/resources&gt;\r\n\r\nAnd then use this CustomButton in every layout needed by adding only the two states drawables (pressed|default) `app:drawable_default` and `app:drawable_pressed` like the below example layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.my.packagename.CustomButton\r\n            android:layout_width=&quot;80dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            app:drawable_default=&quot;@drawable/settings&quot;\r\n            app:drawable_pressed=&quot;@drawable/settings1&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nThis will eliminate all your xml drawable selectors and gives you also the ability to reuse any UI and any logic used inside the CustomButton. \r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/drawable/StateListDrawable","title":"CustomButton on Android dev","body":"<p>Instead of having a lot of drawable xml selectors you can create one custom ImageButton and create programmatically all the button states using the <a href=\"https://developer.android.com/reference/android/graphics/drawable/StateListDrawable\" rel=\"nofollow noreferrer\">StateListDrawable</a>. Example will be like the below:</p>\n<p>First create your CustomButton which extends from <code>AppCompatImageButton</code> like the below:</p>\n<pre><code>public class CustomButton extends androidx.appcompat.widget.AppCompatImageButton {\n\n    public CustomButton(@NonNull Context context) {\n        super(context);\n        init(context, null, 0);\n    }\n\n    public CustomButton(@NonNull Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs, 0);\n    }\n\n    public CustomButton(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context, attrs, defStyleAttr);\n    }\n\n    private void init(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr){\n\n        TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.CustomButton, defStyleAttr, 0);\n        try {\n            int defaultDrawableResId = typedArray.getResourceId(R.styleable.CustomButton_drawable_default, -1);\n            int pressedDrawableResId = typedArray.getResourceId(R.styleable.CustomButton_drawable_pressed, -1);\n\n            StateListDrawable stateListDrawable = new StateListDrawable();\n            if(pressedDrawableResId!=-1) {\n                stateListDrawable.addState(new int[]{android.R.attr.state_pressed}, ContextCompat.getDrawable(context, pressedDrawableResId));\n            }\n            if(defaultDrawableResId!=-1) {\n                stateListDrawable.addState(new int[]{}, ContextCompat.getDrawable(context, defaultDrawableResId));\n            }\n            setBackground(stateListDrawable);\n        }\n        catch (Exception e){\n            Log.e(&quot;CustomButton&quot;, e.getMessage());\n        }\n        finally {\n            typedArray.recycle();\n        }\n    }\n}\n</code></pre>\n<p>Declare the CustomButton styleable under the <code>res&gt;values&gt;attrs.xml</code> like the below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;declare-styleable name=&quot;CustomButton&quot;&gt;\n        &lt;attr name=&quot;drawable_default&quot; format=&quot;reference&quot; /&gt;\n        &lt;attr name=&quot;drawable_pressed&quot; format=&quot;reference&quot; /&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>And then use this CustomButton in every layout needed by adding only the two states drawables (pressed|default) <code>app:drawable_default</code> and <code>app:drawable_pressed</code> like the below example layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.my.packagename.CustomButton\n        android:layout_width=&quot;80dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        app:drawable_default=&quot;@drawable/settings&quot;\n        app:drawable_pressed=&quot;@drawable/settings1&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This will eliminate all your xml drawable selectors and gives you also the ability to reuse any UI and any logic used inside the CustomButton.</p>\n"}],"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74037126,"answer_count":1,"score":1,"last_activity_date":1665554591,"creation_date":1665376767,"question_id":74010262,"body_markdown":"I have been working on my game and I have tons of image buttons I would like to have some advice from you guys is there an alternative way to simplices button states since I would like to have that functionality where the appearance of buttons changes when user press it\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:state_pressed=&quot;true&quot;\r\n        android:drawable=&quot;@drawable/setting1&quot;\r\n        /&gt;\r\n    &lt;item\r\n        android:drawable=&quot;@drawable/setting&quot;\r\n        /&gt;\r\n    &lt;/selector&gt;\r\njust like this right now I have a lot of this in my project and hope there would be an alternative way\r\n[my polluted drawable folder][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uMzAM.png","title":"CustomButton on Android dev","body":"<p>I have been working on my game and I have tons of image buttons I would like to have some advice from you guys is there an alternative way to simplices button states since I would like to have that functionality where the appearance of buttons changes when user press it</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item\n    android:state_pressed=&quot;true&quot;\n    android:drawable=&quot;@drawable/setting1&quot;\n    /&gt;\n&lt;item\n    android:drawable=&quot;@drawable/setting&quot;\n    /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>just like this right now I have a lot of this in my project and hope there would be an alternative way\n<a href=\"https://i.stack.imgur.com/uMzAM.png\" rel=\"nofollow noreferrer\">my polluted drawable folder</a></p>\n"},{"tags":["java","spring-data-jpa","specifications"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664887547,"post_id":73947993,"comment_id":130568787,"body_markdown":"You shouldn&#39;t sort using `Specification`. You should call `orderBy` from code that create them. Can you show code that use `orderByCreationDate`","body":"You shouldn&#39;t sort using <code>Specification</code>. You should call <code>orderBy</code> from code that create them. Can you show code that use <code>orderByCreationDate</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664887686,"post_id":73947993,"comment_id":130568838,"body_markdown":"Thats not really a predicate now is it? Assuming you are using Spring Data JPA (judging from the tag and specification) you are also using the `JpaSpecificationExecutor`. What you should do is use the `findAll(Specification, Pageable)` method and pass the sort/ordering through the `Pageable` instead of a specification.","body":"Thats not really a predicate now is it? Assuming you are using Spring Data JPA (judging from the tag and specification) you are also using the <code>JpaSpecificationExecutor</code>. What you should do is use the <code>findAll(Specification, Pageable)</code> method and pass the sort/ordering through the <code>Pageable</code> instead of a specification."},{"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"score":0,"creation_date":1664889010,"post_id":73947993,"comment_id":130569320,"body_markdown":"Just updated by putting the whole call chain.","body":"Just updated by putting the whole call chain."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664887541,"creation_date":1664887541,"answer_id":73948063,"question_id":73947993,"body_markdown":"`null` should be fine and usually works. If you want to be explicit, [`return criteriaBuilder.conjunction()`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#conjunction--) for something that&#39;s always true – similarly [`disjunction()`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#disjunction--) for something that&#39;s always false.\r\n\r\n&gt; ##### `Predicate conjunction()`\r\n&gt;\r\n&gt; Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.\r\n&gt;\r\n&gt; ##### `Predicate disjunction()`\r\n&gt;\r\n&gt; Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.\r\n","title":"Use orderBy when chaining multiple Specifications","body":"<p><code>null</code> should be fine and usually works. If you want to be explicit, <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#conjunction--\" rel=\"nofollow noreferrer\"><code>return criteriaBuilder.conjunction()</code></a> for something that's always true – similarly <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#disjunction--\" rel=\"nofollow noreferrer\"><code>disjunction()</code></a> for something that's always false.</p>\n<blockquote>\n<h5><code>Predicate conjunction()</code></h5>\n<p>Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.</p>\n<h5><code>Predicate disjunction()</code></h5>\n<p>Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665554559,"creation_date":1665554559,"answer_id":74037123,"question_id":73947993,"body_markdown":"As far as I understand, you have made methods for each parameters,\r\nnow you just need to combine them, I have some similar part of code like below\r\n\r\nExplanation: code checks if null then return true else required specification.\r\n```\r\npublic static Specification&lt;Post&gt; byAuthorNames(String[] authorNames) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            if (authorNames == null || authorNames.length == 0) {\r\n                return criteriaBuilder.conjunction();\r\n            }\r\n            return root.&lt;String&gt;get(&quot;author&quot;).in(authorNames);\r\n        };\r\n    }\r\n```\r\n\r\nCombinining multiple specification:\r\n```\r\npublic Specification&lt;Post&gt; findByFilters(String search, String[] authorNames, String[] tagNames) {\r\n        return byPublished()\r\n                .and(bySearch(search))\r\n                .and(byAuthorNames(authorNames))\r\n                .and(byTagNames(tagNames));\r\n    }\r\n```","title":"Use orderBy when chaining multiple Specifications","body":"<p>As far as I understand, you have made methods for each parameters,\nnow you just need to combine them, I have some similar part of code like below</p>\n<p>Explanation: code checks if null then return true else required specification.</p>\n<pre><code>public static Specification&lt;Post&gt; byAuthorNames(String[] authorNames) {\n        return (root, query, criteriaBuilder) -&gt; {\n            if (authorNames == null || authorNames.length == 0) {\n                return criteriaBuilder.conjunction();\n            }\n            return root.&lt;String&gt;get(&quot;author&quot;).in(authorNames);\n        };\n    }\n</code></pre>\n<p>Combinining multiple specification:</p>\n<pre><code>public Specification&lt;Post&gt; findByFilters(String search, String[] authorNames, String[] tagNames) {\n        return byPublished()\n                .and(bySearch(search))\n                .and(byAuthorNames(authorNames))\n                .and(byTagNames(tagNames));\n    }\n</code></pre>\n"}],"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665554559,"creation_date":1664887137,"question_id":73947993,"body_markdown":"An [existing example][1] does not suit to my scenario, it checks the presence of a parameter to sort by. In my case I would just like to order by a column (`created_on`) in DESC order.\r\n\r\nSo, here is the definition of the specification I&#39;d like to call in the very end, after chaining &quot;-5 other ones:\r\n```java\r\n\r\npublic static Specification&lt;Event&gt; orderByCreationDate() {\r\n        return new Specification&lt;Event&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;Event&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n                query.orderBy(criteriaBuilder.desc(root.get(&quot;created_on&quot;)));\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n```\r\nThe shortened version using lambda looks like that:\r\n```java\r\n    public static Specification&lt;Event&gt; orderByCreationDate() {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            query.orderBy(criteriaBuilder.desc(root.get(&quot;created_on&quot;)));\r\n            return null;\r\n        };\r\n    }\r\n```\r\n\r\nHere is the full chained call of the specifications:\r\n```java\r\nPage&lt;Event&gt; eventsPage = historyLogRepository.findAllPaginated(\r\n                                    allEventsWithEventTypesByVaultId(vaultId)\r\n                                    .and(hasNoEventTypeVisibility()).or(hasEventTypeVisibility(visibilities))\r\n                                    .and(hasNoEventTypes()).or(hasEventTypes(types))\r\n                                    .and(creationDateBefore(before))\r\n                                    .and(creationDateAfter(after))\r\n                                    .and(hasNoDocumentId()).or(hasDocumentId(documentId))\r\n                                    .and(orderByCreationDate()),\r\n                                    pageable);\r\n\r\n       \r\n```\r\n\r\nThe idea is to replace this native query:\r\n```java\r\n@Query(value = &quot;SELECT * FROM event e &quot; +\r\n            &quot;INNER JOIN event_type et ON et.id = e.event_type_id &quot; +\r\n            &quot;WHERE e.vault_id = :vaultId AND &quot; +\r\n            &quot;(COALESCE(:visibilities) IS NULL OR et.visibility IN (:visibilities)) AND &quot; +\r\n            &quot;(COALESCE(:types) IS NULL OR et.name in (:types)) AND &quot; +\r\n            &quot;(:before IS NULL OR e.created_on &lt; :before) AND &quot; +\r\n            &quot;(:after IS NULL OR e.created_on &gt; :after) AND &quot; +\r\n            &quot;(:documentId IS NULL OR e.document_id = :documentId) &quot; +\r\n            &quot;ORDER BY e.created_on DESC LIMIT :limit&quot;, nativeQuery = true)\r\n    List&lt;Event&gt; findAll(@Param(&quot;vaultId&quot;) String vaultId,\r\n                        @Param(&quot;before&quot;) LocalDateTime before,\r\n                        @Param(&quot;after&quot;) LocalDateTime after,\r\n                        @Param(&quot;limit&quot;) Integer maxNumberOfResults,\r\n                        @Param(&quot;types&quot;) List&lt;String&gt; types,\r\n                        @Param(&quot;visibilities&quot;) List&lt;String&gt; visibilities,\r\n                        @Param(&quot;documentId&quot;) String documented);\r\n```\r\nwith the new one using Specifications:\r\n```java\r\n Page&lt;Event&gt; findAllPaginated(Specification&lt;Event&gt; specification, Pageable pageable);\r\n...\r\n```\r\n\r\n\r\nAny idea?\r\nWhat should I return from the `toPredicate`method in this case?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66615644/add-orderby-sorting-into-search-specification","title":"Use orderBy when chaining multiple Specifications","body":"<p>An <a href=\"https://stackoverflow.com/questions/66615644/add-orderby-sorting-into-search-specification\">existing example</a> does not suit to my scenario, it checks the presence of a parameter to sort by. In my case I would just like to order by a column (<code>created_on</code>) in DESC order.</p>\n<p>So, here is the definition of the specification I'd like to call in the very end, after chaining &quot;-5 other ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static Specification&lt;Event&gt; orderByCreationDate() {\n        return new Specification&lt;Event&gt;() {\n            @Override\n            public Predicate toPredicate(Root&lt;Event&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n                query.orderBy(criteriaBuilder.desc(root.get(&quot;created_on&quot;)));\n                return null;\n            }\n        };\n    }\n</code></pre>\n<p>The shortened version using lambda looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Specification&lt;Event&gt; orderByCreationDate() {\n        return (root, query, criteriaBuilder) -&gt; {\n            query.orderBy(criteriaBuilder.desc(root.get(&quot;created_on&quot;)));\n            return null;\n        };\n    }\n</code></pre>\n<p>Here is the full chained call of the specifications:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;Event&gt; eventsPage = historyLogRepository.findAllPaginated(\n                                    allEventsWithEventTypesByVaultId(vaultId)\n                                    .and(hasNoEventTypeVisibility()).or(hasEventTypeVisibility(visibilities))\n                                    .and(hasNoEventTypes()).or(hasEventTypes(types))\n                                    .and(creationDateBefore(before))\n                                    .and(creationDateAfter(after))\n                                    .and(hasNoDocumentId()).or(hasDocumentId(documentId))\n                                    .and(orderByCreationDate()),\n                                    pageable);\n\n       \n</code></pre>\n<p>The idea is to replace this native query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM event e &quot; +\n            &quot;INNER JOIN event_type et ON et.id = e.event_type_id &quot; +\n            &quot;WHERE e.vault_id = :vaultId AND &quot; +\n            &quot;(COALESCE(:visibilities) IS NULL OR et.visibility IN (:visibilities)) AND &quot; +\n            &quot;(COALESCE(:types) IS NULL OR et.name in (:types)) AND &quot; +\n            &quot;(:before IS NULL OR e.created_on &lt; :before) AND &quot; +\n            &quot;(:after IS NULL OR e.created_on &gt; :after) AND &quot; +\n            &quot;(:documentId IS NULL OR e.document_id = :documentId) &quot; +\n            &quot;ORDER BY e.created_on DESC LIMIT :limit&quot;, nativeQuery = true)\n    List&lt;Event&gt; findAll(@Param(&quot;vaultId&quot;) String vaultId,\n                        @Param(&quot;before&quot;) LocalDateTime before,\n                        @Param(&quot;after&quot;) LocalDateTime after,\n                        @Param(&quot;limit&quot;) Integer maxNumberOfResults,\n                        @Param(&quot;types&quot;) List&lt;String&gt; types,\n                        @Param(&quot;visibilities&quot;) List&lt;String&gt; visibilities,\n                        @Param(&quot;documentId&quot;) String documented);\n</code></pre>\n<p>with the new one using Specifications:</p>\n<pre class=\"lang-java prettyprint-override\"><code> Page&lt;Event&gt; findAllPaginated(Specification&lt;Event&gt; specification, Pageable pageable);\n...\n</code></pre>\n<p>Any idea?\nWhat should I return from the <code>toPredicate</code>method in this case?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634181601,"creation_date":1634171457,"answer_id":69563786,"question_id":69563162,"body_markdown":"I think adding the following after the `bodyToFlux(DataBuffer.class)` line will be what you need\r\n\r\n    .doOnComplete(() -&gt; log.info(&quot;File downloaded successfully&quot;))\r\n\r\nSomething like this\r\n\r\n    private void dnloadFileAPI(String theId, String destination) {\r\n        log.info(&quot;Downloading file.. &quot; + theId);\r\n        Flux&lt;DataBuffer&gt; dataBuffer = webClient\r\n            .get()\r\n            .uri(&quot;/some/fancy/&quot; + theId + &quot;/api&quot;)\r\n            .retrieve()\r\n            .bodyToFlux(DataBuffer.class)\r\n            .doOnComplete(() -&gt; log.info(&quot;File downloaded successfully&quot;));\r\n        DataBufferUtils.write(dataBuffer, Paths.get(destination), StandardOpenOption.CREATE).share().block();\r\n    }","title":"Spring WebClient - logging is2xxSuccessful HTTPStatus","body":"<p>I think adding the following after the <code>bodyToFlux(DataBuffer.class)</code> line will be what you need</p>\n<pre><code>.doOnComplete(() -&gt; log.info(&quot;File downloaded successfully&quot;))\n</code></pre>\n<p>Something like this</p>\n<pre><code>private void dnloadFileAPI(String theId, String destination) {\n    log.info(&quot;Downloading file.. &quot; + theId);\n    Flux&lt;DataBuffer&gt; dataBuffer = webClient\n        .get()\n        .uri(&quot;/some/fancy/&quot; + theId + &quot;/api&quot;)\n        .retrieve()\n        .bodyToFlux(DataBuffer.class)\n        .doOnComplete(() -&gt; log.info(&quot;File downloaded successfully&quot;));\n    DataBufferUtils.write(dataBuffer, Paths.get(destination), StandardOpenOption.CREATE).share().block();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665554330,"creation_date":1665554330,"answer_id":74037095,"question_id":69563162,"body_markdown":"We can used doOnSuccess method\r\n\r\n    .doOnSuccess(response -&gt; logger.info(&quot;File downloaded successfully&quot;))\r\n\r\nSpring-webflux version 5.3.22","title":"Spring WebClient - logging is2xxSuccessful HTTPStatus","body":"<p>We can used doOnSuccess method</p>\n<pre><code>.doOnSuccess(response -&gt; logger.info(&quot;File downloaded successfully&quot;))\n</code></pre>\n<p>Spring-webflux version 5.3.22</p>\n"}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69563786,"answer_count":2,"score":1,"last_activity_date":1665554330,"creation_date":1634164974,"question_id":69563162,"body_markdown":"I am downloading files using Spring WebClient like below:\r\n\r\n\t\r\n\r\n    private void dnloadFileAPI(String theId, String destination) {\r\n    \t\tlog.info(&quot;Downloading file.. &quot; + theId);\r\n    \t\tFlux&lt;DataBuffer&gt; dataBuffer = webClient\r\n    \t\t\t\t.get()\r\n    \t\t\t\t.uri(&quot;/some/fancy/&quot; + theId + &quot;/api&quot;)\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.onStatus(HttpStatus::is2xxSuccessful, response -&gt; Mono.just(new CustomException(&quot;Success&quot;)))\r\n    \t\t\t\t.bodyToFlux(DataBuffer.class);\r\n    \t\tDataBufferUtils.write(dataBuffer, Paths.get(destination), StandardOpenOption.CREATE).share().block();\r\n    \t}\r\n\r\nFile(s) get downloaded fine. The only piece I am struggling is, when the response is 200, I just want to log one line like this:\r\n\r\n    log.info(&quot;{}&quot;, theId + &quot; - File downloaded successfully&quot;)\r\n\r\nI tried this too but didnt get what I am looking for - https://stackoverflow.com/questions/50216067/how-to-log-spring-webclient-response\r\n\r\nIn short, is there some way above can be achieved without writing a separate `CustomException` ? Feeling lost and clueless here. Any pointers in this regard will be highly appreciated. ","title":"Spring WebClient - logging is2xxSuccessful HTTPStatus","body":"<p>I am downloading files using Spring WebClient like below:</p>\n<pre><code>private void dnloadFileAPI(String theId, String destination) {\n        log.info(&quot;Downloading file.. &quot; + theId);\n        Flux&lt;DataBuffer&gt; dataBuffer = webClient\n                .get()\n                .uri(&quot;/some/fancy/&quot; + theId + &quot;/api&quot;)\n                .retrieve()\n                .onStatus(HttpStatus::is2xxSuccessful, response -&gt; Mono.just(new CustomException(&quot;Success&quot;)))\n                .bodyToFlux(DataBuffer.class);\n        DataBufferUtils.write(dataBuffer, Paths.get(destination), StandardOpenOption.CREATE).share().block();\n    }\n</code></pre>\n<p>File(s) get downloaded fine. The only piece I am struggling is, when the response is 200, I just want to log one line like this:</p>\n<pre><code>log.info(&quot;{}&quot;, theId + &quot; - File downloaded successfully&quot;)\n</code></pre>\n<p>I tried this too but didnt get what I am looking for - <a href=\"https://stackoverflow.com/questions/50216067/how-to-log-spring-webclient-response\">How to log Spring WebClient response</a></p>\n<p>In short, is there some way above can be achieved without writing a separate <code>CustomException</code> ? Feeling lost and clueless here. Any pointers in this regard will be highly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665544930,"post_id":74035887,"comment_id":130723249,"body_markdown":"Does this answer your question? [What is a NoSuchBeanDefinitionException and how do I fix it?](https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39173982/what-is-a-nosuchbeandefinitionexception-and-how-do-i-fix-it\">What is a NoSuchBeanDefinitionException and how do I fix it?</a>"},{"owner":{"account_id":21167003,"reputation":79,"user_id":15564131,"display_name":"Surya mdl"},"score":0,"creation_date":1665579266,"post_id":74035887,"comment_id":130733383,"body_markdown":"Try by annotating `ProfileNotFoundException` class with `@Component`","body":"Try by annotating <code>ProfileNotFoundException</code> class with <code>@Component</code>"}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665543999,"creation_date":1665542787,"answer_id":74035967,"question_id":74035887,"body_markdown":"It seems the spring boot is unable to inject the profileNotFoundException bean you should check that. Also I can see that you haven&#39;t used it in this class so you can either check and build your application again by removing this\r\n\r\n    @Autowired\r\n    private ProfileNotFoundException profileNotFoundException;\r\n\r\nAs you the bean is not defined for this name and it seems to be a custom exception which you can throw directly when necessary. Check if it works. ","title":"Error Rest API Springboot Security Config","body":"<p>It seems the spring boot is unable to inject the profileNotFoundException bean you should check that. Also I can see that you haven't used it in this class so you can either check and build your application again by removing this</p>\n<pre><code>@Autowired\nprivate ProfileNotFoundException profileNotFoundException;\n</code></pre>\n<p>As you the bean is not defined for this name and it seems to be a custom exception which you can throw directly when necessary. Check if it works.</p>\n"},{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665553504,"creation_date":1665553504,"answer_id":74036994,"question_id":74035887,"body_markdown":"you have this error ```\r\nField profileNotFoundException in com.Portfolio.API.Config.SecurityConfig required a bean of type &#39;com.Portfolio.API.Exception.ProfileNotFoundException&#39; \r\nthat could not be found. ```\r\n\r\nso try to remove field with ProfileNotFoundException name;","title":"Error Rest API Springboot Security Config","body":"<p>you have this error <code>Field profileNotFoundException in com.Portfolio.API.Config.SecurityConfig required a bean of type 'com.Portfolio.API.Exception.ProfileNotFoundException'  that could not be found.</code></p>\n<p>so try to remove field with ProfileNotFoundException name;</p>\n"}],"owner":{"account_id":24840205,"reputation":1,"user_id":20218428,"display_name":"Cynthia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665553504,"creation_date":1665542054,"question_id":74035887,"body_markdown":"&gt; Error:\r\n&gt;ConfigServletWebServerApplicationContext : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;profileNotFoundException&#39;; nested exception\r\n&gt; is org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type\r\n&gt; &#39;com.Portfolio.API.Exception.ProfileNotFoundException&#39; available:\r\n&gt; expected at least 1 bean which qualifies as autowire candidate.\r\n&gt; Dependency annotations:\r\n&gt; {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field profileNotFoundException in\r\n&gt; com.Portfolio.API.Config.SecurityConfig required a bean of type\r\n&gt; &#39;com.Portfolio.API.Exception.ProfileNotFoundException&#39; that could not\r\n&gt; be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.Portfolio.API.Exception.ProfileNotFoundException&#39; in your\r\n&gt; configuration.\r\n\r\n\r\n\r\n\r\nMy Config:\r\n\r\n   \r\n\r\n     package com.Portfolio.API.Config;\r\n    \r\n    import com.Portfolio.API.Exception.ProfileNotFoundException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Autowired\r\n        private ProfileNotFoundException profileNotFoundException;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;).permitAll()   // Esto permite que cualquiera entre a cualquier parte de tu p&#225;gina web\r\n                    /*\r\n                    // Con esto puedes controlar quien entra a qu&#233; partes de tu aplicaci&#243;n/p&#225;gina dependiendo del rol que tengan\r\n                    .antMatchers(&quot;/home&quot;).hasRole(&quot;USER&quot;)\r\n                    .antMatchers(&quot;/education&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .antMatchers(&quot;/experience&quot;).hasRole(&quot;USER&quot;)\r\n                    .antMatchers(&quot;/projects&quot;).hasRole(&quot;USER&quot;)\r\n                    .antMatchers(&quot;/skills&quot;).hasRole(&quot;USER&quot;)\r\n                    */\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin()    // Se crea una p&#225;gina de login para identificarse\r\n                    .and()\r\n                    .httpBasic();\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        // Aqu&#237; se crean los usuarios con sus passwords y roles y se guardan en la memoria del programa,\r\n        // al terminar la ejecuci&#243;n, se borran\r\n        @Bean\r\n        public UserDetailsService userDetailsService(){\r\n            UserDetails user = User\r\n                    .withUsername(&quot;user&quot;)\r\n                    .password(passwordEncoder().encode(&quot;123456&quot;))\r\n                    .roles(&quot;USER&quot;)\r\n                    .build();\r\n            UserDetails admin = User\r\n                    .withUsername(&quot;admin&quot;)\r\n                    .password(passwordEncoder().encode(&quot;password&quot;))\r\n                    .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                    .build();\r\n    \r\n            return new InMemoryUserDetailsManager(user, admin);\r\n        }\r\n    \r\n        // Con este m&#233;todo se encriptan los passwords\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\n\r\n**My github repo: &lt;https://github.com/cynthiasaucedo/PortfolioAP/tree/master/Backend&gt;**\r\n","title":"Error Rest API Springboot Security Config","body":"<blockquote>\n<p>Error:\nConfigServletWebServerApplicationContext : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'securityConfig': Unsatisfied dependency\nexpressed through field 'profileNotFoundException'; nested exception\nis org.springframework.beans.factory.NoSuchBeanDefinitionException: No\nqualifying bean of type\n'com.Portfolio.API.Exception.ProfileNotFoundException' available:\nexpected at least 1 bean which qualifies as autowire candidate.\nDependency annotations:\n{@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n<p>Description:</p>\n<p>Field profileNotFoundException in\ncom.Portfolio.API.Config.SecurityConfig required a bean of type\n'com.Portfolio.API.Exception.ProfileNotFoundException' that could not\nbe found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.Portfolio.API.Exception.ProfileNotFoundException' in your\nconfiguration.</p>\n</blockquote>\n<p>My Config:</p>\n<pre><code> package com.Portfolio.API.Config;\n\nimport com.Portfolio.API.Exception.ProfileNotFoundException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private ProfileNotFoundException profileNotFoundException;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()   // Esto permite que cualquiera entre a cualquier parte de tu página web\n                /*\n                // Con esto puedes controlar quien entra a qué partes de tu aplicación/página dependiendo del rol que tengan\n                .antMatchers(&quot;/home&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/education&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/experience&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/projects&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/skills&quot;).hasRole(&quot;USER&quot;)\n                */\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()    // Se crea una página de login para identificarse\n                .and()\n                .httpBasic();\n\n        return http.build();\n    }\n\n    // Aquí se crean los usuarios con sus passwords y roles y se guardan en la memoria del programa,\n    // al terminar la ejecución, se borran\n    @Bean\n    public UserDetailsService userDetailsService(){\n        UserDetails user = User\n                .withUsername(&quot;user&quot;)\n                .password(passwordEncoder().encode(&quot;123456&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails admin = User\n                .withUsername(&quot;admin&quot;)\n                .password(passwordEncoder().encode(&quot;password&quot;))\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .build();\n\n        return new InMemoryUserDetailsManager(user, admin);\n    }\n\n    // Con este método se encriptan los passwords\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p><strong>My github repo: <a href=\"https://github.com/cynthiasaucedo/PortfolioAP/tree/master/Backend\" rel=\"nofollow noreferrer\">https://github.com/cynthiasaucedo/PortfolioAP/tree/master/Backend</a></strong></p>\n"},{"tags":["java","log4j2","jpype"],"answers":[{"tags":[],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665553268,"creation_date":1665553268,"answer_id":74036970,"question_id":74017066,"body_markdown":"Okay, got it. Turns out, the log4j2.xml files needs to be passed to the jvm as an argument, not the way I was doing above. It should be added as follows:\r\n\r\n        -Dlog4j.configurationFile=log4j2.xml\r\n\r\n\r\n*Regards*\r\n","title":"How should I make log4j logging in Java work with JPype?","body":"<p>Okay, got it. Turns out, the log4j2.xml files needs to be passed to the jvm as an argument, not the way I was doing above. It should be added as follows:</p>\n<pre><code>    -Dlog4j.configurationFile=log4j2.xml\n</code></pre>\n<p><em>Regards</em></p>\n"}],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665553268,"creation_date":1665415002,"question_id":74017066,"body_markdown":"I have some Java code that uses log4j logging. As a standalone application it works fine and log statements are generated as expected. Now, I am invoking this Java code through JPype service calls. The jar files are being added to the JVM as follows. Surprisingly, the Java code still works fine and I can see the output but no log files are created. \r\n\r\n\r\n       def start_jvm():\r\n          javapath = JavaAlgorithmAttributes.java_resolver_path\r\n          cp = &quot;-Djava.class.path=%s&quot; % (                \r\n                + f&quot;{javapath}/vendor/log4j-core-2.17.1.jar;&quot;\r\n                + f&quot;{javapath}/vendor/log4j-api-2.17.1.jar;&quot;\r\n                + f&quot;{javapath}/vendor/log4j-slf4j-impl-2.17.1.jar;&quot;\r\n                + f&quot;{javapath}/vendor/slf4j-api.jar;&quot;\r\n                + f&quot;{javapath}/properties/log4j2.xml&quot;\r\n\r\n        )\r\n            \r\n         startJVM(getDefaultJVMPath(), &quot;-ea&quot;, cp)\r\n\r\nCould someone please provide some insights?\r\n\r\nThanks in advance!","title":"How should I make log4j logging in Java work with JPype?","body":"<p>I have some Java code that uses log4j logging. As a standalone application it works fine and log statements are generated as expected. Now, I am invoking this Java code through JPype service calls. The jar files are being added to the JVM as follows. Surprisingly, the Java code still works fine and I can see the output but no log files are created.</p>\n<pre><code>   def start_jvm():\n      javapath = JavaAlgorithmAttributes.java_resolver_path\n      cp = &quot;-Djava.class.path=%s&quot; % (                \n            + f&quot;{javapath}/vendor/log4j-core-2.17.1.jar;&quot;\n            + f&quot;{javapath}/vendor/log4j-api-2.17.1.jar;&quot;\n            + f&quot;{javapath}/vendor/log4j-slf4j-impl-2.17.1.jar;&quot;\n            + f&quot;{javapath}/vendor/slf4j-api.jar;&quot;\n            + f&quot;{javapath}/properties/log4j2.xml&quot;\n\n    )\n        \n     startJVM(getDefaultJVMPath(), &quot;-ea&quot;, cp)\n</code></pre>\n<p>Could someone please provide some insights?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","mac-address"],"comments":[{"owner":{"account_id":317689,"reputation":16503,"user_id":634513,"accept_rate":100,"display_name":"Ismael Abreu"},"score":1,"creation_date":1343525418,"post_id":11705906,"comment_id":15526759,"body_markdown":"http://programminglinuxblog.blogspot.pt/2011/06/mac-address-string-to-byte.html","body":"<a href=\"http://programminglinuxblog.blogspot.pt/2011/06/mac-address-string-to-byte.html\" rel=\"nofollow noreferrer\">programminglinuxblog.blogspot.pt/2011/06/&hellip;</a>"},{"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":3,"creation_date":1343573348,"post_id":11705906,"comment_id":15533127,"body_markdown":"possible duplicate of [How to obtain MAC address of WiFi network interface?](http://stackoverflow.com/questions/2601124/how-to-obtain-mac-address-of-wifi-network-interface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2601124/how-to-obtain-mac-address-of-wifi-network-interface\">How to obtain MAC address of WiFi network interface?</a>"},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":1,"creation_date":1395976741,"post_id":11705906,"comment_id":34594422,"body_markdown":"possible duplicate of [How to find MAC address of an Android device programatically](http://stackoverflow.com/questions/10831578/how-to-find-mac-address-of-an-android-device-programatically)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10831578/how-to-find-mac-address-of-an-android-device-programatically\">How to find MAC address of an Android device programatically</a>"},{"owner":{"account_id":3193672,"reputation":1616,"user_id":2697368,"accept_rate":70,"display_name":"Gorio"},"score":0,"creation_date":1453982617,"post_id":11705906,"comment_id":57844590,"body_markdown":"Please check this solution, it works for me http://stackoverflow.com/questions/31329733/how-to-get-the-missing-wifi-mac-address-on-android-m-preview","body":"Please check this solution, it works for me <a href=\"http://stackoverflow.com/questions/31329733/how-to-get-the-missing-wifi-mac-address-on-android-m-preview\" title=\"how to get the missing wifi mac address on android m preview\">stackoverflow.com/questions/31329733/&hellip;</a>"},{"owner":{"account_id":6397220,"reputation":11,"user_id":4961159,"display_name":"Ehud"},"score":0,"creation_date":1455470166,"post_id":11705906,"comment_id":58493078,"body_markdown":"From android M this api is deprecated, use this for now: http://stackoverflow.com/questions/31329733/how-to-get-the-missing-wifi-mac-address-on-android-m-preview","body":"From android M this api is deprecated, use this for now: <a href=\"http://stackoverflow.com/questions/31329733/how-to-get-the-missing-wifi-mac-address-on-android-m-preview\" title=\"how to get the missing wifi mac address on android m preview\">stackoverflow.com/questions/31329733/&hellip;</a>"},{"owner":{"account_id":11461269,"reputation":9,"user_id":8400867,"display_name":"S D Rausty"},"score":0,"creation_date":1576746878,"post_id":11705906,"comment_id":105000957,"body_markdown":"This ` ip link | grep -A1 wlan0 ` works on Android 9 from https://stackoverflow.com/questions/58463658/how-to-determine-wifi-hardware-address-in-termux","body":"This ` ip link | grep -A1 wlan0 ` works on Android 9 from <a href=\"https://stackoverflow.com/questions/58463658/how-to-determine-wifi-hardware-address-in-termux\" title=\"how to determine wifi hardware address in termux\">stackoverflow.com/questions/58463658/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333062,"reputation":28113,"user_id":658718,"accept_rate":100,"display_name":"Konrad Reiche"},"down_vote_count":1,"up_vote_count":125,"is_accepted":false,"score":124,"last_activity_date":1484214177,"creation_date":1343525562,"answer_id":11705949,"question_id":11705906,"body_markdown":"As was already pointed out in the comment, the MAC address can be received via the [WifiManager][1].\n\n    WifiManager manager = (WifiManager) getSystemService(Context.WIFI_SERVICE);\n    WifiInfo info = manager.getConnectionInfo();\n    String address = info.getMacAddress();\n\nAlso do not forget to  add the appropriate permissions into your `AndroidManifest.xml`\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n\n  [1]: http://developer.android.com/reference/android/net/wifi/WifiManager.html\n\n\nPlease refer to &lt;a href=&quot;https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id&quot;&gt;Android 6.0 Changes&lt;/a&gt;. \n\n&gt; To provide users with greater data protection, starting in this release, Android removes programmatic access to the device’s local hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods now return a constant value of 02:00:00:00:00:00.\n&gt;\n&gt; To access the hardware identifiers of nearby external devices via Bluetooth and Wi-Fi scans, your app must now have the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permissions.","title":"Programmatically getting the MAC of an Android device","body":"<p>As was already pointed out in the comment, the MAC address can be received via the <a href=\"http://developer.android.com/reference/android/net/wifi/WifiManager.html\" rel=\"noreferrer\">WifiManager</a>.</p>\n<pre><code>WifiManager manager = (WifiManager) getSystemService(Context.WIFI_SERVICE);\nWifiInfo info = manager.getConnectionInfo();\nString address = info.getMacAddress();\n</code></pre>\n<p>Also do not forget to  add the appropriate permissions into your <code>AndroidManifest.xml</code></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n</code></pre>\n<p>Please refer to <a href=\"https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id\" rel=\"noreferrer\">Android 6.0 Changes</a>.</p>\n<blockquote>\n<p>To provide users with greater data protection, starting in this release, Android removes programmatic access to the device’s local hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods now return a constant value of 02:00:00:00:00:00.</p>\n<p>To access the hardware identifiers of nearby external devices via Bluetooth and Wi-Fi scans, your app must now have the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permissions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":418030,"reputation":14335,"user_id":794365,"accept_rate":73,"display_name":"ademar111190"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1362407745,"creation_date":1362407745,"answer_id":15203979,"question_id":11705906,"body_markdown":"    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n    public String getMacAddress(Context context) {\r\n        WifiManager wimanager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n        String macAddress = wimanager.getConnectionInfo().getMacAddress();\r\n        if (macAddress == null) {\r\n            macAddress = &quot;Device don&#39;t have mac address or wi-fi is disabled&quot;;\r\n        }\r\n        return macAddress;\r\n    }\r\n\r\nhave others way [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6191832/get-mac-address-of-android-device-without-wifi/15183653#comment21394080_15183653","title":"Programmatically getting the MAC of an Android device","body":"<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n\npublic String getMacAddress(Context context) {\n    WifiManager wimanager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    String macAddress = wimanager.getConnectionInfo().getMacAddress();\n    if (macAddress == null) {\n        macAddress = \"Device don't have mac address or wi-fi is disabled\";\n    }\n    return macAddress;\n}\n</code></pre>\n\n<p>have others way <a href=\"https://stackoverflow.com/questions/6191832/get-mac-address-of-android-device-without-wifi/15183653#comment21394080_15183653\">here</a></p>\n"},{"tags":[],"owner":{"account_id":370416,"reputation":7024,"user_id":718333,"accept_rate":73,"display_name":"fernandohur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449315590,"creation_date":1386776516,"answer_id":20523454,"question_id":11705906,"body_markdown":"Taken from the Android sources [here][1]. This is the actual code that shows your MAC ADDRESS in the system&#39;s settings app.\r\n\r\n    private void refreshWifiInfo() {\r\n        WifiInfo wifiInfo = mWifiManager.getConnectionInfo();\r\n    \r\n        Preference wifiMacAddressPref = findPreference(KEY_MAC_ADDRESS);\r\n        String macAddress = wifiInfo == null ? null : wifiInfo.getMacAddress();\r\n        wifiMacAddressPref.setSummary(!TextUtils.isEmpty(macAddress) ? macAddress\r\n                : getActivity().getString(R.string.status_unavailable));\r\n    \r\n        Preference wifiIpAddressPref = findPreference(KEY_CURRENT_IP_ADDRESS);\r\n        String ipAddress = Utils.getWifiIpAddresses(getActivity());\r\n        wifiIpAddressPref.setSummary(ipAddress == null ?\r\n                getActivity().getString(R.string.status_unavailable) : ipAddress);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/android/platform_packages_apps_settings/blob/master/src/com/android/settings/wifi/AdvancedWifiSettings.java#L253-L265","title":"Programmatically getting the MAC of an Android device","body":"<p>Taken from the Android sources <a href=\"https://github.com/android/platform_packages_apps_settings/blob/master/src/com/android/settings/wifi/AdvancedWifiSettings.java#L253-L265\" rel=\"nofollow\">here</a>. This is the actual code that shows your MAC ADDRESS in the system's settings app.</p>\n\n<pre><code>private void refreshWifiInfo() {\n    WifiInfo wifiInfo = mWifiManager.getConnectionInfo();\n\n    Preference wifiMacAddressPref = findPreference(KEY_MAC_ADDRESS);\n    String macAddress = wifiInfo == null ? null : wifiInfo.getMacAddress();\n    wifiMacAddressPref.setSummary(!TextUtils.isEmpty(macAddress) ? macAddress\n            : getActivity().getString(R.string.status_unavailable));\n\n    Preference wifiIpAddressPref = findPreference(KEY_CURRENT_IP_ADDRESS);\n    String ipAddress = Utils.getWifiIpAddresses(getActivity());\n    wifiIpAddressPref.setSummary(ipAddress == null ?\n            getActivity().getString(R.string.status_unavailable) : ipAddress);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106800,"reputation":249,"user_id":3270558,"display_name":"Manoj Tarkar"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1405509033,"creation_date":1405509033,"answer_id":24779255,"question_id":11705906,"body_markdown":"You can get mac address:\r\n\r\n    WifiManager wifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n    WifiInfo wInfo = wifiManager.getConnectionInfo();\r\n    String mac = wInfo.getMacAddress();\r\n\r\nSet Permission in Menifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n","title":"Programmatically getting the MAC of an Android device","body":"<p>You can get mac address:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);\nWifiInfo wInfo = wifiManager.getConnectionInfo();\nString mac = wInfo.getMacAddress();\n</code></pre>\n\n<p>Set Permission in Menifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"&gt;&lt;/uses-permission&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546671,"reputation":4786,"user_id":1440076,"accept_rate":50,"display_name":"minipif"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1456441434,"creation_date":1456441434,"answer_id":35640186,"question_id":11705906,"body_markdown":"Getting the MAC address through [`WifiInfo.getMacAddress()`][1] won&#39;t work on Marshmallow and above, it has been disabled and will return [the constant value of `02:00:00:00:00:00`][2].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/wifi/WifiInfo.html#getMacAddress()\r\n  [2]: https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id","title":"Programmatically getting the MAC of an Android device","body":"<p>Getting the MAC address through <a href=\"https://developer.android.com/reference/android/net/wifi/WifiInfo.html#getMacAddress()\" rel=\"noreferrer\"><code>WifiInfo.getMacAddress()</code></a> won't work on Marshmallow and above, it has been disabled and will return <a href=\"https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id\" rel=\"noreferrer\">the constant value of <code>02:00:00:00:00:00</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5144095,"reputation":7188,"user_id":4120547,"accept_rate":43,"display_name":"Luvnish Monga"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472815538,"creation_date":1472815538,"answer_id":39291212,"question_id":11705906,"body_markdown":"You can no longer get the hardware MAC address of a android device. WifiInfo.getMacAddress() and BluetoothAdapter.getAddress() methods will return 02:00:00:00:00:00. This restriction was introduced in Android 6.0.\r\n\r\nBut Rob Anderson found a solution which is working for &lt; Marshmallow : https://stackoverflow.com/a/35830358","title":"Programmatically getting the MAC of an Android device","body":"<p>You can no longer get the hardware MAC address of a android device. WifiInfo.getMacAddress() and BluetoothAdapter.getAddress() methods will return 02:00:00:00:00:00. This restriction was introduced in Android 6.0.</p>\n\n<p>But Rob Anderson found a solution which is working for &lt; Marshmallow : <a href=\"https://stackoverflow.com/a/35830358\">https://stackoverflow.com/a/35830358</a></p>\n"},{"tags":[],"owner":{"account_id":9139093,"reputation":976,"user_id":6797655,"display_name":"pm dubey"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1475241298,"creation_date":1475240035,"answer_id":39792022,"question_id":11705906,"body_markdown":"    public static String getMacAddr() {\r\n        try {\r\n            List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\r\n            for (NetworkInterface nif : all) {\r\n                if (!nif.getName().equalsIgnoreCase(&quot;wlan0&quot;)) continue;\r\n    \r\n                byte[] macBytes = nif.getHardwareAddress();\r\n                if (macBytes == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n    \r\n                StringBuilder res1 = new StringBuilder();\r\n                for (byte b : macBytes) {\r\n                    res1.append(String.format(&quot;%02X:&quot;,b));\r\n                }\r\n    \r\n                if (res1.length() &gt; 0) {\r\n                    res1.deleteCharAt(res1.length() - 1);\r\n                }\r\n                return res1.toString();\r\n            }\r\n        } catch (Exception ex) {\r\n        }\r\n        return &quot;02:00:00:00:00:00&quot;;\r\n    }","title":"Programmatically getting the MAC of an Android device","body":"<pre><code>public static String getMacAddr() {\n    try {\n        List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\n        for (NetworkInterface nif : all) {\n            if (!nif.getName().equalsIgnoreCase(\"wlan0\")) continue;\n\n            byte[] macBytes = nif.getHardwareAddress();\n            if (macBytes == null) {\n                return \"\";\n            }\n\n            StringBuilder res1 = new StringBuilder();\n            for (byte b : macBytes) {\n                res1.append(String.format(\"%02X:\",b));\n            }\n\n            if (res1.length() &gt; 0) {\n                res1.deleteCharAt(res1.length() - 1);\n            }\n            return res1.toString();\n        }\n    } catch (Exception ex) {\n    }\n    return \"02:00:00:00:00:00\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5867176,"reputation":739,"user_id":4620737,"display_name":"Tiziano Bruschetta"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1522168720,"creation_date":1496745310,"answer_id":44387673,"question_id":11705906,"body_markdown":"I founded this solution from http://robinhenniges.com/en/android6-get-mac-address-programmatically and it&#39;s working for me! Hope helps!  \r\n      \r\n    public static String getMacAddr() {\r\n        try {\r\n            List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\r\n            for (NetworkInterface nif : all) {\r\n                if (!nif.getName().equalsIgnoreCase(&quot;wlan0&quot;)) continue;\r\n \r\n                byte[] macBytes = nif.getHardwareAddress();\r\n                if (macBytes == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n \r\n                StringBuilder res1 = new StringBuilder();\r\n                for (byte b : macBytes) {\r\n                    String hex = Integer.toHexString(b &amp; 0xFF);\r\n                    if (hex.length() == 1)\r\n                        hex = &quot;0&quot;.concat(hex);\r\n                    res1.append(hex.concat(&quot;:&quot;));\r\n                }\r\n \r\n                if (res1.length() &gt; 0) {\r\n                    res1.deleteCharAt(res1.length() - 1);\r\n                }\r\n                return res1.toString();\r\n            }\r\n        } catch (Exception ex) {\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"Programmatically getting the MAC of an Android device","body":"<p>I founded this solution from <a href=\"http://robinhenniges.com/en/android6-get-mac-address-programmatically\" rel=\"noreferrer\">http://robinhenniges.com/en/android6-get-mac-address-programmatically</a> and it's working for me! Hope helps!  </p>\n\n<pre><code>public static String getMacAddr() {\n    try {\n        List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\n        for (NetworkInterface nif : all) {\n            if (!nif.getName().equalsIgnoreCase(\"wlan0\")) continue;\n\n            byte[] macBytes = nif.getHardwareAddress();\n            if (macBytes == null) {\n                return \"\";\n            }\n\n            StringBuilder res1 = new StringBuilder();\n            for (byte b : macBytes) {\n                String hex = Integer.toHexString(b &amp; 0xFF);\n                if (hex.length() == 1)\n                    hex = \"0\".concat(hex);\n                res1.append(hex.concat(\":\"));\n            }\n\n            if (res1.length() &gt; 0) {\n                res1.deleteCharAt(res1.length() - 1);\n            }\n            return res1.toString();\n        }\n    } catch (Exception ex) {\n    }\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497528540,"creation_date":1497528540,"answer_id":44567128,"question_id":11705906,"body_markdown":"**Its Working with Marshmallow**\r\n    \r\n    package com.keshav.fetchmacaddress;\r\n    \r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    import java.net.InetAddress;\r\n    import java.net.NetworkInterface;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Log.e(&quot;keshav&quot;,&quot;getMacAddr -&gt; &quot; +getMacAddr());\r\n        }\r\n    \r\n        public static String getMacAddr() {\r\n            try {\r\n                List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\r\n                for (NetworkInterface nif : all) {\r\n                    if (!nif.getName().equalsIgnoreCase(&quot;wlan0&quot;)) continue;\r\n    \r\n                    byte[] macBytes = nif.getHardwareAddress();\r\n                    if (macBytes == null) {\r\n                        return &quot;&quot;;\r\n                    }\r\n    \r\n                    StringBuilder res1 = new StringBuilder();\r\n                    for (byte b : macBytes) {\r\n                        res1.append(Integer.toHexString(b &amp; 0xFF) + &quot;:&quot;);\r\n                    }\r\n    \r\n                    if (res1.length() &gt; 0) {\r\n                        res1.deleteCharAt(res1.length() - 1);\r\n                    }\r\n                    return res1.toString();\r\n                }\r\n            } catch (Exception ex) {\r\n                //handle exception\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"Programmatically getting the MAC of an Android device","body":"<p><strong>Its Working with Marshmallow</strong></p>\n\n<pre><code>package com.keshav.fetchmacaddress;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport java.net.InetAddress;\nimport java.net.NetworkInterface;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Log.e(\"keshav\",\"getMacAddr -&gt; \" +getMacAddr());\n    }\n\n    public static String getMacAddr() {\n        try {\n            List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\n            for (NetworkInterface nif : all) {\n                if (!nif.getName().equalsIgnoreCase(\"wlan0\")) continue;\n\n                byte[] macBytes = nif.getHardwareAddress();\n                if (macBytes == null) {\n                    return \"\";\n                }\n\n                StringBuilder res1 = new StringBuilder();\n                for (byte b : macBytes) {\n                    res1.append(Integer.toHexString(b &amp; 0xFF) + \":\");\n                }\n\n                if (res1.length() &gt; 0) {\n                    res1.deleteCharAt(res1.length() - 1);\n                }\n                return res1.toString();\n            }\n        } catch (Exception ex) {\n            //handle exception\n        }\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568681245,"creation_date":1516349668,"answer_id":48336699,"question_id":11705906,"body_markdown":"I think I just found a way to read MAC addresses without LOCATION permission: Run `ip link` and parse its output. (you could probably do the similar by looking at this binary&#39;s source code)","title":"Programmatically getting the MAC of an Android device","body":"<p>I think I just found a way to read MAC addresses without LOCATION permission: Run <code>ip link</code> and parse its output. (you could probably do the similar by looking at this binary's source code)</p>\n"},{"tags":[],"owner":{"account_id":9845058,"reputation":3403,"user_id":7292898,"display_name":"Abdulhakim Zeinu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554362716,"creation_date":1554362716,"answer_id":55510087,"question_id":11705906,"body_markdown":"Using this simple method    \r\n\r\n    WifiManager wm = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n                String WLANMAC = wm.getConnectionInfo().getMacAddress();\r\n                ","title":"Programmatically getting the MAC of an Android device","body":"<p>Using this simple method    </p>\n\n<pre><code>WifiManager wm = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n            String WLANMAC = wm.getConnectionInfo().getMacAddress();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11461269,"reputation":9,"user_id":8400867,"display_name":"S D Rausty"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1576747106,"creation_date":1576747106,"answer_id":59406529,"question_id":11705906,"body_markdown":"This ` ip link | grep -A1 wlan0 ` command works on Android 9 from https://stackoverflow.com/questions/58463658/how-to-determine-wifi-hardware-address-in-termux","title":"Programmatically getting the MAC of an Android device","body":"<p>This <code>ip link | grep -A1 wlan0</code> command works on Android 9 from <a href=\"https://stackoverflow.com/questions/58463658/how-to-determine-wifi-hardware-address-in-termux\">How to determine wifi hardware address in Termux</a></p>\n"},{"tags":[],"owner":{"account_id":15389638,"reputation":31,"user_id":11102747,"display_name":"foo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653739496,"creation_date":1600017612,"answer_id":63873561,"question_id":11705906,"body_markdown":"I know this is a very old question but there is one more method to do this. Code below compiles without errors but I haven&#39;t tried it.\r\nYou can write some C code and use JNI (Java Native Interface) to get MAC address.\r\nHere is the example main activity code:\r\n```java\r\npackage com.example.getmymac;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class GetMyMacActivity extends AppCompatActivity {\r\n    static { // here we are importing native library.\r\n        // name of the library is libnet-utils.so, in cmake and java code\r\n        // we just use name &quot;net-utils&quot;.\r\n        System.loadLibrary(&quot;net-utils&quot;);\r\n    }\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_screen);\r\n\r\n        // some debug text and a TextView.\r\n        Log.d(NetUtilsActivity.class.getSimpleName(), &quot;Starting app...&quot;);\r\n        TextView text = findViewById(R.id.sample_text);\r\n\r\n        // the get_mac_addr native function, implemented in C code.\r\n        byte[] macArr = get_mac_addr(null);\r\n        // since it is a byte array, we format it and convert to string.\r\n        String val = String.format(&quot;%02x:%02x:%02x:%02x:%02x:%02x&quot;,\r\n                macArr[0], macArr[1], macArr[2],\r\n                macArr[3], macArr[4], macArr[5]);\r\n        // print it to log and TextView.\r\n        Log.d(NetUtilsActivity.class.getSimpleName(), val);\r\n        text.setText(val);\r\n    }\r\n\r\n    // here is the prototype of the native function.\r\n    // use native keyword to indicate it is a native function,\r\n    // implemented in C code.\r\n    private native byte[] get_mac_addr(String interface_name);\r\n}\r\n```\r\n\r\nAnd the layout file, main_screen.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/sample_text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nManifest file, I didn&#39;t know what permissions to add so I added some.\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.getmymac&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.GetMyMacActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nC implementation of get_mac_addr function.\r\n```c\r\n/* length of array that MAC address is stored. */\r\n#define MAC_ARR_LEN 6\r\n\r\n#define BUF_SIZE 256\r\n\r\n#include &lt;jni.h&gt;\r\n#include &lt;stdio.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &lt;string.h&gt;\r\n#include &lt;netinet/in.h&gt;\r\n#include &lt;arpa/inet.h&gt;\r\n#include &lt;sys/socket.h&gt;\r\n#include &lt;sys/types.h&gt;\r\n#include &lt;net/if.h&gt;\r\n#include &lt;sys/ioctl.h&gt;\r\n#include &lt;unistd.h&gt;\r\n\r\n#define ERROR_IOCTL 1\r\n#define ERROR_SOCKT 2\r\n\r\nstatic jboolean\r\ncstr_eq_jstr(JNIEnv *env, const char *cstr, jstring jstr) {\r\n    /* see [this](https://stackoverflow.com/a/38204842) */\r\n\r\n    jstring cstr_as_jstr = (*env)-&gt;NewStringUTF(env, cstr);\r\n    jclass cls = (*env)-&gt;GetObjectClass(env, jstr);\r\n    jmethodID method_id = (*env)-&gt;GetMethodID(env, cls, &quot;equals&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\r\n    jboolean equal = (*env)-&gt;CallBooleanMethod(env, jstr, method_id, cstr_as_jstr);\r\n    return equal;\r\n}\r\n\r\nstatic void\r\nget_mac_by_ifname(jchar *ifname, JNIEnv *env, jbyteArray arr, int *error) {\r\n    /* see [this](https://stackoverflow.com/a/1779758) */\r\n\r\n    struct ifreq ir;\r\n    struct ifconf ic;\r\n    char buf[BUF_SIZE];\r\n    int ret = 0, sock = socket(AF_INET, SOCK_DGRAM, IPPROTO_IP);\r\n\r\n    if (sock == -1) {\r\n        *error = ERROR_SOCKT;\r\n        return;\r\n    }\r\n\r\n    ic.ifc_len = BUF_SIZE;\r\n    ic.ifc_buf = buf;\r\n\r\n    ret = ioctl(sock, SIOCGIFCONF, &amp;ic);\r\n    if (ret) {\r\n        *error = ERROR_IOCTL;\r\n        goto err_cleanup;\r\n    }\r\n\r\n    struct ifreq *it = ic.ifc_req; /* iterator */\r\n    struct ifreq *end = it + (ic.ifc_len / sizeof(struct ifreq));\r\n\r\n    int found = 0; /* found interface named `ifname&#39; */\r\n\r\n    /* while we find an interface named `ifname&#39; or arrive end */\r\n    while (it &lt; end &amp;&amp; found == 0) {\r\n        strcpy(ir.ifr_name, it-&gt;ifr_name);\r\n        ret = ioctl(sock, SIOCGIFFLAGS, &amp;ir);\r\n        if (ret == 0) {\r\n            if (!(ir.ifr_flags &amp; IFF_LOOPBACK)) {\r\n                ret = ioctl(sock, SIOCGIFHWADDR, &amp;ir);\r\n                if (ret) {\r\n                    *error = ERROR_IOCTL;\r\n                    goto err_cleanup;\r\n                }\r\n\r\n                if (ifname != NULL) {\r\n                    if (cstr_eq_jstr(env, ir.ifr_name, ifname)) {\r\n                        found = 1;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            *error = ERROR_IOCTL;\r\n            goto err_cleanup;\r\n        }\r\n        ++it;\r\n    }\r\n\r\n    /* copy the MAC address to byte array */\r\n    (*env)-&gt;SetByteArrayRegion(env, arr, 0, 6, ir.ifr_hwaddr.sa_data);\r\n    /* cleanup, close the socket connection */\r\n    err_cleanup: close(sock);\r\n}\r\n\r\nJNIEXPORT jbyteArray JNICALL\r\nJava_com_example_getmymac_GetMyMacActivity_get_1mac_1addr(JNIEnv *env, jobject thiz,\r\n                                                          jstring interface_name) {\r\n    /* first, allocate space for the MAC address. */\r\n    jbyteArray mac_addr = (*env)-&gt;NewByteArray(env, MAC_ARR_LEN);\r\n    int error = 0;\r\n\r\n    /* then just call `get_mac_by_ifname&#39; function */\r\n    get_mac_by_ifname(interface_name, env, mac_addr, &amp;error);\r\n\r\n    return mac_addr;\r\n}\r\n```\r\n\r\nAnd finally, CMakeLists.txt file\r\n```cmake\r\ncmake_minimum_required(VERSION 3.4.1)\r\nadd_library(net-utils SHARED src/main/cpp/net-utils.c)\r\ntarget_link_libraries(net-utils android log)\r\n```","title":"Programmatically getting the MAC of an Android device","body":"<p>I know this is a very old question but there is one more method to do this. Code below compiles without errors but I haven't tried it.\nYou can write some C code and use JNI (Java Native Interface) to get MAC address.\nHere is the example main activity code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.getmymac;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class GetMyMacActivity extends AppCompatActivity {\n    static { // here we are importing native library.\n        // name of the library is libnet-utils.so, in cmake and java code\n        // we just use name &quot;net-utils&quot;.\n        System.loadLibrary(&quot;net-utils&quot;);\n    }\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_screen);\n\n        // some debug text and a TextView.\n        Log.d(NetUtilsActivity.class.getSimpleName(), &quot;Starting app...&quot;);\n        TextView text = findViewById(R.id.sample_text);\n\n        // the get_mac_addr native function, implemented in C code.\n        byte[] macArr = get_mac_addr(null);\n        // since it is a byte array, we format it and convert to string.\n        String val = String.format(&quot;%02x:%02x:%02x:%02x:%02x:%02x&quot;,\n                macArr[0], macArr[1], macArr[2],\n                macArr[3], macArr[4], macArr[5]);\n        // print it to log and TextView.\n        Log.d(NetUtilsActivity.class.getSimpleName(), val);\n        text.setText(val);\n    }\n\n    // here is the prototype of the native function.\n    // use native keyword to indicate it is a native function,\n    // implemented in C code.\n    private native byte[] get_mac_addr(String interface_name);\n}\n</code></pre>\n<p>And the layout file, main_screen.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/sample_text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/app_name&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Manifest file, I didn't know what permissions to add so I added some.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.getmymac&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity android:name=&quot;.GetMyMacActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>C implementation of get_mac_addr function.</p>\n<pre class=\"lang-c prettyprint-override\"><code>/* length of array that MAC address is stored. */\n#define MAC_ARR_LEN 6\n\n#define BUF_SIZE 256\n\n#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;arpa/inet.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;net/if.h&gt;\n#include &lt;sys/ioctl.h&gt;\n#include &lt;unistd.h&gt;\n\n#define ERROR_IOCTL 1\n#define ERROR_SOCKT 2\n\nstatic jboolean\ncstr_eq_jstr(JNIEnv *env, const char *cstr, jstring jstr) {\n    /* see [this](https://stackoverflow.com/a/38204842) */\n\n    jstring cstr_as_jstr = (*env)-&gt;NewStringUTF(env, cstr);\n    jclass cls = (*env)-&gt;GetObjectClass(env, jstr);\n    jmethodID method_id = (*env)-&gt;GetMethodID(env, cls, &quot;equals&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\n    jboolean equal = (*env)-&gt;CallBooleanMethod(env, jstr, method_id, cstr_as_jstr);\n    return equal;\n}\n\nstatic void\nget_mac_by_ifname(jchar *ifname, JNIEnv *env, jbyteArray arr, int *error) {\n    /* see [this](https://stackoverflow.com/a/1779758) */\n\n    struct ifreq ir;\n    struct ifconf ic;\n    char buf[BUF_SIZE];\n    int ret = 0, sock = socket(AF_INET, SOCK_DGRAM, IPPROTO_IP);\n\n    if (sock == -1) {\n        *error = ERROR_SOCKT;\n        return;\n    }\n\n    ic.ifc_len = BUF_SIZE;\n    ic.ifc_buf = buf;\n\n    ret = ioctl(sock, SIOCGIFCONF, &amp;ic);\n    if (ret) {\n        *error = ERROR_IOCTL;\n        goto err_cleanup;\n    }\n\n    struct ifreq *it = ic.ifc_req; /* iterator */\n    struct ifreq *end = it + (ic.ifc_len / sizeof(struct ifreq));\n\n    int found = 0; /* found interface named `ifname' */\n\n    /* while we find an interface named `ifname' or arrive end */\n    while (it &lt; end &amp;&amp; found == 0) {\n        strcpy(ir.ifr_name, it-&gt;ifr_name);\n        ret = ioctl(sock, SIOCGIFFLAGS, &amp;ir);\n        if (ret == 0) {\n            if (!(ir.ifr_flags &amp; IFF_LOOPBACK)) {\n                ret = ioctl(sock, SIOCGIFHWADDR, &amp;ir);\n                if (ret) {\n                    *error = ERROR_IOCTL;\n                    goto err_cleanup;\n                }\n\n                if (ifname != NULL) {\n                    if (cstr_eq_jstr(env, ir.ifr_name, ifname)) {\n                        found = 1;\n                    }\n                }\n            }\n        } else {\n            *error = ERROR_IOCTL;\n            goto err_cleanup;\n        }\n        ++it;\n    }\n\n    /* copy the MAC address to byte array */\n    (*env)-&gt;SetByteArrayRegion(env, arr, 0, 6, ir.ifr_hwaddr.sa_data);\n    /* cleanup, close the socket connection */\n    err_cleanup: close(sock);\n}\n\nJNIEXPORT jbyteArray JNICALL\nJava_com_example_getmymac_GetMyMacActivity_get_1mac_1addr(JNIEnv *env, jobject thiz,\n                                                          jstring interface_name) {\n    /* first, allocate space for the MAC address. */\n    jbyteArray mac_addr = (*env)-&gt;NewByteArray(env, MAC_ARR_LEN);\n    int error = 0;\n\n    /* then just call `get_mac_by_ifname' function */\n    get_mac_by_ifname(interface_name, env, mac_addr, &amp;error);\n\n    return mac_addr;\n}\n</code></pre>\n<p>And finally, CMakeLists.txt file</p>\n<pre><code>cmake_minimum_required(VERSION 3.4.1)\nadd_library(net-utils SHARED src/main/cpp/net-utils.c)\ntarget_link_libraries(net-utils android log)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26542700,"reputation":1,"user_id":20173195,"display_name":"JESNA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665552701,"creation_date":1665040330,"answer_id":73969869,"question_id":11705906,"body_markdown":"    Please add in AndroidManifest\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission \r\n        android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n// Get MAC Address, in an activity...\r\nString strMACAddress = getMacAddress_For_New_Tab(this); \r\n\r\n    public static String getMacAddress_For_New_Tab(Context context)\r\n    {\r\n        String macAddress=null;\r\n        WifiManager objwifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n        boolean wifiEnabled = objwifiManager.isWifiEnabled();\r\n        int LoopCounter=0;\r\n        while (macAddress==null) // Required if HD Security is Enabled.\r\n        {\r\n            if (wifiEnabled)\r\n            {\r\n                objwifiManager.setWifiEnabled(false);\r\n                objwifiManager.reconnect();\r\n                objwifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n            }\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M) //M Means Marshmellow.\r\n            {\r\n                // Do something for lollipop and above versions\r\n                macAddress = getMacAddr();\r\n            } else\r\n            {\r\n                // do something for phones running an SDK before lollipop\r\n                macAddress = objwifiManager.getConnectionInfo().getMacAddress();\r\n            }\r\n\r\n            // Required if HD Security is Enabled.\r\n            LoopCounter++;\r\n            if (LoopCounter&gt;2) break;\r\n        }\r\n        if (wifiEnabled)\r\n        {\r\n            objwifiManager.setWifiEnabled(wifiEnabled); // Retain Old.\r\n            objwifiManager.reconnect();\r\n            /*try\r\n            {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }*/\r\n        }\r\n        return macAddress; //Device don&#39;t have mac address or wi-fi is disabled if it is null.\r\n    }\r\n\r\n    public static String getMacAddr()\r\n    {\r\n        try {\r\n            List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\r\n            for (NetworkInterface nif : all)\r\n            {\r\n                if (CurrentStatus.ModelName.toUpperCase().equals(&quot;LENOVO TB-8705X&quot;))\r\n                {\r\n                    Thread.sleep(50);\r\n                }\r\n                if (!nif.getName().equalsIgnoreCase(&quot;wlan0&quot;)) continue;\r\n\r\n                byte[] macBytes = nif.getHardwareAddress();\r\n                if (macBytes == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n\r\n                StringBuilder res1 = new StringBuilder();\r\n                for (byte b : macBytes) {\r\n                    //res1.append(Integer.toHexString(b &amp; 0xFF) + &quot;:&quot;);\r\n                    res1.append(String.format(&quot;%02X:&quot;,b));\r\n                }\r\n\r\n                if (res1.length() &gt; 0) {\r\n                    res1.deleteCharAt(res1.length() - 1);\r\n                }\r\n                return res1.toString();\r\n            }\r\n        } catch (Exception ex) {\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\n","title":"Programmatically getting the MAC of an Android device","body":"<pre><code>Please add in AndroidManifest\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission \n    android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n</code></pre>\n<p>// Get MAC Address, in an activity...\nString strMACAddress = getMacAddress_For_New_Tab(this);</p>\n<pre><code>public static String getMacAddress_For_New_Tab(Context context)\n{\n    String macAddress=null;\n    WifiManager objwifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    boolean wifiEnabled = objwifiManager.isWifiEnabled();\n    int LoopCounter=0;\n    while (macAddress==null) // Required if HD Security is Enabled.\n    {\n        if (wifiEnabled)\n        {\n            objwifiManager.setWifiEnabled(false);\n            objwifiManager.reconnect();\n            objwifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n        }\n\n        if (android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M) //M Means Marshmellow.\n        {\n            // Do something for lollipop and above versions\n            macAddress = getMacAddr();\n        } else\n        {\n            // do something for phones running an SDK before lollipop\n            macAddress = objwifiManager.getConnectionInfo().getMacAddress();\n        }\n\n        // Required if HD Security is Enabled.\n        LoopCounter++;\n        if (LoopCounter&gt;2) break;\n    }\n    if (wifiEnabled)\n    {\n        objwifiManager.setWifiEnabled(wifiEnabled); // Retain Old.\n        objwifiManager.reconnect();\n        /*try\n        {\n            Thread.sleep(100);\n        } catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }*/\n    }\n    return macAddress; //Device don't have mac address or wi-fi is disabled if it is null.\n}\n\npublic static String getMacAddr()\n{\n    try {\n        List&lt;NetworkInterface&gt; all = Collections.list(NetworkInterface.getNetworkInterfaces());\n        for (NetworkInterface nif : all)\n        {\n            if (CurrentStatus.ModelName.toUpperCase().equals(&quot;LENOVO TB-8705X&quot;))\n            {\n                Thread.sleep(50);\n            }\n            if (!nif.getName().equalsIgnoreCase(&quot;wlan0&quot;)) continue;\n\n            byte[] macBytes = nif.getHardwareAddress();\n            if (macBytes == null) {\n                return &quot;&quot;;\n            }\n\n            StringBuilder res1 = new StringBuilder();\n            for (byte b : macBytes) {\n                //res1.append(Integer.toHexString(b &amp; 0xFF) + &quot;:&quot;);\n                res1.append(String.format(&quot;%02X:&quot;,b));\n            }\n\n            if (res1.length() &gt; 0) {\n                res1.deleteCharAt(res1.length() - 1);\n            }\n            return res1.toString();\n        }\n    } catch (Exception ex) {\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1686855,"reputation":1179,"user_id":1549952,"accept_rate":44,"display_name":"TSW1985"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201399,"favorite_count":0,"down_vote_count":3,"up_vote_count":109,"answer_count":14,"score":106,"last_activity_date":1665552701,"creation_date":1343524621,"question_id":11705906,"body_markdown":"I need to obtain the MAC address of my android device using Java. I&#39;ve searched online, but I haven&#39;t found anything useful.","title":"Programmatically getting the MAC of an Android device","body":"<p>I need to obtain the MAC address of my android device using Java. I've searched online, but I haven't found anything useful.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jsp"],"comments":[{"owner":{"account_id":20677749,"reputation":64,"user_id":15181978,"display_name":"Youssef Mohamed"},"score":0,"creation_date":1665552817,"post_id":74036634,"comment_id":130724468,"body_markdown":"I have awarded the first person answered the best answer","body":"I have awarded the first person answered the best answer"}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665550526,"creation_date":1665550526,"answer_id":74036657,"question_id":74036634,"body_markdown":"You can try wrapping the field with `&lt;b&gt;` or `&lt;h2&gt;`tag\r\n\r\n\r\n    &lt;%@ page isELIgnored =&quot;false&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;b&gt;&lt;c:out value=&quot;${Description}&quot; escapeXml=&quot;false&quot; /&gt;&lt;/b&gt; // like this\r\n    &lt;/body&gt;&lt;\r\n    /html&gt;","title":"JSP adds HTML to the view but doesn&#39;t execute it to the user","body":"<p>You can try wrapping the field with <code>&lt;b&gt;</code> or <code>&lt;h2&gt;</code>tag</p>\n<pre><code>&lt;%@ page isELIgnored =&quot;false&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;b&gt;&lt;c:out value=&quot;${Description}&quot; escapeXml=&quot;false&quot; /&gt;&lt;/b&gt; // like this\n&lt;/body&gt;&lt;\n/html&gt;\n</code></pre>\n"}],"owner":{"account_id":20677749,"reputation":64,"user_id":15181978,"display_name":"Youssef Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74036657,"answer_count":1,"score":0,"last_activity_date":1665552623,"creation_date":1665550381,"question_id":74036634,"body_markdown":"I wanted to insert html code to a jsp page so I used normal spring controller populated my model with html items, then once I start to render the data on the view ,it show the user a row html tags rather than an actual elements like:\r\n```\r\n&lt;p&gt; &lt;strong&gt; Description:&lt;/strong&gt;&lt;/p&gt;\r\n```\r\nI wanted to show the user an actual strong text not the tag itself ,anyone knows how to achieve that?\r\nmy view is like that: \r\n```\r\n&lt;%@ page isELIgnored =&quot;false&quot; %&gt;\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;c:out value=&quot;${Description}&quot; escapeXml=&quot;false&quot; /&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nany Idea how to solve it?\r\n\r\nEdit : part of the code where I send the html : \r\n```\r\nmodel.addAttribute(&quot;Description&quot;, jobpost.getDescription()\r\n\t\t\t.replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)\r\n\t\t\t.replace(&quot;&amp;gt;&quot;, &quot;&gt;&quot;)\r\n\t\t\t.replace(&quot;&amp;amp;&quot;, &quot;&amp;&quot;)\r\n\t\t\t.replace(&quot;&amp;quot;&quot;, &quot;\\&quot;&quot;)\r\n\t\t\t.replace(&quot;&amp;apos;&quot;, &quot;\\\\&quot;));\r\n```\r\nEdit 2 : it finally worked guys It was a problem with the above code I forgot to insert ; at the end of &amp; lt;","title":"JSP adds HTML to the view but doesn&#39;t execute it to the user","body":"<p>I wanted to insert html code to a jsp page so I used normal spring controller populated my model with html items, then once I start to render the data on the view ,it show the user a row html tags rather than an actual elements like:</p>\n<pre><code>&lt;p&gt; &lt;strong&gt; Description:&lt;/strong&gt;&lt;/p&gt;\n</code></pre>\n<p>I wanted to show the user an actual strong text not the tag itself ,anyone knows how to achieve that?\nmy view is like that:</p>\n<pre><code>&lt;%@ page isELIgnored =&quot;false&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;c:out value=&quot;${Description}&quot; escapeXml=&quot;false&quot; /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>any Idea how to solve it?</p>\n<p>Edit : part of the code where I send the html :</p>\n<pre><code>model.addAttribute(&quot;Description&quot;, jobpost.getDescription()\n            .replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)\n            .replace(&quot;&amp;gt;&quot;, &quot;&gt;&quot;)\n            .replace(&quot;&amp;amp;&quot;, &quot;&amp;&quot;)\n            .replace(&quot;&amp;quot;&quot;, &quot;\\&quot;&quot;)\n            .replace(&quot;&amp;apos;&quot;, &quot;\\\\&quot;));\n</code></pre>\n<p>Edit 2 : it finally worked guys It was a problem with the above code I forgot to insert ; at the end of &amp; lt;</p>\n"},{"tags":["java","spring-boot","docker","maven","jib"],"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665552576,"creation_date":1665552576,"question_id":74036899,"body_markdown":"so i have been trying to deploy my spring microservices using jib and it has been really fustrating :(\r\nI have been jumping from one issue to another and right now i dont how to get out of this present situation... I have used openjdk 17 alphine and this is the logs i get from my build...\r\n```\r\nPS C:\\xampp\\htdocs\\weddingapp-main\\weddingapp&gt; mvn clean compile jib:build -rf :discovery-service                                                                                               [INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO]\r\n[INFO] discovery-service                                                  [jar]\r\n[INFO] api-gateway                                                        [jar]\r\n[INFO] wedding                                                            [jar]\r\n[INFO] users                                                              [jar]\r\n[INFO]\r\n[INFO] -----------------&lt; com.slinkdigital:discovery-service &gt;-----------------\r\n[INFO] Building discovery-service 1.0-SNAPSHOT                            [1/4]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ discovery-service ---\r\n[INFO] Deleting C:\\xampp\\htdocs\\weddingapp-main\\weddingapp\\discovery-service\\target\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ discovery-service ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 2 resources\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ discovery-service ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 2 source files to C:\\xampp\\htdocs\\weddingapp-main\\weddingapp\\discovery-service\\target\\classes\r\n[INFO]\r\n[INFO] --- jib-maven-plugin:3.3.0:build (default-cli) @ discovery-service ---\r\n[INFO]\r\n[INFO] Containerizing application to registry.hub.docker.com/davidtega/discovery-service...\r\n[INFO] Using credentials from Maven settings file for registry.hub.docker.com/davidtega/discovery-service\r\n[INFO]\r\n[INFO] Container entrypoint set to [java, -cp, @/app/jib-classpath-file, com.slinkdigital.eureka.DiscoveryServiceApplication]\r\n[WARNING] PATCH https://registry.hub.docker.com/v2/davidtega/discovery-service/blobs/uploads/79257277-0299-4f05-90cc-e33f34d3a44a?_state=P1UgMi0NjbwAR3C9mu77RBBM0P2yRJNUC5Qz-wEGppl7Ik5hbWUiOiJkYXZpZHRlZ2EvZGlzY292ZXJ5LXNlcnZpY2UiLCJVVUlEIjoiNzkyNTcyNzctMDI5OS00ZjA1LTkwY2MtZTMzZjM0ZDNhNDRhIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIyLTEwLTEyVDA0OjMyOjU2Ljg4OTcxNzc4OFoifQ%3D%3D failed and will NOT be retried\r\n[ERROR] I/O error for image [registry.hub.docker.com/davidtega/discovery-service]:\r\n[ERROR]     java.net.SocketException\r\n[ERROR]     An established connection was aborted by the software in your host machine\r\n[INFO] Executing tasks:\r\n[INFO] [=======================       ] 77.8% complete\r\n[INFO] &gt; launching layer pushers\r\n[INFO] &gt; scheduling pushing manifests\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for discovery-service 1.0-SNAPSHOT:\r\n[INFO]\r\n[INFO] discovery-service .................................. FAILURE [32:57 min]\r\n[INFO] api-gateway ........................................ SKIPPED\r\n[INFO] wedding ............................................ SKIPPED\r\n[INFO] users .............................................. SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  32:58 min\r\n[INFO] Finished at: 2022-10-12T06:05:32+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.3.0:build (default-cli) on project discovery-service: An established connection was aborted by the software in your host machine -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\nI have restarted my pc severally, cleaned up my config.json file and tried every other solution i have seen but its still not working, i will appreciate the assistance... Thanks","title":"mvn clean compile jib:build failed","body":"<p>so i have been trying to deploy my spring microservices using jib and it has been really fustrating :(\nI have been jumping from one issue to another and right now i dont how to get out of this present situation... I have used openjdk 17 alphine and this is the logs i get from my build...</p>\n<pre><code>PS C:\\xampp\\htdocs\\weddingapp-main\\weddingapp&gt; mvn clean compile jib:build -rf :discovery-service                                                                                               [INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO]\n[INFO] discovery-service                                                  [jar]\n[INFO] api-gateway                                                        [jar]\n[INFO] wedding                                                            [jar]\n[INFO] users                                                              [jar]\n[INFO]\n[INFO] -----------------&lt; com.slinkdigital:discovery-service &gt;-----------------\n[INFO] Building discovery-service 1.0-SNAPSHOT                            [1/4]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ discovery-service ---\n[INFO] Deleting C:\\xampp\\htdocs\\weddingapp-main\\weddingapp\\discovery-service\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ discovery-service ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ discovery-service ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2 source files to C:\\xampp\\htdocs\\weddingapp-main\\weddingapp\\discovery-service\\target\\classes\n[INFO]\n[INFO] --- jib-maven-plugin:3.3.0:build (default-cli) @ discovery-service ---\n[INFO]\n[INFO] Containerizing application to registry.hub.docker.com/davidtega/discovery-service...\n[INFO] Using credentials from Maven settings file for registry.hub.docker.com/davidtega/discovery-service\n[INFO]\n[INFO] Container entrypoint set to [java, -cp, @/app/jib-classpath-file, com.slinkdigital.eureka.DiscoveryServiceApplication]\n[WARNING] PATCH https://registry.hub.docker.com/v2/davidtega/discovery-service/blobs/uploads/79257277-0299-4f05-90cc-e33f34d3a44a?_state=P1UgMi0NjbwAR3C9mu77RBBM0P2yRJNUC5Qz-wEGppl7Ik5hbWUiOiJkYXZpZHRlZ2EvZGlzY292ZXJ5LXNlcnZpY2UiLCJVVUlEIjoiNzkyNTcyNzctMDI5OS00ZjA1LTkwY2MtZTMzZjM0ZDNhNDRhIiwiT2Zmc2V0IjowLCJTdGFydGVkQXQiOiIyMDIyLTEwLTEyVDA0OjMyOjU2Ljg4OTcxNzc4OFoifQ%3D%3D failed and will NOT be retried\n[ERROR] I/O error for image [registry.hub.docker.com/davidtega/discovery-service]:\n[ERROR]     java.net.SocketException\n[ERROR]     An established connection was aborted by the software in your host machine\n[INFO] Executing tasks:\n[INFO] [=======================       ] 77.8% complete\n[INFO] &gt; launching layer pushers\n[INFO] &gt; scheduling pushing manifests\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for discovery-service 1.0-SNAPSHOT:\n[INFO]\n[INFO] discovery-service .................................. FAILURE [32:57 min]\n[INFO] api-gateway ........................................ SKIPPED\n[INFO] wedding ............................................ SKIPPED\n[INFO] users .............................................. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  32:58 min\n[INFO] Finished at: 2022-10-12T06:05:32+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.3.0:build (default-cli) on project discovery-service: An established connection was aborted by the software in your host machine -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I have restarted my pc severally, cleaned up my config.json file and tried every other solution i have seen but its still not working, i will appreciate the assistance... Thanks</p>\n"},{"tags":["java","android","kotlin","mapmyindia-api"],"answers":[{"tags":[],"owner":{"account_id":20568645,"reputation":2034,"user_id":15097422,"display_name":"lets start coding"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665498290,"creation_date":1665498290,"answer_id":74029752,"question_id":74029571,"body_markdown":"There is one more place where you should import the.\r\n\r\nin ```settings.gradle``` ```Project Settings``` and\r\nshould look something like this\r\n```\r\npluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://maven.mapmyindia.com/repository/mapmyindia/&#39; }\r\n    }\r\n}\r\nrootProject.name = &quot;This is Sparta&quot;\r\ninclude &#39;:app&#39;\r\n\r\n```\r\n\r\nThat should do the trick.","title":"How I can use MapMyIndia in kotlin?","body":"<p>There is one more place where you should import the.</p>\n<p>in <code>settings.gradle</code> <code>Project Settings</code> and\nshould look something like this</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://maven.mapmyindia.com/repository/mapmyindia/' }\n    }\n}\nrootProject.name = &quot;This is Sparta&quot;\ninclude ':app'\n\n</code></pre>\n<p>That should do the trick.</p>\n"}],"owner":{"account_id":26591212,"reputation":23,"user_id":20214414,"display_name":"Norwind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74029752,"answer_count":1,"score":2,"last_activity_date":1665552562,"creation_date":1665497565,"question_id":74029571,"body_markdown":"I can&#39;t use MapMyIndia in kotlin, I need to know how I can install it.\r\n\r\nNow in my code I got this:\r\n\r\n**Project level build.gradle**\r\n\r\n```gradle\r\nmaven {\r\n            url &#39;https://maven.mapmyindia.com/repository/mapmyindia/&#39;\r\n        }\r\n```\r\n\r\n**App level dependency build.gradle**\r\n\r\n```gradle\r\nimplementation &#39;com.mapmyindia.sdk:mapmyindia-android-sdk:6.8.2&#39;\r\n```\r\n\r\nBut when I want to use anything with MapMyIndia on my activity or xml I got none about it.","title":"How I can use MapMyIndia in kotlin?","body":"<p>I can't use MapMyIndia in kotlin, I need to know how I can install it.</p>\n<p>Now in my code I got this:</p>\n<p><strong>Project level build.gradle</strong></p>\n<pre><code>maven {\n            url 'https://maven.mapmyindia.com/repository/mapmyindia/'\n        }\n</code></pre>\n<p><strong>App level dependency build.gradle</strong></p>\n<pre><code>implementation 'com.mapmyindia.sdk:mapmyindia-android-sdk:6.8.2'\n</code></pre>\n<p>But when I want to use anything with MapMyIndia on my activity or xml I got none about it.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665513309,"post_id":74032580,"comment_id":130717010,"body_markdown":"Why though? What&#39;s your use-case?","body":"Why though? What&#39;s your use-case?"},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1665513460,"post_id":74032580,"comment_id":130717050,"body_markdown":"@knittl  this is a simple representation of the actual problem, ${test_key} will change environment to environment, so we want to set it using env variable for that environment rather than hard-coding the key","body":"@knittl  this is a simple representation of the actual problem, ${test_key} will change environment to environment, so we want to set it using env variable for that environment rather than hard-coding the key"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665513635,"post_id":74032580,"comment_id":130717109,"body_markdown":"Can you use multiple application files and pick the right one on profile? You would have one profile per environment, e.g. `application-prod.yml`, `application-staging.yml`, `application-dev.yml` or maybe more explicit `application-env-prod.yml`","body":"Can you use multiple application files and pick the right one on profile? You would have one profile per environment, e.g. <code>application-prod.yml</code>, <code>application-staging.yml</code>, <code>application-dev.yml</code> or maybe more explicit <code>application-env-prod.yml</code>"},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1665513725,"post_id":74032580,"comment_id":130717146,"body_markdown":"right now as the application using single application.yml and we cannot change this structure, so we are seeing the work around to make it work using env variable","body":"right now as the application using single application.yml and we cannot change this structure, so we are seeing the work around to make it work using env variable"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665513823,"post_id":74032580,"comment_id":130717171,"body_markdown":"But spring already supports multiple application files out of the box, you only need to put them in the directory to be picked up.","body":"But spring already supports multiple application files out of the box, you only need to put them in the directory to be picked up."},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1665514050,"post_id":74032580,"comment_id":130717258,"body_markdown":"yeah I know, but our application is strictly following to maintain a single yml file though this is not good design, but we have no choice except follow the same, so could you please let me if we can do it this way ? is there any support in spring for this ?","body":"yeah I know, but our application is strictly following to maintain a single yml file though this is not good design, but we have no choice except follow the same, so could you please let me if we can do it this way ? is there any support in spring for this ?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665552305,"creation_date":1665514311,"answer_id":74032813,"question_id":74032580,"body_markdown":"Spring Boot can handle different application configuration files and loads them depending on profile. With YAML configuration, a single `application.yml` file can contain multiple documents and each document can be enabled for a certain profile.\r\n\r\nHow properties and profiles are loaded has changed with Spring Boot 2.4 and you can read the details in the Spring blog: &lt;https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4&gt;.\r\n\r\nSo it is not possible to expand variables in keys, but you can define multiple profiles in a single file:\r\n\r\n**`application.yml`**:\r\n```\r\nspring.profiles: env-prod\r\nmydata:\r\n  prod: \r\n    value1: test_value1\r\n    value2: test_value2\r\n---\r\nspring.profiles: env-staging\r\nmydata:\r\n  staging:\r\n    value1: test_value1\r\n    value2: test_value2\r\n```\r\n\r\nThen you can start your application with `--spring-profiles-active=env-staging` or `--spring-profiles-active=env-prod`.\r\n\r\nBut now, whenever you read the config, you also need to use the correct key. So I would suggest not changing the key depending on environment, but instead use the same key and load different configuration on environment/profile. I&#39;m pretty sure that changing the key makes the overall design of your application more complicated.","title":"use env variable as key in application.yml","body":"<p>Spring Boot can handle different application configuration files and loads them depending on profile. With YAML configuration, a single <code>application.yml</code> file can contain multiple documents and each document can be enabled for a certain profile.</p>\n<p>How properties and profiles are loaded has changed with Spring Boot 2.4 and you can read the details in the Spring blog: <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4</a>.</p>\n<p>So it is not possible to expand variables in keys, but you can define multiple profiles in a single file:</p>\n<p><strong><code>application.yml</code></strong>:</p>\n<pre><code>spring.profiles: env-prod\nmydata:\n  prod: \n    value1: test_value1\n    value2: test_value2\n---\nspring.profiles: env-staging\nmydata:\n  staging:\n    value1: test_value1\n    value2: test_value2\n</code></pre>\n<p>Then you can start your application with <code>--spring-profiles-active=env-staging</code> or <code>--spring-profiles-active=env-prod</code>.</p>\n<p>But now, whenever you read the config, you also need to use the correct key. So I would suggest not changing the key depending on environment, but instead use the same key and load different configuration on environment/profile. I'm pretty sure that changing the key makes the overall design of your application more complicated.</p>\n"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665552305,"creation_date":1665512907,"question_id":74032580,"body_markdown":"my application.yml look like as below:-\r\n\r\n    mydata:\r\n      ${test_key}: \r\n        value1: test_value1\r\n        value2: test_value2\r\n\r\n**${test_key}** is set through env variable, but it seems this is not working, yml file is not picking up the value for ${test_key} from env variable and parse it.\r\n\r\n**${test_key}** will change env to env so we want to pick this value from env variable\r\n\r\nCould you please let me know how to achieve this ?","title":"use env variable as key in application.yml","body":"<p>my application.yml look like as below:-</p>\n<pre><code>mydata:\n  ${test_key}: \n    value1: test_value1\n    value2: test_value2\n</code></pre>\n<p><strong>${test_key}</strong> is set through env variable, but it seems this is not working, yml file is not picking up the value for ${test_key} from env variable and parse it.</p>\n<p><strong>${test_key}</strong> will change env to env so we want to pick this value from env variable</p>\n<p>Could you please let me know how to achieve this ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1665498457,"post_id":74029642,"comment_id":130711769,"body_markdown":"Look at the docs, search for the word &#39;offset&#39; https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","body":"Look at the docs, search for the word &#39;offset&#39; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>"},{"owner":{"account_id":22375988,"reputation":1,"user_id":16590244,"display_name":"Haroon "},"score":0,"creation_date":1665499297,"post_id":74029642,"comment_id":130712130,"body_markdown":"Thanks @Michael but the predefined formatters include seconds as well.","body":"Thanks @Michael but the predefined formatters include seconds as well."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1665499438,"post_id":74029642,"comment_id":130712203,"body_markdown":"I wasn&#39;t suggesting you use the predefined formatters. Scroll down! There is an explanation of the pattern characters.","body":"I wasn&#39;t suggesting you use the predefined formatters. Scroll down! There is an explanation of the pattern characters."},{"owner":{"account_id":22375988,"reputation":1,"user_id":16590244,"display_name":"Haroon "},"score":0,"creation_date":1665501243,"post_id":74029642,"comment_id":130712825,"body_markdown":"Ah, I see, there are characters to represent zone Offset. So it should be able to get the desired pattern and convert that to OffsetDateTime or will I have to get the startTime and endTime as String and then apply the pattern?","body":"Ah, I see, there are characters to represent zone Offset. So it should be able to get the desired pattern and convert that to OffsetDateTime or will I have to get the startTime and endTime as String and then apply the pattern?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665523054,"post_id":74029642,"comment_id":130719875,"body_markdown":"You seem to be ignoring the offset in an `OffsetDateTime` object. Do you understand that a date with time but no offset or time zone is inherently ambiguous?","body":"You seem to be ignoring the offset in an <code>OffsetDateTime</code> object. Do you understand that a date with time but no offset or time zone is inherently ambiguous?"}],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665499083,"creation_date":1665499083,"answer_id":74029947,"question_id":74029642,"body_markdown":"I think one way to do this is by getting the startTime and endTime by request parameter which gives it in string, format that and then cast them in your OffSetDateTime.","title":"Is there a way to get Custom DateTime Pattern With TimeZone Offset as Request Param in Java?","body":"<p>I think one way to do this is by getting the startTime and endTime by request parameter which gives it in string, format that and then cast them in your OffSetDateTime.</p>\n"},{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665551710,"creation_date":1665551710,"answer_id":74036792,"question_id":74029642,"body_markdown":"```\r\n// OffsetDateTime\r\nDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy &#39;at&#39; hh:mm a xx&quot;);\r\nprint(&quot;OffsetDateTime&quot;, formatter1.format(OffsetDateTime.now()));\r\n        \r\n// OffsetTime\r\nDateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(&quot;hh:mm a xx&quot;);\r\nprint(&quot;OffsetTime&quot;, formatter2.format(OffsetTime.now()));\r\n\r\nstatic void print(String type, String result) {\r\n\tSystem.out.printf(&quot;%s: %s\\n&quot;, type, result);\r\n}\r\n```\r\nYour output will look like\r\n\r\n```\r\nOffsetDateTime: 10/12/2022 at 10:40 AM +0530\r\nOffsetTime: 10:40 AM +0530\r\n\r\n```\r\nHope it helps","title":"Is there a way to get Custom DateTime Pattern With TimeZone Offset as Request Param in Java?","body":"<pre><code>// OffsetDateTime\nDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy 'at' hh:mm a xx&quot;);\nprint(&quot;OffsetDateTime&quot;, formatter1.format(OffsetDateTime.now()));\n        \n// OffsetTime\nDateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(&quot;hh:mm a xx&quot;);\nprint(&quot;OffsetTime&quot;, formatter2.format(OffsetTime.now()));\n\nstatic void print(String type, String result) {\n    System.out.printf(&quot;%s: %s\\n&quot;, type, result);\n}\n</code></pre>\n<p>Your output will look like</p>\n<pre><code>OffsetDateTime: 10/12/2022 at 10:40 AM +0530\nOffsetTime: 10:40 AM +0530\n\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":22375988,"reputation":1,"user_id":16590244,"display_name":"Haroon "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665551710,"creation_date":1665497840,"question_id":74029642,"body_markdown":"I want to create an API that would take the startTime and endTime `OffsetDateTime` as Request Param with custom DateTimePattern along with TimeZone Offset value as well.\r\nI want the DateTime pattern to take value up to minutes only. Like this `yyyy-MM-dd HH:mm` but I don&#39;t know how to add offset information in this pattern.\r\nBelow is the Controller class\r\n\r\n    public ResponseEntity&lt;Object&gt; getUsers(\r\n            @RequestParam @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;) OffsetDateTime startTime,\r\n            @RequestParam @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;) OffsetDateTime endTime)\r\n\r\nIs there a way to achieve this?\r\nThe purpose of this API is to get the Data based on startTime and endTime and also handle the TimeZone as well.","title":"Is there a way to get Custom DateTime Pattern With TimeZone Offset as Request Param in Java?","body":"<p>I want to create an API that would take the startTime and endTime <code>OffsetDateTime</code> as Request Param with custom DateTimePattern along with TimeZone Offset value as well.\nI want the DateTime pattern to take value up to minutes only. Like this <code>yyyy-MM-dd HH:mm</code> but I don't know how to add offset information in this pattern.\nBelow is the Controller class</p>\n<pre><code>public ResponseEntity&lt;Object&gt; getUsers(\n        @RequestParam @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;) OffsetDateTime startTime,\n        @RequestParam @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;) OffsetDateTime endTime)\n</code></pre>\n<p>Is there a way to achieve this?\nThe purpose of this API is to get the Data based on startTime and endTime and also handle the TimeZone as well.</p>\n"},{"tags":["java","datetime","simpledateformat"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1445052011,"post_id":33182330,"comment_id":54171656,"body_markdown":"Sounds more like you&#39;re talking about a duration or period","body":"Sounds more like you&#39;re talking about a duration or period"},{"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"score":0,"creation_date":1445052359,"post_id":33182330,"comment_id":54171717,"body_markdown":"i&#39;m not clear. I just want incremental hour field. Maybe big result similar : &quot;99999:15:05&quot;.","body":"i&#39;m not clear. I just want incremental hour field. Maybe big result similar : &quot;99999:15:05&quot;."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1445055127,"post_id":33182330,"comment_id":54172184,"body_markdown":"Yeah, so we&#39;re talking about a duration of time from 0 to something","body":"Yeah, so we&#39;re talking about a duration of time from 0 to something"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445052532,"creation_date":1445052532,"answer_id":33182417,"question_id":33182330,"body_markdown":"`SimpleDateFormat` can&#39;t do that, but you can do it yourself, by parsing the input with a regular expression, and formatting the output with the `format` method.\r\n\r\n\tprivate static String addTime(String ... times) {\r\n\t\tif (times.length &lt; 2)\r\n\t\t\tthrow new IllegalArgumentException(&quot;At least 2 times are required&quot;);\r\n\t\tPattern timePattern = Pattern.compile(&quot;([0-9]+):([0-5][0-9]):([0-5][0-9])&quot;);\r\n\t\t\r\n\t\t// Parse times and sum hours, minutes, and seconds\r\n\t\tint hour = 0, minute = 0, second = 0;\r\n\t\tfor (String time : times) {\r\n\t\t\tMatcher m = timePattern.matcher(time);\r\n\t\t\tif (! m.matches())\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid time: &quot; + time);\r\n\t\t\thour   += Integer.parseInt(m.group(1));\r\n\t\t\tminute += Integer.parseInt(m.group(2));\r\n\t\t\tsecond += Integer.parseInt(m.group(3));\r\n\t\t}\r\n\t\t\r\n\t\t// Handle overflow\r\n\t\tminute += second / 60;   second %= 60;\r\n\t\thour   += minute / 60;   minute %= 60;\r\n\t\t\r\n\t\t// Format and return result\r\n\t\treturn String.format(&quot;%02d:%02d:%02d&quot;, hour, minute, second);\r\n\t}\r\n\r\n*Test*\r\n\r\n\tSystem.out.println(addTime(&quot;20:15:30&quot;, &quot;13:50:35&quot;));\r\n\tSystem.out.println(addTime(&quot;20:15:30&quot;, &quot;13:50:35&quot;, &quot;20:15:30&quot;, &quot;13:50:35&quot;));\r\n\tSystem.out.println(addTime(&quot;98765:43:21&quot;, &quot;12:34:56&quot;));\r\n\r\n*Output*\r\n\r\n\t34:06:05\r\n\t68:12:10\r\n\t98778:18:17","title":"add string time with overflow hour in java","body":"<p><code>SimpleDateFormat</code> can't do that, but you can do it yourself, by parsing the input with a regular expression, and formatting the output with the <code>format</code> method.</p>\n\n<pre><code>private static String addTime(String ... times) {\n    if (times.length &lt; 2)\n        throw new IllegalArgumentException(\"At least 2 times are required\");\n    Pattern timePattern = Pattern.compile(\"([0-9]+):([0-5][0-9]):([0-5][0-9])\");\n\n    // Parse times and sum hours, minutes, and seconds\n    int hour = 0, minute = 0, second = 0;\n    for (String time : times) {\n        Matcher m = timePattern.matcher(time);\n        if (! m.matches())\n            throw new IllegalArgumentException(\"Invalid time: \" + time);\n        hour   += Integer.parseInt(m.group(1));\n        minute += Integer.parseInt(m.group(2));\n        second += Integer.parseInt(m.group(3));\n    }\n\n    // Handle overflow\n    minute += second / 60;   second %= 60;\n    hour   += minute / 60;   minute %= 60;\n\n    // Format and return result\n    return String.format(\"%02d:%02d:%02d\", hour, minute, second);\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre><code>System.out.println(addTime(\"20:15:30\", \"13:50:35\"));\nSystem.out.println(addTime(\"20:15:30\", \"13:50:35\", \"20:15:30\", \"13:50:35\"));\nSystem.out.println(addTime(\"98765:43:21\", \"12:34:56\"));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre><code>34:06:05\n68:12:10\n98778:18:17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530510128,"creation_date":1445057127,"answer_id":33182836,"question_id":33182330,"body_markdown":"You could simply take advantage of either Java 8&#39;s or Joda Time&#39;s duration capabilities.\r\n\r\nFor example, this simply creates a duration which is the sum of the number of seconds of the two times\r\n\r\n\tLocalTime lt1 = LocalTime.parse(&quot;20:15:30&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;));\r\n\tLocalTime lt2 = LocalTime.parse(&quot;13:50:35&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;));\r\n\t\t\r\n\t//long t = lt1.toSecondOfDay() + lt2.toSecondOfDay();\r\n\t//Duration duration = Duration.ofSeconds(t);\r\n    Duration duration = Duration.between(lt2, lt1);\r\n\tSystem.out.println(formatDuration(duration));\r\n\r\nWhich prints out `34:06:05`\r\n\r\n**formatDuration method**\r\n\r\n\tpublic static String formatDuration(Duration duration) {\r\n\t\t\r\n\t\tlong hours = duration.toHours();\r\n\t\tduration = duration.minusHours(hours);\r\n\t\tlong minutes = duration.toMinutes();\r\n\t\tduration = duration.minusMinutes(minutes);\r\n\t\tlong seconds = duration.getSeconds();\r\n\t\t\r\n\t\treturn String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n\t}\r\n","title":"add string time with overflow hour in java","body":"<p>You could simply take advantage of either Java 8's or Joda Time's duration capabilities.</p>\n\n<p>For example, this simply creates a duration which is the sum of the number of seconds of the two times</p>\n\n<pre><code>LocalTime lt1 = LocalTime.parse(\"20:15:30\", DateTimeFormatter.ofPattern(\"HH:mm:ss\"));\nLocalTime lt2 = LocalTime.parse(\"13:50:35\", DateTimeFormatter.ofPattern(\"HH:mm:ss\"));\n\n//long t = lt1.toSecondOfDay() + lt2.toSecondOfDay();\n//Duration duration = Duration.ofSeconds(t);\nDuration duration = Duration.between(lt2, lt1);\nSystem.out.println(formatDuration(duration));\n</code></pre>\n\n<p>Which prints out <code>34:06:05</code></p>\n\n<p><strong>formatDuration method</strong></p>\n\n<pre><code>public static String formatDuration(Duration duration) {\n\n    long hours = duration.toHours();\n    duration = duration.minusHours(hours);\n    long minutes = duration.toMinutes();\n    duration = duration.minusMinutes(minutes);\n    long seconds = duration.getSeconds();\n\n    return String.format(\"%02d:%02d:%02d\", hours, minutes, seconds);\n}\n</code></pre>\n"}],"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665551430,"creation_date":1445051402,"question_id":33182330,"body_markdown":"I want to add string time with format HH:mm:ss and special hour field. Example :\r\n`&quot;20:15:30&quot;` (string) add `&quot;13:50:35&quot;` (string) -&gt; result i want : **&quot;34:06:05&quot;** (string).\r\nI have search similar code :\r\n\r\n        String time1=&quot;20:15:30&quot;;\r\n\t\tString time2=&quot;13:50:35&quot;;\r\n\r\n\t\tSimpleDateFormat timeFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\t\ttimeFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\tDate date1 = timeFormat.parse(time1);\r\n\t\tDate date2 = timeFormat.parse(time2);\r\n\t\tlong sum = date1.getTime() + date2.getTime();\r\n\r\n\t\tString date3 = timeFormat.format(new Date(sum));\r\n\t\tSystem.out.println(&quot;The sum is &quot;+ date3);\r\nAnd result of above code : `The sum is 10:06:05` not i want. How is easy way to do this ?","title":"add string time with overflow hour in java","body":"<p>I want to add string time with format HH:mm:ss and special hour field. Example :\n<code>\"20:15:30\"</code> (string) add <code>\"13:50:35\"</code> (string) -> result i want : <strong>\"34:06:05\"</strong> (string).\nI have search similar code :</p>\n\n<pre><code>    String time1=\"20:15:30\";\n    String time2=\"13:50:35\";\n\n    SimpleDateFormat timeFormat = new SimpleDateFormat(\"HH:mm:ss\");\n    timeFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    Date date1 = timeFormat.parse(time1);\n    Date date2 = timeFormat.parse(time2);\n    long sum = date1.getTime() + date2.getTime();\n\n    String date3 = timeFormat.format(new Date(sum));\n    System.out.println(\"The sum is \"+ date3);\n</code></pre>\n\n<p>And result of above code : <code>The sum is 10:06:05</code> not i want. How is easy way to do this ?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665504975,"post_id":74031097,"comment_id":130714216,"body_markdown":"Can you show the error","body":"Can you show the error"}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665504852,"creation_date":1665504852,"answer_id":74031161,"question_id":74031097,"body_markdown":"Write operations need to be executed differently than read operations, you also need to annotate the repository method with a @Modifying annotation. Hence put @Modifying above the delete Query.\r\n```\r\n@Modifying\r\n@Query(value=&quot;delete from student s where s.name= :name&quot;,nativeQuery = true) \r\nvoid deleteStudentByName(String name); \r\n```\r\nI suggest you to not write nativeQuery and learn JPQL because\r\n1.\tPagination of native query results requires an extra step.\r\n2.\tSpring Data JPA doesn’t support dynamic sorting for native SQL statements.\r\n","title":"Native query not working for write ,delete and update operation","body":"<p>Write operations need to be executed differently than read operations, you also need to annotate the repository method with a @Modifying annotation. Hence put @Modifying above the delete Query.</p>\n<pre><code>@Modifying\n@Query(value=&quot;delete from student s where s.name= :name&quot;,nativeQuery = true) \nvoid deleteStudentByName(String name); \n</code></pre>\n<p>I suggest you to not write nativeQuery and learn JPQL because</p>\n<ol>\n<li>Pagination of native query results requires an extra step.</li>\n<li>Spring Data JPA doesn’t support dynamic sorting for native SQL statements.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665548518,"creation_date":1665507286,"answer_id":74031597,"question_id":74031097,"body_markdown":"Use can use the JPQL Query like void deleteByName(String name);","title":"Native query not working for write ,delete and update operation","body":"<p>Use can use the JPQL Query like void deleteByName(String name);</p>\n"},{"tags":[],"owner":{"account_id":17489811,"reputation":59,"user_id":12682195,"display_name":"Younis Abbasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510687,"creation_date":1665510687,"answer_id":74032190,"question_id":74031097,"body_markdown":"Just try to use this code inside your repo\r\n\r\n       @Modifying\r\n       @Transactional\r\n       @Query(value=&quot;delete from student s where s.name= ?1&quot;,nativeQuery = true)\r\n       void deleteStudentByName(String name);\r\n\r\n","title":"Native query not working for write ,delete and update operation","body":"<p>Just try to use this code inside your repo</p>\n<pre><code>   @Modifying\n   @Transactional\n   @Query(value=&quot;delete from student s where s.name= ?1&quot;,nativeQuery = true)\n   void deleteStudentByName(String name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665551259,"creation_date":1665551259,"answer_id":74036740,"question_id":74031097,"body_markdown":"You can try this query\r\n\r\n    @Query(&quot;DELETE FROM Student c WHERE c.name = ?1&quot;)\r\n        void deleteStudentByName(String name);\r\nAnd I suggest you learn how to write  JPQL queries: https://www.javatpoint.com/jpa-jpql-introduction\r\n","title":"Native query not working for write ,delete and update operation","body":"<p>You can try this query</p>\n<pre><code>@Query(&quot;DELETE FROM Student c WHERE c.name = ?1&quot;)\n    void deleteStudentByName(String name);\n</code></pre>\n<p>And I suggest you learn how to write  JPQL queries: <a href=\"https://www.javatpoint.com/jpa-jpql-introduction\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jpa-jpql-introduction</a></p>\n"}],"owner":{"account_id":26592176,"reputation":13,"user_id":20215205,"display_name":"Andrew Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74031161,"answer_count":4,"score":1,"last_activity_date":1665551259,"creation_date":1665504566,"question_id":74031097,"body_markdown":"I am new to springboot and facing issue in JPQL,nativeQuery. While doing read operation native query is working\r\n```\r\n@Query(value=&quot;select * from student s where s.name= :name&quot;, nativeQuery=true)\r\nList&lt;Student&gt; getStudentByName(String name);\r\n```\r\n\r\nworking but its not working when doing delete operation on database\r\n```\r\n    @Query(value=&quot;delete from student s where s.name= :name&quot;,nativeQuery = true)\r\n    void deleteStudentByName(String name);\r\n```\r\n\r\nEntity Class\r\n\r\n```\r\n\r\n    package com.example.demo.test.entity;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Student {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n        private Integer age;\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic Integer getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(Integer age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    }\r\n\r\n```\r\nPlease help. Thank you","title":"Native query not working for write ,delete and update operation","body":"<p>I am new to springboot and facing issue in JPQL,nativeQuery. While doing read operation native query is working</p>\n<pre><code>@Query(value=&quot;select * from student s where s.name= :name&quot;, nativeQuery=true)\nList&lt;Student&gt; getStudentByName(String name);\n</code></pre>\n<p>working but its not working when doing delete operation on database</p>\n<pre><code>    @Query(value=&quot;delete from student s where s.name= :name&quot;,nativeQuery = true)\n    void deleteStudentByName(String name);\n</code></pre>\n<p>Entity Class</p>\n<pre><code>\n    package com.example.demo.test.entity;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    \n    @Entity\n    public class Student {\n        @Id\n        @GeneratedValue(strategy=GenerationType.AUTO)\n        private Long id;\n        private String name;\n        private Integer age;\n        public Long getId() {\n            return id;\n        }\n        public void setId(Long id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public Integer getAge() {\n            return age;\n        }\n        public void setAge(Integer age) {\n            this.age = age;\n        }\n    \n    }\n\n</code></pre>\n<p>Please help. Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16025918,"reputation":4676,"user_id":11566161,"display_name":"Shri Hari L"},"score":0,"creation_date":1665549207,"post_id":74036531,"comment_id":130723833,"body_markdown":"Use `System.out.print` instead of `println`","body":"Use <code>System.out.print</code> instead of <code>println</code>"},{"owner":{"account_id":16025918,"reputation":4676,"user_id":11566161,"display_name":"Shri Hari L"},"score":0,"creation_date":1665549277,"post_id":74036531,"comment_id":130723848,"body_markdown":"Refer: https://stackoverflow.com/a/64031759/11566161","body":"Refer: <a href=\"https://stackoverflow.com/a/64031759/11566161\">stackoverflow.com/a/64031759/11566161</a>"},{"owner":{"account_id":26596713,"reputation":1,"user_id":20218949,"display_name":"4shotssss"},"score":0,"creation_date":1665549347,"post_id":74036531,"comment_id":130723864,"body_markdown":"but how can I print it out like every line ends with multiples of 10 and starts a new line","body":"but how can I print it out like every line ends with multiples of 10 and starts a new line"},{"owner":{"account_id":8607665,"reputation":1171,"user_id":6447259,"accept_rate":68,"display_name":"TomFree"},"score":0,"creation_date":1665549733,"post_id":74036531,"comment_id":130723927,"body_markdown":"Check if( i%10== 0)... Checks if I is multiple of 10.","body":"Check if( i%10== 0)... Checks if I is multiple of 10."},{"owner":{"account_id":26596713,"reputation":1,"user_id":20218949,"display_name":"4shotssss"},"score":0,"creation_date":1665549857,"post_id":74036531,"comment_id":130723944,"body_markdown":"It only prints out: 10 20 30 40 50","body":"It only prints out: 10 20 30 40 50"}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665550382,"creation_date":1665550382,"answer_id":74036635,"question_id":74036531,"body_markdown":"to find all even numbers between 1 to 50 and make a new line at multiples of 10 just follow these steps - \r\n\r\n - Make one loop which will go 1 to 50\r\n - Check if the number is even by checking the remainder after diving it with 2, if YES print that number.\r\n - Check if the number is a multiple of 10 by checking the remainder after dividing it by 10, if YES make a new line\r\n\r\nThe code will look something like this - \r\n\r\n     int i = 1;\r\n        while(i&lt;=50){\r\n            if(i%2 == 0)    System.out.print(i + &quot; &quot;);\r\n            if(i%10 == 0)   System.out.println();\r\n            i++;\r\n        }\r\nOutput -\r\n\r\n    2 4 6 8 10 \r\n    12 14 16 18 20 \r\n    22 24 26 28 30 \r\n    32 34 36 38 40 \r\n    42 44 46 48 50 \r\n\r\nIt&#39;s up to you which looping method you want to use for me While loop looks cleaner.\r\nI hope this solves all your queries.","title":"How can I print out 1-50 even numbers only, but the it start a new line every multiples of 10. (JAVA)","body":"<p>to find all even numbers between 1 to 50 and make a new line at multiples of 10 just follow these steps -</p>\n<ul>\n<li>Make one loop which will go 1 to 50</li>\n<li>Check if the number is even by checking the remainder after diving it with 2, if YES print that number.</li>\n<li>Check if the number is a multiple of 10 by checking the remainder after dividing it by 10, if YES make a new line</li>\n</ul>\n<p>The code will look something like this -</p>\n<pre><code> int i = 1;\n    while(i&lt;=50){\n        if(i%2 == 0)    System.out.print(i + &quot; &quot;);\n        if(i%10 == 0)   System.out.println();\n        i++;\n    }\n</code></pre>\n<p>Output -</p>\n<pre><code>2 4 6 8 10 \n12 14 16 18 20 \n22 24 26 28 30 \n32 34 36 38 40 \n42 44 46 48 50 \n</code></pre>\n<p>It's up to you which looping method you want to use for me While loop looks cleaner.\nI hope this solves all your queries.</p>\n"},{"tags":[],"owner":{"account_id":20972969,"reputation":34,"user_id":15409705,"display_name":"VijayasaiVS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665550854,"creation_date":1665550854,"answer_id":74036698,"question_id":74036531,"body_markdown":"PFB Snippet:\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfor(int i=1;i&lt;=50;i++){\r\n    \t\t    if (i%2 == 0) //Check whether number is even \r\n    \t\t    {\r\n    \t\t        System.out.print(i+&quot; &quot;);\r\n    \t\t        if (i%10 == 0) // Check if it is multiple of 10\r\n    \t\t        {\r\n    \t\t            System.out.print(&quot;\\n&quot;);\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    2 4 6 8 10 \r\n    12 14 16 18 20 \r\n    22 24 26 28 30 \r\n    32 34 36 38 40 \r\n    42 44 46 48 50\r\n\r\n`&quot;\\n&quot;` is a Escape Sequence which means new line","title":"How can I print out 1-50 even numbers only, but the it start a new line every multiples of 10. (JAVA)","body":"<p>PFB Snippet:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        for(int i=1;i&lt;=50;i++){\n            if (i%2 == 0) //Check whether number is even \n            {\n                System.out.print(i+&quot; &quot;);\n                if (i%10 == 0) // Check if it is multiple of 10\n                {\n                    System.out.print(&quot;\\n&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2 4 6 8 10 \n12 14 16 18 20 \n22 24 26 28 30 \n32 34 36 38 40 \n42 44 46 48 50\n</code></pre>\n<p><code>&quot;\\n&quot;</code> is a Escape Sequence which means new line</p>\n"}],"owner":{"account_id":26596713,"reputation":1,"user_id":20218949,"display_name":"4shotssss"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665550854,"creation_date":1665549124,"question_id":74036531,"body_markdown":"I&#39;m a newbie, but I&#39;m willing to learn how to code.\r\n\r\nI tried using this code:\r\n\r\n    int n = 50;\r\n      int counter = 0;\r\n\tSystem.out.print(&quot;Even Numbers from 1 to &quot;+n+&quot; are: &quot;);\r\n\tfor (int i = 1; i &lt;= n; i++) {\r\n\t   counter++;\r\n\t   if (counter == 2) {\r\n\t\tSystem.out.println(i + &quot; &quot;); \r\n        counter = 0;\r\n\r\n[%10== 0][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AB5K1.png","title":"How can I print out 1-50 even numbers only, but the it start a new line every multiples of 10. (JAVA)","body":"<p>I'm a newbie, but I'm willing to learn how to code.</p>\n<p>I tried using this code:</p>\n<pre><code>int n = 50;\n  int counter = 0;\nSystem.out.print(&quot;Even Numbers from 1 to &quot;+n+&quot; are: &quot;);\nfor (int i = 1; i &lt;= n; i++) {\n   counter++;\n   if (counter == 2) {\n    System.out.println(i + &quot; &quot;); \n    counter = 0;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AB5K1.png\" rel=\"nofollow noreferrer\">%10== 0</a></p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-config-server"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665478998,"post_id":74025446,"comment_id":130704119,"body_markdown":"`http(s)...` is also a valid &quot;spring resource&quot; protocol/schema (https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html) (i only hope it&#39;s not a public repo/url:) ..so if you have/know an (available) &quot;url&quot; for `private-key.txt`, try that!","body":"<code>http(s)...</code> is also a valid &quot;spring resource&quot; protocol/schema (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/or&zwnj;&#8203;g/&hellip;</a>) (i only hope it&#39;s not a public repo/url:) ..so if you have/know an (available) &quot;url&quot; for <code>private-key.txt</code>, try that!"},{"owner":{"account_id":4865976,"reputation":31,"user_id":3924207,"display_name":"Abhinav Gupta"},"score":0,"creation_date":1665482586,"post_id":74025446,"comment_id":130705351,"body_markdown":"Thanks for your response. There is no URL available for the file currently. The file just gets deployed along with other configurations on the server.","body":"Thanks for your response. There is no URL available for the file currently. The file just gets deployed along with other configurations on the server."}],"owner":{"account_id":4865976,"reputation":31,"user_id":3924207,"display_name":"Abhinav Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665550093,"creation_date":1665478340,"question_id":74025446,"body_markdown":"Our application setup includes having a centralized configuration server using **Spring Cloud Config Server**. The config server reads property files from a folder ```config-repo``` placed in its local file system, and exposes them as configurations. \r\n\r\nOther microservices then access these configurations using SpEL or any other means. Note that both the config-server and the microservice run on two separate physical machines.\r\n\r\nFor e.g., config-repo/application.properties file has a property:\r\n```\r\nsftp.host=localhost\r\n```\r\nOther applications access this property using: \r\n\r\n\t@Value(&quot;${sftp.host}&quot;)\r\n\tprivate String sftpHost;\r\n\r\nMy problem now is that, I would like to access a text(specifically a private key) provided in one of the files in the config-repo as a ```org.springframework.core.io.Resource``` in my microservices. So if I have a file ```config-repo/private-key.txt``` containing the private key, I would like to access it in my microservice using:\r\n\r\n\t@Value(&quot;???&quot;)\r\n\tprivate Resource sftpPrivateKey;\r\n\r\nI don&#39;t think I cannot use ```classpath:``` prefix here(the file is not present in the the microservice classpath) nor can I use ```file:``` prefix (since the file is not present on the server on which the microservice is running). How can I correctly initialize ```sftpPrivateKey``` using the file placed on the config server?","title":"Accessing file content as a resource using Spring Cloud config server","body":"<p>Our application setup includes having a centralized configuration server using <strong>Spring Cloud Config Server</strong>. The config server reads property files from a folder <code>config-repo</code> placed in its local file system, and exposes them as configurations.</p>\n<p>Other microservices then access these configurations using SpEL or any other means. Note that both the config-server and the microservice run on two separate physical machines.</p>\n<p>For e.g., config-repo/application.properties file has a property:</p>\n<pre><code>sftp.host=localhost\n</code></pre>\n<p>Other applications access this property using:</p>\n<pre><code>@Value(&quot;${sftp.host}&quot;)\nprivate String sftpHost;\n</code></pre>\n<p>My problem now is that, I would like to access a text(specifically a private key) provided in one of the files in the config-repo as a <code>org.springframework.core.io.Resource</code> in my microservices. So if I have a file <code>config-repo/private-key.txt</code> containing the private key, I would like to access it in my microservice using:</p>\n<pre><code>@Value(&quot;???&quot;)\nprivate Resource sftpPrivateKey;\n</code></pre>\n<p>I don't think I cannot use <code>classpath:</code> prefix here(the file is not present in the the microservice classpath) nor can I use <code>file:</code> prefix (since the file is not present on the server on which the microservice is running). How can I correctly initialize <code>sftpPrivateKey</code> using the file placed on the config server?</p>\n"},{"tags":["java","android","animation"],"owner":{"account_id":14294409,"reputation":23,"user_id":10325491,"display_name":"mapomapo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665548877,"creation_date":1665548877,"question_id":74036504,"body_markdown":"would try to move multiple points along an L shaped path to simulate water flow from a point to another. I created a view that allow to create a single point and created an animation. Now I&#39;m stuck as I cannot understand how to retrieve values from the animator add points to it and update animation. Can someone try to move me on right path? \r\n\r\n\r\n\r\n    \r\npublic class FlowAnimation extends View implements ValueAnimator.AnimatorUpdateListener {\r\n\r\n    int radius = 20;\r\n    int color = Color.WHITE;\r\n    Paint paint = null;\r\n    private ValueAnimator mAnimator;\r\n    PathMeasure pm;\r\n    float point[] = {0f, 0f};\r\n    Path path;\r\n\r\n\r\n\r\n    public FlowAnimation(Context context) {\r\n        super(context);\r\n        paint = new Paint();\r\n        path = new Path();\r\n\r\n        path.lineTo(100,150);\r\n        path.lineTo(300,500);\r\n        path.close();\r\n    }\r\n\r\n    public FlowAnimation(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        paint = new Paint();\r\n    }\r\n\r\n    public FlowAnimation(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n    }\r\n\r\n    public FlowAnimation(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n        super(context, attrs, defStyleAttr, defStyleRes);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n\r\n        super.onDraw(canvas);\r\n        int x = getWidth();\r\n        int y = getHeight();\r\n        paint.setColor(this.color);\r\n        canvas.drawCircle(x / 2, y / 2, this.radius, paint);\r\n\r\n    }\r\n\r\n\r\n    public void startAnim() {\r\n        // sets the range of our value\r\n        mAnimator = ValueAnimator.ofInt(0, 180);\r\n        // sets the duration of our animation\r\n        mAnimator.setDuration(1000);\r\n        // registers our AnimatorUpdateListener\r\n        mAnimator.addUpdateListener(this);\r\n        mAnimator.start();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAnimationUpdate(@NonNull ValueAnimator valueAnimator) {\r\n\r\n        //gets the current value of our animation\r\n        int value = (int) valueAnimator.getAnimatedValue();\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n","title":"android moving multiple circle on a L shaped path","body":"<p>would try to move multiple points along an L shaped path to simulate water flow from a point to another. I created a view that allow to create a single point and created an animation. Now I'm stuck as I cannot understand how to retrieve values from the animator add points to it and update animation. Can someone try to move me on right path?</p>\n<p>public class FlowAnimation extends View implements ValueAnimator.AnimatorUpdateListener {</p>\n<pre><code>int radius = 20;\nint color = Color.WHITE;\nPaint paint = null;\nprivate ValueAnimator mAnimator;\nPathMeasure pm;\nfloat point[] = {0f, 0f};\nPath path;\n\n\n\npublic FlowAnimation(Context context) {\n    super(context);\n    paint = new Paint();\n    path = new Path();\n\n    path.lineTo(100,150);\n    path.lineTo(300,500);\n    path.close();\n}\n\npublic FlowAnimation(Context context, @Nullable AttributeSet attrs) {\n    super(context, attrs);\n    paint = new Paint();\n}\n\npublic FlowAnimation(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n}\n\npublic FlowAnimation(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n    super(context, attrs, defStyleAttr, defStyleRes);\n}\n\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n\n    super.onDraw(canvas);\n    int x = getWidth();\n    int y = getHeight();\n    paint.setColor(this.color);\n    canvas.drawCircle(x / 2, y / 2, this.radius, paint);\n\n}\n\n\npublic void startAnim() {\n    // sets the range of our value\n    mAnimator = ValueAnimator.ofInt(0, 180);\n    // sets the duration of our animation\n    mAnimator.setDuration(1000);\n    // registers our AnimatorUpdateListener\n    mAnimator.addUpdateListener(this);\n    mAnimator.start();\n}\n\n\n@Override\npublic void onAnimationUpdate(@NonNull ValueAnimator valueAnimator) {\n\n    //gets the current value of our animation\n    int value = (int) valueAnimator.getAnimatedValue();\n\n\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","list","2d"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1333223395,"post_id":9959118,"comment_id":12719698,"body_markdown":"@assylias: Because that doesn&#39;t compile.  Not even close.  Generics and arrays just don&#39;t work like that in Java.","body":"@assylias: Because that doesn&#39;t compile.  Not even close.  Generics and arrays just don&#39;t work like that in Java."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333230062,"creation_date":1333223604,"answer_id":9959158,"question_id":9959118,"body_markdown":"The only type-safe option is to use nested lists.  \r\n\r\nBecause of type erasure, you can&#39;t do `new ArrayList&lt;MyDataStruct&gt;[w][h]`, because that basically becomes `new ArrayList[w][h]`...and things get complicated and hairy, fast, because arrays _don&#39;t_ behave like generics.\r\n\r\nJava considers `String[]` to be a subclass of `Object[]`, but `ArrayList&lt;String&gt;` isn&#39;t a subclass of `ArrayList&lt;Object&gt;`.  Normally, arrays throw an `ArrayStoreException` when you try to put an element into an array that doesn&#39;t match the array&#39;s true type, but because of type erasure, it can&#39;t do that when generics are in the picture.\r\n\r\nJosh Bloch gives the following example in Effective Java:\r\n\r\n    // Why generic array creation is illegal - won&#39;t compile!\r\n    List&lt;String&gt;[] stringLists = new List&lt;String&gt;[1];\r\n    List&lt;Integer&gt; intList = Arrays.asList(42);\r\n    Object[] objects = stringLists;\r\n    objects[0] = intList;\r\n    String s = stringLists[0].get(0);\r\n\r\nThe only way to prevent all this code from being entirely legal in Java is to ban the generic array creation, or at least mark it as unsafe.\r\n\r\nThat said, IMO, the moderate overhead of typing out `List` and doing it with generic lists is absolutely worth the type safety.","title":"Making a 2D array of generic lists in Java","body":"<p>The only type-safe option is to use nested lists.  </p>\n\n<p>Because of type erasure, you can't do <code>new ArrayList&lt;MyDataStruct&gt;[w][h]</code>, because that basically becomes <code>new ArrayList[w][h]</code>...and things get complicated and hairy, fast, because arrays <em>don't</em> behave like generics.</p>\n\n<p>Java considers <code>String[]</code> to be a subclass of <code>Object[]</code>, but <code>ArrayList&lt;String&gt;</code> isn't a subclass of <code>ArrayList&lt;Object&gt;</code>.  Normally, arrays throw an <code>ArrayStoreException</code> when you try to put an element into an array that doesn't match the array's true type, but because of type erasure, it can't do that when generics are in the picture.</p>\n\n<p>Josh Bloch gives the following example in Effective Java:</p>\n\n<pre><code>// Why generic array creation is illegal - won't compile!\nList&lt;String&gt;[] stringLists = new List&lt;String&gt;[1];\nList&lt;Integer&gt; intList = Arrays.asList(42);\nObject[] objects = stringLists;\nobjects[0] = intList;\nString s = stringLists[0].get(0);\n</code></pre>\n\n<p>The only way to prevent all this code from being entirely legal in Java is to ban the generic array creation, or at least mark it as unsafe.</p>\n\n<p>That said, IMO, the moderate overhead of typing out <code>List</code> and doing it with generic lists is absolutely worth the type safety.</p>\n"},{"tags":[],"owner":{"account_id":6934,"reputation":6724,"user_id":11813,"accept_rate":86,"display_name":"Amir Arad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377956835,"creation_date":1377956502,"answer_id":18548790,"question_id":9959118,"body_markdown":"I got here with the same problem (just some experiments, &quot;get things done&quot; approach).\r\nHere is a solution that seems to work for me, using reflection.\r\n\r\nnote that it is 100% agnostic to the type of the cells in the array (can be list, map, anything). perhaps with a little more work it can also be agnostic to the # of dimensions of the array, but I&#39;ve bigger fish to fry today... \r\n\r\n    private static &lt;T&gt;  T[][] makeArray(Class&lt;T&gt; componentType, int... dimentions) {\r\n        return (T[][]) Array.newInstance(componentType, dimentions);\r\n    }\r\n\r\nattached below is a test method. to keep the type of the array generic I had to ugly-cast here. this can be handled in another wrapping method to keep client code nice and clean:\r\n\r\n    @Test\r\n    public void testMakeArray() throws Exception {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        List&lt;String&gt;[][] arr = makeArray(List.class, 2, 3);\r\n\r\n        Assert.assertEquals(2, arr.length);\r\n        Assert.assertEquals(3, arr[0].length);\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                arr[i][j] = Arrays.asList(&quot;cell&quot;, &quot;r=&quot;+i, &quot;c=&quot;+j);\r\n                System.out.print(arr[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nit prints:\r\n\r\n    [cell, r=0, c=0]\t[cell, r=0, c=1]\t[cell, r=0, c=2]\t\r\n    [cell, r=1, c=0]\t[cell, r=1, c=1]\t[cell, r=1, c=2]","title":"Making a 2D array of generic lists in Java","body":"<p>I got here with the same problem (just some experiments, \"get things done\" approach).\nHere is a solution that seems to work for me, using reflection.</p>\n\n<p>note that it is 100% agnostic to the type of the cells in the array (can be list, map, anything). perhaps with a little more work it can also be agnostic to the # of dimensions of the array, but I've bigger fish to fry today... </p>\n\n<pre><code>private static &lt;T&gt;  T[][] makeArray(Class&lt;T&gt; componentType, int... dimentions) {\n    return (T[][]) Array.newInstance(componentType, dimentions);\n}\n</code></pre>\n\n<p>attached below is a test method. to keep the type of the array generic I had to ugly-cast here. this can be handled in another wrapping method to keep client code nice and clean:</p>\n\n<pre><code>@Test\npublic void testMakeArray() throws Exception {\n    @SuppressWarnings(\"unchecked\")\n    List&lt;String&gt;[][] arr = makeArray(List.class, 2, 3);\n\n    Assert.assertEquals(2, arr.length);\n    Assert.assertEquals(3, arr[0].length);\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0; j &lt; arr[i].length; j++) {\n            arr[i][j] = Arrays.asList(\"cell\", \"r=\"+i, \"c=\"+j);\n            System.out.print(arr[i][j] + \"\\t\");\n        }\n        System.out.println(\"\");\n    }\n}\n</code></pre>\n\n<p>it prints:</p>\n\n<pre><code>[cell, r=0, c=0]    [cell, r=0, c=1]    [cell, r=0, c=2]    \n[cell, r=1, c=0]    [cell, r=1, c=1]    [cell, r=1, c=2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665548876,"creation_date":1665548876,"answer_id":74036503,"question_id":9959118,"body_markdown":"I was playing around with a similar idea, but instead used nested Lists of Optionals. It seems to provide some benefits as you do not need to check for null and can instead use isEmpty or isPresent for each cell. However, I&#39;m sure for reasons unknown to me, this is probably not a great solution. I thought i&#39;d share anyways.\r\n\r\n\r\n    public class Grid&lt;T&gt; {\r\n        private final int rowCount;\r\n        private final int columnCount;\r\n        private final List&lt;List&lt;Optional&lt;T&gt;&gt;&gt; data;\r\n    \r\n        public Grid(int rowCount, int columnCount) {\r\n            this.rowCount = rowCount;\r\n            this.columnCount = columnCount;\r\n            data = build();\r\n        }\r\n    \r\n        private List&lt;List&lt;Optional&lt;T&gt;&gt;&gt; build() {\r\n            return IntStream.range(0, rowCount)\r\n                    .mapToObj(rowId -&gt; IntStream.range(0, columnCount)\r\n                            .mapToObj(columnId -&gt; Optional.&lt;T&gt;empty())\r\n                            .collect(Collectors.toList()))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        public Optional&lt;T&gt; get(int rowId, int columnId) {\r\n            return data.get(rowId).get(columnId);\r\n        }\r\n    \r\n        public void set(int rowId, int columnId, T t) {\r\n            data.get(rowId).set(columnId, Optional.ofNullable(t));\r\n        }\r\n    }\r\n\r\n","title":"Making a 2D array of generic lists in Java","body":"<p>I was playing around with a similar idea, but instead used nested Lists of Optionals. It seems to provide some benefits as you do not need to check for null and can instead use isEmpty or isPresent for each cell. However, I'm sure for reasons unknown to me, this is probably not a great solution. I thought i'd share anyways.</p>\n<pre><code>public class Grid&lt;T&gt; {\n    private final int rowCount;\n    private final int columnCount;\n    private final List&lt;List&lt;Optional&lt;T&gt;&gt;&gt; data;\n\n    public Grid(int rowCount, int columnCount) {\n        this.rowCount = rowCount;\n        this.columnCount = columnCount;\n        data = build();\n    }\n\n    private List&lt;List&lt;Optional&lt;T&gt;&gt;&gt; build() {\n        return IntStream.range(0, rowCount)\n                .mapToObj(rowId -&gt; IntStream.range(0, columnCount)\n                        .mapToObj(columnId -&gt; Optional.&lt;T&gt;empty())\n                        .collect(Collectors.toList()))\n                .collect(Collectors.toList());\n    }\n\n    public Optional&lt;T&gt; get(int rowId, int columnId) {\n        return data.get(rowId).get(columnId);\n    }\n\n    public void set(int rowId, int columnId, T t) {\n        data.get(rowId).set(columnId, Optional.ofNullable(t));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1351766,"reputation":11,"user_id":1291187,"display_name":"sksw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665548876,"creation_date":1333223247,"question_id":9959118,"body_markdown":"So - I want to make a 2D array of generic lists containing some data I am interested in (on a grid of of some set size),\r\n\r\n\tprivate ArrayList&lt;MyDataStruct&gt;[][] gridData;\r\n\r\nWhen I initialize this array, I go,\r\n\r\n\tgridData = (ArrayList&lt;MyDataStruct&gt;[][])new ArrayList[w][h];\r\n\tfor(int x=0; x&lt;w; x++)\r\n\t\tfor(int y=0; y&lt;h; y++){\r\n\t\t\tgridData[x][y] = (ArrayList&lt;MyDataStruct&gt;)new ArrayList&lt;MyDataStruct&gt;(0);\r\n\t\t\t//other stuff, i.e. get data from somewhere, etc\r\n\t\t}\r\n\r\nand I get a `unchecked cast` warning.  Was curious about why this is not type safe and what I can do to make it type safe (short of switching out of using a 2d array).  I understand that it&#39;s not very good to mix arrays and generics, but in this case I&#39;m just writing this to run some experiments, so i&#39;m using this instead of say lists of lists lists to save myself some time.  Are there any other more elegant approaches that let&#39;s me get away with easy to read/write syntax (i.e. no nested lists), but are also type safe?\r\n\r\nThanks!","title":"Making a 2D array of generic lists in Java","body":"<p>So - I want to make a 2D array of generic lists containing some data I am interested in (on a grid of of some set size),</p>\n\n<pre><code>private ArrayList&lt;MyDataStruct&gt;[][] gridData;\n</code></pre>\n\n<p>When I initialize this array, I go,</p>\n\n<pre><code>gridData = (ArrayList&lt;MyDataStruct&gt;[][])new ArrayList[w][h];\nfor(int x=0; x&lt;w; x++)\n    for(int y=0; y&lt;h; y++){\n        gridData[x][y] = (ArrayList&lt;MyDataStruct&gt;)new ArrayList&lt;MyDataStruct&gt;(0);\n        //other stuff, i.e. get data from somewhere, etc\n    }\n</code></pre>\n\n<p>and I get a <code>unchecked cast</code> warning.  Was curious about why this is not type safe and what I can do to make it type safe (short of switching out of using a 2d array).  I understand that it's not very good to mix arrays and generics, but in this case I'm just writing this to run some experiments, so i'm using this instead of say lists of lists lists to save myself some time.  Are there any other more elegant approaches that let's me get away with easy to read/write syntax (i.e. no nested lists), but are also type safe?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1665547311,"post_id":74036342,"comment_id":130723558,"body_markdown":"Which &quot;error code&quot; ? A quarter is the same as a dime or as a penny?","body":"Which &quot;error code&quot; ? A quarter is the same as a dime or as a penny?"},{"owner":{"account_id":7259802,"reputation":130,"user_id":5537029,"display_name":"Laxman Sharma"},"score":0,"creation_date":1665547421,"post_id":74036342,"comment_id":130723574,"body_markdown":"@lucumt Lower types can be converted to higher types implicitly.\n\nJosh, It would help to add the error you&#39;re getting.","body":"@lucumt Lower types can be converted to higher types implicitly.  Josh, It would help to add the error you&#39;re getting."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1665547851,"post_id":74036342,"comment_id":130723634,"body_markdown":"Your formula for converting quarters, dimes, and nickels to dollars is incorrect.  You have to multiply the number of quarters times 25, the number of dimes times 10, and the number of nickels times 5.  The result is in pennies, so you have to divide the sum by 100.0 to get dollars.","body":"Your formula for converting quarters, dimes, and nickels to dollars is incorrect.  You have to multiply the number of quarters times 25, the number of dimes times 10, and the number of nickels times 5.  The result is in pennies, so you have to divide the sum by 100.0 to get dollars."},{"owner":{"account_id":26596538,"reputation":11,"user_id":20218803,"display_name":"Joshua D&#39;Astoli"},"score":0,"creation_date":1665548204,"post_id":74036342,"comment_id":130723682,"body_markdown":"I understand that I would have to multiply it, I just don&#39;t know where to add that multiplication. I&#39;ve been getting the error code of &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: &quot; for lines 16, 14, and 30.","body":"I understand that I would have to multiply it, I just don&#39;t know where to add that multiplication. I&#39;ve been getting the error code of &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: &quot; for lines 16, 14, and 30."}],"answers":[{"tags":[],"owner":{"account_id":13979652,"reputation":139,"user_id":10096146,"display_name":"IcedMonk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665548511,"creation_date":1665548511,"answer_id":74036471,"question_id":74036342,"body_markdown":"Josh if you are having the calculation issue, maybe try this solution. Let me know if it helped.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class CountChangeWithScanner{\r\n \r\n    public static void main(String[] args){\r\n        int quarters; //number of quarters that the user inputs.\r\n        int dimes; //number of dimes that the user inputs\r\n        int nickels; //number of nickels that the user inputs\r\n        int pennies; //number of pennies that the user inputs\r\n\r\n        Scanner stdio = new Scanner(System.in); // record user input \r\n\r\n        double dollars; // total value of coins\r\n\r\n        /* Prompt user to enter the number of each type of coin */\r\n\r\n        /*Prompt user to enter the number of quarters  */\r\n\r\n        System.out.print(&quot;Enter the number of quarters:  &quot;);\r\n        quarters = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of dimes */\r\n        System.out.print(&quot;Enter the number of dimes:  &quot;);\r\n        dimes = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of nickels */\r\n        System.out.print(&quot;Enter the number of nickels:  &quot;);\r\n        nickels = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of pennies */\r\n        System.out.print(&quot;Enter the number of pennies:  &quot;);\r\n        pennies = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /* Calculate the total value of the coins */\r\n        dollar = (quarters * 0.25) + (dimes * 0.10) + (nickels * 0.05) + (pennies * 0.01);\r\n\r\n        /* Print the total value of the coins */\r\n        System.out.println(&quot;The total value of the coins is: &quot; + dollar);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java Counting Coins Code showing error after debugging","body":"<p>Josh if you are having the calculation issue, maybe try this solution. Let me know if it helped.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class CountChangeWithScanner{\n \n    public static void main(String[] args){\n        int quarters; //number of quarters that the user inputs.\n        int dimes; //number of dimes that the user inputs\n        int nickels; //number of nickels that the user inputs\n        int pennies; //number of pennies that the user inputs\n\n        Scanner stdio = new Scanner(System.in); // record user input \n\n        double dollars; // total value of coins\n\n        /* Prompt user to enter the number of each type of coin */\n\n        /*Prompt user to enter the number of quarters  */\n\n        System.out.print(&quot;Enter the number of quarters:  &quot;);\n        quarters = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of dimes */\n        System.out.print(&quot;Enter the number of dimes:  &quot;);\n        dimes = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of nickels */\n        System.out.print(&quot;Enter the number of nickels:  &quot;);\n        nickels = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of pennies */\n        System.out.print(&quot;Enter the number of pennies:  &quot;);\n        pennies = stdio.nextInt();\n        stdio.nextLine();\n\n        /* Calculate the total value of the coins */\n        dollar = (quarters * 0.25) + (dimes * 0.10) + (nickels * 0.05) + (pennies * 0.01);\n\n        /* Print the total value of the coins */\n        System.out.println(&quot;The total value of the coins is: &quot; + dollar);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26596538,"reputation":11,"user_id":20218803,"display_name":"Joshua D&#39;Astoli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665548511,"creation_date":1665547028,"question_id":74036342,"body_markdown":"I&#39;m having trouble with my counting coins code, which takes user input of how many coins they have and converts them into dollar amount. I keep getting an error code and am somewhat confused as to how to put this together. Can you help? \r\n\r\n____\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CountChangeWithScanner{\r\n \r\n    public static void main(String[] args){\r\n        int quarters; //number of quarters that the user inputs.\r\n        int dimes; //number of dimes that the user inputs\r\n        int nickels; //number of nickels that the user inputs\r\n        int pennies; //number of pennies that the user inputs\r\n\r\n        Scanner stdio = new Scanner(System.in); // record user input \r\n\r\n        double dollars; // total value of coins\r\n\r\n        /* Prompt user to enter the number of each type of coin */\r\n\r\n        /*Prompt user to enter the number of quarters  */\r\n\r\n        System.out.print(&quot;Enter the number of quarters:  &quot;);\r\n        quarters = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of dimes */\r\n        System.out.print(&quot;Enter the number of dimes:  &quot;);\r\n        dimes = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of nickels */\r\n        System.out.print(&quot;Enter the number of nickels:  &quot;);\r\n        nickels = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        /*Prompt user to enter the number of pennies */\r\n        System.out.print(&quot;Enter the number of pennies:  &quot;);\r\n        pennies = stdio.nextInt();\r\n        stdio.nextLine();\r\n\r\n        dollars = quarters + dimes + nickels + pennies;\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;The total in dollars is $&quot;);\r\n        System.out.println(dollars);\r\n        System.out.println(&quot;&quot;);\r\n\r\n \r\n\r\n\r\n    }\r\n}\r\n```\r\n____","title":"Java Counting Coins Code showing error after debugging","body":"<p>I'm having trouble with my counting coins code, which takes user input of how many coins they have and converts them into dollar amount. I keep getting an error code and am somewhat confused as to how to put this together. Can you help?</p>\n<hr />\n<pre><code>import java.util.Scanner;\n\npublic class CountChangeWithScanner{\n \n    public static void main(String[] args){\n        int quarters; //number of quarters that the user inputs.\n        int dimes; //number of dimes that the user inputs\n        int nickels; //number of nickels that the user inputs\n        int pennies; //number of pennies that the user inputs\n\n        Scanner stdio = new Scanner(System.in); // record user input \n\n        double dollars; // total value of coins\n\n        /* Prompt user to enter the number of each type of coin */\n\n        /*Prompt user to enter the number of quarters  */\n\n        System.out.print(&quot;Enter the number of quarters:  &quot;);\n        quarters = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of dimes */\n        System.out.print(&quot;Enter the number of dimes:  &quot;);\n        dimes = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of nickels */\n        System.out.print(&quot;Enter the number of nickels:  &quot;);\n        nickels = stdio.nextInt();\n        stdio.nextLine();\n\n        /*Prompt user to enter the number of pennies */\n        System.out.print(&quot;Enter the number of pennies:  &quot;);\n        pennies = stdio.nextInt();\n        stdio.nextLine();\n\n        dollars = quarters + dimes + nickels + pennies;\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;The total in dollars is $&quot;);\n        System.out.println(dollars);\n        System.out.println(&quot;&quot;);\n\n \n\n\n    }\n}\n</code></pre>\n<hr />\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":26540976,"reputation":1,"user_id":20171721,"display_name":"Alex Shananin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665547505,"creation_date":1665547205,"answer_id":74036349,"question_id":73968247,"body_markdown":"Aparently solution is to cast enum value to varchar.\r\nSo below resolves the issue: \r\n\r\n```\r\nSqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where CAST(sex AS VARCHAR)=&#39;M&#39;&quot;);\r\n```","title":"SQL query by enum literal","body":"<p>Aparently solution is to cast enum value to varchar.\nSo below resolves the issue:</p>\n<pre><code>SqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where CAST(sex AS VARCHAR)='M'&quot;);\n</code></pre>\n"}],"owner":{"account_id":26540976,"reputation":1,"user_id":20171721,"display_name":"Alex Shananin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665547505,"creation_date":1665025106,"question_id":73968247,"body_markdown":"Is there a way to use string literal in WHERE clause of SQL query? \r\n\r\nI&#39;m running following test (Ignite 2.13.0) and it is failing with error: \r\n```\r\npackage query;\r\n\r\nimport org.apache.ignite.Ignite;\r\nimport org.apache.ignite.IgniteCache;\r\nimport org.apache.ignite.Ignition;\r\nimport org.apache.ignite.cache.QueryEntity;\r\nimport org.apache.ignite.cache.query.SqlFieldsQuery;\r\nimport org.apache.ignite.configuration.CacheConfiguration;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Arrays;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static query.SQLQueryTest.Sex.F;\r\nimport static query.SQLQueryTest.Sex.M;\r\n\r\npublic class SQLQueryTest {\r\n    class Person implements Serializable {\r\n        private long id;\r\n        private Sex sex;\r\n        private String name;\r\n\r\n        public Person(long id, Sex sex, String name) {\r\n            this.id = id;\r\n            this.sex = sex;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public enum Sex {\r\n        M, F\r\n    }\r\n\r\n    @Test\r\n    void queryByEnum() {\r\n        Ignite ignite = Ignition.start();\r\n        CacheConfiguration&lt;Long, Person&gt; personCacheCfg = new CacheConfiguration&lt;Long, Person&gt;();\r\n        personCacheCfg.setName(&quot;Person&quot;);\r\n\r\n        QueryEntity queryEntity = new QueryEntity(Long.class, Person.class)\r\n                .addQueryField(&quot;id&quot;, Long.class.getName(), null)\r\n                .addQueryField(&quot;sex&quot;, Sex.class.getName(), null)\r\n                .addQueryField(&quot;name&quot;, String.class.getName(), null);\r\n\r\n        personCacheCfg.setQueryEntities(Arrays.asList(queryEntity));\r\n\r\n        IgniteCache&lt;Long, Person&gt; cache = ignite.createCache(personCacheCfg);\r\n        cache.put(1L, new Person(1, F, &quot;Lena&quot;));\r\n        cache.put(2L, new Person(2, M, &quot;Vova&quot;));\r\n        cache.put(3L, new Person(3, F, &quot;Anya&quot;));\r\n        cache.put(4L, new Person(4, M, &quot;Petya&quot;));\r\n\r\n        SqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where sex=&#39;M&#39;&quot;);\r\n        assertEquals(2, cache.query(qry).getAll().size());\r\n    }\r\n}\r\n\r\n```\r\n\r\nError message: \r\n\r\n    Failed to parse query. Hexadecimal string with odd number of characters: &quot;M&quot;; SQL statement:\r\n    select * from Person where sex=&#39;M&#39; [90003-197]\r\n    javax.cache.CacheException: Failed to parse query. Hexadecimal string with odd number of characters: &quot;M&quot;; SQL statement:\r\n    select * from Person where sex=&#39;M&#39; [90003-197]\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.query(IgniteCacheProxyImpl.java:859)\r\n    \tat org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.query(IgniteCacheProxyImpl.java:792)\r\n    \tat org.apache.ignite.internal.processors.cache.GatewayProtectedCacheProxy.query(GatewayProtectedCacheProxy.java:432)\r\n    \tat query.SQLQueryTest.queryByEnum(SQLQueryTest.java:55)\r\n\r\n\r\nI appreciate that there is easy fix for that using setArgs method like below: \r\n```\r\n        SqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where sex=?&quot;).setArgs(M);\r\n```\r\nbut what I want is to use literal in sql query. Is that possible? \r\nThanks!\r\n","title":"SQL query by enum literal","body":"<p>Is there a way to use string literal in WHERE clause of SQL query?</p>\n<p>I'm running following test (Ignite 2.13.0) and it is failing with error:</p>\n<pre><code>package query;\n\nimport org.apache.ignite.Ignite;\nimport org.apache.ignite.IgniteCache;\nimport org.apache.ignite.Ignition;\nimport org.apache.ignite.cache.QueryEntity;\nimport org.apache.ignite.cache.query.SqlFieldsQuery;\nimport org.apache.ignite.configuration.CacheConfiguration;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.Serializable;\nimport java.util.Arrays;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static query.SQLQueryTest.Sex.F;\nimport static query.SQLQueryTest.Sex.M;\n\npublic class SQLQueryTest {\n    class Person implements Serializable {\n        private long id;\n        private Sex sex;\n        private String name;\n\n        public Person(long id, Sex sex, String name) {\n            this.id = id;\n            this.sex = sex;\n            this.name = name;\n        }\n    }\n\n    public enum Sex {\n        M, F\n    }\n\n    @Test\n    void queryByEnum() {\n        Ignite ignite = Ignition.start();\n        CacheConfiguration&lt;Long, Person&gt; personCacheCfg = new CacheConfiguration&lt;Long, Person&gt;();\n        personCacheCfg.setName(&quot;Person&quot;);\n\n        QueryEntity queryEntity = new QueryEntity(Long.class, Person.class)\n                .addQueryField(&quot;id&quot;, Long.class.getName(), null)\n                .addQueryField(&quot;sex&quot;, Sex.class.getName(), null)\n                .addQueryField(&quot;name&quot;, String.class.getName(), null);\n\n        personCacheCfg.setQueryEntities(Arrays.asList(queryEntity));\n\n        IgniteCache&lt;Long, Person&gt; cache = ignite.createCache(personCacheCfg);\n        cache.put(1L, new Person(1, F, &quot;Lena&quot;));\n        cache.put(2L, new Person(2, M, &quot;Vova&quot;));\n        cache.put(3L, new Person(3, F, &quot;Anya&quot;));\n        cache.put(4L, new Person(4, M, &quot;Petya&quot;));\n\n        SqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where sex='M'&quot;);\n        assertEquals(2, cache.query(qry).getAll().size());\n    }\n}\n\n</code></pre>\n<p>Error message:</p>\n<pre><code>Failed to parse query. Hexadecimal string with odd number of characters: &quot;M&quot;; SQL statement:\nselect * from Person where sex='M' [90003-197]\njavax.cache.CacheException: Failed to parse query. Hexadecimal string with odd number of characters: &quot;M&quot;; SQL statement:\nselect * from Person where sex='M' [90003-197]\n    at org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.query(IgniteCacheProxyImpl.java:859)\n    at org.apache.ignite.internal.processors.cache.IgniteCacheProxyImpl.query(IgniteCacheProxyImpl.java:792)\n    at org.apache.ignite.internal.processors.cache.GatewayProtectedCacheProxy.query(GatewayProtectedCacheProxy.java:432)\n    at query.SQLQueryTest.queryByEnum(SQLQueryTest.java:55)\n</code></pre>\n<p>I appreciate that there is easy fix for that using setArgs method like below:</p>\n<pre><code>        SqlFieldsQuery qry = new SqlFieldsQuery(&quot;select * from Person where sex=?&quot;).setArgs(M);\n</code></pre>\n<p>but what I want is to use literal in sql query. Is that possible?\nThanks!</p>\n"},{"tags":["java","multithreading","android-studio","android-activity","android-camera"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665557465,"post_id":74034475,"comment_id":130725572,"body_markdown":"Please don&#39;t post the code as an image. [ask]","body":"Please don&#39;t post the code as an image. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":25135401,"reputation":1,"user_id":18982230,"display_name":"Luis Cruz Jim&#233;nez"},"score":0,"creation_date":1665589682,"post_id":74034475,"comment_id":130737854,"body_markdown":"Sorry, I&#39;m new here","body":"Sorry, I&#39;m new here"}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665546396,"creation_date":1665546396,"answer_id":74036285,"question_id":74034475,"body_markdown":"you could create a variable to listen when you start camera, then in you onresume of activity, check this variable and start new activity here","title":"How to go to another activity after execute camera Android Studio","body":"<p>you could create a variable to listen when you start camera, then in you onresume of activity, check this variable and start new activity here</p>\n"}],"owner":{"account_id":25135401,"reputation":1,"user_id":18982230,"display_name":"Luis Cruz Jim&#233;nez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665546396,"creation_date":1665525080,"question_id":74034475,"body_markdown":"I&#39;m trying to go to other activity after execute the camera but, the camera is an activity so, I try to execute StartActivity After this but doesn&#39;t work, I&#39;ve tried using startactivities but neither works. Could you help me please? How can I do this \r\n\r\n[This is my try][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IoW6c.png","title":"How to go to another activity after execute camera Android Studio","body":"<p>I'm trying to go to other activity after execute the camera but, the camera is an activity so, I try to execute StartActivity After this but doesn't work, I've tried using startactivities but neither works. Could you help me please? How can I do this</p>\n<p><a href=\"https://i.stack.imgur.com/IoW6c.png\" rel=\"nofollow noreferrer\">This is my try</a></p>\n"},{"tags":["java","spring-boot","gradle","artifactory"],"comments":[{"owner":{"account_id":4172811,"reputation":5337,"user_id":4233342,"display_name":"yahavi"},"score":1,"creation_date":1648547276,"post_id":71658789,"comment_id":126645885,"body_markdown":"Uploading the pom.xml is mandatory. How did you upload your jar?","body":"Uploading the pom.xml is mandatory. How did you upload your jar?"},{"owner":{"account_id":5034274,"reputation":53,"user_id":4043578,"display_name":"Sahil"},"score":0,"creation_date":1648548104,"post_id":71658789,"comment_id":126646251,"body_markdown":"We are using below in build.gradle for publishing                                              \nartifactory {\n    contextUrl = &quot;${artifactory_contextUrl}&quot;\n    publish {\n        repository {\n            repoKey = &quot;${repoKey}&quot;\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_key}&quot;\n            maven = true \n        }        \n        defaults{\n        \tpublications(&#39;mavenJava&#39;)\n        \tpublishArtifacts=true\n        \tpublishPom=true\n        \tpublications(&#39;mavenZip&#39;)\n        \tpublishPom=true\n        }\n    }\n}","body":"We are using below in build.gradle for publishing                                               artifactory {     contextUrl = &quot;${artifactory_contextUrl}&quot;     publish {         repository {             repoKey = &quot;${repoKey}&quot;             username = &quot;${artifactory_user}&quot;             password = &quot;${artifactory_key}&quot;             maven = true          }                 defaults{         \tpublications(&#39;mavenJava&#39;)         \tpublishArtifacts=true         \tpublishPom=true         \tpublications(&#39;mavenZip&#39;)         \tpublishPom=true         }     } }"}],"owner":{"account_id":5034274,"reputation":53,"user_id":4043578,"display_name":"Sahil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665546145,"creation_date":1648542436,"question_id":71658789,"body_markdown":"I have my project jar published in Jfrog artifactory after being build. Now when some other project wants to download this and its dependencies, they have added it as a dependency in their build.gradle file. However, when we are trying to execute &quot;gradle dependencies&quot;, only the project jar is being downloaded and not its dependencies. \r\nCan someone help why the dependencies are not being downloaded. \r\n\r\nNote: The pom.xml for the project jar is not uploaded to artifactory. Is this absolutely mandatory for downloading dependencies for project jar ?","title":"dependencies not being downloaded from Jfrog artifactory using gradle","body":"<p>I have my project jar published in Jfrog artifactory after being build. Now when some other project wants to download this and its dependencies, they have added it as a dependency in their build.gradle file. However, when we are trying to execute &quot;gradle dependencies&quot;, only the project jar is being downloaded and not its dependencies.\nCan someone help why the dependencies are not being downloaded.</p>\n<p>Note: The pom.xml for the project jar is not uploaded to artifactory. Is this absolutely mandatory for downloading dependencies for project jar ?</p>\n"},{"tags":["java","gson","circular-reference"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":3,"creation_date":1323188328,"post_id":8402832,"comment_id":10376339,"body_markdown":"A strange game, the only way to win is to not play.  Repartition so you don&#39;t have circular references.","body":"A strange game, the only way to win is to not play.  Repartition so you don&#39;t have circular references."},{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":0,"creation_date":1323413716,"post_id":8402832,"comment_id":10434077,"body_markdown":"Is the concern just with serialization, or is it also with establishing the correct links during deserialization?","body":"Is the concern just with serialization, or is it also with establishing the correct links during deserialization?"},{"owner":{"account_id":1333653,"reputation":166,"user_id":1276922,"display_name":"ouba64"},"score":0,"creation_date":1358363742,"post_id":8402832,"comment_id":19976343,"body_markdown":"Yes there is!\r\nTake a look at this post that includes a\r\n[GraphAdapterBuilder example][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/10036958/the-easiest-way-to-remove-the-bidirectional-recursive-relationships","body":"Yes there is!  Take a look at this post that includes a  [GraphAdapterBuilder example][1]        [1]: <a href=\"http://stackoverflow.com/questions/10036958/the-easiest-way-to-remove-the-bidirectional-recursive-relationships\" title=\"the easiest way to remove the bidirectional recursive relationships\">stackoverflow.com/questions/10036958/&hellip;</a>"},{"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"score":0,"creation_date":1394305555,"post_id":8402832,"comment_id":33834637,"body_markdown":"Yes: http://stackoverflow.com/a/22271096/3315914","body":"Yes: <a href=\"http://stackoverflow.com/a/22271096/3315914\">stackoverflow.com/a/22271096/3315914</a>"}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473968542,"creation_date":1323408340,"answer_id":8441447,"question_id":8402832,"body_markdown":"As far as I know there is no automated solution for circular references in Gson.\r\nThe only JSON-producing library I know of that handles circular references automatically is [XStream][1] (with Jettison backend).\r\n\r\nEDIT: Jackson also supports handling of circular references with `@JsonIdentityInfo` annotation; so while not automatic (you do need to mark references that need Object Id handling), it does allow solving most cases.\r\n\r\n  [1]: http://xstream.codehaus.org","title":"Is there a solution about Gson &quot;circular reference&quot;?","body":"<p>As far as I know there is no automated solution for circular references in Gson.\nThe only JSON-producing library I know of that handles circular references automatically is <a href=\"http://xstream.codehaus.org\" rel=\"nofollow\">XStream</a> (with Jettison backend).</p>\n\n<p>EDIT: Jackson also supports handling of circular references with <code>@JsonIdentityInfo</code> annotation; so while not automatic (you do need to mark references that need Object Id handling), it does allow solving most cases.</p>\n"},{"tags":[],"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542583242,"creation_date":1542583242,"answer_id":53366428,"question_id":8402832,"body_markdown":"Since Gson doesn&#39;t properly handle circular references, and in some cases you may need to call the parent entity from its child, you can do this. Say we have: \r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;servers_postgres&quot;)\r\n    public class PostgresServer implements Serializable {\r\n    \r\n        public PostgresServer() {\r\n            this.tables = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id_server&quot;)\r\n        private Integer serverId;\r\n    \r\n        @OneToMany(orphanRemoval = true, mappedBy = &quot;server&quot;, fetch = FetchType.EAGER)\r\n        @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n        private List&lt;PostgresTable&gt; tables;\r\n    \r\n        @Column(length = 250)\r\n        private String serverAddress;\r\n    \r\n        @Column(length = 250)\r\n        private String name;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table(name = &quot;postgres_tables&quot;)\r\n        public class PostgresTable implements Serializable {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;id_table&quot;)\r\n            private Integer tableId;\r\n        \r\n            @Column(length = 250)\r\n            private String name;\r\n        \r\n            @ManyToOne()\r\n            @JoinColumn(name = &quot;id_server&quot;, foreignKey = @ForeignKey(name = &quot;fk_postgres_tables&quot;))\r\n            private PostgresServer server;\r\n        }\r\n\r\n\r\n\r\nIn this case, you may need to get a PostgresServer reference from a PostgresTable entity. So, instead of excluding **PostgresServer** from serialization, **you simply set its List of tables to null**. For example:\r\n\r\n    //Assuming a List&lt;PostgresTable&gt;...\r\n    postgresTables.forEach(postgresTable -&gt; postgresTable.getServer().setTables(null));\r\n\r\nThis is how i solve circular references with Gson. Hope that helps someone.","title":"Is there a solution about Gson &quot;circular reference&quot;?","body":"<p>Since Gson doesn't properly handle circular references, and in some cases you may need to call the parent entity from its child, you can do this. Say we have: </p>\n\n<pre><code>@Entity\n@Table(name = \"servers_postgres\")\npublic class PostgresServer implements Serializable {\n\n    public PostgresServer() {\n        this.tables = new ArrayList&lt;&gt;();\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_server\")\n    private Integer serverId;\n\n    @OneToMany(orphanRemoval = true, mappedBy = \"server\", fetch = FetchType.EAGER)\n    @Cascade(org.hibernate.annotations.CascadeType.ALL)\n    private List&lt;PostgresTable&gt; tables;\n\n    @Column(length = 250)\n    private String serverAddress;\n\n    @Column(length = 250)\n    private String name;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\n@Table(name = \"postgres_tables\")\n    public class PostgresTable implements Serializable {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = \"id_table\")\n        private Integer tableId;\n\n        @Column(length = 250)\n        private String name;\n\n        @ManyToOne()\n        @JoinColumn(name = \"id_server\", foreignKey = @ForeignKey(name = \"fk_postgres_tables\"))\n        private PostgresServer server;\n    }\n</code></pre>\n\n<p>In this case, you may need to get a PostgresServer reference from a PostgresTable entity. So, instead of excluding <strong>PostgresServer</strong> from serialization, <strong>you simply set its List of tables to null</strong>. For example:</p>\n\n<pre><code>//Assuming a List&lt;PostgresTable&gt;...\npostgresTables.forEach(postgresTable -&gt; postgresTable.getServer().setTables(null));\n</code></pre>\n\n<p>This is how i solve circular references with Gson. Hope that helps someone.</p>\n"},{"tags":[],"owner":{"account_id":16101487,"reputation":163,"user_id":11622129,"display_name":"Lei Z"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1586545957,"creation_date":1586545957,"answer_id":61147100,"question_id":8402832,"body_markdown":"I am looking into this issue as well. Gson does not provide a default solution so far. What you can do is:\r\n\r\nOption 1: Create an exclusion strategy which implements ExclusionStrategy to exclude the class and/or field in the circular reference;\r\n\r\nOption 2: Use annotations to mark the field to be transient to avoid serialization;\r\n\r\nOption 3: Create your own type adapter","title":"Is there a solution about Gson &quot;circular reference&quot;?","body":"<p>I am looking into this issue as well. Gson does not provide a default solution so far. What you can do is:</p>\n\n<p>Option 1: Create an exclusion strategy which implements ExclusionStrategy to exclude the class and/or field in the circular reference;</p>\n\n<p>Option 2: Use annotations to mark the field to be transient to avoid serialization;</p>\n\n<p>Option 3: Create your own type adapter</p>\n"},{"tags":[],"owner":{"account_id":1681857,"reputation":2822,"user_id":1545939,"accept_rate":45,"display_name":"FabianoLothor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665543771,"creation_date":1665543771,"answer_id":74036039,"question_id":8402832,"body_markdown":"Yes, you can use:\r\n\r\n```\r\nnew ObjectMapper().writeValueAsString(yourObject);\r\n```\r\n\r\nYou might need `@JsonBackReference` as well.","title":"Is there a solution about Gson &quot;circular reference&quot;?","body":"<p>Yes, you can use:</p>\n<pre><code>new ObjectMapper().writeValueAsString(yourObject);\n</code></pre>\n<p>You might need <code>@JsonBackReference</code> as well.</p>\n"}],"owner":{"account_id":1088664,"reputation":131,"user_id":1083801,"display_name":"Johnny Fee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9397,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1665543762,"creation_date":1323187030,"question_id":8402832,"body_markdown":"I have found many articles about the circular reference with Gson, but I can&#39;t find an elegant solution.\r\n\r\nAs I know, some solutions is:\r\n\r\n * Set the property that caused circular reference as &quot;transient&quot;.\r\n * exclude the property with some annotation.\r\n\r\nBut as a general question, is there some common strategy to solve the problem?\r\n","title":"Is there a solution about Gson &quot;circular reference&quot;?","body":"<p>I have found many articles about the circular reference with Gson, but I can't find an elegant solution.</p>\n\n<p>As I know, some solutions is:</p>\n\n<ul>\n<li>Set the property that caused circular reference as \"transient\".</li>\n<li>exclude the property with some annotation.</li>\n</ul>\n\n<p>But as a general question, is there some common strategy to solve the problem?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665506141,"creation_date":1665506141,"answer_id":74031384,"question_id":74028575,"body_markdown":"If you are using at least JDK 9, you can use the [Process API][1] that was added since that version. Method [allProcesses][2] returns a [stream][3] of all the current processes.\r\n\r\nYou filter for the processes containing the relevant name (in your question you use *notepad.exe*) and sort them by [totalCpuDuration][4] and collect them to a list where the last element in the list is the process with *the highest uptime*, i.e. the longest [duration][5].\r\n\r\nAs far as I am aware, the *Process API* does not have a method for killing a process, hence I used class [ProcessBuilder][6] for that.\r\n```java\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class TaskList {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;notepad.exe&quot;;\r\n        List&lt;ProcessHandle&gt; list = ProcessHandle.allProcesses() // returns &#39;Stream&lt;ProcessHandle&gt;&#39;\r\n                                                .filter(h -&gt; h.info()\r\n                                                              .command() // returns &#39;Optional&lt;String&gt;&#39;\r\n                                                              .orElse(&quot;&quot;) // returns path to executable file or empty string\r\n                                                              .contains(s))\r\n                                                .sorted(Comparator.comparing(h -&gt; h.info()\r\n                                                                                   .totalCpuDuration() // returns &#39;Optional&lt;Duration&gt;&#39;\r\n                                                                                   .orElse(Duration.ZERO))) // returns actual duration or a &quot;zero&quot; duration\r\n                                                .collect(Collectors.toList());\r\n        int count = list.size();\r\n        if (count &gt; 0) {\r\n            long pid = list.get(count - 1)\r\n                           .pid();\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;taskkill&quot;, &quot;/PID&quot;, Long.toString(pid));\r\n            pb.inheritIO();\r\n            try {\r\n                Process p = pb.start();\r\n                int status = p.waitFor();\r\n                System.out.println(&quot;status = &quot; + status);\r\n            }\r\n            catch (InterruptedException | IOException x) {\r\n                x.printStackTrace();\r\n            }\r\n        }\r\n        else {\r\n            System.out.printf(&quot;No &#39;%s&#39; process found.%n&quot;, s);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-process-api\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\r\n  [3]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.Info.html#totalCpuDuration--\r\n  [5]: https://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html","title":"Get uptime of a window process in java","body":"<p>If you are using at least JDK 9, you can use the <a href=\"https://www.baeldung.com/java-9-process-api\" rel=\"nofollow noreferrer\">Process API</a> that was added since that version. Method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\">allProcesses</a> returns a <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream</a> of all the current processes.</p>\n<p>You filter for the processes containing the relevant name (in your question you use <em>notepad.exe</em>) and sort them by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.Info.html#totalCpuDuration--\" rel=\"nofollow noreferrer\">totalCpuDuration</a> and collect them to a list where the last element in the list is the process with <em>the highest uptime</em>, i.e. the longest <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">duration</a>.</p>\n<p>As far as I am aware, the <em>Process API</em> does not have a method for killing a process, hence I used class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> for that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.time.Duration;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class TaskList {\n\n    public static void main(String[] args) {\n        String s = &quot;notepad.exe&quot;;\n        List&lt;ProcessHandle&gt; list = ProcessHandle.allProcesses() // returns 'Stream&lt;ProcessHandle&gt;'\n                                                .filter(h -&gt; h.info()\n                                                              .command() // returns 'Optional&lt;String&gt;'\n                                                              .orElse(&quot;&quot;) // returns path to executable file or empty string\n                                                              .contains(s))\n                                                .sorted(Comparator.comparing(h -&gt; h.info()\n                                                                                   .totalCpuDuration() // returns 'Optional&lt;Duration&gt;'\n                                                                                   .orElse(Duration.ZERO))) // returns actual duration or a &quot;zero&quot; duration\n                                                .collect(Collectors.toList());\n        int count = list.size();\n        if (count &gt; 0) {\n            long pid = list.get(count - 1)\n                           .pid();\n            ProcessBuilder pb = new ProcessBuilder(&quot;taskkill&quot;, &quot;/PID&quot;, Long.toString(pid));\n            pb.inheritIO();\n            try {\n                Process p = pb.start();\n                int status = p.waitFor();\n                System.out.println(&quot;status = &quot; + status);\n            }\n            catch (InterruptedException | IOException x) {\n                x.printStackTrace();\n            }\n        }\n        else {\n            System.out.printf(&quot;No '%s' process found.%n&quot;, s);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25666732,"reputation":13,"user_id":19431556,"display_name":"Madsinceborn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74031384,"answer_count":1,"score":0,"last_activity_date":1665543028,"creation_date":1665493141,"question_id":74028575,"body_markdown":"I have written a code which will give me all the processes which are currently running on Windows and their instances count. I have also written a code which will kill a process by name specified. But I want to kill the process which has the most uptime, for example if I have 5 instances running for *notepad* then I want to kill only one instance which has the highest uptime. Below is the code which I have written. Thanks in advance.\r\n```java\r\npublic static void method3() {\r\n    List&lt;String&gt;processes=new ArrayList&lt;&gt;();\r\n    Map&lt;String,Integer&gt;mp=new LinkedHashMap&lt;&gt;();\r\n    try {\r\n        String line;\r\n        Process process=Runtime.getRuntime().exec(&quot;tasklist.exe /fo csv /nh&quot;);\r\n        BufferedReader in=new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        while ((line = in.readLine()) != null) {\r\n            if (!line.trim().equals(&quot;&quot;)) {\r\n                line = line.substring(0,line.indexOf(&quot;,&quot;));\r\n                line=line.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\r\n                processes.add(line);\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n        //Putting process name and it&#39;s instances count into a map.\r\n        for(int i=0;i&lt;processes.size();i++) {\r\n            int count=Collections.frequency(processes,processes.get(i));\r\n            mp.put(processes.get(i),count);\r\n        }\r\n\r\n        //getting specific value count and killing a processes if it is active based on name.\r\n        Set&lt;String&gt;key=mp.keySet();\r\n        for(String k:key) {\r\n            if(k.equalsIgnoreCase(&quot;notepad.exe&quot;)) {\r\n                Runtime.getRuntime().exec(&quot;taskkill /F /IM &quot;+k);\r\n            }\r\n        }\r\n\r\n        for(Entry&lt;String, Integer&gt; ent:mp.entrySet()) {\r\n            System.out.println(ent.getKey()+&quot;=&quot;+ent.getValue());\r\n        }\r\n        in.close();\r\n    }catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n","title":"Get uptime of a window process in java","body":"<p>I have written a code which will give me all the processes which are currently running on Windows and their instances count. I have also written a code which will kill a process by name specified. But I want to kill the process which has the most uptime, for example if I have 5 instances running for <em>notepad</em> then I want to kill only one instance which has the highest uptime. Below is the code which I have written. Thanks in advance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void method3() {\n    List&lt;String&gt;processes=new ArrayList&lt;&gt;();\n    Map&lt;String,Integer&gt;mp=new LinkedHashMap&lt;&gt;();\n    try {\n        String line;\n        Process process=Runtime.getRuntime().exec(&quot;tasklist.exe /fo csv /nh&quot;);\n        BufferedReader in=new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while ((line = in.readLine()) != null) {\n            if (!line.trim().equals(&quot;&quot;)) {\n                line = line.substring(0,line.indexOf(&quot;,&quot;));\n                line=line.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\n                processes.add(line);\n            }\n        }\n        System.out.println();\n\n        //Putting process name and it's instances count into a map.\n        for(int i=0;i&lt;processes.size();i++) {\n            int count=Collections.frequency(processes,processes.get(i));\n            mp.put(processes.get(i),count);\n        }\n\n        //getting specific value count and killing a processes if it is active based on name.\n        Set&lt;String&gt;key=mp.keySet();\n        for(String k:key) {\n            if(k.equalsIgnoreCase(&quot;notepad.exe&quot;)) {\n                Runtime.getRuntime().exec(&quot;taskkill /F /IM &quot;+k);\n            }\n        }\n\n        for(Entry&lt;String, Integer&gt; ent:mp.entrySet()) {\n            System.out.println(ent.getKey()+&quot;=&quot;+ent.getValue());\n        }\n        in.close();\n    }catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":26361272,"reputation":1,"user_id":20017417,"display_name":"cxqntnt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665541354,"creation_date":1665541354,"answer_id":74035822,"question_id":74035696,"body_markdown":"Put the below before for loop:\r\ndocument.getReference().delete();\r\n++deleted;","title":"How to delete a collection completely including documents subcollection in java","body":"<p>Put the below before for loop:\ndocument.getReference().delete();\n++deleted;</p>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665542397,"creation_date":1665542397,"answer_id":74035929,"question_id":74035696,"body_markdown":"Just sharing for someone correct code\r\n\r\n    private static void deleteCollection(CollectionReference collection, int batchSize) {\r\n        try {\r\n            // retrieve a small batch of documents to avoid out-of-memory errors\r\n            ApiFuture&lt;QuerySnapshot&gt; future = collection.limit(batchSize).get();\r\n            int deleted = 0;\r\n            // future.get() blocks on document retrieval\r\n            List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\r\n            for (QueryDocumentSnapshot document : documents) {\r\n\r\n                //delete document\r\n                document.getReference().delete();\r\n                ++deleted;\r\n                //delete subcollections\r\n                Iterable&lt;CollectionReference&gt; collections =\r\n                        document.getReference().listCollections();\r\n                for (CollectionReference collRef : collections) {\r\n                    deleteCollection(collRef, batchSize);\r\n                }\r\n\r\n            }\r\n            if (deleted &gt;= batchSize) {\r\n                // retrieve and delete another batch\r\n                deleteCollection(collection, batchSize);\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error deleting collection : &quot; + e.getMessage());\r\n        }\r\n    }","title":"How to delete a collection completely including documents subcollection in java","body":"<p>Just sharing for someone correct code</p>\n<pre><code>private static void deleteCollection(CollectionReference collection, int batchSize) {\n    try {\n        // retrieve a small batch of documents to avoid out-of-memory errors\n        ApiFuture&lt;QuerySnapshot&gt; future = collection.limit(batchSize).get();\n        int deleted = 0;\n        // future.get() blocks on document retrieval\n        List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\n        for (QueryDocumentSnapshot document : documents) {\n\n            //delete document\n            document.getReference().delete();\n            ++deleted;\n            //delete subcollections\n            Iterable&lt;CollectionReference&gt; collections =\n                    document.getReference().listCollections();\n            for (CollectionReference collRef : collections) {\n                deleteCollection(collRef, batchSize);\n            }\n\n        }\n        if (deleted &gt;= batchSize) {\n            // retrieve and delete another batch\n            deleteCollection(collection, batchSize);\n        }\n    } catch (Exception e) {\n        System.err.println(&quot;Error deleting collection : &quot; + e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665563583,"answer_count":2,"score":0,"last_activity_date":1665542397,"creation_date":1665539768,"question_id":74035696,"body_markdown":"I just little modified official sample snippet like below\r\n\r\n        static void deleteCollection(CollectionReference collection, int batchSize) {\r\n        try {\r\n            // retrieve a small batch of documents to avoid out-of-memory errors\r\n            ApiFuture&lt;QuerySnapshot&gt; future = collection.limit(batchSize).get();\r\n            int deleted = 0;\r\n            // future.get() blocks on document retrieval\r\n            List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\r\n            for (QueryDocumentSnapshot document : documents) {\r\n\r\n                //delete subcollections\r\n                Iterable&lt;CollectionReference&gt; collections =\r\n                        document.getReference().listCollections();\r\n                for (CollectionReference collRef : collections) {\r\n                    deleteCollection(collRef, batchSize);\r\n                }\r\n                //delete document\r\n                document.getReference().delete();\r\n                ++deleted;\r\n            }\r\n            if (deleted &gt;= batchSize) {\r\n                // retrieve and delete another batch\r\n                deleteCollection(collection, batchSize);\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error deleting collection : &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nBut this code does not work for me. Document subcollections remain as it. What is wrong here? Thank you your answer","title":"How to delete a collection completely including documents subcollection in java","body":"<p>I just little modified official sample snippet like below</p>\n<pre><code>    static void deleteCollection(CollectionReference collection, int batchSize) {\n    try {\n        // retrieve a small batch of documents to avoid out-of-memory errors\n        ApiFuture&lt;QuerySnapshot&gt; future = collection.limit(batchSize).get();\n        int deleted = 0;\n        // future.get() blocks on document retrieval\n        List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\n        for (QueryDocumentSnapshot document : documents) {\n\n            //delete subcollections\n            Iterable&lt;CollectionReference&gt; collections =\n                    document.getReference().listCollections();\n            for (CollectionReference collRef : collections) {\n                deleteCollection(collRef, batchSize);\n            }\n            //delete document\n            document.getReference().delete();\n            ++deleted;\n        }\n        if (deleted &gt;= batchSize) {\n            // retrieve and delete another batch\n            deleteCollection(collection, batchSize);\n        }\n    } catch (Exception e) {\n        System.err.println(&quot;Error deleting collection : &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>But this code does not work for me. Document subcollections remain as it. What is wrong here? Thank you your answer</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1665538328,"post_id":74035351,"comment_id":130722286,"body_markdown":"Create a Map&lt;Character, Integer&gt;. Each entry is a vowel, loop through your character by character and increase the integer in the map for each vowel.","body":"Create a Map&lt;Character, Integer&gt;. Each entry is a vowel, loop through your character by character and increase the integer in the map for each vowel."},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665538444,"post_id":74035351,"comment_id":130722297,"body_markdown":"``` for (int row = 1; row &lt;= MAX_ROWS; row++)``` the for loops are useless","body":"``` for (int row = 1; row &lt;= MAX_ROWS; row++)``` the for loops are useless"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665538585,"post_id":74035351,"comment_id":130722315,"body_markdown":"all you need to do is to remove the for loops and replace your ```row``` in your inner for loops with the number of times each vowl shows up","body":"all you need to do is to remove the for loops and replace your <code>row</code> in your inner for loops with the number of times each vowl shows up"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665542552,"post_id":74035351,"comment_id":130722862,"body_markdown":"[The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665540238,"creation_date":1665540238,"answer_id":74035728,"question_id":74035351,"body_markdown":"Based on my comments above I remove the outer for loops and replaced your inner  for loops with occurrences of each vowel shows up\r\n\r\n```\r\n //Test Values (NOT FINAL)\r\n            int aCount = 5 ;\r\n            int eCount = 5;\r\n            int iCount = 5;\r\n            int oCount = 5;\r\n            int uCount = 5;\r\n            //Process for creating the chart (NOT FINAL)\r\n            System.out.println(count);\r\n            System.out.print(&quot;A|&quot;);\r\n            final int MAX_ROWS = 1 ;\r\n            for(int i =0; i &lt; aCount; i++)\r\n                System.out.print(&quot;#&quot;);\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;E|&quot;);\r\n            for(int i =0; i &lt; eCount; i++)\r\n                System.out.print(&quot;#&quot;);\r\n\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;I|&quot;);\r\n            for(int i =0; i &lt; iCount; i++)\r\n                System.out.print(&quot;#&quot;);\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;O|&quot;);\r\n            for(int i =0; i &lt; oCount; i++)\r\n                System.out.print(&quot;#&quot;);\r\n\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;U|&quot;);\r\n            for(int i =0; i &lt; uCount; i++)\r\n                System.out.print(&quot;#&quot;);\r\n\r\n        }\r\n\r\n\r\n```\r\nand this is what @Just another Java programmer suggested\r\n```    \r\npublic static void main(String[] args){\r\n        Map&lt;Character, Integer&gt; vowelMap  = new HashMap&lt;Character, Integer&gt;() {{\r\n            put(&#39;A&#39;, 0);\r\n            put(&#39;E&#39;, 0);\r\n            put(&#39;I&#39;, 0);\r\n            put(&#39;O&#39;, 0);\r\n            put(&#39;U&#39;, 0);\r\n        }};\r\n        String words = &quot;oiwjroiajfdojasoijfalkdfoiejrf&quot;;\r\n        for(int i=0;i&lt;words.length();i++){\r\n            char c = Character.toUpperCase(words.charAt(i));\r\n            if(vowelMap.containsKey(c))\r\n                vowelMap.put(c, vowelMap.get(c)+1);;\r\n        }\r\n        vowelMap.forEach((k,v) -&gt; System.out.println( k+ &quot;|&quot;+ &quot;#&quot;.repeat(v)));\r\n    }\r\n```","title":"Need assistance with creating a table for java project","body":"<p>Based on my comments above I remove the outer for loops and replaced your inner  for loops with occurrences of each vowel shows up</p>\n<pre><code> //Test Values (NOT FINAL)\n            int aCount = 5 ;\n            int eCount = 5;\n            int iCount = 5;\n            int oCount = 5;\n            int uCount = 5;\n            //Process for creating the chart (NOT FINAL)\n            System.out.println(count);\n            System.out.print(&quot;A|&quot;);\n            final int MAX_ROWS = 1 ;\n            for(int i =0; i &lt; aCount; i++)\n                System.out.print(&quot;#&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;E|&quot;);\n            for(int i =0; i &lt; eCount; i++)\n                System.out.print(&quot;#&quot;);\n\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;I|&quot;);\n            for(int i =0; i &lt; iCount; i++)\n                System.out.print(&quot;#&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;O|&quot;);\n            for(int i =0; i &lt; oCount; i++)\n                System.out.print(&quot;#&quot;);\n\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;U|&quot;);\n            for(int i =0; i &lt; uCount; i++)\n                System.out.print(&quot;#&quot;);\n\n        }\n\n\n</code></pre>\n<p>and this is what @Just another Java programmer suggested</p>\n<pre><code>public static void main(String[] args){\n        Map&lt;Character, Integer&gt; vowelMap  = new HashMap&lt;Character, Integer&gt;() {{\n            put('A', 0);\n            put('E', 0);\n            put('I', 0);\n            put('O', 0);\n            put('U', 0);\n        }};\n        String words = &quot;oiwjroiajfdojasoijfalkdfoiejrf&quot;;\n        for(int i=0;i&lt;words.length();i++){\n            char c = Character.toUpperCase(words.charAt(i));\n            if(vowelMap.containsKey(c))\n                vowelMap.put(c, vowelMap.get(c)+1);;\n        }\n        vowelMap.forEach((k,v) -&gt; System.out.println( k+ &quot;|&quot;+ &quot;#&quot;.repeat(v)));\n    }\n</code></pre>\n"}],"owner":{"account_id":26592749,"reputation":13,"user_id":20215671,"display_name":"OvenMade123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74035728,"answer_count":1,"score":0,"last_activity_date":1665542253,"creation_date":1665535571,"question_id":74035351,"body_markdown":"So, I&#39;m super new to programming in general. I&#39;ve been learning Java through a course and one of our projects is to make a program that reads a text file and prints the number of vowels in a little table. (See below example.)\r\n```none\r\nA|##\r\nE|##\r\nI|####\r\nO|#\r\nU|\r\n```\r\nI&#39;ve gotten some work done. For instance getting the total number of vowels. (See below.)\r\n\r\n    String words = input.nextLine();\r\n    System.out.println(words);\r\n\r\n    for (int i=0;i&lt;words.length(); i++)\r\n    {\r\n        char car = words.charAt(i);\r\n        if (car ==&#39;a&#39;|| car == &#39;i&#39; || car == &#39;e&#39; || car==&#39;o&#39; || car == &#39;u&#39;)\r\n        {\r\n            count ++ ;\r\n        }\r\n\r\nThis prints the total number ^\r\n\r\n**Output:** 9\r\n\r\nAfter that I worked out a way to print the table. (See below.)\r\n\r\n    //Process for creating the chart (NOT FINAL)\r\n    System.out.println(count);\r\n    System.out.print(&quot;A|&quot;);\r\n    final int MAX_ROWS = 1 ;\r\n    for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n    {\r\n        for(int a =5; a &gt;= row; a--)\r\n            System.out.print(&quot;#&quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n    System.out.print(&quot;E|&quot;);\r\n    for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n    {\r\n        for(int e =5; e &gt;= row; e--)\r\n            System.out.print(&quot;#&quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n    System.out.print(&quot;I|&quot;);\r\n    for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n    {\r\n        for(int ii =5; ii &gt;= row; ii--)\r\n            System.out.print(&quot;#&quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n    System.out.print(&quot;O|&quot;);\r\n    for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n    {\r\n        for(int o =5; o &gt;= row; o--)\r\n            System.out.print(&quot;#&quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n    System.out.print(&quot;U|&quot;);\r\n    for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n    {\r\n        for(int u =5; u &gt;= row; u--)\r\n            System.out.print(&quot;#&quot;);\r\n    }\r\n\r\n**Output:**\r\n```none\r\nA|#####\r\nE|#####\r\nI|#####\r\nO|#####\r\nU|#####\r\n```\r\nHowever, I can&#39;t figure out how to get the number of each vowel into the table. I&#39;ve provided the whole thing below to look through for broader context. I apologize for how rough it is, I&#39;m just a bit lost. And I couldn&#39;t find anything with my specific table requirement on the Web. I hope one of you can help. Thanks for any answers.\r\n\r\nP.S. Since this is a class were I&#39;m trying to learn I want to figure this out on my own. Pointers with explanations would be great. A push in the right direction if you will.\r\n\r\nEdit: I want to clarify something that I explained poorly. The `int`s a-u are placeholders and the goal was to use vowels from a text doc. The example from the test doc is &quot;orange tree apple hope&quot;. Hope that clarifies.\r\n\r\n**Full Code:**\r\n```java\r\nimport java.util.Scanner ;\r\nimport java.io.File ;\r\n\r\npublic class VowelCounter\r\n{\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        File text = new File (&quot;Doc.txt&quot;) ;\r\n        Scanner input = new Scanner(text) ;\r\n        //File Doc.txt is scanned and is used \r\n        int count = 0 ;\r\n\r\n        while (input.hasNext())\r\n        {\r\n            String words = input.nextLine();\r\n            System.out.println(words);\r\n\r\n            for (int i=0;i&lt;words.length(); i++)\r\n            {\r\n                char car = words.charAt(i);\r\n                if (car ==&#39;a&#39;|| car == &#39;i&#39; || car == &#39;e&#39; || car==&#39;o&#39; || car == &#39;u&#39;)\r\n                {\r\n                    count ++ ;\r\n                }\r\n\r\n                //Test Values (NOT FINAL)\r\n                int a = 5 ;\r\n                int e = 5;\r\n                int ii = 5;\r\n                int o = 5;\r\n                int u = 5;\r\n            }\r\n\r\n            //Process for creating the chart (NOT FINAL)\r\n            System.out.println(count);\r\n            System.out.print(&quot;A|&quot;);\r\n            final int MAX_ROWS = 1 ;\r\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n            {\r\n                for(int a =5; a &gt;= row; a--)\r\n                    System.out.print(&quot;#&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;E|&quot;);\r\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n            {\r\n                for(int e =5; e &gt;= row; e--)\r\n                    System.out.print(&quot;#&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;I|&quot;);\r\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n            {\r\n                for(int ii =5; ii &gt;= row; ii--)\r\n                    System.out.print(&quot;#&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;O|&quot;);\r\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n            {\r\n                for(int o =5; o &gt;= row; o--)\r\n                    System.out.print(&quot;#&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            System.out.print(&quot;U|&quot;);\r\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\r\n            {\r\n                for(int u =5; u &gt;= row; u--)\r\n                    System.out.print(&quot;#&quot;);\r\n            }\r\n        }\r\n        //(ERROR) prints 15 # instead of 4\r\n        // a= 2 e=5 i=0 o=2 u=0 (FOR CHECK)\r\n        // 9 toatl vowels\r\n    }\r\n}\r\n```","title":"Need assistance with creating a table for java project","body":"<p>So, I'm super new to programming in general. I've been learning Java through a course and one of our projects is to make a program that reads a text file and prints the number of vowels in a little table. (See below example.)</p>\n<pre class=\"lang-none prettyprint-override\"><code>A|##\nE|##\nI|####\nO|#\nU|\n</code></pre>\n<p>I've gotten some work done. For instance getting the total number of vowels. (See below.)</p>\n<pre><code>String words = input.nextLine();\nSystem.out.println(words);\n\nfor (int i=0;i&lt;words.length(); i++)\n{\n    char car = words.charAt(i);\n    if (car =='a'|| car == 'i' || car == 'e' || car=='o' || car == 'u')\n    {\n        count ++ ;\n    }\n</code></pre>\n<p>This prints the total number ^</p>\n<p><strong>Output:</strong> 9</p>\n<p>After that I worked out a way to print the table. (See below.)</p>\n<pre><code>//Process for creating the chart (NOT FINAL)\nSystem.out.println(count);\nSystem.out.print(&quot;A|&quot;);\nfinal int MAX_ROWS = 1 ;\nfor (int row = 1; row &lt;= MAX_ROWS; row++)\n{\n    for(int a =5; a &gt;= row; a--)\n        System.out.print(&quot;#&quot;);\n}\nSystem.out.println(&quot;&quot;);\nSystem.out.print(&quot;E|&quot;);\nfor (int row = 1; row &lt;= MAX_ROWS; row++)\n{\n    for(int e =5; e &gt;= row; e--)\n        System.out.print(&quot;#&quot;);\n}\nSystem.out.println(&quot;&quot;);\nSystem.out.print(&quot;I|&quot;);\nfor (int row = 1; row &lt;= MAX_ROWS; row++)\n{\n    for(int ii =5; ii &gt;= row; ii--)\n        System.out.print(&quot;#&quot;);\n}\nSystem.out.println(&quot;&quot;);\nSystem.out.print(&quot;O|&quot;);\nfor (int row = 1; row &lt;= MAX_ROWS; row++)\n{\n    for(int o =5; o &gt;= row; o--)\n        System.out.print(&quot;#&quot;);\n}\nSystem.out.println(&quot;&quot;);\nSystem.out.print(&quot;U|&quot;);\nfor (int row = 1; row &lt;= MAX_ROWS; row++)\n{\n    for(int u =5; u &gt;= row; u--)\n        System.out.print(&quot;#&quot;);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>A|#####\nE|#####\nI|#####\nO|#####\nU|#####\n</code></pre>\n<p>However, I can't figure out how to get the number of each vowel into the table. I've provided the whole thing below to look through for broader context. I apologize for how rough it is, I'm just a bit lost. And I couldn't find anything with my specific table requirement on the Web. I hope one of you can help. Thanks for any answers.</p>\n<p>P.S. Since this is a class were I'm trying to learn I want to figure this out on my own. Pointers with explanations would be great. A push in the right direction if you will.</p>\n<p>Edit: I want to clarify something that I explained poorly. The <code>int</code>s a-u are placeholders and the goal was to use vowels from a text doc. The example from the test doc is &quot;orange tree apple hope&quot;. Hope that clarifies.</p>\n<p><strong>Full Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner ;\nimport java.io.File ;\n\npublic class VowelCounter\n{\n    public static void main(String[] args) throws Exception\n    {\n        File text = new File (&quot;Doc.txt&quot;) ;\n        Scanner input = new Scanner(text) ;\n        //File Doc.txt is scanned and is used \n        int count = 0 ;\n\n        while (input.hasNext())\n        {\n            String words = input.nextLine();\n            System.out.println(words);\n\n            for (int i=0;i&lt;words.length(); i++)\n            {\n                char car = words.charAt(i);\n                if (car =='a'|| car == 'i' || car == 'e' || car=='o' || car == 'u')\n                {\n                    count ++ ;\n                }\n\n                //Test Values (NOT FINAL)\n                int a = 5 ;\n                int e = 5;\n                int ii = 5;\n                int o = 5;\n                int u = 5;\n            }\n\n            //Process for creating the chart (NOT FINAL)\n            System.out.println(count);\n            System.out.print(&quot;A|&quot;);\n            final int MAX_ROWS = 1 ;\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\n            {\n                for(int a =5; a &gt;= row; a--)\n                    System.out.print(&quot;#&quot;);\n            }\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;E|&quot;);\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\n            {\n                for(int e =5; e &gt;= row; e--)\n                    System.out.print(&quot;#&quot;);\n            }\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;I|&quot;);\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\n            {\n                for(int ii =5; ii &gt;= row; ii--)\n                    System.out.print(&quot;#&quot;);\n            }\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;O|&quot;);\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\n            {\n                for(int o =5; o &gt;= row; o--)\n                    System.out.print(&quot;#&quot;);\n            }\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;U|&quot;);\n            for (int row = 1; row &lt;= MAX_ROWS; row++)\n            {\n                for(int u =5; u &gt;= row; u--)\n                    System.out.print(&quot;#&quot;);\n            }\n        }\n        //(ERROR) prints 15 # instead of 4\n        // a= 2 e=5 i=0 o=2 u=0 (FOR CHECK)\n        // 9 toatl vowels\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665539790,"creation_date":1665539790,"answer_id":74035702,"question_id":74035498,"body_markdown":"1. join - probably requires distinct, thus could be unusable due to pagination:\r\n\r\n```\r\n(root, cq, cb) -&gt; {\r\n    Root&lt;Group&gt; groups = cq.from(Group.class);\r\n    Join&lt;Group, User&gt; userJoin = groups.join(Group_.users);\r\n    return cb.and(\r\n            cb.equal(root.get(Attempt_.user), userJoin),\r\n            groups.in(grList)\r\n    );\r\n}\r\n```\r\n\r\n2. semi join:\r\n\r\n```\r\n(root, cq, cb) -&gt; {\r\n    Subquery&lt;Long&gt; groupSubQ = cq.subquery(Long.class);\r\n    Root&lt;Group&gt; groups = groupSubQ.from(Group.class);\r\n    Join&lt;Group, User&gt; userJoin = groups.join(Group_.users);\r\n    groupSubQ.select(cb.literal(1L)).where(\r\n            groups.in(grList),\r\n            cb.equal(root.get(Attempt_.user), userJoin)\r\n    );\r\n    return cb.exists(groupSubQ);\r\n}\r\n```","title":"Hibernate. Predicate with two joins","body":"<ol>\n<li>join - probably requires distinct, thus could be unusable due to pagination:</li>\n</ol>\n<pre><code>(root, cq, cb) -&gt; {\n    Root&lt;Group&gt; groups = cq.from(Group.class);\n    Join&lt;Group, User&gt; userJoin = groups.join(Group_.users);\n    return cb.and(\n            cb.equal(root.get(Attempt_.user), userJoin),\n            groups.in(grList)\n    );\n}\n</code></pre>\n<ol start=\"2\">\n<li>semi join:</li>\n</ol>\n<pre><code>(root, cq, cb) -&gt; {\n    Subquery&lt;Long&gt; groupSubQ = cq.subquery(Long.class);\n    Root&lt;Group&gt; groups = groupSubQ.from(Group.class);\n    Join&lt;Group, User&gt; userJoin = groups.join(Group_.users);\n    groupSubQ.select(cb.literal(1L)).where(\n            groups.in(grList),\n            cb.equal(root.get(Attempt_.user), userJoin)\n    );\n    return cb.exists(groupSubQ);\n}\n</code></pre>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74035702,"answer_count":1,"score":1,"last_activity_date":1665542121,"creation_date":1665537452,"question_id":74035498,"body_markdown":"I have next relations:\r\n\r\n    CREATE TABLE IF NOT EXISTS users\r\n    (\r\n        id                      BIGSERIAL PRIMARY KEY\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS groups\r\n    (\r\n        id         BIGSERIAL PRIMARY KEY\r\n    );\r\n    \r\n    CREATE TABLE users_groups\r\n    (\r\n        id         BIGSERIAL PRIMARY KEY,\r\n        user_id    BIGINT REFERENCES users (id),\r\n        group_id   BIGINT REFERENCES groups (id)\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS attempts\r\n    (\r\n        id         BIGSERIAL PRIMARY KEY,\r\n        user_id    BIGINT REFERENCES users (id)\r\n    );\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToMany(mappedBy = &quot;users&quot;, fetch = FetchType.LAZY)\r\n        @ToString.Exclude\r\n        private Set&lt;Group&gt; groups;\r\n    \r\n        @ToString.Exclude\r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Attempt&gt; attempts;\r\n    }\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;groups&quot;)\r\n    public class Group {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;users_groups&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;group_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        @ToString.Exclude\r\n        private List&lt;User&gt; users;\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Builder\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;attempts&quot;)\r\n    public class Attempt {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ToString.Exclude\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    }\r\n\r\n\r\nAnd `AttemptSpecification` which target of my question:\r\n\r\n    record AttemptSpecification(@NotNull Group group) implements Specification&lt;Attempt&gt; {\r\n\r\n        @NotNull\r\n        @Override\r\n        public Predicate toPredicate(@NotNull Root&lt;Attempt&gt; root,\r\n                                     @NotNull CriteriaQuery&lt;?&gt; query,\r\n                                     @NotNull CriteriaBuilder builder) {\r\n\r\n            Predicate predicate = builder.conjunction();\r\n            List&lt;Expression&lt;Boolean&gt;&gt; exps = predicate.getExpressions();\r\n\r\n            ....?\r\n            \r\n            return predicate;\r\n        }\r\n    }\r\n\r\nAnd I need to fetch data from `attempts` table by groups with `JpaSpecificationExecutor::Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; spec, Pageable pageable)`.\r\n\r\nHow to build `Predicate` with `CriteriaBuilder ` for select attempts related to users which included in some group? How to join `groups` to `users` and `users` to `attempts`?","title":"Hibernate. Predicate with two joins","body":"<p>I have next relations:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS users\n(\n    id                      BIGSERIAL PRIMARY KEY\n);\n\nCREATE TABLE IF NOT EXISTS groups\n(\n    id         BIGSERIAL PRIMARY KEY\n);\n\nCREATE TABLE users_groups\n(\n    id         BIGSERIAL PRIMARY KEY,\n    user_id    BIGINT REFERENCES users (id),\n    group_id   BIGINT REFERENCES groups (id)\n);\n\nCREATE TABLE IF NOT EXISTS attempts\n(\n    id         BIGSERIAL PRIMARY KEY,\n    user_id    BIGINT REFERENCES users (id)\n);\n\n\n@Entity\n@Getter\n@Setter\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToMany(mappedBy = &quot;users&quot;, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private Set&lt;Group&gt; groups;\n\n    @ToString.Exclude\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Attempt&gt; attempts;\n}\n\n@Entity\n@Getter\n@Setter\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;groups&quot;)\npublic class Group {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;users_groups&quot;,\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;))\n    @ToString.Exclude\n    private List&lt;User&gt; users;\n}\n\n@Getter\n@Setter\n@Entity\n@Builder\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;attempts&quot;)\npublic class Attempt {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p>And <code>AttemptSpecification</code> which target of my question:</p>\n<pre><code>record AttemptSpecification(@NotNull Group group) implements Specification&lt;Attempt&gt; {\n\n    @NotNull\n    @Override\n    public Predicate toPredicate(@NotNull Root&lt;Attempt&gt; root,\n                                 @NotNull CriteriaQuery&lt;?&gt; query,\n                                 @NotNull CriteriaBuilder builder) {\n\n        Predicate predicate = builder.conjunction();\n        List&lt;Expression&lt;Boolean&gt;&gt; exps = predicate.getExpressions();\n\n        ....?\n        \n        return predicate;\n    }\n}\n</code></pre>\n<p>And I need to fetch data from <code>attempts</code> table by groups with <code>JpaSpecificationExecutor::Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; spec, Pageable pageable)</code>.</p>\n<p>How to build <code>Predicate</code> with <code>CriteriaBuilder </code> for select attempts related to users which included in some group? How to join <code>groups</code> to <code>users</code> and <code>users</code> to <code>attempts</code>?</p>\n"},{"tags":["java","multithreading","optimization","compiler-optimization","cpu-architecture"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":10,"creation_date":1465474180,"post_id":37725497,"comment_id":62922335,"body_markdown":"Walk into a cafe and ask for a drink and a sandwich. The person behind the counter hands you the sandwich (which is right next to him), then walks to the fridge to get your drink. Do you care that he gave them to you in the &quot;wrong&quot; order? Would you rather he did the slow one first, simply because that&#39;s how you gave the order?","body":"Walk into a cafe and ask for a drink and a sandwich. The person behind the counter hands you the sandwich (which is right next to him), then walks to the fridge to get your drink. Do you care that he gave them to you in the &quot;wrong&quot; order? Would you rather he did the slow one first, simply because that&#39;s how you gave the order?"},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1465474510,"post_id":37725497,"comment_id":62922568,"body_markdown":"Occasionally it does matter though. You wouldn&#39;t want a warm drink on a hot day would you? So you&#39;d like the drink to be fetched last.","body":"Occasionally it does matter though. You wouldn&#39;t want a warm drink on a hot day would you? So you&#39;d like the drink to be fetched last."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1465474986,"post_id":37725497,"comment_id":62922961,"body_markdown":"is your code supposed to do anything else than immediately throwing an Exception? Im guessing you dont really understand the term &quot;reordering&quot;, stored values never change but their FETCHING STRATEGY will.","body":"is your code supposed to do anything else than immediately throwing an Exception? Im guessing you dont really understand the term &quot;reordering&quot;, stored values never change but their FETCHING STRATEGY will."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1465476664,"post_id":37725497,"comment_id":62924265,"body_markdown":"Modern CPUs are complex devices, that can execute multiple instructions at the same time, if there&#39;s no data dependency between the instructions. Depending on the CPU, putting the instructions in a certain order other than what you did in the source code will make it run faster. See [Out-of-order execution](https://en.wikipedia.org/wiki/Out-of-order_execution).","body":"Modern CPUs are complex devices, that can execute multiple instructions at the same time, if there&#39;s no data dependency between the instructions. Depending on the CPU, putting the instructions in a certain order other than what you did in the source code will make it run faster. See <a href=\"https://en.wikipedia.org/wiki/Out-of-order_execution\" rel=\"nofollow noreferrer\">Out-of-order execution</a>."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1465585878,"post_id":37725497,"comment_id":62980629,"body_markdown":"@Jesper: Compile-time reordering more importantly allows multiple operations on the same shared variable to be folded together.  e.g. multiple increments from multiple calls to a function that increments something can turn into a single `c.a += 4` after inlining, even things happen in between and the compiler can&#39;t prove that no other thread could observe them (via a reference).  See my update to my answer.","body":"@Jesper: Compile-time reordering more importantly allows multiple operations on the same shared variable to be folded together.  e.g. multiple increments from multiple calls to a function that increments something can turn into a single <code>c.a += 4</code> after inlining, even things happen in between and the compiler can&#39;t prove that no other thread could observe them (via a reference).  See my update to my answer."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1465474282,"creation_date":1465474282,"answer_id":37725651,"question_id":37725497,"body_markdown":"Imagine to have the following code:\r\n\r\n    a = 1;\r\n    b = 1;\r\n    a = a + 1;   // Not present in the register\r\n    b = b + 1;   // Not present in the register\r\n    a = a + 1;   // Not present in the register\r\n    b = b + 1;   // Not present in the register\r\n    // Here both a and b has value 3\r\n\r\nA possible optimization using memory reorder is\r\n\r\n    a = 1;\r\n    a = a + 1;   // Already in the register\r\n    a = a + 1;   // Already in the register\r\n    b = 1;\r\n    b = b + 1;   // Already in the register\r\n    b = b + 1;   // Already in the register\r\n    // Here both a and b has value 3\r\n\r\nThe performance is better because the data are presents in the register.\r\n\r\nNote that there are many different levels of optimization, but this will give you an idea why reordering can improve performances.","title":"How does memory reordering help processors and compilers?","body":"<p>Imagine to have the following code:</p>\n\n<pre><code>a = 1;\nb = 1;\na = a + 1;   // Not present in the register\nb = b + 1;   // Not present in the register\na = a + 1;   // Not present in the register\nb = b + 1;   // Not present in the register\n// Here both a and b has value 3\n</code></pre>\n\n<p>A possible optimization using memory reorder is</p>\n\n<pre><code>a = 1;\na = a + 1;   // Already in the register\na = a + 1;   // Already in the register\nb = 1;\nb = b + 1;   // Already in the register\nb = b + 1;   // Already in the register\n// Here both a and b has value 3\n</code></pre>\n\n<p>The performance is better because the data are presents in the register.</p>\n\n<p>Note that there are many different levels of optimization, but this will give you an idea why reordering can improve performances.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465474714,"creation_date":1465474714,"answer_id":37725831,"question_id":37725497,"body_markdown":"Walk into a cafe and ask for a drink and a sandwich. The person behind the counter hands you the sandwich (which is right next to him), then walks to the fridge to get your drink.\r\n\r\nDo you care that he gave them to you in the &quot;wrong&quot; order? Would you rather he did the slow one first, simply because that&#39;s how you gave the order?\r\n\r\nWell, maybe you do care. Maybe you want to stuff the uneaten sandwich into your empty drink cup (you paid for them, so why not, if you want to). You are frustrated by the fact you have to hold the sandwich while your drink is fetched - you could have used that time to drink your drink, after all, and you wouldn&#39;t end up with hiccups, because you&#39;re in a hurry!\r\n\r\nBut that&#39;s what happens if you order a few things without specifying the order in which they must happen. The server isn&#39;t aware of your unusual sandwich-cup-stuffing habit, and so it seems to them like the ordering doesn&#39;t matter.\r\n\r\nWe have constructs in natural language to specify the ordering (&quot;Please give me a drink, then give me a sandwich&quot;) or not (&quot;Please give me a drink and a sandwich&quot;). If you&#39;re not careful to use the former rather than the latter, it will be assumed that you just want the end result, and the various steps can be reordered for convenience&#39;s sake.\r\n\r\nSimilarly, in the JMM, if you&#39;re not specific about the ordering of operations, it is assumed that the operations can be reordered.","title":"How does memory reordering help processors and compilers?","body":"<p>Walk into a cafe and ask for a drink and a sandwich. The person behind the counter hands you the sandwich (which is right next to him), then walks to the fridge to get your drink.</p>\n\n<p>Do you care that he gave them to you in the \"wrong\" order? Would you rather he did the slow one first, simply because that's how you gave the order?</p>\n\n<p>Well, maybe you do care. Maybe you want to stuff the uneaten sandwich into your empty drink cup (you paid for them, so why not, if you want to). You are frustrated by the fact you have to hold the sandwich while your drink is fetched - you could have used that time to drink your drink, after all, and you wouldn't end up with hiccups, because you're in a hurry!</p>\n\n<p>But that's what happens if you order a few things without specifying the order in which they must happen. The server isn't aware of your unusual sandwich-cup-stuffing habit, and so it seems to them like the ordering doesn't matter.</p>\n\n<p>We have constructs in natural language to specify the ordering (\"Please give me a drink, then give me a sandwich\") or not (\"Please give me a drink and a sandwich\"). If you're not careful to use the former rather than the latter, it will be assumed that you just want the end result, and the various steps can be reordered for convenience's sake.</p>\n\n<p>Similarly, in the JMM, if you're not specific about the ordering of operations, it is assumed that the operations can be reordered.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465542416,"creation_date":1465476641,"answer_id":37726517,"question_id":37725497,"body_markdown":"On a modern processor chip, the processor can typically perform register to register operations an order of magnitude (or more) faster that fetching from main memory.  Operations that hit the L1 or L2 caches are faster than main memory, slower than register to register.  The other thing to note is that modern processors chips typically use a *pipeline* which allows different parts of different instructions to be executed at the same time.\r\n\r\nWith this in mind, reordering of operations is *typically* done to avoid situations where the pipeline (fast) has to wait for an operation on main memory (slow) to complete:\r\n\r\n  -  Davide&#39;s example illustrates reordering that avoids memory reads and writes entirely.  (At least, that is his intention.  In reality, the reordering is done at the native instruction level, not the source code or bytecode level.)\r\n\r\n  - In other cases, you might find that the instructions to do `a = a + 1` and `b = b + 1` get interleaved; e.g.\r\n\r\n        1) load a -&gt; r1\r\n        2) load b -&gt; r2\r\n        3) r1 + 1 -&gt; r3\r\n        4) r2 + 1 -&gt; r4\r\n        5) save r3 -&gt; a\r\n        6) save r4 -&gt; b\r\n\r\n     In a pipeline architecture, this might allow 2) and 3) to happen at the same time, 4) and 5) to happen at the same time and so on.\r\n\r\nThe final thing to note is that a modern processor chip / instruction set avoids reading from main memory and writing to main memory as much as possible.  Indeed, it is common for a write instruction to write into L1 or L2 cache, and delay the (slow) write to main memory until the cache-line is flushed.  This leads to a different kind of &quot;memory anomaly&quot; ... where a separate thread running on a different core does not see memory updates because the respective writes have not (yet) been flushed.\r\n\r\nThe Java Memory Model is designed to allow the compiler / processor to optimize performance of a multi-threaded application, as above.  It makes it clear when one thread is guaranteed to see memory changes made by another thread.  The compiler / processor are allowed to reorder, etc in cases where are no visibility guarantees.  This reordering can make a big difference in overall performance.","title":"How does memory reordering help processors and compilers?","body":"<p>On a modern processor chip, the processor can typically perform register to register operations an order of magnitude (or more) faster that fetching from main memory.  Operations that hit the L1 or L2 caches are faster than main memory, slower than register to register.  The other thing to note is that modern processors chips typically use a <em>pipeline</em> which allows different parts of different instructions to be executed at the same time.</p>\n\n<p>With this in mind, reordering of operations is <em>typically</em> done to avoid situations where the pipeline (fast) has to wait for an operation on main memory (slow) to complete:</p>\n\n<ul>\n<li><p>Davide's example illustrates reordering that avoids memory reads and writes entirely.  (At least, that is his intention.  In reality, the reordering is done at the native instruction level, not the source code or bytecode level.)</p></li>\n<li><p>In other cases, you might find that the instructions to do <code>a = a + 1</code> and <code>b = b + 1</code> get interleaved; e.g.</p>\n\n<pre><code>1) load a -&gt; r1\n2) load b -&gt; r2\n3) r1 + 1 -&gt; r3\n4) r2 + 1 -&gt; r4\n5) save r3 -&gt; a\n6) save r4 -&gt; b\n</code></pre>\n\n<p>In a pipeline architecture, this might allow 2) and 3) to happen at the same time, 4) and 5) to happen at the same time and so on.</p></li>\n</ul>\n\n<p>The final thing to note is that a modern processor chip / instruction set avoids reading from main memory and writing to main memory as much as possible.  Indeed, it is common for a write instruction to write into L1 or L2 cache, and delay the (slow) write to main memory until the cache-line is flushed.  This leads to a different kind of \"memory anomaly\" ... where a separate thread running on a different core does not see memory updates because the respective writes have not (yet) been flushed.</p>\n\n<p>The Java Memory Model is designed to allow the compiler / processor to optimize performance of a multi-threaded application, as above.  It makes it clear when one thread is guaranteed to see memory changes made by another thread.  The compiler / processor are allowed to reorder, etc in cases where are no visibility guarantees.  This reordering can make a big difference in overall performance.</p>\n"},{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1665541685,"creation_date":1465532947,"answer_id":37739933,"question_id":37725497,"body_markdown":"**TL;DR**: It gives the compiler and hardware more room to take advantage of the *as-if* rule by not requiring it to preserve all behaviour of the original source, only the result of the single thread itself.\r\n\r\nTaking the externally-observable (from other threads) ordering of loads/stores out of the picture as something that optimizations must preserve gives the compiler a lot of room to merge things into fewer operations.  For the hardware, delaying stores is the big one, but for compilers all kinds of reordering can help.\r\n\r\n(Letting cache-hit loads finish before earlier cache-miss loads is also useful for hardware, and same for stores, without having to do load-order speculation with possible roll-back.  Jeff Preshing&#39;s [Memory Barriers Are Like Source Control Operations][1] has useful analogies and descriptions of plausible ways hardware can do it.  But modern x86 CPUs throw enough transistors and power at these ordering requirements to manage them without huge performance downsides in most code.)\r\n\r\n---\r\n\r\n(See part-way down for a section on why it helps the compiler)\r\n\r\n### Why it helps hardware\r\n\r\nHardware reordering earlier stores with later loads ([StoreLoad reordering][2]) inside the CPU is essential for out-of-order execution.  (See below).\r\n\r\nOther kinds of reordering (e.g. StoreStore reordering, which is the subject of your question) aren&#39;t essential, and high performance CPUs can be built with only StoreLoad reordering, not the other three kinds.  (The prime example being tag:x86, where every store is a [release-store, every load is an acquire-load][3]. See the [tag:x86] tag wiki for more details.)\r\n\r\nSome people, like Linus Torvalds, argue that reordering stores with other stores doesn&#39;t help the hardware much, [because hardware already has to track store-ordering to support out-of-order execution of a single thread][4].  (A single thread always runs as if all of its own stores/loads happen in program order.)  See other posts in that thread on realworldtech if you&#39;re curious.  And/or if you find Linus&#39;s mix of insults and sensible technical arguments entertaining :P\r\n\r\n---\r\n\r\nFor Java, the issue is that, **architectures exist where the hardware *doesn&#39;t* provide these ordering guarantees**.  [Weak memory ordering][5] is a common feature of RISC ISAs like ARM, PowerPC, and MIPS.  (But not SPARC-TSO).  The reasons behind that design decision are the same ones being argued over in the realworldtech thread I linked: make the hardware simpler, and let software request ordering when needed.\r\n\r\n\r\nSo Java&#39;s architect(s) didn&#39;t have much of a choice:  Implementing a JVM for an architecture with a weaker memory model than the Java standard would require a store-barrier instruction after every single store, and a load-barrier before every load.  (Except when the JVM&#39;s JIT-compiler can prove that no other thread can have a reference to that variable.)  Running barrier instructions all the time is slow.\r\n\r\nA strong memory model for Java would make efficient JVMs on ARM (and other ISAs) impossible.  Proving that barriers aren&#39;t needed is near-impossible, requiring AI levels of global program-understanding.  (This goes WAY beyond what normal optimizers do).\r\n\r\n---\r\n\r\n### Why it helps compilers\r\n\r\n(see also Jeff Preshing&#39;s excellent blog post on [C++ compile-time reordering][6].  This basically applies to Java when you include JIT-compiling to native code as part of the process.)\r\n\r\nAnother reason for keeping the Java and C/C++ memory models weak is to allow more optimizations.  Since other threads are allowed (by the weak memory model) to observe our stores and loads in any order, aggressive transformations are allowed even when the code involves stores to memory.\r\n\r\ne.g. in a case like Davide&#39;s example:\r\n\r\n    c.a = 1;\r\n    c.b = 1;\r\n    c.a++;\r\n    c.b++;\r\n\r\n    // same observable effects as the much simpler\r\n    c.a = 2;\r\n    c.b = 2;\r\n\r\nThere&#39;s no requirement that other threads be able to observe the intermediate states.  So a compiler can just compile that to `c.a = 2; c.b = 2;`, either at Java-compile time or when the bytecode is JIT-compiled to machine code.\r\n\r\nIt&#39;s common for a method that increments something to be called multiple times from another method.  Without this rule, turning it into `c.a += 4` could only happen if the compiler could prove that no other thread could observe the difference.\r\n\r\nC++ programmers sometimes make the mistake of thinking that since they&#39;re compiling for x86, they don&#39;t need `std::atomic&lt;int&gt;` to get some ordering guarantees for a shared variable.  **This is wrong, because optimizations happen based on the as-if rule for the language memory model, not the target hardware.**\r\n\r\n----\r\n\r\n# More technical hardware explanations:\r\n\r\n## Why StoreLoad reordering helps performance:\r\n\r\nOnce a store is committed into cache, it becomes globally visible to threads running on other cores (via the cache-coherency protocol).  At that point, it&#39;s too late to roll it back (another core might already have gotten a copy of the value).  So it can&#39;t happen until it&#39;s known for certain that the store won&#39;t fault, and neither will any instruction before it (i.e. at or after *retirement* from the out-of-order back-end).  And that there wasn&#39;t a branch-mispredict at some point earlier, etc. etc.  i.e. we need to rule out all cases of mis-speculation before we can commit a store instruction to L1d cache.  (This is [why we have a store buffer][7])\r\n\r\nWithout StoreLoad reordering, every load would have to wait for all preceding stores to retire (i.e. be totally finished executing, known non-speculative) and actually *commit* the data to cache, before they could read a value from cache for use by later instructions that depend on the value loaded.  (The moment when a load copies a value from cache into a register is the critical time when it &quot;happens&quot; as part of the coherency order of loads and stores on that memory location.)\r\n\r\nNormally CPUs commit stores from the store-buffer to L1d cache *after* the corresponding store instruction has retired from the out-of-order back-end (ReOrder Buffer = ROB).  Some amount of &quot;graduated&quot; stores can be in the store buffer, so this decouples execution from cache-miss stores.  But you *could* give up that benefit and make commit to L1d happen as part of retirement.  (*Execution* of a store would still work by writing the address+data into the store buffer, so it can be speculative, happening when the data is ready.  The store buffer keeps this speculation private to the core.)\r\n\r\nWithout StoreLoad reordering, loads couldn&#39;t execute until all earlier stores had committed to cache.  This would be a huge roadblock for memory parallelism.  i.e. every load would be like an x86 `lfence`, draining the out-of-order back-end, and like `mfence` waiting for the store buffer to empty since we&#39;re proposing that commit would happen at retirement, not after.  Including waiting for any earlier cache miss loads or stores, and waiting for the CPU to chew through all dependency chains, so it would tend to serialize things instead of letting the CPU overlap independent iterations of a loop, or [other long dep chains][8].\r\n\r\nModern x86 CPUs do *speculative early loads* ahead of other (cache-miss) loads, potentially taking a memory-order mis-speculation pipeline nuke if they detect that their copy of the cache line didn&#39;t stay valid from when the load actually happened to when it&#39;s architecturally allowed.  In that case they discard the ROB contents to roll back to a consistent retirement state and start executing again.  (This normally only happens when another core is modifying a cache line, but can also happen if it incorrectly predicted that a load wouldn&#39;t reload  a store.)  (Of course real x86 can freely reorder loads ahead of stores.)\r\n\r\nIf StoreLoad reordering wasn&#39;t allowed, a CPU could still do loads *speculatively*, but would probably still have to commit stores earlier than normal CPUs.  Load speculation *could* track stores in the store buffer post-retirement.\r\n\r\n**So really the limitation would be that loads can&#39;t retire until earlier stores commit.**  Those stores can still stay in the store buffer after they retire (become non-speculative).  Which doesn&#39;t sound that bad on modern CPUs with huge ROBs and large store buffers, but it would be a disaster for in-order CPUs, or for more modest out-of-order execution capabilities in CPUs that existed when memory models were being designed.\r\n\r\nEven with huge out-of-order exec capabilities, it introduces quite a lot more speculation, or a larger time-window for speculation, where the CPU might need to nuke the pipeline (discard the ROB).  With a large ROB / out-of-order state, that&#39;s a lot of work potentially lost.  In parallel code that accesses shared memory, this could be bad.  (Including false sharing, where two variables happen to be in the same cache line).  Penalties for this are already quite substantial and happen even with just loads on current x86 CPUs.  (And aren&#39;t great even on other ISAs where load ordering isn&#39;t required, but the cache-line ping-pong is still a problem).\r\n\r\nAnd cache-miss stores couldn&#39;t be hidden as effectively.  If your code isn&#39;t doing many stores, one that misses in cache can sit in the store buffer for the hundreds of cycles of latency it might take to get the line from DRAM.  (Or to get exclusive ownership via a read-for-ownership if the line was dirty in another core, and other cores are contending to read or write it.)  If there aren&#39;t a lot of stores in the code being executed, it could potentially get hundreds of instructions ahead of the store before the store commits, including multiple loads that come and go.  But if all those later loads couldn&#39;t retire from the ROB until stores commit, it would stop new potentially-independent instructions from entering the out-of-order back-end and being scheduled to execution units during this delay.\r\n\r\n(Most code does quite a bit of storing, though, and a store buffer would quickly fill up.  Except on weakly-ordered ISAs that allow StoreStore reordering, so on cache-miss store doesn&#39;t bottleneck later stores that hit in cache.)\r\n\r\n----\r\n\r\n(I rewrote the above section after realizing that x86 CPUs do speculatively load early, and could apply that to a hypothetical StoreLoad rule as well as x86&#39;s actual LoadLoad ordering rule.  (Program order + a store buffer with store-forwarding).  Some of this section may now be redundant with that.)\r\n\r\n### How actual CPUs work (when StoreLoad reordering is allowed):\r\n\r\nI included some links as part of a brief intro to computer architecture in the early part of my answer on https://stackoverflow.com/questions/37361145/deoptimizing-a-program-for-the-pipeline-in-intel-sandybridge-family-cpus/37362225#37362225.  That might be helpful, or more confusing, if you&#39;re finding this hard to follow.\r\n\r\nCPUs avoid [WAR and WAW pipeline hazards][9] for stores by buffering them in a [store queue][10] until store instructions are ready to retire.  Loads from the same core have to check the store queue (to preserve the appearance of in-order execution for a single thread, otherwise you&#39;d need memory-barrier instructions before loading anything that might have been stored recently!).  The store queue is invisible to other threads; stores only become globally visible when the store instruction retires, but loads become globally visible as soon as they execute.  (And can use values prefetched into the cache well ahead of that).\r\n\r\nSee also **[this answer](https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram) I wrote explaining store buffers and how they decouple execution from cache-miss store** commit, and allow speculative execution of stores.  Also  [wikipedia&#39;s article on the classic RISC pipeline][11] has some stuff for simpler CPUs.  A store-buffer inherently creates StoreLoad reordering (and also **store-forwarding so [a core can see its own stores before they become globally visible][12]**, assuming the core can do store forwarding instead of stalling.)\r\n\r\nSo out-of-order execution is possible for stores, but they&#39;re only reordered inside the store queue.  Since instructions have to retire in order to support precise exceptions, there doesn&#39;t appear to be much benefit at all to having the hardware enforce StoreStore ordering.\r\n\r\nSince loads become globally visible when they execute, enforcing LoadLoad ordering may require delaying loads after a load that misses in cache.  Of course, in reality the CPU would speculatively execute the following loads, and detect a memory-order mis-speculation if it occurs.  This is nearly essential for good performance: A large part of the benefit of out-of-order execution is to keep doing useful work, hiding the latency of cache misses.\r\n\r\n---\r\n\r\nOne of Linus&#39; arguments is that weakly-ordered CPUs require multi-threaded code to use a lot of memory barrier instructions, so they&#39;ll need to be cheap for multi-threaded code to not suck.  That&#39;s only possible if you have hardware tracking the dependency ordering of loads and stores.\r\n\r\n  But if you have that hardware tracking of dependencies, you can just have the hardware enforce ordering all the time, so software doesn&#39;t have to run as many barrier instructions.  If you have hardware support to make barriers cheap, why not just make them implicit on every load / store, like x86 does.\r\n\r\nHis other major argument is that memory ordering is HARD, and a major source of bugs.  Getting it right once in hardware is better than every software project having to get it right.  (This argument only works because it&#39;s possible in hardware without huge performance overhead.)\r\n\r\n\r\n  [1]: https://preshing.com/20120710/memory-barriers-are-like-source-control-operations/\r\n  [2]: http://preshing.com/20120710/memory-barriers-are-like-source-control-operations/\r\n  [3]: http://preshing.com/20120913/acquire-and-release-semantics/\r\n  [4]: http://www.realworldtech.com/forum/?threadid=153317&amp;curpostid=153438\r\n  [5]: http://preshing.com/20120930/weak-vs-strong-memory-models/\r\n  [6]: http://preshing.com/20120625/memory-ordering-at-compile-time/\r\n  [7]: https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram\r\n  [8]: https://stackoverflow.com/questions/51986046/understanding-the-impact-of-lfence-on-a-loop-with-two-long-dependency-chains-fo\r\n  [9]: https://en.wikipedia.org/wiki/Hazard_(computer_architecture)\r\n  [10]: https://en.wikipedia.org/wiki/Memory_disambiguation#Avoiding_WAR_and_WAW_dependencies\r\n  [11]: https://en.wikipedia.org/wiki/Classic_RISC_pipeline\r\n  [12]: https://stackoverflow.com/questions/50609934/globally-invisible-load-instructions","title":"How does memory reordering help processors and compilers?","body":"<p><strong>TL;DR</strong>: It gives the compiler and hardware more room to take advantage of the <em>as-if</em> rule by not requiring it to preserve all behaviour of the original source, only the result of the single thread itself.</p>\n<p>Taking the externally-observable (from other threads) ordering of loads/stores out of the picture as something that optimizations must preserve gives the compiler a lot of room to merge things into fewer operations.  For the hardware, delaying stores is the big one, but for compilers all kinds of reordering can help.</p>\n<p>(Letting cache-hit loads finish before earlier cache-miss loads is also useful for hardware, and same for stores, without having to do load-order speculation with possible roll-back.  Jeff Preshing's <a href=\"https://preshing.com/20120710/memory-barriers-are-like-source-control-operations/\" rel=\"nofollow noreferrer\">Memory Barriers Are Like Source Control Operations</a> has useful analogies and descriptions of plausible ways hardware can do it.  But modern x86 CPUs throw enough transistors and power at these ordering requirements to manage them without huge performance downsides in most code.)</p>\n<hr />\n<p>(See part-way down for a section on why it helps the compiler)</p>\n<h3>Why it helps hardware</h3>\n<p>Hardware reordering earlier stores with later loads (<a href=\"http://preshing.com/20120710/memory-barriers-are-like-source-control-operations/\" rel=\"nofollow noreferrer\">StoreLoad reordering</a>) inside the CPU is essential for out-of-order execution.  (See below).</p>\n<p>Other kinds of reordering (e.g. StoreStore reordering, which is the subject of your question) aren't essential, and high performance CPUs can be built with only StoreLoad reordering, not the other three kinds.  (The prime example being tag:x86, where every store is a <a href=\"http://preshing.com/20120913/acquire-and-release-semantics/\" rel=\"nofollow noreferrer\">release-store, every load is an acquire-load</a>. See the <a href=\"/questions/tagged/x86\" class=\"post-tag\" title=\"show questions tagged &#39;x86&#39;\" aria-label=\"show questions tagged &#39;x86&#39;\" rel=\"tag\" aria-labelledby=\"x86-container\">x86</a> tag wiki for more details.)</p>\n<p>Some people, like Linus Torvalds, argue that reordering stores with other stores doesn't help the hardware much, <a href=\"http://www.realworldtech.com/forum/?threadid=153317&amp;curpostid=153438\" rel=\"nofollow noreferrer\">because hardware already has to track store-ordering to support out-of-order execution of a single thread</a>.  (A single thread always runs as if all of its own stores/loads happen in program order.)  See other posts in that thread on realworldtech if you're curious.  And/or if you find Linus's mix of insults and sensible technical arguments entertaining :P</p>\n<hr />\n<p>For Java, the issue is that, <strong>architectures exist where the hardware <em>doesn't</em> provide these ordering guarantees</strong>.  <a href=\"http://preshing.com/20120930/weak-vs-strong-memory-models/\" rel=\"nofollow noreferrer\">Weak memory ordering</a> is a common feature of RISC ISAs like ARM, PowerPC, and MIPS.  (But not SPARC-TSO).  The reasons behind that design decision are the same ones being argued over in the realworldtech thread I linked: make the hardware simpler, and let software request ordering when needed.</p>\n<p>So Java's architect(s) didn't have much of a choice:  Implementing a JVM for an architecture with a weaker memory model than the Java standard would require a store-barrier instruction after every single store, and a load-barrier before every load.  (Except when the JVM's JIT-compiler can prove that no other thread can have a reference to that variable.)  Running barrier instructions all the time is slow.</p>\n<p>A strong memory model for Java would make efficient JVMs on ARM (and other ISAs) impossible.  Proving that barriers aren't needed is near-impossible, requiring AI levels of global program-understanding.  (This goes WAY beyond what normal optimizers do).</p>\n<hr />\n<h3>Why it helps compilers</h3>\n<p>(see also Jeff Preshing's excellent blog post on <a href=\"http://preshing.com/20120625/memory-ordering-at-compile-time/\" rel=\"nofollow noreferrer\">C++ compile-time reordering</a>.  This basically applies to Java when you include JIT-compiling to native code as part of the process.)</p>\n<p>Another reason for keeping the Java and C/C++ memory models weak is to allow more optimizations.  Since other threads are allowed (by the weak memory model) to observe our stores and loads in any order, aggressive transformations are allowed even when the code involves stores to memory.</p>\n<p>e.g. in a case like Davide's example:</p>\n<pre><code>c.a = 1;\nc.b = 1;\nc.a++;\nc.b++;\n\n// same observable effects as the much simpler\nc.a = 2;\nc.b = 2;\n</code></pre>\n<p>There's no requirement that other threads be able to observe the intermediate states.  So a compiler can just compile that to <code>c.a = 2; c.b = 2;</code>, either at Java-compile time or when the bytecode is JIT-compiled to machine code.</p>\n<p>It's common for a method that increments something to be called multiple times from another method.  Without this rule, turning it into <code>c.a += 4</code> could only happen if the compiler could prove that no other thread could observe the difference.</p>\n<p>C++ programmers sometimes make the mistake of thinking that since they're compiling for x86, they don't need <code>std::atomic&lt;int&gt;</code> to get some ordering guarantees for a shared variable.  <strong>This is wrong, because optimizations happen based on the as-if rule for the language memory model, not the target hardware.</strong></p>\n<hr />\n<h1>More technical hardware explanations:</h1>\n<h2>Why StoreLoad reordering helps performance:</h2>\n<p>Once a store is committed into cache, it becomes globally visible to threads running on other cores (via the cache-coherency protocol).  At that point, it's too late to roll it back (another core might already have gotten a copy of the value).  So it can't happen until it's known for certain that the store won't fault, and neither will any instruction before it (i.e. at or after <em>retirement</em> from the out-of-order back-end).  And that there wasn't a branch-mispredict at some point earlier, etc. etc.  i.e. we need to rule out all cases of mis-speculation before we can commit a store instruction to L1d cache.  (This is <a href=\"https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram\">why we have a store buffer</a>)</p>\n<p>Without StoreLoad reordering, every load would have to wait for all preceding stores to retire (i.e. be totally finished executing, known non-speculative) and actually <em>commit</em> the data to cache, before they could read a value from cache for use by later instructions that depend on the value loaded.  (The moment when a load copies a value from cache into a register is the critical time when it &quot;happens&quot; as part of the coherency order of loads and stores on that memory location.)</p>\n<p>Normally CPUs commit stores from the store-buffer to L1d cache <em>after</em> the corresponding store instruction has retired from the out-of-order back-end (ReOrder Buffer = ROB).  Some amount of &quot;graduated&quot; stores can be in the store buffer, so this decouples execution from cache-miss stores.  But you <em>could</em> give up that benefit and make commit to L1d happen as part of retirement.  (<em>Execution</em> of a store would still work by writing the address+data into the store buffer, so it can be speculative, happening when the data is ready.  The store buffer keeps this speculation private to the core.)</p>\n<p>Without StoreLoad reordering, loads couldn't execute until all earlier stores had committed to cache.  This would be a huge roadblock for memory parallelism.  i.e. every load would be like an x86 <code>lfence</code>, draining the out-of-order back-end, and like <code>mfence</code> waiting for the store buffer to empty since we're proposing that commit would happen at retirement, not after.  Including waiting for any earlier cache miss loads or stores, and waiting for the CPU to chew through all dependency chains, so it would tend to serialize things instead of letting the CPU overlap independent iterations of a loop, or <a href=\"https://stackoverflow.com/questions/51986046/understanding-the-impact-of-lfence-on-a-loop-with-two-long-dependency-chains-fo\">other long dep chains</a>.</p>\n<p>Modern x86 CPUs do <em>speculative early loads</em> ahead of other (cache-miss) loads, potentially taking a memory-order mis-speculation pipeline nuke if they detect that their copy of the cache line didn't stay valid from when the load actually happened to when it's architecturally allowed.  In that case they discard the ROB contents to roll back to a consistent retirement state and start executing again.  (This normally only happens when another core is modifying a cache line, but can also happen if it incorrectly predicted that a load wouldn't reload  a store.)  (Of course real x86 can freely reorder loads ahead of stores.)</p>\n<p>If StoreLoad reordering wasn't allowed, a CPU could still do loads <em>speculatively</em>, but would probably still have to commit stores earlier than normal CPUs.  Load speculation <em>could</em> track stores in the store buffer post-retirement.</p>\n<p><strong>So really the limitation would be that loads can't retire until earlier stores commit.</strong>  Those stores can still stay in the store buffer after they retire (become non-speculative).  Which doesn't sound that bad on modern CPUs with huge ROBs and large store buffers, but it would be a disaster for in-order CPUs, or for more modest out-of-order execution capabilities in CPUs that existed when memory models were being designed.</p>\n<p>Even with huge out-of-order exec capabilities, it introduces quite a lot more speculation, or a larger time-window for speculation, where the CPU might need to nuke the pipeline (discard the ROB).  With a large ROB / out-of-order state, that's a lot of work potentially lost.  In parallel code that accesses shared memory, this could be bad.  (Including false sharing, where two variables happen to be in the same cache line).  Penalties for this are already quite substantial and happen even with just loads on current x86 CPUs.  (And aren't great even on other ISAs where load ordering isn't required, but the cache-line ping-pong is still a problem).</p>\n<p>And cache-miss stores couldn't be hidden as effectively.  If your code isn't doing many stores, one that misses in cache can sit in the store buffer for the hundreds of cycles of latency it might take to get the line from DRAM.  (Or to get exclusive ownership via a read-for-ownership if the line was dirty in another core, and other cores are contending to read or write it.)  If there aren't a lot of stores in the code being executed, it could potentially get hundreds of instructions ahead of the store before the store commits, including multiple loads that come and go.  But if all those later loads couldn't retire from the ROB until stores commit, it would stop new potentially-independent instructions from entering the out-of-order back-end and being scheduled to execution units during this delay.</p>\n<p>(Most code does quite a bit of storing, though, and a store buffer would quickly fill up.  Except on weakly-ordered ISAs that allow StoreStore reordering, so on cache-miss store doesn't bottleneck later stores that hit in cache.)</p>\n<hr />\n<p>(I rewrote the above section after realizing that x86 CPUs do speculatively load early, and could apply that to a hypothetical StoreLoad rule as well as x86's actual LoadLoad ordering rule.  (Program order + a store buffer with store-forwarding).  Some of this section may now be redundant with that.)</p>\n<h3>How actual CPUs work (when StoreLoad reordering is allowed):</h3>\n<p>I included some links as part of a brief intro to computer architecture in the early part of my answer on <a href=\"https://stackoverflow.com/questions/37361145/deoptimizing-a-program-for-the-pipeline-in-intel-sandybridge-family-cpus/37362225#37362225\">Deoptimizing a program for the pipeline in Intel Sandybridge-family CPUs</a>.  That might be helpful, or more confusing, if you're finding this hard to follow.</p>\n<p>CPUs avoid <a href=\"https://en.wikipedia.org/wiki/Hazard_(computer_architecture)\" rel=\"nofollow noreferrer\">WAR and WAW pipeline hazards</a> for stores by buffering them in a <a href=\"https://en.wikipedia.org/wiki/Memory_disambiguation#Avoiding_WAR_and_WAW_dependencies\" rel=\"nofollow noreferrer\">store queue</a> until store instructions are ready to retire.  Loads from the same core have to check the store queue (to preserve the appearance of in-order execution for a single thread, otherwise you'd need memory-barrier instructions before loading anything that might have been stored recently!).  The store queue is invisible to other threads; stores only become globally visible when the store instruction retires, but loads become globally visible as soon as they execute.  (And can use values prefetched into the cache well ahead of that).</p>\n<p>See also <strong><a href=\"https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram\">this answer</a> I wrote explaining store buffers and how they decouple execution from cache-miss store</strong> commit, and allow speculative execution of stores.  Also  <a href=\"https://en.wikipedia.org/wiki/Classic_RISC_pipeline\" rel=\"nofollow noreferrer\">wikipedia's article on the classic RISC pipeline</a> has some stuff for simpler CPUs.  A store-buffer inherently creates StoreLoad reordering (and also <strong>store-forwarding so <a href=\"https://stackoverflow.com/questions/50609934/globally-invisible-load-instructions\">a core can see its own stores before they become globally visible</a></strong>, assuming the core can do store forwarding instead of stalling.)</p>\n<p>So out-of-order execution is possible for stores, but they're only reordered inside the store queue.  Since instructions have to retire in order to support precise exceptions, there doesn't appear to be much benefit at all to having the hardware enforce StoreStore ordering.</p>\n<p>Since loads become globally visible when they execute, enforcing LoadLoad ordering may require delaying loads after a load that misses in cache.  Of course, in reality the CPU would speculatively execute the following loads, and detect a memory-order mis-speculation if it occurs.  This is nearly essential for good performance: A large part of the benefit of out-of-order execution is to keep doing useful work, hiding the latency of cache misses.</p>\n<hr />\n<p>One of Linus' arguments is that weakly-ordered CPUs require multi-threaded code to use a lot of memory barrier instructions, so they'll need to be cheap for multi-threaded code to not suck.  That's only possible if you have hardware tracking the dependency ordering of loads and stores.</p>\n<p>But if you have that hardware tracking of dependencies, you can just have the hardware enforce ordering all the time, so software doesn't have to run as many barrier instructions.  If you have hardware support to make barriers cheap, why not just make them implicit on every load / store, like x86 does.</p>\n<p>His other major argument is that memory ordering is HARD, and a major source of bugs.  Getting it right once in hardware is better than every software project having to get it right.  (This argument only works because it's possible in hardware without huge performance overhead.)</p>\n"}],"owner":{"account_id":2469043,"reputation":217,"user_id":2151409,"accept_rate":75,"display_name":"aleksandr-chermashentsev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3572,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":37739933,"answer_count":4,"score":13,"last_activity_date":1665541685,"creation_date":1465473882,"question_id":37725497,"body_markdown":"I studied the Java memory model and saw re-ordering problems.  A simple example: \r\n\r\n    boolean first = false;\r\n    boolean second = false;\r\n    \r\n    void setValues() {\r\n        first = true;\r\n        second = true;\r\n    }\r\n    \r\n    void checkValues() {\r\n        while(!second);\r\n        assert first;\r\n    }\r\n\r\nReordering is very unpredictable and weird. Also, it ruins abstractions. I suppose that processor architectures must have a good reason to do something that&#39;s so inconvenient for programmers.  **What are those reasons?**\r\n\r\nThere is a lot of information about how to handle reordering, but I can&#39;t find anything about **why** it is needed.  Everywhere people just say something like &quot;it is because of some performance benefit&quot;.  What are the performance benefits in storing `second` before `first`, for example? \r\n\r\nCan you recommend some article, paper or book about this, or explain it by yourself?","title":"How does memory reordering help processors and compilers?","body":"<p>I studied the Java memory model and saw re-ordering problems.  A simple example: </p>\n\n<pre><code>boolean first = false;\nboolean second = false;\n\nvoid setValues() {\n    first = true;\n    second = true;\n}\n\nvoid checkValues() {\n    while(!second);\n    assert first;\n}\n</code></pre>\n\n<p>Reordering is very unpredictable and weird. Also, it ruins abstractions. I suppose that processor architectures must have a good reason to do something that's so inconvenient for programmers.  <strong>What are those reasons?</strong></p>\n\n<p>There is a lot of information about how to handle reordering, but I can't find anything about <strong>why</strong> it is needed.  Everywhere people just say something like \"it is because of some performance benefit\".  What are the performance benefits in storing <code>second</code> before <code>first</code>, for example? </p>\n\n<p>Can you recommend some article, paper or book about this, or explain it by yourself?</p>\n"},{"tags":["java","package","classpath"],"answers":[{"tags":[],"owner":{"account_id":26596043,"reputation":1,"user_id":20218378,"display_name":"YangGengRong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665541248,"creation_date":1665541248,"answer_id":74035811,"question_id":74035772,"body_markdown":"CMD run project \r\nmake a file  x.bat\r\ncopy Code change you config\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @echo on\r\n    @title E:\\projectPath\r\n    @set dir_path=E:\\libPath\r\n    @setlocal EnableDelayedExpansion\r\n    @for %%i in (%dir_path%\\*.jar,%dir_path%\\lib\\*.jar) do (\r\n    @set other_path=!other_path!;%%i\r\n    )\r\n    set classpath= %other_path%\r\n    @java package.Main\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JAVA error: package com/... does not exist","body":"<p>CMD run project\nmake a file  x.bat\ncopy Code change you config\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@echo on\n@title E:\\projectPath\n@set dir_path=E:\\libPath\n@setlocal EnableDelayedExpansion\n@for %%i in (%dir_path%\\*.jar,%dir_path%\\lib\\*.jar) do (\n@set other_path=!other_path!;%%i\n)\nset classpath= %other_path%\n@java package.Main</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24479489,"reputation":1,"user_id":18398110,"display_name":"Victor Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665541248,"creation_date":1665540725,"question_id":74035772,"body_markdown":"I created a simple tic-tac-toe game, and put some functions on another package, so i can import them on my Main function.\r\n\r\nWhen i run on eclipse IDE, i have no problem, but when i try run on windows CMD i get the following error: [console log error][1]\r\n\r\n\r\nHere is my folder structure: [folder structure][2]\r\n\r\ninitial code of Main class, with imports:\r\n```\r\npackage com.github.vitucomment.main;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\nimport com.github.vitucomment.players.PlayersFunctions;\r\nimport com.github.vitucomment.utils.BoardFunctions;\r\nimport com.github.vitucomment.utils.GameRulesFunctions;\r\nimport com.github.vitucomment.utils.ScoreFunctions;\r\n\r\n\r\npublic class Main {\r\n```\r\n\r\nConsole log error:\r\n\r\n```\r\nC:\\Users\\victo\\eclipse-workspace\\Java-JogoDaVelha\\src\\com\\github\\vitucomment\\main&gt;java Main.java\r\nMain.java:6: error: package com.github.vitucomment.players does not exist\r\nimport com.github.vitucomment.players.PlayersFunctions;\r\n                                     ^\r\nMain.java:7: error: package com.github.vitucomment.utils does not exist\r\nimport com.github.vitucomment.utils.BoardFunctions;\r\n                                   ^\r\nMain.java:8: error: package com.github.vitucomment.utils does not exist\r\nimport com.github.vitucomment.utils.GameRulesFunctions;\r\n                                   ^\r\nMain.java:9: error: package com.github.vitucomment.utils does not exist\r\nimport com.github.vitucomment.utils.ScoreFunctions;\r\n                                   ^\r\nMain.java:82: error: cannot find symbol\r\n        public static PlayersFunctions playersFunctions() {\r\n                      ^\r\n  symbol:   class PlayersFunctions\r\n  location: class Main\r\nMain.java:86: error: cannot find symbol\r\n        public static ScoreFunctions scoreFunctions() {\r\n                      ^\r\n  symbol:   class ScoreFunctions\r\n  location: class Main\r\nMain.java:90: error: cannot find symbol\r\n        public static BoardFunctions boardFunctions() {\r\n                      ^\r\n  symbol:   class BoardFunctions\r\n  location: class Main\r\nMain.java:94: error: cannot find symbol\r\n        public static GameRulesFunctions gameRulesFunctions() {\r\n                      ^\r\n  symbol:   class GameRulesFunctions\r\n  location: class Main\r\nMain.java:17: error: cannot find symbol\r\n                PlayersFunctions playersFunctions = playersFunctions();\r\n                ^\r\n  symbol:   class PlayersFunctions\r\n  location: class Main\r\nMain.java:83: error: cannot find symbol\r\n                return new PlayersFunctions();\r\n                           ^\r\n  symbol:   class PlayersFunctions\r\n  location: class Main\r\nMain.java:87: error: cannot find symbol\r\n                return new ScoreFunctions();\r\n                           ^\r\n  symbol:   class ScoreFunctions\r\n  location: class Main\r\nMain.java:91: error: cannot find symbol\r\n                return new BoardFunctions();\r\n                           ^\r\n  symbol:   class BoardFunctions\r\n  location: class Main\r\nMain.java:95: error: cannot find symbol\r\n                return new GameRulesFunctions();\r\n                           ^\r\n  symbol:   class GameRulesFunctions\r\n  location: class Main\r\n13 errors\r\nerror: compilation failed\r\n```\r\n\r\nI don&#39;t know how to fix it, before change to packages it was working without problems.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/STsIm.png\r\n  [2]: https://i.stack.imgur.com/2Blto.png","title":"JAVA error: package com/... does not exist","body":"<p>I created a simple tic-tac-toe game, and put some functions on another package, so i can import them on my Main function.</p>\n<p>When i run on eclipse IDE, i have no problem, but when i try run on windows CMD i get the following error: <a href=\"https://i.stack.imgur.com/STsIm.png\" rel=\"nofollow noreferrer\">console log error</a></p>\n<p>Here is my folder structure: <a href=\"https://i.stack.imgur.com/2Blto.png\" rel=\"nofollow noreferrer\">folder structure</a></p>\n<p>initial code of Main class, with imports:</p>\n<pre><code>package com.github.vitucomment.main;\n\nimport java.io.IOException;\nimport java.util.Map;\n\nimport com.github.vitucomment.players.PlayersFunctions;\nimport com.github.vitucomment.utils.BoardFunctions;\nimport com.github.vitucomment.utils.GameRulesFunctions;\nimport com.github.vitucomment.utils.ScoreFunctions;\n\n\npublic class Main {\n</code></pre>\n<p>Console log error:</p>\n<pre><code>C:\\Users\\victo\\eclipse-workspace\\Java-JogoDaVelha\\src\\com\\github\\vitucomment\\main&gt;java Main.java\nMain.java:6: error: package com.github.vitucomment.players does not exist\nimport com.github.vitucomment.players.PlayersFunctions;\n                                     ^\nMain.java:7: error: package com.github.vitucomment.utils does not exist\nimport com.github.vitucomment.utils.BoardFunctions;\n                                   ^\nMain.java:8: error: package com.github.vitucomment.utils does not exist\nimport com.github.vitucomment.utils.GameRulesFunctions;\n                                   ^\nMain.java:9: error: package com.github.vitucomment.utils does not exist\nimport com.github.vitucomment.utils.ScoreFunctions;\n                                   ^\nMain.java:82: error: cannot find symbol\n        public static PlayersFunctions playersFunctions() {\n                      ^\n  symbol:   class PlayersFunctions\n  location: class Main\nMain.java:86: error: cannot find symbol\n        public static ScoreFunctions scoreFunctions() {\n                      ^\n  symbol:   class ScoreFunctions\n  location: class Main\nMain.java:90: error: cannot find symbol\n        public static BoardFunctions boardFunctions() {\n                      ^\n  symbol:   class BoardFunctions\n  location: class Main\nMain.java:94: error: cannot find symbol\n        public static GameRulesFunctions gameRulesFunctions() {\n                      ^\n  symbol:   class GameRulesFunctions\n  location: class Main\nMain.java:17: error: cannot find symbol\n                PlayersFunctions playersFunctions = playersFunctions();\n                ^\n  symbol:   class PlayersFunctions\n  location: class Main\nMain.java:83: error: cannot find symbol\n                return new PlayersFunctions();\n                           ^\n  symbol:   class PlayersFunctions\n  location: class Main\nMain.java:87: error: cannot find symbol\n                return new ScoreFunctions();\n                           ^\n  symbol:   class ScoreFunctions\n  location: class Main\nMain.java:91: error: cannot find symbol\n                return new BoardFunctions();\n                           ^\n  symbol:   class BoardFunctions\n  location: class Main\nMain.java:95: error: cannot find symbol\n                return new GameRulesFunctions();\n                           ^\n  symbol:   class GameRulesFunctions\n  location: class Main\n13 errors\nerror: compilation failed\n</code></pre>\n<p>I don't know how to fix it, before change to packages it was working without problems.</p>\n"},{"tags":["java","spring","spring-boot","reactive-programming","spring-webclient"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1665540507,"post_id":74035531,"comment_id":130722569,"body_markdown":"Does this answer your question? [Unexpected error response from GitHub API 422 when attempting to create issue](https://stackoverflow.com/questions/54008483/unexpected-error-response-from-github-api-422-when-attempting-to-create-issue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54008483/unexpected-error-response-from-github-api-422-when-attempting-to-create-issue\">Unexpected error response from GitHub API 422 when attempting to create issue</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1665549723,"post_id":74035531,"comment_id":130723922,"body_markdown":"not sure what API are you using but typically POST requests require some body and in your case request body will be empty.","body":"not sure what API are you using but typically POST requests require some body and in your case request body will be empty."},{"owner":{"account_id":19898621,"reputation":7,"user_id":14579187,"display_name":"Artyom47"},"score":0,"creation_date":1665551616,"post_id":74035531,"comment_id":130724277,"body_markdown":"@Alex You were right in my request, the body of the json is missing.","body":"@Alex You were right in my request, the body of the json is missing."}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665540140,"creation_date":1665540140,"answer_id":74035724,"question_id":74035531,"body_markdown":"Send valid model data in your HTTP request body. Check the body of the 422 response to learn why the data provided in the request is not valid.","title":"Why does the github api return error 422?","body":"<p>Send valid model data in your HTTP request body. Check the body of the 422 response to learn why the data provided in the request is not valid.</p>\n"}],"owner":{"account_id":19898621,"reputation":7,"user_id":14579187,"display_name":"Artyom47"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74035724,"answer_count":1,"score":-1,"last_activity_date":1665540140,"creation_date":1665537806,"question_id":74035531,"body_markdown":"I want a user to receive the invitation to an organization through his email, the problem is that the error 422, but I don&#39;t know what I have to modify in my object so that the Github Api can process the information.\r\n```\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public Members postMembers() {\r\n\r\n        return webClientBuilder.build()\r\n                .post()\r\n                .uri(ADD_MEMBERS)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN)\r\n                .retrieve()\r\n                .bodyToMono(Members.class)\r\n                .block();\r\n\r\n\r\n    }\r\n```\r\n\r\nPOJO\r\n```\r\npublic class Members {\r\n\r\n    private String org = &quot;Escihu-Wizards&quot;;\r\n    private String email;\r\n    private String role = &quot;direct_member&quot;;\r\n\r\n    public String getOrg() {\r\n        return org;\r\n    }\r\n\r\n    public void setOrg(String org) {\r\n        this.org = org;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n}\r\n```","title":"Why does the github api return error 422?","body":"<p>I want a user to receive the invitation to an organization through his email, the problem is that the error 422, but I don't know what I have to modify in my object so that the Github Api can process the information.</p>\n<pre><code>\n    @PostMapping(&quot;/add&quot;)\n    public Members postMembers() {\n\n        return webClientBuilder.build()\n                .post()\n                .uri(ADD_MEMBERS)\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN)\n                .retrieve()\n                .bodyToMono(Members.class)\n                .block();\n\n\n    }\n</code></pre>\n<p>POJO</p>\n<pre><code>public class Members {\n\n    private String org = &quot;Escihu-Wizards&quot;;\n    private String email;\n    private String role = &quot;direct_member&quot;;\n\n    public String getOrg() {\n        return org;\n    }\n\n    public void setOrg(String org) {\n        this.org = org;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-zookeeper"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665540428,"post_id":74027365,"comment_id":130722555,"body_markdown":"Does this answer your question? [Apache ZooKeeper: How do writes work](https://stackoverflow.com/questions/5420087/apache-zookeeper-how-do-writes-work)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5420087/apache-zookeeper-how-do-writes-work\">Apache ZooKeeper: How do writes work</a>"},{"owner":{"account_id":16097021,"reputation":251,"user_id":12176903,"display_name":"Areej Fatimah"},"score":0,"creation_date":1666352327,"post_id":74027365,"comment_id":130922391,"body_markdown":"Client has to call the `sync()` method from the ZooKeeper API method in order to get thr latest value","body":"Client has to call the <code>sync()</code> method from the ZooKeeper API method in order to get thr latest value"}],"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665540074,"creation_date":1665487672,"question_id":74027365,"body_markdown":"In my understanding, Zookeeper doesn&#39;t guarantee to return the newest value, because a client may be connecting to a server that doesn&#39;t receive the newest update request.\r\n\r\nLet&#39;s suppose that if I use one client and three servers, for example, client M, server {A, B, C}, and A becomes a leader, B, C become followers. I think this is what may happen below:\r\n1. znode z has value &quot;zero&quot;.\r\n1. M connects to server C (follower)\r\n2. M set znode z to &quot;one&quot;.\r\n3. C send request (setData z &quot;one&quot;) to A, which is a leader.\r\n4. M is waiting for success, then A and B successfully set node z to &quot;one&quot;.\r\n5. M getData z, then C returns value &quot;zero&quot; to M. (just read local)\r\n6. C successfully set node z to &quot;one&quot;.\r\n7. M getData z again, then get &quot;one&quot; from C.\r\n\r\nThen M data will have a &quot;backward&quot;, M write &quot;one&quot; then read &quot;zero&quot;.\r\n\r\nMy questions is:\r\n1. Is my description about what zookeeper actually works correct? I mean the same client can write &quot;one&quot; but read &quot;zero&quot;.\r\n2. If one client can write &quot;one&quot; and must read &quot;one&quot; after writing, how can Zookeeper do that?","title":"Zookeeper read newest value after write using the same client","body":"<p>In my understanding, Zookeeper doesn't guarantee to return the newest value, because a client may be connecting to a server that doesn't receive the newest update request.</p>\n<p>Let's suppose that if I use one client and three servers, for example, client M, server {A, B, C}, and A becomes a leader, B, C become followers. I think this is what may happen below:</p>\n<ol>\n<li>znode z has value &quot;zero&quot;.</li>\n<li>M connects to server C (follower)</li>\n<li>M set znode z to &quot;one&quot;.</li>\n<li>C send request (setData z &quot;one&quot;) to A, which is a leader.</li>\n<li>M is waiting for success, then A and B successfully set node z to &quot;one&quot;.</li>\n<li>M getData z, then C returns value &quot;zero&quot; to M. (just read local)</li>\n<li>C successfully set node z to &quot;one&quot;.</li>\n<li>M getData z again, then get &quot;one&quot; from C.</li>\n</ol>\n<p>Then M data will have a &quot;backward&quot;, M write &quot;one&quot; then read &quot;zero&quot;.</p>\n<p>My questions is:</p>\n<ol>\n<li>Is my description about what zookeeper actually works correct? I mean the same client can write &quot;one&quot; but read &quot;zero&quot;.</li>\n<li>If one client can write &quot;one&quot; and must read &quot;one&quot; after writing, how can Zookeeper do that?</li>\n</ol>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665536667,"post_id":74035254,"comment_id":130722063,"body_markdown":"you sort of can&#39;t call a `suspend` function from java directly. The second attempt is closer but you should either use https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class to make a java compatible version out of it or simply not use suspend for code that is meant to be shared across languages.","body":"you sort of can&#39;t call a <code>suspend</code> function from java directly. The second attempt is closer but you should either use <a href=\"https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class\" title=\"call kotlin suspend function in java class\">stackoverflow.com/questions/52869672/&hellip;</a> to make a java compatible version out of it or simply not use suspend for code that is meant to be shared across languages."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665539456,"post_id":74035254,"comment_id":130722442,"body_markdown":"Instead of embedding links that may or may not remain valid, please embed code.","body":"Instead of embedding links that may or may not remain valid, please embed code."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1665725299,"post_id":74035254,"comment_id":130769767,"body_markdown":"Does this answer your question? [Call Kotlin suspend function in Java class](https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class\">Call Kotlin suspend function in Java class</a>"}],"owner":{"account_id":14916337,"reputation":1,"user_id":10770038,"display_name":"A. Munk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665539421,"creation_date":1665534119,"question_id":74035254,"body_markdown":"I have no experience with Kotlin and I am faced with having to write a function in Kotlin because my understanding is that the API I need is not available in Java. I tried 2 ways to call the function with no success. Can someone help me to correct this? Here is the relevant code.\r\n\r\n```\r\nimport android.os.Build\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.health.connect.client.HealthConnectClient\r\nimport androidx.health.connect.client.records.StepsRecord\r\nimport androidx.health.connect.client.request.ReadRecordsRequest\r\nimport androidx.health.connect.client.time.TimeRangeFilter\r\nimport java.time.Instant\r\n\r\nclass StepCounter {\r\n    private var count: Long = 0\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    suspend fun getCount(): Long {\r\n        val healthConnectClient: HealthConnectClient\r\n\r\n        healthConnectClient = HealthConnectClient.getOrCreate(App.context)\r\n        val response =\r\n            healthConnectClient.readRecords(\r\n                ReadRecordsRequest(\r\n                    StepsRecord::class,\r\n                    timeRangeFilter = TimeRangeFilter.between(Instant.now(), Instant.MAX)\r\n                )\r\n            )\r\n        for (stepRecord in response.records) {\r\n            count += stepRecord.count\r\n        }\r\n        return count;\r\n    }\r\n}\r\n\r\n```\r\n[Here is one attempt to call the function with the errors][1]\r\n\r\n\r\n[Here is another way I tried][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPCmV.png\r\n  [2]: https://i.stack.imgur.com/bzMK3.png","title":"How to call Kotlin suspend function from Java","body":"<p>I have no experience with Kotlin and I am faced with having to write a function in Kotlin because my understanding is that the API I need is not available in Java. I tried 2 ways to call the function with no success. Can someone help me to correct this? Here is the relevant code.</p>\n<pre><code>import android.os.Build\nimport androidx.annotation.RequiresApi\nimport androidx.health.connect.client.HealthConnectClient\nimport androidx.health.connect.client.records.StepsRecord\nimport androidx.health.connect.client.request.ReadRecordsRequest\nimport androidx.health.connect.client.time.TimeRangeFilter\nimport java.time.Instant\n\nclass StepCounter {\n    private var count: Long = 0\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    suspend fun getCount(): Long {\n        val healthConnectClient: HealthConnectClient\n\n        healthConnectClient = HealthConnectClient.getOrCreate(App.context)\n        val response =\n            healthConnectClient.readRecords(\n                ReadRecordsRequest(\n                    StepsRecord::class,\n                    timeRangeFilter = TimeRangeFilter.between(Instant.now(), Instant.MAX)\n                )\n            )\n        for (stepRecord in response.records) {\n            count += stepRecord.count\n        }\n        return count;\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BPCmV.png\" rel=\"nofollow noreferrer\">Here is one attempt to call the function with the errors</a></p>\n<p><a href=\"https://i.stack.imgur.com/bzMK3.png\" rel=\"nofollow noreferrer\">Here is another way I tried</a></p>\n"},{"tags":["java","parsing","lexer"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665534269,"post_id":74035249,"comment_id":130721716,"body_markdown":"You&#39;ll have to remember whether the previous character was a digit.","body":"You&#39;ll have to remember whether the previous character was a digit."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665537088,"post_id":74035249,"comment_id":130722120,"body_markdown":"The algorithm suggested by tgdavies and user16320675 is a good one.  An alternative would be to do a pre-pass, in which you replace any string of digits (using a regular expression such as `\\d+`) with a single `0`.","body":"The algorithm suggested by tgdavies and user16320675 is a good one.  An alternative would be to do a pre-pass, in which you replace any string of digits (using a regular expression such as <code>\\d+</code>) with a single <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":7259802,"reputation":130,"user_id":5537029,"display_name":"Laxman Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665539096,"creation_date":1665539096,"answer_id":74035646,"question_id":74035249,"body_markdown":"I added a bolean `isPrevNum` which keeps track of the last character, as soon as I get something other than a number and the previous value is a number I add `Num` to the desired array.\r\n\r\n*Since the last number with this approach will get skipped, I added a check at the very end to see if the last character was a number or not and added `Num` if it&#39;s true.*\r\n\r\nHere&#39;s the discussed algorithm updated in your code for your reference:\r\n\r\n```\r\n/* package whatever; // don&#39;t place package name! */\r\n\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Ideone\r\n{\r\n   public static void main(String[] args)throws Exception{\r\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n        System.out.println(&quot;Enter string:&quot;);\r\n        String lexerInput = myObj.nextLine();\r\n        System.out.println(&quot;String entered: &quot; + lexerInput);\r\n        char[] ch = lexerInput.toCharArray();\r\n        boolean isPrevNum = false;\r\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\r\n    \r\n        //String arrayName[] = new String[ch.length];\r\n        boolean invalidToken = false;\r\n    \r\n        // Traverse the character array\r\n        for (int i = 0; i &lt; ch.length; i++) {\r\n        \r\n        switch(ch[i]) {\r\n        case &#39;-&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[] = &quot;Minus&quot;;\r\n            arrayName.add(&quot;Minus&quot;);\r\n            System.out.println(&quot;Minus&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;+&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Plus&quot;;\r\n            arrayName.add(&quot;Plus&quot;);\r\n            System.out.println(&quot;Plus&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;/&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Divide&quot;;\r\n            arrayName.add(&quot;Divide&quot;);\r\n            System.out.println(&quot;Divide&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;*&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            // arrayName[i] = &quot;Multiply&quot;;\r\n            arrayName.add(&quot;Multiply&quot;);\r\n            System.out.println(&quot;Multiply&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;(&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            // arrayName[i] = &quot;Open Bracket&quot;;\r\n            arrayName.add(&quot;OB&quot;);\r\n            System.out.println(&quot;Open Bracket&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;)&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Closed Bracket&quot;;\r\n            arrayName.add(&quot;CB&quot;);\r\n            System.out.println(&quot;Closed Bracket&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;.&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Dot&quot;;\r\n            arrayName.add(&quot;Dot&quot;);\r\n            System.out.println(&quot;Dot&quot;);\r\n        // code block\r\n        break;\r\n        case &#39; &#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Space&quot;;\r\n            System.out.println(&quot;Space&quot;);\r\n        // code block\r\n            break;\r\n        default:\r\n            // code block\r\n            if(Character.isDigit(ch[i])){\r\n                //arrayName[i] = &quot;Num&quot;;\r\n                // arrayName.add(&quot;Num&quot;);\r\n                isPrevNum = true;\r\n                System.out.println(&quot;Character is a number&quot;);\r\n            }\r\n            else{\r\n                invalidToken = true;\r\n                System.out.println(&quot;Invalid Character&quot;);\r\n            }\r\n            //System.out.println(&quot;Not a accepted operator&quot;);\r\n        }\r\n        if(invalidToken){\r\n            System.out.println(&quot;Invalid Expression&quot;);\r\n            break;\r\n        }\r\n            // Print current character\r\n            System.out.println(ch[i] + &quot; &quot;);\r\n        }\r\n        \r\n        \r\n        // Adds the last number\r\n        if(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n\r\n    \r\n        for(int i = 0; i &lt; arrayName.size(); i++){\r\n            System.out.println(arrayName.get(i));\r\n        }\r\n    }\r\n}\r\n```","title":"Java array concat","body":"<p>I added a bolean <code>isPrevNum</code> which keeps track of the last character, as soon as I get something other than a number and the previous value is a number I add <code>Num</code> to the desired array.</p>\n<p><em>Since the last number with this approach will get skipped, I added a check at the very end to see if the last character was a number or not and added <code>Num</code> if it's true.</em></p>\n<p>Here's the discussed algorithm updated in your code for your reference:</p>\n<pre><code>/* package whatever; // don't place package name! */\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Ideone\n{\n   public static void main(String[] args)throws Exception{\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;Enter string:&quot;);\n        String lexerInput = myObj.nextLine();\n        System.out.println(&quot;String entered: &quot; + lexerInput);\n        char[] ch = lexerInput.toCharArray();\n        boolean isPrevNum = false;\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\n    \n        //String arrayName[] = new String[ch.length];\n        boolean invalidToken = false;\n    \n        // Traverse the character array\n        for (int i = 0; i &lt; ch.length; i++) {\n        \n        switch(ch[i]) {\n        case '-':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[] = &quot;Minus&quot;;\n            arrayName.add(&quot;Minus&quot;);\n            System.out.println(&quot;Minus&quot;);\n        // code block\n        break;\n        case '+':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Plus&quot;;\n            arrayName.add(&quot;Plus&quot;);\n            System.out.println(&quot;Plus&quot;);\n    // code block\n        break;\n        case '/':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Divide&quot;;\n            arrayName.add(&quot;Divide&quot;);\n            System.out.println(&quot;Divide&quot;);\n        // code block\n        break;\n        case '*':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            // arrayName[i] = &quot;Multiply&quot;;\n            arrayName.add(&quot;Multiply&quot;);\n            System.out.println(&quot;Multiply&quot;);\n    // code block\n        break;\n        case '(':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            // arrayName[i] = &quot;Open Bracket&quot;;\n            arrayName.add(&quot;OB&quot;);\n            System.out.println(&quot;Open Bracket&quot;);\n        // code block\n        break;\n        case ')':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Closed Bracket&quot;;\n            arrayName.add(&quot;CB&quot;);\n            System.out.println(&quot;Closed Bracket&quot;);\n    // code block\n        break;\n        case '.':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Dot&quot;;\n            arrayName.add(&quot;Dot&quot;);\n            System.out.println(&quot;Dot&quot;);\n        // code block\n        break;\n        case ' ':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Space&quot;;\n            System.out.println(&quot;Space&quot;);\n        // code block\n            break;\n        default:\n            // code block\n            if(Character.isDigit(ch[i])){\n                //arrayName[i] = &quot;Num&quot;;\n                // arrayName.add(&quot;Num&quot;);\n                isPrevNum = true;\n                System.out.println(&quot;Character is a number&quot;);\n            }\n            else{\n                invalidToken = true;\n                System.out.println(&quot;Invalid Character&quot;);\n            }\n            //System.out.println(&quot;Not a accepted operator&quot;);\n        }\n        if(invalidToken){\n            System.out.println(&quot;Invalid Expression&quot;);\n            break;\n        }\n            // Print current character\n            System.out.println(ch[i] + &quot; &quot;);\n        }\n        \n        \n        // Adds the last number\n        if(isPrevNum) arrayName.add(&quot;Num&quot;);\n\n    \n        for(int i = 0; i &lt; arrayName.size(); i++){\n            System.out.println(arrayName.get(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26309086,"reputation":1,"user_id":19972950,"display_name":"Dakarai Arnold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665539096,"creation_date":1665534076,"question_id":74035249,"body_markdown":"So I am trying to implement a way for the code to return just num when a double-digit number is entered instead of printing num num. To demonstrate if you run &#39;45 - 23+8&#39; the output will return &#39;num num minus num num plus num&#39; and I would like it just to print &#39;num minus num plus num&#39;. How would I go about doing this?\r\n\r\n    \r\n    public class Main{\r\n        public static void main(String[] args)throws Exception{\r\n            Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n            System.out.println(&quot;Enter string:&quot;);\r\n            String lexerInput = myObj.nextLine();\r\n            System.out.println(&quot;String entered: &quot; + lexerInput);\r\n            char[] ch = lexerInput.toCharArray();\r\n            List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\r\n        \r\n            //String arrayName[] = new String[ch.length];\r\n            boolean invalidToken = false;\r\n        \r\n            // Traverse the character array\r\n            for (int i = 0; i &lt; ch.length; i++) {\r\n            \r\n            switch(ch[i]) {\r\n            case &#39;-&#39;:\r\n                //arrayName[] = &quot;Minus&quot;;\r\n                arrayName.add(&quot;Minus&quot;);\r\n                System.out.println(&quot;Minus&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;+&#39;:\r\n                //arrayName[i] = &quot;Plus&quot;;\r\n                arrayName.add(&quot;Plus&quot;);\r\n                System.out.println(&quot;Plus&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;/&#39;:\r\n                //arrayName[i] = &quot;Divide&quot;;\r\n                arrayName.add(&quot;Divide&quot;);\r\n                System.out.println(&quot;Divide&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;*&#39;:\r\n                // arrayName[i] = &quot;Multiply&quot;;\r\n                arrayName.add(&quot;Multiply&quot;);\r\n                System.out.println(&quot;Multiply&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;(&#39;:\r\n                // arrayName[i] = &quot;Open Bracket&quot;;\r\n                arrayName.add(&quot;OB&quot;);\r\n                System.out.println(&quot;Open Bracket&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;)&#39;:\r\n                //arrayName[i] = &quot;Closed Bracket&quot;;\r\n                arrayName.add(&quot;CB&quot;);\r\n                System.out.println(&quot;Closed Bracket&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;.&#39;:\r\n                //arrayName[i] = &quot;Dot&quot;;\r\n                arrayName.add(&quot;Dot&quot;);\r\n                System.out.println(&quot;Dot&quot;);\r\n            // code block\r\n            break;\r\n            case &#39; &#39;:\r\n                //arrayName[i] = &quot;Space&quot;;\r\n                System.out.println(&quot;Space&quot;);\r\n            // code block\r\n                break;\r\n                default:\r\n            \r\n            \r\n                // code block\r\n            \r\n                if(Character.isDigit(ch[i])){\r\n                    //arrayName[i] = &quot;Num&quot;;\r\n                    arrayName.add(&quot;Num&quot;);\r\n                    System.out.println(&quot;Character is a number&quot;);\r\n                }\r\n                else{\r\n                    invalidToken = true;\r\n                    System.out.println(&quot;Invalid Character&quot;);\r\n                }\r\n                //System.out.println(&quot;Not a accepted operator&quot;);\r\n            }\r\n            if(invalidToken){\r\n                System.out.println(&quot;Invalid Expression&quot;);\r\n                break;\r\n            }\r\n                // Print current character\r\n                System.out.println(ch[i] + &quot; &quot;);\r\n            }\r\n        \r\n            for(int i = 0; i &lt; arrayName.size(); i++){\r\n                System.out.println(arrayName.get(i));\r\n            }\r\n        }\r\n    \r\n    } \r\n   \r\nthis is my code as of right now","title":"Java array concat","body":"<p>So I am trying to implement a way for the code to return just num when a double-digit number is entered instead of printing num num. To demonstrate if you run '45 - 23+8' the output will return 'num num minus num num plus num' and I would like it just to print 'num minus num plus num'. How would I go about doing this?</p>\n<pre><code>public class Main{\n    public static void main(String[] args)throws Exception{\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;Enter string:&quot;);\n        String lexerInput = myObj.nextLine();\n        System.out.println(&quot;String entered: &quot; + lexerInput);\n        char[] ch = lexerInput.toCharArray();\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\n    \n        //String arrayName[] = new String[ch.length];\n        boolean invalidToken = false;\n    \n        // Traverse the character array\n        for (int i = 0; i &lt; ch.length; i++) {\n        \n        switch(ch[i]) {\n        case '-':\n            //arrayName[] = &quot;Minus&quot;;\n            arrayName.add(&quot;Minus&quot;);\n            System.out.println(&quot;Minus&quot;);\n        // code block\n        break;\n        case '+':\n            //arrayName[i] = &quot;Plus&quot;;\n            arrayName.add(&quot;Plus&quot;);\n            System.out.println(&quot;Plus&quot;);\n    // code block\n        break;\n        case '/':\n            //arrayName[i] = &quot;Divide&quot;;\n            arrayName.add(&quot;Divide&quot;);\n            System.out.println(&quot;Divide&quot;);\n        // code block\n        break;\n        case '*':\n            // arrayName[i] = &quot;Multiply&quot;;\n            arrayName.add(&quot;Multiply&quot;);\n            System.out.println(&quot;Multiply&quot;);\n    // code block\n        break;\n        case '(':\n            // arrayName[i] = &quot;Open Bracket&quot;;\n            arrayName.add(&quot;OB&quot;);\n            System.out.println(&quot;Open Bracket&quot;);\n        // code block\n        break;\n        case ')':\n            //arrayName[i] = &quot;Closed Bracket&quot;;\n            arrayName.add(&quot;CB&quot;);\n            System.out.println(&quot;Closed Bracket&quot;);\n    // code block\n        break;\n        case '.':\n            //arrayName[i] = &quot;Dot&quot;;\n            arrayName.add(&quot;Dot&quot;);\n            System.out.println(&quot;Dot&quot;);\n        // code block\n        break;\n        case ' ':\n            //arrayName[i] = &quot;Space&quot;;\n            System.out.println(&quot;Space&quot;);\n        // code block\n            break;\n            default:\n        \n        \n            // code block\n        \n            if(Character.isDigit(ch[i])){\n                //arrayName[i] = &quot;Num&quot;;\n                arrayName.add(&quot;Num&quot;);\n                System.out.println(&quot;Character is a number&quot;);\n            }\n            else{\n                invalidToken = true;\n                System.out.println(&quot;Invalid Character&quot;);\n            }\n            //System.out.println(&quot;Not a accepted operator&quot;);\n        }\n        if(invalidToken){\n            System.out.println(&quot;Invalid Expression&quot;);\n            break;\n        }\n            // Print current character\n            System.out.println(ch[i] + &quot; &quot;);\n        }\n    \n        for(int i = 0; i &lt; arrayName.size(); i++){\n            System.out.println(arrayName.get(i));\n        }\n    }\n\n} \n</code></pre>\n<p>this is my code as of right now</p>\n"},{"tags":["java","mongodb","nosql-aggregation"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1665528785,"post_id":74034427,"comment_id":130720952,"body_markdown":"So the first sample document in your question should _not_ be included in the results? Or are you saying that that first document should increment the count for `ACCEPTED` values twice and `REMOVED` a single time? (and the other sample document should increment `UNPROVISIONED` once?","body":"So the first sample document in your question should <i>not</i> be included in the results? Or are you saying that that first document should increment the count for <code>ACCEPTED</code> values twice and <code>REMOVED</code> a single time? (and the other sample document should increment <code>UNPROVISIONED</code> once?"},{"owner":{"account_id":2856230,"reputation":380,"user_id":2452448,"display_name":"Castyr"},"score":0,"creation_date":1665529855,"post_id":74034427,"comment_id":130721106,"body_markdown":"In the first example, `ACCEPTED` and `REMOVED` should be counted once, in the latter example `UNPROVISIONED` should be counted once.","body":"In the first example, <code>ACCEPTED</code> and <code>REMOVED</code> should be counted once, in the latter example <code>UNPROVISIONED</code> should be counted once."}],"answers":[{"tags":[],"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665537545,"creation_date":1665537545,"answer_id":74035502,"question_id":74034427,"body_markdown":"I&#39;m not sure I fully understand the grouping/counting logic, but perhaps this provides the output you are looking for.\r\n```mongodb\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$set&quot;: {\r\n      &quot;statuses&quot;: {\r\n        &quot;$cond&quot;: [\r\n          { // if there are statuses.status ...\r\n            &quot;$gt&quot;: [{&quot;$size&quot;: &quot;$statuses.status&quot;}, 0]\r\n          },\r\n          // ... use those\r\n          &quot;$statuses.status&quot;,\r\n          // ... otherwise use status\r\n          [&quot;$status&quot;]\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;$unwind&quot;: &quot;$statuses&quot;\r\n  },\r\n  {\r\n    &quot;$group&quot;: {\r\n      &quot;_id&quot;: {\r\n        &quot;groupId&quot;: &quot;$groupId&quot;,\r\n        &quot;status&quot;: &quot;$statuses&quot;\r\n      },\r\n      &quot;count&quot;: {&quot;$count&quot;: {}}\r\n    }\r\n  }\r\n])\r\n```\r\nTry it on [mongoplayground.net](https://mongoplayground.net/p/rxdJk72etkg &quot;Click me!&quot;).","title":"Count nested items conditionally in an aggregation","body":"<p>I'm not sure I fully understand the grouping/counting logic, but perhaps this provides the output you are looking for.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  {\n    &quot;$set&quot;: {\n      &quot;statuses&quot;: {\n        &quot;$cond&quot;: [\n          { // if there are statuses.status ...\n            &quot;$gt&quot;: [{&quot;$size&quot;: &quot;$statuses.status&quot;}, 0]\n          },\n          // ... use those\n          &quot;$statuses.status&quot;,\n          // ... otherwise use status\n          [&quot;$status&quot;]\n        ]\n      }\n    }\n  },\n  {\n    &quot;$unwind&quot;: &quot;$statuses&quot;\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: {\n        &quot;groupId&quot;: &quot;$groupId&quot;,\n        &quot;status&quot;: &quot;$statuses&quot;\n      },\n      &quot;count&quot;: {&quot;$count&quot;: {}}\n    }\n  }\n])\n</code></pre>\n<p>Try it on <a href=\"https://mongoplayground.net/p/rxdJk72etkg\" rel=\"nofollow noreferrer\" title=\"Click me!\">mongoplayground.net</a>.</p>\n"}],"owner":{"account_id":2856230,"reputation":380,"user_id":2452448,"display_name":"Castyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74035502,"answer_count":1,"score":2,"last_activity_date":1665537545,"creation_date":1665524650,"question_id":74034427,"body_markdown":"I am trying to count status occurrences in a MongoDB collection from two places. Given document like the one below, I would like to count `status` from the root of the document if there are no statues under `statuses` in one aggregation, but haven&#39;t been able to determine how to do this conditionally.\r\n\r\n    {\r\n        &quot;id&quot;: &quot;some unique id&quot;,\r\n        &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\r\n        ...\r\n        &quot;status&quot;: &quot;ACCEPTED&quot;,\r\n        &quot;statuses&quot;: [{\r\n            &quot;personId&quot;: &quot;some id&quot;,\r\n            &quot;status&quot;: &quot;ACCEPTED&quot;\r\n        }, {\r\n        &quot;personId&quot;: &quot;some other person&quot;,\r\n            &quot;status&quot;: &quot;REMOVED&quot;\r\n        }]\r\n    }\r\n\r\nRight now I have an aggregation to count all `statuses.status` but haven&#39;t been able to get accurate counts if there are no statues. This may require a model change, but ideally I would think there is a method to do this conditionally.\r\n\r\nMy aggregation pipeline looks like this:\r\n\r\n    final List&lt;DBObject&gt; statusPipeline = Aggregation.newAggregation(\r\n                            match,\r\n                            Aggregation.group(&quot;groupId&quot;, &quot;statuses.personId&quot;, &quot;statuses.status&quot;),\r\n                            Aggregation.unwind(&quot;status&quot;),\r\n                            Aggregation.group(&quot;$groupId&quot;, &quot;status&quot;).count().as(&quot;total&quot;)\r\n                    )\r\n                    .toPipeline(Aggregation.DEFAULT_CONTEXT).stream()\r\n                    .map(BasicDBObject::new)\r\n                    .collect(Collectors.toList());\r\n\r\n\r\nAn example of a document that I want to include in the aggregate:\r\n\r\n    {\r\n            &quot;id&quot;: &quot;some unique id&quot;,\r\n            &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\r\n            ...\r\n            &quot;status&quot;: &quot;UNPROVISIONED&quot;,\r\n            &quot;statuses&quot;: []\r\n    }\r\n\r\nThe final counts for these two documents should be UNPROVISIONED: 1, ACCEPTED: 1, and REMOVED: 1. Or something like:\r\n\r\n    [{\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;UNPROVISIONED&quot;: 1\r\n    }, {\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;ACCEPTED&quot;: 1\r\n    }, {\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;REMOVED&quot;: 1,\r\n    }]","title":"Count nested items conditionally in an aggregation","body":"<p>I am trying to count status occurrences in a MongoDB collection from two places. Given document like the one below, I would like to count <code>status</code> from the root of the document if there are no statues under <code>statuses</code> in one aggregation, but haven't been able to determine how to do this conditionally.</p>\n<pre><code>{\n    &quot;id&quot;: &quot;some unique id&quot;,\n    &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\n    ...\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\n    &quot;statuses&quot;: [{\n        &quot;personId&quot;: &quot;some id&quot;,\n        &quot;status&quot;: &quot;ACCEPTED&quot;\n    }, {\n    &quot;personId&quot;: &quot;some other person&quot;,\n        &quot;status&quot;: &quot;REMOVED&quot;\n    }]\n}\n</code></pre>\n<p>Right now I have an aggregation to count all <code>statuses.status</code> but haven't been able to get accurate counts if there are no statues. This may require a model change, but ideally I would think there is a method to do this conditionally.</p>\n<p>My aggregation pipeline looks like this:</p>\n<pre><code>final List&lt;DBObject&gt; statusPipeline = Aggregation.newAggregation(\n                        match,\n                        Aggregation.group(&quot;groupId&quot;, &quot;statuses.personId&quot;, &quot;statuses.status&quot;),\n                        Aggregation.unwind(&quot;status&quot;),\n                        Aggregation.group(&quot;$groupId&quot;, &quot;status&quot;).count().as(&quot;total&quot;)\n                )\n                .toPipeline(Aggregation.DEFAULT_CONTEXT).stream()\n                .map(BasicDBObject::new)\n                .collect(Collectors.toList());\n</code></pre>\n<p>An example of a document that I want to include in the aggregate:</p>\n<pre><code>{\n        &quot;id&quot;: &quot;some unique id&quot;,\n        &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\n        ...\n        &quot;status&quot;: &quot;UNPROVISIONED&quot;,\n        &quot;statuses&quot;: []\n}\n</code></pre>\n<p>The final counts for these two documents should be UNPROVISIONED: 1, ACCEPTED: 1, and REMOVED: 1. Or something like:</p>\n<pre><code>[{\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;UNPROVISIONED&quot;: 1\n}, {\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;ACCEPTED&quot;: 1\n}, {\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;REMOVED&quot;: 1,\n}]\n</code></pre>\n"},{"tags":["java","php","algorithm","bit-manipulation"],"comments":[{"owner":{"account_id":12308020,"reputation":551,"user_id":8980452,"display_name":"Fernando Bravo Diaz"},"score":1,"creation_date":1550770516,"post_id":54812971,"comment_id":96402775,"body_markdown":"Hi, roger_that, you also would like to post this as a puzzle in [here](https://codegolf.stackexchange.com/)","body":"Hi, roger_that, you also would like to post this as a puzzle in <a href=\"https://codegolf.stackexchange.com/\">here</a>"},{"owner":{"account_id":7690023,"reputation":744,"user_id":5826609,"accept_rate":20,"display_name":"Trunk"},"score":1,"creation_date":1550770591,"post_id":54812971,"comment_id":96402811,"body_markdown":"And clarify your process, i.e. what is &#39;set&#39; (= 1?) and &#39;rest&#39; ?","body":"And clarify your process, i.e. what is &#39;set&#39; (= 1?) and &#39;rest&#39; ?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550770627,"post_id":54812971,"comment_id":96402831,"body_markdown":"@FernandoBravoDiaz already posted, see https://codegolf.stackexchange.com/questions/180220/minimum-steps-to-convert-a-binary-number-to-zero\n .I was told to post it here.","body":"@FernandoBravoDiaz already posted, see <a href=\"https://codegolf.stackexchange.com/questions/180220/minimum-steps-to-convert-a-binary-number-to-zero\" title=\"minimum steps to convert a binary number to zero\">codegolf.stackexchange.com/questions/180220/&hellip;</a>  .I was told to post it here."},{"owner":{"account_id":9635091,"reputation":12798,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1550770684,"post_id":54812971,"comment_id":96402871,"body_markdown":"This seems more like a logic / math question, rather than a *specific, programming* one. Weird that they told you to post it here, unless my understanding of how SO works is flawed.","body":"This seems more like a logic / math question, rather than a <i>specific, programming</i> one. Weird that they told you to post it here, unless my understanding of how SO works is flawed."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550770730,"post_id":54812971,"comment_id":96402897,"body_markdown":"As per the comment on `codegolf`, it says `This might be a better fit for the stack overflow site`","body":"As per the comment on <code>codegolf</code>, it says <code>This might be a better fit for the stack overflow site</code>"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1550770928,"post_id":54812971,"comment_id":96403000,"body_markdown":"@Fureeish The people there might thing StackOverflow is an automatic homework machine. Wouldn&#39;t blame them. Could fool anyone. :)","body":"@Fureeish The people there might thing StackOverflow is an automatic homework machine. Wouldn&#39;t blame them. Could fool anyone. :)"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1550771034,"post_id":54812971,"comment_id":96403057,"body_markdown":"@roger_that Instead of believeing random people off the internet, you should read the site descriptions.","body":"@roger_that Instead of believeing random people off the internet, you should read the site descriptions."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550771067,"post_id":54812971,"comment_id":96403068,"body_markdown":"Did that. Can we get some help here with the algo?","body":"Did that. Can we get some help here with the algo?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":4,"creation_date":1550771130,"post_id":54812971,"comment_id":96403094,"body_markdown":"Nope. You need to try it yourself first. Write some code and get back if you get stumped.","body":"Nope. You need to try it yourself first. Write some code and get back if you get stumped."},{"owner":{"account_id":10647693,"reputation":955,"user_id":7839759,"display_name":"Habebit"},"score":0,"creation_date":1550771457,"post_id":54812971,"comment_id":96403248,"body_markdown":"@roger_that Is `1.` and `2.` one step?","body":"@roger_that Is <code>1.</code> and <code>2.</code> one step?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550771769,"post_id":54812971,"comment_id":96403399,"body_markdown":"@TabmanRekoj: No, they are two different steps, can perform either of those.","body":"@TabmanRekoj: No, they are two different steps, can perform either of those."},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":2,"creation_date":1550776559,"post_id":54812971,"comment_id":96405665,"body_markdown":"This is a straightforward breadth-first search of a graph.  The nodes are the binary values; the edges are allowable moves from each node.  There are many examples on line of such searches.  Code your transitions, test your result.  Post here if you get *stuck*.","body":"This is a straightforward breadth-first search of a graph.  The nodes are the binary values; the edges are allowable moves from each node.  There are many examples on line of such searches.  Code your transitions, test your result.  Post here if you get <i>stuck</i>."},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1586897686,"post_id":54812971,"comment_id":108297330,"body_markdown":"@roger_that Did you solve it or not? Can you post a link to a working solution?","body":"@roger_that Did you solve it or not? Can you post a link to a working solution?"},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1586952474,"post_id":54812971,"comment_id":108316835,"body_markdown":"@Developerium this question is tagged Java, not PHP. You need to post another question. But the algorithm is already available, why don&#39;t just implement it yourself?","body":"@Developerium this question is tagged Java, not PHP. You need to post another question. But the algorithm is already available, why don&#39;t just implement it yourself?"},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1586978974,"post_id":54812971,"comment_id":108332931,"body_markdown":"@phuclv I&#39;m having a hard time coming up with a clean solution, so that&#39;s why I offered a bounty. BTW I added the PHP tag, so feel free to post an answer and get that yummy bounty ;)","body":"@phuclv I&#39;m having a hard time coming up with a clean solution, so that&#39;s why I offered a bounty. BTW I added the PHP tag, so feel free to post an answer and get that yummy bounty ;)"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1587131448,"post_id":54812971,"comment_id":108395937,"body_markdown":"@Developerium Do you want just the number of steps or the complete list of steps?","body":"@Developerium Do you want just the number of steps or the complete list of steps?"},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1587140141,"post_id":54812971,"comment_id":108400957,"body_markdown":"@Olivier I&#39;m looking for the recursive one, I can see the fast one here!","body":"@Olivier I&#39;m looking for the recursive one, I can see the fast one here!"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1643777967,"creation_date":1550771833,"answer_id":54813388,"question_id":54812971,"body_markdown":"This is a wonderful problem for a recursive algorithm.\r\n\r\nIf the length of the binary representation is 0, you can already tell the answer. Or if length 0 is not allowed, then if the length is 1 you tell the answer depending on whether that one bit is 0 or 1.\r\n\r\nIf the length is longer than 1:\r\n\r\n - If the first bit is 0, the answer is the same as it would be without that 0 bit. Remove it and call recursively to get the answer.\r\n - If the first bit is 1, divide into three subproblems and find the step count for each:\r\n    1. Establish a situation where you are allowed to change the leading 1 to 0. This means it should be followed by a 1 and then all 0s. Write a recursive auxiliary algorithm for this. It is going to be quite similar to the main algorithm, and likely they can share some logic.\r\n    2. Flip the 1 to 0 (1 step)\r\n    3. Convert the remaining bits bits to 0. Another recursive call.\r\n\r\nThe algorithm may take a long time. It is actually counting the steps, so takes time proportional to the number of steps, which I think is roughly proportional to the input number. Your method takes a `long` argument, but with my algorithm for large `long` values it may not terminate witin the lifetime of the computer it is running on. Also the number of steps may overflow an `int` and even a `long` (if the input is a negative `long` value).\r\n\r\n\r\n## The fast way\r\n\r\nThe following solution doesn’t require recursion and runs in constant time. I can’t explain properly how it works, which is a serious problem if we want to use it for something. I played with some examples, saw a pattern and generalized it. By contrast IMHO some of the beauty of the recursive solution above is that it is straightforward to understand (if you understand recursion).\r\n\r\nExample: Input 8 or `1000` binary. Result 15 or `1111` binary. The pattern is: each bit of the result is the XOR of the previous bit of the result and the bit in the same position in the input. So from `1000` just copy the front bit, 1. The following bit is 1 XOR 0 = 1, where 1 is the front bit of the result and 0 is taken from the input. The remaining two bits are calculated the same way.\r\n\r\nA longer example so you can check if you understood:\r\n\r\n    Input:  115 = 1110011\r\n    Result:       1011101 = 93\r\n\r\nOr in code:\r\n\r\n\tstatic BigInteger calculateStepsRequired(long number) {\r\n\t\t// Take sign bit\r\n\t\tint bit = number &lt; 0 ? 1 : 0;\r\n\t\tBigInteger result = BigInteger.valueOf(bit);\r\n\t\tfor (int i = 0; i &lt; 63; i++) {\r\n\t\t\tnumber = number &lt;&lt; 1;\r\n\t\t\tint sign = number &lt; 0 ? 1 : 0;\r\n\t\t\tbit = (bit + sign) % 2;\r\n\t\t\tresult = result.shiftLeft(1).add(BigInteger.valueOf(bit));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nI have checked this method against my own implementation of the first algorithm above using various inputs up to 100 000 000, and they always agree, so I believe that the fast method is correct too. I still suggest that you should code, run and test it to verify that I got it right.","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>This is a wonderful problem for a recursive algorithm.</p>\n<p>If the length of the binary representation is 0, you can already tell the answer. Or if length 0 is not allowed, then if the length is 1 you tell the answer depending on whether that one bit is 0 or 1.</p>\n<p>If the length is longer than 1:</p>\n<ul>\n<li>If the first bit is 0, the answer is the same as it would be without that 0 bit. Remove it and call recursively to get the answer.</li>\n<li>If the first bit is 1, divide into three subproblems and find the step count for each:\n<ol>\n<li>Establish a situation where you are allowed to change the leading 1 to 0. This means it should be followed by a 1 and then all 0s. Write a recursive auxiliary algorithm for this. It is going to be quite similar to the main algorithm, and likely they can share some logic.</li>\n<li>Flip the 1 to 0 (1 step)</li>\n<li>Convert the remaining bits bits to 0. Another recursive call.</li>\n</ol>\n</li>\n</ul>\n<p>The algorithm may take a long time. It is actually counting the steps, so takes time proportional to the number of steps, which I think is roughly proportional to the input number. Your method takes a <code>long</code> argument, but with my algorithm for large <code>long</code> values it may not terminate witin the lifetime of the computer it is running on. Also the number of steps may overflow an <code>int</code> and even a <code>long</code> (if the input is a negative <code>long</code> value).</p>\n<h2>The fast way</h2>\n<p>The following solution doesn’t require recursion and runs in constant time. I can’t explain properly how it works, which is a serious problem if we want to use it for something. I played with some examples, saw a pattern and generalized it. By contrast IMHO some of the beauty of the recursive solution above is that it is straightforward to understand (if you understand recursion).</p>\n<p>Example: Input 8 or <code>1000</code> binary. Result 15 or <code>1111</code> binary. The pattern is: each bit of the result is the XOR of the previous bit of the result and the bit in the same position in the input. So from <code>1000</code> just copy the front bit, 1. The following bit is 1 XOR 0 = 1, where 1 is the front bit of the result and 0 is taken from the input. The remaining two bits are calculated the same way.</p>\n<p>A longer example so you can check if you understood:</p>\n<pre><code>Input:  115 = 1110011\nResult:       1011101 = 93\n</code></pre>\n<p>Or in code:</p>\n<pre><code>static BigInteger calculateStepsRequired(long number) {\n    // Take sign bit\n    int bit = number &lt; 0 ? 1 : 0;\n    BigInteger result = BigInteger.valueOf(bit);\n    for (int i = 0; i &lt; 63; i++) {\n        number = number &lt;&lt; 1;\n        int sign = number &lt; 0 ? 1 : 0;\n        bit = (bit + sign) % 2;\n        result = result.shiftLeft(1).add(BigInteger.valueOf(bit));\n    }\n    return result;\n}\n</code></pre>\n<p>I have checked this method against my own implementation of the first algorithm above using various inputs up to 100 000 000, and they always agree, so I believe that the fast method is correct too. I still suggest that you should code, run and test it to verify that I got it right.</p>\n"},{"tags":[],"owner":{"account_id":1529504,"reputation":158,"user_id":1427077,"display_name":"nicolasdij"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1597016484,"creation_date":1567442168,"answer_id":57760301,"question_id":54812971,"body_markdown":"At first, I tried to solve it with a recursive depth-first function (in NodeJS) but it just worked for small numbers - an input value such as `10^5` would generate a runtime error due to the number of recursive calls in the stack.\r\n\r\nSo then I tried to see how I could reduce the problem to the sum of smaller problems and found out that the number of steps for N, being N a power of 2, was \r\n\r\nRule #1\r\n-------\r\n&gt; N * 2 - 1\r\n\r\n(e.g.: number of steps for 2 is 3, for 32 is 63, for 256 is 511, and so on). \r\n\r\nThen I had find what to do with any other number (that is not a power of 2) and since any integer is the sum of different powers of 2 (hence the binary representation), I only had to see if the number of steps would add up as well ... but it was not the case. However, I did find that I had to not just add the number of steps from every power of two, but to \r\n\r\nRule #2\r\n-------\r\n&gt; subtract and add the steps in an alternate fashion, starting from the highest order digit\r\n\r\n\r\nDemonstration\r\n=============\r\nGiven number **42** (`101010` in binary)\r\n\r\nLet&#39;s first apply **Rule #1**\r\n\r\n```\r\n1 0 1 0 1 0\r\n^ ^ ^ ^ ^ ^\r\n| | | | | |_           0 steps\r\n| | | | |___  2*2-1 =  3 steps\r\n| | | |_____           0 steps\r\n| | |_______  2*8-1 = 15 steps\r\n| |_________           0 steps\r\n|___________ 2*32-1 = 63 steps\r\n```\r\n\r\nAnd secondly, applying **Rule #2**:\r\n```\r\n63 - 15 + 3 = 51\r\n```\r\n\r\n&gt; The total number of steps is **51**\r\n\r\n\r\nImplementation (JavaScript)\r\n===\r\n\r\n``` lang-js\r\nfunction minOperations(n) {\r\n  const bin = n.toString(2);\r\n  const digitCount = bin.length;\r\n  let accumulator = 0;\r\n  let sign = 1;\r\n\r\n  for (let i = 0; i &lt; digitCount; ++i) {\r\n    const digit = Number.parseInt(bin.charAt(i));\r\n    const power = digit &gt; 0 ? Math.pow(2, digitCount - (i + 1)) : 0;\r\n    const steps = digit * (power * 2 - 1);\r\n\r\n    accumulator += steps * sign;\r\n    sign = sign * (digit == 0 ? 1 : -1);\r\n  }\r\n  \r\n  return accumulator;\r\n}\r\n```\r\n","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>At first, I tried to solve it with a recursive depth-first function (in NodeJS) but it just worked for small numbers - an input value such as <code>10^5</code> would generate a runtime error due to the number of recursive calls in the stack.</p>\n<p>So then I tried to see how I could reduce the problem to the sum of smaller problems and found out that the number of steps for N, being N a power of 2, was</p>\n<h2>Rule #1</h2>\n<blockquote>\n<p>N * 2 - 1</p>\n</blockquote>\n<p>(e.g.: number of steps for 2 is 3, for 32 is 63, for 256 is 511, and so on).</p>\n<p>Then I had find what to do with any other number (that is not a power of 2) and since any integer is the sum of different powers of 2 (hence the binary representation), I only had to see if the number of steps would add up as well ... but it was not the case. However, I did find that I had to not just add the number of steps from every power of two, but to</p>\n<h2>Rule #2</h2>\n<blockquote>\n<p>subtract and add the steps in an alternate fashion, starting from the highest order digit</p>\n</blockquote>\n<h1>Demonstration</h1>\n<p>Given number <strong>42</strong> (<code>101010</code> in binary)</p>\n<p>Let's first apply <strong>Rule #1</strong></p>\n<pre><code>1 0 1 0 1 0\n^ ^ ^ ^ ^ ^\n| | | | | |_           0 steps\n| | | | |___  2*2-1 =  3 steps\n| | | |_____           0 steps\n| | |_______  2*8-1 = 15 steps\n| |_________           0 steps\n|___________ 2*32-1 = 63 steps\n</code></pre>\n<p>And secondly, applying <strong>Rule #2</strong>:</p>\n<pre><code>63 - 15 + 3 = 51\n</code></pre>\n<blockquote>\n<p>The total number of steps is <strong>51</strong></p>\n</blockquote>\n<h1>Implementation (JavaScript)</h1>\n<pre class=\"lang-js prettyprint-override\"><code>function minOperations(n) {\n  const bin = n.toString(2);\n  const digitCount = bin.length;\n  let accumulator = 0;\n  let sign = 1;\n\n  for (let i = 0; i &lt; digitCount; ++i) {\n    const digit = Number.parseInt(bin.charAt(i));\n    const power = digit &gt; 0 ? Math.pow(2, digitCount - (i + 1)) : 0;\n    const steps = digit * (power * 2 - 1);\n\n    accumulator += steps * sign;\n    sign = sign * (digit == 0 ? 1 : -1);\n  }\n  \n  return accumulator;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1587141485,"creation_date":1587136768,"answer_id":61275045,"question_id":54812971,"body_markdown":"Here is a PHP implementation of Ole&#39;s &quot;fast way&quot; algorithm. The idea is the same:\r\n\r\n-  Initialize the result with the first bit of the number (starting from the left)\r\n-  For every following bit of the number, XOR it with the previous bit of the result, which gives a new bit for the result\r\n\r\n&lt;!-- language: lang-php --&gt;\r\n\r\n\tfunction getBit($number, $i)\r\n\t{\r\n\t\t// Extracts bit i from number\r\n\t\treturn ($number &amp; (1&lt;&lt;$i)) == 0 ? 0 : 1;\r\n\t}\r\n\r\n\tfunction minStepsRequired($number)\r\n\t{\r\n\t\t$i = 30; // Enough to handle all positive 32-bit integers\r\n\t\t$bit = getBit($number, $i); // First bit\r\n\t\t$res = $bit;\r\n\t\tdo\r\n\t\t{\r\n\t\t\t$i--;\r\n\t\t\t$bit ^= getBit($number, $i); // Computes XOR between previous bit of the result and current bit of the number\r\n\t\t\t$res = ($res&lt;&lt;1) + $bit; // Shifts the result to the left by 1 position and adds the new bit\r\n\t\t}\r\n\t\twhile($i&gt;0);\r\n\t\treturn $res;\r\n\t}\r\n\r\n\tvar_dump(minStepsRequired(8)); // Outputs 15\r\n\tvar_dump(minStepsRequired(115)); // Outputs 93\r\n","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>Here is a PHP implementation of Ole's \"fast way\" algorithm. The idea is the same:</p>\n\n<ul>\n<li>Initialize the result with the first bit of the number (starting from the left)</li>\n<li>For every following bit of the number, XOR it with the previous bit of the result, which gives a new bit for the result</li>\n</ul>\n\n<pre class=\"lang-php prettyprint-override\"><code>function getBit($number, $i)\n{\n    // Extracts bit i from number\n    return ($number &amp; (1&lt;&lt;$i)) == 0 ? 0 : 1;\n}\n\nfunction minStepsRequired($number)\n{\n    $i = 30; // Enough to handle all positive 32-bit integers\n    $bit = getBit($number, $i); // First bit\n    $res = $bit;\n    do\n    {\n        $i--;\n        $bit ^= getBit($number, $i); // Computes XOR between previous bit of the result and current bit of the number\n        $res = ($res&lt;&lt;1) + $bit; // Shifts the result to the left by 1 position and adds the new bit\n    }\n    while($i&gt;0);\n    return $res;\n}\n\nvar_dump(minStepsRequired(8)); // Outputs 15\nvar_dump(minStepsRequired(115)); // Outputs 93\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587141502,"creation_date":1587141502,"answer_id":61276476,"question_id":54812971,"body_markdown":"It is important to notice that the first k bits, which are zeroes can be left as they are and you only start with the (k + 1)&#39;th bit and we ignore all the starting bits, having a value of zero and always aim to increase their number. This is our primary goal and thus, we always reduce the problem-space to a similar, but smaller problem-space. Now, assuming that your number looks like\r\n\r\n**1**b1b2b3...bn\r\n\r\nyou need to make sure that b1 is 1 and b2, b3, ..., bn is 0 in order to be able to modify the bit prior to b1 to 0. After that happened, you know that b2 is 1 and all the subsequent bits are 0, then the new goal is to change b2 to 0, knowing that all the subsequent bits are 0.\r\n\r\nYou can keep track of your progress with a stack which can have as much elements as many bits you are working with, always its top will represent your current goal.\r\n\r\nSo, when you want to zero your first bit, then achieving the right sequence of subsequent bits represent subtasks for you before you can change your bit and once you succeeded doing so, you need to proceed similarly, but ignoring the first bit. You can number the steps.\r\n\r\nAssuming that a number of\r\n\r\n1...0000000\r\n\r\ncan be zeroed in 2^n - 1 steps, the total number of steps to do equals with 2^n - 1 + the number of steps needed to achieve the combination we see above. I didn&#39;t check whether it&#39;s 2^n - 1 though","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>It is important to notice that the first k bits, which are zeroes can be left as they are and you only start with the (k + 1)'th bit and we ignore all the starting bits, having a value of zero and always aim to increase their number. This is our primary goal and thus, we always reduce the problem-space to a similar, but smaller problem-space. Now, assuming that your number looks like</p>\n\n<p><strong>1</strong>b1b2b3...bn</p>\n\n<p>you need to make sure that b1 is 1 and b2, b3, ..., bn is 0 in order to be able to modify the bit prior to b1 to 0. After that happened, you know that b2 is 1 and all the subsequent bits are 0, then the new goal is to change b2 to 0, knowing that all the subsequent bits are 0.</p>\n\n<p>You can keep track of your progress with a stack which can have as much elements as many bits you are working with, always its top will represent your current goal.</p>\n\n<p>So, when you want to zero your first bit, then achieving the right sequence of subsequent bits represent subtasks for you before you can change your bit and once you succeeded doing so, you need to proceed similarly, but ignoring the first bit. You can number the steps.</p>\n\n<p>Assuming that a number of</p>\n\n<p>1...0000000</p>\n\n<p>can be zeroed in 2^n - 1 steps, the total number of steps to do equals with 2^n - 1 + the number of steps needed to achieve the combination we see above. I didn't check whether it's 2^n - 1 though</p>\n"},{"tags":[],"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587248454,"creation_date":1587188982,"answer_id":61284755,"question_id":54812971,"body_markdown":"Here is a recursive PHP function for computing the number of steps required. It operates by noting there are two possible requirements:\r\n\r\n 1. convert a string to `0`s (the overall requirement); and\r\n 2. convert a string to a `1` followed by a string of `0`s (to allow flipping the preceding digit)\r\n\r\nThe second requirement is obviously an extension of the first, and so it&#39;s possible to write a recursive function which does both. It has a special case for the single digit length string, just checking if it needs to be flipped or not.\r\n\r\n    function reduce($bits, $value = &#39;0&#39;) {\r\n        if (strlen($bits) == 1) {\r\n            // a single bit can be flipped as needed\r\n            return ($bits[0] == $value) ? 0 : 1;\r\n        }\r\n        if ($bits[0] == $value) {\r\n            // nothing to do with this bit, flip the remainder\r\n            return reduce(substr($bits, 1));\r\n        }\r\n        // need to convert balance of string to 1 followed by 0&#39;s \r\n        // then we can flip this bit, and then reduce the new string to 0\r\n        return reduce(substr($bits, 1), &#39;1&#39;) + 1 + reduce(str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;));\r\n    }\r\n\r\n[Demo on 3v4l.org][1]\r\n\r\nThis function can be adapted to store the actual steps taken, then the number of steps is just the count of that array (-1, since we put the original value in the array too). To store the steps we need to keep track of the first part of the string (`$prefix` in the below code) as well as the part we are reducing:\r\n\r\n    function reduce($bits, $prefix, $value = &#39;0&#39;) {\r\n        if (strlen($bits) == 1) {\r\n            // a single bit can be flipped as needed\r\n            return array($prefix . ($bits[0] == &#39;0&#39; ? &#39;1&#39; : &#39;0&#39;));\r\n        }\r\n        if ($bits[0] == $value) {\r\n            // nothing to do with this bit, flip the remainder\r\n            $prefix .= $bits[0];\r\n            return reduce(substr($bits, 1), $prefix);\r\n        }\r\n        // need to convert balance of string to 1 followed by 0&#39;s \r\n        $prefix .= $bits[0];\r\n        $steps = reduce(substr($bits, 1), $prefix, &#39;1&#39;);\r\n        // now we can flip this bit\r\n        $prefix = substr($prefix, 0, -1) . ($bits[0] == &#39;0&#39; ? &#39;1&#39; : &#39;0&#39;);\r\n        $steps[] = $prefix . str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;);\r\n        // now reduce the new string to 0\r\n        $steps = array_merge($steps, reduce(str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;), $prefix));\r\n        return $steps;\r\n    }\r\n\r\nYou can run this like so:\r\n\r\n    $bin = decbin($i);\r\n    $steps = array_merge(array($bin), reduce($bin, &#39;&#39;));\r\n    echo &quot;$i ($bin) takes &quot; . (count($steps) - 1) . &quot; steps\\n&quot;;\r\n    print_r($steps);\r\n\r\nOutput for an input of 8:\r\n\r\n    8 (1000) takes 15 steps\r\n    Array\r\n    (\r\n        [0] =&gt; 1000\r\n        [1] =&gt; 1001\r\n        [2] =&gt; 1011\r\n        [3] =&gt; 1010\r\n        [4] =&gt; 1110\r\n        [5] =&gt; 1111\r\n        [6] =&gt; 1101\r\n        [7] =&gt; 1100\r\n        [8] =&gt; 0100\r\n        [9] =&gt; 0101\r\n        [10] =&gt; 0111\r\n        [11] =&gt; 0110\r\n        [12] =&gt; 0010\r\n        [13] =&gt; 0011\r\n        [14] =&gt; 0001\r\n        [15] =&gt; 0000\r\n    )\r\n\r\n[Demo on 3v4l.org][2]\r\n\r\n**Gray code**\r\n\r\nLooking at the steps we can see that this is actually a [Gray code][3] (Reflected Binary Code) counting from the original value down to 0. So if we generate a list of sufficient codes to cover the starting value, we can simply look for the binary representation of the starting value in that list, and that will give us the number of steps required to get back to 0:\r\n\r\n    function gray_code($bits) {\r\n        if ($bits == 1) {\r\n            return array(&#39;0&#39;, &#39;1&#39;);\r\n        }\r\n        else {\r\n            $codes = gray_code($bits - 1);\r\n            return array_merge(array_map(function ($v) { return &#39;0&#39; . $v; }, $codes),\r\n                               array_map(function ($v) { return &#39;1&#39; . $v; }, array_reverse($codes))\r\n            );\r\n        }\r\n    }\r\n    \r\n    $value = 8;\r\n    $bin = decbin($value);\r\n    // get sufficient gray codes to cover the input\r\n    $gray_codes = gray_code(strlen($bin));\r\n    $codes = array_flip($gray_codes);\r\n    echo &quot;$bin takes {$codes[$bin]} steps to reduce to 0\\n&quot;;\r\n    // echo the steps\r\n    for ($i = $codes[$bin]; $i &gt;= 0; $i--) {\r\n        echo $gray_codes[$i] . PHP_EOL;\r\n    }\r\n\r\n[Demo on 3v4l.org][4]\r\n\r\nIf you don&#39;t need the individual steps you can just use a Gray code to binary converter to find the number of steps. This is super fast:\r\n\r\n    function gray_to_binary($value) {\r\n        $dec = $value;\r\n        for ($i = 1; $i &lt; strlen($value); $i++) {\r\n            $dec[$i] = (int)$dec[$i-1] ^ (int)$value[$i];\r\n        }\r\n        return $dec;\r\n    }\r\n    \r\n    echo bindec(gray_to_binary(decbin(115)));\r\n\r\nOutput:\r\n\r\n    93\r\n\r\n[Demo on 3v4l.org][5]\r\n\r\n**A Gray Code Generator**\r\n\r\nWe can use an iterative Gray code generator to count down the steps from our original code. The advantage of this is that it doesn&#39;t consume any memory to store the codes so it can work for very large numbers. This version uses a Gray code to binary converter that works with integers rather than strings as did the one above:\r\n\r\n    function gray_to_binary($value) {\r\n        $dec = 0;\r\n        $bits = floor(log($value, 2));\r\n        for ($i = $bits; $i &gt;= 0; $i--) {\r\n            $dec = $dec | (((($dec &gt;&gt; ($i + 1)) ^ ($value &gt;&gt; $i)) &amp; 1) &lt;&lt; $i);\r\n        }\r\n        return $dec;\r\n    }\r\n    \r\n    function iterate_gray($value) {\r\n        // get the equivalent starting binary value\r\n        $code = decbin($value);\r\n        yield $code;\r\n        $len = strlen($code);\r\n        $count = gray_to_binary($value);\r\n        while ($count &gt; 0) {\r\n            // flip the bit which corresponds to the least significant 1 bit in $count\r\n            $xor = 1;\r\n            while (($count &amp; $xor) == 0) $xor &lt;&lt;= 1;\r\n            $value ^= $xor;\r\n            yield sprintf(&quot;%0{$len}b&quot;, $value);\r\n            $count--;\r\n        }\r\n    }\r\n    \r\n    foreach (iterate_gray(8) as $code) {\r\n        echo $code . PHP_EOL;\r\n    }\r\n\r\nOutput:\r\n\r\n    1000\r\n    1001\r\n    1011\r\n    1010\r\n    1110\r\n    1111\r\n    1101\r\n    1100\r\n    0100\r\n    0101\r\n    0111\r\n    0110\r\n    0010\r\n    0011\r\n    0001\r\n    0000\r\n\r\n[Demo on 3v4l.org][7]\r\n\r\n\r\n  [1]: https://3v4l.org/colSe\r\n  [2]: https://3v4l.org/TJZuB\r\n  [3]: https://en.wikipedia.org/wiki/Gray_code\r\n  [4]: https://3v4l.org/9I40K\r\n  [5]: https://3v4l.org/c1k1H\r\n  [6]: https://3v4l.org/2TQMd\r\n  [7]: https://3v4l.org/aSJJh","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>Here is a recursive PHP function for computing the number of steps required. It operates by noting there are two possible requirements:</p>\n\n<ol>\n<li>convert a string to <code>0</code>s (the overall requirement); and</li>\n<li>convert a string to a <code>1</code> followed by a string of <code>0</code>s (to allow flipping the preceding digit)</li>\n</ol>\n\n<p>The second requirement is obviously an extension of the first, and so it's possible to write a recursive function which does both. It has a special case for the single digit length string, just checking if it needs to be flipped or not.</p>\n\n<pre><code>function reduce($bits, $value = '0') {\n    if (strlen($bits) == 1) {\n        // a single bit can be flipped as needed\n        return ($bits[0] == $value) ? 0 : 1;\n    }\n    if ($bits[0] == $value) {\n        // nothing to do with this bit, flip the remainder\n        return reduce(substr($bits, 1));\n    }\n    // need to convert balance of string to 1 followed by 0's \n    // then we can flip this bit, and then reduce the new string to 0\n    return reduce(substr($bits, 1), '1') + 1 + reduce(str_pad('1', strlen($bits) - 1, '0'));\n}\n</code></pre>\n\n<p><a href=\"https://3v4l.org/colSe\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p>This function can be adapted to store the actual steps taken, then the number of steps is just the count of that array (-1, since we put the original value in the array too). To store the steps we need to keep track of the first part of the string (<code>$prefix</code> in the below code) as well as the part we are reducing:</p>\n\n<pre><code>function reduce($bits, $prefix, $value = '0') {\n    if (strlen($bits) == 1) {\n        // a single bit can be flipped as needed\n        return array($prefix . ($bits[0] == '0' ? '1' : '0'));\n    }\n    if ($bits[0] == $value) {\n        // nothing to do with this bit, flip the remainder\n        $prefix .= $bits[0];\n        return reduce(substr($bits, 1), $prefix);\n    }\n    // need to convert balance of string to 1 followed by 0's \n    $prefix .= $bits[0];\n    $steps = reduce(substr($bits, 1), $prefix, '1');\n    // now we can flip this bit\n    $prefix = substr($prefix, 0, -1) . ($bits[0] == '0' ? '1' : '0');\n    $steps[] = $prefix . str_pad('1', strlen($bits) - 1, '0');\n    // now reduce the new string to 0\n    $steps = array_merge($steps, reduce(str_pad('1', strlen($bits) - 1, '0'), $prefix));\n    return $steps;\n}\n</code></pre>\n\n<p>You can run this like so:</p>\n\n<pre><code>$bin = decbin($i);\n$steps = array_merge(array($bin), reduce($bin, ''));\necho \"$i ($bin) takes \" . (count($steps) - 1) . \" steps\\n\";\nprint_r($steps);\n</code></pre>\n\n<p>Output for an input of 8:</p>\n\n<pre><code>8 (1000) takes 15 steps\nArray\n(\n    [0] =&gt; 1000\n    [1] =&gt; 1001\n    [2] =&gt; 1011\n    [3] =&gt; 1010\n    [4] =&gt; 1110\n    [5] =&gt; 1111\n    [6] =&gt; 1101\n    [7] =&gt; 1100\n    [8] =&gt; 0100\n    [9] =&gt; 0101\n    [10] =&gt; 0111\n    [11] =&gt; 0110\n    [12] =&gt; 0010\n    [13] =&gt; 0011\n    [14] =&gt; 0001\n    [15] =&gt; 0000\n)\n</code></pre>\n\n<p><a href=\"https://3v4l.org/TJZuB\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p><strong>Gray code</strong></p>\n\n<p>Looking at the steps we can see that this is actually a <a href=\"https://en.wikipedia.org/wiki/Gray_code\" rel=\"noreferrer\">Gray code</a> (Reflected Binary Code) counting from the original value down to 0. So if we generate a list of sufficient codes to cover the starting value, we can simply look for the binary representation of the starting value in that list, and that will give us the number of steps required to get back to 0:</p>\n\n<pre><code>function gray_code($bits) {\n    if ($bits == 1) {\n        return array('0', '1');\n    }\n    else {\n        $codes = gray_code($bits - 1);\n        return array_merge(array_map(function ($v) { return '0' . $v; }, $codes),\n                           array_map(function ($v) { return '1' . $v; }, array_reverse($codes))\n        );\n    }\n}\n\n$value = 8;\n$bin = decbin($value);\n// get sufficient gray codes to cover the input\n$gray_codes = gray_code(strlen($bin));\n$codes = array_flip($gray_codes);\necho \"$bin takes {$codes[$bin]} steps to reduce to 0\\n\";\n// echo the steps\nfor ($i = $codes[$bin]; $i &gt;= 0; $i--) {\n    echo $gray_codes[$i] . PHP_EOL;\n}\n</code></pre>\n\n<p><a href=\"https://3v4l.org/9I40K\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p>If you don't need the individual steps you can just use a Gray code to binary converter to find the number of steps. This is super fast:</p>\n\n<pre><code>function gray_to_binary($value) {\n    $dec = $value;\n    for ($i = 1; $i &lt; strlen($value); $i++) {\n        $dec[$i] = (int)$dec[$i-1] ^ (int)$value[$i];\n    }\n    return $dec;\n}\n\necho bindec(gray_to_binary(decbin(115)));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>93\n</code></pre>\n\n<p><a href=\"https://3v4l.org/c1k1H\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p><strong>A Gray Code Generator</strong></p>\n\n<p>We can use an iterative Gray code generator to count down the steps from our original code. The advantage of this is that it doesn't consume any memory to store the codes so it can work for very large numbers. This version uses a Gray code to binary converter that works with integers rather than strings as did the one above:</p>\n\n<pre><code>function gray_to_binary($value) {\n    $dec = 0;\n    $bits = floor(log($value, 2));\n    for ($i = $bits; $i &gt;= 0; $i--) {\n        $dec = $dec | (((($dec &gt;&gt; ($i + 1)) ^ ($value &gt;&gt; $i)) &amp; 1) &lt;&lt; $i);\n    }\n    return $dec;\n}\n\nfunction iterate_gray($value) {\n    // get the equivalent starting binary value\n    $code = decbin($value);\n    yield $code;\n    $len = strlen($code);\n    $count = gray_to_binary($value);\n    while ($count &gt; 0) {\n        // flip the bit which corresponds to the least significant 1 bit in $count\n        $xor = 1;\n        while (($count &amp; $xor) == 0) $xor &lt;&lt;= 1;\n        $value ^= $xor;\n        yield sprintf(\"%0{$len}b\", $value);\n        $count--;\n    }\n}\n\nforeach (iterate_gray(8) as $code) {\n    echo $code . PHP_EOL;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1000\n1001\n1011\n1010\n1110\n1111\n1101\n1100\n0100\n0101\n0111\n0110\n0010\n0011\n0001\n0000\n</code></pre>\n\n<p><a href=\"https://3v4l.org/aSJJh\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n"},{"tags":[],"owner":{"account_id":12162633,"reputation":1,"user_id":8879764,"display_name":"Ravi Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641548596,"creation_date":1641548596,"answer_id":70619329,"question_id":54812971,"body_markdown":"    private static int reduce(String s) {\r\n        int count = 0;\r\n        char[] ch = s.toCharArray();\r\n        for (int i = ch.length - 1; i &gt;= 0; i--) {\r\n\r\n            if (i == 0 &amp;&amp; ch[i] == &#39;0&#39;) {\r\n                return count - 1;\r\n            }\r\n\r\n            if (i == 0 &amp;&amp; ch[i] == &#39;1&#39;) {\r\n                return count + 1;\r\n            }\r\n\r\n            if (ch[i] == &#39;0&#39;) {\r\n                count++;\r\n            } else {\r\n                count++;\r\n                ch[i] = &#39;0&#39;;\r\n                i++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<pre><code>private static int reduce(String s) {\n    int count = 0;\n    char[] ch = s.toCharArray();\n    for (int i = ch.length - 1; i &gt;= 0; i--) {\n\n        if (i == 0 &amp;&amp; ch[i] == '0') {\n            return count - 1;\n        }\n\n        if (i == 0 &amp;&amp; ch[i] == '1') {\n            return count + 1;\n        }\n\n        if (ch[i] == '0') {\n            count++;\n        } else {\n            count++;\n            ch[i] = '0';\n            i++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11626211,"reputation":657,"user_id":8515913,"display_name":"YIMIN TANG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665536825,"creation_date":1665536825,"answer_id":74035451,"question_id":54812971,"body_markdown":"    def minOperations(n):\r\n        number = []\r\n        while n&gt;0:\r\n            number.append(n%2)\r\n            n = n // 2\r\n    \r\n        ans = 0\r\n        sign = 1\r\n        for i in range(len(number)):\r\n            if number[i] == 1:\r\n                ans = (2**(i+1) - 1) - ans\r\n        return ans","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<pre><code>def minOperations(n):\n    number = []\n    while n&gt;0:\n        number.append(n%2)\n        n = n // 2\n\n    ans = 0\n    sign = 1\n    for i in range(len(number)):\n        if number[i] == 1:\n            ans = (2**(i+1) - 1) - ans\n    return ans\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27206,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"answer_count":7,"score":19,"last_activity_date":1665536825,"creation_date":1550770158,"question_id":54812971,"body_markdown":"I was working on a programming exercise and was stuck on figuring out the correct algorithm. Here is the problem:\r\n\r\n&gt; Given a decimal number, how many minimum possible steps are required to convert this to zero provided:    \r\n&gt;\r\n1. Change the bit i if the next bit i+1 is &#39;1&#39; and all the other bits i+2 and later are 0\r\n2. Change the last bit without restriction\r\n     \r\nFor example:\r\n\r\nif input is (8)Base10 = (1000)Base2, then the steps taken are:\r\n\r\n    1000→1001→1011→1010→1110→1111→1101→1100→0100→0101→0111→0110→0010→0011→0001→0000\r\n\r\ntotal 15 steps are required.\r\n    \r\nComplete the following definition:\r\n    \r\n    int minStepsRequired(long number)\r\n\r\nIt&#39;s ok to get a pseudo code or just the algorithm. This is not a homework or assignment.","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>I was working on a programming exercise and was stuck on figuring out the correct algorithm. Here is the problem:</p>\n\n<blockquote>\n  <p>Given a decimal number, how many minimum possible steps are required to convert this to zero provided:    </p>\n  \n  <ol>\n  <li>Change the bit i if the next bit i+1 is '1' and all the other bits i+2 and later are 0</li>\n  <li>Change the last bit without restriction</li>\n  </ol>\n</blockquote>\n\n<p>For example:</p>\n\n<p>if input is (8)Base10 = (1000)Base2, then the steps taken are:</p>\n\n<pre><code>1000→1001→1011→1010→1110→1111→1101→1100→0100→0101→0111→0110→0010→0011→0001→0000\n</code></pre>\n\n<p>total 15 steps are required.</p>\n\n<p>Complete the following definition:</p>\n\n<pre><code>int minStepsRequired(long number)\n</code></pre>\n\n<p>It's ok to get a pseudo code or just the algorithm. This is not a homework or assignment.</p>\n"},{"tags":["java","selenium-webdriver","cucumber-jvm"],"comments":[{"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"score":0,"creation_date":1412566112,"post_id":25923405,"comment_id":41102163,"body_markdown":"Can you post your pom.xml file","body":"Can you post your pom.xml file"}],"answers":[{"tags":[],"owner":{"account_id":7203,"reputation":3648,"user_id":12405,"accept_rate":78,"display_name":"Seb Rose"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1411933297,"creation_date":1411933297,"answer_id":26088881,"question_id":25923405,"body_markdown":"This error is thrown when no &#39;backends&#39; are found on the classpath. There is a &#39;backend&#39; for each supported language (e.g. cucumber-java, cucumber-groovy etc.)\r\n\r\nIt&#39;s probably a classpath error, although if cucumber-core and cucumber-java are in the same location that does seem strange.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>This error is thrown when no 'backends' are found on the classpath. There is a 'backend' for each supported language (e.g. cucumber-java, cucumber-groovy etc.)</p>\n\n<p>It's probably a classpath error, although if cucumber-core and cucumber-java are in the same location that does seem strange.</p>\n"},{"tags":[],"owner":{"account_id":6754500,"reputation":1960,"user_id":5203451,"accept_rate":0,"display_name":"hemanto"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1625426581,"creation_date":1476081582,"answer_id":39952534,"question_id":25923405,"body_markdown":"Make sure you&#39;re adding below dependencies for Maven project:\r\n\r\nYou can replace version to the latest or the required version:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Make sure you're adding below dependencies for Maven project:</p>\n<p>You can replace version to the latest or the required version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11045517,"reputation":1,"user_id":8111822,"display_name":"Bryan Houder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496647350,"creation_date":1496615339,"answer_id":44359421,"question_id":25923405,"body_markdown":"I encountered this same error message when trying to run a Cucumber feature file in Eclipse (&quot;No backends were found. Please make sure you have a backend module on your CLASSPATH&quot;).\r\n\r\nWhat fixed it for me was going into my pom.xml and changing the cucumber-java and cucumber-junit versions away from 1.2.5 ([per their documentation][1]) to 1.2.0.\r\n\r\nI&#39;m not 100% sure if I&#39;m ignoring a real issue by doing this or not. Here is more information about my setup:\r\n\r\n - Windows 10\r\n - Eclipse Neon (4.6.0)\r\n - Apache Maven 3.5.0\r\n - Java 1.8\r\n\r\nI verified via quick commands that java and maven are installed successfully and running on my machine. I also verified that Maven pulled in the cucumber-java, and cucumber-core jars in my Eclipse project. Odd.\r\n\r\n\r\n  [1]: https://cucumber.io/docs/reference/jvm#java","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I encountered this same error message when trying to run a Cucumber feature file in Eclipse (\"No backends were found. Please make sure you have a backend module on your CLASSPATH\").</p>\n\n<p>What fixed it for me was going into my pom.xml and changing the cucumber-java and cucumber-junit versions away from 1.2.5 (<a href=\"https://cucumber.io/docs/reference/jvm#java\" rel=\"nofollow noreferrer\">per their documentation</a>) to 1.2.0.</p>\n\n<p>I'm not 100% sure if I'm ignoring a real issue by doing this or not. Here is more information about my setup:</p>\n\n<ul>\n<li>Windows 10</li>\n<li>Eclipse Neon (4.6.0)</li>\n<li>Apache Maven 3.5.0</li>\n<li>Java 1.8</li>\n</ul>\n\n<p>I verified via quick commands that java and maven are installed successfully and running on my machine. I also verified that Maven pulled in the cucumber-java, and cucumber-core jars in my Eclipse project. Odd.</p>\n"},{"tags":[],"owner":{"account_id":1993324,"reputation":105,"user_id":1786828,"display_name":"abhinavgoyal02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502075020,"creation_date":1502075020,"answer_id":45538849,"question_id":25923405,"body_markdown":"You can try the cucumber-java-1.2.4 at https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4.\r\n\r\nI found that trying a previous version of the same JAR file worked for me.\r\nI guess this may solve for other people as well. In case it does not, please add another answer.\r\n\r\nLet me know if it worked for you and saved some valuable time :-)","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>You can try the cucumber-java-1.2.4 at <a href=\"https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4</a>.</p>\n\n<p>I found that trying a previous version of the same JAR file worked for me.\nI guess this may solve for other people as well. In case it does not, please add another answer.</p>\n\n<p>Let me know if it worked for you and saved some valuable time :-)</p>\n"},{"tags":[],"owner":{"account_id":1972482,"reputation":3741,"user_id":1771073,"accept_rate":50,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509548072,"creation_date":1509546306,"answer_id":47057135,"question_id":25923405,"body_markdown":"Here is the fix:\r\nin eclipse projects add the following in the **.project** file\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;buildSpec&gt;\r\n      ...\r\n      &lt;buildCommand&gt;\r\n    \t&lt;name&gt;cucumber.eclipse.steps.jdt.stepsBuilder&lt;/name&gt;\r\n    \t&lt;arguments&gt;\r\n    \t&lt;/arguments&gt;\r\n      &lt;/buildCommand&gt;\r\n    &lt;/buildSpec&gt;\r\n    &lt;natures&gt;\r\n      ...\r\n      &lt;nature&gt;cucumber.eclipse.steps.jdt.stepsNature&lt;/nature&gt;\r\n    &lt;/natures&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf  this did not fix the issue,\r\n add the dependency\r\n\r\n&gt; cucumber-java\r\n\r\nin the project classpath or change the version of the jar to latest or n-1\r\n\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Here is the fix:\nin eclipse projects add the following in the <strong>.project</strong> file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;buildSpec&gt;\r\n  ...\r\n  &lt;buildCommand&gt;\r\n\t&lt;name&gt;cucumber.eclipse.steps.jdt.stepsBuilder&lt;/name&gt;\r\n\t&lt;arguments&gt;\r\n\t&lt;/arguments&gt;\r\n  &lt;/buildCommand&gt;\r\n&lt;/buildSpec&gt;\r\n&lt;natures&gt;\r\n  ...\r\n  &lt;nature&gt;cucumber.eclipse.steps.jdt.stepsNature&lt;/nature&gt;\r\n&lt;/natures&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If  this did not fix the issue,\n add the dependency</p>\n\n<blockquote>\n  <p>cucumber-java</p>\n</blockquote>\n\n<p>in the project classpath or change the version of the jar to latest or n-1</p>\n"},{"tags":[],"owner":{"account_id":10520380,"reputation":1,"user_id":7753128,"display_name":"Raghav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553701181,"creation_date":1553701181,"answer_id":55381159,"question_id":25923405,"body_markdown":"Adding the following dependency I got resolved this issue \r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n           &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n           &lt;version&gt;4.2.6&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Adding the following dependency I got resolved this issue </p>\n\n<pre><code>   &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n       &lt;version&gt;4.2.6&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18701221,"reputation":1,"user_id":13633401,"display_name":"manjoosha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590657587,"creation_date":1590657587,"answer_id":62061174,"question_id":25923405,"body_markdown":"i had &lt;type&gt;pom&lt;/type&gt; in my dependency for cucumber-java. Once i removed that worked fine ","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>i had pom in my dependency for cucumber-java. Once i removed that worked fine </p>\n"},{"tags":[],"owner":{"account_id":11590617,"reputation":11,"user_id":9334312,"display_name":"Danish Dogra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625426549,"creation_date":1590664998,"answer_id":62063487,"question_id":25923405,"body_markdown":"You are not providing the path of the step definition class \r\nAdd glue in the cucumber options may be it will help.\r\n\r\n    @RunWith(Cucumber.class) @CucumberOptions( \r\n\t\tfeatures =&quot;Path of the feature file&quot;, \r\n\t\tglue = {&quot;path of step definition class or package &quot;},\r\n        format={&quot;pretty&quot;,&quot;json:target/&quot;},\r\n \t\tdryRun = true, \r\n        strict = true, \t\t\r\n        monochrome = true )\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>You are not providing the path of the step definition class\nAdd glue in the cucumber options may be it will help.</p>\n<pre><code>@RunWith(Cucumber.class) @CucumberOptions( \n    features =&quot;Path of the feature file&quot;, \n    glue = {&quot;path of step definition class or package &quot;},\n    format={&quot;pretty&quot;,&quot;json:target/&quot;},\n    dryRun = true, \n    strict = true,      \n    monochrome = true )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18964985,"reputation":1,"user_id":13839662,"display_name":"Amit P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625426499,"creation_date":1593506998,"answer_id":62653669,"question_id":25923405,"body_markdown":"```xml\r\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.5&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nKeep only three tags (`groupId`, `artifactId` and `version`) in your dependencies. Delete `&lt;scope&gt;` and other additional tags in `pom.xml` and then try.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n    &lt;version&gt;1.0.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Keep only three tags (<code>groupId</code>, <code>artifactId</code> and <code>version</code>) in your dependencies. Delete <code>&lt;scope&gt;</code> and other additional tags in <code>pom.xml</code> and then try.</p>\n"},{"tags":[],"owner":{"account_id":19592540,"reputation":191,"user_id":14339247,"display_name":"vikasbashu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601027030,"creation_date":1601027030,"answer_id":64061700,"question_id":25923405,"body_markdown":"I have updated my pom.xml file with the latest version of following libraries. It works for me. \r\n\r\n - junit\r\n - cucumber-java\r\n - cucumber-junit\r\n\r\nMake sure you are using the correct version of junit, cucumber-java, cucumber-junit. It should not be like you are using some older version of junit and latest versions of cucumber junit and java. I have list down the dependencies which I have used. You can try these.\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;6.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I have updated my pom.xml file with the latest version of following libraries. It works for me.</p>\n<ul>\n<li>junit</li>\n<li>cucumber-java</li>\n<li>cucumber-junit</li>\n</ul>\n<p>Make sure you are using the correct version of junit, cucumber-java, cucumber-junit. It should not be like you are using some older version of junit and latest versions of cucumber junit and java. I have list down the dependencies which I have used. You can try these.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18246486,"reputation":11,"user_id":14442467,"display_name":"mahima sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602594302,"creation_date":1602594302,"answer_id":64335899,"question_id":25923405,"body_markdown":"Writing in 2020, though enough discussion has already gone on this topic. Still if it helps someone. For me the issue got resolved with same version of \r\n1. cucumber-java\r\n2. cucumber-junit\r\n3. cucumber-core \r\ndependencies\r\nsnippet of my POM\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.4.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;6.4.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Writing in 2020, though enough discussion has already gone on this topic. Still if it helps someone. For me the issue got resolved with same version of</p>\n<ol>\n<li><p>cucumber-java</p>\n</li>\n<li><p>cucumber-junit</p>\n</li>\n<li><p>cucumber-core\ndependencies\nsnippet of my POM</p>\n \n         io.cucumber\n         cucumber-java\n         6.4.0\n  \n  \n             io.cucumber\n             cucumber-core\n             6.4.0\n   \n \n             io.cucumber\n             cucumber-junit\n             6.4.0\n             compile\n   \n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11770116,"reputation":21,"user_id":8613386,"display_name":"Siva K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665536039,"creation_date":1613556618,"answer_id":66239793,"question_id":25923405,"body_markdown":"I got this same error message when trying to run a Cucumber feature file in Eclipse.\r\n\r\nThese steps worked for me: \r\n\r\nUpdated my pom.xml file with the latest and same version of the following libraries.\r\n\r\n - cucumber-junit - 1.2.6\r\n - cucumber-java - 1.2.6\r\n\r\nAlso I updated &#39;junit&#39; to the latest version ","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I got this same error message when trying to run a Cucumber feature file in Eclipse.</p>\n<p>These steps worked for me:</p>\n<p>Updated my pom.xml file with the latest and same version of the following libraries.</p>\n<ul>\n<li>cucumber-junit - 1.2.6</li>\n<li>cucumber-java - 1.2.6</li>\n</ul>\n<p>Also I updated 'junit' to the latest version</p>\n"},{"tags":[],"owner":{"account_id":21174909,"reputation":1,"user_id":15570430,"display_name":"Devesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617765987,"creation_date":1617765987,"answer_id":66979175,"question_id":25923405,"body_markdown":"The error simply says that cucumber is not configured properly on your device.\r\nThis can be because of missing dependencies or the dependencies are not loaded properly.\r\nCheck for the dependencies first and then save all, close the editor, and then reopen it.\r\nTry to run again and check.\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>The error simply says that cucumber is not configured properly on your device.\nThis can be because of missing dependencies or the dependencies are not loaded properly.\nCheck for the dependencies first and then save all, close the editor, and then reopen it.\nTry to run again and check.</p>\n"},{"tags":[],"owner":{"account_id":21662602,"reputation":1,"user_id":15981521,"display_name":"Vijendra "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624021240,"creation_date":1624021240,"answer_id":68035630,"question_id":25923405,"body_markdown":"Removed Cucumber Core dependency from POM.XML it is working fine","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Removed Cucumber Core dependency from POM.XML it is working fine</p>\n"},{"tags":[],"owner":{"account_id":21996076,"reputation":1,"user_id":16268608,"display_name":"ProgressiveLearner "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624119844,"creation_date":1624119844,"answer_id":68048746,"question_id":25923405,"body_markdown":"Commenting in 2021. This might help someone.\r\nThe issues is simple, cucumber groupid has been changed to &gt;io.cucumber&lt; so if you are still using &gt;info cukes&lt; you will be getting exceptions. That is why when you update your cucumber java to the latest it solves the issue bc the latest groupid comes as io.cucumber. You can as well change all the groupid info cukes in your pom.xml to io.cucumber. This will solve the issue","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Commenting in 2021. This might help someone.\nThe issues is simple, cucumber groupid has been changed to &gt;io.cucumber&lt; so if you are still using &gt;info cukes&lt; you will be getting exceptions. That is why when you update your cucumber java to the latest it solves the issue bc the latest groupid comes as io.cucumber. You can as well change all the groupid info cukes in your pom.xml to io.cucumber. This will solve the issue</p>\n"},{"tags":[],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635899161,"creation_date":1635899161,"answer_id":69818366,"question_id":25923405,"body_markdown":"Used the latest and same version for all dependencies and it works fine.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Used the latest and same version for all dependencies and it works fine.</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26217349,"reputation":1,"user_id":19895313,"display_name":"Nayaz Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662031222,"creation_date":1662031222,"answer_id":73568508,"question_id":25923405,"body_markdown":"Errors on running Cucumber Feature\r\nException in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n\r\nSolution\r\n\r\nMost probably this means that your cucumber-java version and java version on your machine is not compatible with each other.  First, check Java Version on your machine by going through this article How to check Java/JDK Version Installed on your Machine.\r\n\r\nOn my machine, I have Java 1.8.0 with cucumber-Java8-1.2.5 and it did not work. When I degraded my cucumber java version to cucumber-Java-1.2.5, it worked fine for me. Just make sure that first, you remove the cucumber-java which did not work for you from Project build path &gt;&gt; Libraries and then add new.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Errors on running Cucumber Feature\nException in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.</p>\n<p>Solution</p>\n<p>Most probably this means that your cucumber-java version and java version on your machine is not compatible with each other.  First, check Java Version on your machine by going through this article How to check Java/JDK Version Installed on your Machine.</p>\n<p>On my machine, I have Java 1.8.0 with cucumber-Java8-1.2.5 and it did not work. When I degraded my cucumber java version to cucumber-Java-1.2.5, it worked fine for me. Just make sure that first, you remove the cucumber-java which did not work for you from Project build path &gt;&gt; Libraries and then add new.</p>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665481131,"creation_date":1665481131,"answer_id":74026023,"question_id":25923405,"body_markdown":"It can also be caused by having 2 backend: for example:\r\n\r\n\r\n    \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand \r\n   \r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAlso make sure you have compatible versions","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>It can also be caused by having 2 backend: for example:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also make sure you have compatible versions</p>\n"}],"owner":{"account_id":1027185,"reputation":4338,"user_id":1036242,"accept_rate":33,"display_name":"Anand Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67192,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39952534,"answer_count":18,"score":14,"last_activity_date":1665536039,"creation_date":1411079180,"question_id":25923405,"body_markdown":"I am developing my Selenium-JVM framework with Cucumber and while running my first feature got below error.\r\n\r\nPlease help.\r\n\r\nHow did I launch the feature -\r\n\r\n1. Right click on feature file \r\n2. Select Run As -&gt; Cucumber Feature\r\n\r\nImmediate Exception -\r\n\r\n    Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:78)\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:67)\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:63)\r\n    \tat cucumber.api.cli.Main.run(Main.java:24)\r\n    \tat cucumber.api.cli.Main.main(Main.java:16)\r\n\r\n\r\nWhat I have in code -\r\n\r\nLauncher.java -\r\n\r\n    package cucumber;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(format={&quot;pretty&quot;,&quot;json:target/&quot;} , features=&quot;/src/test/java/cucumber/features&quot;)\r\n    public class Launcher {\r\n    \r\n    }\r\n\r\n\r\nFeature file -\r\n\r\n    Feature: it works demo\r\n    \r\n      Scenario: First test\r\n        Given this is my step\r\n        When this is my second step\r\n        Then this is my final step\r\n\r\nList of Dependencies added to list -\r\n\r\n    cucumber-core-1.1.8\r\n    cucumber-html-0.2.3\r\n    cucumber-java-1.1.8\r\n    cucumber-junit-1.1.8\r\n    cucumber-jvm-deps-1.0.3\r\n    gherkin-2.12.2\r\n    hamcrest-all-1.3\r\n    junit-4.11\r\n    selenium-api-2.42.2\r\n    selenium-firefox-driver-2.42.2\r\n    selenium-java-2.42.2\r\n    selenium-remote-driver-2.42.2\r\n    selenium-support-2.42.2\r\n\r\nMy JVM - 1.7\r\n\r\n\r\nOnly this much is available in project.\r\n\r\nPlease help.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I am developing my Selenium-JVM framework with Cucumber and while running my first feature got below error.</p>\n\n<p>Please help.</p>\n\n<p>How did I launch the feature -</p>\n\n<ol>\n<li>Right click on feature file </li>\n<li>Select Run As -> Cucumber Feature</li>\n</ol>\n\n<p>Immediate Exception -</p>\n\n<pre><code>Exception in thread \"main\" cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:78)\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:67)\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:63)\n    at cucumber.api.cli.Main.run(Main.java:24)\n    at cucumber.api.cli.Main.main(Main.java:16)\n</code></pre>\n\n<p>What I have in code -</p>\n\n<p>Launcher.java -</p>\n\n<pre><code>package cucumber;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(format={\"pretty\",\"json:target/\"} , features=\"/src/test/java/cucumber/features\")\npublic class Launcher {\n\n}\n</code></pre>\n\n<p>Feature file -</p>\n\n<pre><code>Feature: it works demo\n\n  Scenario: First test\n    Given this is my step\n    When this is my second step\n    Then this is my final step\n</code></pre>\n\n<p>List of Dependencies added to list -</p>\n\n<pre><code>cucumber-core-1.1.8\ncucumber-html-0.2.3\ncucumber-java-1.1.8\ncucumber-junit-1.1.8\ncucumber-jvm-deps-1.0.3\ngherkin-2.12.2\nhamcrest-all-1.3\njunit-4.11\nselenium-api-2.42.2\nselenium-firefox-driver-2.42.2\nselenium-java-2.42.2\nselenium-remote-driver-2.42.2\nselenium-support-2.42.2\n</code></pre>\n\n<p>My JVM - 1.7</p>\n\n<p>Only this much is available in project.</p>\n\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1140957,"reputation":2536,"user_id":1124868,"display_name":"mdewitt"},"score":0,"creation_date":1390444395,"post_id":21298187,"comment_id":32097748,"body_markdown":"Look at the documentation for String: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int) indexOf(char) always gives you the first occurrence","body":"Look at the documentation for String: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> indexOf(char) always gives you the first occurrence"},{"owner":{"account_id":1765526,"reputation":452,"user_id":1611488,"display_name":"Lotus"},"score":2,"creation_date":1390444575,"post_id":21298187,"comment_id":32097792,"body_markdown":"Your problem was already solved here: http://stackoverflow.com/questions/5034442/java-indexes-of-all-occurrences-of-character-in-a-string","body":"Your problem was already solved here: <a href=\"http://stackoverflow.com/questions/5034442/java-indexes-of-all-occurrences-of-character-in-a-string\" title=\"java indexes of all occurrences of character in a string\">stackoverflow.com/questions/5034442/&hellip;</a>"},{"owner":{"account_id":1239497,"reputation":1821,"user_id":1202432,"accept_rate":79,"display_name":"Ian Lundberg"},"score":0,"creation_date":1390444597,"post_id":21298187,"comment_id":32097799,"body_markdown":"Yup you&#39;re right @mdewitt I completely forgot about that.","body":"Yup you&#39;re right @mdewitt I completely forgot about that."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1390445240,"post_id":21298187,"comment_id":32097956,"body_markdown":"Use two parameter form of `indexOf` and start searching at previously found position + 1.","body":"Use two parameter form of <code>indexOf</code> and start searching at previously found position + 1."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1390447601,"post_id":21298187,"comment_id":32098647,"body_markdown":"What you actually trying to achieve? Is this hangman?","body":"What you actually trying to achieve? Is this hangman?"}],"answers":[{"tags":[],"owner":{"account_id":3890685,"reputation":515,"user_id":3220968,"accept_rate":100,"display_name":"java-love"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390506830,"creation_date":1390449447,"answer_id":21299058,"question_id":21298187,"body_markdown":"I think this is the code you&#39;re looking for,  \r\n \r\n\r\n     String word, letter;\r\n    \t\tword = &quot;test&quot;;\r\n    \t\tletter = &quot;t&quot;;\r\n    \t\tint i = 0;\r\n    \r\n    \t\ti = word.indexOf(letter);\r\n    \r\n    \t\twhile (i &gt; -1) {\r\n    \t\t\t// store i in arrayList\r\n    \t\t\ti = word.indexOf(letter, i + 1);}\r\n\r\n","title":"How to replace second occurence of char in a String? (Java)","body":"<p>I think this is the code you're looking for,  </p>\n\n<pre><code> String word, letter;\n        word = \"test\";\n        letter = \"t\";\n        int i = 0;\n\n        i = word.indexOf(letter);\n\n        while (i &gt; -1) {\n            // store i in arrayList\n            i = word.indexOf(letter, i + 1);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16499277,"reputation":11,"user_id":11920992,"display_name":"PallaviNikamQA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565680628,"creation_date":1565680628,"answer_id":57472880,"question_id":21298187,"body_markdown":"Another Way is \r\n\r\n     String string1= &quot;Hello&quot;;\r\n\t int first=string1.indexOf(&#39;l&#39;);\r\n\t String newstr= string1.substring(0, first+1);\r\n     String newstr2= string1.substring(first+1, string1.length()).replaceFirst(&quot;l&quot;, &quot;k&quot;);\r\n\t System.out.println(newstr+newstr2);","title":"How to replace second occurence of char in a String? (Java)","body":"<p>Another Way is </p>\n\n<pre><code> String string1= \"Hello\";\n int first=string1.indexOf('l');\n String newstr= string1.substring(0, first+1);\n String newstr2= string1.substring(first+1, string1.length()).replaceFirst(\"l\", \"k\");\n System.out.println(newstr+newstr2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16499277,"reputation":11,"user_id":11920992,"display_name":"PallaviNikamQA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565691203,"creation_date":1565691203,"answer_id":57475628,"question_id":21298187,"body_markdown":"By using StringBuilder you can achieve this by using below code\r\n\r\n        String string1= &quot;Hello&quot;;\r\n\t\tint first=string1.indexOf(&#39;l&#39;,string1.indexOf(&#39;l&#39;)+1);\r\n\t\tStringBuilder SB = new StringBuilder(string1); \r\n        SB.setCharAt(first, &#39;k&#39;); \r\n\t    System.out.println(SB);\r\n\t\t","title":"How to replace second occurence of char in a String? (Java)","body":"<p>By using StringBuilder you can achieve this by using below code</p>\n\n<pre><code>    String string1= \"Hello\";\n    int first=string1.indexOf('l',string1.indexOf('l')+1);\n    StringBuilder SB = new StringBuilder(string1); \n    SB.setCharAt(first, 'k'); \n    System.out.println(SB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665535781,"creation_date":1566248726,"answer_id":57563950,"question_id":21298187,"body_markdown":"    private String replaceOccurrence(String text, String replaceFrom, String replaceTo, int occurrenceIndex)\r\n    {\r\n        StringBuffer sb = new StringBuffer();\r\n        Pattern p = Pattern.compile(replaceFrom);\r\n        Matcher m = p.matcher(text);\r\n        int count = 0;\r\n        while (m.find())\r\n        {\r\n            if (count++ == occurrenceIndex - 1)\r\n            {\r\n                m.appendReplacement(sb, replaceTo);\r\n            }\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n\r\nFor example if you want to replace the second occurrence of &quot;_&quot; with &quot;A&quot;, then:\r\n\r\n    String theLetters = &quot;_ _ _ _ _\\n&quot;;\r\n    String replacedText = replaceOccurrence(theLetters, &quot;_&quot;, &quot;A&quot;, 2);\r\n\r\nResult: _ A _ _ _\r\n\r\n","title":"How to replace second occurence of char in a String? (Java)","body":"<pre><code>private String replaceOccurrence(String text, String replaceFrom, String replaceTo, int occurrenceIndex)\n{\n    StringBuffer sb = new StringBuffer();\n    Pattern p = Pattern.compile(replaceFrom);\n    Matcher m = p.matcher(text);\n    int count = 0;\n    while (m.find())\n    {\n        if (count++ == occurrenceIndex - 1)\n        {\n            m.appendReplacement(sb, replaceTo);\n        }\n    }\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n<p>For example if you want to replace the second occurrence of &quot;_&quot; with &quot;A&quot;, then:</p>\n<pre><code>String theLetters = &quot;_ _ _ _ _\\n&quot;;\nString replacedText = replaceOccurrence(theLetters, &quot;_&quot;, &quot;A&quot;, 2);\n</code></pre>\n<p>Result: _ A _ _ _</p>\n"}],"owner":{"account_id":1239497,"reputation":1821,"user_id":1202432,"accept_rate":79,"display_name":"Ian Lundberg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13408,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1665535781,"creation_date":1390444042,"question_id":21298187,"body_markdown":"    private String theLetters = &quot;_ _ _ _ _\\n&quot;;\r\n\r\n\r\n\r\n    StringBuilder myName = new StringBuilder(theLetters);    \r\n    \r\n    for(char e : theSecretWord.toLowerCase().toCharArray())\r\n    {\r\n        if(e == theUsersGuess.charAt(0))\r\n        {\r\n            int index = theSecretWord.indexOf(e) * 2;\r\n            myName.setCharAt(index, theUsersGuess.charAt(0));\r\n            theLetters = myName.toString();\r\n        }\r\n    }\r\n\r\n   For some reason this will only replace the first occurrence of a letter from the String theSecretWord and not the second, even though this for each loop goes through each character and replaces it in theLetters accordingly. I don&#39;t understand why it won&#39;t replace more than one occurrence of a letter.\r\n\r\n   I think it&#39;s because the loop stops once it finds a matching letter even though it shouldn&#39;t.","title":"How to replace second occurence of char in a String? (Java)","body":"<pre><code>private String theLetters = \"_ _ _ _ _\\n\";\n\n\n\nStringBuilder myName = new StringBuilder(theLetters);    \n\nfor(char e : theSecretWord.toLowerCase().toCharArray())\n{\n    if(e == theUsersGuess.charAt(0))\n    {\n        int index = theSecretWord.indexOf(e) * 2;\n        myName.setCharAt(index, theUsersGuess.charAt(0));\n        theLetters = myName.toString();\n    }\n}\n</code></pre>\n\n<p>For some reason this will only replace the first occurrence of a letter from the String theSecretWord and not the second, even though this for each loop goes through each character and replaces it in theLetters accordingly. I don't understand why it won't replace more than one occurrence of a letter.</p>\n\n<p>I think it's because the loop stops once it finds a matching letter even though it shouldn't.</p>\n"},{"tags":["java","spring","annotations","spring-batch","scheduler"],"answers":[{"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1489674492,"creation_date":1489674492,"answer_id":42836912,"question_id":42834725,"body_markdown":"A step will run until your `ItemReader` returns null.  In your case, your `ItemReader` never does (it always returns a new `Person`) so it will never end.","title":"Spring Batch Job Running in Infinite loop","body":"<p>A step will run until your <code>ItemReader</code> returns null.  In your case, your <code>ItemReader</code> never does (it always returns a new <code>Person</code>) so it will never end.</p>\n"},{"tags":[],"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1496218232,"creation_date":1496217121,"answer_id":44278809,"question_id":42834725,"body_markdown":"Add a flag to resist the reader to run in infinite loop.\r\n\r\nReader: \r\n    \r\n    public class PersonReader implements ItemReader&lt;Person&gt; {\r\n        private boolean batchJobState = false;\r\n        \r\n        @Override\r\n        public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n            if(!batchJobState){\r\n                Person person = new Person();\r\n                System.out.println(&quot;In PersonReader&quot;);\r\n                batchJobState=true;\r\n                return person;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n","title":"Spring Batch Job Running in Infinite loop","body":"<p>Add a flag to resist the reader to run in infinite loop.</p>\n\n<p>Reader: </p>\n\n<pre><code>public class PersonReader implements ItemReader&lt;Person&gt; {\n    private boolean batchJobState = false;\n\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        if(!batchJobState){\n            Person person = new Person();\n            System.out.println(\"In PersonReader\");\n            batchJobState=true;\n            return person;\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539609605,"creation_date":1538188676,"answer_id":52564599,"question_id":42834725,"body_markdown":"Is someone came here with the same error, but using `FlatFileItemReader` (what is a `Reader` implementation), see if you have more than one `step` with the **same name**.\r\n\r\nI had two steps on my Spring Batch project with the same name. The last step among this two executed caused a infinite loop.","title":"Spring Batch Job Running in Infinite loop","body":"<p>Is someone came here with the same error, but using <code>FlatFileItemReader</code> (what is a <code>Reader</code> implementation), see if you have more than one <code>step</code> with the <strong>same name</strong>.</p>\n\n<p>I had two steps on my Spring Batch project with the same name. The last step among this two executed caused a infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":21796251,"reputation":11,"user_id":16095789,"display_name":"Sadanand Burud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665533579,"creation_date":1622552545,"answer_id":67789379,"question_id":42834725,"body_markdown":"Use the interface **StepExecutionListener**. \r\nThis will provide two methods\r\n\r\nUse a variable boolean FLAG at instance level.\r\n\r\n\r\n    public class PersonReader implements ItemReader&lt;Person&gt;,StepExecutionListener {\r\n        private boolean jobState = false;\r\n    \r\n        @Override\r\n        public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n            if(!jobState){\r\n                Person person = new Person();\r\n                System.out.println(&quot;In PersonReader&quot;);\r\n                jobState=true;\r\n                return person;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void beforeStep(StepExecution stepExecution) { }\r\n    \r\n      @Override\r\n        public ExitStatus afterStep(StepExecution stepExecution) {\r\n        \r\n            jobStat = false;\r\n            return stepExecution.getExitStatus();\r\n        }\r\n    }\r\n\r\n1. before read() method execution beforeStep method executes.\r\n2. read() method set a flag to true.\r\n3. after read() method execution, afterStep method will executes and set the flag as false.\r\n4. Whenever your scheduler start the job after 10 minutes the value will be false initially.","title":"Spring Batch Job Running in Infinite loop","body":"<p>Use the interface <strong>StepExecutionListener</strong>.\nThis will provide two methods</p>\n<p>Use a variable boolean FLAG at instance level.</p>\n<pre><code>public class PersonReader implements ItemReader&lt;Person&gt;,StepExecutionListener {\n    private boolean jobState = false;\n\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        if(!jobState){\n            Person person = new Person();\n            System.out.println(&quot;In PersonReader&quot;);\n            jobState=true;\n            return person;\n        }\n        return null;\n    }\n}\n\n\n\n@Override\npublic void beforeStep(StepExecution stepExecution) { }\n\n  @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n    \n        jobStat = false;\n        return stepExecution.getExitStatus();\n    }\n}\n</code></pre>\n<ol>\n<li>before read() method execution beforeStep method executes.</li>\n<li>read() method set a flag to true.</li>\n<li>after read() method execution, afterStep method will executes and set the flag as false.</li>\n<li>Whenever your scheduler start the job after 10 minutes the value will be false initially.</li>\n</ol>\n"}],"owner":{"account_id":1103505,"reputation":1621,"user_id":1095394,"accept_rate":49,"display_name":"MRX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15729,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42836912,"answer_count":4,"score":5,"last_activity_date":1665533579,"creation_date":1489668919,"question_id":42834725,"body_markdown":"I am working on simple Spring Batch Job. When I launch job its running in infinite loop. It doesn&#39;t stop. According to my scheduler time it should run after every 10 seconds. But when job starts it doesn&#39;t stop. Its just keeps printing sysouts from reader, processor and writer respectively. I am creating job with reader, processor and writer. And I am doing all configuration by annotations. Not by xml. \r\n\r\nHere is Batch Configuration\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @EnableScheduling\r\n    public class BatchJobConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory stepBuilderFactory;\r\n    \t\r\n    \t@Autowired\r\n        private SimpleJobLauncher jobLauncher;\r\n    \r\n    \t@Scheduled(cron=&quot;*/10 * * * * *&quot;)\r\n        public void perform() throws Exception \r\n        {\r\n    \t\tJob job = job(step1());\r\n            JobParameters jobParameters = new JobParameters();\r\n            jobLauncher.run(job, jobParameters);\t\t\r\n        }\r\n    \t\r\n    \t@Bean\r\n        public Step step1() \r\n    \t{\r\n    \t\treturn stepBuilderFactory.get(&quot;step1&quot;).&lt;Person, Person&gt; chunk(1)\r\n                    .reader(reader()).processor(processor()).writer(writer())\r\n                    .build();\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic Job job(Step step1) throws Exception \r\n    \t{\r\n    \t\treturn jobBuilderFactory.get(&quot;job&quot;)\r\n                    .incrementer(new RunIdIncrementer()).flow(step1())\r\n                    .end().build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public DataSource dataSource()\r\n    \t{\r\n            EmbeddedDatabaseBuilder embeddedDatabaseBuilder = new EmbeddedDatabaseBuilder();\r\n            return embeddedDatabaseBuilder.addScript(&quot;classpath:org/springframework/batch/core/schema-drop-hsqldb.sql&quot;)\r\n                    .addScript(&quot;classpath:org/springframework/batch/core/schema-hsqldb.sql&quot;)\r\n                    .setType(EmbeddedDatabaseType.HSQL)\r\n                    .build();\r\n        }\r\n    \r\n    \t@Bean\r\n        public PersonReader reader() {\r\n        \treturn new PersonReader();\r\n        }\r\n        @Bean\r\n        public PersonWriter writer() {\r\n        \treturn new PersonWriter();\r\n        }\r\n        @Bean\r\n        public PersonProcessor processor() {\r\n        \treturn new PersonProcessor();\r\n        }\r\n        \r\n        @Bean\r\n        public MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager txManager) throws Exception  {    \r\n            MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(txManager);\r\n            factory.afterPropertiesSet();\r\n            return factory;\r\n        }\r\n        @Bean\r\n        public JobRepository jobRepository(MapJobRepositoryFactoryBean factory) throws Exception {\r\n            return factory.getObject();\r\n        }\r\n        @Bean\r\n        public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n            SimpleJobLauncher launcher = new SimpleJobLauncher();\r\n            launcher.setJobRepository(jobRepository);\r\n            return launcher;\r\n        }\r\n        @Bean\r\n        public ResourcelessTransactionManager transactionManager() {\r\n            return new ResourcelessTransactionManager();\r\n        }\r\n    }\r\n\r\nPersonReader.java\r\n\r\n  \r\n\r\n      public class PersonReader implements ItemReader&lt;Person&gt; {\r\n    \t@Override\r\n    \tpublic Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n    \t\tPerson person = new Person();\r\n    \t\tSystem.out.println(&quot;In PersonReader&quot;);\r\n    \t\treturn person;\r\n    \t}\r\n    }\r\n\r\nPersonWriter.java\r\n\r\n    public class PersonWriter implements ItemWriter&lt;Person&gt; {\r\n    \t@Override\r\n    \tpublic void write(List&lt;? extends Person&gt; arg0) throws Exception {\r\n    \t\tSystem.out.println(&quot;IN PersonWriter&quot;);\r\n    \t}\r\n    }\r\n\r\nPersonProcessor.java\r\n\r\n    public class PersonProcessor implements ItemProcessor&lt;Person, Person&gt; {\r\n    \t@Override\r\n    \tpublic Person process(Person arg0) throws Exception  {\r\n    \t\tSystem.out.println(&quot;In PersonProcessor&quot;);\r\n    \t\treturn arg0;\r\n    \t}\r\n    }","title":"Spring Batch Job Running in Infinite loop","body":"<p>I am working on simple Spring Batch Job. When I launch job its running in infinite loop. It doesn't stop. According to my scheduler time it should run after every 10 seconds. But when job starts it doesn't stop. Its just keeps printing sysouts from reader, processor and writer respectively. I am creating job with reader, processor and writer. And I am doing all configuration by annotations. Not by xml. </p>\n\n<p>Here is Batch Configuration</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\n@EnableScheduling\npublic class BatchJobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private SimpleJobLauncher jobLauncher;\n\n    @Scheduled(cron=\"*/10 * * * * *\")\n    public void perform() throws Exception \n    {\n        Job job = job(step1());\n        JobParameters jobParameters = new JobParameters();\n        jobLauncher.run(job, jobParameters);        \n    }\n\n    @Bean\n    public Step step1() \n    {\n        return stepBuilderFactory.get(\"step1\").&lt;Person, Person&gt; chunk(1)\n                .reader(reader()).processor(processor()).writer(writer())\n                .build();\n    }\n\n    @Bean\n    public Job job(Step step1) throws Exception \n    {\n        return jobBuilderFactory.get(\"job\")\n                .incrementer(new RunIdIncrementer()).flow(step1())\n                .end().build();\n    }\n\n    @Bean\n    public DataSource dataSource()\n    {\n        EmbeddedDatabaseBuilder embeddedDatabaseBuilder = new EmbeddedDatabaseBuilder();\n        return embeddedDatabaseBuilder.addScript(\"classpath:org/springframework/batch/core/schema-drop-hsqldb.sql\")\n                .addScript(\"classpath:org/springframework/batch/core/schema-hsqldb.sql\")\n                .setType(EmbeddedDatabaseType.HSQL)\n                .build();\n    }\n\n    @Bean\n    public PersonReader reader() {\n        return new PersonReader();\n    }\n    @Bean\n    public PersonWriter writer() {\n        return new PersonWriter();\n    }\n    @Bean\n    public PersonProcessor processor() {\n        return new PersonProcessor();\n    }\n\n    @Bean\n    public MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager txManager) throws Exception  {    \n        MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(txManager);\n        factory.afterPropertiesSet();\n        return factory;\n    }\n    @Bean\n    public JobRepository jobRepository(MapJobRepositoryFactoryBean factory) throws Exception {\n        return factory.getObject();\n    }\n    @Bean\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n        SimpleJobLauncher launcher = new SimpleJobLauncher();\n        launcher.setJobRepository(jobRepository);\n        return launcher;\n    }\n    @Bean\n    public ResourcelessTransactionManager transactionManager() {\n        return new ResourcelessTransactionManager();\n    }\n}\n</code></pre>\n\n<p>PersonReader.java</p>\n\n<pre><code>  public class PersonReader implements ItemReader&lt;Person&gt; {\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        Person person = new Person();\n        System.out.println(\"In PersonReader\");\n        return person;\n    }\n}\n</code></pre>\n\n<p>PersonWriter.java</p>\n\n<pre><code>public class PersonWriter implements ItemWriter&lt;Person&gt; {\n    @Override\n    public void write(List&lt;? extends Person&gt; arg0) throws Exception {\n        System.out.println(\"IN PersonWriter\");\n    }\n}\n</code></pre>\n\n<p>PersonProcessor.java</p>\n\n<pre><code>public class PersonProcessor implements ItemProcessor&lt;Person, Person&gt; {\n    @Override\n    public Person process(Person arg0) throws Exception  {\n        System.out.println(\"In PersonProcessor\");\n        return arg0;\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","amazon-s3"],"comments":[{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1665478293,"post_id":74025190,"comment_id":130703866,"body_markdown":"You will have to implement that.","body":"You will have to implement that."},{"owner":{"account_id":16480455,"reputation":33,"user_id":11907366,"display_name":"Ritik Kamra"},"score":0,"creation_date":1665478637,"post_id":74025190,"comment_id":130703992,"body_markdown":"Yeah, but how? That&#39;s the question","body":"Yeah, but how? That&#39;s the question"}],"answers":[{"tags":[],"owner":{"account_id":13794086,"reputation":536,"user_id":10174866,"display_name":"Young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665503200,"creation_date":1665503200,"answer_id":74030801,"question_id":74025190,"body_markdown":"I think you can just collect the records and save it through the driver, since you are coalescing 1, you need to transfer all records to one node in all cases.\r\n\r\nBut before you collect it to local, i think it&#39;s better to transform your dataframe to a dataset.\r\n\r\nJust do something like:\r\n\r\n    dataframe.as[TypeToDefine].collect()\r\nthen you get an Array of TypeToDefine, and you can write your csv using any popular java/scala csv library you like with the name you want.\r\n","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>I think you can just collect the records and save it through the driver, since you are coalescing 1, you need to transfer all records to one node in all cases.</p>\n<p>But before you collect it to local, i think it's better to transform your dataframe to a dataset.</p>\n<p>Just do something like:</p>\n<pre><code>dataframe.as[TypeToDefine].collect()\n</code></pre>\n<p>then you get an Array of TypeToDefine, and you can write your csv using any popular java/scala csv library you like with the name you want.</p>\n"},{"tags":[],"owner":{"account_id":7808038,"reputation":1546,"user_id":5905245,"accept_rate":90,"display_name":"kmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665532114,"creation_date":1665532114,"answer_id":74035102,"question_id":74025190,"body_markdown":"I think this is what you&#39;re asking.\r\n\r\n    import org.apache.hadoop.fs.Path\r\n\r\n    val s3Path: String = ???      // full S3 path &amp; file name\r\n    val textToWrite: String = ??? // collect your dataframe and convert to a single String\r\n\r\n    val path = new Path(s3Path)\r\n    val fs = path.getFileSystem(spark.sparkContext.hadoopConfiguration)\r\n    val out = fs.create(path, true)\r\n    out.write( textToWrite.getBytes )\r\n    out.close()\r\n","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>I think this is what you're asking.</p>\n<pre><code>import org.apache.hadoop.fs.Path\n\nval s3Path: String = ???      // full S3 path &amp; file name\nval textToWrite: String = ??? // collect your dataframe and convert to a single String\n\nval path = new Path(s3Path)\nval fs = path.getFileSystem(spark.sparkContext.hadoopConfiguration)\nval out = fs.create(path, true)\nout.write( textToWrite.getBytes )\nout.close()\n</code></pre>\n"}],"owner":{"account_id":16480455,"reputation":33,"user_id":11907366,"display_name":"Ritik Kamra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665532114,"creation_date":1665477041,"question_id":74025190,"body_markdown":"My requirement is simple, I need to write my spark DataFrame to S3 as a single csv file of a specified name\r\nWrite now I am using .coalesce(1) which puts all the data in a single CSV but still creates a folder with some additional files and the name of the main csv file is some id.\r\n[I&#39;m using java/scala]\r\n\r\n    dataFrame.coalesce(1).write.mode(SaveMode.Overwrite).option(&quot;header&quot;, &quot;true&quot;).csv(&quot;s3a://&lt;mypath&gt;&quot;)\r\n\r\n\r\n[this is how the data is being saved][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jH5OZ.png","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>My requirement is simple, I need to write my spark DataFrame to S3 as a single csv file of a specified name\nWrite now I am using .coalesce(1) which puts all the data in a single CSV but still creates a folder with some additional files and the name of the main csv file is some id.\n[I'm using java/scala]</p>\n<pre><code>dataFrame.coalesce(1).write.mode(SaveMode.Overwrite).option(&quot;header&quot;, &quot;true&quot;).csv(&quot;s3a://&lt;mypath&gt;&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jH5OZ.png\" rel=\"nofollow noreferrer\">this is how the data is being saved</a></p>\n"},{"tags":["java","save","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":3483035,"reputation":756,"user_id":2914592,"accept_rate":79,"display_name":"Freaky Thommi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385057225,"creation_date":1385057225,"answer_id":20128647,"question_id":20128511,"body_markdown":"You might want to serialize this object to a file so that it can get the data back when it runs next time through deserialize. Check ObjectOutputstream class&#39;s documentation. Having said that you need to have some logic to go with it,","title":"How to Save a Node","body":"<p>You might want to serialize this object to a file so that it can get the data back when it runs next time through deserialize. Check ObjectOutputstream class's documentation. Having said that you need to have some logic to go with it,</p>\n"},{"tags":[],"owner":{"account_id":2364390,"reputation":752,"user_id":2070400,"accept_rate":67,"display_name":"Mike M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1385057236,"creation_date":1385057236,"answer_id":20128648,"question_id":20128511,"body_markdown":"Maybe you could use a local file and serialize the data. Java handles this pretty well.\r\n\r\nNOTE: I haven&#39;t tested this code but it&#39;s a starting place. \r\n\r\n    private void saveNode(Node n){\r\n        FileOutputStream fout = new FileOutputStream(&quot;file.txt&quot;);\r\n        ObjectOutputStream oos = new ObjectOutputStream(fout);\r\n        oos.writeObject(n);\r\n        oos.close();\r\n    }\r\n    \r\n    private Node readNode(){\r\n       FileInputStream fin = new FileInputStream(&quot;file.txt&quot;);\r\n       ObjectInputStream ois = new ObjectInputStream(fin);\r\n       Node n = (Node)ois.readObject();\r\n       ois.close();\r\n       return n;\r\n    }","title":"How to Save a Node","body":"<p>Maybe you could use a local file and serialize the data. Java handles this pretty well.</p>\n\n<p>NOTE: I haven't tested this code but it's a starting place. </p>\n\n<pre><code>private void saveNode(Node n){\n    FileOutputStream fout = new FileOutputStream(\"file.txt\");\n    ObjectOutputStream oos = new ObjectOutputStream(fout);\n    oos.writeObject(n);\n    oos.close();\n}\n\nprivate Node readNode(){\n   FileInputStream fin = new FileInputStream(\"file.txt\");\n   ObjectInputStream ois = new ObjectInputStream(fin);\n   Node n = (Node)ois.readObject();\n   ois.close();\n   return n;\n}\n</code></pre>\n"}],"owner":{"account_id":3420211,"reputation":23,"user_id":2868085,"accept_rate":60,"display_name":"metelofe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20128648,"answer_count":2,"score":0,"last_activity_date":1665531537,"creation_date":1385056825,"question_id":20128511,"body_markdown":"I&#39;ve been coding a basic binary Tree in Java and have run into a problem. The goal of this program is to &quot;learn&quot; new questions in order to guess an animal similar to 20 questions. However, I have no idea how to &quot;save&quot; a node so it can be recalled by this same class the next time it runs. How to do this? \r\n\r\n    public class LearningTree {\r\n\tNode root;\r\n\t\r\n\tpublic void addNode(double key, String name){\r\n\t\tNode newNode = new Node(key, name);\r\n\t\t\r\n\t\tif (root == null){\r\n\t\t\troot = newNode;\r\n\t\t} else {\r\n\t\t\tNode focusNode = root;\r\n\t\t\t\r\n\t\t\tNode parent;\r\n\t\t\t\r\n\t\t\twhile(true){\r\n\t\t\t\tparent = focusNode;`enter code here`\r\n\t\t\t\t\r\n\t\t\t\tif(key &lt; focusNode.key){\r\n\t\t\t\t\tfocusNode = focusNode.leftChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(focusNode == null){\r\n\t\t\t\t\t\tparent.leftChild = newNode;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfocusNode = focusNode.rightChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(focusNode == null){\r\n\t\t\t\t\t\tparent.rightChild = newNode;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n     public void traverse(Node focusNode){\r\n\t if(focusNode != null){\r\n\t\t \r\n\t\t traverse(focusNode.leftChild);\r\n\t\t \r\n\t\t traverse(focusNode.rightChild);\r\n\t }\r\n     }\r\n\t\r\n\t\r\n     class Node{\r\n\t \r\n\t double key;\r\n\t String name;\r\n\t \r\n\t Node leftChild;\r\n\t Node rightChild;\r\n\t \r\n\t Node(double key, String name){\r\n\t\t this.key = key;\r\n\t\t this.name = name;\r\n\t }\r\n\t\r\n    }\r\n \r\n    public void keyChange(Node focusNode, double newkey){\r\n\tfocusNode.key = newkey;\r\n     }\r\n \r\n    public Node findNode(double key) {\r\n\t \t \r\n\t \r\n\r\n\t Node focusNode = root;\r\n\t\r\n        while (focusNode.key != key) {\r\n\t\r\n\t\r\n          if (key &lt; focusNode.key) {\r\n\t\r\n        \t  focusNode = focusNode.leftChild;\r\n\t\t \r\n\t \t      } else {\r\n\t \r\n\t \t    \t  focusNode = focusNode.rightChild;\r\n\t \t      }\r\n\r\n\t          if (focusNode == null)\r\n\t            \treturn null;\r\n\t\r\n    }\r\n\r\n       return focusNode;\r\n\t\t \r\n    }\r\n\t \r\n \r\n     public static void main(String[] args){\r\n\t LearningTree Tree = new LearningTree();\r\n\t Scanner sc = new Scanner(System.in);\r\n\t \r\n\t //Nodes\r\n\t Tree.addNode(1500, &quot;Does it have wings?&quot;);\r\n\t Tree.addNode(750, &quot;Is it a dog?&quot;);\r\n\t \r\n\t \r\n\t \r\n\t System.out.println(&quot;Is it an animal?&quot;);\r\n\t \r\n\t double n = 1000;\r\n\t \r\n\t while(true){\r\n\t String Answer = sc.nextLine();\r\n\t String answer = Answer.toLowerCase();\r\n\t \r\n\t double k = n;\r\n\t \r\n\t\r\n\t if(answer.equals(&quot;y&quot;)){\r\n\t\t n = 1.5* n;\r\n\t }\r\n\t if(answer.equals(&quot;n&quot;)){\r\n\t\t n = .5*n;\r\n\t }\r\n\t if(Tree.findNode(n) != null){\r\n\t \r\n\t System.out.println(Tree.findNode(n).name + &quot; (y/n)&quot;);\r\n\t }\r\n\t \r\n\t if(Tree.findNode(n) == null){\r\n\t\t System.out.println(&quot;What is it?&quot;);\r\n\t\t String answer1 = sc.nextLine();\r\n\t\t System.out.println(&quot;What would distinguish a &quot; + answer1 + &quot;from the     previous guess?&quot;);\r\n\t\t String answer2 = sc.nextLine();\r\n\t\t System.out.println(&quot;What would the answer be to &quot; + answer2 + &quot;? (y/n)&quot;);\r\n\t\t String answer3 = sc.nextLine();\r\n\t\t double s;\r\n\t\t \r\n\t\t if(Tree.findNode(k/1.5) == null){\r\n\t\t\t Tree.findNode(k/.5);\r\n\t\t } else {\r\n\t\t\t Tree.findNode(k/1.5);\r\n\t\t }\r\n\t\t \r\n\t\t if(answer3.equals(&quot;y&quot;)){\r\n\t\t\t Tree.keyChange(Tree.findNode(k), n );\r\n\t\t\t s = 1.5;\r\n\t\t\t Tree.addNode(n, Tree.findNode(n).name);\r\n\t\t }\r\n\t\t\t \r\n\t\t if(answer3.equals(&quot;n&quot;)){\r\n\t\t\t\t Tree.keyChange(Tree.findNode(k), n);\r\n\t\t\t\t s = .5;\r\n\t\t\t\t Tree.addNode(n, Tree.findNode(n).name );\r\n\t\t }\r\n\t\t Tree.addNode(k, answer2);\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\t \r\n\t\t\t\t \r\n\r\n\t\t\t \t}\r\n\t\t\t\r\n\t\t\t \r\n\t\t }\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t }\r\n\t\r\n\t \r\n\t \r\n     }\r\n","title":"How to Save a Node","body":"<p>I've been coding a basic binary Tree in Java and have run into a problem. The goal of this program is to &quot;learn&quot; new questions in order to guess an animal similar to 20 questions. However, I have no idea how to &quot;save&quot; a node so it can be recalled by this same class the next time it runs. How to do this?</p>\n<pre><code>public class LearningTree {\nNode root;\n\npublic void addNode(double key, String name){\n    Node newNode = new Node(key, name);\n    \n    if (root == null){\n        root = newNode;\n    } else {\n        Node focusNode = root;\n        \n        Node parent;\n        \n        while(true){\n            parent = focusNode;`enter code here`\n            \n            if(key &lt; focusNode.key){\n                focusNode = focusNode.leftChild;\n                \n                if(focusNode == null){\n                    parent.leftChild = newNode;\n                    return;\n                }\n            } else {\n                focusNode = focusNode.rightChild;\n                \n                if(focusNode == null){\n                    parent.rightChild = newNode;\n                    return;\n                }\n            }\n            \n        }\n    }\n}\n public void traverse(Node focusNode){\n if(focusNode != null){\n     \n     traverse(focusNode.leftChild);\n     \n     traverse(focusNode.rightChild);\n }\n }\n\n\n class Node{\n \n double key;\n String name;\n \n Node leftChild;\n Node rightChild;\n \n Node(double key, String name){\n     this.key = key;\n     this.name = name;\n }\n\n}\n\npublic void keyChange(Node focusNode, double newkey){\nfocusNode.key = newkey;\n }\n\npublic Node findNode(double key) {\n     \n \n\n Node focusNode = root;\n\n    while (focusNode.key != key) {\n\n\n      if (key &lt; focusNode.key) {\n\n          focusNode = focusNode.leftChild;\n     \n          } else {\n \n              focusNode = focusNode.rightChild;\n          }\n\n          if (focusNode == null)\n                return null;\n\n}\n\n   return focusNode;\n     \n}\n \n\n public static void main(String[] args){\n LearningTree Tree = new LearningTree();\n Scanner sc = new Scanner(System.in);\n \n //Nodes\n Tree.addNode(1500, &quot;Does it have wings?&quot;);\n Tree.addNode(750, &quot;Is it a dog?&quot;);\n \n \n \n System.out.println(&quot;Is it an animal?&quot;);\n \n double n = 1000;\n \n while(true){\n String Answer = sc.nextLine();\n String answer = Answer.toLowerCase();\n \n double k = n;\n \n\n if(answer.equals(&quot;y&quot;)){\n     n = 1.5* n;\n }\n if(answer.equals(&quot;n&quot;)){\n     n = .5*n;\n }\n if(Tree.findNode(n) != null){\n \n System.out.println(Tree.findNode(n).name + &quot; (y/n)&quot;);\n }\n \n if(Tree.findNode(n) == null){\n     System.out.println(&quot;What is it?&quot;);\n     String answer1 = sc.nextLine();\n     System.out.println(&quot;What would distinguish a &quot; + answer1 + &quot;from the     previous guess?&quot;);\n     String answer2 = sc.nextLine();\n     System.out.println(&quot;What would the answer be to &quot; + answer2 + &quot;? (y/n)&quot;);\n     String answer3 = sc.nextLine();\n     double s;\n     \n     if(Tree.findNode(k/1.5) == null){\n         Tree.findNode(k/.5);\n     } else {\n         Tree.findNode(k/1.5);\n     }\n     \n     if(answer3.equals(&quot;y&quot;)){\n         Tree.keyChange(Tree.findNode(k), n );\n         s = 1.5;\n         Tree.addNode(n, Tree.findNode(n).name);\n     }\n         \n     if(answer3.equals(&quot;n&quot;)){\n             Tree.keyChange(Tree.findNode(k), n);\n             s = .5;\n             Tree.addNode(n, Tree.findNode(n).name );\n     }\n     Tree.addNode(k, answer2);\n            \n    \n        \n         \n             \n\n            }\n        \n         \n     }\n     \n     \n     \n     \n     \n }\n\n \n \n }\n</code></pre>\n"},{"tags":["java","logging","log4j","string-formatting"],"comments":[{"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"score":3,"creation_date":1434961660,"post_id":30975026,"comment_id":49981411,"body_markdown":"Look at slf4j, which I think implements this approach","body":"Look at slf4j, which I think implements this approach"}],"answers":[{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1434964403,"creation_date":1434964403,"answer_id":30976122,"question_id":30975026,"body_markdown":"Btw, In this scenario there is not much difference between using `+` to add your variables to the string and `String.format` - unless you really want to reuse the &quot;Your var is...&quot; in all your logs. \r\n\r\nslf4j lets you log as \r\n\r\n`log.info(&quot;Your var is {} and you are {}&quot;, myVar, myVar1);` \r\n\r\nNote the use of `{}` instead of print formatters. Also this requires Java &gt;= 1.5","title":"Log4j Implicit String Formatting","body":"<p>Btw, In this scenario there is not much difference between using <code>+</code> to add your variables to the string and <code>String.format</code> - unless you really want to reuse the \"Your var is...\" in all your logs. </p>\n\n<p>slf4j lets you log as </p>\n\n<p><code>log.info(\"Your var is {} and you are {}\", myVar, myVar1);</code> </p>\n\n<p>Note the use of <code>{}</code> instead of print formatters. Also this requires Java >= 1.5</p>\n"},{"tags":[],"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1434966821,"creation_date":1434966821,"answer_id":30976958,"question_id":30975026,"body_markdown":"[slf4j][1]&#39;s api provides &quot;[parameterized logging][2]&quot;, which allows you to do exactly that, although with a slightly different syntax. The example there is:\r\n\r\n    logger.debug(&quot;Value {} was inserted between {} and {}.&quot;, newVal, below, above);\r\n\r\nFor an implementation, you can use Logback which implements slf4j natively, or the slf4j bindings to connect with log4j or other loggers. [The User Manual][3] explains that, along with a short example.\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://www.slf4j.org/faq.html#logging_performance\r\n  [3]: http://www.slf4j.org/manual.html","title":"Log4j Implicit String Formatting","body":"<p><a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">slf4j</a>'s api provides \"<a href=\"http://www.slf4j.org/faq.html#logging_performance\" rel=\"noreferrer\">parameterized logging</a>\", which allows you to do exactly that, although with a slightly different syntax. The example there is:</p>\n\n<pre><code>logger.debug(\"Value {} was inserted between {} and {}.\", newVal, below, above);\n</code></pre>\n\n<p>For an implementation, you can use Logback which implements slf4j natively, or the slf4j bindings to connect with log4j or other loggers. <a href=\"http://www.slf4j.org/manual.html\" rel=\"noreferrer\">The User Manual</a> explains that, along with a short example.</p>\n"},{"tags":[],"owner":{"account_id":7507725,"reputation":301,"user_id":5703751,"display_name":"Mathieu"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1665528882,"creation_date":1544219959,"answer_id":53677315,"question_id":30975026,"body_markdown":"Using `String.format`, `+`, or a string formatter other than the one provided by your logging system (`log4j` for example) is considered as a bad practice.\r\n\r\nUsually, in the code there are lots of low level logs (debug, info) you don&#39;t want to see in production. If you use for example `String.format` to format the string to log, then you will allocate on the heap and format a new `String`, which can be very long and consume resources, even if at the end nothing will be logged (for example if the `log4j` min level is set to warning or error).\r\n\r\nBy using the logger formatter system (like the one from `log4j`), you allow your logger to avoid the generation of the formatted string if it doesn&#39;t need to be logged.\r\n\r\nThis may make a great difference in some cases.","title":"Log4j Implicit String Formatting","body":"<p>Using <code>String.format</code>, <code>+</code>, or a string formatter other than the one provided by your logging system (<code>log4j</code> for example) is considered as a bad practice.</p>\n<p>Usually, in the code there are lots of low level logs (debug, info) you don't want to see in production. If you use for example <code>String.format</code> to format the string to log, then you will allocate on the heap and format a new <code>String</code>, which can be very long and consume resources, even if at the end nothing will be logged (for example if the <code>log4j</code> min level is set to warning or error).</p>\n<p>By using the logger formatter system (like the one from <code>log4j</code>), you allow your logger to avoid the generation of the formatted string if it doesn't need to be logged.</p>\n<p>This may make a great difference in some cases.</p>\n"},{"tags":[],"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1566407593,"creation_date":1566407184,"answer_id":57596292,"question_id":30975026,"body_markdown":"Log4j supports internal formatting.  I haven&#39;t found it documented anywhere, but I saw an example of it here:\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/markers.html\r\n\r\nI tried it out and it works!  I&#39;m on log4j 2.11.2.\r\n\r\n    int i = 42;\r\n    String str1 = &quot;the answer&quot;;\r\n    String str2 = &quot;life, the universe, and everything&quot;;\r\n    console.info(&quot;{} is {} to {}&quot;, i, str1, str2);\r\n\r\n\r\nLooking at the javadoc for Logger, I&#39;d say it was introduced in Lo4j 2, and supports up to 10 parameters.\r\n\r\nhttps://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\r\n    \r\n\r\n\r\n","title":"Log4j Implicit String Formatting","body":"<p>Log4j supports internal formatting.  I haven't found it documented anywhere, but I saw an example of it here:</p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/markers.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/markers.html</a></p>\n\n<p>I tried it out and it works!  I'm on log4j 2.11.2.</p>\n\n<pre><code>int i = 42;\nString str1 = \"the answer\";\nString str2 = \"life, the universe, and everything\";\nconsole.info(\"{} is {} to {}\", i, str1, str2);\n</code></pre>\n\n<p>Looking at the javadoc for Logger, I'd say it was introduced in Lo4j 2, and supports up to 10 parameters.</p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html</a></p>\n"},{"tags":[],"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665531378,"creation_date":1665531017,"answer_id":74035015,"question_id":30975026,"body_markdown":"I upvoted the &quot;use `logger.debug(format, varargs)`&quot; approach first, because it doesn&#39;t allocate extra `String` when it&#39;s not needed.\r\n\r\nBut then it occurred to me that `logger.debug(String format, Object... varargs)` still allocates an `Array` for the varargs.\r\n\r\nTried this on https://godbolt.org/noscript/java\r\n\r\n```\r\n\r\nclass VarargTest {\r\n    static boolean debugging = false;\r\n    static void debug(String format, Object... args) {\r\n       if (debugging) {\r\n           System.out.println(String.format(format, args));\r\n       }\r\n    }\r\n\r\n    static void logVarargs(int n) {\r\n        debug(&quot;debug message {}&quot;, n);\r\n    }\r\n\r\n    static void logIf(int n) {\r\n        if (VarargTest.debugging) {\r\n            debug(&quot;debug message 2 &quot; + n);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand indeed, the resulting `debug()` call allocates an `Array`.\r\n\r\nSo the fastest code should be \r\n```\r\nif (logger.isDebugEnabled()) {\r\n    logger.debug(&quot;format {}&quot;, arg);\r\n}\r\n```\r\n\r\nIf it&#39;s not super performance critical, a more readable and reasonably fast code would be simply\r\n```\r\n    logger.debug(&quot;format {}&quot;, arg);\r\n```","title":"Log4j Implicit String Formatting","body":"<p>I upvoted the &quot;use <code>logger.debug(format, varargs)</code>&quot; approach first, because it doesn't allocate extra <code>String</code> when it's not needed.</p>\n<p>But then it occurred to me that <code>logger.debug(String format, Object... varargs)</code> still allocates an <code>Array</code> for the varargs.</p>\n<p>Tried this on <a href=\"https://godbolt.org/noscript/java\" rel=\"nofollow noreferrer\">https://godbolt.org/noscript/java</a></p>\n<pre><code>\nclass VarargTest {\n    static boolean debugging = false;\n    static void debug(String format, Object... args) {\n       if (debugging) {\n           System.out.println(String.format(format, args));\n       }\n    }\n\n    static void logVarargs(int n) {\n        debug(&quot;debug message {}&quot;, n);\n    }\n\n    static void logIf(int n) {\n        if (VarargTest.debugging) {\n            debug(&quot;debug message 2 &quot; + n);\n        }\n    }\n}\n</code></pre>\n<p>and indeed, the resulting <code>debug()</code> call allocates an <code>Array</code>.</p>\n<p>So the fastest code should be</p>\n<pre><code>if (logger.isDebugEnabled()) {\n    logger.debug(&quot;format {}&quot;, arg);\n}\n</code></pre>\n<p>If it's not super performance critical, a more readable and reasonably fast code would be simply</p>\n<pre><code>    logger.debug(&quot;format {}&quot;, arg);\n</code></pre>\n"}],"owner":{"account_id":1483555,"reputation":2434,"user_id":1392312,"accept_rate":92,"display_name":"Rossiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99980,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":30976958,"answer_count":5,"score":51,"last_activity_date":1665531378,"creation_date":1434961043,"question_id":30975026,"body_markdown":"I am using `log4j v1.2.14` for logging in my project and I am also using `Java 7` [String.format()][1] to put variables in my output. Currently I am writing\r\n\r\n    LOGGER.info(String.format(&quot;Your var is [%s] and you are [%s]&quot;, myVar, myVar1));\r\n\r\nIs this really the best way to output strings? I feel that `log4j` should have this implemented implicitly as below:\r\n\r\n    LOGGER.info(&quot;Your var is [%s] and you are [%s]&quot;, myVar, myVar1);\r\n\r\nHave I missed something? Further, are there any Java logging frameworks that support this?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"Log4j Implicit String Formatting","body":"<p>I am using <code>log4j v1.2.14</code> for logging in my project and I am also using <code>Java 7</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\">String.format()</a> to put variables in my output. Currently I am writing</p>\n\n<pre><code>LOGGER.info(String.format(\"Your var is [%s] and you are [%s]\", myVar, myVar1));\n</code></pre>\n\n<p>Is this really the best way to output strings? I feel that <code>log4j</code> should have this implemented implicitly as below:</p>\n\n<pre><code>LOGGER.info(\"Your var is [%s] and you are [%s]\", myVar, myVar1);\n</code></pre>\n\n<p>Have I missed something? Further, are there any Java logging frameworks that support this?</p>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1665518710,"post_id":74033519,"comment_id":130718667,"body_markdown":"&quot;i have this string &quot;\\303\\255&quot;&quot; - how are you observing that string? It&#39;s not clear whether you&#39;ve got a string that actually contains backslashes. Is \\303\\255 what you see if you print it to the console, for example?","body":"&quot;i have this string &quot;\\303\\255&quot;&quot; - how are you observing that string? It&#39;s not clear whether you&#39;ve got a string that actually contains backslashes. Is \\303\\255 what you see if you print it to the console, for example?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665521417,"post_id":74033519,"comment_id":130719455,"body_markdown":"assuming the string really has that content, that is, the characters `&#39;\\303&#39;` and `&#39; \\255&#39;` (octal values) then: `new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)`  (but, if the data is being received as bytes, better do the conversion to string already using the correct charset)","body":"assuming the string really has that content, that is, the characters <code>&#39;\\303&#39;</code> and <code>&#39; \\255&#39;</code> (octal values) then: <code>new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)</code>  (but, if the data is being received as bytes, better do the conversion to string already using the correct charset)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665522972,"post_id":74033519,"comment_id":130719856,"body_markdown":"Jon Skeet, thanks. the text indeed contain backSlashees.i saw that in console.  (these are octal values) as user 16320675 said. (below answer)","body":"Jon Skeet, thanks. the text indeed contain backSlashees.i saw that in console.  (these are octal values) as user 16320675 said. (below answer)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665523109,"post_id":74033519,"comment_id":130719891,"body_markdown":"thanks user16320675 . now, i know that these are octal. that data recieved as string (not as byte[]). but i didnt understand your answer, what you suggest ? using this command ?         new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)","body":"thanks user16320675 . now, i know that these are octal. that data recieved as string (not as byte[]). but i didnt understand your answer, what you suggest ? using this command ?         new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665524740,"post_id":74033519,"comment_id":130720259,"body_markdown":"i used this &gt;.   String result = new String(value1.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);   but still get same situation. the text not converted and it still include \\303\\255.","body":"i used this &gt;.   String result = new String(value1.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);   but still get same situation. the text not converted and it still include \\303\\255."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665525900,"post_id":74033519,"comment_id":130720477,"body_markdown":"What do you expect - **&#221;&#197;** ?","body":"What do you expect - <b>&#221;&#197;</b> ?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665535606,"post_id":74033519,"comment_id":130721886,"body_markdown":"It could actually be Java that did this, these are legal octal escape sequences you can use in source code. If I run `System.out.println(&quot;Libert\\303\\251 Greek Yogourt&quot;);` (linux utf8 source) I get `Libert&#233; Greek Yogourt`. When doing that with this code https://udojava.com/tag/string-decode/ I can also reverse the encoding if it appears with literal \\ characters. Weirdly enough when using https://ideone.com/cC72cd as an example it prints `Libert&#195;&#169; Greek Yogourt`.","body":"It could actually be Java that did this, these are legal octal escape sequences you can use in source code. If I run <code>System.out.println(&quot;Libert\\303\\251 Greek Yogourt&quot;);</code> (linux utf8 source) I get <code>Libert&#233; Greek Yogourt</code>. When doing that with this code <a href=\"https://udojava.com/tag/string-decode/\" rel=\"nofollow noreferrer\">udojava.com/tag/string-decode</a> I can also reverse the encoding if it appears with literal \\ characters. Weirdly enough when using <a href=\"https://ideone.com/cC72cd\" rel=\"nofollow noreferrer\">ideone.com/cC72cd</a> as an example it prints <code>Libert&#195;&#169; Greek Yogourt</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665566155,"post_id":74033519,"comment_id":130728511,"body_markdown":"It could be Unicode combining diacritics, in which case, those are not octal values but hex ones. But those particular ones are not &#39;correct&#39;.","body":"It could be Unicode combining diacritics, in which case, those are not octal values but hex ones. But those particular ones are not &#39;correct&#39;."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1665587993,"post_id":74033519,"comment_id":130737177,"body_markdown":"It is still not clear to me whether your string has the eight characters \\, 3, 0, 3, \\, 2, 5, 5, or if you are simply seeing an octal *representation* of two bytes in an internal byte array in your String.  Please tell us exactly what steps you are taking to observe the contents of the String.  Don’t just say you saw it on the console;  tell us exactly what you did to make it appear on the console.","body":"It is still not clear to me whether your string has the eight characters \\, 3, 0, 3, \\, 2, 5, 5, or if you are simply seeing an octal <i>representation</i> of two bytes in an internal byte array in your String.  Please tell us exactly what steps you are taking to observe the contents of the String.  Don’t just say you saw it on the console;  tell us exactly what you did to make it appear on the console."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1665599017,"post_id":74033519,"comment_id":130740948,"body_markdown":"*Never* “fix” a String that way—you will corrupt the data.  The correct way to address this is to fix the code that converts bytes to a String in the first place, and make sure it uses the correct charset.","body":"<i>Never</i> “fix” a String that way—you will corrupt the data.  The correct way to address this is to fix the code that converts bytes to a String in the first place, and make sure it uses the correct charset."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665530983,"creation_date":1665527830,"answer_id":74034749,"question_id":74033519,"body_markdown":"But the answer to your question *Which encoding replaces &quot;&#237;&quot; with &quot;\\303 \\255&quot;?*  is - none (probably). Of the well over 1000 character encodings known to `iconv`, none encodes that two-byte sequence to that single character, which is LATIN SMALL LETTER I WITH ACUTE ","title":"Which encoding replaces &quot;\\303 \\255&quot; with &quot;&#237;&quot; in java?","body":"<p>But the answer to your question <em>Which encoding replaces &quot;í&quot; with &quot;\\303 \\255&quot;?</em>  is - none (probably). Of the well over 1000 character encodings known to <code>iconv</code>, none encodes that two-byte sequence to that single character, which is LATIN SMALL LETTER I WITH ACUTE</p>\n"}],"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665530983,"creation_date":1665518559,"question_id":74033519,"body_markdown":"im using java 11. i have this string &quot;\\303\\255&quot; which get from an api call response. \r\n\r\nseems that somehow, the api send it converted.  i want to convert it to charcter &quot;&#237;&quot;. in java. \r\n\r\ni found similar issues with opposite problems. as you see here \r\n\r\nhttps://stackoverflow.com/questions/30795562/which-encoding-replaces-%c3%ad-with-303-255/74033323?noredirect=1#comment130718212_74033323 ? \r\n\r\n\r\n\r\n","title":"Which encoding replaces &quot;\\303 \\255&quot; with &quot;&#237;&quot; in java?","body":"<p>im using java 11. i have this string &quot;\\303\\255&quot; which get from an api call response.</p>\n<p>seems that somehow, the api send it converted.  i want to convert it to charcter &quot;í&quot;. in java.</p>\n<p>i found similar issues with opposite problems. as you see here</p>\n<p><a href=\"https://stackoverflow.com/questions/30795562/which-encoding-replaces-%c3%ad-with-303-255/74033323?noredirect=1#comment130718212_74033323\">Which encoding replaces &quot;&#237;&quot; with &quot;\\303 \\255&quot;?</a> ?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":0,"creation_date":1665503893,"post_id":74030885,"comment_id":130713827,"body_markdown":"In your LinearLayout android:id=&quot;@+id/layout_top&quot;, remove the marginTop","body":"In your LinearLayout android:id=&quot;@+id/layout_top&quot;, remove the marginTop"},{"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"score":0,"creation_date":1665504483,"post_id":74030885,"comment_id":130714054,"body_markdown":"thank you, the margintop is statusbar height ,Remove the status bar, and the title will be moved to the status bar。","body":"thank you, the margintop is statusbar height ,Remove the status bar, and the title will be moved to the status bar。"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665530483,"creation_date":1665530483,"answer_id":74034970,"question_id":74030885,"body_markdown":"The &quot;line&quot; is because your dark overlay doesn&#39;t exactly line up with the top of your content/bottom of the status bar. There&#39;s a gap where the content shows through:\r\n\r\n[![A crop of the image showing where the overlay shim doesn&#39;t cover the photos beneath][1]][1]\r\n\r\nYou can see the photos through that gap. I&#39;m assuming this layout is overlaid on the entire screen, and you&#39;re using `layout_marginTop=&quot;30dp&quot;` to try and move it below the status bar? That&#39;s going to have problems - the size of the bar depends on the device. On stock Android (following [Material Design guidelines][2]) the status bar is *24dp*. On your device, it&#39;s obviously close to *30dp* - but not exactly! That&#39;s why it doesn&#39;t line up.\r\n\r\n----\r\n\r\nI think making this work perfectly is going to be difficult. If I were you, I wouldn&#39;t try to overlay the entire screen. If you use a `NoActionBar` theme, and add a `Toolbar` into your layout instead, then you can add your overlay in the same layout. You can cover the `Toolbar` if you like, and the top of the `Activity`/`Fragment` will be below the status bar.\r\n\r\nBut it looks like you&#39;re making some kind of overlay over other apps - in that case, have a look at this thread for some ideas about getting the current device&#39;s status bar height (if any): https://stackoverflow.com/q/3407256/13598222\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TV4kG.png\r\n  [2]: https://material.io/design/platform-guidance/android-bars.html#status-bar","title":"statusbar has a white line?","body":"<p>The &quot;line&quot; is because your dark overlay doesn't exactly line up with the top of your content/bottom of the status bar. There's a gap where the content shows through:</p>\n<p><a href=\"https://i.stack.imgur.com/TV4kG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TV4kG.png\" alt=\"A crop of the image showing where the overlay shim doesn't cover the photos beneath\" /></a></p>\n<p>You can see the photos through that gap. I'm assuming this layout is overlaid on the entire screen, and you're using <code>layout_marginTop=&quot;30dp&quot;</code> to try and move it below the status bar? That's going to have problems - the size of the bar depends on the device. On stock Android (following <a href=\"https://material.io/design/platform-guidance/android-bars.html#status-bar\" rel=\"nofollow noreferrer\">Material Design guidelines</a>) the status bar is <em>24dp</em>. On your device, it's obviously close to <em>30dp</em> - but not exactly! That's why it doesn't line up.</p>\n<hr />\n<p>I think making this work perfectly is going to be difficult. If I were you, I wouldn't try to overlay the entire screen. If you use a <code>NoActionBar</code> theme, and add a <code>Toolbar</code> into your layout instead, then you can add your overlay in the same layout. You can cover the <code>Toolbar</code> if you like, and the top of the <code>Activity</code>/<code>Fragment</code> will be below the status bar.</p>\n<p>But it looks like you're making some kind of overlay over other apps - in that case, have a look at this thread for some ideas about getting the current device's status bar height (if any): <a href=\"https://stackoverflow.com/q/3407256/13598222\">Height of status bar in Android</a></p>\n"}],"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665530483,"creation_date":1665503560,"question_id":74030885,"body_markdown":"Here is my layout， Why is there a white line between the status bar and the title? How do I remove this white line。\r\nI made an album, but found white lines in the nested layout. I didn&#39;t search for relevant content on Google, so I posted a post for you to look at. Here are my code and screenshots.\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@color/image_display_color&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/surface_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n        &lt;com.github.chrisbanes.photoview.PhotoView\r\n            android:id=&quot;@+id/big_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;!-- toolbar --&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout_top&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:background=&quot;#80000000&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/back&quot;\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:contentDescription=&quot;TODO&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/video_back&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;!-- 播放进度--&gt;\r\n    &lt;LinearLayout\r\n        android:background=&quot;#80000000&quot;\r\n        android:id=&quot;@+id/layout_bottom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:alpha=&quot;0.9&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:weightSum=&quot;5&quot;\r\n        android:visibility=&quot;visible&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_share&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:text=&quot;分享&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_share_24&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_favaite&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;收藏&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_favorite_24&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_copy&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:text=&quot;复制&quot;\r\n            android:drawableTop=&quot;@drawable/ic_copy_white&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_delete&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:text=&quot;删除&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_delete_24&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_more&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_more_vert_24&quot;\r\n            android:text=&quot;更多&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n```\r\nHere is my screenshot。\r\n\r\n[image1][1]\r\n[image2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rJUGu.jpg\r\n  [2]: https://i.stack.imgur.com/T2TJz.jpg","title":"statusbar has a white line?","body":"<p>Here is my layout， Why is there a white line between the status bar and the title? How do I remove this white line。\nI made an album, but found white lines in the nested layout. I didn't search for relevant content on Google, so I posted a post for you to look at. Here are my code and screenshots.</p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/image_display_color&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/surface_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;&gt;\n        &lt;com.github.chrisbanes.photoview.PhotoView\n            android:id=&quot;@+id/big_image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/FrameLayout&gt;\n\n\n    &lt;!-- toolbar --&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/layout_top&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:visibility=&quot;visible&quot;\n        android:background=&quot;#80000000&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/back&quot;\n            android:layout_width=&quot;48dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:contentDescription=&quot;TODO&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:src=&quot;@drawable/video_back&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- 播放进度--&gt;\n    &lt;LinearLayout\n        android:background=&quot;#80000000&quot;\n        android:id=&quot;@+id/layout_bottom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:alpha=&quot;0.9&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:gravity=&quot;center_vertical&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;5&quot;\n        android:visibility=&quot;visible&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn_share&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:text=&quot;分享&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_share_24&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn_favaite&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;收藏&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_favorite_24&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_copy&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;复制&quot;\n            android:drawableTop=&quot;@drawable/ic_copy_white&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_delete&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:text=&quot;删除&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_delete_24&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_more&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_more_vert_24&quot;\n            android:text=&quot;更多&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n\n</code></pre>\n<p>Here is my screenshot。</p>\n<p><a href=\"https://i.stack.imgur.com/rJUGu.jpg\" rel=\"nofollow noreferrer\">image1</a>\n<a href=\"https://i.stack.imgur.com/T2TJz.jpg\" rel=\"nofollow noreferrer\">image2</a></p>\n"},{"tags":["java","image","bufferedimage"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524445,"post_id":74034265,"comment_id":130720183,"body_markdown":"Removed my comments, suddenly the code isn&#39;t displaying all black for output, not sure why.","body":"Removed my comments, suddenly the code isn&#39;t displaying all black for output, not sure why."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524598,"post_id":74034265,"comment_id":130720220,"body_markdown":"The code works for me (I&#39;ll post my version if you like).  Be careful of the alpha channel, I&#39;d had bad images related to the alpha channel being some value other than 0xFF (0xFF means no transparency).","body":"The code works for me (I&#39;ll post my version if you like).  Be careful of the alpha channel, I&#39;d had bad images related to the alpha channel being some value other than 0xFF (0xFF means no transparency)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524866,"post_id":74034265,"comment_id":130720291,"body_markdown":"I copied both of those images into GIMP, I&#39;m not 100% certain, but I think the second image is a grey scale or RGB image with transparency.  Definitely look at that part of your algorithm.","body":"I copied both of those images into GIMP, I&#39;m not 100% certain, but I think the second image is a grey scale or RGB image with transparency.  Definitely look at that part of your algorithm."},{"owner":{"account_id":123052,"reputation":11215,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"score":0,"creation_date":1665676772,"post_id":74034265,"comment_id":130760333,"body_markdown":"@markspace if you have some working code or explanation different from AlexR, feel free to post! Think of the poor soul that will read in 10 years that you managed to get some working code but that solution is now list in time... :)","body":"@markspace if you have some working code or explanation different from AlexR, feel free to post! Think of the poor soul that will read in 10 years that you managed to get some working code but that solution is now list in time... :)"}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665527916,"creation_date":1665527916,"answer_id":74034758,"question_id":74034265,"body_markdown":"When the `ImageIO.read` function creates a `BufferedImage` it uses the type that it thinks is best suited. This type might not be what you expect. In particular, for a JPG image the type might not be `TYPE_INT_ARGB`.\r\n\r\nThis is the case for your second image and becomes evident when you print the type of that image:\r\n\r\n```java\r\nSystem.out.println(bi_in.getType());\r\n```\r\n\r\nFor that image, this prints `10` on my machine, which represents [TYPE_BYTE_GRAY](https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.awt.image.BufferedImage.TYPE_BYTE_GRAY).\r\n\r\nSo, to fix your problem you should use:\r\n\r\n```java\r\nBufferedImage bi_out = new BufferedImage(width, height, bi_in.getType()); \r\n```\r\n\r\n","title":"BufferedImage -&gt; int[] -&gt; BufferedImage result in greyed black","body":"<p>When the <code>ImageIO.read</code> function creates a <code>BufferedImage</code> it uses the type that it thinks is best suited. This type might not be what you expect. In particular, for a JPG image the type might not be <code>TYPE_INT_ARGB</code>.</p>\n<p>This is the case for your second image and becomes evident when you print the type of that image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(bi_in.getType());\n</code></pre>\n<p>For that image, this prints <code>10</code> on my machine, which represents <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.awt.image.BufferedImage.TYPE_BYTE_GRAY\" rel=\"nofollow noreferrer\">TYPE_BYTE_GRAY</a>.</p>\n<p>So, to fix your problem you should use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage bi_out = new BufferedImage(width, height, bi_in.getType()); \n</code></pre>\n"}],"owner":{"account_id":123052,"reputation":11215,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74034758,"answer_count":1,"score":2,"last_activity_date":1665527916,"creation_date":1665523364,"question_id":74034265,"body_markdown":"I am doing some basic experimentation on picture filtering using convolution matrix, based on the [Wikipedia page about kernels in image processing](https://en.wikipedia.org/wiki/Kernel_(image_processing)). \r\n\r\nIn order to compute the RGB transformations, I am reading the bitmap via a `BufferedImage` then get the pixels with `getRgb()`. While testing the simplest identity filter I noticed that for a specific picture I was getting some grey instead of the original black, while for some other picture, the black was OK.\r\n\r\nAfter more testing, I found that without any transform, a simple `BufferedImage -&gt; int[] -&gt; BufferedImage` results in the greyed result.\r\n\r\nWhat am I missing ? ImageMagick `identify` shows that both are 8-bit 256 colors pictures without alpha channels.\r\n\r\n    betty1.png PNG 339x600 339x600+0+0 8-bit Gray 256c 24526B 0.000u 0:00.000\r\n    betty2.jpg JPEG 603x797 603x797+0+0 8-bit Gray 256c 126773B 0.000u 0:00.001\r\n\r\n\r\nWith [this picture][1] the result is as expected.\r\n![result ok][2]\r\n\r\nWith [this one][3], the result is unexpectedly greyed.\r\n![result nok][4]\r\n\r\nHere is a simple sscce test class to show the problem:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    /* simple test class for convolution matrix */\r\n    public class CopyPic {\r\n    \r\n        public static void main(String args[]) throws FileNotFoundException, IOException {\r\n            if (args.length &lt; 1) {\r\n                System.err.println(&quot;Usage: CopyPic &lt;picture_file&gt;&quot;);\r\n                System.exit(1);\r\n            }\r\n            String        imgPath   = args[0];\r\n            String        inputName = imgPath.substring(0, imgPath.lastIndexOf(&quot;.&quot;));\r\n            File          ifile     = new File(imgPath);\r\n            InputStream   fis_in    = new FileInputStream(ifile);\r\n            BufferedImage bi_in     = ImageIO.read(fis_in);\r\n            fis_in.close();\r\n    \r\n            int width  = bi_in.getWidth();\r\n            int height = bi_in.getHeight();\r\n            System.out.println(String.format(&quot;%s = %d x %d&quot;, imgPath, width, height));\r\n            int[] rgb_in = new int[width * height];\r\n            bi_in.getRGB(0, 0, width, height, rgb_in, 0, width);\r\n    \r\n            BufferedImage bi_out = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            // for (int y = 0; y &lt; height; y++) {\r\n                // for (int x = 0; x &lt; width; x++) {\r\n                    // bi_out.setRGB(x, y, rgb_out[y * width + x]);\r\n                // }\r\n            // }\r\n            bi_out.setRGB(0, 0, width, height, rgb_in, 0, width);\r\n            \r\n            display(bi_in, bi_out);\r\n            \r\n            String outputName = inputName + &quot;-copy.png&quot;;\r\n            File         ofile   = new File(outputName);\r\n            OutputStream fos_out = new FileOutputStream(ofile);\r\n            ImageIO.write(bi_out, &quot;PNG&quot;, fos_out);\r\n            fos_out.flush();\r\n            fos_out.close();\r\n            System.out.println(&quot;Wrote &quot; + outputName);\r\n        }\r\n        // use that to have internal viewer\r\n        private static JFrame frame;\r\n        private static JLabel label1, label2;\r\n        private static void display(BufferedImage img1, BufferedImage img2) {\r\n            if (frame == null) {\r\n                frame = new JFrame();\r\n                frame.setTitle(String.format(&quot;%dx%d Original / Copy&quot;, img1.getWidth(), img1.getHeight()));\r\n                frame.setSize(img1.getWidth() + img2.getWidth(), img1.getHeight());\r\n                frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n                label1 = new JLabel();\r\n                label1.setIcon(new ImageIcon(img1));\r\n                frame.getContentPane().add(label1, BorderLayout.WEST);\r\n                label2 = new JLabel();\r\n                label2.setIcon(new ImageIcon(img2));\r\n                frame.getContentPane().add(label2, BorderLayout.EAST);\r\n                frame.setLocationRelativeTo(null);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            } else {\r\n                label1.setIcon(new ImageIcon(img1));\r\n                label2.setIcon(new ImageIcon(img2));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UI7Ui.png\r\n  [2]: https://i.stack.imgur.com/GP1Xw.png\r\n  [3]: https://i.stack.imgur.com/OYJQp.jpg\r\n  [4]: https://i.stack.imgur.com/4fzsh.png","title":"BufferedImage -&gt; int[] -&gt; BufferedImage result in greyed black","body":"<p>I am doing some basic experimentation on picture filtering using convolution matrix, based on the <a href=\"https://en.wikipedia.org/wiki/Kernel_(image_processing)\" rel=\"nofollow noreferrer\">Wikipedia page about kernels in image processing</a>.</p>\n<p>In order to compute the RGB transformations, I am reading the bitmap via a <code>BufferedImage</code> then get the pixels with <code>getRgb()</code>. While testing the simplest identity filter I noticed that for a specific picture I was getting some grey instead of the original black, while for some other picture, the black was OK.</p>\n<p>After more testing, I found that without any transform, a simple <code>BufferedImage -&gt; int[] -&gt; BufferedImage</code> results in the greyed result.</p>\n<p>What am I missing ? ImageMagick <code>identify</code> shows that both are 8-bit 256 colors pictures without alpha channels.</p>\n<pre><code>betty1.png PNG 339x600 339x600+0+0 8-bit Gray 256c 24526B 0.000u 0:00.000\nbetty2.jpg JPEG 603x797 603x797+0+0 8-bit Gray 256c 126773B 0.000u 0:00.001\n</code></pre>\n<p>With <a href=\"https://i.stack.imgur.com/UI7Ui.png\" rel=\"nofollow noreferrer\">this picture</a> the result is as expected.\n<img src=\"https://i.stack.imgur.com/GP1Xw.png\" alt=\"result ok\" /></p>\n<p>With <a href=\"https://i.stack.imgur.com/OYJQp.jpg\" rel=\"nofollow noreferrer\">this one</a>, the result is unexpectedly greyed.\n<img src=\"https://i.stack.imgur.com/4fzsh.png\" alt=\"result nok\" /></p>\n<p>Here is a simple sscce test class to show the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.WindowConstants;\n\n/* simple test class for convolution matrix */\npublic class CopyPic {\n\n    public static void main(String args[]) throws FileNotFoundException, IOException {\n        if (args.length &lt; 1) {\n            System.err.println(&quot;Usage: CopyPic &lt;picture_file&gt;&quot;);\n            System.exit(1);\n        }\n        String        imgPath   = args[0];\n        String        inputName = imgPath.substring(0, imgPath.lastIndexOf(&quot;.&quot;));\n        File          ifile     = new File(imgPath);\n        InputStream   fis_in    = new FileInputStream(ifile);\n        BufferedImage bi_in     = ImageIO.read(fis_in);\n        fis_in.close();\n\n        int width  = bi_in.getWidth();\n        int height = bi_in.getHeight();\n        System.out.println(String.format(&quot;%s = %d x %d&quot;, imgPath, width, height));\n        int[] rgb_in = new int[width * height];\n        bi_in.getRGB(0, 0, width, height, rgb_in, 0, width);\n\n        BufferedImage bi_out = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        // for (int y = 0; y &lt; height; y++) {\n            // for (int x = 0; x &lt; width; x++) {\n                // bi_out.setRGB(x, y, rgb_out[y * width + x]);\n            // }\n        // }\n        bi_out.setRGB(0, 0, width, height, rgb_in, 0, width);\n        \n        display(bi_in, bi_out);\n        \n        String outputName = inputName + &quot;-copy.png&quot;;\n        File         ofile   = new File(outputName);\n        OutputStream fos_out = new FileOutputStream(ofile);\n        ImageIO.write(bi_out, &quot;PNG&quot;, fos_out);\n        fos_out.flush();\n        fos_out.close();\n        System.out.println(&quot;Wrote &quot; + outputName);\n    }\n    // use that to have internal viewer\n    private static JFrame frame;\n    private static JLabel label1, label2;\n    private static void display(BufferedImage img1, BufferedImage img2) {\n        if (frame == null) {\n            frame = new JFrame();\n            frame.setTitle(String.format(&quot;%dx%d Original / Copy&quot;, img1.getWidth(), img1.getHeight()));\n            frame.setSize(img1.getWidth() + img2.getWidth(), img1.getHeight());\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            label1 = new JLabel();\n            label1.setIcon(new ImageIcon(img1));\n            frame.getContentPane().add(label1, BorderLayout.WEST);\n            label2 = new JLabel();\n            label2.setIcon(new ImageIcon(img2));\n            frame.getContentPane().add(label2, BorderLayout.EAST);\n            frame.setLocationRelativeTo(null);\n            frame.pack();\n            frame.setVisible(true);\n        } else {\n            label1.setIcon(new ImageIcon(img1));\n            label2.setIcon(new ImageIcon(img2));\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","slf4j","lombok"],"owner":{"account_id":9450053,"reputation":418,"user_id":7027284,"display_name":"guru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1665527632,"creation_date":1665527632,"question_id":74034731,"body_markdown":"Does anyone have a Lombok CustomLog example with a custom logger implemented in Java? All examples I see online use simple Java Util logging which I don&#39;t want to use. I would like to write a custom logger with lombok, CustomLog, slf4j. \r\n\r\nAny pointers?","title":"Lombok CustomLog Example En-to-end","body":"<p>Does anyone have a Lombok CustomLog example with a custom logger implemented in Java? All examples I see online use simple Java Util logging which I don't want to use. I would like to write a custom logger with lombok, CustomLog, slf4j.</p>\n<p>Any pointers?</p>\n"},{"tags":["java","spring","spring-webclient"],"comments":[{"owner":{"account_id":14342948,"reputation":186,"user_id":10360613,"display_name":"Rostyslav Barmakov"},"score":0,"creation_date":1634226032,"post_id":69572904,"comment_id":122973851,"body_markdown":"Using `retrieve()` you are not able to access any response information except a body. Therefore there is no way to handle &quot;bad&quot; scenarios in a short simple manner.\nIs it really forbidden to use `exchange()`?","body":"Using <code>retrieve()</code> you are not able to access any response information except a body. Therefore there is no way to handle &quot;bad&quot; scenarios in a short simple manner. Is it really forbidden to use <code>exchange()</code>?"},{"owner":{"account_id":14342948,"reputation":186,"user_id":10360613,"display_name":"Rostyslav Barmakov"},"score":1,"creation_date":1634226212,"post_id":69572904,"comment_id":122973926,"body_markdown":"https://stackoverflow.com/a/67471061 - does it help?","body":"<a href=\"https://stackoverflow.com/a/67471061\">stackoverflow.com/a/67471061</a> - does it help?"},{"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"score":0,"creation_date":1634290414,"post_id":69572904,"comment_id":122990095,"body_markdown":"Because exchange is now deprecated in Spring.","body":"Because exchange is now deprecated in Spring."},{"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"score":0,"creation_date":1634290463,"post_id":69572904,"comment_id":122990110,"body_markdown":"I found a solution with this code :  \n .onErrorResume(WebClientResponseException.class, ex -&gt; {\n\t\t\t\t\tex.getResponseBodyAsString();\n\t\t\t\t\treturn Mono.empty();\n\t\t\t\t})","body":"I found a solution with this code :    .onErrorResume(WebClientResponseException.class, ex -&gt; { \t\t\t\t\tex.getResponseBodyAsString(); \t\t\t\t\treturn Mono.empty(); \t\t\t\t})"}],"answers":[{"tags":[],"owner":{"account_id":23033780,"reputation":1,"user_id":17152853,"display_name":"Tamara Stankovska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634236994,"creation_date":1634236638,"answer_id":69575758,"question_id":69572904,"body_markdown":"You can specify the set of acceptable media types, as specified by the Accept header. For example,\r\n\r\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .toEntity(DTODemo.class)\r\n                    .block();","title":"WebClient - UnsupportedMediaTypeException","body":"<p>You can specify the set of acceptable media types, as specified by the Accept header. For example,</p>\n<pre><code>ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .toEntity(DTODemo.class)\n                .block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8875336,"reputation":44,"user_id":6627676,"display_name":"Mohamed Eldefrawy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665527145,"creation_date":1665527145,"answer_id":74034687,"question_id":69572904,"body_markdown":"I suggest to create a custom Exception class DtoNotFoundException for instance and surround your code with try/catch block and catch the UnsupportedMediaTypeException the  throw your custom exception so you can catch it in any other piece of code and do whatever you want\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n@ResponseStatus(code = HttpStatus.NOT_FOUND, reason = &quot;Dto not found&quot;)\r\npublic class DtoNotFoundException extends RuntimeException {\r\n\r\n    public DtoNotFoundException() {\r\n    }\r\n\r\n    public DtoNotFoundException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\nthen your code can be like that : \r\n```\r\ntry{\r\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n                    .retrieve()\r\n                    .toEntity(DTODemo.class)\r\n                    .block();\r\n}catch(UnsupportedMediaTypeException e){\r\n    throw new DtoNotFoundException(&quot;Dto not found&quot;);\r\n}\r\n```\r\nso if you have a scenario using your code you can catch your custom exception and take an action like returning 404 response code with the exception message\r\n```\r\n     @GetMapping(&quot;/dto&quot;)\r\n    ResponseEntity&lt;?&gt; getDto() {\r\n        try {\r\n            var dtoUseExample = this.yourService.yourClientFunction() // request done;\r\n        } catch (DtoNotFoundException e) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n","title":"WebClient - UnsupportedMediaTypeException","body":"<p>I suggest to create a custom Exception class DtoNotFoundException for instance and surround your code with try/catch block and catch the UnsupportedMediaTypeException the  throw your custom exception so you can catch it in any other piece of code and do whatever you want</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(code = HttpStatus.NOT_FOUND, reason = &quot;Dto not found&quot;)\npublic class DtoNotFoundException extends RuntimeException {\n\n    public DtoNotFoundException() {\n    }\n\n    public DtoNotFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>then your code can be like that :</p>\n<pre><code>try{\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                    .retrieve()\n                    .toEntity(DTODemo.class)\n                    .block();\n}catch(UnsupportedMediaTypeException e){\n    throw new DtoNotFoundException(&quot;Dto not found&quot;);\n}\n</code></pre>\n<p>so if you have a scenario using your code you can catch your custom exception and take an action like returning 404 response code with the exception message</p>\n<pre><code>     @GetMapping(&quot;/dto&quot;)\n    ResponseEntity&lt;?&gt; getDto() {\n        try {\n            var dtoUseExample = this.yourService.yourClientFunction() // request done;\n        } catch (DtoNotFoundException e) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4729,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1665527145,"creation_date":1634223330,"question_id":69572904,"body_markdown":"I have this code :\r\n```\r\nResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n\t\t\t\t.uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.toEntity(DTODemo.class)\r\n\t\t\t\t.block();\r\n```\r\n\r\nIt work, when my api return an object `DTODemo`.\r\nBut, the API can return with code HTTP 404 a message in the body ( type **String**).\r\nI have this exception : \r\n```\r\norg.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;text/plain;charset=UTF-8&#39; not supported for bodyType=com.example.demo.DTODemo \r\n```\r\n\r\nI try many of things but i haven&#39;t found a good solution.\r\n\r\nAny idea to solve my problem using **retrieve** and not **exchange** ?\r\n\r\nThanks a lot.","title":"WebClient - UnsupportedMediaTypeException","body":"<p>I have this code :</p>\n<pre><code>ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                .retrieve()\n                .toEntity(DTODemo.class)\n                .block();\n</code></pre>\n<p>It work, when my api return an object <code>DTODemo</code>.\nBut, the API can return with code HTTP 404 a message in the body ( type <strong>String</strong>).\nI have this exception :</p>\n<pre><code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'text/plain;charset=UTF-8' not supported for bodyType=com.example.demo.DTODemo \n</code></pre>\n<p>I try many of things but i haven't found a good solution.</p>\n<p>Any idea to solve my problem using <strong>retrieve</strong> and not <strong>exchange</strong> ?</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","string","if-statement","null","conditional-statements"],"comments":[{"owner":{"account_id":23781360,"reputation":126,"user_id":17793995,"display_name":"Duncan Lutz"},"score":4,"creation_date":1665429670,"post_id":74019743,"comment_id":130693959,"body_markdown":"Hey it seems that this is supposed to be tagged in Java but you&#39;ve tagged it in Javascript","body":"Hey it seems that this is supposed to be tagged in Java but you&#39;ve tagged it in Javascript"},{"owner":{"account_id":1749597,"reputation":1030,"user_id":1599011,"display_name":"mykaf"},"score":0,"creation_date":1665429803,"post_id":74019743,"comment_id":130694000,"body_markdown":"I&#39;m terribly rusty in Java, but wouldn&#39;t it be similar to how you assigned `price`? in the if-statement, `answer =&quot;Buying new shirt&quot;;`","body":"I&#39;m terribly rusty in Java, but wouldn&#39;t it be similar to how you assigned <code>price</code>? in the if-statement, <code>answer =&quot;Buying new shirt&quot;;</code>"},{"owner":{"account_id":5114238,"reputation":1148,"user_id":4099925,"accept_rate":92,"display_name":"Stereo"},"score":0,"creation_date":1665739434,"post_id":74019743,"comment_id":130773401,"body_markdown":"for homework related questions, I&#39;d recommend following this question when posting questions: https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"for homework related questions, I&#39;d recommend following this question when posting questions: <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10978169,"reputation":33,"user_id":8066227,"display_name":"Abdur Rehman Khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665431413,"creation_date":1665431413,"answer_id":74020055,"question_id":74019743,"body_markdown":"It is clear from the code snippet that the return type is &quot;String&quot; so what you can do is the following if you want to return &quot;Buying new shirt&quot;.\r\n\r\n    public String simpleConditional(int price) {\r\n       String answer = null;\r\n       price = 20;\r\n       if(price &lt; 20) {\r\n         System.out.println(&quot;Buy new shirt&quot;);\r\n         answer = &quot;buy new shirt&quot;;\r\n         return answer;       \r\n       } else {\r\n         return &quot;Something else&quot;; \r\n       }\r\n    }","title":"How to assign the variable to a value in a conditional if statement","body":"<p>It is clear from the code snippet that the return type is &quot;String&quot; so what you can do is the following if you want to return &quot;Buying new shirt&quot;.</p>\n<pre><code>public String simpleConditional(int price) {\n   String answer = null;\n   price = 20;\n   if(price &lt; 20) {\n     System.out.println(&quot;Buy new shirt&quot;);\n     answer = &quot;buy new shirt&quot;;\n     return answer;       \n   } else {\n     return &quot;Something else&quot;; \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665524115,"creation_date":1665447790,"answer_id":74021801,"question_id":74019743,"body_markdown":"It could be something like this:\r\n\r\n    /**\r\n     * Assumes the monetary value supplied is a floating point value.\r\n     * \r\n     * @param price (double) Will return null if 0 or less is supplied.\r\n     * \r\n     * @return (String)\r\n     */\r\n    public static String simpleConditional(double price) {\r\n        String answer = null;\r\n        if (price &gt; 0d &amp;&amp; price &lt; 20d) {\r\n            System.out.println(&quot;Buy new shirt&quot;);\r\n            answer = &quot;buy new shirt&quot;;\r\n\r\n        }\r\n        else if (price &gt;= 20d &amp;&amp; price &lt; 80d) {\r\n            answer = &quot;Hmmm...buying a decent shirt!&quot;;\r\n        }\r\n        else if (price &gt;= 80d) {\r\n            answer = &quot;Wow...Big Spender, buying a really good shirt!&quot;;\r\n        }\r\n        return answer;\r\n    }\r\n\r\nTo use the method named `simpleConditional()` method within the class `main()` method you might do something like:\r\n\r\n    public static void main(String args[]) {\r\n        String anAnswer = simpleConditional(56.98);\r\n        System.out.println(anAnswer);\r\n    \r\n        // The following will work to:\r\n        System.out.println(simpleConditional(104));\r\n    }","title":"How to assign the variable to a value in a conditional if statement","body":"<p>It could be something like this:</p>\n<pre><code>/**\n * Assumes the monetary value supplied is a floating point value.\n * \n * @param price (double) Will return null if 0 or less is supplied.\n * \n * @return (String)\n */\npublic static String simpleConditional(double price) {\n    String answer = null;\n    if (price &gt; 0d &amp;&amp; price &lt; 20d) {\n        System.out.println(&quot;Buy new shirt&quot;);\n        answer = &quot;buy new shirt&quot;;\n\n    }\n    else if (price &gt;= 20d &amp;&amp; price &lt; 80d) {\n        answer = &quot;Hmmm...buying a decent shirt!&quot;;\n    }\n    else if (price &gt;= 80d) {\n        answer = &quot;Wow...Big Spender, buying a really good shirt!&quot;;\n    }\n    return answer;\n}\n</code></pre>\n<p>To use the method named <code>simpleConditional()</code> method within the class <code>main()</code> method you might do something like:</p>\n<pre><code>public static void main(String args[]) {\n    String anAnswer = simpleConditional(56.98);\n    System.out.println(anAnswer);\n\n    // The following will work to:\n    System.out.println(simpleConditional(104));\n}\n</code></pre>\n"}],"owner":{"account_id":26541866,"reputation":1,"user_id":20172482,"display_name":"Terell Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1665526604,"creation_date":1665429327,"question_id":74019743,"body_markdown":"    public String simpleConditional(int price)  {\r\n            String answer = null ;\r\n    price = 20;\r\n              if (price &lt; 20)\r\n                  System.out.println(&quot;Buying new shirt&quot;);\r\n    answer = &quot;Buying new shirt&quot;\r\n        \r\n    ConditionalStatementsTest &gt; simpleConditionalTest(int, String) &gt; com.ata.ConditionalStatements\r\n    Test.simpleConditionalTest(int, String)[3] FAILED                                             \r\n        org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;         \r\n            at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                  \r\n            at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)          \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)             \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)             \r\n            at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)                \r\n            at com.ata.ConditionalStatementsTest.simpleConditionalTest(ConditionalStatementsTest.j\r\n\r\nI am trying to equal the &quot;answer&quot; variable to the &quot;Buying new shirt&quot; value. And that is the Assertion error code I Receive with the code  stated above. \r\nHow would I solve resolve this error, it looks correct to me.( this is for a homework checker program)","title":"How to assign the variable to a value in a conditional if statement","body":"<pre><code>public String simpleConditional(int price)  {\n        String answer = null ;\nprice = 20;\n          if (price &lt; 20)\n              System.out.println(&quot;Buying new shirt&quot;);\nanswer = &quot;Buying new shirt&quot;\n    \nConditionalStatementsTest &gt; simpleConditionalTest(int, String) &gt; com.ata.ConditionalStatements\nTest.simpleConditionalTest(int, String)[3] FAILED                                             \n    org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;         \n        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                  \n        at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)          \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)             \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)             \n        at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)                \n        at com.ata.ConditionalStatementsTest.simpleConditionalTest(ConditionalStatementsTest.j\n</code></pre>\n<p>I am trying to equal the &quot;answer&quot; variable to the &quot;Buying new shirt&quot; value. And that is the Assertion error code I Receive with the code  stated above.\nHow would I solve resolve this error, it looks correct to me.( this is for a homework checker program)</p>\n"},{"tags":["java","https","java-7","handshake","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"account_id":3350195,"reputation":972,"user_id":2814402,"display_name":"Omoro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557391215,"creation_date":1557391215,"answer_id":56055455,"question_id":56054612,"body_markdown":"Java 8 supports `TLSv1.2` by default and is likely the server of the url you are calling is using `TLSv1.2`. While Java 7 supports `TLSv1.2`, `TLSv1.0` is default for this version of Java. To use `TLSv1.2` in Java 7, you indeed have to set the vm property `-Djdk.tls.client.protocols=TLSv1.2`. However the system property `jdk.tls.client.protocols` was introduced from Java 1.7.0_95. So your options are either using Java 8 or upgrading to a version of Java 7 that supports `jdk.tls.client.protocols`.\r\n","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>Java 8 supports <code>TLSv1.2</code> by default and is likely the server of the url you are calling is using <code>TLSv1.2</code>. While Java 7 supports <code>TLSv1.2</code>, <code>TLSv1.0</code> is default for this version of Java. To use <code>TLSv1.2</code> in Java 7, you indeed have to set the vm property <code>-Djdk.tls.client.protocols=TLSv1.2</code>. However the system property <code>jdk.tls.client.protocols</code> was introduced from Java 1.7.0_95. So your options are either using Java 8 or upgrading to a version of Java 7 that supports <code>jdk.tls.client.protocols</code>.</p>\n"},{"tags":[],"owner":{"account_id":15707121,"reputation":61,"user_id":11333562,"display_name":"Claudio Resende"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557496265,"creation_date":1557496265,"answer_id":56079051,"question_id":56054612,"body_markdown":"I solved this issue but using this snippet code \r\n\r\n    if (hostType.getProtocol().equals(Protocol.HTTPS)) {\r\n\r\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(SSLContexts.createDefault(),\r\n                new String[] { SSL_VERSION }, null, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n        client = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n    }\r\n\r\n ","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>I solved this issue but using this snippet code </p>\n\n<pre><code>if (hostType.getProtocol().equals(Protocol.HTTPS)) {\n\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(SSLContexts.createDefault(),\n            new String[] { SSL_VERSION }, null, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n    client = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20984757,"reputation":1,"user_id":15418825,"display_name":"Fabr&#237;cio Souto Cardoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665526118,"creation_date":1665519894,"answer_id":74033728,"question_id":56054612,"body_markdown":"In Claudio&#39;s solution, change SSL_VERSION for &quot;TLSv1.2&quot;.\r\n\r\nOther possible values are:\r\n\r\n```\r\nenum ProtocolVersion {\r\n    TLS13           (0x0304,    &quot;TLSv1.3&quot;,      false),\r\n    TLS12           (0x0303,    &quot;TLSv1.2&quot;,      false),\r\n    TLS11           (0x0302,    &quot;TLSv1.1&quot;,      false),\r\n    TLS10           (0x0301,    &quot;TLSv1&quot;,        false),\r\n    SSL30           (0x0300,    &quot;SSLv3&quot;,        false),\r\n    SSL20Hello      (0x0002,    &quot;SSLv2Hello&quot;,   false),\r\n\r\n    DTLS12          (0xFEFD,    &quot;DTLSv1.2&quot;,     true),\r\n    DTLS10          (0xFEFF,    &quot;DTLSv1.0&quot;,     true),\r\n\r\n    // Dummy protocol version value for invalid SSLSession\r\n    NONE            (-1,        &quot;NONE&quot;,         false);\r\n\r\n```","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>In Claudio's solution, change SSL_VERSION for &quot;TLSv1.2&quot;.</p>\n<p>Other possible values are:</p>\n<pre><code>enum ProtocolVersion {\n    TLS13           (0x0304,    &quot;TLSv1.3&quot;,      false),\n    TLS12           (0x0303,    &quot;TLSv1.2&quot;,      false),\n    TLS11           (0x0302,    &quot;TLSv1.1&quot;,      false),\n    TLS10           (0x0301,    &quot;TLSv1&quot;,        false),\n    SSL30           (0x0300,    &quot;SSLv3&quot;,        false),\n    SSL20Hello      (0x0002,    &quot;SSLv2Hello&quot;,   false),\n\n    DTLS12          (0xFEFD,    &quot;DTLSv1.2&quot;,     true),\n    DTLS10          (0xFEFF,    &quot;DTLSv1.0&quot;,     true),\n\n    // Dummy protocol version value for invalid SSLSession\n    NONE            (-1,        &quot;NONE&quot;,         false);\n\n</code></pre>\n"}],"owner":{"account_id":15707121,"reputation":61,"user_id":11333562,"display_name":"Claudio Resende"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56079051,"answer_count":3,"score":1,"last_activity_date":1665526118,"creation_date":1557388175,"question_id":56054612,"body_markdown":"I have an https web page that I need to access and get some file, I am using Java 1.7_45 and apache httpclient 4.5.1 when I execute the client request I get the error(If I change to Java 8 it works, but I cannot change it to Java 8):\r\n\r\nI tried everything that I found on the internet\r\nas add those VM arguments \r\n\r\n    -Dhttps.protocols=SSLv2Hello,SSLv2,SSLv3,TLSv1.1,TLSv1.2\r\n    -Djdk.tls.client.protocols=TLSv1.1,TLSv1.2\r\n    -Ddeployment.security.SSLv2Hello=false \r\n    -Ddeployment.security.SSLv3=false \r\n    -Ddeployment.security.TLSv1=false \r\n    -Ddeployment.security.TLSv1.1=true \r\n    -Ddeployment.security.TLSv1.2=true\r\n\r\nchange the jars on the folder jre/lib/security\r\n\r\nthe funny thing is on the bug shows that the java is using TLSv1 but the server does not accept that, I believe that is why of the error but I tried everything to change it.\r\n```\r\n\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n            javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n            at\r\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n            at\r\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n            at\r\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n    \r\n```\r\n\r\nMy block code that is getting the error basically is :\r\n\r\n```\r\n\r\nHttpGet httpGetRequest = new HttpGet(uri);\r\nCloseableHttpClient client = HttpClients.createDefault();\r\nCloseableHttpResponse httpResponse = null;\r\nhttpResponse = client.execute(httpGetRequest);\r\n\r\n```\r\n\r\nthe result of debug mode is \r\n```\r\n\r\n    keyStore is : \r\n        keyStore type is : jks\r\n        keyStore provider is : \r\n        init keystore\r\n        init keymanager of type SunX509\r\n        trustStore is: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts\r\n        trustStore type is : jks\r\n        trustStore provider is : \r\n        init truststore\r\n        \r\n        trigger seeding of SecureRandom\r\n        done seeding SecureRandom\r\n        \r\n        Received fatal alert: handshake_failure\r\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\n        main, setSoTimeout(0) called\r\n        Allow unsafe renegotiation: false\r\n        Allow legacy hello messages: true\r\n        Is initial handshake: true\r\n        Is secure renegotiation: false\r\n        %% No cached client session\r\n        *** ClientHello, TLSv1\r\n        RandomCookie:  GMT: 1540543037 bytes = { 231, 49, 252, 97, 250, 248, 100, 42, 169, 55, 229, 211, 3, 60, 228, 9, 116, 240, 119, 7, 189, 29, 9, 164, 233, 49, 92, 71 }\r\n        Session ID:  {}\r\n        Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n        Compression Methods:  { 0 }\r\n        Extension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\n        Extension ec_point_formats, formats: [uncompressed]\r\n        Extension server_name, server_name: [host_name: services.swpc.noaa.gov]\r\n        ***\r\n        main, WRITE: TLSv1 Handshake, length = 194\r\n        main, READ: TLSv1 Alert, length = 2\r\n        main, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n        main, called closeSocket()\r\n        main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n        main, called close()enter code here\r\n        main, called closeInternal(true)\r\n\r\n```","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>I have an https web page that I need to access and get some file, I am using Java 1.7_45 and apache httpclient 4.5.1 when I execute the client request I get the error(If I change to Java 8 it works, but I cannot change it to Java 8):</p>\n\n<p>I tried everything that I found on the internet\nas add those VM arguments </p>\n\n<pre><code>-Dhttps.protocols=SSLv2Hello,SSLv2,SSLv3,TLSv1.1,TLSv1.2\n-Djdk.tls.client.protocols=TLSv1.1,TLSv1.2\n-Ddeployment.security.SSLv2Hello=false \n-Ddeployment.security.SSLv3=false \n-Ddeployment.security.TLSv1=false \n-Ddeployment.security.TLSv1.1=true \n-Ddeployment.security.TLSv1.2=true\n</code></pre>\n\n<p>change the jars on the folder jre/lib/security</p>\n\n<p>the funny thing is on the bug shows that the java is using TLSv1 but the server does not accept that, I believe that is why of the error but I tried everything to change it.</p>\n\n<pre><code>\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n            javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n            at\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n            at\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n            at\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n\n</code></pre>\n\n<p>My block code that is getting the error basically is :</p>\n\n<pre><code>\nHttpGet httpGetRequest = new HttpGet(uri);\nCloseableHttpClient client = HttpClients.createDefault();\nCloseableHttpResponse httpResponse = null;\nhttpResponse = client.execute(httpGetRequest);\n\n</code></pre>\n\n<p>the result of debug mode is </p>\n\n<pre><code>\n    keyStore is : \n        keyStore type is : jks\n        keyStore provider is : \n        init keystore\n        init keymanager of type SunX509\n        trustStore is: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts\n        trustStore type is : jks\n        trustStore provider is : \n        init truststore\n\n        trigger seeding of SecureRandom\n        done seeding SecureRandom\n\n        Received fatal alert: handshake_failure\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\n        main, setSoTimeout(0) called\n        Allow unsafe renegotiation: false\n        Allow legacy hello messages: true\n        Is initial handshake: true\n        Is secure renegotiation: false\n        %% No cached client session\n        *** ClientHello, TLSv1\n        RandomCookie:  GMT: 1540543037 bytes = { 231, 49, 252, 97, 250, 248, 100, 42, 169, 55, 229, 211, 3, 60, 228, 9, 116, 240, 119, 7, 189, 29, 9, 164, 233, 49, 92, 71 }\n        Session ID:  {}\n        Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n        Compression Methods:  { 0 }\n        Extension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\n        Extension ec_point_formats, formats: [uncompressed]\n        Extension server_name, server_name: [host_name: services.swpc.noaa.gov]\n        ***\n        main, WRITE: TLSv1 Handshake, length = 194\n        main, READ: TLSv1 Alert, length = 2\n        main, RECV TLSv1 ALERT:  fatal, handshake_failure\n        main, called closeSocket()\n        main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n        main, called close()enter code here\n        main, called closeInternal(true)\n\n</code></pre>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665522192,"creation_date":1665522192,"answer_id":74034097,"question_id":74033615,"body_markdown":"There is no class that fulfill all the criteria for `java.util.LinkedList`. You need to implement your own linked list for that.","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>There is no class that fulfill all the criteria for <code>java.util.LinkedList</code>. You need to implement your own linked list for that.</p>\n"},{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665526095,"creation_date":1665526095,"answer_id":74034576,"question_id":74033615,"body_markdown":"java.util.LinkedList and it&#39;s iterators have limitations. Assigning an iterator only creates another reference to the same iterator object, so not &quot;cloneable&quot; assuming that&#39;s what you mean by &quot;cloneable&quot;. If you create multiple iterators to a list, if any nodes are added or removed from a list, all iterators (except one used for add) will be invalidated. There&#39;s no equivalent of C++ std::list::splice(), which can move one or mode nodes within a list or from list to list.\r\n\r\n\r\n\r\n","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>java.util.LinkedList and it's iterators have limitations. Assigning an iterator only creates another reference to the same iterator object, so not &quot;cloneable&quot; assuming that's what you mean by &quot;cloneable&quot;. If you create multiple iterators to a list, if any nodes are added or removed from a list, all iterators (except one used for add) will be invalidated. There's no equivalent of C++ std::list::splice(), which can move one or mode nodes within a list or from list to list.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665526095,"creation_date":1665519100,"question_id":74033615,"body_markdown":"I need an object, that \r\n\r\n - points to element of linked list\r\n   \r\n - can be iterated to next\r\n   \r\n - can be cloned\r\n   \r\n - all operations should be O(1)\r\n\r\nI don&#39;t see proofs, that [ListIterator][1] complies these requirements. Particularly, I don&#39;t see it is `Cloneable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/ListIterator.html","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>I need an object, that</p>\n<ul>\n<li><p>points to element of linked list</p>\n</li>\n<li><p>can be iterated to next</p>\n</li>\n<li><p>can be cloned</p>\n</li>\n<li><p>all operations should be O(1)</p>\n</li>\n</ul>\n<p>I don't see proofs, that <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a> complies these requirements. Particularly, I don't see it is <code>Cloneable</code>.</p>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1595956192,"creation_date":1595956192,"answer_id":63139351,"question_id":63136226,"body_markdown":"Clearly the method doc says that it needs a `Consumer` of some Type. So you can **create an anonymous class implementing the `Consumer` interface** or **use lambda expression like this**:\r\n\r\n 1. Using anonymous inner class:\r\n\r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(new Consumer&lt;HttpHeaders&gt;() {\r\n          @Override\r\n          public void accept(HttpHeaders httpHeaders) {\r\n            httpHeaders.addAll(createHeaders(token));\r\n          }\r\n        })\r\n        .build();\r\n```\r\n\r\n 2. Using lambda:\r\n\r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(httpHeaders -&gt; {\r\n          httpHeaders.addAll(createHeaders(token));\r\n        })\r\n        .build();\r\n```\r\n\r\n ","title":"WebClient - adding defaultHeaders","body":"<p>Clearly the method doc says that it needs a <code>Consumer</code> of some Type. So you can <strong>create an anonymous class implementing the <code>Consumer</code> interface</strong> or <strong>use lambda expression like this</strong>:</p>\n<ol>\n<li>Using anonymous inner class:</li>\n</ol>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(new Consumer&lt;HttpHeaders&gt;() {\n          @Override\n          public void accept(HttpHeaders httpHeaders) {\n            httpHeaders.addAll(createHeaders(token));\n          }\n        })\n        .build();\n</code></pre>\n<ol start=\"2\">\n<li>Using lambda:</li>\n</ol>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(httpHeaders -&gt; {\n          httpHeaders.addAll(createHeaders(token));\n        })\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8147033,"reputation":314,"user_id":6135401,"display_name":"Muriithi Derrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249185,"creation_date":1635249185,"answer_id":69722619,"question_id":63136226,"body_markdown":"Use this.\r\n```\r\n    @Bean\r\n    public WebClient webClientConfiguration() {\r\n        return WebClient\r\n                .builder()\r\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\r\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\r\n                        .responseTimeout(Duration.ofMillis(responseTimeout))\r\n                ))\r\n                .baseUrl(this.msConfigProperties.getApiUrl())\r\n                .defaultHeaders(httpHeaders())\r\n                .build();\r\n    }\r\n```\r\nThen Consumer function\r\n```\r\n    private Consumer&lt;HttpHeaders&gt; httpHeaders(){\r\n        return headers -&gt; {\r\n            headers.set(HEADER_CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\r\n            headers.setBasicAuth(this.msConfigProperties.getUserName(),this.msConfigProperties.getPassword());\r\n            headers.set(HEADER_ACCEPT_ENCODING, String.valueOf(MediaType.APPLICATION_JSON));\r\n        };\r\n    }\r\n ```","title":"WebClient - adding defaultHeaders","body":"<p>Use this.</p>\n<pre><code>    @Bean\n    public WebClient webClientConfiguration() {\n        return WebClient\n                .builder()\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\n                        .responseTimeout(Duration.ofMillis(responseTimeout))\n                ))\n                .baseUrl(this.msConfigProperties.getApiUrl())\n                .defaultHeaders(httpHeaders())\n                .build();\n    }\n</code></pre>\n<p>Then Consumer function</p>\n<pre><code>    private Consumer&lt;HttpHeaders&gt; httpHeaders(){\n        return headers -&gt; {\n            headers.set(HEADER_CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\n            headers.setBasicAuth(this.msConfigProperties.getUserName(),this.msConfigProperties.getPassword());\n            headers.set(HEADER_ACCEPT_ENCODING, String.valueOf(MediaType.APPLICATION_JSON));\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665525865,"creation_date":1665525865,"answer_id":74034553,"question_id":63136226,"body_markdown":"\r\n```\r\nprivate void addDefaultHeaders(final HttpHeaders headers) {\r\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n    headers.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n  }\r\n```\r\n\r\nand then \r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(this::addDefaultHeaders)\r\n        .build();\r\n```","title":"WebClient - adding defaultHeaders","body":"<pre><code>private void addDefaultHeaders(final HttpHeaders headers) {\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n    headers.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n  }\n</code></pre>\n<p>and then</p>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(this::addDefaultHeaders)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":16414512,"reputation":89,"user_id":11857002,"display_name":"ore ore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14697,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63139351,"answer_count":3,"score":6,"last_activity_date":1665525865,"creation_date":1595945804,"question_id":63136226,"body_markdown":"I&#39;m trying to put multiple headers into defaultHeaders(), But I don&#39;t have idea how to create Consumer object from return of createHeaders() method\r\n\r\n    this.someWebClient = WebClient.builder()\r\n    \t\t.baseUrl(someConfiguration.getApiUrl())\r\n    \t\t.clientConnector(buildTimeoutConnector())\r\n    \t\t.defaultHeaders(????) // Consumer&lt;HttpHeaders&gt;\r\n    \t\t.build();\r\nI can build my header in that way:\r\n\r\n    private HttpHeaders createHeaders(String token) {\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \theaders.add(HttpHeaders.ACCEPT, V1_PUBLIC);\r\n    \theaders.add(HttpHeaders.HOST, &quot;abc&quot;);\r\n    \theaders.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token);\r\n    \treturn headers;\r\n    }\r\n\r\nbut how to wrap it into Consumer?","title":"WebClient - adding defaultHeaders","body":"<p>I'm trying to put multiple headers into defaultHeaders(), But I don't have idea how to create Consumer object from return of createHeaders() method</p>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(????) // Consumer&lt;HttpHeaders&gt;\n        .build();\n</code></pre>\n<p>I can build my header in that way:</p>\n<pre><code>private HttpHeaders createHeaders(String token) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(HttpHeaders.ACCEPT, V1_PUBLIC);\n    headers.add(HttpHeaders.HOST, &quot;abc&quot;);\n    headers.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token);\n    return headers;\n}\n</code></pre>\n<p>but how to wrap it into Consumer?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":12,"creation_date":1665524472,"post_id":74034389,"comment_id":130720191,"body_markdown":"An element of an `int[]` array can **not** be `null`. Only reference types can have a value of `null`. Maybe you&#39;re confusing `null` and zero `0` ?","body":"An element of an <code>int[]</code> array can <b>not</b> be <code>null</code>. Only reference types can have a value of <code>null</code>. Maybe you&#39;re confusing <code>null</code> and zero <code>0</code> ?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1665524580,"post_id":74034389,"comment_id":130720218,"body_markdown":"Also note that the syntax for your `else if` is incorrect.","body":"Also note that the syntax for your <code>else if</code> is incorrect."},{"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"score":0,"creation_date":1665524648,"post_id":74034389,"comment_id":130720233,"body_markdown":"@AlexanderIvanchenko, when i tried to check for 0 i got a NullPointException so if i didn&#39;t put anything in it what is?","body":"@AlexanderIvanchenko, when i tried to check for 0 i got a NullPointException so if i didn&#39;t put anything in it what is?"},{"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"score":0,"creation_date":1665524683,"post_id":74034389,"comment_id":130720244,"body_markdown":"@JonSkeet yeah i saw that, it&#39;s fixed now","body":"@JonSkeet yeah i saw that, it&#39;s fixed now"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":2,"creation_date":1665524694,"post_id":74034389,"comment_id":130720250,"body_markdown":"Have you tried using the int wrapper class Integer ?","body":"Have you tried using the int wrapper class Integer ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":5,"creation_date":1665524766,"post_id":74034389,"comment_id":130720270,"body_markdown":"*&quot;when i tried to check for 0 i got a NullPointException&quot;* - have a careful at the code that gives you NPE. In the message on the console, there would be a reference to the line that causes the exception. Post the updated code and exception stack-trace if the issue would be unclear.","body":"<i>&quot;when i tried to check for 0 i got a NullPointException&quot;</i> - have a careful at the code that gives you NPE. In the message on the console, there would be a reference to the line that causes the exception. Post the updated code and exception stack-trace if the issue would be unclear."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1665524932,"post_id":74034389,"comment_id":130720301,"body_markdown":"Please provide a [mre] that exactly demonstrates the problem you&#39;re having. Include the stack trace of the error thrown by your example.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that exactly demonstrates the problem you&#39;re having. Include the stack trace of the error thrown by your example."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665525603,"creation_date":1665525232,"answer_id":74034489,"question_id":74034389,"body_markdown":"`new int[size]` will create an array of that size of all `0`. It **cannot** contains nulls. \r\n\r\nIf you did want to store `null`, then do as the error says, create `new Integer[size]`, which will default to all `null` references in an array of that size. \r\n\r\n&gt; can&#39;t add integer values to it\r\n\r\nWhy not?\r\n\r\n    x[0] = new Integer(1);\r\n    x[0] = 1; // or, auto-boxed\r\n\r\n&gt; when i tried to check for 0 i got a NullPointException\r\n\r\nSounds unrelated, and perhaps you are using a wrong reference to an `x` array which was not initialized. \r\n\r\nDepending on your use-case `OptionalInt[]` may be better, although initializing an array of any non-primitive will always start as all `null`s, so then you&#39;d have to check `.isPresent()` **and** `== null`","title":"How to check an int array value for null?","body":"<p><code>new int[size]</code> will create an array of that size of all <code>0</code>. It <strong>cannot</strong> contains nulls.</p>\n<p>If you did want to store <code>null</code>, then do as the error says, create <code>new Integer[size]</code>, which will default to all <code>null</code> references in an array of that size.</p>\n<blockquote>\n<p>can't add integer values to it</p>\n</blockquote>\n<p>Why not?</p>\n<pre><code>x[0] = new Integer(1);\nx[0] = 1; // or, auto-boxed\n</code></pre>\n<blockquote>\n<p>when i tried to check for 0 i got a NullPointException</p>\n</blockquote>\n<p>Sounds unrelated, and perhaps you are using a wrong reference to an <code>x</code> array which was not initialized.</p>\n<p>Depending on your use-case <code>OptionalInt[]</code> may be better, although initializing an array of any non-primitive will always start as all <code>null</code>s, so then you'd have to check <code>.isPresent()</code> <strong>and</strong> <code>== null</code></p>\n"}],"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665552163,"answer_count":1,"score":-3,"last_activity_date":1665525603,"creation_date":1665524334,"question_id":74034389,"body_markdown":"So I basically have an integer array and I need to check if a value in it is null, the &quot;==&quot; doesn&#39;t work since:\r\n&quot;The operator == is undefined for the argument type(s) int, null&quot;\r\nswitching to an Object array doesn&#39;t work since I can&#39;t add integer values to it.\r\n\r\nso this is basically what I&#39;m trying to do:\r\n\r\n```\r\nint [] x = new int [5];\r\ny()\r\n\r\nvoid y() {\r\n  if (x[0] == null) {\r\n    println(&quot;value is null&quot;);\r\n  } else if (x[0] != null) {\r\n      println(&quot;value is not null&quot;);\r\n    }\r\n  }\r\n```\r\n  \r\nHow do I fix this?\r\n\r\n","title":"How to check an int array value for null?","body":"<p>So I basically have an integer array and I need to check if a value in it is null, the &quot;==&quot; doesn't work since:\n&quot;The operator == is undefined for the argument type(s) int, null&quot;\nswitching to an Object array doesn't work since I can't add integer values to it.</p>\n<p>so this is basically what I'm trying to do:</p>\n<pre><code>int [] x = new int [5];\ny()\n\nvoid y() {\n  if (x[0] == null) {\n    println(&quot;value is null&quot;);\n  } else if (x[0] != null) {\n      println(&quot;value is not null&quot;);\n    }\n  }\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","android","android-studio","android-studio-dolphin"],"comments":[{"owner":{"account_id":17445070,"reputation":317,"user_id":12646287,"display_name":"Dragan.T"},"score":0,"creation_date":1665526619,"post_id":74034484,"comment_id":130720585,"body_markdown":"Did you try to install some older version of Android Studio?","body":"Did you try to install some older version of Android Studio?"},{"owner":{"account_id":15965343,"reputation":11,"user_id":11521185,"display_name":"Sobhan Bera"},"score":0,"creation_date":1665604509,"post_id":74034484,"comment_id":130742562,"body_markdown":"Yeah! That too doesn&#39;t work. So I deleted JDKs and many safe files related to android studio. And then reinstalled it again. And it worked!!","body":"Yeah! That too doesn&#39;t work. So I deleted JDKs and many safe files related to android studio. And then reinstalled it again. And it worked!!"}],"owner":{"account_id":15965343,"reputation":11,"user_id":11521185,"display_name":"Sobhan Bera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665525176,"creation_date":1665525176,"question_id":74034484,"body_markdown":"I am trying to launch Android Studio. It completes this loading every time and gets stuck.\r\n\r\nI am using macOS Monterey 12.6\r\n\r\n[![android studio got stuck at loadig][1]][1]\r\n\r\n\r\nI have tried deleting android studio from everywhere like android files inside ~/Library folder, its SDK, .gradle, .android, etc. And have also re-installed 2-3 times from different sources (Jetbrains toolbox, dmg file from its official website).\r\n\r\nI have also tried restarting my PC. I have also checked the path of JDK and JDK_HOME.\r\n\r\nPlease help!\r\n\r\n[1]: https://i.stack.imgur.com/jc9Km.jpg","title":"Android Studio got stuck on initial loading","body":"<p>I am trying to launch Android Studio. It completes this loading every time and gets stuck.</p>\n<p>I am using macOS Monterey 12.6</p>\n<p><a href=\"https://i.stack.imgur.com/jc9Km.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jc9Km.jpg\" alt=\"android studio got stuck at loadig\" /></a></p>\n<p>I have tried deleting android studio from everywhere like android files inside ~/Library folder, its SDK, .gradle, .android, etc. And have also re-installed 2-3 times from different sources (Jetbrains toolbox, dmg file from its official website).</p>\n<p>I have also tried restarting my PC. I have also checked the path of JDK and JDK_HOME.</p>\n<p>Please help!</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1665519841,"post_id":74033710,"comment_id":130719020,"body_markdown":"Post a log of the build, what command you used for it, and the run output as an edit to the question, please?","body":"Post a log of the build, what command you used for it, and the run output as an edit to the question, please?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1665521432,"post_id":74033710,"comment_id":130719457,"body_markdown":"The error you&#39;ve added to the question tells us that the error is actually in the class `InsertAlias`. We can&#39;t tell you what&#39;s wrong with that class because you haven&#39;t included in your question. Please edit the question to include the source of this class as well.","body":"The error you&#39;ve added to the question tells us that the error is actually in the class <code>InsertAlias</code>. We can&#39;t tell you what&#39;s wrong with that class because you haven&#39;t included in your question. Please edit the question to include the source of this class as well."}],"answers":[{"tags":[],"owner":{"display_name":"user19428866"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665524733,"creation_date":1665523115,"answer_id":74034230,"question_id":74033710,"body_markdown":"Name of the class was different from the name I was using in NetBeans. I copied the code directly from [the page][1] without trying to replicate the error.\r\n\r\n\r\n  [1]: https://zetcode.com/java/postgresql/","title":"JavaPostgreSqlPrepared cannot find symbol","body":"<p>Name of the class was different from the name I was using in NetBeans. I copied the code directly from <a href=\"https://zetcode.com/java/postgresql/\" rel=\"nofollow noreferrer\">the page</a> without trying to replicate the error.</p>\n"}],"owner":{"display_name":"user19428866"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665669333,"answer_count":1,"score":-1,"last_activity_date":1665524733,"creation_date":1665519735,"question_id":74033710,"body_markdown":"I execute this code and get an error:\r\n\r\n    package com.zetcode;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class JavaPostgreSqlPrepared {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String url = &quot;jdbc:postgresql://localhost:5432/testdb&quot;;\r\n            String user = &quot;user12&quot;;\r\n            String password = &quot;34klq*&quot;;\r\n    \r\n            int id = 6;\r\n            String author = &quot;Trygve Gulbranssen&quot;;\r\n            String query = &quot;INSERT INTO authors(id, name) VALUES(?, ?)&quot;;\r\n    \r\n            try (Connection con = DriverManager.getConnection(url, user, password);\r\n                 PreparedStatement pst = con.prepareStatement(query)) {\r\n                \r\n                pst.setInt(1, id);\r\n                pst.setString(2, author);\r\n                pst.executeUpdate();\r\n    \r\n            } catch (SQLException ex) {\r\n    \r\n                Logger lgr = Logger.getLogger(JavaPostgreSqlPrepared.class.getName());\r\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI am Using PostgreSQL14, Java19, JDBC libraries included in NetBeans15.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\r\n      symbol:   class JavaPostgreSqlPrepared\r\n      location: class insertalias.InsertAlias\r\n    \tat insertalias.InsertAlias.main(InsertAlias.java:1)\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:150: The following error occurred while executing this line:\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:129: The following error occurred while executing this line:\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:77: Java returned: 1\r\n    BUILD FAILED (total time: 6 seconds)","title":"JavaPostgreSqlPrepared cannot find symbol","body":"<p>I execute this code and get an error:</p>\n<pre><code>package com.zetcode;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class JavaPostgreSqlPrepared {\n\n    public static void main(String[] args) {\n\n        String url = &quot;jdbc:postgresql://localhost:5432/testdb&quot;;\n        String user = &quot;user12&quot;;\n        String password = &quot;34klq*&quot;;\n\n        int id = 6;\n        String author = &quot;Trygve Gulbranssen&quot;;\n        String query = &quot;INSERT INTO authors(id, name) VALUES(?, ?)&quot;;\n\n        try (Connection con = DriverManager.getConnection(url, user, password);\n             PreparedStatement pst = con.prepareStatement(query)) {\n            \n            pst.setInt(1, id);\n            pst.setString(2, author);\n            pst.executeUpdate();\n\n        } catch (SQLException ex) {\n\n            Logger lgr = Logger.getLogger(JavaPostgreSqlPrepared.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n        }\n    }\n}\n</code></pre>\n<p>I am Using PostgreSQL14, Java19, JDBC libraries included in NetBeans15.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\n  symbol:   class JavaPostgreSqlPrepared\n  location: class insertalias.InsertAlias\n    at insertalias.InsertAlias.main(InsertAlias.java:1)\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:150: The following error occurred while executing this line:\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:129: The following error occurred while executing this line:\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:77: Java returned: 1\nBUILD FAILED (total time: 6 seconds)\n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","orika"],"comments":[{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1593621323,"post_id":62678172,"comment_id":110847444,"body_markdown":"Can you share a longer stacktrace? Is there more before and after that?","body":"Can you share a longer stacktrace? Is there more before and after that?"},{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1593629479,"post_id":62678172,"comment_id":110851276,"body_markdown":"Unfortunately, this is all I have and all that is logged. Another part of the log is related to Spring&#39;s Controller/Filters so I committed it.","body":"Unfortunately, this is all I have and all that is logged. Another part of the log is related to Spring&#39;s Controller/Filters so I committed it."},{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1593631178,"post_id":62678172,"comment_id":110852036,"body_markdown":"That&#39;s why I wanted to know how to enable the build of classes so I can dig more info.","body":"That&#39;s why I wanted to know how to enable the build of classes so I can dig more info."}],"answers":[{"tags":[],"owner":{"account_id":1040112,"reputation":613,"user_id":1046365,"accept_rate":100,"display_name":"Andrii Andriichuk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1593612867,"creation_date":1593612867,"answer_id":62678853,"question_id":62678172,"body_markdown":"[![catching any nullpointer in Intellij IDEA][1]][1]\r\nIn debug mode using Intellij you can catch any exception by type and easily see which field is causing the issue.\r\n\r\n  [1]: https://i.stack.imgur.com/ekq9U.png","title":"Hybris and Orika Nullpointer","body":"<p><a href=\"https://i.stack.imgur.com/ekq9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ekq9U.png\" alt=\"catching any nullpointer in Intellij IDEA\" /></a>\nIn debug mode using Intellij you can catch any exception by type and easily see which field is causing the issue.</p>\n"},{"tags":[],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1594217411,"creation_date":1594217411,"answer_id":62796766,"question_id":62678172,"body_markdown":"The issue was because of the mapping configuration:\r\n\r\n    &lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\r\n    &lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\r\n    &lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\r\n    &lt;property name=&quot;fieldMapping&quot;&gt;\r\n        &lt;map&gt;\r\n            &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \r\n        &lt;/map&gt;\r\n    &lt;/property&gt;\r\n\r\nCustom mapper (extending de.hybris.platform.webservicescommons.mapping.mappers.AbstractCustomMapper) was created for this and solved an issue.  \r\nThis issue happens in Hybris + Orika, for clean Orika (outside of Hybris) wasn&#39;t able to reproduce this problem.","title":"Hybris and Orika Nullpointer","body":"<p>The issue was because of the mapping configuration:</p>\n<pre><code>&lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\n&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\n&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\n&lt;property name=&quot;fieldMapping&quot;&gt;\n    &lt;map&gt;\n        &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \n    &lt;/map&gt;\n&lt;/property&gt;\n</code></pre>\n<p>Custom mapper (extending de.hybris.platform.webservicescommons.mapping.mappers.AbstractCustomMapper) was created for this and solved an issue.<br />\nThis issue happens in Hybris + Orika, for clean Orika (outside of Hybris) wasn't able to reproduce this problem.</p>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62796766,"answer_count":2,"score":-1,"last_activity_date":1665524198,"creation_date":1593610741,"question_id":62678172,"body_markdown":"I&#39;m using Hybris and Orika.  \r\nI have a NullpointerException when converting WsDto to Data.  \r\nThis is an exception:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n        at ma.glasnost.orika.generated.Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.mapBtoA(Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.java)\r\n        at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\r\n        at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\r\n        at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152)\r\n        at ma.glasnost.orika.generated.Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.mapBtoA(Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.java)\r\n        at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\r\n        at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\r\n        at ma.glasnost.orika.impl.MapperFacadeImpl.map(MapperFacadeImpl.java:671)\r\n        ... 146 more\r\n\r\nThe issue - it happens in generated class so it&#39;s very hard to debug.  \r\nI&#39;ve also tried to enable code generation for Orika to check classes, but for some reason, the configuration doesn&#39;t apply. I&#39;ve done it this way:\r\n\r\n    tomcat.debugjavaoptions= -Dma.glasnost.orika.writeSourceFiles=true -Dma.glasnost.orika.writeClassFiles=true\r\n\r\nMy questions are:\r\n\r\n - Could you help me to enable this code generation for further debugging?\r\n - Could you point out why this exception could happen, since it&#39;s not clear at the moment? \r\n\r\nThe exception in debug mode doesn&#39;t provide data to me.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UXasZ.png\r\n\r\nUpdate  \r\nFound out that issue comes from mapping for fields, it&#39;s done in XML this way:\r\n\r\n    &lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\r\n\t&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\r\n\t&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\r\n\t&lt;property name=&quot;fieldMapping&quot;&gt;\r\n\t\t&lt;map&gt;\r\n\t\t\t&lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \r\n\t\t&lt;/map&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\nWhen Data mapped to WsDto there is no issue, but when WsDto mapped to the Data there is a null pointer exception.\r\nCould you help me to figure out how to better configure two-way mapping for this?","title":"Hybris and Orika Nullpointer","body":"<p>I'm using Hybris and Orika.<br />\nI have a NullpointerException when converting WsDto to Data.<br />\nThis is an exception:</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at ma.glasnost.orika.generated.Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.mapBtoA(Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.java)\n    at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\n    at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\n    at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152)\n    at ma.glasnost.orika.generated.Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.mapBtoA(Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.java)\n    at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\n    at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\n    at ma.glasnost.orika.impl.MapperFacadeImpl.map(MapperFacadeImpl.java:671)\n    ... 146 more\n</code></pre>\n<p>The issue - it happens in generated class so it's very hard to debug.<br />\nI've also tried to enable code generation for Orika to check classes, but for some reason, the configuration doesn't apply. I've done it this way:</p>\n<pre><code>tomcat.debugjavaoptions= -Dma.glasnost.orika.writeSourceFiles=true -Dma.glasnost.orika.writeClassFiles=true\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>Could you help me to enable this code generation for further debugging?</li>\n<li>Could you point out why this exception could happen, since it's not clear at the moment?</li>\n</ul>\n<p>The exception in debug mode doesn't provide data to me.\n<a href=\"https://i.stack.imgur.com/UXasZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXasZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Update<br />\nFound out that issue comes from mapping for fields, it's done in XML this way:</p>\n<pre><code>&lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\n&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\n&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\n&lt;property name=&quot;fieldMapping&quot;&gt;\n    &lt;map&gt;\n        &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \n    &lt;/map&gt;\n&lt;/property&gt;\n</code></pre>\n\nWhen Data mapped to WsDto there is no issue, but when WsDto mapped to the Data there is a null pointer exception.\nCould you help me to figure out how to better configure two-way mapping for this?\n"},{"tags":["javascript","java","node.js","express","frameworks"],"answers":[{"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1575905068,"creation_date":1518450338,"answer_id":48750234,"question_id":48749900,"body_markdown":"Ok, I decided to roll out my own framework. It&#39;s called [java-express][1]. The API is very similar to the one of expressjs:\r\n\r\n    Express app  = new Express();\r\n\r\n    app.get(&quot;/&quot;, (req, res) -&gt; {\r\n        res.send(&quot;Hello World&quot;);\r\n    });\r\n\r\n    app.listen();\r\n\r\n\r\n  [1]: https://github.com/Simonwep/java-express &quot;java-express&quot;","title":"expressjs-similar Framework in Java?","body":"<p>Ok, I decided to roll out my own framework. It's called <a href=\"https://github.com/Simonwep/java-express\" rel=\"noreferrer\" title=\"java-express\">java-express</a>. The API is very similar to the one of expressjs:</p>\n\n<pre><code>Express app  = new Express();\n\napp.get(\"/\", (req, res) -&gt; {\n    res.send(\"Hello World\");\n});\n\napp.listen();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9967362,"reputation":581,"user_id":7374648,"display_name":"Rafael Paulino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518782058,"creation_date":1518782058,"answer_id":48826229,"question_id":48749900,"body_markdown":"If you are looking to something more &quot;production-ready&quot;, you definitely want to take a look at [Spring Boot][1].\r\n\r\nThis tutorial is simple, but very useful for you to begin: [&quot;Building a RESTful Web Service&quot;][2]\r\n\r\nIf you like to use &quot;untyped&quot; variables, Groovy language can come to your help. 100% compatible with Java. There is even another frameworks called [Grails][3] that use groovy as main language. You may also take a look on that too.\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-boot/\r\n  [2]: https://spring.io/guides/gs/rest-service/\r\n  [3]: https://grails.org/","title":"expressjs-similar Framework in Java?","body":"<p>If you are looking to something more \"production-ready\", you definitely want to take a look at <a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot</a>.</p>\n\n<p>This tutorial is simple, but very useful for you to begin: <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">\"Building a RESTful Web Service\"</a></p>\n\n<p>If you like to use \"untyped\" variables, Groovy language can come to your help. 100% compatible with Java. There is even another frameworks called <a href=\"https://grails.org/\" rel=\"nofollow noreferrer\">Grails</a> that use groovy as main language. You may also take a look on that too.</p>\n"},{"tags":[],"owner":{"account_id":14652907,"reputation":36,"user_id":10582385,"display_name":"Mohammed Farah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665523588,"creation_date":1665523415,"answer_id":74034272,"question_id":48749900,"body_markdown":"Another option is [Javalin][1], it&#39;s minimal and lightweight like Express but the API is more similar to [qua][2], they say it&#39;s is more of a library than a framework, No DI or annotations, here&#39;s a hello world example:\r\n\r\n    import io.javalin.Javalin;\r\n    \r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            Javalin app = Javalin.create().start(7000);\r\n            app.get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://javalin.io\r\n  [2]: https://koajs.com/","title":"expressjs-similar Framework in Java?","body":"<p>Another option is <a href=\"https://javalin.io\" rel=\"nofollow noreferrer\">Javalin</a>, it's minimal and lightweight like Express but the API is more similar to <a href=\"https://koajs.com/\" rel=\"nofollow noreferrer\">qua</a>, they say it's is more of a library than a framework, No DI or annotations, here's a hello world example:</p>\n<pre><code>import io.javalin.Javalin;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        Javalin app = Javalin.create().start(7000);\n        app.get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5752,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1665554873,"accepted_answer_id":48750234,"answer_count":3,"score":3,"last_activity_date":1665523588,"creation_date":1518449367,"question_id":48749900,"body_markdown":"Is outside there an expressjs similar framework for Java?\r\nI&#39;m looking for an small framework which can process different HTTP-Requests and send response, cookies etc. As in expressjs.","title":"expressjs-similar Framework in Java?","body":"<p>Is outside there an expressjs similar framework for Java?\nI'm looking for an small framework which can process different HTTP-Requests and send response, cookies etc. As in expressjs.</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1665521305,"post_id":74033920,"comment_id":130719423,"body_markdown":"Install Saxon HE from Saxonica, the latest supported releases are 10.8 and 11.4. The built-in Transformer in the Oracle or OpenJDK JREs uses Xalan, an XSLT 1.0 processor, which, when running into `version=&quot;2.0&quot;` code, runs in forwards compatible mode to try its best to execute XSLT/XPath 1 stuff, but it doesn&#39;t support any XSLT/XPath 2 stuff. Xalan has some support for EXSLT extension functions to tokenize, however.","body":"Install Saxon HE from Saxonica, the latest supported releases are 10.8 and 11.4. The built-in Transformer in the Oracle or OpenJDK JREs uses Xalan, an XSLT 1.0 processor, which, when running into <code>version=&quot;2.0&quot;</code> code, runs in forwards compatible mode to try its best to execute XSLT/XPath 1 stuff, but it doesn&#39;t support any XSLT/XPath 2 stuff. Xalan has some support for EXSLT extension functions to tokenize, however."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1665521590,"post_id":74033920,"comment_id":130719485,"body_markdown":"Download for Saxon HE https://sourceforge.net/projects/saxon/files/Saxon-HE/10/Java/ and https://sourceforge.net/projects/saxon/files/Saxon-HE/11/Java/","body":"Download for Saxon HE <a href=\"https://sourceforge.net/projects/saxon/files/Saxon-HE/10/Java/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/saxon/files/Saxon-HE/10/Java</a> and <a href=\"https://sourceforge.net/projects/saxon/files/Saxon-HE/11/Java/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/saxon/files/Saxon-HE/11/Java</a>"},{"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"score":0,"creation_date":1665522678,"post_id":74033920,"comment_id":130719795,"body_markdown":"Ok so I replaced the Transformer to Saxon and it catches the string but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc","body":"Ok so I replaced the Transformer to Saxon and it catches the string but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1665522898,"post_id":74033920,"comment_id":130719835,"body_markdown":"Consider to edit your question and provide minimal but complete samples to demonstrate your issue to use `tokenize`, together with the wanted result and the current one. As for using `tokenize` to get the token after the last slash, I would use e.g. `tokenize($string, &#39;/&#39;)[last()]` to achieve that in XPath 2/3.","body":"Consider to edit your question and provide minimal but complete samples to demonstrate your issue to use <code>tokenize</code>, together with the wanted result and the current one. As for using <code>tokenize</code> to get the token after the last slash, I would use e.g. <code>tokenize($string, &#39;&#47;&#39;)[last()]</code> to achieve that in XPath 2/3."},{"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"score":0,"creation_date":1665523171,"post_id":74033920,"comment_id":130719915,"body_markdown":"The [last()] did the trick, I forgot about that after trying endless things haha. Thank you very much!","body":"The [last()] did the trick, I forgot about that after trying endless things haha. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665523238,"creation_date":1665523238,"answer_id":74034244,"question_id":74033920,"body_markdown":"As Martin suggested in the comments, changing the java library to use Saxon HE version 11.4 and using [last()] did the trick","title":"XSLT Error checking type of the expression &#39;funcall(tokenize)&#39;","body":"<p>As Martin suggested in the comments, changing the java library to use Saxon HE version 11.4 and using [last()] did the trick</p>\n"}],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74034244,"answer_count":1,"score":0,"last_activity_date":1665523238,"creation_date":1665521076,"question_id":74033920,"body_markdown":"I am trying to get the latest word in a string that is splitted with &#39;/&#39; but for some reason I get the error \r\n```\r\nError checking type of the expression &#39;funcall(tokenize, [variable-ref(effect/node-set), literal-expr(/)])&#39;.\r\n```\r\n\r\nI know that it is only supported in xsl version 2 and I think that I have done so as can be seen in my xsl file\r\n```\r\n&lt;xsl:stylesheet version=&quot;2.0&quot;\r\n xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n exclude-result-prefixes=&quot;xlink&quot;\r\n &gt;\r\n\t&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; /&gt;\r\n\t&lt;xsl:template match=&quot;/&quot;&gt;\r\n\t\t&lt;Tracks&gt;\r\n\t\t\t&lt;xsl:apply-templates select=&quot;//Tracks&quot;/&gt;\r\n\t\t&lt;/Tracks&gt;\r\n\t&lt;/xsl:template&gt;\r\n\t&lt;xsl:template match=\r\n\t\t&quot;//MidiTrack&quot;&gt;\r\n\t\t&lt;MidiTrack&gt;\r\n\t\t&lt;xsl:attribute name=&quot;id&quot;&gt;\r\n\t\t\t&lt;xsl:value-of select=&quot;@Id&quot;/&gt;\r\n\t\t&lt;/xsl:attribute&gt;\t\t\r\n\t\t&lt;Effects&gt;\r\n\t\t\t&lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::RelativePath/@Value&quot;/&gt;\r\n\t\t\t\t&lt;xsl:if test=&quot;$effect&quot;&gt;\r\n\t\t\t\t\t&lt;Name&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;substring-after($effect, &#39;Devices/Audio Effects/&#39;)&quot;/&gt;\r\n\t\t\t\t\t&lt;/Name&gt;\r\n\t\t\t\t&lt;/xsl:if&gt;\r\n\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t&lt;/Effects&gt;\r\n\t\t&lt;/MidiTrack&gt;\r\n\t&lt;/xsl:template&gt;\r\n\t&lt;xsl:template match=\r\n\t\t&quot;//ReturnTrack&quot;&gt;\r\n\t\t&lt;ReturnTrack&gt;\t\t\r\n\t\t\t&lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::Path/@Value&quot;/&gt;\r\n\t\t\t\t&lt;xsl:if test=&quot;$effect&quot;&gt;\r\n\t\t\t\t\t&lt;Name&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;tokenize($effect, &#39;/&#39;)&quot;/&gt;\r\n\t\t\t\t\t&lt;/Name&gt;\r\n\t\t\t\t&lt;/xsl:if&gt;\r\n\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t&lt;/Effects&gt;\r\n\t\t&lt;/ReturnTrack&gt;\r\n\t&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nif I replace the tokenize with substring-after it does not complain about the arguments. A small xml example for the tokenize part\r\n```\r\n&lt;LastPresetRef&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;Value&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;FilePresetRef Id=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;FileRef&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;RelativePathType Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;RelativePath Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;Path Value=&quot;/Reverb Default.adv&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;Type Value=&quot;1&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;LivePackName Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;LivePackId Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;OriginalFileSize Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;OriginalCrc Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/FileRef&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/FilePresetRef&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/Value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/LastPresetRef&gt;\r\n```\r\n\r\nIf I run my code WITH the tokenize function in this website http://xslttest.appspot.com/ it works perfectly. Not sure what I am missing here.\r\n\r\nNot sure if it is worth noting but I run this template with the help of javax.xml.transform.TransformerFactory\r\n\r\nUPDATE:\r\n\r\nOk so I replaced the Transformer to Saxon as mentioned in the comments and it catches the string now but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc","title":"XSLT Error checking type of the expression &#39;funcall(tokenize)&#39;","body":"<p>I am trying to get the latest word in a string that is splitted with '/' but for some reason I get the error</p>\n<pre><code>Error checking type of the expression 'funcall(tokenize, [variable-ref(effect/node-set), literal-expr(/)])'.\n</code></pre>\n<p>I know that it is only supported in xsl version 2 and I think that I have done so as can be seen in my xsl file</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n exclude-result-prefixes=&quot;xlink&quot;\n &gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; /&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;Tracks&gt;\n            &lt;xsl:apply-templates select=&quot;//Tracks&quot;/&gt;\n        &lt;/Tracks&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\n        &quot;//MidiTrack&quot;&gt;\n        &lt;MidiTrack&gt;\n        &lt;xsl:attribute name=&quot;id&quot;&gt;\n            &lt;xsl:value-of select=&quot;@Id&quot;/&gt;\n        &lt;/xsl:attribute&gt;        \n        &lt;Effects&gt;\n            &lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\n                &lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::RelativePath/@Value&quot;/&gt;\n                &lt;xsl:if test=&quot;$effect&quot;&gt;\n                    &lt;Name&gt;\n                        &lt;xsl:value-of select=&quot;substring-after($effect, 'Devices/Audio Effects/')&quot;/&gt;\n                    &lt;/Name&gt;\n                &lt;/xsl:if&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/Effects&gt;\n        &lt;/MidiTrack&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\n        &quot;//ReturnTrack&quot;&gt;\n        &lt;ReturnTrack&gt;       \n            &lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\n                &lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::Path/@Value&quot;/&gt;\n                &lt;xsl:if test=&quot;$effect&quot;&gt;\n                    &lt;Name&gt;\n                        &lt;xsl:value-of select=&quot;tokenize($effect, '/')&quot;/&gt;\n                    &lt;/Name&gt;\n                &lt;/xsl:if&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/Effects&gt;\n        &lt;/ReturnTrack&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>if I replace the tokenize with substring-after it does not complain about the arguments. A small xml example for the tokenize part</p>\n<pre><code>&lt;LastPresetRef&gt;\n                                    &lt;Value&gt;\n                                        &lt;FilePresetRef Id=&quot;1&quot;&gt;\n                                            &lt;FileRef&gt;\n                                                &lt;RelativePathType Value=&quot;0&quot; /&gt;\n                                                &lt;RelativePath Value=&quot;&quot; /&gt;\n                                                &lt;Path Value=&quot;/Reverb Default.adv&quot; /&gt;\n                                                &lt;Type Value=&quot;1&quot; /&gt;\n                                                &lt;LivePackName Value=&quot;&quot; /&gt;\n                                                &lt;LivePackId Value=&quot;&quot; /&gt;\n                                                &lt;OriginalFileSize Value=&quot;0&quot; /&gt;\n                                                &lt;OriginalCrc Value=&quot;0&quot; /&gt;\n                                            &lt;/FileRef&gt;\n                                        &lt;/FilePresetRef&gt;\n                                    &lt;/Value&gt;\n                                &lt;/LastPresetRef&gt;\n</code></pre>\n<p>If I run my code WITH the tokenize function in this website <a href=\"http://xslttest.appspot.com/\" rel=\"nofollow noreferrer\">http://xslttest.appspot.com/</a> it works perfectly. Not sure what I am missing here.</p>\n<p>Not sure if it is worth noting but I run this template with the help of javax.xml.transform.TransformerFactory</p>\n<p>UPDATE:</p>\n<p>Ok so I replaced the Transformer to Saxon as mentioned in the comments and it catches the string now but it replaces '/' with ' ' for some reason. For example if I have aa/bb/cc it returns aa bb cc</p>\n"},{"tags":["java","image","javafx","colors"],"comments":[{"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"score":1,"creation_date":1665180213,"post_id":73992865,"comment_id":130647458,"body_markdown":"I suspect you are using a high-res display or your display scaling is set to something higher than normal 1x.\n\nIf you are on Windows 10 try `Override High DPI scaling behavior` to `Application` or `System`.","body":"I suspect you are using a high-res display or your display scaling is set to something higher than normal 1x.  If you are on Windows 10 try <code>Override High DPI scaling behavior</code> to <code>Application</code> or <code>System</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1665184270,"post_id":73992865,"comment_id":130648045,"body_markdown":"Please provide a [mcve] (including the image used) so this behavior can easily be replicated by copy and paste with no change or addition (no fxml is required for that).","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the image used) so this behavior can easily be replicated by copy and paste with no change or addition (no fxml is required for that)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665185425,"creation_date":1665185026,"answer_id":73993352,"question_id":73992865,"body_markdown":"I can&#39;t reproduce this (OS X 12.5.1, JDK/JavaFX 18.0.2), here is an example, that you can try:\r\n\r\n[![example][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class ColorPickerApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Circle swatch = new Circle(30);\r\n    \r\n            ImageView imageView =\r\n                    new ImageView(\r\n                            new Image(\r\n                                    Objects.requireNonNull(\r\n                                            ColorPickerApp.class.getResource(\r\n                                                    &quot;Dragon-icon.png&quot;\r\n                                            )\r\n                                    ).toExternalForm()\r\n                            )\r\n                    );\r\n            imageView.setPickOnBounds(true);\r\n    \r\n            imageView.setOnMouseMoved(event -&gt; {\r\n                int xPosition = (int) event.getX();\r\n                int yPosition = (int) event.getY();\r\n    \r\n                Color pixelColor = imageView.getImage().getPixelReader().getColor(xPosition, yPosition);\r\n                swatch.setFill(pixelColor);\r\n                System.out.println(pixelColor);\r\n            });\r\n    \r\n            VBox layout = new VBox(10, swatch, imageView);\r\n            layout.setAlignment(Pos.CENTER);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    }\r\n\r\nThe dragon image, Dragon-icon.png, in the sample:\r\n\r\n[![Dragon-icon.png][2]][2]\r\n\r\nI set [pickOnBounds][3] to true so that the transparent parts of the image will register as color changes when moused over.\r\n\r\nIf you move the mouse really rapidly, results may not be exact because the polling of the mouse info isn&#39;t immediate, but if you move the mouse slowly, it should work fine, at least from my testing.\r\n\r\n  [1]: https://i.stack.imgur.com/DfIUM.png\r\n  [2]: https://i.stack.imgur.com/1aCL3.png\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#pickOnBoundsProperty","title":"Can not get the right color when hovering over image node in javafx","body":"<p>I can't reproduce this (OS X 12.5.1, JDK/JavaFX 18.0.2), here is an example, that you can try:</p>\n<p><a href=\"https://i.stack.imgur.com/DfIUM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DfIUM.png\" alt=\"example\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class ColorPickerApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Circle swatch = new Circle(30);\n\n        ImageView imageView =\n                new ImageView(\n                        new Image(\n                                Objects.requireNonNull(\n                                        ColorPickerApp.class.getResource(\n                                                &quot;Dragon-icon.png&quot;\n                                        )\n                                ).toExternalForm()\n                        )\n                );\n        imageView.setPickOnBounds(true);\n\n        imageView.setOnMouseMoved(event -&gt; {\n            int xPosition = (int) event.getX();\n            int yPosition = (int) event.getY();\n\n            Color pixelColor = imageView.getImage().getPixelReader().getColor(xPosition, yPosition);\n            swatch.setFill(pixelColor);\n            System.out.println(pixelColor);\n        });\n\n        VBox layout = new VBox(10, swatch, imageView);\n        layout.setAlignment(Pos.CENTER);\n        layout.setPadding(new Insets(10));\n\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n</code></pre>\n<p>The dragon image, Dragon-icon.png, in the sample:</p>\n<p><a href=\"https://i.stack.imgur.com/1aCL3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1aCL3.png\" alt=\"Dragon-icon.png\" /></a></p>\n<p>I set <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#pickOnBoundsProperty\" rel=\"noreferrer\">pickOnBounds</a> to true so that the transparent parts of the image will register as color changes when moused over.</p>\n<p>If you move the mouse really rapidly, results may not be exact because the polling of the mouse info isn't immediate, but if you move the mouse slowly, it should work fine, at least from my testing.</p>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1665244719,"creation_date":1665229535,"answer_id":73996716,"question_id":73992865,"body_markdown":"you&#39;re explicitly setting the fitwidth / fitheight through fxml so the display resolution may differ from the original image resolution if the image dimensions are not equal to the manually set fit width and height.\r\n\r\nwhat you need to do is convert the mouse position x and y accordingly from the display range of [0...displayWidth] and [0...displayHeight] to the original dimensions [0...originalWidth] [0...originalHeight].\r\n\r\nnow the tricky part is that when you use preserveRatio, the display dimensions are calculated and are not always equal to the fit width and height, [this answer][1] describes a way to get the display width and height of an imageView that uses preserve ratio. \r\n\r\nnow that you have the display dimensions and the original dimensions, you can calculate a new pair (x, y) :\r\n\r\n    int adjustedX = mouseX * originalWidth / displayWidth;\r\n    int adjustedY = mouseY * originalHeight / displayHeight;\r\n\r\nand you can use those to get the color from the input image. \r\n\r\n  [1]: https://stackoverflow.com/a/48049156/8556269","title":"Can not get the right color when hovering over image node in javafx","body":"<p>you're explicitly setting the fitwidth / fitheight through fxml so the display resolution may differ from the original image resolution if the image dimensions are not equal to the manually set fit width and height.</p>\n<p>what you need to do is convert the mouse position x and y accordingly from the display range of [0...displayWidth] and [0...displayHeight] to the original dimensions [0...originalWidth] [0...originalHeight].</p>\n<p>now the tricky part is that when you use preserveRatio, the display dimensions are calculated and are not always equal to the fit width and height, <a href=\"https://stackoverflow.com/a/48049156/8556269\">this answer</a> describes a way to get the display width and height of an imageView that uses preserve ratio.</p>\n<p>now that you have the display dimensions and the original dimensions, you can calculate a new pair (x, y) :</p>\n<pre><code>int adjustedX = mouseX * originalWidth / displayWidth;\nint adjustedY = mouseY * originalHeight / displayHeight;\n</code></pre>\n<p>and you can use those to get the color from the input image.</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73996716,"answer_count":2,"score":3,"last_activity_date":1665522714,"creation_date":1665179222,"question_id":73992865,"body_markdown":"When I **hover over** the **Image** I am getting the wrong **color** value in some pixels of the image, which seems to be a kind of pixel shift. \r\n\r\nI am using a **MouseMoved** event on the **ImageView** to get the x and y **coordinates** of the cursor on the image, then I create a **Color** instance using the color from those coordinates. Finally, I use that color to fill a Circle node.\r\n\r\nI would like to know why it is returning the wrong color value for some pixels.\r\n\r\n**PS**: I tried that on png and jpeg images but the same thing is happening.\r\n\r\nThis is the **initialize** method of the controller where I am setting the **event listener** to the **ImageView**:\r\n\r\n     @FXML\r\n        public ImageView inputImage;\r\n    \r\n        public void initialize() {\r\n    \r\n            inputImage.setOnMouseMoved(event -&gt; {\r\n                int xPosition = (int) event.getX();\r\n                int yPosition = (int) event.getY();\r\n    \r\n                Color pixelColor = inputImage.getImage().getPixelReader().getColor(xPosition, yPosition);\r\n    \r\n                circleColor.setFill(pixelColor);\r\n            });\r\n        }\r\n\r\n A part of the **FXML** file : \r\n\r\n                &lt;VBox HBox.hgrow=&quot;ALWAYS&quot; alignment=&quot;CENTER&quot;&gt;\r\n                    &lt;HBox alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;50.0&quot;/&gt;\r\n                        &lt;/VBox.margin&gt;\r\n    \r\n                        &lt;ImageView fx:id=&quot;inputImage&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; fitHeight=&quot;300&quot;\r\n                                   fitWidth=&quot;300&quot;&gt;\r\n                            &lt;Image url=&quot;@../Resources/Default-image.png&quot; backgroundLoading=&quot;true&quot;/&gt;\r\n                        &lt;/ImageView&gt;\r\n                    &lt;/HBox&gt;\r\n    \r\n                    &lt;HBox alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;Button onAction=&quot;#handleFileChooserClick&quot; text=&quot;load image&quot;/&gt;\r\n                    &lt;/HBox&gt;\r\n                &lt;/VBox&gt;\r\n    \r\n                &lt;VBox prefWidth=&quot;200&quot; alignment=&quot;TOP_CENTER&quot;&gt;\r\n                    &lt;padding&gt;\r\n                        &lt;Insets top=&quot;60&quot; bottom=&quot;60&quot;/&gt;\r\n                    &lt;/padding&gt;\r\n    \r\n                    &lt;VBox alignment=&quot;TOP_CENTER&quot;&gt;\r\n                        &lt;Circle radius=&quot;70&quot; fill=&quot;orange&quot; stroke=&quot;black&quot; fx:id=&quot;circleColor&quot;/&gt;\r\n                        &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;50.0&quot;/&gt;\r\n                        &lt;/VBox.margin&gt;\r\n                    &lt;/VBox&gt;\r\n    \r\n                    &lt;Button textAlignment=&quot;CENTER&quot; text=&quot;Isolate Color&quot;/&gt;\r\n                &lt;/VBox&gt;\r\n\r\n This how it looks like : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mpZ8t.gif","title":"Can not get the right color when hovering over image node in javafx","body":"<p>When I <strong>hover over</strong> the <strong>Image</strong> I am getting the wrong <strong>color</strong> value in some pixels of the image, which seems to be a kind of pixel shift.</p>\n<p>I am using a <strong>MouseMoved</strong> event on the <strong>ImageView</strong> to get the x and y <strong>coordinates</strong> of the cursor on the image, then I create a <strong>Color</strong> instance using the color from those coordinates. Finally, I use that color to fill a Circle node.</p>\n<p>I would like to know why it is returning the wrong color value for some pixels.</p>\n<p><strong>PS</strong>: I tried that on png and jpeg images but the same thing is happening.</p>\n<p>This is the <strong>initialize</strong> method of the controller where I am setting the <strong>event listener</strong> to the <strong>ImageView</strong>:</p>\n<pre><code> @FXML\n    public ImageView inputImage;\n\n    public void initialize() {\n\n        inputImage.setOnMouseMoved(event -&gt; {\n            int xPosition = (int) event.getX();\n            int yPosition = (int) event.getY();\n\n            Color pixelColor = inputImage.getImage().getPixelReader().getColor(xPosition, yPosition);\n\n            circleColor.setFill(pixelColor);\n        });\n    }\n</code></pre>\n<p>A part of the <strong>FXML</strong> file :</p>\n<pre><code>            &lt;VBox HBox.hgrow=&quot;ALWAYS&quot; alignment=&quot;CENTER&quot;&gt;\n                &lt;HBox alignment=&quot;CENTER&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;50.0&quot;/&gt;\n                    &lt;/VBox.margin&gt;\n\n                    &lt;ImageView fx:id=&quot;inputImage&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; fitHeight=&quot;300&quot;\n                               fitWidth=&quot;300&quot;&gt;\n                        &lt;Image url=&quot;@../Resources/Default-image.png&quot; backgroundLoading=&quot;true&quot;/&gt;\n                    &lt;/ImageView&gt;\n                &lt;/HBox&gt;\n\n                &lt;HBox alignment=&quot;CENTER&quot;&gt;\n                    &lt;Button onAction=&quot;#handleFileChooserClick&quot; text=&quot;load image&quot;/&gt;\n                &lt;/HBox&gt;\n            &lt;/VBox&gt;\n\n            &lt;VBox prefWidth=&quot;200&quot; alignment=&quot;TOP_CENTER&quot;&gt;\n                &lt;padding&gt;\n                    &lt;Insets top=&quot;60&quot; bottom=&quot;60&quot;/&gt;\n                &lt;/padding&gt;\n\n                &lt;VBox alignment=&quot;TOP_CENTER&quot;&gt;\n                    &lt;Circle radius=&quot;70&quot; fill=&quot;orange&quot; stroke=&quot;black&quot; fx:id=&quot;circleColor&quot;/&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;50.0&quot;/&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/VBox&gt;\n\n                &lt;Button textAlignment=&quot;CENTER&quot; text=&quot;Isolate Color&quot;/&gt;\n            &lt;/VBox&gt;\n</code></pre>\n<p>This how it looks like :\n<a href=\"https://i.stack.imgur.com/mpZ8t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpZ8t.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","flutter","dart","apple-musickit","flutter-platform-channel"],"comments":[{"owner":{"account_id":13499790,"reputation":497,"user_id":9739475,"display_name":"Yash Garg"},"score":0,"creation_date":1665521108,"post_id":74020138,"comment_id":130719372,"body_markdown":"What is the compileSdkVersion (should be inside :app build.gradle) of the library and your application?","body":"What is the compileSdkVersion (should be inside :app build.gradle) of the library and your application?"},{"owner":{"account_id":23058321,"reputation":50,"user_id":17174060,"display_name":"Harvey Jones"},"score":0,"creation_date":1665528115,"post_id":74020138,"comment_id":130720840,"body_markdown":"compileSdkVersion: 30","body":"compileSdkVersion: 30"},{"owner":{"account_id":13499790,"reputation":497,"user_id":9739475,"display_name":"Yash Garg"},"score":0,"creation_date":1665562481,"post_id":74020138,"comment_id":130727199,"body_markdown":"I think the library you are trying to use has a compileSdkVersion of 27 - https://github.com/zivost/flutter_musickit/blob/5eceddcef3658b816a0355d6e6b98f362cc2b1b4/android/build.gradle#L25. I will suggest forking it and updating it to 28 and then trying again once.","body":"I think the library you are trying to use has a compileSdkVersion of 27 - <a href=\"https://github.com/zivost/flutter_musickit/blob/5eceddcef3658b816a0355d6e6b98f362cc2b1b4/android/build.gradle#L25\" rel=\"nofollow noreferrer\">github.com/zivost/flutter_musickit/blob/&hellip;</a>. I will suggest forking it and updating it to 28 and then trying again once."}],"owner":{"account_id":23058321,"reputation":50,"user_id":17174060,"display_name":"Harvey Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665521095,"creation_date":1665431989,"question_id":74020138,"body_markdown":"I forked this Flutter [project][1] and it is supposed to be executing a native Java code which is `MusicKit Plugin`. But when I run the project I get this error:\r\n\r\n    Note: C:\\Users\\angel\\Desktop\\flutter_music_kit\\flutter_musickit\\android\\src\\main\\java\\com\\zivost\\musickit\\MusickitPlugin.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:processDebugResources&#39;.\r\n    &gt; Android resource linking failed\r\n      C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/fontVariationSettings not found.\r\n    \r\n      C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/ttcIndex not found.\r\n    \r\n      error: failed linking references.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BU�LD FAILED in 39s\r\n    Exception: Gradle task assembleDebug failed with exit code 1\r\n\r\nThe Java code which is mentioned in the error is:\r\n\r\n    package com.zivost.musickit;\r\n    \r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugin.common.MethodChannel.MethodCallHandler;\r\n    import io.flutter.plugin.common.MethodChannel.Result;\r\n    import io.flutter.plugin.common.PluginRegistry.Registrar;\r\n    \r\n    /** MusickitPlugin */\r\n    public class MusickitPlugin implements MethodCallHandler {\r\n      /** Plugin registration. */\r\n      public static void registerWith(Registrar registrar) {\r\n        final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;musickit&quot;);\r\n        channel.setMethodCallHandler(new MusickitPlugin());\r\n      }\r\n    \r\n      @Override\r\n      public void onMethodCall(MethodCall call, Result result) {\r\n          result.notImplemented();\r\n      }\r\n    }\r\n\r\nSomething must be deprecated but I don&#39;t write Java so I couldn&#39;t find. Anyone knows?\r\n\r\n\r\n  [1]: https://github.com/zivost/flutter_musickit\r\n","title":"The Java code that I run in the Flutter App uses or overrides a deprecated API","body":"<p>I forked this Flutter <a href=\"https://github.com/zivost/flutter_musickit\" rel=\"nofollow noreferrer\">project</a> and it is supposed to be executing a native Java code which is <code>MusicKit Plugin</code>. But when I run the project I get this error:</p>\n<pre><code>Note: C:\\Users\\angel\\Desktop\\flutter_music_kit\\flutter_musickit\\android\\src\\main\\java\\com\\zivost\\musickit\\MusickitPlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugResources'.\n&gt; Android resource linking failed\n  C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/fontVariationSettings not found.\n\n  C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/ttcIndex not found.\n\n  error: failed linking references.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBU�LD FAILED in 39s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>The Java code which is mentioned in the error is:</p>\n<pre><code>package com.zivost.musickit;\n\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugin.common.MethodChannel.MethodCallHandler;\nimport io.flutter.plugin.common.MethodChannel.Result;\nimport io.flutter.plugin.common.PluginRegistry.Registrar;\n\n/** MusickitPlugin */\npublic class MusickitPlugin implements MethodCallHandler {\n  /** Plugin registration. */\n  public static void registerWith(Registrar registrar) {\n    final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;musickit&quot;);\n    channel.setMethodCallHandler(new MusickitPlugin());\n  }\n\n  @Override\n  public void onMethodCall(MethodCall call, Result result) {\n      result.notImplemented();\n  }\n}\n</code></pre>\n<p>Something must be deprecated but I don't write Java so I couldn't find. Anyone knows?</p>\n"},{"tags":["java","xml","dom","types"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1631776557,"post_id":69203631,"comment_id":122314346,"body_markdown":"If there is no XSD schema defined for these fields, there is no way JAXB can guess what type they really are (String is the standard guess since everything can be a string). Either you define a schema (and so JAXB will be able to parse them accordingly), or you have to get them as string and parse them on your own following some logic.","body":"If there is no XSD schema defined for these fields, there is no way JAXB can guess what type they really are (String is the standard guess since everything can be a string). Either you define a schema (and so JAXB will be able to parse them accordingly), or you have to get them as string and parse them on your own following some logic."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1631776741,"post_id":69203631,"comment_id":122314407,"body_markdown":"@MatteoNNZ Thanks for the response. Even I was planning to write my own custom class to find the data type for these elements. In XSD they would be part of `any` type as they are completely user-defined so the confusion has arisen. If there is any other approach please let me know otherwise I will write my own custom class for this case.","body":"@MatteoNNZ Thanks for the response. Even I was planning to write my own custom class to find the data type for these elements. In XSD they would be part of <code>any</code> type as they are completely user-defined so the confusion has arisen. If there is any other approach please let me know otherwise I will write my own custom class for this case."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1631777288,"post_id":69203631,"comment_id":122314592,"body_markdown":"I think you can define your own XmlAdapter and annotate your custom XML field with it. For marshalling and unmarshalling you will be called by JAXB on this class, so you should be able somehow to control the flow. However, you&#39;ll still have to do your type check and parsing on your own.","body":"I think you can define your own XmlAdapter and annotate your custom XML field with it. For marshalling and unmarshalling you will be called by JAXB on this class, so you should be able somehow to control the flow. However, you&#39;ll still have to do your type check and parsing on your own."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1631780837,"post_id":69203631,"comment_id":122316128,"body_markdown":"There are (potentially) schema-aware object models, like XDM for schema-aware XPath 2, XSLT 2 or XQuery 1 and later. So in conjunction with a schema-aware XPath or XSLT/XQuery processor like Saxon EE you can build a tree and navigate and select typed node values.","body":"There are (potentially) schema-aware object models, like XDM for schema-aware XPath 2, XSLT 2 or XQuery 1 and later. So in conjunction with a schema-aware XPath or XSLT/XQuery processor like Saxon EE you can build a tree and navigate and select typed node values."}],"answers":[{"tags":[],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632452817,"creation_date":1632452817,"answer_id":69309070,"question_id":69203631,"body_markdown":"I created the class to determine the type:\r\n\r\n\r\n```\r\npublic class ExtensionsDatatypeFinder {\r\n\r\n    private ExtensionsDatatypeFinder() {}\r\n\r\n    //Method to check the datatype for user extension, ILMD, Error extensions\r\n    public static Object dataTypeFinder(String textContent) {\r\n\r\n        if (textContent.equalsIgnoreCase(&quot;true&quot;) || textContent.equalsIgnoreCase(&quot;false&quot;)) {\r\n            //Check if the Element Text content is of Boolean type\r\n            return Boolean.parseBoolean(textContent);\r\n        } else if (NumberUtils.isParsable(textContent)) {\r\n            //Check if the Element Text content is Number type if so determine the Int or Float\r\n            return textContent.contains(&quot;.&quot;) ? Float.parseFloat(textContent) : Integer.parseInt(textContent);\r\n        } else {\r\n            return textContent;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen called it bypassing the required data:\r\n```\r\n//Check for the datatype of the Element\r\n                final Object simpleFieldValue = ExtensionsDatatypeFinder.dataTypeFinder((String) extension.getValue());\r\n\r\n                //Based on the type of Element value write the value into the JSON accordingly\r\n                if (simpleFieldValue instanceof Boolean) {\r\n                    gen.writeBooleanField(extension.getKey(), (Boolean) simpleFieldValue);\r\n                } else if (simpleFieldValue instanceof Integer) {\r\n                    gen.writeNumberField(extension.getKey(), (Integer) simpleFieldValue);\r\n                } else if (simpleFieldValue instanceof Float) {\r\n                    gen.writeNumberField(extension.getKey(), (Float) simpleFieldValue);\r\n                } else {\r\n                    //If instance is String directly add it to the JSON\r\n                    gen.writeStringField(extension.getKey(), (String) extension.getValue());\r\n                }\r\n\r\n```","title":"How do I find the actual data type of the Element values of a Java DOM element? As of now everything considered as String","body":"<p>I created the class to determine the type:</p>\n<pre><code>public class ExtensionsDatatypeFinder {\n\n    private ExtensionsDatatypeFinder() {}\n\n    //Method to check the datatype for user extension, ILMD, Error extensions\n    public static Object dataTypeFinder(String textContent) {\n\n        if (textContent.equalsIgnoreCase(&quot;true&quot;) || textContent.equalsIgnoreCase(&quot;false&quot;)) {\n            //Check if the Element Text content is of Boolean type\n            return Boolean.parseBoolean(textContent);\n        } else if (NumberUtils.isParsable(textContent)) {\n            //Check if the Element Text content is Number type if so determine the Int or Float\n            return textContent.contains(&quot;.&quot;) ? Float.parseFloat(textContent) : Integer.parseInt(textContent);\n        } else {\n            return textContent;\n        }\n    }\n}\n\n</code></pre>\n<p>Then called it bypassing the required data:</p>\n<pre><code>//Check for the datatype of the Element\n                final Object simpleFieldValue = ExtensionsDatatypeFinder.dataTypeFinder((String) extension.getValue());\n\n                //Based on the type of Element value write the value into the JSON accordingly\n                if (simpleFieldValue instanceof Boolean) {\n                    gen.writeBooleanField(extension.getKey(), (Boolean) simpleFieldValue);\n                } else if (simpleFieldValue instanceof Integer) {\n                    gen.writeNumberField(extension.getKey(), (Integer) simpleFieldValue);\n                } else if (simpleFieldValue instanceof Float) {\n                    gen.writeNumberField(extension.getKey(), (Float) simpleFieldValue);\n                } else {\n                    //If instance is String directly add it to the JSON\n                    gen.writeStringField(extension.getKey(), (String) extension.getValue());\n                }\n\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69309070,"answer_count":1,"score":0,"last_activity_date":1665520899,"creation_date":1631775171,"question_id":69203631,"body_markdown":"I have a custom user-defined section within my standard XML. Something like this:\r\n```\r\n&lt;rail:JourneyDate&gt;2014-12-12&lt;/rail:JourneyDate&gt;\r\n&lt;rail:Name&gt;Rajadhani&lt;/rail:Name&gt;\r\n&lt;rail:AxelCount&gt;12&lt;/rail:AxelCount&gt;\r\n&lt;rail:VehicleCount&gt;true&lt;/rail:VehicleCount&gt;\r\n&lt;rail:PassangerCount&gt;20.5&lt;/rail:PassangerCount&gt;\r\n```\r\n\r\nThis part of the XML is completely user-defined and can be anything. I am reading it using JAXB and everything is working fine. \r\n\r\nThe problem is that all the values in the `Dom Element` are considered as `String` but as we can see in the above XML the values can be different data types such as `Date`, `Integer`, `Float`, `Boolean`, `String` etc.\r\n\r\nHowever when I read the value of each element using `element.getTextContent()` then this function always returns `String`. Is there a way to find the actual data type of each `Element` rather than the `String` every time?\r\n","title":"How do I find the actual data type of the Element values of a Java DOM element? As of now everything considered as String","body":"<p>I have a custom user-defined section within my standard XML. Something like this:</p>\n<pre><code>&lt;rail:JourneyDate&gt;2014-12-12&lt;/rail:JourneyDate&gt;\n&lt;rail:Name&gt;Rajadhani&lt;/rail:Name&gt;\n&lt;rail:AxelCount&gt;12&lt;/rail:AxelCount&gt;\n&lt;rail:VehicleCount&gt;true&lt;/rail:VehicleCount&gt;\n&lt;rail:PassangerCount&gt;20.5&lt;/rail:PassangerCount&gt;\n</code></pre>\n<p>This part of the XML is completely user-defined and can be anything. I am reading it using JAXB and everything is working fine.</p>\n<p>The problem is that all the values in the <code>Dom Element</code> are considered as <code>String</code> but as we can see in the above XML the values can be different data types such as <code>Date</code>, <code>Integer</code>, <code>Float</code>, <code>Boolean</code>, <code>String</code> etc.</p>\n<p>However when I read the value of each element using <code>element.getTextContent()</code> then this function always returns <code>String</code>. Is there a way to find the actual data type of each <code>Element</code> rather than the <code>String</code> every time?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516136,"post_id":74032700,"comment_id":130717843,"body_markdown":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs","body":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665520318,"post_id":74032700,"comment_id":130719149,"body_markdown":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer.","body":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665520280,"creation_date":1665520280,"answer_id":74033797,"question_id":74032700,"body_markdown":"You can add a `RecordFilterStragegy` in the second listener container to discard unwanted types.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\r\n\r\n","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>You can add a <code>RecordFilterStragegy</code> in the second listener container to discard unwanted types.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages</a></p>\n"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033797,"answer_count":1,"score":0,"last_activity_date":1665520280,"creation_date":1665513588,"question_id":74032700,"body_markdown":"I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual `@KafkaHandler` methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore. \r\n\r\nAlso wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerA {\r\n    @KafkaHandler\r\n    public void dataType1(Object1 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType2(Object2 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerB {\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual <code>@KafkaHandler</code> methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore.</p>\n<p>Also wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.</p>\n<pre><code>@KafkaListener\npublic class listenerA {\n    @KafkaHandler\n    public void dataType1(Object1 data) { ... }\n    @KafkaHandler\n    public void dataType2(Object2 data) { ... }\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n<pre><code>@KafkaListener\npublic class listenerB {\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665516490,"post_id":74032901,"comment_id":130717942,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)","body":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665516905,"post_id":74032901,"comment_id":130718061,"body_markdown":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the `mp.messaging.incoming.plac-fate.partitions` property.","body":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the <code>mp.messaging.incoming.plac-fate.partitions</code> property."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517038,"post_id":74032901,"comment_id":130718101,"body_markdown":"@OneCricketeer is there a property that set the consumer to start from the oldest message?","body":"@OneCricketeer is there a property that set the consumer to start from the oldest message?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665517321,"post_id":74032901,"comment_id":130718177,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest`, but you also need to create a new `group.id` since you&#39;ve already started one consumer.","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code>, but you also need to create a new <code>group.id</code> since you&#39;ve already started one consumer."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517670,"post_id":74032901,"comment_id":130718328,"body_markdown":"I&#39;m trying right now haha","body":"I&#39;m trying right now haha"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665518204,"post_id":74032901,"comment_id":130718497,"body_markdown":"I&#39;d also suggest using [built in deserialization](https://quarkus.io/guides/kafka#jackson-serialization)","body":"I&#39;d also suggest using <a href=\"https://quarkus.io/guides/kafka#jackson-serialization\" rel=\"nofollow noreferrer\">built in deserialization</a>"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665518435,"post_id":74032901,"comment_id":130718589,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest` works like a charm. Thx @OneCricketeer! Do you want to answer teh question?","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code> works like a charm. Thx @OneCricketeer! Do you want to answer teh question?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665520149,"creation_date":1665520149,"answer_id":74033775,"question_id":74032901,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume)\r\n\r\nIf you want to start at the beginning of the topic and read existing events, you&#39;ll need to add\r\n\r\n    mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest","title":"Kafka consumer didn&#39;t consume","body":"<p>Consumers default to start at the very end of the topic (where there is nothing to consume)</p>\n<p>If you want to start at the beginning of the topic and read existing events, you'll need to add</p>\n<pre><code>mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest\n</code></pre>\n"}],"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74033775,"answer_count":1,"score":1,"last_activity_date":1665520149,"creation_date":1665514812,"question_id":74032901,"body_markdown":"I&#39;m trying to create as app that will consume a Kafka topic with 10 partitions. I didn&#39;t define the number of partitions of the consumer at `application.properties` because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I&#39;m start the application it didn&#39;t consume anything. The code is very simple, and I really don&#39;t know whats wrong:\r\n\r\nHere is the consumer, the log shows nothing:\r\n\r\n```java\r\n    @Incoming(&quot;plac-fate&quot;)\r\n    @Transactional\r\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\r\n        logger.info(&quot;Consumindo payload: &quot; + payload);\r\n        service.criaNFeDistSVBAEntity(payload);\r\n        logger.info(&quot;Payload com nrProtocolo &#39;&quot; + payload.getNrProtocolo() + &quot;&#39; consumido com sucesso.&quot;);\r\n    }\r\n```\r\n\r\nI also have as deserializer its log didn&#39;t show anything:\r\n\r\n```java\r\n@Override\r\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\r\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\r\n        var strPayload = new String(data, StandardCharsets.UTF_8);\r\n        var module = new JaxbAnnotationModule();\r\n        var mapper = JsonMapper.builder()\r\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\r\n        .build();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        mapper.registerModule(module);\r\n        try {\r\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\r\n            return payload;\r\n        } catch (JsonProcessingException e) {\r\n            logger.error(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nand here is the `&#224;pplication.properties`:\r\n\r\n```\r\nquarkus.kafka.devservices.enabled=false\r\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\r\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\r\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\r\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\r\n```\r\n\r\nand here is the app log:\r\n\r\n```sh\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\r\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel &#39;plac-fate&#39;: [plac-fate]\r\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\r\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers &#39;kafka:9092&#39;, belongs to the &#39;plac-fate-consumer&#39; consumer group and is configured to poll records from [plac-fate]\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\r\n```\r\n\r\nAs you can see the log says that the consumer was created and connected but it does nothing.\r\n\r\n","title":"Kafka consumer didn&#39;t consume","body":"<p>I'm trying to create as app that will consume a Kafka topic with 10 partitions. I didn't define the number of partitions of the consumer at <code>application.properties</code> because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I'm start the application it didn't consume anything. The code is very simple, and I really don't know whats wrong:</p>\n<p>Here is the consumer, the log shows nothing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Incoming(&quot;plac-fate&quot;)\n    @Transactional\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\n        logger.info(&quot;Consumindo payload: &quot; + payload);\n        service.criaNFeDistSVBAEntity(payload);\n        logger.info(&quot;Payload com nrProtocolo '&quot; + payload.getNrProtocolo() + &quot;' consumido com sucesso.&quot;);\n    }\n</code></pre>\n<p>I also have as deserializer its log didn't show anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\n        var strPayload = new String(data, StandardCharsets.UTF_8);\n        var module = new JaxbAnnotationModule();\n        var mapper = JsonMapper.builder()\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\n        .build();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        mapper.registerModule(module);\n        try {\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\n            return payload;\n        } catch (JsonProcessingException e) {\n            logger.error(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>and here is the <code>àpplication.properties</code>:</p>\n<pre><code>quarkus.kafka.devservices.enabled=false\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\n</code></pre>\n<p>and here is the app log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel 'plac-fate': [plac-fate]\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers 'kafka:9092', belongs to the 'plac-fate-consumer' consumer group and is configured to poll records from [plac-fate]\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\n</code></pre>\n<p>As you can see the log says that the consumer was created and connected but it does nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665115640,"post_id":73982251,"comment_id":130628520,"body_markdown":"`private static String raiz;` is how you declare fields.  Fields are declared at h\\the class level not as a local variable","body":"<code>private static String raiz;</code> is how you declare fields.  Fields are declared at h\\the class level not as a local variable"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1665115989,"post_id":73982251,"comment_id":130628571,"body_markdown":"What do you think `private` and `static` mean in this context? More to the point, what would a *non-private*, *non-static* local variable look like, and how would it be different?","body":"What do you think <code>private</code> and <code>static</code> mean in this context? More to the point, what would a <i>non-private</i>, <i>non-static</i> local variable look like, and how would it be different?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1665116545,"post_id":73982251,"comment_id":130628667,"body_markdown":"Access modifiers like `private` and the keyword `static` can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class.","body":"Access modifiers like <code>private</code> and the keyword <code>static</code> can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1665122082,"post_id":73982251,"comment_id":130629547,"body_markdown":"Please don&#39;t post errors as images","body":"Please don&#39;t post errors as images"}],"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665519948,"creation_date":1665115537,"question_id":73982251,"body_markdown":"[This is the error I get][1]\r\nSo i&#39;m working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj\r\n``` \r\npublic class Parser\r\n{\r\n  public static void main(String args []) throws ParseException\r\n  {\r\n    Parser parser = new Parser(System.in);\r\n    while (true)\r\n    {\r\n      System.out.println(&quot;Reading from standard input...&quot;);\r\n      System.out.print(&quot;Enter a TREE:&quot;);\r\n      private static ArrayList nodosCheck = new ArrayList();\r\n\t  private static ArrayList nodos = new ArrayList();\r\n\t  private static String raiz;\r\n\t  private static String print=&quot;Todo anda bien&quot;;\r\n\t  System.out.println(&quot;Bienvenidos&quot;);\r\n     \r\n``` \r\n      \r\nsomeone know what is wrong?\r\nI cant run the application since the error is from the .java file of the parser.\r\nbut idk how to solve this on the .jj file \r\nThis are lists and variables that I have to modify during the program, just to clarify.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7k9A.png","title":"Illegal modifier for the variable print; only final is permitted on javaCC","body":"<p><a href=\"https://i.stack.imgur.com/Q7k9A.png\" rel=\"nofollow noreferrer\">This is the error I get</a>\nSo i'm working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj</p>\n<pre><code>public class Parser\n{\n  public static void main(String args []) throws ParseException\n  {\n    Parser parser = new Parser(System.in);\n    while (true)\n    {\n      System.out.println(&quot;Reading from standard input...&quot;);\n      System.out.print(&quot;Enter a TREE:&quot;);\n      private static ArrayList nodosCheck = new ArrayList();\n      private static ArrayList nodos = new ArrayList();\n      private static String raiz;\n      private static String print=&quot;Todo anda bien&quot;;\n      System.out.println(&quot;Bienvenidos&quot;);\n     \n</code></pre>\n<p>someone know what is wrong?\nI cant run the application since the error is from the .java file of the parser.\nbut idk how to solve this on the .jj file\nThis are lists and variables that I have to modify during the program, just to clarify.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":1,"creation_date":1665518233,"post_id":74033351,"comment_id":130718504,"body_markdown":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?","body":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1665518953,"post_id":74033351,"comment_id":130718740,"body_markdown":"Seconding @YJR. Your `JpaEntityConfig` should also be created only if the respective profile is active.","body":"Seconding @YJR. Your <code>JpaEntityConfig</code> should also be created only if the respective profile is active."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518711,"creation_date":1665518711,"answer_id":74033551,"question_id":74033351,"body_markdown":"As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish\r\n```\r\n@Configuration\r\n@ConfigurationProperties()\r\npublic class JpaEntityConfig {\r\n\r\n    @Autowired(required = false)\r\n    DataSource dataSource;\r\n\r\n```","title":"Create a data source based on the spring profile","body":"<p>As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired(required = false)\n    DataSource dataSource;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665519347,"creation_date":1665519347,"answer_id":74033643,"question_id":74033351,"body_markdown":"    @Configuration\r\n    @ConfigurationProperties()\r\n    @Profile(&quot;!second&quot;)\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nYou can skip this jpa configuration when profile `second` is active as above.","title":"Create a data source based on the spring profile","body":"<pre><code>@Configuration\n@ConfigurationProperties()\n@Profile(&quot;!second&quot;)\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>You can skip this jpa configuration when profile <code>second</code> is active as above.</p>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665519347,"creation_date":1665517496,"question_id":74033351,"body_markdown":"I have two profiles in Spring: `first` and `second`. If I use the `first` profile, I want to create a datasource based on postgres, but if I use `second` I don&#39;t want any datasource created at all. I&#39;ve defined my `JpaEntityConfig` class as:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties()\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nif I set `spring.profiles.active=first` then it works fine, however if I set it to `spring.profiles.active=second` then I&#39;m getting the following error:\r\n\r\n    Field dataSource in com.package.JpaEntityConfig required a bean of type &#39;javax.sql.DataSource&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    Consider defining a bean of type &#39;javax.sql.DataSource&#39; in your configuration.\r\n\r\nhow can I get around this? \r\n ","title":"Create a data source based on the spring profile","body":"<p>I have two profiles in Spring: <code>first</code> and <code>second</code>. If I use the <code>first</code> profile, I want to create a datasource based on postgres, but if I use <code>second</code> I don't want any datasource created at all. I've defined my <code>JpaEntityConfig</code> class as:</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>if I set <code>spring.profiles.active=first</code> then it works fine, however if I set it to <code>spring.profiles.active=second</code> then I'm getting the following error:</p>\n<pre><code>Field dataSource in com.package.JpaEntityConfig required a bean of type 'javax.sql.DataSource' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\nConsider defining a bean of type 'javax.sql.DataSource' in your configuration.\n</code></pre>\n<p>how can I get around this?</p>\n"},{"tags":["java","generics","instanceof","typechecking"],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1665519272,"creation_date":1255576239,"answer_id":1570099,"question_id":1570073,"body_markdown":"The error message says it all. At runtime, the type is gone, there is no way to check for it.\r\n\r\nYou could catch it by making a factory for your object like this:\r\n\r\n```java\r\npublic static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\r\n    return new MyObject&lt;T&gt;(type);\r\n}\r\n```\r\n\r\nAnd then in the object&#39;s constructor store that type, so variable so that your method could look like this:\r\n```java\r\nif (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\r\n    return -1;\r\n}\r\n```","title":"Java: Instanceof and Generics","body":"<p>The error message says it all. At runtime, the type is gone, there is no way to check for it.</p>\n<p>You could catch it by making a factory for your object like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\n    return new MyObject&lt;T&gt;(type);\n}\n</code></pre>\n<p>And then in the object's constructor store that type, so variable so that your method could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255576405,"creation_date":1255576405,"answer_id":1570105,"question_id":1570073,"body_markdown":"Technically you shouldn&#39;t have to, that&#39;s the point of generics, so you can do compile-type checking:\r\n\r\n    public int indexOf(E arg0) {\r\n       ...\r\n    }\r\n\r\nbut then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai&#39;s answer.","title":"Java: Instanceof and Generics","body":"<p>Technically you shouldn't have to, that's the point of generics, so you can do compile-type checking:</p>\n\n<pre><code>public int indexOf(E arg0) {\n   ...\n}\n</code></pre>\n\n<p>but then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai's answer.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255579709,"creation_date":1255579709,"answer_id":1570232,"question_id":1570073,"body_markdown":"The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.\r\n\r\n    public interface FilterObject {\r\n         boolean isAllowed(Object obj);\r\n    }\r\n\r\n    public class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\r\n         private final FilterObject filter;\r\n         ...\r\n         public FilterOptimizedList(FilterObject filter) {\r\n             if (filter == null) {\r\n                 throw NullPointerException();\r\n             }\r\n             this.filter = filter;\r\n         }\r\n         ...\r\n         public int indexOf(Object obj) {\r\n             if (!filter.isAllows(obj)) {\r\n                  return -1;\r\n             }\r\n             ...\r\n         }\r\n         ...\r\n    }\r\n\r\n         final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\r\n             new FilterObject() { public boolean isAllowed(Object obj) {\r\n                 if (obj == null) {\r\n                     return true;\r\n                 } else if (obj instanceof String) {\r\n                     String str = (String)str;\r\n                     return str.length() &gt; = 4;\r\n                 } else {\r\n                     return false;\r\n                 }\r\n             }}\r\n         );","title":"Java: Instanceof and Generics","body":"<p>The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.</p>\n\n<pre><code>public interface FilterObject {\n     boolean isAllowed(Object obj);\n}\n\npublic class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\n     private final FilterObject filter;\n     ...\n     public FilterOptimizedList(FilterObject filter) {\n         if (filter == null) {\n             throw NullPointerException();\n         }\n         this.filter = filter;\n     }\n     ...\n     public int indexOf(Object obj) {\n         if (!filter.isAllows(obj)) {\n              return -1;\n         }\n         ...\n     }\n     ...\n}\n\n     final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\n         new FilterObject() { public boolean isAllowed(Object obj) {\n             if (obj == null) {\n                 return true;\n             } else if (obj instanceof String) {\n                 String str = (String)str;\n                 return str.length() &gt; = 4;\n             } else {\n                 return false;\n             }\n         }}\n     );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":779815,"reputation":151,"user_id":836265,"display_name":"terryscotttaylor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1310170251,"creation_date":1310170251,"answer_id":6631819,"question_id":1570073,"body_markdown":"Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.\r\n\r\n    class YourClass extends SomeOtherClass&lt;String&gt;\r\n    {\r\n\r\n       private Class&lt;?&gt; clazz;\r\n    \r\n       public Class&lt;?&gt; getParameterizedClass()\r\n       {\r\n          if(clazz == null)\r\n          {\r\n             ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\r\n              clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\r\n           }\r\n           return clazz;\r\n        }\r\n    }\r\n\r\n\r\nIn the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don&#39;t get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.\r\n","title":"Java: Instanceof and Generics","body":"<p>Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.</p>\n\n<pre><code>class YourClass extends SomeOtherClass&lt;String&gt;\n{\n\n   private Class&lt;?&gt; clazz;\n\n   public Class&lt;?&gt; getParameterizedClass()\n   {\n      if(clazz == null)\n      {\n         ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\n          clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\n       }\n       return clazz;\n    }\n}\n</code></pre>\n\n<p>In the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don't get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.</p>\n"},{"tags":[],"owner":{"account_id":1984761,"reputation":157,"user_id":1780345,"display_name":"ben"},"down_vote_count":12,"up_vote_count":18,"is_accepted":false,"score":6,"last_activity_date":1351403728,"creation_date":1351402140,"answer_id":13106609,"question_id":1570073,"body_markdown":"Or you could catch a failed attempt to cast into E **eg.**&lt;br/&gt;\r\n\r\n    public int indexOf(Object arg0){\r\n      try{\r\n        E test=(E)arg0;\r\n        return doStuff(test);\r\n      }catch(ClassCastException e){\r\n        return -1;\r\n      }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Or you could catch a failed attempt to cast into E <strong>eg.</strong><br/></p>\n\n<pre><code>public int indexOf(Object arg0){\n  try{\n    E test=(E)arg0;\n    return doStuff(test);\n  }catch(ClassCastException e){\n    return -1;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1371090973,"creation_date":1371059598,"answer_id":17072077,"question_id":1570073,"body_markdown":"Two options for runtime type checking with generics:\r\n\r\n**Option 1 - Corrupt your constructor**\r\n\r\nLet&#39;s assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. \r\n\r\nMake a filthy constructor like this:\r\n\r\n    public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\r\n   \r\n        this.t = t;\r\n    }\r\n\r\nThen you can use [isAssignableFrom][1] to check the type.\r\n\r\n    public int indexOf(Object o) {\r\n        \r\n        if (\r\n            o != null &amp;&amp;\r\n\r\n            !t.isAssignableFrom(o.getClass())\r\n        \r\n        ) return -1;\r\n        \r\n    //...\r\n\r\nEach time you instantiate your object you would have to repeat yourself:\r\n\r\n    new MyCollection&lt;Apples&gt;(Apples.class);\r\n\r\nYou might decide it isn&#39;t worth it. In the implementation of [ArrayList.indexOf(...)][2], they do not check that the type matches.\r\n\r\n**Option 2 - Let it fail**\r\n\r\nIf you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about **instanceof**. If you have a method like this:\r\n\r\n    protected abstract void abstractMethod(T element);\r\n\r\nYou can use it like this:\r\n\r\n    public int indexOf(Object o) {\r\n\r\n        try {\r\n\r\n            abstractMethod((T) o);\r\n\r\n        } catch (ClassCastException e) {\r\n\r\n    //...\r\n \r\n\r\nYou are casting the object to T (your generic type), just to fool the compiler. [Your cast does nothing at runtime][3], but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.\r\n\r\nNOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.\r\n\r\nNOTE 2: [You get a free null check when you use instanceof][4]. Since you can&#39;t use it, you may need to check for null with your bare hands.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\r\n  [4]: https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof","title":"Java: Instanceof and Generics","body":"<p>Two options for runtime type checking with generics:</p>\n\n<p><strong>Option 1 - Corrupt your constructor</strong></p>\n\n<p>Let's assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. </p>\n\n<p>Make a filthy constructor like this:</p>\n\n<pre><code>public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\n\n    this.t = t;\n}\n</code></pre>\n\n<p>Then you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\" rel=\"noreferrer\">isAssignableFrom</a> to check the type.</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    if (\n        o != null &amp;&amp;\n\n        !t.isAssignableFrom(o.getClass())\n\n    ) return -1;\n\n//...\n</code></pre>\n\n<p>Each time you instantiate your object you would have to repeat yourself:</p>\n\n<pre><code>new MyCollection&lt;Apples&gt;(Apples.class);\n</code></pre>\n\n<p>You might decide it isn't worth it. In the implementation of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\" rel=\"noreferrer\">ArrayList.indexOf(...)</a>, they do not check that the type matches.</p>\n\n<p><strong>Option 2 - Let it fail</strong></p>\n\n<p>If you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about <strong>instanceof</strong>. If you have a method like this:</p>\n\n<pre><code>protected abstract void abstractMethod(T element);\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    try {\n\n        abstractMethod((T) o);\n\n    } catch (ClassCastException e) {\n\n//...\n</code></pre>\n\n<p>You are casting the object to T (your generic type), just to fool the compiler. <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\" rel=\"noreferrer\">Your cast does nothing at runtime</a>, but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.</p>\n\n<p>NOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.</p>\n\n<p>NOTE 2: <a href=\"https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof\">You get a free null check when you use instanceof</a>. Since you can't use it, you may need to check for null with your bare hands.</p>\n"},{"tags":[],"owner":{"account_id":5335539,"reputation":107,"user_id":4254661,"display_name":"hsaturn"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1416096666,"creation_date":1416051682,"answer_id":26945416,"question_id":1570073,"body_markdown":"I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).\r\n\r\nMy probem was inside an abstract class that implements Observer.\r\nThe Observable fires method update(...) with Object class that can be any kind of Object.\r\n\r\nI only want to handler Objects of type T \r\n\r\n\r\nThe solution is to pass the class to the constructor in order to be able to compare types at runtime.\r\n\r\n\r\n   \r\n\r\n    public abstract class AbstractOne&lt;T&gt; implements Observer {\r\n        \r\n      private Class&lt;T&gt; tClass;\r\n        public AbstractOne(Class&lt;T&gt; clazz) {\r\n        tClass = clazz;\r\n      }\r\n\r\n      @Override\r\n      public void update(Observable o, Object arg) {\r\n        if (tClass.isInstance(arg)) {\r\n          // Here I am, arg has the type T\r\n          foo((T) arg);\r\n      \t}\r\n      }\r\n\r\n      public abstract foo(T t);\r\n\r\n    }\r\n   \r\nFor the implementation we just have to pass the Class to the constructor\r\n\r\n    public class OneImpl extends AbstractOne&lt;Rule&gt; {\r\n      public OneImpl() {\r\n        super(Rule.class);\r\n      }\r\n\r\n      @Override\r\n      public void foo(Rule t){\r\n      }\r\n    }\r\n    ","title":"Java: Instanceof and Generics","body":"<p>I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).</p>\n\n<p>My probem was inside an abstract class that implements Observer.\nThe Observable fires method update(...) with Object class that can be any kind of Object.</p>\n\n<p>I only want to handler Objects of type T </p>\n\n<p>The solution is to pass the class to the constructor in order to be able to compare types at runtime.</p>\n\n<pre><code>public abstract class AbstractOne&lt;T&gt; implements Observer {\n\n  private Class&lt;T&gt; tClass;\n    public AbstractOne(Class&lt;T&gt; clazz) {\n    tClass = clazz;\n  }\n\n  @Override\n  public void update(Observable o, Object arg) {\n    if (tClass.isInstance(arg)) {\n      // Here I am, arg has the type T\n      foo((T) arg);\n    }\n  }\n\n  public abstract foo(T t);\n\n}\n</code></pre>\n\n<p>For the implementation we just have to pass the Class to the constructor</p>\n\n<pre><code>public class OneImpl extends AbstractOne&lt;Rule&gt; {\n  public OneImpl() {\n    super(Rule.class);\n  }\n\n  @Override\n  public void foo(Rule t){\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"down_vote_count":6,"up_vote_count":30,"is_accepted":false,"score":24,"last_activity_date":1424253873,"creation_date":1424253873,"answer_id":28580762,"question_id":1570073,"body_markdown":"Old post, but a simple way to do generic instanceOf checking.\r\n\r\n    public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\r\n        return clazz.isInstance(targetClass);\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Old post, but a simple way to do generic instanceOf checking.</p>\n\n<pre><code>public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\n    return clazz.isInstance(targetClass);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616009572,"creation_date":1616009572,"answer_id":66680005,"question_id":1570073,"body_markdown":"Let Java determine it and catch the exception bottom line.\r\n\r\n    public class Behaviour&lt;T&gt; {\r\n        public void behave(Object object) {\r\n            T typedObject = null;\r\n            \r\n            try { typedObject = (T) object; }\r\n            catch (ClassCastException ignored) {}\r\n            \r\n            if (null != typedObject) {\r\n                // Do something type-safe with typedObject\r\n            }\r\n        }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Let Java determine it and catch the exception bottom line.</p>\n<pre><code>public class Behaviour&lt;T&gt; {\n    public void behave(Object object) {\n        T typedObject = null;\n        \n        try { typedObject = (T) object; }\n        catch (ClassCastException ignored) {}\n        \n        if (null != typedObject) {\n            // Do something type-safe with typedObject\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230198,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":1570099,"answer_count":9,"score":171,"last_activity_date":1665519272,"creation_date":1255575603,"question_id":1570073,"body_markdown":"Before I look through my generic data structure for a value&#39;s index, I&#39;d like to see if it is even an instance of the type `this` has been parametrized to.\r\n\r\nBut Eclipse complains when I do this:\r\n\r\n\t@Override\r\n\tpublic int indexOf(Object arg0) {\r\n\t\tif (!(arg0 instanceof E)) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\r\nThis is the error message:\r\n\r\n&gt; Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime\r\n\r\nWhat is the better way to do it?","title":"Java: Instanceof and Generics","body":"<p>Before I look through my generic data structure for a value's index, I'd like to see if it is even an instance of the type <code>this</code> has been parametrized to.</p>\n\n<p>But Eclipse complains when I do this:</p>\n\n<pre><code>@Override\npublic int indexOf(Object arg0) {\n    if (!(arg0 instanceof E)) {\n        return -1;\n    }\n</code></pre>\n\n<p>This is the error message:</p>\n\n<blockquote>\n  <p>Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime</p>\n</blockquote>\n\n<p>What is the better way to do it?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1665162818,"post_id":73989740,"comment_id":130643203,"body_markdown":"Please, show your test class code.","body":"Please, show your test class code."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665167125,"post_id":73989740,"comment_id":130644467,"body_markdown":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);","body":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1665222870,"post_id":73989740,"comment_id":130652671,"body_markdown":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?","body":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1665521648,"post_id":73989740,"comment_id":130719505,"body_markdown":"As far as I can see, the code in your test should not compile. `remotecall.callAPI()` appears to return `void`, and you can&#39;t call a method returning `void` in a call to `when()`. You can write `doThrow(Exception.class).when(remotecall).callAPI();` instead. I can&#39;t say how you could test the value passed to the `logMessage` method, because you haven&#39;t shared with us how this method is defined.","body":"As far as I can see, the code in your test should not compile. <code>remotecall.callAPI()</code> appears to return <code>void</code>, and you can&#39;t call a method returning <code>void</code> in a call to <code>when()</code>. You can write <code>doThrow(Exception.class).when(remotecall).callAPI();</code> instead. I can&#39;t say how you could test the value passed to the <code>logMessage</code> method, because you haven&#39;t shared with us how this method is defined."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665602993,"post_id":73989740,"comment_id":130742154,"body_markdown":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks","body":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665162702,"creation_date":1665162702,"answer_id":73990513,"question_id":73989740,"body_markdown":"The method callAPI() takes no arguments so your &#39;when&#39; statement should be\r\n```\r\nwhen(remotecall.callAPI()).thenThrow(Exception.class); \r\n```","title":"Assert Values After Exception Happened with Mokito","body":"<p>The method callAPI() takes no arguments so your 'when' statement should be</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class); \n</code></pre>\n"}],"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73990513,"answer_count":1,"score":0,"last_activity_date":1665519210,"creation_date":1665158117,"question_id":73989740,"body_markdown":"I am trying to test a service by using Mockito that made a remote call to external API. \r\nIf the call is fails, I should do some other operations. \r\nSO I mock the external remote call, and I use the following:\r\n\r\n    public class Service {\r\n    \r\n        private Remotecall remotecall;\r\n    \r\n        public void method1() {\r\n            try {\r\n                remotecall.callAPI();\r\n            } catch (Exception e) {\r\n                logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Remotecall {\r\n    \r\n        public void callAPI() {\r\n            try {\r\n    \r\n                callExternalAPI();\r\n            } catch (Exception e) {\r\n                throw new GenericException(&quot;some message&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI tried to use this way:\r\n \r\n\r\n    when(remotecall.callAPI()).thenThrow(Exception.class);\r\n    AssertTrue(logmessage);\r\n\r\nThe test return null point exception!\r\n\r\nHow can I write a test in java using Mockito to test the value in the logMessage() method.\r\nIs it right to mock the remotecall class and inject callAPI()?","title":"Assert Values After Exception Happened with Mokito","body":"<p>I am trying to test a service by using Mockito that made a remote call to external API.\nIf the call is fails, I should do some other operations.\nSO I mock the external remote call, and I use the following:</p>\n<pre><code>public class Service {\n\n    private Remotecall remotecall;\n\n    public void method1() {\n        try {\n            remotecall.callAPI();\n        } catch (Exception e) {\n            logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\n        }\n    }\n}\n\npublic class Remotecall {\n\n    public void callAPI() {\n        try {\n\n            callExternalAPI();\n        } catch (Exception e) {\n            throw new GenericException(&quot;some message&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried to use this way:</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class);\nAssertTrue(logmessage);\n</code></pre>\n<p>The test return null point exception!</p>\n<p>How can I write a test in java using Mockito to test the value in the logMessage() method.\nIs it right to mock the remotecall class and inject callAPI()?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1665430119,"post_id":74019849,"comment_id":130694094,"body_markdown":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use.","body":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1665430435,"post_id":74019849,"comment_id":130694183,"body_markdown":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite.","body":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665465879,"post_id":74019849,"comment_id":130700376,"body_markdown":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665516893,"post_id":74019849,"comment_id":130718059,"body_markdown":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?","body":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?"}],"owner":{"account_id":26583403,"reputation":21,"user_id":20207714,"display_name":"JonasSnell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1665518726,"creation_date":1665429949,"question_id":74019849,"body_markdown":"My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn&#39;t run on my computer because it&#39;s on an older version of Java. I could downgrade Java, but then I can&#39;t have it run on other people&#39;s computers without them having to downgrade Java. I can&#39;t update compiler because SQLite and JDBC driver need an older version of Java.\r\n\r\nHow to have it runnable on any computer?","title":"Project compiled on an older version, how to have it runnable on any computer?","body":"<p>My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn't run on my computer because it's on an older version of Java. I could downgrade Java, but then I can't have it run on other people's computers without them having to downgrade Java. I can't update compiler because SQLite and JDBC driver need an older version of Java.</p>\n<p>How to have it runnable on any computer?</p>\n"},{"tags":["python","java","optapy"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665518705,"creation_date":1665518705,"answer_id":74033549,"question_id":74030316,"body_markdown":"From the error message, it appears the constraint stream use one version of `Shift`, and the domain model use a DIFFERENT version of `Shift`. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note `...domain.Shift...` (the one used by Constraint Streams) is different from `...shift_planning.domain.Shift...` (the one used by the domain). Either use `domain.Shift` in your Constraint Stream or use `shift_planning.domain.Shift` in your domain. ","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>From the error message, it appears the constraint stream use one version of <code>Shift</code>, and the domain model use a DIFFERENT version of <code>Shift</code>. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note <code>...domain.Shift...</code> (the one used by Constraint Streams) is different from <code>...shift_planning.domain.Shift...</code> (the one used by the domain). Either use <code>domain.Shift</code> in your Constraint Stream or use <code>shift_planning.domain.Shift</code> in your domain.</p>\n"}],"owner":{"account_id":16282497,"reputation":49,"user_id":11758017,"display_name":"Kerem Tatlıcı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033549,"answer_count":1,"score":0,"last_activity_date":1665518705,"creation_date":1665500987,"question_id":74030316,"body_markdown":"I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168)\r\n\r\n```\r\nSINGLETON_ID = 1\r\nsolver_config = optapy.config.solver.SolverConfig()\r\nsolver_config\\\r\n    .withSolutionClass(EmployeeSchedule)\\\r\n    .withEntityClasses(Shift)\\\r\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\r\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\r\n\r\n#error occurs in this line\r\nsolver_manager = solver_manager_create(solver_config)\r\n```\r\n\r\nBut i am receiving a java.lang.IllegalArgumentException error.\r\n\r\nFull Error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\r\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\r\n```\r\n\r\nwhat am i missing?\r\n","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (<a href=\"https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168\" rel=\"nofollow noreferrer\">https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168</a>)</p>\n<pre><code>SINGLETON_ID = 1\nsolver_config = optapy.config.solver.SolverConfig()\nsolver_config\\\n    .withSolutionClass(EmployeeSchedule)\\\n    .withEntityClasses(Shift)\\\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\n\n#error occurs in this line\nsolver_manager = solver_manager_create(solver_config)\n</code></pre>\n<p>But i am receiving a java.lang.IllegalArgumentException error.</p>\n<p>Full Error:</p>\n<pre><code>java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\n</code></pre>\n<p>what am i missing?</p>\n"},{"tags":["java","android","printing","windev","sunmi"],"comments":[{"owner":{"account_id":5977033,"reputation":125,"user_id":4697506,"display_name":"Rastislav Struh&#225;r"},"score":0,"creation_date":1665406917,"post_id":68794777,"comment_id":130686104,"body_markdown":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS","body":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS"},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":1,"creation_date":1665518624,"post_id":68794777,"comment_id":130718642,"body_markdown":"I edited my question, hope it can help you.","body":"I edited my question, hope it can help you."},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":0,"creation_date":1665519406,"post_id":68794777,"comment_id":130718878,"body_markdown":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so...","body":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so..."}],"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665518595,"creation_date":1629055836,"question_id":68794777,"body_markdown":"I&#39;m using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2\r\n\r\nI&#39;m developing a POS software with WinDev for Mobile 26, I&#39;m already displaying some windows, now the question is, how can I print on the build-in pos printer??\r\n\r\nThere is a print-test app on the kiosk installed, this works fine.\r\n\r\nIn the settings there is a printer settings too, but this says &quot;no device installed&quot;...\r\n\r\nIn the documentation there is a &quot;AIDL interface&quot; mentioned...\r\n\r\nAnd more, there is a API sample written:\r\n\r\nBound Service\r\n\r\n    Intent intent = new Intent();\r\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n\r\nIt is necessary to establish a new ServiceConnection service to bind the callback\r\n\r\n    ServiceConnection serviceConnection = new ServiceConnection() {\r\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\r\n    ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    }\r\n    @Override public void onServiceDisconnected(ComponentName name) { }\r\n    };\r\n\r\nUse ext object to realize one’s own printing task\r\n\r\n    ext.printText(“123456\\n”);\r\n\r\nUnbind the service after the completion of the usage\r\n\r\n    unbindService(serviceConnection);\r\n\r\nQuestion is, how can I use this Java code in WinDev Mobile??\r\n\r\nEDIT:\r\n\r\nI managed to print to the printer, but there is a small bug, so sometime it doesn&#39;t start immediatly, so therefore is the loop...\r\n\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import static android.content.Context.BIND_AUTO_CREATE;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.content.Intent;\r\n    import android.content.ServiceConnection;\r\n    import android.os.IBinder;\r\n    import android.widget.Toast;\r\n    import com.sunmi.extprinterservice.ExtPrinterService;\r\n    \r\n    public static void PrintToSunmiPrinter(byte[] cmd) {\r\n    \t\r\n    \tgetCurrentActivity();\r\n    \tContext context = getApplicationContext();\r\n    \tExtPrinterService ext;\r\n    \t\r\n    \tServiceConnection serviceConnection = new ServiceConnection() {\r\n    \t\t@Override public void onServiceConnected(ComponentName className, IBinder service) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// established, giving us the service object we can use to\r\n    \t\t\t// interact with the service.  Because we have bound to a explicit\r\n    \t\t\t// service that we know is running in our own process, we can\r\n    \t\t\t// cast its IBinder to a concrete class and directly access it.\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    \t\t\t\tint ret_code;\r\n    \t\t\t\tint zz=0;\r\n    \t\t\t\t\r\n    \t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\twhile(ret_code==-1){\r\n    \t\t\t\t\tzz++;\r\n    \t\t\t\t\tif (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\r\n    \t\t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\text.sendRawData(cmd);\r\n    \t\t\t\text.cutPaper(1, 0);\r\n    \t\t\t\text.flush();\r\n    \t\t\t}  catch(Exception ex){\r\n    \t\t\t\tToast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override public void onServiceDisconnected(ComponentName className) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// unexpectedly disconnected -- that is, its process crashed.\r\n    \t\t\t// Because it is running in our same process, we should never\r\n    \t\t\t// see this happen.\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tIntent intent = new Intent();\r\n    \tintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    \tintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    \tcontext.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n\r\n","title":"On a Sunmi K2 Terminal how can I print (on the build-in printer) something using WinDev Mobile?","body":"<p>I'm using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2</p>\n<p>I'm developing a POS software with WinDev for Mobile 26, I'm already displaying some windows, now the question is, how can I print on the build-in pos printer??</p>\n<p>There is a print-test app on the kiosk installed, this works fine.</p>\n<p>In the settings there is a printer settings too, but this says &quot;no device installed&quot;...</p>\n<p>In the documentation there is a &quot;AIDL interface&quot; mentioned...</p>\n<p>And more, there is a API sample written:</p>\n<p>Bound Service</p>\n<pre><code>Intent intent = new Intent();\nintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\nintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\nbindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n<p>It is necessary to establish a new ServiceConnection service to bind the callback</p>\n<pre><code>ServiceConnection serviceConnection = new ServiceConnection() {\n@Override public void onServiceConnected(ComponentName name, IBinder service) {\nExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n}\n@Override public void onServiceDisconnected(ComponentName name) { }\n};\n</code></pre>\n<p>Use ext object to realize one’s own printing task</p>\n<pre><code>ext.printText(“123456\\n”);\n</code></pre>\n<p>Unbind the service after the completion of the usage</p>\n<pre><code>unbindService(serviceConnection);\n</code></pre>\n<p>Question is, how can I use this Java code in WinDev Mobile??</p>\n<p>EDIT:</p>\n<p>I managed to print to the printer, but there is a small bug, so sometime it doesn't start immediatly, so therefore is the loop...</p>\n<pre><code>import android.content.ComponentName;\nimport android.content.Context;\nimport static android.content.Context.BIND_AUTO_CREATE;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.IBinder;\nimport android.widget.Toast;\nimport com.sunmi.extprinterservice.ExtPrinterService;\n\npublic static void PrintToSunmiPrinter(byte[] cmd) {\n    \n    getCurrentActivity();\n    Context context = getApplicationContext();\n    ExtPrinterService ext;\n    \n    ServiceConnection serviceConnection = new ServiceConnection() {\n        @Override public void onServiceConnected(ComponentName className, IBinder service) {\n            // This is called when the connection with the service has been\n            // established, giving us the service object we can use to\n            // interact with the service.  Because we have bound to a explicit\n            // service that we know is running in our own process, we can\n            // cast its IBinder to a concrete class and directly access it.\n            try {\n\n                ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n                int ret_code;\n                int zz=0;\n                \n                ret_code=ext.printerInit();\n                while(ret_code==-1){\n                    zz++;\n                    if (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\n                    ret_code=ext.printerInit();\n                }\n                \n                ext.sendRawData(cmd);\n                ext.cutPaper(1, 0);\n                ext.flush();\n            }  catch(Exception ex){\n                Toast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }\n        \n        @Override public void onServiceDisconnected(ComponentName className) {\n            // This is called when the connection with the service has been\n            // unexpectedly disconnected -- that is, its process crashed.\n            // Because it is running in our same process, we should never\n            // see this happen.\n        }\n    };\n    \n    Intent intent = new Intent();\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\n    context.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n}\n</code></pre>\n"},{"tags":["java","git"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516178,"post_id":74033068,"comment_id":130717856,"body_markdown":"I wonder.. the files that you changed - they use _your_ formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?","body":"I wonder.. the files that you changed - they use <i>your</i> formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516351,"post_id":74033068,"comment_id":130717891,"body_markdown":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)","body":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665516876,"post_id":74033068,"comment_id":130718052,"body_markdown":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting.","body":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665517121,"post_id":74033068,"comment_id":130718125,"body_markdown":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?","body":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665517274,"post_id":74033068,"comment_id":130718162,"body_markdown":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote.","body":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518389,"creation_date":1665518389,"answer_id":74033493,"question_id":74033068,"body_markdown":"If you pass `-X theirs` during rebasing (or merge, or cherry-pick), it&#39;ll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:\r\n\r\n```\r\ngit rebase -i [commit before formatting] -X theirs\r\n```\r\n\r\nThen you&#39;ll still need to update the files that you actually changed to use the team&#39;s conventions.","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>If you pass <code>-X theirs</code> during rebasing (or merge, or cherry-pick), it'll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:</p>\n<pre><code>git rebase -i [commit before formatting] -X theirs\n</code></pre>\n<p>Then you'll still need to update the files that you actually changed to use the team's conventions.</p>\n"}],"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665518389,"creation_date":1665515822,"question_id":74033068,"body_markdown":"I&#39;m working on a java project that uses two spaces as indent but I&#39;ve always used 4 spaces and find it much more readable. I&#39;d like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I&#39;m working on it but then discard those changes when I push to remote so that my PR doesn&#39;t show that I changed all of the files in the project and the rest of the team can keep their styling. What I&#39;ve been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using &#39;git rebase -i&#39; to delete this initial commit. This works for files that I haven&#39;t edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?\r\n\r\nOne other option I looked at was using the ignore blame rev but that doesn&#39;t actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn&#39;t what I&#39;m looking for. ","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>I'm working on a java project that uses two spaces as indent but I've always used 4 spaces and find it much more readable. I'd like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I'm working on it but then discard those changes when I push to remote so that my PR doesn't show that I changed all of the files in the project and the rest of the team can keep their styling. What I've been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using 'git rebase -i' to delete this initial commit. This works for files that I haven't edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?</p>\n<p>One other option I looked at was using the ignore blame rev but that doesn't actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn't what I'm looking for.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664824357,"creation_date":1664824357,"answer_id":73939812,"question_id":73806804,"body_markdown":"This might be the answer to your question:\r\n\r\n    public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\r\n            return (root, query, builder) -&gt; {\r\n                if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\r\n                    Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                            root.join(OrderEntity_.orderDetailEntityList);\r\n                    query.distinct(true);\r\n                    return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\r\n                            orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\r\n                } else {\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n\r\nReference:\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html","title":"Add IN clause to join specification","body":"<p>This might be the answer to your question:</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\n        return (root, query, builder) -&gt; {\n            if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\n                Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                        root.join(OrderEntity_.orderDetailEntityList);\n                query.distinct(true);\n                return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\n                        orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\n            } else {\n                return null;\n            }\n        };\n    }\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html</a>\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html</a></p>\n"}],"owner":{"account_id":26406069,"reputation":11,"user_id":20055836,"display_name":"kalaparthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665518240,"creation_date":1663793431,"question_id":73806804,"body_markdown":"Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the `WHERE` clause of the existing search query. \r\n\r\nHow to modify the existing specification for the `IN` clause?\r\n\r\n```\r\npublic static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\r\n  return (root, query, builder) -&gt; {\r\n    if (null != refType &amp;&amp; null != refNum) {\r\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                root.join(OrderEntity_.orderDetailEntityList);\r\n      query.distinct(true);      \r\n      return builder.and(\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n```","title":"Add IN clause to join specification","body":"<p>Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the <code>WHERE</code> clause of the existing search query.</p>\n<p>How to modify the existing specification for the <code>IN</code> clause?</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\n  return (root, query, builder) -&gt; {\n    if (null != refType &amp;&amp; null != refNum) {\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                root.join(OrderEntity_.orderDetailEntityList);\n      query.distinct(true);      \n      return builder.and(\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\n    } else {\n      return null;\n    }\n  };\n}\n</code></pre>\n"},{"tags":["java","openoffice-writer","odftoolkit","odfdom"],"comments":[{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1682289154,"post_id":73909144,"comment_id":134187587,"body_markdown":"did you ever find a solution to this issue? I am running into the same.","body":"did you ever find a solution to this issue? I am running into the same."}],"owner":{"account_id":26492574,"reputation":11,"user_id":20130811,"display_name":"bale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665518193,"creation_date":1664542604,"question_id":73909144,"body_markdown":"I couldn&#39;t find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.  \r\nI tried this:\r\n```\r\nTextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\r\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\r\nHeader headerBody = docBody.getHeader();\r\nHeader headerIntestazione = docIntestazione.getHeader();\r\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\r\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\r\n```\r\nBut `insertOdfElement` method returns null and does nothing.\r\n\r\nI also tried:\r\n```\r\nStyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\r\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\r\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\r\nstyleHeaderBody.appendChild(clone);\r\n```\r\nBut I get this exception:\r\n&gt; org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\r\n\r\nFor org.w3c.dom.Document there is an `importNode` method, but I couldn&#39;t find it for `org.odftoolkit.simple.TextDocument`\r\n\r\n","title":"Java Odftoolkit: Copy header (with its style, tables etc) from an OpenOffice writer doc to another with ODFDOM","body":"<p>I couldn't find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.<br />\nI tried this:</p>\n<pre><code>TextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\nHeader headerBody = docBody.getHeader();\nHeader headerIntestazione = docIntestazione.getHeader();\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\n</code></pre>\n<p>But <code>insertOdfElement</code> method returns null and does nothing.</p>\n<p>I also tried:</p>\n<pre><code>StyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\nstyleHeaderBody.appendChild(clone);\n</code></pre>\n<p>But I get this exception:</p>\n<blockquote>\n<p>org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.</p>\n</blockquote>\n<p>For org.w3c.dom.Document there is an <code>importNode</code> method, but I couldn't find it for <code>org.odftoolkit.simple.TextDocument</code></p>\n"},{"tags":["java","eclipse","algorithm"],"comments":[{"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"score":0,"creation_date":1665518236,"post_id":74033460,"comment_id":130718505,"body_markdown":"Or is it that the algorithm takes too long to finish because of the array sizes?","body":"Or is it that the algorithm takes too long to finish because of the array sizes?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1665518327,"post_id":74033460,"comment_id":130718541,"body_markdown":"`n =+ 5000` at the top of  your main loop - that doesn&#39;t look right.","body":"<code>n =+ 5000</code> at the top of  your main loop - that doesn&#39;t look right."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1665518689,"post_id":74033460,"comment_id":130718661,"body_markdown":"Yes, it should be `n += 5000` or `n = n+5000`. What you are doing is `n = (+5000)`, i.e. you are assigning the value 5000 to `n` after each iteration.","body":"Yes, it should be <code>n += 5000</code> or <code>n = n+5000</code>. What you are doing is <code>n = (+5000)</code>, i.e. you are assigning the value 5000 to <code>n</code> after each iteration."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1665555292,"post_id":74033460,"comment_id":130725007,"body_markdown":"`for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...`","body":"<code>for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...</code>"}],"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665518180,"creation_date":1665518180,"question_id":74033460,"body_markdown":"    NUMSEXP = 10\r\n    for n in 5000, 10000, 15000 ... 50000\r\n    totalTime = 0;\r\n    \tfor i in 1 ... NUMSEXP\r\n    \t\tA &lt;- new array of n random numbers from 1 to 10*n \r\n    \t\tstartTime &lt;- get currentTime\r\n    \t\tinversions &lt;- countInversions and Sort\r\n    \t\tendTime &lt;- end time\r\n    \t\ttotalTime &lt;- totalTime + (endTime + startTime)\r\n    \tprint n, totalTime/NUMSEXP\r\n\r\nI&#39;m trying to implement the algorithm above using this code but i&#39;m having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\r\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.\r\n\r\n    for(int n = 0; n &lt; 50000; n =+ 5000) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//primer inicializador de array con numeros random\r\n\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//para verificar si el algoritmo corre 10 veces\r\n\t\t\t\t\t\tint count = 1;\r\n\t\t\t\t\t\t//corre el algoritmo 10 veces\r\n\t\t\t\t\t\tfor(int j = 0; j &lt; NUMSEXP; j++) {\r\n\t\t\t\t\t\t\t//inicializa array con numeros random\r\n\t\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlong srtTime = System.nanoTime();\r\n\t\t\t\t\t\t\t//corre algoritmo\r\n\t\t\t\t\t\t\tint inversionCount = countInversionAndSort(arr, 0, arr.length-1);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//termina de contar en nano segundos cuanto se tarda en correr el algoritmo\r\n\t\t\t\t\t\t\tlong ndTime = System.nanoTime();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuantas veces conto el algoritmo\r\n\t\t\t\t\t\t\tSystem.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuanto tiempo se tardo el algoritmo en completar\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\r\n\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}","title":"How to implement this algorithm to counting inversions in different array sizes?","body":"<pre><code>NUMSEXP = 10\nfor n in 5000, 10000, 15000 ... 50000\ntotalTime = 0;\n    for i in 1 ... NUMSEXP\n        A &lt;- new array of n random numbers from 1 to 10*n \n        startTime &lt;- get currentTime\n        inversions &lt;- countInversions and Sort\n        endTime &lt;- end time\n        totalTime &lt;- totalTime + (endTime + startTime)\n    print n, totalTime/NUMSEXP\n</code></pre>\n<p>I'm trying to implement the algorithm above using this code but i'm having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.</p>\n<pre><code>for(int n = 0; n &lt; 50000; n =+ 5000) {\n                \n                    //primer inicializador de array con numeros random\n                    for(int i = 0; i &lt; arrSize; i++) {\n                        arr[i] = (int) (Math.random() * (10 * arrSize));\n                    }\n                    //para verificar si el algoritmo corre 10 veces\n                    int count = 1;\n                    //corre el algoritmo 10 veces\n                    for(int j = 0; j &lt; NUMSEXP; j++) {\n                        //inicializa array con numeros random\n                        for(int i = 0; i &lt; arrSize; i++) {\n                            arr[i] = (int) (Math.random() * (10 * arrSize));\n                        }\n                        \n                        long srtTime = System.nanoTime();\n                        //corre algoritmo\n                        int inversionCount = countInversionAndSort(arr, 0, arr.length-1);\n                                    \n                        //termina de contar en nano segundos cuanto se tarda en correr el algoritmo\n                        long ndTime = System.nanoTime();\n                                    \n                        //imprime cuantas veces conto el algoritmo\n                        System.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\n                                    \n                        //imprime cuanto tiempo se tardo el algoritmo en completar\n                        System.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\n\n                }   \n            }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1665446116,"post_id":74021677,"comment_id":130697650,"body_markdown":"`return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];`","body":"<code>return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];</code>"},{"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"score":0,"creation_date":1665446500,"post_id":74021677,"comment_id":130697695,"body_markdown":"[Check this](https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern) for multiple methods.","body":"<a href=\"https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern\">Check this</a> for multiple methods."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665447513,"post_id":74021677,"comment_id":130697839,"body_markdown":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html `return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }`","body":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a> <code>return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665446354,"creation_date":1665446354,"answer_id":74021721,"question_id":74021677,"body_markdown":"Seems you can do:\r\n\r\n    if (rank &lt; 9) {\r\n      return String.valueOf(rank + 2);\r\n    }\r\n    // handle rest individually","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>Seems you can do:</p>\n<pre><code>if (rank &lt; 9) {\n  return String.valueOf(rank + 2);\n}\n// handle rest individually\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665447208,"creation_date":1665446620,"answer_id":74021734,"question_id":74021677,"body_markdown":"For the rank, you can set your string values in a `List` with [`List.of`][3] and use `rank` as an index into the list.\r\n\r\n    private static final List&lt;String&gt; ranks = List.of(\r\n        &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\r\n\r\nThen in the `getVal` method:\r\n\r\n    return ranks.get(rank);\r\n\r\nFor the suit, you need to map a `String` to another `String`, using [`Map.of`][1].\r\n\r\n    private static final Map&lt;String, String&gt; suits = Map.of(\r\n        &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\r\n\r\nThen in the `getSuit` method:\r\n\r\n    return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\r\n\r\nThe [`getOrDefault` method][2] returns an alternative value in case the mapping doesn&#39;t exist, which appears to be what your code is doing after your if-else if block.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\r\n[3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>For the rank, you can set your string values in a <code>List</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> and use <code>rank</code> as an index into the list.</p>\n<pre><code>private static final List&lt;String&gt; ranks = List.of(\n    &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\n</code></pre>\n<p>Then in the <code>getVal</code> method:</p>\n<pre><code>return ranks.get(rank);\n</code></pre>\n<p>For the suit, you need to map a <code>String</code> to another <code>String</code>, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a>.</p>\n<pre><code>private static final Map&lt;String, String&gt; suits = Map.of(\n    &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\n</code></pre>\n<p>Then in the <code>getSuit</code> method:</p>\n<pre><code>return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>getOrDefault</code> method</a> returns an alternative value in case the mapping doesn't exist, which appears to be what your code is doing after your if-else if block.</p>\n"}],"owner":{"account_id":26329622,"reputation":1,"user_id":19990326,"display_name":"Adam Lenarduzzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665518143,"creation_date":1665445639,"question_id":74021677,"body_markdown":"I&#39;m trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list. \r\n\r\n```java\r\n  public String toString() {\r\n    return getVal() + getSuit();\r\n  }\r\n\r\n  public String getVal() {\r\n    int rank = value % 13;\r\n\r\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\r\n      rank == 2\r\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\r\n      rank == 4\r\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\r\n      rank == 6\r\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\r\n      rank == 8\r\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\r\n      rank == 10\r\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\r\n  }\r\n\r\n  public String getSuit() {\r\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\r\n      return &quot;\\u2660&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\r\n      return &quot;\\u2663&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\r\n      return &quot;\\u2665&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\r\n      return &quot;\\u2666&quot;;\r\n    }\r\n\r\n    return &quot;&quot;;\r\n  }\r\n```","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>I'm trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public String toString() {\n    return getVal() + getSuit();\n  }\n\n  public String getVal() {\n    int rank = value % 13;\n\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\n      rank == 2\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\n      rank == 4\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\n      rank == 6\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\n      rank == 8\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\n      rank == 10\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\n  }\n\n  public String getSuit() {\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\n      return &quot;\\u2660&quot;;\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\n      return &quot;\\u2663&quot;;\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\n      return &quot;\\u2665&quot;;\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\n      return &quot;\\u2666&quot;;\n    }\n\n    return &quot;&quot;;\n  }\n</code></pre>\n"},{"tags":["java","sql","sql-server","jpa"],"comments":[{"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"score":2,"creation_date":1665495963,"post_id":74027164,"comment_id":130710641,"body_markdown":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra `00` bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL.","body":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra <code>00</code> bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL."},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1665496331,"post_id":74027164,"comment_id":130710832,"body_markdown":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)","body":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)"}],"answers":[{"tags":[],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665497914,"creation_date":1665497914,"answer_id":74029668,"question_id":74027164,"body_markdown":"Adding the parameter `columnDefinition = &#39;BINARY(16)` to the `@Column` annotation solved the issue","title":"How to query server using UUIDs","body":"<p>Adding the parameter <code>columnDefinition = 'BINARY(16)</code> to the <code>@Column</code> annotation solved the issue</p>\n"},{"tags":[],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665517796,"creation_date":1665517796,"answer_id":74033401,"question_id":74027164,"body_markdown":"in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\r\nThe column in the table on the database is a VARCHAR. It has worked ok for me.\r\n\r\n      @Entity\r\n      @Access(AccessType.FIELD)\r\n      @Table(name = &quot;TABLE_WITH_UUID&quot;)\r\n      @NoArgsConstructor\r\n      @AllArgsConstructor\r\n      public class TableWithUuid implements Serializable {\r\n      private static final long serialVersionUID = 1L;\r\n      \r\n      [... other fields ...]\r\n      \r\n      @Column\r\n      @Getter\r\n      @Setter\r\n      private String uuid;\r\n\r\n      [... other fields ....]\r\n\r\n\r\nThe code to create the UUID is the following:\r\n\r\n        UUID uuid = UUID.randomUUID();\r\n        String uuidString = uuid.toString();\r\n\r\nI hope it can help.","title":"How to query server using UUIDs","body":"<p>in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\nThe column in the table on the database is a VARCHAR. It has worked ok for me.</p>\n<pre><code>  @Entity\n  @Access(AccessType.FIELD)\n  @Table(name = &quot;TABLE_WITH_UUID&quot;)\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public class TableWithUuid implements Serializable {\n  private static final long serialVersionUID = 1L;\n  \n  [... other fields ...]\n  \n  @Column\n  @Getter\n  @Setter\n  private String uuid;\n\n  [... other fields ....]\n</code></pre>\n<p>The code to create the UUID is the following:</p>\n<pre><code>    UUID uuid = UUID.randomUUID();\n    String uuidString = uuid.toString();\n</code></pre>\n<p>I hope it can help.</p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665517796,"creation_date":1665486640,"question_id":74027164,"body_markdown":"I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.\r\n\r\nThis is how I generate UUIDs in my Entity:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(insertable = false, updatable = false, nullable = false)\r\n    private UUID uuid;\r\n\r\nThis is my logic check in my service class:\r\n\r\n    boolean exists = technologyRepository.existsByUuid(t.getUuid());\r\n    if (!exists) {\r\n        throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\r\n    }\r\n\r\n`exists` always returns false when using UUIDS \r\n\r\n`java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.`\r\n\r\nthis is the UUID stored in my DB:\r\n\r\n`61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`\r\n\r\nThe following is the error message I get by running the query on my H2 server directly: \r\n\r\n`Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement:\r\nSELECT * FROM TECHNOLOGY WHERE UUID = &#39;61b784288bbf4d84997f62e0484c21cc&#39; [90110-214] 90110/90110`\r\n\r\n\r\n\r\n\r\n","title":"How to query server using UUIDs","body":"<p>I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.</p>\n<p>This is how I generate UUIDs in my Entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(insertable = false, updatable = false, nullable = false)\nprivate UUID uuid;\n</code></pre>\n<p>This is my logic check in my service class:</p>\n<pre><code>boolean exists = technologyRepository.existsByUuid(t.getUuid());\nif (!exists) {\n    throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\n}\n</code></pre>\n<p><code>exists</code> always returns false when using UUIDS</p>\n<p><code>java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.</code></p>\n<p>this is the UUID stored in my DB:</p>\n<p><code>61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code></p>\n<p>The following is the error message I get by running the query on my H2 server directly:</p>\n<p><code>Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement: SELECT * FROM TECHNOLOGY WHERE UUID = '61b784288bbf4d84997f62e0484c21cc' [90110-214] 90110/90110</code></p>\n"},{"tags":["java","java.util.scanner","primes"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665515082,"post_id":74032910,"comment_id":130717574,"body_markdown":"`for(int i=0;i&lt;X;++i){Y;}` is `int=0;while(i&lt;X){Y;++i}`","body":"<code>for(int i=0;i&lt;X;++i){Y;}</code> is <code>int=0;while(i&lt;X){Y;++i}</code>"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515541,"creation_date":1665515541,"answer_id":74033021,"question_id":74032910,"body_markdown":"Your `for` loop \r\n\r\n    for (int j = 2; j &lt;= n; j++){\r\n        //Do whatever\r\n    }\r\n\r\ncan be easily re-written as a `while` loop\r\n\r\n    int j = 2;\r\n\r\n    while (j &lt;= n){\r\n        //Do whatever\r\n        j++;\r\n    }\r\n\r\nA `for` loop is basically a specialized `while` loop that lets you define a starting variable, a stop condition, and an increment value.\r\n\r\nA basic `while` loop only has a stop condition, so in order to accomplish what a `for` loop does, you just need to define the starting variable `j` and the incremental `j++`","title":"print prime numbers between 2 and n","body":"<p>Your <code>for</code> loop</p>\n<pre><code>for (int j = 2; j &lt;= n; j++){\n    //Do whatever\n}\n</code></pre>\n<p>can be easily re-written as a <code>while</code> loop</p>\n<pre><code>int j = 2;\n\nwhile (j &lt;= n){\n    //Do whatever\n    j++;\n}\n</code></pre>\n<p>A <code>for</code> loop is basically a specialized <code>while</code> loop that lets you define a starting variable, a stop condition, and an increment value.</p>\n<p>A basic <code>while</code> loop only has a stop condition, so in order to accomplish what a <code>for</code> loop does, you just need to define the starting variable <code>j</code> and the incremental <code>j++</code></p>\n"},{"tags":[],"owner":{"account_id":26593733,"reputation":1,"user_id":20216489,"display_name":"JJmorg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665517623,"creation_date":1665516855,"answer_id":74033242,"question_id":74032910,"body_markdown":"   ```java\r\n     public static boolean isPrime(int n) {\r\n\t\tif(n == 1) {\r\n\t\t\treturn false;\r\n\t\t} \r\n\t\t\r\n\t\tfor(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\r\n\t\t\tif(n % i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\treturn true;\r\n\t}\r\n\r\n    public static void printPrimes(int endPoint) {\r\n\t\tint i = 2;\r\n\t\tSystem.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\r\n\t\twhile(i &lt;= endPoint) {\r\n\t\t\tif(isPrime(i)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n```\r\nThis is my first submission here so please forgive me if this is formatted poorly. \r\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.\r\n","title":"print prime numbers between 2 and n","body":"<pre class=\"lang-java prettyprint-override\"><code>  public static boolean isPrime(int n) {\n     if(n == 1) {\n         return false;\n     } \n     \n     for(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\n         if(n % i == 0) {\n             return false;\n         }\n     }\n         return true;\n }\n\n public static void printPrimes(int endPoint) {\n     int i = 2;\n     System.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\n     while(i &lt;= endPoint) {\n         if(isPrime(i)) {\n             System.out.println(i);\n         }\n         i++;\n     }\n }\n</code></pre>\n<p>This is my first submission here so please forgive me if this is formatted poorly.\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.</p>\n"}],"owner":{"account_id":25918815,"reputation":1,"user_id":19641837,"display_name":"PedroVb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665517623,"creation_date":1665514855,"question_id":74032910,"body_markdown":"I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can&#39;t make the program works using &quot;while&quot;. Can somebody help me?\r\nThis is the program I made with &quot;for&quot;\r\n```\r\nimport java.util.Scanner;\r\nclass Main {\r\n\tpublic static void main(String [] args)\t{\r\n\t\tint i;\r\n\t\tint cont;\r\n\t\tint n;\r\n\t    System.out.print(&quot;Enter a number: &quot;);\r\n\t\tScanner leia = new Scanner(System.in);\r\n\t\tn = leia.nextInt();\r\n\t    System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\r\n\t\tfor(int j = 2; j &lt;= n; j++) {\r\n\t\tcont = 0;\r\n\t\t\tfor(i = 1;i &lt;= j; i++) {\r\n\t\t\t   if(j % i == 0) {\r\n\t\t\t        cont++;        \r\n\t\t\t   }\r\n\t\t\t} if(cont == 2) {\r\n\t\t\t       System.out.print(j+&quot;  &quot;);   \r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"print prime numbers between 2 and n","body":"<p>I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can't make the program works using &quot;while&quot;. Can somebody help me?\nThis is the program I made with &quot;for&quot;</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n    public static void main(String [] args) {\n        int i;\n        int cont;\n        int n;\n        System.out.print(&quot;Enter a number: &quot;);\n        Scanner leia = new Scanner(System.in);\n        n = leia.nextInt();\n        System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\n        for(int j = 2; j &lt;= n; j++) {\n        cont = 0;\n            for(i = 1;i &lt;= j; i++) {\n               if(j % i == 0) {\n                    cont++;        \n               }\n            } if(cont == 2) {\n                   System.out.print(j+&quot;  &quot;);   \n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1665515464,"post_id":74033000,"comment_id":130717664,"body_markdown":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him","body":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him"},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515536,"post_id":74033000,"comment_id":130717684,"body_markdown":"Yes I Just give him base64 string thats it.","body":"Yes I Just give him base64 string thats it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515606,"post_id":74033000,"comment_id":130717712,"body_markdown":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name","body":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1665515622,"post_id":74033000,"comment_id":130717716,"body_markdown":"It&#39;s a bit unclear what you&#39;re asking.  `sharath.zip` encodes to `c2hhcmF0aC56aXA=` (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?","body":"It&#39;s a bit unclear what you&#39;re asking.  <code>sharath.zip</code> encodes to <code>c2hhcmF0aC56aXA=</code> (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665515766,"post_id":74033000,"comment_id":130717752,"body_markdown":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. `&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;`, then when decoding, split the string on `|`, then write a file using the first part as name, the second as content after base64 decoding it.","body":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. <code>&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;</code>, then when decoding, split the string on <code>|</code>, then write a file using the first part as name, the second as content after base64 decoding it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515772,"post_id":74033000,"comment_id":130717753,"body_markdown":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend","body":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665517649,"post_id":74033000,"comment_id":130718318,"body_markdown":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string `&quot;sharath.zip&quot;`, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them.","body":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string <code>&quot;sharath.zip&quot;</code>, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them."}],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515581,"creation_date":1665515581,"answer_id":74033030,"question_id":74033000,"body_markdown":"I think for decoding, you can try something like this,\r\n\r\n```\r\n String delims=&quot;[,]&quot;;\r\n    String[] parts = base64ImageString.split(delims);\r\n    String imageString = parts[1];\r\n    byte[] imageByteArray = Base64.decode(imageString );\r\n\r\n    InputStream is = new ByteArrayInputStream(imageByteArray);\r\n\r\n    //Find out image type\r\n    String mimeType = null;\r\n    String fileExtension = null;\r\n    try {\r\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\r\n        String delimiter=&quot;[/]&quot;;\r\n        String[] tokens = mimeType.split(delimiter);\r\n        fileExtension = tokens[1];\r\n    } catch (IOException ioException){\r\n\r\n    }\r\n```","title":"Get File extension from base64 encoded In Java","body":"<p>I think for decoding, you can try something like this,</p>\n<pre><code> String delims=&quot;[,]&quot;;\n    String[] parts = base64ImageString.split(delims);\n    String imageString = parts[1];\n    byte[] imageByteArray = Base64.decode(imageString );\n\n    InputStream is = new ByteArrayInputStream(imageByteArray);\n\n    //Find out image type\n    String mimeType = null;\n    String fileExtension = null;\n    try {\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\n        String delimiter=&quot;[/]&quot;;\n        String[] tokens = mimeType.split(delimiter);\n        fileExtension = tokens[1];\n    } catch (IOException ioException){\n\n    }\n</code></pre>\n"}],"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1914,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665517529,"creation_date":1665515392,"question_id":74033000,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0F6wb.png\r\n\r\nConsider this file type as `sharath.zip`. Suppose I have encoded `sharath.zip` to Base64 String. When I give base64String my friend. How my friend should get `sharath.zip` as file name from base64String. \r\n\r\nbase64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;","title":"Get File extension from base64 encoded In Java","body":"<p><img src=\"https://i.stack.imgur.com/0F6wb.png\" alt=\"enter image description here\" /></p>\n<p>Consider this file type as <code>sharath.zip</code>. Suppose I have encoded <code>sharath.zip</code> to Base64 String. When I give base64String my friend. How my friend should get <code>sharath.zip</code> as file name from base64String.</p>\n<p>base64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1662372124,"post_id":73604960,"comment_id":129983091,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/73604960/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666116224,"post_id":73604960,"comment_id":130857935,"body_markdown":"Does this answer your question? [My service test fails when I have an if statement in the class under test SpringBoot](https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring\">My service test fails when I have an if statement in the class under test SpringBoot</a>"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662584450,"creation_date":1662584101,"answer_id":73641363,"question_id":73604960,"body_markdown":"I don&#39;t have your code, but I tried to be the more generic as I can.\r\nI have test like the one below and it works great.\r\nHope to been helpful.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyTest {\r\n\r\n        @Mock\r\n    \tprivate AClass aclass;\r\n\r\n        @Mock\r\n    \tprivate BClass bclass;\r\n\r\n        @Mock\r\n    \tprivate CClass cclass;\r\n    \r\n    \t@Test\r\n    \tvoid testExecute() {\r\n    \t\t\r\n    \t\twhen(aclass.getAbc(any(String.class), any(Date.class), anyString()))\r\n    \t\t\t.thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\r\n    \r\n\t\t    when(bclass.isOk())\r\n\t\t\t    .thenAnswer(i -&gt; false);\r\n\r\n\t\t    when(cclass.getCdf(anyString()))\r\n\t\t\t    .thenAnswer(i -&gt; getCdf());\r\n            ...\r\n            ...\r\n            ...\r\n    \r\n        }\r\n\r\n\t\tprivate List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n\t\tprivate CDF getCdf() {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n    }\r\n\r\nAs you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I don't have your code, but I tried to be the more generic as I can.\nI have test like the one below and it works great.\nHope to been helpful.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private AClass aclass;\n\n    @Mock\n    private BClass bclass;\n\n    @Mock\n    private CClass cclass;\n\n    @Test\n    void testExecute() {\n        \n        when(aclass.getAbc(any(String.class), any(Date.class), anyString()))\n            .thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\n\n        when(bclass.isOk())\n            .thenAnswer(i -&gt; false);\n\n        when(cclass.getCdf(anyString()))\n            .thenAnswer(i -&gt; getCdf());\n        ...\n        ...\n        ...\n\n    }\n\n    private List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\n        ...\n        ...\n        ...\n    }\n\n    private CDF getCdf() {\n        ...\n        ...\n        ...\n    }\n\n}\n</code></pre>\n<p>As you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515966,"creation_date":1665515966,"answer_id":74033104,"question_id":73604960,"body_markdown":"Your code will still call the real method, unless `A` is an interface. I assume it is an implementation (a class) in your code.\r\n\r\n```\r\nA a = mock(A.class);\r\nwhen(a.doX()).thenReturn(&quot;X&quot;);\r\n//   ^^^^^^^-- this is calling the real method\r\n```\r\n\r\nIf you must use the class and cannot switch to an interface, you have do use `Mockito.doReturn` instead of `Mockito.when`:\r\n\r\n```\r\nA a = mock(A.class);\r\ndoReturn(&quot;X&quot;).when(a).doX();\r\n```\r\n\r\nBut it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>Your code will still call the real method, unless <code>A</code> is an interface. I assume it is an implementation (a class) in your code.</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n//   ^^^^^^^-- this is calling the real method\n</code></pre>\n<p>If you must use the class and cannot switch to an interface, you have do use <code>Mockito.doReturn</code> instead of <code>Mockito.when</code>:</p>\n<pre><code>A a = mock(A.class);\ndoReturn(&quot;X&quot;).when(a).doX();\n</code></pre>\n<p>But it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.</p>\n"}],"owner":{"account_id":22509486,"reputation":67,"user_id":16704621,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515966,"creation_date":1662356806,"question_id":73604960,"body_markdown":"I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:\r\n\r\n    A a = mock(A.class);\r\n    when(a.doX()).thenReturn(&quot;X&quot;);\r\n\r\ncauses the `java.lang.NullPointerException` in the second line.\r\n\r\nWhen I print the content of the variable `a`\r\n\r\n    System.out.println(a);\r\n\r\nI got also &quot;java.lang.NullPointerException&quot;.\r\n\r\nFor any other class the `Mockito.mock` and `Mockito.when` are working perfectly and if I print a content of some other class instance `b` I got &quot;Mock for B, hashcode: some hash code&quot;\r\n\r\nDo you know what could be problem? My example is simplified and I can&#39;t show the actual classes.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n</code></pre>\n<p>causes the <code>java.lang.NullPointerException</code> in the second line.</p>\n<p>When I print the content of the variable <code>a</code></p>\n<pre><code>System.out.println(a);\n</code></pre>\n<p>I got also &quot;java.lang.NullPointerException&quot;.</p>\n<p>For any other class the <code>Mockito.mock</code> and <code>Mockito.when</code> are working perfectly and if I print a content of some other class instance <code>b</code> I got &quot;Mock for B, hashcode: some hash code&quot;</p>\n<p>Do you know what could be problem? My example is simplified and I can't show the actual classes.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664892555,"post_id":73949112,"comment_id":130570764,"body_markdown":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)","body":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664893134,"post_id":73949112,"comment_id":130571012,"body_markdown":"Take care of java naming conventions. names should be camelCase not snake_case","body":"Take care of java naming conventions. names should be camelCase not snake_case"}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515947,"creation_date":1665138673,"answer_id":73985809,"question_id":73949112,"body_markdown":"You can try like this.\r\n\r\n```java\r\n@Query(value=&quot;select * from data_table where field_one = &#39;1000&#39; And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;=&#39;2022-09-17&#39;&quot;, nativeQuery = true)\r\n\tList&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\r\n```\r\nTake data and fieldType as String Array.","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=&quot;select * from data_table where field_one = '1000' And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;='2022-09-17'&quot;, nativeQuery = true)\n    List&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\n</code></pre>\n<p>Take data and fieldType as String Array.</p>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214468,"creation_date":1665214468,"answer_id":73995208,"question_id":73949112,"body_markdown":"You can try this: \r\n\r\n    @Query( SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n    AND (field_two, field_three, field_four) IN (:param1)\r\n    AND field_type IN (:param2)\r\n    AND date &lt;= &#39;2022-09-17&#39;, nativeQuery = true)\r\n    List&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\r\n\r\n","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try this:</p>\n<pre><code>@Query( SELECT *\nFROM data_table\nWHERE field_one = '1000'\nAND (field_two, field_three, field_four) IN (:param1)\nAND field_type IN (:param2)\nAND date &lt;= '2022-09-17', nativeQuery = true)\nList&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\n</code></pre>\n"}],"owner":{"account_id":7018074,"reputation":29,"user_id":5378635,"display_name":"kaushal singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515947,"creation_date":1664892065,"question_id":73949112,"body_markdown":"I have following SQL query\r\n\r\n    SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n      AND (field_two, field_three, field_four) IN ((&#39;70033100&#39;, &#39;0090047002&#39;, &#39;CAT&#39;), (&#39;70033100&#39;, &#39;0004712&#39;, &#39;SAT&#39;), (&#39;70031337&#39;, &#39;0233263&#39;, &#39;DAT&#39;), (&#39;70033100&#39;, &#39;0090000001&#39;, &#39;CAT&#39;))\r\n      AND field_type IN (&#39;TYPE_1&#39;, &#39;TYPE_2&#39;)\r\n      AND date &lt;= &#39;2022-09-17&#39;\r\n\r\nI need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.\r\n\r\n      class Entity {\r\n        String field_one;\r\n        String field_two;\r\n        String field_three;\r\n        String field_four;\r\n        LocalDate date;\r\n        String field_type;\r\n        }\r\n\r\nI understand that we can simply refer the list in jpa query like `:list`, for example I can have a method like\r\n\r\n    @Query(nativeQuery=true,\r\n    value = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\r\n    public List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\r\n\r\nHow to do it for the given query?","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>I have following SQL query</p>\n<pre><code>SELECT *\nFROM data_table\nWHERE field_one = '1000'\n  AND (field_two, field_three, field_four) IN (('70033100', '0090047002', 'CAT'), ('70033100', '0004712', 'SAT'), ('70031337', '0233263', 'DAT'), ('70033100', '0090000001', 'CAT'))\n  AND field_type IN ('TYPE_1', 'TYPE_2')\n  AND date &lt;= '2022-09-17'\n</code></pre>\n<p>I need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.</p>\n<pre><code>  class Entity {\n    String field_one;\n    String field_two;\n    String field_three;\n    String field_four;\n    LocalDate date;\n    String field_type;\n    }\n</code></pre>\n<p>I understand that we can simply refer the list in jpa query like <code>:list</code>, for example I can have a method like</p>\n<pre><code>@Query(nativeQuery=true,\nvalue = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\npublic List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\n</code></pre>\n<p>How to do it for the given query?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516220,"post_id":74033034,"comment_id":130717865,"body_markdown":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation","body":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation"},{"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"score":0,"creation_date":1665518301,"post_id":74033034,"comment_id":130718528,"body_markdown":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id=&quot;{client-id}&quot;,topic=&quot;{topic}&quot;","body":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id&zwnj;&#8203;=&quot;{client-id}&quot;,topic&zwnj;&#8203;=&quot;{topic}&quot;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665520086,"post_id":74033034,"comment_id":130719081,"body_markdown":"Those are JMX metrics in the docs... Not sure `consumer.metrics()` method is the exact same data","body":"Those are JMX metrics in the docs... Not sure <code>consumer.metrics()</code> method is the exact same data"}],"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515921,"creation_date":1665515609,"question_id":74033034,"body_markdown":"According to [Apache Kafka documentation](https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring), bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?\r\n\r\nAlso, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags? \r\n\r\nConsumer client code:\r\n\r\n        kafkaConsumer.subscribe(kafkaTopicNames);\r\n\r\n        while (true) {\r\n            try {\r\n                ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\r\n\r\n                for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\r\n                    logger.info(&quot;Message received &quot; + consumerRecord.value());\r\n                }\r\n\r\n                Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\r\n\r\n                for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\r\n                    Map&lt;String, String&gt; metricNameTags = metricName.tags();\r\n\r\n                    logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\r\n                }\r\n            } catch (Exception exception) {}\r\n\r\n            break;\r\n        }\r\n\r\nOutput:\r\n\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\r\n    .\r\n    .\r\n    .","title":"How to get additional information for each Kafka client (producer/consumer) metric?","body":"<p>According to <a href=\"https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring\" rel=\"nofollow noreferrer\">Apache Kafka documentation</a>, bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?</p>\n<p>Also, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags?</p>\n<p>Consumer client code:</p>\n<pre><code>    kafkaConsumer.subscribe(kafkaTopicNames);\n\n    while (true) {\n        try {\n            ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\n\n            for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\n                logger.info(&quot;Message received &quot; + consumerRecord.value());\n            }\n\n            Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\n\n            for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\n                Map&lt;String, String&gt; metricNameTags = metricName.tags();\n\n                logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\n            }\n        } catch (Exception exception) {}\n\n        break;\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\n.\n.\n.\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","cloudevents"],"comments":[{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665511851,"post_id":74032278,"comment_id":130716514,"body_markdown":"[This discussion](https://github.com/cloudevents/sdk-java/issues/196) may have something useful for you.","body":"<a href=\"https://github.com/cloudevents/sdk-java/issues/196\" rel=\"nofollow noreferrer\">This discussion</a> may have something useful for you."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515931,"post_id":74032278,"comment_id":130717792,"body_markdown":"Please share your Spring properties where you&#39;ve set `value.deserializer` to something other than StringDeserializer","body":"Please share your Spring properties where you&#39;ve set <code>value.deserializer</code> to something other than StringDeserializer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515978,"post_id":74032278,"comment_id":130717804,"body_markdown":"@ryyker That [shouldn&#39;t be necessary with Kafka](https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java)","body":"@ryyker That <a href=\"https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java\" rel=\"nofollow noreferrer\">shouldn&#39;t be necessary with Kafka</a>"},{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665521414,"post_id":74032278,"comment_id":130719454,"body_markdown":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful.","body":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665521485,"post_id":74032278,"comment_id":130719466,"body_markdown":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class.","body":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class."},{"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"score":0,"creation_date":1665579843,"post_id":74032278,"comment_id":130733620,"body_markdown":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above.","body":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above."}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515897,"creation_date":1665511166,"question_id":74032278,"body_markdown":"I am new to Kafka and trying to do some testing with a producer/consumer pair.\r\n\r\nI have a producer that looks like the below code.\r\n\r\n    String key = &quot;key1&quot;;\r\n        String message = &quot;{}&quot;; // has valid json\r\n        CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\r\n            .withType(&quot;test&quot;).withData(message.getBytes());\r\n    \r\n        topicPublisher.publish(key, ceb.build());\r\n\r\n\r\n\r\nOn my consumer side, I am trying to retrieve the message.\r\n\r\n    @KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\r\n      public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\r\n        eventHandler.processEvent(cloudEventRecord);\r\n        System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\r\n      }\r\n\r\n   An error is thrown at this line.\r\n\r\n    cloudEventRecord.value().getId()\r\n\r\nThis is the reason:\r\n\r\n&gt; Caused by: java.lang.ClassCastException: java.lang.String cannot be\r\n&gt; cast to io.cloudevents.CloudEvent","title":"String cannot be converted to CloudEvents","body":"<p>I am new to Kafka and trying to do some testing with a producer/consumer pair.</p>\n<p>I have a producer that looks like the below code.</p>\n<pre><code>String key = &quot;key1&quot;;\n    String message = &quot;{}&quot;; // has valid json\n    CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\n        .withType(&quot;test&quot;).withData(message.getBytes());\n\n    topicPublisher.publish(key, ceb.build());\n</code></pre>\n<p>On my consumer side, I am trying to retrieve the message.</p>\n<pre><code>@KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\n  public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\n    eventHandler.processEvent(cloudEventRecord);\n    System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\n  }\n</code></pre>\n<p>An error is thrown at this line.</p>\n<pre><code>cloudEventRecord.value().getId()\n</code></pre>\n<p>This is the reason:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassCastException: java.lang.String cannot be\ncast to io.cloudevents.CloudEvent</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9023,"page":969,"page_size":100}
