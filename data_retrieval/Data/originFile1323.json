{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653324697,"post_id":72352100,"comment_id":127819176,"body_markdown":"*is not working for that case* - What is the rationale behind this conclusion?","body":"<i>is not working for that case</i> - What is the rationale behind this conclusion?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653324802,"creation_date":1653324802,"answer_id":72352178,"question_id":72352100,"body_markdown":"No, this is fine.\r\n\r\nThe only case that string concatenation can be problematic is when you&#39;re using a loop to build _one single string_.  Your method by itself is fine.  Callers of your method can, of course, mess things up, but not in a way that&#39;s related to your method.  ","title":"Java string concatenation optimisation is applied in this case?","body":"<p>No, this is fine.</p>\n<p>The only case that string concatenation can be problematic is when you're using a loop to build <em>one single string</em>.  Your method by itself is fine.  Callers of your method can, of course, mess things up, but not in a way that's related to your method.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653325782,"creation_date":1653325782,"answer_id":72352374,"question_id":72352100,"body_markdown":"The code as written should be as efficient as making a StringBuilder and appending these 3 constants to it. There certainly is absolutely no difference at all between a literal (`&quot;Some phrase&quot;`), and an expression that the compiler can treat as a Compile Time Constant (which `CONSTANT`, here, clearly is - given that `CONSTANT` is static, final, not null, and of a CTCable type (All primitives and strings)).\r\n\r\nHowever, is that &#39;efficient&#39;? I doubt it - making a stringbuilder is not particularly cheap either. It&#39;s orders of magnitude cheaper than continually making new strings, sure, but there&#39;s always a bigger fish:\r\n\r\n## It doesn&#39;t matter\r\n\r\nComputers are fast. Really, _really_ fast. It is highly likely that you can write this incredibly badly (performance wise) and it _still_ won&#39;t be measurable. You won&#39;t even notice. Less than a millisecond slower.\r\n\r\nIn general, anybody that worries about performance at this level simply lacks perspective and knowledge: If you apply that level of fretting to your java code _and_ you have the knowledge to know what could in theory be non-perfectly-performant, you&#39;ll be sweating every 3rd character you ever type. That&#39;s no way to program. So, gain that perspective (or take it from me, &quot;just git gud&quot; is not exactly something you can do in a week - take it on faith for now, as you learn you can start verifying) - and don&#39;t worry about it. Unless you _actually_ run into an _actual_ situation where the code is slower than it feels like it could be, or slower than it needs to be, and then toss profilers and microbenchmark testing frameworks at it, and _THEN_, armed with all that information (and not before!), consider optimizing. The reports tell you what to optimize, because literally less than 1% of the code is responsible for 99% of the performance loss, so spending any time on code that isn&#39;t in that 1% is __an utter waste of time__, hence why you must get those reports first, or not start at all.\r\n\r\n## ... or perhaps it does\r\n\r\nBut if it does matter, and it&#39;s really that 1% of the code that is responsible for 99% of the loss, then usually you need to go a little further than just &#39;optimize the method&#39;. Optimize the entire pipeline.\r\n\r\nWhat is happening with this string? Take that into consideration.\r\n\r\nFor example, let&#39;s say that it, itself, is being appended to a much bigger stringbuilder. In which case, making a tiny stringbuilder here is incredibly inefficient compared to rewriting the method to:\r\n\r\n```\r\npublic static void concatStringWithCondition(StringBuilder sb, String condition) {\r\n   sb.append(&quot;Some phrase&quot;).append(condition).append(CONSTANT);\r\n}\r\n```\r\n\r\nOr, perhaps this data is being turned into bytes using UTF_8 and then tossed onto a web socket. In that case:\r\n\r\n```\r\nprivate static final byte[] PREFIX = &quot;Some phrase&quot;.getBytes(StandardCharsets.UTF_8);\r\nprivate static final byte[] SUFFIX = &quot;Some Constant&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\npublic void concatStringWithCondition(OutputStream out, String condition) {\r\n  out.write(PREFIX);\r\n  out.write(condition.getBytes(StandardCharsets.UTF_8));\r\n  out.write(SUFFIX);\r\n}\r\n```\r\n\r\n- and check if that outputstream is buffered. If not, make it buffered, that&#39;ll help __a ton__ and would completely dwarf the cost of not using string concatenation. If the &#39;condition&#39; string can get quite large, the above is no good either, you want a CharsetEncoder that encodes straight to the OutputStream, and may even want to replace all that with some ByteBuffer based approach.\r\n\r\n## Conclusion\r\n\r\n1. Assume performance is never relevant until it is.\r\n2. _IF_ performance truly must be tackled, strap in, it&#39;ll take ages to do it right. Doing it &#39;wrong&#39; (applying dumb rules of thumb that do not work) isn&#39;t useful. Either do it right, or don&#39;t do it.\r\n3. _IF_ you&#39;re still on bard, always start with profiler reports and use JMH to gather information.\r\n4. Be prepared to rewrite the pipeline - change the method signatures, in order to optimize.\r\n5. That means that micro-optimizing, which usually sacrifices nice abstracted APIs, is __actively bad for performance__ - because changing pipelines is considerably more difficult if all code is micro-optimized, given that this usually comes at the cost of abstraction.\r\n\r\nAnd now the circle is complete: Point 5 shows why the worrying about performance as you are doing in this question is in fact detrimental: It is far too likely that this worry results in you &#39;optimizing&#39; some code in a way that doesn&#39;t actually run faster (because the JVM is a complex beast), and even if it did, it is irrelevant because the code path this code is on is literally only 0.01% or less of the total runtime expenditure, and in the mean time you&#39;ve made your APIs worse and lack abstraction which would make any actually useful optimization much harder than it needs to be.\r\n\r\n## But I really want rules of thumb!\r\n\r\nAllright, fine. Here are 2 easy rules of thumb to follow that will lead to better performance:\r\n\r\n1. When in rome...\r\n\r\nThe JVM is an optimising marvel and will run the craziest code quite quickly anyway. However, it does this primarily by being a giant pattern matching machine: It finds recognizable code snippets and rewrites these to the fastest, most carefully tuned to juuust your combination of hardware machine code it can. However, this pattern machine isn&#39;t voodoo magic: It&#39;s got limited patterns. Which patterns do JVM makers &#39;ship&#39; with their JVMs? Why, the common patterns, of course. Why include a pattern for exotic code virtually nobody ever writes? Waste of space.\r\n\r\nSo, write code the way java programmers tend to write it. Which very much means: Do not write crazy code just because __you think__ it might be faster. It&#39;ll likely be _slower_. Just follow the crowd.\r\n\r\nTrivial example:\r\n\r\nWhich one is faster:\r\n\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nfor (int i = 0; i &lt; 10000; i++) list.add(someRandomName());\r\n\r\n// option 1:\r\n\r\nString[] arr = list.toArray(new String[list.size()]);\r\n\r\n// option 2:\r\n\r\nString[] arr = list.toArray(new String[0]);\r\n```\r\n\r\nYou might think, obviously, option 1, right? Option 2 &#39;wastes&#39; a string array, making a 0-length array just to toss it in the garbage right after. But you&#39;d be wrong: Option 2 is in fact faster (if you want an explanation: The JVM recognizes it, and does a hacky move: It makes an new string array that _does not_ need to be initialized with all zeroes first. Normal java code cannot do this (arrays are neccessarily initialized blank, to prevent memory corruption issues), but specifically `.toArray(new X[0])`? Those pattern matching machines I told you about detect this and replace it with code that just blits the refs straight into a patch of memory without wasting time writing zeroes to it first.\r\n\r\nIt&#39;s a subtle difference that is highly unlikely to matter - it just highlights: Your instincts? They will mislead you every time.\r\n\r\nFortunately, `.toArray(new X[0])` is common java code. And easier and shorter. So just write nice, convenient code that looks like how other folks write and you&#39;d have gotten the right answer here. Without having to know such _crazy_ esoterics as having to reason out how the JVM needs to waste time zeroing out that array and how hotspot / pattern matching __might__ possibly eliminate this, thus making it faster. That&#39;s just one of 5 million things you&#39;d have to know - and nobody can do that. Thus: Just write java code in simple, common styles.\r\n\r\n2. Algorithmic complexity is a thing hotspot can&#39;t fix for you\r\n\r\nGiven an `O(n^3)` algorithm fighting an `O(log(n) * n^2)` algorithm, make n large enough and the second algorithm has to win, that&#39;s what big O notation means. The JVM can do a lot of magic but it can pretty much never optimize an algorithm into a faster &#39;class&#39; of algorithmic complexity. You might be surprised at the size `n` has to be before algorithmic complexity dominates, but it is acceptable to realize that your algorithm can be fundamentally faster and do the work on rewriting it to this more efficient algorithm even without profiler reports and benchmark harnesses and the like.\r\n","title":"Java string concatenation optimisation is applied in this case?","body":"<p>The code as written should be as efficient as making a StringBuilder and appending these 3 constants to it. There certainly is absolutely no difference at all between a literal (<code>&quot;Some phrase&quot;</code>), and an expression that the compiler can treat as a Compile Time Constant (which <code>CONSTANT</code>, here, clearly is - given that <code>CONSTANT</code> is static, final, not null, and of a CTCable type (All primitives and strings)).</p>\n<p>However, is that 'efficient'? I doubt it - making a stringbuilder is not particularly cheap either. It's orders of magnitude cheaper than continually making new strings, sure, but there's always a bigger fish:</p>\n<h2>It doesn't matter</h2>\n<p>Computers are fast. Really, <em>really</em> fast. It is highly likely that you can write this incredibly badly (performance wise) and it <em>still</em> won't be measurable. You won't even notice. Less than a millisecond slower.</p>\n<p>In general, anybody that worries about performance at this level simply lacks perspective and knowledge: If you apply that level of fretting to your java code <em>and</em> you have the knowledge to know what could in theory be non-perfectly-performant, you'll be sweating every 3rd character you ever type. That's no way to program. So, gain that perspective (or take it from me, &quot;just git gud&quot; is not exactly something you can do in a week - take it on faith for now, as you learn you can start verifying) - and don't worry about it. Unless you <em>actually</em> run into an <em>actual</em> situation where the code is slower than it feels like it could be, or slower than it needs to be, and then toss profilers and microbenchmark testing frameworks at it, and <em>THEN</em>, armed with all that information (and not before!), consider optimizing. The reports tell you what to optimize, because literally less than 1% of the code is responsible for 99% of the performance loss, so spending any time on code that isn't in that 1% is <strong>an utter waste of time</strong>, hence why you must get those reports first, or not start at all.</p>\n<h2>... or perhaps it does</h2>\n<p>But if it does matter, and it's really that 1% of the code that is responsible for 99% of the loss, then usually you need to go a little further than just 'optimize the method'. Optimize the entire pipeline.</p>\n<p>What is happening with this string? Take that into consideration.</p>\n<p>For example, let's say that it, itself, is being appended to a much bigger stringbuilder. In which case, making a tiny stringbuilder here is incredibly inefficient compared to rewriting the method to:</p>\n<pre><code>public static void concatStringWithCondition(StringBuilder sb, String condition) {\n   sb.append(&quot;Some phrase&quot;).append(condition).append(CONSTANT);\n}\n</code></pre>\n<p>Or, perhaps this data is being turned into bytes using UTF_8 and then tossed onto a web socket. In that case:</p>\n<pre><code>private static final byte[] PREFIX = &quot;Some phrase&quot;.getBytes(StandardCharsets.UTF_8);\nprivate static final byte[] SUFFIX = &quot;Some Constant&quot;.getBytes(StandardCharsets.UTF_8);\n\npublic void concatStringWithCondition(OutputStream out, String condition) {\n  out.write(PREFIX);\n  out.write(condition.getBytes(StandardCharsets.UTF_8));\n  out.write(SUFFIX);\n}\n</code></pre>\n<ul>\n<li>and check if that outputstream is buffered. If not, make it buffered, that'll help <strong>a ton</strong> and would completely dwarf the cost of not using string concatenation. If the 'condition' string can get quite large, the above is no good either, you want a CharsetEncoder that encodes straight to the OutputStream, and may even want to replace all that with some ByteBuffer based approach.</li>\n</ul>\n<h2>Conclusion</h2>\n<ol>\n<li>Assume performance is never relevant until it is.</li>\n<li><em>IF</em> performance truly must be tackled, strap in, it'll take ages to do it right. Doing it 'wrong' (applying dumb rules of thumb that do not work) isn't useful. Either do it right, or don't do it.</li>\n<li><em>IF</em> you're still on bard, always start with profiler reports and use JMH to gather information.</li>\n<li>Be prepared to rewrite the pipeline - change the method signatures, in order to optimize.</li>\n<li>That means that micro-optimizing, which usually sacrifices nice abstracted APIs, is <strong>actively bad for performance</strong> - because changing pipelines is considerably more difficult if all code is micro-optimized, given that this usually comes at the cost of abstraction.</li>\n</ol>\n<p>And now the circle is complete: Point 5 shows why the worrying about performance as you are doing in this question is in fact detrimental: It is far too likely that this worry results in you 'optimizing' some code in a way that doesn't actually run faster (because the JVM is a complex beast), and even if it did, it is irrelevant because the code path this code is on is literally only 0.01% or less of the total runtime expenditure, and in the mean time you've made your APIs worse and lack abstraction which would make any actually useful optimization much harder than it needs to be.</p>\n<h2>But I really want rules of thumb!</h2>\n<p>Allright, fine. Here are 2 easy rules of thumb to follow that will lead to better performance:</p>\n<ol>\n<li>When in rome...</li>\n</ol>\n<p>The JVM is an optimising marvel and will run the craziest code quite quickly anyway. However, it does this primarily by being a giant pattern matching machine: It finds recognizable code snippets and rewrites these to the fastest, most carefully tuned to juuust your combination of hardware machine code it can. However, this pattern machine isn't voodoo magic: It's got limited patterns. Which patterns do JVM makers 'ship' with their JVMs? Why, the common patterns, of course. Why include a pattern for exotic code virtually nobody ever writes? Waste of space.</p>\n<p>So, write code the way java programmers tend to write it. Which very much means: Do not write crazy code just because <strong>you think</strong> it might be faster. It'll likely be <em>slower</em>. Just follow the crowd.</p>\n<p>Trivial example:</p>\n<p>Which one is faster:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; 10000; i++) list.add(someRandomName());\n\n// option 1:\n\nString[] arr = list.toArray(new String[list.size()]);\n\n// option 2:\n\nString[] arr = list.toArray(new String[0]);\n</code></pre>\n<p>You might think, obviously, option 1, right? Option 2 'wastes' a string array, making a 0-length array just to toss it in the garbage right after. But you'd be wrong: Option 2 is in fact faster (if you want an explanation: The JVM recognizes it, and does a hacky move: It makes an new string array that <em>does not</em> need to be initialized with all zeroes first. Normal java code cannot do this (arrays are neccessarily initialized blank, to prevent memory corruption issues), but specifically <code>.toArray(new X[0])</code>? Those pattern matching machines I told you about detect this and replace it with code that just blits the refs straight into a patch of memory without wasting time writing zeroes to it first.</p>\n<p>It's a subtle difference that is highly unlikely to matter - it just highlights: Your instincts? They will mislead you every time.</p>\n<p>Fortunately, <code>.toArray(new X[0])</code> is common java code. And easier and shorter. So just write nice, convenient code that looks like how other folks write and you'd have gotten the right answer here. Without having to know such <em>crazy</em> esoterics as having to reason out how the JVM needs to waste time zeroing out that array and how hotspot / pattern matching <strong>might</strong> possibly eliminate this, thus making it faster. That's just one of 5 million things you'd have to know - and nobody can do that. Thus: Just write java code in simple, common styles.</p>\n<ol start=\"2\">\n<li>Algorithmic complexity is a thing hotspot can't fix for you</li>\n</ol>\n<p>Given an <code>O(n^3)</code> algorithm fighting an <code>O(log(n) * n^2)</code> algorithm, make n large enough and the second algorithm has to win, that's what big O notation means. The JVM can do a lot of magic but it can pretty much never optimize an algorithm into a faster 'class' of algorithmic complexity. You might be surprised at the size <code>n</code> has to be before algorithmic complexity dominates, but it is acceptable to realize that your algorithm can be fundamentally faster and do the work on rewriting it to this more efficient algorithm even without profiler reports and benchmark harnesses and the like.</p>\n"}],"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653325782,"creation_date":1653324395,"question_id":72352100,"body_markdown":"Let&#39;s imagine I have a lib which contains the following simple method:\r\n\r\n```\r\n\r\nprivate static final String CONSTANT = &quot;Constant&quot;;\r\n\r\npublic static String concatStringWithCondition(String condition) {\r\n   return &quot;Some phrase&quot; + condition + CONSTANT;\r\n\r\n}\r\n\r\n```\r\n\r\nWhat if someone wants to use my method in a loop? As I understand, that string optimisation (where `+` gets replaced with `StringBuilder` or whatever is more optimal) is not working for that case? Or this is valid for strings initialised outside of the loop?\r\n\r\nI&#39;m using java 11 (Dropwizard).\r\n\r\nThanks.","title":"Java string concatenation optimisation is applied in this case?","body":"<p>Let's imagine I have a lib which contains the following simple method:</p>\n<pre><code>\nprivate static final String CONSTANT = &quot;Constant&quot;;\n\npublic static String concatStringWithCondition(String condition) {\n   return &quot;Some phrase&quot; + condition + CONSTANT;\n\n}\n\n</code></pre>\n<p>What if someone wants to use my method in a loop? As I understand, that string optimisation (where <code>+</code> gets replaced with <code>StringBuilder</code> or whatever is more optimal) is not working for that case? Or this is valid for strings initialised outside of the loop?</p>\n<p>I'm using java 11 (Dropwizard).</p>\n<p>Thanks.</p>\n"},{"tags":["java","http","httpresponse"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653325877,"post_id":72352373,"comment_id":127819579,"body_markdown":"You gotta extract the `&lt;h3&gt;` tag out of there somehow.","body":"You gotta extract the <code>&lt;h3&gt;</code> tag out of there somehow."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653326296,"post_id":72352373,"comment_id":127819729,"body_markdown":"Try using JSoup library","body":"Try using JSoup library"}],"owner":{"account_id":22980189,"reputation":1,"user_id":19182527,"display_name":"noodlegang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653326352,"answer_count":0,"score":0,"last_activity_date":1653325779,"creation_date":1653325779,"question_id":72352373,"body_markdown":"This may be a rookie problem, but I&#39;m stuck and I have to submit this by tomorrow.\r\nIn short, I send basic GET request to the website and then read responce using BufferedReader\r\n```\r\nif (HttpURLConnection.HTTP_OK == con.getResponseCode()) {\r\n                BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n                String line;\r\n                while ((line = bf.readLine()) != null) {\r\n                    sb.append(line);\r\n                    sb.append(&quot;/n&quot;);\r\n                    addToResultList(sb, nameRes);\r\n                }\r\n                System.out.println(sb);\r\n            }\r\n```\r\nNaturally, this just reads and prints out whole html code of the website, the only problem is that I don&#39;t know how to distract specific information from it, i.e.\r\n[part of responce][1]. \r\nI only need the title from it.\r\n\r\n  [1]: https://i.stack.imgur.com/gf6vy.png","title":"How to find specific information in HTTP Java response?","body":"<p>This may be a rookie problem, but I'm stuck and I have to submit this by tomorrow.\nIn short, I send basic GET request to the website and then read responce using BufferedReader</p>\n<pre><code>if (HttpURLConnection.HTTP_OK == con.getResponseCode()) {\n                BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n                String line;\n                while ((line = bf.readLine()) != null) {\n                    sb.append(line);\n                    sb.append(&quot;/n&quot;);\n                    addToResultList(sb, nameRes);\n                }\n                System.out.println(sb);\n            }\n</code></pre>\n<p>Naturally, this just reads and prints out whole html code of the website, the only problem is that I don't know how to distract specific information from it, i.e.\n<a href=\"https://i.stack.imgur.com/gf6vy.png\" rel=\"nofollow noreferrer\">part of responce</a>.\nI only need the title from it.</p>\n"},{"tags":["java","file","filewriter"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1600165464,"post_id":63899756,"comment_id":112995443,"body_markdown":"This should work. You need to check if `n&gt;0` and make sure you&#39;re looking at the file you&#39;re writing to.","body":"This should work. You need to check if <code>n&gt;0</code> and make sure you&#39;re looking at the file you&#39;re writing to."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1600165668,"creation_date":1600165668,"answer_id":63899930,"question_id":63899756,"body_markdown":"Your problem is incorrect initialization of `FileWriter`. Check this out where I put `true`:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 10);\r\n        appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 20);\r\n    }\r\n    \r\n    public static void appendRandomNumbersToFile(String fileName, int n) throws IOException {\r\n        if (n &lt;= 0)\r\n            throw new RuntimeException(&quot;n should be positive&quot;);\r\n    \r\n        try (PrintWriter writer = new PrintWriter(new FileWriter(fileName, true))) {\r\n            Random random = new Random();\r\n    \r\n            for (int i = 0; i &lt; n; i++)\r\n                writer.println(random.nextInt());\r\n        }\r\n    }\r\n\r\n\r\n***P.S.** This is from JavaDoc:*\r\n\r\n\r\n    public FileWriter(String fileName, boolean append) {}\r\n    public PrintWriter(Writer out, boolean autoFlush) {}","title":"Writing in a font file","body":"<p>Your problem is incorrect initialization of <code>FileWriter</code>. Check this out where I put <code>true</code>:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 10);\n    appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 20);\n}\n\npublic static void appendRandomNumbersToFile(String fileName, int n) throws IOException {\n    if (n &lt;= 0)\n        throw new RuntimeException(&quot;n should be positive&quot;);\n\n    try (PrintWriter writer = new PrintWriter(new FileWriter(fileName, true))) {\n        Random random = new Random();\n\n        for (int i = 0; i &lt; n; i++)\n            writer.println(random.nextInt());\n    }\n}\n</code></pre>\n<p><em><strong>P.S.</strong> This is from JavaDoc:</em></p>\n<pre><code>public FileWriter(String fileName, boolean append) {}\npublic PrintWriter(Writer out, boolean autoFlush) {}\n</code></pre>\n"}],"owner":{"account_id":19518105,"reputation":1,"user_id":14280556,"display_name":"PolloPalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653325602,"creation_date":1600165034,"question_id":63899756,"body_markdown":"I need to create a method that given the file name and an integer n writes to a character file with that name, n random integers, one per line.\r\nThis is my code, I think it is written correctly but the file I pass remains &quot;empty&quot; with size 0 bytes. Can someone help me?\r\n\r\n       public static void scriviIntero(String nomeFile, int n) {\r\n        try (PrintWriter scrivi = new PrintWriter(new FileWriter(nomeFile, true))) {\r\n        Random random = new Random();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                int nuovo = random.nextInt(99999);\r\n                scrivi.println(nuovo);\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Errore di I/O nella funzione scriviIntero nel tentativo di scrivere sul file &quot; + nomeFile);\r\n        }\r\n        \r\n    }\r\n","title":"Writing in a font file","body":"<p>I need to create a method that given the file name and an integer n writes to a character file with that name, n random integers, one per line.\nThis is my code, I think it is written correctly but the file I pass remains &quot;empty&quot; with size 0 bytes. Can someone help me?</p>\n<pre><code>   public static void scriviIntero(String nomeFile, int n) {\n    try (PrintWriter scrivi = new PrintWriter(new FileWriter(nomeFile, true))) {\n    Random random = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            int nuovo = random.nextInt(99999);\n            scrivi.println(nuovo);\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;Errore di I/O nella funzione scriviIntero nel tentativo di scrivere sul file &quot; + nomeFile);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","regex","apache-kafka","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653325230,"creation_date":1653325230,"answer_id":72352268,"question_id":72350660,"body_markdown":"Your pattern matches `masterdat`, `materdata`, `masetdataa`, etc. The `a*` means _zero or more `a`&#39;s_. \r\n\r\nTry using `masterdata\\.[a-z]+`","title":"Micronaut Kafka Listener multi topic","body":"<p>Your pattern matches <code>masterdat</code>, <code>materdata</code>, <code>masetdataa</code>, etc. The <code>a*</code> means <em>zero or more <code>a</code>'s</em>.</p>\n<p>Try using <code>masterdata\\.[a-z]+</code></p>\n"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72352268,"answer_count":1,"score":0,"last_activity_date":1653325269,"creation_date":1653317835,"question_id":72350660,"body_markdown":"I want to create a KakfaListener for several topics. All topics start with &quot;masterdata&quot;, for example:\r\n- masterdata.product\r\n- masterdata.supplier\r\n\r\nI try to implement a topic pattern but it doesn&#39;t work:\r\n```\r\n@KafkaListener(offsetReset = OffsetReset.EARLIEST)\r\n    static class AnalyticsListener {\r\n\r\n        @Topic(patterns=&quot;masterdata*&quot;)\r\n        void updateAnalytics(String item, String topic) {\r\n            received.add(topic);\r\n        }\r\n    }\r\n```\r\nAny suggestion?","title":"Micronaut Kafka Listener multi topic","body":"<p>I want to create a KakfaListener for several topics. All topics start with &quot;masterdata&quot;, for example:</p>\n<ul>\n<li>masterdata.product</li>\n<li>masterdata.supplier</li>\n</ul>\n<p>I try to implement a topic pattern but it doesn't work:</p>\n<pre><code>@KafkaListener(offsetReset = OffsetReset.EARLIEST)\n    static class AnalyticsListener {\n\n        @Topic(patterns=&quot;masterdata*&quot;)\n        void updateAnalytics(String item, String topic) {\n            received.add(topic);\n        }\n    }\n</code></pre>\n<p>Any suggestion?</p>\n"},{"tags":["java","file","java.util.scanner","filewriter"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1611563499,"post_id":65881127,"comment_id":116482027,"body_markdown":"Dont keep multiple streams to the same file open at the same time. They will interfere with each other and likely mess up everything, for example due to buffering and similar effects. Fully read the file, close the stream, do the edits and then fully write back. Also, use try-with-resources to ensure you do not get resource-leaks.","body":"Dont keep multiple streams to the same file open at the same time. They will interfere with each other and likely mess up everything, for example due to buffering and similar effects. Fully read the file, close the stream, do the edits and then fully write back. Also, use try-with-resources to ensure you do not get resource-leaks."}],"answers":[{"tags":[],"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611563105,"creation_date":1611563105,"answer_id":65881195,"question_id":65881127,"body_markdown":"You specified `true` as the [`append`][1] argument of `FileWriter`s constructor. So you are probalby reading what you previously written into the file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/io/FileWriter.html#%3Cinit%3E(java.lang.String,boolean)","title":"Read and Write to the same text file","body":"<p>You specified <code>true</code> as the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/FileWriter.html#%3Cinit%3E(java.lang.String,boolean)\" rel=\"nofollow noreferrer\"><code>append</code></a> argument of <code>FileWriter</code>s constructor. So you are probalby reading what you previously written into the file.</p>\n"}],"owner":{"account_id":8142601,"reputation":1,"user_id":6132238,"display_name":"supermanultraman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653325217,"creation_date":1611562757,"question_id":65881127,"body_markdown":"I have written this code to read from the file first after hashing the content from the file. It will write the original content plus hash values. But when I try to run the program the program will keep on writing and won&#39;t stop. what is the problem with my code?\r\n\r\n```\r\npackage Encrypt;\r\n\r\nimport java.io.*; \r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n\r\npublic static void main(String[] args) throws Exception {  \r\n\tFile file = new File(&quot;C:\\\\Users\\\\Tan\\\\Desktop\\\\Test.txt&quot;);\r\n\tScanner scan = new Scanner(file);\r\n\tFileWriter writer = new FileWriter(&quot;C:\\\\Users\\\\Tan\\\\Desktop\\\\Test.txt&quot;, true);\r\n\t\t\t\r\n\t\twhile(scan.hasNextLine()) {\r\n\t\t\tString password = scan.nextLine();\r\n\t\t\tMessageDigest md;\r\n\t\t\ttry {\r\n\t\t\t\t// Select the message digest for the hash computation -&gt; SHA-256\r\n\t\t\t\tmd = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n\t\t\t\t// Generate the random salt\r\n\t\t\t\tSecureRandom random = new SecureRandom();\r\n\t\t\t\tbyte[] salt = new byte[16];\r\n\t\t\t\trandom.nextBytes(salt);\r\n\r\n\t\t\t\t// Passing the salt to the digest for the computation\r\n\t\t\t\t//md.update(salt);\r\n\r\n\t\t\t\t// Generate the salted hash\r\n\t\t\t\tbyte[] hashedPassword = md.digest(password.getBytes(StandardCharsets.UTF_8));\r\n\t\t\t\t\r\n\t\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\t\tfor (byte b : hashedPassword)\r\n\t\t\t\t\tsb.append(String.format(&quot;%02x&quot;, b));\r\n\t\t\t\t//Print output\r\n\t\t\t\tSystem.out.println(password + &quot; &quot;  + sb.toString());\r\n\t\t\t\t//write output to text file\r\n\t\t\t\twriter.write(password + &quot; &quot;  + sb + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\twriter.flush();\r\n\t\t\t}\r\n\t\t\tcatch (NoSuchAlgorithmException e)\r\n\t\t\t{\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\tscan.close();\r\n\t\twriter.close();\r\n\t} \r\n}\r\n```\t\r\n\r\n","title":"Read and Write to the same text file","body":"<p>I have written this code to read from the file first after hashing the content from the file. It will write the original content plus hash values. But when I try to run the program the program will keep on writing and won't stop. what is the problem with my code?</p>\n<pre><code>package Encrypt;\n\nimport java.io.*; \nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.util.Scanner;\n\npublic class Test {\n\npublic static void main(String[] args) throws Exception {  \n    File file = new File(&quot;C:\\\\Users\\\\Tan\\\\Desktop\\\\Test.txt&quot;);\n    Scanner scan = new Scanner(file);\n    FileWriter writer = new FileWriter(&quot;C:\\\\Users\\\\Tan\\\\Desktop\\\\Test.txt&quot;, true);\n            \n        while(scan.hasNextLine()) {\n            String password = scan.nextLine();\n            MessageDigest md;\n            try {\n                // Select the message digest for the hash computation -&gt; SHA-256\n                md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n                // Generate the random salt\n                SecureRandom random = new SecureRandom();\n                byte[] salt = new byte[16];\n                random.nextBytes(salt);\n\n                // Passing the salt to the digest for the computation\n                //md.update(salt);\n\n                // Generate the salted hash\n                byte[] hashedPassword = md.digest(password.getBytes(StandardCharsets.UTF_8));\n                \n                StringBuilder sb = new StringBuilder();\n                for (byte b : hashedPassword)\n                    sb.append(String.format(&quot;%02x&quot;, b));\n                //Print output\n                System.out.println(password + &quot; &quot;  + sb.toString());\n                //write output to text file\n                writer.write(password + &quot; &quot;  + sb + System.getProperty(&quot;line.separator&quot;));\n                writer.flush();\n            }\n            catch (NoSuchAlgorithmException e)\n            {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        scan.close();\n        writer.close();\n    } \n}\n</code></pre>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1653298936,"post_id":72346241,"comment_id":127808963,"body_markdown":"You might want to provide some more details, e.g. the code in question.","body":"You might want to provide some more details, e.g. the code in question."}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653324919,"creation_date":1653300319,"answer_id":72346710,"question_id":72346241,"body_markdown":"No, there is none. The reason is that creating a defensive copy is different for each class, and the best way to do so depends on your use case. Lombok cannot know what you want or need.\r\n\r\nFor example, consider a mutable class with a modifiable list as a field, i.e. the list contents may change concurrently with the `getList()` call. In some cases, it could be reasonable to return a `Collections.unmodifiableList()` that will reflect the changes to the list that may concurrently occur. In other cases it may be better to return a list that never changes, e.g. creating a true copy of the list by `List.copyOf()`.\r\nFurthermore, if the objects in the list are also mutable, you may want to clone/copy those, too.\r\n\r\nSo if you want to return a defensive copy, you have to implement the getter manually.","title":"How to make Data lombok return deep copys of getter method","body":"<p>No, there is none. The reason is that creating a defensive copy is different for each class, and the best way to do so depends on your use case. Lombok cannot know what you want or need.</p>\n<p>For example, consider a mutable class with a modifiable list as a field, i.e. the list contents may change concurrently with the <code>getList()</code> call. In some cases, it could be reasonable to return a <code>Collections.unmodifiableList()</code> that will reflect the changes to the list that may concurrently occur. In other cases it may be better to return a list that never changes, e.g. creating a true copy of the list by <code>List.copyOf()</code>.\nFurthermore, if the objects in the list are also mutable, you may want to clone/copy those, too.</p>\n<p>So if you want to return a defensive copy, you have to implement the getter manually.</p>\n"}],"owner":{"account_id":13372240,"reputation":51,"user_id":9650262,"display_name":"INFORMATIKER IM ALL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72346710,"answer_count":1,"score":0,"last_activity_date":1653324919,"creation_date":1653298256,"question_id":72346241,"body_markdown":"Spotbugs is giving the following Error warnings:\r\n\r\n[ERROR] Medium: MetaData.getCreatedAt() may expose internal representation by returning MetaData.createdAt [...MetaData] At MetaData.java:[line 21] EI_EXPOSE_REP\r\n\r\n\r\nTo solve this i think i have to return a deep copy of the &quot;createdAt&quot;.\r\n\r\nIs there a solution to solve this directly with @Data?","title":"How to make Data lombok return deep copys of getter method","body":"<p>Spotbugs is giving the following Error warnings:</p>\n<p>[ERROR] Medium: MetaData.getCreatedAt() may expose internal representation by returning MetaData.createdAt [...MetaData] At MetaData.java:[line 21] EI_EXPOSE_REP</p>\n<p>To solve this i think i have to return a deep copy of the &quot;createdAt&quot;.</p>\n<p>Is there a solution to solve this directly with @Data?</p>\n"},{"tags":["java","intellij-idea","sbt"],"answers":[{"tags":[],"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653324550,"creation_date":1653324550,"answer_id":72352132,"question_id":72351860,"body_markdown":"intellij--&gt;file--&gt;project structure--&gt;project setting--&gt;project--&gt;select you java version","title":"intellij:project level jdk not taken up by sbt","body":"<p>intellij--&gt;file--&gt;project structure--&gt;project setting--&gt;project--&gt;select you java version</p>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653324550,"creation_date":1653323155,"question_id":72351860,"body_markdown":"I have configured jdk 17 for my scala project in intellij, but when I run &#39;sbt clean compile&#39; I still see it targeting Java 8 which is one pointed by my JAVA_HOME:\r\n\r\n    &gt;sbt clean compile\r\n    [info] welcome to sbt 1.5.8 (Azul Systems, Inc. Java 1.8.0_282)\r\n\r\nI expect it to target Java 17.\r\n\r\nHow can I get it working?\r\n\r\n","title":"intellij:project level jdk not taken up by sbt","body":"<p>I have configured jdk 17 for my scala project in intellij, but when I run 'sbt clean compile' I still see it targeting Java 8 which is one pointed by my JAVA_HOME:</p>\n<pre><code>&gt;sbt clean compile\n[info] welcome to sbt 1.5.8 (Azul Systems, Inc. Java 1.8.0_282)\n</code></pre>\n<p>I expect it to target Java 17.</p>\n<p>How can I get it working?</p>\n"},{"tags":["java","arraylist","return-value"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1653321080,"post_id":72351406,"comment_id":127817901,"body_markdown":"&quot;Right now I got something like this&quot; - rather than pseudo-code, it would be really helpful if you could post *actual* code that&#39;s as close as possible to what you&#39;re trying to do. That will give us a better sense of the requirements than pseudo-code does.","body":"&quot;Right now I got something like this&quot; - rather than pseudo-code, it would be really helpful if you could post <i>actual</i> code that&#39;s as close as possible to what you&#39;re trying to do. That will give us a better sense of the requirements than pseudo-code does."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1653321404,"post_id":72351406,"comment_id":127818021,"body_markdown":"how about assigning the returned list to some class field or variable so you could use it? What your code is doing right now is the equivalent of you saying &quot;i have a list!&quot;, &quot;where?&quot;, &quot;i don&#39;t know, its there *somewhere*&quot;","body":"how about assigning the returned list to some class field or variable so you could use it? What your code is doing right now is the equivalent of you saying &quot;i have a list!&quot;, &quot;where?&quot;, &quot;i don&#39;t know, its there <i>somewhere</i>&quot;"},{"owner":{"account_id":25333863,"reputation":3,"user_id":19153294,"display_name":"Lukas van Dee"},"score":0,"creation_date":1653323083,"post_id":72351406,"comment_id":127818625,"body_markdown":"I have edited it to contain some actual code in my  current version I got it returning from the static void but I am not sure how to then use it in the other void again.","body":"I have edited it to contain some actual code in my  current version I got it returning from the static void but I am not sure how to then use it in the other void again."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653324392,"creation_date":1653324392,"answer_id":72352099,"question_id":72351406,"body_markdown":"You can either define your list as static member or non-static member &amp; access it within different class methods something like:\r\n\r\n    public class Test {\r\n    \r\n    \tstatic List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlist.add(&quot;aa&quot;);\r\n    \t\tlist.add(&quot;bb&quot;);\r\n    \t\tlist.add(&quot;cc&quot;);\r\n    \t\tlist.add(&quot;dd&quot;);\r\n    \t\tnew Test().doOtherStuff();\r\n    \t}\r\n    \r\n    \tpublic void doOtherStuff() {\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    }\r\n\r\n\r\nSo same way, remove your list declaration from `main` &amp; put it outside main, &amp; then access list from `main` as well as from `doOtherStufff()` in static way.","title":"How do I use an arraylist created in another method","body":"<p>You can either define your list as static member or non-static member &amp; access it within different class methods something like:</p>\n<pre><code>public class Test {\n\n    static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    public static void main(String[] args) {\n        list.add(&quot;aa&quot;);\n        list.add(&quot;bb&quot;);\n        list.add(&quot;cc&quot;);\n        list.add(&quot;dd&quot;);\n        new Test().doOtherStuff();\n    }\n\n    public void doOtherStuff() {\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>So same way, remove your list declaration from <code>main</code> &amp; put it outside main, &amp; then access list from <code>main</code> as well as from <code>doOtherStufff()</code> in static way.</p>\n"}],"owner":{"account_id":25333863,"reputation":3,"user_id":19153294,"display_name":"Lukas van Dee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1653369461,"accepted_answer_id":72352099,"answer_count":1,"score":-4,"last_activity_date":1653324392,"creation_date":1653320882,"question_id":72351406,"body_markdown":"I right now made an arraylist and returned it just like in a void\r\nRight now I got something like this I know I have to change the static void t something else to return it but I lost that version of the code. \r\n\r\n```\r\npackage Spel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.awt.event.KeyEvent;\r\nimport Tools.*;\r\nimport java.awt.Color;\r\nimport java.util.Scanner;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\nPublic Class Surrounding{\r\n\r\n public String a;\r\n\r\n public static void main(String[] args) { // this just selects different specific words to put into an arraylist\r\n        File f = new File(&quot;words.txt&quot;);\r\n        try (FileReader fr = new FileReader(f);\r\n             BufferedReader br = new BufferedReader(fr)) {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                if (line.length() == 4) {\r\n                    list.add(line);\r\n                }\r\n                line = br.readLine();\r\n            }\r\n            System.out.println(list);\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n\r\n    public void otherstuff(){\r\n    list.get(6)\r\n    // here I want to do some stuff with some values out of the arraylist\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWhat do I do to use the filled list from the one void to the other? The problem is not the ArrayList filling or any mistakes I make in the declaring of the ArrayList just how to use the returned list","title":"How do I use an arraylist created in another method","body":"<p>I right now made an arraylist and returned it just like in a void\nRight now I got something like this I know I have to change the static void t something else to return it but I lost that version of the code.</p>\n<pre><code>package Spel;\n\nimport java.util.ArrayList;\nimport java.awt.event.KeyEvent;\nimport Tools.*;\nimport java.awt.Color;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\nPublic Class Surrounding{\n\n public String a;\n\n public static void main(String[] args) { // this just selects different specific words to put into an arraylist\n        File f = new File(&quot;words.txt&quot;);\n        try (FileReader fr = new FileReader(f);\n             BufferedReader br = new BufferedReader(fr)) {\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            String line = br.readLine();\n            while (line != null) {\n                if (line.length() == 4) {\n                    list.add(line);\n                }\n                line = br.readLine();\n            }\n            System.out.println(list);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n\n    public void otherstuff(){\n    list.get(6)\n    // here I want to do some stuff with some values out of the arraylist\n    }\n    \n}\n</code></pre>\n<p>What do I do to use the filled list from the one void to the other? The problem is not the ArrayList filling or any mistakes I make in the declaring of the ArrayList just how to use the returned list</p>\n"},{"tags":["java","spring-boot","jsp","jpa"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1652801968,"post_id":72276915,"comment_id":127692043,"body_markdown":"The property name in the exception looks weird. Usually the property is named `wedstrijd` and not `getWedstrijd`. Somehwere in your code you must have the latter ...","body":"The property name in the exception looks weird. Usually the property is named <code>wedstrijd</code> and not <code>getWedstrijd</code>. Somehwere in your code you must have the latter ..."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653323649,"post_id":72276915,"comment_id":127818813,"body_markdown":"It the getter method is named `getGetWedstrijd`, then `getWedstrijd` would be the name of the property.","body":"It the getter method is named <code>getGetWedstrijd</code>, then <code>getWedstrijd</code> would be the name of the property."}],"owner":{"account_id":25315560,"reputation":1,"user_id":19137727,"display_name":"Arthur Libberecht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653323086,"creation_date":1652801751,"question_id":72276915,"body_markdown":"This is the error I keep getting:\r\n```\r\njavax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]\r\n\tat javax.el.BeanELResolver$BeanProperties.get(BeanELResolver.java:249) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver$BeanProperties.access$300(BeanELResolver.java:201) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver.property(BeanELResolver.java:322) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:83) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\r\n\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jsp.views.wedstrijden_jsp._jspx_meth_c_005fforEach_005f0(wedstrijden_jsp.java:205) ~[na:na]\r\n\tat org.apache.jsp.views.wedstrijden_jsp._jspService(wedstrijden_jsp.java:149) ~[na:na]\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2022-05-17 17:19:31.259 ERROR 14524 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]] with root cause\r\n\r\njavax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]\r\n\tat javax.el.BeanELResolver$BeanProperties.get(BeanELResolver.java:249) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver$BeanProperties.access$300(BeanELResolver.java:201) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver.property(BeanELResolver.java:322) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:83) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\r\n\tat org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\r\n\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jsp.views.wedstrijden_jsp._jspx_meth_c_005fforEach_005f0(wedstrijden_jsp.java:205) ~[na:na]\r\n\tat org.apache.jsp.views.wedstrijden_jsp._jspService(wedstrijden_jsp.java:149) ~[na:na]\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nI understand that it had something to do with a getter of a property but I don&#39;t have a property with the name &quot;getWedstrijd&#39;\r\n\r\nthe class:\r\n```\r\n@Entity(name=&quot;tickets&quot;)\r\n@Table(name=&quot;tickets&quot;)\r\n@NamedQueries({\r\n\t@NamedQuery(name=&quot;WedstrijdTicket.get&quot;,\r\n\t\t\tquery=&quot;SELECT t FROM tickets t WHERE t.idtickets = :id&quot;),\r\n\t@NamedQuery(name=&quot;WedstrijdTicket.getWhereStadiumId&quot;,\r\n\t\t\tquery=&quot;SELECT t FROM tickets t WHERE t.stadiumId = :id&quot;)\r\n})\r\npublic class WedstrijdTicket {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int idtickets;\r\n\t@OneToOne\r\n\t@JoinColumn(name=&quot;webstrijdId&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Wedstrijd wedstrijd; \r\n\t@Column\r\n    private int aantal; //aantal tickets beschikbaar\r\n\t@Column\r\n\tprivate int stadiumId;\r\n\r\n    public WedstrijdTicket(Wedstrijd wedstrijd, int tickets) {\r\n        this.wedstrijd = wedstrijd;\r\n        this.aantal = tickets;\r\n    }\r\n    \r\n    public WedstrijdTicket() {\r\n    }\r\n\r\n    public int getTickets() {\r\n        return this.aantal;\r\n    }\r\n\r\n\tpublic int getStadiumId() {\r\n\t\treturn stadiumId;\r\n\t}\r\n\r\n\tpublic int getIdtickets() {\r\n\t\treturn idtickets;\r\n\t}\r\n\r\n\tpublic Wedstrijd getWedstrijd() {\r\n\t\treturn wedstrijd;\r\n\t}\r\n\r\n\tpublic int getAantal() {\r\n\t\treturn aantal;\r\n\t}\r\n    \r\n    //We willen &#39;aantal&#39; tickets kopen\r\n    public int ticketsKopen(int aantal) {\r\n        if (aantal &lt;= 0) {\r\n            return -1;\r\n        }\r\n        \r\n        //Nog voldoende tickets\r\n        if (this.aantal &gt;= aantal) {\r\n            this.aantal -= aantal;\r\n            return aantal;\r\n        }\r\n\r\n        //Niet meer voldoende tickets\r\n        int gekocht = this.aantal;\r\n        this.aantal = 0;\r\n        return gekocht;\r\n    }\r\n\r\n    public boolean uitverkocht() {\r\n        return this.aantal == 0;\r\n    }\r\n```\r\nI get the error from this jsp-page:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Wedstrijden&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;FIFA World Cup Qatar 2022&lt;/h1&gt;\r\n\t&lt;h2&gt;Stadion: ${stadium.name}&lt;/h2&gt;\r\n\t\r\n\t&lt;table&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;th&gt;Nr&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Voetbalmatch&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Datum&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Aftrap&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Tickets&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\t\t&lt;c:forEach items=&quot;${wedstrijdTicketsList}&quot; var=&quot;wedstrijd&quot; varStatus=&quot;loop&quot;&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;\r\n\t\t\t\t\t&lt;a&gt;${loop.count}&lt;/a&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;!--  ${wedstrijd.getWedstrijd.landenToString}--&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;!--${wedstrijd.getWedstrijd.datumStringFormat}--&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;!--${wedstrijd.getWedstrijd.uurStringFormat}--&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;${wedstrijd.getTickets}&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/c:forEach&gt;\r\n\t\t\r\n\t&lt;/table&gt;\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nIn my sping-boot application that i have made, I first have a form where you need to select something from a combobox.\r\nThan after pushing a button you go to an other page where the choice is suppose to show a list from a object.\r\nThis object corresponds with the choice of the previous page. The list is a list of Objects so maybe it has something to do with that?\r\nIf somebody could help me understand this exception that would be very helpful. ","title":"javax.el.PropertyNotFoundException I get this exception saying I don&#39;t got a getter?","body":"<p>This is the error I keep getting:</p>\n<pre><code>javax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]\n    at javax.el.BeanELResolver$BeanProperties.get(BeanELResolver.java:249) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver$BeanProperties.access$300(BeanELResolver.java:201) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver.property(BeanELResolver.java:322) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver.getValue(BeanELResolver.java:83) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\n    at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\n    at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jsp.views.wedstrijden_jsp._jspx_meth_c_005fforEach_005f0(wedstrijden_jsp.java:205) ~[na:na]\n    at org.apache.jsp.views.wedstrijden_jsp._jspService(wedstrijden_jsp.java:149) ~[na:na]\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2022-05-17 17:19:31.259 ERROR 14524 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]] with root cause\n\njavax.el.PropertyNotFoundException: Property [getWedstrijd] not found on type [domain.WedstrijdTicket]\n    at javax.el.BeanELResolver$BeanProperties.get(BeanELResolver.java:249) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver$BeanProperties.access$300(BeanELResolver.java:201) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver.property(BeanELResolver.java:322) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at javax.el.BeanELResolver.getValue(BeanELResolver.java:83) ~[tomcat-embed-el-9.0.62.jar:3.0.FR]\n    at org.apache.jasper.el.JasperELResolver.getValue(JasperELResolver.java:124) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.el.parser.AstValue.getValue(AstValue.java:168) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\n    at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189) ~[tomcat-embed-el-9.0.62.jar:9.0.62]\n    at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:692) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jsp.views.wedstrijden_jsp._jspx_meth_c_005fforEach_005f0(wedstrijden_jsp.java:205) ~[na:na]\n    at org.apache.jsp.views.wedstrijden_jsp._jspService(wedstrijden_jsp.java:149) ~[na:na]\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327) ~[tomcat-embed-jasper-9.0.62.jar:9.0.62]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I understand that it had something to do with a getter of a property but I don't have a property with the name &quot;getWedstrijd'</p>\n<p>the class:</p>\n<pre><code>@Entity(name=&quot;tickets&quot;)\n@Table(name=&quot;tickets&quot;)\n@NamedQueries({\n    @NamedQuery(name=&quot;WedstrijdTicket.get&quot;,\n            query=&quot;SELECT t FROM tickets t WHERE t.idtickets = :id&quot;),\n    @NamedQuery(name=&quot;WedstrijdTicket.getWhereStadiumId&quot;,\n            query=&quot;SELECT t FROM tickets t WHERE t.stadiumId = :id&quot;)\n})\npublic class WedstrijdTicket {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int idtickets;\n    @OneToOne\n    @JoinColumn(name=&quot;webstrijdId&quot;, referencedColumnName = &quot;id&quot;)\n    private Wedstrijd wedstrijd; \n    @Column\n    private int aantal; //aantal tickets beschikbaar\n    @Column\n    private int stadiumId;\n\n    public WedstrijdTicket(Wedstrijd wedstrijd, int tickets) {\n        this.wedstrijd = wedstrijd;\n        this.aantal = tickets;\n    }\n    \n    public WedstrijdTicket() {\n    }\n\n    public int getTickets() {\n        return this.aantal;\n    }\n\n    public int getStadiumId() {\n        return stadiumId;\n    }\n\n    public int getIdtickets() {\n        return idtickets;\n    }\n\n    public Wedstrijd getWedstrijd() {\n        return wedstrijd;\n    }\n\n    public int getAantal() {\n        return aantal;\n    }\n    \n    //We willen 'aantal' tickets kopen\n    public int ticketsKopen(int aantal) {\n        if (aantal &lt;= 0) {\n            return -1;\n        }\n        \n        //Nog voldoende tickets\n        if (this.aantal &gt;= aantal) {\n            this.aantal -= aantal;\n            return aantal;\n        }\n\n        //Niet meer voldoende tickets\n        int gekocht = this.aantal;\n        this.aantal = 0;\n        return gekocht;\n    }\n\n    public boolean uitverkocht() {\n        return this.aantal == 0;\n    }\n</code></pre>\n<p>I get the error from this jsp-page:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Wedstrijden&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;FIFA World Cup Qatar 2022&lt;/h1&gt;\n    &lt;h2&gt;Stadion: ${stadium.name}&lt;/h2&gt;\n    \n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Nr&lt;/th&gt;\n            &lt;th&gt;Voetbalmatch&lt;/th&gt;\n            &lt;th&gt;Datum&lt;/th&gt;\n            &lt;th&gt;Aftrap&lt;/th&gt;\n            &lt;th&gt;Tickets&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;c:forEach items=&quot;${wedstrijdTicketsList}&quot; var=&quot;wedstrijd&quot; varStatus=&quot;loop&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;a&gt;${loop.count}&lt;/a&gt;\n                &lt;/td&gt;\n                &lt;td&gt;&lt;!--  ${wedstrijd.getWedstrijd.landenToString}--&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;!--${wedstrijd.getWedstrijd.datumStringFormat}--&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;!--${wedstrijd.getWedstrijd.uurStringFormat}--&gt;&lt;/td&gt;\n                &lt;td&gt;${wedstrijd.getTickets}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/c:forEach&gt;\n        \n    &lt;/table&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>In my sping-boot application that i have made, I first have a form where you need to select something from a combobox.\nThan after pushing a button you go to an other page where the choice is suppose to show a list from a object.\nThis object corresponds with the choice of the previous page. The list is a list of Objects so maybe it has something to do with that?\nIf somebody could help me understand this exception that would be very helpful.</p>\n"},{"tags":["java","excel","apache-poi","readonly-attribute"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1653321100,"post_id":72350287,"comment_id":127817910,"body_markdown":"Is there only the checkbox set without passwords?","body":"Is there only the checkbox set without passwords?"},{"owner":{"account_id":4169224,"reputation":23,"user_id":4122986,"display_name":"Larz"},"score":0,"creation_date":1653328069,"post_id":72350287,"comment_id":127820322,"body_markdown":"Yes - that is correct - just the checkbox","body":"Yes - that is correct - just the checkbox"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653322875,"creation_date":1653322875,"answer_id":72351802,"question_id":72350287,"body_markdown":"In `Office Open XML`-Excel files the setting &quot;read only recommended&quot; is stored in `/xl/workbook.xml` as an attribute in a `fileSharing` XML-element.\r\n\r\n    ...\r\n    &lt;fileSharing readOnlyRecommended=&quot;1&quot;/&gt;\r\n    ...\r\n\r\nThis can be set or unset using `apache poi` only using the low level `org.openxmlformats.schemas.spreadsheetml.x2006.main.*`-classes.\r\n\r\nComplete example:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    class ExcelRemoveReadOnlyRecommended  {\r\n    \r\n     static void removeReadOnlyRecommended(XSSFWorkbook workbook) {    \r\n      CTWorkbook ctWorkbook = workbook.getCTWorkbook();\r\n      CTFileSharing ctfilesharing = ctWorkbook.getFileSharing();\r\n      if (ctfilesharing != null) {\r\n       ctfilesharing.setReadOnlyRecommended(false);\r\n      }\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      String sourceFilePath = &quot;./sourceFile.xlsx&quot;;\r\n      String resultFilePath = &quot;./resultFile.xlsx&quot;;\r\n        \r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\r\n      \r\n      if (workbook instanceof XSSFWorkbook) {\r\n       removeReadOnlyRecommended((XSSFWorkbook)workbook);\r\n      }\r\n    \r\n      OutputStream out = new FileOutputStream(resultFilePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n     }\r\n    }\r\n\r\nIf the `sourceFile.xlsx` has set that option, but without passwords, then after running that code the `resultFile.xlsx` has not set that option anymore.\r\n\r\nIf passwords are set too, then decryption is needed at first and the password in `fileSharing` needs to be unset too. Of course then at least the decryption-password needs to be known.\r\n","title":"Apache POI - Excel - File-&gt;Passwords-&gt;&quot;Read-only recommended&quot; (How to disable)","body":"<p>In <code>Office Open XML</code>-Excel files the setting &quot;read only recommended&quot; is stored in <code>/xl/workbook.xml</code> as an attribute in a <code>fileSharing</code> XML-element.</p>\n<pre><code>...\n&lt;fileSharing readOnlyRecommended=&quot;1&quot;/&gt;\n...\n</code></pre>\n<p>This can be set or unset using <code>apache poi</code> only using the low level <code>org.openxmlformats.schemas.spreadsheetml.x2006.main.*</code>-classes.</p>\n<p>Complete example:</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.*;\n\nimport java.io.*;\n\nclass ExcelRemoveReadOnlyRecommended  {\n\n static void removeReadOnlyRecommended(XSSFWorkbook workbook) {    \n  CTWorkbook ctWorkbook = workbook.getCTWorkbook();\n  CTFileSharing ctfilesharing = ctWorkbook.getFileSharing();\n  if (ctfilesharing != null) {\n   ctfilesharing.setReadOnlyRecommended(false);\n  }\n }\n \n public static void main(String[] args) throws Exception {\n     \n  String sourceFilePath = &quot;./sourceFile.xlsx&quot;;\n  String resultFilePath = &quot;./resultFile.xlsx&quot;;\n    \n  Workbook workbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\n  \n  if (workbook instanceof XSSFWorkbook) {\n   removeReadOnlyRecommended((XSSFWorkbook)workbook);\n  }\n\n  OutputStream out = new FileOutputStream(resultFilePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n }\n}\n</code></pre>\n<p>If the <code>sourceFile.xlsx</code> has set that option, but without passwords, then after running that code the <code>resultFile.xlsx</code> has not set that option anymore.</p>\n<p>If passwords are set too, then decryption is needed at first and the password in <code>fileSharing</code> needs to be unset too. Of course then at least the decryption-password needs to be known.</p>\n"}],"owner":{"account_id":4169224,"reputation":23,"user_id":4122986,"display_name":"Larz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72351802,"answer_count":1,"score":1,"last_activity_date":1653322875,"creation_date":1653316222,"question_id":72350287,"body_markdown":"I have several xlsx files that have the &quot;read-only recommended&quot; flag set.\r\n\r\n - Is there a POI 5.x method available to disable this checkbox?\r\n\r\n[![File Passwords][1]][1]\r\n\r\nI looked through [POI XML Properties][2] with no luck.\r\n\r\n  [1]: https://i.stack.imgur.com/WwiUx.png\r\n  [2]: https://poi.apache.org/apidocs/5.0/org/apache/poi/ooxml/POIXMLProperties.html","title":"Apache POI - Excel - File-&gt;Passwords-&gt;&quot;Read-only recommended&quot; (How to disable)","body":"<p>I have several xlsx files that have the &quot;read-only recommended&quot; flag set.</p>\n<ul>\n<li>Is there a POI 5.x method available to disable this checkbox?</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/WwiUx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WwiUx.png\" alt=\"File Passwords\" /></a></p>\n<p>I looked through <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/ooxml/POIXMLProperties.html\" rel=\"nofollow noreferrer\">POI XML Properties</a> with no luck.</p>\n"},{"tags":["java","swing","jbutton","restart"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1642152086,"post_id":70701646,"comment_id":124999980,"body_markdown":"`this.remove(game); game = new GamePanel(); this.add(game)` Nope! That will cause problems sans special handling. It is better to create a `SnakeGameModel` that can be passed to the panel to set it up and show the current view. Then when the user resets, set the game model back to the default (or create a fresh one) and pass it to the single `GamePanel`.","body":"<code>this.remove(game); game = new GamePanel(); this.add(game)</code> Nope! That will cause problems sans special handling. It is better to create a <code>SnakeGameModel</code> that can be passed to the panel to set it up and show the current view. Then when the user resets, set the game model back to the default (or create a fresh one) and pass it to the single <code>GamePanel</code>."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1642186108,"creation_date":1642167252,"answer_id":70711365,"question_id":70701646,"body_markdown":"# Introduction\r\n\r\nI copied your code into my Eclipse IDE and ran it as is.  I received the following runtime error.\r\n\r\n    Exception in thread &quot;main&quot; java.awt.IllegalComponentStateException: The frame is displayable.\r\n    \tat java.desktop/java.awt.Frame.setUndecorated(Frame.java:926)\r\n    \tat com.ggl.testing.SnakeGame$GameFrame.&lt;init&gt;(SnakeGame.java:41)\r\n    \tat com.ggl.testing.SnakeGame.main(SnakeGame.java:24)\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) section.\r\n\r\nI&#39;ve been writing Swing code for over 10 years, and I have the Oracle website bookmarked in my browser.  I still look up how to use certain components to make sure I&#39;m using them correctly.\r\n\r\nThe first thing I did was to slow down your snake so I could test the game.  I changed the delay of 75 to a delay of 750.  Here&#39;s a screenshot of your current GUI.\r\n\r\n[![Current GUI][1]][1]\r\n\r\nLooking over your code, you extend a `JFrame`.  You don&#39;t need to extend a `JFrame`.  You&#39;re not changing any `JFrame` functionality.  It&#39;s much simpler to use a `JFrame`.  This leads to one of my Java rules.\r\n\r\n&gt; Don&#39;t extend a Swing component, or any Java class, unless you intend\r\n&gt; to override one or more of the class methods.\r\n\r\nYou do extend a `JPanel`.  That&#39;s fine because you override the `paintComponent` method.\r\n\r\nFinally, your `JPanel` class is doing too much work.  You also make heavy use of static fields.  Even though you&#39;ll only create one `JPanel`, it&#39;s a good habit to treat every class as if you will create multiple instances of the class.  This creates fewer problems for yourself down the road.\r\n\r\nYou have the right idea, creating three classes.  \r\n\r\nSo let&#39;s rework your code, using some basic patterns and Swing best practices.  At this time, I don&#39;t know how many classes we&#39;ll wind up creating.\r\n\r\n# Explanation\r\n\r\nWhen I write a Swing GUI, I use the [model–view–controller][2] (MVC) pattern.  The name implies that you create a model first, then the view, then the controller(s).\r\n\r\nAn application model consists of one or more plain Java getter/setter classes.\r\n\r\nA view consists of a `JFrame`, one or more `JPanels`, and any other necessary Swing components.\r\n\r\nThe controller consists of one or more `Actions` or `ActionListeners`.  In Swing, there&#39;s usually not one controller to &quot;rule them all&quot;.\r\n\r\nTo summarize:\r\n\r\n- The view reads information from the model\r\n- The view does not update the model\r\n- The controllers update the model and repaint/revalidate your view.\r\n\r\n## Model\r\n\r\nI created two model classes, `SnakeModel` and `Snake`.\r\n\r\nThe `SnakeModel` class is a plain Java getter/setter class that holds one `Snake` instance, the apple eaten count, the apple location, the size of the game area, and a couple of booleans.  One boolean indicates whether or not the game loop is running and the other boolean indicates whether or not the game is over.\r\n\r\nThe game area uses a `java.awt.Dimension` to hold the width and height of the game area.  The width and the height do not have to have the same value.  The game area can be rectangular.\r\n\r\nThe game area is measured in units.  In the view, I convert the units into pixels.  That&#39;s the opposite of what you did.  If you want to change the game area, all you have to do is change the dimensions in the `SnakeModel` class.  Everything in the view is based on the game area dimension.\r\n\r\nThe `Snake` class holds a `java.util.List` of `java.awt.Point` objects and a `char` direction.  A `java.awt.Point` object holds an X and Y value.  Since we&#39;re dealing with objects, rather than int values, we have to be careful to clone the object when we want a new `Point`.\r\n\r\n## View\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the Event Dispatch Thread.\r\n\r\nI created a `JFrame`, a drawing `JPanel`, and a separate button `JPanel`.  Generally, it&#39;s not a good idea to add Swing components to a drawing `JPanel`.  By creating a separate button `JPanel`, I get the added feature of a &quot;Start Game&quot; button at almost no extra cost.  The button is disabled while the game is running. \r\n\r\nThe `JFrame` methods must be called in a specific order.  The `setVisible` method **must be called last**. \r\n\r\nI made the drawing `JPanel` more complicated by adding a separate area for the score.\r\n\r\nI made the drawing `JPanel` less complicated by only drawing the state of the game, based on the application model.  Period.  Nothing else.\r\n\r\nI limited the random colors to the white end of the color spectrum to maintain the contrast between the snake and the drawing `JPanel` background.\r\n\r\nI used key bindings instead of a key listener.  One advantage is that the drawing `JPanel` doesn&#39;t have to be in focus.  Since I have a separate button `JPanel`, the drawing `JPanel` doesn&#39;t have focus.\r\n\r\nAnother advantage is that I can add the WASD keys with four lines of additional code.\r\n\r\nOne disadvantage is that the key bindings code looks more complicated than a key listener.  Once you&#39;ve coded a few key bindings, you&#39;ll appreciate the advantages.\r\n\r\n## Controller\r\n\r\nI created three controller classes, `ButtonListener`, `TimerListener`, and `MovementAction`.\r\n\r\nThe `ButtonListener` class implements `ActionListener`.   The `ButtonListener` class initializes the game model and restarts the timer.\r\n\r\nThe `TimerListener` class implements `ActionListener`.  The `TimerListener` class is the game loop.  This class moves the snake, checks to see if the apple is eaten, checks to see if the snake has moved outside the game area or touched itself, and repaints the drawing `JPanel`.  I used your code as a model for the code in this class.\r\n\r\nThe `MovementAction` class extends `AbstractAction`.  The `AbstractAction` class implements `Action`.  This class changes the direction of the snake, based on the key presses.\r\n\r\nI create four instances of the `MovementAction` class, one for each direction.  This makes the `actionPerformed` method of the class much simpler.\r\n\r\n# Images\r\n\r\nHere&#39;s what the revised GUI looks like when you start the game.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHere&#39;s the revised GUI during the game.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nHere&#39;s the revised GUI when the game is over.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post this code as one block.\r\n\r\nYou should put the separate classes in separate files.\r\n\r\nWhen setting up a Swing GUI project, I create separate packages for the model, view, and controller.  This helps me keep the code organized.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class SnakeGame implements Runnable {\r\n    \r\n    \tpublic static void main(String arg[]) {\r\n    \t\tSwingUtilities.invokeLater(new SnakeGame());\r\n    \t}\r\n    \t\r\n    \tprivate final GamePanel gamePanel;\r\n    \t\r\n    \tprivate final JButton restartButton;\r\n    \t\r\n    \tprivate final SnakeModel model;\r\n    \t\r\n    \tpublic SnakeGame() {\r\n    \t\tthis.model = new SnakeModel();\r\n    \t\tthis.restartButton = new JButton(&quot;Start Game&quot;);\r\n    \t\tthis.gamePanel = new GamePanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Snake&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(gamePanel, BorderLayout.CENTER);\r\n    \t\tframe.add(createButtonPanel(), BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\tpanel.setBackground(Color.black);\r\n    \t\t\r\n    \t\trestartButton.addActionListener(new ButtonListener(this, model));\r\n    \t\tpanel.add(restartButton);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic JButton getRestartButton() {\r\n    \t\treturn restartButton;\r\n    \t}\r\n    \r\n    \tpublic void repaint() {\r\n    \t\tgamePanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic class GamePanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final int margin, scoreAreaHeight, unitSize;\r\n    \t\t\r\n    \t\tprivate final Random random;\r\n    \t\t\r\n    \t\tprivate final SnakeModel model;\r\n    \t\t\r\n    \t\tpublic GamePanel(SnakeModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.margin = 10;\r\n    \t\t\tthis.unitSize = 25;\r\n    \t\t\tthis.scoreAreaHeight = 36 + margin;\r\n    \t\t\tthis.random = new Random();\r\n    \t\t\tthis.setBackground(Color.black);\r\n    \t\t\t\r\n    \t\t\tDimension gameArea = model.getGameArea();\r\n    \t\t\tint width = gameArea.width * unitSize + 2 * margin;\r\n    \t\t\tint height = gameArea.height * unitSize + 2 * margin + scoreAreaHeight;\r\n    \t\t\tthis.setPreferredSize(new Dimension(width, height));\r\n    \t\t\tsetKeyBindings();\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void setKeyBindings() {\r\n    \t\t\tInputMap inputMap = this.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tActionMap actionMap = this.getActionMap();\r\n    \t\t\t\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\r\n    \t\t\t\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\r\n    \t\t\t\r\n    \t\t\tactionMap.put(&quot;up&quot;, new MovementAction(model, &#39;U&#39;, &#39;D&#39;));\r\n    \t\t\tactionMap.put(&quot;down&quot;, new MovementAction(model, &#39;D&#39;, &#39;U&#39;));\r\n    \t\t\tactionMap.put(&quot;left&quot;, new MovementAction(model, &#39;L&#39;, &#39;R&#39;));\r\n    \t\t\tactionMap.put(&quot;right&quot;, new MovementAction(model, &#39;R&#39;, &#39;L&#39;));\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tDimension gameArea = model.getGameArea();\r\n    \t\t\tdrawHorizontalGridLines(g, gameArea);\r\n    \t\t\tdrawVerticalGridLines(g, gameArea);\r\n    \t\t\tdrawSnake(g);\r\n    \t\t\tdrawScore(g, gameArea);\r\n    \t\t\t\r\n    \t\t\tif (model.isGameOver) {\r\n    \t\t\t\tdrawGameOver(g, gameArea);\r\n    \t\t\t} else {\r\n    \t\t\t\tdrawApple(g);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void drawHorizontalGridLines(Graphics g, Dimension gameArea) {\r\n    \t\t\tint y1 = scoreAreaHeight + margin;\r\n    \t\t\tint y2 = y1 + gameArea.height * unitSize;\r\n    \t\t\tint x = margin;\r\n    \t\t\tfor (int index = 0; index &lt;= gameArea.width; index++) {\r\n    \t\t\t\tg.drawLine(x, y1, x, y2);\r\n    \t\t\t\tx += unitSize;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void drawVerticalGridLines(Graphics g, Dimension gameArea) {\r\n    \t\t\tint x1 = margin;\r\n    \t\t\tint x2 = x1 + gameArea.width * unitSize;\r\n    \t\t\tint y = margin + scoreAreaHeight;\r\n    \t\t\tfor (int index = 0; index &lt;= gameArea.height; index++) {\r\n    \t\t\t\tg.drawLine(x1, y, x2, y);\r\n    \t\t\t\ty += unitSize;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void drawApple(Graphics g) {\r\n    \t\t\t// Draw apple\r\n    \t\t\tg.setColor(Color.red);\r\n    \t\t\tPoint point = model.getAppleLocation();\r\n    \t\t\tif (point != null) {\r\n    \t\t\t\tint a = point.x * unitSize + margin + 1;\r\n    \t\t\t\tint b = point.y * unitSize + margin + scoreAreaHeight + 1;\r\n    \t\t\t\tg.fillOval(a, b, unitSize - 2, unitSize - 2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void drawScore(Graphics g, Dimension gameArea) {\r\n    \t\t\tg.setColor(Color.red);\r\n    \t\t\tg.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 36));\r\n    \t\t\tFontMetrics metrics = getFontMetrics(g.getFont());\r\n    \t\t\tint width = 2 * margin + gameArea.width * unitSize;\r\n    \t\t\tString text = &quot;SCORE: &quot; + model.getApplesEaten();\r\n    \t\t\tint textWidth = metrics.stringWidth(text);\r\n    \t\t\tg.drawString(text, (width - textWidth) / 2, g.getFont().getSize());\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void drawSnake(Graphics g) {\r\n    \t\t\t// Draw snake\r\n    \t\t\tSnake snake = model.getSnake();\r\n    \t\t\tList&lt;Point&gt; cells = snake.getCells();\r\n    \t\t\tPoint cell = cells.get(0);\r\n    \t\t\tdrawSnakeCell(g, cell, Color.green);\r\n    \t\t\tfor (int index = 1; index &lt; cells.size(); index++) {\r\n    //\t\t\t\tColor color = new Color(45, 180, 0);\r\n    \t\t\t\t// random color\r\n    \t\t\t\tColor color = new Color(getColorValue(), getColorValue(), \r\n    \t\t\t\t\t\tgetColorValue());\r\n    \t\t\t\tcell = cells.get(index);\r\n    \t\t\t\tdrawSnakeCell(g, cell, color);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void drawSnakeCell(Graphics g, Point point, Color color) {\r\n    \t\t\tint x = margin + point.x * unitSize;\r\n    \t\t\tint y = margin + scoreAreaHeight + point.y * unitSize;\r\n    \t\t\tif (point.y &gt;= 0) {\r\n    \t\t\t\tg.setColor(color);\r\n    \t\t\t\tg.fillRect(x, y, unitSize, unitSize);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate int getColorValue() {\r\n    \t\t\t// White has color values of 255\r\n    \t\t\treturn random.nextInt(64) + 191;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void drawGameOver(Graphics g, Dimension gameArea) {\r\n    \t\t\tg.setColor(Color.red);\r\n    \t\t\tg.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 72));\r\n    \t\t\tFontMetrics metrics = getFontMetrics(g.getFont());\r\n    \t\t\tString text = &quot;Game Over&quot;;\r\n    \t\t\tint textWidth = metrics.stringWidth(text);\r\n    \t\t\tg.drawString(text, (getWidth() - textWidth) / 2, getHeight() / 2);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class ButtonListener implements ActionListener {\r\n    \t\t\r\n    \t\tprivate final int delay;\r\n    \t\t\r\n    \t\tprivate final SnakeGame view;\r\n    \t\t\r\n    \t\tprivate final SnakeModel model;\r\n    \t\t\r\n    \t\tprivate final Timer timer;\r\n    \r\n    \t\tpublic ButtonListener(SnakeGame view, SnakeModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.delay = 750;\r\n    \t\t\tthis.timer = new Timer(delay, new TimerListener(view, model));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tJButton button = (JButton) event.getSource();\r\n    \t\t\tString text = button.getText();\r\n    \t\t\t\r\n    \t\t\tif (text.equals(&quot;Start Game&quot;)) {\r\n    \t\t\t\tbutton.setText(&quot;Restart Game&quot;);\r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t\tbutton.setEnabled(false);\r\n    \t\t\tmodel.initialize();\r\n    \t\t\ttimer.restart();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class TimerListener implements ActionListener {\r\n    \t\t\r\n    \t\tprivate final SnakeGame view;\r\n    \t\t\r\n    \t\tprivate final SnakeModel model;\r\n    \r\n    \t\tpublic TimerListener(SnakeGame view, SnakeModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tmoveSnake();\r\n    \t\t\tcheckApple();\r\n    \t\t\tmodel.checkCollisions();\r\n    \t\t\tif (model.isGameOver()) {\r\n    \t\t\t\tTimer timer = (Timer) event.getSource();\r\n    \t\t\t\ttimer.stop();\r\n    \t\t\t\tmodel.setRunning(false);\r\n    \t\t\t\tview.getRestartButton().setEnabled(true);\r\n    \t\t\t}\r\n    \t\t\tview.repaint();\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void moveSnake() {\r\n    \t\t\tSnake snake = model.getSnake();\r\n    \t\t\tPoint head = (Point) snake.getHead().clone();\r\n    \t\t\t\r\n    \t\t\tswitch (snake.getDirection()) {\r\n    \t\t\tcase &#39;U&#39;:\r\n    \t\t\t\thead.y--;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;D&#39;:\r\n    \t\t\t\thead.y++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;L&#39;:\r\n    \t\t\t\thead.x--;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &#39;R&#39;:\r\n    \t\t\t\thead.x++;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tsnake.removeTail();\r\n    \t\t\tsnake.addHead(head);\r\n    \t\t\t\r\n    //\t\t\tSystem.out.println(Arrays.toString(cells.toArray()));\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void checkApple() {\r\n    \t\t\tPoint appleLocation = model.getAppleLocation();\r\n    \t\t\tSnake snake = model.getSnake();\r\n    \t\t\tPoint head = snake.getHead();\r\n    \t\t\tPoint tail = (Point) snake.getTail().clone();\r\n    \t\t\t\r\n    \t\t\tif (head.x == appleLocation.x &amp;&amp; head.y == appleLocation.y) {\r\n    \t\t\t\tmodel.incrementApplesEaten();\r\n    \t\t\t\tsnake.addTail(tail);\r\n    \t\t\t\tmodel.generateRandomAppleLocation();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class MovementAction extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final char newDirection, oppositeDirection;\r\n    \t\t\r\n    \t\tprivate final SnakeModel model;\r\n    \r\n    \t\tpublic MovementAction(SnakeModel model, char newDirection,\r\n    \t\t\t\tchar oppositeDirection) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.newDirection = newDirection;\r\n    \t\t\tthis.oppositeDirection = oppositeDirection;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tif (model.isRunning()) {\r\n    \t\t\t\tSnake snake = model.getSnake();\r\n    \t\t\t\tchar direction = snake.getDirection();\r\n    \t\t\t\tif (direction != oppositeDirection &amp;&amp; direction != newDirection) {\r\n    \t\t\t\t\tsnake.setDirection(newDirection);\r\n    //\t\t\t\t\tSystem.out.println(&quot;New direction: &quot; + newDirection);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class SnakeModel {\r\n    \t\t\r\n    \t\tprivate boolean isGameOver, isRunning;\r\n    \t\t\r\n    \t\tprivate int applesEaten;\r\n    \t\t\r\n    \t\tprivate Dimension gameArea;\r\n    \t\t\r\n    \t\tprivate Point appleLocation;\r\n    \t\t\r\n    \t\tprivate Random random;\r\n    \t\t\r\n    \t\tprivate Snake snake;\r\n    \t\t\r\n    \t\tpublic SnakeModel() {\r\n    \t\t\tthis.random = new Random();\r\n    \t\t\tthis.snake = new Snake();\r\n    \t\t\tthis.gameArea = new Dimension(24, 24);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void initialize() {\r\n    \t\t\tthis.isRunning = true;\r\n    \t\t\tthis.isGameOver = false;\r\n    \t\t\tthis.snake.initialize();\r\n    \t\t\tthis.applesEaten = 0;\r\n    \t\t\t\r\n    \t\t\tPoint point = generateRandomAppleLocation();\r\n    \t\t\t// Make sure first apple isn&#39;t under snake\r\n    \t\t\tint y = (point.y == 0) ? 1 : point.y;\r\n    \t\t\tthis.appleLocation = new Point(point.x, y);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void checkCollisions() {\r\n    \t\t\tPoint head = snake.getHead();\r\n    \t\t\t\r\n    \t\t\t// Check for snake going out of the game area\r\n    \t\t\tif (head.x &lt; 0 || head.x &gt; gameArea.width) {\r\n    \t\t\t\tisGameOver = true;\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (head.y &lt; 0 || head.y &gt; gameArea.height) {\r\n    \t\t\t\tisGameOver = true;\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Check for snake touching itself\r\n    \t\t\tList&lt;Point&gt; cells = snake.getCells();\r\n    \t\t\tfor (int index = 1; index &lt; cells.size(); index++) {\r\n    \t\t\t\tPoint cell = cells.get(index);\r\n    \t\t\t\tif (head.x == cell.x &amp;&amp; head.y == cell.y) {\r\n    \t\t\t\t\tisGameOver = true;\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Point generateRandomAppleLocation() {\r\n    \t\t\tint x = random.nextInt(gameArea.width);\r\n    \t\t\tint y = random.nextInt(gameArea.height);\r\n    \t\t\tthis.appleLocation = new Point(x, y);\r\n    \t\t\treturn getAppleLocation();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void incrementApplesEaten() {\r\n    \t\t\tthis.applesEaten++;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic boolean isRunning() {\r\n    \t\t\treturn isRunning;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setRunning(boolean isRunning) {\r\n    \t\t\tthis.isRunning = isRunning;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isGameOver() {\r\n    \t\t\treturn isGameOver;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setGameOver(boolean isGameOver) {\r\n    \t\t\tthis.isGameOver = isGameOver;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getGameArea() {\r\n    \t\t\treturn gameArea;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getApplesEaten() {\r\n    \t\t\treturn applesEaten;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getAppleLocation() {\r\n    \t\t\treturn appleLocation;\r\n    \t\t}\r\n    \r\n    \t\tpublic Snake getSnake() {\r\n    \t\t\treturn snake;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class Snake {\r\n    \t\t\r\n    \t\tprivate char direction;\r\n    \t\t\r\n    \t\tprivate List&lt;Point&gt; cells;\r\n    \t\t\r\n    \t\tpublic Snake() {\r\n    \t\t\tthis.cells = new ArrayList&lt;&gt;();\r\n    \t\t\tinitialize();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void initialize() {\r\n    \t\t\tthis.direction = &#39;R&#39;;\r\n    \t\t\tcells.clear();\r\n    \t\t\tfor (int x = 5; x &gt;= 0; x--) {\r\n    \t\t\t\tcells.add(new Point(x, 0));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic void addHead(Point head) {\r\n    \t\t\tcells.add(0, head);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void addTail(Point tail) {\r\n    \t\t\tcells.add(tail);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void removeTail() {\r\n    \t\t\tcells.remove(cells.size() - 1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Point getHead() {\r\n    \t\t\treturn cells.get(0);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Point getTail() {\r\n    \t\t\treturn cells.get(cells.size() - 1);\r\n    \t\t}\r\n    \r\n    \t\tpublic char getDirection() {\r\n    \t\t\treturn direction;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setDirection(char direction) {\r\n    \t\t\tthis.direction = direction;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;Point&gt; getCells() {\r\n    \t\t\treturn cells;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WGnmR.png\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://i.stack.imgur.com/Di4xh.png\r\n  [4]: https://i.stack.imgur.com/qdBFS.png\r\n  [5]: https://i.stack.imgur.com/GUxfi.png\r\n","title":"Snake game in Java but my restart button does not work","body":"<h1>Introduction</h1>\n<p>I copied your code into my Eclipse IDE and ran it as is.  I received the following runtime error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.IllegalComponentStateException: The frame is displayable.\n    at java.desktop/java.awt.Frame.setUndecorated(Frame.java:926)\n    at com.ggl.testing.SnakeGame$GameFrame.&lt;init&gt;(SnakeGame.java:41)\n    at com.ggl.testing.SnakeGame.main(SnakeGame.java:24)\n</code></pre>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"noreferrer\">Concurrency in Swing</a> section.</p>\n<p>I've been writing Swing code for over 10 years, and I have the Oracle website bookmarked in my browser.  I still look up how to use certain components to make sure I'm using them correctly.</p>\n<p>The first thing I did was to slow down your snake so I could test the game.  I changed the delay of 75 to a delay of 750.  Here's a screenshot of your current GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/WGnmR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WGnmR.png\" alt=\"Current GUI\" /></a></p>\n<p>Looking over your code, you extend a <code>JFrame</code>.  You don't need to extend a <code>JFrame</code>.  You're not changing any <code>JFrame</code> functionality.  It's much simpler to use a <code>JFrame</code>.  This leads to one of my Java rules.</p>\n<blockquote>\n<p>Don't extend a Swing component, or any Java class, unless you intend\nto override one or more of the class methods.</p>\n</blockquote>\n<p>You do extend a <code>JPanel</code>.  That's fine because you override the <code>paintComponent</code> method.</p>\n<p>Finally, your <code>JPanel</code> class is doing too much work.  You also make heavy use of static fields.  Even though you'll only create one <code>JPanel</code>, it's a good habit to treat every class as if you will create multiple instances of the class.  This creates fewer problems for yourself down the road.</p>\n<p>You have the right idea, creating three classes.</p>\n<p>So let's rework your code, using some basic patterns and Swing best practices.  At this time, I don't know how many classes we'll wind up creating.</p>\n<h1>Explanation</h1>\n<p>When I write a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"noreferrer\">model–view–controller</a> (MVC) pattern.  The name implies that you create a model first, then the view, then the controller(s).</p>\n<p>An application model consists of one or more plain Java getter/setter classes.</p>\n<p>A view consists of a <code>JFrame</code>, one or more <code>JPanels</code>, and any other necessary Swing components.</p>\n<p>The controller consists of one or more <code>Actions</code> or <code>ActionListeners</code>.  In Swing, there's usually not one controller to &quot;rule them all&quot;.</p>\n<p>To summarize:</p>\n<ul>\n<li>The view reads information from the model</li>\n<li>The view does not update the model</li>\n<li>The controllers update the model and repaint/revalidate your view.</li>\n</ul>\n<h2>Model</h2>\n<p>I created two model classes, <code>SnakeModel</code> and <code>Snake</code>.</p>\n<p>The <code>SnakeModel</code> class is a plain Java getter/setter class that holds one <code>Snake</code> instance, the apple eaten count, the apple location, the size of the game area, and a couple of booleans.  One boolean indicates whether or not the game loop is running and the other boolean indicates whether or not the game is over.</p>\n<p>The game area uses a <code>java.awt.Dimension</code> to hold the width and height of the game area.  The width and the height do not have to have the same value.  The game area can be rectangular.</p>\n<p>The game area is measured in units.  In the view, I convert the units into pixels.  That's the opposite of what you did.  If you want to change the game area, all you have to do is change the dimensions in the <code>SnakeModel</code> class.  Everything in the view is based on the game area dimension.</p>\n<p>The <code>Snake</code> class holds a <code>java.util.List</code> of <code>java.awt.Point</code> objects and a <code>char</code> direction.  A <code>java.awt.Point</code> object holds an X and Y value.  Since we're dealing with objects, rather than int values, we have to be careful to clone the object when we want a new <code>Point</code>.</p>\n<h2>View</h2>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the Event Dispatch Thread.</p>\n<p>I created a <code>JFrame</code>, a drawing <code>JPanel</code>, and a separate button <code>JPanel</code>.  Generally, it's not a good idea to add Swing components to a drawing <code>JPanel</code>.  By creating a separate button <code>JPanel</code>, I get the added feature of a &quot;Start Game&quot; button at almost no extra cost.  The button is disabled while the game is running.</p>\n<p>The <code>JFrame</code> methods must be called in a specific order.  The <code>setVisible</code> method <strong>must be called last</strong>.</p>\n<p>I made the drawing <code>JPanel</code> more complicated by adding a separate area for the score.</p>\n<p>I made the drawing <code>JPanel</code> less complicated by only drawing the state of the game, based on the application model.  Period.  Nothing else.</p>\n<p>I limited the random colors to the white end of the color spectrum to maintain the contrast between the snake and the drawing <code>JPanel</code> background.</p>\n<p>I used key bindings instead of a key listener.  One advantage is that the drawing <code>JPanel</code> doesn't have to be in focus.  Since I have a separate button <code>JPanel</code>, the drawing <code>JPanel</code> doesn't have focus.</p>\n<p>Another advantage is that I can add the WASD keys with four lines of additional code.</p>\n<p>One disadvantage is that the key bindings code looks more complicated than a key listener.  Once you've coded a few key bindings, you'll appreciate the advantages.</p>\n<h2>Controller</h2>\n<p>I created three controller classes, <code>ButtonListener</code>, <code>TimerListener</code>, and <code>MovementAction</code>.</p>\n<p>The <code>ButtonListener</code> class implements <code>ActionListener</code>.   The <code>ButtonListener</code> class initializes the game model and restarts the timer.</p>\n<p>The <code>TimerListener</code> class implements <code>ActionListener</code>.  The <code>TimerListener</code> class is the game loop.  This class moves the snake, checks to see if the apple is eaten, checks to see if the snake has moved outside the game area or touched itself, and repaints the drawing <code>JPanel</code>.  I used your code as a model for the code in this class.</p>\n<p>The <code>MovementAction</code> class extends <code>AbstractAction</code>.  The <code>AbstractAction</code> class implements <code>Action</code>.  This class changes the direction of the snake, based on the key presses.</p>\n<p>I create four instances of the <code>MovementAction</code> class, one for each direction.  This makes the <code>actionPerformed</code> method of the class much simpler.</p>\n<h1>Images</h1>\n<p>Here's what the revised GUI looks like when you start the game.</p>\n<p><a href=\"https://i.stack.imgur.com/Di4xh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Di4xh.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the revised GUI during the game.</p>\n<p><a href=\"https://i.stack.imgur.com/qdBFS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qdBFS.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the revised GUI when the game is over.</p>\n<p><a href=\"https://i.stack.imgur.com/GUxfi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GUxfi.png\" alt=\"enter image description here\" /></a></p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post this code as one block.</p>\n<p>You should put the separate classes in separate files.</p>\n<p>When setting up a Swing GUI project, I create separate packages for the model, view, and controller.  This helps me keep the code organized.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.BorderFactory;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class SnakeGame implements Runnable {\n\n    public static void main(String arg[]) {\n        SwingUtilities.invokeLater(new SnakeGame());\n    }\n    \n    private final GamePanel gamePanel;\n    \n    private final JButton restartButton;\n    \n    private final SnakeModel model;\n    \n    public SnakeGame() {\n        this.model = new SnakeModel();\n        this.restartButton = new JButton(&quot;Start Game&quot;);\n        this.gamePanel = new GamePanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Snake&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(gamePanel, BorderLayout.CENTER);\n        frame.add(createButtonPanel(), BorderLayout.SOUTH);\n        \n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        panel.setBackground(Color.black);\n        \n        restartButton.addActionListener(new ButtonListener(this, model));\n        panel.add(restartButton);\n        \n        return panel;\n    }\n    \n    public JButton getRestartButton() {\n        return restartButton;\n    }\n\n    public void repaint() {\n        gamePanel.repaint();\n    }\n    \n    public class GamePanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final int margin, scoreAreaHeight, unitSize;\n        \n        private final Random random;\n        \n        private final SnakeModel model;\n        \n        public GamePanel(SnakeModel model) {\n            this.model = model;\n            this.margin = 10;\n            this.unitSize = 25;\n            this.scoreAreaHeight = 36 + margin;\n            this.random = new Random();\n            this.setBackground(Color.black);\n            \n            Dimension gameArea = model.getGameArea();\n            int width = gameArea.width * unitSize + 2 * margin;\n            int height = gameArea.height * unitSize + 2 * margin + scoreAreaHeight;\n            this.setPreferredSize(new Dimension(width, height));\n            setKeyBindings();\n        }\n        \n        private void setKeyBindings() {\n            InputMap inputMap = this.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = this.getActionMap();\n            \n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\n            \n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\n            \n            actionMap.put(&quot;up&quot;, new MovementAction(model, 'U', 'D'));\n            actionMap.put(&quot;down&quot;, new MovementAction(model, 'D', 'U'));\n            actionMap.put(&quot;left&quot;, new MovementAction(model, 'L', 'R'));\n            actionMap.put(&quot;right&quot;, new MovementAction(model, 'R', 'L'));\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            Dimension gameArea = model.getGameArea();\n            drawHorizontalGridLines(g, gameArea);\n            drawVerticalGridLines(g, gameArea);\n            drawSnake(g);\n            drawScore(g, gameArea);\n            \n            if (model.isGameOver) {\n                drawGameOver(g, gameArea);\n            } else {\n                drawApple(g);\n            }\n        }\n\n        private void drawHorizontalGridLines(Graphics g, Dimension gameArea) {\n            int y1 = scoreAreaHeight + margin;\n            int y2 = y1 + gameArea.height * unitSize;\n            int x = margin;\n            for (int index = 0; index &lt;= gameArea.width; index++) {\n                g.drawLine(x, y1, x, y2);\n                x += unitSize;\n            }\n        }\n\n        private void drawVerticalGridLines(Graphics g, Dimension gameArea) {\n            int x1 = margin;\n            int x2 = x1 + gameArea.width * unitSize;\n            int y = margin + scoreAreaHeight;\n            for (int index = 0; index &lt;= gameArea.height; index++) {\n                g.drawLine(x1, y, x2, y);\n                y += unitSize;\n            }\n        }\n\n        private void drawApple(Graphics g) {\n            // Draw apple\n            g.setColor(Color.red);\n            Point point = model.getAppleLocation();\n            if (point != null) {\n                int a = point.x * unitSize + margin + 1;\n                int b = point.y * unitSize + margin + scoreAreaHeight + 1;\n                g.fillOval(a, b, unitSize - 2, unitSize - 2);\n            }\n        }\n\n        private void drawScore(Graphics g, Dimension gameArea) {\n            g.setColor(Color.red);\n            g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 36));\n            FontMetrics metrics = getFontMetrics(g.getFont());\n            int width = 2 * margin + gameArea.width * unitSize;\n            String text = &quot;SCORE: &quot; + model.getApplesEaten();\n            int textWidth = metrics.stringWidth(text);\n            g.drawString(text, (width - textWidth) / 2, g.getFont().getSize());\n        }\n        \n        private void drawSnake(Graphics g) {\n            // Draw snake\n            Snake snake = model.getSnake();\n            List&lt;Point&gt; cells = snake.getCells();\n            Point cell = cells.get(0);\n            drawSnakeCell(g, cell, Color.green);\n            for (int index = 1; index &lt; cells.size(); index++) {\n//              Color color = new Color(45, 180, 0);\n                // random color\n                Color color = new Color(getColorValue(), getColorValue(), \n                        getColorValue());\n                cell = cells.get(index);\n                drawSnakeCell(g, cell, color);\n            }\n        }\n        \n        private void drawSnakeCell(Graphics g, Point point, Color color) {\n            int x = margin + point.x * unitSize;\n            int y = margin + scoreAreaHeight + point.y * unitSize;\n            if (point.y &gt;= 0) {\n                g.setColor(color);\n                g.fillRect(x, y, unitSize, unitSize);\n            }\n        }\n        \n        private int getColorValue() {\n            // White has color values of 255\n            return random.nextInt(64) + 191;\n        }\n        \n        private void drawGameOver(Graphics g, Dimension gameArea) {\n            g.setColor(Color.red);\n            g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 72));\n            FontMetrics metrics = getFontMetrics(g.getFont());\n            String text = &quot;Game Over&quot;;\n            int textWidth = metrics.stringWidth(text);\n            g.drawString(text, (getWidth() - textWidth) / 2, getHeight() / 2);\n        }\n        \n    }\n    \n    public class ButtonListener implements ActionListener {\n        \n        private final int delay;\n        \n        private final SnakeGame view;\n        \n        private final SnakeModel model;\n        \n        private final Timer timer;\n\n        public ButtonListener(SnakeGame view, SnakeModel model) {\n            this.view = view;\n            this.model = model;\n            this.delay = 750;\n            this.timer = new Timer(delay, new TimerListener(view, model));\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            JButton button = (JButton) event.getSource();\n            String text = button.getText();\n            \n            if (text.equals(&quot;Start Game&quot;)) {\n                button.setText(&quot;Restart Game&quot;);\n            } \n            \n            button.setEnabled(false);\n            model.initialize();\n            timer.restart();\n        }\n        \n    }\n    \n    public class TimerListener implements ActionListener {\n        \n        private final SnakeGame view;\n        \n        private final SnakeModel model;\n\n        public TimerListener(SnakeGame view, SnakeModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            moveSnake();\n            checkApple();\n            model.checkCollisions();\n            if (model.isGameOver()) {\n                Timer timer = (Timer) event.getSource();\n                timer.stop();\n                model.setRunning(false);\n                view.getRestartButton().setEnabled(true);\n            }\n            view.repaint();\n        }\n        \n        private void moveSnake() {\n            Snake snake = model.getSnake();\n            Point head = (Point) snake.getHead().clone();\n            \n            switch (snake.getDirection()) {\n            case 'U':\n                head.y--;\n                break;\n            case 'D':\n                head.y++;\n                break;\n            case 'L':\n                head.x--;\n                break;\n            case 'R':\n                head.x++;\n                break;\n            }\n            \n            snake.removeTail();\n            snake.addHead(head);\n            \n//          System.out.println(Arrays.toString(cells.toArray()));\n        }\n        \n        private void checkApple() {\n            Point appleLocation = model.getAppleLocation();\n            Snake snake = model.getSnake();\n            Point head = snake.getHead();\n            Point tail = (Point) snake.getTail().clone();\n            \n            if (head.x == appleLocation.x &amp;&amp; head.y == appleLocation.y) {\n                model.incrementApplesEaten();\n                snake.addTail(tail);\n                model.generateRandomAppleLocation();\n            }\n        }\n        \n    }\n    \n    public class MovementAction extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final char newDirection, oppositeDirection;\n        \n        private final SnakeModel model;\n\n        public MovementAction(SnakeModel model, char newDirection,\n                char oppositeDirection) {\n            this.model = model;\n            this.newDirection = newDirection;\n            this.oppositeDirection = oppositeDirection;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            if (model.isRunning()) {\n                Snake snake = model.getSnake();\n                char direction = snake.getDirection();\n                if (direction != oppositeDirection &amp;&amp; direction != newDirection) {\n                    snake.setDirection(newDirection);\n//                  System.out.println(&quot;New direction: &quot; + newDirection);\n                }\n            }\n        }\n        \n    }\n    \n    public class SnakeModel {\n        \n        private boolean isGameOver, isRunning;\n        \n        private int applesEaten;\n        \n        private Dimension gameArea;\n        \n        private Point appleLocation;\n        \n        private Random random;\n        \n        private Snake snake;\n        \n        public SnakeModel() {\n            this.random = new Random();\n            this.snake = new Snake();\n            this.gameArea = new Dimension(24, 24);\n        }\n        \n        public void initialize() {\n            this.isRunning = true;\n            this.isGameOver = false;\n            this.snake.initialize();\n            this.applesEaten = 0;\n            \n            Point point = generateRandomAppleLocation();\n            // Make sure first apple isn't under snake\n            int y = (point.y == 0) ? 1 : point.y;\n            this.appleLocation = new Point(point.x, y);\n        }\n        \n        public void checkCollisions() {\n            Point head = snake.getHead();\n            \n            // Check for snake going out of the game area\n            if (head.x &lt; 0 || head.x &gt; gameArea.width) {\n                isGameOver = true;\n                return;\n            }\n            \n            if (head.y &lt; 0 || head.y &gt; gameArea.height) {\n                isGameOver = true;\n                return;\n            }\n            \n            // Check for snake touching itself\n            List&lt;Point&gt; cells = snake.getCells();\n            for (int index = 1; index &lt; cells.size(); index++) {\n                Point cell = cells.get(index);\n                if (head.x == cell.x &amp;&amp; head.y == cell.y) {\n                    isGameOver = true;\n                    return;\n                }\n            }\n        }\n        \n        public Point generateRandomAppleLocation() {\n            int x = random.nextInt(gameArea.width);\n            int y = random.nextInt(gameArea.height);\n            this.appleLocation = new Point(x, y);\n            return getAppleLocation();\n        }\n        \n        public void incrementApplesEaten() {\n            this.applesEaten++;\n        }\n        \n        public boolean isRunning() {\n            return isRunning;\n        }\n\n        public void setRunning(boolean isRunning) {\n            this.isRunning = isRunning;\n        }\n\n        public boolean isGameOver() {\n            return isGameOver;\n        }\n\n        public void setGameOver(boolean isGameOver) {\n            this.isGameOver = isGameOver;\n        }\n\n        public Dimension getGameArea() {\n            return gameArea;\n        }\n\n        public int getApplesEaten() {\n            return applesEaten;\n        }\n\n        public Point getAppleLocation() {\n            return appleLocation;\n        }\n\n        public Snake getSnake() {\n            return snake;\n        }\n        \n    }\n    \n    public class Snake {\n        \n        private char direction;\n        \n        private List&lt;Point&gt; cells;\n        \n        public Snake() {\n            this.cells = new ArrayList&lt;&gt;();\n            initialize();\n        }\n        \n        public void initialize() {\n            this.direction = 'R';\n            cells.clear();\n            for (int x = 5; x &gt;= 0; x--) {\n                cells.add(new Point(x, 0));\n            }\n        }\n\n        public void addHead(Point head) {\n            cells.add(0, head);\n        }\n        \n        public void addTail(Point tail) {\n            cells.add(tail);\n        }\n        \n        public void removeTail() {\n            cells.remove(cells.size() - 1);\n        }\n        \n        public Point getHead() {\n            return cells.get(0);\n        }\n        \n        public Point getTail() {\n            return cells.get(cells.size() - 1);\n        }\n\n        public char getDirection() {\n            return direction;\n        }\n\n        public void setDirection(char direction) {\n            this.direction = direction;\n        }\n\n        public List&lt;Point&gt; getCells() {\n            return cells;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21067889,"reputation":41,"user_id":15484693,"display_name":"lubo dimoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653322806,"creation_date":1642100008,"question_id":70701646,"body_markdown":"My restart button of the game does not work and it multiples when it is clicked. I do not understand Java perfectly I am considering myself good. \r\n\r\n### Main of the game \r\n```\r\npackage snake_game;\r\n\r\npublic class snake {\r\n\r\n  public static void main(String arg[]) {\r\n\r\n    new GameFrame();\r\n    // is exacly the same as frame f = new frame();\r\n    // this is shorter and does the same job\r\n\r\n  }\r\n}\r\n```\r\n### `GamePanel` \r\n\r\n```\r\npackage snake_game;\r\n\r\n// import java.awt.event.ActionEvent;\r\n// import java.awt.event.ActionListener;\r\n// import java.awt.Graphics;\r\n// import java.awt.event.KeyAdapter;\r\n// import java.awt.event.KeyEvent;\r\n// or I could write simply \r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\r\n  // panal dimentions\r\n  static final int SCREEN_WIDTH = 600;\r\n  static final int SCREEN_HEIGHT = 600;\r\n  // panal dimentions\r\n  // size\r\n  static final int UNIT_SIZE = 25;\r\n  // size to make 600 * 600 = 1200 px equel between 25 px\r\n  static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\r\n  // size\r\n  // delay how fast the game will be\r\n  static final int DELAY = 75;\r\n  // delay\r\n  // dimentions\r\n  final int x[] = new int[GAME_UNITS];\r\n  final int y[] = new int[GAME_UNITS];\r\n  // dimentions\r\n  // snake\r\n  int bodyParts = 6;\r\n  // snake\r\n  // apple\r\n  int appleEaten;\r\n  int appleX;\r\n  int appleY;\r\n  // apple\r\n  char direction = &#39;R&#39;;\r\n  boolean running = false;\r\n  Timer timer;\r\n  Random random;\r\n  GamePanel game;\r\n  JButton resetButton;\r\n\r\n  GamePanel() {\r\n\r\n    random = new Random();\r\n    this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n    this.setBackground(Color.black);\r\n    this.setFocusable(true);\r\n    this.addKeyListener(new MyKeyAdapter());\r\n    startGame();\r\n    // when we want to make the program to continie we must say what the programm\r\n    // must execute next\r\n\r\n  }\r\n\r\n  public void startGame() {\r\n    newApple();\r\n    running = true;\r\n    timer = new Timer(DELAY, this);\r\n    timer.start();\r\n  }\r\n\r\n  public void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n    draw(g);\r\n\r\n  }\r\n\r\n  public void draw(Graphics g) {\r\n\r\n    if (running) {\r\n\r\n      for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\r\n        g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\r\n        g.drawLine(0, i * UNIT_SIZE, i * SCREEN_WIDTH, i * UNIT_SIZE);\r\n\r\n      }\r\n      g.setColor(Color.red);\r\n      g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\r\n\r\n      for (int i = 0; i &lt; bodyParts; i++) {\r\n        if (i == 0) {\r\n          g.setColor(Color.green);\r\n          g.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\r\n        } else {\r\n          g.setColor(new Color(45, 180, 0));\r\n          // random color\r\n          g.setColor(new Color(random.nextInt(255), random.nextInt(255), random.nextInt(255)));\r\n          // random color\r\n          g.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\r\n        }\r\n\r\n      }\r\n      g.setColor(Color.red);\r\n      g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\r\n      FontMetrics metrics = getFontMetrics(g.getFont());\r\n      g.drawString(&quot;SCORE:&quot; + appleEaten, (SCREEN_WIDTH - metrics.stringWidth(&quot;SCORE:&quot; + appleEaten)) / 2,\r\n          g.getFont().getSize());\r\n    } else {\r\n      gameOver(g);\r\n    }\r\n  }\r\n\r\n  public void newApple() {\r\n    appleX = random.nextInt((int) (SCREEN_WIDTH / UNIT_SIZE)) * UNIT_SIZE;\r\n    appleY = random.nextInt((int) (SCREEN_HEIGHT / UNIT_SIZE)) * UNIT_SIZE;\r\n  }\r\n\r\n  public void move() {\r\n\r\n    for (int i = bodyParts; i &gt; 0; i--) {\r\n      x[i] = x[i - 1];\r\n      y[i] = y[i - 1];\r\n\r\n    }\r\n    switch (direction) {\r\n      case &#39;U&#39;:\r\n        y[0] = y[0] - UNIT_SIZE;\r\n        break;\r\n      case &#39;D&#39;:\r\n        y[0] = y[0] + UNIT_SIZE;\r\n        break;\r\n      case &#39;L&#39;:\r\n        x[0] = x[0] - UNIT_SIZE;\r\n        break;\r\n      case &#39;R&#39;:\r\n        x[0] = x[0] + UNIT_SIZE;\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  public void checkApple() {\r\n    if ((x[0] == appleX) &amp;&amp; (y[0] == appleY)) {\r\n      bodyParts++;\r\n      appleEaten++;\r\n      newApple();\r\n    }\r\n  }\r\n\r\n  public void checkCollisions() {\r\n    // check if head collides with body\r\n    for (int i = bodyParts; i &gt; 0; i--) {\r\n      if ((x[0] == x[i]) &amp;&amp; (y[0] == y[i])) {\r\n        running = false;\r\n      }\r\n\r\n    }\r\n    // check if head touches left border\r\n    if (x[0] &lt; 0) {\r\n      running = false;\r\n    }\r\n\r\n    // check if head touches right border\r\n    if (x[0] &gt; SCREEN_WIDTH) {\r\n      running = false;\r\n    }\r\n    // check if head touches top border\r\n    if (y[0] &lt; 0) {\r\n      running = false;\r\n    }\r\n    // check if head touches bottom border\r\n    if (y[0] &gt; SCREEN_HEIGHT) {\r\n      running = false;\r\n    }\r\n    if (!running) {\r\n      timer.stop();\r\n    }\r\n  }\r\n\r\n  public void gameOver(Graphics g) {\r\n    // score\r\n    g.setColor(Color.red);\r\n    g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\r\n    FontMetrics metrics1 = getFontMetrics(g.getFont());\r\n    g.drawString(&quot;SCORE:&quot; + appleEaten, (SCREEN_WIDTH - metrics1.stringWidth(&quot;SCORE:&quot; + appleEaten)) / 2,\r\n        g.getFont().getSize());\r\n    // game over text\r\n    g.setColor(Color.red);\r\n    g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 75));\r\n    FontMetrics metrics2 = getFontMetrics(g.getFont());\r\n    g.drawString(&quot;Game Over&quot;, (SCREEN_WIDTH - metrics2.stringWidth(&quot;Game Over&quot;)) / 2, SCREEN_HEIGHT / 2);\r\n    // restart button\r\n    resetButton = new JButton();\r\n    resetButton.setText(&quot;Restart&quot;);\r\n    resetButton.setSize(100, 50);\r\n    resetButton.setLocation(150, 150);\r\n    resetButton.addActionListener(this);\r\n\r\n    game = new GamePanel();\r\n\r\n    this.add(resetButton);\r\n    this.add(game);\r\n    this.setVisible(true);\r\n    // restart button\r\n  }\r\n\r\n  @Override\r\n  public void actionPerformed(ActionEvent e) {\r\n\r\n    if (running) {\r\n      move();\r\n      checkApple();\r\n      checkCollisions();\r\n\r\n    }\r\n    repaint();\r\n\r\n    // restart button\r\n    if (e.getSource() == resetButton) {\r\n      this.remove(game);\r\n\r\n      game = new GamePanel();\r\n      this.add(game);\r\n      resetButton.setVisible(false);\r\n      SwingUtilities.updateComponentTreeUI(this);\r\n      // restart button\r\n\r\n    }\r\n\r\n  }\r\n\r\n  public class MyKeyAdapter extends KeyAdapter {\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n\r\n      switch (e.getKeyCode()) {\r\n        case KeyEvent.VK_LEFT:\r\n          if (direction != &#39;R&#39;) {\r\n            direction = &#39;L&#39;;\r\n          }\r\n          break;\r\n        case KeyEvent.VK_RIGHT:\r\n          if (direction != &#39;L&#39;) {\r\n            direction = &#39;R&#39;;\r\n          }\r\n          break;\r\n        case KeyEvent.VK_UP:\r\n          if (direction != &#39;D&#39;) {\r\n            direction = &#39;U&#39;;\r\n          }\r\n          break;\r\n        case KeyEvent.VK_DOWN:\r\n          if (direction != &#39;U&#39;) {\r\n            direction = &#39;D&#39;;\r\n          }\r\n          break;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\n### `GameFrame`\r\n```\r\npackage snake_game;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class GameFrame extends JFrame {\r\n\r\n  GameFrame() {\r\n    GamePanel panel = new GamePanel();\r\n    this.add(panel);\r\n    this.setTitle(&quot;Snake&quot;);\r\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    this.setResizable(false);\r\n    this.pack();\r\n    this.setVisible(true);\r\n    this.setLocationRelativeTo(null);\r\n    this.setUndecorated(false);\r\n  }\r\n}\r\n```","title":"Snake game in Java but my restart button does not work","body":"<p>My restart button of the game does not work and it multiples when it is clicked. I do not understand Java perfectly I am considering myself good.</p>\n<h3>Main of the game</h3>\n<pre><code>package snake_game;\n\npublic class snake {\n\n  public static void main(String arg[]) {\n\n    new GameFrame();\n    // is exacly the same as frame f = new frame();\n    // this is shorter and does the same job\n\n  }\n}\n</code></pre>\n<h3><code>GamePanel</code></h3>\n<pre><code>package snake_game;\n\n// import java.awt.event.ActionEvent;\n// import java.awt.event.ActionListener;\n// import java.awt.Graphics;\n// import java.awt.event.KeyAdapter;\n// import java.awt.event.KeyEvent;\n// or I could write simply \nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.Random;\n\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel implements ActionListener {\n\n  // panal dimentions\n  static final int SCREEN_WIDTH = 600;\n  static final int SCREEN_HEIGHT = 600;\n  // panal dimentions\n  // size\n  static final int UNIT_SIZE = 25;\n  // size to make 600 * 600 = 1200 px equel between 25 px\n  static final int GAME_UNITS = (SCREEN_WIDTH * SCREEN_HEIGHT) / UNIT_SIZE;\n  // size\n  // delay how fast the game will be\n  static final int DELAY = 75;\n  // delay\n  // dimentions\n  final int x[] = new int[GAME_UNITS];\n  final int y[] = new int[GAME_UNITS];\n  // dimentions\n  // snake\n  int bodyParts = 6;\n  // snake\n  // apple\n  int appleEaten;\n  int appleX;\n  int appleY;\n  // apple\n  char direction = 'R';\n  boolean running = false;\n  Timer timer;\n  Random random;\n  GamePanel game;\n  JButton resetButton;\n\n  GamePanel() {\n\n    random = new Random();\n    this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    this.setBackground(Color.black);\n    this.setFocusable(true);\n    this.addKeyListener(new MyKeyAdapter());\n    startGame();\n    // when we want to make the program to continie we must say what the programm\n    // must execute next\n\n  }\n\n  public void startGame() {\n    newApple();\n    running = true;\n    timer = new Timer(DELAY, this);\n    timer.start();\n  }\n\n  public void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    draw(g);\n\n  }\n\n  public void draw(Graphics g) {\n\n    if (running) {\n\n      for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\n        g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\n        g.drawLine(0, i * UNIT_SIZE, i * SCREEN_WIDTH, i * UNIT_SIZE);\n\n      }\n      g.setColor(Color.red);\n      g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\n\n      for (int i = 0; i &lt; bodyParts; i++) {\n        if (i == 0) {\n          g.setColor(Color.green);\n          g.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\n        } else {\n          g.setColor(new Color(45, 180, 0));\n          // random color\n          g.setColor(new Color(random.nextInt(255), random.nextInt(255), random.nextInt(255)));\n          // random color\n          g.fillRect(x[i], y[i], UNIT_SIZE, UNIT_SIZE);\n        }\n\n      }\n      g.setColor(Color.red);\n      g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\n      FontMetrics metrics = getFontMetrics(g.getFont());\n      g.drawString(&quot;SCORE:&quot; + appleEaten, (SCREEN_WIDTH - metrics.stringWidth(&quot;SCORE:&quot; + appleEaten)) / 2,\n          g.getFont().getSize());\n    } else {\n      gameOver(g);\n    }\n  }\n\n  public void newApple() {\n    appleX = random.nextInt((int) (SCREEN_WIDTH / UNIT_SIZE)) * UNIT_SIZE;\n    appleY = random.nextInt((int) (SCREEN_HEIGHT / UNIT_SIZE)) * UNIT_SIZE;\n  }\n\n  public void move() {\n\n    for (int i = bodyParts; i &gt; 0; i--) {\n      x[i] = x[i - 1];\n      y[i] = y[i - 1];\n\n    }\n    switch (direction) {\n      case 'U':\n        y[0] = y[0] - UNIT_SIZE;\n        break;\n      case 'D':\n        y[0] = y[0] + UNIT_SIZE;\n        break;\n      case 'L':\n        x[0] = x[0] - UNIT_SIZE;\n        break;\n      case 'R':\n        x[0] = x[0] + UNIT_SIZE;\n        break;\n    }\n\n  }\n\n  public void checkApple() {\n    if ((x[0] == appleX) &amp;&amp; (y[0] == appleY)) {\n      bodyParts++;\n      appleEaten++;\n      newApple();\n    }\n  }\n\n  public void checkCollisions() {\n    // check if head collides with body\n    for (int i = bodyParts; i &gt; 0; i--) {\n      if ((x[0] == x[i]) &amp;&amp; (y[0] == y[i])) {\n        running = false;\n      }\n\n    }\n    // check if head touches left border\n    if (x[0] &lt; 0) {\n      running = false;\n    }\n\n    // check if head touches right border\n    if (x[0] &gt; SCREEN_WIDTH) {\n      running = false;\n    }\n    // check if head touches top border\n    if (y[0] &lt; 0) {\n      running = false;\n    }\n    // check if head touches bottom border\n    if (y[0] &gt; SCREEN_HEIGHT) {\n      running = false;\n    }\n    if (!running) {\n      timer.stop();\n    }\n  }\n\n  public void gameOver(Graphics g) {\n    // score\n    g.setColor(Color.red);\n    g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\n    FontMetrics metrics1 = getFontMetrics(g.getFont());\n    g.drawString(&quot;SCORE:&quot; + appleEaten, (SCREEN_WIDTH - metrics1.stringWidth(&quot;SCORE:&quot; + appleEaten)) / 2,\n        g.getFont().getSize());\n    // game over text\n    g.setColor(Color.red);\n    g.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 75));\n    FontMetrics metrics2 = getFontMetrics(g.getFont());\n    g.drawString(&quot;Game Over&quot;, (SCREEN_WIDTH - metrics2.stringWidth(&quot;Game Over&quot;)) / 2, SCREEN_HEIGHT / 2);\n    // restart button\n    resetButton = new JButton();\n    resetButton.setText(&quot;Restart&quot;);\n    resetButton.setSize(100, 50);\n    resetButton.setLocation(150, 150);\n    resetButton.addActionListener(this);\n\n    game = new GamePanel();\n\n    this.add(resetButton);\n    this.add(game);\n    this.setVisible(true);\n    // restart button\n  }\n\n  @Override\n  public void actionPerformed(ActionEvent e) {\n\n    if (running) {\n      move();\n      checkApple();\n      checkCollisions();\n\n    }\n    repaint();\n\n    // restart button\n    if (e.getSource() == resetButton) {\n      this.remove(game);\n\n      game = new GamePanel();\n      this.add(game);\n      resetButton.setVisible(false);\n      SwingUtilities.updateComponentTreeUI(this);\n      // restart button\n\n    }\n\n  }\n\n  public class MyKeyAdapter extends KeyAdapter {\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n\n      switch (e.getKeyCode()) {\n        case KeyEvent.VK_LEFT:\n          if (direction != 'R') {\n            direction = 'L';\n          }\n          break;\n        case KeyEvent.VK_RIGHT:\n          if (direction != 'L') {\n            direction = 'R';\n          }\n          break;\n        case KeyEvent.VK_UP:\n          if (direction != 'D') {\n            direction = 'U';\n          }\n          break;\n        case KeyEvent.VK_DOWN:\n          if (direction != 'U') {\n            direction = 'D';\n          }\n          break;\n\n      }\n\n    }\n\n  }\n\n}\n</code></pre>\n<h3><code>GameFrame</code></h3>\n<pre><code>package snake_game;\n\nimport javax.swing.JFrame;\n\npublic class GameFrame extends JFrame {\n\n  GameFrame() {\n    GamePanel panel = new GamePanel();\n    this.add(panel);\n    this.setTitle(&quot;Snake&quot;);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setResizable(false);\n    this.pack();\n    this.setVisible(true);\n    this.setLocationRelativeTo(null);\n    this.setUndecorated(false);\n  }\n}\n</code></pre>\n"},{"tags":["java","connection-pooling","apache-commons"],"comments":[{"owner":{"account_id":162633,"reputation":791,"user_id":384218,"accept_rate":58,"display_name":"jay"},"score":1,"creation_date":1379570881,"post_id":18886085,"comment_id":27876817,"body_markdown":"Not an expert in using commons pool , however i think for your need a GenericObjectPool (or your own custom implementaion of object pool )  and a corresponding custom PoolableObjectFactory implementation seems a simple solution .","body":"Not an expert in using commons pool , however i think for your need a GenericObjectPool (or your own custom implementaion of object pool )  and a corresponding custom PoolableObjectFactory implementation seems a simple solution ."},{"owner":{"account_id":65445,"reputation":1145,"user_id":192577,"accept_rate":78,"display_name":"Israel Lopez"},"score":0,"creation_date":1379599145,"post_id":18886085,"comment_id":27892431,"body_markdown":"I think thats the answer! I was really struggling to find an appropriate solution last night and I guess I overlooked that.","body":"I think thats the answer! I was really struggling to find an appropriate solution last night and I guess I overlooked that."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1403204668,"post_id":18886085,"comment_id":37579806,"body_markdown":"If you&#39;ve solved your problem, consider posting your solution as an answer so future readers may benefit from it.","body":"If you&#39;ve solved your problem, consider posting your solution as an answer so future readers may benefit from it."}],"answers":[{"tags":[],"owner":{"account_id":5259405,"reputation":328,"user_id":4204142,"display_name":"linkcrux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653322504,"creation_date":1509164153,"answer_id":46986186,"question_id":18886085,"body_markdown":"For the benefit of future reader, I wrote a small implementation using commons pool2 :\r\n    \r\n    package com.test.communicator;\r\n    \r\n    import org.apache.commons.pool2.BasePooledObjectFactory;\r\n    import org.apache.commons.pool2.PooledObject;\r\n    import org.apache.commons.pool2.PooledObjectFactory;\r\n    import org.apache.commons.pool2.impl.DefaultPooledObject;\r\n    import org.apache.commons.pool2.impl.GenericObjectPool;\r\n    import org.apache.commons.pool2.impl.GenericObjectPoolConfig;\r\n    \r\n    public class Test {\r\n        \r\n        public void initializePool() throws Exception {\r\n            GenericObjectPoolConfig config = new GenericObjectPoolConfig();\r\n            \r\n            // parameters for the life cycle of the objects\r\n            config.setMinIdle(1);\r\n            config.setMaxIdle(1);\r\n            config.setMaxTotal(1);\r\n    \r\n            // if the object is not accessed in 5 minutes, it evicted (throw away from the pool)\r\n            config.setTimeBetweenEvictionRunsMillis(5 * 60 * 1000);\r\n            // frequency at which it check for objects to be evicted\r\n            config.setMinEvictableIdleTimeMillis(1 * 60 * 1000);\r\n            \r\n            CommonsObjectPool pool = new CommonsObjectPool(new MyObjectPoolFactory(), config);\r\n            \r\n            MyObject myObj = pool.borrowObject(); //borrow an object\r\n        }\r\n        \r\n        /**\r\n         * An object pool implementation of your objects\r\n         */\r\n        class CommonsObjectPool extends GenericObjectPool&lt;MyObject&gt; {\r\n    \r\n            public CommonsObjectPool(PooledObjectFactory&lt;MyObject&gt; factory) {\r\n                super(factory);\r\n            }\r\n    \r\n            public CommonsObjectPool(PooledObjectFactory&lt;MyObject&gt; factory, GenericObjectPoolConfig config) {\r\n                super(factory, config);\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        /**\r\n         * Factory to create the objects\r\n         */\r\n        class MyObjectPoolFactory extends BasePooledObjectFactory&lt;MyObject&gt; {\r\n            @Override\r\n            public MyObject create() throws Exception {\r\n                // create your object\r\n                return new MyObject();\r\n            }\r\n    \r\n            @Override\r\n            public PooledObject&lt;MyObject&gt; wrap(MyObject arg0) {\r\n                return new DefaultPooledObject&lt;MyObject&gt;(arg0);\r\n            }\r\n    \r\n            @Override\r\n            public boolean validateObject(PooledObject&lt;MyObject&gt; pooledObj) {\r\n                return pooledObj.getObject().isMyObjectValid(); // implement a validation\r\n            }\r\n    \r\n            @Override\r\n            public void destroyObject(PooledObject&lt;MyObject&gt; pooledObj) throws Exception {\r\n                // clean up the object\r\n                //pooledObj.getObject().close ()\r\n            }\r\n        }   \r\n        \r\n        class MyObject {\r\n            public boolean isMyObjectValid() {\r\n                return true;\r\n            }\r\n            \r\n            public void close () {\r\n             // clean up the object\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBelow two lines provide the functionality that you are looking for.\r\n\r\n        // if the object is not accessed in 5 minutes, it evicted (throw away from the pool)\r\n        config.setTimeBetweenEvictionRunsMillis(5 * 60 * 1000);\r\n        // frequency at which it check for objects to be evicted\r\n        config.setMinEvictableIdleTimeMillis(1 * 60 * 1000);","title":"Java Release Poolable Object after Timeout","body":"<p>For the benefit of future reader, I wrote a small implementation using commons pool2 :</p>\n<pre><code>package com.test.communicator;\n\nimport org.apache.commons.pool2.BasePooledObjectFactory;\nimport org.apache.commons.pool2.PooledObject;\nimport org.apache.commons.pool2.PooledObjectFactory;\nimport org.apache.commons.pool2.impl.DefaultPooledObject;\nimport org.apache.commons.pool2.impl.GenericObjectPool;\nimport org.apache.commons.pool2.impl.GenericObjectPoolConfig;\n\npublic class Test {\n    \n    public void initializePool() throws Exception {\n        GenericObjectPoolConfig config = new GenericObjectPoolConfig();\n        \n        // parameters for the life cycle of the objects\n        config.setMinIdle(1);\n        config.setMaxIdle(1);\n        config.setMaxTotal(1);\n\n        // if the object is not accessed in 5 minutes, it evicted (throw away from the pool)\n        config.setTimeBetweenEvictionRunsMillis(5 * 60 * 1000);\n        // frequency at which it check for objects to be evicted\n        config.setMinEvictableIdleTimeMillis(1 * 60 * 1000);\n        \n        CommonsObjectPool pool = new CommonsObjectPool(new MyObjectPoolFactory(), config);\n        \n        MyObject myObj = pool.borrowObject(); //borrow an object\n    }\n    \n    /**\n     * An object pool implementation of your objects\n     */\n    class CommonsObjectPool extends GenericObjectPool&lt;MyObject&gt; {\n\n        public CommonsObjectPool(PooledObjectFactory&lt;MyObject&gt; factory) {\n            super(factory);\n        }\n\n        public CommonsObjectPool(PooledObjectFactory&lt;MyObject&gt; factory, GenericObjectPoolConfig config) {\n            super(factory, config);\n        }\n    }\n    \n    \n    \n    /**\n     * Factory to create the objects\n     */\n    class MyObjectPoolFactory extends BasePooledObjectFactory&lt;MyObject&gt; {\n        @Override\n        public MyObject create() throws Exception {\n            // create your object\n            return new MyObject();\n        }\n\n        @Override\n        public PooledObject&lt;MyObject&gt; wrap(MyObject arg0) {\n            return new DefaultPooledObject&lt;MyObject&gt;(arg0);\n        }\n\n        @Override\n        public boolean validateObject(PooledObject&lt;MyObject&gt; pooledObj) {\n            return pooledObj.getObject().isMyObjectValid(); // implement a validation\n        }\n\n        @Override\n        public void destroyObject(PooledObject&lt;MyObject&gt; pooledObj) throws Exception {\n            // clean up the object\n            //pooledObj.getObject().close ()\n        }\n    }   \n    \n    class MyObject {\n        public boolean isMyObjectValid() {\n            return true;\n        }\n        \n        public void close () {\n         // clean up the object\n        }\n    }\n}\n</code></pre>\n<p>Below two lines provide the functionality that you are looking for.</p>\n<pre><code>    // if the object is not accessed in 5 minutes, it evicted (throw away from the pool)\n    config.setTimeBetweenEvictionRunsMillis(5 * 60 * 1000);\n    // frequency at which it check for objects to be evicted\n    config.setMinEvictableIdleTimeMillis(1 * 60 * 1000);\n</code></pre>\n"}],"owner":{"account_id":65445,"reputation":1145,"user_id":192577,"accept_rate":78,"display_name":"Israel Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46986186,"answer_count":1,"score":1,"last_activity_date":1653322504,"creation_date":1379564109,"question_id":18886085,"body_markdown":"I&#39;ve been looking up ways to Pool an object that if not used for X minutes it would be removed from the object pool.\r\n\r\nThis Poolable object, is a socket connection to a legacy system.  I only want one persistent connection, and when new connections are required more objects are created to meet that need.  But I only want these newly non-persistent object connections to last maybe 5 or so minutes after the last request then disconnect gracefully.\r\n\r\nI&#39;m not sure if Apache Commons Pool project can help here. \r\n\r\nHow do I setup that kind of &quot;create/release&quot; rules?  Is it part of Apache Commons Pool, or will my Object have to handle that itself?  I&#39;m really not sure.\r\n\r\n-Israel\r\n","title":"Java Release Poolable Object after Timeout","body":"<p>I've been looking up ways to Pool an object that if not used for X minutes it would be removed from the object pool.</p>\n\n<p>This Poolable object, is a socket connection to a legacy system.  I only want one persistent connection, and when new connections are required more objects are created to meet that need.  But I only want these newly non-persistent object connections to last maybe 5 or so minutes after the last request then disconnect gracefully.</p>\n\n<p>I'm not sure if Apache Commons Pool project can help here. </p>\n\n<p>How do I setup that kind of \"create/release\" rules?  Is it part of Apache Commons Pool, or will my Object have to handle that itself?  I'm really not sure.</p>\n\n<p>-Israel</p>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1533129050,"post_id":51633369,"comment_id":90232566,"body_markdown":"You seemed to be having an issue with certificates: unable to find valid certification path to requested targe","body":"You seemed to be having an issue with certificates: unable to find valid certification path to requested targe"},{"owner":{"account_id":150422,"reputation":15727,"user_id":363603,"accept_rate":61,"display_name":"u123"},"score":0,"creation_date":1533144149,"post_id":51633369,"comment_id":90242383,"body_markdown":"Yes but why don&#39;t I get that error when I enable both repos?","body":"Yes but why don&#39;t I get that error when I enable both repos?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1533148544,"post_id":51633369,"comment_id":90244722,"body_markdown":"Because the dependencies can&#39;t be resolved based on the mentioned error.","body":"Because the dependencies can&#39;t be resolved based on the mentioned error."}],"answers":[{"tags":[],"owner":{"account_id":13782043,"reputation":138,"user_id":9946973,"display_name":"Aurele Collinet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533128001,"creation_date":1533128001,"answer_id":51633825,"question_id":51633369,"body_markdown":"I had a pb like this, idk if it will help but with this code in my POM.xml my nexus pb were resolved\r\n\r\n    \t&lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;nexus&lt;/id&gt;\r\n\t\t\t&lt;name&gt;releases&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;snapshotRepository&gt;\r\n\t\t\t&lt;id&gt;nexus&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\r\n\t\t&lt;/snapshotRepository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n\r\nand \r\n\r\n\r\n    \t\t&lt;!-- download artifacts from this repo --&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;nexus&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Public&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nhope it helped","title":"repositories vs pluginRepositories in maven settings.xml","body":"<p>I had a pb like this, idk if it will help but with this code in my POM.xml my nexus pb were resolved</p>\n\n<pre><code>    &lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus&lt;/id&gt;\n        &lt;name&gt;releases&lt;/name&gt;\n        &lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;nexus&lt;/id&gt;\n        &lt;name&gt;Snapshots&lt;/name&gt;\n        &lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>        &lt;!-- download artifacts from this repo --&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus&lt;/id&gt;\n        &lt;name&gt;Public&lt;/name&gt;\n        &lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/releases&gt;\n\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>hope it helped</p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1533129318,"creation_date":1533129318,"answer_id":51634284,"question_id":51633369,"body_markdown":"In Nexus there is defined a public group which should contain all needed repositories and there should no need to configure this in your  own pom nor in the settings.xml file. Only the public group of Nexus should be configured\r\n\r\nThe only thing you need is to change the url in mirror with your own location...\r\n\r\n\r\n&lt;!-- language: language-xml --&gt;\r\n\r\n    &lt;settings&gt;\r\n      &lt;mirrors&gt;\r\n        &lt;mirror&gt;\r\n          &lt;!--This sends everything else to /public --&gt;\r\n          &lt;id&gt;nexus&lt;/id&gt;\r\n          &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n          &lt;url&gt;http://localhost:8081/repository/maven-public/&lt;/url&gt;\r\n        &lt;/mirror&gt;\r\n      &lt;/mirrors&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;nexus&lt;/id&gt;\r\n          &lt;!--Enable snapshots for the built in central repo to direct --&gt;\r\n          &lt;!--all requests to nexus via the mirror --&gt;\r\n          &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n              &lt;id&gt;central&lt;/id&gt;\r\n              &lt;url&gt;http://central&lt;/url&gt;\r\n              &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\r\n              &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n          &lt;/repositories&gt;\r\n         &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n              &lt;id&gt;central&lt;/id&gt;\r\n              &lt;url&gt;http://central&lt;/url&gt;\r\n              &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\r\n              &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n          &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n      &lt;activeProfiles&gt;\r\n        &lt;!--make the profile active all the time --&gt;\r\n        &lt;activeProfile&gt;nexus&lt;/activeProfile&gt;\r\n      &lt;/activeProfiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n","title":"repositories vs pluginRepositories in maven settings.xml","body":"<p>In Nexus there is defined a public group which should contain all needed repositories and there should no need to configure this in your  own pom nor in the settings.xml file. Only the public group of Nexus should be configured</p>\n\n<p>The only thing you need is to change the url in mirror with your own location...</p>\n\n<pre><code>&lt;settings&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;!--This sends everything else to /public --&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n      &lt;url&gt;http://localhost:8081/repository/maven-public/&lt;/url&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;!--Enable snapshots for the built in central repo to direct --&gt;\n      &lt;!--all requests to nexus via the mirror --&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;http://central&lt;/url&gt;\n          &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n     &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;http://central&lt;/url&gt;\n          &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n          &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n  &lt;activeProfiles&gt;\n    &lt;!--make the profile active all the time --&gt;\n    &lt;activeProfile&gt;nexus&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580426597,"creation_date":1580426597,"answer_id":59995978,"question_id":51633369,"body_markdown":"Suppose that you had defined a plugin with some dependencies. These dependencies will be searched in all of your `&lt;pluginRepository&gt;` definitions. Something like this:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n       &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n       &lt;dependencies&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;io.herd.common&lt;/groupId&gt;\r\n              &lt;artifactId&gt;common-herd&lt;/artifactId&gt;\r\n              &lt;version&gt;${common.version}&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nEven if you have a `&lt;repository&gt;` defined which contains the **common-herd** artifact, Maven will not downloaded it unless you also have a `&lt;pluginRepository&gt;` containing it. And of course, the **common-herd** artifact can not be present inside the Maven Central Repository.\r\n\r\nI had this problem a few months ago and Maven only downloaded the specific plugin dependency after I added a `&lt;pluginRepository&gt;`","title":"repositories vs pluginRepositories in maven settings.xml","body":"<p>Suppose that you had defined a plugin with some dependencies. These dependencies will be searched in all of your <code>&lt;pluginRepository&gt;</code> definitions. Something like this:</p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;${liquibase.version}&lt;/version&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;io.herd.common&lt;/groupId&gt;\n          &lt;artifactId&gt;common-herd&lt;/artifactId&gt;\n          &lt;version&gt;${common.version}&lt;/version&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Even if you have a <code>&lt;repository&gt;</code> defined which contains the <strong>common-herd</strong> artifact, Maven will not downloaded it unless you also have a <code>&lt;pluginRepository&gt;</code> containing it. And of course, the <strong>common-herd</strong> artifact can not be present inside the Maven Central Repository.</p>\n\n<p>I had this problem a few months ago and Maven only downloaded the specific plugin dependency after I added a <code>&lt;pluginRepository&gt;</code></p>\n"}],"owner":{"account_id":150422,"reputation":15727,"user_id":363603,"accept_rate":61,"display_name":"u123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13448,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1653322000,"creation_date":1533126641,"question_id":51633369,"body_markdown":"I have the below settings.xml file in my **~/.m2/** folder:\r\n\r\n\r\n    &lt;settings&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;my-repositories&lt;/id&gt;\r\n    \t\t\t&lt;repositories&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;thirdparty-repository&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Thirdparty repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t&lt;/repositories&gt;\r\n    \t\t\t&lt;pluginRepositories&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;thirdparty-plugin-repository&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Thirdparty plugin repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t&lt;/pluginRepositories&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \t&lt;activeProfiles&gt;\r\n    \t\t&lt;activeProfile&gt;my-repositories&lt;/activeProfile&gt;\r\n    \t&lt;/activeProfiles&gt;\r\n    &lt;/settings&gt;\r\n\r\nFor both repositories the same nexus group repository is used:\r\n\r\nhttps://mynexus/repository/thirdparty/\r\n\r\nIf I remove the first one: `thirdparty-repository` I get the below error:\r\n\r\n\r\n    Failed to read artifact descriptor for junit:junit:jar:4.8.2: Could not transfer artifact junit:junit:pom:4.8.2 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nNow If I re-enable it and instead remove the other one: `thirdparty-plugin-repository` I now get this error:\r\n\r\n     Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nOnly when I have them both enabled at the same time it works.\r\n\r\nWhy do I need both `repositories` and `pluginRepositories` that points to the same nexus repository?","title":"repositories vs pluginRepositories in maven settings.xml","body":"<p>I have the below settings.xml file in my <strong>~/.m2/</strong> folder:</p>\n\n<pre><code>&lt;settings&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;my-repositories&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;thirdparty-repository&lt;/id&gt;\n                    &lt;name&gt;Thirdparty repository&lt;/name&gt;\n                    &lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;thirdparty-plugin-repository&lt;/id&gt;\n                    &lt;name&gt;Thirdparty plugin repository&lt;/name&gt;\n                    &lt;url&gt;https://mynexus/repository/thirdparty/&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;my-repositories&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>For both repositories the same nexus group repository is used:</p>\n\n<p><a href=\"https://mynexus/repository/thirdparty/\" rel=\"nofollow noreferrer\">https://mynexus/repository/thirdparty/</a></p>\n\n<p>If I remove the first one: <code>thirdparty-repository</code> I get the below error:</p>\n\n<pre><code>Failed to read artifact descriptor for junit:junit:jar:4.8.2: Could not transfer artifact junit:junit:pom:4.8.2 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Now If I re-enable it and instead remove the other one: <code>thirdparty-plugin-repository</code> I now get this error:</p>\n\n<pre><code> Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Only when I have them both enabled at the same time it works.</p>\n\n<p>Why do I need both <code>repositories</code> and <code>pluginRepositories</code> that points to the same nexus repository?</p>\n"},{"tags":["java","spring-boot","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653321909,"creation_date":1653074387,"answer_id":72323878,"question_id":72322622,"body_markdown":"It&#39;s not a good practice to return nulls for collection fields. Considering you have access to these classes, return an empty list from the get methods instead:\r\n\r\n`StockOrder.java`\r\n```java\r\npublic List&lt;StockOrderItem&gt; getStockOrderItems() {\r\n\treturn this.getStockOrderItems != null this.getStockOrderItems ? Collections.emptyList();\r\n}\r\n```\r\n\r\nOr better, as @Ridiculon pointed out in the comments, initialize the collection fields with a `new ArrayList()` directly.\r\n\r\n`StockOrder.java`\r\n```java\r\nprivate final List&lt;StockOrderItem&gt; stockOrderItems;\r\n\r\npublic StockOrder() {\r\n   this.stockOrderItems = new ArrayList();\r\n}\r\n```\r\n\r\n\r\nWith that in place, you can use a more elegant functional approach to populate your list, such as:\r\n\r\n```java\r\nList&lt;InventoryDataLoad&gt; inventoryDataLoadList = purchaseOrderRepository\r\n\t\t.findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId())\r\n\t\t.getStockOrders()\r\n\t\t.stream()\r\n\t\t.map(StockOrder::getStockOrderItems)\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.map(item -&gt; {\r\n\t\t\tInventoryDataLoad inventoryDataload = new InventoryDataLoad();\r\n\t\t\tinventoryDataload.setSku(item.getSku());\r\n\t\t\treturn inventoryDataload;\r\n\t\t})\r\n\t\t.collect(Collectors.toList());\r\n```\r\n\r\n\r\nIf you don&#39;t have access to the classes to change the get method, you can create your own get methods:\r\n\r\n```java\r\nprivate List&lt;StockOrderItem&gt; getStockOrderItems(StockOrder stockOrder) {\r\n\treturn stockOrder.getStockOrderItems() != null ? stockOrder.getStockOrderItems() : Collections.emptyList();\r\n}\r\n\r\nprivate List&lt;StockOrder&gt; getStockOrders(PurchaseOrderRepository purchaseOrderRepository, PurchaseOrder po) {\r\n\tList&lt;StockOrder&gt; stockOrders = purchaseOrderRepository\r\n\t\t\t.findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId())\r\n\t\t\t.getStockOrders();\r\n\treturn stockOrders != null ? stockOrders : Collections.emptyList();\r\n}\r\n\r\n```\r\n\r\nAnd then do the functional approach using those:\r\n\r\n```java\r\nList&lt;InventoryDataLoad&gt; inventoryDataLoadList = getStockOrders(purchaseOrderRepository, po)\r\n\t\t.stream()\r\n\t\t.map(this::getStockOrderItems)\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.map(item -&gt; {\r\n\t\t\tInventoryDataLoad inventoryDataload = new InventoryDataLoad();\r\n\t\t\tinventoryDataload.setSku(item.getSku());\r\n\t\t\treturn inventoryDataload;\r\n\t\t})\r\n\t\t.collect(Collectors.toList());\r\n\r\n```\r\n\r\nEDIT: In both cases you can also improve it a little further by creating a separate method for creating the `InventoryDataLoad` object, such as:\r\n\r\n```java\r\nprivate InventoryDataLoad createInventoryDataLoad(StockOrderItem item) {\r\n    InventoryDataLoad inventoryDataload = new InventoryDataLoad();\r\n\t    \t\tinventoryDataload.setSku(item.getSku());\r\n\t\t    \treturn inventoryDataload;\r\n}\r\n```\r\n\r\nAnd then:\r\n\r\n```java\r\nList&lt;InventoryDataLoad&gt; inventoryDataLoadList = getStockOrders(purchaseOrderRepository, po)\r\n\t\t.stream()\r\n\t\t.map(this::getStockOrderItems)\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.map(this::createInventoryDataLoad)\r\n\t\t.collect(Collectors.toList());\r\n\r\n```","title":"Navigate in object with a lot of nulls","body":"<p>It's not a good practice to return nulls for collection fields. Considering you have access to these classes, return an empty list from the get methods instead:</p>\n<p><code>StockOrder.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;StockOrderItem&gt; getStockOrderItems() {\n    return this.getStockOrderItems != null this.getStockOrderItems ? Collections.emptyList();\n}\n</code></pre>\n<p>Or better, as @Ridiculon pointed out in the comments, initialize the collection fields with a <code>new ArrayList()</code> directly.</p>\n<p><code>StockOrder.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private final List&lt;StockOrderItem&gt; stockOrderItems;\n\npublic StockOrder() {\n   this.stockOrderItems = new ArrayList();\n}\n</code></pre>\n<p>With that in place, you can use a more elegant functional approach to populate your list, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InventoryDataLoad&gt; inventoryDataLoadList = purchaseOrderRepository\n        .findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId())\n        .getStockOrders()\n        .stream()\n        .map(StockOrder::getStockOrderItems)\n        .flatMap(Collection::stream)\n        .map(item -&gt; {\n            InventoryDataLoad inventoryDataload = new InventoryDataLoad();\n            inventoryDataload.setSku(item.getSku());\n            return inventoryDataload;\n        })\n        .collect(Collectors.toList());\n</code></pre>\n<p>If you don't have access to the classes to change the get method, you can create your own get methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;StockOrderItem&gt; getStockOrderItems(StockOrder stockOrder) {\n    return stockOrder.getStockOrderItems() != null ? stockOrder.getStockOrderItems() : Collections.emptyList();\n}\n\nprivate List&lt;StockOrder&gt; getStockOrders(PurchaseOrderRepository purchaseOrderRepository, PurchaseOrder po) {\n    List&lt;StockOrder&gt; stockOrders = purchaseOrderRepository\n            .findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId())\n            .getStockOrders();\n    return stockOrders != null ? stockOrders : Collections.emptyList();\n}\n\n</code></pre>\n<p>And then do the functional approach using those:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InventoryDataLoad&gt; inventoryDataLoadList = getStockOrders(purchaseOrderRepository, po)\n        .stream()\n        .map(this::getStockOrderItems)\n        .flatMap(Collection::stream)\n        .map(item -&gt; {\n            InventoryDataLoad inventoryDataload = new InventoryDataLoad();\n            inventoryDataload.setSku(item.getSku());\n            return inventoryDataload;\n        })\n        .collect(Collectors.toList());\n\n</code></pre>\n<p>EDIT: In both cases you can also improve it a little further by creating a separate method for creating the <code>InventoryDataLoad</code> object, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private InventoryDataLoad createInventoryDataLoad(StockOrderItem item) {\n    InventoryDataLoad inventoryDataload = new InventoryDataLoad();\n                inventoryDataload.setSku(item.getSku());\n                return inventoryDataload;\n}\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InventoryDataLoad&gt; inventoryDataLoadList = getStockOrders(purchaseOrderRepository, po)\n        .stream()\n        .map(this::getStockOrderItems)\n        .flatMap(Collection::stream)\n        .map(this::createInventoryDataLoad)\n        .collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":2415252,"reputation":31,"user_id":2109429,"display_name":"user2109429"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653321909,"creation_date":1653067154,"question_id":72322622,"body_markdown":"I&#39;m trying to implement a good design in my code. There is a Entity purchaseOrder and I need to navigate inside that object that has a list of stockOrder and each StockOrder has a list of StockOrderItem. There is no guarantee that a stockOrder or stockOrderItem exists so I needed to check a lot of nulls. Is there a elegant way to do that?  \r\n```        \r\n        PurchaseOrder purchaseOrder = purchaseOrderRepository.\r\n            findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId());\r\n        List&lt;StockOrder&gt; stockOrders = Optional.ofNullable(\r\n            purchaseOrder.getStockOrders()).orElse(Collections.emptyList());\r\n        for (StockOrder stockOrder : stockOrders) {\r\n            for (StockOrderItem stockOrderItem : Optional.\r\n                ofNullable(stockOrder.getStockOrderItems()).orElse(Collections.emptyList())) {\r\n                InventoryDataLoad inventoryDataload = new InventoryDataLoad();\r\n                inventoryDataload.setSku(stockOrderItem.getSku());\r\n                inventoryDataLoadList.add(inventoryDataload);\r\n            }\r\n        }\r\n```","title":"Navigate in object with a lot of nulls","body":"<p>I'm trying to implement a good design in my code. There is a Entity purchaseOrder and I need to navigate inside that object that has a list of stockOrder and each StockOrder has a list of StockOrderItem. There is no guarantee that a stockOrder or stockOrderItem exists so I needed to check a lot of nulls. Is there a elegant way to do that?</p>\n<pre><code>        PurchaseOrder purchaseOrder = purchaseOrderRepository.\n            findByIdentifierAndBrandId(po.getPurchaseOrderIdentifier(), po.getBrandId());\n        List&lt;StockOrder&gt; stockOrders = Optional.ofNullable(\n            purchaseOrder.getStockOrders()).orElse(Collections.emptyList());\n        for (StockOrder stockOrder : stockOrders) {\n            for (StockOrderItem stockOrderItem : Optional.\n                ofNullable(stockOrder.getStockOrderItems()).orElse(Collections.emptyList())) {\n                InventoryDataLoad inventoryDataload = new InventoryDataLoad();\n                inventoryDataload.setSku(stockOrderItem.getSku());\n                inventoryDataLoadList.add(inventoryDataload);\n            }\n        }\n</code></pre>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1653292722,"post_id":72341988,"comment_id":127806785,"body_markdown":"Try to define the credentials of your tomcat in the .m2/settings.xml or conf/senttings.xml of your maven","body":"Try to define the credentials of your tomcat in the .m2/settings.xml or conf/senttings.xml of your maven"},{"owner":{"account_id":25228932,"reputation":21,"user_id":19064357,"display_name":"Sergei Gots"},"score":0,"creation_date":1653319272,"post_id":72341988,"comment_id":127817116,"body_markdown":"thank you, but actually as it mentioned in my questions, i have these credentials added to these files (actually, settings.xml is placed in maven-home-folder like /opt/maven or Program Files\\maven etc. in Windows, isn&#39;t it)","body":"thank you, but actually as it mentioned in my questions, i have these credentials added to these files (actually, settings.xml is placed in maven-home-folder like /opt/maven or Program Files\\maven etc. in Windows, isn&#39;t it)"}],"owner":{"account_id":25228932,"reputation":21,"user_id":19064357,"display_name":"Sergei Gots"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653321425,"creation_date":1653262670,"question_id":72341988,"body_markdown":"have been developing a java app being compiling and built with Maven.\r\nTrying to deploy it on tomcat server.\r\n\r\nto deploy I added the next plugin-section to pom.xml :\r\n\r\n    &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n              &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;server&gt;maven-tomcat-war-deployment-server&lt;/server&gt;\r\n                &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n                &lt;path&gt;/rps&lt;/path&gt;\r\n       \t      &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nand also had had before the section\r\n\r\n       &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\nand it is able to deploy my  &quot;testapp&quot; onto tomcat server with\r\ncommand line:\r\n\r\n**$ mvn install tomcat7:deploy** \r\n\r\n- in this case everything will be ok\r\n\r\nBUT from IntelliJ my tries are unsuccessful. I have the next failure:\r\n\r\n&gt; [INFO] --- **tomcat7-maven-plugin:2.0:deploy** (default-cli) @ testapp\r\n&gt; --- [INFO] Deploying war to http://localhost:8080/rps   Uploading: http://localhost:8080/manager/text/deploy?path=%2Frps Uploaded:\r\n&gt; http://localhost:8080/manager/text/deploy?path=%2Frps (11 KB at 1053.5\r\n&gt; KB/sec)\r\n&gt; \r\n&gt; Uploading: http://localhost:8080/manager/text/deploy?path=%2Frps\r\n&gt; Uploaded: http://localhost:8080/manager/text/deploy?path=%2Frps (11 KB\r\n&gt; at 2107.0 KB/sec)\r\n&gt; \r\n&gt; tomcatManager status code:401, ReasonPhrase: [INFO] &lt;!DOCTYPE html\r\n&gt; PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;\r\n&gt; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt; [INFO] &lt;html&gt; [INFO]  &lt;head&gt;\r\n&gt; [INFO]   &lt;title&gt;401 **Unauthorized**&lt;/title&gt; [INFO]  &lt;etc..&gt; [INFO] \r\n&gt; &lt;body&gt; [INFO]    &lt;h1&gt;401 Unauthorized&lt;/h1&gt; [INFO]    &lt;p&gt; [INFO]    \r\n&gt; **You are not authorized to view this page. If you have not changed [INFO]     any configuration files, please examine the file [INFO]    \r\n&gt; &lt;tt&gt;conf/tomcat-users.xml&lt;/tt&gt; in your installation. That [INFO]    \r\n&gt; file must contain the credentials to let you use this webapp. [INFO]  \r\n&gt; For example, to add the &lt;tt&gt;manager-gui&lt;/tt&gt; role to a user named\r\n&gt; [INFO]     &lt;tt&gt;tomcat&lt;/tt&gt; with a password of &lt;tt&gt;s3cret&lt;/tt&gt;, add the\r\n&gt; following to the [INFO]     config file listed above.**\r\n\r\n   \r\nEverything is clear but have no idea **where in IntelliJ I can assign admin-user name and password in order to get access to tomcat**?\r\nObviously, I have admin-user-role credentials entries in **maven/settings.xml** :\r\n\r\n    &lt;server&gt;\r\n         &lt;id&gt;maven-tomcat-war-deployment-server&lt;/id&gt;\r\n        &lt;username&gt;admin&lt;/username&gt;\r\n        &lt;password&gt;admin&lt;/password&gt;\r\n    &lt;/server&gt; \r\n\r\nand correspondingly in **tomcat/conf/tomcat-users.xml** have:\r\n\r\n    &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot; version=&quot;1.0&quot;&gt;\r\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-script,manager-jmx,manager-gui&quot;/&gt;\r\n\r\nPS To run it this way I changed run configuration to execute command like with it was\r\nwith command line: **install tomcat7:deploy -f pom.xml**\r\n\r\nin case when I try to configure a new run-configuration based on TomCat Server there will happen much more serious and unpredictable problems which should as i think be described in a separate question.\r\n\r\nCouldn&#39;t imagine it would be such a tremendous problem to deploy an existing app on tomcat)\r\nThere are on youtube a video from JetBrain how to do that but without any connection\r\nto developing within Maven-framework concept.\r\n\r\nTYA\r\nSergei\r\n\r\n","title":"IntelliJ : Deploy app on Tomcat. AUTHORIZATION issues","body":"<p>have been developing a java app being compiling and built with Maven.\nTrying to deploy it on tomcat server.</p>\n<p>to deploy I added the next plugin-section to pom.xml :</p>\n<pre><code>&lt;plugin&gt;\n          &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n          &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;server&gt;maven-tomcat-war-deployment-server&lt;/server&gt;\n            &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n            &lt;path&gt;/rps&lt;/path&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>and also had had before the section</p>\n<pre><code>   &lt;plugin&gt;\n      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>and it is able to deploy my  &quot;testapp&quot; onto tomcat server with\ncommand line:</p>\n<p><strong>$ mvn install tomcat7:deploy</strong></p>\n<ul>\n<li>in this case everything will be ok</li>\n</ul>\n<p>BUT from IntelliJ my tries are unsuccessful. I have the next failure:</p>\n<blockquote>\n<p>[INFO] --- <strong>tomcat7-maven-plugin:2.0:deploy</strong> (default-cli) @ testapp\n--- [INFO] Deploying war to http://localhost:8080/rps   Uploading: http://localhost:8080/manager/text/deploy?path=%2Frps Uploaded:\nhttp://localhost:8080/manager/text/deploy?path=%2Frps (11 KB at 1053.5\nKB/sec)</p>\n<p>Uploading: http://localhost:8080/manager/text/deploy?path=%2Frps\nUploaded: http://localhost:8080/manager/text/deploy?path=%2Frps (11 KB\nat 2107.0 KB/sec)</p>\n<p>tomcatManager status code:401, ReasonPhrase: [INFO]  [INFO]  [INFO]  \n[INFO]   401 <strong>Unauthorized</strong> [INFO]  &lt;etc..&gt; [INFO]</p>\n [INFO]    <h1>401 Unauthorized</h1> [INFO]    <p> [INFO]    \n**You are not authorized to view this page. If you have not changed [INFO]     any configuration files, please examine the file [INFO]    \nconf/tomcat-users.xml in your installation. That [INFO]    \nfile must contain the credentials to let you use this webapp. [INFO]  \nFor example, to add the manager-gui role to a user named\n[INFO]     tomcat with a password of s3cret, add the\nfollowing to the [INFO]     config file listed above.**\n</blockquote>\n<p>Everything is clear but have no idea <strong>where in IntelliJ I can assign admin-user name and password in order to get access to tomcat</strong>?\nObviously, I have admin-user-role credentials entries in <strong>maven/settings.xml</strong> :</p>\n<pre><code>&lt;server&gt;\n     &lt;id&gt;maven-tomcat-war-deployment-server&lt;/id&gt;\n    &lt;username&gt;admin&lt;/username&gt;\n    &lt;password&gt;admin&lt;/password&gt;\n&lt;/server&gt; \n</code></pre>\n<p>and correspondingly in <strong>tomcat/conf/tomcat-users.xml</strong> have:</p>\n<pre><code>&lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot; version=&quot;1.0&quot;&gt;\n&lt;role rolename=&quot;manager-script&quot;/&gt;\n&lt;role rolename=&quot;manager-jmx&quot;/&gt;\n&lt;role rolename=&quot;manager-gui&quot;/&gt;\n&lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-script,manager-jmx,manager-gui&quot;/&gt;\n</code></pre>\n<p>PS To run it this way I changed run configuration to execute command like with it was\nwith command line: <strong>install tomcat7:deploy -f pom.xml</strong></p>\n<p>in case when I try to configure a new run-configuration based on TomCat Server there will happen much more serious and unpredictable problems which should as i think be described in a separate question.</p>\n<p>Couldn't imagine it would be such a tremendous problem to deploy an existing app on tomcat)\nThere are on youtube a video from JetBrain how to do that but without any connection\nto developing within Maven-framework concept.</p>\n<p>TYA\nSergei</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1652540668,"post_id":72241415,"comment_id":127633353,"body_markdown":"Google is your [friend](https://github.com/sarxos/webcam-capture/issues/114#issuecomment-19814595).","body":"Google is your <a href=\"https://github.com/sarxos/webcam-capture/issues/114#issuecomment-19814595\" rel=\"nofollow noreferrer\">friend</a>."},{"owner":{"account_id":4550398,"reputation":3490,"user_id":3695819,"display_name":"gp_sflover"},"score":0,"creation_date":1652726354,"post_id":72241415,"comment_id":127670935,"body_markdown":"if you&#39;ve a solution add it in the answer section and never inside the question. PS: as you simply forgot to add some jar file you could also eventually delete the question.","body":"if you&#39;ve a solution add it in the answer section and never inside the question. PS: as you simply forgot to add some jar file you could also eventually delete the question."}],"answers":[{"tags":[],"owner":{"account_id":20511500,"reputation":29,"user_id":15053157,"display_name":"Jos&#233; Castellanos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653321376,"creation_date":1653321376,"answer_id":72351509,"question_id":72241415,"body_markdown":"This error is caused by a jar unspected, see https://github.com/sarxos/webcam-capture/issues/248\r\n\r\nYou only need add this bridj jar, you can download it http://www.java2s.com/Code/Jar/b/Downloadbridj062jar.htm\r\n\r\nGood lucky","title":"Caused by: java.lang.NoClassDefFoundError: org/bridj/cpp/CPPObject","body":"<p>This error is caused by a jar unspected, see <a href=\"https://github.com/sarxos/webcam-capture/issues/248\" rel=\"nofollow noreferrer\">https://github.com/sarxos/webcam-capture/issues/248</a></p>\n<p>You only need add this bridj jar, you can download it <a href=\"http://www.java2s.com/Code/Jar/b/Downloadbridj062jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/b/Downloadbridj062jar.htm</a></p>\n<p>Good lucky</p>\n"}],"owner":{"account_id":25290311,"reputation":3,"user_id":19116555,"display_name":"TrpTOdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653321376,"creation_date":1652540541,"question_id":72241415,"body_markdown":"Here I have written some code to capture the image from My Pc cam using java.\r\n**Below is the code:**\r\n\r\n     Random rnd = new Random();\r\n        int number = rnd.nextInt(999999999);\r\n\r\n        Webcam webcam = Webcam.getDefault();\r\n        webcam.open();\r\n       String filename = &quot;&quot;;\r\n        filename = number + &quot;_&quot; + &quot;.jpg&quot;;\r\n        ImageIO.write(webcam.getImage(), &quot;JPG&quot;, new File(&quot;src\\\\esprit\\\\com\\\\logo\\\\&quot; + filename));\r\n        pic = filename;\r\n        System.out.println(filename);\r\n\r\n        webcam.close();\r\n\r\nAnd I have added  *slf4j-api-1.7.2.jar* ,  *slf4j-simple-1.7.2.jar*,*webcam-capture-0.3.12.jar* And *webcam-capture-driver-v4l4j-0.3.11-sources.jar*  what ever required, but when running the application, image is not getting, Exception is raised.\r\n\r\n**Below is the Exception:**\r\n\r\n    Caused by: com.github.sarxos.webcam.WebcamException: Cannot execute task\r\n    \tat com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.process(WebcamProcessor.java:72)\r\n    \tat com.github.sarxos.webcam.WebcamProcessor.process(WebcamProcessor.java:140)\r\n    \tat com.github.sarxos.webcam.WebcamTask.process(WebcamTask.java:46)\r\n    \tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$WebcamNewGrabberTask.newGrabber(WebcamDefaultDriver.java:45)\r\n    \tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver.getDevices(WebcamDefaultDriver.java:117)\r\n    \tat com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:36)\r\n    \tat com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:26)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \t... 1 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/bridj/cpp/CPPObject\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$WebcamNewGrabberTask.handle(WebcamDefaultDriver.java:55)\r\n    \tat com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.run(WebcamProcessor.java:81)\r\n    \t... 3 more\r\n    Caused by: java.lang.ClassNotFoundException: org.bridj.cpp.CPPObject\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 17 more\r\n\r\n\r\n**N.B** My IDE is Apache NetBeans IDE 12.4\r\n\r\n\r\n","title":"Caused by: java.lang.NoClassDefFoundError: org/bridj/cpp/CPPObject","body":"<p>Here I have written some code to capture the image from My Pc cam using java.\n<strong>Below is the code:</strong></p>\n<pre><code> Random rnd = new Random();\n    int number = rnd.nextInt(999999999);\n\n    Webcam webcam = Webcam.getDefault();\n    webcam.open();\n   String filename = &quot;&quot;;\n    filename = number + &quot;_&quot; + &quot;.jpg&quot;;\n    ImageIO.write(webcam.getImage(), &quot;JPG&quot;, new File(&quot;src\\\\esprit\\\\com\\\\logo\\\\&quot; + filename));\n    pic = filename;\n    System.out.println(filename);\n\n    webcam.close();\n</code></pre>\n<p>And I have added  <em>slf4j-api-1.7.2.jar</em> ,  <em>slf4j-simple-1.7.2.jar</em>,<em>webcam-capture-0.3.12.jar</em> And <em>webcam-capture-driver-v4l4j-0.3.11-sources.jar</em>  what ever required, but when running the application, image is not getting, Exception is raised.</p>\n<p><strong>Below is the Exception:</strong></p>\n<pre><code>Caused by: com.github.sarxos.webcam.WebcamException: Cannot execute task\n    at com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.process(WebcamProcessor.java:72)\n    at com.github.sarxos.webcam.WebcamProcessor.process(WebcamProcessor.java:140)\n    at com.github.sarxos.webcam.WebcamTask.process(WebcamTask.java:46)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$WebcamNewGrabberTask.newGrabber(WebcamDefaultDriver.java:45)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver.getDevices(WebcamDefaultDriver.java:117)\n    at com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:36)\n    at com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:26)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    ... 1 more\nCaused by: java.lang.NoClassDefFoundError: org/bridj/cpp/CPPObject\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$WebcamNewGrabberTask.handle(WebcamDefaultDriver.java:55)\n    at com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.run(WebcamProcessor.java:81)\n    ... 3 more\nCaused by: java.lang.ClassNotFoundException: org.bridj.cpp.CPPObject\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 17 more\n</code></pre>\n<p><strong>N.B</strong> My IDE is Apache NetBeans IDE 12.4</p>\n"},{"tags":["java","jboss","jms","websphere","ibm-mq"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1646878710,"post_id":71417352,"comment_id":126234811,"body_markdown":"What version of JBoss are you using?","body":"What version of JBoss are you using?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1646878722,"post_id":71417352,"comment_id":126234812,"body_markdown":"What version of the WebSphere MQ JCA RA are you using?","body":"What version of the WebSphere MQ JCA RA are you using?"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1646916873,"post_id":71417352,"comment_id":126245093,"body_markdown":"`com.ibm.websphere.naming.WsnInitialContextFactory` is proprietary factor for WebSphere Application Server, not JBoss. You should correctly configure MQ RA in your JBoss config and then use JBoss JNDI to lookup resources defined there. Look for some posts that describes JBoss - MQ integration.","body":"<code>com.ibm.websphere.naming.WsnInitialContextFactory</code> is proprietary factor for WebSphere Application Server, not JBoss. You should correctly configure MQ RA in your JBoss config and then use JBoss JNDI to lookup resources defined there. Look for some posts that describes JBoss - MQ integration."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653320801,"creation_date":1646878256,"answer_id":71418056,"question_id":71417352,"body_markdown":"The root cause is:\r\n```\r\njava.lang.ClassNotFoundException: com.ibm.websphere.naming.WsnInitialContextFactory\r\n```\r\nThis means that the application&#39;s classloader can&#39;t find this class.\r\n\r\n**However**, one of the *main benefits* of using a JCA resource adapter is that you don&#39;t need to include provider-specific details in your code. In other words, you shouldn&#39;t be looking up JNDI resources directly on WebSphere MQ in your application code at all. All that stuff should be configured and bound into JNDI via the JCA resource adapter which you&#39;ve deployed. Then you can perform a _local_ JNDI lookup to access resources on the remote WebSphere MQ server. Then you&#39;re application won&#39;t need access to any provider-specific classes or configuration details. It can just use the Java EE APIs as they were designed to be used.","title":"Caused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory","body":"<p>The root cause is:</p>\n<pre><code>java.lang.ClassNotFoundException: com.ibm.websphere.naming.WsnInitialContextFactory\n</code></pre>\n<p>This means that the application's classloader can't find this class.</p>\n<p><strong>However</strong>, one of the <em>main benefits</em> of using a JCA resource adapter is that you don't need to include provider-specific details in your code. In other words, you shouldn't be looking up JNDI resources directly on WebSphere MQ in your application code at all. All that stuff should be configured and bound into JNDI via the JCA resource adapter which you've deployed. Then you can perform a <em>local</em> JNDI lookup to access resources on the remote WebSphere MQ server. Then you're application won't need access to any provider-specific classes or configuration details. It can just use the Java EE APIs as they were designed to be used.</p>\n"}],"owner":{"account_id":16021178,"reputation":1,"user_id":11562665,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653320801,"creation_date":1646870161,"question_id":71417352,"body_markdown":"I deployed a Java application on a JBoss server which allows to connect to WebSphere MQ server using the ressource adapter provided by WebSphere MQ. During the app start I had the problem `Caused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory`:\r\n```\r\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory com.ibm.websphere.naming.WsnInitialContextFactory from classloader ModuleClassLoader for Module &quot;JmsTest.war&quot; from Service Module Loader [Root exception is java.lang.ClassNotFoundException: com.ibm.websphere.naming.WsnInitialContextFactory from [Module &quot;deployment.JmsTest.war&quot; from Service Module Loader]]\r\n```\r\nHere&#39;s my java code below :\r\n```java\r\nProperties properties = new Properties();\r\nproperties.put(Context.SECURITY_PRINCIPAL, user);\r\nproperties.put(Context.SECURITY_CREDENTIALS, password);\r\nproperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\r\nproperties.put(Context.URL_PKG_PREFIXES, &quot;com.ibm.ws.naming&quot;);\r\nproperties.put(Context.PROVIDER_URL,  &quot;remote://192.16.70.10:1234&quot;);\r\nnamingContext = new InitialContext(properties);\r\nMQConnectionFactory cf = new MQConnectionFactory();\r\ncf.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\ncf.setHostName(mqHostName);\r\ncf.setPort(Integer.parseInt(mqListenerPort));\r\ncf.setQueueManager(mqQueueManagerName);\r\ncf.setChannel(mqChannelName);\r\nMQConnectionFactory factory = cf;\r\nconnection = factory.createConnection(user, password);\r\nconnection.start();\r\nsessionConsumer = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nqueue = namingContext.lookup(queue);\r\n```\r\nCan anyone help me? Any suggestion would be appreciated!","title":"Caused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory","body":"<p>I deployed a Java application on a JBoss server which allows to connect to WebSphere MQ server using the ressource adapter provided by WebSphere MQ. During the app start I had the problem <code>Caused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory</code>:</p>\n<pre><code>at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.naming.NamingException: WFLYNAM0027: Failed instantiate InitialContextFactory com.ibm.websphere.naming.WsnInitialContextFactory from classloader ModuleClassLoader for Module &quot;JmsTest.war&quot; from Service Module Loader [Root exception is java.lang.ClassNotFoundException: com.ibm.websphere.naming.WsnInitialContextFactory from [Module &quot;deployment.JmsTest.war&quot; from Service Module Loader]]\n</code></pre>\n<p>Here's my java code below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nproperties.put(Context.SECURITY_PRINCIPAL, user);\nproperties.put(Context.SECURITY_CREDENTIALS, password);\nproperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\nproperties.put(Context.URL_PKG_PREFIXES, &quot;com.ibm.ws.naming&quot;);\nproperties.put(Context.PROVIDER_URL,  &quot;remote://192.16.70.10:1234&quot;);\nnamingContext = new InitialContext(properties);\nMQConnectionFactory cf = new MQConnectionFactory();\ncf.setTransportType(WMQConstants.WMQ_CM_CLIENT);\ncf.setHostName(mqHostName);\ncf.setPort(Integer.parseInt(mqListenerPort));\ncf.setQueueManager(mqQueueManagerName);\ncf.setChannel(mqChannelName);\nMQConnectionFactory factory = cf;\nconnection = factory.createConnection(user, password);\nconnection.start();\nsessionConsumer = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nqueue = namingContext.lookup(queue);\n</code></pre>\n<p>Can anyone help me? Any suggestion would be appreciated!</p>\n"},{"tags":["java","android","coordinates","touch-event"],"comments":[{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653318240,"post_id":72350590,"comment_id":127816638,"body_markdown":"It works but It can no longer create a vertical line after I drag up and down, It shows diagonal","body":"It works but It can no longer create a vertical line after I drag up and down, It shows diagonal"},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653318810,"post_id":72350590,"comment_id":127816891,"body_markdown":"yes, after using getX() and getY(), It became accurate, but It is only drawing a line from the first recorded ACTION DOWN. every time I touch the screen, a line from the first x and y is showing even the location of chip is in the middle.","body":"yes, after using getX() and getY(), It became accurate, but It is only drawing a line from the first recorded ACTION DOWN. every time I touch the screen, a line from the first x and y is showing even the location of chip is in the middle."},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653319685,"post_id":72350590,"comment_id":127817305,"body_markdown":"It can draw a line after dragging the imageview vertically, but now It only drawing a line diagonally.","body":"It can draw a line after dragging the imageview vertically, but now It only drawing a line diagonally."},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653320112,"post_id":72350590,"comment_id":127817490,"body_markdown":"look at the video, that&#39;s the initial result. However after changing it to getRaw(), It became accurate yet It can only spawn horizontal and diagonal line","body":"look at the video, that&#39;s the initial result. However after changing it to getRaw(), It became accurate yet It can only spawn horizontal and diagonal line"},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653320890,"post_id":72350590,"comment_id":127817818,"body_markdown":"Even though I change that drawbleView.getCanvas().drawLine(startX,startY,event.getRawX(),event.getRawY(),paint); to getX() and getY(), the result become more problematic, the Line is small and hiding in the first location of the views.","body":"Even though I change that drawbleView.getCanvas().drawLine(startX,startY,event.getRawX&zwnj;&#8203;(),event.getRawY(),p&zwnj;&#8203;aint); to getX() and getY(), the result become more problematic, the Line is small and hiding in the first location of the views."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1653321373,"post_id":72350590,"comment_id":127818008,"body_markdown":"Yeah, hang on, I misunderstood your code; thought the listener was on the parent. Lemme think about what would be the simplest fix.","body":"Yeah, hang on, I misunderstood your code; thought the listener was on the parent. Lemme think about what would be the simplest fix."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1653321921,"post_id":72350590,"comment_id":127818207,"body_markdown":"OK, if `drawbleView` is the chip&#39;s parent, or lines up exactly with its parent, then I _think_ we might be able to do simply `startX = event.getX() + view.getX();`, and similarly in the other three spots.","body":"OK, if <code>drawbleView</code> is the chip&#39;s parent, or lines up exactly with its parent, then I <i>think</i> we might be able to do simply <code>startX = event.getX() + view.getX();</code>, and similarly in the other three spots."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1653324244,"post_id":72350590,"comment_id":127819016,"body_markdown":"FWIW, I did a quick mock-up from what I can gather of your setup, and that does work, even with the margin adjustments: https://i.stack.imgur.com/nJyFY.png. (Sorry, can&#39;t do video on this machine.) Just make sure to change the `drawLine()` values, too.","body":"FWIW, I did a quick mock-up from what I can gather of your setup, and that does work, even with the margin adjustments: <a href=\"https://i.stack.imgur.com/nJyFY.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/nJyFY.png</a>. (Sorry, can&#39;t do video on this machine.) Just make sure to change the <code>drawLine()</code> values, too."},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":1,"creation_date":1653325938,"post_id":72350590,"comment_id":127819601,"body_markdown":"Sorry, late reply, IT IS WORKING NOW after putting, startX = event.getX() + view.getX(); in the drawLine() too. Thanksssss.","body":"Sorry, late reply, IT IS WORKING NOW after putting, startX = event.getX() + view.getX(); in the drawLine() too. Thanksssss."},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":0,"creation_date":1653824290,"post_id":72350590,"comment_id":127940946,"body_markdown":"How can I undo the line by the way? :&#39;(","body":"How can I undo the line by the way? :&#39;("},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1653840118,"post_id":72350590,"comment_id":127944290,"body_markdown":"Generally, when you want to be able to undo things like that, you keep track of each line draw so that you can recreate the whole image just without the &quot;undone&quot; one. For example, make a simple class like `class LinePoints { float x1, y1, x2, y2; }`, and keep an `ArrayList&lt;LinePoints&gt;` that you can iterate over to redraw everything if needed. Make sense?","body":"Generally, when you want to be able to undo things like that, you keep track of each line draw so that you can recreate the whole image just without the &quot;undone&quot; one. For example, make a simple class like <code>class LinePoints { float x1, y1, x2, y2; }</code>, and keep an <code>ArrayList&lt;LinePoints&gt;</code> that you can iterate over to redraw everything if needed. Make sense?"},{"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"score":1,"creation_date":1653872657,"post_id":72350590,"comment_id":127950167,"body_markdown":"that&#39;s actually amazing, you are godsend","body":"that&#39;s actually amazing, you are godsend"}],"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653320594,"creation_date":1653317538,"question_id":72350590,"body_markdown":"*Refer to the video below, here&#39;s my current code :*\r\n\r\nInside of **Oncreate** method :\r\n\r\n           rootLayout = findViewById(R.id.relativemain);\r\n\r\nAnd this method is where I put the Gif images to act as the chips, I also need help into this one because when I add the **addRule** to change the location of the chip, It turns out that I can no longer drag it:\r\n\r\n    private void mvb_chip(ImageView view, int a) {\r\n        view = rootLayout.findViewById(a);\r\n        RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(300, 300);\r\n        view.setLayoutParams(layoutParams);\r\n        view.setVisibility(View.VISIBLE);\r\n        view.setOnTouchListener(new mvb_direct.ChoiceTouchListener());\r\n    \r\n    }\r\n\r\nAnd Lastly here Is the touch listener to drag the chips! Inside of the ACTION.UP is where I drag the chips and put a drawline (credits to this guys  answer https://stackoverflow.com/a/28489989/19026761, and my problem is why the drawLine is not exactly similar to my touch X and Y, see the video below.\r\n\r\n    \r\n    float startX;\r\n    float startY;\r\n    private final class ChoiceTouchListener implements View.OnTouchListener {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            final int X = (int) event.getRawX();\r\n            final int Y = (int) event.getRawY();\r\n\r\n\r\n            switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    RelativeLayout.LayoutParams lParams = (RelativeLayout.LayoutParams) view.getLayoutParams();\r\n                    _xDelta = X - lParams.leftMargin;\r\n                    _yDelta = Y - lParams.topMargin;\r\n\r\n                    startX = event.getX();\r\n                    startY = event.getY();\r\n\r\n\r\n\r\n                    break;\r\n                case MotionEvent.ACTION_UP:\r\n                    Paint paint = new Paint();\r\n                    paint.setColor(Color.CYAN);\r\n                    paint.setAntiAlias(true);\r\n                    paint.setDither(true);\r\n                    paint.setStyle(Paint.Style.STROKE);\r\n                    paint.setStrokeJoin(Paint.Join.ROUND);\r\n                    paint.setStrokeCap(Paint.Cap.ROUND);\r\n                    paint.setStrokeWidth(5);\r\n\r\n                    drawbleView.getCanvas().drawLine(startX,startY,event.getRawX(),event.getRawY(),paint);\r\n                    drawbleView.invalidate();\r\n                    break;\r\n\r\n\r\n\r\n                case MotionEvent.ACTION_POINTER_DOWN:\r\n\r\n                case MotionEvent.ACTION_POINTER_UP:\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) view.getLayoutParams();\r\n                    layoutParams.leftMargin = X - _xDelta;\r\n                    layoutParams.topMargin = Y - _yDelta;\r\n                    layoutParams.rightMargin = -250;\r\n                    layoutParams.bottomMargin = -250\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kamB7.gif","title":"I tried all I thought that should be work, why does the drawLine is not following my touch coordinates? It&#39;s not accurate","body":"<p><em>Refer to the video below, here's my current code :</em></p>\n<p>Inside of <strong>Oncreate</strong> method :</p>\n<pre><code>       rootLayout = findViewById(R.id.relativemain);\n</code></pre>\n<p>And this method is where I put the Gif images to act as the chips, I also need help into this one because when I add the <strong>addRule</strong> to change the location of the chip, It turns out that I can no longer drag it:</p>\n<pre><code>private void mvb_chip(ImageView view, int a) {\n    view = rootLayout.findViewById(a);\n    RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(300, 300);\n    view.setLayoutParams(layoutParams);\n    view.setVisibility(View.VISIBLE);\n    view.setOnTouchListener(new mvb_direct.ChoiceTouchListener());\n\n}\n</code></pre>\n<p>And Lastly here Is the touch listener to drag the chips! Inside of the ACTION.UP is where I drag the chips and put a drawline (credits to this guys  answer <a href=\"https://stackoverflow.com/a/28489989/19026761\">https://stackoverflow.com/a/28489989/19026761</a>, and my problem is why the drawLine is not exactly similar to my touch X and Y, see the video below.</p>\n<pre><code>float startX;\nfloat startY;\nprivate final class ChoiceTouchListener implements View.OnTouchListener {\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        final int X = (int) event.getRawX();\n        final int Y = (int) event.getRawY();\n\n\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n            case MotionEvent.ACTION_DOWN:\n                RelativeLayout.LayoutParams lParams = (RelativeLayout.LayoutParams) view.getLayoutParams();\n                _xDelta = X - lParams.leftMargin;\n                _yDelta = Y - lParams.topMargin;\n\n                startX = event.getX();\n                startY = event.getY();\n\n\n\n                break;\n            case MotionEvent.ACTION_UP:\n                Paint paint = new Paint();\n                paint.setColor(Color.CYAN);\n                paint.setAntiAlias(true);\n                paint.setDither(true);\n                paint.setStyle(Paint.Style.STROKE);\n                paint.setStrokeJoin(Paint.Join.ROUND);\n                paint.setStrokeCap(Paint.Cap.ROUND);\n                paint.setStrokeWidth(5);\n\n                drawbleView.getCanvas().drawLine(startX,startY,event.getRawX(),event.getRawY(),paint);\n                drawbleView.invalidate();\n                break;\n\n\n\n            case MotionEvent.ACTION_POINTER_DOWN:\n\n            case MotionEvent.ACTION_POINTER_UP:\n                break;\n            case MotionEvent.ACTION_MOVE:\n                RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) view.getLayoutParams();\n                layoutParams.leftMargin = X - _xDelta;\n                layoutParams.topMargin = Y - _yDelta;\n                layoutParams.rightMargin = -250;\n                layoutParams.bottomMargin = -250\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kamB7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kamB7.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","scala","intellij-idea","java-time","java.time.instant"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1653317389,"post_id":72350520,"comment_id":127816282,"body_markdown":"Given that the method [exists](https://www.cs.usfca.edu/~cs272/javadoc/api/java.base/java/time/LocalDate.html#ofInstant(java.time.Instant,java.time.ZoneId)) and that you mention that is **IntelliJ** the one mentioning the error I will just assume is a bug in the IDE, can you confirm that if you try to compile using **sbt** or whatever build tool you are using the problem remains?","body":"Given that the method <a href=\"https://www.cs.usfca.edu/~cs272/javadoc/api/java.base/java/time/LocalDate.html#ofInstant(java.time.Instant,java.time.ZoneId)\" rel=\"nofollow noreferrer\">exists</a> and that you mention that is <b>IntelliJ</b> the one mentioning the error I will just assume is a bug in the IDE, can you confirm that if you try to compile using <b>sbt</b> or whatever build tool you are using the problem remains?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1653317569,"post_id":72350520,"comment_id":127816365,"body_markdown":"That `ofInstant` exists since java 9. Which leads me to believe you are using java 8 despite java 17.","body":"That <code>ofInstant</code> exists since java 9. Which leads me to believe you are using java 8 despite java 17."},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1653317634,"post_id":72350520,"comment_id":127816392,"body_markdown":"I have configured project to jdk 17.","body":"I have configured project to jdk 17."},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1653317722,"post_id":72350520,"comment_id":127816432,"body_markdown":"I compile with &#39;sbt clean compile&#39; command.","body":"I compile with &#39;sbt clean compile&#39; command."},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1653318491,"post_id":72350520,"comment_id":127816748,"body_markdown":"No local variable.","body":"No local variable."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1653319567,"post_id":72350520,"comment_id":127817261,"body_markdown":"Ah then maybe is the default of the `target` option? Try adding this to your `build.sbt` file : `scalacOptions ++= Seq(&quot;-release&quot;, &quot;17&quot;, &quot;-target:17&quot;)` _(change `17` with the minimum version of the **JRE** you want to support)_","body":"Ah then maybe is the default of the <code>target</code> option? Try adding this to your <code>build.sbt</code> file : <code>scalacOptions ++= Seq(&quot;-release&quot;, &quot;17&quot;, &quot;-target:17&quot;)</code> <i>(change <code>17</code> with the minimum version of the <b>JRE</b> you want to support)</i>"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1653322585,"post_id":72350520,"comment_id":127818420,"body_markdown":"but as I have configured my intellij project to jdk 17,  sbt server must target 17.","body":"but as I have configured my intellij project to jdk 17,  sbt server must target 17."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1653323048,"post_id":72350520,"comment_id":127818613,"body_markdown":"@Mandroid _&quot;sbt server must target 17&quot;_ yes, **sbt** will be running on top of a **Java** `17` VM, however that doesn&#39;t mean it will default to produce **Java 17** bytecode. IIRC **Scala** by default always produces **Java 8** bytecode, the flags I shared are to configure and force the compiler to produce the bytecode version you want; why don&#39;t you give it a try?","body":"@Mandroid <i>&quot;sbt server must target 17&quot;</i> yes, <b>sbt</b> will be running on top of a <b>Java</b> <code>17</code> VM, however that doesn&#39;t mean it will default to produce <b>Java 17</b> bytecode. IIRC <b>Scala</b> by default always produces <b>Java 8</b> bytecode, the flags I shared are to configure and force the compiler to produce the bytecode version you want; why don&#39;t you give it a try?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1653323294,"post_id":72350520,"comment_id":127818696,"body_markdown":"I actually tried it, but I still see very same issue.","body":"I actually tried it, but I still see very same issue."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1653411000,"post_id":72350520,"comment_id":127844271,"body_markdown":"@Mandroid sorry, I can&#39;t reproduce the issue, it seems that even without configuring **sbt** it is able to compile that code because my **JDK** is `openjdk version &quot;11.0.10&quot; 2021-01-19`, thus it seems you have some problem elsewhere.","body":"@Mandroid sorry, I can&#39;t reproduce the issue, it seems that even without configuring <b>sbt</b> it is able to compile that code because my <b>JDK</b> is <code>openjdk version &quot;11.0.10&quot; 2021-01-19</code>, thus it seems you have some problem elsewhere."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1653320324,"creation_date":1653320324,"answer_id":72351261,"question_id":72350520,"body_markdown":"   In Java 8 to get LocalDate from Instant you can do as follows\r\n\r\n     LocalDate localDate = LocalDate.from(ZonedDateTime.ofInstant(Instant.now(), ZoneId.systemDefault()));","title":"ofInstant is not a member of object java.time.LocalDate","body":"<p>In Java 8 to get LocalDate from Instant you can do as follows</p>\n<pre><code> LocalDate localDate = LocalDate.from(ZonedDateTime.ofInstant(Instant.now(), ZoneId.systemDefault()));\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1653320324,"creation_date":1653317260,"question_id":72350520,"body_markdown":"I have following scala code:\r\n\r\n    LocalDate.ofInstant(instant, zoneId)\r\n\r\ninstant is java.time.Instant, zoneId is java.time.ZoneId.\r\n\r\nIntellij project is configured to jdk 17 and language level to 15.\r\n\r\nBut I get error:\r\n\r\n    value ofInstant is not a member of object java.time.LocalDate\r\n\r\nI am unable to find why. Java versions are correct one I think.","title":"ofInstant is not a member of object java.time.LocalDate","body":"<p>I have following scala code:</p>\n<pre><code>LocalDate.ofInstant(instant, zoneId)\n</code></pre>\n<p>instant is java.time.Instant, zoneId is java.time.ZoneId.</p>\n<p>Intellij project is configured to jdk 17 and language level to 15.</p>\n<p>But I get error:</p>\n<pre><code>value ofInstant is not a member of object java.time.LocalDate\n</code></pre>\n<p>I am unable to find why. Java versions are correct one I think.</p>\n"},{"tags":["java","language-lawyer"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1651846138,"post_id":72142627,"comment_id":127468043,"body_markdown":"See [this answer](https://stackoverflow.com/a/34866143/5133585) and the question that it answers. `AtomicXXX` is a common technique for dealing with &quot;Variable used in lambda expression should be final or effectively final&quot;, not just concurrency issues. Though you&#39;re right that the documentation does not disallow an implementation from calling the consumer from different threads.","body":"See <a href=\"https://stackoverflow.com/a/34866143/5133585\">this answer</a> and the question that it answers. <code>AtomicXXX</code> is a common technique for dealing with &quot;Variable used in lambda expression should be final or effectively final&quot;, not just concurrency issues. Though you&#39;re right that the documentation does not disallow an implementation from calling the consumer from different threads."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651847090,"post_id":72142627,"comment_id":127468435,"body_markdown":"Interesting observation. Today I learned something. However, looking at the PR you&#39;ve quoted, it seems to be doing unnecessary processing. If it fails to find a match in the first word, it will continue to look for a match in the remaining N-1 words and return false at the end. It would be much better to use `words.stream.anyMatch` and look for a word that is not contained. It will then stop as soon as it has a result. And that way, you won&#39;t have to use `AtomicInteger`.","body":"Interesting observation. Today I learned something. However, looking at the PR you&#39;ve quoted, it seems to be doing unnecessary processing. If it fails to find a match in the first word, it will continue to look for a match in the remaining N-1 words and return false at the end. It would be much better to use <code>words.stream.anyMatch</code> and look for a word that is not contained. It will then stop as soon as it has a result. And that way, you won&#39;t have to use <code>AtomicInteger</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1651860262,"post_id":72142627,"comment_id":127473335,"body_markdown":"I can’t decide whether “iteresting” is a misspelling or a clever pun.","body":"I can’t decide whether “iteresting” is a misspelling or a clever pun."},{"owner":{"account_id":4192083,"reputation":443,"user_id":3434465,"accept_rate":46,"display_name":"Zsar"},"score":0,"creation_date":1652081979,"post_id":72142627,"comment_id":127510454,"body_markdown":"@Sweeper: Pray tell, given that &quot;Atomic[bla]&quot; should generate different code, all the way down to machine instructions, that sounds like a horrible way to workaround the `final`. Surely an `int[1]` is the cleaner way to do it!?","body":"@Sweeper: Pray tell, given that &quot;Atomic[bla]&quot; should generate different code, all the way down to machine instructions, that sounds like a horrible way to workaround the <code>final</code>. Surely an <code>int[1]</code> is the cleaner way to do it!?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1652083889,"post_id":72142627,"comment_id":127511049,"body_markdown":"In the context of the PR: I&#39;d use `words.stream().filter(...).count()`.","body":"In the context of the PR: I&#39;d use <code>words.stream().filter(...).count()</code>."},{"owner":{"account_id":4192083,"reputation":443,"user_id":3434465,"accept_rate":46,"display_name":"Zsar"},"score":1,"creation_date":1652088978,"post_id":72142627,"comment_id":127512751,"body_markdown":"Please note that I provided the PR only as a showcase for some/any code that uses the idiom. I am well aware that the whole situation can be avoided there. What I am interested in - as per the `language-lawyer` tag - is whether I _may_ expect an `Iterable#forEach` to be sequential or whether I _must_ expect it to be parallel, as a _general_ rule when the Implementor of `Iterable` is not under my control.","body":"Please note that I provided the PR only as a showcase for some/any code that uses the idiom. I am well aware that the whole situation can be avoided there. What I am interested in - as per the <code>language-lawyer</code> tag - is whether I <i>may</i> expect an <code>Iterable#forEach</code> to be sequential or whether I <i>must</i> expect it to be parallel, as a <i>general</i> rule when the Implementor of <code>Iterable</code> is not under my control."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652347685,"post_id":72142627,"comment_id":127586214,"body_markdown":"@Zsar of course, it is a horrible workaround and you’re right, `int[1]` would be cheaper, though still not cleaner. But you may look at Stackoverflow alone, how often answerers come up with it. The linked code raises a few questions anyway, e.g. why has the pattern an unnecessary capturing group? Why the `MULTILINE` flag that makes no sense at all for words? Why does it perform `Pattern.compile(&quot;\\\\W&quot;)` again for each word? Why not count into a local `int` variable and add the final number to the `AtomicInteger` in one single update? So the use of the atomic is not the worst thing here…","body":"@Zsar of course, it is a horrible workaround and you’re right, <code>int[1]</code> would be cheaper, though still not cleaner. But you may look at Stackoverflow alone, how often answerers come up with it. The linked code raises a few questions anyway, e.g. why has the pattern an unnecessary capturing group? Why the <code>MULTILINE</code> flag that makes no sense at all for words? Why does it perform <code>Pattern.compile(&quot;\\\\W&quot;)</code> again for each word? Why not count into a local <code>int</code> variable and add the final number to the <code>AtomicInteger</code> in one single update? So the use of the atomic is not the worst thing here…"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653319595,"creation_date":1653319595,"answer_id":72351087,"question_id":72142627,"body_markdown":"Note that the phrase “Unless otherwise specified by the implementing class” has been removed from [recent versions of the specification]:\r\n\r\n&gt; Performs the given action for each element of the `Iterable` until all elements have been processed or the action throws an exception. Actions are performed in the order of iteration, if that order is specified. Exceptions thrown by the action are relayed to the caller.\r\n\r\nSince a `List` has a defined encounter order and performing an action in a defined order precludes concurrent execution, we can clearly say that concurrent execution is precluded explicitly in the specific case mentioned in your question.\r\n\r\nThe broader question whether `Iterable`’s `forEach` precludes concurrent execution of the specified action in general, when there’s no defined encounter order, can only be answered by resorting to the [Principle of least astonishment], concluding that the specification should mention explicitly if concurrent execution was allowed under certain circumstances. As far as I can see, Java’s entire API specification adheres to this principle, so there’s no reason to assume that it doesn’t apply to this specific method.\r\n\r\nMost notably, everyone is aware that the `Stream` API allows parallel processing, because it has been prominently documented. Likewise, [`Arrays.sort(…)`] does not permit a surprising parallel evaluation of the `Comparator`, without mentioning it explicitely, but rather, an explicit use of [`Arrays.parallelSort(…)`] is required to enable it.\r\n\r\nThe same applies even for the actual concurrent collections. E.g. when you call `keySet().forEach(…)` on a `ConcurrentHashMap`, it will not fail when there are concurrent updates, as the general [weakly consistent] iteration policy specifies, but also run sequentially on the caller’s thread, as every method does when not specified otherwise. You’d need a [dedicated `forEach` method] for parallel processing.\r\n\r\n---\r\n\r\nSo the use of `AtomicInteger` is not justified. It’s a widespread bad programming style, pretending functional programming while still being stuck with thinking in loops, using `forEach` and modifying a variable outside the function. Since this is not possible with local variables, `AtomicInteger` is only used as container for an `int` heap variable here. Using a single element `int[]` array would do as well, but still isn’t recommended. Instead\r\n\r\n  1. stay with a plain loop, or\r\n\r\n  2. use a real functional approach, e.g.\r\n     ```java\r\n     int result = words.stream()\r\n         .mapToInt(word -&gt; {\r\n             // count matches locally and return the int\r\n         })\r\n         .sum();\r\n     ```\r\n     or\r\n     ```java\r\n     long result = words.stream()\r\n         .flatMap(word -&gt; {\r\n             // return a stream of matches\r\n         })\r\n         .count();\r\n     ```\r\n\r\n[recent versions of the specification]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\r\n[Principle of least astonishment]: https://en.wikipedia.org/wiki/Principle_of_least_astonishment\r\n[`Arrays.sort(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#sort(T%5B%5D,java.util.Comparator)\r\n[`Arrays.parallelSort(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#parallelSort(T%5B%5D,java.util.Comparator)\r\n[weakly consistent]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#Weakly\r\n[dedicated `forEach` method]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#forEachKey(long,java.util.function.Consumer)","title":"Is Iterable.forEach allowed to be parallel?","body":"<p>Note that the phrase “Unless otherwise specified by the implementing class” has been removed from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">recent versions of the specification</a>:</p>\n<blockquote>\n<p>Performs the given action for each element of the <code>Iterable</code> until all elements have been processed or the action throws an exception. Actions are performed in the order of iteration, if that order is specified. Exceptions thrown by the action are relayed to the caller.</p>\n</blockquote>\n<p>Since a <code>List</code> has a defined encounter order and performing an action in a defined order precludes concurrent execution, we can clearly say that concurrent execution is precluded explicitly in the specific case mentioned in your question.</p>\n<p>The broader question whether <code>Iterable</code>’s <code>forEach</code> precludes concurrent execution of the specified action in general, when there’s no defined encounter order, can only be answered by resorting to the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\">Principle of least astonishment</a>, concluding that the specification should mention explicitly if concurrent execution was allowed under certain circumstances. As far as I can see, Java’s entire API specification adheres to this principle, so there’s no reason to assume that it doesn’t apply to this specific method.</p>\n<p>Most notably, everyone is aware that the <code>Stream</code> API allows parallel processing, because it has been prominently documented. Likewise, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#sort(T%5B%5D,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Arrays.sort(…)</code></a> does not permit a surprising parallel evaluation of the <code>Comparator</code>, without mentioning it explicitely, but rather, an explicit use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#parallelSort(T%5B%5D,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Arrays.parallelSort(…)</code></a> is required to enable it.</p>\n<p>The same applies even for the actual concurrent collections. E.g. when you call <code>keySet().forEach(…)</code> on a <code>ConcurrentHashMap</code>, it will not fail when there are concurrent updates, as the general <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html#Weakly\" rel=\"nofollow noreferrer\">weakly consistent</a> iteration policy specifies, but also run sequentially on the caller’s thread, as every method does when not specified otherwise. You’d need a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#forEachKey(long,java.util.function.Consumer)\" rel=\"nofollow noreferrer\">dedicated <code>forEach</code> method</a> for parallel processing.</p>\n<hr />\n<p>So the use of <code>AtomicInteger</code> is not justified. It’s a widespread bad programming style, pretending functional programming while still being stuck with thinking in loops, using <code>forEach</code> and modifying a variable outside the function. Since this is not possible with local variables, <code>AtomicInteger</code> is only used as container for an <code>int</code> heap variable here. Using a single element <code>int[]</code> array would do as well, but still isn’t recommended. Instead</p>\n<ol>\n<li><p>stay with a plain loop, or</p>\n</li>\n<li><p>use a real functional approach, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int result = words.stream()\n    .mapToInt(word -&gt; {\n        // count matches locally and return the int\n    })\n    .sum();\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>long result = words.stream()\n    .flatMap(word -&gt; {\n        // return a stream of matches\n    })\n    .count();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":4192083,"reputation":443,"user_id":3434465,"accept_rate":46,"display_name":"Zsar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72351087,"answer_count":1,"score":4,"last_activity_date":1653319595,"creation_date":1651845132,"question_id":72142627,"body_markdown":"Using Java since 5, today I encountered an interesting piece of code in a [GitHub PR][1]:\r\nSomeone used `List#forEach` with an `AtomicInteger` in Java 8.\r\n\r\nNow I wondered whether this could possibly be necessary - and lo and behold, consulting the [Java 8 Documentation][2] (where `Iterable#forEach` was introduced, as well as the lookalike `stream().parallel().forEach`, the latter of which obviously might be parallel) I read:\r\n\r\n&gt; **Unless otherwise specified by the implementing class**, actions are performed in the order of iteration (if an iteration order is specified).\r\n\r\n(emphasis mine)\r\n\r\n... So, given that `Stream` makes a point of _not_ implementing `Iterable` (as of Java 18) - should I really have to presume that an unknown implementor of `Iterable` might do `forEach` in parallel?\r\n\r\n(If the expectation would have change based on Java version, I&#39;d like an answer to deal with each differing version starting at 8.)\r\n\r\n  [1]: https://github.com/telekom/testerra/pull/234#discussion_r866776768\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-","title":"Is Iterable.forEach allowed to be parallel?","body":"<p>Using Java since 5, today I encountered an interesting piece of code in a <a href=\"https://github.com/telekom/testerra/pull/234#discussion_r866776768\" rel=\"nofollow noreferrer\">GitHub PR</a>:\nSomeone used <code>List#forEach</code> with an <code>AtomicInteger</code> in Java 8.</p>\n<p>Now I wondered whether this could possibly be necessary - and lo and behold, consulting the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Java 8 Documentation</a> (where <code>Iterable#forEach</code> was introduced, as well as the lookalike <code>stream().parallel().forEach</code>, the latter of which obviously might be parallel) I read:</p>\n<blockquote>\n<p><strong>Unless otherwise specified by the implementing class</strong>, actions are performed in the order of iteration (if an iteration order is specified).</p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>... So, given that <code>Stream</code> makes a point of <em>not</em> implementing <code>Iterable</code> (as of Java 18) - should I really have to presume that an unknown implementor of <code>Iterable</code> might do <code>forEach</code> in parallel?</p>\n<p>(If the expectation would have change based on Java version, I'd like an answer to deal with each differing version starting at 8.)</p>\n"},{"tags":["java","selenium","intellij-idea","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1653337188,"post_id":72350976,"comment_id":127823146,"body_markdown":"Try removing the glue. Recent versions scan from the classpath root when none is provided.","body":"Try removing the glue. Recent versions scan from the classpath root when none is provided."},{"owner":{"account_id":2428368,"reputation":1,"user_id":3757260,"accept_rate":75,"display_name":"Frank H."},"score":0,"creation_date":1653385762,"post_id":72350976,"comment_id":127833857,"body_markdown":"Didn&#39;t help. I&#39;d like a way to FORCE the irritatingly unstable cucumber plugin, but it doesn&#39;t seem to be possible.","body":"Didn&#39;t help. I&#39;d like a way to FORCE the irritatingly unstable cucumber plugin, but it doesn&#39;t seem to be possible."},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1653481135,"post_id":72350976,"comment_id":127862053,"body_markdown":"I have to say - this is just insanely unstable and completely useless. It suddenly started working. All I did was remove the glue and paste it back again, and it started working. Then, after half a day or so, it suddenly stopped working again. This is useless c**p, plain and simple.","body":"I have to say - this is just insanely unstable and completely useless. It suddenly started working. All I did was remove the glue and paste it back again, and it started working. Then, after half a day or so, it suddenly stopped working again. This is useless c**p, plain and simple."},{"owner":{"account_id":1827637,"reputation":225,"user_id":1659929,"accept_rate":100,"display_name":"Petter M&#229;hl&#233;n"},"score":0,"creation_date":1654862560,"post_id":72350976,"comment_id":128199473,"body_markdown":"I&#39;m getting this exact problem too - my current workaround is to run the tests using a file annotated with @RunWith(Cucumber.class) and the correct glue location. But I&#39;d like to just be able to run the feature file directly. I can&#39;t see anything obviously wrong with the launch config or anything.\n\nEdit: aand - I tried removing the glue, and then the broken run configuration, and suddenly it started working. Hm.","body":"I&#39;m getting this exact problem too - my current workaround is to run the tests using a file annotated with @RunWith(Cucumber.class) and the correct glue location. But I&#39;d like to just be able to run the feature file directly. I can&#39;t see anything obviously wrong with the launch config or anything.  Edit: aand - I tried removing the glue, and then the broken run configuration, and suddenly it started working. Hm."}],"owner":{"account_id":2428368,"reputation":1,"user_id":3757260,"accept_rate":75,"display_name":"Frank H."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653319118,"creation_date":1653319118,"question_id":72350976,"body_markdown":"I know there are several similar questions, but as far as I can see no one has a general solution, or in any case no solutions that are relevant or works for me.\r\n\r\nI&#39;ve got an existing project with Cucumber and Selenium tests in Java. \r\n\r\nFrom the test definition files (.feature), IntelliJ is able to find the test steps in the Java classes. And I can follow the links back and forth between the features and the steps.\r\n\r\nHowever, when I try to run a test (either a whole feature file or a specific test in the file), I get:\r\n\r\n    Undefined scenarios:/home/frank/Desktop/repos_00/saksbehandling/e2e/cucumber/src/test/resources/features/bolig/konkret_bolig.feature:17 # S&#248;ker har s&#248;kt om konkret boli\r\n\r\nIt&#39;s not a glue thing; I know about that problem, but the glue in the configirations is automatically created correctly:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N57pW.png\r\n\r\nI don&#39;t see how it can be a Plugin thing either, since if Cucumber for Java wasn&#39;t installed or not working, I don&#39;t think IntelliJ would be able to see the connection between the steps and the step definitions.","title":"IntelliJ and Java - Cucumber unable to find step definitions","body":"<p>I know there are several similar questions, but as far as I can see no one has a general solution, or in any case no solutions that are relevant or works for me.</p>\n<p>I've got an existing project with Cucumber and Selenium tests in Java.</p>\n<p>From the test definition files (.feature), IntelliJ is able to find the test steps in the Java classes. And I can follow the links back and forth between the features and the steps.</p>\n<p>However, when I try to run a test (either a whole feature file or a specific test in the file), I get:</p>\n<pre><code>Undefined scenarios:/home/frank/Desktop/repos_00/saksbehandling/e2e/cucumber/src/test/resources/features/bolig/konkret_bolig.feature:17 # Søker har søkt om konkret boli\n</code></pre>\n<p>It's not a glue thing; I know about that problem, but the glue in the configirations is automatically created correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/N57pW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N57pW.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't see how it can be a Plugin thing either, since if Cucumber for Java wasn't installed or not working, I don't think IntelliJ would be able to see the connection between the steps and the step definitions.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5531109,"reputation":9531,"user_id":4391054,"accept_rate":100,"display_name":"Simone Zandara"},"score":1,"creation_date":1449665421,"post_id":34179234,"comment_id":56104712,"body_markdown":"Can&#39;t you just check what&#39;s the content of aDto? if it&#39;s not there, it means that they are not provided. Or if you want to debug what&#39;s happening, just  check request.body","body":"Can&#39;t you just check what&#39;s the content of aDto? if it&#39;s not there, it means that they are not provided. Or if you want to debug what&#39;s happening, just  check request.body"},{"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"score":0,"creation_date":1449669673,"post_id":34179234,"comment_id":56107437,"body_markdown":"I think the key piece of missing information is what you want to do if the parameters are/are not provided? The answers below about validation are correct, if your aim is to return an error to the user, asking him/her to enter the values, but perhaps your requirement is different?","body":"I think the key piece of missing information is what you want to do if the parameters are/are not provided? The answers below about validation are correct, if your aim is to return an error to the user, asking him/her to enter the values, but perhaps your requirement is different?"},{"owner":{"account_id":1867965,"reputation":157,"user_id":1691023,"display_name":"Joker"},"score":0,"creation_date":1449676706,"post_id":34179234,"comment_id":56112801,"body_markdown":"@xbirkettx: check edit","body":"@xbirkettx: check edit"},{"owner":{"account_id":5531109,"reputation":9531,"user_id":4391054,"accept_rate":100,"display_name":"Simone Zandara"},"score":0,"creation_date":1449677178,"post_id":34179234,"comment_id":56113138,"body_markdown":"So If I understand well, you want to know if a parameter is Undefined or Null. Right? because for some reason that is different for your. The validation will already tell you if the parameter is present in the request or not. If it fails, it means that it was not specified. However that is not your case I think.","body":"So If I understand well, you want to know if a parameter is Undefined or Null. Right? because for some reason that is different for your. The validation will already tell you if the parameter is present in the request or not. If it fails, it means that it was not specified. However that is not your case I think."}],"answers":[{"tags":[],"owner":{"account_id":6409849,"reputation":295,"user_id":4969960,"display_name":"Gervasio Amy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449666134,"creation_date":1449666134,"answer_id":34179509,"question_id":34179234,"body_markdown":"Try using Hibernate Validator (http://hibernate.org/validator/), it&#39;s really easy to integrate it with Spring.\r\nThat way, you&#39;ll need to annotate your Dto to enforce validation of required params and then call validate.\r\n\r\n    public class ADto{\r\n       @NotNull\r\n       private String firstParam;\r\n       @NotNull \r\n       private String secondParam;\r\n\r\n       // getter setter\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/postSomething&quot;, method = RequestMethod.POST)    \r\n    public ResponseDTO postSomething(@RequestBody ADto aDto){\r\n         validator.validate(aDto)\r\n         //post data\r\n         //return response\r\n    } \r\n ","title":"How to know if a parameter value is provided in post request body in spring?","body":"<p>Try using Hibernate Validator (<a href=\"http://hibernate.org/validator/\" rel=\"nofollow\">http://hibernate.org/validator/</a>), it's really easy to integrate it with Spring.\nThat way, you'll need to annotate your Dto to enforce validation of required params and then call validate.</p>\n\n<pre><code>public class ADto{\n   @NotNull\n   private String firstParam;\n   @NotNull \n   private String secondParam;\n\n   // getter setter\n}\n\n@RequestMapping(value = \"/postSomething\", method = RequestMethod.POST)    \npublic ResponseDTO postSomething(@RequestBody ADto aDto){\n     validator.validate(aDto)\n     //post data\n     //return response\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3896233,"reputation":2368,"user_id":3225200,"accept_rate":80,"display_name":"Niels Masdorp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449667016,"creation_date":1449666700,"answer_id":34179704,"question_id":34179234,"body_markdown":"You could use the `@Valid` annotation like so (pseudo code, didn&#39;t test it):\r\n\r\n    @RequestMapping(value = &quot;/postSomething&quot;, method = RequestMethod.POST)    \r\n    public ResponseDTO postSomething(@Valid @RequestBody ADto aDto){\r\n         // MethodArgumentNotValidException will be thrown if validation fails.\r\n    } \r\n\r\nYou&#39;ll need an exception handler to handle the validation error.\r\n\r\n\r\n    @ExceptionHandler\r\n    @ResponseBody\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    public Error handleException(MethodArgumentNotValidException exception) {\r\n        //do something with the validation message: exception.getBindingResult()\r\n    }\r\n\r\nAnd your class.\r\n\r\n    public class ADto{\r\n\r\n       @NotNull(message = &quot;First parameter can not be null&quot;)\r\n       private String firstParam;\r\n\r\n       @NotNull(message = &quot;Second parameter can not be null&quot;)\r\n       private String secondParam;\r\n\r\n       // getter setter\r\n    }","title":"How to know if a parameter value is provided in post request body in spring?","body":"<p>You could use the <code>@Valid</code> annotation like so (pseudo code, didn't test it):</p>\n\n<pre><code>@RequestMapping(value = \"/postSomething\", method = RequestMethod.POST)    \npublic ResponseDTO postSomething(@Valid @RequestBody ADto aDto){\n     // MethodArgumentNotValidException will be thrown if validation fails.\n} \n</code></pre>\n\n<p>You'll need an exception handler to handle the validation error.</p>\n\n<pre><code>@ExceptionHandler\n@ResponseBody\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic Error handleException(MethodArgumentNotValidException exception) {\n    //do something with the validation message: exception.getBindingResult()\n}\n</code></pre>\n\n<p>And your class.</p>\n\n<pre><code>public class ADto{\n\n   @NotNull(message = \"First parameter can not be null\")\n   private String firstParam;\n\n   @NotNull(message = \"Second parameter can not be null\")\n   private String secondParam;\n\n   // getter setter\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653319058,"creation_date":1653319058,"answer_id":72350958,"question_id":34179234,"body_markdown":"You could make *firstParam* and *secondParam* type *Optional*:\r\n\r\nADto class\r\n```java\r\npublic class ADto {\r\n  private Optional&lt;String&gt; firstParam;\r\n  private Optional&lt;String&gt; secondParam;\r\n\r\n  // getter setter\r\n}\r\n```\r\n\r\npostSomething method\r\n```java\r\n@RequestMapping(value = &quot;/postSomething&quot;, method = RequestMethod.POST)    \r\npublic ResponseDTO postSomething(@RequestBody ADto aDto) {\r\n\r\n    if (Optional.ofNullable(aDto.getFirstParam()).isPresent()) {\r\n        // firstParam is provided in the request\r\n    } else {\r\n        // firstParam is not provided in the request\r\n    }\r\n\r\n    if (Optional.ofNullable(aDto.getSecondParam()).isPresent()) {\r\n        // secondtParam is provided in the request\r\n    } else {\r\n        // secondtParam is not provided in the request\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that &lt;code&gt;isPresent()&lt;/code&gt; will return false if and only if *firstParam* (as well as for *secondParam*) is not present in the request. Otherwise, even if the value is set to null, it will return true.","title":"How to know if a parameter value is provided in post request body in spring?","body":"<p>You could make <em>firstParam</em> and <em>secondParam</em> type <em>Optional</em>:</p>\n<p>ADto class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ADto {\n  private Optional&lt;String&gt; firstParam;\n  private Optional&lt;String&gt; secondParam;\n\n  // getter setter\n}\n</code></pre>\n<p>postSomething method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/postSomething&quot;, method = RequestMethod.POST)    \npublic ResponseDTO postSomething(@RequestBody ADto aDto) {\n\n    if (Optional.ofNullable(aDto.getFirstParam()).isPresent()) {\n        // firstParam is provided in the request\n    } else {\n        // firstParam is not provided in the request\n    }\n\n    if (Optional.ofNullable(aDto.getSecondParam()).isPresent()) {\n        // secondtParam is provided in the request\n    } else {\n        // secondtParam is not provided in the request\n    }\n\n}\n</code></pre>\n<p>Note that <code>isPresent()</code> will return false if and only if <em>firstParam</em> (as well as for <em>secondParam</em>) is not present in the request. Otherwise, even if the value is set to null, it will return true.</p>\n"}],"owner":{"account_id":1867965,"reputation":157,"user_id":1691023,"display_name":"Joker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653319058,"creation_date":1449665326,"question_id":34179234,"body_markdown":"I am building web service with spring and come across with following problem.\r\nThere is a post service as follow.\r\n                         \r\n        @RequestMapping(value = &quot;/postSomething&quot;, method = RequestMethod.POST)    \r\n        public ResponseDTO postSomething(@RequestBody ADto aDto){\r\n             //post data\r\n             //return response\r\n        } \r\n        \r\n        public class ADto{\r\n           private String firstParam;\r\n        \r\n           private String secondParam;\r\n        \r\n           // getter setter\r\n        }\r\n\r\nSo, my question is how can I know whether value of firstParam and secondParam is provided in request body or not.\r\n      \r\n       RequestBody: { paramFirst: null, paramSecond: null}\r\n\r\nEdit1:\r\nSorry for incomplete question:\r\nFor RequestBody: {paramFirst: first Value} and for above request value of paramSecond will be null.\r\nSo, how would I know whether paramSecond is included in request or not.\r\n\r\nEdit2:\r\nI don&#39;t want to validate. What I want to know is whether \r\nrequest contains a particular parameter or not.\r\nBecause there are two different cases, one is value of a parameter is given null and other is paramter is not included in request.","title":"How to know if a parameter value is provided in post request body in spring?","body":"<p>I am building web service with spring and come across with following problem.\nThere is a post service as follow.</p>\n\n<pre><code>    @RequestMapping(value = \"/postSomething\", method = RequestMethod.POST)    \n    public ResponseDTO postSomething(@RequestBody ADto aDto){\n         //post data\n         //return response\n    } \n\n    public class ADto{\n       private String firstParam;\n\n       private String secondParam;\n\n       // getter setter\n    }\n</code></pre>\n\n<p>So, my question is how can I know whether value of firstParam and secondParam is provided in request body or not.</p>\n\n<pre><code>   RequestBody: { paramFirst: null, paramSecond: null}\n</code></pre>\n\n<p>Edit1:\nSorry for incomplete question:\nFor RequestBody: {paramFirst: first Value} and for above request value of paramSecond will be null.\nSo, how would I know whether paramSecond is included in request or not.</p>\n\n<p>Edit2:\nI don't want to validate. What I want to know is whether \nrequest contains a particular parameter or not.\nBecause there are two different cases, one is value of a parameter is given null and other is paramter is not included in request.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21091957,"reputation":23,"user_id":15503660,"display_name":"Subash A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653308899,"creation_date":1653305915,"answer_id":72347909,"question_id":72347750,"body_markdown":"Here You go:\r\n```\r\nString new = originalString.replace(originalString.substring(originalString.indexOf(&quot;.&quot;) + 1), stringForReplace)+originalString.substring(originalString.indexOf(&quot;.&quot;,originalString.indexOf(&quot;.&quot;)+1),originalString.length());\r\n\r\n```\r\nWhat I have done is adding the resultant string to the new String.```indexOf``` function takes another argument too, which is the position the search will start\r\n\r\n","title":"How to put new string between commas in original string","body":"<p>Here You go:</p>\n<pre><code>String new = originalString.replace(originalString.substring(originalString.indexOf(&quot;.&quot;) + 1), stringForReplace)+originalString.substring(originalString.indexOf(&quot;.&quot;,originalString.indexOf(&quot;.&quot;)+1),originalString.length());\n\n</code></pre>\n<p>What I have done is adding the resultant string to the new String.<code>indexOf</code> function takes another argument too, which is the position the search will start</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306050,"creation_date":1653306050,"answer_id":72347942,"question_id":72347750,"body_markdown":"    String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\r\n    String stringForReplace = &quot;NewString&quot;;\r\n    String a[]=originalString.split(&quot;[.]&quot;);\r\n    String newString=&quot;&quot;;\r\n    if(a.length==3) {\r\n    newString=originalString.replace(a[1], stringForReplace);\r\n    }\r\n    System.out.println(newString);\r\n\r\n\r\nOr with ternary operator:\r\n\r\n    newString=(a.length== 3 ? originalString.replace(a[1], stringForReplace):null);\r\n    System.out.println(newString);\r\n\r\n","title":"How to put new string between commas in original string","body":"<pre><code>String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\nString stringForReplace = &quot;NewString&quot;;\nString a[]=originalString.split(&quot;[.]&quot;);\nString newString=&quot;&quot;;\nif(a.length==3) {\nnewString=originalString.replace(a[1], stringForReplace);\n}\nSystem.out.println(newString);\n</code></pre>\n<p>Or with ternary operator:</p>\n<pre><code>newString=(a.length== 3 ? originalString.replace(a[1], stringForReplace):null);\nSystem.out.println(newString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22450180,"reputation":1,"user_id":16653612,"display_name":"mle98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306153,"creation_date":1653306153,"answer_id":72347963,"question_id":72347750,"body_markdown":"One shorter solution is to use regex with a lookahead and lookbehind\r\n\r\n```\r\nString replaced = originalString.replaceAll(&quot;(?&lt;=\\\\.).+(?=\\\\.)&quot;, stringForReplace);\r\n```","title":"How to put new string between commas in original string","body":"<p>One shorter solution is to use regex with a lookahead and lookbehind</p>\n<pre><code>String replaced = originalString.replaceAll(&quot;(?&lt;=\\\\.).+(?=\\\\.)&quot;, stringForReplace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18005532,"reputation":307,"user_id":13086412,"display_name":"Muhammad Usama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306287,"creation_date":1653306287,"answer_id":72347996,"question_id":72347750,"body_markdown":"The problem with your code is due to using this particular piece of code:\r\n\r\n&gt; originalString.substring(originalString.indexOf(&quot;.&quot;) + 1)\r\n\r\nThe reason is that indexof() function will only give the index on which **&quot;.&quot;** was found on, and substring will only know where to start taking the substring from, but it wouldn&#39;t know where to end it.\r\n\r\nTry this:\r\n\r\n    String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\r\n    String stringForReplace = &quot;NewString&quot;;\r\n    String newString = originalString.replace(originalString.split(&quot;[.]&quot;, 3)[1], stringForReplace);\r\n    System.out.println(newString);\r\n\r\nThe split function in this piece of code will break the whole string by **&quot;.&quot;**\r\nand you will have the string you want to replace available to you.\r\n\r\n&gt; originalString.split(&quot;[.]&quot;, 3)[1]","title":"How to put new string between commas in original string","body":"<p>The problem with your code is due to using this particular piece of code:</p>\n<blockquote>\n<p>originalString.substring(originalString.indexOf(&quot;.&quot;) + 1)</p>\n</blockquote>\n<p>The reason is that indexof() function will only give the index on which <strong>&quot;.&quot;</strong> was found on, and substring will only know where to start taking the substring from, but it wouldn't know where to end it.</p>\n<p>Try this:</p>\n<pre><code>String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\nString stringForReplace = &quot;NewString&quot;;\nString newString = originalString.replace(originalString.split(&quot;[.]&quot;, 3)[1], stringForReplace);\nSystem.out.println(newString);\n</code></pre>\n<p>The split function in this piece of code will break the whole string by <strong>&quot;.&quot;</strong>\nand you will have the string you want to replace available to you.</p>\n<blockquote>\n<p>originalString.split(&quot;[.]&quot;, 3)[1]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306326,"creation_date":1653306326,"answer_id":72348013,"question_id":72347750,"body_markdown":"You could try the following:\r\n\r\n    public static void main(String[] args) {\r\n        String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\r\n        String stringForReplace = &quot;NewString&quot;;\r\n        String newStr = originalString.replaceAll(&quot;(?&lt;=\\\\.).*(?=\\\\.)&quot;, stringForReplace);\r\n        //using lookahead and lookbehind regex\r\n        String newStr2 = originalString.replaceAll(&quot;\\\\..*\\\\.&quot;, &quot;.&quot;+stringForReplace+&quot;.&quot;);\r\n        System.out.println(newStr);\r\n        System.out.println(newStr2);\r\n    }\r\n\r\nOne option uses lookahead and lookbehinds, you could opt to not use that if it is not supported.\r\n\r\nOutput:\r\n```\r\nasdASfasdlpe.NewString.asdasfdfepw\r\nasdASfasdlpe.NewString.asdasfdfepw\r\n```","title":"How to put new string between commas in original string","body":"<p>You could try the following:</p>\n<pre><code>public static void main(String[] args) {\n    String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\n    String stringForReplace = &quot;NewString&quot;;\n    String newStr = originalString.replaceAll(&quot;(?&lt;=\\\\.).*(?=\\\\.)&quot;, stringForReplace);\n    //using lookahead and lookbehind regex\n    String newStr2 = originalString.replaceAll(&quot;\\\\..*\\\\.&quot;, &quot;.&quot;+stringForReplace+&quot;.&quot;);\n    System.out.println(newStr);\n    System.out.println(newStr2);\n}\n</code></pre>\n<p>One option uses lookahead and lookbehinds, you could opt to not use that if it is not supported.</p>\n<p>Output:</p>\n<pre><code>asdASfasdlpe.NewString.asdasfdfepw\nasdASfasdlpe.NewString.asdasfdfepw\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653318823,"creation_date":1653318823,"answer_id":72350912,"question_id":72347750,"body_markdown":"I would do it like so.\r\n- from the question it looks like you want to replace the first occurrence so use `replaceFirst`\r\n- `(?&lt;=\\\\.)` - look behind assertion - so start with following character\r\n- `(?=\\\\.)`  - look ahead assertion - so end prior to that\r\n- `.*?`   - reluctant quantifier to limit to just characters between two periods. Use `*` in case you have two adjacent periods since the string could be empty.\r\n```\r\nString s = &quot;first.oldstring.third.fourth.fifth&quot;;\r\nString n = &quot;second&quot;;\r\ns = s.replaceFirst(&quot;(?&lt;=\\\\.).*?(?=\\\\.)&quot;,n);\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\nfirst.second.third.fourth.fifth\r\n\r\n","title":"How to put new string between commas in original string","body":"<p>I would do it like so.</p>\n<ul>\n<li>from the question it looks like you want to replace the first occurrence so use <code>replaceFirst</code></li>\n<li><code>(?&lt;=\\\\.)</code> - look behind assertion - so start with following character</li>\n<li><code>(?=\\\\.)</code>  - look ahead assertion - so end prior to that</li>\n<li><code>.*?</code>   - reluctant quantifier to limit to just characters between two periods. Use <code>*</code> in case you have two adjacent periods since the string could be empty.</li>\n</ul>\n<pre><code>String s = &quot;first.oldstring.third.fourth.fifth&quot;;\nString n = &quot;second&quot;;\ns = s.replaceFirst(&quot;(?&lt;=\\\\.).*?(?=\\\\.)&quot;,n);\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>first.second.third.fourth.fifth\n\n</code></pre>\n"}],"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72350912,"answer_count":6,"score":0,"last_activity_date":1653318823,"creation_date":1653305196,"question_id":72347750,"body_markdown":"I have this original string and I want to insert new string between two dots of original string. I did it this way, but having errors.\r\n\r\n    String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\r\n    String stringForReplace = &quot;NewString&quot;;\r\n    String new = originalString.replace(originalString.substring(originalString.indexOf(&quot;.&quot;) + 1), stringForReplace);\r\n    it gives me: &quot;asdASfasdlpe.NewString&quot;\r\n\r\n    Result should be: &quot;asdASfasdlpe.NewString.asdasfdfepw&quot;","title":"How to put new string between commas in original string","body":"<p>I have this original string and I want to insert new string between two dots of original string. I did it this way, but having errors.</p>\n<pre><code>String originalString =&quot;asdASfasdlpe.hereNeedToPutNewString.asdasfdfepw&quot;;\nString stringForReplace = &quot;NewString&quot;;\nString new = originalString.replace(originalString.substring(originalString.indexOf(&quot;.&quot;) + 1), stringForReplace);\nit gives me: &quot;asdASfasdlpe.NewString&quot;\n\nResult should be: &quot;asdASfasdlpe.NewString.asdasfdfepw&quot;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1653319192,"post_id":72350766,"comment_id":127817073,"body_markdown":"Is there an underlying question that you have, related to pagination?","body":"Is there an underlying question that you have, related to pagination?"}],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653318474,"creation_date":1653318474,"answer_id":72350827,"question_id":72350766,"body_markdown":"Yes it hits the database for each page of data. There are limits of how much data DynamoDB will return in a single result, so it has to do it this way. The general mechanism for pagination in DynamoDB is documented [here][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html","title":"How does Dynamo DB handle pagination","body":"<p>Yes it hits the database for each page of data. There are limits of how much data DynamoDB will return in a single result, so it has to do it this way. The general mechanism for pagination in DynamoDB is documented <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653318474,"creation_date":1653318256,"question_id":72350766,"body_markdown":"So I am using `Pagination` with the latest `DynamoDBEnhancedAsyncClient`. \r\n\r\nI had a doubt as to how does the `DynamoDB` handle pagination? Is it that it queries `DDB` and gets back the result for the 1st page and then again hits DDB to fetch records for the 2nd fetch? Does it the DB as many times as the number of pages? I couldn&#39;t find any information related to this in AWS docs. ","title":"How does Dynamo DB handle pagination","body":"<p>So I am using <code>Pagination</code> with the latest <code>DynamoDBEnhancedAsyncClient</code>.</p>\n<p>I had a doubt as to how does the <code>DynamoDB</code> handle pagination? Is it that it queries <code>DDB</code> and gets back the result for the 1st page and then again hits DDB to fetch records for the 2nd fetch? Does it the DB as many times as the number of pages? I couldn't find any information related to this in AWS docs.</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653318153,"creation_date":1653318153,"answer_id":72350740,"question_id":72348948,"body_markdown":"&gt; 1. When we add a new interceptor to newClient, does the original client also get updated by reference?\r\n\r\nNo, the original is unchanged. Its configuration is immutable.\r\n\r\n&gt; 2. Classes calling makeRestCall decide on what customInteceptor they need. Is it ok to call .newBuilder() for every request?\r\n\r\nAbsolutely. That operation is cheap because it only duplicates the configuration. Resource-intensive stuff like the connection pool and cache are not duplicated.","title":"Okhttp newBuilder per request","body":"<blockquote>\n<ol>\n<li>When we add a new interceptor to newClient, does the original client also get updated by reference?</li>\n</ol>\n</blockquote>\n<p>No, the original is unchanged. Its configuration is immutable.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Classes calling makeRestCall decide on what customInteceptor they need. Is it ok to call .newBuilder() for every request?</li>\n</ol>\n</blockquote>\n<p>Absolutely. That operation is cheap because it only duplicates the configuration. Resource-intensive stuff like the connection pool and cache are not duplicated.</p>\n"}],"owner":{"account_id":5883860,"reputation":1346,"user_id":4632462,"accept_rate":100,"display_name":"Phuthib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72350740,"answer_count":1,"score":2,"last_activity_date":1653318153,"creation_date":1653310880,"question_id":72348948,"body_markdown":"Trying to implement okhttp the correct way. I understand the OkHttpClient must be shared (Singleton), however I am not clearly understanding ```.newBuilder(); ```\r\n\r\n***Sample Code:***\r\n``` java\r\n// Instantiated once\r\nprivate static OkHttpClient client = new OkHttpClient.Builder()\r\n        .readTimeout(readTime, TimeUnit.MILLISECONDS)\r\n\t\t.connectionPool(new ConnectionPool(200, connectTimeout, TimeUnit.MILLISECONDS));\r\n        .build(); \r\n\r\npublic static String makeRestCall(String url, String data, Interceptor customInterceptor) {\r\n    // Questions on the line below\r\n    OkHttpClient newClient = client.newBuilder()\r\n        .addInterceptor(customInterceptor)\r\n        .build();\r\n\r\n    ....\r\n    try (Response response = newClient.newCall(httpRequest).execute()) {\r\n\t\t\tfinal ResponseBody body = response.body();\r\n\t\t\treturn body.string();\r\n\t}\r\n    return &quot;NO_DATA&quot;;\r\n}\r\n \r\n```\r\n\r\nI have a few questions around ```.newBuilder()```\r\n1. When we add a new interceptor to ```newClient```, does the original ```client``` also get updated by reference?\r\n\r\n2. Classes calling ```makeRestCall``` decide on what customInteceptor they need. Is it ok to call ```.newBuilder()``` for every request? \r\n\r\nI have been searching the documentation and playing with the implementation but haven&#39;t had clarity on the above.\r\n\r\nAny assistance/pointers are appreciated.","title":"Okhttp newBuilder per request","body":"<p>Trying to implement okhttp the correct way. I understand the OkHttpClient must be shared (Singleton), however I am not clearly understanding <code>.newBuilder(); </code></p>\n<p><em><strong>Sample Code:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Instantiated once\nprivate static OkHttpClient client = new OkHttpClient.Builder()\n        .readTimeout(readTime, TimeUnit.MILLISECONDS)\n        .connectionPool(new ConnectionPool(200, connectTimeout, TimeUnit.MILLISECONDS));\n        .build(); \n\npublic static String makeRestCall(String url, String data, Interceptor customInterceptor) {\n    // Questions on the line below\n    OkHttpClient newClient = client.newBuilder()\n        .addInterceptor(customInterceptor)\n        .build();\n\n    ....\n    try (Response response = newClient.newCall(httpRequest).execute()) {\n            final ResponseBody body = response.body();\n            return body.string();\n    }\n    return &quot;NO_DATA&quot;;\n}\n \n</code></pre>\n<p>I have a few questions around <code>.newBuilder()</code></p>\n<ol>\n<li><p>When we add a new interceptor to <code>newClient</code>, does the original <code>client</code> also get updated by reference?</p>\n</li>\n<li><p>Classes calling <code>makeRestCall</code> decide on what customInteceptor they need. Is it ok to call <code>.newBuilder()</code> for every request?</p>\n</li>\n</ol>\n<p>I have been searching the documentation and playing with the implementation but haven't had clarity on the above.</p>\n<p>Any assistance/pointers are appreciated.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1528111202,"post_id":50679013,"comment_id":88368094,"body_markdown":"Your method name conflicts with `java.lang.Object.finalize()`. Try choosing a different method name.","body":"Your method name conflicts with <code>java.lang.Object.finalize()</code>. Try choosing a different method name."},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1528376425,"post_id":50679013,"comment_id":88491225,"body_markdown":"thanks a lot, that was it. Don&#39;t you want to post an answer instead of a comment, so that I can accept it ?","body":"thanks a lot, that was it. Don&#39;t you want to post an answer instead of a comment, so that I can accept it ?"}],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528383814,"creation_date":1528383814,"answer_id":50744518,"question_id":50679013,"body_markdown":"Your method name conflicts with `java.lang.Object.finalize()`. The error should be fixed if you choose a different method name.","title":"Kotlin&#39;s JvmDefault - still need to declare the method ?","body":"<p>Your method name conflicts with <code>java.lang.Object.finalize()</code>. The error should be fixed if you choose a different method name.</p>\n"},{"tags":[],"owner":{"account_id":4659220,"reputation":716,"user_id":4648533,"display_name":"Revansiddappa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653318122,"creation_date":1653318122,"answer_id":72350736,"question_id":50679013,"body_markdown":"Android Studio and JVM always update its versions. As a result of that some of you may experience this error message.\r\n\r\nInheritance from an interface with &#39;@JvmDefault&#39; members is only allowed with -Xjvm-default option\r\n\r\nDon&#39;t worry . The solution is very simple. Just add below code part to the end of android block of your app level build.gradle file and sync.\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {\r\n     kotlinOptions {\r\n     freeCompilerArgs += [\r\n    &quot;-Xjvm-default=all&quot;,\r\n    ]\r\n    }\r\n    }","title":"Kotlin&#39;s JvmDefault - still need to declare the method ?","body":"<p>Android Studio and JVM always update its versions. As a result of that some of you may experience this error message.</p>\n<p>Inheritance from an interface with '@JvmDefault' members is only allowed with -Xjvm-default option</p>\n<p>Don't worry . The solution is very simple. Just add below code part to the end of android block of your app level build.gradle file and sync.</p>\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {\n kotlinOptions {\n freeCompilerArgs += [\n&quot;-Xjvm-default=all&quot;,\n]\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50744518,"answer_count":2,"score":1,"last_activity_date":1653318122,"creation_date":1528109866,"question_id":50679013,"body_markdown":"I am building my Spring Boot 1.5 + Kotlin 1.2.41 project into a jar. One of the interfaces in the jar has the `@JvmDefault` and it compiles fine with the flag (if I remove the flag, it fails). \r\n\r\nNow, I am trying to use this interface in another java project, in which I define the Kotlin project as a dependency. \r\n\r\nIn one implementing class, I don&#39;t override the default method. Intellij seems to be OK with it, as it doesn&#39;t complain. However, when I compile with Maven, I get :  \r\n\r\n    [ERROR] attempting to assign weaker access privileges; was public\r\n\r\nIf I implement the method (with some dummy implementation), then it compiles... but it defeats the purpose of the default interface. \r\n\r\nAny idea what could be wrong ? \r\n\r\nWhen opening the Kotlin interface code from the java project, here&#39;s the decompiled code I see : \r\n\r\n\tpublic interface CrawlerOutput {\r\n\t\t@kotlin.jvm.JvmDefault public open fun finalize(): kotlin.Unit { /* compiled code */ }\r\n\r\n\t\tpublic abstract fun output(analyzedRepository: com.myCompany.Repository): kotlin.Unit\r\n\t}\r\n \r\n\r\nMy java code implementing the interface : \r\n\r\n\tpublic class CsvOutput implements CrawlerOutput {\r\n\r\n\t\t@Override\r\n\t\tpublic void output(Repository repository) throws IOException {\r\n\t\t\tlog.info(&quot;own output is receiving some data !&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* IF I REMOVE BELOW METHOD, MAVEN CAN&#39;T COMPILE IT ANYMORE, \r\n\t\t* COMPLAINING OF WEAKER ACCESS PRIVILEGE\r\n\t\t*/ \t\t\r\n\t\t@Override\r\n\t\tpublic void finalize(){\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nAm I missing something ? \r\n\r\nThanks\r\n\r\nVincent\r\n","title":"Kotlin&#39;s JvmDefault - still need to declare the method ?","body":"<p>I am building my Spring Boot 1.5 + Kotlin 1.2.41 project into a jar. One of the interfaces in the jar has the <code>@JvmDefault</code> and it compiles fine with the flag (if I remove the flag, it fails). </p>\n\n<p>Now, I am trying to use this interface in another java project, in which I define the Kotlin project as a dependency. </p>\n\n<p>In one implementing class, I don't override the default method. Intellij seems to be OK with it, as it doesn't complain. However, when I compile with Maven, I get :  </p>\n\n<pre><code>[ERROR] attempting to assign weaker access privileges; was public\n</code></pre>\n\n<p>If I implement the method (with some dummy implementation), then it compiles... but it defeats the purpose of the default interface. </p>\n\n<p>Any idea what could be wrong ? </p>\n\n<p>When opening the Kotlin interface code from the java project, here's the decompiled code I see : </p>\n\n<pre><code>public interface CrawlerOutput {\n    @kotlin.jvm.JvmDefault public open fun finalize(): kotlin.Unit { /* compiled code */ }\n\n    public abstract fun output(analyzedRepository: com.myCompany.Repository): kotlin.Unit\n}\n</code></pre>\n\n<p>My java code implementing the interface : </p>\n\n<pre><code>public class CsvOutput implements CrawlerOutput {\n\n    @Override\n    public void output(Repository repository) throws IOException {\n        log.info(\"own output is receiving some data !\");\n    }\n\n    /**\n    * IF I REMOVE BELOW METHOD, MAVEN CAN'T COMPILE IT ANYMORE, \n    * COMPLAINING OF WEAKER ACCESS PRIVILEGE\n    */      \n    @Override\n    public void finalize(){\n\n    }\n\n}\n</code></pre>\n\n<p>Am I missing something ? </p>\n\n<p>Thanks</p>\n\n<p>Vincent</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1653318273,"post_id":72349788,"comment_id":127816654,"body_markdown":"What is the relation between `books` and `users`? I think you are getting results in Cartesian product","body":"What is the relation between <code>books</code> and <code>users</code>? I think you are getting results in Cartesian product"},{"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"score":0,"creation_date":1653318316,"post_id":72349788,"comment_id":127816669,"body_markdown":"An users read one or more books","body":"An users read one or more books"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1653358737,"post_id":72349788,"comment_id":127827125,"body_markdown":"How are you storing your data with relation in your database?","body":"How are you storing your data with relation in your database?"}],"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653317341,"creation_date":1653314150,"question_id":72349788,"body_markdown":"I&#39;m using Hibernate and I have two tables:\r\n\r\n\r\n```\r\nTable A:\r\n@Table(name = &quot;users&quot;)\r\npublic class User extends BaseEntity {\r\n \r\n @OneToMany(fetch = FetchType.LAZY, cascade=CascadeType.ALL)\r\n @JoinColumn(name = &quot;book_id&quot;)\r\n private List&lt;Book&gt;book;\r\n}\r\n```\r\n\r\nand \r\n\r\n```\r\nTable B\r\n@Table(name = &quot;books&quot;)\r\npublic class Book extends BaseEntity {\r\n   \r\n    @Column(name = &quot;nameOfBook&quot;)\r\n    private String nameOfBook;\r\n\r\n    @Column(name = &quot;userId&quot;)\r\n    private String userId;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI have to do the following query:\r\n\r\n```\r\nselect *\r\nfrom users, books\r\nwhere books.nameOfBook == &#39;duck&#39; and users.id == books.userId\r\n```\r\n\r\nMy problem that I have not understood how to convert the SQL in Java like this:\r\n\r\n\r\n```\r\n  Subquery&lt;String&gt;query = query.subquery(String.class);\r\n            Root&lt;Supplier&gt; psFrom = supplierQuery.from(User.class);\r\n            Path&lt;String&gt; expression = psFrom.get(&quot;id&quot;);\r\n            supplierQuery.select(expression);\r\n         \r\n```","title":"Hibernate join one to many by java","body":"<p>I'm using Hibernate and I have two tables:</p>\n<pre><code>Table A:\n@Table(name = &quot;users&quot;)\npublic class User extends BaseEntity {\n \n @OneToMany(fetch = FetchType.LAZY, cascade=CascadeType.ALL)\n @JoinColumn(name = &quot;book_id&quot;)\n private List&lt;Book&gt;book;\n}\n</code></pre>\n<p>and</p>\n<pre><code>Table B\n@Table(name = &quot;books&quot;)\npublic class Book extends BaseEntity {\n   \n    @Column(name = &quot;nameOfBook&quot;)\n    private String nameOfBook;\n\n    @Column(name = &quot;userId&quot;)\n    private String userId;\n\n\n}\n\n</code></pre>\n<p>I have to do the following query:</p>\n<pre><code>select *\nfrom users, books\nwhere books.nameOfBook == 'duck' and users.id == books.userId\n</code></pre>\n<p>My problem that I have not understood how to convert the SQL in Java like this:</p>\n<pre><code>  Subquery&lt;String&gt;query = query.subquery(String.class);\n            Root&lt;Supplier&gt; psFrom = supplierQuery.from(User.class);\n            Path&lt;String&gt; expression = psFrom.get(&quot;id&quot;);\n            supplierQuery.select(expression);\n         \n</code></pre>\n"},{"tags":["java","android","android-fragments","adapter","android-viewpager2"],"comments":[{"owner":{"account_id":13983099,"reputation":508,"user_id":10098839,"display_name":"Solanki Zeel"},"score":0,"creation_date":1653312540,"post_id":72349328,"comment_id":127814197,"body_markdown":"can you please try with false like this\n\n&quot;mRootView = inflater.inflate(R.layout.fragment_main, container, false);&quot;","body":"can you please try with false like this  &quot;mRootView = inflater.inflate(R.layout.fragment_main, container, false);&quot;"},{"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"score":0,"creation_date":1653312907,"post_id":72349328,"comment_id":127814328,"body_markdown":"@SolankiZeel Thanks for the reply - I changed ```attachToRoot = false``` but the fragments still do not appear","body":"@SolankiZeel Thanks for the reply - I changed <code>attachToRoot = false</code> but the fragments still do not appear"},{"owner":{"account_id":13983099,"reputation":508,"user_id":10098839,"display_name":"Solanki Zeel"},"score":0,"creation_date":1653313359,"post_id":72349328,"comment_id":127814544,"body_markdown":"try to return 0 instead of null with previous changes false. so we can get the idea that the adapter is fine\n\nEdit: \n\n```return mRootView instead of\nreturn super.onCreateView(inflater, container, savedInstanceState);```","body":"try to return 0 instead of null with previous changes false. so we can get the idea that the adapter is fine  Edit:   <code>return mRootView instead of return super.onCreateView(inflater, container, savedInstanceState);</code>"},{"owner":{"account_id":13983099,"reputation":508,"user_id":10098839,"display_name":"Solanki Zeel"},"score":0,"creation_date":1653313828,"post_id":72349328,"comment_id":127814767,"body_markdown":"Your welcome @thewolf1119, I posted it as an answer vote it and check the mark. It helps others","body":"Your welcome @thewolf1119, I posted it as an answer vote it and check the mark. It helps others"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653317421,"post_id":72349328,"comment_id":127816298,"body_markdown":"Does this answer your question? [super.onCreateView in Fragments](https://stackoverflow.com/questions/22729330/super-oncreateview-in-fragments)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22729330/super-oncreateview-in-fragments\">super.onCreateView in Fragments</a>"}],"answers":[{"tags":[],"owner":{"account_id":13983099,"reputation":508,"user_id":10098839,"display_name":"Solanki Zeel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653313797,"creation_date":1653313797,"answer_id":72349712,"question_id":72349328,"body_markdown":"try to \r\n\r\n```return mRootView``` \r\n\r\ninstead of \r\n\r\n```return super.onCreateView(inflater, container, savedInstanceState);```","title":"ViewPager2 doesn&#39;t show Fragments","body":"<p>try to</p>\n<p><code>return mRootView</code></p>\n<p>instead of</p>\n<p><code>return super.onCreateView(inflater, container, savedInstanceState);</code></p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653317319,"creation_date":1653317319,"answer_id":72350541,"question_id":72349328,"body_markdown":"The place where you went wrong was when you did not add the layout to the root. The problem is this:\r\n```java\r\nreturn super.onCreateView(inflater, container, savedInstanceState);\r\n```\r\n\r\nbut, you r not using your view right? You are using the default view which is just empty. So, to solve it, you need to pass it your view instead of that. So, return your view like this:\r\n```java\r\nreturn mRootView;\r\n```","title":"ViewPager2 doesn&#39;t show Fragments","body":"<p>The place where you went wrong was when you did not add the layout to the root. The problem is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return super.onCreateView(inflater, container, savedInstanceState);\n</code></pre>\n<p>but, you r not using your view right? You are using the default view which is just empty. So, to solve it, you need to pass it your view instead of that. So, return your view like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return mRootView;\n</code></pre>\n"}],"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653317319,"creation_date":1653312142,"question_id":72349328,"body_markdown":"I am trying to implement ViewPager2 in my application and this is not the first time I am doing it but now it is not working.\r\n\r\nI&#39;ve been trying to find a solution for a couple of hours and trying different options but still - the fragments don&#39;t show up.\r\nViewPager2 is displaying correctly - I checked this by changing its background color.\r\n\r\nI&#39;m using the [OneUI 2.4.0][1] library - but I&#39;ve tested this library before and everything worked, and now it won&#39;t.\r\n\r\n**ViewPager2 Adapter**\r\n```\r\npublic class MainViewPagerAdapter extends FragmentStateAdapter {\r\n\r\n    private ArrayList&lt;Fragment&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public MainViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position) {\r\n            case 0:\r\n                return new MainFragment();\r\n            case 1:\r\n                return new NewsFragment();\r\n            case 2:\r\n                return new ProfileFragment();\r\n\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 3;\r\n    }\r\n}\r\n```\r\n\r\n**MainFragment.java** (other fragments code looks the same)\r\n```\r\npublic class MainFragment extends Fragment {\r\n    View mRootView;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(\r\n            @NonNull LayoutInflater inflater,\r\n            @Nullable ViewGroup container,\r\n            @Nullable Bundle savedInstanceState) {\r\n        mRootView = inflater.inflate(R.layout.fragment_main, container, true);\r\n        return super.onCreateView(inflater, container, savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        Log.d(&quot;MainFragment&quot;, &quot;Initialized&quot;); // I don&#39;t see that in logcat\r\n    }\r\n}\r\n```\r\n\r\n**fragment_main.xml** (Other fragments have similar layout)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;de.dlyt.yanndroid.oneui.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textview.MaterialTextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;@string/main_page&quot;\r\n        android:textColor=&quot;@color/sesl_primary_text&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/de.dlyt.yanndroid.oneui.widget.NestedScrollView&gt;\r\n```\r\n\r\n**MainActivity.java**\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ToolbarLayout mToolbarLayout;\r\n    private ViewPager2 mViewPager;\r\n    private TabLayout mTabLayout;\r\n\r\n    private MainViewPagerAdapter viewPagerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        initialize();\r\n        setup();\r\n    }\r\n\r\n    private void initialize() {\r\n        mToolbarLayout = (ToolbarLayout) findViewById(R.id.mToolbarLayout);\r\n        mViewPager = (ViewPager2) findViewById(R.id.mMainPager);\r\n        mTabLayout = (TabLayout) findViewById(R.id.mMainTabLayout);\r\n    }\r\n\r\n    private void setup() {\r\n        viewPagerAdapter = new MainViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\r\n\r\n        mViewPager.setAdapter(viewPagerAdapter);\r\n   }\r\n```\r\n\r\nAnd the problem is just that i don&#39;t see my fragments in ViewPager2.\r\n\r\n\r\n  [1]: https://github.com/OneUIProject/OneUI-Design-Library","title":"ViewPager2 doesn&#39;t show Fragments","body":"<p>I am trying to implement ViewPager2 in my application and this is not the first time I am doing it but now it is not working.</p>\n<p>I've been trying to find a solution for a couple of hours and trying different options but still - the fragments don't show up.\nViewPager2 is displaying correctly - I checked this by changing its background color.</p>\n<p>I'm using the <a href=\"https://github.com/OneUIProject/OneUI-Design-Library\" rel=\"nofollow noreferrer\">OneUI 2.4.0</a> library - but I've tested this library before and everything worked, and now it won't.</p>\n<p><strong>ViewPager2 Adapter</strong></p>\n<pre><code>public class MainViewPagerAdapter extends FragmentStateAdapter {\n\n    private ArrayList&lt;Fragment&gt; arrayList = new ArrayList&lt;&gt;();\n\n\n    public MainViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position) {\n            case 0:\n                return new MainFragment();\n            case 1:\n                return new NewsFragment();\n            case 2:\n                return new ProfileFragment();\n\n        }\n        return null;\n    }\n\n    @Override\n    public int getItemCount() {\n        return 3;\n    }\n}\n</code></pre>\n<p><strong>MainFragment.java</strong> (other fragments code looks the same)</p>\n<pre><code>public class MainFragment extends Fragment {\n    View mRootView;\n\n    @Nullable\n    @Override\n    public View onCreateView(\n            @NonNull LayoutInflater inflater,\n            @Nullable ViewGroup container,\n            @Nullable Bundle savedInstanceState) {\n        mRootView = inflater.inflate(R.layout.fragment_main, container, true);\n        return super.onCreateView(inflater, container, savedInstanceState);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        Log.d(&quot;MainFragment&quot;, &quot;Initialized&quot;); // I don't see that in logcat\n    }\n}\n</code></pre>\n<p><strong>fragment_main.xml</strong> (Other fragments have similar layout)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;de.dlyt.yanndroid.oneui.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.textview.MaterialTextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/main_page&quot;\n        android:textColor=&quot;@color/sesl_primary_text&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/de.dlyt.yanndroid.oneui.widget.NestedScrollView&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ToolbarLayout mToolbarLayout;\n    private ViewPager2 mViewPager;\n    private TabLayout mTabLayout;\n\n    private MainViewPagerAdapter viewPagerAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        initialize();\n        setup();\n    }\n\n    private void initialize() {\n        mToolbarLayout = (ToolbarLayout) findViewById(R.id.mToolbarLayout);\n        mViewPager = (ViewPager2) findViewById(R.id.mMainPager);\n        mTabLayout = (TabLayout) findViewById(R.id.mMainTabLayout);\n    }\n\n    private void setup() {\n        viewPagerAdapter = new MainViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\n\n        mViewPager.setAdapter(viewPagerAdapter);\n   }\n</code></pre>\n<p>And the problem is just that i don't see my fragments in ViewPager2.</p>\n"},{"tags":["java","authentication","httpclient","apache-httpclient-4.x","preemptive"],"answers":[{"tags":[],"owner":{"account_id":1001602,"reputation":939,"user_id":1016337,"accept_rate":75,"display_name":"radio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653317296,"creation_date":1653317296,"answer_id":72350533,"question_id":72327526,"body_markdown":"It looks like the simple answer is: above is an example of a **non-preemptive authentication**.\r\n\r\n**Why**? Because the only place where the preemptive one is setup is during the processing of the `org.apache.http.client.protocol.RequestAuthCache` interceptor, which looks for the set up `AuthCache`, which in above case is not set up.","title":"Apache httpclient 4.5.13 preemptive authentication or not","body":"<p>It looks like the simple answer is: above is an example of a <strong>non-preemptive authentication</strong>.</p>\n<p><strong>Why</strong>? Because the only place where the preemptive one is setup is during the processing of the <code>org.apache.http.client.protocol.RequestAuthCache</code> interceptor, which looks for the set up <code>AuthCache</code>, which in above case is not set up.</p>\n"}],"owner":{"account_id":1001602,"reputation":939,"user_id":1016337,"accept_rate":75,"display_name":"radio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653317296,"creation_date":1653117987,"question_id":72327526,"body_markdown":"I came across this code, which I am trying to refactor the deprecated usage of `DefaultHttpClient` to use `HttpClientBuilder` and trying to replicate the authentication part. \r\n\r\nIn HttpClientBuilder world I could use **preemptive** (`HttpClientContext.create().setAuthCache(new BasicAuthCache())`) or **not** - setting the credentials provider directly to the builder (`httpClientBuilder.setDefaultCredentialsProvider(new BasicCredentialsProvider())`)\r\n\r\nIn here, I don&#39;t see this being specified in any way, so I debugged through the httpclient lib, but could not pull out a conclusion for sure. Could you tell me, whether below code is doing a preemptive or a non-preemptive authentication?\r\n(As I had to refactor older http client 3.x code, it was very expressive, since there was the `.setAuthenticationPreemptive` method, which was telling me clearly, what it was)\r\n\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.params.HttpParams;\r\n    import org.apache.http.params.BasicHttpParams;\r\n    \r\n    import org.apache.http.auth.params.AuthParams;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    \r\n    import org.apache.http.client.methods.HttpGet;\r\n    ...\r\n    \r\n    DefaultHttpClient client = new DefaultHttpClient(new BasicHttpParams());\r\n    \r\n    HttpParams params = client.getParams();\r\n    AuthParams.setCredentialCharset(params, &quot;UTF-8&quot;);\r\n    \r\n    client.getCredentialsProvider()\r\n            .setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;login&quot;,&quot;passwd&quot;));\r\n    ...\r\n    client.execute(new HttpGet(&quot;uri&quot;));\r\n\r\nThanks you!","title":"Apache httpclient 4.5.13 preemptive authentication or not","body":"<p>I came across this code, which I am trying to refactor the deprecated usage of <code>DefaultHttpClient</code> to use <code>HttpClientBuilder</code> and trying to replicate the authentication part.</p>\n<p>In HttpClientBuilder world I could use <strong>preemptive</strong> (<code>HttpClientContext.create().setAuthCache(new BasicAuthCache())</code>) or <strong>not</strong> - setting the credentials provider directly to the builder (<code>httpClientBuilder.setDefaultCredentialsProvider(new BasicCredentialsProvider())</code>)</p>\n<p>In here, I don't see this being specified in any way, so I debugged through the httpclient lib, but could not pull out a conclusion for sure. Could you tell me, whether below code is doing a preemptive or a non-preemptive authentication?\n(As I had to refactor older http client 3.x code, it was very expressive, since there was the <code>.setAuthenticationPreemptive</code> method, which was telling me clearly, what it was)</p>\n<pre><code>import org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.params.HttpParams;\nimport org.apache.http.params.BasicHttpParams;\n\nimport org.apache.http.auth.params.AuthParams;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\n\nimport org.apache.http.client.methods.HttpGet;\n...\n\nDefaultHttpClient client = new DefaultHttpClient(new BasicHttpParams());\n\nHttpParams params = client.getParams();\nAuthParams.setCredentialCharset(params, &quot;UTF-8&quot;);\n\nclient.getCredentialsProvider()\n        .setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;login&quot;,&quot;passwd&quot;));\n...\nclient.execute(new HttpGet(&quot;uri&quot;));\n</code></pre>\n<p>Thanks you!</p>\n"},{"tags":["java","apache-spark","encoder"],"answers":[{"tags":[],"owner":{"account_id":4024660,"reputation":335,"user_id":3313500,"display_name":"Scrooge McD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653317212,"creation_date":1653313809,"answer_id":72349716,"question_id":72321742,"body_markdown":"**Solution to Problem 1** : adding an option to infer the schema solved it.\r\n```java\r\nDataset&lt;Student&gt; df = spark.read().option(&quot;header&quot;, true)\r\n\t\t\t\t.option(&quot;inferSchema&quot;, true)\r\n\t\t\t\t.csv(&quot;src/main/resources/exams/students2.csv&quot;)\r\n\t\t\t\t.as(studentEncoder);\r\n```\r\n\r\n**Caveat** : ```inferSchema``` requires an extra pass over the data.","title":"Spark Java | Error reading CSV to typed Dataset","body":"<p><strong>Solution to Problem 1</strong> : adding an option to infer the schema solved it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Student&gt; df = spark.read().option(&quot;header&quot;, true)\n                .option(&quot;inferSchema&quot;, true)\n                .csv(&quot;src/main/resources/exams/students2.csv&quot;)\n                .as(studentEncoder);\n</code></pre>\n<p><strong>Caveat</strong> : <code>inferSchema</code> requires an extra pass over the data.</p>\n"}],"owner":{"account_id":4024660,"reputation":335,"user_id":3313500,"display_name":"Scrooge McD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653317212,"creation_date":1653062234,"question_id":72321742,"body_markdown":"I am trying to read `Student` records from a CSV using Spark(Java), and facing errors converting it to a typed `Dataset&lt;Student&gt;`.\r\n\r\n**Reader code** : \r\n```java\r\nSparkSession spark = SparkSession.builder().appName(&quot;testingSQL&quot;).master(&quot;local[*]&quot;).getOrCreate();\r\nEncoder&lt;Student&gt; studentEncoder = Encoders.bean(Student.class);\r\nDataset&lt;Student&gt; df = spark.read().option(&quot;header&quot;, true)\r\n\t\t\t\t//.schema(studentEncoder.schema())\r\n\t\t\t\t.csv(&quot;src/main/resources/exams/students2.csv&quot;)\r\n\t\t\t\t.as(studentEncoder);\r\ndf.show();\r\n```\r\n\r\n**Student Class** \r\n```java\r\npublic class Student implements Serializable {\r\n    int studentId;\r\n    int examCenterId;\r\n    String subject;\r\n    int year;\r\n    int quarter;\r\n    int score;\r\n    String grade;\r\n    // getters and setters\r\n}\r\n```\r\n\r\n**CSV file**\r\n```\r\nstudentId,examCenterId,subject,year,quarter,score,grade\r\n1,1,Math,2005,1,41,D\r\n1,1,Spanish,2005,1,51,C\r\n1,1,German,2005,1,39,D\r\n1,1,Physics,2005,1,35,D\r\n```\r\n\r\nHowever I am facing the following two problems while trying to read these records :\r\n\r\n**Problem 1 :** When the `.schema(studentEncoder.schema())` part is commented out in the reader code, the execution throws an `upcastFailureError`\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Cannot up cast score from string to int.\r\nThe type path of the target object is:\r\n- field (class: &quot;int&quot;, name: &quot;score&quot;)\r\n- root class: &quot;com.virtualpairprogrammers.model.Student&quot;\r\nYou can either add an explicit cast to the input data or choose a higher precision type of the field in the target object\r\n\tat org.apache.spark.sql.errors.QueryCompilationErrors$.upCastFailureError(QueryCompilationErrors.scala:154)\r\n```\r\n\r\n**Problem 2 :** When the `.schema(studentEncoder.schema())` line is uncommented, spark does show the Student rows but the values are shown against incorrect columns, and some columns are null altogether. For ex: score is being shown in the subject column.\r\n\r\n|examCenterId|grade|quarter|score|studentId|subject|year|\r\n|------------|-----|-------|-----|---------|-------|----|\r\n|1|1|null|2005|1|41|null|\r\n|1|1|null|2005|1|51|null|\r\n|1|1|null|2005|1|39|null|\r\n|1|1|null|2005|1|35|null|\r\n\r\nWhat am I missing while setting the encoders or the schema ?","title":"Spark Java | Error reading CSV to typed Dataset","body":"<p>I am trying to read <code>Student</code> records from a CSV using Spark(Java), and facing errors converting it to a typed <code>Dataset&lt;Student&gt;</code>.</p>\n<p><strong>Reader code</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkSession spark = SparkSession.builder().appName(&quot;testingSQL&quot;).master(&quot;local[*]&quot;).getOrCreate();\nEncoder&lt;Student&gt; studentEncoder = Encoders.bean(Student.class);\nDataset&lt;Student&gt; df = spark.read().option(&quot;header&quot;, true)\n                //.schema(studentEncoder.schema())\n                .csv(&quot;src/main/resources/exams/students2.csv&quot;)\n                .as(studentEncoder);\ndf.show();\n</code></pre>\n<p><strong>Student Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student implements Serializable {\n    int studentId;\n    int examCenterId;\n    String subject;\n    int year;\n    int quarter;\n    int score;\n    String grade;\n    // getters and setters\n}\n</code></pre>\n<p><strong>CSV file</strong></p>\n<pre><code>studentId,examCenterId,subject,year,quarter,score,grade\n1,1,Math,2005,1,41,D\n1,1,Spanish,2005,1,51,C\n1,1,German,2005,1,39,D\n1,1,Physics,2005,1,35,D\n</code></pre>\n<p>However I am facing the following two problems while trying to read these records :</p>\n<p><strong>Problem 1 :</strong> When the <code>.schema(studentEncoder.schema())</code> part is commented out in the reader code, the execution throws an <code>upcastFailureError</code></p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Cannot up cast score from string to int.\nThe type path of the target object is:\n- field (class: &quot;int&quot;, name: &quot;score&quot;)\n- root class: &quot;com.virtualpairprogrammers.model.Student&quot;\nYou can either add an explicit cast to the input data or choose a higher precision type of the field in the target object\n    at org.apache.spark.sql.errors.QueryCompilationErrors$.upCastFailureError(QueryCompilationErrors.scala:154)\n</code></pre>\n<p><strong>Problem 2 :</strong> When the <code>.schema(studentEncoder.schema())</code> line is uncommented, spark does show the Student rows but the values are shown against incorrect columns, and some columns are null altogether. For ex: score is being shown in the subject column.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>examCenterId</th>\n<th>grade</th>\n<th>quarter</th>\n<th>score</th>\n<th>studentId</th>\n<th>subject</th>\n<th>year</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>null</td>\n<td>2005</td>\n<td>1</td>\n<td>41</td>\n<td>null</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>null</td>\n<td>2005</td>\n<td>1</td>\n<td>51</td>\n<td>null</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>null</td>\n<td>2005</td>\n<td>1</td>\n<td>39</td>\n<td>null</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>null</td>\n<td>2005</td>\n<td>1</td>\n<td>35</td>\n<td>null</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>What am I missing while setting the encoders or the schema ?</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653317681,"post_id":72350508,"comment_id":127816416,"body_markdown":"Can you share an example html for which that happens?","body":"Can you share an example html for which that happens?"},{"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"score":0,"creation_date":1653319457,"post_id":72350508,"comment_id":127817209,"body_markdown":"Seems like it would be that the document.html() is producing something that HtmlConvter does not like.  Maybe look at the produced html, is something wonky with it - looks like the PDFRender is choking on table html to pdf rendering? Of the entire set of html produced by document.html() is there any that you can remove manually to get it to work?","body":"Seems like it would be that the document.html() is producing something that HtmlConvter does not like.  Maybe look at the produced html, is something wonky with it - looks like the PDFRender is choking on table html to pdf rendering? Of the entire set of html produced by document.html() is there any that you can remove manually to get it to work?"},{"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"score":0,"creation_date":1653523150,"post_id":72350508,"comment_id":127876034,"body_markdown":"It seems that either your HTML contains cells with bigRowspans or some of the cells are missing, since these are the potential scenarios for such an issue. However, without a proper look at your HTML it&#39;s really hard to tell... Perhaps you could share it?","body":"It seems that either your HTML contains cells with bigRowspans or some of the cells are missing, since these are the potential scenarios for such an issue. However, without a proper look at your HTML it&#39;s really hard to tell... Perhaps you could share it?"}],"owner":{"account_id":7522259,"reputation":442,"user_id":5713709,"accept_rate":48,"display_name":"Babu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653317198,"creation_date":1653317198,"question_id":72350508,"body_markdown":"I tried to convert html to pdf using itext.html2pdf converter, the following exception is thrown:\r\n\r\n```\r\njava.lang.IndexOutOfBoundsException: Index: 17, Size: 17\r\n\tat java.util.ArrayList$SubList.rangeCheck(ArrayList.java:1227)\r\n\tat java.util.ArrayList$SubList.get(ArrayList.java:1044)\r\n\tat com.itextpdf.layout.renderer.TableBorders.processAllBordersAndEmptyRows(TableBorders.java:139)\r\n\tat com.itextpdf.layout.renderer.CollapsedTableBorders.updateBordersOnNewPage(CollapsedTableBorders.java:542)\r\n\tat com.itextpdf.layout.renderer.TableRenderer.layout(TableRenderer.java:309)\r\n\tat com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\r\n\tat com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\r\n\tat com.itextpdf.layout.renderer.LineRenderer.layout(LineRenderer.java:339)\r\n\tat com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:209)\r\n\tat com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\r\n\tat com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\r\n\tat com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:134)\r\n\tat com.itextpdf.html2pdf.attach.impl.layout.HtmlDocumentRenderer.close(HtmlDocumentRenderer.java:193)\r\n\tat com.itextpdf.layout.Document.close(Document.java:135)\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:149)\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:135)\r\n\tat com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:110)\r\n```\r\n\r\nI am using iTextpdf.html2pdf version 2.0.2.\r\n\r\nIs there any workaround or am I just doing something wrong?\r\n\r\nUsing below code to convert&quot;\r\n```\r\nRestTemplate rTemplate = new RestTemplate();\r\nHttpMessageConverter&lt;String&gt; sMessageConverter = new StringHttpMessageConverter(StandardCharsets.UTF_8);\r\nList&lt;HttpMessageConverter&lt;?&gt;&gt; httpMessageConverter = Lists.newArrayList();\r\nhttpMessageConverter.add(sMessageConverter);\r\nrTemplate.setMessageConverters(httpMessageConverter);\r\nString d = rTemplate.getForObject(url, String.class);\r\norg.jsoup.nodes.Document document = Jsoup.parse(d, &quot;utf-8&quot;);\r\nByteArrayOutputStream outputArray = new ByteArrayOutputStream();\r\nHtmlConverter.convertToPdf(document.html(), outputArray);\r\nreturn outputArray.toByteArray();\r\n```\r\n","title":"IndexOutOfBoundsException when converting html to pdf using itext.html2pdf","body":"<p>I tried to convert html to pdf using itext.html2pdf converter, the following exception is thrown:</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 17, Size: 17\n    at java.util.ArrayList$SubList.rangeCheck(ArrayList.java:1227)\n    at java.util.ArrayList$SubList.get(ArrayList.java:1044)\n    at com.itextpdf.layout.renderer.TableBorders.processAllBordersAndEmptyRows(TableBorders.java:139)\n    at com.itextpdf.layout.renderer.CollapsedTableBorders.updateBordersOnNewPage(CollapsedTableBorders.java:542)\n    at com.itextpdf.layout.renderer.TableRenderer.layout(TableRenderer.java:309)\n    at com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\n    at com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\n    at com.itextpdf.layout.renderer.LineRenderer.layout(LineRenderer.java:339)\n    at com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:209)\n    at com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\n    at com.itextpdf.layout.renderer.BlockRenderer.layout(BlockRenderer.java:219)\n    at com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:134)\n    at com.itextpdf.html2pdf.attach.impl.layout.HtmlDocumentRenderer.close(HtmlDocumentRenderer.java:193)\n    at com.itextpdf.layout.Document.close(Document.java:135)\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:149)\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:135)\n    at com.itextpdf.html2pdf.HtmlConverter.convertToPdf(HtmlConverter.java:110)\n</code></pre>\n<p>I am using iTextpdf.html2pdf version 2.0.2.</p>\n<p>Is there any workaround or am I just doing something wrong?</p>\n<p>Using below code to convert&quot;</p>\n<pre><code>RestTemplate rTemplate = new RestTemplate();\nHttpMessageConverter&lt;String&gt; sMessageConverter = new StringHttpMessageConverter(StandardCharsets.UTF_8);\nList&lt;HttpMessageConverter&lt;?&gt;&gt; httpMessageConverter = Lists.newArrayList();\nhttpMessageConverter.add(sMessageConverter);\nrTemplate.setMessageConverters(httpMessageConverter);\nString d = rTemplate.getForObject(url, String.class);\norg.jsoup.nodes.Document document = Jsoup.parse(d, &quot;utf-8&quot;);\nByteArrayOutputStream outputArray = new ByteArrayOutputStream();\nHtmlConverter.convertToPdf(document.html(), outputArray);\nreturn outputArray.toByteArray();\n</code></pre>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":22437484,"reputation":23,"user_id":16642526,"display_name":"jonhurono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653316947,"creation_date":1653316947,"answer_id":72350436,"question_id":72349893,"body_markdown":"You can change the button color (backgroundTint) and size (layout_width/height) in the XML. \r\n\r\n        &lt;android.support.design.widget.FloatingActionButton\r\n            android:id=&quot;@+id/Photo&quot;\r\n            android:layout_width=&quot;65dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            android:clickable=&quot;true&quot;\r\n            app:backgroundTint=&quot;#EF9A9A&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_gallery&quot; /&gt;\r\n\r\nAbout the text properties, it&#39;s weird to make a FAB have text, but you should check the XML too. Look for the &lt;android:Text&gt; tag and the give it the properties you want.\r\n\r\n","title":"How to resize a FloatingActionButton in Android Java","body":"<p>You can change the button color (backgroundTint) and size (layout_width/height) in the XML.</p>\n<pre><code>    &lt;android.support.design.widget.FloatingActionButton\n        android:id=&quot;@+id/Photo&quot;\n        android:layout_width=&quot;65dp&quot;\n        android:layout_height=&quot;65dp&quot;\n        android:clickable=&quot;true&quot;\n        app:backgroundTint=&quot;#EF9A9A&quot;\n        app:srcCompat=&quot;@android:drawable/ic_menu_gallery&quot; /&gt;\n</code></pre>\n<p>About the text properties, it's weird to make a FAB have text, but you should check the XML too. Look for the android:Text tag and the give it the properties you want.</p>\n"}],"owner":{"account_id":4299687,"reputation":6224,"user_id":3663765,"accept_rate":61,"display_name":"Program-Me-Rev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653316947,"creation_date":1653314538,"question_id":72349893,"body_markdown":"I&#39;ve been trying to create a `FloatingActionButton` with text, but I&#39;ve been unable to:  \r\n\r\n- set the color of the text in the button  \r\n- set the color of the button  \r\n- set the size of the text in the button  \r\n- set the size of the button  \r\n\r\nWhen I make the text too small it becomes blurry.  \r\n\r\nMy attempts below don&#39;t work.  \r\n\r\nWhat might I be getting wrong?  \r\n\r\n    //method to convert text to image\r\n    public Bitmap textAsBitmap(String text, float textSize, int textColor) {\r\n        Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n\r\n        int textSize = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, textSize, getResources().getDisplayMetrics());\r\n\r\n        paint.setTextSize(textSize);\r\n        paint.setColor(textColor);\r\n        paint.setTextAlign(Paint.Align.LEFT);\r\n        float baseline = -paint.ascent(); // ascent() is negative\r\n\r\n        Typeface plain = ResourcesCompat.getFont(this, R.font.font_awesome_free_solid);\r\n\r\n        paint.setTypeface(plain);\r\n\r\n        int width = (int) (paint.measureText(text) + 0.0f); // round\r\n        int height = (int) (baseline + paint.descent() + 0.0f);\r\n        Bitmap image = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n\r\n        Canvas canvas = new Canvas(image);\r\n        canvas.drawText(text, 0, baseline, paint);\r\n        return image;\r\n    }\r\n\r\n    FloatingActionButton fab = getFloatingActionBtn(this);\r\n    fab.setLayoutParams(fabLayoutParams);\r\n    fab.setImageBitmap(textAsBitmap(&quot;rotate&quot;, 20, Color.WHITE));\r\n    fab.setSize(FloatingActionButton.SIZE_MINI);\r\n\r\n    public FloatingActionButton getFloatingActionBtn(Context context) {\r\n        FloatingActionButton fab = new FloatingActionButton(context);\r\n\r\n        fab.setOnClickListener(new Button.OnClickListener() {\r\n            public void onClick(View v) {\r\n                mWebview.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\r\n            }\r\n        });\r\n        return fab;\r\n    }\r\n","title":"How to resize a FloatingActionButton in Android Java","body":"<p>I've been trying to create a <code>FloatingActionButton</code> with text, but I've been unable to:</p>\n<ul>\n<li>set the color of the text in the button</li>\n<li>set the color of the button</li>\n<li>set the size of the text in the button</li>\n<li>set the size of the button</li>\n</ul>\n<p>When I make the text too small it becomes blurry.</p>\n<p>My attempts below don't work.</p>\n<p>What might I be getting wrong?</p>\n<pre><code>//method to convert text to image\npublic Bitmap textAsBitmap(String text, float textSize, int textColor) {\n    Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n\n    int textSize = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, textSize, getResources().getDisplayMetrics());\n\n    paint.setTextSize(textSize);\n    paint.setColor(textColor);\n    paint.setTextAlign(Paint.Align.LEFT);\n    float baseline = -paint.ascent(); // ascent() is negative\n\n    Typeface plain = ResourcesCompat.getFont(this, R.font.font_awesome_free_solid);\n\n    paint.setTypeface(plain);\n\n    int width = (int) (paint.measureText(text) + 0.0f); // round\n    int height = (int) (baseline + paint.descent() + 0.0f);\n    Bitmap image = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n\n    Canvas canvas = new Canvas(image);\n    canvas.drawText(text, 0, baseline, paint);\n    return image;\n}\n\nFloatingActionButton fab = getFloatingActionBtn(this);\nfab.setLayoutParams(fabLayoutParams);\nfab.setImageBitmap(textAsBitmap(&quot;rotate&quot;, 20, Color.WHITE));\nfab.setSize(FloatingActionButton.SIZE_MINI);\n\npublic FloatingActionButton getFloatingActionBtn(Context context) {\n    FloatingActionButton fab = new FloatingActionButton(context);\n\n    fab.setOnClickListener(new Button.OnClickListener() {\n        public void onClick(View v) {\n            mWebview.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\n        }\n    });\n    return fab;\n}\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653315549,"post_id":72350064,"comment_id":127815509,"body_markdown":"`mongodb://localhost:27017:27017` may be your mongodb instance is not running on this port?","body":"<code>mongodb:&#47;&#47;localhost:27017:27017</code> may be your mongodb instance is not running on this port?"},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1653316538,"post_id":72350064,"comment_id":127815940,"body_markdown":"it port running i attached the screen image above please check","body":"it port running i attached the screen image above please check"}],"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653316505,"creation_date":1653315223,"question_id":72350064,"body_markdown":"i have problem with mongodb java connected error.i have install robo mongo it is working but.i connect with java i got these error. i have added mongo db jar file **mongo-java-driver-3.12.11.jar** file in to the libriaries.what is error i got i attached below.\r\n\r\n     com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Cluster created with settings {hosts=[mongodb://localhost:27017:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;, maxWaitQueueSize=500}\r\n    May 23, 2022 7:37:02 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Exception in monitor thread while connecting to server mongodb://localhost:27017:27017\r\n    com.mongodb.MongoSocketException: mongodb://localhost:27017\r\n\r\nwhat i tried so far i attached below.\r\n\r\n    import com.mongodb.DB;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n    \r\n    \r\n    public class MongoJava {\r\n    \r\n    \r\n        public static void main(String[] args) \r\n        {  \r\n                MongoClient mongo = new MongoClient(&quot;mongodb://localhost:27017&quot;); \r\n                DB database = mongo.getDB(&quot;school&quot;);\r\n                System.out.println(&quot;Success&quot;);\r\n    \r\n               \r\n            }\r\n            \r\n           \r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F1I11.jpg","title":"MongoSocketException Mongodb Java Connected problem","body":"<p>i have problem with mongodb java connected error.i have install robo mongo it is working but.i connect with java i got these error. i have added mongo db jar file <strong>mongo-java-driver-3.12.11.jar</strong> file in to the libriaries.what is error i got i attached below.</p>\n<pre><code> com.mongodb.diagnostics.logging.JULLogger log\nINFO: Cluster created with settings {hosts=[mongodb://localhost:27017:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}\nMay 23, 2022 7:37:02 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Exception in monitor thread while connecting to server mongodb://localhost:27017:27017\ncom.mongodb.MongoSocketException: mongodb://localhost:27017\n</code></pre>\n<p>what i tried so far i attached below.</p>\n<pre><code>import com.mongodb.DB;\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n\npublic class MongoJava {\n\n\n    public static void main(String[] args) \n    {  \n            MongoClient mongo = new MongoClient(&quot;mongodb://localhost:27017&quot;); \n            DB database = mongo.getDB(&quot;school&quot;);\n            System.out.println(&quot;Success&quot;);\n\n           \n        }\n        \n       \n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/F1I11.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1I11.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","graphics","rectangles"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653301143,"post_id":72346845,"comment_id":127809683,"body_markdown":"Please explain your code and your problem in greater detail. You seem to be leaving out a bit of information.","body":"Please explain your code and your problem in greater detail. You seem to be leaving out a bit of information."},{"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"score":0,"creation_date":1653301365,"post_id":72346845,"comment_id":127809780,"body_markdown":"Sure, my code paints a frame with given size. Then it paints given rectangles in line and column in random color. Now I want to click on a single rectangle and change its color by spinning my mouse wheel.","body":"Sure, my code paints a frame with given size. Then it paints given rectangles in line and column in random color. Now I want to click on a single rectangle and change its color by spinning my mouse wheel."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653301409,"post_id":72346845,"comment_id":127809795,"body_markdown":"Please [edit] and improve the question itself. Tell even more.","body":"Please <a href=\"https://stackoverflow.com/posts/72346845/edit\">edit</a> and improve the question itself. Tell even more."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653303159,"post_id":72346845,"comment_id":127810433,"body_markdown":"You have a ... few problems. You really need to seperate the concept of your &quot;virtual&quot; and &quot;physical&quot; models.  That is, you have a &quot;virtual&quot; model which describes the number of rows and columns you&#39;d like to display and the &quot;physical&quot; model which describes the &quot;boxes&quot;, their position in the UI, the relationship back to the &quot;virtual&quot; model (row/column) and their color. Depending on if you want this size to be fixed or not will change the way that the physical model will be created. But from this, you can use the &quot;physical&quot; model to determine what&#39;s been clicked","body":"You have a ... few problems. You really need to seperate the concept of your &quot;virtual&quot; and &quot;physical&quot; models.  That is, you have a &quot;virtual&quot; model which describes the number of rows and columns you&#39;d like to display and the &quot;physical&quot; model which describes the &quot;boxes&quot;, their position in the UI, the relationship back to the &quot;virtual&quot; model (row/column) and their color. Depending on if you want this size to be fixed or not will change the way that the physical model will be created. But from this, you can use the &quot;physical&quot; model to determine what&#39;s been clicked"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653316442,"creation_date":1653316081,"answer_id":72350255,"question_id":72346845,"body_markdown":"# Introduction\r\n\r\nSince your code is not runnable, I went ahead and created an example GUI.  Here&#39;s the example GUI.\r\n\r\n[![Colored Rectangles 1][1]][1]\r\n\r\nHere&#39;s the example GUI after I changed a couple of colors.\r\n\r\n[![Colored Rectangles 2][2]][2]\r\n\r\n# Explanation\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][3] (MVC) pattern.  This pattern allows me to separate my code into small logical methods and lets me focus on one small part of the problem at a time.\r\n\r\nThe MVC pattern implies that you create the model first, then the view, then finally the controller.  You iterate between the model, view, and controller.  For this GUI, I created a basic model and added fields to the model as I went along.\r\n\r\nIn Swing, the MVC pattern means:\r\n\r\n- The view reads information from the model.\r\n- The view does not update the model.\r\n- The controller(s) update the model and repaint/revalidate the view.\r\n\r\nModel classes are plain Java getter/setter classes.  View classes use or extend Swing components.\r\n\r\nGenerally, each Swing action or listener acts as its own controller, responsible for its portion of the model and view.  There&#39;s not one controller class &quot;to rule them all&quot;.\r\n\r\nFor this application, I created two model classes, two view classes, and two mouse listener classes.\r\n\r\n## Model\r\n\r\nThe `ColorRectangle` class holds a background `Color` and a `java.awt.Rectangle` to hold the position and size of the rectangle.\r\n\r\nThe `ColoredRectanglesModel` class holds a two-dimensional array of `ColorRectangle` instances and an array of possible background colors.  This class creates the model that the view uses to create the GUI.\r\n\r\n## View\r\n\r\nThe `ColoredRectangles` class creates the `JFrame`.  This is a pretty standard `JFrame` setup, and it forms the start of almost all of my Swing applications.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][4].\r\n\r\nThe `DrawingPanel` class draws the rectangles.  Period.  Nothing else.  \r\n\r\nI override the `paintComponent` method.  The first call is to the `super.paintComponent` method, which draws the `JPanel` background and maintains the Swing paint chain.\r\n\r\n## Controller\r\n\r\nThe `RectangleListener` class lets the user select which rectangle will be modified.\r\n\r\nThe `ColorListener` class scrolls through the possible background colors using the mouse wheel.  \r\n\r\nNotice how simple both these classes are.  The heavy lifting is done by the model classes.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ColoredRectangles implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ColoredRectangles());\r\n    \t}\r\n    \t\r\n    \tprivate final ColoredRectanglesModel model;\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tpublic ColoredRectangles() {\r\n    \t\tthis.model = new ColoredRectanglesModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(this, model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Colored Rectangles&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final ColoredRectanglesModel model;\r\n    \t\t\r\n    \t\tpublic DrawingPanel(ColoredRectangles view, ColoredRectanglesModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setBackground(Color.BLACK);\r\n    \t\t\tthis.setPreferredSize(model.getDrawingDimension());\r\n    \t\t\tthis.addMouseListener(new RectangleListener(model));\r\n    \t\t\tthis.addMouseWheelListener(new ColorListener(view, model));\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\t\tg2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\r\n    \t\t\t\t\tRenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n    \t\t\tg2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,\r\n    \t\t\t\t\tRenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n    \t\t\t\r\n    \t\t\tColorRectangle[][] coloredRectangles = model.getColoredRectangles();\r\n    \t\t\tfor (int i = 0; i &lt; coloredRectangles.length; i++) {\r\n    \t\t\t\tfor (int j = 0; j &lt; coloredRectangles[i].length; j++) {\r\n    \t\t\t\t\tg2d.setColor(coloredRectangles[i][j].getBackgroundColor());\r\n    \t\t\t\t\tRectangle r = coloredRectangles[i][j].getRectangle();\r\n    \t\t\t\t\tg2d.fillRect(r.x, r.y, r.width, r.height);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class RectangleListener extends MouseAdapter {\r\n    \t\t\r\n    \t\tprivate final ColoredRectanglesModel model;\r\n    \r\n    \t\tpublic RectangleListener(ColoredRectanglesModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void mousePressed(MouseEvent event) {\r\n    \t\t\tmodel.setSelectedRectangle(event.getPoint());\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class ColorListener extends MouseAdapter {\r\n    \r\n    \t\tprivate final ColoredRectangles view;\r\n    \r\n    \t\tprivate final ColoredRectanglesModel model;\r\n    \r\n    \t\tpublic ColorListener(ColoredRectangles view,\r\n    \t\t\t\tColoredRectanglesModel model) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseWheelMoved(MouseWheelEvent event) {\r\n    \t\t\tif (model.getSelectedRectangle() != null) {\r\n    \t\t\t\tmodel.incrementColorIndex(event.getWheelRotation());\r\n    \t\t\t\tColorRectangle r = model.getSelectedRectangle();\r\n    \t\t\t\tr.setBackgroundColor(model.getCurrentColor());\r\n    \t\t\t\tview.repaint();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic class ColoredRectanglesModel {\r\n    \t\t\r\n    \t\tprivate int colorIndex;\r\n    \t\t\r\n    \t\tprivate final ColorRectangle[][] coloredRectangles;\r\n    \t\tprivate ColorRectangle selectedRectangle;\r\n    \t\t\r\n    \t\tprivate final Color[] colors;\r\n    \t\tprivate Color currentColor;\r\n    \t\t\r\n    \t\tprivate Dimension drawingDimension;\r\n    \t\t\r\n    \t\tprivate final Random random;\r\n    \t\t\r\n    \t\tpublic ColoredRectanglesModel() {\r\n    \t\t\tthis.colorIndex = 0;\r\n    \t\t\tthis.random = new Random();\r\n    \t\t\tthis.colors = generateColors();\r\n    \t\t\tthis.coloredRectangles = generateColoredRectangles();\r\n    \t\t\tthis.currentColor = colors[colorIndex];\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate Color[] generateColors() {\r\n    \t\t\treturn new Color[] { Color.BLUE, Color.CYAN, Color.LIGHT_GRAY,\r\n    \t\t\t\t\tColor.MAGENTA, Color.ORANGE, Color.PINK, Color.RED,\r\n    \t\t\t\t\tColor.WHITE, Color.YELLOW };\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate ColorRectangle[][] generateColoredRectangles() {\r\n    \t\t\tColorRectangle[][] coloredRectangles = new ColorRectangle[4][3];\r\n    \t\t\t\r\n    \t\t\tint x = 20;\r\n    \t\t\tint y = 20;\r\n    \t\t\tint width = 128;\r\n    \t\t\tint height = 128;\r\n    \t\t\tint maxWidth = 0;\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; coloredRectangles.length; i++) {\r\n    \t\t\t\tfor (int j = 0; j &lt; coloredRectangles[i].length; j++) {\r\n    \t\t\t\t\tint index = random.nextInt(colors.length);\r\n    \t\t\t\t\tColor color = colors[index];\r\n    \t\t\t\t\tcoloredRectangles[i][j] = new ColorRectangle(color, x, y,\r\n    \t\t\t\t\t\t\twidth, height);\r\n    \t\t\t\t\tx += width + 20;\r\n    \t\t\t\t}\r\n    \t\t\t\tmaxWidth = x;\r\n    \t\t\t\tx = 20;\r\n    \t\t\t\ty += height + 20;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tthis.drawingDimension = new Dimension(maxWidth, y);\r\n    \t\t\t\r\n    \t\t\treturn coloredRectangles;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void setSelectedRectangle(Point point) {\r\n    \t\t\tfor (int i = 0; i &lt; coloredRectangles.length; i++) {\r\n    \t\t\t\tfor (int j = 0; j &lt; coloredRectangles[i].length; j++) {\r\n    \t\t\t\t\tRectangle r = coloredRectangles[i][j].getRectangle();\r\n    \t\t\t\t\tif (r.x &lt;= point.x &amp;&amp; r.x + r.width &gt;= point.x\r\n    \t\t\t\t\t\t\t&amp;&amp; r.y &lt;= point.y &amp;&amp; r.y + r.height &gt;= point.y) {\r\n    \t\t\t\t\t\tthis.selectedRectangle = coloredRectangles[i][j];\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tthis.selectedRectangle = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void incrementColorIndex(int increment) {\r\n    \t\t\tcolorIndex += increment;\r\n    \t\t\tif (colorIndex &lt; 0) {\r\n    \t\t\t\tcolorIndex = colors.length + colorIndex;\r\n    \t\t\t} else {\r\n    \t\t\t\tcolorIndex %= colors.length;\r\n    \t\t\t}\r\n    \t\t\tthis.currentColor = colors[colorIndex];\r\n    \t\t}\r\n    \r\n    \t\tpublic ColorRectangle[][] getColoredRectangles() {\r\n    \t\t\treturn coloredRectangles;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getDrawingDimension() {\r\n    \t\t\treturn drawingDimension;\r\n    \t\t}\r\n    \r\n    \t\tpublic ColorRectangle getSelectedRectangle() {\r\n    \t\t\treturn selectedRectangle;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getCurrentColor() {\r\n    \t\t\treturn currentColor;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic class ColorRectangle {\r\n    \r\n    \t\tprivate Color backgroundColor;\r\n    \r\n    \t\tprivate final Rectangle rectangle;\r\n    \r\n    \t\tpublic ColorRectangle(Color backgroundColor, int x, int y, int width,\r\n    \t\t\t\tint height) {\r\n    \t\t\tthis.backgroundColor = backgroundColor;\r\n    \t\t\tthis.rectangle = new Rectangle(x, y, width, height);\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBackgroundColor(Color backgroundColor) {\r\n    \t\t\tthis.backgroundColor = backgroundColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Color getBackgroundColor() {\r\n    \t\t\treturn backgroundColor;\r\n    \t\t}\r\n    \r\n    \t\tpublic Rectangle getRectangle() {\r\n    \t\t\treturn rectangle;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/rWipG.png\r\n  [2]: https://i.stack.imgur.com/8fDv9.png\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n\r\n","title":"Change color of the rectangle which the mouse is in by using the mouse wheel","body":"<h1>Introduction</h1>\n<p>Since your code is not runnable, I went ahead and created an example GUI.  Here's the example GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/rWipG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWipG.png\" alt=\"Colored Rectangles 1\" /></a></p>\n<p>Here's the example GUI after I changed a couple of colors.</p>\n<p><a href=\"https://i.stack.imgur.com/8fDv9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8fDv9.png\" alt=\"Colored Rectangles 2\" /></a></p>\n<h1>Explanation</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern.  This pattern allows me to separate my code into small logical methods and lets me focus on one small part of the problem at a time.</p>\n<p>The MVC pattern implies that you create the model first, then the view, then finally the controller.  You iterate between the model, view, and controller.  For this GUI, I created a basic model and added fields to the model as I went along.</p>\n<p>In Swing, the MVC pattern means:</p>\n<ul>\n<li>The view reads information from the model.</li>\n<li>The view does not update the model.</li>\n<li>The controller(s) update the model and repaint/revalidate the view.</li>\n</ul>\n<p>Model classes are plain Java getter/setter classes.  View classes use or extend Swing components.</p>\n<p>Generally, each Swing action or listener acts as its own controller, responsible for its portion of the model and view.  There's not one controller class &quot;to rule them all&quot;.</p>\n<p>For this application, I created two model classes, two view classes, and two mouse listener classes.</p>\n<h2>Model</h2>\n<p>The <code>ColorRectangle</code> class holds a background <code>Color</code> and a <code>java.awt.Rectangle</code> to hold the position and size of the rectangle.</p>\n<p>The <code>ColoredRectanglesModel</code> class holds a two-dimensional array of <code>ColorRectangle</code> instances and an array of possible background colors.  This class creates the model that the view uses to create the GUI.</p>\n<h2>View</h2>\n<p>The <code>ColoredRectangles</code> class creates the <code>JFrame</code>.  This is a pretty standard <code>JFrame</code> setup, and it forms the start of almost all of my Swing applications.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>The <code>DrawingPanel</code> class draws the rectangles.  Period.  Nothing else.</p>\n<p>I override the <code>paintComponent</code> method.  The first call is to the <code>super.paintComponent</code> method, which draws the <code>JPanel</code> background and maintains the Swing paint chain.</p>\n<h2>Controller</h2>\n<p>The <code>RectangleListener</code> class lets the user select which rectangle will be modified.</p>\n<p>The <code>ColorListener</code> class scrolls through the possible background colors using the mouse wheel.</p>\n<p>Notice how simple both these classes are.  The heavy lifting is done by the model classes.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class ColoredRectangles implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ColoredRectangles());\n    }\n    \n    private final ColoredRectanglesModel model;\n    \n    private final DrawingPanel drawingPanel;\n    \n    public ColoredRectangles() {\n        this.model = new ColoredRectanglesModel();\n        this.drawingPanel = new DrawingPanel(this, model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Colored Rectangles&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n    \n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final ColoredRectanglesModel model;\n        \n        public DrawingPanel(ColoredRectangles view, ColoredRectanglesModel model) {\n            this.model = model;\n            this.setBackground(Color.BLACK);\n            this.setPreferredSize(model.getDrawingDimension());\n            this.addMouseListener(new RectangleListener(model));\n            this.addMouseWheelListener(new ColorListener(view, model));\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            Graphics2D g2d = (Graphics2D) g;\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                    RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n                    RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,\n                    RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            \n            ColorRectangle[][] coloredRectangles = model.getColoredRectangles();\n            for (int i = 0; i &lt; coloredRectangles.length; i++) {\n                for (int j = 0; j &lt; coloredRectangles[i].length; j++) {\n                    g2d.setColor(coloredRectangles[i][j].getBackgroundColor());\n                    Rectangle r = coloredRectangles[i][j].getRectangle();\n                    g2d.fillRect(r.x, r.y, r.width, r.height);\n                }\n            }\n        }\n        \n    }\n    \n    public class RectangleListener extends MouseAdapter {\n        \n        private final ColoredRectanglesModel model;\n\n        public RectangleListener(ColoredRectanglesModel model) {\n            this.model = model;\n        }\n        \n        @Override\n        public void mousePressed(MouseEvent event) {\n            model.setSelectedRectangle(event.getPoint());\n        }\n        \n    }\n    \n    public class ColorListener extends MouseAdapter {\n\n        private final ColoredRectangles view;\n\n        private final ColoredRectanglesModel model;\n\n        public ColorListener(ColoredRectangles view,\n                ColoredRectanglesModel model) {\n            this.view = view;\n            this.model = model;\n        }\n\n        @Override\n        public void mouseWheelMoved(MouseWheelEvent event) {\n            if (model.getSelectedRectangle() != null) {\n                model.incrementColorIndex(event.getWheelRotation());\n                ColorRectangle r = model.getSelectedRectangle();\n                r.setBackgroundColor(model.getCurrentColor());\n                view.repaint();\n            }\n        }\n\n    }\n    \n    public class ColoredRectanglesModel {\n        \n        private int colorIndex;\n        \n        private final ColorRectangle[][] coloredRectangles;\n        private ColorRectangle selectedRectangle;\n        \n        private final Color[] colors;\n        private Color currentColor;\n        \n        private Dimension drawingDimension;\n        \n        private final Random random;\n        \n        public ColoredRectanglesModel() {\n            this.colorIndex = 0;\n            this.random = new Random();\n            this.colors = generateColors();\n            this.coloredRectangles = generateColoredRectangles();\n            this.currentColor = colors[colorIndex];\n        }\n        \n        private Color[] generateColors() {\n            return new Color[] { Color.BLUE, Color.CYAN, Color.LIGHT_GRAY,\n                    Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED,\n                    Color.WHITE, Color.YELLOW };\n        }\n        \n        private ColorRectangle[][] generateColoredRectangles() {\n            ColorRectangle[][] coloredRectangles = new ColorRectangle[4][3];\n            \n            int x = 20;\n            int y = 20;\n            int width = 128;\n            int height = 128;\n            int maxWidth = 0;\n            \n            for (int i = 0; i &lt; coloredRectangles.length; i++) {\n                for (int j = 0; j &lt; coloredRectangles[i].length; j++) {\n                    int index = random.nextInt(colors.length);\n                    Color color = colors[index];\n                    coloredRectangles[i][j] = new ColorRectangle(color, x, y,\n                            width, height);\n                    x += width + 20;\n                }\n                maxWidth = x;\n                x = 20;\n                y += height + 20;\n            }\n            \n            this.drawingDimension = new Dimension(maxWidth, y);\n            \n            return coloredRectangles;\n        }\n        \n        public void setSelectedRectangle(Point point) {\n            for (int i = 0; i &lt; coloredRectangles.length; i++) {\n                for (int j = 0; j &lt; coloredRectangles[i].length; j++) {\n                    Rectangle r = coloredRectangles[i][j].getRectangle();\n                    if (r.x &lt;= point.x &amp;&amp; r.x + r.width &gt;= point.x\n                            &amp;&amp; r.y &lt;= point.y &amp;&amp; r.y + r.height &gt;= point.y) {\n                        this.selectedRectangle = coloredRectangles[i][j];\n                        return;\n                    }\n                }\n            }\n\n            this.selectedRectangle = null;\n        }\n        \n        public void incrementColorIndex(int increment) {\n            colorIndex += increment;\n            if (colorIndex &lt; 0) {\n                colorIndex = colors.length + colorIndex;\n            } else {\n                colorIndex %= colors.length;\n            }\n            this.currentColor = colors[colorIndex];\n        }\n\n        public ColorRectangle[][] getColoredRectangles() {\n            return coloredRectangles;\n        }\n\n        public Dimension getDrawingDimension() {\n            return drawingDimension;\n        }\n\n        public ColorRectangle getSelectedRectangle() {\n            return selectedRectangle;\n        }\n\n        public Color getCurrentColor() {\n            return currentColor;\n        }\n\n    }\n    \n    public class ColorRectangle {\n\n        private Color backgroundColor;\n\n        private final Rectangle rectangle;\n\n        public ColorRectangle(Color backgroundColor, int x, int y, int width,\n                int height) {\n            this.backgroundColor = backgroundColor;\n            this.rectangle = new Rectangle(x, y, width, height);\n        }\n\n        public void setBackgroundColor(Color backgroundColor) {\n            this.backgroundColor = backgroundColor;\n        }\n\n        public Color getBackgroundColor() {\n            return backgroundColor;\n        }\n\n        public Rectangle getRectangle() {\n            return rectangle;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72350255,"answer_count":1,"score":-1,"last_activity_date":1653316442,"creation_date":1653300933,"question_id":72346845,"body_markdown":"Sorry for posting my whole code but this way you can check my problem easier, no?\r\n```\r\npackage task3;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseWheelEvent;\r\nimport java.awt.event.MouseWheelListener;\r\nimport javax.swing.*;\r\n\r\nclass Model {\r\n\t\r\n\tint l; //line\r\n    int c; //column\r\n    int[] loc = {0,0}; //location\r\n    JFrame frame;\r\n\tint m_width;\r\n\tint m_height;\r\n\tint R;\r\n\tint G;\r\n\tint B;\r\n\tint count;\r\n\tint mY;\r\n\tint x, y;\r\n\tRectangle rect;\r\n\t\r\n\t\r\n\tint genR() {\r\n\tint R = (int)(Math.random()*256);\r\n\t\treturn R;\r\n\t}\r\n\tint genG() {\r\n\t\tint G = (int)(Math.random()*256); \r\n\t\treturn G;\r\n\t}\r\n\tint genB() {\r\n\t\tint B = (int)(Math.random()*256);\r\n\t\treturn B;\r\n\t}\r\n\t\r\n\tpublic int getRectWidth() {\r\n        return frame.getContentPane().getWidth() / c;\r\n    }\r\n    public int getRectHeight() {\r\n        return frame.getContentPane().getHeight() / l;\r\n    }\r\n    \r\n    \r\n\tModel(int width, int height, int line, int column, JFrame w) {\r\n\t\tm_width = width;\r\n\t\tm_height = height;\r\n\t\tl = line;\r\n\t\tc = column;\r\n\t\tframe = w;\r\n\t}\r\n}\r\n\r\nclass Mvl extends JComponent implements MouseWheelListener {\r\n\t\r\n\tprivate Model m_Mod;\r\n\t\r\n\tMvl(Model mod) {\r\n\t\tm_Mod = mod;\r\n\t}\r\n\tpublic void mouseWheelMoved(MouseWheelEvent e) {\r\n\t\t//m_Mod.mY += e.getWheelRotation();\r\n\t\t//m_Mod.mY += e.getUnitsToScroll();\r\n\t\tSystem.out.print(m_Mod.rect.getSize());\r\n\t\tm_Mod.frame.repaint();\r\n\t\t//int x = e.getXOnScreen();\r\n\t\t//int y = e.getYOnScreen();\r\n\t    //int x = e.getX();\r\n\t    //int y = e.getY();\r\n\r\n\t   \r\n\t     //RectangleComponent rc = new RectangleComponent(x, y);\r\n\t     //m_Mod.frame.add(rc);\r\n\t     //m_Mod.frame.revalidate();\r\n\t}\r\n}\r\n\r\nclass Reactmouse implements MouseListener { //Print size of rectangle //Implement all methods otherwise abstract class\r\n\t\r\n\tprivate Model m_Mod;\r\n\t\r\n\tReactmouse(Model mod) {\r\n\t\tm_Mod = mod;\r\n\t}\r\n\t\r\n\tpublic void mouseClicked(MouseEvent e) { \r\n\t\t//System.out.println(++m_Mod.count + &quot;  &quot; + &quot;Width: &quot; + m_Mod.getRectWidth() + &quot;  &quot; + &quot;Height: &quot; +\r\n\t\t//m_Mod.getRectWidth() + &quot; Position X-Axis: &quot; + m_Mod.loc[0] + &quot;Position Y-Axis: &quot; + m_Mod.loc[1]);\r\n\t\tSystem.out.println(&quot;Position on X-Axis:&quot; + e.getX() + &quot; &quot; + &quot;Position on Y-Axis: &quot;+  e.getY()); \r\n\t\t//Cords of the click, in the rectangle\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\t\r\n\t\t\r\n\t}\r\n}\r\n\r\nclass View extends JComponent {\r\n\t\r\n\tprivate Model m_Mod;\r\n\r\n\tView(Model mod) {\r\n\t\tm_Mod = mod;\r\n\t}\r\n\tpublic void draw(Graphics g) {\r\n\t\tColor c = new Color(m_Mod.genR(), m_Mod.genG(), m_Mod.genB());\r\n\t\tg.setColor(c);\r\n\t\tg.fillRect(m_Mod.loc[0], m_Mod.loc[1], m_Mod.getRectWidth(), m_Mod.getRectHeight());\r\n\t\tm_Mod.rect = g.getClipBounds(); \r\n\t}\r\n```\r\nHere I ask for the size&#39;s Dimension but I need the rectangle&#39;s size\r\n\r\n```\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\r\n\t\tfor(int i=0; i&lt;m_Mod.l; ++i) {\r\n\t\t\tfor(int j=0; j&lt;m_Mod.c; ++j) {\r\n            \t\r\n              draw(g);  \r\n              m_Mod.loc[0] = m_Mod.loc[0] + m_Mod.getRectWidth() + 2;\r\n              \r\n             }\r\n            \r\n            m_Mod.loc[0] = 0;\r\n            m_Mod.loc[1] = m_Mod.loc[1] + m_Mod.getRectHeight() + 2;\r\n        }\r\n\t\tm_Mod.loc[1] = 0;\r\n    }\r\n}\r\nclass Controller extends JFrame{\r\n\t\r\n\tprivate Model m_Mod;\r\n\tprivate View m_View;\r\n\t\r\n\t\r\n\t\tController(){\r\n\t\t\t\t\r\n\t\t\t\tJFrame window = new JFrame();\r\n\t\t\t\tm_Mod = new Model(500,500,8,8, window);\r\n\t\t\t\tm_View = new View(m_Mod);\r\n\t\t\t    Image icon = window.getToolkit().getImage(&quot;C:\\\\Users\\\\49157\\\\eclipse-workspace\\\\Programmierung\\\\src\\\\task3\\\\download.png&quot;);\r\n\t\t\t    window.setIconImage(icon);\r\n\t\t\t    window.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\r\n\t\t\t\twindow.add(m_View);\r\n\t\t\t\twindow.setSize(m_Mod.m_width,m_Mod.m_height);\r\n\t\t\t\t//window.add(new myButton());\r\n\t\t\t\twindow.addMouseWheelListener(new Mvl(m_Mod));\r\n\t\t\t\twindow.addMouseListener(new Reactmouse(m_Mod));\r\n\t\t\t\twindow.setLocationRelativeTo(null);\r\n\t\t\t\twindow.setVisible(true);\r\n\t\t\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\r\n\t\t}\r\n\t\tvoid simulate(){\r\n\t\t\tm_View.repaint();\r\n\t\t}\r\n\t\t\r\n}\r\npublic class task3 {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\t\r\n\t\t\tController c = new Controller();\t\r\n\t\t\tc.simulate();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```\r\nOkay so I can redraw the whole frame with my mousewheel but I can not redraw single rectangles drawed here. How do I do that? \r\n\r\nThe main problem is that I cannot ask for the x and y coords of my drawed rectangles. Any ideas?\r\n","title":"Change color of the rectangle which the mouse is in by using the mouse wheel","body":"<p>Sorry for posting my whole code but this way you can check my problem easier, no?</p>\n<pre><code>package task3;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport javax.swing.*;\n\nclass Model {\n    \n    int l; //line\n    int c; //column\n    int[] loc = {0,0}; //location\n    JFrame frame;\n    int m_width;\n    int m_height;\n    int R;\n    int G;\n    int B;\n    int count;\n    int mY;\n    int x, y;\n    Rectangle rect;\n    \n    \n    int genR() {\n    int R = (int)(Math.random()*256);\n        return R;\n    }\n    int genG() {\n        int G = (int)(Math.random()*256); \n        return G;\n    }\n    int genB() {\n        int B = (int)(Math.random()*256);\n        return B;\n    }\n    \n    public int getRectWidth() {\n        return frame.getContentPane().getWidth() / c;\n    }\n    public int getRectHeight() {\n        return frame.getContentPane().getHeight() / l;\n    }\n    \n    \n    Model(int width, int height, int line, int column, JFrame w) {\n        m_width = width;\n        m_height = height;\n        l = line;\n        c = column;\n        frame = w;\n    }\n}\n\nclass Mvl extends JComponent implements MouseWheelListener {\n    \n    private Model m_Mod;\n    \n    Mvl(Model mod) {\n        m_Mod = mod;\n    }\n    public void mouseWheelMoved(MouseWheelEvent e) {\n        //m_Mod.mY += e.getWheelRotation();\n        //m_Mod.mY += e.getUnitsToScroll();\n        System.out.print(m_Mod.rect.getSize());\n        m_Mod.frame.repaint();\n        //int x = e.getXOnScreen();\n        //int y = e.getYOnScreen();\n        //int x = e.getX();\n        //int y = e.getY();\n\n       \n         //RectangleComponent rc = new RectangleComponent(x, y);\n         //m_Mod.frame.add(rc);\n         //m_Mod.frame.revalidate();\n    }\n}\n\nclass Reactmouse implements MouseListener { //Print size of rectangle //Implement all methods otherwise abstract class\n    \n    private Model m_Mod;\n    \n    Reactmouse(Model mod) {\n        m_Mod = mod;\n    }\n    \n    public void mouseClicked(MouseEvent e) { \n        //System.out.println(++m_Mod.count + &quot;  &quot; + &quot;Width: &quot; + m_Mod.getRectWidth() + &quot;  &quot; + &quot;Height: &quot; +\n        //m_Mod.getRectWidth() + &quot; Position X-Axis: &quot; + m_Mod.loc[0] + &quot;Position Y-Axis: &quot; + m_Mod.loc[1]);\n        System.out.println(&quot;Position on X-Axis:&quot; + e.getX() + &quot; &quot; + &quot;Position on Y-Axis: &quot;+  e.getY()); \n        //Cords of the click, in the rectangle\n    }\n    \n    @Override\n    public void mousePressed(MouseEvent e) {\n        \n    }\n    @Override\n    public void mouseReleased(MouseEvent e) {\n            \n    }\n    @Override\n    public void mouseEntered(MouseEvent e) {\n            \n    }\n    @Override\n    public void mouseExited(MouseEvent e) { \n        \n    }\n}\n\nclass View extends JComponent {\n    \n    private Model m_Mod;\n\n    View(Model mod) {\n        m_Mod = mod;\n    }\n    public void draw(Graphics g) {\n        Color c = new Color(m_Mod.genR(), m_Mod.genG(), m_Mod.genB());\n        g.setColor(c);\n        g.fillRect(m_Mod.loc[0], m_Mod.loc[1], m_Mod.getRectWidth(), m_Mod.getRectHeight());\n        m_Mod.rect = g.getClipBounds(); \n    }\n</code></pre>\n<p>Here I ask for the size's Dimension but I need the rectangle's size</p>\n<pre><code>    @Override\n    protected void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n    \n        for(int i=0; i&lt;m_Mod.l; ++i) {\n            for(int j=0; j&lt;m_Mod.c; ++j) {\n                \n              draw(g);  \n              m_Mod.loc[0] = m_Mod.loc[0] + m_Mod.getRectWidth() + 2;\n              \n             }\n            \n            m_Mod.loc[0] = 0;\n            m_Mod.loc[1] = m_Mod.loc[1] + m_Mod.getRectHeight() + 2;\n        }\n        m_Mod.loc[1] = 0;\n    }\n}\nclass Controller extends JFrame{\n    \n    private Model m_Mod;\n    private View m_View;\n    \n    \n        Controller(){\n                \n                JFrame window = new JFrame();\n                m_Mod = new Model(500,500,8,8, window);\n                m_View = new View(m_Mod);\n                Image icon = window.getToolkit().getImage(&quot;C:\\\\Users\\\\49157\\\\eclipse-workspace\\\\Programmierung\\\\src\\\\task3\\\\download.png&quot;);\n                window.setIconImage(icon);\n                window.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\n                window.add(m_View);\n                window.setSize(m_Mod.m_width,m_Mod.m_height);\n                //window.add(new myButton());\n                window.addMouseWheelListener(new Mvl(m_Mod));\n                window.addMouseListener(new Reactmouse(m_Mod));\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n                window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                \n        }\n        void simulate(){\n            m_View.repaint();\n        }\n        \n}\npublic class task3 {\n\n    public static void main(String[] args) throws Exception {\n            \n            Controller c = new Controller();    \n            c.simulate();\n            \n        }\n    }\n</code></pre>\n<p>Okay so I can redraw the whole frame with my mousewheel but I can not redraw single rectangles drawed here. How do I do that?</p>\n<p>The main problem is that I cannot ask for the x and y coords of my drawed rectangles. Any ideas?</p>\n"},{"tags":["java","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653316097,"post_id":72350042,"comment_id":127815745,"body_markdown":"&quot;I have tried multiple ways&quot; isn&#39;t a useful problem description. Thing is: you &quot;simply&quot; have to follow the relevant rules when using powermock(ito) to mock static methods.  See https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object for example","body":"&quot;I have tried multiple ways&quot; isn&#39;t a useful problem description. Thing is: you &quot;simply&quot; have to follow the relevant rules when using powermock(ito) to mock static methods.  See <a href=\"https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object\" title=\"powermockito mock single static method and return object\">stackoverflow.com/questions/10583202/&hellip;</a> for example"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653316159,"post_id":72350042,"comment_id":127815772,"body_markdown":"Meaning: whatever you tried, you have to INCLUDE it in your request. But as said, the real answer for you is to step back: and carefully research the existing documentation. Make sure you have the &quot;right&quot; classes in your `@PrepareForTest` clause for example.","body":"Meaning: whatever you tried, you have to INCLUDE it in your request. But as said, the real answer for you is to step back: and carefully research the existing documentation. Make sure you have the &quot;right&quot; classes in your <code>@PrepareForTest</code> clause for example."},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1653316539,"post_id":72350042,"comment_id":127815941,"body_markdown":"@GhostCat i have included PrepareForTest on my test class, if we dont define it will throw different error  right.","body":"@GhostCat i have included PrepareForTest on my test class, if we dont define it will throw different error  right."},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1653316566,"post_id":72350042,"comment_id":127815952,"body_markdown":"i just update my question with @PrepareTest","body":"i just update my question with @PrepareTest"},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1653316742,"post_id":72350042,"comment_id":127816030,"body_markdown":"here my response(of HttpResponse) object is initialized with null. i looked at https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object link. if the method directly return it would have been bit easy","body":"here my response(of HttpResponse) object is initialized with null. i looked at <a href=\"https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object\" title=\"powermockito mock single static method and return object\">stackoverflow.com/questions/10583202/&hellip;</a> link. if the method directly return it would have been bit easy"}],"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653316395,"creation_date":1653315167,"question_id":72350042,"body_markdown":"I have tried multiple ways to mock HttpResponse(custom class not related to any library) object but it&#39;s not mocking. Below is my code. please suggest if mistake. or any other suggestions to respond.\r\n\r\n**Note: I can&#39;t modify or write any factory method or any extra stuff on my MyClass**\r\n\r\n    Class MyClass{\r\n     public void methodtoTest(ListOfObjects obj){\r\n       HttpResponse response = null;\r\n       response = HttpOperationHelper.executeHttpPostResponse(client, uri, heade, postBoday);\r\n       if(response.getStatusCode() == 200){\r\n         //some code is there\r\n      }\r\n    }\r\n\r\n**HttpOperationHelper is helper class in the project and executeHttpPostResponse is static method.**\r\n\r\n    @PrepareForTest(HttpOperationHelper.class)\r\n    Class MyClassTest{\r\n      HttpResponse response = Mockito.mock(HttpResponse.class);\r\n      response = HttpResponse.getInstance(200, &quot;body&quot;);\r\n      Powermockito.mockStatic(HttpOperationHelper.class);\r\n      Mockit.when(HttpOperationHelper.executeHttpPostResponse(anyObject(), anyObject(), anyObject(), anyString())).thenReturn(response);\r\n    }","title":"How to mock method local variable in testmethod","body":"<p>I have tried multiple ways to mock HttpResponse(custom class not related to any library) object but it's not mocking. Below is my code. please suggest if mistake. or any other suggestions to respond.</p>\n<p><strong>Note: I can't modify or write any factory method or any extra stuff on my MyClass</strong></p>\n<pre><code>Class MyClass{\n public void methodtoTest(ListOfObjects obj){\n   HttpResponse response = null;\n   response = HttpOperationHelper.executeHttpPostResponse(client, uri, heade, postBoday);\n   if(response.getStatusCode() == 200){\n     //some code is there\n  }\n}\n</code></pre>\n<p><strong>HttpOperationHelper is helper class in the project and executeHttpPostResponse is static method.</strong></p>\n<pre><code>@PrepareForTest(HttpOperationHelper.class)\nClass MyClassTest{\n  HttpResponse response = Mockito.mock(HttpResponse.class);\n  response = HttpResponse.getInstance(200, &quot;body&quot;);\n  Powermockito.mockStatic(HttpOperationHelper.class);\n  Mockit.when(HttpOperationHelper.executeHttpPostResponse(anyObject(), anyObject(), anyObject(), anyString())).thenReturn(response);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653303801,"creation_date":1653303801,"answer_id":72347478,"question_id":72346969,"body_markdown":"On Android 11+, you do not have access to files placed in `Downloads/` by other apps, when using filesystem APIs [or `MediaStore`](https://commonsware.com/blog/2020/01/11/scoped-storage-stories-diabolical-details-downloads.html).\r\n\r\nInstead, you could use `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument`. That will let the user place the file wherever the user wants. ","title":"java.nio.file.AccessDeniedException with android studio when creating an app but no issues with only java in eclipse","body":"<p>On Android 11+, you do not have access to files placed in <code>Downloads/</code> by other apps, when using filesystem APIs <a href=\"https://commonsware.com/blog/2020/01/11/scoped-storage-stories-diabolical-details-downloads.html\" rel=\"nofollow noreferrer\">or <code>MediaStore</code></a>.</p>\n<p>Instead, you could use <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code>. That will let the user place the file wherever the user wants.</p>\n"}],"owner":{"account_id":3226600,"reputation":13,"user_id":2987530,"display_name":"jav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653316133,"creation_date":1653301469,"question_id":72346969,"body_markdown":"This code works with no issue in java reading the file in my laptop, but when I am trying to create the app with Android studio, v 9.0, so far the app cannot read this file located in my phone.\r\n\r\n    String thePath = String.valueOf(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)); \r\nPath fileLocation = Paths.get( thePath + &quot;/v.txt&quot;);\r\n\r\nso fileLocation is being passed as parameter to this method:\r\n\r\n    public void mainOperation(Path fileLocation) throws IOException {\r\n     if (!Files.exists(fileLocation)) {\r\n         System.out.println(&quot;File Doesn’t exist. Exiting…&quot;);\r\n         System.exit(1);\r\n     }\r\n        StringBuilder mysb = new StringBuilder();\r\n        // problem is when trying to read the file, in the below line\r\n        for (String str : Files.readAllLines(fileLocation, Charset.defaultCharset())) {\r\n            System.out.println(&quot;reading....&quot;);\r\n            mysb.append(str);\r\n            mysb.append(&quot;;&quot;);\r\n\r\n            if (str.contains(END_VCARD)) {\r\n\r\n                System.out.println(startProcess(mysb.toString()));\r\n                mysb = new StringBuilder();\r\n            }\r\n        }\r\n    }\r\n\r\n   \r\n\r\nwhen I debug the app, I see that the error is coming from here in MainActivity.java:\r\n\r\n    binding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n            ProcessVcard myprocessVcard = new ProcessVcard();\r\n            String thePath = \r\nString.valueOf(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS))\r\n\r\n    Path fileLocation = Paths.get( thePath + &quot;/v.txt&quot;);\r\n            try {\r\n                myprocessVcard.mainOperation(fileLocation);\r\n            } catch (IOException e) {\r\n                e.getCause(); // \r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n       \r\n\r\nand IOException is caught with the following error: java.nio.file.AccessDeniedException: /storage/emulated/0/Download/v.txt\r\n\r\nI did add uses-permission in AndroidManifest.xml file:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.app4&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;application\r\n\r\nI also tried the option of clean project but so far no joy.\r\n\r\nv.txt can be opened in my mobile.\r\nAlso, please see the view from Device File Explore in Android Studio:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a0Uhz.png\r\n\r\nAny advice? \r\n\r\nMany thanks","title":"java.nio.file.AccessDeniedException with android studio when creating an app but no issues with only java in eclipse","body":"<p>This code works with no issue in java reading the file in my laptop, but when I am trying to create the app with Android studio, v 9.0, so far the app cannot read this file located in my phone.</p>\n<pre><code>String thePath = String.valueOf(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)); \n</code></pre>\n<p>Path fileLocation = Paths.get( thePath + &quot;/v.txt&quot;);</p>\n<p>so fileLocation is being passed as parameter to this method:</p>\n<pre><code>public void mainOperation(Path fileLocation) throws IOException {\n if (!Files.exists(fileLocation)) {\n     System.out.println(&quot;File Doesn’t exist. Exiting…&quot;);\n     System.exit(1);\n }\n    StringBuilder mysb = new StringBuilder();\n    // problem is when trying to read the file, in the below line\n    for (String str : Files.readAllLines(fileLocation, Charset.defaultCharset())) {\n        System.out.println(&quot;reading....&quot;);\n        mysb.append(str);\n        mysb.append(&quot;;&quot;);\n\n        if (str.contains(END_VCARD)) {\n\n            System.out.println(startProcess(mysb.toString()));\n            mysb = new StringBuilder();\n        }\n    }\n}\n</code></pre>\n<p>when I debug the app, I see that the error is coming from here in MainActivity.java:</p>\n<pre><code>binding.fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n        ProcessVcard myprocessVcard = new ProcessVcard();\n        String thePath = \n</code></pre>\n<p>String.valueOf(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS))</p>\n<pre><code>Path fileLocation = Paths.get( thePath + &quot;/v.txt&quot;);\n        try {\n            myprocessVcard.mainOperation(fileLocation);\n        } catch (IOException e) {\n            e.getCause(); // \n            e.printStackTrace();\n        }\n\n\n   \n</code></pre>\n<p>and IOException is caught with the following error: java.nio.file.AccessDeniedException: /storage/emulated/0/Download/v.txt</p>\n<p>I did add uses-permission in AndroidManifest.xml file:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.example.app4&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;application\n</code></pre>\n<p>I also tried the option of clean project but so far no joy.</p>\n<p>v.txt can be opened in my mobile.\nAlso, please see the view from Device File Explore in Android Studio:\n<a href=\"https://i.stack.imgur.com/a0Uhz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a0Uhz.png\" alt=\"enter image description here\" /></a></p>\n<p>Any advice?</p>\n<p>Many thanks</p>\n"},{"tags":["java","visual-studio-code","lombok"],"answers":[{"tags":[],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1554137026,"creation_date":1554137026,"answer_id":55459908,"question_id":55458493,"body_markdown":"Seems like my issue was loading the 3 projects into my workspace before installing the Lombok plugin.  I have removed the projects from my workspace and opened them again and the errors are gone.","title":"Lombok-related errors on Visual Studio Code with the extension installed","body":"<p>Seems like my issue was loading the 3 projects into my workspace before installing the Lombok plugin.  I have removed the projects from my workspace and opened them again and the errors are gone.</p>\n"},{"tags":[],"owner":{"account_id":1316862,"reputation":201,"user_id":1263512,"accept_rate":80,"display_name":"hendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633924732,"creation_date":1633924732,"answer_id":69520878,"question_id":55458493,"body_markdown":"here the other way to clean the getter/setter errors :\r\n - under **&quot;Java Projects&quot;** section -&gt; click &quot;**...**&quot; \r\n - Click **&quot;Clean Workspace&quot;** \r\n - wait the clean up process \r\n\r\nit will reload the code and no more getter/setter errors ","title":"Lombok-related errors on Visual Studio Code with the extension installed","body":"<p>here the other way to clean the getter/setter errors :</p>\n<ul>\n<li>under <strong>&quot;Java Projects&quot;</strong> section -&gt; click &quot;<strong>...</strong>&quot;</li>\n<li>Click <strong>&quot;Clean Workspace&quot;</strong></li>\n<li>wait the clean up process</li>\n</ul>\n<p>it will reload the code and no more getter/setter errors</p>\n"},{"tags":[],"owner":{"account_id":11199374,"reputation":1,"user_id":8216985,"display_name":"Simon1729"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653315596,"creation_date":1653315596,"answer_id":72350137,"question_id":55458493,"body_markdown":"The above works but of course make sure you have the VS Code lombok plugin installed.\r\n\r\n1. press Ctrl + Shift + X to open the extension manager.\r\n2. Type lombok to find the plugin, and click install.\r\n3. Reload VS Code.","title":"Lombok-related errors on Visual Studio Code with the extension installed","body":"<p>The above works but of course make sure you have the VS Code lombok plugin installed.</p>\n<ol>\n<li>press Ctrl + Shift + X to open the extension manager.</li>\n<li>Type lombok to find the plugin, and click install.</li>\n<li>Reload VS Code.</li>\n</ol>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5577,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":55459908,"answer_count":3,"score":11,"last_activity_date":1653315596,"creation_date":1554132009,"question_id":55458493,"body_markdown":"I have decided I had enough of Eclipse&#39;s slowness and just moved everything to VSCode. I installed the java extension package as well as the Lombok extension.\r\n\r\nMy project worked perfectly fine in Eclipse and, although it does **run** fine, VSCode is finding _thousands_ of errors obviously related to not finding the getter/setter methods that Lombok generates. My solution consists of two projects that both depend on a class library (the third project) which has a dependency for Lombok registered.  \r\n\r\nHow can I get rid of these errors / make Lombok work properly in VSCode?","title":"Lombok-related errors on Visual Studio Code with the extension installed","body":"<p>I have decided I had enough of Eclipse's slowness and just moved everything to VSCode. I installed the java extension package as well as the Lombok extension.</p>\n\n<p>My project worked perfectly fine in Eclipse and, although it does <strong>run</strong> fine, VSCode is finding <em>thousands</em> of errors obviously related to not finding the getter/setter methods that Lombok generates. My solution consists of two projects that both depend on a class library (the third project) which has a dependency for Lombok registered.  </p>\n\n<p>How can I get rid of these errors / make Lombok work properly in VSCode?</p>\n"},{"tags":["java","garbage-collection","g1gc"],"answers":[{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1653315216,"creation_date":1351739212,"answer_id":13170391,"question_id":13129030,"body_markdown":"I suppose you know about [this reference][1]. [This page][2] is also useful.  \r\n\r\nFull GC&#39;s occur when tenured objects - those that survive collection in the ephemeral (young) generation - fill up the space allocated for them.  When a full GC occurs, any ephemeral marking that was in progress must be aborted.  \r\n\r\nDecreasing the rate at which the tenured generation fills up requires either adding more heap/RAM or fiddling with the division of available memory between tenured and young spaces.  The parameters `NewSize`, `MaxNewSize` and `NewRatio` are for the latter.  Experiment is the only way to find what will work.\r\n\r\nCommon wisdom is that shifting the ratio to make the tenured generation bigger decreases the number of full collections.  In many cases this is true, but not always.  There is a condition where many tenured objects are becoming dead shortly after they&#39;re tenured.  In other words, they should have been collected in the young area, but their life ended a bit too late for that.  In this case making the young generation bigger allows these objects to be collected there rather than being tenured.  A symptom of this is full collection causing a big decrease in allocated space.  \r\n\r\nThat doesn&#39;t seem to be your case: `2978M-&gt;2498M`.  Your only out may be to make the heap bigger, buying more memory as needed.  Still, nearly all systems that run a long time will have a full collection once in a while.  \r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\r\n  [2]: https://javabeat.net/g1-garbage-collector-in-java-7-0/","title":"What causes the G1 garbage collector in Java 7 to abort its concurrent-mark phase?","body":"<p>I suppose you know about <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">this reference</a>. <a href=\"https://javabeat.net/g1-garbage-collector-in-java-7-0/\" rel=\"nofollow noreferrer\">This page</a> is also useful.</p>\n<p>Full GC's occur when tenured objects - those that survive collection in the ephemeral (young) generation - fill up the space allocated for them.  When a full GC occurs, any ephemeral marking that was in progress must be aborted.</p>\n<p>Decreasing the rate at which the tenured generation fills up requires either adding more heap/RAM or fiddling with the division of available memory between tenured and young spaces.  The parameters <code>NewSize</code>, <code>MaxNewSize</code> and <code>NewRatio</code> are for the latter.  Experiment is the only way to find what will work.</p>\n<p>Common wisdom is that shifting the ratio to make the tenured generation bigger decreases the number of full collections.  In many cases this is true, but not always.  There is a condition where many tenured objects are becoming dead shortly after they're tenured.  In other words, they should have been collected in the young area, but their life ended a bit too late for that.  In this case making the young generation bigger allows these objects to be collected there rather than being tenured.  A symptom of this is full collection causing a big decrease in allocated space.</p>\n<p>That doesn't seem to be your case: <code>2978M-&gt;2498M</code>.  Your only out may be to make the heap bigger, buying more memory as needed.  Still, nearly all systems that run a long time will have a full collection once in a while.</p>\n"}],"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4101,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":13170391,"answer_count":1,"score":14,"last_activity_date":1653315216,"creation_date":1351542080,"question_id":13129030,"body_markdown":"I&#39;ve noticed occasional full GC&#39;s in my application using the G1 garbage collector, and am trying to figure out why they happen. \r\n\r\nThe cycle from one region-scan-start to the next is excerpted below.  At 61807.406, a full GC is logged, followed by an entry for concurrent-mark-abort.  What I want to know is why the GC felt the need to do a full, stop-the-world, garbage collection and how I can avoid it.  \r\n\r\nNote that [this question][1] appears to have been asked before on the OpenJDK mailing list, with no responses.\r\n\r\nI&#39;ve trimmed the details of the young GCs for brevity, but I can post the full chunk somewhere if needed.\r\n\r\n\r\n    61805.878: [GC concurrent-root-region-scan-start]\r\n    61805.882: [GC concurrent-root-region-scan-end, 0.0033586]\r\n    61805.882: [GC concurrent-mark-start]\r\n    61806.133: [GC pause (young), 0.02836202 secs]\r\n       [Eden: 498M(498M)-&gt;0B(478M) Survivors: 14M-&gt;34M Heap: 3025M(4096M)-&gt;2548M(4096M)]\r\n     [Times: user=0.19 sys=0.00, real=0.03 secs] \r\n    61806.426: [GC pause (young), 0.02766222 secs]\r\n       [Eden: 478M(478M)-&gt;0B(480M) Survivors: 34M-&gt;32M Heap: 3050M(4096M)-&gt;2576M(4096M)]\r\n     [Times: user=0.19 sys=0.00, real=0.03 secs] \r\n    61806.717: [GC pause (young), 0.02214895 secs]\r\n       [Eden: 480M(480M)-&gt;0B(502M) Survivors: 32M-&gt;10M Heap: 3056M(4096M)-&gt;2571M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.02 secs] \r\n    61807.000: [GC pause (young), 0.01899188 secs]\r\n       [Eden: 502M(502M)-&gt;0B(502M) Survivors: 10M-&gt;10M Heap: 3074M(4096M)-&gt;2573M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.02 secs] \r\n    61807.201: [GC pause (young), 0.02619259 secs]\r\n       [Eden: 162M(502M)-&gt;0B(500M) Survivors: 10M-&gt;12M Heap: 3036M(4096M)-&gt;2876M(4096M)]\r\n     [Times: user=0.11 sys=0.00, real=0.03 secs] \r\n    61807.283: [GC pause (young), 0.02068515 secs]\r\n       [Eden: 102M(500M)-&gt;0B(500M) Survivors: 12M-&gt;12M Heap: 3058M(4096M)-&gt;2957M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.02 secs] \r\n    61807.350: [GC pause (young), 0.01606520 secs]\r\n       [Eden: 52M(500M)-&gt;0B(498M) Survivors: 12M-&gt;14M Heap: 3020M(4096M)-&gt;2969M(4096M)]\r\n     [Times: user=0.11 sys=0.00, real=0.02 secs] \r\n    61807.389: [GC pause (young), 0.01573865 secs]\r\n       [Eden: 42M(498M)-&gt;0B(500M) Survivors: 14M-&gt;12M Heap: 3021M(4096M)-&gt;2978M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.02 secs] \r\n    61807.406: [Full GC 2978M-&gt;2498M(4096M), 4.8896638 secs]\r\n     [Times: user=6.37 sys=0.08, real=4.89 secs] \r\n    61812.296: [GC concurrent-mark-abort]\r\n    61812.542: [GC pause (young), 0.01526403 secs]\r\n       [Eden: 512M(500M)-&gt;0B(510M) Survivors: 0B-&gt;2048K Heap: 3018M(4096M)-&gt;2506M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.02 secs] \r\n    61812.793: [GC pause (young) (initial-mark), 0.01391544 secs]\r\n       [Eden: 510M(510M)-&gt;0B(508M) Survivors: 2048K-&gt;4096K Heap: 3016M(4096M)-&gt;2508M(4096M)]\r\n     [Times: user=0.09 sys=0.00, real=0.01 secs] \r\n    61812.807: [GC concurrent-root-region-scan-start]\r\n\r\nThis is using the Java Hotspot 1.7.0_7 release, with the following interesting settings:\r\n\r\n    -XX:PermSize=128m\r\n    -XX:MaxPermSize=128m\r\n    -XX:NewSize=512m\r\n    -XX:MaxNewSize=512m\r\n    -Xms4096m\r\n    -Xmx4096m\r\n    -XX:+UnlockDiagnosticVMOptions\r\n    -XX:+UnsyncloadClass\r\n    -XX:+UseTLAB\r\n    -XX:+UseG1GC\r\n    -XX:SurvivorRatio=10\r\n    -Xloggc:./workspace/gc.log\r\n    -verbose:gc\r\n    -XX:+PrintGC\r\n    -XX:+PrintGCTimeStamps\r\n    -XX:+PrintGCDetails\r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/hotspot-gc-use/2011-September/000917.html","title":"What causes the G1 garbage collector in Java 7 to abort its concurrent-mark phase?","body":"<p>I've noticed occasional full GC's in my application using the G1 garbage collector, and am trying to figure out why they happen. </p>\n\n<p>The cycle from one region-scan-start to the next is excerpted below.  At 61807.406, a full GC is logged, followed by an entry for concurrent-mark-abort.  What I want to know is why the GC felt the need to do a full, stop-the-world, garbage collection and how I can avoid it.  </p>\n\n<p>Note that <a href=\"http://mail.openjdk.java.net/pipermail/hotspot-gc-use/2011-September/000917.html\">this question</a> appears to have been asked before on the OpenJDK mailing list, with no responses.</p>\n\n<p>I've trimmed the details of the young GCs for brevity, but I can post the full chunk somewhere if needed.</p>\n\n<pre><code>61805.878: [GC concurrent-root-region-scan-start]\n61805.882: [GC concurrent-root-region-scan-end, 0.0033586]\n61805.882: [GC concurrent-mark-start]\n61806.133: [GC pause (young), 0.02836202 secs]\n   [Eden: 498M(498M)-&gt;0B(478M) Survivors: 14M-&gt;34M Heap: 3025M(4096M)-&gt;2548M(4096M)]\n [Times: user=0.19 sys=0.00, real=0.03 secs] \n61806.426: [GC pause (young), 0.02766222 secs]\n   [Eden: 478M(478M)-&gt;0B(480M) Survivors: 34M-&gt;32M Heap: 3050M(4096M)-&gt;2576M(4096M)]\n [Times: user=0.19 sys=0.00, real=0.03 secs] \n61806.717: [GC pause (young), 0.02214895 secs]\n   [Eden: 480M(480M)-&gt;0B(502M) Survivors: 32M-&gt;10M Heap: 3056M(4096M)-&gt;2571M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.02 secs] \n61807.000: [GC pause (young), 0.01899188 secs]\n   [Eden: 502M(502M)-&gt;0B(502M) Survivors: 10M-&gt;10M Heap: 3074M(4096M)-&gt;2573M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.02 secs] \n61807.201: [GC pause (young), 0.02619259 secs]\n   [Eden: 162M(502M)-&gt;0B(500M) Survivors: 10M-&gt;12M Heap: 3036M(4096M)-&gt;2876M(4096M)]\n [Times: user=0.11 sys=0.00, real=0.03 secs] \n61807.283: [GC pause (young), 0.02068515 secs]\n   [Eden: 102M(500M)-&gt;0B(500M) Survivors: 12M-&gt;12M Heap: 3058M(4096M)-&gt;2957M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.02 secs] \n61807.350: [GC pause (young), 0.01606520 secs]\n   [Eden: 52M(500M)-&gt;0B(498M) Survivors: 12M-&gt;14M Heap: 3020M(4096M)-&gt;2969M(4096M)]\n [Times: user=0.11 sys=0.00, real=0.02 secs] \n61807.389: [GC pause (young), 0.01573865 secs]\n   [Eden: 42M(498M)-&gt;0B(500M) Survivors: 14M-&gt;12M Heap: 3021M(4096M)-&gt;2978M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.02 secs] \n61807.406: [Full GC 2978M-&gt;2498M(4096M), 4.8896638 secs]\n [Times: user=6.37 sys=0.08, real=4.89 secs] \n61812.296: [GC concurrent-mark-abort]\n61812.542: [GC pause (young), 0.01526403 secs]\n   [Eden: 512M(500M)-&gt;0B(510M) Survivors: 0B-&gt;2048K Heap: 3018M(4096M)-&gt;2506M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.02 secs] \n61812.793: [GC pause (young) (initial-mark), 0.01391544 secs]\n   [Eden: 510M(510M)-&gt;0B(508M) Survivors: 2048K-&gt;4096K Heap: 3016M(4096M)-&gt;2508M(4096M)]\n [Times: user=0.09 sys=0.00, real=0.01 secs] \n61812.807: [GC concurrent-root-region-scan-start]\n</code></pre>\n\n<p>This is using the Java Hotspot 1.7.0_7 release, with the following interesting settings:</p>\n\n<pre><code>-XX:PermSize=128m\n-XX:MaxPermSize=128m\n-XX:NewSize=512m\n-XX:MaxNewSize=512m\n-Xms4096m\n-Xmx4096m\n-XX:+UnlockDiagnosticVMOptions\n-XX:+UnsyncloadClass\n-XX:+UseTLAB\n-XX:+UseG1GC\n-XX:SurvivorRatio=10\n-Xloggc:./workspace/gc.log\n-verbose:gc\n-XX:+PrintGC\n-XX:+PrintGCTimeStamps\n-XX:+PrintGCDetails\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming","amazon-kinesis-analytics"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653314141,"creation_date":1653314141,"answer_id":72349785,"question_id":72348766,"body_markdown":"This will happen if one of the parallel instances of the watermark strategy is idle (i.e., if there are no events flowing through it). Using the `withIdleness(...)` option on the watermark strategy would be one way to solve this.","title":"Why does my watermark not advance in my Apache Flink keyed stream?","body":"<p>This will happen if one of the parallel instances of the watermark strategy is idle (i.e., if there are no events flowing through it). Using the <code>withIdleness(...)</code> option on the watermark strategy would be one way to solve this.</p>\n"}],"owner":{"account_id":13799561,"reputation":740,"user_id":9959845,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72349785,"answer_count":1,"score":0,"last_activity_date":1653314141,"creation_date":1653310093,"question_id":72348766,"body_markdown":"I am currently using Apache Flink 1.13.2 with Java for my streaming application. I am using a keyed function with no window function. I have implemented a watermark strategy and `autoWatermarkInterval` config per the documentation, although my watermark is not advancing.\r\n\r\nI have double-checked this by using the Flink web UI and printing the current watermark in my `EventProcessor` `KeyedProcessFunction` but the watermark is constantly set to a very large negative number `-9223372036854775808` (lowest possible watermark).\r\n\r\n```\r\nenv.getConfig().setAutoWatermarkInterval(1000);\r\n\r\nWatermarkStrategy&lt;EventPayload&gt; watermarkStrategy = WatermarkStrategy\r\n        .&lt;EventPayload&gt;forMonotonousTimestamps()\r\n        .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\r\n\r\nDataStream&lt;EventPayload&gt; deserialized = input\r\n        .assignTimestampsAndWatermarks(watermarkStrategy)\r\n        .flatMap(new Deserializer());\r\n\r\nDataStream&lt;EnrichedEventPayload&gt; resultStream =\r\n        AsyncDataStream.orderedWait(deserialized, new Enrichment(), 5, TimeUnit.SECONDS, 100);\r\n\r\nDataStream&lt;Session&gt; eventsStream = resultStream\r\n        .filter(EnrichedEventPayload::getIsEnriched)\r\n        .keyBy(EnrichedEventPayload::getId)\r\n        .process(new EventProcessor());\r\n```\r\n\r\nI even tried to add the `WatermarkStrategy` to the stream where it is using `keyBy` (and adjusting the types to match) but still no luck.\r\n\r\n```\r\nDataStream&lt;Session&gt; eventsStream = resultStream\r\n        .filter(EnrichedEventPayload::getIsEnriched)\r\n        .keyBy(EnrichedEventPayload::getId)\r\n        .assignTimestampsAndWatermarks(watermarkStrategy)\r\n        .process(new EventProcessor());\r\n```\r\n\r\nI have also tried using my own class implementing `WatermarkStrategy` and set breakpoints on the `onEvent` function to ensure the new watermark was being emitted, although it still did not advance (and any associated timers did not fire).\r\n\r\n\r\nAny help would be greatly appreciated!","title":"Why does my watermark not advance in my Apache Flink keyed stream?","body":"<p>I am currently using Apache Flink 1.13.2 with Java for my streaming application. I am using a keyed function with no window function. I have implemented a watermark strategy and <code>autoWatermarkInterval</code> config per the documentation, although my watermark is not advancing.</p>\n<p>I have double-checked this by using the Flink web UI and printing the current watermark in my <code>EventProcessor</code> <code>KeyedProcessFunction</code> but the watermark is constantly set to a very large negative number <code>-9223372036854775808</code> (lowest possible watermark).</p>\n<pre><code>env.getConfig().setAutoWatermarkInterval(1000);\n\nWatermarkStrategy&lt;EventPayload&gt; watermarkStrategy = WatermarkStrategy\n        .&lt;EventPayload&gt;forMonotonousTimestamps()\n        .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp());\n\nDataStream&lt;EventPayload&gt; deserialized = input\n        .assignTimestampsAndWatermarks(watermarkStrategy)\n        .flatMap(new Deserializer());\n\nDataStream&lt;EnrichedEventPayload&gt; resultStream =\n        AsyncDataStream.orderedWait(deserialized, new Enrichment(), 5, TimeUnit.SECONDS, 100);\n\nDataStream&lt;Session&gt; eventsStream = resultStream\n        .filter(EnrichedEventPayload::getIsEnriched)\n        .keyBy(EnrichedEventPayload::getId)\n        .process(new EventProcessor());\n</code></pre>\n<p>I even tried to add the <code>WatermarkStrategy</code> to the stream where it is using <code>keyBy</code> (and adjusting the types to match) but still no luck.</p>\n<pre><code>DataStream&lt;Session&gt; eventsStream = resultStream\n        .filter(EnrichedEventPayload::getIsEnriched)\n        .keyBy(EnrichedEventPayload::getId)\n        .assignTimestampsAndWatermarks(watermarkStrategy)\n        .process(new EventProcessor());\n</code></pre>\n<p>I have also tried using my own class implementing <code>WatermarkStrategy</code> and set breakpoints on the <code>onEvent</code> function to ensure the new watermark was being emitted, although it still did not advance (and any associated timers did not fire).</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":9,"creation_date":1532104401,"post_id":14953359,"comment_id":89863999,"body_markdown":"IMHO this question is NOT duplicate. Putting aside answers in referred question are informationally rich and very useful otherwise, this question is about generic parameter of *methods* (not class), which is generally less covered topic on SO. And of course, unlike for classes, there is no solution of problem in this case.","body":"IMHO this question is NOT duplicate. Putting aside answers in referred question are informationally rich and very useful otherwise, this question is about generic parameter of <i>methods</i> (not class), which is generally less covered topic on SO. And of course, unlike for classes, there is no solution of problem in this case."}],"answers":[{"tags":[],"owner":{"account_id":314004,"reputation":11829,"user_id":628943,"accept_rate":100,"display_name":"Ajay George"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1361264469,"creation_date":1361264469,"answer_id":14953483,"question_id":14953359,"body_markdown":"Due to Type Erasure I doubt whether we can get it, barring some reflection magic which might be able to do it.\r\n\r\nBut if there are elements inside the list, we can reach out to them and invoke getClass on them.","title":"How to get type arguments class of generic method parameter?","body":"<p>Due to Type Erasure I doubt whether we can get it, barring some reflection magic which might be able to do it.</p>\n\n<p>But if there are elements inside the list, we can reach out to them and invoke getClass on them.</p>\n"},{"tags":[],"owner":{"account_id":930869,"reputation":3743,"user_id":960778,"accept_rate":69,"display_name":"Apurv"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1361264811,"creation_date":1361264811,"answer_id":14953593,"question_id":14953359,"body_markdown":"You can try this ...\r\n\r\n    if(tList != null &amp;&amp; tList.size() &gt; 0){\r\n    \tClass c = tList.get(0).getClass();\r\n    }","title":"How to get type arguments class of generic method parameter?","body":"<p>You can try this ...</p>\n\n<pre><code>if(tList != null &amp;&amp; tList.size() &gt; 0){\n    Class c = tList.get(0).getClass();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136847,"reputation":3439,"user_id":5378774,"accept_rate":74,"display_name":"Denis Rosca"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1361268161,"creation_date":1361264835,"answer_id":14953598,"question_id":14953359,"body_markdown":"Due to type erasure, the only way you can do it is if you pass the type as an argument to the method.\r\n\r\nIf you have access to the Datastore code and can modify you can try to do this:\r\n\r\n    public class Datastore {\r\n        public T void insert(List&lt;T&gt; tList, Class&lt;T&gt; objectClass) {\r\n        }\r\n    }\r\n\r\nand then call it by doing\r\n\r\n    List&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\r\n    ...\r\n    dataStore.insert(pList, Person.class);\r\n\r\nEvery response I&#39;ve seen to this type of question was to send the class as a parameter to the method.","title":"How to get type arguments class of generic method parameter?","body":"<p>Due to type erasure, the only way you can do it is if you pass the type as an argument to the method.</p>\n\n<p>If you have access to the Datastore code and can modify you can try to do this:</p>\n\n<pre><code>public class Datastore {\n    public T void insert(List&lt;T&gt; tList, Class&lt;T&gt; objectClass) {\n    }\n}\n</code></pre>\n\n<p>and then call it by doing</p>\n\n<pre><code>List&lt;Person&gt; pList = new ArrayList&lt;Person&gt;();\n...\ndataStore.insert(pList, Person.class);\n</code></pre>\n\n<p>Every response I've seen to this type of question was to send the class as a parameter to the method.</p>\n"},{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1361266691,"creation_date":1361266691,"answer_id":14954241,"question_id":14953359,"body_markdown":"I think you can&#39;t do that. Check out this class:\r\n\r\n\r\n    public class TestClass\r\n    {\r\n        private List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \r\n        /**\r\n         * @param args\r\n         * @throws NoSuchFieldException\r\n         * @throws SecurityException\r\n         */\r\n        public static void main(String[] args)\r\n        {\r\n            try\r\n            {\r\n                new TestClass().getClass().getDeclaredField(&quot;list&quot;).getGenericType(); // this is the type parameter passed to List\r\n            }\r\n            catch (SecurityException e)\r\n            {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            catch (NoSuchFieldException e)\r\n            {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            new TestClass().&lt;Integer&gt; insert(new ArrayList&lt;Integer&gt;());\r\n        }\r\n    \r\n        public &lt;T&gt; void insert(List&lt;T&gt; tList)\r\n        {\r\n            ParameterizedType paramType;\r\n            paramType = (ParameterizedType) tList.getClass().getGenericInterfaces()[0];\r\n            paramType.getActualTypeArguments()[0].getClass();\r\n        }\r\n    }\r\n\r\nYou can get the type parameters from a class or a field but it is not working for generic methods. Try using a non-generic method!\r\n\r\n**OR**\r\n\r\nanother solution might be passing the actual `Class` object to the method.","title":"How to get type arguments class of generic method parameter?","body":"<p>I think you can't do that. Check out this class:</p>\n\n<pre><code>public class TestClass\n{\n    private List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n    /**\n     * @param args\n     * @throws NoSuchFieldException\n     * @throws SecurityException\n     */\n    public static void main(String[] args)\n    {\n        try\n        {\n            new TestClass().getClass().getDeclaredField(\"list\").getGenericType(); // this is the type parameter passed to List\n        }\n        catch (SecurityException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        catch (NoSuchFieldException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        new TestClass().&lt;Integer&gt; insert(new ArrayList&lt;Integer&gt;());\n    }\n\n    public &lt;T&gt; void insert(List&lt;T&gt; tList)\n    {\n        ParameterizedType paramType;\n        paramType = (ParameterizedType) tList.getClass().getGenericInterfaces()[0];\n        paramType.getActualTypeArguments()[0].getClass();\n    }\n}\n</code></pre>\n\n<p>You can get the type parameters from a class or a field but it is not working for generic methods. Try using a non-generic method!</p>\n\n<p><strong>OR</strong></p>\n\n<p>another solution might be passing the actual <code>Class</code> object to the method.</p>\n"}],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17435,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1653314052,"creation_date":1361264053,"question_id":14953359,"body_markdown":"How to get the type argument of an argument passed to a method ?  For example I have \r\n\r\n\r\n    List&lt;Person&gt; list = new ArrayList&lt;Person&gt;(); \r\n    \r\n    public class Datastore {\r\n    \r\n      public &lt;T&gt; void insert(List&lt;T&gt; tList) {\r\n         // when I pass the previous list to this method I want to get Person.class ; \r\n      }\r\n    } \r\n\r\n\r\n\r\n\r\n","title":"How to get type arguments class of generic method parameter?","body":"<p>How to get the type argument of an argument passed to a method ?  For example I have </p>\n\n<pre><code>List&lt;Person&gt; list = new ArrayList&lt;Person&gt;(); \n\npublic class Datastore {\n\n  public &lt;T&gt; void insert(List&lt;T&gt; tList) {\n     // when I pass the previous list to this method I want to get Person.class ; \n  }\n} \n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1653371246,"post_id":72348526,"comment_id":127828929,"body_markdown":"so, that&#39;s right, the question has been answered already, I just need to check if request.getQueryString() != null to distinguish the parameter type.","body":"so, that&#39;s right, the question has been answered already, I just need to check if request.getQueryString() != null to distinguish the parameter type."}],"answers":[{"tags":[],"owner":{"account_id":8714249,"reputation":11,"user_id":6519458,"display_name":"Comrade Anas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653313925,"creation_date":1653313925,"answer_id":72349744,"question_id":72348526,"body_markdown":"getParameter() returns http request parameters. Those passed from the client to the server. For example http://example.com/servlet?parameter=1. Can only return String.","title":"Servlet get full path of request with parameters","body":"<p>getParameter() returns http request parameters. Those passed from the client to the server. For example <a href=\"http://example.com/servlet?parameter=1\" rel=\"nofollow noreferrer\">http://example.com/servlet?parameter=1</a>. Can only return String.</p>\n"}],"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653322947,"answer_count":1,"score":0,"last_activity_date":1653313925,"creation_date":1653308924,"question_id":72348526,"body_markdown":"I&#39;m using a Servlet accessible via POST request, but I&#39;ve seen that parameters in POST, can be set either thanks to header parameters but also in a GET format way (/MyServlet?param1=123&amp;param2=456) and I would need to detect it on my Servlet.\r\n\r\nI tried to retrieve the request by using \r\n\r\n&gt; request.getRequestURI()\r\n\r\nbut I cannot see the parameters in that case...\r\nDo you know how can I retrieve the full path of the request in a GET parameter way ?\r\n","title":"Servlet get full path of request with parameters","body":"<p>I'm using a Servlet accessible via POST request, but I've seen that parameters in POST, can be set either thanks to header parameters but also in a GET format way (/MyServlet?param1=123&amp;param2=456) and I would need to detect it on my Servlet.</p>\n<p>I tried to retrieve the request by using</p>\n<blockquote>\n<p>request.getRequestURI()</p>\n</blockquote>\n<p>but I cannot see the parameters in that case...\nDo you know how can I retrieve the full path of the request in a GET parameter way ?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1653305142,"post_id":72347135,"comment_id":127811168,"body_markdown":"What&#39;s the Lombok version you are using because since Lombok version 1.18.16, we also have to add the dependency lombok-mapstruct-binding.","body":"What&#39;s the Lombok version you are using because since Lombok version 1.18.16, we also have to add the dependency lombok-mapstruct-binding."},{"owner":{"account_id":25281712,"reputation":19,"user_id":19109494,"display_name":"nevermindhf"},"score":0,"creation_date":1653305272,"post_id":72347135,"comment_id":127811210,"body_markdown":"compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\nannotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;","body":"compileOnly &#39;org.projectlombok:lombok:1.18.24&#39; annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;"},{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1653305403,"post_id":72347135,"comment_id":127811253,"body_markdown":"Do you have [this dependency](https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding/0.2.0) added? - without it, Mapstruct and Lombok won&#39;t work together.","body":"Do you have <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding/0.2.0\" rel=\"nofollow noreferrer\">this dependency</a> added? - without it, Mapstruct and Lombok won&#39;t work together."},{"owner":{"account_id":25281712,"reputation":19,"user_id":19109494,"display_name":"nevermindhf"},"score":0,"creation_date":1653305424,"post_id":72347135,"comment_id":127811259,"body_markdown":"I added the following: \nimplementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\n\nGenerated mapper is the same","body":"I added the following:  implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;  Generated mapper is the same"}],"answers":[{"tags":[],"owner":{"account_id":25281712,"reputation":19,"user_id":19109494,"display_name":"nevermindhf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653313811,"creation_date":1653306188,"answer_id":72347976,"question_id":72347135,"body_markdown":"After adding the following dependencies everything worked:\r\n\r\n    implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\r\n\r\n","title":"MapStruct generates invalid mapper","body":"<p>After adding the following dependencies everything worked:</p>\n<pre><code>implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n\nannotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;\n</code></pre>\n"}],"owner":{"account_id":25281712,"reputation":19,"user_id":19109494,"display_name":"nevermindhf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653313811,"creation_date":1653302211,"question_id":72347135,"body_markdown":"I got the following two classes (I&#39;m trying to map from 1st to 2nd):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class RegisterRequestDto {\r\n    \r\n        private String username;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String password;\r\n    \r\n    }\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;users&quot;)\r\n    public class User extends BaseEntity {\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;user_roles&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n        )\r\n        private List&lt;Role&gt; roles;\r\n    \r\n    }\r\n\r\nI also got the following mapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface RegisterRequestDtoToUser {\r\n    \r\n        User requestToUser(RegisterRequestDto requestDto);\r\n    \r\n    }\r\n\r\nThis is what I got in my build.gradle file:\r\n\r\n    implementation &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n\r\nAnd this is what mapper I get from mapstruct for classes I mentioned above, as you can see it&#39;s obviously invalid:\r\n\r\n    @Component\r\n    public class RegisterRequestDtoToUserImpl implements RegisterRequestDtoToUser {\r\n    \r\n        @Override\r\n        public User requestToUser(RegisterRequestDto requestDto) {\r\n            if ( requestDto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            User user = new User();\r\n    \r\n            return user;\r\n        }\r\n    }\r\n\r\nWhat&#39;s wrong, how do I fix it?","title":"MapStruct generates invalid mapper","body":"<p>I got the following two classes (I'm trying to map from 1st to 2nd):</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RegisterRequestDto {\n\n    private String username;\n    private String firstName;\n    private String lastName;\n    private String password;\n\n}\n\n\n@Entity\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User extends BaseEntity {\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;user_roles&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    private List&lt;Role&gt; roles;\n\n}\n</code></pre>\n<p>I also got the following mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface RegisterRequestDtoToUser {\n\n    User requestToUser(RegisterRequestDto requestDto);\n\n}\n</code></pre>\n<p>This is what I got in my build.gradle file:</p>\n<pre><code>implementation 'org.mapstruct:mapstruct:1.4.2.Final'\nannotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n</code></pre>\n<p>And this is what mapper I get from mapstruct for classes I mentioned above, as you can see it's obviously invalid:</p>\n<pre><code>@Component\npublic class RegisterRequestDtoToUserImpl implements RegisterRequestDtoToUser {\n\n    @Override\n    public User requestToUser(RegisterRequestDto requestDto) {\n        if ( requestDto == null ) {\n            return null;\n        }\n\n        User user = new User();\n\n        return user;\n    }\n}\n</code></pre>\n<p>What's wrong, how do I fix it?</p>\n"},{"tags":["java","mysql","spring","hibernate","hikaricp"],"comments":[{"owner":{"account_id":8082685,"reputation":1042,"user_id":6091258,"display_name":"epol"},"score":2,"creation_date":1653071587,"post_id":72323335,"comment_id":127770275,"body_markdown":"Long story short : if you call this service , load some data from your DB, wait for more than MySQL&#39;s wait_timeout and then try to load/save data (either with Spring Repositories or JDBCTemplate) the error shows up - regardless of how you configure Hikari in your properties file?","body":"Long story short : if you call this service , load some data from your DB, wait for more than MySQL&#39;s wait_timeout and then try to load/save data (either with Spring Repositories or JDBCTemplate) the error shows up - regardless of how you configure Hikari in your properties file?"},{"owner":{"account_id":24861628,"reputation":51,"user_id":18737324,"display_name":"Marcos L"},"score":0,"creation_date":1653071714,"post_id":72323335,"comment_id":127770323,"body_markdown":"Yes, that&#39;s right.","body":"Yes, that&#39;s right."},{"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"score":2,"creation_date":1653164504,"post_id":72323335,"comment_id":127786063,"body_markdown":"Author of HikariCP here. Two questions. One, is there a github repo with your test? Two, I am not a Spring user, but it seems to me that each METHOD is likely executing in a *single transaction*. Therefore, only a single connection CAN be used. It is not possible (valid) to execute the first query and second queries on separate connections.","body":"Author of HikariCP here. Two questions. One, is there a github repo with your test? Two, I am not a Spring user, but it seems to me that each METHOD is likely executing in a <i>single transaction</i>. Therefore, only a single connection CAN be used. It is not possible (valid) to execute the first query and second queries on separate connections."}],"answers":[{"tags":[],"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653166768,"creation_date":1653166768,"answer_id":72333172,"question_id":72323335,"body_markdown":"My instinct in the comment above was correct. Spring is executing each method in a *single transaction*. Therefore, no matter how many separate queries there are *within* the method, a *single connection* will be used. It is the ``JpaTransactionManager`` that ensures that the same connection is returned for each invocation. The method as a whole will either fail or succeed as a unit (single-transaction).","title":"Why doesn&#39;t HikariCP establish a new connection to database after the previous one is closed?","body":"<p>My instinct in the comment above was correct. Spring is executing each method in a <em>single transaction</em>. Therefore, no matter how many separate queries there are <em>within</em> the method, a <em>single connection</em> will be used. It is the <code>JpaTransactionManager</code> that ensures that the same connection is returned for each invocation. The method as a whole will either fail or succeed as a unit (single-transaction).</p>\n"}],"owner":{"account_id":24861628,"reputation":51,"user_id":18737324,"display_name":"Marcos L"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4587,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653313731,"creation_date":1653071058,"question_id":72323335,"body_markdown":"To better understand how HikariCP works I decided to make a Spring Boot project to do some database data manipulation tests with a reduced wait_timeout in the database. Here are the HikariCP configurations in the application.properties file:\r\n\r\n```\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.validationTimeout=5000\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=1800000\r\nspring.datasource.hikari.maximumPoolSize=20\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\nlogging.level.com.zaxxer.hikari=TRACE\r\n```\r\n\r\nAnd below are some values on MySQL DB:\r\n\r\n```\r\nSHOW GLOBAL VARIABLES LIKE &quot;%wait%&quot;;\r\n+---------------------------------------------------+----------+\r\n| Variable_name                                     | Value    |\r\n+---------------------------------------------------+----------+\r\n| innodb_lock_wait_timeout                          | 50       |\r\n| innodb_log_wait_for_flush_spin_hwm                | 400      |\r\n| innodb_spin_wait_delay                            | 6        |\r\n| innodb_spin_wait_pause_multiplier                 | 50       |\r\n| lock_wait_timeout                                 | 31536000 |\r\n| mysqlx_wait_timeout                               | 28800    |\r\n| performance_schema_events_waits_history_long_size | 10000    |\r\n| performance_schema_events_waits_history_size      | 10       |\r\n| wait_timeout                                      | 5        |\r\n+---------------------------------------------------+----------+\r\n\r\nSHOW VARIABLES LIKE &quot;%timeout%&quot;;\r\n+-----------------------------------+----------+\r\n| Variable_name                     | Value    |\r\n+-----------------------------------+----------+\r\n| connect_timeout                   | 10       |\r\n| delayed_insert_timeout            | 300      |\r\n| have_statement_timeout            | YES      |\r\n| innodb_flush_log_at_timeout       | 1        |\r\n| innodb_lock_wait_timeout          | 50       |\r\n| innodb_rollback_on_timeout        | OFF      |\r\n| interactive_timeout               | 28800    |\r\n| lock_wait_timeout                 | 31536000 |\r\n| mysqlx_connect_timeout            | 30       |\r\n| mysqlx_idle_worker_thread_timeout | 60       |\r\n| mysqlx_interactive_timeout        | 28800    |\r\n| mysqlx_port_open_timeout          | 0        |\r\n| mysqlx_read_timeout               | 30       |\r\n| mysqlx_wait_timeout               | 28800    |\r\n| mysqlx_write_timeout              | 60       |\r\n| net_read_timeout                  | 30       |\r\n| net_write_timeout                 | 60       |\r\n| replica_net_timeout               | 60       |\r\n| rpl_stop_replica_timeout          | 31536000 |\r\n| rpl_stop_slave_timeout            | 31536000 |\r\n| slave_net_timeout                 | 60       |\r\n| wait_timeout                      | 28800    |\r\n+-----------------------------------+----------+\r\n```\r\n\r\nThe project has an entity class called Test that contains a primary key &quot;id&quot; and an attribute &quot;value&quot;:\r\n\r\n```\r\n@Entity\r\npublic class Test {\r\n    \r\n    @Id\r\n    @Column(length = 50)\r\n    private String id;\r\n    \r\n    private String value;\r\n    \r\n}\r\n```\r\n\r\nWe also have a TestRepository that extends JpaRepository and a TestDAO that saves entities using JDBC Template:\r\n\r\n```\r\n@Repository\r\npublic interface TestRepository extends JpaRepository&lt;Test,String&gt;{\r\n}\r\n```\r\n```\r\n@Repository\r\npublic class TestDAO {\r\n   \r\n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size:10000}&quot;) // default = 1000\r\n    private Integer batchSize;\r\n    \r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n    @Autowired\r\n    TestRepository testRepository;\r\n    \r\n    public void saveAllDAO(List&lt;Test&gt; entities) {\r\n        \r\n        jdbcTemplate.batchUpdate(\r\n                &quot;INSERT INTO test &quot;\r\n                + &quot;(id, value)&quot;\r\n                + &quot;VALUES (?,?)&quot;,\r\n                entities,\r\n                batchSize,\r\n                new ParameterizedPreparedStatementSetter&lt;Test&gt;() {\r\n                    @Override\r\n                    public void setValues(PreparedStatement ps, Test testEntity) throws SQLException {\r\n                        ps.setObject(1, testEntity.getId(), java.sql.Types.VARCHAR);\r\n                        ps.setObject(2, testEntity.getValue(), java.sql.Types.VARCHAR);\r\n                    }\r\n                });\r\n        \r\n    }\r\n    \r\n}\r\n```\r\n\r\nTo perform the tests I created a TestService class with four methods that execute some SELECTs, INSERTs and UPDATEs in the MySQL Local Database.\r\n\r\nMethod1 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; UPDATE entities on database via Repository class\r\n\r\nMethod2 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; SAVE new entities on database via DAO class that uses a JDBC Template\r\n\r\nMethod3 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; SELECT ALL via Repository class again\r\n\r\nMethod4 -&gt; UPDATE entities on database via Repository class -&gt; wait 20 seconds -&gt; SELECT ALL via Repository class again\r\n\r\n```\r\n@Service\r\npublic class TestService {\r\n  \r\n    @Autowired\r\n    TestRepository testRepository;\r\n    @Autowired\r\n    TestDAO testDAO;\r\n    \r\n    public void method1() throws InterruptedException {\r\n        \r\n        List&lt;Test&gt; entities = testRepository.findAll();\r\n        System.out.println(&quot;FINDALL&quot;);\r\n        \r\n        Thread.sleep(20000);\r\n        \r\n        int i = 0;\r\n        for (Test entity : entities) {\r\n            i++;\r\n            entity.setValue(&quot;ValueRep&quot; + Integer.toString(i));\r\n        }\r\n        \r\n        testRepository.saveAll(entities);\r\n        System.out.println(&quot;SAVE REP&quot;);\r\n        \r\n    }\r\n    \r\n    public void method2() throws InterruptedException {\r\n        \r\n        List&lt;Test&gt; entities = testRepository.findAll();\r\n        System.out.println(&quot;FINDALL&quot;);\r\n        \r\n        Thread.sleep(20000);\r\n        \r\n        int i = 0;\r\n        for (Test entity : entities) {\r\n            i++;\r\n            entity.setId(&quot;DAO&quot; + Integer.toString(i));\r\n            entity.setValue(&quot;ValueDAO&quot; + Integer.toString(i));\r\n        }\r\n        \r\n        testDAO.saveAllDAO(entities);\r\n        System.out.println(&quot;SAVE DAO&quot;);\r\n        \r\n    }\r\n    \r\n    public void method3() throws InterruptedException {\r\n        \r\n        List&lt;Test&gt; entities = testRepository.findAll();\r\n        System.out.println(&quot;FINDALL 1&quot;);\r\n        \r\n        Thread.sleep(20000);\r\n        \r\n        List&lt;Test&gt; entities2 = testRepository.findAll();\r\n        System.out.println(&quot;FINDALL 2&quot;);\r\n        \r\n    }\r\n\r\n    public void method4() throws InterruptedException {\r\n        \r\n        List&lt;Test&gt; entities = testRepository.findAll();\r\n        \r\n        int i = 0;\r\n        for (Test entity : entities) {\r\n            i++;\r\n            entity.setValue(&quot;METHOD4ValueRep&quot; + Integer.toString(i));\r\n        }\r\n        \r\n        testRepository.saveAll(entities);\r\n        System.out.println(&quot;SAVE REP METHOD4&quot;);\r\n        \r\n        Thread.sleep(20000);\r\n        \r\n        List&lt;Test&gt; entities2 = testRepository.findAll();\r\n        System.out.println(&quot;FINDALL 2&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n```\r\n\r\nDuring the tests I changed the global variable wait_timeout in the database to 5 seconds to see how HikariCP would behave having to establish a new connection after the timeout.\r\n\r\nHere is the problem: when I call any of these methods the first operation works as intended but when the code tries to execute the second operation after the 20 seconds wait an CommunicationsException is generated.\r\n\r\n```\r\n2022-05-20 13:30:21.049  WARN 876 --- [nio-8080-exec-3] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@3313efdd marked as broken because of SQLSTATE(08S01), ErrorCode(0)\r\n\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 20.015 milliseconds ago. The last packet sent successfully to the server was 20.015 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setReadOnlyInternal(ConnectionImpl.java:2155) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setReadOnly(ConnectionImpl.java:2139) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.setReadOnly(ProxyConnection.java:423) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.setReadOnly(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction(DataSourceUtils.java:189) ~[spring-jdbc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:153) ~[spring-orm-5.3.20.jar:5.3.20]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421) ~[spring-orm-5.3.20.jar:5.3.20]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy109.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.test.TestService.method3(TestService.java:59) ~[classes/:na]\r\n\tat com.example.test.TestController.method3(TestController.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.0.jar:2.7.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: The last packet successfully received from the server was 20.015 milliseconds ago. The last packet sent successfully to the server was 20.015 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:761) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:700) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1051) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:663) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setReadOnlyInternal(ConnectionImpl.java:2148) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\t... 76 common frames omitted\r\nCaused by: java.net.SocketException: An established connection was aborted by the software in your host machine\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:325) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\r\n\tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\t... 82 common frames omitted\r\n\r\n2022-05-20 13:30:21.056 DEBUG 876 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@3313efdd: (connection is broken)\r\n2022-05-20 13:30:21.059 ERROR 876 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: ] with root cause\r\n\r\njava.sql.SQLException: Connection is closed\r\n\tat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515) ~[HikariCP-4.0.3.jar:na]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy92.setAutoCommit(Unknown Source) ~[na:na]\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat\r\nSorry, log too long\r\n```\r\n\r\n**Shouldn&#39;t HikariCP try to establish a new connection after checking that the old one is not open anymore? Why doesn&#39;t this happen?**\r\n\r\nNote: the code works normally with a wait_timeout of 28800 as it was previously, I am just trying to understand why HikariCP doesn&#39;t try to establish a new connection to the database with the wait_timeout reduced in this test case.\r\n\r\nThe complete code: [https://github.com/MarcosL20/HikariCPTest/tree/main][1]\r\n\r\n\r\n  [1]: https://github.com/MarcosL20/HikariCPTest/tree/main","title":"Why doesn&#39;t HikariCP establish a new connection to database after the previous one is closed?","body":"<p>To better understand how HikariCP works I decided to make a Spring Boot project to do some database data manipulation tests with a reduced wait_timeout in the database. Here are the HikariCP configurations in the application.properties file:</p>\n<pre><code>spring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.validationTimeout=5000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=1800000\nspring.datasource.hikari.maximumPoolSize=20\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n</code></pre>\n<p>And below are some values on MySQL DB:</p>\n<pre><code>SHOW GLOBAL VARIABLES LIKE &quot;%wait%&quot;;\n+---------------------------------------------------+----------+\n| Variable_name                                     | Value    |\n+---------------------------------------------------+----------+\n| innodb_lock_wait_timeout                          | 50       |\n| innodb_log_wait_for_flush_spin_hwm                | 400      |\n| innodb_spin_wait_delay                            | 6        |\n| innodb_spin_wait_pause_multiplier                 | 50       |\n| lock_wait_timeout                                 | 31536000 |\n| mysqlx_wait_timeout                               | 28800    |\n| performance_schema_events_waits_history_long_size | 10000    |\n| performance_schema_events_waits_history_size      | 10       |\n| wait_timeout                                      | 5        |\n+---------------------------------------------------+----------+\n\nSHOW VARIABLES LIKE &quot;%timeout%&quot;;\n+-----------------------------------+----------+\n| Variable_name                     | Value    |\n+-----------------------------------+----------+\n| connect_timeout                   | 10       |\n| delayed_insert_timeout            | 300      |\n| have_statement_timeout            | YES      |\n| innodb_flush_log_at_timeout       | 1        |\n| innodb_lock_wait_timeout          | 50       |\n| innodb_rollback_on_timeout        | OFF      |\n| interactive_timeout               | 28800    |\n| lock_wait_timeout                 | 31536000 |\n| mysqlx_connect_timeout            | 30       |\n| mysqlx_idle_worker_thread_timeout | 60       |\n| mysqlx_interactive_timeout        | 28800    |\n| mysqlx_port_open_timeout          | 0        |\n| mysqlx_read_timeout               | 30       |\n| mysqlx_wait_timeout               | 28800    |\n| mysqlx_write_timeout              | 60       |\n| net_read_timeout                  | 30       |\n| net_write_timeout                 | 60       |\n| replica_net_timeout               | 60       |\n| rpl_stop_replica_timeout          | 31536000 |\n| rpl_stop_slave_timeout            | 31536000 |\n| slave_net_timeout                 | 60       |\n| wait_timeout                      | 28800    |\n+-----------------------------------+----------+\n</code></pre>\n<p>The project has an entity class called Test that contains a primary key &quot;id&quot; and an attribute &quot;value&quot;:</p>\n<pre><code>@Entity\npublic class Test {\n    \n    @Id\n    @Column(length = 50)\n    private String id;\n    \n    private String value;\n    \n}\n</code></pre>\n<p>We also have a TestRepository that extends JpaRepository and a TestDAO that saves entities using JDBC Template:</p>\n<pre><code>@Repository\npublic interface TestRepository extends JpaRepository&lt;Test,String&gt;{\n}\n</code></pre>\n<pre><code>@Repository\npublic class TestDAO {\n   \n    @Value(&quot;${spring.jpa.properties.hibernate.jdbc.batch_size:10000}&quot;) // default = 1000\n    private Integer batchSize;\n    \n    @Autowired\n    JdbcTemplate jdbcTemplate;\n    @Autowired\n    TestRepository testRepository;\n    \n    public void saveAllDAO(List&lt;Test&gt; entities) {\n        \n        jdbcTemplate.batchUpdate(\n                &quot;INSERT INTO test &quot;\n                + &quot;(id, value)&quot;\n                + &quot;VALUES (?,?)&quot;,\n                entities,\n                batchSize,\n                new ParameterizedPreparedStatementSetter&lt;Test&gt;() {\n                    @Override\n                    public void setValues(PreparedStatement ps, Test testEntity) throws SQLException {\n                        ps.setObject(1, testEntity.getId(), java.sql.Types.VARCHAR);\n                        ps.setObject(2, testEntity.getValue(), java.sql.Types.VARCHAR);\n                    }\n                });\n        \n    }\n    \n}\n</code></pre>\n<p>To perform the tests I created a TestService class with four methods that execute some SELECTs, INSERTs and UPDATEs in the MySQL Local Database.</p>\n<p>Method1 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; UPDATE entities on database via Repository class</p>\n<p>Method2 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; SAVE new entities on database via DAO class that uses a JDBC Template</p>\n<p>Method3 -&gt; SELECT ALL via Repository class -&gt; wait 20 seconds -&gt; SELECT ALL via Repository class again</p>\n<p>Method4 -&gt; UPDATE entities on database via Repository class -&gt; wait 20 seconds -&gt; SELECT ALL via Repository class again</p>\n<pre><code>@Service\npublic class TestService {\n  \n    @Autowired\n    TestRepository testRepository;\n    @Autowired\n    TestDAO testDAO;\n    \n    public void method1() throws InterruptedException {\n        \n        List&lt;Test&gt; entities = testRepository.findAll();\n        System.out.println(&quot;FINDALL&quot;);\n        \n        Thread.sleep(20000);\n        \n        int i = 0;\n        for (Test entity : entities) {\n            i++;\n            entity.setValue(&quot;ValueRep&quot; + Integer.toString(i));\n        }\n        \n        testRepository.saveAll(entities);\n        System.out.println(&quot;SAVE REP&quot;);\n        \n    }\n    \n    public void method2() throws InterruptedException {\n        \n        List&lt;Test&gt; entities = testRepository.findAll();\n        System.out.println(&quot;FINDALL&quot;);\n        \n        Thread.sleep(20000);\n        \n        int i = 0;\n        for (Test entity : entities) {\n            i++;\n            entity.setId(&quot;DAO&quot; + Integer.toString(i));\n            entity.setValue(&quot;ValueDAO&quot; + Integer.toString(i));\n        }\n        \n        testDAO.saveAllDAO(entities);\n        System.out.println(&quot;SAVE DAO&quot;);\n        \n    }\n    \n    public void method3() throws InterruptedException {\n        \n        List&lt;Test&gt; entities = testRepository.findAll();\n        System.out.println(&quot;FINDALL 1&quot;);\n        \n        Thread.sleep(20000);\n        \n        List&lt;Test&gt; entities2 = testRepository.findAll();\n        System.out.println(&quot;FINDALL 2&quot;);\n        \n    }\n\n    public void method4() throws InterruptedException {\n        \n        List&lt;Test&gt; entities = testRepository.findAll();\n        \n        int i = 0;\n        for (Test entity : entities) {\n            i++;\n            entity.setValue(&quot;METHOD4ValueRep&quot; + Integer.toString(i));\n        }\n        \n        testRepository.saveAll(entities);\n        System.out.println(&quot;SAVE REP METHOD4&quot;);\n        \n        Thread.sleep(20000);\n        \n        List&lt;Test&gt; entities2 = testRepository.findAll();\n        System.out.println(&quot;FINDALL 2&quot;);\n        \n    }\n    \n}\n</code></pre>\n<p>During the tests I changed the global variable wait_timeout in the database to 5 seconds to see how HikariCP would behave having to establish a new connection after the timeout.</p>\n<p>Here is the problem: when I call any of these methods the first operation works as intended but when the code tries to execute the second operation after the 20 seconds wait an CommunicationsException is generated.</p>\n<pre><code>2022-05-20 13:30:21.049  WARN 876 --- [nio-8080-exec-3] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@3313efdd marked as broken because of SQLSTATE(08S01), ErrorCode(0)\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 20.015 milliseconds ago. The last packet sent successfully to the server was 20.015 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.setReadOnlyInternal(ConnectionImpl.java:2155) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.setReadOnly(ConnectionImpl.java:2139) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.pool.ProxyConnection.setReadOnly(ProxyConnection.java:423) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setReadOnly(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction(DataSourceUtils.java:189) ~[spring-jdbc-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:153) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]\n    at jdk.proxy2/jdk.proxy2.$Proxy109.findAll(Unknown Source) ~[na:na]\n    at com.example.test.TestService.method3(TestService.java:59) ~[classes/:na]\n    at com.example.test.TestController.method3(TestController.java:27) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.0.jar:2.7.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: The last packet successfully received from the server was 20.015 milliseconds ago. The last packet sent successfully to the server was 20.015 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at jdk.internal.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:761) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:700) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1051) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:663) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.setReadOnlyInternal(ConnectionImpl.java:2148) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    ... 76 common frames omitted\nCaused by: java.net.SocketException: An established connection was aborted by the software in your host machine\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:325) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    ... 82 common frames omitted\n\n2022-05-20 13:30:21.056 DEBUG 876 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@3313efdd: (connection is broken)\n2022-05-20 13:30:21.059 ERROR 876 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: ] with root cause\n\njava.sql.SQLException: Connection is closed\n    at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515) ~[HikariCP-4.0.3.jar:na]\n    at jdk.proxy3/jdk.proxy3.$Proxy92.setAutoCommit(Unknown Source) ~[na:na]\n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\n    at\nSorry, log too long\n</code></pre>\n<p><strong>Shouldn't HikariCP try to establish a new connection after checking that the old one is not open anymore? Why doesn't this happen?</strong></p>\n<p>Note: the code works normally with a wait_timeout of 28800 as it was previously, I am just trying to understand why HikariCP doesn't try to establish a new connection to the database with the wait_timeout reduced in this test case.</p>\n<p>The complete code: <a href=\"https://github.com/MarcosL20/HikariCPTest/tree/main\" rel=\"nofollow noreferrer\">https://github.com/MarcosL20/HikariCPTest/tree/main</a></p>\n"},{"tags":["java","json","jar","gson","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653312961,"creation_date":1653312961,"answer_id":72349526,"question_id":72349401,"body_markdown":"&gt; I&#39;m trying to write a JSON file with GSON in the resources folder\r\n\r\nWell, that&#39;s your problem. Because that&#39;s completely impossible.\r\n\r\nThe &#39;resources&#39; folder is a thing that exists on the computer of the developer __only__. Hence, you can&#39;t write to a thing that doesn&#39;t exist.\r\n\r\nThe resources folder is solely for read-only resources. Think files of tabular data (say, a list of country names and phone number prefixes), icon files, HTML templates, that sort of business.\r\n\r\nYou can __only__ load these files with `GsonRepository.class.getResource` and (`.getResourceAsStream`) - any attempt to treat them as files will work during dev and then fail when you deploy.\r\n\r\nIf you have config files or save files, these don&#39;t go in the resources folder, aren&#39;t loaded with `.getResource` at all. You should place these in the user&#39;s home dir (`System.getProperty(&quot;user.home&quot;)`): The directory where the java app is installed will not be writable by the app itself (or if it is, you have a pretty badly configured OS for security purposes. Windows is, of course, badly configured. That doesn&#39;t make it a good idea to start sticking user-editable data files in the install dir of the app, though!)\r\n\r\n&gt; `new FileWriter(this.getClass().getResource`\r\n\r\nthis doesn&#39;t make sense. In java, `File` means __file__. And a resource is __not a file__ - for example, an entry in a jar file is not a file. But, resources tend to be entries in jar files.\r\n\r\nNote that it&#39;s `YourClass.class.getResource`, not `.getClass().getResource` - the latter can break when you subclass, the former never breaks and is therefore superior in every way. When there are 2 ways to do a thing that are virtually identical in readability, and one is applicable to strictly more scenarios than the other, then never use the other.\r\n","title":"How do I write a JSON file using GSON in the resources folder without using src/main/resources?","body":"<blockquote>\n<p>I'm trying to write a JSON file with GSON in the resources folder</p>\n</blockquote>\n<p>Well, that's your problem. Because that's completely impossible.</p>\n<p>The 'resources' folder is a thing that exists on the computer of the developer <strong>only</strong>. Hence, you can't write to a thing that doesn't exist.</p>\n<p>The resources folder is solely for read-only resources. Think files of tabular data (say, a list of country names and phone number prefixes), icon files, HTML templates, that sort of business.</p>\n<p>You can <strong>only</strong> load these files with <code>GsonRepository.class.getResource</code> and (<code>.getResourceAsStream</code>) - any attempt to treat them as files will work during dev and then fail when you deploy.</p>\n<p>If you have config files or save files, these don't go in the resources folder, aren't loaded with <code>.getResource</code> at all. You should place these in the user's home dir (<code>System.getProperty(&quot;user.home&quot;)</code>): The directory where the java app is installed will not be writable by the app itself (or if it is, you have a pretty badly configured OS for security purposes. Windows is, of course, badly configured. That doesn't make it a good idea to start sticking user-editable data files in the install dir of the app, though!)</p>\n<blockquote>\n<p><code>new FileWriter(this.getClass().getResource</code></p>\n</blockquote>\n<p>this doesn't make sense. In java, <code>File</code> means <strong>file</strong>. And a resource is <strong>not a file</strong> - for example, an entry in a jar file is not a file. But, resources tend to be entries in jar files.</p>\n<p>Note that it's <code>YourClass.class.getResource</code>, not <code>.getClass().getResource</code> - the latter can break when you subclass, the former never breaks and is therefore superior in every way. When there are 2 ways to do a thing that are virtually identical in readability, and one is applicable to strictly more scenarios than the other, then never use the other.</p>\n"}],"owner":{"account_id":20216375,"reputation":7,"user_id":14827050,"display_name":"Ludvig Nobel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72349526,"answer_count":1,"score":0,"last_activity_date":1653312961,"creation_date":1653312444,"question_id":72349401,"body_markdown":"I&#39;m trying to write a JSON file with GSON in the resources folder without using src/main/resources:\r\n```\r\npackage repository;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport org.tinylog.Logger;\r\n\r\nimport java.io.*;\r\nimport java.util.List;\r\n\r\npublic class GsonRepository&lt;T&gt; extends Repository&lt;T&gt; {\r\n\r\n    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n    public GsonRepository(Class&lt;T&gt; elementType) {\r\n        super(elementType);\r\n    }\r\n\r\n    public void saveToFile(String resourceName) throws IOException {\r\n        try (var writer = new FileWriter(this.getClass().getResource(resourceName).getPath())) {\r\n            GSON.toJson(elements, writer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis doesn&#39;t seem to be working. What am I doing wrong?","title":"How do I write a JSON file using GSON in the resources folder without using src/main/resources?","body":"<p>I'm trying to write a JSON file with GSON in the resources folder without using src/main/resources:</p>\n<pre><code>package repository;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.reflect.TypeToken;\nimport org.tinylog.Logger;\n\nimport java.io.*;\nimport java.util.List;\n\npublic class GsonRepository&lt;T&gt; extends Repository&lt;T&gt; {\n\n    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().create();\n\n    public GsonRepository(Class&lt;T&gt; elementType) {\n        super(elementType);\n    }\n\n    public void saveToFile(String resourceName) throws IOException {\n        try (var writer = new FileWriter(this.getClass().getResource(resourceName).getPath())) {\n            GSON.toJson(elements, writer);\n        }\n    }\n}\n</code></pre>\n<p>This doesn't seem to be working. What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","netbeans"],"comments":[{"owner":{"account_id":7658058,"reputation":154,"user_id":5804203,"display_name":"Alexander Heim"},"score":0,"creation_date":1504863914,"post_id":46113395,"comment_id":79189089,"body_markdown":"Sadly not as far as I know. Would be a cool feature though...","body":"Sadly not as far as I know. Would be a cool feature though..."},{"owner":{"account_id":7286028,"reputation":718,"user_id":5554070,"accept_rate":67,"display_name":"Vishnu KR"},"score":0,"creation_date":1504864217,"post_id":46113395,"comment_id":79189288,"body_markdown":"Why are you sticking with netbeans :-), there are other IDEs like sts, Intelij Idea . . .etc which are providing functionality that you mentioned.","body":"Why are you sticking with netbeans :-), there are other IDEs like sts, Intelij Idea . . .etc which are providing functionality that you mentioned."}],"answers":[{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504865550,"creation_date":1504865550,"answer_id":46114055,"question_id":46113395,"body_markdown":"There is a way around it. If you change just a a method body and your application is running in debug mode, you can just apply code changes (see [this question][1]). This will not work if you modify class structures (new methods, annotations and such).\r\n\r\nIf you need more, you can use [DCEVM][2] (for class modifications) or JRebel (commercial, but very capable).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10084388/731178\r\n  [2]: http://dcevm.github.io/","title":"Netbeans 8.2: Is restarting a project required to see changes?","body":"<p>There is a way around it. If you change just a a method body and your application is running in debug mode, you can just apply code changes (see <a href=\"https://stackoverflow.com/a/10084388/731178\">this question</a>). This will not work if you modify class structures (new methods, annotations and such).</p>\n\n<p>If you need more, you can use <a href=\"http://dcevm.github.io/\" rel=\"nofollow noreferrer\">DCEVM</a> (for class modifications) or JRebel (commercial, but very capable).</p>\n"},{"tags":[],"owner":{"account_id":25333529,"reputation":1,"user_id":19153002,"display_name":"Drishti Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653312359,"creation_date":1653301764,"answer_id":72347030,"question_id":46113395,"body_markdown":"For automatic building and restarting of (Spring Boot) application, please add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;","title":"Netbeans 8.2: Is restarting a project required to see changes?","body":"<p>For automatic building and restarting of (Spring Boot) application, please add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2056089,"reputation":10271,"user_id":3457177,"accept_rate":78,"display_name":"Vitalii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46114055,"answer_count":2,"score":1,"last_activity_date":1653312359,"creation_date":1504863715,"question_id":46113395,"body_markdown":"I have SpringBoot application in NetBeans 8.2 When it&#39;s run I can change content of static .js, .css, etc. files and see changes after web page refresh in browser. \r\n\r\nIf I change some controller code I need to stop my application and than start it again what is quite annoying. \r\n\r\nIs it possible to configure Netbeans to see those changes without restart? ","title":"Netbeans 8.2: Is restarting a project required to see changes?","body":"<p>I have SpringBoot application in NetBeans 8.2 When it's run I can change content of static .js, .css, etc. files and see changes after web page refresh in browser. </p>\n\n<p>If I change some controller code I need to stop my application and than start it again what is quite annoying. </p>\n\n<p>Is it possible to configure Netbeans to see those changes without restart? </p>\n"},{"tags":["java","github","gradle","yaml"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653307610,"post_id":72348213,"comment_id":127812057,"body_markdown":"You need to explain in much more detail what you want to do. Please read [ask].","body":"You need to explain in much more detail what you want to do. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":13794099,"reputation":1,"user_id":9955695,"display_name":"watermelone"},"score":0,"creation_date":1653312285,"post_id":72348213,"comment_id":127814080,"body_markdown":"thank you for the hint, I just edited my question, is it now better?","body":"thank you for the hint, I just edited my question, is it now better?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653346095,"post_id":72348213,"comment_id":127825181,"body_markdown":"The library mentioned in the answer you linked to seemed like a good start. How far did you get and where are you stuck?","body":"The library mentioned in the answer you linked to seemed like a good start. How far did you get and where are you stuck?"},{"owner":{"account_id":13794099,"reputation":1,"user_id":9955695,"display_name":"watermelone"},"score":0,"creation_date":1653376105,"post_id":72348213,"comment_id":127830281,"body_markdown":"I couldn&#39;t find the gradle dependency for this githubrepository...","body":"I couldn&#39;t find the gradle dependency for this githubrepository..."}],"owner":{"account_id":13794099,"reputation":1,"user_id":9955695,"display_name":"watermelone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653312260,"creation_date":1653307351,"question_id":72348213,"body_markdown":"Background information:\r\nI have a small java application (using quarkus/gradle) that simply provides REST API from other services&#39; yaml file. Currently, the yaml files are copied to this repository manually which needs to be automated.\r\n\r\nTherefore, I need to access a github repository where the original yaml files exists and copy those yaml files from there into my own repository.\r\n\r\nThis is what I found out from my research here, but this didn&#39;t really help to solve my problem:\r\n[How to connect to github using Java Program][1]\r\n\r\nAnyone idea how this is realizeable/ How the access to another repository can be enabled using github token?\r\n\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48282945/how-to-connect-to-github-using-java-program","title":"How to access an external github repository to copy file from there (java)","body":"<p>Background information:\nI have a small java application (using quarkus/gradle) that simply provides REST API from other services' yaml file. Currently, the yaml files are copied to this repository manually which needs to be automated.</p>\n<p>Therefore, I need to access a github repository where the original yaml files exists and copy those yaml files from there into my own repository.</p>\n<p>This is what I found out from my research here, but this didn't really help to solve my problem:\n<a href=\"https://stackoverflow.com/questions/48282945/how-to-connect-to-github-using-java-program\">How to connect to github using Java Program</a></p>\n<p>Anyone idea how this is realizeable/ How the access to another repository can be enabled using github token?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","interface","casting","compilation","runtime"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1380730363,"post_id":19141622,"comment_id":28310546,"body_markdown":"because polymorphism happens at run time.","body":"because polymorphism happens at run time."},{"owner":{"account_id":1004103,"reputation":636,"user_id":1630675,"accept_rate":85,"display_name":"enp4yne"},"score":0,"creation_date":1380730574,"post_id":19141622,"comment_id":28310692,"body_markdown":"but the compiler knows that Cat doesn&#39;t implement Furniture, and that can&#39;t change at run time? I might be missing a simple point, but your answer doesn&#39;t really help me","body":"but the compiler knows that Cat doesn&#39;t implement Furniture, and that can&#39;t change at run time? I might be missing a simple point, but your answer doesn&#39;t really help me"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1380731000,"post_id":19141622,"comment_id":28310959,"body_markdown":"Because.  Even though Cat may not directly implement Furniture, some superclass of Cat may.  And the compiler chooses to not dig into such ugly details, since the rules for interfaces are pretty convoluted.  (Thank you, Sun.)  And there is no general rule *requiring* the compiler to detect an inevitable runtime exception (such as divide by zero) -- it&#39;s more of a &quot;service&quot; it provides.","body":"Because.  Even though Cat may not directly implement Furniture, some superclass of Cat may.  And the compiler chooses to not dig into such ugly details, since the rules for interfaces are pretty convoluted.  (Thank you, Sun.)  And there is no general rule <i>requiring</i> the compiler to detect an inevitable runtime exception (such as divide by zero) -- it&#39;s more of a &quot;service&quot; it provides."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1380731533,"post_id":19141622,"comment_id":28311236,"body_markdown":"possible duplicate of [Why does this instanceof code work and does not cause a compile time error?](http://stackoverflow.com/questions/3897467/why-does-this-instanceof-code-work-and-does-not-cause-a-compile-time-error)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3897467/why-does-this-instanceof-code-work-and-does-not-cause-a-compile-time-error\">Why does this instanceof code work and does not cause a compile time error?</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1653312254,"creation_date":1380732469,"answer_id":19142321,"question_id":19141622,"body_markdown":"The reason this compiles\r\n\r\n    interface Furniture {}\r\n    \r\n    class Test {\r\n       public static void main(String[] args) {\r\n           Furniture f; \r\n           Cat cat = new Cat();\r\n           f = (Furniture)cat; //runtime error\r\n       }\r\n    }\r\n\r\nis that you may very well have\r\n\r\n    public class CatFurniture extends Cat implements Furniture {}\r\n\r\nIf you create a `CatFurniture` instance, you can assign it to `Cat cat` and that instance can be casted to `Furniture`. In other words, it&#39;s possible that some `Cat` subtype does implement the `Furniture` interface.\r\n\r\nIn your first example\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            Chair chair = new Chair();\r\n            Cat cat = new Cat();\r\n            chair = (Chair)cat; //compile error\r\n        }\r\n    }\r\n\r\nit&#39;s impossible that some `Cat` subtype extends `Chair` unless `Cat` itself extends from `Chair`.","title":"Casting a class to an unrelated interface","body":"<p>The reason this compiles</p>\n<pre><code>interface Furniture {}\n\nclass Test {\n   public static void main(String[] args) {\n       Furniture f; \n       Cat cat = new Cat();\n       f = (Furniture)cat; //runtime error\n   }\n}\n</code></pre>\n<p>is that you may very well have</p>\n<pre><code>public class CatFurniture extends Cat implements Furniture {}\n</code></pre>\n<p>If you create a <code>CatFurniture</code> instance, you can assign it to <code>Cat cat</code> and that instance can be casted to <code>Furniture</code>. In other words, it's possible that some <code>Cat</code> subtype does implement the <code>Furniture</code> interface.</p>\n<p>In your first example</p>\n<pre><code>class Test {\n    public static void main(String[] args) {\n        Chair chair = new Chair();\n        Cat cat = new Cat();\n        chair = (Chair)cat; //compile error\n    }\n}\n</code></pre>\n<p>it's impossible that some <code>Cat</code> subtype extends <code>Chair</code> unless <code>Cat</code> itself extends from <code>Chair</code>.</p>\n"}],"owner":{"account_id":1004103,"reputation":636,"user_id":1630675,"accept_rate":85,"display_name":"enp4yne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1752,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":19142321,"answer_count":1,"score":12,"last_activity_date":1653312254,"creation_date":1380730313,"question_id":19141622,"body_markdown":"Obviously, this results in a compilation error because Chair is not related to Cat:\r\n\r\n    class Chair {}\r\n    class Cat {}\r\n\r\n    class Test {\r\n       public static void main(String[] args) {\r\n           Chair chair = new Char(); Cat cat = new Cat();\r\n           chair = (Chair)cat; //compile error\r\n       }\r\n    }\r\n\r\nWhy is it then that I only get an exception at run time when I cast a Cat reference to the unrelated interface Furniture, while the compiler can obviously tell that Cat does not implement Furniture?\r\n\r\n    interface Furniture {}\r\n\r\n    class Test {\r\n       public static void main(String[] args) {\r\n           Furniture f; Cat cat = new Cat();\r\n           f = (Furniture)cat; //runtime error\r\n       }\r\n    }\r\n\r\n","title":"Casting a class to an unrelated interface","body":"<p>Obviously, this results in a compilation error because Chair is not related to Cat:</p>\n<pre><code>class Chair {}\nclass Cat {}\n\nclass Test {\n   public static void main(String[] args) {\n       Chair chair = new Char(); Cat cat = new Cat();\n       chair = (Chair)cat; //compile error\n   }\n}\n</code></pre>\n<p>Why is it then that I only get an exception at run time when I cast a Cat reference to the unrelated interface Furniture, while the compiler can obviously tell that Cat does not implement Furniture?</p>\n<pre><code>interface Furniture {}\n\nclass Test {\n   public static void main(String[] args) {\n       Furniture f; Cat cat = new Cat();\n       f = (Furniture)cat; //runtime error\n   }\n}\n</code></pre>\n"},{"tags":["java","android","opencv","object-detection","tensorflow-lite"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1653310859,"post_id":72348756,"comment_id":127813404,"body_markdown":"Both methods return an object of type `Mat` (or subclass - it&#39;s not clear from code what `mRgba` is specifically) - so I think the question is what is the relationship between the two in terms of matrix operations ?  And then which matrix operation is suitable.  Also, in `onCameraFrame` , after `mRgba` is assigned the remaining code seems to have no effect although it&#39;s likely I&#39;m misreading it .","body":"Both methods return an object of type <code>Mat</code> (or subclass - it&#39;s not clear from code what <code>mRgba</code> is specifically) - so I think the question is what is the relationship between the two in terms of matrix operations ?  And then which matrix operation is suitable.  Also, in <code>onCameraFrame</code> , after <code>mRgba</code> is assigned the remaining code seems to have no effect although it&#39;s likely I&#39;m misreading it ."},{"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"score":0,"creation_date":1653312045,"post_id":72348756,"comment_id":127813962,"body_markdown":"Oh, I solved it. Both returns ```mRgba```.  So output ```mRgba``` and just add ```objectDetectorClass.recognizeImage(mRgba)``` b/c ```objectDetectorClass.recognizeImage``` needs input ```mRgba```.","body":"Oh, I solved it. Both returns <code>mRgba</code>.  So output <code>mRgba</code> and just add <code>objectDetectorClass.recognizeImage(mRgba)</code> b/c <code>objectDetectorClass.recognizeImage</code> needs input <code>mRgba</code>."}],"answers":[{"tags":[],"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653312131,"creation_date":1653312131,"answer_id":72349323,"question_id":72348756,"body_markdown":"I solved the issue. \r\nThe answer was to return\r\n```\r\n//return mRgba;\r\n        Mat out=new Mat();\r\n        out= objectDetectorClass.recognizeImage(mRgba);\r\n        return out;\r\n```","title":"Combine lane detection and object detection in Android, Android Studio","body":"<p>I solved the issue.\nThe answer was to return</p>\n<pre><code>//return mRgba;\n        Mat out=new Mat();\n        out= objectDetectorClass.recognizeImage(mRgba);\n        return out;\n</code></pre>\n"}],"owner":{"account_id":24919781,"reputation":51,"user_id":18788203,"display_name":"ywseo97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653312131,"creation_date":1653310044,"question_id":72348756,"body_markdown":"I want to make application that specified detects with line detection. First I made my application about really basic line detection. Below code is about part of line detection.\r\n```\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();\r\n        mGray=inputFrame.gray();\r\n        mat3=inputFrame.rgba();\r\n\r\n        // Code about ROI(Region of Interest)\r\n        double m_dWscale = (double)  5/6;\r\n        double m_dHscale = (double) 1/2;\r\n        double m_dWscale1 = (double)  4/6;\r\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\r\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\r\n        int mRoiWidth1 = (int)(mRgba.size().width * m_dWscale1);\r\n\r\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\r\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\r\n\r\n        roi_rect = new Rect(mRoiX,mRoiY,mRoiWidth1,mRoiHeight);\r\n        m_matRoi = mRgba.submat(roi_rect);\r\n        Imgproc.cvtColor(m_matRoi, m_matRoi, Imgproc.COLOR_BGR2GRAY, 1);\r\n        m_matRoi.copyTo(mRgba.submat(roi_rect));\r\n       \r\n\r\n        //Code about BGR to HSV\r\n        scalarLow=new Scalar(0,0,200);\r\n        scalarHigh=new Scalar(180,255,255);\r\n        Imgproc.cvtColor(mRgba.submat(roi_rect),mat1,Imgproc.COLOR_BGR2HSV);\r\n\r\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\r\n        Core.bitwise_and(mRgba.submat(roi_rect),mRgba.submat(roi_rect),mat1,mat2);\r\n        mRgba=mat3;\r\n        Imgproc.dilate(mat1,mat1,new Mat(),new Point(1,2),2);\r\n        Mat edges=new Mat();\r\n\r\n        //Code about Canny Edge \r\n        Imgproc.Canny(mat1,edges,90,150);\r\n\r\n        //Code about Hough transform\r\n        Mat lines=new Mat();\r\n\r\n        Point p1=new Point();\r\n        Point p2=new Point();\r\n        double a,b;\r\n        double x0,y0;\r\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);\r\n\r\n        for(int i=0;i&lt;lines.rows();i++) {\r\n            double[] l = lines.get(i, 0);\r\n\r\n            Imgproc.line(mRgba.submat(roi_rect), new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\r\n        }\r\n        //returns output\r\n        return mRgba;\r\n    }\r\n```\r\n\r\nAnd I want to combine upper code with tensorflow lite detection(see the below code please)\r\nCode about tensorflow lite\r\n```\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();\r\n        mGray=inputFrame.gray();\r\n\r\n\r\n        Mat out=new Mat();\r\n        out= objectDetectorClass.recognizeImage(mRgba); //objectDetectorClass is another class which acts about object detection\r\n        return out;\r\n    }\r\n```\r\n\r\nSo line detection code returns ```mRgba``` and object detection code returns ```out```. I have no idea how to return both lines and object detection.\r\n\r\nThank you!\r\n\r\nps1) I forgot to upload github link about tensorflow lite, object detection application code. https://github.com/bendahouwael/Vehicle-Detection-App-Android. Hope this github helps you.","title":"Combine lane detection and object detection in Android, Android Studio","body":"<p>I want to make application that specified detects with line detection. First I made my application about really basic line detection. Below code is about part of line detection.</p>\n<pre><code>    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();\n        mGray=inputFrame.gray();\n        mat3=inputFrame.rgba();\n\n        // Code about ROI(Region of Interest)\n        double m_dWscale = (double)  5/6;\n        double m_dHscale = (double) 1/2;\n        double m_dWscale1 = (double)  4/6;\n        int mRoiWidth = (int)(mRgba.size().width * m_dWscale);\n        int mRoiHeight = (int)(mRgba.size().height * m_dHscale);\n        int mRoiWidth1 = (int)(mRgba.size().width * m_dWscale1);\n\n        int mRoiX = (int) (mRgba.size().width - mRoiWidth) ;\n        int mRoiY = (int) (mRgba.size().height - mRoiHeight) ;\n\n        roi_rect = new Rect(mRoiX,mRoiY,mRoiWidth1,mRoiHeight);\n        m_matRoi = mRgba.submat(roi_rect);\n        Imgproc.cvtColor(m_matRoi, m_matRoi, Imgproc.COLOR_BGR2GRAY, 1);\n        m_matRoi.copyTo(mRgba.submat(roi_rect));\n       \n\n        //Code about BGR to HSV\n        scalarLow=new Scalar(0,0,200);\n        scalarHigh=new Scalar(180,255,255);\n        Imgproc.cvtColor(mRgba.submat(roi_rect),mat1,Imgproc.COLOR_BGR2HSV);\n\n        Core.inRange(mat1,scalarLow,scalarHigh,mat2);\n        Core.bitwise_and(mRgba.submat(roi_rect),mRgba.submat(roi_rect),mat1,mat2);\n        mRgba=mat3;\n        Imgproc.dilate(mat1,mat1,new Mat(),new Point(1,2),2);\n        Mat edges=new Mat();\n\n        //Code about Canny Edge \n        Imgproc.Canny(mat1,edges,90,150);\n\n        //Code about Hough transform\n        Mat lines=new Mat();\n\n        Point p1=new Point();\n        Point p2=new Point();\n        double a,b;\n        double x0,y0;\n        Imgproc.HoughLinesP(edges,lines,1.0,Math.PI/180.0,50,100.0,10.0);\n\n        for(int i=0;i&lt;lines.rows();i++) {\n            double[] l = lines.get(i, 0);\n\n            Imgproc.line(mRgba.submat(roi_rect), new Point(l[0], l[1]), new Point(l[2], l[3]), new Scalar(0, 0, 255.0), 3);\n        }\n        //returns output\n        return mRgba;\n    }\n</code></pre>\n<p>And I want to combine upper code with tensorflow lite detection(see the below code please)\nCode about tensorflow lite</p>\n<pre><code>    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();\n        mGray=inputFrame.gray();\n\n\n        Mat out=new Mat();\n        out= objectDetectorClass.recognizeImage(mRgba); //objectDetectorClass is another class which acts about object detection\n        return out;\n    }\n</code></pre>\n<p>So line detection code returns <code>mRgba</code> and object detection code returns <code>out</code>. I have no idea how to return both lines and object detection.</p>\n<p>Thank you!</p>\n<p>ps1) I forgot to upload github link about tensorflow lite, object detection application code. <a href=\"https://github.com/bendahouwael/Vehicle-Detection-App-Android\" rel=\"nofollow noreferrer\">https://github.com/bendahouwael/Vehicle-Detection-App-Android</a>. Hope this github helps you.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"score":0,"creation_date":1653312802,"post_id":72349320,"comment_id":127814289,"body_markdown":"do you use any framework that supports annotation processing or AOP?","body":"do you use any framework that supports annotation processing or AOP?"},{"owner":{"account_id":8775529,"reputation":181,"user_id":6560929,"accept_rate":0,"display_name":"bhreinb"},"score":0,"creation_date":1653324227,"post_id":72349320,"comment_id":127819008,"body_markdown":"For now I&#39;m not using annotation processing or AOP. I thought this could be possible to do by providing a class that extends class `javax.annotation.processing.AbstractProcessor`?","body":"For now I&#39;m not using annotation processing or AOP. I thought this could be possible to do by providing a class that extends class <code>javax.annotation.processing.AbstractProcessor</code>?"},{"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"score":0,"creation_date":1653332961,"post_id":72349320,"comment_id":127821969,"body_markdown":"as you want to use `javax.annotation.processing.AbstractProcessor`, this link may help you: https://www.baeldung.com/java-annotation-processing-builder. The strategy that I would pick to identify if a Class is extended or not is reflection. You get the Class and then get the information from it.","body":"as you want to use <code>javax.annotation.processing.AbstractProcessor</code>, this link may help you: <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a>. The strategy that I would pick to identify if a Class is extended or not is reflection. You get the Class and then get the information from it."}],"owner":{"account_id":8775529,"reputation":181,"user_id":6560929,"accept_rate":0,"display_name":"bhreinb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653313965,"answer_count":0,"score":0,"last_activity_date":1653312117,"creation_date":1653312117,"question_id":72349320,"body_markdown":"Let&#39;s assume I have the following interface annotation `@MyAnnotation`. \r\n\r\n```\r\n@Retention(RetentionPolicy.SOURCE)\r\n@Target(ElementType.TYPE)\r\n@interface MyAnnotation {\r\n}\r\n```\r\n\r\nI want to implement in such a way that when someone consumes the annotation at compile time they will be told that they must **extend** a certain base class for example\r\n\r\n```\r\n@MyAnnotation\r\nclass Concrete extends Base {\r\n\r\n}\r\n```\r\n\r\nThe `Base` class is an abstract class that contains helper methods etc. So the idea is if anyone wishes to use the annotation `MyAnnotation` they would get a helpful hint to say that they must extend class `Base`. Is this possible at all?\r\n\r\nI believe the type checker framework (https://checkerframework.org/manual/) accomplishes similar aspirations to what I&#39;m after in that it has a `SubtypeOf` annotation but that seems to accept classes that extend `java.lang.annotation.Annotation`. Thanks in advance as to any help with the above.","title":"Create an annotation that forces a class where the annotation is applied to extend a particular superclass","body":"<p>Let's assume I have the following interface annotation <code>@MyAnnotation</code>.</p>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.TYPE)\n@interface MyAnnotation {\n}\n</code></pre>\n<p>I want to implement in such a way that when someone consumes the annotation at compile time they will be told that they must <strong>extend</strong> a certain base class for example</p>\n<pre><code>@MyAnnotation\nclass Concrete extends Base {\n\n}\n</code></pre>\n<p>The <code>Base</code> class is an abstract class that contains helper methods etc. So the idea is if anyone wishes to use the annotation <code>MyAnnotation</code> they would get a helpful hint to say that they must extend class <code>Base</code>. Is this possible at all?</p>\n<p>I believe the type checker framework (<a href=\"https://checkerframework.org/manual/\" rel=\"nofollow noreferrer\">https://checkerframework.org/manual/</a>) accomplishes similar aspirations to what I'm after in that it has a <code>SubtypeOf</code> annotation but that seems to accept classes that extend <code>java.lang.annotation.Annotation</code>. Thanks in advance as to any help with the above.</p>\n"},{"tags":["java","spring-boot","shared-libraries"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1535489953,"post_id":52065394,"comment_id":91082647,"body_markdown":"You use `@ContextConfiguration` or, better yet, just write a unit test and instantiate the DAO directly (feed it a `DataSource` in the constructor). Best of all if you can use Spring Data and not write any DAOs in the first place.","body":"You use <code>@ContextConfiguration</code> or, better yet, just write a unit test and instantiate the DAO directly (feed it a <code>DataSource</code> in the constructor). Best of all if you can use Spring Data and not write any DAOs in the first place."},{"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1535494218,"post_id":52065394,"comment_id":91084041,"body_markdown":"Thanks @chrylis for comment. Could you elaborate an example through an answer?","body":"Thanks @chrylis for comment. Could you elaborate an example through an answer?"},{"owner":{"account_id":15428698,"reputation":91,"user_id":11130731,"display_name":"tony"},"score":0,"creation_date":1653312509,"post_id":52065394,"comment_id":127814177,"body_markdown":"Any suggestion? Because I&#39;m trying to find a way &#129315;","body":"Any suggestion? Because I&#39;m trying to find a way 🤣"}],"answers":[{"tags":[],"owner":{"account_id":15428698,"reputation":91,"user_id":11130731,"display_name":"tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653311867,"creation_date":1653311867,"answer_id":72349251,"question_id":52065394,"body_markdown":"How about building this library as a normal spring project and adding the dependency on the `spring.factories`?\r\n\r\n","title":"How to create spring boot shared library for DAO implementations","body":"<p>How about building this library as a normal spring project and adding the dependency on the <code>spring.factories</code>?</p>\n"}],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653311867,"creation_date":1535486432,"question_id":52065394,"body_markdown":"We received a requirement where we have to build a modularized app compound of multiple shared libraries that would be used by apps that provides graphql queries to expose these shared libraries operations.\r\n\r\nOne of this shared libraries is the &quot;core&quot; jar that should contain all the DAO implementations (create, update, delete, read entities). However, this core won&#39;t have any REST nor running entry point.\r\n\r\nLater, this core jar will be added as a maven dependency by the graphql app that would expose all the queries/mutations that would use the shared library.\r\n\r\nI could create with any problem the spring boot graphql app and the spring boot core shared library (not as autoconfiguration module) scaffolding and wire the dependencies. However, in the core library project when I started implementing the DAOs I faced the problem that don&#39;t know how to test the code since there is no running entry point for it. Also, if I have to create test cases I will have to create the test configuration that should start a running app in order to execute the spring test.\r\n\r\nIn addition, creating this core library got more complicated since I have to use JOOQ and FlywayDB, so for running test cases I will have to use an embedded Postgresql db.\r\n\r\nI&#39;m a bit lost about implementing this requirement, I feel that it would be much more simpler to build a single app with no shared libraries and later on start refactoring it. \r\n\r\nAm I missing anything here? How can I execute to debug (and also for testing) a shared library to operate DBs if I have no entry point?\r\n","title":"How to create spring boot shared library for DAO implementations","body":"<p>We received a requirement where we have to build a modularized app compound of multiple shared libraries that would be used by apps that provides graphql queries to expose these shared libraries operations.</p>\n\n<p>One of this shared libraries is the \"core\" jar that should contain all the DAO implementations (create, update, delete, read entities). However, this core won't have any REST nor running entry point.</p>\n\n<p>Later, this core jar will be added as a maven dependency by the graphql app that would expose all the queries/mutations that would use the shared library.</p>\n\n<p>I could create with any problem the spring boot graphql app and the spring boot core shared library (not as autoconfiguration module) scaffolding and wire the dependencies. However, in the core library project when I started implementing the DAOs I faced the problem that don't know how to test the code since there is no running entry point for it. Also, if I have to create test cases I will have to create the test configuration that should start a running app in order to execute the spring test.</p>\n\n<p>In addition, creating this core library got more complicated since I have to use JOOQ and FlywayDB, so for running test cases I will have to use an embedded Postgresql db.</p>\n\n<p>I'm a bit lost about implementing this requirement, I feel that it would be much more simpler to build a single app with no shared libraries and later on start refactoring it. </p>\n\n<p>Am I missing anything here? How can I execute to debug (and also for testing) a shared library to operate DBs if I have no entry point?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2175788,"reputation":997,"user_id":1926497,"display_name":"Kyri Elia"},"score":5,"creation_date":1652956827,"post_id":72303056,"comment_id":127735690,"body_markdown":"Please can you share the stack trace you are getting when the bean is not initialised? I have a suspicion of what might be happening, but the stack trace will help confirm/disprove that suspicion.","body":"Please can you share the stack trace you are getting when the bean is not initialised? I have a suspicion of what might be happening, but the stack trace will help confirm/disprove that suspicion."},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1652959193,"post_id":72303056,"comment_id":127736545,"body_markdown":"There&#39;s something off going on. this field cannot be null if bean is initialized by Spring. I recommend changing `currentStatus` field to private final, add constructor and verify in constructor that this field is not null with `Assert.notNull()`. You&#39;ll likely find then whats wrong.","body":"There&#39;s something off going on. this field cannot be null if bean is initialized by Spring. I recommend changing <code>currentStatus</code> field to private final, add constructor and verify in constructor that this field is not null with <code>Assert.notNull()</code>. You&#39;ll likely find then whats wrong."}],"answers":[{"tags":[],"owner":{"account_id":2175788,"reputation":997,"user_id":1926497,"display_name":"Kyri Elia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653311815,"creation_date":1652960136,"answer_id":72303838,"question_id":72303056,"body_markdown":"I believe you should do:\r\n\r\n```java\r\n@Configuration\r\npublic class ConfigStatus {\r\n\r\n    @Bean\r\n    Status currentStatus(@Value(&quot;${olt.id}&quot;) int olt_id) {\r\n        return new Status(olt_id);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not 100% confident if Spring prioritises `@Value` over `@Bean` in its instantiation order, so doing this guarantees the ordering. It may be that some of your instances are trying to load the bean before the value is there, so bails out on some NPE.\r\n\r\nAlso, you should be able to drop the line: `@DependsOn(&quot;createStatus&quot;)` in `ReceiveMessageHandler.java`. Spring runs `@Configuration` classes before `@Service` classes, and `@Autowired` matches on type.","title":"Bean failiing to initialize in a not deterministic way","body":"<p>I believe you should do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ConfigStatus {\n\n    @Bean\n    Status currentStatus(@Value(&quot;${olt.id}&quot;) int olt_id) {\n        return new Status(olt_id);\n    }\n}\n</code></pre>\n<p>I'm not 100% confident if Spring prioritises <code>@Value</code> over <code>@Bean</code> in its instantiation order, so doing this guarantees the ordering. It may be that some of your instances are trying to load the bean before the value is there, so bails out on some NPE.</p>\n<p>Also, you should be able to drop the line: <code>@DependsOn(&quot;createStatus&quot;)</code> in <code>ReceiveMessageHandler.java</code>. Spring runs <code>@Configuration</code> classes before <code>@Service</code> classes, and <code>@Autowired</code> matches on type.</p>\n"}],"owner":{"account_id":15633288,"reputation":25,"user_id":14836489,"display_name":"Pedro Ribeiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72303838,"answer_count":1,"score":0,"last_activity_date":1653311815,"creation_date":1652956673,"question_id":72303056,"body_markdown":"I have a Spring Boot application that has the following bean:\r\n\r\n```java\r\n@Configuration\r\npublic class ConfigStatus {\r\n\r\n    @Value(&quot;${olt.id}&quot;)\r\n    private int olt_id;\r\n\r\n    @Bean\r\n    Status createStatus() {\r\n        return new Status(olt_id);\r\n    }\r\n}\r\n```\r\n\r\nI launch several containers with this application (20 to be exact) and in some of them the bean fails to be initialized and I don&#39;t understand why. The bean is successfuly initialized consistently in 18 of 20 containers. Memory is not an issued as the system I am using has 125gb of ram and at the time of this issue is has 90gb of free memory.\r\n\r\nThis is the class that makes use of the bean:\r\n\r\n```java\r\n@DependsOn(&quot;createStatus&quot;)\r\n@Service\r\npublic class ReceiveMessageHandler {\r\n\r\n    Logger log = LoggerFactory.getLogger(this.getClass().getName());\r\n    private static final Gson converter = new Gson();\r\n\r\n    @Autowired private Status currentStatus;\r\n\r\n    public void handleMessage(String body) {\r\n        OltRequest request = converter.fromJson(body, OltRequest.class);\r\n        request.setStartedBeingProcessedAtOlt(new Date().getTime());\r\n        Response r = new Response(request.getId(), 200, new Date().getTime());\r\n        r.setRequestEnqueuedAtOlt(currentStatus.getEnqueuedAtWorkerTimes().get(request.getId())); // line that fails due to the bean being equal to null\r\n        r.setRequestDequeuedAtOlt(new Date().getTime());\r\n        log.info(&quot;Processing request: &quot; + request.getId());\r\n        try {\r\n            Thread.sleep(request.getDuration());\r\n        } catch(InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        request.setEndedBeingProcessedAtOlt(new Date().getTime());\r\n        log.info(&quot;Finished processing request: &quot; + request.getId());\r\n        r.setEndedHandling(new Date().getTime());\r\n        Worker.send_response(r, request.getOriginMessage().getWorker());\r\n    }\r\n}\r\n```\r\n\r\nThe error messages sais that when the bean was accessed it was null.\r\n\r\nIn the environment I have another Spring Boot app with 30 running docker containers in which this problem does not occurr, ence my disbelief :D.\r\n","title":"Bean failiing to initialize in a not deterministic way","body":"<p>I have a Spring Boot application that has the following bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ConfigStatus {\n\n    @Value(&quot;${olt.id}&quot;)\n    private int olt_id;\n\n    @Bean\n    Status createStatus() {\n        return new Status(olt_id);\n    }\n}\n</code></pre>\n<p>I launch several containers with this application (20 to be exact) and in some of them the bean fails to be initialized and I don't understand why. The bean is successfuly initialized consistently in 18 of 20 containers. Memory is not an issued as the system I am using has 125gb of ram and at the time of this issue is has 90gb of free memory.</p>\n<p>This is the class that makes use of the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DependsOn(&quot;createStatus&quot;)\n@Service\npublic class ReceiveMessageHandler {\n\n    Logger log = LoggerFactory.getLogger(this.getClass().getName());\n    private static final Gson converter = new Gson();\n\n    @Autowired private Status currentStatus;\n\n    public void handleMessage(String body) {\n        OltRequest request = converter.fromJson(body, OltRequest.class);\n        request.setStartedBeingProcessedAtOlt(new Date().getTime());\n        Response r = new Response(request.getId(), 200, new Date().getTime());\n        r.setRequestEnqueuedAtOlt(currentStatus.getEnqueuedAtWorkerTimes().get(request.getId())); // line that fails due to the bean being equal to null\n        r.setRequestDequeuedAtOlt(new Date().getTime());\n        log.info(&quot;Processing request: &quot; + request.getId());\n        try {\n            Thread.sleep(request.getDuration());\n        } catch(InterruptedException e) {\n            e.printStackTrace();\n        }\n        request.setEndedBeingProcessedAtOlt(new Date().getTime());\n        log.info(&quot;Finished processing request: &quot; + request.getId());\n        r.setEndedHandling(new Date().getTime());\n        Worker.send_response(r, request.getOriginMessage().getWorker());\n    }\n}\n</code></pre>\n<p>The error messages sais that when the bean was accessed it was null.</p>\n<p>In the environment I have another Spring Boot app with 30 running docker containers in which this problem does not occurr, ence my disbelief :D.</p>\n"},{"tags":["java","aop"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653311641,"post_id":72349037,"comment_id":127813747,"body_markdown":"@KnockingHeads he specifically states he doesn&#39;t use Spring","body":"@KnockingHeads he specifically states he doesn&#39;t use Spring"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1653311740,"post_id":72349037,"comment_id":127813800,"body_markdown":"https://fw-geekycoder.blogspot.com/2010/05/aspectj-and-aspectj-without-spring.html","body":"<a href=\"https://fw-geekycoder.blogspot.com/2010/05/aspectj-and-aspectj-without-spring.html\" rel=\"nofollow noreferrer\">fw-geekycoder.blogspot.com/2010/05/&hellip;</a>"},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":1,"creation_date":1653311759,"post_id":72349037,"comment_id":127813809,"body_markdown":"https://stackoverflow.com/questions/10205261/how-to-create-custom-annotation-with-code-behind","body":"<a href=\"https://stackoverflow.com/questions/10205261/how-to-create-custom-annotation-with-code-behind\" title=\"how to create custom annotation with code behind\">stackoverflow.com/questions/10205261/&hellip;</a>"}],"owner":{"account_id":15007075,"reputation":33,"user_id":10832794,"display_name":"try.aaam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653311864,"answer_count":0,"score":0,"last_activity_date":1653311347,"creation_date":1653311218,"question_id":72349037,"body_markdown":"Example:\r\n\r\n    @LogMethod\r\n    void getSum(a,b){\r\n       return a+b\r\n    }\r\nbefore method start executing\r\n\r\n       method started\r\n\r\n\r\nafter method executed\r\n\r\n       method end\r\n\r\n\r\n\r\n I am not using spring in my project so can not used spring-aop\r\n\r\n","title":"Can we add annotation to the method to print log before method start and end executing in java","body":"<p>Example:</p>\n<pre><code>@LogMethod\nvoid getSum(a,b){\n   return a+b\n}\n</code></pre>\n<p>before method start executing</p>\n<pre><code>   method started\n</code></pre>\n<p>after method executed</p>\n<pre><code>   method end\n</code></pre>\n<p>I am not using spring in my project so can not used spring-aop</p>\n"},{"tags":["java","cmd","path","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":5,"creation_date":1653310494,"post_id":72348828,"comment_id":127813245,"body_markdown":"What are you expecting when you invoke `javac` with no arguments? If you had a problem with PATH btw, you would get an error message. That&#39;s a help message, which you got because `javac` thinks (quite rightly) that you need it","body":"What are you expecting when you invoke <code>javac</code> with no arguments? If you had a problem with PATH btw, you would get an error message. That&#39;s a help message, which you got because <code>javac</code> thinks (quite rightly) that you need it"}],"answers":[{"tags":[],"owner":{"account_id":24571826,"reputation":53,"user_id":18478131,"display_name":"09fgjbHH90_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653311235,"creation_date":1653310633,"answer_id":72348898,"question_id":72348828,"body_markdown":"You need to fill ```javac``` with options. Meaning that you can&#39;t just call javac without a file to compile. when you write javac in terminal without any arguments, by default it will run ```javac -help``` and display the options you see.\r\n\r\nTo really see if it works:\r\nCreate a new java file.\r\nTo compile (in the same directory): ```javac &lt;java_file_name&gt;.java```\r\nTo run: ```java &lt;java_file_name&gt;```","title":"Java Problem in setting path (can&#39;t compile java in CMD)","body":"<p>You need to fill <code>javac</code> with options. Meaning that you can't just call javac without a file to compile. when you write javac in terminal without any arguments, by default it will run <code>javac -help</code> and display the options you see.</p>\n<p>To really see if it works:\nCreate a new java file.\nTo compile (in the same directory): <code>javac &lt;java_file_name&gt;.java</code>\nTo run: <code>java &lt;java_file_name&gt;</code></p>\n"}],"owner":{"account_id":23086006,"reputation":11,"user_id":17197509,"display_name":"Val Val"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1653318466,"accepted_answer_id":72348898,"answer_count":1,"score":-3,"last_activity_date":1653311235,"creation_date":1653310323,"question_id":72348828,"body_markdown":"i tried to compile java by entering javac, even after setting path, it gave me the response below, if you could help me that would be great, thank you!\r\n\r\n```\r\nC:\\Users\\Hp&gt;set path=&quot;C:\\Program Files\\Java\\jdk1.8.0_333\\bin&quot;\r\n\r\nC:\\Users\\Hp&gt;javac\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nwhere possible options include:\r\n  -g                         Generate all debugging info\r\n  -g:none                    Generate no debugging info\r\n  -g:{lines,vars,source}     Generate only some debugging info\r\n  -nowarn                    Generate no warnings\r\n  -verbose                   Output messages about what the compiler is doing\r\n  -deprecation               Output source locations where deprecated APIs are used\r\n  -classpath &lt;path&gt;          Specify where to find user class files and annotation processors\r\n  -cp &lt;path&gt;                 Specify where to find user class files and annotation processors\r\n  -sourcepath &lt;path&gt;         Specify where to find input source files\r\n  -bootclasspath &lt;path&gt;      Override location of bootstrap class files\r\n  -extdirs &lt;dirs&gt;            Override location of installed extensions\r\n  -endorseddirs &lt;dirs&gt;       Override location of endorsed standards path\r\n  -proc:{none,only}          Control whether annotation processing and/or compilation is done.\r\n  -processor &lt;class1&gt;[,&lt;class2&gt;,&lt;class3&gt;...] Names of the annotation processors to run; bypasses default discovery process\r\n  -processorpath &lt;path&gt;      Specify where to find annotation processors\r\n  -parameters                Generate metadata for reflection on method parameters\r\n  -d &lt;directory&gt;             Specify where to place generated class files\r\n  -s &lt;directory&gt;             Specify where to place generated source files\r\n  -h &lt;directory&gt;             Specify where to place generated native header files\r\n  -implicit:{none,class}     Specify whether or not to generate class files for implicitly referenced files\r\n  -encoding &lt;encoding&gt;       Specify character encoding used by source files\r\n  -source &lt;release&gt;          Provide source compatibility with specified release\r\n  -target &lt;release&gt;          Generate class files for specific VM version\r\n  -profile &lt;profile&gt;         Check that API used is available in the specified profile\r\n  -version                   Version information\r\n  -help                      Print a synopsis of standard options\r\n  -Akey[=value]              Options to pass to annotation processors\r\n  -X                         Print a synopsis of nonstandard options\r\n  -J&lt;flag&gt;                   Pass &lt;flag&gt; directly to the runtime system\r\n  -Werror                    Terminate compilation if warnings occur\r\n  @&lt;filename&gt;                Read options and filenames from file\r\n```","title":"Java Problem in setting path (can&#39;t compile java in CMD)","body":"<p>i tried to compile java by entering javac, even after setting path, it gave me the response below, if you could help me that would be great, thank you!</p>\n<pre><code>C:\\Users\\Hp&gt;set path=&quot;C:\\Program Files\\Java\\jdk1.8.0_333\\bin&quot;\n\nC:\\Users\\Hp&gt;javac\nUsage: javac &lt;options&gt; &lt;source files&gt;\nwhere possible options include:\n  -g                         Generate all debugging info\n  -g:none                    Generate no debugging info\n  -g:{lines,vars,source}     Generate only some debugging info\n  -nowarn                    Generate no warnings\n  -verbose                   Output messages about what the compiler is doing\n  -deprecation               Output source locations where deprecated APIs are used\n  -classpath &lt;path&gt;          Specify where to find user class files and annotation processors\n  -cp &lt;path&gt;                 Specify where to find user class files and annotation processors\n  -sourcepath &lt;path&gt;         Specify where to find input source files\n  -bootclasspath &lt;path&gt;      Override location of bootstrap class files\n  -extdirs &lt;dirs&gt;            Override location of installed extensions\n  -endorseddirs &lt;dirs&gt;       Override location of endorsed standards path\n  -proc:{none,only}          Control whether annotation processing and/or compilation is done.\n  -processor &lt;class1&gt;[,&lt;class2&gt;,&lt;class3&gt;...] Names of the annotation processors to run; bypasses default discovery process\n  -processorpath &lt;path&gt;      Specify where to find annotation processors\n  -parameters                Generate metadata for reflection on method parameters\n  -d &lt;directory&gt;             Specify where to place generated class files\n  -s &lt;directory&gt;             Specify where to place generated source files\n  -h &lt;directory&gt;             Specify where to place generated native header files\n  -implicit:{none,class}     Specify whether or not to generate class files for implicitly referenced files\n  -encoding &lt;encoding&gt;       Specify character encoding used by source files\n  -source &lt;release&gt;          Provide source compatibility with specified release\n  -target &lt;release&gt;          Generate class files for specific VM version\n  -profile &lt;profile&gt;         Check that API used is available in the specified profile\n  -version                   Version information\n  -help                      Print a synopsis of standard options\n  -Akey[=value]              Options to pass to annotation processors\n  -X                         Print a synopsis of nonstandard options\n  -J&lt;flag&gt;                   Pass &lt;flag&gt; directly to the runtime system\n  -Werror                    Terminate compilation if warnings occur\n  @&lt;filename&gt;                Read options and filenames from file\n</code></pre>\n"},{"tags":["java","gradle","javafx","junit"],"answers":[{"tags":[],"owner":{"account_id":23132858,"reputation":51,"user_id":19148934,"display_name":"Andrew Miller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653311061,"creation_date":1653311061,"answer_id":72348991,"question_id":72348863,"body_markdown":"Turns out that I missed something in the Directory structure as I found out with this [wonderful tutorial](https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-running-unit-tests-with-gradle/) and its [corresponding git repo](https://github.com/pkainulainen/junit5-examples). \r\n\r\nThe problem for me was in the directory structure, which should have been the following:\r\n```\r\n├───.gradle\r\n└───src\r\n    ├───main\r\n    │   └───java\r\n    │       └───com\r\n    │           └───example\r\n    │               └───testingtesting\r\n    └───test\r\n        └───java\r\n            └───com\r\n                └───junit5\r\n                    └───!!JUnitTestingFile!!\r\n\r\n```\r\n(note the addition of the **tests.java.com.junit5** folder instead of just the **tests.java** folder)\r\n\r\nI will not claim to fully understand why the directory structure caused an error, so if anyone has any more knowledge as to why this happens please share.\r\n\r\nI also checked that the given gradle build file continues to work with the new build structure despite having a slightly different dependency from the [example project](https://github.com/pkainulainen/junit5-examples) and it does.  ","title":"Gradle test executor failing with non-zero exit value 1 (IntelliJ Idea default Gradle[7.4.1]/JavaFX[17.0.1] build)","body":"<p>Turns out that I missed something in the Directory structure as I found out with this <a href=\"https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-running-unit-tests-with-gradle/\" rel=\"nofollow noreferrer\">wonderful tutorial</a> and its <a href=\"https://github.com/pkainulainen/junit5-examples\" rel=\"nofollow noreferrer\">corresponding git repo</a>.</p>\n<p>The problem for me was in the directory structure, which should have been the following:</p>\n<pre><code>├───.gradle\n└───src\n    ├───main\n    │   └───java\n    │       └───com\n    │           └───example\n    │               └───testingtesting\n    └───test\n        └───java\n            └───com\n                └───junit5\n                    └───!!JUnitTestingFile!!\n\n</code></pre>\n<p>(note the addition of the <strong>tests.java.com.junit5</strong> folder instead of just the <strong>tests.java</strong> folder)</p>\n<p>I will not claim to fully understand why the directory structure caused an error, so if anyone has any more knowledge as to why this happens please share.</p>\n<p>I also checked that the given gradle build file continues to work with the new build structure despite having a slightly different dependency from the <a href=\"https://github.com/pkainulainen/junit5-examples\" rel=\"nofollow noreferrer\">example project</a> and it does.</p>\n"}],"owner":{"account_id":23132858,"reputation":51,"user_id":19148934,"display_name":"Andrew Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653311061,"creation_date":1653310491,"question_id":72348863,"body_markdown":"Working on creating an application with JavaFX and the Gradle build tool:\r\n- JavaFX: 17.0.1\r\n- Gradle: 7.3.1\r\n- Java: Amazon Coretto 17.0.3\r\n- JUnit: 5.8.2\r\n\r\nI encountered the following error while running unit tests in Junit\r\n\r\n```\r\n&gt; Task :test FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.RuntimeException: Unable to parse --add-opens &lt;module&gt;/&lt;package&gt;: com.example.testingtesting/\r\n\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; Process &#39;Gradle Test Executor 2&#39; finished with non-zero exit value 1\r\n```\r\n\r\nI have tried [increasing my heap size](https://discuss.gradle.org/t/gradle-test-executor-x-finished-with-non-zero-exit-value-143/28857) and [cloning the project to another location](https://stackoverflow.com/questions/71366524/java-lang-runtimeexception-unable-to-parse-add-opens). I have also gone through the [gradle docs](https://docs.gradle.org/current/userguide/java_testing.html) and the [gradle github](https://github.com/gradle/gradle/issues/16820) and have not been able to find anything of particular use.\r\n\r\nIn addition I have also gone through the [IntelliJ setup and configuration tutorials](https://www.jetbrains.com/help/idea/javafx.html) and the [JavaFX tutorials](https://openjfx.io/openjfx-docs/#next-steps) but I cannot seem to find anything on the structure or dependencies or anything else relating to the unit tests. I have included additional code information below. (not including the full example because I found the problem)\r\n\r\n\r\n## Directory structure is as follows:\r\n```\r\n├───.gradle\r\n└───src\r\n    ├───main\r\n    │   └───java\r\n    │       └───com\r\n    │           └───example\r\n    │               └───testingtesting\r\n    └───test\r\n        └───java\r\n            └───!!JUnitTestingFile!!\r\n```\r\n## Gradle Build Script\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.24.1&#39;\r\n}\r\n\r\ngroup &#39;com.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.8.2&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.example.testingtesting&#39;\r\n    mainClass = &#39;com.example.testingtesting.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;17.0.1&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Gradle test executor failing with non-zero exit value 1 (IntelliJ Idea default Gradle[7.4.1]/JavaFX[17.0.1] build)","body":"<p>Working on creating an application with JavaFX and the Gradle build tool:</p>\n<ul>\n<li>JavaFX: 17.0.1</li>\n<li>Gradle: 7.3.1</li>\n<li>Java: Amazon Coretto 17.0.3</li>\n<li>JUnit: 5.8.2</li>\n</ul>\n<p>I encountered the following error while running unit tests in Junit</p>\n<pre><code>&gt; Task :test FAILED\nError occurred during initialization of boot layer\njava.lang.RuntimeException: Unable to parse --add-opens &lt;module&gt;/&lt;package&gt;: com.example.testingtesting/\n\nExecution failed for task ':test'.\n&gt; Process 'Gradle Test Executor 2' finished with non-zero exit value 1\n</code></pre>\n<p>I have tried <a href=\"https://discuss.gradle.org/t/gradle-test-executor-x-finished-with-non-zero-exit-value-143/28857\" rel=\"nofollow noreferrer\">increasing my heap size</a> and <a href=\"https://stackoverflow.com/questions/71366524/java-lang-runtimeexception-unable-to-parse-add-opens\">cloning the project to another location</a>. I have also gone through the <a href=\"https://docs.gradle.org/current/userguide/java_testing.html\" rel=\"nofollow noreferrer\">gradle docs</a> and the <a href=\"https://github.com/gradle/gradle/issues/16820\" rel=\"nofollow noreferrer\">gradle github</a> and have not been able to find anything of particular use.</p>\n<p>In addition I have also gone through the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">IntelliJ setup and configuration tutorials</a> and the <a href=\"https://openjfx.io/openjfx-docs/#next-steps\" rel=\"nofollow noreferrer\">JavaFX tutorials</a> but I cannot seem to find anything on the structure or dependencies or anything else relating to the unit tests. I have included additional code information below. (not including the full example because I found the problem)</p>\n<h2>Directory structure is as follows:</h2>\n<pre><code>├───.gradle\n└───src\n    ├───main\n    │   └───java\n    │       └───com\n    │           └───example\n    │               └───testingtesting\n    └───test\n        └───java\n            └───!!JUnitTestingFile!!\n</code></pre>\n<h2>Gradle Build Script</h2>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.1'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.8.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.example.testingtesting'\n    mainClass = 'com.example.testingtesting.HelloApplication'\n}\n\njavafx {\n    version = '17.0.1'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653310742,"post_id":72348847,"comment_id":127813346,"body_markdown":"You know `trim()` only removes spaces from the beginning and end don&#39;t you?","body":"You know <code>trim()</code> only removes spaces from the beginning and end don&#39;t you?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1653310771,"post_id":72348847,"comment_id":127813361,"body_markdown":"So the problem is that values end up in the database untrimmed? `convertToDatabaseColumn` does nothing...","body":"So the problem is that values end up in the database untrimmed? <code>convertToDatabaseColumn</code> does nothing..."},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1653310919,"post_id":72348847,"comment_id":127813435,"body_markdown":"It doesn&#39;t trim spaces, The converter is not getting called","body":"It doesn&#39;t trim spaces, The converter is not getting called"},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1653311256,"post_id":72348847,"comment_id":127813593,"body_markdown":"Your code looks correct.  Have you tried running your code in debug mode, to see if the `convertToEntityAttribute()` method is actually called?","body":"Your code looks correct.  Have you tried running your code in debug mode, to see if the <code>convertToEntityAttribute()</code> method is actually called?"},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1653311498,"post_id":72348847,"comment_id":127813695,"body_markdown":"Not sure but, it might be helpful if you added more details about the runtime environment.  What Java version are you using?  What DB are you using?  Is this in JPA or Hibernate?  Do you have any other `Converter`s that are working correctly?","body":"Not sure but, it might be helpful if you added more details about the runtime environment.  What Java version are you using?  What DB are you using?  Is this in JPA or Hibernate?  Do you have any other <code>Converter</code>s that are working correctly?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653311726,"post_id":72348847,"comment_id":127813792,"body_markdown":"@selvi how do you know it&#39;s not getting called?","body":"@selvi how do you know it&#39;s not getting called?"},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1653311781,"post_id":72348847,"comment_id":127813820,"body_markdown":"// added trace and checked     \tlog.trace(&quot;CharConverter.convertToEntityAttribute {} &quot;, value);","body":"// added trace and checked     \tlog.trace(&quot;CharConverter.convertToEntityAttribute {} &quot;, value);"},{"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"score":0,"creation_date":1653311859,"post_id":72348847,"comment_id":127813872,"body_markdown":"openjdk 14.0.2 2020-07-14","body":"openjdk 14.0.2 2020-07-14"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653312052,"post_id":72348847,"comment_id":127813968,"body_markdown":"@selvi as I mentioned before: `convertToEntityAttribute` is the method that is being called when loading data from the database. Check the other method which is called when converting from the java object to the database column value.","body":"@selvi as I mentioned before: <code>convertToEntityAttribute</code> is the method that is being called when loading data from the database. Check the other method which is called when converting from the java object to the database column value."}],"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1653310991,"creation_date":1653310430,"question_id":72348847,"body_markdown":"   Need to trim empty spaces across all model files, So wrote below CharConverter but not String is stored with empty spaces in db\r\n\r\n // CharConverter\r\n    \r\n    @Converter(autoApply = true)\r\n    public class CharConverter implements AttributeConverter&lt;String, String&gt; {\r\n    \t\r\n    \t@Override\r\n        public String convertToDatabaseColumn(String value) {\r\n            return value;\r\n        }\r\n    \r\n        @Override\r\n        public String convertToEntityAttribute(String value) {\r\n        \t\r\n        \t if (ObjectUtils.isEmpty(value)){\r\n                return null;\r\n            }\r\n    \r\n            return value.trim();\r\n        }\r\n    \r\n    // model\r\n      @NotNull\r\n        @JsonProperty(NAME)\r\n        @Convert(converter = CharConverter.class)\r\n        private String name;","title":"Empty space is not getting trimmed CharConverter doesn&#39;t even called","body":"<p>Need to trim empty spaces across all model files, So wrote below CharConverter but not String is stored with empty spaces in db</p>\n<p>// CharConverter</p>\n<pre><code>@Converter(autoApply = true)\npublic class CharConverter implements AttributeConverter&lt;String, String&gt; {\n    \n    @Override\n    public String convertToDatabaseColumn(String value) {\n        return value;\n    }\n\n    @Override\n    public String convertToEntityAttribute(String value) {\n        \n         if (ObjectUtils.isEmpty(value)){\n            return null;\n        }\n\n        return value.trim();\n    }\n\n// model\n  @NotNull\n    @JsonProperty(NAME)\n    @Convert(converter = CharConverter.class)\n    private String name;\n</code></pre>\n"},{"tags":["java","socketexception","apache-httpcomponents","connection-reset"],"comments":[{"owner":{"account_id":1619595,"reputation":793,"user_id":1496472,"accept_rate":40,"display_name":"Greycon"},"score":0,"creation_date":1644930776,"post_id":71126816,"comment_id":125731031,"body_markdown":"Have a look at https://stackoverflow.com/questions/62929/java-net-socketexception-connection-reset","body":"Have a look at <a href=\"https://stackoverflow.com/questions/62929/java-net-socketexception-connection-reset\" title=\"java net socketexception connection reset\">stackoverflow.com/questions/62929/&hellip;</a>"},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1644931012,"post_id":71126816,"comment_id":125731127,"body_markdown":"`Connection reset` is thrown when the _opposite_ endpoint terminates (resets) the connection","body":"<code>Connection reset</code> is thrown when the <i>opposite</i> endpoint terminates (resets) the connection"}],"answers":[{"tags":[],"owner":{"account_id":9172812,"reputation":65,"user_id":6819634,"display_name":"balram rajput"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653310991,"creation_date":1653307675,"answer_id":72348277,"question_id":71126816,"body_markdown":"After doing a lot of analysis, finally, we could figure out the solution to this problem.\r\n\r\nWe have captured the TCP dump of all the connections made to the server and shared it with the server team. After analyzing the TCP dump we found that there were some connections in the client that were open more than the maximum &quot;keep-alive&quot; value at server side(in our case it was 500 seconds). and the connections that were open at our side were around 600 to 800 seconds, and when the same connection was used again the server was throwing a Connection reset.\r\n\r\nThe library we are using is Apache HttpClient and we discovered that if the server does not pass the &quot;keep-alive&quot; header in the response then the connection will remain open indefinitely on the client-side. And once this idle connection is used again, we face this issue.\r\n\r\nSo we have added a default keep-alive strategy in HTTP Client and also started a scheduler to clear idle connections beyond a threshold and finally we got rid of this issue. Both Solutions can be found here:\r\n\r\nhttps://www.baeldung.com/httpclient-connection-management#keep-alive\r\nhttps://hc.apache.org/httpcomponents-client-4.5.x/current/tutorial/pdf/httpclient-tutorial.pdf","title":"SSLException, SocketException : Connection reset from Apache HttpClient","body":"<p>After doing a lot of analysis, finally, we could figure out the solution to this problem.</p>\n<p>We have captured the TCP dump of all the connections made to the server and shared it with the server team. After analyzing the TCP dump we found that there were some connections in the client that were open more than the maximum &quot;keep-alive&quot; value at server side(in our case it was 500 seconds). and the connections that were open at our side were around 600 to 800 seconds, and when the same connection was used again the server was throwing a Connection reset.</p>\n<p>The library we are using is Apache HttpClient and we discovered that if the server does not pass the &quot;keep-alive&quot; header in the response then the connection will remain open indefinitely on the client-side. And once this idle connection is used again, we face this issue.</p>\n<p>So we have added a default keep-alive strategy in HTTP Client and also started a scheduler to clear idle connections beyond a threshold and finally we got rid of this issue. Both Solutions can be found here:</p>\n<p><a href=\"https://www.baeldung.com/httpclient-connection-management#keep-alive\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpclient-connection-management#keep-alive</a>\n<a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/tutorial/pdf/httpclient-tutorial.pdf\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-4.5.x/current/tutorial/pdf/httpclient-tutorial.pdf</a></p>\n"}],"owner":{"account_id":9172812,"reputation":65,"user_id":6819634,"display_name":"balram rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72348277,"answer_count":1,"score":2,"last_activity_date":1653310991,"creation_date":1644929738,"question_id":71126816,"body_markdown":"We are using Apache HttpClient library to call HTTP REST endpoints in the Spring application.\r\nWe are getting &quot;Connection reset&quot; error frequently now a days, We did not have any issue earlier but the error started appearing now, we see 1 to 5 out of 100 requests get this error.\r\nThe code we are using to create HttpClient looks like this:\r\n\r\n \r\n\r\n    RequestConfig requestConfig = RequestConfig.custom()\r\n                        .setConnectionRequestTimeout(connReqTimeoutInMillis)\r\n                        .setConnectTimeout(connTimeoutInMillis)\r\n                        .setSocketTimeout(socketTimeoutInMillis)\r\n                        .build();\r\n    \r\n              CloseableHttpClient  client = HttpClientBuilder.create()\r\n                        .setDefaultRequestConfig(requestConfig)\r\n                        .setMaxConnPerRoute(numberOfConnections)\r\n                        .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContext.getDefault(),\r\n                                new String[]{&quot;TLSv1.2&quot;}, null,\r\n                                ALLOW_ALL_HOSTNAME_VERIFIER)).build();\r\n\r\nWe are using this client object across the application. \r\nSo the remote calls that we are making do not have any issues, as there are some calls we make from one service to another service within the project, those also have the same issue sometimes. This issue occurs for all HTTP method calls.\r\n\r\nExact error:\r\n\r\n - javax.net.ssl.SSLException: java.net.SocketException: Connection reset\r\n - Suppressed: java.net.SocketException: Broken pipe (Write failed)\r\n\r\nCould someone please help here, Thanks for your help!","title":"SSLException, SocketException : Connection reset from Apache HttpClient","body":"<p>We are using Apache HttpClient library to call HTTP REST endpoints in the Spring application.\nWe are getting &quot;Connection reset&quot; error frequently now a days, We did not have any issue earlier but the error started appearing now, we see 1 to 5 out of 100 requests get this error.\nThe code we are using to create HttpClient looks like this:</p>\n<pre><code>RequestConfig requestConfig = RequestConfig.custom()\n                    .setConnectionRequestTimeout(connReqTimeoutInMillis)\n                    .setConnectTimeout(connTimeoutInMillis)\n                    .setSocketTimeout(socketTimeoutInMillis)\n                    .build();\n\n          CloseableHttpClient  client = HttpClientBuilder.create()\n                    .setDefaultRequestConfig(requestConfig)\n                    .setMaxConnPerRoute(numberOfConnections)\n                    .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContext.getDefault(),\n                            new String[]{&quot;TLSv1.2&quot;}, null,\n                            ALLOW_ALL_HOSTNAME_VERIFIER)).build();\n</code></pre>\n<p>We are using this client object across the application.\nSo the remote calls that we are making do not have any issues, as there are some calls we make from one service to another service within the project, those also have the same issue sometimes. This issue occurs for all HTTP method calls.</p>\n<p>Exact error:</p>\n<ul>\n<li>javax.net.ssl.SSLException: java.net.SocketException: Connection reset</li>\n<li>Suppressed: java.net.SocketException: Broken pipe (Write failed)</li>\n</ul>\n<p>Could someone please help here, Thanks for your help!</p>\n"},{"tags":["java","android","canvas"],"answers":[{"tags":[],"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653310935,"creation_date":1653284203,"answer_id":72343665,"question_id":72301034,"body_markdown":"After reading a lot of documentation and tutorials and informations in this forum.\r\n\r\nJust Create DrawableView and CustomImageview instead of dwelling on Imageview.\r\n\r\n[Sources][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28250486/19026761","title":"How to paint on Bitmap using canvas drawPath or Path? I tried several tutorials but failed","body":"<p>After reading a lot of documentation and tutorials and informations in this forum.</p>\n<p>Just Create DrawableView and CustomImageview instead of dwelling on Imageview.</p>\n<p><a href=\"https://stackoverflow.com/a/28250486/19026761\">Sources</a></p>\n"}],"owner":{"account_id":25185872,"reputation":11,"user_id":19026761,"display_name":"Baculi Marco V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72343665,"answer_count":1,"score":0,"last_activity_date":1653310935,"creation_date":1652948484,"question_id":72301034,"body_markdown":"So this is my current code which uses canvas **drawLine**, where I&#39;m trying to modify it into **drawPath**.\r\n\r\n\r\nMy Declared Variables in Main Activity :\r\n\r\n    \r\n    ImageView imageResult;\r\n    final int RQS_IMAGE1 = 1;\r\n\r\n    Paint paint;\r\n    Uri source;\r\n    Bitmap bitmap;\r\n    Canvas canvas;\r\n    Path path;\r\n\r\n\r\nMy code in On Create method :\r\n\r\n           @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.drawing_board);\r\n\r\n        paint = new Paint();\r\n        paint.setStyle(Paint.Style.FILL);\r\n        paint.setColor(Color.WHITE);\r\n        paint.setStrokeWidth(10);\r\n\r\n        //result is the ID of imageview\r\n        imageResult = findViewById(R.id.result);\r\n\r\n        //The user will select Images on gallery\r\n        Intent intent = new Intent(Intent.ACTION_PICK,\r\n                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent, RQS_IMAGE1);\r\n\r\n\r\n\r\n\r\nWhere selected image pass into imageResult variable and then converted into bitmap, and that bitmap will be place into the canvas :\r\n\r\n        @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        Bitmap tempBitmap;\r\n\r\n        if (resultCode == RESULT_OK) {\r\n            switch (requestCode) {\r\n                case RQS_IMAGE1:\r\n                    source = data.getData();\r\n\r\n                    try {\r\n                        //tempBitmap is Immutable bitmap,\r\n                        //cannot be passed to Canvas constructor\r\n                        tempBitmap = BitmapFactory.decodeStream(\r\n                                getContentResolver().openInputStream(source));\r\n\r\n                        Bitmap.Config config;\r\n                        if (tempBitmap.getConfig() != null) {\r\n                            config = tempBitmap.getConfig();\r\n                        } else {\r\n                            config = Bitmap.Config.ARGB_8888;\r\n                        }\r\n\r\n                        //bitmap is Mutable bitmap\r\n                        bitmap = Bitmap.createBitmap(\r\n                                tempBitmap.getWidth(),\r\n                                tempBitmap.getHeight(),\r\n                                config);\r\n\r\n                        canvas = new Canvas(bitmap);\r\n                        canvas.drawBitmap(tempBitmap, 0, 0, null);\r\n\r\n                        imageResult.setImageBitmap(bitmap);\r\n                    } catch (FileNotFoundException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nNow, this is the method where I get the touch points of users finger and put the canvas.drawLine inside of motion events. So then, they can paint on the canvas where the Imageview is placed :\r\n\r\n        private float mX,mY;\r\n    public void paintOn_Image(){\r\n\r\n    imageResult.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n\r\n            int x = (int) event.getX();\r\n            int y = (int) event.getY();\r\n\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    mX = x;\r\n                    mY = y;\r\n               float ratioWidth = (float)bitmap.getWidth()/(float)v.getWidth();\r\n               float ratioHeight = (float)bitmap.getHeight()/(float)v.getHeight();\r\n\r\n                    canvas.drawLine(\r\n                            mX * ratioWidth,\r\n                            mY * ratioHeight,\r\n                            x * ratioWidth,\r\n                            y * ratioHeight,\r\n                            paint);\r\n\r\n                    imageResult.invalidate();\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_MOVE:\r\n\r\n                    ratioWidth = (float) bitmap.getWidth() / (float) v.getWidth();\r\n                    ratioHeight = (float)bitmap.getHeight()/(float)v.getHeight();\r\n\r\n                    canvasMaster.drawLine(\r\n                            mX * ratioWidth,\r\n                            mY * ratioHeight,\r\n                            x * ratioWidth,\r\n                            y * ratioHeight,\r\n                            paint);\r\n\r\n                    imageResult.invalidate();\r\n\r\n                    mX = x;\r\n                    mY = y;\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_UP:\r\n\r\n                    ratioWidth = (float) bitmapMaster.getWidth() / (float) v.getWidth();\r\n                    ratioHeight = (float)bitmapMaster.getHeight()/(float)v.getHeight();\r\n\r\n                    canvasMaster.drawLine(\r\n                            x * ratioWidth,\r\n                            y * ratioHeight,\r\n                            x * ratioWidth,\r\n                            y * ratioHeight,\r\n                            paint);\r\n\r\n                    imageResult.invalidate();\r\n                    break;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    });\r\n\r\n\r\n\r\nHere&#39;s what I&#39;ve done so far.\r\nIn the motionEvent.ACTION_DOWN,ACTION_MOVE &amp; ACTION_UP, I change this :\r\n\r\n                        canvas.drawLine(\r\n                            mX * ratioWidth,\r\n                            mY * ratioHeight,\r\n                            x * ratioWidth,\r\n                            y * ratioHeight,\r\n                            paint);\r\n\r\n                    imageResult.invalidate();\r\n                    break;\r\n\r\nInto this :\r\n\r\n                    path.moveTo(mX*ratioWidth,mY*ratioHeight);\r\n                    path.lineTo(x*ratioWidth,y*ratioHeight);\r\n                    path.moveTo(mX*ratioWidth,y*ratioHeight);\r\n                    path.lineTo(x*ratioWidth,mY*ratioHeight);\r\n                    canvas.drawPath(path,paintDraw);\r\n                    imageResult.invalidate();\r\n\r\n                    canvas.drawPath(path, paint);\r\n\r\n                    imageResult.invalidate();\r\n                    break;\r\n\r\n*But the application is crashing when the user touch the canvas :(*\r\n\r\nHow can I paint on canvas using Path? Is the calculation **incorrect**?\r\n\r\nThe reason why I&#39;m trying to change it into path is we can&#39;t **undo** the\r\ndrawLine after painting into the canvas. So if you have solution to\r\n**undo/clear/remove** the drawLine, that will also work for me. Thank you.\r\n\r\n","title":"How to paint on Bitmap using canvas drawPath or Path? I tried several tutorials but failed","body":"<p>So this is my current code which uses canvas <strong>drawLine</strong>, where I'm trying to modify it into <strong>drawPath</strong>.</p>\n<p>My Declared Variables in Main Activity :</p>\n<pre><code>ImageView imageResult;\nfinal int RQS_IMAGE1 = 1;\n\nPaint paint;\nUri source;\nBitmap bitmap;\nCanvas canvas;\nPath path;\n</code></pre>\n<p>My code in On Create method :</p>\n<pre><code>       @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.drawing_board);\n\n    paint = new Paint();\n    paint.setStyle(Paint.Style.FILL);\n    paint.setColor(Color.WHITE);\n    paint.setStrokeWidth(10);\n\n    //result is the ID of imageview\n    imageResult = findViewById(R.id.result);\n\n    //The user will select Images on gallery\n    Intent intent = new Intent(Intent.ACTION_PICK,\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n    startActivityForResult(intent, RQS_IMAGE1);\n</code></pre>\n<p>Where selected image pass into imageResult variable and then converted into bitmap, and that bitmap will be place into the canvas :</p>\n<pre><code>    @Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    Bitmap tempBitmap;\n\n    if (resultCode == RESULT_OK) {\n        switch (requestCode) {\n            case RQS_IMAGE1:\n                source = data.getData();\n\n                try {\n                    //tempBitmap is Immutable bitmap,\n                    //cannot be passed to Canvas constructor\n                    tempBitmap = BitmapFactory.decodeStream(\n                            getContentResolver().openInputStream(source));\n\n                    Bitmap.Config config;\n                    if (tempBitmap.getConfig() != null) {\n                        config = tempBitmap.getConfig();\n                    } else {\n                        config = Bitmap.Config.ARGB_8888;\n                    }\n\n                    //bitmap is Mutable bitmap\n                    bitmap = Bitmap.createBitmap(\n                            tempBitmap.getWidth(),\n                            tempBitmap.getHeight(),\n                            config);\n\n                    canvas = new Canvas(bitmap);\n                    canvas.drawBitmap(tempBitmap, 0, 0, null);\n\n                    imageResult.setImageBitmap(bitmap);\n                } catch (FileNotFoundException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Now, this is the method where I get the touch points of users finger and put the canvas.drawLine inside of motion events. So then, they can paint on the canvas where the Imageview is placed :</p>\n<pre><code>    private float mX,mY;\npublic void paintOn_Image(){\n\nimageResult.setOnTouchListener(new View.OnTouchListener() {\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                mX = x;\n                mY = y;\n           float ratioWidth = (float)bitmap.getWidth()/(float)v.getWidth();\n           float ratioHeight = (float)bitmap.getHeight()/(float)v.getHeight();\n\n                canvas.drawLine(\n                        mX * ratioWidth,\n                        mY * ratioHeight,\n                        x * ratioWidth,\n                        y * ratioHeight,\n                        paint);\n\n                imageResult.invalidate();\n                break;\n\n            case MotionEvent.ACTION_MOVE:\n\n                ratioWidth = (float) bitmap.getWidth() / (float) v.getWidth();\n                ratioHeight = (float)bitmap.getHeight()/(float)v.getHeight();\n\n                canvasMaster.drawLine(\n                        mX * ratioWidth,\n                        mY * ratioHeight,\n                        x * ratioWidth,\n                        y * ratioHeight,\n                        paint);\n\n                imageResult.invalidate();\n\n                mX = x;\n                mY = y;\n                break;\n\n            case MotionEvent.ACTION_UP:\n\n                ratioWidth = (float) bitmapMaster.getWidth() / (float) v.getWidth();\n                ratioHeight = (float)bitmapMaster.getHeight()/(float)v.getHeight();\n\n                canvasMaster.drawLine(\n                        x * ratioWidth,\n                        y * ratioHeight,\n                        x * ratioWidth,\n                        y * ratioHeight,\n                        paint);\n\n                imageResult.invalidate();\n                break;\n        }\n\n        return true;\n    }\n});\n</code></pre>\n<p>Here's what I've done so far.\nIn the motionEvent.ACTION_DOWN,ACTION_MOVE &amp; ACTION_UP, I change this :</p>\n<pre><code>                    canvas.drawLine(\n                        mX * ratioWidth,\n                        mY * ratioHeight,\n                        x * ratioWidth,\n                        y * ratioHeight,\n                        paint);\n\n                imageResult.invalidate();\n                break;\n</code></pre>\n<p>Into this :</p>\n<pre><code>                path.moveTo(mX*ratioWidth,mY*ratioHeight);\n                path.lineTo(x*ratioWidth,y*ratioHeight);\n                path.moveTo(mX*ratioWidth,y*ratioHeight);\n                path.lineTo(x*ratioWidth,mY*ratioHeight);\n                canvas.drawPath(path,paintDraw);\n                imageResult.invalidate();\n\n                canvas.drawPath(path, paint);\n\n                imageResult.invalidate();\n                break;\n</code></pre>\n<p><em>But the application is crashing when the user touch the canvas :(</em></p>\n<p>How can I paint on canvas using Path? Is the calculation <strong>incorrect</strong>?</p>\n<p>The reason why I'm trying to change it into path is we can't <strong>undo</strong> the\ndrawLine after painting into the canvas. So if you have solution to\n<strong>undo/clear/remove</strong> the drawLine, that will also work for me. Thank you.</p>\n"},{"tags":["java","apache-commons","apache-tika"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1653310539,"post_id":72348560,"comment_id":127813268,"body_markdown":"*&quot;unfortunately it does not work.&quot;* - does not work as in the exif metadata not written, image corrupted, or you encountered errors? how your code looked like?","body":"<i>&quot;unfortunately it does not work.&quot;</i> - does not work as in the exif metadata not written, image corrupted, or you encountered errors? how your code looked like?"},{"owner":{"account_id":2648528,"reputation":1559,"user_id":2290763,"accept_rate":44,"display_name":"Forin"},"score":0,"creation_date":1653310972,"post_id":72348560,"comment_id":127813466,"body_markdown":"@BagusTesa I&#39;ve added additional description. What I mean there is that new image does not have exif metadata regarding orientation.","body":"@BagusTesa I&#39;ve added additional description. What I mean there is that new image does not have exif metadata regarding orientation."}],"owner":{"account_id":2648528,"reputation":1559,"user_id":2290763,"accept_rate":44,"display_name":"Forin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653310863,"creation_date":1653309119,"question_id":72348560,"body_markdown":"I have an image I want to resize. I&#39;m using `BufferedImage` and the image has the dimensions I wanted. \r\nThe only problem is that my image is rotated. \r\n\r\nI did some investigation and turned out exif data is lost when new image is created.\r\n\r\nI have found the following answer already ([link](https://stackoverflow.com/a/36675321/2290763)), unfortunately the solution suggested in the link does not work - freshly copied image does not have exif metadata, it is rotated. \r\n\r\nHow can I copy an image with its metadata using either pure Java or eg. Apache Commons/Tika parsers?\r\n","title":"Copy image with Exif metadata","body":"<p>I have an image I want to resize. I'm using <code>BufferedImage</code> and the image has the dimensions I wanted.\nThe only problem is that my image is rotated.</p>\n<p>I did some investigation and turned out exif data is lost when new image is created.</p>\n<p>I have found the following answer already (<a href=\"https://stackoverflow.com/a/36675321/2290763\">link</a>), unfortunately the solution suggested in the link does not work - freshly copied image does not have exif metadata, it is rotated.</p>\n<p>How can I copy an image with its metadata using either pure Java or eg. Apache Commons/Tika parsers?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1653258336,"post_id":72341653,"comment_id":127801085,"body_markdown":"Did you actually download the libraries? For example, did you run a &quot;build&quot; or a &quot;clean and build&quot; in your IDE (assuming you are using one)? You need to trigger that initial Maven download of the JAR files, first, before trying to use the related `import` statements.","body":"Did you actually download the libraries? For example, did you run a &quot;build&quot; or a &quot;clean and build&quot; in your IDE (assuming you are using one)? You need to trigger that initial Maven download of the JAR files, first, before trying to use the related <code>import</code> statements."},{"owner":{"account_id":25360903,"reputation":1,"user_id":19176196,"display_name":"raidnaeem"},"score":0,"creation_date":1653258928,"post_id":72341653,"comment_id":127801173,"body_markdown":"Ah, I recall reading that I had to rebuild the index in my IDE, but I wasn&#39;t exactly sure about the process. Which repository would I rebuild?","body":"Ah, I recall reading that I had to rebuild the index in my IDE, but I wasn&#39;t exactly sure about the process. Which repository would I rebuild?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1653259355,"post_id":72341653,"comment_id":127801258,"body_markdown":"You only need run a regular &quot;build&quot; or a &quot;clean and build&quot; in your IDE _of your Java project_. Assuming your project is set up to use Maven (and I assume it is, given you have a pom.xml file) then _that_ is the trigger which causes Maven to see if it needs to download any dependencies (for the first time). You shouldn&#39;t need to manually trigger a rebuild of the Maven indexes, unless there are other things going on, not mentioned in your question.","body":"You only need run a regular &quot;build&quot; or a &quot;clean and build&quot; in your IDE <i>of your Java project</i>. Assuming your project is set up to use Maven (and I assume it is, given you have a pom.xml file) then <i>that</i> is the trigger which causes Maven to see if it needs to download any dependencies (for the first time). You shouldn&#39;t need to manually trigger a rebuild of the Maven indexes, unless there are other things going on, not mentioned in your question."},{"owner":{"account_id":25360903,"reputation":1,"user_id":19176196,"display_name":"raidnaeem"},"score":0,"creation_date":1653261471,"post_id":72341653,"comment_id":127801551,"body_markdown":"Gotcha, that makes sense. I only have the one Maven project with the pom.xml file, so I shouldn&#39;t need to rebuild the indexes as you said. I did go ahead and clean and build the project, but I&#39;m still unable to import any packages from JavaMoney.","body":"Gotcha, that makes sense. I only have the one Maven project with the pom.xml file, so I shouldn&#39;t need to rebuild the indexes as you said. I did go ahead and clean and build the project, but I&#39;m still unable to import any packages from JavaMoney."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1653264675,"post_id":72341653,"comment_id":127801891,"body_markdown":"In that case you can edit your question: What IDE are you using? Describe the steps you took to create your Java project. Describe how you built the project. Basically, tell us how to recreate the issue you are facing.","body":"In that case you can edit your question: What IDE are you using? Describe the steps you took to create your Java project. Describe how you built the project. Basically, tell us how to recreate the issue you are facing."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653382834,"post_id":72341653,"comment_id":127832677,"body_markdown":"I&#39;ve checked the dependencies you&#39;ve added, and everything should be correct. I got some example code to work in my IDE (see my comment on the answer below), so it&#39;s probably an issue in your Eclipse. Have you tried some of these options: https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse","body":"I&#39;ve checked the dependencies you&#39;ve added, and everything should be correct. I got some example code to work in my IDE (see my comment on the answer below), so it&#39;s probably an issue in your Eclipse. Have you tried some of these options: <a href=\"https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse\" title=\"how to update maven repository in eclipse\">stackoverflow.com/questions/2555845/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653310531,"creation_date":1653310531,"answer_id":72348870,"question_id":72341653,"body_markdown":"1. You need to check if you are importing the correct package. GroupId and package name do not always coincide. Look into the docs of the projects to figure out what you need.\r\n\r\n2. Use `Run As -&gt; Maven Build ...` to run the command `clean verify`. Look into the command line output what errors occur. These are much more reliable than those of Eclipse.\r\n\r\n3. If you cannot download anything, then you have probably a problem with your network or firewall.\r\n\r\n4. If Maven plugins can be downloaded, but your dependencies are not downloaded, you may have a typo in the name or version.\r\n\r\n5. You may have also a syntax error in your code, but Maven will tell you this.","title":"JavaMoney and Maven dependencies","body":"<ol>\n<li><p>You need to check if you are importing the correct package. GroupId and package name do not always coincide. Look into the docs of the projects to figure out what you need.</p>\n</li>\n<li><p>Use <code>Run As -&gt; Maven Build ...</code> to run the command <code>clean verify</code>. Look into the command line output what errors occur. These are much more reliable than those of Eclipse.</p>\n</li>\n<li><p>If you cannot download anything, then you have probably a problem with your network or firewall.</p>\n</li>\n<li><p>If Maven plugins can be downloaded, but your dependencies are not downloaded, you may have a typo in the name or version.</p>\n</li>\n<li><p>You may have also a syntax error in your code, but Maven will tell you this.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25360903,"reputation":1,"user_id":19176196,"display_name":"raidnaeem"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653310531,"creation_date":1653257796,"question_id":72341653,"body_markdown":"I decided to start work on a little financial calculator for personal use and figured that it would be useful to implement an external library for handling money. I decided on JavaMoney and am still figuring out how Maven and dependencies work.\r\n\r\nI have the following code in the POM file:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;FinancialCalculator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FinancialCalculator&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.money&lt;/groupId&gt;\r\n            &lt;artifactId&gt;money-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javamoney&lt;/groupId&gt;\r\n            &lt;artifactId&gt;moneta&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I try and `import javax.money.*;`, it tells me that it cannot be resolved. I imagine I have some great misconception about how this works, so any help would be appreciated. I apologize for my ignorance.\r\n\r\n**EDIT:**\r\n\r\nI was told that I need to clean and build the project for Maven to download the appropriate JAR files. I&#39;m using Eclipse, so I went into Project &gt; Clean... and selected the Maven project, and I have auto-build on so it should just rebuild immediately after; but just in case, I also cleaned and manually built the project. I still can&#39;t import the `javax.money` package, even after cleaning and building a few times. Any help is much appreciated.","title":"JavaMoney and Maven dependencies","body":"<p>I decided to start work on a little financial calculator for personal use and figured that it would be useful to implement an external library for handling money. I decided on JavaMoney and am still figuring out how Maven and dependencies work.</p>\n<p>I have the following code in the POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;FinancialCalculator&lt;/groupId&gt;\n    &lt;artifactId&gt;FinancialCalculator&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.money&lt;/groupId&gt;\n            &lt;artifactId&gt;money-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javamoney&lt;/groupId&gt;\n            &lt;artifactId&gt;moneta&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I try and <code>import javax.money.*;</code>, it tells me that it cannot be resolved. I imagine I have some great misconception about how this works, so any help would be appreciated. I apologize for my ignorance.</p>\n<p><strong>EDIT:</strong></p>\n<p>I was told that I need to clean and build the project for Maven to download the appropriate JAR files. I'm using Eclipse, so I went into Project &gt; Clean... and selected the Maven project, and I have auto-build on so it should just rebuild immediately after; but just in case, I also cleaned and manually built the project. I still can't import the <code>javax.money</code> package, even after cleaning and building a few times. Any help is much appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25359093,"reputation":103,"user_id":19174700,"display_name":"dobra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1653309943,"creation_date":1653306599,"answer_id":72348074,"question_id":72347950,"body_markdown":"You can simplify your code like the following:\r\n\r\n````\r\npublic static void main(String args[]) {\r\n  int x = 7500;\r\n  int y = 2000;\r\n  \r\n  for (int i = 0; i &lt; x/y; i++) {\r\n      System.out.println(&quot;Part &quot; + (i+1) + &quot;: &quot; + y*i + &quot; - &quot; + y*(i+1));\r\n  }\r\n  if (x%y != 0) {\r\n    System.out.println(&quot;Part &quot; + ((x/y)+1) + &quot;: &quot; + (x/y)*y + &quot; - &quot; + x);\r\n  }\r\n}\r\n````\r\n\r\n`(x/y)*y)` is not equal to `x` since you divide integers, so `(x/y)*y` is actually the same as the &quot;next&quot; `i` of the for-loop.","title":"how to split number into pieces with remaining part","body":"<p>You can simplify your code like the following:</p>\n<pre><code>public static void main(String args[]) {\n  int x = 7500;\n  int y = 2000;\n  \n  for (int i = 0; i &lt; x/y; i++) {\n      System.out.println(&quot;Part &quot; + (i+1) + &quot;: &quot; + y*i + &quot; - &quot; + y*(i+1));\n  }\n  if (x%y != 0) {\n    System.out.println(&quot;Part &quot; + ((x/y)+1) + &quot;: &quot; + (x/y)*y + &quot; - &quot; + x);\n  }\n}\n</code></pre>\n<p><code>(x/y)*y)</code> is not equal to <code>x</code> since you divide integers, so <code>(x/y)*y</code> is actually the same as the &quot;next&quot; <code>i</code> of the for-loop.</p>\n"},{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653308874,"creation_date":1653308874,"answer_id":72348512,"question_id":72347950,"body_markdown":"You can also try the below code:\r\n\r\n    private void test() {\r\n            int x = 7500;\r\n            int y = 2000;\r\n            int j = 0;\r\n            int newX = x;\r\n            while (newX &gt; y) {\r\n                System.out.println(&quot;Part &quot; + (j + 1) + &quot; = &quot; + y * j++ + &quot; - &quot; + y * j);\r\n                newX -= y;\r\n            }\r\n            System.out.println(&quot;Part &quot; + (j + 1) + &quot; = &quot; + j * y + &quot; - &quot; + x);\r\n        }","title":"how to split number into pieces with remaining part","body":"<p>You can also try the below code:</p>\n<pre><code>private void test() {\n        int x = 7500;\n        int y = 2000;\n        int j = 0;\n        int newX = x;\n        while (newX &gt; y) {\n            System.out.println(&quot;Part &quot; + (j + 1) + &quot; = &quot; + y * j++ + &quot; - &quot; + y * j);\n            newX -= y;\n        }\n        System.out.println(&quot;Part &quot; + (j + 1) + &quot; = &quot; + j * y + &quot; - &quot; + x);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653310456,"creation_date":1653310456,"answer_id":72348853,"question_id":72347950,"body_markdown":"Alternative approach using two variables in your for loop and `Math.min()`:\r\n\r\n    int x = 7500;\r\n    int y = 2000;\r\n\r\n    for (int i = 0, p = 1; i &lt; x; i += y, p++) {\r\n        System.out.printf(&quot;Part %d: %d - %d%n&quot;, p, i, Math.min(i+y,x));\r\n    }","title":"how to split number into pieces with remaining part","body":"<p>Alternative approach using two variables in your for loop and <code>Math.min()</code>:</p>\n<pre><code>int x = 7500;\nint y = 2000;\n\nfor (int i = 0, p = 1; i &lt; x; i += y, p++) {\n    System.out.printf(&quot;Part %d: %d - %d%n&quot;, p, i, Math.min(i+y,x));\n}\n</code></pre>\n"}],"owner":{"account_id":1952064,"reputation":3074,"user_id":1755950,"accept_rate":45,"display_name":"cihadakt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72348074,"answer_count":3,"score":1,"last_activity_date":1653310456,"creation_date":1653306081,"question_id":72347950,"body_markdown":"I want to split any number to any identical pieces and the last remaining but not dividable piece will be the last piece. I wrote this code but I know that it should be more simple way to do this :) For example; 7500 divided by 2000 and the last modulus part will be the last part. Any suggestions?\r\n\r\n\r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n      int x =7500;\r\n      int y = 2000;\r\n      int lastPartCount = 0;\r\n      String result = new String();\r\n      \r\n      if(x%y != 0){\r\n          lastPartCount = x%y;\r\n      }\r\n      \r\n      int newx = x-lastPartCount;\r\n      \r\n      for(int i=1; i&lt;=(newx/y); i++){\r\n          if(i == 1){//first member\r\n              result = &quot;part &quot; + i + &quot;: 0-&quot; + y*i;\r\n          }else\r\n          {\r\n              result = &quot;part &quot; + i + &quot;: &quot; + (y*(i-1)) + &quot;-&quot;  + y*i;\r\n          }\r\n          \r\n          System.out.println(result);\r\n          \r\n          if(i == (newx/y)){//last member\r\n              result = &quot;part &quot; + (i+1) + &quot;: &quot; + (y*(i)) + &quot;-&quot;  + x;\r\n              System.out.println(result);\r\n          }\r\n      }\r\n    }\r\n}\r\n\r\nthe result is like this:\r\n\r\n    part 1: 0-2000\r\n    part 2: 2000-4000\r\n    part 3: 4000-6000\r\n    part 4: 6000-7500","title":"how to split number into pieces with remaining part","body":"<p>I want to split any number to any identical pieces and the last remaining but not dividable piece will be the last piece. I wrote this code but I know that it should be more simple way to do this :) For example; 7500 divided by 2000 and the last modulus part will be the last part. Any suggestions?</p>\n<pre><code>public class MyClass {\npublic static void main(String args[]) {\n  int x =7500;\n  int y = 2000;\n  int lastPartCount = 0;\n  String result = new String();\n  \n  if(x%y != 0){\n      lastPartCount = x%y;\n  }\n  \n  int newx = x-lastPartCount;\n  \n  for(int i=1; i&lt;=(newx/y); i++){\n      if(i == 1){//first member\n          result = &quot;part &quot; + i + &quot;: 0-&quot; + y*i;\n      }else\n      {\n          result = &quot;part &quot; + i + &quot;: &quot; + (y*(i-1)) + &quot;-&quot;  + y*i;\n      }\n      \n      System.out.println(result);\n      \n      if(i == (newx/y)){//last member\n          result = &quot;part &quot; + (i+1) + &quot;: &quot; + (y*(i)) + &quot;-&quot;  + x;\n          System.out.println(result);\n      }\n  }\n}\n</code></pre>\n<p>}</p>\n<p>the result is like this:</p>\n<pre><code>part 1: 0-2000\npart 2: 2000-4000\npart 3: 4000-6000\npart 4: 6000-7500\n</code></pre>\n"},{"tags":["java","algorithm","perlin-noise","noise-generator"],"answers":[{"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653309910,"creation_date":1653307578,"answer_id":72348250,"question_id":72337760,"body_markdown":"Ken’s not using unit vectors. As \\[1\\] says, with my emphasis:\r\n\r\n&gt; Third, there are many different ways to select the random vectors at the grid cell corners. In Improved Perlin noise, instead of selecting any random vector, one of 12 vectors pointing to the edges of a cube are used instead. Here, I will talk strictly about a continuous range of angles since it is easier – however, the range of value of an implementation of Perlin noise using a restricted set of vectors will never be larger. Finally, the script in this repository assumes the vectors are of unit length. If they not, the range of value should be scaled according to the maximum vector length. **Note that the vectors in Improved Perlin noise are not unit length.**\r\n\r\nFor Ken’s improved noise, the maximum vector length is 1 in 1D and √2 in 2D, so the theoretical bounds are \\[−0.5, 0.5\\] in 1D and \\[−1, 1\\] in 2D. I don’t know why you’re not seeing the full range in 2D; if you shuffled the permutation I bet you would sometimes.\r\n\r\nFor 3D, the maximum vector length is still √2, but the extreme case identified by \\[1\\] isn’t a possible output, so the theoretical range of \\[−√(3/2), √(3/2)\\] is an overestimate. [These folks](https://www.gamedev.net/forums/topic/285533-2d-perlin-noise-gradient-noise-range--/?page=3) tried to work it out exactly, and yes, the maximum absolute value does seem to be strictly greater than 1.\r\n","title":"What is the range of improved Perlin noise?","body":"<p>Ken’s not using unit vectors. As [1] says, with my emphasis:</p>\n<blockquote>\n<p>Third, there are many different ways to select the random vectors at the grid cell corners. In Improved Perlin noise, instead of selecting any random vector, one of 12 vectors pointing to the edges of a cube are used instead. Here, I will talk strictly about a continuous range of angles since it is easier – however, the range of value of an implementation of Perlin noise using a restricted set of vectors will never be larger. Finally, the script in this repository assumes the vectors are of unit length. If they not, the range of value should be scaled according to the maximum vector length. <strong>Note that the vectors in Improved Perlin noise are not unit length.</strong></p>\n</blockquote>\n<p>For Ken’s improved noise, the maximum vector length is 1 in 1D and √2 in 2D, so the theoretical bounds are [−0.5, 0.5] in 1D and [−1, 1] in 2D. I don’t know why you’re not seeing the full range in 2D; if you shuffled the permutation I bet you would sometimes.</p>\n<p>For 3D, the maximum vector length is still √2, but the extreme case identified by [1] isn’t a possible output, so the theoretical range of [−√(3/2), √(3/2)] is an overestimate. <a href=\"https://www.gamedev.net/forums/topic/285533-2d-perlin-noise-gradient-noise-range--/?page=3\" rel=\"nofollow noreferrer\">These folks</a> tried to work it out exactly, and yes, the maximum absolute value does seem to be strictly greater than 1.</p>\n"}],"owner":{"account_id":1170257,"reputation":2183,"user_id":1147600,"display_name":"Pepijn Schmitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72348250,"answer_count":1,"score":4,"last_activity_date":1653309910,"creation_date":1653224113,"question_id":72337760,"body_markdown":"I&#39;m trying to find the theoretical output range of improved Perlin noise for 1, 2 and 3 dimensions. I&#39;m aware of existing answers to this question, but they don&#39;t seem to accord with my practical findings.\r\n\r\nIf *n* is the number of dimensions then according to [[1]](https://digitalfreepen.com/2017/06/20/range-perlin-noise.html) it should be `[-sqrt(n/4), sqrt(n/4)]`. According to [[2]](https://stackoverflow.com/questions/18261982/output-range-of-perlin-noise) (which refers to [[3]](https://www.gamedev.net/forums/topic/285533-2d-perlin-noise-gradient-noise-range--/#entry2794056)) it should be `[-0.5&#183;sqrt(n), 0.5&#183;sqrt(n)]` (which amounts to the same thing).\r\n\r\nThis means that the ranges should be approximately:\r\n\r\n| Dimensions | Range |\r\n| - | - |\r\n| 1 | [-0.5, 0.5] |\r\n| 2 | [-0.707, 0.707] |\r\n| 3 | [-0.866, 0.866] |\r\n\r\nHowever when I run the following code (which uses Ken Perlin&#39;s [own reference implementation](https://cs.nyu.edu/~perlin/noise/) of improved noise from his website), I get higher values for 2 and 3 dimensions, namely approximately:\r\n\r\n| Dimensions | Range |\r\n| - | - |\r\n| 1 | [-0.5, 0.5] |\r\n| 2 | [-0.891, 0.999] |\r\n| 3 | [-0.997, 0.999] |\r\n\r\nWith different permutations I even sometimes get values slightly *over* 1.0 for 3 dimensions, and for some strange reason one of the bounds for two dimension always seems to be about 0.89 while the other is about 1.00.\r\n\r\nI can&#39;t figure out whether this is due to a bug in my code (I don&#39;t see how since this is Ken Perlin&#39;s own code) or due to those discussions not being correct or not being applicable somehow, in which case I would like to know what the theoretical ranges *are* for improved Perlin noise.\r\n\r\nCan you replicate this? Are the results wrong, or can you point me to a discussion of the theoretical values that accords with this outcome?\r\n\r\nThe code:\r\n\r\n```java\r\npublic class PerlinTest {\r\n    public static void main(String[] args) {\r\n        double lowest1DValue = Double.MAX_VALUE, highest1DValue = -Double.MAX_VALUE;\r\n        double lowest2DValue = Double.MAX_VALUE, highest2DValue = -Double.MAX_VALUE;\r\n        double lowest3DValue = Double.MAX_VALUE, highest3DValue = -Double.MAX_VALUE;\r\n        final Random random = new SecureRandom();\r\n        for (int i = 0; i &lt; 10000000; i++) {\r\n            double value = noise(random.nextDouble() * 256.0, 0.0, 0.0);\r\n            if (value &lt; lowest1DValue) {\r\n                lowest1DValue = value;\r\n            }\r\n            if (value &gt; highest1DValue) {\r\n                highest1DValue = value;\r\n            }\r\n            value = noise(random.nextDouble() * 256.0, random.nextDouble() * 256.0, 0.0);\r\n            if (value &lt; lowest2DValue) {\r\n                lowest2DValue = value;\r\n            }\r\n            if (value &gt; highest2DValue) {\r\n                highest2DValue = value;\r\n            }\r\n            value = noise(random.nextDouble() * 256.0, random.nextDouble() * 256.0, random.nextDouble() * 256.0);\r\n            if (value &lt; lowest3DValue) {\r\n                lowest3DValue = value;\r\n            }\r\n            if (value &gt; highest3DValue) {\r\n                highest3DValue = value;\r\n            }\r\n        }\r\n        System.out.println(&quot;Lowest 1D value: &quot; + lowest1DValue);\r\n        System.out.println(&quot;Highest 1D value: &quot; + highest1DValue);\r\n        System.out.println(&quot;Lowest 2D value: &quot; + lowest2DValue);\r\n        System.out.println(&quot;Highest 2D value: &quot; + highest2DValue);\r\n        System.out.println(&quot;Lowest 3D value: &quot; + lowest3DValue);\r\n        System.out.println(&quot;Highest 3D value: &quot; + highest3DValue);\r\n    }\r\n\r\n    static public double noise(double x, double y, double z) {\r\n        int X = (int)Math.floor(x) &amp; 255,                  // FIND UNIT CUBE THAT\r\n            Y = (int)Math.floor(y) &amp; 255,                  // CONTAINS POINT.\r\n            Z = (int)Math.floor(z) &amp; 255;\r\n        x -= Math.floor(x);                                // FIND RELATIVE X,Y,Z\r\n        y -= Math.floor(y);                                // OF POINT IN CUBE.\r\n        z -= Math.floor(z);\r\n        double u = fade(x),                                // COMPUTE FADE CURVES\r\n               v = fade(y),                                // FOR EACH OF X,Y,Z.\r\n               w = fade(z);\r\n        int A = p[X  ]+Y, AA = p[A]+Z, AB = p[A+1]+Z,      // HASH COORDINATES OF\r\n            B = p[X+1]+Y, BA = p[B]+Z, BB = p[B+1]+Z;      // THE 8 CUBE CORNERS,\r\n\r\n        return lerp(w, lerp(v, lerp(u, grad(p[AA  ], x  , y  , z   ),  // AND ADD\r\n                                       grad(p[BA  ], x-1, y  , z   )), // BLENDED\r\n                               lerp(u, grad(p[AB  ], x  , y-1, z   ),  // RESULTS\r\n                                       grad(p[BB  ], x-1, y-1, z   ))),// FROM  8\r\n                       lerp(v, lerp(u, grad(p[AA+1], x  , y  , z-1 ),  // CORNERS\r\n                                       grad(p[BA+1], x-1, y  , z-1 )), // OF CUBE\r\n                               lerp(u, grad(p[AB+1], x  , y-1, z-1 ),\r\n                                       grad(p[BB+1], x-1, y-1, z-1 ))));\r\n    }\r\n    static double fade(double t) { return t * t * t * (t * (t * 6 - 15) + 10); }\r\n    static double lerp(double t, double a, double b) { return a + t * (b - a); }\r\n    static double grad(int hash, double x, double y, double z) {\r\n        int h = hash &amp; 15;                      // CONVERT LO 4 BITS OF HASH CODE\r\n        double u = h&lt;8 ? x : y,                 // INTO 12 GRADIENT DIRECTIONS.\r\n               v = h&lt;4 ? y : h==12||h==14 ? x : z;\r\n        return ((h&amp;1) == 0 ? u : -u) + ((h&amp;2) == 0 ? v : -v);\r\n    }\r\n    static final int p[] = new int[512], permutation[] = { 151,160,137,91,90,15,\r\n            131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,\r\n            190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,\r\n            88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,\r\n            77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,\r\n            102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,\r\n            135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,\r\n            5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,\r\n            223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,\r\n            129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,\r\n            251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,\r\n            49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,\r\n            138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180\r\n    };\r\n    static { for (int i=0; i &lt; 256 ; i++) p[256+i] = p[i] = permutation[i]; }\r\n}\r\n```","title":"What is the range of improved Perlin noise?","body":"<p>I'm trying to find the theoretical output range of improved Perlin noise for 1, 2 and 3 dimensions. I'm aware of existing answers to this question, but they don't seem to accord with my practical findings.</p>\n<p>If <em>n</em> is the number of dimensions then according to <a href=\"https://digitalfreepen.com/2017/06/20/range-perlin-noise.html\" rel=\"nofollow noreferrer\">[1]</a> it should be <code>[-sqrt(n/4), sqrt(n/4)]</code>. According to <a href=\"https://stackoverflow.com/questions/18261982/output-range-of-perlin-noise\">[2]</a> (which refers to <a href=\"https://www.gamedev.net/forums/topic/285533-2d-perlin-noise-gradient-noise-range--/#entry2794056\" rel=\"nofollow noreferrer\">[3]</a>) it should be <code>[-0.5·sqrt(n), 0.5·sqrt(n)]</code> (which amounts to the same thing).</p>\n<p>This means that the ranges should be approximately:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Dimensions</th>\n<th>Range</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>[-0.5, 0.5]</td>\n</tr>\n<tr>\n<td>2</td>\n<td>[-0.707, 0.707]</td>\n</tr>\n<tr>\n<td>3</td>\n<td>[-0.866, 0.866]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>However when I run the following code (which uses Ken Perlin's <a href=\"https://cs.nyu.edu/%7Eperlin/noise/\" rel=\"nofollow noreferrer\">own reference implementation</a> of improved noise from his website), I get higher values for 2 and 3 dimensions, namely approximately:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Dimensions</th>\n<th>Range</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>[-0.5, 0.5]</td>\n</tr>\n<tr>\n<td>2</td>\n<td>[-0.891, 0.999]</td>\n</tr>\n<tr>\n<td>3</td>\n<td>[-0.997, 0.999]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>With different permutations I even sometimes get values slightly <em>over</em> 1.0 for 3 dimensions, and for some strange reason one of the bounds for two dimension always seems to be about 0.89 while the other is about 1.00.</p>\n<p>I can't figure out whether this is due to a bug in my code (I don't see how since this is Ken Perlin's own code) or due to those discussions not being correct or not being applicable somehow, in which case I would like to know what the theoretical ranges <em>are</em> for improved Perlin noise.</p>\n<p>Can you replicate this? Are the results wrong, or can you point me to a discussion of the theoretical values that accords with this outcome?</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PerlinTest {\n    public static void main(String[] args) {\n        double lowest1DValue = Double.MAX_VALUE, highest1DValue = -Double.MAX_VALUE;\n        double lowest2DValue = Double.MAX_VALUE, highest2DValue = -Double.MAX_VALUE;\n        double lowest3DValue = Double.MAX_VALUE, highest3DValue = -Double.MAX_VALUE;\n        final Random random = new SecureRandom();\n        for (int i = 0; i &lt; 10000000; i++) {\n            double value = noise(random.nextDouble() * 256.0, 0.0, 0.0);\n            if (value &lt; lowest1DValue) {\n                lowest1DValue = value;\n            }\n            if (value &gt; highest1DValue) {\n                highest1DValue = value;\n            }\n            value = noise(random.nextDouble() * 256.0, random.nextDouble() * 256.0, 0.0);\n            if (value &lt; lowest2DValue) {\n                lowest2DValue = value;\n            }\n            if (value &gt; highest2DValue) {\n                highest2DValue = value;\n            }\n            value = noise(random.nextDouble() * 256.0, random.nextDouble() * 256.0, random.nextDouble() * 256.0);\n            if (value &lt; lowest3DValue) {\n                lowest3DValue = value;\n            }\n            if (value &gt; highest3DValue) {\n                highest3DValue = value;\n            }\n        }\n        System.out.println(&quot;Lowest 1D value: &quot; + lowest1DValue);\n        System.out.println(&quot;Highest 1D value: &quot; + highest1DValue);\n        System.out.println(&quot;Lowest 2D value: &quot; + lowest2DValue);\n        System.out.println(&quot;Highest 2D value: &quot; + highest2DValue);\n        System.out.println(&quot;Lowest 3D value: &quot; + lowest3DValue);\n        System.out.println(&quot;Highest 3D value: &quot; + highest3DValue);\n    }\n\n    static public double noise(double x, double y, double z) {\n        int X = (int)Math.floor(x) &amp; 255,                  // FIND UNIT CUBE THAT\n            Y = (int)Math.floor(y) &amp; 255,                  // CONTAINS POINT.\n            Z = (int)Math.floor(z) &amp; 255;\n        x -= Math.floor(x);                                // FIND RELATIVE X,Y,Z\n        y -= Math.floor(y);                                // OF POINT IN CUBE.\n        z -= Math.floor(z);\n        double u = fade(x),                                // COMPUTE FADE CURVES\n               v = fade(y),                                // FOR EACH OF X,Y,Z.\n               w = fade(z);\n        int A = p[X  ]+Y, AA = p[A]+Z, AB = p[A+1]+Z,      // HASH COORDINATES OF\n            B = p[X+1]+Y, BA = p[B]+Z, BB = p[B+1]+Z;      // THE 8 CUBE CORNERS,\n\n        return lerp(w, lerp(v, lerp(u, grad(p[AA  ], x  , y  , z   ),  // AND ADD\n                                       grad(p[BA  ], x-1, y  , z   )), // BLENDED\n                               lerp(u, grad(p[AB  ], x  , y-1, z   ),  // RESULTS\n                                       grad(p[BB  ], x-1, y-1, z   ))),// FROM  8\n                       lerp(v, lerp(u, grad(p[AA+1], x  , y  , z-1 ),  // CORNERS\n                                       grad(p[BA+1], x-1, y  , z-1 )), // OF CUBE\n                               lerp(u, grad(p[AB+1], x  , y-1, z-1 ),\n                                       grad(p[BB+1], x-1, y-1, z-1 ))));\n    }\n    static double fade(double t) { return t * t * t * (t * (t * 6 - 15) + 10); }\n    static double lerp(double t, double a, double b) { return a + t * (b - a); }\n    static double grad(int hash, double x, double y, double z) {\n        int h = hash &amp; 15;                      // CONVERT LO 4 BITS OF HASH CODE\n        double u = h&lt;8 ? x : y,                 // INTO 12 GRADIENT DIRECTIONS.\n               v = h&lt;4 ? y : h==12||h==14 ? x : z;\n        return ((h&amp;1) == 0 ? u : -u) + ((h&amp;2) == 0 ? v : -v);\n    }\n    static final int p[] = new int[512], permutation[] = { 151,160,137,91,90,15,\n            131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,\n            190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,\n            88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,\n            77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,\n            102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,\n            135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,\n            5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,\n            223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,\n            129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,\n            251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,\n            49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,\n            138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180\n    };\n    static { for (int i=0; i &lt; 256 ; i++) p[256+i] = p[i] = permutation[i]; }\n}\n</code></pre>\n"},{"tags":["java","android","txt"],"answers":[{"tags":[],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643928822,"creation_date":1643928822,"answer_id":70979413,"question_id":70911229,"body_markdown":"I figured it out, in case someone has problems.\r\n  \r\n    try{\r\n    Uri treeUri = Uri.parse(muri);\r\n    final int takeFlags = intent.getFlags() &amp; \r\n    (Intent.FLAG_GRANT_READ_URI_PERMISSION | \r\n    Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n    this.getContentResolver().\r\n    takePersistableUriPermission(treeUri, takeFlags);\r\n    DocumentFile docFile = DocumentFile.fromTreeUri(this, \r\n    treeUri);\r\n    filename = &quot;JAMZ.txt&quot;; \r\n    DocumentFile resultFile = \r\n    docFile.createFile(&quot;application/txt&quot;, filename);\r\n    If (resultFile == null) { resultFile = \r\n    docFile.findFile(filename + &quot;.txt&quot;); }\r\n    OutputStream os = this.getContentResolver().\r\n    openOutputStream(resultFile.getUri()); \r\n    os.write(pass.getBytes());\r\n    os.flush();\r\n    os.close(); \r\n    } catch (Exception e) {}","title":"Im trying to use createFile to make .txt file without system picker just the dialog from a path is this possible?","body":"<p>I figured it out, in case someone has problems.</p>\n<pre><code>try{\nUri treeUri = Uri.parse(muri);\nfinal int takeFlags = intent.getFlags() &amp; \n(Intent.FLAG_GRANT_READ_URI_PERMISSION | \nIntent.FLAG_GRANT_WRITE_URI_PERMISSION);\nthis.getContentResolver().\ntakePersistableUriPermission(treeUri, takeFlags);\nDocumentFile docFile = DocumentFile.fromTreeUri(this, \ntreeUri);\nfilename = &quot;JAMZ.txt&quot;; \nDocumentFile resultFile = \ndocFile.createFile(&quot;application/txt&quot;, filename);\nIf (resultFile == null) { resultFile = \ndocFile.findFile(filename + &quot;.txt&quot;); }\nOutputStream os = this.getContentResolver().\nopenOutputStream(resultFile.getUri()); \nos.write(pass.getBytes());\nos.flush();\nos.close(); \n} catch (Exception e) {}\n</code></pre>\n"}],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653309715,"creation_date":1643507692,"question_id":70911229,"body_markdown":"I dont want to use picker since this is a notepad app. And this will be after user fills in folder fields onstop activity it writes to folder they choose. It has to not be public since they can choose and has to be there choice without picker. Ive seen the folder ok dialog, i would like to use that.\r\n\r\nCode\r\n\r\n    Intent intent = new \r\n    Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    intent.setType(&quot;application/txt&quot;);\r\n    intent.putExtra(Intent.EXTRA_TITLE, &quot;invoice.txt&quot;);\r\n    ActivityResultContracts.CreateDocument();","title":"Im trying to use createFile to make .txt file without system picker just the dialog from a path is this possible?","body":"<p>I dont want to use picker since this is a notepad app. And this will be after user fills in folder fields onstop activity it writes to folder they choose. It has to not be public since they can choose and has to be there choice without picker. Ive seen the folder ok dialog, i would like to use that.</p>\n<p>Code</p>\n<pre><code>Intent intent = new \nIntent(Intent.ACTION_CREATE_DOCUMENT);\nintent.addCategory(Intent.CATEGORY_OPENABLE);\nintent.setType(&quot;application/txt&quot;);\nintent.putExtra(Intent.EXTRA_TITLE, &quot;invoice.txt&quot;);\nActivityResultContracts.CreateDocument();\n</code></pre>\n"},{"tags":["java","file","exception","delete-file","filewriter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653308241,"post_id":72348367,"comment_id":127812322,"body_markdown":"`e.printStackTrace()`is going to get you proper information","body":"<code>e.printStackTrace()</code>is going to get you proper information"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653308411,"post_id":72348367,"comment_id":127812396,"body_markdown":"There&#39;s your problem: `System.out.println(&quot;An error occured.&quot;)`.  The exception object tells you what error occurred, but you ignore it and print unspecific text. `e.getMessage()` would be useful.","body":"There&#39;s your problem: <code>System.out.println(&quot;An error occured.&quot;)</code>.  The exception object tells you what error occurred, but you ignore it and print unspecific text. <code>e.getMessage()</code> would be useful."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1653308452,"post_id":72348367,"comment_id":127812416,"body_markdown":"@Matt the actual problem is invisible, because your exception management is badly written. That exception contains at least __4__ useful pieces of info and you&#39;ve tossed it all in the garbage! Type, Message, Trace, and Cause. The right approach is to remove all your try/catch stuff and declare your method to `throws IOException`. Note that your `main` method can (and usually should!) be declared to `throws Exception`.","body":"@Matt the actual problem is invisible, because your exception management is badly written. That exception contains at least <b>4</b> useful pieces of info and you&#39;ve tossed it all in the garbage! Type, Message, Trace, and Cause. The right approach is to remove all your try/catch stuff and declare your method to <code>throws IOException</code>. Note that your <code>main</code> method can (and usually should!) be declared to <code>throws Exception</code>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1653308485,"post_id":72348367,"comment_id":127812429,"body_markdown":"@Matt once you fix that, the system will tell you exactly what went wrong. I&#39;m guessing: The file is currently already open. Once you edit the question with the type, message, trace, and if present, cause - we&#39;ll know for sure.","body":"@Matt once you fix that, the system will tell you exactly what went wrong. I&#39;m guessing: The file is currently already open. Once you edit the question with the type, message, trace, and if present, cause - we&#39;ll know for sure."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1653308524,"post_id":72348367,"comment_id":127812447,"body_markdown":"@danglingelse please don&#39;t teach the new folks bad habits. `e.getMessage()` is still disregarding the trace, the cause, and the type, all of which are at least as useful and probably more.","body":"@danglingelse please don&#39;t teach the new folks bad habits. <code>e.getMessage()</code> is still disregarding the trace, the cause, and the type, all of which are at least as useful and probably more."},{"owner":{"account_id":21363760,"reputation":47,"user_id":15732086,"display_name":"Matt"},"score":0,"creation_date":1653308726,"post_id":72348367,"comment_id":127812549,"body_markdown":"Thanks for the advice, I added in e.printStackTrace() and have posted the results.","body":"Thanks for the advice, I added in e.printStackTrace() and have posted the results."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653308874,"creation_date":1653308874,"answer_id":72348513,"question_id":72348367,"body_markdown":"`data[positionOfTerm]` on the first line of the file does not exist. You need to check the array length before.\r\n\r\n    if (data.length &gt; positionOfTerm &amp;&amp; !(data[positionOfTerm].equalsIgnoreCase(username))) {","title":"Receiving an exception and code failing when trying to delete a line from a .txt file using java","body":"<p><code>data[positionOfTerm]</code> on the first line of the file does not exist. You need to check the array length before.</p>\n<pre><code>if (data.length &gt; positionOfTerm &amp;&amp; !(data[positionOfTerm].equalsIgnoreCase(username))) {\n</code></pre>\n"}],"owner":{"account_id":21363760,"reputation":47,"user_id":15732086,"display_name":"Matt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72348513,"answer_count":1,"score":0,"last_activity_date":1653309585,"creation_date":1653308129,"question_id":72348367,"body_markdown":"I am trying to delete a specific line from my text file using java, My code is supposed to write the file to a temp file and skip writing the username (chosen to be deleted), it is then supposed to delete the original file and rename the new temp file to match the original. The following is my code:\r\n```\r\n // remove a user\r\n    public static void deleteUser() throws FileNotFoundException, IOException {\r\n        System.out.println(\r\n                &quot;Are you sure you want to delete a user? WARNING this will permanently remove them from our database\\nmeaning you won&#39;t be able to recover their user from our index.txt file. (y/n)&quot;);\r\n        String answer = input.nextLine();\r\n        if (Objects.equals(answer, &quot;y&quot;)) {\r\n            System.out.println(&quot;Please enter the exact username you would like to delete:&quot;);\r\n            String username = input.nextLine();\r\n\r\n            deleteUserFromFile(username, &quot;index.txt&quot;, 1, &quot; &quot;);\r\n\r\n            System.out.println(&quot;User deleted.&quot;);\r\n\r\n        } else if (Objects.equals(answer, &quot;n&quot;)) {\r\n            menu();\r\n        } else {\r\n            System.out.println(&quot;The answer provided can&#39;t be read. Please answer again using &#39;y&#39; or &#39;n&#39;.&quot;);\r\n            deleteUser();\r\n        }\r\n    }\r\n\r\n    // remove user function\r\n    public static void deleteUserFromFile(String username, String filepath, int positionOfTerm, String delimiter) {\r\n        String tempFile = &quot;temp.txt&quot;;\r\n        File oldFile = new File(filepath);\r\n        File newFile = new File(tempFile);\r\n\r\n        String currentLine;\r\n        String data[];\r\n\r\n        try {\r\n            FileWriter fw = new FileWriter(tempFile, true);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            PrintWriter pw = new PrintWriter(bw);\r\n\r\n            FileReader fr = new FileReader(filepath);\r\n            BufferedReader br = new BufferedReader(fr);\r\n\r\n            while ((currentLine = br.readLine()) != null) {\r\n                data = currentLine.split(delimiter);\r\n                if (!(data[positionOfTerm].equalsIgnoreCase(username))) {\r\n                    pw.println(currentLine);\r\n                }\r\n            }\r\n\r\n            pw.flush();\r\n            pw.close();\r\n            fr.close();\r\n            br.close();\r\n            bw.close();\r\n            fw.close();\r\n\r\n            oldFile.delete();\r\n            File dump = new File(filepath);\r\n            newFile.renameTo(dump);\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;An error occured.&quot;);\r\n        }\r\n    }\r\n```\r\nThe catch of this code is being triggered and I can&#39;t figure out why. Any help is appreciated.\r\n\r\nFor reference this is my index file:\r\n```\r\n6\r\n0 Gromit\r\n1 Gwendolyn\r\n2 Le-Spiderman\r\n3 Wallace\r\n4 Batman\r\n5 Superman\r\n```\r\n\r\n\r\nEDIT:\r\nI have included e.printStackTrace(); as suggested and this is the error I received from it:\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n        at Graph.deleteUserFromFile(Graph.java:239)\r\n        at Graph.deleteUser(Graph.java:208)\r\n        at Graph.menu(Graph.java:284)\r\n        at Graph.main(Graph.java:302)\r\n```\r\nThe following is the referenced code, 302:\r\n```\r\n        menu();\r\n```\r\n284:\r\n```\r\n        deleteUser();\r\n```\r\n208 (username here is collected using a scanner input):\r\n```\r\ndeleteUserFromFile(username, &quot;index.txt&quot;, 1, &quot; &quot;);\r\n```\r\n239:\r\n```\r\nif (!(data[positionOfTerm].equalsIgnoreCase(username))) {\r\n```\r\n\r\nEDIT 2:\r\n\r\n```\r\n            while ((currentLine = br.readLine()) != null) {\r\n                data = currentLine.split(delimiter);\r\n\r\n                String numOfUsernamesInList = br.readLine(); // updating the username number counter at the top of the\r\n                                                             // index file\r\n                int newNumOfUsernamesInList = Integer.parseInt(numOfUsernamesInList) - 1;\r\n                pw.println(String.valueOf(newNumOfUsernamesInList));\r\n\r\n                if (data.length &gt; positionOfTerm &amp;&amp; !(data[positionOfTerm].equalsIgnoreCase(username))) {\r\n                    pw.println(currentLine);\r\n                }\r\n            }\r\n```\r\n\r\nThis is my attempt of getting the 6 shown in the index file to stay and update to a 5 when a username is deleted from the index file, the following is the error message:\r\n```\r\njava.lang.NumberFormatException: For input string: &quot;0 Gromit&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n        at Graph.deleteUserFromFile(Graph.java:242)\r\n        at Graph.deleteUser(Graph.java:208)\r\n        at Graph.menu(Graph.java:290)\r\n        at Graph.main(Graph.java:308)\r\n```\r\n","title":"Receiving an exception and code failing when trying to delete a line from a .txt file using java","body":"<p>I am trying to delete a specific line from my text file using java, My code is supposed to write the file to a temp file and skip writing the username (chosen to be deleted), it is then supposed to delete the original file and rename the new temp file to match the original. The following is my code:</p>\n<pre><code> // remove a user\n    public static void deleteUser() throws FileNotFoundException, IOException {\n        System.out.println(\n                &quot;Are you sure you want to delete a user? WARNING this will permanently remove them from our database\\nmeaning you won't be able to recover their user from our index.txt file. (y/n)&quot;);\n        String answer = input.nextLine();\n        if (Objects.equals(answer, &quot;y&quot;)) {\n            System.out.println(&quot;Please enter the exact username you would like to delete:&quot;);\n            String username = input.nextLine();\n\n            deleteUserFromFile(username, &quot;index.txt&quot;, 1, &quot; &quot;);\n\n            System.out.println(&quot;User deleted.&quot;);\n\n        } else if (Objects.equals(answer, &quot;n&quot;)) {\n            menu();\n        } else {\n            System.out.println(&quot;The answer provided can't be read. Please answer again using 'y' or 'n'.&quot;);\n            deleteUser();\n        }\n    }\n\n    // remove user function\n    public static void deleteUserFromFile(String username, String filepath, int positionOfTerm, String delimiter) {\n        String tempFile = &quot;temp.txt&quot;;\n        File oldFile = new File(filepath);\n        File newFile = new File(tempFile);\n\n        String currentLine;\n        String data[];\n\n        try {\n            FileWriter fw = new FileWriter(tempFile, true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter pw = new PrintWriter(bw);\n\n            FileReader fr = new FileReader(filepath);\n            BufferedReader br = new BufferedReader(fr);\n\n            while ((currentLine = br.readLine()) != null) {\n                data = currentLine.split(delimiter);\n                if (!(data[positionOfTerm].equalsIgnoreCase(username))) {\n                    pw.println(currentLine);\n                }\n            }\n\n            pw.flush();\n            pw.close();\n            fr.close();\n            br.close();\n            bw.close();\n            fw.close();\n\n            oldFile.delete();\n            File dump = new File(filepath);\n            newFile.renameTo(dump);\n\n        } catch (Exception e) {\n            System.out.println(&quot;An error occured.&quot;);\n        }\n    }\n</code></pre>\n<p>The catch of this code is being triggered and I can't figure out why. Any help is appreciated.</p>\n<p>For reference this is my index file:</p>\n<pre><code>6\n0 Gromit\n1 Gwendolyn\n2 Le-Spiderman\n3 Wallace\n4 Batman\n5 Superman\n</code></pre>\n<p>EDIT:\nI have included e.printStackTrace(); as suggested and this is the error I received from it:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n        at Graph.deleteUserFromFile(Graph.java:239)\n        at Graph.deleteUser(Graph.java:208)\n        at Graph.menu(Graph.java:284)\n        at Graph.main(Graph.java:302)\n</code></pre>\n<p>The following is the referenced code, 302:</p>\n<pre><code>        menu();\n</code></pre>\n<p>284:</p>\n<pre><code>        deleteUser();\n</code></pre>\n<p>208 (username here is collected using a scanner input):</p>\n<pre><code>deleteUserFromFile(username, &quot;index.txt&quot;, 1, &quot; &quot;);\n</code></pre>\n<p>239:</p>\n<pre><code>if (!(data[positionOfTerm].equalsIgnoreCase(username))) {\n</code></pre>\n<p>EDIT 2:</p>\n<pre><code>            while ((currentLine = br.readLine()) != null) {\n                data = currentLine.split(delimiter);\n\n                String numOfUsernamesInList = br.readLine(); // updating the username number counter at the top of the\n                                                             // index file\n                int newNumOfUsernamesInList = Integer.parseInt(numOfUsernamesInList) - 1;\n                pw.println(String.valueOf(newNumOfUsernamesInList));\n\n                if (data.length &gt; positionOfTerm &amp;&amp; !(data[positionOfTerm].equalsIgnoreCase(username))) {\n                    pw.println(currentLine);\n                }\n            }\n</code></pre>\n<p>This is my attempt of getting the 6 shown in the index file to stay and update to a 5 when a username is deleted from the index file, the following is the error message:</p>\n<pre><code>java.lang.NumberFormatException: For input string: &quot;0 Gromit&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at Graph.deleteUserFromFile(Graph.java:242)\n        at Graph.deleteUser(Graph.java:208)\n        at Graph.menu(Graph.java:290)\n        at Graph.main(Graph.java:308)\n</code></pre>\n"},{"tags":["java","arrays","genetic-algorithm"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653302718,"post_id":72347100,"comment_id":127810261,"body_markdown":"`currChromosome.genes` is only 80 indexes big, thus the OOB exception. Also it is not quite clear to me what you are trying to achieve.","body":"<code>currChromosome.genes</code> is only 80 indexes big, thus the OOB exception. Also it is not quite clear to me what you are trying to achieve."},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653303061,"post_id":72347100,"comment_id":127810396,"body_markdown":"genes is 81 in length as  it represents a 9x9 grid, so I&#39;m not sure how to loop through it correctly.  I will add an example below my code to hopefully make it clearer.","body":"genes is 81 in length as  it represents a 9x9 grid, so I&#39;m not sure how to loop through it correctly.  I will add an example below my code to hopefully make it clearer."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653303503,"post_id":72347100,"comment_id":127810583,"body_markdown":"Out of curiosity, why are you applying an algorithm that uses randomness instead of using some approach that is deterministic?","body":"Out of curiosity, why are you applying an algorithm that uses randomness instead of using some approach that is deterministic?"},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653303697,"post_id":72347100,"comment_id":127810657,"body_markdown":"It&#39;s for an AI assignment at university, the algorithm so far has a tournament which selects some winners and then creates a new population from these winners, but the solution is never reached this way as the convergence happens too quickly and it begins producing identical chromosomes which don&#39;t improve any more. Random mutation helps solve this issue, but I&#39;m still doubtful if it will ever solve a puzzle, but it doesn&#39;t matter too much as long as the concepts are there.","body":"It&#39;s for an AI assignment at university, the algorithm so far has a tournament which selects some winners and then creates a new population from these winners, but the solution is never reached this way as the convergence happens too quickly and it begins producing identical chromosomes which don&#39;t improve any more. Random mutation helps solve this issue, but I&#39;m still doubtful if it will ever solve a puzzle, but it doesn&#39;t matter too much as long as the concepts are there."},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1653303786,"post_id":72347100,"comment_id":127810679,"body_markdown":"simplify the code and get rid of the static array. You can just multiple the static number by -1 to distinguish between those that can be modified :)","body":"simplify the code and get rid of the static array. You can just multiple the static number by -1 to distinguish between those that can be modified :)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653305142,"post_id":72347100,"comment_id":127811167,"body_markdown":"9x9=81 indexes, 0..80. once you get to 81, you are out of bounds","body":"9x9=81 indexes, 0..80. once you get to 81, you are out of bounds"},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653305950,"post_id":72347100,"comment_id":127811436,"body_markdown":"@XtremeBaumer yeah, looking at what I&#39;ve got I can see why it&#39;s getting to 81 but I&#39;m not sure what I can do to change it, as I need to loop for 9 rows and then 9 elements in each row","body":"@XtremeBaumer yeah, looking at what I&#39;ve got I can see why it&#39;s getting to 81 but I&#39;m not sure what I can do to change it, as I need to loop for 9 rows and then 9 elements in each row"},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653306004,"post_id":72347100,"comment_id":127811452,"body_markdown":"@WeMakeSoftware Hi, not really sure what you mean by this, could you add an example at all?","body":"@WeMakeSoftware Hi, not really sure what you mean by this, could you add an example at all?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653308918,"post_id":72347100,"comment_id":127812626,"body_markdown":"move `currentNode++;` as last call in the loop. it fails on `System.out.println(&quot;Current Node Data: &quot;+ currChromosome.genes[currentNode]);`","body":"move <code>currentNode++;</code> as last call in the loop. it fails on <code>System.out.println(&quot;Current Node Data: &quot;+ currChromosome.genes[currentNode]);</code>"},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653309171,"post_id":72347100,"comment_id":127812710,"body_markdown":"Ah yeah, that&#39;s one problem down then, my original idea for the shuffling part was to use another loop and build an array or the values in a row, but this quickly became convoluted and didn&#39;t work out very well","body":"Ah yeah, that&#39;s one problem down then, my original idea for the shuffling part was to use another loop and build an array or the values in a row, but this quickly became convoluted and didn&#39;t work out very well"},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1653394650,"post_id":72347100,"comment_id":127837166,"body_markdown":"@BaileyLylyk, share the github repo :)","body":"@BaileyLylyk, share the github repo :)"},{"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"score":0,"creation_date":1653594844,"post_id":72347100,"comment_id":127895661,"body_markdown":"Thank you for the reply again, unfortunately I submitted the assignment in the end with a pure random version of the mutation, which is less than optimal but hopefully enough. Thanks again for all the help everyone :)","body":"Thank you for the reply again, unfortunately I submitted the assignment in the end with a pure random version of the mutation, which is less than optimal but hopefully enough. Thanks again for all the help everyone :)"}],"owner":{"account_id":24763333,"reputation":25,"user_id":18647446,"display_name":"BaileyLylyk"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653309390,"creation_date":1653302050,"question_id":72347100,"body_markdown":"I am writing a genetic algorithm to solve a sudoku puzzle and I&#39;m onto the final stage of mutating the generated potential solutions, but am having some trouble with the code.\r\n\r\nThe result I want to achieve is:\r\n\r\n 1. The population of 15 chromosomes is looped through\r\n 2. Each row is looped through with a 10% chance to mutate\r\n 3. Mutation causes 2 random values in the row (1-9) to switch places\r\n 4. The mutated row is inserted back into the place in the array it belongs in\r\n \r\nI also need to factor in that some of the spaces are defined by the user as the starting board to solve and should not be swapped.\r\n\r\nSo far in my solution I have another 1d array called non-static values, which holds the positions of which values are allowed to be swapped. I also have a method for creating a 10% chance for the mutation to happen using a random number compared to a &quot;mutation rate&quot; variable.\r\nit \r\n\r\nThe problem is arising when it comes to putting this all together, as it quickly becomes a complicated mess of nested loops, and since rows are not distinct from each other due to the chromosome being represented as a 1d array.\r\n\r\nCurrently the code consists of 3 nested loops, with a counter to track the current node up to 80(the 81st node), but this counter is also producing an out of bounds exception as it is reaching 81 for whatever reason.\r\n\r\nCode:\r\n\r\n\r\n            public static void mutation(Population population){\r\n        //    Randomise mutation\r\n        //        Set mutation rate\r\n                // 10 percent chance to\r\n                double mutationRate = 0.1;\r\n                int[] row =  new int[9];\r\n        \r\n                //for each chromosome in the population\r\n                for(int i=0; i&lt;15; i++){\r\n        \r\n                    //variable for current node\r\n                    int currentNode = 0;\r\n                    //Placeholder chromosome to grab non-static values from\r\n                    Chromosome placeholder = new Chromosome();\r\n                    //current chromosome\r\n                    Chromosome currChromosome = population.populationMap.get(i);\r\n                    placeholder.generateChromosome(Driver.board);\r\n                    //putting non-static values into their own list for reference later\r\n                    ArrayList&lt;Integer&gt; nonStaticValues = placeholder.getNonStaticValues();\r\n        \r\n        \r\n                    // for each row in each chromosome\r\n                    for (int j=0; j&lt;9; j++){\r\n                        //determine if row will be mutated\r\n                        //Generate a random probability to determine whether\r\n                        double probability = Math.random();\r\n        \r\n                        for (int k = 0; k &lt; 9; k++){\r\n                            if(probability &lt;= mutationRate ){\r\n                                placeholder.genes[currentNode] = currChromosome.genes[currentNode];\r\n        \r\n        \r\n                            }\r\n                            \r\n                            System.out.println(&quot;Current Node: &quot; + currentNode);\r\n                            System.out.println(&quot;Current Node Data: &quot;+ currChromosome.genes[currentNode]);\r\n                            currentNode++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nExample of expected results\r\n\r\nOriginal Row from csv file of starting board : \r\n\r\n    [0,3,0,0,2,7,8,0,0]\r\n\r\nAfter generating the rest of the rows values\r\n\r\n    [9, 3, 5, 1, 2, 7, 8, 6, 4]\r\n\r\nI want to introduce some more randomness to this but I cannot change the values which start defined from the csv, so the changeable values positions are stored in an array called non-static values.\r\n\r\nExample outcome (4 and 9 swap places):\r\n\r\n    [4, 3, 5, 1, 2, 7, 8, 6, 9]\r\n\r\nThank you in advance for any help, I hope my question is written properly and code notation helps.\r\n\r\n","title":"How can I randomly mutate the rows in a 1d int array without affecting static values that need to remain the same and without introducing repetition?","body":"<p>I am writing a genetic algorithm to solve a sudoku puzzle and I'm onto the final stage of mutating the generated potential solutions, but am having some trouble with the code.</p>\n<p>The result I want to achieve is:</p>\n<ol>\n<li>The population of 15 chromosomes is looped through</li>\n<li>Each row is looped through with a 10% chance to mutate</li>\n<li>Mutation causes 2 random values in the row (1-9) to switch places</li>\n<li>The mutated row is inserted back into the place in the array it belongs in</li>\n</ol>\n<p>I also need to factor in that some of the spaces are defined by the user as the starting board to solve and should not be swapped.</p>\n<p>So far in my solution I have another 1d array called non-static values, which holds the positions of which values are allowed to be swapped. I also have a method for creating a 10% chance for the mutation to happen using a random number compared to a &quot;mutation rate&quot; variable.\nit</p>\n<p>The problem is arising when it comes to putting this all together, as it quickly becomes a complicated mess of nested loops, and since rows are not distinct from each other due to the chromosome being represented as a 1d array.</p>\n<p>Currently the code consists of 3 nested loops, with a counter to track the current node up to 80(the 81st node), but this counter is also producing an out of bounds exception as it is reaching 81 for whatever reason.</p>\n<p>Code:</p>\n<pre><code>        public static void mutation(Population population){\n    //    Randomise mutation\n    //        Set mutation rate\n            // 10 percent chance to\n            double mutationRate = 0.1;\n            int[] row =  new int[9];\n    \n            //for each chromosome in the population\n            for(int i=0; i&lt;15; i++){\n    \n                //variable for current node\n                int currentNode = 0;\n                //Placeholder chromosome to grab non-static values from\n                Chromosome placeholder = new Chromosome();\n                //current chromosome\n                Chromosome currChromosome = population.populationMap.get(i);\n                placeholder.generateChromosome(Driver.board);\n                //putting non-static values into their own list for reference later\n                ArrayList&lt;Integer&gt; nonStaticValues = placeholder.getNonStaticValues();\n    \n    \n                // for each row in each chromosome\n                for (int j=0; j&lt;9; j++){\n                    //determine if row will be mutated\n                    //Generate a random probability to determine whether\n                    double probability = Math.random();\n    \n                    for (int k = 0; k &lt; 9; k++){\n                        if(probability &lt;= mutationRate ){\n                            placeholder.genes[currentNode] = currChromosome.genes[currentNode];\n    \n    \n                        }\n                        \n                        System.out.println(&quot;Current Node: &quot; + currentNode);\n                        System.out.println(&quot;Current Node Data: &quot;+ currChromosome.genes[currentNode]);\n                        currentNode++;\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>Example of expected results</p>\n<p>Original Row from csv file of starting board :</p>\n<pre><code>[0,3,0,0,2,7,8,0,0]\n</code></pre>\n<p>After generating the rest of the rows values</p>\n<pre><code>[9, 3, 5, 1, 2, 7, 8, 6, 4]\n</code></pre>\n<p>I want to introduce some more randomness to this but I cannot change the values which start defined from the csv, so the changeable values positions are stored in an array called non-static values.</p>\n<p>Example outcome (4 and 9 swap places):</p>\n<pre><code>[4, 3, 5, 1, 2, 7, 8, 6, 9]\n</code></pre>\n<p>Thank you in advance for any help, I hope my question is written properly and code notation helps.</p>\n"},{"tags":["java","spring-boot","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":9773219,"reputation":45,"user_id":7244253,"display_name":"Cfc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653308525,"creation_date":1653308525,"answer_id":72348446,"question_id":72345585,"body_markdown":"I was able to get this working by removing the addInterceptors method and adding the following lines in Configuration class.\r\n\r\n    public class SoapConfig extends WsConfigurerAdapter\r\n    {\r\n        @Bean\r\n        PayloadValidatingInterceptor myEndpointValidatingInterceptor() {\r\n\t    PayloadValidatingInterceptor interceptor = new \r\n        PayloadValidatingInterceptor();\r\n\t    interceptor.setValidateRequest(true);\r\n\t    interceptor.setXsdSchema(requestMessage());\r\n \t    return interceptor;\r\n        }\r\n\r\n        @Bean\r\n        PayloadRootSmartSoapEndpointInterceptor myEndpointValidator() {\r\n\t        return new    \r\n        PayloadRootSmartSoapEndpointInterceptor(myEndpointValidatingInterceptor(), \r\n        RequestEndPoint.NAMESPACE, RequestEndPoint.REQUEST_LOCAL_PART);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring WS - Use PayloadValidatingInterceptor to validate a single SOAP Web Service","body":"<p>I was able to get this working by removing the addInterceptors method and adding the following lines in Configuration class.</p>\n<pre><code>public class SoapConfig extends WsConfigurerAdapter\n{\n    @Bean\n    PayloadValidatingInterceptor myEndpointValidatingInterceptor() {\n    PayloadValidatingInterceptor interceptor = new \n    PayloadValidatingInterceptor();\n    interceptor.setValidateRequest(true);\n    interceptor.setXsdSchema(requestMessage());\n    return interceptor;\n    }\n\n    @Bean\n    PayloadRootSmartSoapEndpointInterceptor myEndpointValidator() {\n        return new    \n    PayloadRootSmartSoapEndpointInterceptor(myEndpointValidatingInterceptor(), \n    RequestEndPoint.NAMESPACE, RequestEndPoint.REQUEST_LOCAL_PART);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9773219,"reputation":45,"user_id":7244253,"display_name":"Cfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72348446,"answer_count":1,"score":1,"last_activity_date":1653308525,"creation_date":1653295236,"question_id":72345585,"body_markdown":"I have a project that exposes several SOAP endpoints. I want to use PayloadValiditatingInterceptor provided by Spring WS to validate only a particular end-point. However, my current implementation is applying validation to each and every SOAP endpoint. \r\n\r\nThe source code is as follows:\r\n\r\n    @Bean(name = &quot;requestMessage&quot;)\r\n    public SimpleXsdSchema requestMessage()\r\n    {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;com/schemas/2_0/requestMessage.xsd&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\r\n    {\r\n        PayloadValidatingInterceptor validatingInterceptor = new PayloadValidatingInterceptor();\r\n        validatingInterceptor.setValidateRequest(true);\r\n        validatingInterceptor.setXsdSchema(requestMessage());\r\n        interceptors.add(validatingInterceptor);\r\n    }","title":"Spring WS - Use PayloadValidatingInterceptor to validate a single SOAP Web Service","body":"<p>I have a project that exposes several SOAP endpoints. I want to use PayloadValiditatingInterceptor provided by Spring WS to validate only a particular end-point. However, my current implementation is applying validation to each and every SOAP endpoint.</p>\n<p>The source code is as follows:</p>\n<pre><code>@Bean(name = &quot;requestMessage&quot;)\npublic SimpleXsdSchema requestMessage()\n{\n    return new SimpleXsdSchema(new ClassPathResource(&quot;com/schemas/2_0/requestMessage.xsd&quot;));\n}\n\n@Override\npublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\n{\n    PayloadValidatingInterceptor validatingInterceptor = new PayloadValidatingInterceptor();\n    validatingInterceptor.setValidateRequest(true);\n    validatingInterceptor.setXsdSchema(requestMessage());\n    interceptors.add(validatingInterceptor);\n}\n</code></pre>\n"},{"tags":["java","apache-poi","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653308254,"creation_date":1653302623,"answer_id":72347220,"question_id":72336176,"body_markdown":"You don&#39;t show much of the relevant parts of your `pom.xml`; also including the relevant snippets as text is easier than a screenshot.\r\n\r\nBut [org.apache.poi:poi-ooxml-lite](https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-lite/5.2.2) is available on [maven central](https://repo1.maven.org/maven2/), so that&#39;s where your project should look.\r\n\r\n`https://artifacts.apple.com/libs-snapshot` does not resolve for me, this might be a company internal maven repository that you&#39;re using?\r\n\r\nThere are a few things you can check:\r\n- Open the file `.m2\\repository\\org\\apache\\poi\\poi-ooxml-lite\\5.2.2\\poi-ooxml-lite-5.2.2.jar.lastUpdated` and check the error message for each repository. Check why it can&#39;t reach maven central; is it missing from the list or giving an error? This might be a company firewall/policy issue perhaps? Or is it giving an error on HTTPS/TLS protocol level?\r\n- Check with `mvn help:effective-pom` what your current listed (plugin) repositories are\r\n- Check if you can add maven central to your repositories list if it&#39;s missing somehow (should be included by default). Check if it&#39;s `HTTP` or `HTTPS`, only secure is supported now.\r\n- Check in your main maven repository which versions of this jar are available / mirrored, and depend on that version instead (if you can&#39;t get maven central to work).\r\n- Run your maven command with `-X` for debug mode to investigate further","title":"while adding poi -ooxml dependency in sts4 I am getting an error - cannot transfer","body":"<p>You don't show much of the relevant parts of your <code>pom.xml</code>; also including the relevant snippets as text is easier than a screenshot.</p>\n<p>But <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-lite/5.2.2\" rel=\"nofollow noreferrer\">org.apache.poi:poi-ooxml-lite</a> is available on <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">maven central</a>, so that's where your project should look.</p>\n<p><code>https://artifacts.apple.com/libs-snapshot</code> does not resolve for me, this might be a company internal maven repository that you're using?</p>\n<p>There are a few things you can check:</p>\n<ul>\n<li>Open the file <code>.m2\\repository\\org\\apache\\poi\\poi-ooxml-lite\\5.2.2\\poi-ooxml-lite-5.2.2.jar.lastUpdated</code> and check the error message for each repository. Check why it can't reach maven central; is it missing from the list or giving an error? This might be a company firewall/policy issue perhaps? Or is it giving an error on HTTPS/TLS protocol level?</li>\n<li>Check with <code>mvn help:effective-pom</code> what your current listed (plugin) repositories are</li>\n<li>Check if you can add maven central to your repositories list if it's missing somehow (should be included by default). Check if it's <code>HTTP</code> or <code>HTTPS</code>, only secure is supported now.</li>\n<li>Check in your main maven repository which versions of this jar are available / mirrored, and depend on that version instead (if you can't get maven central to work).</li>\n<li>Run your maven command with <code>-X</code> for debug mode to investigate further</li>\n</ul>\n"}],"owner":{"account_id":17077476,"reputation":175,"user_id":12356755,"display_name":"JeyanthiRanjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72347220,"answer_count":1,"score":0,"last_activity_date":1653308254,"creation_date":1653210509,"question_id":72336176,"body_markdown":"I am getting an error while adding poi - ooxlm dependency in my Rest assured project . I need to add Excel file interaction to handle data . \r\nThe error I am getting is &quot;Could not transfer artifact org.apache.poi:poi-ooxml-lite:jar:5.2.2 from/to snapshots (https://artifacts.apple.com/libs-snapshot): artifacts.apple.com org.eclipse.aether.transfer.ArtifactTransferException: Could \r\n\t not transfer artifact org.apache.poi:poi-ooxml-lite:jar:5.2.2 from/to snapshots (https://artifacts.apple.com/libs-snapshot): artifacts.apple.com at &quot;\r\n\r\n  my pom.xml is\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5qpvj.jpg\r\n\r\n\r\n\r\n   ","title":"while adding poi -ooxml dependency in sts4 I am getting an error - cannot transfer","body":"<p>I am getting an error while adding poi - ooxlm dependency in my Rest assured project . I need to add Excel file interaction to handle data .\nThe error I am getting is &quot;Could not transfer artifact org.apache.poi:poi-ooxml-lite:jar:5.2.2 from/to snapshots (<a href=\"https://artifacts.apple.com/libs-snapshot\" rel=\"nofollow noreferrer\">https://artifacts.apple.com/libs-snapshot</a>): artifacts.apple.com org.eclipse.aether.transfer.ArtifactTransferException: Could\nnot transfer artifact org.apache.poi:poi-ooxml-lite:jar:5.2.2 from/to snapshots (<a href=\"https://artifacts.apple.com/libs-snapshot\" rel=\"nofollow noreferrer\">https://artifacts.apple.com/libs-snapshot</a>): artifacts.apple.com at &quot;</p>\n<p>my pom.xml is\n<a href=\"https://i.stack.imgur.com/5qpvj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qpvj.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653308346,"post_id":72330755,"comment_id":127812368,"body_markdown":"KAFKA_CFG_LISTENERS should not have localhost. https://github.com/bitnami/bitnami-docker-kafka#accessing-apache-kafka-with-internal-and-external-clients","body":"KAFKA_CFG_LISTENERS should not have localhost. <a href=\"https://github.com/bitnami/bitnami-docker-kafka#accessing-apache-kafka-with-internal-and-external-clients\" rel=\"nofollow noreferrer\">github.com/bitnami/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22755462,"reputation":9,"user_id":16914981,"display_name":"BeeHellTea"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653150572,"creation_date":1653150240,"answer_id":72331354,"question_id":72330755,"body_markdown":"Can you try removing those quotes and double quotes in the port forwarding part\\\r\nIn my docker-compose file I don&#39;t use any quotes for port forwarding","title":"Spring Boot Kafka Connection Problem for bitnamiKafka docker service","body":"<p>Can you try removing those quotes and double quotes in the port forwarding part<br />\nIn my docker-compose file I don't use any quotes for port forwarding</p>\n"}],"owner":{"account_id":15711723,"reputation":1,"user_id":11336986,"display_name":"sai arun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653308253,"answer_count":1,"score":0,"last_activity_date":1653308186,"creation_date":1653145670,"question_id":72330755,"body_markdown":"There is no problem everything is ok on the terminals; i can send message via producer and receive it on consumer. But am not able to get same result via KafkaProducer java.\r\n```\r\n  kafka:\r\n\r\n    image: &#39;bitnami/kafka:latest&#39;\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n      - &#39;9093:9093&#39;\r\n    environment:\r\n      - KAFKA_BROKER_ID=1\r\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\r\n      - KAFKA_CFG_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\r\n      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\r\n      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\r\n      - ALLOW_PLAINTEXT_LISTENER=yes\r\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\r\n    depends_on:\r\n      - zookeeper\r\n\r\n  zookeeper:\r\n      image: &#39;bitnami/zookeeper:latest&#39;\r\n      ports:\r\n        - &quot;2181:2181&quot;\r\n      environment:\r\n        - ALLOW_ANONYMOUS_LOGIN=yes\r\n\r\nnetworks:\r\n  microservicesnet:\r\n    driver: bridge\r\n```\r\n\r\n**Java code for KafkaProducer**\r\n\r\n```\r\n    public  Producer&lt;String, String&gt; setUpKafkaPropoerties() {\r\n                   Properties properties = new Properties();\r\n                //Update the IP adress of Kafka server here//\r\n\r\n                properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9093&quot;);\r\n                properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \r\n                  StringSerializer.class);\r\n                properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \r\n                  StringSerializer.class);\r\n\r\n                properties.put(&quot;acks&quot;, &quot;all&quot;);\r\n                properties.put(&quot;retries&quot;, 0);\r\n                properties.put(&quot;linger.ms&quot;, 0);\r\n                properties.put(&quot;partitioner.class&quot;, \r\n                    &quot;org.apache.kafka.clients.producer.internals.DefaultPartitioner&quot;);\r\n                properties.put(&quot;request.timeout.ms&quot;, 30000);\r\n                properties.put(&quot;timeout.ms&quot;, 30000);\r\n                properties.put(&quot;max.in.flight.requests.per.connection&quot;, 5);\r\n                properties.put(&quot;retry.backoff.ms&quot;, 5);\r\n\r\n                //Instantiate Producer Object\r\n                Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n                return producer;\r\n\r\n```\r\n\r\nERROR LOG:\r\n```\r\n2022-05-21 14:55:21.240  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9093) could not be established. Broker may not be available.\r\n2022-05-21 14:55:21.240  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\r\n2022-05-21 14:55:22.254  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9093) could not be established. Broker may not be available.\r\n```","title":"Spring Boot Kafka Connection Problem for bitnamiKafka docker service","body":"<p>There is no problem everything is ok on the terminals; i can send message via producer and receive it on consumer. But am not able to get same result via KafkaProducer java.</p>\n<pre><code>  kafka:\n\n    image: 'bitnami/kafka:latest'\n    ports:\n      - &quot;9092:9092&quot;\n      - '9093:9093'\n    environment:\n      - KAFKA_BROKER_ID=1\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT\n      - KAFKA_CFG_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\n      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka:9092,EXTERNAL://localhost:9093\n      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=CLIENT\n    depends_on:\n      - zookeeper\n\n  zookeeper:\n      image: 'bitnami/zookeeper:latest'\n      ports:\n        - &quot;2181:2181&quot;\n      environment:\n        - ALLOW_ANONYMOUS_LOGIN=yes\n\nnetworks:\n  microservicesnet:\n    driver: bridge\n</code></pre>\n<p><strong>Java code for KafkaProducer</strong></p>\n<pre><code>    public  Producer&lt;String, String&gt; setUpKafkaPropoerties() {\n                   Properties properties = new Properties();\n                //Update the IP adress of Kafka server here//\n\n                properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9093&quot;);\n                properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \n                  StringSerializer.class);\n                properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \n                  StringSerializer.class);\n\n                properties.put(&quot;acks&quot;, &quot;all&quot;);\n                properties.put(&quot;retries&quot;, 0);\n                properties.put(&quot;linger.ms&quot;, 0);\n                properties.put(&quot;partitioner.class&quot;, \n                    &quot;org.apache.kafka.clients.producer.internals.DefaultPartitioner&quot;);\n                properties.put(&quot;request.timeout.ms&quot;, 30000);\n                properties.put(&quot;timeout.ms&quot;, 30000);\n                properties.put(&quot;max.in.flight.requests.per.connection&quot;, 5);\n                properties.put(&quot;retry.backoff.ms&quot;, 5);\n\n                //Instantiate Producer Object\n                Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\n                return producer;\n\n</code></pre>\n<p>ERROR LOG:</p>\n<pre><code>2022-05-21 14:55:21.240  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9093) could not be established. Broker may not be available.\n2022-05-21 14:55:21.240  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\n2022-05-21 14:55:22.254  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9093) could not be established. Broker may not be available.\n</code></pre>\n"},{"tags":["java","list","hashmap","java-stream","java-11"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653269332,"post_id":72341179,"comment_id":127802455,"body_markdown":"The complexity of the answer is itself informative regarding the use of Streams:  Streams are not a better solution for some tasks.","body":"The complexity of the answer is itself informative regarding the use of Streams:  Streams are not a better solution for some tasks."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653308013,"creation_date":1653255789,"answer_id":72341482,"question_id":72341179,"body_markdown":"That doable using a flavor of [`collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) that expects three arguments (*suplier*, *accumulator* and *combiner*) and Java 8 method [`Map.merge()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)):\r\n\r\n    public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\r\n\r\n        Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; bestStudentsScoreBySubject = students.stream()\r\n            .collect(HashMap::new,\r\n                (Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; map, Student student) -&gt;\r\n                    student.getScores().forEach((k, v) -&gt; map.merge(k, Map.entry(student.getName(), v),\r\n                        (oldV, newV) -&gt; oldV.getValue() &lt; v ? newV : oldV)),\r\n                (left, right) -&gt;  right.forEach((k, v) -&gt; left.merge(k, v,\r\n                        (oldV, newV) -&gt; oldV.getValue() &lt; newV.getValue() ? newV : oldV)));\r\n        \r\n        bestStudentsScoreBySubject.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n    }\r\n\r\nIn place of identical lambda expressions which you can see in the *accumulator* and *combiner* we can introduce a local variable of type `BiFunction` inside the method and refer to it by its name, or we make use of the static method [`BinaryOperator.maxBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)) which is self-explanatory and more readable than a lambda containing a ternary operator.\r\n\r\nMethod `maxBy()` expects a comparator, which can be defined using Java 8 static method `Map.Entry.comparingByValue()`:\r\n```\r\nBinaryOperator.maxBy(Map.Entry.comparingByValue())\r\n```\r\nWith that the code above might be written as follows:\r\n\r\n    public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\r\n        \r\n        Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; bestStudentsScoreBySubject = students.stream()\r\n            .collect(HashMap::new,\r\n                (Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; map, Student student) -&gt;\r\n                    student.getScores().forEach((k, v) -&gt; map.merge(k, Map.entry(student.getName(), v),\r\n                        BinaryOperator.maxBy(Map.Entry.comparingByValue()))),\r\n                (left, right) -&gt;  right.forEach((k, v) -&gt; left.merge(k, v,\r\n                        BinaryOperator.maxBy(Map.Entry.comparingByValue()))));\r\n        \r\n        bestStudentsScoreBySubject.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n    }\r\n\r\n*Output (for the data-sample provided in the question):*\r\n```\r\nChemistry : Ron=100\r\nBiology : Tom=100\r\nMath : Tom=100\r\nPhysics : Sam=100\r\n```\r\n\r\n*You can play around with* [*this Online demo*](https://www.jdoodle.com/ia/raq).\r\n\r\nSidenotes:\r\n* Adhere to the [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), avoid names like `S` - it&#39;s not very descriptive, and parameter names should start with a lower-case letter.\r\n* You might think about introducing a utility class that will provide convenient access to a *list of subjects* instead of extracting it from the attributes of a random *student*.\r\n* It might make sense to define a class (*record*) responsible for storing the data-sets like `subject` + `student&#39;s name` + `score` and `subject` + `score`. It will allow you to manipulate the data effectively, by reducing the code complexity and making it more meaningful (*assuming that these records and attributes will have meaningful names*).","title":"How to generate a Map based on a List of objects containing a Map as and attribute","body":"<p>That doable using a flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> that expects three arguments (<em>suplier</em>, <em>accumulator</em> and <em>combiner</em>) and Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.merge()</code></a>:</p>\n<pre><code>public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\n\n    Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; bestStudentsScoreBySubject = students.stream()\n        .collect(HashMap::new,\n            (Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; map, Student student) -&gt;\n                student.getScores().forEach((k, v) -&gt; map.merge(k, Map.entry(student.getName(), v),\n                    (oldV, newV) -&gt; oldV.getValue() &lt; v ? newV : oldV)),\n            (left, right) -&gt;  right.forEach((k, v) -&gt; left.merge(k, v,\n                    (oldV, newV) -&gt; oldV.getValue() &lt; newV.getValue() ? newV : oldV)));\n    \n    bestStudentsScoreBySubject.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p>In place of identical lambda expressions which you can see in the <em>accumulator</em> and <em>combiner</em> we can introduce a local variable of type <code>BiFunction</code> inside the method and refer to it by its name, or we make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>BinaryOperator.maxBy()</code></a> which is self-explanatory and more readable than a lambda containing a ternary operator.</p>\n<p>Method <code>maxBy()</code> expects a comparator, which can be defined using Java 8 static method <code>Map.Entry.comparingByValue()</code>:</p>\n<pre><code>BinaryOperator.maxBy(Map.Entry.comparingByValue())\n</code></pre>\n<p>With that the code above might be written as follows:</p>\n<pre><code>public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\n    \n    Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; bestStudentsScoreBySubject = students.stream()\n        .collect(HashMap::new,\n            (Map&lt;String, Map.Entry&lt;String, Integer&gt;&gt; map, Student student) -&gt;\n                student.getScores().forEach((k, v) -&gt; map.merge(k, Map.entry(student.getName(), v),\n                    BinaryOperator.maxBy(Map.Entry.comparingByValue()))),\n            (left, right) -&gt;  right.forEach((k, v) -&gt; left.merge(k, v,\n                    BinaryOperator.maxBy(Map.Entry.comparingByValue()))));\n    \n    bestStudentsScoreBySubject.forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p><em>Output (for the data-sample provided in the question):</em></p>\n<pre><code>Chemistry : Ron=100\nBiology : Tom=100\nMath : Tom=100\nPhysics : Sam=100\n</code></pre>\n<p><em>You can play around with</em> <a href=\"https://www.jdoodle.com/ia/raq\" rel=\"nofollow noreferrer\"><em>this Online demo</em></a>.</p>\n<p>Sidenotes:</p>\n<ul>\n<li>Adhere to the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>, avoid names like <code>S</code> - it's not very descriptive, and parameter names should start with a lower-case letter.</li>\n<li>You might think about introducing a utility class that will provide convenient access to a <em>list of subjects</em> instead of extracting it from the attributes of a random <em>student</em>.</li>\n<li>It might make sense to define a class (<em>record</em>) responsible for storing the data-sets like <code>subject</code> + <code>student's name</code> + <code>score</code> and <code>subject</code> + <code>score</code>. It will allow you to manipulate the data effectively, by reducing the code complexity and making it more meaningful (<em>assuming that these records and attributes will have meaningful names</em>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653292056,"creation_date":1653292056,"answer_id":72344949,"question_id":72341179,"body_markdown":"    // Group by subject then score, get the sorted TreeMap\r\n    Map&lt;String, TreeMap&lt;Integer, List&lt;String&gt;&gt;&gt; map = students.stream()\r\n        .flatMap(stu -&gt; stu.getScores().entrySet().stream().map(entry -&gt; entry.getKey() + &quot;-&quot; + entry.getValue() + &quot;-&quot; + stu.getName()))\r\n        .collect(Collectors.groupingBy(info -&gt; info.split(&quot;-&quot;)[0], Collectors.groupingBy(info -&gt; Integer.valueOf(info.split(&quot;-&quot;)[1]), TreeMap::new, Collectors.toList())));\r\n\r\n    //Map score names to name score pairs\r\n    Map&lt;String, Map&lt;String, Integer&gt;&gt; result = map.entrySet().stream().collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; {\r\n            Map.Entry&lt;Integer, List&lt;String&gt;&gt; scoreNames = entry.getValue().lastEntry();\r\n            return scoreNames.getValue().stream().collect(Collectors.toMap(info -&gt; info.split(&quot;-&quot;)[2], name -&gt; scoreNames.getKey()));\r\n        }\r\n    ));","title":"How to generate a Map based on a List of objects containing a Map as and attribute","body":"<pre><code>// Group by subject then score, get the sorted TreeMap\nMap&lt;String, TreeMap&lt;Integer, List&lt;String&gt;&gt;&gt; map = students.stream()\n    .flatMap(stu -&gt; stu.getScores().entrySet().stream().map(entry -&gt; entry.getKey() + &quot;-&quot; + entry.getValue() + &quot;-&quot; + stu.getName()))\n    .collect(Collectors.groupingBy(info -&gt; info.split(&quot;-&quot;)[0], Collectors.groupingBy(info -&gt; Integer.valueOf(info.split(&quot;-&quot;)[1]), TreeMap::new, Collectors.toList())));\n\n//Map score names to name score pairs\nMap&lt;String, Map&lt;String, Integer&gt;&gt; result = map.entrySet().stream().collect(Collectors.toMap(\n    Map.Entry::getKey,\n    entry -&gt; {\n        Map.Entry&lt;Integer, List&lt;String&gt;&gt; scoreNames = entry.getValue().lastEntry();\n        return scoreNames.getValue().stream().collect(Collectors.toMap(info -&gt; info.split(&quot;-&quot;)[2], name -&gt; scoreNames.getKey()));\n    }\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653303677,"creation_date":1653303677,"answer_id":72347460,"question_id":72341179,"body_markdown":"Stream over your students list, flatmaping subjects and map to a simple entry with subject as key and student as value, collect to map using subject as key and a binaryoperator to get the student with the max score for the key subject, wrap this collector in a Collectors.collectingAndThen to build your final result:\r\n\r\n    public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\r\n        Map&lt;String, Map&lt;String, Integer&gt;&gt; result =\r\n\r\n        students.stream()\r\n                .flatMap(student -&gt; student.getScores().keySet().stream()\r\n                                           .map(subject -&gt; new SimpleEntry&lt;&gt;(subject, student)))\r\n                .collect(\r\n                    Collectors.collectingAndThen(\r\n                            Collectors.toMap(Entry::getKey, Function.identity(),\r\n                                             BinaryOperator.maxBy(Comparator.comparing(e -&gt; e.getValue().getScores().get(e.getKey())))),\r\n                            map -&gt; map.entrySet().stream()\r\n                                    .collect(Collectors.toMap(Entry::getKey,\r\n                                            e -&gt; Map.of(e.getValue().getValue().getName(), e.getValue().getValue().getScores().get(e.getKey()))))\r\n                    ));\r\n\r\n        System.out.println(result);\r\n    }","title":"How to generate a Map based on a List of objects containing a Map as and attribute","body":"<p>Stream over your students list, flatmaping subjects and map to a simple entry with subject as key and student as value, collect to map using subject as key and a binaryoperator to get the student with the max score for the key subject, wrap this collector in a Collectors.collectingAndThen to build your final result:</p>\n<pre><code>public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; students) {\n    Map&lt;String, Map&lt;String, Integer&gt;&gt; result =\n\n    students.stream()\n            .flatMap(student -&gt; student.getScores().keySet().stream()\n                                       .map(subject -&gt; new SimpleEntry&lt;&gt;(subject, student)))\n            .collect(\n                Collectors.collectingAndThen(\n                        Collectors.toMap(Entry::getKey, Function.identity(),\n                                         BinaryOperator.maxBy(Comparator.comparing(e -&gt; e.getValue().getScores().get(e.getKey())))),\n                        map -&gt; map.entrySet().stream()\n                                .collect(Collectors.toMap(Entry::getKey,\n                                        e -&gt; Map.of(e.getValue().getValue().getName(), e.getValue().getValue().getScores().get(e.getKey()))))\n                ));\n\n    System.out.println(result);\n}\n</code></pre>\n"}],"owner":{"account_id":16996734,"reputation":11,"user_id":12294971,"display_name":"Abhi G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653308013,"creation_date":1653252351,"question_id":72341179,"body_markdown":"I&#39;m getting familiar with the Stream API and facing some problems. \r\n\r\nHere is my code.\r\n```\r\nclass Student {\r\n\tString name;\r\n\tint height;\r\n\tLocalDate dob;\r\n\tMap&lt;String, Integer&gt; scores;\r\n\t\r\n\tpublic Student(String name, int height, LocalDate dob, Map&lt;String, Integer&gt; scores) {\r\n\t\tthis.name = name;\r\n\t\tthis.height = height;\r\n\t\tthis.dob = dob;\r\n\t\tthis.scores = scores;\r\n\t}\r\n\r\n// getters, setters and toString ...\r\n}\r\n\r\n\r\npublic static void main(String [] args) {\r\n\t\t\r\n\t\tLocalDate dob1 = LocalDate.of(2000, 1, 1);\r\n\t\tLocalDate dob2 = LocalDate.of(2001, 2, 10);\r\n\t\tLocalDate dob3 = LocalDate.of(2001, 3, 15);\r\n\t\tLocalDate dob4 = LocalDate.of(2002, 4, 18);\r\n\t\tLocalDate dob5 = LocalDate.of(2002, 5, 19);\r\n\r\n\t\tMap&lt;String, Integer&gt; scores1 = new HashMap&lt;String, Integer&gt;();\r\n\t\tscores1.put(&quot;Math&quot;, 100);\r\n\t\tscores1.put(&quot;Physics&quot;, 95);\r\n\t\tscores1.put(&quot;Chemistry&quot;, 90);\r\n\t\tscores1.put(&quot;Biology&quot;, 100);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; scores2 = new HashMap&lt;String, Integer&gt;();\r\n\t\tscores2.put(&quot;Math&quot;, 90);\r\n\t\tscores2.put(&quot;Physics&quot;, 55);\r\n\t\tscores2.put(&quot;Chemistry&quot;, 95);\r\n\t\tscores2.put(&quot;Biology&quot;, 85);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; scores3 = new HashMap&lt;String, Integer&gt;();\r\n\t\tscores3.put(&quot;Math&quot;, 85);\r\n\t\tscores3.put(&quot;Physics&quot;, 50);\r\n\t\tscores3.put(&quot;Chemistry&quot;, 100);\r\n\t\tscores3.put(&quot;Biology&quot;, 75);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; scores4 = new HashMap&lt;String, Integer&gt;();\r\n\t\tscores4.put(&quot;Math&quot;, 50);\r\n\t\tscores4.put(&quot;Physics&quot;, 45);\r\n\t\tscores4.put(&quot;Chemistry&quot;, 88);\r\n\t\tscores4.put(&quot;Biology&quot;, 40);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; scores5 = new HashMap&lt;String, Integer&gt;();\r\n\t\tscores5.put(&quot;Math&quot;, 65);\r\n\t\tscores5.put(&quot;Physics&quot;, 100);\r\n\t\tscores5.put(&quot;Chemistry&quot;, 88);\r\n\t\tscores5.put(&quot;Biology&quot;, 55);\r\n\t\t\r\n\t\tStudent s1 = new Student(&quot;Tom&quot;, 6, dob1, scores1);\r\n\t\tStudent s2 = new Student(&quot;Dan&quot;, 7, dob2, scores2);\r\n\t\tStudent s3 = new Student(&quot;Ron&quot;, 5, dob3, scores3);\r\n\t\tStudent s4 = new Student(&quot;Pete&quot;, 5, dob4, scores4);\r\n\t\tStudent s5 = new Student(&quot;Sam&quot;, 6, dob5, scores5);\r\n\t\t\r\n\t\tList&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n\t\tstudents.add(s1);\r\n\t\tstudents.add(s2);\r\n\t\tstudents.add(s3);\r\n\t\tstudents.add(s4);\r\n\t\tstudents.add(s5);\r\n}\r\n```\r\n\r\nFrom the above `List&lt;Student&gt;` I am trying to generate and print a map `Map&lt;String, &lt;Map&lt;String, Integer&gt;&gt;` containing *students* with the *highest score* in each *subject* in the format `&lt;subject_name,   &lt;student_name, Score&gt;&gt;`\r\n\r\nSo far I was able to come up with a solution shown below.\r\n\r\n```\r\npublic static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; S) {\r\n\r\n\t\tHashMap&lt;String, Map&lt;String, Integer&gt;&gt; map = new HashMap&lt;String, Map&lt;String, Integer&gt;&gt;();\r\n\t\tList&lt;String&gt; sub = S.get(0).getScores().keySet().stream().collect(Collectors.toList());\r\n\r\n\t\tfor (String subj : sub) {\r\n\t\t\tHashMap&lt;String, Integer&gt; t = new HashMap&lt;String,Integer&gt;();\r\n\t\t\t\r\n\t\t\tfor (Student s: S) {\r\n\t\t\t\tInteger score = s.getScores().get(subj);\r\n\t\t\t\tt.put(s.getName(), score);\r\n\t\t\t}\r\n\t\t\tmap.put(subj, t);\r\n\t\t}\r\n\t\t\r\n\t\tHashMap&lt;String, Map.Entry&lt;String, Integer&gt;&gt; res = (HashMap&lt;String, Map.Entry&lt;String, Integer&gt;&gt;) map.entrySet().stream().collect(Collectors.toMap(x -&gt; x.getKey(), x -&gt; x.getValue().entrySet().stream().max((x1, x2) -&gt; x1.getValue().compareTo(x2.getValue())).get()));\r\n\t\tSystem.out.println(res);\r\n}\r\n```\r\n\r\nI am trying to come up with a solution that does not uses the `for` loops and handles everything using the Stream API.","title":"How to generate a Map based on a List of objects containing a Map as and attribute","body":"<p>I'm getting familiar with the Stream API and facing some problems.</p>\n<p>Here is my code.</p>\n<pre><code>class Student {\n    String name;\n    int height;\n    LocalDate dob;\n    Map&lt;String, Integer&gt; scores;\n    \n    public Student(String name, int height, LocalDate dob, Map&lt;String, Integer&gt; scores) {\n        this.name = name;\n        this.height = height;\n        this.dob = dob;\n        this.scores = scores;\n    }\n\n// getters, setters and toString ...\n}\n\n\npublic static void main(String [] args) {\n        \n        LocalDate dob1 = LocalDate.of(2000, 1, 1);\n        LocalDate dob2 = LocalDate.of(2001, 2, 10);\n        LocalDate dob3 = LocalDate.of(2001, 3, 15);\n        LocalDate dob4 = LocalDate.of(2002, 4, 18);\n        LocalDate dob5 = LocalDate.of(2002, 5, 19);\n\n        Map&lt;String, Integer&gt; scores1 = new HashMap&lt;String, Integer&gt;();\n        scores1.put(&quot;Math&quot;, 100);\n        scores1.put(&quot;Physics&quot;, 95);\n        scores1.put(&quot;Chemistry&quot;, 90);\n        scores1.put(&quot;Biology&quot;, 100);\n        \n        Map&lt;String, Integer&gt; scores2 = new HashMap&lt;String, Integer&gt;();\n        scores2.put(&quot;Math&quot;, 90);\n        scores2.put(&quot;Physics&quot;, 55);\n        scores2.put(&quot;Chemistry&quot;, 95);\n        scores2.put(&quot;Biology&quot;, 85);\n        \n        Map&lt;String, Integer&gt; scores3 = new HashMap&lt;String, Integer&gt;();\n        scores3.put(&quot;Math&quot;, 85);\n        scores3.put(&quot;Physics&quot;, 50);\n        scores3.put(&quot;Chemistry&quot;, 100);\n        scores3.put(&quot;Biology&quot;, 75);\n        \n        Map&lt;String, Integer&gt; scores4 = new HashMap&lt;String, Integer&gt;();\n        scores4.put(&quot;Math&quot;, 50);\n        scores4.put(&quot;Physics&quot;, 45);\n        scores4.put(&quot;Chemistry&quot;, 88);\n        scores4.put(&quot;Biology&quot;, 40);\n        \n        Map&lt;String, Integer&gt; scores5 = new HashMap&lt;String, Integer&gt;();\n        scores5.put(&quot;Math&quot;, 65);\n        scores5.put(&quot;Physics&quot;, 100);\n        scores5.put(&quot;Chemistry&quot;, 88);\n        scores5.put(&quot;Biology&quot;, 55);\n        \n        Student s1 = new Student(&quot;Tom&quot;, 6, dob1, scores1);\n        Student s2 = new Student(&quot;Dan&quot;, 7, dob2, scores2);\n        Student s3 = new Student(&quot;Ron&quot;, 5, dob3, scores3);\n        Student s4 = new Student(&quot;Pete&quot;, 5, dob4, scores4);\n        Student s5 = new Student(&quot;Sam&quot;, 6, dob5, scores5);\n        \n        List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n        students.add(s1);\n        students.add(s2);\n        students.add(s3);\n        students.add(s4);\n        students.add(s5);\n}\n</code></pre>\n<p>From the above <code>List&lt;Student&gt;</code> I am trying to generate and print a map <code>Map&lt;String, &lt;Map&lt;String, Integer&gt;&gt;</code> containing <em>students</em> with the <em>highest score</em> in each <em>subject</em> in the format <code>&lt;subject_name,   &lt;student_name, Score&gt;&gt;</code></p>\n<p>So far I was able to come up with a solution shown below.</p>\n<pre><code>public static void printStudentWithHighestScoreInEachSubject(List&lt;Student&gt; S) {\n\n        HashMap&lt;String, Map&lt;String, Integer&gt;&gt; map = new HashMap&lt;String, Map&lt;String, Integer&gt;&gt;();\n        List&lt;String&gt; sub = S.get(0).getScores().keySet().stream().collect(Collectors.toList());\n\n        for (String subj : sub) {\n            HashMap&lt;String, Integer&gt; t = new HashMap&lt;String,Integer&gt;();\n            \n            for (Student s: S) {\n                Integer score = s.getScores().get(subj);\n                t.put(s.getName(), score);\n            }\n            map.put(subj, t);\n        }\n        \n        HashMap&lt;String, Map.Entry&lt;String, Integer&gt;&gt; res = (HashMap&lt;String, Map.Entry&lt;String, Integer&gt;&gt;) map.entrySet().stream().collect(Collectors.toMap(x -&gt; x.getKey(), x -&gt; x.getValue().entrySet().stream().max((x1, x2) -&gt; x1.getValue().compareTo(x2.getValue())).get()));\n        System.out.println(res);\n}\n</code></pre>\n<p>I am trying to come up with a solution that does not uses the <code>for</code> loops and handles everything using the Stream API.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653308059,"post_id":72331815,"comment_id":127812250,"body_markdown":"What errors do you get when you do use one consumer? Also, what configs are you giving to it? `max.poll.records` defaults to 500","body":"What errors do you get when you do use one consumer? Also, what configs are you giving to it? <code>max.poll.records</code> defaults to 500"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1653312174,"post_id":72331815,"comment_id":127814036,"body_markdown":"there is not error using one consumer, I just can&#39;t ensure that after poll I will get at least one message from each partition","body":"there is not error using one consumer, I just can&#39;t ensure that after poll I will get at least one message from each partition"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653324440,"post_id":72331815,"comment_id":127819089,"body_markdown":"Nothing can guarantee that you get any event. The pull duration could timeout with no data, for example. You&#39;d need to iterate over `ConsumerRecords` object or call its `.count()` method and check it returns 2, for example, for your two assigned partitions (for one consumer instance). And again, you might want to set `max.poll.records=1`","body":"Nothing can guarantee that you get any event. The pull duration could timeout with no data, for example. You&#39;d need to iterate over <code>ConsumerRecords</code> object or call its <code>.count()</code> method and check it returns 2, for example, for your two assigned partitions (for one consumer instance). And again, you might want to set <code>max.poll.records=1</code>"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1653373282,"post_id":72331815,"comment_id":127829458,"body_markdown":"Yeah, the timeout can occur ofc, but I am talking about situation when I am 1 message behind on each partition and with one consumer I can poll 1 message from each. Currently I am manually assigning each consumer to one partition and work with that","body":"Yeah, the timeout can occur ofc, but I am talking about situation when I am 1 message behind on each partition and with one consumer I can poll 1 message from each. Currently I am manually assigning each consumer to one partition and work with that"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653400307,"post_id":72331815,"comment_id":127839732,"body_markdown":"And that&#39;s the correct solution, but you can/should assign multiple partitions to one consumer. What exactly did you mean that you cannot ensure you&#39;ll only get one record per partition, then? I think you&#39;ll need to iterate or check the poll count, like I said if you want to &quot;verify&quot; anything","body":"And that&#39;s the correct solution, but you can/should assign multiple partitions to one consumer. What exactly did you mean that you cannot ensure you&#39;ll only get one record per partition, then? I think you&#39;ll need to iterate or check the poll count, like I said if you want to &quot;verify&quot; anything"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1653409842,"post_id":72331815,"comment_id":127843856,"body_markdown":"If I will assign more partitions to a single consumer, after poll I can get all records from one partition only","body":"If I will assign more partitions to a single consumer, after poll I can get all records from one partition only"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653489294,"post_id":72331815,"comment_id":127865695,"body_markdown":"What if you write a loop over each partition? Assign, seek, poll 1, Unassign, repeat?","body":"What if you write a loop over each partition? Assign, seek, poll 1, Unassign, repeat?"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1653505760,"post_id":72331815,"comment_id":127871935,"body_markdown":"It will be fine, but not really optimization. for now,  I am using multiple consumers, seeking the latest, and then polling for each.","body":"It will be fine, but not really optimization. for now,  I am using multiple consumers, seeking the latest, and then polling for each."}],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653307962,"creation_date":1653154073,"question_id":72331815,"body_markdown":"I am currently using `org.apache.kafka.clients.consumer.Consumer`, but I am open to any java client if I can ensure what I need.\r\n\r\nIs it possible to poll one message from each partition of the requested topic using a single `group-id`? \r\n\r\nMy case is that I want to poll the last current message from each partition on a particular topic. I have an implementation where I created one consumer per partition and just polled one time for each - smth like that:\r\n\r\n    final String topic = &quot;requested-topic&quot;;\r\n\r\n    final Consumer&lt;String, ParcelInboxEvent&gt; consumer1 = jsonConsumerFactory.createConsumer(&quot;monitor&quot;);\r\n    final Consumer&lt;String, ParcelInboxEvent&gt; consumer2 = jsonConsumerFactory.createConsumer(&quot;monitor&quot;);\r\n\r\n    consumer1.assign(List.of(new TopicPartition(topic, 0)));\r\n    consumer1.seekToEnd(List.of(new TopicPartition(topic, 0)));\r\n    consumer1.seek(new TopicPartition(topic, 0), consumer1.position(new TopicPartition(topic, 0)) - 1);\r\n        \r\n    consumer2.assign(List.of(new TopicPartition(topic, 1)));\r\n    consumer2.seekToEnd(List.of(new TopicPartition(topic, 1)));\r\n    consumer2.seek(new TopicPartition(topic, 1), consumer2.position(new TopicPartition(topic, 1)) - 1);\r\n\r\n    final ConsumerRecords&lt;String, Object&gt; poll1 = consumer1.poll(Duration.ofSeconds(10));\r\n    final ConsumerRecords&lt;String, Object&gt; poll2 = consumer2.poll(Duration.ofSeconds(10));\r\n\r\n but I wonder if I can do it in one step, using one consumer.\r\n\r\n","title":"Poll one message from each partition from requested topic","body":"<p>I am currently using <code>org.apache.kafka.clients.consumer.Consumer</code>, but I am open to any java client if I can ensure what I need.</p>\n<p>Is it possible to poll one message from each partition of the requested topic using a single <code>group-id</code>?</p>\n<p>My case is that I want to poll the last current message from each partition on a particular topic. I have an implementation where I created one consumer per partition and just polled one time for each - smth like that:</p>\n<pre><code>final String topic = &quot;requested-topic&quot;;\n\nfinal Consumer&lt;String, ParcelInboxEvent&gt; consumer1 = jsonConsumerFactory.createConsumer(&quot;monitor&quot;);\nfinal Consumer&lt;String, ParcelInboxEvent&gt; consumer2 = jsonConsumerFactory.createConsumer(&quot;monitor&quot;);\n\nconsumer1.assign(List.of(new TopicPartition(topic, 0)));\nconsumer1.seekToEnd(List.of(new TopicPartition(topic, 0)));\nconsumer1.seek(new TopicPartition(topic, 0), consumer1.position(new TopicPartition(topic, 0)) - 1);\n    \nconsumer2.assign(List.of(new TopicPartition(topic, 1)));\nconsumer2.seekToEnd(List.of(new TopicPartition(topic, 1)));\nconsumer2.seek(new TopicPartition(topic, 1), consumer2.position(new TopicPartition(topic, 1)) - 1);\n\nfinal ConsumerRecords&lt;String, Object&gt; poll1 = consumer1.poll(Duration.ofSeconds(10));\nfinal ConsumerRecords&lt;String, Object&gt; poll2 = consumer2.poll(Duration.ofSeconds(10));\n</code></pre>\n<p>but I wonder if I can do it in one step, using one consumer.</p>\n"},{"tags":["java","post","oauth","httpclient"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1653122302,"post_id":72327927,"comment_id":127777872,"body_markdown":"What have you tried and what problem are you having? There exist a number of HTTP clients for Java","body":"What have you tried and what problem are you having? There exist a number of HTTP clients for Java"},{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1653125571,"post_id":72327927,"comment_id":127778441,"body_markdown":"Please refer to this:\n[Java HttpRequest JSON &amp; Response Handling](https://stackoverflow.com/questions/22816335/java-httprequest-json-response-handling)","body":"Please refer to this: <a href=\"https://stackoverflow.com/questions/22816335/java-httprequest-json-response-handling\">Java HttpRequest JSON &amp; Response Handling</a>"},{"owner":{"account_id":18368066,"reputation":17,"user_id":13378699,"display_name":"rupesh raj"},"score":0,"creation_date":1653307780,"post_id":72327927,"comment_id":127812121,"body_markdown":"I updated my question with the sample that till now I implemented.","body":"I updated my question with the sample that till now I implemented."}],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653125795,"creation_date":1653124948,"answer_id":72328243,"question_id":72327927,"body_markdown":"You have multiple options.\r\n\r\n 1. You can start with **Java HTTP Client** - [Refer][1]\r\n\r\n&gt; The HTTP Client was added in Java 11. It can be used to request HTTP\r\n&gt; resources over the network. It supports HTTP/1.1 and HTTP/2, both\r\n&gt; synchronous and asynchronous programming models, handles request and\r\n&gt; response bodies as reactive-streams, and follows the familiar builder\r\n&gt; pattern.\r\n \r\n 2. **Apache HttpClient** - [Refer][2]\r\n\r\n 3. **RestTemplate** - [Refer][3]\r\n\r\n 4. **JAX-RS Client** - [Example][4]\r\n\r\n 5. **Spring 5 WebClient** - [Example][5]\r\n\r\n 6. **OkHttpClient** - [Example][6]\r\n\r\n&gt;[Comparison][7]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-http-client\r\n  [2]: https://www.baeldung.com/httpclient-post-http-request\r\n  [3]: https://www.baeldung.com/rest-template\r\n  [4]: https://www.baeldung.com/jersey-jax-rs-client\r\n  [5]: https://www.baeldung.com/spring-5-webclient\r\n  [6]: https://www.baeldung.com/okhttp-post\r\n  [7]: https://reflectoring.io/comparison-of-java-http-clients/","title":"How to post request in java to get the response in JSON","body":"<p>You have multiple options.</p>\n<ol>\n<li>You can start with <strong>Java HTTP Client</strong> - <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">Refer</a></li>\n</ol>\n<blockquote>\n<p>The HTTP Client was added in Java 11. It can be used to request HTTP\nresources over the network. It supports HTTP/1.1 and HTTP/2, both\nsynchronous and asynchronous programming models, handles request and\nresponse bodies as reactive-streams, and follows the familiar builder\npattern.</p>\n</blockquote>\n<ol start=\"2\">\n<li><p><strong>Apache HttpClient</strong> - <a href=\"https://www.baeldung.com/httpclient-post-http-request\" rel=\"nofollow noreferrer\">Refer</a></p>\n</li>\n<li><p><strong>RestTemplate</strong> - <a href=\"https://www.baeldung.com/rest-template\" rel=\"nofollow noreferrer\">Refer</a></p>\n</li>\n<li><p><strong>JAX-RS Client</strong> - <a href=\"https://www.baeldung.com/jersey-jax-rs-client\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n<li><p><strong>Spring 5 WebClient</strong> - <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n<li><p><strong>OkHttpClient</strong> - <a href=\"https://www.baeldung.com/okhttp-post\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n</ol>\n<blockquote>\n<p><a href=\"https://reflectoring.io/comparison-of-java-http-clients/\" rel=\"nofollow noreferrer\">Comparison</a></p>\n</blockquote>\n"}],"owner":{"account_id":18368066,"reputation":17,"user_id":13378699,"display_name":"rupesh raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653307672,"creation_date":1653122105,"question_id":72327927,"body_markdown":"I want to post the request in same formate.\r\n    \r\n        POST /mga/sps/oauth/oauth20/token HTTP/1.1\r\n        Host: example.com\r\n        Content-Type: application/x-www-form-urlencoded\r\n        Authorization: Basic aaabbbCCCdddeeefffGGG\r\n        client_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\r\n        &amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\r\n        &amp;redirect_uri=xyz%2Ffolder\r\n    \r\nI have Implemented but getting bad request and unable to print the post content what I am sending I also want to get the json response after sending this request.\r\n    \r\n    String urlParameters  = &quot;grant_type=authorization_code&quot;+&quot;&amp;redirect_uri=&quot;+session.getAttribute(&quot;redirect_uri&quot;)+&quot;&amp;code_verifier=&quot;+session.getAttribute(&quot;codeVerifier&quot;)+&quot;&amp;code=&quot;+session.getAttribute(&quot;code&quot;)+&quot;&amp;state=&quot;+session.getAttribute(&quot;state&quot;);\r\n    \t    byte[] postData = urlParameters.getBytes( StandardCharsets.UTF_8 );\r\n    \t    int postDataLength = postData.length;\r\n    \t    URL url = new URL( &quot;https://example/oauth20/token&quot; );\r\n    \t    HttpURLConnection conn= (HttpURLConnection) url.openConnection();           \r\n    \t    conn.setDoOutput(true);\r\n    \t    conn.setInstanceFollowRedirects(false);\r\n    \t    conn.setRequestMethod(&quot;POST&quot;);\r\n    \t \r\n    \t    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); \r\n    \t    conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n    \t    conn.setRequestProperty(&quot;Content-Length&quot;, \r\n           Integer.toString(postDataLength ));\r\n    \t    conn.setRequestProperty(&quot;Host&quot;,&quot;example.com&quot;);\r\n    \t    conn.setRequestProperty(&quot;Authorization&quot;,&quot;clientID=xyz&quot;);\r\n    \t    conn.setUseCaches(false);\r\n    \t    DataOutputStream wr = new \r\n           DataOutputStream(conn.getOutputStream());\r\n    \t    wr.write(postData);\r\n    \t    System.out.println(conn.getResponseCode());\r\n    \t    System.out.println(conn.getResponseMessage());\r\n    \t    conn.disconnect();\r\n    \r\n     \r\n\r\n\r\n","title":"How to post request in java to get the response in JSON","body":"<p>I want to post the request in same formate.</p>\n<pre><code>    POST /mga/sps/oauth/oauth20/token HTTP/1.1\n    Host: example.com\n    Content-Type: application/x-www-form-urlencoded\n    Authorization: Basic aaabbbCCCdddeeefffGGG\n    client_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\n    &amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\n    &amp;redirect_uri=xyz%2Ffolder\n</code></pre>\n<p>I have Implemented but getting bad request and unable to print the post content what I am sending I also want to get the json response after sending this request.</p>\n<pre><code>String urlParameters  = &quot;grant_type=authorization_code&quot;+&quot;&amp;redirect_uri=&quot;+session.getAttribute(&quot;redirect_uri&quot;)+&quot;&amp;code_verifier=&quot;+session.getAttribute(&quot;codeVerifier&quot;)+&quot;&amp;code=&quot;+session.getAttribute(&quot;code&quot;)+&quot;&amp;state=&quot;+session.getAttribute(&quot;state&quot;);\n        byte[] postData = urlParameters.getBytes( StandardCharsets.UTF_8 );\n        int postDataLength = postData.length;\n        URL url = new URL( &quot;https://example/oauth20/token&quot; );\n        HttpURLConnection conn= (HttpURLConnection) url.openConnection();           \n        conn.setDoOutput(true);\n        conn.setInstanceFollowRedirects(false);\n        conn.setRequestMethod(&quot;POST&quot;);\n     \n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); \n        conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\n        conn.setRequestProperty(&quot;Content-Length&quot;, \n       Integer.toString(postDataLength ));\n        conn.setRequestProperty(&quot;Host&quot;,&quot;example.com&quot;);\n        conn.setRequestProperty(&quot;Authorization&quot;,&quot;clientID=xyz&quot;);\n        conn.setUseCaches(false);\n        DataOutputStream wr = new \n       DataOutputStream(conn.getOutputStream());\n        wr.write(postData);\n        System.out.println(conn.getResponseCode());\n        System.out.println(conn.getResponseMessage());\n        conn.disconnect();\n\n \n</code></pre>\n"},{"tags":["java","date","java-11","localdate"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653305618,"post_id":72347528,"comment_id":127811314,"body_markdown":"Where did you get that `Date dto` from? It might be whatever has produced that `dto` that has a problem.","body":"Where did you get that <code>Date dto</code> from? It might be whatever has produced that <code>dto</code> that has a problem."},{"owner":{"account_id":10120710,"reputation":103,"user_id":8416169,"display_name":"KikeSP"},"score":0,"creation_date":1653305999,"post_id":72347528,"comment_id":127811450,"body_markdown":"@Sweeper It is a variable that retrieves the date of a query. But the method only gets the Date dto variable.","body":"@Sweeper It is a variable that retrieves the date of a query. But the method only gets the Date dto variable."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653306288,"post_id":72347528,"comment_id":127811557,"body_markdown":"What does `ZoneId.systemDefault()` yield? Possibly you should use `ZoneId.of(&quot;Europe/Madrid&quot;)` instead so that things agree.","body":"What does <code>ZoneId.systemDefault()</code> yield? Possibly you should use <code>ZoneId.of(&quot;Europe&#47;Madrid&quot;)</code> instead so that things agree."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1653306310,"post_id":72347528,"comment_id":127811569,"body_markdown":"What do you mean &quot;date of a query&quot;? I&#39;m pretty sure there are no computers in 1700... Do you mean that the date is a column of a database table? If so, what kind of database is it? How about directly storing `LocalDate`s and stop using `Date`s, which are *very* bad?","body":"What do you mean &quot;date of a query&quot;? I&#39;m pretty sure there are no computers in 1700... Do you mean that the date is a column of a database table? If so, what kind of database is it? How about directly storing <code>LocalDate</code>s and stop using <code>Date</code>s, which are <i>very</i> bad?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1653306582,"post_id":72347528,"comment_id":127811672,"body_markdown":"My Java believes that Madrid was at offset -00:14:44 from GMT back then. So `1700-12-13T23:00:00Z` (UTC) corresponds to `1700-12-13T22:45:16-00:14:44[Europe/Madrid]`, which explains why you got `1700-12-13` as `LocalDate`.","body":"My Java believes that Madrid was at offset -00:14:44 from GMT back then. So <code>1700-12-13T23:00:00Z</code> (UTC) corresponds to <code>1700-12-13T22:45:16-00:14:44[Europe&#47;Madrid]</code>, which explains why you got <code>1700-12-13</code> as <code>LocalDate</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653307039,"post_id":72347528,"comment_id":127811834,"body_markdown":"And it’s very credible that a `Date` that was supposed to hold 14 December 1700 has an incorrect instant in it so that the `Instant` objects gets wrong. `Date` is buggy when it comes to dates before year 1900. As @Sweeper said, if there is any way you can get rid of it, do.","body":"And it’s very credible that a <code>Date</code> that was supposed to hold 14 December 1700 has an incorrect instant in it so that the <code>Instant</code> objects gets wrong. <code>Date</code> is buggy when it comes to dates before year 1900. As @Sweeper said, if there is any way you can get rid of it, do."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653307635,"creation_date":1653307318,"answer_id":72348205,"question_id":72347528,"body_markdown":"This is because whoever produced that `Date` and `ZoneId.systemDefault()` have different opinions on what Madrid&#39;s offset is from UTC, back in 1700.\r\n\r\nWhoever produced that `Date` mistakenly thinks that Madrid is UTC+1 back in 1700-12-14, so it produced a `Date` that represents the midnight of 1700-12-14 in the zone UTC+1 (&quot;CET&quot;):\r\n\r\n    Tue Dec 14 00:00:00 CET 1700\r\n\r\nThis has a corresponding `Instant`, because we can pinpoint a certain point in time using this information. This is what `toInstant` gives you. `Instant.toString` always displays in UTC (more specifically ISO 8601), so you see:\r\n\r\n    1700-12-13T23:00:00Z\r\n\r\n1700-12-14T00:00:00+01:00 is indeed the same point in time as 1700-12-13T23:00:00Z.\r\n\r\nWhen you do `LocalDate.ofInstant`, you use `ZoneId.systemDefault()`. `ZoneId.systemDefault()` thinks that Madrid had the offset of UTC-0:14:44. This is because Madrid had been observing [Local Mean Time][1], and [did not standardise timezones until the 1900s][2].\r\n\r\nTherefore, `LocalDate.ofInstant` subtracts 14 minutes and 44 seconds from 1700-12-13T23:00:00 to compute what the date would be at offset -0:14:44, and lo and behold, it is still 1700-12-13.\r\n\r\nI would recommend that you not to use `Date` if possible. If what you are doing is related to time at all, you should work with `LocalDate`s directly.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.timeanddate.com/time/local-mean-time.html\r\n  [2]: https://en.wikipedia.org/wiki/Time_in_Spain#Standard_time_adoption","title":"Unable to convert dates - LocalDate minus one day","body":"<p>This is because whoever produced that <code>Date</code> and <code>ZoneId.systemDefault()</code> have different opinions on what Madrid's offset is from UTC, back in 1700.</p>\n<p>Whoever produced that <code>Date</code> mistakenly thinks that Madrid is UTC+1 back in 1700-12-14, so it produced a <code>Date</code> that represents the midnight of 1700-12-14 in the zone UTC+1 (&quot;CET&quot;):</p>\n<pre><code>Tue Dec 14 00:00:00 CET 1700\n</code></pre>\n<p>This has a corresponding <code>Instant</code>, because we can pinpoint a certain point in time using this information. This is what <code>toInstant</code> gives you. <code>Instant.toString</code> always displays in UTC (more specifically ISO 8601), so you see:</p>\n<pre><code>1700-12-13T23:00:00Z\n</code></pre>\n<p>1700-12-14T00:00:00+01:00 is indeed the same point in time as 1700-12-13T23:00:00Z.</p>\n<p>When you do <code>LocalDate.ofInstant</code>, you use <code>ZoneId.systemDefault()</code>. <code>ZoneId.systemDefault()</code> thinks that Madrid had the offset of UTC-0:14:44. This is because Madrid had been observing <a href=\"https://www.timeanddate.com/time/local-mean-time.html\" rel=\"nofollow noreferrer\">Local Mean Time</a>, and <a href=\"https://en.wikipedia.org/wiki/Time_in_Spain#Standard_time_adoption\" rel=\"nofollow noreferrer\">did not standardise timezones until the 1900s</a>.</p>\n<p>Therefore, <code>LocalDate.ofInstant</code> subtracts 14 minutes and 44 seconds from 1700-12-13T23:00:00 to compute what the date would be at offset -0:14:44, and lo and behold, it is still 1700-12-13.</p>\n<p>I would recommend that you not to use <code>Date</code> if possible. If what you are doing is related to time at all, you should work with <code>LocalDate</code>s directly.</p>\n"}],"owner":{"account_id":10120710,"reputation":103,"user_id":8416169,"display_name":"KikeSP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653307635,"creation_date":1653304058,"question_id":72347528,"body_markdown":"I have a problem with the dates and their passage from Date to LocalDate, mainly the error is with the dates that have the year 1700.\r\nI have tried two different dates and whenever the year is 1700, it puts me one day less.\r\n\r\n\tDate dto = ...;\r\n\tInstant inst = dto.toInstant();\t\t\t\r\n\tLocalDate localDate = LocalDate.ofInstant(inst, ZoneId.systemDefault());\r\n\r\nDate dto It is a variable that retrieves the date of a query. But the method only gets dto variable as input parameter.\r\n\r\n\tTue Dec 14 00:00:00 CET 1700 -&gt; Date\r\n\t1700-12-13T23:00:00Z -&gt; Instant\r\n\t1700-12-13 -&gt; LocalDate\r\n\r\n\tSat Jan 01 00:00:00 CET 1994 -&gt; Date\r\n\t1993-12-31T23:00:00Z -&gt; Instant\r\n\t1994-01-01 -&gt; LocalDate\r\n\r\nI use:\r\n\r\n\tjackson.time-zone: ${TZ:Europe/Madrid}\r\n\r\nWhat is the problem with this year?","title":"Unable to convert dates - LocalDate minus one day","body":"<p>I have a problem with the dates and their passage from Date to LocalDate, mainly the error is with the dates that have the year 1700.\nI have tried two different dates and whenever the year is 1700, it puts me one day less.</p>\n<pre><code>Date dto = ...;\nInstant inst = dto.toInstant();         \nLocalDate localDate = LocalDate.ofInstant(inst, ZoneId.systemDefault());\n</code></pre>\n<p>Date dto It is a variable that retrieves the date of a query. But the method only gets dto variable as input parameter.</p>\n<pre><code>Tue Dec 14 00:00:00 CET 1700 -&gt; Date\n1700-12-13T23:00:00Z -&gt; Instant\n1700-12-13 -&gt; LocalDate\n\nSat Jan 01 00:00:00 CET 1994 -&gt; Date\n1993-12-31T23:00:00Z -&gt; Instant\n1994-01-01 -&gt; LocalDate\n</code></pre>\n<p>I use:</p>\n<pre><code>jackson.time-zone: ${TZ:Europe/Madrid}\n</code></pre>\n<p>What is the problem with this year?</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":2,"creation_date":1476104254,"post_id":8115522,"comment_id":67197187,"body_markdown":"http://www.geeksforgeeks.org/few-tricky-programs-in-java/   :)","body":"<a href=\"http://www.geeksforgeeks.org/few-tricky-programs-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/few-tricky-programs-in-java</a>   :)"}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1321225907,"creation_date":1321225907,"answer_id":8115535,"question_id":8115522,"body_markdown":"Java parses character escape codes in source code, not just strings.  \r\nThis allows you to use Unicode identifiers without a Unicode encoding.\r\n\r\nTherefore, the `\\u000d` in the comment is parsed as a newline, ending the comment and beginning an instance initializer.","title":"A unicode newline character(\\u000d) in Java","body":"<p>Java parses character escape codes in source code, not just strings.<br>\nThis allows you to use Unicode identifiers without a Unicode encoding.</p>\n\n<p>Therefore, the <code>\\u000d</code> in the comment is parsed as a newline, ending the comment and beginning an instance initializer.</p>\n"}],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56852,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":8115535,"answer_count":1,"score":54,"last_activity_date":1653307587,"creation_date":1321225789,"question_id":8115522,"body_markdown":"Let&#39;s see the following code snippet in Java.\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // new Character(&#39; \\u000d System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nIn the above code, although the only line in the `main()` method is commented out, it displays the output `Hello` on the console, even though it looks like that this commented line contains some syntax errors. If this line is uncommented, it will not work at all, causing a compile-time error.\r\n\r\nWhy does it output &quot;Hello&quot; here?\r\n\r\n\r\n","title":"A unicode newline character(\\u000d) in Java","body":"<p>Let's see the following code snippet in Java.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // new Character(' \\u000d System.out.println(\"Hello\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>In the above code, although the only line in the <code>main()</code> method is commented out, it displays the output <code>Hello</code> on the console, even though it looks like that this commented line contains some syntax errors. If this line is uncommented, it will not work at all, causing a compile-time error.</p>\n\n<p>Why does it output \"Hello\" here?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653306530,"creation_date":1653306530,"answer_id":72348056,"question_id":72347728,"body_markdown":"There are pending feature requests like this one:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/13299\r\n\r\nThe problem is that this area is poorly specified both by the SQL standard and JDBC, and even worse implemented by RDBMS and drivers. While it would obviously be very nice to *programmatically know* what objects had caused a particular exception, a lot of these error messages aren&#39;t designed for processing by a machine, but rather by a human - so, parsing the text is the way to go here.\r\n\r\nOf course, you don&#39;t have to repeat yourself. You can write a utility that takes care of your logic, e.g. (just one option):\r\n\r\n```java\r\nvoid checkConstraintViolation(\r\n    Runnable runnable,\r\n    Consumer&lt;String&gt; perTableHandling\r\n) {\r\n    try {\r\n        runnable.run();\r\n    }\r\n    catch (DataAccessException ex) {\r\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\r\n             &amp;&amp; ex.getCause() instanceof PSQLException psqlException)\r\n            perTableHandling.accept(psqlException.getServerErrorMessage().getConstraint());\r\n        else\r\n            throw ex;\r\n    }\r\n}\r\n```","title":"jOOQ - Get constraint violation","body":"<p>There are pending feature requests like this one:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/13299\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/13299</a></li>\n</ul>\n<p>The problem is that this area is poorly specified both by the SQL standard and JDBC, and even worse implemented by RDBMS and drivers. While it would obviously be very nice to <em>programmatically know</em> what objects had caused a particular exception, a lot of these error messages aren't designed for processing by a machine, but rather by a human - so, parsing the text is the way to go here.</p>\n<p>Of course, you don't have to repeat yourself. You can write a utility that takes care of your logic, e.g. (just one option):</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkConstraintViolation(\n    Runnable runnable,\n    Consumer&lt;String&gt; perTableHandling\n) {\n    try {\n        runnable.run();\n    }\n    catch (DataAccessException ex) {\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\n             &amp;&amp; ex.getCause() instanceof PSQLException psqlException)\n            perTableHandling.accept(psqlException.getServerErrorMessage().getConstraint());\n        else\n            throw ex;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653306530,"creation_date":1653305088,"question_id":72347728,"body_markdown":"I have a method call that may throw a constraint violation exception and if so I would like to perform a specific flow.\r\n\r\nSo far what I&#39;m doing is the following:\r\n\r\n    try {\r\n        accountService.save(account);\r\n    } catch (DataAccessException ex) {\r\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\r\n           &amp;&amp; ex.getCause() instanceof PSQLException psqlException\r\n           &amp;&amp; psqlException.getServerErrorMessage().getConstraint().contains( &quot;account_name&quot; ) {\r\n            ...\r\n        }\r\n    }\r\n\r\nIs there a way to avoid that horrendous if?","title":"jOOQ - Get constraint violation","body":"<p>I have a method call that may throw a constraint violation exception and if so I would like to perform a specific flow.</p>\n<p>So far what I'm doing is the following:</p>\n<pre><code>try {\n    accountService.save(account);\n} catch (DataAccessException ex) {\n    if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\n       &amp;&amp; ex.getCause() instanceof PSQLException psqlException\n       &amp;&amp; psqlException.getServerErrorMessage().getConstraint().contains( &quot;account_name&quot; ) {\n        ...\n    }\n}\n</code></pre>\n<p>Is there a way to avoid that horrendous if?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-onetomany"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653332169,"post_id":72348016,"comment_id":127821749,"body_markdown":"I would assume this Is this occurring when inserting a new TableBEntity. Since the mapping is &#39;owned&#39; and the foreign keys entirely controlled by the TableAEntity references, JPA providers can and many will perform the B insert and then later on come back an update the foreign key values when processing the TableAEntity entity mappings - forcing a separate statement. If this is the case, it will insert TableB, update/insert  TableA, then update TableB&#39;s foreign keys. You can have it operate as you might expect using a bidirectional mapping, so that the FKs are owned and controlled from TableB","body":"I would assume this Is this occurring when inserting a new TableBEntity. Since the mapping is &#39;owned&#39; and the foreign keys entirely controlled by the TableAEntity references, JPA providers can and many will perform the B insert and then later on come back an update the foreign key values when processing the TableAEntity entity mappings - forcing a separate statement. If this is the case, it will insert TableB, update/insert  TableA, then update TableB&#39;s foreign keys. You can have it operate as you might expect using a bidirectional mapping, so that the FKs are owned and controlled from TableB"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653332383,"post_id":72348016,"comment_id":127821815,"body_markdown":"Your mappings are very wrong though, as you have multiple mappings for tableB&#39;s &#39;a_id&#39; and &#39;x_id&#39; column. So how do you want this setup - why do you have aId and xId mapped in your TableBEntity? You have to set the values in the TableBEntity instance or they will be null - worse, JPA will set them again based on the TableAEntity.bEntities references and not set the xId/aId java properties for you.","body":"Your mappings are very wrong though, as you have multiple mappings for tableB&#39;s &#39;a_id&#39; and &#39;x_id&#39; column. So how do you want this setup - why do you have aId and xId mapped in your TableBEntity? You have to set the values in the TableBEntity instance or they will be null - worse, JPA will set them again based on the TableAEntity.bEntities references and not set the xId/aId java properties for you."}],"owner":{"account_id":154218,"reputation":730,"user_id":369989,"accept_rate":100,"display_name":"DM_Morpheus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653306359,"creation_date":1653306359,"question_id":72348016,"body_markdown":"I&#39;m facing an issue where I&#39;m trying to update TableA entity and Hibernate is executing updates on referenced table alongside. It tries to set `null` for the columns referenced in `JoinColumn`\r\n\r\nI thought this was due to Cascading. But Disabling `Cascade.ALL` - does not work.\r\n\r\nWhen I set `updatable = false` for both of the `JoinColumn`s - it works.\r\n\r\nMy question is - why is it trying to do this in the first place?\r\n\r\nMy tables:\r\n\r\n    TableA: a_id, x_id, some_data\r\n    TableB: b_id, a_id, x_id, some_other_data\r\n\r\nOwner Entity\r\n\r\n    class TableAEntity {\r\n      @Id\r\n      @Column(name = &quot;a_id&quot;, nullable=false)\r\n      private int aId;\r\n\r\n      @Column(name = &quot;x_id&quot;, nullable=false)\r\n      private int xId;\r\n\r\n      @Column(name = &quot;some_data&quot;, nullable=false)\r\n      private String someData;\r\n      \r\n      @OneToMany(cascade = CascadeType.ALL)\r\n      @JoinColumns({\r\n        @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;),\r\n        @JoinColumn(name = &quot;x_id&quot;, referencedColumnName = &quot;x_id&quot;)\r\n      })\r\n      private List&lt;TableBEntity&gt; bEntities;\r\n    }\r\n\r\nThe other entity\r\n\r\n    class TableBEntity {\r\n      @Id\r\n      @Column(name = &quot;b_id&quot;, nullable=false)\r\n      private int bId;\r\n      \r\n      @Column(name = &quot;a_id&quot;, nullable=false)\r\n      private int aId;\r\n\r\n      @Column(name = &quot;x_id&quot;, nullable=false)\r\n      private int xId;\r\n\r\n      @Column(name = &quot;some_other_data&quot;, nullable=false)\r\n      private String someOtherData;\r\n    }","title":"Hibernate update setting JoinColumns as null in referenced table for OneToMany","body":"<p>I'm facing an issue where I'm trying to update TableA entity and Hibernate is executing updates on referenced table alongside. It tries to set <code>null</code> for the columns referenced in <code>JoinColumn</code></p>\n<p>I thought this was due to Cascading. But Disabling <code>Cascade.ALL</code> - does not work.</p>\n<p>When I set <code>updatable = false</code> for both of the <code>JoinColumn</code>s - it works.</p>\n<p>My question is - why is it trying to do this in the first place?</p>\n<p>My tables:</p>\n<pre><code>TableA: a_id, x_id, some_data\nTableB: b_id, a_id, x_id, some_other_data\n</code></pre>\n<p>Owner Entity</p>\n<pre><code>class TableAEntity {\n  @Id\n  @Column(name = &quot;a_id&quot;, nullable=false)\n  private int aId;\n\n  @Column(name = &quot;x_id&quot;, nullable=false)\n  private int xId;\n\n  @Column(name = &quot;some_data&quot;, nullable=false)\n  private String someData;\n  \n  @OneToMany(cascade = CascadeType.ALL)\n  @JoinColumns({\n    @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;),\n    @JoinColumn(name = &quot;x_id&quot;, referencedColumnName = &quot;x_id&quot;)\n  })\n  private List&lt;TableBEntity&gt; bEntities;\n}\n</code></pre>\n<p>The other entity</p>\n<pre><code>class TableBEntity {\n  @Id\n  @Column(name = &quot;b_id&quot;, nullable=false)\n  private int bId;\n  \n  @Column(name = &quot;a_id&quot;, nullable=false)\n  private int aId;\n\n  @Column(name = &quot;x_id&quot;, nullable=false)\n  private int xId;\n\n  @Column(name = &quot;some_other_data&quot;, nullable=false)\n  private String someOtherData;\n}\n</code></pre>\n"},{"tags":["java","serialization","static","singleton","deserialization"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1652263507,"post_id":72197109,"comment_id":127562271,"body_markdown":"&quot;When a static object can&#39;t be serialized&quot;: there is no such thing as a &#39;static object&#39;. There are static *members* of classes, which are not serialized, and this one isn&#39;t either. It is getting serialized because something else you are serializing has a reference to it.","body":"&quot;When a static object can&#39;t be serialized&quot;: there is no such thing as a &#39;static object&#39;. There are static <i>members</i> of classes, which are not serialized, and this one isn&#39;t either. It is getting serialized because something else you are serializing has a reference to it."},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1652359996,"post_id":72197109,"comment_id":127590678,"body_markdown":"@user207421  - Can you elaborate more - It is getting serialized because something else you are serializing has a reference to it\nI didn&#39;t get this line.","body":"@user207421  - Can you elaborate more - It is getting serialized because something else you are serializing has a reference to it I didn&#39;t get this line."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1652401515,"post_id":72197109,"comment_id":127603684,"body_markdown":"You are directly or indirectly serializing an object that contains a member variable whose value is a reference to this singleton.","body":"You are directly or indirectly serializing an object that contains a member variable whose value is a reference to this singleton."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1652793620,"creation_date":1652793620,"answer_id":72274808,"question_id":72197109,"body_markdown":"Serialization bypasses a lot of things in the language and even does some stuff that is not even possible with ordinary reflection.\r\n\r\nWhen an object is serialized, it&#39;s class name and all instance fields (that are not `transient`) are written to the stream. \r\n\r\nThe magic happens when deserializing an object.\r\n\r\n* First, a new instance of the class is allocated.  \r\n  To do that, the no-argument constructor of the first non-serializable superclass is called. The constructor of the serializable class (and serializable superclasses) are skipped. How? [*Magic*](https://github.com/openjdk/jdk/blob/e68024c2d28d634ebfde7f2fdcc35f5d7b07d704/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#L381-L415).\r\n* Then all instance fields of the serializable classes are set.  \r\n  (This step can be customized using a `private void readObject(ObjectInputStream)` method)\r\n* Lastly, a `readResolve()` method is called - if such a method exists. It&#39;s result is used as the result of deserializing the object.\r\n\r\n(This does not apply to `record`s, instances of `java.lang.Class`, `java.lang.String`, `java.lang.Enum`...)\r\n\r\n----\r\n\r\nIn your example, this means that a new instance of your `SerializableSingleton` is created - bypassing your private constructor and instead calling `java.lang.Object.&lt;init&gt;()` - so you won&#39;t see the `&quot;Constructor is being called&quot;` output.\r\n\r\nNow you have two instances of an &quot;Singleton&quot;. To restore the original singleton semantics (there only ever exists one single instance of that class), we replace the just-deserialized-instance with the canonical instance:\r\n\r\n    private Object readResolve() {\r\n        return getInstance();\r\n    }\r\n\r\n---\r\n\r\n**tl;dr**: Java&#39;s serialization is complicated and sometimes indistinguishable to black magic. Using java&#39;s serialization opens the door to some *surprising* behaviors.","title":"Singleton Class Serialization","body":"<p>Serialization bypasses a lot of things in the language and even does some stuff that is not even possible with ordinary reflection.</p>\n<p>When an object is serialized, it's class name and all instance fields (that are not <code>transient</code>) are written to the stream.</p>\n<p>The magic happens when deserializing an object.</p>\n<ul>\n<li>First, a new instance of the class is allocated.<br />\nTo do that, the no-argument constructor of the first non-serializable superclass is called. The constructor of the serializable class (and serializable superclasses) are skipped. How? <a href=\"https://github.com/openjdk/jdk/blob/e68024c2d28d634ebfde7f2fdcc35f5d7b07d704/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#L381-L415\" rel=\"noreferrer\"><em>Magic</em></a>.</li>\n<li>Then all instance fields of the serializable classes are set.<br />\n(This step can be customized using a <code>private void readObject(ObjectInputStream)</code> method)</li>\n<li>Lastly, a <code>readResolve()</code> method is called - if such a method exists. It's result is used as the result of deserializing the object.</li>\n</ul>\n<p>(This does not apply to <code>record</code>s, instances of <code>java.lang.Class</code>, <code>java.lang.String</code>, <code>java.lang.Enum</code>...)</p>\n<hr />\n<p>In your example, this means that a new instance of your <code>SerializableSingleton</code> is created - bypassing your private constructor and instead calling <code>java.lang.Object.&lt;init&gt;()</code> - so you won't see the <code>&quot;Constructor is being called&quot;</code> output.</p>\n<p>Now you have two instances of an &quot;Singleton&quot;. To restore the original singleton semantics (there only ever exists one single instance of that class), we replace the just-deserialized-instance with the canonical instance:</p>\n<pre><code>private Object readResolve() {\n    return getInstance();\n}\n</code></pre>\n<hr />\n<p><strong>tl;dr</strong>: Java's serialization is complicated and sometimes indistinguishable to black magic. Using java's serialization opens the door to some <em>surprising</em> behaviors.</p>\n"},{"tags":[],"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306329,"creation_date":1653306329,"answer_id":72348014,"question_id":72197109,"body_markdown":"As the docs say:\r\n&gt; By implementing the readResolve method, a class **can directly control\r\n&gt; the types and instances of its own instances being deserialized**. The\r\n&gt; method is defined as follows:\r\n&gt; \r\n&gt; `ANY-ACCESS-MODIFIER Object readResolve()\r\n&gt;             throws ObjectStreamException;`\r\n\r\nAnd:\r\n&gt; ... For example, a Symbol class could be created for which only a\r\n&gt; single instance of each symbol binding existed within a virtual\r\n&gt; machine. **The readResolve method would be implemented to determine if\r\n&gt; that symbol was already defined and substitute the preexisting\r\n&gt; equivalent Symbol object to maintain the identity constraint**. In this\r\n&gt; way the uniqueness of Symbol objects can be maintained across\r\n&gt; serialization.\r\n\r\nAnd:\r\n&gt;  - A writeObject method to control what information is saved ...\r\n&gt;  - A readObject method [..] to read the information written ...\r\n&gt;  - A writeReplace method to allow a class to nominate a replacement    object to be written to the stream\r\n&gt;  - A readResolve method to allow a class to **designate a replacement    object for the object just read from the stream**\r\n\r\nTo get full control of Serialization (also to serialize static and transient fields) you have to implement the `Externalization` interface: \r\n&gt; The `writeExternal` and `readExternal` methods of the `Externalizable`\r\n&gt; interface are implemented by a class to give the class complete\r\n&gt; control over the format and contents of the stream for an object and\r\n&gt; its supertypes.\r\n\r\nSo `writeReplace` and `readResolve` methods give you some more control than the ordinary (and automated) serialization mechanism, that is, replace the object before/after serialization. and it is not urgently linked to Singleton serialization, but to **fulfill the proxy pattern for serialization**. But as you mentioned, this mechanism is also used to implement serialization of a Singleton.","title":"Singleton Class Serialization","body":"<p>As the docs say:</p>\n<blockquote>\n<p>By implementing the readResolve method, a class <strong>can directly control\nthe types and instances of its own instances being deserialized</strong>. The\nmethod is defined as follows:</p>\n<p><code>ANY-ACCESS-MODIFIER Object readResolve() throws ObjectStreamException;</code></p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>... For example, a Symbol class could be created for which only a\nsingle instance of each symbol binding existed within a virtual\nmachine. <strong>The readResolve method would be implemented to determine if\nthat symbol was already defined and substitute the preexisting\nequivalent Symbol object to maintain the identity constraint</strong>. In this\nway the uniqueness of Symbol objects can be maintained across\nserialization.</p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<ul>\n<li>A writeObject method to control what information is saved ...</li>\n<li>A readObject method [..] to read the information written ...</li>\n<li>A writeReplace method to allow a class to nominate a replacement    object to be written to the stream</li>\n<li>A readResolve method to allow a class to <strong>designate a replacement    object for the object just read from the stream</strong></li>\n</ul>\n</blockquote>\n<p>To get full control of Serialization (also to serialize static and transient fields) you have to implement the <code>Externalization</code> interface:</p>\n<blockquote>\n<p>The <code>writeExternal</code> and <code>readExternal</code> methods of the <code>Externalizable</code>\ninterface are implemented by a class to give the class complete\ncontrol over the format and contents of the stream for an object and\nits supertypes.</p>\n</blockquote>\n<p>So <code>writeReplace</code> and <code>readResolve</code> methods give you some more control than the ordinary (and automated) serialization mechanism, that is, replace the object before/after serialization. and it is not urgently linked to Singleton serialization, but to <strong>fulfill the proxy pattern for serialization</strong>. But as you mentioned, this mechanism is also used to implement serialization of a Singleton.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653306329,"creation_date":1652254503,"question_id":72197109,"body_markdown":"My singleton class be like this:\r\n\r\n    public class SerializableSingleton implements Serializable {\r\n \r\n        private static SerializableSingleton instance = new SerializableSingleton();\r\n \r\n        private SerializableSingleton() {\r\n            System.out.println(&quot;Constructor is being called&quot;);\r\n        }\r\n \r\n        public static SerializableSingleton getInstance() {\r\n            return instance;\r\n        }\r\n    }\r\n\r\nNow it&#39;s written on the web that when we deserialize this singleton object, it will give a new instance back and not the previous one, and in order to fix this, use the `readResolve()` method.\r\n\r\nBut my question is - How is it even possible? When a static class member can&#39;t be serialized, how does the question of deserializing it comes at all? and it is all over the net?\r\n\r\nSince the singleton object is static:\r\n\r\n    private static SerializableSingleton instance = new SerializableSingleton();\r\n\r\n***How is an instance getting serialized in the first place?***","title":"Singleton Class Serialization","body":"<p>My singleton class be like this:</p>\n<pre><code>public class SerializableSingleton implements Serializable {\n\n    private static SerializableSingleton instance = new SerializableSingleton();\n\n    private SerializableSingleton() {\n        System.out.println(&quot;Constructor is being called&quot;);\n    }\n\n    public static SerializableSingleton getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n<p>Now it's written on the web that when we deserialize this singleton object, it will give a new instance back and not the previous one, and in order to fix this, use the <code>readResolve()</code> method.</p>\n<p>But my question is - How is it even possible? When a static class member can't be serialized, how does the question of deserializing it comes at all? and it is all over the net?</p>\n<p>Since the singleton object is static:</p>\n<pre><code>private static SerializableSingleton instance = new SerializableSingleton();\n</code></pre>\n<p><em><strong>How is an instance getting serialized in the first place?</strong></em></p>\n"},{"tags":["java","eclipse","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653307737,"post_id":72347559,"comment_id":127812103,"body_markdown":"You probably haven&#39;t built a jar which includes dependencies.","body":"You probably haven&#39;t built a jar which includes dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306292,"creation_date":1653306292,"answer_id":72347999,"question_id":72347559,"body_markdown":"My guess is that (B) is not on the classpath when you run your project. On the CLI you would need to add `-cp &lt;path to (B) jar&gt;`","title":"Issue in Maven dependency when calling external jar","body":"<p>My guess is that (B) is not on the classpath when you run your project. On the CLI you would need to add <code>-cp &lt;path to (B) jar&gt;</code></p>\n"}],"owner":{"account_id":13766165,"reputation":1,"user_id":9934691,"display_name":"Peko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653306292,"creation_date":1653304225,"question_id":72347559,"body_markdown":"I am facing an issue with the Maven packaging  my project is \r\n 1. Maven project called (A) that has two threads one will run Spring\r\n    Boot App and one will run Normal java project \r\n 2. Maven project\r\n    called (B) with Normal java  Code will have Pojo and Models classes\r\n    used in all project  \r\n 3. Maven project called (C) with Normal java \r\n    Code  \r\n 4. Maven Project Called (E) with Normal java code \r\n\r\nTo summarize the use of them \r\n\r\n 1. (A),(C),(E) will use Models/Pojo Classes from (B), (B) is added as Dependency in their POM\r\n 2. (A) will use Method from (C), (C) is added as Dependency in (A) POM\r\n 3. (C) will Load class from (E) using Classloader and use a method\r\n\r\n**The issue here:**\r\n\r\nwhen the (C) project Load a class in (E) and try to use a method with Parameter class from (B) {RestConnection beans} throw \r\n```\r\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: B/beans/RestConnections\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:1975)\r\n\tat com.eska.module.execution.model.bo.ExecutionBo.openANDLoadAllJarsDest(ExecutionBo.java:468)\r\n\tat com.eska.module.execution.model.bo.ExecutionBo.getDestModelJarData(ExecutionBo.java:372)\r\n\tat com.eska.module.execution.model.service.impl.ExecutionServiceImpl.start(ExecutionServiceImpl.java:45)\r\n\tat com.eska.module.execution.MainExecution.MainExecution.main(MainExecution.java:94)\r\n\tat com.eska.med.provman.module.generation.model.bo.StartupThreadingPhases$InterruptableTask.run(StartupThreadingPhases.java:97)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: B/beans/RestConnections\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 9 more\r\n```\r\n\r\n**Note:**\r\nThe Project works fine if I run it from eclipse, but when I try to use the Maven jars this issue happened \r\n\r\nI tried to export Runnable jar from the eclipse (the Project is added in the build path), this issue didn&#39;t happen but the spring boot will not work.\r\n\r\n**Can anyone Help please?**","title":"Issue in Maven dependency when calling external jar","body":"<p>I am facing an issue with the Maven packaging  my project is</p>\n<ol>\n<li>Maven project called (A) that has two threads one will run Spring\nBoot App and one will run Normal java project</li>\n<li>Maven project\ncalled (B) with Normal java  Code will have Pojo and Models classes\nused in all project</li>\n<li>Maven project called (C) with Normal java\nCode</li>\n<li>Maven Project Called (E) with Normal java code</li>\n</ol>\n<p>To summarize the use of them</p>\n<ol>\n<li>(A),(C),(E) will use Models/Pojo Classes from (B), (B) is added as Dependency in their POM</li>\n<li>(A) will use Method from (C), (C) is added as Dependency in (A) POM</li>\n<li>(C) will Load class from (E) using Classloader and use a method</li>\n</ol>\n<p><strong>The issue here:</strong></p>\n<p>when the (C) project Load a class in (E) and try to use a method with Parameter class from (B) {RestConnection beans} throw</p>\n<pre><code>Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: B/beans/RestConnections\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.getDeclaredMethods(Class.java:1975)\n    at com.eska.module.execution.model.bo.ExecutionBo.openANDLoadAllJarsDest(ExecutionBo.java:468)\n    at com.eska.module.execution.model.bo.ExecutionBo.getDestModelJarData(ExecutionBo.java:372)\n    at com.eska.module.execution.model.service.impl.ExecutionServiceImpl.start(ExecutionServiceImpl.java:45)\n    at com.eska.module.execution.MainExecution.MainExecution.main(MainExecution.java:94)\n    at com.eska.med.provman.module.generation.model.bo.StartupThreadingPhases$InterruptableTask.run(StartupThreadingPhases.java:97)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: B/beans/RestConnections\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 9 more\n</code></pre>\n<p><strong>Note:</strong>\nThe Project works fine if I run it from eclipse, but when I try to use the Maven jars this issue happened</p>\n<p>I tried to export Runnable jar from the eclipse (the Project is added in the build path), this issue didn't happen but the spring boot will not work.</p>\n<p><strong>Can anyone Help please?</strong></p>\n"},{"tags":["java","apache-kafka","deserialization","avro","ksqldb"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653308875,"post_id":72346783,"comment_id":127812606,"body_markdown":"If you want Avro objects, just use a Kafka consumer rather than a ksql client. Ksql already is deserializing the data, so it&#39;s no longer Avro at that point","body":"If you want Avro objects, just use a Kafka consumer rather than a ksql client. Ksql already is deserializing the data, so it&#39;s no longer Avro at that point"},{"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"score":0,"creation_date":1653320714,"post_id":72346783,"comment_id":127817744,"body_markdown":"So there is no chance to get it as avro object if using ksql?","body":"So there is no chance to get it as avro object if using ksql?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653323553,"post_id":72346783,"comment_id":127818777,"body_markdown":"As mentioned, the data is already deserialized, so no. You&#39;re just re-serializing it by pulling the fields into an Avro POJO type. Why not use a direct Kafka consumer?","body":"As mentioned, the data is already deserialized, so no. You&#39;re just re-serializing it by pulling the fields into an Avro POJO type. Why not use a direct Kafka consumer?"},{"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"score":0,"creation_date":1653325293,"post_id":72346783,"comment_id":127819375,"body_markdown":"Thanks for your answer.\nWe do not use the kafka consumer directly because in our application the select statements are much more complicate as shown in the example above. Furthermore our application does not persist the data which is already available in the topic, therefore it is not so easy to implement a query with &#39;standard&#39; consumers (at least as far as I know).","body":"Thanks for your answer. We do not use the kafka consumer directly because in our application the select statements are much more complicate as shown in the example above. Furthermore our application does not persist the data which is already available in the topic, therefore it is not so easy to implement a query with &#39;standard&#39; consumers (at least as far as I know)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653401086,"post_id":72346783,"comment_id":127840098,"body_markdown":"Without seeing your actual query, it&#39;s hard to know what you mean, but ksql is built over Kafka Streams API and Kafka Streams can do more that ksql can. And Kafka Consumer can do even more... I said nothing about persisting data elsewhere only that you don&#39;t really need Avro POJOs, but you will need to parse the Row objects to some other model if you continue to use ksql.","body":"Without seeing your actual query, it&#39;s hard to know what you mean, but ksql is built over Kafka Streams API and Kafka Streams can do more that ksql can. And Kafka Consumer can do even more... I said nothing about persisting data elsewhere only that you don&#39;t really need Avro POJOs, but you will need to parse the Row objects to some other model if you continue to use ksql."}],"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653305994,"creation_date":1653300643,"question_id":72346783,"body_markdown":"I&#39;m new to ksqlDB and wondering if the following is possible (java client):\r\n\r\nMy current situation is the following, I&#39;ve:\r\n - a working kafka infrastructure including the ksqlDB server and the (avro) schema registry\r\n - some topics with already existing messages (using avro for serialization of values and String for keys)\r\n - a ksqlDB stream which is created on top of an existing topic with *value_format=&#39;AVRO&#39;*\r\n - a SELECT query which already returns the correct data\r\n - the *SHOW STREAMS;* command (in ksqlDB CLI) shows, that the stream is correctly configured and the value format is *AVRO*\r\n - the avro schema is stored correctly in the schema registry\r\n - the java classes of the avro objects are available on the classpath\r\n\r\nMy problem is, that the *SELECT* query returns a list of objects of type *Row* which contains *KsqlObjects* for each column and this objects also contain *KsqlObjects*, *KsqlArrays*, and *JsonArrays* for their attributes.\r\n\r\n**Now I want to deserialize the content of one column directly to my (avro) object type.**\r\n\r\nIs there either\r\n- a deserializer for KsqlObject -&gt; avro object?\r\n- or any other why to execute the SELECT statement with returns the already deserialized avro objects?\r\n\r\nCreating of my ksqlDB stream\r\n```\r\nCREATE STREAM cars WITH (kafka_topic=&#39;topic_cars&#39;, value_format=&#39;AVRO&#39;);\r\n```\r\n\r\nExecution of my SELECT statement (java client):\r\n```\r\nClient client = Client.create(options);\r\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\r\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n```\r\n\r\nCurrent conversion to avro object - which is not very nice:\r\n```\r\nRow row = resultRows.get(0)\r\nKsqlObject carColumn = row.getKsqlObject(&quot;CAR&quot;);\r\nCar car = new Car();\r\ncar.setColor(row.getString(&quot;COLOR));\r\ncar.setType(row.getString(&quot;TYPE));\r\n... (all other attributes, including complex data types)\r\n```\r\n\r\nI would like to have something like this:\r\n```\r\nClient client = Client.create(options);\r\nAvroDeserializer deserializer = ...;\r\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\r\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\nRow row = resultRows.get(0);\r\nCar car = deserializer.deserialize(row.getColumn(&quot;CAR));\r\n```\r\n\r\nIs this possible?\r\nIf yes, how would the code look like?","title":"ksqlDB Java Client: Is it possible to deserialze the result of a ksqlDB query directly to a list of avro objects?","body":"<p>I'm new to ksqlDB and wondering if the following is possible (java client):</p>\n<p>My current situation is the following, I've:</p>\n<ul>\n<li>a working kafka infrastructure including the ksqlDB server and the (avro) schema registry</li>\n<li>some topics with already existing messages (using avro for serialization of values and String for keys)</li>\n<li>a ksqlDB stream which is created on top of an existing topic with <em>value_format='AVRO'</em></li>\n<li>a SELECT query which already returns the correct data</li>\n<li>the <em>SHOW STREAMS;</em> command (in ksqlDB CLI) shows, that the stream is correctly configured and the value format is <em>AVRO</em></li>\n<li>the avro schema is stored correctly in the schema registry</li>\n<li>the java classes of the avro objects are available on the classpath</li>\n</ul>\n<p>My problem is, that the <em>SELECT</em> query returns a list of objects of type <em>Row</em> which contains <em>KsqlObjects</em> for each column and this objects also contain <em>KsqlObjects</em>, <em>KsqlArrays</em>, and <em>JsonArrays</em> for their attributes.</p>\n<p><strong>Now I want to deserialize the content of one column directly to my (avro) object type.</strong></p>\n<p>Is there either</p>\n<ul>\n<li>a deserializer for KsqlObject -&gt; avro object?</li>\n<li>or any other why to execute the SELECT statement with returns the already deserialized avro objects?</li>\n</ul>\n<p>Creating of my ksqlDB stream</p>\n<pre><code>CREATE STREAM cars WITH (kafka_topic='topic_cars', value_format='AVRO');\n</code></pre>\n<p>Execution of my SELECT statement (java client):</p>\n<pre><code>Client client = Client.create(options);\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\n</code></pre>\n<p>Current conversion to avro object - which is not very nice:</p>\n<pre><code>Row row = resultRows.get(0)\nKsqlObject carColumn = row.getKsqlObject(&quot;CAR&quot;);\nCar car = new Car();\ncar.setColor(row.getString(&quot;COLOR));\ncar.setType(row.getString(&quot;TYPE));\n... (all other attributes, including complex data types)\n</code></pre>\n<p>I would like to have something like this:</p>\n<pre><code>Client client = Client.create(options);\nAvroDeserializer deserializer = ...;\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\nRow row = resultRows.get(0);\nCar car = deserializer.deserialize(row.getColumn(&quot;CAR));\n</code></pre>\n<p>Is this possible?\nIf yes, how would the code look like?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653298518,"creation_date":1653298518,"answer_id":72346294,"question_id":72345714,"body_markdown":"An alternative that you can use is `java.security.*` which is compatible with `java-11`, the [KeyFactory][1] and [PublicKey][2] classes could be helpful.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ...\r\n\r\n    PublicKey key = KeyFactory\r\n      .getInstance(&quot;RSA&quot;)\r\n      .generatePublic(new RSAPublicKeySpec(modulus, exponent))\r\n      \r\n    ...\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/security/KeyFactory.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/security/PublicKey.html","title":"How to use ECPublicKeyImpl in Java 11","body":"<p>An alternative that you can use is <code>java.security.*</code> which is compatible with <code>java-11</code>, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/KeyFactory.html\" rel=\"nofollow noreferrer\">KeyFactory</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/PublicKey.html\" rel=\"nofollow noreferrer\">PublicKey</a> classes could be helpful.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>...\n\nPublicKey key = KeyFactory\n  .getInstance(&quot;RSA&quot;)\n  .generatePublic(new RSAPublicKeySpec(modulus, exponent))\n  \n...\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653305606,"creation_date":1653295830,"question_id":72345714,"body_markdown":"We are migrating to `Java 11` from `Java 8` but `ECPublicKeyImpl` doesn&#39;t seem to work. How can we use it in `Java 11` as it is a `Sun` class. \r\n\r\nThe ECPublicKeyImpl used an encoding that came from `ECUtil`. However in `Jdk11` since this class is not available the encoding seems to be different. We need to use the `EC` algorithm for encoding. Is there an alternative?","title":"How to use ECPublicKeyImpl in Java 11","body":"<p>We are migrating to <code>Java 11</code> from <code>Java 8</code> but <code>ECPublicKeyImpl</code> doesn't seem to work. How can we use it in <code>Java 11</code> as it is a <code>Sun</code> class.</p>\n<p>The ECPublicKeyImpl used an encoding that came from <code>ECUtil</code>. However in <code>Jdk11</code> since this class is not available the encoding seems to be different. We need to use the <code>EC</code> algorithm for encoding. Is there an alternative?</p>\n"},{"tags":["java","spring-boot","exception","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":164287,"reputation":5058,"user_id":386946,"accept_rate":78,"display_name":"Stole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653304970,"creation_date":1653304970,"answer_id":72347700,"question_id":72300863,"body_markdown":"I went with the following solution:\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; listenerContainerFactory(\r\n        final ConsumerFactory&lt;String, String&gt; consumerFactory\r\n    ) {\r\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\r\n            = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setCommonErrorHandler(new CommonContainerStoppingErrorHandler() {\r\n            final DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler();\r\n\r\n            @Override\r\n            public void handleRemaining(\r\n                final Exception thrownException,\r\n                final List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records,\r\n                final Consumer&lt;?, ?&gt; consumer,\r\n                final MessageListenerContainer container\r\n            ) {\r\n                if (thrownException.getCause() instanceof UnknownHostException) {\r\n                    log.error(&quot;UnknownHostException has occurred and will stop the container to prevent log flooding.&quot;);\r\n                    super.handleOtherException(thrownException, consumer, container, false);\r\n                }\r\n                else {\r\n                    this.defaultErrorHandler.handleOtherException(thrownException, consumer, container, false);\r\n                }\r\n            }\r\n        });\r\n        return factory;\r\n    }","title":"How to handle UnknownHostException when using @KafkaListener","body":"<p>I went with the following solution:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; listenerContainerFactory(\n    final ConsumerFactory&lt;String, String&gt; consumerFactory\n) {\n    final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\n        = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    factory.setCommonErrorHandler(new CommonContainerStoppingErrorHandler() {\n        final DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler();\n\n        @Override\n        public void handleRemaining(\n            final Exception thrownException,\n            final List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records,\n            final Consumer&lt;?, ?&gt; consumer,\n            final MessageListenerContainer container\n        ) {\n            if (thrownException.getCause() instanceof UnknownHostException) {\n                log.error(&quot;UnknownHostException has occurred and will stop the container to prevent log flooding.&quot;);\n                super.handleOtherException(thrownException, consumer, container, false);\n            }\n            else {\n                this.defaultErrorHandler.handleOtherException(thrownException, consumer, container, false);\n            }\n        }\n    });\n    return factory;\n}\n</code></pre>\n"}],"owner":{"account_id":164287,"reputation":5058,"user_id":386946,"accept_rate":78,"display_name":"Stole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72347700,"answer_count":1,"score":0,"last_activity_date":1653304970,"creation_date":1652947713,"question_id":72300863,"body_markdown":"During a network outage, the following WARN was logged over and over (until if filled up all the HD space):\r\n\r\n    [WARN ] 2022-05-18 12:58:02.984 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] NetworkClient - [Consumer clientId=consumer-Test-1, groupId=Test] Error connecting to node kafka-broker.ew2.aws.dev:9092 (id: 3 rack: sample-az2)\r\n    java.net.UnknownHostException: node kafka-broker.ew2.aws.dev\r\n            at java.net.InetAddress$CachedAddresses.get(InetAddress.java:797) ~[?:?]\r\n            at java.net.InetAddress.getAllByName0(InetAddress.java:1509) ~[?:?]\r\n            at java.net.InetAddress.getAllByName(InetAddress.java:1368) ~[?:?]\r\n            at java.net.InetAddress.getAllByName(InetAddress.java:1302) ~[?:?]\r\n            at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:979) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n            at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n\r\nHow and where do I catch this exception?","title":"How to handle UnknownHostException when using @KafkaListener","body":"<p>During a network outage, the following WARN was logged over and over (until if filled up all the HD space):</p>\n<pre><code>[WARN ] 2022-05-18 12:58:02.984 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] NetworkClient - [Consumer clientId=consumer-Test-1, groupId=Test] Error connecting to node kafka-broker.ew2.aws.dev:9092 (id: 3 rack: sample-az2)\njava.net.UnknownHostException: node kafka-broker.ew2.aws.dev\n        at java.net.InetAddress$CachedAddresses.get(InetAddress.java:797) ~[?:?]\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1509) ~[?:?]\n        at java.net.InetAddress.getAllByName(InetAddress.java:1368) ~[?:?]\n        at java.net.InetAddress.getAllByName(InetAddress.java:1302) ~[?:?]\n        at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:979) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\n</code></pre>\n<p>How and where do I catch this exception?</p>\n"},{"tags":["java","list","arraylist","hashmap"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1653300004,"post_id":72346496,"comment_id":127809310,"body_markdown":"Based on what do you wanna compare the maps? on the id?","body":"Based on what do you wanna compare the maps? on the id?"},{"owner":{"account_id":23313844,"reputation":27,"user_id":17392706,"display_name":"Bin"},"score":0,"creation_date":1653359168,"post_id":72346496,"comment_id":127827189,"body_markdown":"Hi, I want to compare all the &lt;key,value&gt; in the &#39;expectedMap&#39;, even if it doesn&#39;t contain an id. Maybe the list contains the duplicated results,  I only want to check it whether contains the result.","body":"Hi, I want to compare all the &lt;key,value&gt; in the &#39;expectedMap&#39;, even if it doesn&#39;t contain an id. Maybe the list contains the duplicated results,  I only want to check it whether contains the result."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653302385,"creation_date":1653300679,"answer_id":72346792,"question_id":72346496,"body_markdown":"&gt; But I don&#39;t know if there is a more efficient way to do the same\r\n&gt; thing?\r\n\r\nIn order to find out whether a single map in a list matches the given criteria you don&#39;t need to check every element, instead you need to find the first match and break the iteration.\r\n\r\nTo achieve that in place of `forEach` and `AtomicBoolean`, which act much slower than a simple `boolean` flag, you can use a plain `for` loop with a `break` statement inside it.\r\n\r\nOr you can make use of the Java 8 streams with `anyMatch()` as terminal operation. `anyMatch()` - is a so-called short circuit operation, it&#39;ll break when the first element matching the given predicate will be found.\r\n\r\n```\r\nreturn contentList.stream()\r\n    .anyMatch(map -&gt; map.navigableKeySet().containsAll(expectedMap.navigableKeySet()));\r\n```\r\n\r\n&gt; How to make this method case-insensitive for &quot;expectedMap&quot; keys?\r\n\r\nIt&#39;s not possible to achieve using hash-based collections.\r\n\r\nBut you can utilize in place of the `Map` the `NavigableMap` interface, and it&#39;s implementation `TreeMap` by providing a case-insensitive `Comparator`. And there&#39;s a predefined case-insensitive comparator strings provided by the `String` class as its static field.\r\n\r\n```\r\nList&lt;NavigableMap&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\r\nNavigableMap&lt;String,Object&gt; objectMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n...\r\n```\r\n\r\nNote, that maintaining an ordered collection has a cost. Contrary to `HashMap` which allows to add and retrieve entries in constant time **O(1)**, methods like `get()`, `put()`, `containsKey()` will perform in **O(log n)** with `TreeMap`. \r\n\r\n*You can play around with* [*this Online Demo*](https://www.jdoodle.com/ia/rdl)","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<blockquote>\n<p>But I don't know if there is a more efficient way to do the same\nthing?</p>\n</blockquote>\n<p>In order to find out whether a single map in a list matches the given criteria you don't need to check every element, instead you need to find the first match and break the iteration.</p>\n<p>To achieve that in place of <code>forEach</code> and <code>AtomicBoolean</code>, which act much slower than a simple <code>boolean</code> flag, you can use a plain <code>for</code> loop with a <code>break</code> statement inside it.</p>\n<p>Or you can make use of the Java 8 streams with <code>anyMatch()</code> as terminal operation. <code>anyMatch()</code> - is a so-called short circuit operation, it'll break when the first element matching the given predicate will be found.</p>\n<pre><code>return contentList.stream()\n    .anyMatch(map -&gt; map.navigableKeySet().containsAll(expectedMap.navigableKeySet()));\n</code></pre>\n<blockquote>\n<p>How to make this method case-insensitive for &quot;expectedMap&quot; keys?</p>\n</blockquote>\n<p>It's not possible to achieve using hash-based collections.</p>\n<p>But you can utilize in place of the <code>Map</code> the <code>NavigableMap</code> interface, and it's implementation <code>TreeMap</code> by providing a case-insensitive <code>Comparator</code>. And there's a predefined case-insensitive comparator strings provided by the <code>String</code> class as its static field.</p>\n<pre><code>List&lt;NavigableMap&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\nNavigableMap&lt;String,Object&gt; objectMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n...\n</code></pre>\n<p>Note, that maintaining an ordered collection has a cost. Contrary to <code>HashMap</code> which allows to add and retrieve entries in constant time <strong>O(1)</strong>, methods like <code>get()</code>, <code>put()</code>, <code>containsKey()</code> will perform in <strong>O(log n)</strong> with <code>TreeMap</code>.</p>\n<p><em>You can play around with</em> <a href=\"https://www.jdoodle.com/ia/rdl\" rel=\"nofollow noreferrer\"><em>this Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301456,"creation_date":1653301456,"answer_id":72346965,"question_id":72346496,"body_markdown":"In order to compare keys in case-insensitive manner, a simple solution would be to generate a string of each map and then simply compare strings. Of course, this would be inefficient for large maps.\r\n\r\nFor example:\r\n```java\r\n// A simple method to concatenate entries of map as key=value pairs (in sorted key order)\r\nprivate static String toKVString(Map&lt;String,?&gt; map, String delimiter) {\r\n   return map.entrySet().stream()\r\n     .sorted(Comparator.comparing(Map.Entry::getKey))\r\n     .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey().toLowerCase(), e.getValue()))\r\n     .collect(Collectors.joining(delimiter));\r\n}\r\n```\r\n\r\nThen, we can use simple string equality:\r\n```java\r\nfinal String delim = &quot;/&quot;; // choose something not found in keys or values\r\nfinal String expectedMapAsString = toKVString(expectedMap, delim);\r\nboolean found = contentList.stream()\r\n    .anyMatch(map -&gt; expectedMapAsString.equals(toKVString(map, delim)));\r\n```\r\n\r\n ","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<p>In order to compare keys in case-insensitive manner, a simple solution would be to generate a string of each map and then simply compare strings. Of course, this would be inefficient for large maps.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A simple method to concatenate entries of map as key=value pairs (in sorted key order)\nprivate static String toKVString(Map&lt;String,?&gt; map, String delimiter) {\n   return map.entrySet().stream()\n     .sorted(Comparator.comparing(Map.Entry::getKey))\n     .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey().toLowerCase(), e.getValue()))\n     .collect(Collectors.joining(delimiter));\n}\n</code></pre>\n<p>Then, we can use simple string equality:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String delim = &quot;/&quot;; // choose something not found in keys or values\nfinal String expectedMapAsString = toKVString(expectedMap, delim);\nboolean found = contentList.stream()\n    .anyMatch(map -&gt; expectedMapAsString.equals(toKVString(map, delim)));\n</code></pre>\n"}],"owner":{"account_id":23313844,"reputation":27,"user_id":17392706,"display_name":"Bin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72346792,"answer_count":2,"score":1,"last_activity_date":1653304662,"creation_date":1653299325,"question_id":72346496,"body_markdown":"I have a list of maps `List&lt;Map&lt;String, Object&gt;&gt;`.\r\n\r\nNow I need to check whether a *map* exists in this *list* or not.\r\n\r\nThe *list* looks like:\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\r\nMap&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;();\r\nobjectMap.put(&quot;id&quot;, &quot;1&quot;);\r\nobjectMap.put(&quot;name&quot;, &quot;name1&quot;);\r\nobjectMap.put(&quot;desc&quot;, &quot;desc1&quot;);\r\nobjectMap.put(&quot;str&quot;, &quot;str1&quot;);\r\ncontentList.add(objectMap);\r\n\r\nMap&lt;String,Object&gt; objectMap2 = new HashMap&lt;&gt;();\r\nobjectMap2.put(&quot;id&quot;, &quot;2&quot;);\r\nobjectMap2.put(&quot;name&quot;, &quot;name2&quot;);\r\nobjectMap2.put(&quot;desc&quot;, &quot;desc2&quot;);\r\nobjectMap2.put(&quot;str&quot;, &quot;str2&quot;);\r\ncontentList.add(objectMap2);\r\n```\r\n\r\nnow I have a map like:\r\n\r\n```\r\nMap&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\r\nexpectedMap.put(&quot;id&quot;, &quot;2&quot;);\r\nexpectedMap.put(&quot;name&quot;, &quot;name2&quot;);\r\nexpectedMap.put(&quot;desc&quot;, &quot;desc2&quot;);\r\n```\r\n\r\nI need to check whether `expectedMap` exists in the *list* or not.\r\n\r\nI use this method to check it now. But I don&#39;t know if there is a more efficient way to do the same thing?\r\n\r\n```\r\nAtomicBoolean found = new AtomicBoolean(false);\r\ncontentList.forEach( m -&gt;{\r\n    if (m.entrySet().containsAll(expectedMap.entrySet())){\r\n        found.set(true);\r\n    }\r\n});\r\nreturn found.get();\r\n```\r\n\r\nAnd is there any way to make this method case-insensitive for `expectedMap` keys?\r\n\r\nFor example, I expect it also works for map:\r\n\r\n```\r\nMap&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\r\nexpectedMap.put(&quot;Id&quot;, &quot;2&quot;);\r\nexpectedMap.put(&quot;Name&quot;, &quot;name2&quot;);\r\nexpectedMap.put(&quot;Desc&quot;, &quot;desc2&quot;);\r\n```","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<p>I have a list of maps <code>List&lt;Map&lt;String, Object&gt;&gt;</code>.</p>\n<p>Now I need to check whether a <em>map</em> exists in this <em>list</em> or not.</p>\n<p>The <em>list</em> looks like:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\nMap&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;();\nobjectMap.put(&quot;id&quot;, &quot;1&quot;);\nobjectMap.put(&quot;name&quot;, &quot;name1&quot;);\nobjectMap.put(&quot;desc&quot;, &quot;desc1&quot;);\nobjectMap.put(&quot;str&quot;, &quot;str1&quot;);\ncontentList.add(objectMap);\n\nMap&lt;String,Object&gt; objectMap2 = new HashMap&lt;&gt;();\nobjectMap2.put(&quot;id&quot;, &quot;2&quot;);\nobjectMap2.put(&quot;name&quot;, &quot;name2&quot;);\nobjectMap2.put(&quot;desc&quot;, &quot;desc2&quot;);\nobjectMap2.put(&quot;str&quot;, &quot;str2&quot;);\ncontentList.add(objectMap2);\n</code></pre>\n<p>now I have a map like:</p>\n<pre><code>Map&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\nexpectedMap.put(&quot;id&quot;, &quot;2&quot;);\nexpectedMap.put(&quot;name&quot;, &quot;name2&quot;);\nexpectedMap.put(&quot;desc&quot;, &quot;desc2&quot;);\n</code></pre>\n<p>I need to check whether <code>expectedMap</code> exists in the <em>list</em> or not.</p>\n<p>I use this method to check it now. But I don't know if there is a more efficient way to do the same thing?</p>\n<pre><code>AtomicBoolean found = new AtomicBoolean(false);\ncontentList.forEach( m -&gt;{\n    if (m.entrySet().containsAll(expectedMap.entrySet())){\n        found.set(true);\n    }\n});\nreturn found.get();\n</code></pre>\n<p>And is there any way to make this method case-insensitive for <code>expectedMap</code> keys?</p>\n<p>For example, I expect it also works for map:</p>\n<pre><code>Map&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\nexpectedMap.put(&quot;Id&quot;, &quot;2&quot;);\nexpectedMap.put(&quot;Name&quot;, &quot;name2&quot;);\nexpectedMap.put(&quot;Desc&quot;, &quot;desc2&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","inversion-of-control"],"comments":[{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":0,"creation_date":1653303127,"post_id":72347189,"comment_id":127810421,"body_markdown":"In your `InterfaceAConfig` or `InterfaceBConfig`, shouldn&#39;t it be define `SharedInterface` beans, not `InterfaceA` or `InterfaceB`?","body":"In your <code>InterfaceAConfig</code> or <code>InterfaceBConfig</code>, shouldn&#39;t it be define <code>SharedInterface</code> beans, not <code>InterfaceA</code> or <code>InterfaceB</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653304533,"creation_date":1653304533,"answer_id":72347614,"question_id":72347189,"body_markdown":"The problem is your configuration. \r\n\r\n```java\r\n@Bean\r\npublic InterfaceA registerInterfaceA1(){\r\n    return new ImplementA1();\r\n}\r\n```\r\n\r\nThe problem with this is that Spring will use the return type of the method to see if it fullfils injection points (in this case your list). As `InterfaceA` isn&#39;t a `SharedInterface` eventually it will fail as there are no beans that implement the `SharedInterface` according to your configuration!. \r\n\r\nWhat you should do with your own beans is to be as specific as possible in the return type. So instead of `InterfaceA` make it return the actual class `ImplementA1` and `ImplementA2`. That way Spring, at configuration time, can determine that those implement `SharedInterface` and use those to fill the list. \r\n\r\n```java\r\n@Bean\r\npublic ImplementA1 registerInterfaceA1(){\r\n    return new ImplementA1();\r\n}\r\n```","title":"How to get all beans of specified interface which also implements other interfaces","body":"<p>The problem is your configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic InterfaceA registerInterfaceA1(){\n    return new ImplementA1();\n}\n</code></pre>\n<p>The problem with this is that Spring will use the return type of the method to see if it fullfils injection points (in this case your list). As <code>InterfaceA</code> isn't a <code>SharedInterface</code> eventually it will fail as there are no beans that implement the <code>SharedInterface</code> according to your configuration!.</p>\n<p>What you should do with your own beans is to be as specific as possible in the return type. So instead of <code>InterfaceA</code> make it return the actual class <code>ImplementA1</code> and <code>ImplementA2</code>. That way Spring, at configuration time, can determine that those implement <code>SharedInterface</code> and use those to fill the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ImplementA1 registerInterfaceA1(){\n    return new ImplementA1();\n}\n</code></pre>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72347614,"answer_count":1,"score":1,"last_activity_date":1653304533,"creation_date":1653302515,"question_id":72347189,"body_markdown":"Here I have 3 Interfaces: `InterfaceA` and `InterfaceB` and `SharedInterface`\r\n```\r\npublic interface InterfaceA {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printMsg();\r\n}\r\n```\r\n```\r\npublic interface InterfaceB {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printMsg();\r\n}\r\n```\r\n```\r\npublic interface SharedInterface {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printSharedMsg();\r\n}\r\n```\r\nand there are 3 implementations of these interfaces:\r\n```\r\npublic class ImplementA1 implements InterfaceA, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceA1&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementA1&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ImplementA2 implements InterfaceA, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceA2&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementA2&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ImplementB implements InterfaceB, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceB&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementB&quot;);\r\n    }\r\n}\r\n```\r\n`ImplementA1` and `ImplementA2` are the same type of operation, `ImplementB` is another type of operation. So I decided to develop 2 config class to register ImplementA1,ImplementA2 and ImplementB which is showing below.\r\n```\r\n@Configuration\r\npublic class InterfaceAConfig {\r\n    @Bean\r\n    public InterfaceA registerInterfaceA1(){\r\n        return new ImplementA1();\r\n    }\r\n\r\n    @Bean\r\n    public InterfaceA registerInterfaceA2(){\r\n        return new ImplementA2();\r\n    }\r\n}\r\n```\r\n```\r\n@Configuration\r\npublic class InterfaceBConfig {\r\n    @Bean\r\n    public InterfaceB registerInterfaceB(){\r\n        return new ImplementB();\r\n    }\r\n}\r\n```\r\nNow I want to let all beans which implement `SharedInterface` print their message in a component. And it works well,here is the code:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingContextGetBean();\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n}\r\n```\r\nBut I found another way of inject beans to component, using \r\n```\r\n@Autowired\r\nList&lt;TargetType&gt; myListName\r\n```\r\nSo I decided to change my `SharedInterfaceComponent` to this for test, and it worked:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //todo why do spring failed due to this autowire?\r\n    @Autowired\r\n    private List&lt;InterfaceA&gt; autowiredList;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingAutowiredGerBean();\r\n        //usingContextGetBean();\r\n    }\r\n\r\n    private void usingAutowiredGerBean() {\r\n        for (InterfaceA interfaceA : autowiredList) {\r\n            if (SharedInterface.class.isAssignableFrom(interfaceA.getClass())){\r\n                ((SharedInterface) interfaceA).printSharedMsg();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext=applicationContext;\r\n    }\r\n}\r\n```\r\nBut when I tried to use `SharedInterface` instead of `InerfaceA` to get beans from IOC , it goes wrong. The code is showing below:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //todo why do spring failed due to this autowire?\r\n    @Autowired\r\n    private List&lt;SharedInterface&gt; autowiredList;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingAutowiredGerBean();\r\n        //usingContextGetBean();\r\n    }\r\n\r\n    private void usingAutowiredGerBean() {\r\n        for (SharedInterface sharedInterface : autowiredList) {\r\n            if (SharedInterface.class.isAssignableFrom(sharedInterface.getClass())){\r\n                ((SharedInterface) sharedInterface).printSharedMsg();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext=applicationContext;\r\n    }\r\n}\r\n```\r\nIn this Demo the application will fail and showing\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField autowiredList in com.wwstation.test.config.SharedInterfaceComponent required a bean of type &#39;java.util.List&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;java.util.List&#39; in your configuration.\r\n\r\n\r\n```\r\nBut in my other projects, the same situation will not lead to a crush, I can get `SharedInterface` by using `@Autowired` but there I can only get beans implement `InterfaceA` or `InterfaceB` but never all of them. I thought, the not crushing case may be caused by some of my dependencies in other projects.\r\nCan anyone help me about how to get all the `SharedInterface` more graceful? Thanks alot!","title":"How to get all beans of specified interface which also implements other interfaces","body":"<p>Here I have 3 Interfaces: <code>InterfaceA</code> and <code>InterfaceB</code> and <code>SharedInterface</code></p>\n<pre><code>public interface InterfaceA {\n    /**\n     * print some message\n     */\n    void printMsg();\n}\n</code></pre>\n<pre><code>public interface InterfaceB {\n    /**\n     * print some message\n     */\n    void printMsg();\n}\n</code></pre>\n<pre><code>public interface SharedInterface {\n    /**\n     * print some message\n     */\n    void printSharedMsg();\n}\n</code></pre>\n<p>and there are 3 implementations of these interfaces:</p>\n<pre><code>public class ImplementA1 implements InterfaceA, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceA1&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementA1&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class ImplementA2 implements InterfaceA, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceA2&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementA2&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class ImplementB implements InterfaceB, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceB&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementB&quot;);\n    }\n}\n</code></pre>\n<p><code>ImplementA1</code> and <code>ImplementA2</code> are the same type of operation, <code>ImplementB</code> is another type of operation. So I decided to develop 2 config class to register ImplementA1,ImplementA2 and ImplementB which is showing below.</p>\n<pre><code>@Configuration\npublic class InterfaceAConfig {\n    @Bean\n    public InterfaceA registerInterfaceA1(){\n        return new ImplementA1();\n    }\n\n    @Bean\n    public InterfaceA registerInterfaceA2(){\n        return new ImplementA2();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class InterfaceBConfig {\n    @Bean\n    public InterfaceB registerInterfaceB(){\n        return new ImplementB();\n    }\n}\n</code></pre>\n<p>Now I want to let all beans which implement <code>SharedInterface</code> print their message in a component. And it works well,here is the code:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingContextGetBean();\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>But I found another way of inject beans to component, using</p>\n<pre><code>@Autowired\nList&lt;TargetType&gt; myListName\n</code></pre>\n<p>So I decided to change my <code>SharedInterfaceComponent</code> to this for test, and it worked:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //todo why do spring failed due to this autowire?\n    @Autowired\n    private List&lt;InterfaceA&gt; autowiredList;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingAutowiredGerBean();\n        //usingContextGetBean();\n    }\n\n    private void usingAutowiredGerBean() {\n        for (InterfaceA interfaceA : autowiredList) {\n            if (SharedInterface.class.isAssignableFrom(interfaceA.getClass())){\n                ((SharedInterface) interfaceA).printSharedMsg();\n            }\n        }\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext=applicationContext;\n    }\n}\n</code></pre>\n<p>But when I tried to use <code>SharedInterface</code> instead of <code>InerfaceA</code> to get beans from IOC , it goes wrong. The code is showing below:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //todo why do spring failed due to this autowire?\n    @Autowired\n    private List&lt;SharedInterface&gt; autowiredList;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingAutowiredGerBean();\n        //usingContextGetBean();\n    }\n\n    private void usingAutowiredGerBean() {\n        for (SharedInterface sharedInterface : autowiredList) {\n            if (SharedInterface.class.isAssignableFrom(sharedInterface.getClass())){\n                ((SharedInterface) sharedInterface).printSharedMsg();\n            }\n        }\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext=applicationContext;\n    }\n}\n</code></pre>\n<p>In this Demo the application will fail and showing</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField autowiredList in com.wwstation.test.config.SharedInterfaceComponent required a bean of type 'java.util.List' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'java.util.List' in your configuration.\n\n\n</code></pre>\n<p>But in my other projects, the same situation will not lead to a crush, I can get <code>SharedInterface</code> by using <code>@Autowired</code> but there I can only get beans implement <code>InterfaceA</code> or <code>InterfaceB</code> but never all of them. I thought, the not crushing case may be caused by some of my dependencies in other projects.\nCan anyone help me about how to get all the <code>SharedInterface</code> more graceful? Thanks alot!</p>\n"},{"tags":["java","swing","xor"],"comments":[{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":1,"creation_date":1360995122,"post_id":14907535,"comment_id":20911775,"body_markdown":"You are calling `add()` inside `paintComponent()` in class `Background`. You need to do it in the constructor.","body":"You are calling <code>add()</code> inside <code>paintComponent()</code> in class <code>Background</code>. You need to do it in the constructor."},{"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"score":0,"creation_date":1360995233,"post_id":14907535,"comment_id":20911795,"body_markdown":"tried calling add in constructor, no luck!","body":"tried calling add in constructor, no luck!"},{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":0,"creation_date":1360995277,"post_id":14907535,"comment_id":20911804,"body_markdown":"Declare the `Background` class constructor and then call `add(b)` in that.","body":"Declare the <code>Background</code> class constructor and then call <code>add(b)</code> in that."},{"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"score":0,"creation_date":1360995321,"post_id":14907535,"comment_id":20911810,"body_markdown":"Tried, there is a small square , very tiny , that gets drawn in the center. Will upload a pic --- hang on","body":"Tried, there is a small square , very tiny , that gets drawn in the center. Will upload a pic --- hang on"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1360995323,"post_id":14907535,"comment_id":20911812,"body_markdown":"Show the new code below the old code. How can we help &quot;no luck&quot; if we don&#39;t see it? And of course @ExtremeCoders is correct. You should *never* add or remove components or try to do program logic inside of `paintComponent(...)`. It is a very bad idea.","body":"Show the new code below the old code. How can we help &quot;no luck&quot; if we don&#39;t see it? And of course @ExtremeCoders is correct. You should <i>never</i> add or remove components or try to do program logic inside of <code>paintComponent(...)</code>. It is a very bad idea."},{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":2,"creation_date":1360995690,"post_id":14907535,"comment_id":20911880,"body_markdown":"Don&#39;t call `repaint()` in the constructor. Repaints should be left to be handled by the system unless it is an animation.","body":"Don&#39;t call <code>repaint()</code> in the constructor. Repaints should be left to be handled by the system unless it is an animation."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1361019786,"post_id":14907535,"comment_id":20916652,"body_markdown":"+1 for [sscce](http://sscce.org/).","body":"+1 for <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1653304526,"creation_date":1360995383,"answer_id":14907589,"question_id":14907535,"body_markdown":"The major problem is here...\r\n\r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            Color c = Color.cyan;\r\n            g.setColor(c);\r\n            g.fillRect(0, 0,getWidth(), getHeight());\r\n            add(b);\r\n            repaint();\r\n        }\r\n\r\nNot only are adding components to your container within you paint method, you&#39;re also calling repaint, all this is going to conspire against you.\r\n\r\nPaint is called by the repaint manager when ever your component needs to be updated, for all sorts of reasons. You should never call any methods that might invalidate it otherwise require the component to repainted, doing so will send you down slippery slope of CPU burn out.\r\n\r\nInstead.\r\n\r\n 1. Add your `Bubble` component inside the constructor of the `Background` component\r\n 2. Override the `getPreferredSize` methods of both these components and provide useful hints so the layout managers have some idea of how much space the components might actually like to use\r\n\r\nThe major problem you are facing (other then the bad painting) is that the components are reporting themselves as requiring no height or width, meaning when the layout managers come to lay them out, they are effectively invisible\r\n\r\n**Update**\r\n\r\nI would recommend that you have a look at\r\n\r\n - [Creating a GUI with Swing](http://docs.oracle.com/javase/tutorial/uiswing/), paying special attention to the section on layout managers\r\n - [Custom painting](http://docs.oracle.com/javase/tutorial/uiswing/)\r\n - [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html)\r\n\r\n**Easter Egg**\r\n\r\nFor taking advice and making an effort, let me give you a little help...\r\n\r\n![enter image description here][1]\r\n\r\nWhat I suggest you do is read through the code, go back to the Java Docs and tutorials and try and figure out what is going on ;)\r\n\r\n    public class CircleControl {\r\n\r\n        public static void main(String[] args) {\r\n            new CircleControl();\r\n        }\r\n\r\n        public CircleControl() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                add(new Bubble());\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 300);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                Color startColor = brighten(Color.CYAN, 0.75f);\r\n                Color endColor = brighten(Color.CYAN, 0.5f);\r\n\r\n                LinearGradientPaint lgp = new LinearGradientPaint(\r\n                                new Point(0, 0),\r\n                                new Point(0, getHeight()),\r\n                                new float[]{0f, 1f},\r\n                                new Color[]{startColor, endColor});\r\n\r\n                g2d.setPaint(lgp);\r\n                g2d.fill(new Rectangle(getWidth(), getHeight()));\r\n                g2d.dispose();\r\n\r\n            }\r\n        }\r\n\r\n        public class Bubble extends JPanel {\r\n\r\n            public Bubble() {\r\n                Font font = UIManager.getFont(&quot;Label.font&quot;);\r\n                setFont(font.deriveFont(Font.BOLD, 48));\r\n                setForeground(Color.WHITE);\r\n                setBackground(darken(Color.CYAN, 0.3f));\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(150, 150);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n                \r\n                int x = (getWidth() - 150) / 2;\r\n                int y = (getHeight() - 150) / 2;\r\n\r\n                Color startColor = brighten(getBackground(), 0.05f);\r\n                Color endColor = getBackground();\r\n\r\n                LinearGradientPaint lgp = new LinearGradientPaint(\r\n                                new Point(x, y),\r\n                                new Point(x, y + 150),\r\n                                new float[]{0f, 1f},\r\n                                new Color[]{startColor, endColor});\r\n                g2d.setPaint(lgp);\r\n                g2d.fill(new Ellipse2D.Double(x, y, 150, 150));\r\n                \r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                x = x + ((150 - fm.stringWidth(&quot;22&quot;)) / 2);\r\n                y = y + ((150 / 2) + fm.getAscent());\r\n                g2d.setColor(getForeground());\r\n                g2d.drawString(&quot;22&quot;, x, y);\r\n\r\n            }\r\n        }\r\n\r\n        public static Color brighten(Color color, double fraction) {\r\n            int red = (int) Math.round(Math.min(255, color.getRed() + 255 * fraction));\r\n            int green = (int) Math.round(Math.min(255, color.getGreen() + 255 * fraction));\r\n            int blue = (int) Math.round(Math.min(255, color.getBlue() + 255 * fraction));\r\n            int alpha = color.getAlpha();\r\n            return new Color(red, green, blue, alpha);\r\n        }\r\n\r\n        public static Color darken(Color color, double fraction) {\r\n            int red = (int) Math.round(Math.max(0, color.getRed() - 255 * fraction));\r\n            int green = (int) Math.round(Math.max(0, color.getGreen() - 255 * fraction));\r\n            int blue = (int) Math.round(Math.max(0, color.getBlue() - 255 * fraction));\r\n            int alpha = color.getAlpha();\r\n            return new Color(red, green, blue, alpha);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/u1LoV.png","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<p>The major problem is here...</p>\n<pre><code>    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        Color c = Color.cyan;\n        g.setColor(c);\n        g.fillRect(0, 0,getWidth(), getHeight());\n        add(b);\n        repaint();\n    }\n</code></pre>\n<p>Not only are adding components to your container within you paint method, you're also calling repaint, all this is going to conspire against you.</p>\n<p>Paint is called by the repaint manager when ever your component needs to be updated, for all sorts of reasons. You should never call any methods that might invalidate it otherwise require the component to repainted, doing so will send you down slippery slope of CPU burn out.</p>\n<p>Instead.</p>\n<ol>\n<li>Add your <code>Bubble</code> component inside the constructor of the <code>Background</code> component</li>\n<li>Override the <code>getPreferredSize</code> methods of both these components and provide useful hints so the layout managers have some idea of how much space the components might actually like to use</li>\n</ol>\n<p>The major problem you are facing (other then the bad painting) is that the components are reporting themselves as requiring no height or width, meaning when the layout managers come to lay them out, they are effectively invisible</p>\n<p><strong>Update</strong></p>\n<p>I would recommend that you have a look at</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI with Swing</a>, paying special attention to the section on layout managers</li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Custom painting</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n</ul>\n<p><strong>Easter Egg</strong></p>\n<p>For taking advice and making an effort, let me give you a little help...</p>\n<p><img src=\"https://i.stack.imgur.com/u1LoV.png\" alt=\"enter image description here\" /></p>\n<p>What I suggest you do is read through the code, go back to the Java Docs and tutorials and try and figure out what is going on ;)</p>\n<pre><code>public class CircleControl {\n\n    public static void main(String[] args) {\n        new CircleControl();\n    }\n\n    public CircleControl() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            add(new Bubble());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 300);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            Color startColor = brighten(Color.CYAN, 0.75f);\n            Color endColor = brighten(Color.CYAN, 0.5f);\n\n            LinearGradientPaint lgp = new LinearGradientPaint(\n                            new Point(0, 0),\n                            new Point(0, getHeight()),\n                            new float[]{0f, 1f},\n                            new Color[]{startColor, endColor});\n\n            g2d.setPaint(lgp);\n            g2d.fill(new Rectangle(getWidth(), getHeight()));\n            g2d.dispose();\n\n        }\n    }\n\n    public class Bubble extends JPanel {\n\n        public Bubble() {\n            Font font = UIManager.getFont(&quot;Label.font&quot;);\n            setFont(font.deriveFont(Font.BOLD, 48));\n            setForeground(Color.WHITE);\n            setBackground(darken(Color.CYAN, 0.3f));\n            setOpaque(false);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(150, 150);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n            \n            int x = (getWidth() - 150) / 2;\n            int y = (getHeight() - 150) / 2;\n\n            Color startColor = brighten(getBackground(), 0.05f);\n            Color endColor = getBackground();\n\n            LinearGradientPaint lgp = new LinearGradientPaint(\n                            new Point(x, y),\n                            new Point(x, y + 150),\n                            new float[]{0f, 1f},\n                            new Color[]{startColor, endColor});\n            g2d.setPaint(lgp);\n            g2d.fill(new Ellipse2D.Double(x, y, 150, 150));\n            \n            FontMetrics fm = g2d.getFontMetrics();\n            x = x + ((150 - fm.stringWidth(&quot;22&quot;)) / 2);\n            y = y + ((150 / 2) + fm.getAscent());\n            g2d.setColor(getForeground());\n            g2d.drawString(&quot;22&quot;, x, y);\n\n        }\n    }\n\n    public static Color brighten(Color color, double fraction) {\n        int red = (int) Math.round(Math.min(255, color.getRed() + 255 * fraction));\n        int green = (int) Math.round(Math.min(255, color.getGreen() + 255 * fraction));\n        int blue = (int) Math.round(Math.min(255, color.getBlue() + 255 * fraction));\n        int alpha = color.getAlpha();\n        return new Color(red, green, blue, alpha);\n    }\n\n    public static Color darken(Color color, double fraction) {\n        int red = (int) Math.round(Math.max(0, color.getRed() - 255 * fraction));\n        int green = (int) Math.round(Math.max(0, color.getGreen() - 255 * fraction));\n        int blue = (int) Math.round(Math.max(0, color.getBlue() - 255 * fraction));\n        int alpha = color.getAlpha();\n        return new Color(red, green, blue, alpha);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360996842,"creation_date":1360996842,"answer_id":14907732,"question_id":14907535,"body_markdown":"I have run your code and made the changes.Here is it.However your program does not handle window closing. You have to write that.\r\n\r\n    package test;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class TestWindow extends JFrame\r\n    {\r\n        //------------------------------------------------------------------------------\r\n        public static void main(String[] args) {\r\n            new TestWindow();\r\n        }\r\n        //------------------------------------------------------------------------------\r\n        public TestWindow(){\r\n            setSize(300,310);\r\n            this.setUndecorated(true);\r\n            add(new Background());\r\n            setVisible(true);\r\n        }\r\n    //------------------------------------------------------------------------------\r\n    \r\n        private class Background extends JPanel{\r\n            public Background(){\r\n                Bubble b = new Bubble();\r\n                add(b);\r\n            }\r\n            //------------------------------------------------------------------------------    \r\n    \r\n            @Override public Dimension getPreferredSize()\r\n            {\r\n                return new Dimension(300,300);\r\n            }\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g){\r\n                super.paintComponent(g);\r\n                Color c = Color.cyan;\r\n                g.setColor(c);\r\n                g.fillRect(0, 0,getWidth(), getHeight());\r\n            }\r\n            //------------------------------------------------------------------------------\r\n            private class Bubble extends JPanel{\r\n    \r\n                Bubble()\r\n                {\r\n                    setOpaque(false);\r\n                }\r\n    \r\n                @Override\r\n                public void paintComponent(Graphics g){\r\n                    super.paintComponent(g);\r\n                    g.setColor(Color.green);\r\n                    g.fillOval(0, 0, getWidth(), getHeight());\r\n                }\r\n    \r\n                @Override public Dimension getPreferredSize()\r\n                {\r\n                    return new Dimension(300,300);\r\n                }\r\n            }\r\n    //------------------------------------------------------------------------------\r\n        }\r\n    }  ","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<p>I have run your code and made the changes.Here is it.However your program does not handle window closing. You have to write that.</p>\n\n<pre><code>package test;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class TestWindow extends JFrame\n{\n    //------------------------------------------------------------------------------\n    public static void main(String[] args) {\n        new TestWindow();\n    }\n    //------------------------------------------------------------------------------\n    public TestWindow(){\n        setSize(300,310);\n        this.setUndecorated(true);\n        add(new Background());\n        setVisible(true);\n    }\n//------------------------------------------------------------------------------\n\n    private class Background extends JPanel{\n        public Background(){\n            Bubble b = new Bubble();\n            add(b);\n        }\n        //------------------------------------------------------------------------------    \n\n        @Override public Dimension getPreferredSize()\n        {\n            return new Dimension(300,300);\n        }\n\n        @Override\n        public void paintComponent(Graphics g){\n            super.paintComponent(g);\n            Color c = Color.cyan;\n            g.setColor(c);\n            g.fillRect(0, 0,getWidth(), getHeight());\n        }\n        //------------------------------------------------------------------------------\n        private class Bubble extends JPanel{\n\n            Bubble()\n            {\n                setOpaque(false);\n            }\n\n            @Override\n            public void paintComponent(Graphics g){\n                super.paintComponent(g);\n                g.setColor(Color.green);\n                g.fillOval(0, 0, getWidth(), getHeight());\n            }\n\n            @Override public Dimension getPreferredSize()\n            {\n                return new Dimension(300,300);\n            }\n        }\n//------------------------------------------------------------------------------\n    }\n}  \n</code></pre>\n"}],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14907589,"answer_count":2,"score":3,"last_activity_date":1653304526,"creation_date":1360994934,"question_id":14907535,"body_markdown":"&lt;h2&gt; New Code &lt;/h2&gt;  \r\n    package test;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    \r\n    public class TestWindow extends JFrame{\r\n    //------------------------------------------------------------------------------\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew TestWindow();\r\n    \t}\r\n    //------------------------------------------------------------------------------\r\n    \tpublic TestWindow(){\r\n    \t\tsetSize(300,300);\r\n    \t\tthis.setUndecorated(true);\r\n    \t\tadd(new Background());\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    //------------------------------------------------------------------------------\r\n    \t\r\n    \tprivate class Background extends JPanel{\r\n    \t\tpublic Background(){\r\n    \t\t\tadd(b);\r\n    \t\t\trepaint();\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\t\r\n    \t\tBubble b = new Bubble();\r\n    \t\t@Override\r\n    \t\tpublic void paintComponent(Graphics g){\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tColor c = Color.cyan;\r\n    \t\t\tg.setColor(c);\r\n    \t\t\tg.fillRect(0, 0,getWidth(), getHeight());\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\r\n    \t\tprivate class Bubble extends JPanel{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paintComponent(Graphics g){\r\n    \t\t\t\tsuper.paintComponent(g);\r\n    \t\t\t\tg.setColor(Color.green);\r\n    \t\t\t\tg.drawOval(0, 0, Background.this.getWidth(), Background.this.getHeight());\r\n    \t\t\t}\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\r\n    \t}\r\n    }  \r\n&lt;h2&gt; Output &lt;/h2&gt;  \r\n![enter image description here][1]\r\n&lt;h2&gt; Problem &lt;/h2&gt;  \r\nThe aim is to draw a cyan window with a green circle on it. Later I will add components to the green circle so it will look like there is a window with a cyan background and a green circle with components in it.  \r\nThe output however is only the cyan background. No circle.  \r\n\r\nI tried setting XOR mode to cyan but that did not work either. Am I nesting the classes wrong?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EnRII.png","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<h2> New Code </h2>  \n\n<pre><code>package test;\n\nimport javax.swing.*;\nimport java.awt.*;\n\n\npublic class TestWindow extends JFrame{\n//------------------------------------------------------------------------------\n    public static void main(String[] args) {\n        new TestWindow();\n    }\n//------------------------------------------------------------------------------\n    public TestWindow(){\n        setSize(300,300);\n        this.setUndecorated(true);\n        add(new Background());\n        setVisible(true);\n    }\n//------------------------------------------------------------------------------\n\n    private class Background extends JPanel{\n        public Background(){\n            add(b);\n            repaint();\n        }\n//------------------------------------------------------------------------------    \n        Bubble b = new Bubble();\n        @Override\n        public void paintComponent(Graphics g){\n            super.paintComponent(g);\n            Color c = Color.cyan;\n            g.setColor(c);\n            g.fillRect(0, 0,getWidth(), getHeight());\n        }\n//------------------------------------------------------------------------------\n        private class Bubble extends JPanel{\n            @Override\n            public void paintComponent(Graphics g){\n                super.paintComponent(g);\n                g.setColor(Color.green);\n                g.drawOval(0, 0, Background.this.getWidth(), Background.this.getHeight());\n            }\n        }\n//------------------------------------------------------------------------------\n    }\n}  \n</code></pre>\n\n<h2> Output </h2>  \n\n<p><img src=\"https://i.stack.imgur.com/EnRII.png\" alt=\"enter image description here\"></p>\n\n<h2> Problem </h2>  \n\n<p>The aim is to draw a cyan window with a green circle on it. Later I will add components to the green circle so it will look like there is a window with a cyan background and a green circle with components in it.<br>\nThe output however is only the cyan background. No circle.  </p>\n\n<p>I tried setting XOR mode to cyan but that did not work either. Am I nesting the classes wrong?</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":52621,"reputation":3251,"user_id":3222727,"accept_rate":20,"display_name":"kinshuk4"},"score":0,"creation_date":1446441786,"post_id":33470881,"comment_id":54727967,"body_markdown":"Please give more details, like what you were trying to do, and what happened.","body":"Please give more details, like what you were trying to do, and what happened."}],"answers":[{"tags":[],"owner":{"account_id":1315082,"reputation":220,"user_id":1262157,"accept_rate":40,"display_name":"Rishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1446439963,"creation_date":1446439963,"answer_id":33470988,"question_id":33470881,"body_markdown":"I guess the error log says it all. You have more than one servlet deployed on tomcat with the same URL pattern mapped in their web.xml [/*]\r\n`The servlets named [Project-1] and [com.example.project_1.Project_1UI$Servlet] are both mapped to the url-pattern [/*] which is not permitted at org.apache.catalina.deploy.WebXml.addServletMapping`\r\n\r\nThis is confusing since the container will not know which servlet to invoke whenever you hit the URL `localhost:[yourPort]/[AppName-Maybe]/`. Try going through the web.xml and fixing this or you can post the same here and get additional help.","title":"SEVERE: A child container failed during start","body":"<p>I guess the error log says it all. You have more than one servlet deployed on tomcat with the same URL pattern mapped in their web.xml [/*]\n<code>The servlets named [Project-1] and [com.example.project_1.Project_1UI$Servlet] are both mapped to the url-pattern [/*] which is not permitted at org.apache.catalina.deploy.WebXml.addServletMapping</code></p>\n\n<p>This is confusing since the container will not know which servlet to invoke whenever you hit the URL <code>localhost:[yourPort]/[AppName-Maybe]/</code>. Try going through the web.xml and fixing this or you can post the same here and get additional help.</p>\n"},{"tags":[],"owner":{"account_id":23467189,"reputation":1,"user_id":17521162,"display_name":"user17521162"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637984240,"creation_date":1637984240,"answer_id":70131864,"question_id":33470881,"body_markdown":"Yes as said, that both are mapped to the url-pattern which is not permitted, try to add two url-pattern in the mapping section. You can add same url-pattern if you want or can add two different url-patterns, I had the same problem... like below\r\n\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;Test&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.project1.Project1Servlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;Test&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\r\n    &lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\r\n    &lt;!-- Adding two url-pattern helped me get through that problem. Try it, this might work for you, also I was using apache tomcat 9.0.55 version --&gt;\r\n    &lt;/servlet-mapping&gt;","title":"SEVERE: A child container failed during start","body":"<p>Yes as said, that both are mapped to the url-pattern which is not permitted, try to add two url-pattern in the mapping section. You can add same url-pattern if you want or can add two different url-patterns, I had the same problem... like below</p>\n<pre><code>&lt;servlet&gt;\n&lt;servlet-name&gt;Test&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.example.project1.Project1Servlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;Test&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\n&lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\n&lt;!-- Adding two url-pattern helped me get through that problem. Try it, this might work for you, also I was using apache tomcat 9.0.55 version --&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15403988,"reputation":1,"user_id":11112588,"display_name":"Mahesh Shivaji Mane."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653303142,"creation_date":1653303142,"answer_id":72347328,"question_id":33470881,"body_markdown":"I was facing same issue. I created new workspace and added server in it. It worked for me !! \r\n\r\nPlease change workspace and try adding server to fresh WS.","title":"SEVERE: A child container failed during start","body":"<p>I was facing same issue. I created new workspace and added server in it. It worked for me !!</p>\n<p>Please change workspace and try adding server to fresh WS.</p>\n"}],"owner":{"account_id":7225850,"reputation":27,"user_id":5514428,"display_name":"G2K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7825,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":33470988,"answer_count":3,"score":-1,"last_activity_date":1653303142,"creation_date":1446439260,"question_id":33470881,"body_markdown":"Previously my tomcat server was working fine.\r\n\r\nBut suddenly getting following error.\r\n\r\nPlease help on this\r\n\r\n&gt; SEVERE: A child container failed during start\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\r\n&gt; \tat java.util.concurrent.FutureTask.report(Unknown Source) \tat\r\n&gt; java.util.concurrent.FutureTask.get(Unknown Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Caused by:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \t... 6 more Caused by: java.lang.IllegalArgumentException: The\r\n&gt; servlets named [Project-1] and\r\n&gt; [com.example.project_1.Project_1UI$Servlet] are both mapped to the\r\n&gt; url-pattern [/*] which is not permitted \tat\r\n&gt; org.apache.catalina.deploy.WebXml.addServletMapping(WebXml.java:335)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2466)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2148)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2109)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1293)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 6 more\r\n&gt; \r\n&gt; Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\r\n&gt; log INFO: No Spring WebApplicationInitializer types detected on\r\n&gt; classpath Nov 02, 2015 9:50:09 AM\r\n&gt; org.apache.catalina.core.ApplicationContext log INFO: Set web app root\r\n&gt; system property: &#39;webapp.root&#39; =\r\n&gt; [C:\\Users\\syed\\Documents\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\]\r\n&gt; Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\r\n&gt; log INFO: Initializing log4j from\r\n&gt; [C:\\Users\\syed\\Documents\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\WEB-INF\\log4j.lorryhub.properties]\r\n&gt; log4j:ERROR setFile(null,true) call failed.\r\n&gt; java.io.FileNotFoundException: C:\\Users\\LorryHub\\lorryhub.log (The\r\n&gt; system cannot find the path specified) \tat\r\n&gt; java.io.FileOutputStream.open(Native Method) \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(Unknown Source) \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(Unknown Source) \tat\r\n&gt; org.apache.log4j.FileAppender.setFile(FileAppender.java:294) \tat\r\n&gt; org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\r\n&gt; \tat\r\n&gt; org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:842)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:768)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:648)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:514)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:580)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:415)\r\n&gt; \tat\r\n&gt; org.springframework.util.Log4jConfigurer.initLogging(Log4jConfigurer.java:72)\r\n&gt; \tat\r\n&gt; org.springframework.web.util.Log4jWebConfigurer.initLogging(Log4jWebConfigurer.java:152)\r\n&gt; \tat\r\n&gt; org.springframework.web.util.Log4jConfigListener.contextInitialized(Log4jConfigListener.java:45)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Nov 02, 2015 9:50:10 AM\r\n&gt; org.apache.catalina.core.ApplicationContext log INFO: Initializing\r\n&gt; Spring FrameworkServlet &#39;MainWeb&#39; Nov 02, 2015 9:50:18 AM\r\n&gt; org.apache.catalina.core.ContainerBase startInternal SEVERE: A child\r\n&gt; container failed during start java.util.concurrent.ExecutionException:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost]] \tat\r\n&gt; java.util.concurrent.FutureTask.report(Unknown Source) \tat\r\n&gt; java.util.concurrent.FutureTask.get(Unknown Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\r\n&gt; by: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Caused by:\r\n&gt; org.apache.catalina.LifecycleException: A child container failed\r\n&gt; during start \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n&gt; \tat  \r\n\r\n\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 6 more\r\n&gt; \r\n&gt; Nov 02, 2015 9:50:18 AM org.apache.catalina.startup.Catalina start\r\n&gt; SEVERE: The required Server component failed to start so Tomcat is\r\n&gt; unable to start. org.apache.catalina.LifecycleException: Failed to\r\n&gt; start component [StandardServer[8005]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\r\n&gt; by: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardService[Catalina]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 7 more Caused by: org.apache.catalina.LifecycleException: Failed\r\n&gt; to start component [StandardEngine[Catalina]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 9 more Caused by: org.apache.catalina.LifecycleException: A child\r\n&gt; container failed during start \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 11 more\r\n\r\nThanks","title":"SEVERE: A child container failed during start","body":"<p>Previously my tomcat server was working fine.</p>\n\n<p>But suddenly getting following error.</p>\n\n<p>Please help on this</p>\n\n<blockquote>\n  <p>SEVERE: A child container failed during start\n  java.util.concurrent.ExecutionException:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)   at\n  java.util.concurrent.FutureTask.get(Unknown Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at\n  org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more Caused by: java.lang.IllegalArgumentException: The\n  servlets named [Project-1] and\n  [com.example.project_1.Project_1UI$Servlet] are both mapped to the\n  url-pattern [/*] which is not permitted   at\n  org.apache.catalina.deploy.WebXml.addServletMapping(WebXml.java:335)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2466)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2148)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2109)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1293)\n    at\n  org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\n    at\n  org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\n    at\n  org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n    at\n  org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more</p>\n  \n  <p>Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\n  log INFO: No Spring WebApplicationInitializer types detected on\n  classpath Nov 02, 2015 9:50:09 AM\n  org.apache.catalina.core.ApplicationContext log INFO: Set web app root\n  system property: 'webapp.root' =\n  [C:\\Users\\syed\\Documents.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub]\n  Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\n  log INFO: Initializing log4j from\n  [C:\\Users\\syed\\Documents.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\WEB-INF\\log4j.lorryhub.properties]\n  log4j:ERROR setFile(null,true) call failed.\n  java.io.FileNotFoundException: C:\\Users\\LorryHub\\lorryhub.log (The\n  system cannot find the path specified)    at\n  java.io.FileOutputStream.open(Native Method)  at\n  java.io.FileOutputStream.(Unknown Source)   at\n  java.io.FileOutputStream.(Unknown Source)   at\n  org.apache.log4j.FileAppender.setFile(FileAppender.java:294)  at\n  org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\n    at\n  org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\n    at\n  org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\n    at\n  org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\n    at\n  org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\n    at\n  org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:842)\n    at\n  org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:768)\n    at\n  org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:648)\n    at\n  org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:514)\n    at\n  org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:580)\n    at\n  org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:415)\n    at\n  org.springframework.util.Log4jConfigurer.initLogging(Log4jConfigurer.java:72)\n    at\n  org.springframework.web.util.Log4jWebConfigurer.initLogging(Log4jWebConfigurer.java:152)\n    at\n  org.springframework.web.util.Log4jConfigListener.contextInitialized(Log4jConfigListener.java:45)\n    at\n  org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Nov 02, 2015 9:50:10 AM\n  org.apache.catalina.core.ApplicationContext log INFO: Initializing\n  Spring FrameworkServlet 'MainWeb' Nov 02, 2015 9:50:18 AM\n  org.apache.catalina.core.ContainerBase startInternal SEVERE: A child\n  container failed during start java.util.concurrent.ExecutionException:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost]]    at\n  java.util.concurrent.FutureTask.report(Unknown Source)    at\n  java.util.concurrent.FutureTask.get(Unknown Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)   at\n  org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\n  by: org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost]]    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  org.apache.catalina.LifecycleException: A child container failed\n  during start  at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at  </p>\n  \n  <p>org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more</p>\n  \n  <p>Nov 02, 2015 9:50:18 AM org.apache.catalina.startup.Catalina start\n  SEVERE: The required Server component failed to start so Tomcat is\n  unable to start. org.apache.catalina.LifecycleException: Failed to\n  start component [StandardServer[8005]]    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)   at\n  org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\n  by: org.apache.catalina.LifecycleException: Failed to start component\n  [StandardService[Catalina]]   at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more Caused by: org.apache.catalina.LifecycleException: Failed\n  to start component [StandardEngine[Catalina]]     at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more Caused by: org.apache.catalina.LifecycleException: A child\n  container failed during start     at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more</p>\n</blockquote>\n\n<p>Thanks</p>\n"},{"tags":["java","random","duplicates","subset"],"comments":[{"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"score":1,"creation_date":1653302787,"post_id":72347015,"comment_id":127810289,"body_markdown":"If the goal is efficiency, did you consider selecting your N random integers by running the [Fisher-Yates algorithm](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle) for just N steps ?","body":"If the goal is efficiency, did you consider selecting your N random integers by running the <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">Fisher-Yates algorithm</a> for just N steps ?"}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653302985,"creation_date":1653302556,"answer_id":72347196,"question_id":72347015,"body_markdown":"You can use `Collections.shuffle` which is exactly for these purposes.\r\n\r\nFor example:\r\n```java\r\nString[] strings = new String[] {\r\n     &quot;foo&quot;, &quot;bar&quot;, &quot;toto&quot;, &quot;fox&quot;, &quot;koukou&quot;, &quot;bar&quot;, &quot;Bar&quot; \r\n} ;\r\n\r\n// Filter-out duplicates, then shuffle\r\nfinal List&lt;String&gt; stringsList = Arrays.stream(strings)\r\n    .distinct().collect(Collectors.toList());\r\nCollections.shuffle(stringsList);\r\n// Take a sample\r\nfinal int k = 3; // the sample size\r\nList&lt;String&gt; sample = stringsList.subList(0, k); // this is a view, not another list\r\nSystem.err.println(sample);\r\n```\r\n\r\nIf we did not care about duplicates, things would be a bit simpler and shuffling could be performed on the original array (then, we could just pick first k elements):\r\n```java\r\nCollections.shuffle(Arrays.asList(strings));\r\n```","title":"Java best way to select random subset from an array of strings with no duplicates","body":"<p>You can use <code>Collections.shuffle</code> which is exactly for these purposes.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = new String[] {\n     &quot;foo&quot;, &quot;bar&quot;, &quot;toto&quot;, &quot;fox&quot;, &quot;koukou&quot;, &quot;bar&quot;, &quot;Bar&quot; \n} ;\n\n// Filter-out duplicates, then shuffle\nfinal List&lt;String&gt; stringsList = Arrays.stream(strings)\n    .distinct().collect(Collectors.toList());\nCollections.shuffle(stringsList);\n// Take a sample\nfinal int k = 3; // the sample size\nList&lt;String&gt; sample = stringsList.subList(0, k); // this is a view, not another list\nSystem.err.println(sample);\n</code></pre>\n<p>If we did not care about duplicates, things would be a bit simpler and shuffling could be performed on the original array (then, we could just pick first k elements):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.shuffle(Arrays.asList(strings));\n</code></pre>\n"}],"owner":{"account_id":23179033,"reputation":37,"user_id":17277109,"display_name":"searchbruh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72347196,"answer_count":1,"score":0,"last_activity_date":1653302985,"creation_date":1653301704,"question_id":72347015,"body_markdown":"Looking for a more efficient way to select a random subset of elements (no duplicates) from an array of strings. \r\n\r\n``` \r\npublic static String randomReturnArray(String inputArray[]) {\r\n\r\n    String[] tmpInputArr = Arrays.copyOf(inputArray, inputArray.length);\r\n\r\n    Random r = new Random();\r\n    int inMin = 0;\r\n    int inMax = inputArray.length;\r\n    int numOfMarkings = r.nextInt((inMax - inMin) + 1) + inMin;\r\n    int[] arrOfInputIndexes = new int[numOfMarkings];\r\n\r\n    for (int d = 0; d &lt; numOfMarkings; d++) {\r\n        Random f = new Random();\r\n        int index = f.nextInt(inputArray.length);\r\n        arrOfInputIndexes[d] = index;\r\n    }\r\n\r\n    for (int i = 0; i &lt; arrOfInputIndexes.length - 1; i++) {\r\n        for (int j = i + 1; j &lt; arrOfInputIndexes.length; j++) {\r\n            if (arrOfInputIndexes[i] == arrOfInputIndexes[j]) {\r\n                arrOfInputIndexes = ArrayUtils.remove(arrOfInputIndexes, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    String[] finalArray = new String[arrOfInputIndexes.length];\r\n    for (int l = 0; l &lt; arrOfInputIndexes.length; l++) {\r\n        int temp = arrOfInputIndexes[l];\r\n        finalArray[l] = tmpInputArr[temp];\r\n    }\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for (String marking : finalArray) {\r\n        builder.append(marking);\r\n        builder.append(&quot; &quot;);\r\n    }\r\n    String finalArray = builder.toString();\r\n\r\n    return finalArray;\r\n} \r\n```\r\n\r\nHere the thought process: \r\n1. Create supporting vars - a new array of random length (less than input.length)\r\n2. fill array with random integers\r\n3. remove duplicates\r\n4. grab the values from the input array at the index of the random integers\r\n5. build string and return\r\n\r\n\r\nMuch appreciated.","title":"Java best way to select random subset from an array of strings with no duplicates","body":"<p>Looking for a more efficient way to select a random subset of elements (no duplicates) from an array of strings.</p>\n<pre><code>public static String randomReturnArray(String inputArray[]) {\n\n    String[] tmpInputArr = Arrays.copyOf(inputArray, inputArray.length);\n\n    Random r = new Random();\n    int inMin = 0;\n    int inMax = inputArray.length;\n    int numOfMarkings = r.nextInt((inMax - inMin) + 1) + inMin;\n    int[] arrOfInputIndexes = new int[numOfMarkings];\n\n    for (int d = 0; d &lt; numOfMarkings; d++) {\n        Random f = new Random();\n        int index = f.nextInt(inputArray.length);\n        arrOfInputIndexes[d] = index;\n    }\n\n    for (int i = 0; i &lt; arrOfInputIndexes.length - 1; i++) {\n        for (int j = i + 1; j &lt; arrOfInputIndexes.length; j++) {\n            if (arrOfInputIndexes[i] == arrOfInputIndexes[j]) {\n                arrOfInputIndexes = ArrayUtils.remove(arrOfInputIndexes, j);\n            }\n        }\n    }\n\n    String[] finalArray = new String[arrOfInputIndexes.length];\n    for (int l = 0; l &lt; arrOfInputIndexes.length; l++) {\n        int temp = arrOfInputIndexes[l];\n        finalArray[l] = tmpInputArr[temp];\n    }\n\n    StringBuilder builder = new StringBuilder();\n    for (String marking : finalArray) {\n        builder.append(marking);\n        builder.append(&quot; &quot;);\n    }\n    String finalArray = builder.toString();\n\n    return finalArray;\n} \n</code></pre>\n<p>Here the thought process:</p>\n<ol>\n<li>Create supporting vars - a new array of random length (less than input.length)</li>\n<li>fill array with random integers</li>\n<li>remove duplicates</li>\n<li>grab the values from the input array at the index of the random integers</li>\n<li>build string and return</li>\n</ol>\n<p>Much appreciated.</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1456084808,"post_id":35540765,"comment_id":58771109,"body_markdown":"The support is correct: it is unrelated to the certificate. Instead it depends on the ciphers and protocol versions configured at client and server which themselves might depend on the version and configuration of Java or whatever your client uses etc. The information you provide are not sufficient to know where the problem really is, but it is not the certificate.","body":"The support is correct: it is unrelated to the certificate. Instead it depends on the ciphers and protocol versions configured at client and server which themselves might depend on the version and configuration of Java or whatever your client uses etc. The information you provide are not sufficient to know where the problem really is, but it is not the certificate."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1456101097,"post_id":35540765,"comment_id":58776781,"body_markdown":"You put your key in `shemo_wildcard` and then the cert in `shemo_wildCard.jks` which is different. You need to use **exactly the same keystore (file) AND alias** for the key and cert. Also your Connector is configured to use `cacerts.jks` in the JRE directory, which is different again; it should be the **same single file**.","body":"You put your key in <code>shemo_wildcard</code> and then the cert in <code>shemo_wildCard.jks</code> which is different. You need to use <b>exactly the same keystore (file) AND alias</b> for the key and cert. Also your Connector is configured to use <code>cacerts.jks</code> in the JRE directory, which is different again; it should be the <b>same single file</b>."}],"answers":[{"tags":[],"owner":{"account_id":169201,"reputation":3016,"user_id":395148,"accept_rate":100,"display_name":"Nappy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456172409,"creation_date":1456170493,"answer_id":35562514,"question_id":35540765,"body_markdown":"Let me try to give a general explanation for this issue:\r\n\r\nA server usually supports different SSL protocol versions (SSLv3, TLS1.0, TLS1.1, TLS1.2), and a bunch of different ciphers.\r\n\r\nDuring the handshake client and server negotiate one protocol version and one cipher to be used.\r\n\r\nIf there is a mismatch, that means your server is configured to only support TLS1.2, but your client is only capable of TLS1.0 for example, or that the client and server have not a single cipher that both support.\r\n\r\nI never used Tomcat, but a quick look at https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html tells me that the `sslEnabledProtocols` and `ciphers` arguments might be of interest to you:\r\n\r\n    \r\n\r\n&gt; The **sslEnabledProtocols** attribute determines which versions of the SSL/TLS protocol are used. Since the POODLE attack in 2014, all SSL protocols are considered unsafe and a secure setting for this attribute in a standalone Tomcat setup might be sslEnabledProtocols=&quot;TLSv1,TLSv1.1,TLSv1.2&quot;\r\n\r\n&gt; The **ciphers** attribute controls the ciphers used for SSL connections. By default, the default ciphers for the JVM will be used. This usually means that the weak export grade ciphers will be included in the list of available ciphers. Secure environments will normally want to configure a more limited set of ciphers. This attribute accepts the OpenSSL syntax for including/excluding cipher suites. As of 2014-11-19, with standalone Tomcat 8 and Java 8, Forward Secrecy can be achieved by specifying only TLS protocols using the sslEnabledProtocols attribute (above) and excluding non-DH ciphers, and weak/broken ciphers. The Qualys SSL/TLS test is a useful tool for configuring these settings.\r\n\r\nBut since by default it already uses very conservative/compatible settings, I cannot really tell where the source of your issue is, maybe you have some global setting override somewhere. Also you have not mentioned which client you used to get that specific error code. Maybe just remove `sslProtocol=&quot;TLS&quot;`, assuming your client only supports SSLv3.","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>Let me try to give a general explanation for this issue:</p>\n\n<p>A server usually supports different SSL protocol versions (SSLv3, TLS1.0, TLS1.1, TLS1.2), and a bunch of different ciphers.</p>\n\n<p>During the handshake client and server negotiate one protocol version and one cipher to be used.</p>\n\n<p>If there is a mismatch, that means your server is configured to only support TLS1.2, but your client is only capable of TLS1.0 for example, or that the client and server have not a single cipher that both support.</p>\n\n<p>I never used Tomcat, but a quick look at <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html</a> tells me that the <code>sslEnabledProtocols</code> and <code>ciphers</code> arguments might be of interest to you:</p>\n\n<blockquote>\n  <p>The <strong>sslEnabledProtocols</strong> attribute determines which versions of the SSL/TLS protocol are used. Since the POODLE attack in 2014, all SSL protocols are considered unsafe and a secure setting for this attribute in a standalone Tomcat setup might be sslEnabledProtocols=\"TLSv1,TLSv1.1,TLSv1.2\"</p>\n  \n  <p>The <strong>ciphers</strong> attribute controls the ciphers used for SSL connections. By default, the default ciphers for the JVM will be used. This usually means that the weak export grade ciphers will be included in the list of available ciphers. Secure environments will normally want to configure a more limited set of ciphers. This attribute accepts the OpenSSL syntax for including/excluding cipher suites. As of 2014-11-19, with standalone Tomcat 8 and Java 8, Forward Secrecy can be achieved by specifying only TLS protocols using the sslEnabledProtocols attribute (above) and excluding non-DH ciphers, and weak/broken ciphers. The Qualys SSL/TLS test is a useful tool for configuring these settings.</p>\n</blockquote>\n\n<p>But since by default it already uses very conservative/compatible settings, I cannot really tell where the source of your issue is, maybe you have some global setting override somewhere. Also you have not mentioned which client you used to get that specific error code. Maybe just remove <code>sslProtocol=\"TLS\"</code>, assuming your client only supports SSLv3.</p>\n"},{"tags":[],"owner":{"account_id":12863159,"reputation":1223,"user_id":9304296,"display_name":"Bernard Moeskops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547195264,"creation_date":1547195264,"answer_id":54142807,"question_id":35540765,"body_markdown":"The answer @Nappy gave is correct and very useful. However it did not solve my problem, I got the same error message and in my case it was due to the private key not being loaded to my keystore. Because I always have a hard time installing SSL certificates to Tomcat on Windows, I found a solution for myself which might help others.\r\n\r\nBecause I have a wildcard certificate with the private key included (*.pfx). You can just install that certificate, add the path to that certificate in the server.xml and add the corresponding password to the file. Also add a line to declare the type of keystore between File and Pass:\r\n\r\n    keystoreFile=&quot;C:\\Users\\Your\\Certificate.pfx&quot;\r\n    keystoreType=&quot;pkcs12&quot;\r\n    keystorePass=&quot;Password123&quot; sslProtocol = &quot;TLS&quot;  \r\n\r\nTo me this is way easier than installing everything to the Tomcat keystore with the keytool. \r\n\r\nHope this helps!\r\n\r\n","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>The answer @Nappy gave is correct and very useful. However it did not solve my problem, I got the same error message and in my case it was due to the private key not being loaded to my keystore. Because I always have a hard time installing SSL certificates to Tomcat on Windows, I found a solution for myself which might help others.</p>\n\n<p>Because I have a wildcard certificate with the private key included (*.pfx). You can just install that certificate, add the path to that certificate in the server.xml and add the corresponding password to the file. Also add a line to declare the type of keystore between File and Pass:</p>\n\n<pre><code>keystoreFile=\"C:\\Users\\Your\\Certificate.pfx\"\nkeystoreType=\"pkcs12\"\nkeystorePass=\"Password123\" sslProtocol = \"TLS\"  \n</code></pre>\n\n<p>To me this is way easier than installing everything to the Tomcat keystore with the keytool. </p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":16362450,"reputation":93,"user_id":11817684,"display_name":"Adam H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653302697,"creation_date":1653302697,"answer_id":72347234,"question_id":35540765,"body_markdown":"I had this problem recently, here is another possible solution.\r\n\r\nMy problem was in fact due to 2 things:\r\n\r\n1. Update Java 6, which doesn&#39;t support TLS 1.2, to Java 8 (1.8.0_333)\r\n2. Modified the server.xml of my Tomcat to force TLSv1.2\r\n   - Before: clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;\r\n   - After:  clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;\r\n\r\nHope this might help someone that is having a similar problem resolve it quicker than I did .\r\n\r\nCheers. ","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>I had this problem recently, here is another possible solution.</p>\n<p>My problem was in fact due to 2 things:</p>\n<ol>\n<li>Update Java 6, which doesn't support TLS 1.2, to Java 8 (1.8.0_333)</li>\n<li>Modified the server.xml of my Tomcat to force TLSv1.2\n<ul>\n<li>Before: clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;</li>\n<li>After:  clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;</li>\n</ul>\n</li>\n</ol>\n<p>Hope this might help someone that is having a similar problem resolve it quicker than I did .</p>\n<p>Cheers.</p>\n"}],"owner":{"account_id":5203431,"reputation":973,"user_id":4162134,"accept_rate":57,"display_name":"Irakli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14940,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1653302697,"creation_date":1456082271,"question_id":35540765,"body_markdown":"I have bought wildcard SSL from ssl2buy. installed it on my Tomcat 8  - server 2012 server, there I run my Java applications. After I insttaled the certificate I receive such error message : ERR_SSL_VERSION_OR_CIPHER_MISMATCH\r\n\r\nsupport tolled me: \r\n\r\n&quot;Cipher and protocol issue is not related to SSL certificate, its about protocol and cipher settings. You should update the correct cipher security settings.&quot;\r\n\r\nafter telling me this support go offline and my ticket that I opened is not answered :D So maybe someone here will be able to help me.\r\n\r\n\r\nthis steps I used to create jks file:\r\n\r\n    keytool -genkey -alias ge.shemo -keyalg RSA -keystore shemo_wildcard\r\n\r\n    keytool -certreq -keyalg RSA -alias ge.shemo -file irakli.csr -keystore shemo_wildcard\r\n\r\n    keytool -importcert -file shemo_Wildcart.cer -keystore shemo_wildCard.jks -alias &quot;ge.shemo&quot;\r\n\r\n\r\nCan someone please tell me what I have done wrong? or what I need to change?\r\n\r\n\r\n\r\n**UPDATED**\r\n\r\nI started everything from the begining:\r\n\r\nHere are the steps I followed.\r\n\r\n1. bought certificate from ssl2buy.com\r\n\r\n2. generated csr :\r\n\r\n        keytool -keysize 3096 -genkey -alias *.shemo.ge -keyalg RSA -keystore tomcat8.keystore\r\n\r\npass: TesT123\r\n\r\n    keytool -certreq -keyalg RSA -alias *.shemo.ge -file tomcat8.csr -keystore tomcat8.keystore\r\n\r\nGenerated csr:\r\n\r\n    -----BEGIN NEW CERTIFICATE REQUEST-----\r\n    MIID4TCCAkYCAQAwZjELMAkGA1UEBhMCR0UxEDAOBgNVBAgTB3RiaWxpc2kxEDAOBgNVBAcTB3Ri\r\n    aWxpc2kxDjAMBgNVBAoTBXNoZW1vMQ4wDAYDVQQLEwVzaGVtbzETMBEGA1UEAwwKKi5zaGVtby5n\r\n    ZTCCAaUwDQYJKoZIhvcNAQEBBQADggGSADCCAY0CggGEAODEEKcJJ7AccanmeIIpAAG2ES6hCAIM\r\n    eiFe7WfJtFydDvGAUS9DhKpwW1CtYT3i0vhmbYZxxGc5FK9bHYtHwPtV/Yhptqi+xzk1eFkZxcvo\r\n    7dLNQGo73PfqPE1ikHrlyTffYB+/JEbBglxsem3tfjPpnb+SoiJ4sq5RFNB/Zm45etnlpdEnsRxC\r\n    dAEIUXzCaCnfR6nB5547BMOqmqTJxwB/BRoYLDmZoloJ/PsPTMIruKo7SzMQAkCLZ0J+S24Ihfei\r\n    95Y7n5XRxYdWOKBS5LUWJXpWEkiGmfP0ombV0l7YW2Fb/nJEjASLSNSliTE2yXRV4P8lT2BZbVL6\r\n    8O5UMCexD6Xa33n4HMn94ZsfnQuZSHF0YWYK9No6Cs2Tc9F0OR3dQlOj1Xht9Q5vmg/6B/ooRaJB\r\n    XmyJRPAxOe1WGzsr2ElbGu7CS9XMVY7VU+5fi3ojRbU1m0d7gLG6QEmuaR7Ti+wT28LUL44ezVtY\r\n    bOGW3peXxgw/SKm18D4ue+ArWTgwFQIDAQABoDAwLgYJKoZIhvcNAQkOMSEwHzAdBgNVHQ4EFgQU\r\n    BDAEJE34muDqTKxiUm30R+ZJW8cwDQYJKoZIhvcNAQELBQADggGEAHmu5dxjHgyh2BwDuqTN7l5t\r\n    oa+lQBQxDZBtZpduAulm3a2Dt8qELy3VF3IZLa2bWrG/91zoZWJCgCLva9uq7Yq9aUtJau0CebnJ\r\n    eWZ2XjiwJ/6ZvO12Y9Nc9oISFF9mswdXLOm7EHAXVfttRG4itgsNnTVziX2nynQPwN/1k9F4MysD\r\n    dVeBRyoY1QctWW1rj3cuZdz+vs4x9uWd+Wew4+GPzicq4hkGBLhvARP1WP0yUoU9+s60l6oqqFPY\r\n    prY/245XcXCEbiqtlMrnKFJ0quokpIgmb03ak1AyqDNTy6L1z1mKl3suQd0VR8TzLDEYp8j+lq3t\r\n    usOhT4SDMp4fPRcBCfFlmjpvGZ2lWZ3ewadldxifbG/xC4mAyLHHj9Px+/sU44gQ6qOk2rhYGI16\r\n    nsaHTADSYUfKOCzcZB7kPbG6rZojVLL8dpRNCfJdZWZXPRjMHBQWkdGaU6MbG2LUOKp5oB540QKX\r\n    3I/QR6g8fgN4JCuzAjxxbxlG42y4N5hsWhnt2Q==\r\n    -----END NEW CERTIFICATE REQUEST-----\r\n\r\n\r\n\r\nReceived certificate via Email. Created file called it tomcat8.cer with fllowing code\r\n\r\nReceived certificate:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIFSzCCBDOgAwIBAgISESHnxxQ9Z9905TDRC/T5a1nPMA0GCSqGSIb3DQEBCwUA\r\n    MEwxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSIwIAYD\r\n    VQQDExlBbHBoYVNTTCBDQSAtIFNIQTI1NiAtIEcyMB4XDTE2MDIyMjE1NDIwNVoX\r\n    DTE3MDIyMDA3MzcyNFowODEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRh\r\n    dGVkMRMwEQYDVQQDDAoqLnNoZW1vLmdlMIIBpTANBgkqhkiG9w0BAQEFAAOCAZIA\r\n    MIIBjQKCAYQA4MQQpwknsBxxqeZ4gikAAbYRLqEIAgx6IV7tZ8m0XJ0O8YBRL0OE\r\n    qnBbUK1hPeLS+GZthnHEZzkUr1sdi0fA+1X9iGm2qL7HOTV4WRnFy+jt0s1Aajvc\r\n    9+o8TWKQeuXJN99gH78kRsGCXGx6be1+M+mdv5KiIniyrlEU0H9mbjl62eWl0Sex\r\n    HEJ0AQhRfMJoKd9HqcHnnjsEw6qapMnHAH8FGhgsOZmiWgn8+w9Mwiu4qjtLMxAC\r\n    QItnQn5LbgiF96L3ljufldHFh1Y4oFLktRYlelYSSIaZ8/SiZtXSXthbYVv+ckSM\r\n    BItI1KWJMTbJdFXg/yVPYFltUvrw7lQwJ7EPpdrfefgcyf3hmx+dC5lIcXRhZgr0\r\n    2joKzZNz0XQ5Hd1CU6PVeG31Dm+aD/oH+ihFokFebIlE8DE57VYbOyvYSVsa7sJL\r\n    1cxVjtVT7l+LeiNFtTWbR3uAsbpASa5pHtOL7BPbwtQvjh7NW1hs4Zbel5fGDD9I\r\n    qbXwPi574CtZODAVAgMBAAGjggG2MIIBsjAOBgNVHQ8BAf8EBAMCBaAwSQYDVR0g\r\n    BEIwQDA+BgZngQwBAgEwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly93d3cuZ2xvYmFs\r\n    c2lnbi5jb20vcmVwb3NpdG9yeS8wHwYDVR0RBBgwFoIKKi5zaGVtby5nZYIIc2hl\r\n    bW8uZ2UwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\r\n    PgYDVR0fBDcwNTAzoDGgL4YtaHR0cDovL2NybDIuYWxwaGFzc2wuY29tL2dzL2dz\r\n    YWxwaGFzaGEyZzIuY3JsMIGJBggrBgEFBQcBAQR9MHswQgYIKwYBBQUHMAKGNmh0\r\n    dHA6Ly9zZWN1cmUyLmFscGhhc3NsLmNvbS9jYWNlcnQvZ3NhbHBoYXNoYTJnMnIx\r\n    LmNydDA1BggrBgEFBQcwAYYpaHR0cDovL29jc3AyLmdsb2JhbHNpZ24uY29tL2dz\r\n    YWxwaGFzaGEyZzIwHQYDVR0OBBYEFAQwBCRN+Jrg6kysYlJt9EfmSVvHMB8GA1Ud\r\n    IwQYMBaAFPXN1TwIUPlqTzq3l9pWg+Zp0mj3MA0GCSqGSIb3DQEBCwUAA4IBAQB6\r\n    stii/rEwoUTd2dIqnwmYB6k6hH9Nn8VAsd1sLYNmK+LctDGLqc+uYyWcFbsDcWYA\r\n    aVd8OtxFLZWjubvj/RH+qQAonPNj2Q7zdk5KW05EaMtezGLPiPq1KT2Zw83xj20y\r\n    +lHRa+aZL7VoTgO0Ud86rpzKnVNHwG90k5HR9LtnsWNc56xzXOul/ws1d6gSGWi2\r\n    YOkMrPaDwJst84+hxPOv9ZHXJNos6QmX8eJXlQfIeRcFwc5/A3ghCvMO0Z3NdYdu\r\n    f7Lk92M/kPBz0aDgBSD9fH0lR1PcuPBDe972FwVieN7ynup2RVKPrpW13t1F2RmI\r\n    Xyk5F2qTpY588dTiMihC\r\n    -----END CERTIFICATE-----\r\n\r\nThen did following :\r\n\r\n    keytool -import -alias root -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\r\n\r\n    keytool -import -alias intermed -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\r\n\r\n    keytool -importcert -file tomcat8.cer -keystore twix.jks -alias *.shemo.ge\r\n\r\n\r\nHere is my connector:\r\n\r\n     Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; keystoreFile =&quot;C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\bin\\twix.jks&quot;  keystorePass=&quot;TesT123&quot;/&gt;\r\n\r\n\r\n\r\nAfter all I restarted the server and still receive this eror:\r\n\r\n    ERR_SSL_VERSION_OR_CIPHER_MISMATCH","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>I have bought wildcard SSL from ssl2buy. installed it on my Tomcat 8  - server 2012 server, there I run my Java applications. After I insttaled the certificate I receive such error message : ERR_SSL_VERSION_OR_CIPHER_MISMATCH</p>\n\n<p>support tolled me: </p>\n\n<p>\"Cipher and protocol issue is not related to SSL certificate, its about protocol and cipher settings. You should update the correct cipher security settings.\"</p>\n\n<p>after telling me this support go offline and my ticket that I opened is not answered :D So maybe someone here will be able to help me.</p>\n\n<p>this steps I used to create jks file:</p>\n\n<pre><code>keytool -genkey -alias ge.shemo -keyalg RSA -keystore shemo_wildcard\n\nkeytool -certreq -keyalg RSA -alias ge.shemo -file irakli.csr -keystore shemo_wildcard\n\nkeytool -importcert -file shemo_Wildcart.cer -keystore shemo_wildCard.jks -alias \"ge.shemo\"\n</code></pre>\n\n<p>Can someone please tell me what I have done wrong? or what I need to change?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>I started everything from the begining:</p>\n\n<p>Here are the steps I followed.</p>\n\n<ol>\n<li><p>bought certificate from ssl2buy.com</p></li>\n<li><p>generated csr :</p>\n\n<pre><code>keytool -keysize 3096 -genkey -alias *.shemo.ge -keyalg RSA -keystore tomcat8.keystore\n</code></pre></li>\n</ol>\n\n<p>pass: TesT123</p>\n\n<pre><code>keytool -certreq -keyalg RSA -alias *.shemo.ge -file tomcat8.csr -keystore tomcat8.keystore\n</code></pre>\n\n<p>Generated csr:</p>\n\n<pre><code>-----BEGIN NEW CERTIFICATE REQUEST-----\nMIID4TCCAkYCAQAwZjELMAkGA1UEBhMCR0UxEDAOBgNVBAgTB3RiaWxpc2kxEDAOBgNVBAcTB3Ri\naWxpc2kxDjAMBgNVBAoTBXNoZW1vMQ4wDAYDVQQLEwVzaGVtbzETMBEGA1UEAwwKKi5zaGVtby5n\nZTCCAaUwDQYJKoZIhvcNAQEBBQADggGSADCCAY0CggGEAODEEKcJJ7AccanmeIIpAAG2ES6hCAIM\neiFe7WfJtFydDvGAUS9DhKpwW1CtYT3i0vhmbYZxxGc5FK9bHYtHwPtV/Yhptqi+xzk1eFkZxcvo\n7dLNQGo73PfqPE1ikHrlyTffYB+/JEbBglxsem3tfjPpnb+SoiJ4sq5RFNB/Zm45etnlpdEnsRxC\ndAEIUXzCaCnfR6nB5547BMOqmqTJxwB/BRoYLDmZoloJ/PsPTMIruKo7SzMQAkCLZ0J+S24Ihfei\n95Y7n5XRxYdWOKBS5LUWJXpWEkiGmfP0ombV0l7YW2Fb/nJEjASLSNSliTE2yXRV4P8lT2BZbVL6\n8O5UMCexD6Xa33n4HMn94ZsfnQuZSHF0YWYK9No6Cs2Tc9F0OR3dQlOj1Xht9Q5vmg/6B/ooRaJB\nXmyJRPAxOe1WGzsr2ElbGu7CS9XMVY7VU+5fi3ojRbU1m0d7gLG6QEmuaR7Ti+wT28LUL44ezVtY\nbOGW3peXxgw/SKm18D4ue+ArWTgwFQIDAQABoDAwLgYJKoZIhvcNAQkOMSEwHzAdBgNVHQ4EFgQU\nBDAEJE34muDqTKxiUm30R+ZJW8cwDQYJKoZIhvcNAQELBQADggGEAHmu5dxjHgyh2BwDuqTN7l5t\noa+lQBQxDZBtZpduAulm3a2Dt8qELy3VF3IZLa2bWrG/91zoZWJCgCLva9uq7Yq9aUtJau0CebnJ\neWZ2XjiwJ/6ZvO12Y9Nc9oISFF9mswdXLOm7EHAXVfttRG4itgsNnTVziX2nynQPwN/1k9F4MysD\ndVeBRyoY1QctWW1rj3cuZdz+vs4x9uWd+Wew4+GPzicq4hkGBLhvARP1WP0yUoU9+s60l6oqqFPY\nprY/245XcXCEbiqtlMrnKFJ0quokpIgmb03ak1AyqDNTy6L1z1mKl3suQd0VR8TzLDEYp8j+lq3t\nusOhT4SDMp4fPRcBCfFlmjpvGZ2lWZ3ewadldxifbG/xC4mAyLHHj9Px+/sU44gQ6qOk2rhYGI16\nnsaHTADSYUfKOCzcZB7kPbG6rZojVLL8dpRNCfJdZWZXPRjMHBQWkdGaU6MbG2LUOKp5oB540QKX\n3I/QR6g8fgN4JCuzAjxxbxlG42y4N5hsWhnt2Q==\n-----END NEW CERTIFICATE REQUEST-----\n</code></pre>\n\n<p>Received certificate via Email. Created file called it tomcat8.cer with fllowing code</p>\n\n<p>Received certificate:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIFSzCCBDOgAwIBAgISESHnxxQ9Z9905TDRC/T5a1nPMA0GCSqGSIb3DQEBCwUA\nMEwxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSIwIAYD\nVQQDExlBbHBoYVNTTCBDQSAtIFNIQTI1NiAtIEcyMB4XDTE2MDIyMjE1NDIwNVoX\nDTE3MDIyMDA3MzcyNFowODEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRh\ndGVkMRMwEQYDVQQDDAoqLnNoZW1vLmdlMIIBpTANBgkqhkiG9w0BAQEFAAOCAZIA\nMIIBjQKCAYQA4MQQpwknsBxxqeZ4gikAAbYRLqEIAgx6IV7tZ8m0XJ0O8YBRL0OE\nqnBbUK1hPeLS+GZthnHEZzkUr1sdi0fA+1X9iGm2qL7HOTV4WRnFy+jt0s1Aajvc\n9+o8TWKQeuXJN99gH78kRsGCXGx6be1+M+mdv5KiIniyrlEU0H9mbjl62eWl0Sex\nHEJ0AQhRfMJoKd9HqcHnnjsEw6qapMnHAH8FGhgsOZmiWgn8+w9Mwiu4qjtLMxAC\nQItnQn5LbgiF96L3ljufldHFh1Y4oFLktRYlelYSSIaZ8/SiZtXSXthbYVv+ckSM\nBItI1KWJMTbJdFXg/yVPYFltUvrw7lQwJ7EPpdrfefgcyf3hmx+dC5lIcXRhZgr0\n2joKzZNz0XQ5Hd1CU6PVeG31Dm+aD/oH+ihFokFebIlE8DE57VYbOyvYSVsa7sJL\n1cxVjtVT7l+LeiNFtTWbR3uAsbpASa5pHtOL7BPbwtQvjh7NW1hs4Zbel5fGDD9I\nqbXwPi574CtZODAVAgMBAAGjggG2MIIBsjAOBgNVHQ8BAf8EBAMCBaAwSQYDVR0g\nBEIwQDA+BgZngQwBAgEwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly93d3cuZ2xvYmFs\nc2lnbi5jb20vcmVwb3NpdG9yeS8wHwYDVR0RBBgwFoIKKi5zaGVtby5nZYIIc2hl\nbW8uZ2UwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nPgYDVR0fBDcwNTAzoDGgL4YtaHR0cDovL2NybDIuYWxwaGFzc2wuY29tL2dzL2dz\nYWxwaGFzaGEyZzIuY3JsMIGJBggrBgEFBQcBAQR9MHswQgYIKwYBBQUHMAKGNmh0\ndHA6Ly9zZWN1cmUyLmFscGhhc3NsLmNvbS9jYWNlcnQvZ3NhbHBoYXNoYTJnMnIx\nLmNydDA1BggrBgEFBQcwAYYpaHR0cDovL29jc3AyLmdsb2JhbHNpZ24uY29tL2dz\nYWxwaGFzaGEyZzIwHQYDVR0OBBYEFAQwBCRN+Jrg6kysYlJt9EfmSVvHMB8GA1Ud\nIwQYMBaAFPXN1TwIUPlqTzq3l9pWg+Zp0mj3MA0GCSqGSIb3DQEBCwUAA4IBAQB6\nstii/rEwoUTd2dIqnwmYB6k6hH9Nn8VAsd1sLYNmK+LctDGLqc+uYyWcFbsDcWYA\naVd8OtxFLZWjubvj/RH+qQAonPNj2Q7zdk5KW05EaMtezGLPiPq1KT2Zw83xj20y\n+lHRa+aZL7VoTgO0Ud86rpzKnVNHwG90k5HR9LtnsWNc56xzXOul/ws1d6gSGWi2\nYOkMrPaDwJst84+hxPOv9ZHXJNos6QmX8eJXlQfIeRcFwc5/A3ghCvMO0Z3NdYdu\nf7Lk92M/kPBz0aDgBSD9fH0lR1PcuPBDe972FwVieN7ynup2RVKPrpW13t1F2RmI\nXyk5F2qTpY588dTiMihC\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>Then did following :</p>\n\n<pre><code>keytool -import -alias root -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\n\nkeytool -import -alias intermed -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\n\nkeytool -importcert -file tomcat8.cer -keystore twix.jks -alias *.shemo.ge\n</code></pre>\n\n<p>Here is my connector:</p>\n\n<pre><code> Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n           maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\n           clientAuth=\"false\" sslProtocol=\"TLS\" keystoreFile =\"C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\bin\\twix.jks\"  keystorePass=\"TesT123\"/&gt;\n</code></pre>\n\n<p>After all I restarted the server and still receive this eror:</p>\n\n<pre><code>ERR_SSL_VERSION_OR_CIPHER_MISMATCH\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653298364,"post_id":72343157,"comment_id":127808786,"body_markdown":"You are starting a thread which calls another method (please name the methods a bit different instead of changing the case) and ... what do you want to know? Are you facing any kind of issues, any reason to suppose there are concurrency issues?","body":"You are starting a thread which calls another method (please name the methods a bit different instead of changing the case) and ... what do you want to know? Are you facing any kind of issues, any reason to suppose there are concurrency issues?"},{"owner":{"account_id":1069438,"reputation":1413,"user_id":1069073,"accept_rate":96,"display_name":"Count"},"score":0,"creation_date":1653302613,"post_id":72343157,"comment_id":127810223,"body_markdown":"Yes ,Some of the messages are getting missed randomly","body":"Yes ,Some of the messages are getting missed randomly"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1653306085,"post_id":72343157,"comment_id":127811478,"body_markdown":"@Count -- that&#39;s not likely, and this is not the way to handle this. You should have another process in the same consumer group if you want concurrency. What you&#39;re doing is likely to get things processed out of order (unless that doesn&#39;t matter at all, in which case, fill your boots).","body":"@Count -- that&#39;s not likely, and this is not the way to handle this. You should have another process in the same consumer group if you want concurrency. What you&#39;re doing is likely to get things processed out of order (unless that doesn&#39;t matter at all, in which case, fill your boots)."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1653397258,"post_id":72343157,"comment_id":127838299,"body_markdown":"@Count from your abstract code, messages should not be skipped. Can you update your question with more specific code, and with description on where you have proof of skipped elements? Then we can dig deeper and explain why","body":"@Count from your abstract code, messages should not be skipped. Can you update your question with more specific code, and with description on where you have proof of skipped elements? Then we can dig deeper and explain why"}],"owner":{"account_id":1069438,"reputation":1413,"user_id":1069073,"accept_rate":96,"display_name":"Count"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653302485,"creation_date":1653278656,"question_id":72343157,"body_markdown":"In order to improve the performance of my Kafka listener I want to start a new thread inside my listener code \r\n\r\n    @KafkaListener(\r\n      topics = {&quot;#{&#39;${my-topic}&#39;.split(&#39;,&#39;)}&quot;},\r\n      groupId = &quot;${my-group}&quot;,\r\n      containerFactory = &quot;kafkaListenerContainerFactory1&quot;,\r\n      errorHandler = &quot;kafkaPaasErrorHandler&quot;)\r\n\r\n      public void processmessage(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord){\r\n           new Thread(()-&gt;{\r\n               processMessage(consumerRecord)\r\n            }).start();\r\n       }\r\n\r\n        private void process(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord) {\r\n        // business logic here\r\n        }\r\n\r\n Some of the messages are getting missed randomly, Is there a concurrency issue that is being overlooked here?\r\n","title":"Starting a new thread in each kafka Poll","body":"<p>In order to improve the performance of my Kafka listener I want to start a new thread inside my listener code</p>\n<pre><code>@KafkaListener(\n  topics = {&quot;#{'${my-topic}'.split(',')}&quot;},\n  groupId = &quot;${my-group}&quot;,\n  containerFactory = &quot;kafkaListenerContainerFactory1&quot;,\n  errorHandler = &quot;kafkaPaasErrorHandler&quot;)\n\n  public void processmessage(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord){\n       new Thread(()-&gt;{\n           processMessage(consumerRecord)\n        }).start();\n   }\n\n    private void process(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord) {\n    // business logic here\n    }\n</code></pre>\n<p>Some of the messages are getting missed randomly, Is there a concurrency issue that is being overlooked here?</p>\n"},{"tags":["java","reactjs","redux","enums"],"answers":[{"tags":[],"owner":{"account_id":16618417,"reputation":1,"user_id":12009434,"display_name":"safwan mansuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653302210,"creation_date":1653302210,"answer_id":72347134,"question_id":72346999,"body_markdown":"The steps that you mentioned is somehow standard, where things get updated in the backend database and before mounting your round component new data will be rendered. you can have a `variable` for round and when round changes you can use useEffect for this to fetch the new details.\r\n\r\nexample:\r\n\r\n```\r\nuseEffect(() =&gt; {\r\n  if (round) {\r\n   fetchRoundDetails(round); \r\n  }\r\n\r\n}, [round]);\r\n```\r\n\r\n","title":"How to handle changing valid values for UI and REST server","body":"<p>The steps that you mentioned is somehow standard, where things get updated in the backend database and before mounting your round component new data will be rendered. you can have a <code>variable</code> for round and when round changes you can use useEffect for this to fetch the new details.</p>\n<p>example:</p>\n<pre><code>useEffect(() =&gt; {\n  if (round) {\n   fetchRoundDetails(round); \n  }\n\n}, [round]);\n</code></pre>\n"}],"owner":{"account_id":8213792,"reputation":2663,"user_id":6357916,"accept_rate":33,"display_name":"MsA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653302210,"creation_date":1653301618,"question_id":72346999,"body_markdown":"I have a UI developed in react, redux and mui for new version of our app. This UI is used for some process made up of several rounds. A round goes for 6 months. Every round might involve some changes in dropdown values, checkboxes etc shown in UI. Consequently, the valid values stored in database can also change from round to round. In each round, the valid values are stored in the existing database of old version of app. In new version of app, we somehow need to read these values to decide how to render UI (drop down values, checkboxes etc). We are planning to write a REST end point, which we can run anytime (say at the beginning of each round). This REST end point will read from the existing database and create a single json capturing all information about the round and then store this JSON in the database. Before loading any component, react can fetch this JSON from database using another REST end point and then decide how to render the UI.\r\n \r\n**Q1.** Does this approach sounds OK? Or there any other standard / preferred approach to handle such scenarios?  \r\n\r\n**Q2.** We have written REST endpoints in spring boot. We used `Enums` for valid drop down list values (like for nationality, valid values can be Indian, Ukranian, Nepali etc.). But in above case, where valid values can change from round to round, how to define valid values at server side?","title":"How to handle changing valid values for UI and REST server","body":"<p>I have a UI developed in react, redux and mui for new version of our app. This UI is used for some process made up of several rounds. A round goes for 6 months. Every round might involve some changes in dropdown values, checkboxes etc shown in UI. Consequently, the valid values stored in database can also change from round to round. In each round, the valid values are stored in the existing database of old version of app. In new version of app, we somehow need to read these values to decide how to render UI (drop down values, checkboxes etc). We are planning to write a REST end point, which we can run anytime (say at the beginning of each round). This REST end point will read from the existing database and create a single json capturing all information about the round and then store this JSON in the database. Before loading any component, react can fetch this JSON from database using another REST end point and then decide how to render the UI.</p>\n<p><strong>Q1.</strong> Does this approach sounds OK? Or there any other standard / preferred approach to handle such scenarios?</p>\n<p><strong>Q2.</strong> We have written REST endpoints in spring boot. We used <code>Enums</code> for valid drop down list values (like for nationality, valid values can be Indian, Ukranian, Nepali etc.). But in above case, where valid values can change from round to round, how to define valid values at server side?</p>\n"},{"tags":["java","object","oop","inheritance","polymorphism"],"comments":[{"owner":{"account_id":22263134,"reputation":589,"user_id":16494303,"display_name":"Anton"},"score":0,"creation_date":1653119277,"post_id":72327619,"comment_id":127777380,"body_markdown":"maybe you should define if the Strings are public or private. you should also give MySub an constructor and inside of the constructor call the super method","body":"maybe you should define if the Strings are public or private. you should also give MySub an constructor and inside of the constructor call the super method"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653119324,"post_id":72327619,"comment_id":127777393,"body_markdown":"Does this answer your question? [Java Constructor and Field Initialization Order](https://stackoverflow.com/questions/10589828/java-constructor-and-field-initialization-order)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10589828/java-constructor-and-field-initialization-order\">Java Constructor and Field Initialization Order</a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653302139,"creation_date":1653119434,"answer_id":72327678,"question_id":72327619,"body_markdown":"The implicit constructor used by `MySub` looks like this:\r\n\r\n```lang-java\r\nclass MySub extends MySuper {\r\n\r\n  String str2;\r\n\r\n  MySub() {\r\n    super();\r\n    str2 = &quot;y&quot;;\r\n  }\r\n\r\n  // rest omitted for brevity\r\n}\r\n```\r\n\r\nWhile inline field initialization is technically moved into the constructor, that&#39;s not necessarily important to know in and of itself. The important part is that the super constructor is invoked **before** the subclass&#39;s fields are initialized. So, when the super constructor invokes the `myMethod()` method, which is overridden by the subclass, the `str2` field has not yet been assigned a non-default value. This results in your code printing out `null`.\r\n\r\nAnd this is why you should avoid invoking overridable methods in a constructor.","title":"What will be the output of this code and how?","body":"<p>The implicit constructor used by <code>MySub</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MySub extends MySuper {\n\n  String str2;\n\n  MySub() {\n    super();\n    str2 = &quot;y&quot;;\n  }\n\n  // rest omitted for brevity\n}\n</code></pre>\n<p>While inline field initialization is technically moved into the constructor, that's not necessarily important to know in and of itself. The important part is that the super constructor is invoked <strong>before</strong> the subclass's fields are initialized. So, when the super constructor invokes the <code>myMethod()</code> method, which is overridden by the subclass, the <code>str2</code> field has not yet been assigned a non-default value. This results in your code printing out <code>null</code>.</p>\n<p>And this is why you should avoid invoking overridable methods in a constructor.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653122314,"creation_date":1653120874,"answer_id":72327798,"question_id":72327619,"body_markdown":"This is due to Java dynamic method dispatch. \r\n\r\nIn your example. when you&#39;re instancing with the default constructor a `MySub` instance, this implicitly performs a call to the superclass&#39; constructor. Within the superclass&#39; constructor there is a call to `myMethod()` which is declared in `MySuper` and overridden in `MySub`. \r\n\r\nNow, even if `myMethod` is being called from the superclass&#39; constructor, which could fool us into thinking that the superclass&#39; version of `myMethod` is being called, this is not what is actually happening. \r\n\r\nThe instance that is performing all these calls is still a `MySub` instance; therefore the `myMethod` implementation that is being invoked by Java is the closest implementation to `MySub`, i.e. the `myMethod` overridden by `MySub`.\r\n\r\nSo, if in this case the `myMethod` version that is being invoked in the superclass&#39; constructor is the one overridden by `MySub`, why it&#39;s not printing `str2` value? This is because, although method calls are dynamically dispatched, fields are statically dispatched. In Java, only methods can override their base class&#39; methods. Child class&#39; fields can only shadow base class&#39; fields (with the same name). So Java already knows at compile time which fields are being used and &lt;b&gt;only&lt;/b&gt; at run time which method implementations are being invoked. This means that when you&#39;re using a field in a child class, you can be sure that the one you&#39;re using is always the one you&#39;re referring to.\r\n\r\nGetting back to your example, since `myMethod` is being invoked from the superclass&#39; constructor, at this point we&#39;re still initializing the parent object, the child class&#39; fields have not been initialized yet, they still contain their default values (the default value for references is null). So, in your dynamically dispatched `myMethod` we are printing the value of the statically dispatched `str2` which is still at null because the child class initialization has not happened yet. ","title":"What will be the output of this code and how?","body":"<p>This is due to Java dynamic method dispatch.</p>\n<p>In your example. when you're instancing with the default constructor a <code>MySub</code> instance, this implicitly performs a call to the superclass' constructor. Within the superclass' constructor there is a call to <code>myMethod()</code> which is declared in <code>MySuper</code> and overridden in <code>MySub</code>.</p>\n<p>Now, even if <code>myMethod</code> is being called from the superclass' constructor, which could fool us into thinking that the superclass' version of <code>myMethod</code> is being called, this is not what is actually happening.</p>\n<p>The instance that is performing all these calls is still a <code>MySub</code> instance; therefore the <code>myMethod</code> implementation that is being invoked by Java is the closest implementation to <code>MySub</code>, i.e. the <code>myMethod</code> overridden by <code>MySub</code>.</p>\n<p>So, if in this case the <code>myMethod</code> version that is being invoked in the superclass' constructor is the one overridden by <code>MySub</code>, why it's not printing <code>str2</code> value? This is because, although method calls are dynamically dispatched, fields are statically dispatched. In Java, only methods can override their base class' methods. Child class' fields can only shadow base class' fields (with the same name). So Java already knows at compile time which fields are being used and <b>only</b> at run time which method implementations are being invoked. This means that when you're using a field in a child class, you can be sure that the one you're using is always the one you're referring to.</p>\n<p>Getting back to your example, since <code>myMethod</code> is being invoked from the superclass' constructor, at this point we're still initializing the parent object, the child class' fields have not been initialized yet, they still contain their default values (the default value for references is null). So, in your dynamically dispatched <code>myMethod</code> we are printing the value of the statically dispatched <code>str2</code> which is still at null because the child class initialization has not happened yet.</p>\n"},{"tags":[],"owner":{"account_id":22227241,"reputation":107,"user_id":16589374,"display_name":"Raushan Kumar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653143961,"creation_date":1653142765,"answer_id":72330399,"question_id":72327619,"body_markdown":"**Minor Mistakes:**\r\n\r\n 1. *null* output is coming because of extending the *MySuper* class and extending *MySuper* class is not required because the default class object can be created anywhere in a package without extending that.\r\n 2. You have not called the method *myMethod()* after creating the object *mySub*.That&#39;s why it is not printing the output as *y*.\r\n \r\n**Solution**: \r\nTry the code below, it is working smoothly.\r\n\r\n   \r\n\r\n     class MySuper {\r\n            String strl = &quot;x&quot;;\r\n            public MySuper() {\r\n                myMethod();\r\n            }\r\n            void myMethod() {\r\n                System.out.print(strl);\r\n            }\r\n        }\r\n        // class MySub extends MySuper {\r\n            class MySub {\r\n            String str2 = &quot;y&quot;;\r\n            void myMethod() {\r\n                System.out.print(str2);\r\n            }\r\n            public static void main(String[] args) {\r\n                MySub mySub = new MySub();\r\n               // extra line added\r\n                mySub.myMethod();\r\n                MySuper ms=new MySuper();\r\n            }\r\n        }   \r\n\r\n","title":"What will be the output of this code and how?","body":"<p><strong>Minor Mistakes:</strong></p>\n<ol>\n<li><em>null</em> output is coming because of extending the <em>MySuper</em> class and extending <em>MySuper</em> class is not required because the default class object can be created anywhere in a package without extending that.</li>\n<li>You have not called the method <em>myMethod()</em> after creating the object <em>mySub</em>.That's why it is not printing the output as <em>y</em>.</li>\n</ol>\n<p><strong>Solution</strong>:\nTry the code below, it is working smoothly.</p>\n<pre><code> class MySuper {\n        String strl = &quot;x&quot;;\n        public MySuper() {\n            myMethod();\n        }\n        void myMethod() {\n            System.out.print(strl);\n        }\n    }\n    // class MySub extends MySuper {\n        class MySub {\n        String str2 = &quot;y&quot;;\n        void myMethod() {\n            System.out.print(str2);\n        }\n        public static void main(String[] args) {\n            MySub mySub = new MySub();\n           // extra line added\n            mySub.myMethod();\n            MySuper ms=new MySuper();\n        }\n    }   \n</code></pre>\n"}],"owner":{"account_id":25349091,"reputation":31,"user_id":19166226,"display_name":"Saurabh Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1653302139,"creation_date":1653118896,"question_id":72327619,"body_markdown":"  **Java code-MySuper class is the parent class and is extended by MySub class.I am creating the object  MySub mySub = new MySub().I thought the output would be &quot;y&quot; but when I tried to run the code it was showing *null* as an output **\r\n\r\n```java\r\nclass MySuper {\r\n    String strl = &quot;x&quot;;\r\n\r\n    public MySuper() {\r\n        myMethod();\r\n    }\r\n\r\n    void myMethod() {\r\n        System.out.print(strl);\r\n    }\r\n}\r\n\r\nclass MySub extends MySuper {\r\n    String str2 = &quot;y&quot;;\r\n\r\n    void myMethod() {\r\n        System.out.print(str2);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MySub mySub = new MySub();\r\n    }\r\n}   \r\n```","title":"What will be the output of this code and how?","body":"<p>**Java code-MySuper class is the parent class and is extended by MySub class.I am creating the object  MySub mySub = new MySub().I thought the output would be &quot;y&quot; but when I tried to run the code it was showing <em>null</em> as an output **</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MySuper {\n    String strl = &quot;x&quot;;\n\n    public MySuper() {\n        myMethod();\n    }\n\n    void myMethod() {\n        System.out.print(strl);\n    }\n}\n\nclass MySub extends MySuper {\n    String str2 = &quot;y&quot;;\n\n    void myMethod() {\n        System.out.print(str2);\n    }\n\n    public static void main(String[] args) {\n\n        MySub mySub = new MySub();\n    }\n}   \n</code></pre>\n"},{"tags":["java","collections","sum"],"comments":[{"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"score":2,"creation_date":1652862279,"post_id":72284687,"comment_id":127706555,"body_markdown":"Can you please show what you already have? Also please explain what do you mean by &quot;Amount of each group&quot;? What exactly is the group? You also mentioned collections, but I don&#39;t see any in you example.","body":"Can you please show what you already have? Also please explain what do you mean by &quot;Amount of each group&quot;? What exactly is the group? You also mentioned collections, but I don&#39;t see any in you example."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652862655,"creation_date":1652862655,"answer_id":72285709,"question_id":72284687,"body_markdown":"Supposing that your instances are contained within a `List` and that within your class there is a method to return the chained names, you could use the collection stream and group by your instances with the terminal operation `collect(Collectors.toMap())`.\r\n\r\nThe chained value can be used as the key, the `BigDecimal` value as the value corresponding to the key and finally the collision cases can be handled by summing the `BigDecimal` values.\r\n\r\nSince you didn&#39;t provide the code of the class you&#39;re referring to, I declared a class named `MyClass` containing the 3 `String` fields and the `BigDecimal`. Here is a snippet of the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;MyClass&gt; list = new ArrayList&lt;&gt;(List.of(\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;, BigDecimal.valueOf(1.11))\r\n        ));\r\n\r\n        Map&lt;String, BigDecimal&gt; mapRes = list.stream()\r\n                .collect(Collectors.toMap(mc -&gt; mc.chainNames(), mc -&gt; mc.getAmount(), (decimal1, decimal2) -&gt; decimal1.add(decimal2)));\r\n\r\n        System.out.println(mapRes);\r\n    }\r\n}\r\n```\r\n\r\nTest class implementation (`MyClass`):\r\n\r\n```\r\nclass MyClass {\r\n    private String name1;\r\n    private String name2;\r\n    private String name3;\r\n    private BigDecimal amount;\r\n\r\n    public MyClass(String name1, String name2, String name3, BigDecimal amount) {\r\n        this.name1 = name1;\r\n        this.name2 = name2;\r\n        this.name3 = name3;\r\n        this.amount = amount;\r\n    }\r\n\r\n    /* ... your implementation ...*/\r\n\r\n    public BigDecimal getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public String chainNames() {\r\n        StringBuilder strBld = new StringBuilder(name1);\r\n        strBld.append(name2);\r\n        strBld.append(name3);\r\n        return strBld.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere there is also a link to test the code:\r\n\r\nhttps://ideone.com/IL1ZQ8","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<p>Supposing that your instances are contained within a <code>List</code> and that within your class there is a method to return the chained names, you could use the collection stream and group by your instances with the terminal operation <code>collect(Collectors.toMap())</code>.</p>\n<p>The chained value can be used as the key, the <code>BigDecimal</code> value as the value corresponding to the key and finally the collision cases can be handled by summing the <code>BigDecimal</code> values.</p>\n<p>Since you didn't provide the code of the class you're referring to, I declared a class named <code>MyClass</code> containing the 3 <code>String</code> fields and the <code>BigDecimal</code>. Here is a snippet of the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;MyClass&gt; list = new ArrayList&lt;&gt;(List.of(\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;, BigDecimal.valueOf(1.11))\n        ));\n\n        Map&lt;String, BigDecimal&gt; mapRes = list.stream()\n                .collect(Collectors.toMap(mc -&gt; mc.chainNames(), mc -&gt; mc.getAmount(), (decimal1, decimal2) -&gt; decimal1.add(decimal2)));\n\n        System.out.println(mapRes);\n    }\n}\n</code></pre>\n<p>Test class implementation (<code>MyClass</code>):</p>\n<pre><code>class MyClass {\n    private String name1;\n    private String name2;\n    private String name3;\n    private BigDecimal amount;\n\n    public MyClass(String name1, String name2, String name3, BigDecimal amount) {\n        this.name1 = name1;\n        this.name2 = name2;\n        this.name3 = name3;\n        this.amount = amount;\n    }\n\n    /* ... your implementation ...*/\n\n    public BigDecimal getAmount() {\n        return amount;\n    }\n\n    public String chainNames() {\n        StringBuilder strBld = new StringBuilder(name1);\n        strBld.append(name2);\n        strBld.append(name3);\n        return strBld.toString();\n    }\n}\n</code></pre>\n<p>Here there is also a link to test the code:</p>\n<p><a href=\"https://ideone.com/IL1ZQ8\" rel=\"nofollow noreferrer\">https://ideone.com/IL1ZQ8</a></p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653301929,"creation_date":1653301929,"answer_id":72347069,"question_id":72284687,"body_markdown":"1. To concatenate multiple strings, there is method [`String::join`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)), the first argument is a delimiter which can be an empty string `String.join(&quot;&quot;, name1, name2, name3)`\r\n2. To group by some values in a list and summarize a certain value, Stream API should be used with `Collectors.groupingBy` + [`Collectors.reducing`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-U-java.util.function.Function-java.util.function.BinaryOperator-)\r\n\r\nAssuming that the given class is implemented as a [record](https://docs.oracle.com/en/java/javase/14/language/records.html) provided since Java 14, the following implementation is offered:\r\n```java\r\npublic static void main(String[] args) {\r\n    record MyObj(String name1, String name2, String name3, BigDecimal amount) {\r\n        public String fullName() {\r\n            return String.join(&quot;&quot;, name1, name2, name3);\r\n        }\r\n    };\r\n    \r\n    List&lt;MyObj&gt; list = List.of(\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;,  BigDecimal.valueOf(1.11))\r\n    );\r\n\r\n    Map&lt;String, BigDecimal&gt; mapRes = list.stream()\r\n            .collect(Collectors.groupingBy(\r\n                MyObj::fullName, \r\n                Collectors.reducing(BigDecimal.ZERO, MyObj::amount, BigDecimal::add)\r\n            ));\r\n\r\n    System.out.println(mapRes);\r\n}\r\n```\r\nOutput:\r\n```java\r\n{IamJohn=1.11, IamSarah=8.89, IamFrank=9.87}\r\n```","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<ol>\n<li>To concatenate multiple strings, there is method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\"><code>String::join</code></a>, the first argument is a delimiter which can be an empty string <code>String.join(&quot;&quot;, name1, name2, name3)</code></li>\n<li>To group by some values in a list and summarize a certain value, Stream API should be used with <code>Collectors.groupingBy</code> + <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-U-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Collectors.reducing</code></a></li>\n</ol>\n<p>Assuming that the given class is implemented as a <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">record</a> provided since Java 14, the following implementation is offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    record MyObj(String name1, String name2, String name3, BigDecimal amount) {\n        public String fullName() {\n            return String.join(&quot;&quot;, name1, name2, name3);\n        }\n    };\n    \n    List&lt;MyObj&gt; list = List.of(\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;,  BigDecimal.valueOf(1.11))\n    );\n\n    Map&lt;String, BigDecimal&gt; mapRes = list.stream()\n            .collect(Collectors.groupingBy(\n                MyObj::fullName, \n                Collectors.reducing(BigDecimal.ZERO, MyObj::amount, BigDecimal::add)\n            ));\n\n    System.out.println(mapRes);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{IamJohn=1.11, IamSarah=8.89, IamFrank=9.87}\n</code></pre>\n"}],"owner":{"account_id":25321421,"reputation":21,"user_id":19142637,"display_name":"aoisayuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72285709,"answer_count":2,"score":0,"last_activity_date":1653301929,"creation_date":1652858171,"question_id":72284687,"body_markdown":"Imagine I have the following fields:\r\n\r\n    &gt;  String name1\r\n    &gt;  String name2\r\n    &gt;  String name3\r\n    &gt;  BigDecimal amount\r\n\r\nI want to group them by using one `String` which is the concatenation of name1, name2 and name3.\r\n\r\nFor example:\r\n\r\n    name1 = hi\r\n    name2 = am\r\n    name3 = sarah\r\n\r\n    String newString = hiamsarah\r\n\r\nThen, after I manage to group the objects by the chained `String`, I want to get the overall sum of the `amount` field for each group.\r\n\r\nIs this possible?\r\n\r\nI&#39;ve tried any possible way, but I just can&#39;t get through it. Also, I&#39;m kind of new to collections.","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<p>Imagine I have the following fields:</p>\n<pre><code>&gt;  String name1\n&gt;  String name2\n&gt;  String name3\n&gt;  BigDecimal amount\n</code></pre>\n<p>I want to group them by using one <code>String</code> which is the concatenation of name1, name2 and name3.</p>\n<p>For example:</p>\n<pre><code>name1 = hi\nname2 = am\nname3 = sarah\n\nString newString = hiamsarah\n</code></pre>\n<p>Then, after I manage to group the objects by the chained <code>String</code>, I want to get the overall sum of the <code>amount</code> field for each group.</p>\n<p>Is this possible?</p>\n<p>I've tried any possible way, but I just can't get through it. Also, I'm kind of new to collections.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1653301424,"post_id":72346915,"comment_id":127809800,"body_markdown":"Volatile gives you a *guarantee* but lack of a guarantee doesn&#39;t mean it won&#39;t happen. Absence of evidence is not evidence of absence.","body":"Volatile gives you a <i>guarantee</i> but lack of a guarantee doesn&#39;t mean it won&#39;t happen. Absence of evidence is not evidence of absence."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653301703,"post_id":72346915,"comment_id":127809894,"body_markdown":"@Michael without `volatile` then it for sure wont happen.","body":"@Michael without <code>volatile</code> then it for sure wont happen."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653301888,"post_id":72346915,"comment_id":127809961,"body_markdown":"No. Lack of volatile doesn&#39;t mean anything will happen &quot;for sure&quot;. It may work or may not.","body":"No. Lack of volatile doesn&#39;t mean anything will happen &quot;for sure&quot;. It may work or may not."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653302197,"post_id":72346915,"comment_id":127810076,"body_markdown":"writing code needs a bit more than *may work or may not*, like write volatile sync and flush, read volatile reload.","body":"writing code needs a bit more than <i>may work or may not</i>, like write volatile sync and flush, read volatile reload."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653302998,"post_id":72346915,"comment_id":127810366,"body_markdown":"@Michael *I never said...*, by reading your comment, I don&#39;t know what should I think. I still don&#39;t understand why with and without volatile that code have difference.","body":"@Michael <i>I never said...</i>, by reading your comment, I don&#39;t know what should I think. I still don&#39;t understand why with and without volatile that code have difference."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653304073,"post_id":72346915,"comment_id":127810777,"body_markdown":"Volatile -&gt; guaranteed visibility of writes between threads. No volatile -&gt; **no guarantee** of visibility. Writes *may still be visible anyway*. Your question was &quot;*what makes reader thread read value change in list*&quot;? My explanation should answer that.","body":"Volatile -&gt; guaranteed visibility of writes between threads. No volatile -&gt; <b>no guarantee</b> of visibility. Writes <i>may still be visible anyway</i>. Your question was &quot;<i>what makes reader thread read value change in list</i>&quot;? My explanation should answer that."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653328313,"post_id":72346915,"comment_id":127820415,"body_markdown":"Re, &quot;without volatile then it for sure wont happen.&quot; The Java Language Specification, does not say that thread B will never see what thread A wrote if there is no synchronization between them. It only says that there is no guarantee _if or when_ thread B will see it.","body":"Re, &quot;without volatile then it for sure wont happen.&quot; The Java Language Specification, does not say that thread B will never see what thread A wrote if there is no synchronization between them. It only says that there is no guarantee <i>if or when</i> thread B will see it."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301552,"creation_date":1653301490,"answer_id":72346972,"question_id":72346915,"body_markdown":"Publishing to main memory is a [fallacy][1]. This is not how modern CPU&#39;s work and hence a broken mental model. \r\n\r\nEven with the flag being volatile, you do not have a happens-before edge between writing the list and reading the list and hence your code has a data race and is officially broken.\r\n\r\n\r\n  [1]: https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit","title":"Java basics what thread 1 writes can be read in thread 2 without writing a volatile variable and why","body":"<p>Publishing to main memory is a <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit\" rel=\"nofollow noreferrer\">fallacy</a>. This is not how modern CPU's work and hence a broken mental model.</p>\n<p>Even with the flag being volatile, you do not have a happens-before edge between writing the list and reading the list and hence your code has a data race and is officially broken.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653301552,"creation_date":1653301270,"question_id":72346915,"body_markdown":"The following code, in writer thread, there is no `volatile` variable write operation, like `flag = `, but reader thread reads `list.set(0, 1)`. In my mind, writer thread make variable `list` seeable in the other thread, only if it is written to main memory, for example, by using a `volatile` write operation. While in the following code, there is no such operation in writer thread, what makes reader thread read value change in list? JDK 8.\r\n\r\nMoreover, I found that `System.out.print` also makes `list` change seeable in reader threat. If `volatile` removed from variable `flag` or no `System.out.print`, then reader threat could not see `list` change. (It seems to be this)\r\n\r\n```\r\n    private static List&lt;Integer&gt; list;\r\n    private static volatile boolean flag;\r\n    static {\r\n        list = new ArrayList&lt;Integer&gt;(20);\r\n        list.add(0);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        new Thread(()-&gt;{ // writer thread\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            list.set(0,1);\r\n\r\n            System.out.println(&quot;set 1&quot;);\r\n        }).start();\r\n        new Thread(()-&gt;{ // reader thread\r\n\r\n            while (list.get(0) == 0){\r\n                // System.out.println(&quot;&quot;);\r\n                boolean v = flag;\r\n            }\r\n            System.out.println(&quot;end&quot;);\r\n            latch.countDown();\r\n\r\n        }).start();\r\n        latch.await();\r\n    }\r\n```","title":"Java basics what thread 1 writes can be read in thread 2 without writing a volatile variable and why","body":"<p>The following code, in writer thread, there is no <code>volatile</code> variable write operation, like <code>flag = </code>, but reader thread reads <code>list.set(0, 1)</code>. In my mind, writer thread make variable <code>list</code> seeable in the other thread, only if it is written to main memory, for example, by using a <code>volatile</code> write operation. While in the following code, there is no such operation in writer thread, what makes reader thread read value change in list? JDK 8.</p>\n<p>Moreover, I found that <code>System.out.print</code> also makes <code>list</code> change seeable in reader threat. If <code>volatile</code> removed from variable <code>flag</code> or no <code>System.out.print</code>, then reader threat could not see <code>list</code> change. (It seems to be this)</p>\n<pre><code>    private static List&lt;Integer&gt; list;\n    private static volatile boolean flag;\n    static {\n        list = new ArrayList&lt;Integer&gt;(20);\n        list.add(0);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        new Thread(()-&gt;{ // writer thread\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            list.set(0,1);\n\n            System.out.println(&quot;set 1&quot;);\n        }).start();\n        new Thread(()-&gt;{ // reader thread\n\n            while (list.get(0) == 0){\n                // System.out.println(&quot;&quot;);\n                boolean v = flag;\n            }\n            System.out.println(&quot;end&quot;);\n            latch.countDown();\n\n        }).start();\n        latch.await();\n    }\n</code></pre>\n"},{"tags":["java","variables","global-variables"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1653299106,"post_id":72346414,"comment_id":127809028,"body_markdown":"You can&#39;t. A local variable cannot be accessed out of its scope. See [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java)","body":"You can&#39;t. A local variable cannot be accessed out of its scope. See <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a>"},{"owner":{"account_id":6388911,"reputation":315,"user_id":4955812,"display_name":"Vishal choudhary"},"score":2,"creation_date":1653299106,"post_id":72346414,"comment_id":127809029,"body_markdown":"you can&#39;t access a local variable outside the scope.","body":"you can&#39;t access a local variable outside the scope."},{"owner":{"account_id":25353261,"reputation":13,"user_id":19169791,"display_name":"mcz"},"score":0,"creation_date":1653299507,"post_id":72346414,"comment_id":127809152,"body_markdown":"Thank you guys.I understood .What can I do for this problem ? Should I define method or something.\nIf we are not in the scope, we do not use it right ? So how can  I solve this problem ?","body":"Thank you guys.I understood .What can I do for this problem ? Should I define method or something. If we are not in the scope, we do not use it right ? So how can  I solve this problem ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1653299555,"post_id":72346414,"comment_id":127809173,"body_markdown":"if you are not in the same scope, the variable doesn&#39;t exist. declare a class level variable, or something similar","body":"if you are not in the same scope, the variable doesn&#39;t exist. declare a class level variable, or something similar"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653300478,"creation_date":1653300078,"answer_id":72346653,"question_id":72346414,"body_markdown":"Design-wise, global variables (static fields in Java) are usually not a great idea because it causes a tight coupling between classes, making it harder to make changes to the system later on.\r\n\r\nThat said, to do what you describe you would do this:\r\n\r\n    public class YourClass {\r\n\r\n        // class field\r\n        public static boolean checkWord;\r\n\r\n        // instance (object) field\r\n        private TextField textField = new TextField(&quot;Your text field&quot;);\r\n\r\n        public void yourMethod() {            \r\n            textField.setOnAction(event -&gt; {      \r\n                // ...      \r\n                checkWord = true;\r\n                // ...\r\n            });\r\n            System.out.println(checkWord);\r\n        }\r\n\r\n        public static void iDoNotKnowAboutInstances() {\r\n            // OK\r\n            System.out.println(checkWord);\r\n            // Compile error - cannot refer to instance field in static context\r\n            System.out.println(textField);\r\n        }        \r\n    }\r\n\r\nMeanwhile, in another class:\r\n\r\n    public class YourOtherClass {\r\n\r\n        public void yourOtherMethod() {\r\n            System.out.println(YourClass.checkWord);\r\n        }\r\n    }\r\n\r\nA static field exists at class level. It is initialized when the class is loaded by the class loader for the first time, in this case it will be initialized as false (the default for booleans). Then, when `yourMethod` is executed and an event is handled, the field `checkWord` is set to `true`. It can be referred to directly from within the same class. From another class it can be referred to by prefixing the class name, as shown in `YourOtherClass`.\r\n\r\nEDIT: Not that you can refer to static fields from anywhere (as long as their visibility qualifier allows it) but you only refer to instance field via an actual instance. So for example from the static method `iDoNotKnowAboutInstances` you cannot refer to instance field `textField`. You often run into this when you create a simple java application with the entry method `public static void main(String[] args)`. If you then add instance fields to the class you will first need to create an instance of the class using `YourClass instance = new YourClass()` to be able to read and write those fields.","title":"How can I access local variable in main code block?","body":"<p>Design-wise, global variables (static fields in Java) are usually not a great idea because it causes a tight coupling between classes, making it harder to make changes to the system later on.</p>\n<p>That said, to do what you describe you would do this:</p>\n<pre><code>public class YourClass {\n\n    // class field\n    public static boolean checkWord;\n\n    // instance (object) field\n    private TextField textField = new TextField(&quot;Your text field&quot;);\n\n    public void yourMethod() {            \n        textField.setOnAction(event -&gt; {      \n            // ...      \n            checkWord = true;\n            // ...\n        });\n        System.out.println(checkWord);\n    }\n\n    public static void iDoNotKnowAboutInstances() {\n        // OK\n        System.out.println(checkWord);\n        // Compile error - cannot refer to instance field in static context\n        System.out.println(textField);\n    }        \n}\n</code></pre>\n<p>Meanwhile, in another class:</p>\n<pre><code>public class YourOtherClass {\n\n    public void yourOtherMethod() {\n        System.out.println(YourClass.checkWord);\n    }\n}\n</code></pre>\n<p>A static field exists at class level. It is initialized when the class is loaded by the class loader for the first time, in this case it will be initialized as false (the default for booleans). Then, when <code>yourMethod</code> is executed and an event is handled, the field <code>checkWord</code> is set to <code>true</code>. It can be referred to directly from within the same class. From another class it can be referred to by prefixing the class name, as shown in <code>YourOtherClass</code>.</p>\n<p>EDIT: Not that you can refer to static fields from anywhere (as long as their visibility qualifier allows it) but you only refer to instance field via an actual instance. So for example from the static method <code>iDoNotKnowAboutInstances</code> you cannot refer to instance field <code>textField</code>. You often run into this when you create a simple java application with the entry method <code>public static void main(String[] args)</code>. If you then add instance fields to the class you will first need to create an instance of the class using <code>YourClass instance = new YourClass()</code> to be able to read and write those fields.</p>\n"}],"owner":{"account_id":25353261,"reputation":13,"user_id":19169791,"display_name":"mcz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72346653,"answer_count":1,"score":0,"last_activity_date":1653301347,"creation_date":1653298979,"question_id":72346414,"body_markdown":"I want to access the **checkWord** variable in the main code block. I don&#39;t know how to access it globally. How can I access a local variable in main in Java?\r\n\r\n&gt; This is example code blocks.\r\n\r\n```\r\ntextField.setOnAction(event -&gt; {\r\n            try{\r\n                ArrayList&lt;String&gt; wordList = wordListReader();\r\n                boolean checkWord = false;\r\n                for(String word:wordList){\r\n                    if(word.equals(textField.getText())){\r\n                        checkWord = true;\r\n\r\n                    }\r\n\r\n                }\r\n                System.out.println(checkWord);\r\n            }catch (FileNotFoundException ex){\r\n                ex.printStackTrace();\r\n            }\r\n        });\r\n// Error\r\nSystem.out.println(checkWord);\r\n```","title":"How can I access local variable in main code block?","body":"<p>I want to access the <strong>checkWord</strong> variable in the main code block. I don't know how to access it globally. How can I access a local variable in main in Java?</p>\n<blockquote>\n<p>This is example code blocks.</p>\n</blockquote>\n<pre><code>textField.setOnAction(event -&gt; {\n            try{\n                ArrayList&lt;String&gt; wordList = wordListReader();\n                boolean checkWord = false;\n                for(String word:wordList){\n                    if(word.equals(textField.getText())){\n                        checkWord = true;\n\n                    }\n\n                }\n                System.out.println(checkWord);\n            }catch (FileNotFoundException ex){\n                ex.printStackTrace();\n            }\n        });\n// Error\nSystem.out.println(checkWord);\n</code></pre>\n"},{"tags":["java","arrays","object"],"answers":[{"tags":[],"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301300,"creation_date":1653301300,"answer_id":72346928,"question_id":72346840,"body_markdown":"you wrote \r\n\r\n    int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n    SATotalOne = += SASortedArray.cumulativePositive\r\n    }\r\n    System.out.println(&quot;SATotalOne)\r\n\r\nwhen I think it should be \r\n\r\n        int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n    SATotalOne += SASortedArray[i].cumulativePositive;  \r\n    }\r\n    System.out.println(&quot;SATotalOne);\r\n\r\n","title":"How to carry objects through different arrays","body":"<p>you wrote</p>\n<pre><code>int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\nSATotalOne = += SASortedArray.cumulativePositive\n}\nSystem.out.println(&quot;SATotalOne)\n</code></pre>\n<p>when I think it should be</p>\n<pre><code>    int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\nSATotalOne += SASortedArray[i].cumulativePositive;  \n}\nSystem.out.println(&quot;SATotalOne);\n</code></pre>\n"}],"owner":{"account_id":25361808,"reputation":11,"user_id":19176930,"display_name":"Clamont04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653301300,"creation_date":1653300916,"question_id":72346840,"body_markdown":"I have this issue where I have an array of objects called covidrecordArray[], and I need to select certain objects from this array. Here is my object:\r\n\r\n`Public Class CovidRecord`\r\n\r\n    public Country(String pIso3, String pContinent, String pCountryName, String Nuts, Double pLatitude, Double pLongitude)\r\n\r\nI also have my constructors and my setters and getters already done.\r\nI have 1777 objects, with some of these being under SA. This is my selector \r\n\r\n`public class Main`\r\n    \r\n    public static void Main(String[] args)\r\n\r\n    {\r\n\r\n    String target = &quot;SA&quot;;\r\n    String[] SASortedArray = new String[107]    // this 107 is the manually found number of objects with SA\r\n    for(int j = 0; j &lt; SASortedArray.length; j++){\r\n         for(int i = 0; i &lt; 1777; i ++) {    // 1777 is length of my array of objects\r\n              if (covidrecordArray[i].Country.continent == target) {\r\n                     SASortedArray[j] = String.valueOf(covidrecordArray[i]);\r\n                     return;\r\n              }\r\n          }\r\n    }\r\n\r\n When I try to access SASortedArray at a specific object point, it goes red and does not work\r\n\r\n    int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n        SATotalOne = += SASortedArray.cumulativePositive // the .cumulativePositive goes red\r\n    }\r\n    System.out.println(&quot;SATotalOne)\r\n\r\nThe .cumulativePositive goes red and I don&#39;t know why. Am I doing something wrong?\r\n","title":"How to carry objects through different arrays","body":"<p>I have this issue where I have an array of objects called covidrecordArray[], and I need to select certain objects from this array. Here is my object:</p>\n<p><code>Public Class CovidRecord</code></p>\n<pre><code>public Country(String pIso3, String pContinent, String pCountryName, String Nuts, Double pLatitude, Double pLongitude)\n</code></pre>\n<p>I also have my constructors and my setters and getters already done.\nI have 1777 objects, with some of these being under SA. This is my selector</p>\n<p><code>public class Main</code></p>\n<pre><code>public static void Main(String[] args)\n\n{\n\nString target = &quot;SA&quot;;\nString[] SASortedArray = new String[107]    // this 107 is the manually found number of objects with SA\nfor(int j = 0; j &lt; SASortedArray.length; j++){\n     for(int i = 0; i &lt; 1777; i ++) {    // 1777 is length of my array of objects\n          if (covidrecordArray[i].Country.continent == target) {\n                 SASortedArray[j] = String.valueOf(covidrecordArray[i]);\n                 return;\n          }\n      }\n}\n</code></pre>\n<p>When I try to access SASortedArray at a specific object point, it goes red and does not work</p>\n<pre><code>int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\n    SATotalOne = += SASortedArray.cumulativePositive // the .cumulativePositive goes red\n}\nSystem.out.println(&quot;SATotalOne)\n</code></pre>\n<p>The .cumulativePositive goes red and I don't know why. Am I doing something wrong?</p>\n"},{"tags":["java","elasticsearch","keystore"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1601734364,"post_id":64184941,"comment_id":113500602,"body_markdown":"As far as I know, `Keystore` is read only at startup &amp; the values are cleared from memory after getting processed, except for few values ( Like : Passwords for external services which are retained in memory by the components which leverages them), but the `elasticsearch core` does not retain them at all.","body":"As far as I know, <code>Keystore</code> is read only at startup &amp; the values are cleared from memory after getting processed, except for few values ( Like : Passwords for external services which are retained in memory by the components which leverages them), but the <code>elasticsearch core</code> does not retain them at all."}],"answers":[{"tags":[],"owner":{"account_id":10377124,"reputation":1597,"user_id":7653022,"accept_rate":75,"display_name":"froblesmartin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300933,"creation_date":1653300933,"answer_id":72346846,"question_id":64184941,"body_markdown":"As of https://github.com/elastic/elasticsearch/pull/76693, which was included in versions 7.16.0 and 8.0.0-beta1, the elasticsearch-keystore CLI now includes the command `show` which displays the value of a single secure setting from the keystore.","title":"Can&#39;t read value with elasticsearch-keystore command","body":"<p>As of <a href=\"https://github.com/elastic/elasticsearch/pull/76693\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/pull/76693</a>, which was included in versions 7.16.0 and 8.0.0-beta1, the elasticsearch-keystore CLI now includes the command <code>show</code> which displays the value of a single secure setting from the keystore.</p>\n"}],"owner":{"account_id":305047,"reputation":22750,"user_id":614944,"accept_rate":73,"display_name":"daisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653300933,"creation_date":1601732728,"question_id":64184941,"body_markdown":"I have a elasticsearch.keystore file, which is not password-protected. Now I&#39;m trying to read its contents, but [according to this document](https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-keystore.html) it only support listing the keys:\r\n\r\n```\r\n./bin/elasticsearch-keystore list\r\n```\r\n\r\nThere&#39;s no `get` operation for the key printed, what should I do to print the value?","title":"Can&#39;t read value with elasticsearch-keystore command","body":"<p>I have a elasticsearch.keystore file, which is not password-protected. Now I'm trying to read its contents, but <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-keystore.html\" rel=\"nofollow noreferrer\">according to this document</a> it only support listing the keys:</p>\n<pre><code>./bin/elasticsearch-keystore list\n</code></pre>\n<p>There's no <code>get</code> operation for the key printed, what should I do to print the value?</p>\n"},{"tags":["java","android","dagger-2","dagger-hilt"],"comments":[{"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"score":0,"creation_date":1652419070,"post_id":72224270,"comment_id":127606049,"body_markdown":"Are you using `Proguard`? Usually crashes which are not reproduced in the dev builds and show up in production are usually proguard issues. Create a prod minified build, enable debug logging (disable debugging), and run the app on your phone. You should see the crash reproduce.","body":"Are you using <code>Proguard</code>? Usually crashes which are not reproduced in the dev builds and show up in production are usually proguard issues. Create a prod minified build, enable debug logging (disable debugging), and run the app on your phone. You should see the crash reproduce."},{"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"score":0,"creation_date":1652428454,"post_id":72224270,"comment_id":127608438,"body_markdown":"@UdayadityaBarua Yes, I used `Proguard` in my project, but I didn&#39;t add any extra `Proguard` config when I started to use hilt.","body":"@UdayadityaBarua Yes, I used <code>Proguard</code> in my project, but I didn&#39;t add any extra <code>Proguard</code> config when I started to use hilt."},{"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"score":0,"creation_date":1652428867,"post_id":72224270,"comment_id":127608577,"body_markdown":"Also, I tested both prod and dev builds, none of them can reproduce the case on my side.\nIn my Google Play Console&#39;s statistics, this crash occupies 2% of total crash. It seems not happen for everyone, and currently only happen for Android 9 to Android 12 users.","body":"Also, I tested both prod and dev builds, none of them can reproduce the case on my side. In my Google Play Console&#39;s statistics, this crash occupies 2% of total crash. It seems not happen for everyone, and currently only happen for Android 9 to Android 12 users."},{"owner":{"account_id":6617866,"reputation":2097,"user_id":5110536,"accept_rate":11,"display_name":"Usman Rana"},"score":0,"creation_date":1662124904,"post_id":72224270,"comment_id":129939958,"body_markdown":"facing exactly same issue in FirebaseMessagingService. Not reproducible but can see rare case reports at playstore.","body":"facing exactly same issue in FirebaseMessagingService. Not reproducible but can see rare case reports at playstore."}],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652416765,"creation_date":1652416765,"answer_id":72224524,"question_id":72224270,"body_markdown":"You also need to declare ```@AndroidEntryPoint``` in your parent activity of your ```FirstEntryPage``` Fragment Activity.","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>You also need to declare <code>@AndroidEntryPoint</code> in your parent activity of your <code>FirstEntryPage</code> Fragment Activity.</p>\n"},{"tags":[],"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653300252,"creation_date":1653300252,"answer_id":72346694,"question_id":72224270,"body_markdown":"After searching answer in the Internet, I found the answer in the dagger Github https://github.com/google/dagger/issues/2798. I also tested by myself and there is no more such crash report in my Google Play Console after related code changes.\r\n\r\nHere is the short answer:  \r\nWhen using hilt, you cannot use **Android Auto Backup** (`android:allowBackup=&quot;true&quot;` without `android:backupAgent`), otherwise your app will crash.\r\n\r\nIf your app needs backup, with hilt, you must use **Key/Value Backup (Android Backup Service)** instead of **Android Auto Backup**.  \r\n\r\nThat is, add these (and with your implementation of MyBackupAgent) in your AndroidManifest.xml\r\n+ `android:allowBackup=&quot;true&quot;` \r\n+ `android:backupAgent=&quot;MyBackupAgent&quot;` \r\n+ `android:fullBackupOnly=&quot;false&quot;`\r\n\r\nIf you app does not need backup, with hilt, just set `android:allowBackup=&quot;false&quot;` in your AndroidManifest.xml\r\n\r\n\r\n","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>After searching answer in the Internet, I found the answer in the dagger Github <a href=\"https://github.com/google/dagger/issues/2798\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/2798</a>. I also tested by myself and there is no more such crash report in my Google Play Console after related code changes.</p>\n<p>Here is the short answer:<br />\nWhen using hilt, you cannot use <strong>Android Auto Backup</strong> (<code>android:allowBackup=&quot;true&quot;</code> without <code>android:backupAgent</code>), otherwise your app will crash.</p>\n<p>If your app needs backup, with hilt, you must use <strong>Key/Value Backup (Android Backup Service)</strong> instead of <strong>Android Auto Backup</strong>.</p>\n<p>That is, add these (and with your implementation of MyBackupAgent) in your AndroidManifest.xml</p>\n<ul>\n<li><code>android:allowBackup=&quot;true&quot;</code></li>\n<li><code>android:backupAgent=&quot;MyBackupAgent&quot;</code></li>\n<li><code>android:fullBackupOnly=&quot;false&quot;</code></li>\n</ul>\n<p>If you app does not need backup, with hilt, just set <code>android:allowBackup=&quot;false&quot;</code> in your AndroidManifest.xml</p>\n"}],"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653300252,"creation_date":1652414156,"question_id":72224270,"body_markdown":"I have a few real devices and also tested with Android studio&#39;s emulator and did not find any similar crash.  \r\n\r\nMy problem is that I published the app and received crash reports from real users.\r\n\r\nGoogle Play Console Crash Report\r\n&gt; Type\r\njava.lang.RuntimeException  \r\n&gt; ...  \r\n&gt; Caused by: java.lang.IllegalStateException:   \r\n&gt;  at dagger.hilt.android.internal.managers.ActivityComponentManager.createComponent (ActivityComponentManager.java:76)  \r\n&gt;  at dagger.hilt.android.internal.managers.ActivityComponentManager.generatedComponent (ActivityComponentManager.java:66)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage.generatedComponent (Hilt_FirstEntryPage.java:45)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage.inject (Hilt_FirstEntryPage.java:67)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage$1.onContextAvailable (Hilt_FirstEntryPage.java:38)  \r\n&gt;  at androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable (ContextAwareHelper.java:99)  \r\n&gt;  at androidx.activity.ComponentActivity.onCreate (ComponentActivity.java:322)  \r\n&gt;  at androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:249)  \r\n&gt;  at MyApp.FirstEntryPage.onCreate (FirstPage.java:68)  \r\n&gt;  at android.app.Activity.performCreate (Activity.java:8207)  \r\n&gt; ...  \r\n\r\n\r\nActivityComponentManager.java:76\r\n\r\n    Hilt Activity must be attached to an @HiltAndroidApp Application. Did you forget to specify your Application&#39;s class name in your  \r\n     manifest&#39;s &lt;application /&gt;&#39;s android:name attribute?\r\n\r\nI did check other stack overflow questions, I already did add my custom application into Manifest and run successfully in my testing devices.\r\n\r\nMy app has only one module and only one application, and also some several **ContentProvider**, **BroadcastReceiver**, **AppWidgetProvider**, **WorkManager**, **JobIntentService**, not sure they could affect the normal initialization of application to lead the crash.\r\n\r\nFor the FirstEntryPage activity, I did not inject any things. It is very simple activity page just like Hello World example. Therefore there could not be any component conflict. In addition, FirstEntryPage activity can be opened by **PendingIntent** from **BroadcastReceiver** and also notification.\r\n\r\nThe previous version did not apply hilt, and this version is the first time to bring hilt to real users.\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApplication&quot;\r\n\r\nMyApplication.java\r\n\r\n    @HiltAndroidApp\r\n    public final class MyApplication extends MultiDexApplication implements Configuration.Provider\r\n\r\nFirstEntryPage.java\r\n\r\n    @AndroidEntryPoint\r\n    public final class FirstEntryPage extends FragmentActivity implements OnClickListener, DialogInterface.OnClickListener\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n       classpath &#39;com.google.dagger:hilt-android-gradle-plugin:2.40.1&#39;\r\n    }\r\n\r\n    apply plugin: &#39;dagger.hilt.android.plugin&#39;  \r\n\r\n    dependencies {\r\n       implementation &#39;androidx.hilt:hilt-work:1.0.0&#39;\r\n       implementation &#39;com.google.dagger:hilt-android:2.38.1&#39;\r\n       kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n       kapt &#39;com.google.dagger:hilt-compiler:2.38.1&#39;\r\n    }\r\n","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>I have a few real devices and also tested with Android studio's emulator and did not find any similar crash.</p>\n<p>My problem is that I published the app and received crash reports from real users.</p>\n<p>Google Play Console Crash Report</p>\n<blockquote>\n<p>Type\njava.lang.RuntimeException<br />\n...<br />\nCaused by: java.lang.IllegalStateException:<br />\nat dagger.hilt.android.internal.managers.ActivityComponentManager.createComponent (ActivityComponentManager.java:76)<br />\nat dagger.hilt.android.internal.managers.ActivityComponentManager.generatedComponent (ActivityComponentManager.java:66)<br />\nat MyApp.Hilt_FirstEntryPage.generatedComponent (Hilt_FirstEntryPage.java:45)<br />\nat MyApp.Hilt_FirstEntryPage.inject (Hilt_FirstEntryPage.java:67)<br />\nat MyApp.Hilt_FirstEntryPage$1.onContextAvailable (Hilt_FirstEntryPage.java:38)<br />\nat androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable (ContextAwareHelper.java:99)<br />\nat androidx.activity.ComponentActivity.onCreate (ComponentActivity.java:322)<br />\nat androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:249)<br />\nat MyApp.FirstEntryPage.onCreate (FirstPage.java:68)<br />\nat android.app.Activity.performCreate (Activity.java:8207)<br />\n...</p>\n</blockquote>\n<p>ActivityComponentManager.java:76</p>\n<pre><code>Hilt Activity must be attached to an @HiltAndroidApp Application. Did you forget to specify your Application's class name in your  \n manifest's &lt;application /&gt;'s android:name attribute?\n</code></pre>\n<p>I did check other stack overflow questions, I already did add my custom application into Manifest and run successfully in my testing devices.</p>\n<p>My app has only one module and only one application, and also some several <strong>ContentProvider</strong>, <strong>BroadcastReceiver</strong>, <strong>AppWidgetProvider</strong>, <strong>WorkManager</strong>, <strong>JobIntentService</strong>, not sure they could affect the normal initialization of application to lead the crash.</p>\n<p>For the FirstEntryPage activity, I did not inject any things. It is very simple activity page just like Hello World example. Therefore there could not be any component conflict. In addition, FirstEntryPage activity can be opened by <strong>PendingIntent</strong> from <strong>BroadcastReceiver</strong> and also notification.</p>\n<p>The previous version did not apply hilt, and this version is the first time to bring hilt to real users.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;application\n    android:name=&quot;.MyApplication&quot;\n</code></pre>\n<p>MyApplication.java</p>\n<pre><code>@HiltAndroidApp\npublic final class MyApplication extends MultiDexApplication implements Configuration.Provider\n</code></pre>\n<p>FirstEntryPage.java</p>\n<pre><code>@AndroidEntryPoint\npublic final class FirstEntryPage extends FragmentActivity implements OnClickListener, DialogInterface.OnClickListener\n</code></pre>\n<p>build.gradle</p>\n<pre><code>dependencies {\n   classpath 'com.google.dagger:hilt-android-gradle-plugin:2.40.1'\n}\n\napply plugin: 'dagger.hilt.android.plugin'  \n\ndependencies {\n   implementation 'androidx.hilt:hilt-work:1.0.0'\n   implementation 'com.google.dagger:hilt-android:2.38.1'\n   kapt 'androidx.hilt:hilt-compiler:1.0.0'\n   kapt 'com.google.dagger:hilt-compiler:2.38.1'\n}\n</code></pre>\n"},{"tags":["java","synchronization","parallelstream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653297886,"post_id":72345155,"comment_id":127808574,"body_markdown":"I&#39;m not sure what you&#39;re after here. The synchronization is unnecessary. The parallel stream you have will _not_ result in multiple threads calling `functionA` on the same `Attribute` _instance_ at the same time. Each `functionA` call happens in its own thread.","body":"I&#39;m not sure what you&#39;re after here. The synchronization is unnecessary. The parallel stream you have will <i>not</i> result in multiple threads calling <code>functionA</code> on the same <code>Attribute</code> <i>instance</i> at the same time. Each <code>functionA</code> call happens in its own thread."},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1653298830,"post_id":72345155,"comment_id":127808923,"body_markdown":"@Slaw In my truly code, functionB is send data to client using socket, so when different Attribute call functionB, it will upset my data sequence in socket.","body":"@Slaw In my truly code, functionB is send data to client using socket, so when different Attribute call functionB, it will upset my data sequence in socket."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653299741,"post_id":72345155,"comment_id":127809232,"body_markdown":"If you have to send data serially, then why execute the code in parallel?","body":"If you have to send data serially, then why execute the code in parallel?"},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1653302472,"post_id":72345155,"comment_id":127810173,"body_markdown":"@Slaw I think it can speedup my code except functionB.","body":"@Slaw I think it can speedup my code except functionB."}],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300087,"creation_date":1653300087,"answer_id":72346658,"question_id":72345155,"body_markdown":"Can you use ExecutorService like below. \r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n    public void functionA() {\r\n        synchronized (this) {\r\n            functionB();\r\n        }\r\n        executorService.submit(this::functionC);\r\n        executorService.submit(this::functionD);\r\n    }\r\n```\r\nNot exactly elegant, but it will interleave between C and D after B is completed.","title":"How to synchronized one method when parallelStream call in Java?","body":"<p>Can you use ExecutorService like below.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    public void functionA() {\n        synchronized (this) {\n            functionB();\n        }\n        executorService.submit(this::functionC);\n        executorService.submit(this::functionD);\n    }\n</code></pre>\n<p>Not exactly elegant, but it will interleave between C and D after B is completed.</p>\n"}],"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653300087,"creation_date":1653293120,"question_id":72345155,"body_markdown":"I want to Synchronize functionB. I mean, when some Attriute object call functionA, there are always just run one of object&#39;s functionB in the same time. But functionC and functionD in each object can do it after functionB finished by themselves.\r\n\r\nI tried to add synchronized in function B, but it seems like not work.\r\n\r\nThis is Attribute class:\r\n\r\n    public class Attribute {\r\n        private String name;\r\n\r\n        Attribute(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public void functionA() {\r\n            synchronized (this) {\r\n                functionB();\r\n            }\r\n            functionC();\r\n            functionD();\r\n        }\r\n\r\n        private void functionB() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionB.&quot;);\r\n            }\r\n        }\r\n\r\n        private void functionC() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionC.&quot;);\r\n            }\r\n        }\r\n\r\n        private void functionD() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionD.&quot;);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException {    \r\n            ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                 attributes.add(new Attribute(&quot;No.&quot; + i));\r\n            }\r\n            attributes.parallelStream().forEach(Attribute::functionA);\r\n        }\r\n    }\r\n\r\n    \r\n\r\nAfter execute above code, the console show:\r\n\r\n    No.3 0 time functionB.\r\n    No.4 0 time functionB.\r\n    No.2 0 time functionB.\r\n    No.2 1 time functionB.\r\n    No.2 2 time functionB.\r\n    No.1 0 time functionB.\r\n    No.1 1 time functionB.\r\n    ...\r\n\r\nBut I expect it:\r\n\r\n    No.3 0 time functionB.\r\n    No.3 1 time functionB.\r\n    No.3 2 time functionB.\r\n    No.3 3 time functionB.\r\n    No.3 4 time functionB.\r\n    No.1 0 time functionB.\r\n    No.1 1 time functionB.\r\n    No.1 2 time functionB.\r\n    No.1 3 time functionB.\r\n    No.1 4 time functionB.\r\n    No.4 0 time functionB.\r\n    No.4 1 time functionB.\r\n    ...\r\n    No.1 1 time functionD.\r\n    No.3 3 time functionC.\r\n    No.2 3 time functionD.\r\n    No.1 2 time functionD.\r\n    No.4 2 time functionC.","title":"How to synchronized one method when parallelStream call in Java?","body":"<p>I want to Synchronize functionB. I mean, when some Attriute object call functionA, there are always just run one of object's functionB in the same time. But functionC and functionD in each object can do it after functionB finished by themselves.</p>\n<p>I tried to add synchronized in function B, but it seems like not work.</p>\n<p>This is Attribute class:</p>\n<pre><code>public class Attribute {\n    private String name;\n\n    Attribute(String name) {\n        this.name = name;\n    }\n\n    public void functionA() {\n        synchronized (this) {\n            functionB();\n        }\n        functionC();\n        functionD();\n    }\n\n    private void functionB() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionB.&quot;);\n        }\n    }\n\n    private void functionC() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionC.&quot;);\n        }\n    }\n\n    private void functionD() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionD.&quot;);\n        }\n    }\n    \n    public static void main(String[] args) throws IOException {    \n        ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 5; i++) {\n             attributes.add(new Attribute(&quot;No.&quot; + i));\n        }\n        attributes.parallelStream().forEach(Attribute::functionA);\n    }\n}\n</code></pre>\n<p>After execute above code, the console show:</p>\n<pre><code>No.3 0 time functionB.\nNo.4 0 time functionB.\nNo.2 0 time functionB.\nNo.2 1 time functionB.\nNo.2 2 time functionB.\nNo.1 0 time functionB.\nNo.1 1 time functionB.\n...\n</code></pre>\n<p>But I expect it:</p>\n<pre><code>No.3 0 time functionB.\nNo.3 1 time functionB.\nNo.3 2 time functionB.\nNo.3 3 time functionB.\nNo.3 4 time functionB.\nNo.1 0 time functionB.\nNo.1 1 time functionB.\nNo.1 2 time functionB.\nNo.1 3 time functionB.\nNo.1 4 time functionB.\nNo.4 0 time functionB.\nNo.4 1 time functionB.\n...\nNo.1 1 time functionD.\nNo.3 3 time functionC.\nNo.2 3 time functionD.\nNo.1 2 time functionD.\nNo.4 2 time functionC.\n</code></pre>\n"},{"tags":["java","android","arrays","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653300026,"creation_date":1653293951,"answer_id":72345320,"question_id":72345169,"body_markdown":"Use a `RandomAccessFile` in order to seek to the offset to start copying from.\r\n\r\nFor example:\r\n```java\r\nfinal int bufSize = 1024; // the buffer size for copying\r\nbyte[] buf = new byte[bufSize];\r\n\r\nfinal long start = 10000L; // start offset at source\r\nfinal long end = 15000L;   // end (non-inclusive) offset at source\r\ntry (\r\n    RandomAccessFile in = new RandomAccessFile(&quot;input.bin&quot;, &quot;r&quot;);\r\n    OutputStream out = new FileOutputStream(&quot;output.bin&quot;)) \r\n{\r\n      in.seek(start);\r\n      long remaining = end - start;\r\n      do {\r\n         int n = (remaining &lt; bufSize)? ((int) remaining) : bufSize;\r\n         int nread = in.read(buf, 0, n);\r\n         if (nread &lt; 0)\r\n             break; // EOF\r\n         remaining -= nread;\r\n         out.write(buf, 0, nread);\r\n      } while (remaining &gt; 0);\r\n}\r\n```","title":"read a File in hex byteArray and write part of that array to another File - java android","body":"<p>Use a <code>RandomAccessFile</code> in order to seek to the offset to start copying from.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int bufSize = 1024; // the buffer size for copying\nbyte[] buf = new byte[bufSize];\n\nfinal long start = 10000L; // start offset at source\nfinal long end = 15000L;   // end (non-inclusive) offset at source\ntry (\n    RandomAccessFile in = new RandomAccessFile(&quot;input.bin&quot;, &quot;r&quot;);\n    OutputStream out = new FileOutputStream(&quot;output.bin&quot;)) \n{\n      in.seek(start);\n      long remaining = end - start;\n      do {\n         int n = (remaining &lt; bufSize)? ((int) remaining) : bufSize;\n         int nread = in.read(buf, 0, n);\n         if (nread &lt; 0)\n             break; // EOF\n         remaining -= nread;\n         out.write(buf, 0, nread);\n      } while (remaining &gt; 0);\n}\n</code></pre>\n"}],"owner":{"account_id":18435778,"reputation":49,"user_id":13429664,"display_name":"Hamid Habibi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72345320,"answer_count":1,"score":-1,"last_activity_date":1653300026,"creation_date":1653293183,"question_id":72345169,"body_markdown":"I have a 200kb file and I have to read it in bytes, and then write part of this byteArray (from index 90000 to 165000) to another file. How can I accomplish this.&lt;br&gt;\r\n\r\n``` \r\nFile file1 = new File(getExternalStorageDirectory(), &quot;file1.raw&quot;); //the 200kb file\r\ntry {\r\n         File.createTempFile(&quot;file2&quot;, &quot;mp3&quot;, getCacheDir()); //empty file that needs to get filled with part of the byte array from file1\r\n        } catch (IOException ignored) {}\r\n\r\n```","title":"read a File in hex byteArray and write part of that array to another File - java android","body":"<p>I have a 200kb file and I have to read it in bytes, and then write part of this byteArray (from index 90000 to 165000) to another file. How can I accomplish this.<br></p>\n<pre><code>File file1 = new File(getExternalStorageDirectory(), &quot;file1.raw&quot;); //the 200kb file\ntry {\n         File.createTempFile(&quot;file2&quot;, &quot;mp3&quot;, getCacheDir()); //empty file that needs to get filled with part of the byte array from file1\n        } catch (IOException ignored) {}\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653307542,"post_id":72346627,"comment_id":127812020,"body_markdown":"Where did you call &quot;item.getName&quot; in your page 2 ?\nyour error appeared cause this line right ? &quot;Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();&quot;","body":"Where did you call &quot;item.getName&quot; in your page 2 ? your error appeared cause this line right ? &quot;Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();&quot;"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653310994,"post_id":72346627,"comment_id":127813475,"body_markdown":"Hi @LouisChabert, thanks for your response,\nI don&#39;t have any Toast on my second page, but I can guarantee you that when I use it, it shows the toast with no problem.\nNow on page 1, whenever I try to invoke item.getName() on a Toast, or anywhere for that matter, it will give me this NullPointerException.","body":"Hi @LouisChabert, thanks for your response, I don&#39;t have any Toast on my second page, but I can guarantee you that when I use it, it shows the toast with no problem. Now on page 1, whenever I try to invoke item.getName() on a Toast, or anywhere for that matter, it will give me this NullPointerException."},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653311266,"post_id":72346627,"comment_id":127813601,"body_markdown":"Ok well, item is an element of view right ? does it have an ID ?","body":"Ok well, item is an element of view right ? does it have an ID ?"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653311504,"post_id":72346627,"comment_id":127813698,"body_markdown":"Excuse my ignorance, I don&#39;t quite understand what you mean by element, but I can tell you that, item is an object of the class ExerciseItemFinal, which is made of 3 atributes: Name, Weight, Reps. all the items are declared outside the OnCreateView or OnCreate methods, but inicialized within the previous code blocks I showed you. Edit: Apart from the last activity, where I declare and inicialize the variable immediately.","body":"Excuse my ignorance, I don&#39;t quite understand what you mean by element, but I can tell you that, item is an object of the class ExerciseItemFinal, which is made of 3 atributes: Name, Weight, Reps. all the items are declared outside the OnCreateView or OnCreate methods, but inicialized within the previous code blocks I showed you. Edit: Apart from the last activity, where I declare and inicialize the variable immediately."},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653312044,"post_id":72346627,"comment_id":127813960,"body_markdown":"It&#39;s my fault I didn&#39;t really understand what &quot;item&quot; meant, unfortunately I&#39;m not sure I can help you, I upvoted, I hope someone else can help you","body":"It&#39;s my fault I didn&#39;t really understand what &quot;item&quot; meant, unfortunately I&#39;m not sure I can help you, I upvoted, I hope someone else can help you"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653312078,"post_id":72346627,"comment_id":127813976,"body_markdown":"I appreciate it!","body":"I appreciate it!"}],"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653299930,"creation_date":1653299930,"question_id":72346627,"body_markdown":"Good morning lads,\r\nGot myself quite the confusing problem, atleast for myself:\r\n\r\nI have a fragment (page 1) which contains a button that opens an activity (page 2) using activityLauncher so it returns a result, and within that same activity, a button for the exact same purposes (page 3). \r\n\r\n**profile_fragment.java** (page 1) + including the intent launch\r\n-\r\n```\r\n    ActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n\r\n                    if (result.getResultCode() == 111) {\r\n                        Intent intent = result.getData();\r\n\r\n                        if (intent != null) {\r\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;siu&quot;);\r\n                            Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    );\r\n```\r\n```\r\n        addButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), ExerciseCategoryChooser.class);\r\n                activityLauncher.launch(intent);\r\n            }\r\n        });\r\n```\r\n**ExerciseCategoryChooser.java** (page 2) including the intent launch\r\n-\r\n```\r\n        ActivityResultLauncher&lt;Intent&gt; activityLauncher2 = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n\r\n                    if (result.getResultCode() == 011) {\r\n                        Intent intent = result.getData();\r\n\r\n                        if (intent != null) {\r\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;code123&quot;);\r\n                            Intent i = new Intent();\r\n                            i.putExtra(&quot;siu&quot;, item);\r\n                            setResult(111, intent);\r\n                            finish();\r\n\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    );\r\n```\r\n```\r\n    @Override\r\n    public void onItemClick(int position) {\r\n\r\n        Intent intent = new Intent(ExerciseCategoryChooser.this, ConfirmAdditionExercise.class);\r\n\r\n        activityLauncher2.launch(intent);\r\n\r\n    }\r\n```\r\n**ConfirmAdditionExercise.java** (page 3) \r\n-\r\n```\r\n        bSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ExerciseItemFinal item = new ExerciseItemFinal(&quot;Siuu&quot;, &quot;10.5&quot;, &quot;5&quot;);\r\n\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;code123&quot;, item);\r\n                setResult(011, intent);\r\n                finish();\r\n\r\n            }\r\n        });\r\n```\r\n\r\nThe problem with my code is that I am able to return the result of page 3 to page 2, so inside of page 2 I can use the object to do whatever I need, but returning the same object from page 2 to page 1, just won&#39;t work for some reason, whenever I try to use &quot;item.getName()&quot; it gives me a NullPointerException (which doesn&#39;t happen on the 2nd page):\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.poop123, PID: 23789\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.example.poop123.ExerciseItemFinal.getName()&#39; on a null object reference\r\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:66)\r\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:57)\r\n        at androidx.activity.result.ActivityResultRegistry$1.onStateChanged(ActivityResultRegistry.java:148)\r\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\r\n        at androidx.lifecycle.LifecycleRegistry.forwardPass(LifecycleRegistry.java:265)\r\n        at androidx.lifecycle.LifecycleRegistry.sync(LifecycleRegistry.java:307)\r\n        at androidx.lifecycle.LifecycleRegistry.moveToState(LifecycleRegistry.java:148)\r\n        at androidx.lifecycle.LifecycleRegistry.handleLifecycleEvent(LifecycleRegistry.java:134)\r\n        at androidx.fragment.app.Fragment.performStart(Fragment.java:3026)\r\n        at androidx.fragment.app.FragmentStateManager.start(FragmentStateManager.java:589)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:300)\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\r\n        at androidx.fragment.app.FragmentManager.dispatchStart(FragmentManager.java:3079)\r\n        at androidx.fragment.app.FragmentController.dispatchStart(FragmentController.java:262)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:510)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1433)\r\n        at android.app.Activity.performStart(Activity.java:7923)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3332)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2044)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:224)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7562)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n```\r\n\r\nI have all classes using ```Implements Serializable``` even if they don&#39;t require, and most confusing of all, I have a separate process for a different fragment which is basically the same thing, the only thing changing is the type of object being passed, but working.\r\n\r\nI would be very embarressed if the solution is simple and obvious...","title":"Returning activityLauncher result from activity to activity to fragment in Android Studio","body":"<p>Good morning lads,\nGot myself quite the confusing problem, atleast for myself:</p>\n<p>I have a fragment (page 1) which contains a button that opens an activity (page 2) using activityLauncher so it returns a result, and within that same activity, a button for the exact same purposes (page 3).</p>\n<h2><strong>profile_fragment.java</strong> (page 1) + including the intent launch</h2>\n<pre><code>    ActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n\n                    if (result.getResultCode() == 111) {\n                        Intent intent = result.getData();\n\n                        if (intent != null) {\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;siu&quot;);\n                            Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n            }\n    );\n</code></pre>\n<pre><code>        addButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(getActivity(), ExerciseCategoryChooser.class);\n                activityLauncher.launch(intent);\n            }\n        });\n</code></pre>\n<h2><strong>ExerciseCategoryChooser.java</strong> (page 2) including the intent launch</h2>\n<pre><code>        ActivityResultLauncher&lt;Intent&gt; activityLauncher2 = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n\n                    if (result.getResultCode() == 011) {\n                        Intent intent = result.getData();\n\n                        if (intent != null) {\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;code123&quot;);\n                            Intent i = new Intent();\n                            i.putExtra(&quot;siu&quot;, item);\n                            setResult(111, intent);\n                            finish();\n\n\n                        }\n                    }\n                }\n            }\n    );\n</code></pre>\n<pre><code>    @Override\n    public void onItemClick(int position) {\n\n        Intent intent = new Intent(ExerciseCategoryChooser.this, ConfirmAdditionExercise.class);\n\n        activityLauncher2.launch(intent);\n\n    }\n</code></pre>\n<h2><strong>ConfirmAdditionExercise.java</strong> (page 3)</h2>\n<pre><code>        bSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                ExerciseItemFinal item = new ExerciseItemFinal(&quot;Siuu&quot;, &quot;10.5&quot;, &quot;5&quot;);\n\n                Intent intent = new Intent();\n                intent.putExtra(&quot;code123&quot;, item);\n                setResult(011, intent);\n                finish();\n\n            }\n        });\n</code></pre>\n<p>The problem with my code is that I am able to return the result of page 3 to page 2, so inside of page 2 I can use the object to do whatever I need, but returning the same object from page 2 to page 1, just won't work for some reason, whenever I try to use &quot;item.getName()&quot; it gives me a NullPointerException (which doesn't happen on the 2nd page):</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.poop123, PID: 23789\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.example.poop123.ExerciseItemFinal.getName()' on a null object reference\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:66)\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:57)\n        at androidx.activity.result.ActivityResultRegistry$1.onStateChanged(ActivityResultRegistry.java:148)\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\n        at androidx.lifecycle.LifecycleRegistry.forwardPass(LifecycleRegistry.java:265)\n        at androidx.lifecycle.LifecycleRegistry.sync(LifecycleRegistry.java:307)\n        at androidx.lifecycle.LifecycleRegistry.moveToState(LifecycleRegistry.java:148)\n        at androidx.lifecycle.LifecycleRegistry.handleLifecycleEvent(LifecycleRegistry.java:134)\n        at androidx.fragment.app.Fragment.performStart(Fragment.java:3026)\n        at androidx.fragment.app.FragmentStateManager.start(FragmentStateManager.java:589)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:300)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\n        at androidx.fragment.app.FragmentManager.dispatchStart(FragmentManager.java:3079)\n        at androidx.fragment.app.FragmentController.dispatchStart(FragmentController.java:262)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:510)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1433)\n        at android.app.Activity.performStart(Activity.java:7923)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3332)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2044)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:224)\n        at android.app.ActivityThread.main(ActivityThread.java:7562)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n</code></pre>\n<p>I have all classes using <code>Implements Serializable</code> even if they don't require, and most confusing of all, I have a separate process for a different fragment which is basically the same thing, the only thing changing is the type of object being passed, but working.</p>\n<p>I would be very embarressed if the solution is simple and obvious...</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1653299441,"post_id":72346358,"comment_id":127809130,"body_markdown":"Could you give us more information about the laser meter?","body":"Could you give us more information about the laser meter?"},{"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"score":0,"creation_date":1653299538,"post_id":72346358,"comment_id":127809163,"body_markdown":"sure, it&#39;s a DISTO D2 from Leica using Bluetooth Smart","body":"sure, it&#39;s a DISTO D2 from Leica using Bluetooth Smart"}],"answers":[{"tags":[],"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653299867,"creation_date":1653299867,"answer_id":72346615,"question_id":72346358,"body_markdown":"Looking at the [user manual](https://shop.leica-geosystems.com/sites/default/files/2021-11/Leica_DistoD2_UM_en.pdf) for the Leica DISTO D2 it states the device uses Bluetooth Smart, also known as Bluetooth Low Energy (BLE). You won&#39;t be able to connect to it using Bluetooth Sockets (Bluetooth Classic).\r\n\r\nPlease follow the [Android documentation](https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview) on BLE to develop your app. To debug the connection beforehand, please install a generic BLE scanner such as [nRF Connect](https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile) and investigate the services and characteristics the device offers.","title":"BluetoothDevice.getUuids() returns null","body":"<p>Looking at the <a href=\"https://shop.leica-geosystems.com/sites/default/files/2021-11/Leica_DistoD2_UM_en.pdf\" rel=\"nofollow noreferrer\">user manual</a> for the Leica DISTO D2 it states the device uses Bluetooth Smart, also known as Bluetooth Low Energy (BLE). You won't be able to connect to it using Bluetooth Sockets (Bluetooth Classic).</p>\n<p>Please follow the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">Android documentation</a> on BLE to develop your app. To debug the connection beforehand, please install a generic BLE scanner such as <a href=\"https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile\" rel=\"nofollow noreferrer\">nRF Connect</a> and investigate the services and characteristics the device offers.</p>\n"}],"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653299867,"creation_date":1653298743,"question_id":72346358,"body_markdown":"I am currently working on an app which requires a Bluetooth laser meter. So i tried a few lines of code and went through a loads of failures. The last error I get is an NPE because i try to access the array returned by getUuids().\r\nI also tried to connect the app to my airPods and everything worked well.\r\nI am at minSdk 27 and targetSdk 31\r\nAll bluetooth permissions (bluetooth, bluetooth_admin) are granted. \r\n\r\nthe fact is, the laser thing requires an app to work and i wonder if the constructor could have blocked some functionalities. if so, i&#39;ll look to buy another one from another brand, if someone could provide me a link to buy a device working for my app.\r\nHere&#39;s my bluetooth connect code (pretty generic I guess)\r\n\r\nI also tried the static UUID suggested in [this post][1] but i now get this socket error which (i think) mean the uuid&#39;s not working either:\r\n\r\n\r\n```\r\n    BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    if (blueAdapter != null) {\r\n        if (blueAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED) {\r\n                Const.requestAllAppPermissions(this);\r\n                return;\r\n            }\r\n\r\n            Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\r\n            if (bondedDevices.size() &gt; 0) {\r\n                Object[] devices = bondedDevices.toArray();\r\n                BluetoothDevice device = (BluetoothDevice) devices[0];\r\n                System.out.println(device.getName());\r\n\r\n                if (device.fetchUuidsWithSdp()) {\r\n                    ParcelUuid[] uuids = device.getUuids();\r\n                    BluetoothSocket socket = null;\r\n                    try {\r\n           //socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\r\n                        socket = device.createRfcommSocketToServiceRecord(\r\nUUID.fromString(&quot;00001101-0000-1000-8000-00805f9b54fb&quot;));\r\n\r\n                        socket.connect();\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                //outputStream = socket.getOutputStream();\r\n                //  inStream = socket.getInputStream();\r\n            } else {\r\n\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;bluetooth disabled&quot;);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;No bluetooth built-in&quot;);\r\n    }\r\n```\r\n\r\nhere&#39;s the static UUID stacktrace:\r\n```\r\nW/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\r\nW/System.err: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\r\nW/System.err:     at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:920)\r\nW/System.err:     at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:934)\r\nW/System.err:     at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:494)\r\nW/System.err:     at com.adici.activities.PlanActivity.lambda$defButton$13$com-adici-activities-PlanActivity(PlanActivity.java:409)\r\nW/System.err:     at com.adici.activities.PlanActivity$$ExternalSyntheticLambda10.onClick(Unknown Source:2)\r\nW/System.err:     at android.view.View.performClick(View.java:7346)\r\nW/System.err:     at android.view.View.performClickInternal(View.java:7312)\r\nW/System.err:     at android.view.View.access$3200(View.java:846)\r\nW/System.err:     at android.view.View$PerformClick.run(View.java:27794)\r\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:873)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:214)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7100)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n```\r\n\r\n\r\nI&#39;m open to any suggestion\r\n\r\n  [1]: https://stackoverflow.com/a/11622794/17250074","title":"BluetoothDevice.getUuids() returns null","body":"<p>I am currently working on an app which requires a Bluetooth laser meter. So i tried a few lines of code and went through a loads of failures. The last error I get is an NPE because i try to access the array returned by getUuids().\nI also tried to connect the app to my airPods and everything worked well.\nI am at minSdk 27 and targetSdk 31\nAll bluetooth permissions (bluetooth, bluetooth_admin) are granted.</p>\n<p>the fact is, the laser thing requires an app to work and i wonder if the constructor could have blocked some functionalities. if so, i'll look to buy another one from another brand, if someone could provide me a link to buy a device working for my app.\nHere's my bluetooth connect code (pretty generic I guess)</p>\n<p>I also tried the static UUID suggested in <a href=\"https://stackoverflow.com/a/11622794/17250074\">this post</a> but i now get this socket error which (i think) mean the uuid's not working either:</p>\n<pre><code>    BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (blueAdapter != null) {\n        if (blueAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED) {\n                Const.requestAllAppPermissions(this);\n                return;\n            }\n\n            Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\n            if (bondedDevices.size() &gt; 0) {\n                Object[] devices = bondedDevices.toArray();\n                BluetoothDevice device = (BluetoothDevice) devices[0];\n                System.out.println(device.getName());\n\n                if (device.fetchUuidsWithSdp()) {\n                    ParcelUuid[] uuids = device.getUuids();\n                    BluetoothSocket socket = null;\n                    try {\n           //socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\n                        socket = device.createRfcommSocketToServiceRecord(\nUUID.fromString(&quot;00001101-0000-1000-8000-00805f9b54fb&quot;));\n\n                        socket.connect();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                //outputStream = socket.getOutputStream();\n                //  inStream = socket.getInputStream();\n            } else {\n\n            }\n\n        } else {\n            System.out.println(&quot;bluetooth disabled&quot;);\n        }\n    } else {\n        System.out.println(&quot;No bluetooth built-in&quot;);\n    }\n</code></pre>\n<p>here's the static UUID stacktrace:</p>\n<pre><code>W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\nW/System.err: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\nW/System.err:     at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:920)\nW/System.err:     at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:934)\nW/System.err:     at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:494)\nW/System.err:     at com.adici.activities.PlanActivity.lambda$defButton$13$com-adici-activities-PlanActivity(PlanActivity.java:409)\nW/System.err:     at com.adici.activities.PlanActivity$$ExternalSyntheticLambda10.onClick(Unknown Source:2)\nW/System.err:     at android.view.View.performClick(View.java:7346)\nW/System.err:     at android.view.View.performClickInternal(View.java:7312)\nW/System.err:     at android.view.View.access$3200(View.java:846)\nW/System.err:     at android.view.View$PerformClick.run(View.java:27794)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:873)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nW/System.err:     at android.os.Looper.loop(Looper.java:214)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7100)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n</code></pre>\n<p>I'm open to any suggestion</p>\n"},{"tags":["java","xml","bpmn","camunda","camunda-modeler"],"answers":[{"tags":[],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1544025186,"creation_date":1544024791,"answer_id":53635941,"question_id":53634916,"body_markdown":"I finally got it working by switching to the fluent model builder API, following this [https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/][1]\r\n\r\n\r\n  [1]: https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/\r\n\r\nThis is my updated test calss:\r\n\r\n    import org.camunda.bpm.model.bpmn.Bpmn;\r\n    import org.camunda.bpm.model.bpmn.BpmnModelInstance;\r\n    import org.camunda.bpm.model.bpmn.GatewayDirection;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            BpmnModelInstance modelInstance = Bpmn.createProcess()\r\n                .name(&quot;BPMN API Invoice Process&quot;)\r\n                .executable()\r\n                .startEvent()\r\n                .name(&quot;Invoice received&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/start-form.html&quot;)\r\n                .userTask()\r\n                .name(&quot;Assign Approver&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/assign-approver.html&quot;)\r\n                .camundaAssignee(&quot;demo&quot;)\r\n                .userTask()\r\n                .id(&quot;approveInvoice&quot;)\r\n                .name(&quot;Approve Invoice&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/approve-invoice.html&quot;)\r\n                .camundaAssignee(&quot;${approver}&quot;)\r\n                .exclusiveGateway()\r\n                .name(&quot;Invoice approved?&quot;)\r\n                .gatewayDirection(GatewayDirection.Diverging)\r\n                .condition(&quot;yes&quot;, &quot;${approved}&quot;)\r\n                .userTask()\r\n                .name(&quot;Prepare Bank Transfer&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/prepare-bank-transfer.html&quot;)\r\n                .camundaCandidateGroups(&quot;accounting&quot;)\r\n                .serviceTask()\r\n                .name(&quot;Archive Invoice&quot;)\r\n                .endEvent()\r\n                .name(&quot;Invoice processed&quot;)\r\n                .moveToLastGateway()\r\n                .condition(&quot;no&quot;, &quot;${!approved}&quot;)\r\n                .userTask()\r\n                .name(&quot;Review Invoice&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/review-invoice.html&quot;)\r\n                .camundaAssignee(&quot;demo&quot;)\r\n                .exclusiveGateway()\r\n                .name(&quot;Review successful?&quot;)\r\n                .gatewayDirection(GatewayDirection.Diverging)\r\n                .condition(&quot;no&quot;, &quot;${!clarified}&quot;)\r\n                .endEvent()\r\n                .name(&quot;Invoice not processed&quot;)\r\n                .moveToLastGateway()\r\n                .condition(&quot;yes&quot;, &quot;${clarified}&quot;)\r\n                .connectTo(&quot;approveInvoice&quot;)\r\n                .done();\r\n    \r\n            // validate and write model to file\r\n            Bpmn.validateModel(modelInstance);\r\n            File file = new File(&quot;bpmn-model.bpmn.xml&quot;);\r\n            file.createNewFile();\r\n    \r\n            String bpmnString = Bpmn.convertToString(modelInstance);\r\n            System.out.println(&quot;bpmnString&quot;);\r\n            System.out.println(bpmnString);\r\n    \r\n            Bpmn.writeModelToFile(file, modelInstance);\r\n        }\r\n    }\r\n\r\nand this is the generated xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;definitions xmlns:bpmndi=&quot;http://www.omg.org/spec/BPMN/20100524/DI&quot; xmlns:camunda=&quot;http://camunda.org/schema/1.0/bpmn&quot; xmlns:dc=&quot;http://www.omg.org/spec/DD/20100524/DC&quot; xmlns:di=&quot;http://www.omg.org/spec/DD/20100524/DI&quot; id=&quot;definitions_3bd3e094-3e53-4644-af0c-1a048653920c&quot; targetNamespace=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot; xmlns=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;&gt;\r\n      &lt;process id=&quot;process_e14ca74e-6095-4a2b-bced-debcb3b37954&quot; isExecutable=&quot;true&quot; name=&quot;BPMN API Invoice Process&quot;&gt;\r\n        &lt;startEvent camunda:formKey=&quot;embedded:app:forms/start-form.html&quot; id=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; name=&quot;Invoice received&quot;&gt;\r\n          &lt;outgoing&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/outgoing&gt;\r\n        &lt;/startEvent&gt;\r\n        &lt;userTask camunda:assignee=&quot;demo&quot; camunda:formKey=&quot;embedded:app:forms/assign-approver.html&quot; id=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; name=&quot;Assign Approver&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&quot; sourceRef=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; targetRef=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot;/&gt;\r\n        &lt;userTask camunda:assignee=&quot;${approver}&quot; camunda:formKey=&quot;embedded:app:forms/approve-invoice.html&quot; id=&quot;approveInvoice&quot; name=&quot;Approve Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/incoming&gt;\r\n          &lt;incoming&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&quot; sourceRef=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; targetRef=&quot;approveInvoice&quot;/&gt;\r\n        &lt;exclusiveGateway gatewayDirection=&quot;Diverging&quot; id=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; name=&quot;Invoice approved?&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/outgoing&gt;\r\n        &lt;/exclusiveGateway&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&quot; sourceRef=&quot;approveInvoice&quot; targetRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&quot; name=&quot;yes&quot; sourceRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; targetRef=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_13d7607b-d7e7-4fa4-a364-aeabff28a0f1&quot;&gt;${approved}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;userTask camunda:candidateGroups=&quot;accounting&quot; camunda:formKey=&quot;embedded:app:forms/prepare-bank-transfer.html&quot; id=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; name=&quot;Prepare Bank Transfer&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;serviceTask id=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; name=&quot;Archive Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/outgoing&gt;\r\n        &lt;/serviceTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&quot; sourceRef=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; targetRef=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot;/&gt;\r\n        &lt;endEvent id=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot; name=&quot;Invoice processed&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&quot; sourceRef=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; targetRef=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&quot; name=&quot;no&quot; sourceRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; targetRef=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_ce06d35f-8638-4699-802b-7f1b94732f46&quot;&gt;${!approved}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;userTask camunda:assignee=&quot;demo&quot; camunda:formKey=&quot;embedded:app:forms/review-invoice.html&quot; id=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; name=&quot;Review Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;exclusiveGateway gatewayDirection=&quot;Diverging&quot; id=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; name=&quot;Review successful?&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/outgoing&gt;\r\n        &lt;/exclusiveGateway&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&quot; sourceRef=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; targetRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&quot; name=&quot;no&quot; sourceRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; targetRef=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_8bb43e50-dd2f-40ba-9cc9-91a69813a835&quot;&gt;${!clarified}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;endEvent id=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot; name=&quot;Invoice not processed&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&quot; name=&quot;yes&quot; sourceRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; targetRef=&quot;approveInvoice&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_c3fb4bcf-905a-47dd-84cf-6cfe1980ca2e&quot;&gt;${clarified}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n      &lt;/process&gt;\r\n      &lt;bpmndi:BPMNDiagram id=&quot;BPMNDiagram_946186ab-976d-40e2-9ed2-4672566340a2&quot;&gt;\r\n        &lt;bpmndi:BPMNPlane bpmnElement=&quot;process_e14ca74e-6095-4a2b-bced-debcb3b37954&quot; id=&quot;BPMNPlane_78d2c2b7-e5e7-414f-abae-0dcddaefbdfd&quot;&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; id=&quot;BPMNShape_2da46013-859f-418a-8612-25bd57aabb52&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;100.0&quot; y=&quot;100.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; id=&quot;BPMNShape_79fd4553-cfb0-4740-b4fe-093d1c96474b&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;186.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&quot; id=&quot;BPMNEdge_77315869-b425-4daf-85b6-6121867d91bc&quot;&gt;\r\n            &lt;di:waypoint x=&quot;136.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;186.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;approveInvoice&quot; id=&quot;BPMNShape_b54e1244-b4fb-4e70-8c0d-4b76eb2798b0&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;336.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&quot; id=&quot;BPMNEdge_dfa41f0e-273b-4d62-b8b8-ef9286b24f7d&quot;&gt;\r\n            &lt;di:waypoint x=&quot;286.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;336.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; id=&quot;BPMNShape_bc1af4c3-ef1f-4c26-a42c-b1c2982bf35c&quot; isMarkerVisible=&quot;true&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;50.0&quot; width=&quot;50.0&quot; x=&quot;486.0&quot; y=&quot;93.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&quot; id=&quot;BPMNEdge_9e81a730-2822-4c70-8061-9bbecf05022d&quot;&gt;\r\n            &lt;di:waypoint x=&quot;436.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;486.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; id=&quot;BPMNShape_8c455164-1097-43ca-814f-6d601735b27a&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;586.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&quot; id=&quot;BPMNEdge_47ba6c2b-fd10-4faf-8ee9-cbe019282080&quot;&gt;\r\n            &lt;di:waypoint x=&quot;536.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;586.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; id=&quot;BPMNShape_d2e257f4-4c63-44e6-a8ab-d3179a83682c&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;736.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&quot; id=&quot;BPMNEdge_e5727f31-71a0-4f03-8a9d-7aca2cd9999a&quot;&gt;\r\n            &lt;di:waypoint x=&quot;686.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;736.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot; id=&quot;BPMNShape_4a1b2f6f-6929-4fd7-b6cf-9f49410242d7&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;886.0&quot; y=&quot;100.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&quot; id=&quot;BPMNEdge_28346c07-6da9-41d2-bcf2-76a9583ea933&quot;&gt;\r\n            &lt;di:waypoint x=&quot;836.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;886.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; id=&quot;BPMNShape_1c62b32d-2c17-48b0-bbc7-ac0074c97e62&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;586.0&quot; y=&quot;208.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&quot; id=&quot;BPMNEdge_40c826c8-638d-4cd2-b9a1-ccdfa9a5ee6e&quot;&gt;\r\n            &lt;di:waypoint x=&quot;511.0&quot; y=&quot;143.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;511.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;586.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; id=&quot;BPMNShape_36d66f18-3b46-4fde-9342-3ccd8d0f838d&quot; isMarkerVisible=&quot;true&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;50.0&quot; width=&quot;50.0&quot; x=&quot;736.0&quot; y=&quot;223.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&quot; id=&quot;BPMNEdge_257a94d2-a5f6-4a88-9503-f5b9fd65cc7e&quot;&gt;\r\n            &lt;di:waypoint x=&quot;686.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;736.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot; id=&quot;BPMNShape_2dff264a-5f15-44d9-ba38-b962be76ea74&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;836.0&quot; y=&quot;230.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&quot; id=&quot;BPMNEdge_0a149725-d17c-4b6f-b7db-7854d0a27b00&quot;&gt;\r\n            &lt;di:waypoint x=&quot;786.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;836.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&quot; id=&quot;BPMNEdge_8b25f14c-9653-42ab-a57f-48fc07bd7ee8&quot;&gt;\r\n            &lt;di:waypoint x=&quot;761.0&quot; y=&quot;273.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;761.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;336.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n        &lt;/bpmndi:BPMNPlane&gt;\r\n      &lt;/bpmndi:BPMNDiagram&gt;\r\n    &lt;/definitions&gt;\r\n\r\nBy comparing it to the above xml, I notice a few new `&lt;bpmndi ...&gt;` elements not present before.","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>I finally got it working by switching to the fluent model builder API, following this <a href=\"https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/\" rel=\"nofollow noreferrer\">https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/</a></p>\n\n<p>This is my updated test calss:</p>\n\n<pre><code>import org.camunda.bpm.model.bpmn.Bpmn;\nimport org.camunda.bpm.model.bpmn.BpmnModelInstance;\nimport org.camunda.bpm.model.bpmn.GatewayDirection;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        BpmnModelInstance modelInstance = Bpmn.createProcess()\n            .name(\"BPMN API Invoice Process\")\n            .executable()\n            .startEvent()\n            .name(\"Invoice received\")\n            .camundaFormKey(\"embedded:app:forms/start-form.html\")\n            .userTask()\n            .name(\"Assign Approver\")\n            .camundaFormKey(\"embedded:app:forms/assign-approver.html\")\n            .camundaAssignee(\"demo\")\n            .userTask()\n            .id(\"approveInvoice\")\n            .name(\"Approve Invoice\")\n            .camundaFormKey(\"embedded:app:forms/approve-invoice.html\")\n            .camundaAssignee(\"${approver}\")\n            .exclusiveGateway()\n            .name(\"Invoice approved?\")\n            .gatewayDirection(GatewayDirection.Diverging)\n            .condition(\"yes\", \"${approved}\")\n            .userTask()\n            .name(\"Prepare Bank Transfer\")\n            .camundaFormKey(\"embedded:app:forms/prepare-bank-transfer.html\")\n            .camundaCandidateGroups(\"accounting\")\n            .serviceTask()\n            .name(\"Archive Invoice\")\n            .endEvent()\n            .name(\"Invoice processed\")\n            .moveToLastGateway()\n            .condition(\"no\", \"${!approved}\")\n            .userTask()\n            .name(\"Review Invoice\")\n            .camundaFormKey(\"embedded:app:forms/review-invoice.html\")\n            .camundaAssignee(\"demo\")\n            .exclusiveGateway()\n            .name(\"Review successful?\")\n            .gatewayDirection(GatewayDirection.Diverging)\n            .condition(\"no\", \"${!clarified}\")\n            .endEvent()\n            .name(\"Invoice not processed\")\n            .moveToLastGateway()\n            .condition(\"yes\", \"${clarified}\")\n            .connectTo(\"approveInvoice\")\n            .done();\n\n        // validate and write model to file\n        Bpmn.validateModel(modelInstance);\n        File file = new File(\"bpmn-model.bpmn.xml\");\n        file.createNewFile();\n\n        String bpmnString = Bpmn.convertToString(modelInstance);\n        System.out.println(\"bpmnString\");\n        System.out.println(bpmnString);\n\n        Bpmn.writeModelToFile(file, modelInstance);\n    }\n}\n</code></pre>\n\n<p>and this is the generated xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;definitions xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" id=\"definitions_3bd3e094-3e53-4644-af0c-1a048653920c\" targetNamespace=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"&gt;\n  &lt;process id=\"process_e14ca74e-6095-4a2b-bced-debcb3b37954\" isExecutable=\"true\" name=\"BPMN API Invoice Process\"&gt;\n    &lt;startEvent camunda:formKey=\"embedded:app:forms/start-form.html\" id=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" name=\"Invoice received\"&gt;\n      &lt;outgoing&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/outgoing&gt;\n    &lt;/startEvent&gt;\n    &lt;userTask camunda:assignee=\"demo\" camunda:formKey=\"embedded:app:forms/assign-approver.html\" id=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" name=\"Assign Approver\"&gt;\n      &lt;incoming&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3\" sourceRef=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" targetRef=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\"/&gt;\n    &lt;userTask camunda:assignee=\"${approver}\" camunda:formKey=\"embedded:app:forms/approve-invoice.html\" id=\"approveInvoice\" name=\"Approve Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/incoming&gt;\n      &lt;incoming&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d\" sourceRef=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" targetRef=\"approveInvoice\"/&gt;\n    &lt;exclusiveGateway gatewayDirection=\"Diverging\" id=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" name=\"Invoice approved?\"&gt;\n      &lt;incoming&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/outgoing&gt;\n      &lt;outgoing&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/outgoing&gt;\n    &lt;/exclusiveGateway&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5\" sourceRef=\"approveInvoice\" targetRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4\" name=\"yes\" sourceRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" targetRef=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_13d7607b-d7e7-4fa4-a364-aeabff28a0f1\"&gt;${approved}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;userTask camunda:candidateGroups=\"accounting\" camunda:formKey=\"embedded:app:forms/prepare-bank-transfer.html\" id=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" name=\"Prepare Bank Transfer\"&gt;\n      &lt;incoming&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;serviceTask id=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" name=\"Archive Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/outgoing&gt;\n    &lt;/serviceTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990\" sourceRef=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" targetRef=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\"/&gt;\n    &lt;endEvent id=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\" name=\"Invoice processed\"&gt;\n      &lt;incoming&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba\" sourceRef=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" targetRef=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946\" name=\"no\" sourceRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" targetRef=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_ce06d35f-8638-4699-802b-7f1b94732f46\"&gt;${!approved}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;userTask camunda:assignee=\"demo\" camunda:formKey=\"embedded:app:forms/review-invoice.html\" id=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" name=\"Review Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;exclusiveGateway gatewayDirection=\"Diverging\" id=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" name=\"Review successful?\"&gt;\n      &lt;incoming&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/outgoing&gt;\n      &lt;outgoing&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/outgoing&gt;\n    &lt;/exclusiveGateway&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4\" sourceRef=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" targetRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989\" name=\"no\" sourceRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" targetRef=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_8bb43e50-dd2f-40ba-9cc9-91a69813a835\"&gt;${!clarified}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;endEvent id=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\" name=\"Invoice not processed\"&gt;\n      &lt;incoming&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d\" name=\"yes\" sourceRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" targetRef=\"approveInvoice\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_c3fb4bcf-905a-47dd-84cf-6cfe1980ca2e\"&gt;${clarified}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n  &lt;/process&gt;\n  &lt;bpmndi:BPMNDiagram id=\"BPMNDiagram_946186ab-976d-40e2-9ed2-4672566340a2\"&gt;\n    &lt;bpmndi:BPMNPlane bpmnElement=\"process_e14ca74e-6095-4a2b-bced-debcb3b37954\" id=\"BPMNPlane_78d2c2b7-e5e7-414f-abae-0dcddaefbdfd\"&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" id=\"BPMNShape_2da46013-859f-418a-8612-25bd57aabb52\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"100.0\" y=\"100.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" id=\"BPMNShape_79fd4553-cfb0-4740-b4fe-093d1c96474b\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"186.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3\" id=\"BPMNEdge_77315869-b425-4daf-85b6-6121867d91bc\"&gt;\n        &lt;di:waypoint x=\"136.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"186.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"approveInvoice\" id=\"BPMNShape_b54e1244-b4fb-4e70-8c0d-4b76eb2798b0\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"336.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d\" id=\"BPMNEdge_dfa41f0e-273b-4d62-b8b8-ef9286b24f7d\"&gt;\n        &lt;di:waypoint x=\"286.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"336.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" id=\"BPMNShape_bc1af4c3-ef1f-4c26-a42c-b1c2982bf35c\" isMarkerVisible=\"true\"&gt;\n        &lt;dc:Bounds height=\"50.0\" width=\"50.0\" x=\"486.0\" y=\"93.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5\" id=\"BPMNEdge_9e81a730-2822-4c70-8061-9bbecf05022d\"&gt;\n        &lt;di:waypoint x=\"436.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"486.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" id=\"BPMNShape_8c455164-1097-43ca-814f-6d601735b27a\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"586.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4\" id=\"BPMNEdge_47ba6c2b-fd10-4faf-8ee9-cbe019282080\"&gt;\n        &lt;di:waypoint x=\"536.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"586.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" id=\"BPMNShape_d2e257f4-4c63-44e6-a8ab-d3179a83682c\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"736.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990\" id=\"BPMNEdge_e5727f31-71a0-4f03-8a9d-7aca2cd9999a\"&gt;\n        &lt;di:waypoint x=\"686.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"736.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\" id=\"BPMNShape_4a1b2f6f-6929-4fd7-b6cf-9f49410242d7\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"886.0\" y=\"100.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba\" id=\"BPMNEdge_28346c07-6da9-41d2-bcf2-76a9583ea933\"&gt;\n        &lt;di:waypoint x=\"836.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"886.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" id=\"BPMNShape_1c62b32d-2c17-48b0-bbc7-ac0074c97e62\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"586.0\" y=\"208.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946\" id=\"BPMNEdge_40c826c8-638d-4cd2-b9a1-ccdfa9a5ee6e\"&gt;\n        &lt;di:waypoint x=\"511.0\" y=\"143.0\"/&gt;\n        &lt;di:waypoint x=\"511.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"586.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" id=\"BPMNShape_36d66f18-3b46-4fde-9342-3ccd8d0f838d\" isMarkerVisible=\"true\"&gt;\n        &lt;dc:Bounds height=\"50.0\" width=\"50.0\" x=\"736.0\" y=\"223.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4\" id=\"BPMNEdge_257a94d2-a5f6-4a88-9503-f5b9fd65cc7e\"&gt;\n        &lt;di:waypoint x=\"686.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"736.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\" id=\"BPMNShape_2dff264a-5f15-44d9-ba38-b962be76ea74\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"836.0\" y=\"230.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989\" id=\"BPMNEdge_0a149725-d17c-4b6f-b7db-7854d0a27b00\"&gt;\n        &lt;di:waypoint x=\"786.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"836.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d\" id=\"BPMNEdge_8b25f14c-9653-42ab-a57f-48fc07bd7ee8\"&gt;\n        &lt;di:waypoint x=\"761.0\" y=\"273.0\"/&gt;\n        &lt;di:waypoint x=\"761.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"336.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n    &lt;/bpmndi:BPMNPlane&gt;\n  &lt;/bpmndi:BPMNDiagram&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p>By comparing it to the above xml, I notice a few new <code>&lt;bpmndi ...&gt;</code> elements not present before.</p>\n"},{"tags":[],"owner":{"account_id":25364487,"reputation":21,"user_id":19179268,"display_name":"casca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653298764,"creation_date":1653298764,"answer_id":72346362,"question_id":53634916,"body_markdown":"Missing isExecutable parameter in process\r\n```\r\n// create a process\r\nProcess process = modelInstance.newInstance(Process.class);\r\nprocess.setExecutable(true);\r\n```\r\n","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>Missing isExecutable parameter in process</p>\n<pre><code>// create a process\nProcess process = modelInstance.newInstance(Process.class);\nprocess.setExecutable(true);\n</code></pre>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53635941,"answer_count":2,"score":4,"last_activity_date":1653298764,"creation_date":1544021380,"question_id":53634916,"body_markdown":"I&#39;m building some test BPMN 2.0 models and saving them to xml files, in a Java project, by following the examples provided by the official [doc][1], in this case the example 2.\r\n\r\nI imported the lib in my pom like below:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.camunda.bpm.model/camunda-bpmn-model --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.camunda.bpm.model&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camunda-bpmn-model&lt;/artifactId&gt;\r\n        &lt;version&gt;7.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\nand this is my test class, following the example 2:\r\n\r\n    import org.camunda.bpm.model.bpmn.Bpmn;\r\n    import org.camunda.bpm.model.bpmn.BpmnModelInstance;\r\n    import org.camunda.bpm.model.bpmn.instance.*;\r\n    import org.camunda.bpm.model.bpmn.instance.Process;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        protected static &lt;T extends BpmnModelElementInstance&gt; T createElement(BpmnModelInstance modelInstance, BpmnModelElementInstance parentElement, String id, Class&lt;T&gt; elementClass) {\r\n            T element = modelInstance.newInstance(elementClass);\r\n            element.setAttributeValue(&quot;id&quot;, id, true);\r\n            parentElement.addChildElement(element);\r\n            return element;\r\n        }\r\n    \r\n        public static SequenceFlow createSequenceFlow(BpmnModelInstance modelInstance, Process process, FlowNode from, FlowNode to) {\r\n            String identifier = from.getId() + &quot;-&quot; + to.getId();\r\n            SequenceFlow sequenceFlow = createElement(modelInstance, process, identifier, SequenceFlow.class);\r\n            process.addChildElement(sequenceFlow);\r\n            sequenceFlow.setSource(from);\r\n            from.getOutgoing().add(sequenceFlow);\r\n            sequenceFlow.setTarget(to);\r\n            to.getIncoming().add(sequenceFlow);\r\n            return sequenceFlow;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // create an empty model\r\n            BpmnModelInstance modelInstance = Bpmn.createEmptyModel();\r\n            Definitions definitions = modelInstance.newInstance(Definitions.class);\r\n            definitions.setTargetNamespace(&quot;http://camunda.org/examples&quot;);\r\n            modelInstance.setDefinitions(definitions);\r\n    \r\n            // create a process\r\n            Process process = modelInstance.newInstance(Process.class);\r\n            process.setId(&quot;process&quot;);\r\n            definitions.addChildElement(process);\r\n    \r\n            // create elements\r\n            StartEvent startEvent = createElement(modelInstance, process, &quot;start&quot;, StartEvent.class);\r\n            ParallelGateway fork = createElement(modelInstance, process, &quot;fork&quot;, ParallelGateway.class);\r\n            ServiceTask task1 = createElement(modelInstance, process, &quot;task1&quot;, ServiceTask.class);\r\n            task1.setName(&quot;Service Task&quot;);\r\n            UserTask task2 = createElement(modelInstance, process, &quot;task2&quot;, UserTask.class);\r\n            task2.setName(&quot;User Task&quot;);\r\n            ParallelGateway join = createElement(modelInstance, process, &quot;join&quot;, ParallelGateway.class);\r\n            EndEvent endEvent = createElement(modelInstance, process, &quot;end&quot;, EndEvent.class);\r\n    \r\n            // create flows\r\n            createSequenceFlow(modelInstance, process, startEvent, fork);\r\n            createSequenceFlow(modelInstance, process, fork, task1);\r\n            createSequenceFlow(modelInstance, process, fork, task2);\r\n            createSequenceFlow(modelInstance, process, task1, join);\r\n            createSequenceFlow(modelInstance, process, task2, join);\r\n            createSequenceFlow(modelInstance, process, join, endEvent);\r\n    \r\n            // validate and write model to file\r\n            Bpmn.validateModel(modelInstance);\r\n            File file = new File(&quot;bpmn-model.bpmn.xml&quot;);\r\n            file.createNewFile();\r\n            Bpmn.writeModelToFile(file, modelInstance);\r\n        }\r\n    }\r\n\r\nHere the generated BPMN 2.0 xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;definitions id=&quot;definitions_7b2df680-1d9c-4897-ba8b-a83548ab937f&quot; targetNamespace=&quot;http://camunda.org/examples&quot; xmlns=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;&gt;\r\n      &lt;process id=&quot;process&quot;&gt;\r\n        &lt;startEvent id=&quot;start&quot;&gt;\r\n          &lt;outgoing&gt;start-fork&lt;/outgoing&gt;\r\n        &lt;/startEvent&gt;\r\n        &lt;parallelGateway id=&quot;fork&quot;&gt;\r\n          &lt;incoming&gt;start-fork&lt;/incoming&gt;\r\n          &lt;outgoing&gt;fork-task1&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;fork-task2&lt;/outgoing&gt;\r\n        &lt;/parallelGateway&gt;\r\n        &lt;serviceTask id=&quot;task1&quot; name=&quot;Service Task&quot;&gt;\r\n          &lt;incoming&gt;fork-task1&lt;/incoming&gt;\r\n          &lt;outgoing&gt;task1-join&lt;/outgoing&gt;\r\n        &lt;/serviceTask&gt;\r\n        &lt;userTask id=&quot;task2&quot; name=&quot;User Task&quot;&gt;\r\n          &lt;incoming&gt;fork-task2&lt;/incoming&gt;\r\n          &lt;outgoing&gt;task2-join&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;parallelGateway id=&quot;join&quot;&gt;\r\n          &lt;incoming&gt;task1-join&lt;/incoming&gt;\r\n          &lt;incoming&gt;task2-join&lt;/incoming&gt;\r\n          &lt;outgoing&gt;join-end&lt;/outgoing&gt;\r\n        &lt;/parallelGateway&gt;\r\n        &lt;endEvent id=&quot;end&quot;&gt;\r\n          &lt;incoming&gt;join-end&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;start-fork&quot; sourceRef=&quot;start&quot; targetRef=&quot;fork&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;fork-task1&quot; sourceRef=&quot;fork&quot; targetRef=&quot;task1&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;fork-task2&quot; sourceRef=&quot;fork&quot; targetRef=&quot;task2&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;task1-join&quot; sourceRef=&quot;task1&quot; targetRef=&quot;join&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;task2-join&quot; sourceRef=&quot;task2&quot; targetRef=&quot;join&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;join-end&quot; sourceRef=&quot;join&quot; targetRef=&quot;end&quot;/&gt;\r\n      &lt;/process&gt;\r\n    &lt;/definitions&gt;\r\n\r\nAltough the validation method, the generated xml appears to be invalid when trying to display the BPMN using both the Camunda Modeler app and [bpmn.io][2].\r\n\r\nWhat is wrong with this example, hence with my code?\r\nHow can I make the generated xml to be valid? Since bpmn 2.0 is a standard, I&#39;m also a bit surprised of this problem. \r\n\r\n\r\n  [1]: https://docs.camunda.org/manual/7.10/user-guide/model-api/bpmn-model-api/create-a-model/#example-2-create-a-simple-process-with-two-parallel-tasks\r\n  [2]: https://demo.bpmn.io/","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>I'm building some test BPMN 2.0 models and saving them to xml files, in a Java project, by following the examples provided by the official <a href=\"https://docs.camunda.org/manual/7.10/user-guide/model-api/bpmn-model-api/create-a-model/#example-2-create-a-simple-process-with-two-parallel-tasks\" rel=\"nofollow noreferrer\">doc</a>, in this case the example 2.</p>\n\n<p>I imported the lib in my pom like below:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.camunda.bpm.model/camunda-bpmn-model --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.camunda.bpm.model&lt;/groupId&gt;\n    &lt;artifactId&gt;camunda-bpmn-model&lt;/artifactId&gt;\n    &lt;version&gt;7.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<p>and this is my test class, following the example 2:</p>\n\n<pre><code>import org.camunda.bpm.model.bpmn.Bpmn;\nimport org.camunda.bpm.model.bpmn.BpmnModelInstance;\nimport org.camunda.bpm.model.bpmn.instance.*;\nimport org.camunda.bpm.model.bpmn.instance.Process;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Test {\n    protected static &lt;T extends BpmnModelElementInstance&gt; T createElement(BpmnModelInstance modelInstance, BpmnModelElementInstance parentElement, String id, Class&lt;T&gt; elementClass) {\n        T element = modelInstance.newInstance(elementClass);\n        element.setAttributeValue(\"id\", id, true);\n        parentElement.addChildElement(element);\n        return element;\n    }\n\n    public static SequenceFlow createSequenceFlow(BpmnModelInstance modelInstance, Process process, FlowNode from, FlowNode to) {\n        String identifier = from.getId() + \"-\" + to.getId();\n        SequenceFlow sequenceFlow = createElement(modelInstance, process, identifier, SequenceFlow.class);\n        process.addChildElement(sequenceFlow);\n        sequenceFlow.setSource(from);\n        from.getOutgoing().add(sequenceFlow);\n        sequenceFlow.setTarget(to);\n        to.getIncoming().add(sequenceFlow);\n        return sequenceFlow;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // create an empty model\n        BpmnModelInstance modelInstance = Bpmn.createEmptyModel();\n        Definitions definitions = modelInstance.newInstance(Definitions.class);\n        definitions.setTargetNamespace(\"http://camunda.org/examples\");\n        modelInstance.setDefinitions(definitions);\n\n        // create a process\n        Process process = modelInstance.newInstance(Process.class);\n        process.setId(\"process\");\n        definitions.addChildElement(process);\n\n        // create elements\n        StartEvent startEvent = createElement(modelInstance, process, \"start\", StartEvent.class);\n        ParallelGateway fork = createElement(modelInstance, process, \"fork\", ParallelGateway.class);\n        ServiceTask task1 = createElement(modelInstance, process, \"task1\", ServiceTask.class);\n        task1.setName(\"Service Task\");\n        UserTask task2 = createElement(modelInstance, process, \"task2\", UserTask.class);\n        task2.setName(\"User Task\");\n        ParallelGateway join = createElement(modelInstance, process, \"join\", ParallelGateway.class);\n        EndEvent endEvent = createElement(modelInstance, process, \"end\", EndEvent.class);\n\n        // create flows\n        createSequenceFlow(modelInstance, process, startEvent, fork);\n        createSequenceFlow(modelInstance, process, fork, task1);\n        createSequenceFlow(modelInstance, process, fork, task2);\n        createSequenceFlow(modelInstance, process, task1, join);\n        createSequenceFlow(modelInstance, process, task2, join);\n        createSequenceFlow(modelInstance, process, join, endEvent);\n\n        // validate and write model to file\n        Bpmn.validateModel(modelInstance);\n        File file = new File(\"bpmn-model.bpmn.xml\");\n        file.createNewFile();\n        Bpmn.writeModelToFile(file, modelInstance);\n    }\n}\n</code></pre>\n\n<p>Here the generated BPMN 2.0 xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;definitions id=\"definitions_7b2df680-1d9c-4897-ba8b-a83548ab937f\" targetNamespace=\"http://camunda.org/examples\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"&gt;\n  &lt;process id=\"process\"&gt;\n    &lt;startEvent id=\"start\"&gt;\n      &lt;outgoing&gt;start-fork&lt;/outgoing&gt;\n    &lt;/startEvent&gt;\n    &lt;parallelGateway id=\"fork\"&gt;\n      &lt;incoming&gt;start-fork&lt;/incoming&gt;\n      &lt;outgoing&gt;fork-task1&lt;/outgoing&gt;\n      &lt;outgoing&gt;fork-task2&lt;/outgoing&gt;\n    &lt;/parallelGateway&gt;\n    &lt;serviceTask id=\"task1\" name=\"Service Task\"&gt;\n      &lt;incoming&gt;fork-task1&lt;/incoming&gt;\n      &lt;outgoing&gt;task1-join&lt;/outgoing&gt;\n    &lt;/serviceTask&gt;\n    &lt;userTask id=\"task2\" name=\"User Task\"&gt;\n      &lt;incoming&gt;fork-task2&lt;/incoming&gt;\n      &lt;outgoing&gt;task2-join&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;parallelGateway id=\"join\"&gt;\n      &lt;incoming&gt;task1-join&lt;/incoming&gt;\n      &lt;incoming&gt;task2-join&lt;/incoming&gt;\n      &lt;outgoing&gt;join-end&lt;/outgoing&gt;\n    &lt;/parallelGateway&gt;\n    &lt;endEvent id=\"end\"&gt;\n      &lt;incoming&gt;join-end&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"start-fork\" sourceRef=\"start\" targetRef=\"fork\"/&gt;\n    &lt;sequenceFlow id=\"fork-task1\" sourceRef=\"fork\" targetRef=\"task1\"/&gt;\n    &lt;sequenceFlow id=\"fork-task2\" sourceRef=\"fork\" targetRef=\"task2\"/&gt;\n    &lt;sequenceFlow id=\"task1-join\" sourceRef=\"task1\" targetRef=\"join\"/&gt;\n    &lt;sequenceFlow id=\"task2-join\" sourceRef=\"task2\" targetRef=\"join\"/&gt;\n    &lt;sequenceFlow id=\"join-end\" sourceRef=\"join\" targetRef=\"end\"/&gt;\n  &lt;/process&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p>Altough the validation method, the generated xml appears to be invalid when trying to display the BPMN using both the Camunda Modeler app and <a href=\"https://demo.bpmn.io/\" rel=\"nofollow noreferrer\">bpmn.io</a>.</p>\n\n<p>What is wrong with this example, hence with my code?\nHow can I make the generated xml to be valid? Since bpmn 2.0 is a standard, I'm also a bit surprised of this problem. </p>\n"},{"tags":["java","junit","properties"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653303172,"post_id":72346308,"comment_id":127810437,"body_markdown":"Err, sorry, but which part of the code that you are showing is supposed to write something back into the file? And when you want the test code to MODIFY the file content anyway, why don&#39;t you just put the changed content in there from the beginning?","body":"Err, sorry, but which part of the code that you are showing is supposed to write something back into the file? And when you want the test code to MODIFY the file content anyway, why don&#39;t you just put the changed content in there from the beginning?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653303201,"post_id":72346308,"comment_id":127810447,"body_markdown":"Also note that there is no point in duplicating that code, and calling System.exit() isn&#39;t something you should be doing in your testcode?!","body":"Also note that there is no point in duplicating that code, and calling System.exit() isn&#39;t something you should be doing in your testcode?!"},{"owner":{"account_id":25364455,"reputation":1,"user_id":19179244,"display_name":"Zufido"},"score":0,"creation_date":1653304753,"post_id":72346308,"comment_id":127811021,"body_markdown":"I thought `config.setProperty(&quot;theKey&quot;,true);` would change the content. The first code block is in my unit under test. The lower code part is in my @Test. What do you mean by putting it there from the beginning? I do not want to change the config file by hand. I want one @Test to run the unit with the property set to true and one @Test to run the unit with property set to false. I just do not have enough experience in unit testing (barely any) to make this work. The property changes the execution behaviour and I need to test both behaviours. So I need a way to feed true and false to the unit","body":"I thought <code>config.setProperty(&quot;theKey&quot;,true);</code> would change the content. The first code block is in my unit under test. The lower code part is in my @Test. What do you mean by putting it there from the beginning? I do not want to change the config file by hand. I want one @Test to run the unit with the property set to true and one @Test to run the unit with property set to false. I just do not have enough experience in unit testing (barely any) to make this work. The property changes the execution behaviour and I need to test both behaviours. So I need a way to feed true and false to the unit"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653308210,"post_id":72346308,"comment_id":127812308,"body_markdown":"Then the real answer is: your production code should have a way to **inject** such a configuration object. Meaning: A) write one method that pulls a Config object from the file ... and all your other code only works with that object B) now, in your test setup, you make it possible that the production code doesn&#39;t read the Config object itself, but just receives a Config object ... that your test code prepared. \nIt is a REALLY bad idea to have your unit test write a file that the production code is using.","body":"Then the real answer is: your production code should have a way to <b>inject</b> such a configuration object. Meaning: A) write one method that pulls a Config object from the file ... and all your other code only works with that object B) now, in your test setup, you make it possible that the production code doesn&#39;t read the Config object itself, but just receives a Config object ... that your test code prepared.  It is a REALLY bad idea to have your unit test write a file that the production code is using."}],"owner":{"account_id":25364455,"reputation":1,"user_id":19179244,"display_name":"Zufido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653298644,"creation_date":1653298578,"question_id":72346308,"body_markdown":"in my project I load an attribute via a properties file like this (Using `org.apache.commons.configuration2`)\r\n\r\n    Configurations configs = new Configurations();\r\n        try {\r\n            config = configs.properties(new File(&quot;config.properties&quot;));\r\n        } catch (ConfigurationException cex) {\r\n            LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\r\n            System.exit(1);\r\n        }\r\n\r\n    config.getString(&quot;theKey&quot;,INVALID);\r\n\r\n\r\nWhen writing the unit test for that module I would like to switch between the config values, so that both values for &quot;theKey&quot; are tested (true and false).\r\n\r\nI copied the config.properties file into my test/ressources directory and it seems that this file is correctly being used but when I try to overwrite the property it never actually gets written into the file so the unit under test always loads the hardcoded value from the properties file.\r\n\r\nI am trying to overwrite it like this (within my JUnit test):\r\n\r\n    Configurations configs = new Configurations();\r\n    try {\r\n        config = configs.properties(new File(&quot;config.properties&quot;));\r\n    } catch (ConfigurationException cex) {\r\n        LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\r\n        System.exit(1);\r\n    }\r\n    config.setProperty(&quot;theKey&quot;,true);\r\n\r\n\r\nHow can I overwrite properties so that my module sees the updated values?","title":"Overwriting a properties file in JUnit test does not work","body":"<p>in my project I load an attribute via a properties file like this (Using <code>org.apache.commons.configuration2</code>)</p>\n<pre><code>Configurations configs = new Configurations();\n    try {\n        config = configs.properties(new File(&quot;config.properties&quot;));\n    } catch (ConfigurationException cex) {\n        LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\n        System.exit(1);\n    }\n\nconfig.getString(&quot;theKey&quot;,INVALID);\n</code></pre>\n<p>When writing the unit test for that module I would like to switch between the config values, so that both values for &quot;theKey&quot; are tested (true and false).</p>\n<p>I copied the config.properties file into my test/ressources directory and it seems that this file is correctly being used but when I try to overwrite the property it never actually gets written into the file so the unit under test always loads the hardcoded value from the properties file.</p>\n<p>I am trying to overwrite it like this (within my JUnit test):</p>\n<pre><code>Configurations configs = new Configurations();\ntry {\n    config = configs.properties(new File(&quot;config.properties&quot;));\n} catch (ConfigurationException cex) {\n    LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\n    System.exit(1);\n}\nconfig.setProperty(&quot;theKey&quot;,true);\n</code></pre>\n<p>How can I overwrite properties so that my module sees the updated values?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8669,"page":1323,"page_size":100}
