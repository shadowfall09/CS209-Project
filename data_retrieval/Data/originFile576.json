{"items":[{"tags":["java","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1426544005,"creation_date":1426544005,"answer_id":29087917,"question_id":29030542,"body_markdown":"`MongoTemplate` does not have methods to return `Page`. The `find()` methods return an ordinary `List`.\r\n\r\n`with(new PageRequests(page, size)` is used internally to adjust `skip` and `limit` with a MongoDB query (proceeded by a count query I think)\r\n\r\n`Page` can be used in conjunction with [MongoDB repositories][1] which is a specialized case of Spring data repositories.\r\n\r\nThus, you&#39;ll have to use `MongoRepository`&#39;s `Page findAll(Pageable pageable)` for paginated results (actually inherited from `PagingAndSortingRepository`).\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo.repositories","title":"Pagination with mongoTemplate","body":"<p><code>MongoTemplate</code> does not have methods to return <code>Page</code>. The <code>find()</code> methods return an ordinary <code>List</code>.</p>\n\n<p><code>with(new PageRequests(page, size)</code> is used internally to adjust <code>skip</code> and <code>limit</code> with a MongoDB query (proceeded by a count query I think)</p>\n\n<p><code>Page</code> can be used in conjunction with <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongo.repositories\" rel=\"noreferrer\">MongoDB repositories</a> which is a specialized case of Spring data repositories.</p>\n\n<p>Thus, you'll have to use <code>MongoRepository</code>'s <code>Page findAll(Pageable pageable)</code> for paginated results (actually inherited from <code>PagingAndSortingRepository</code>).</p>\n"},{"comments":[{"owner":{"account_id":4059905,"reputation":1265,"user_id":3541666,"accept_rate":0,"display_name":"Vazgen Torosyan"},"score":0,"creation_date":1508136298,"post_id":46395770,"comment_id":80473916,"body_markdown":"and where is class PageableExecutionUtils ?","body":"and where is class PageableExecutionUtils ?"},{"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"score":1,"creation_date":1508148646,"post_id":46395770,"comment_id":80480795,"body_markdown":"From Spring Data commons: https://github.com/spring-projects/spring-data-commons/blob/master/src/main/java/org/springframework/data/repository/support/PageableExecutionUtils.java","body":"From Spring Data commons: <a href=\"https://github.com/spring-projects/spring-data-commons/blob/master/src/main/java/org/springframework/data/repository/support/PageableExecutionUtils.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-commons/blob/master/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":67352,"reputation":12470,"user_id":197127,"accept_rate":69,"display_name":"checklist"},"score":0,"creation_date":1526398883,"post_id":46395770,"comment_id":87724711,"body_markdown":"Doesn&#39;t this cause the query to run twice on MongoDB side with the added overhead over the net?","body":"Doesn&#39;t this cause the query to run twice on MongoDB side with the added overhead over the net?"},{"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"score":0,"creation_date":1526417762,"post_id":46395770,"comment_id":87734725,"body_markdown":"@checklist yes, the query runs twice. Since the query should run against an indexed collection it shouldn&#39;t be a big deal. Okay, if you are facebook or twitter it could be a big deal ;D. I don&#39;t have another solution","body":"@checklist yes, the query runs twice. Since the query should run against an indexed collection it shouldn&#39;t be a big deal. Okay, if you are facebook or twitter it could be a big deal ;D. I don&#39;t have another solution"},{"owner":{"account_id":356896,"reputation":1317,"user_id":696714,"accept_rate":56,"display_name":"TOUDIdel"},"score":0,"creation_date":1577793672,"post_id":46395770,"comment_id":105256568,"body_markdown":"@checklist: Yes, exactly like mongodb: https://github.com/spring-projects/spring-data-mongodb/blob/3012bcd575d85ad7cd11e07962fc168d4bbc98b2/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L275-L285","body":"@checklist: Yes, exactly like mongodb: <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/3012bcd575d85ad7cd11e07962fc168d4bbc98b2/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L275-L285\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-mongodb/blob/&hellip;</a>"},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":3,"creation_date":1592930260,"post_id":46395770,"comment_id":110599093,"body_markdown":"This is interesting but if your query returns hundreds of thousands or millions of rows w/o pagination, this is going to cripple your server when it tries to read all those documents into memory.  Much better to use aggregation framework","body":"This is interesting but if your query returns hundreds of thousands or millions of rows w/o pagination, this is going to cripple your server when it tries to read all those documents into memory.  Much better to use aggregation framework"},{"owner":{"account_id":2123935,"reputation":851,"user_id":1886601,"accept_rate":91,"display_name":"java_newbie"},"score":1,"creation_date":1623690318,"post_id":46395770,"comment_id":120144986,"body_markdown":"@d0x would you plz advise why you cannot use list.size() to get total elements?","body":"@d0x would you plz advise why you cannot use list.size() to get total elements?"},{"owner":{"account_id":189342,"reputation":1773,"user_id":428628,"display_name":"Michael R"},"score":0,"creation_date":1646282510,"post_id":46395770,"comment_id":126086293,"body_markdown":"What about `query.with(Pageable.unpaged())` instead of `query.limit(-1).skip(-1)`?","body":"What about <code>query.with(Pageable.unpaged())</code> instead of <code>query.limit(-1).skip(-1)</code>?"}],"tags":[],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"comment_count":8,"down_vote_count":2,"up_vote_count":87,"is_accepted":true,"score":85,"last_activity_date":1581766147,"creation_date":1506295409,"answer_id":46395770,"question_id":29030542,"body_markdown":"It&#39;s true that the `MongoTemplate` doesn&#39;t have `findXXX` with Pageables.\r\n\r\nBut you can use the Spring Repository `PageableExecutionUtils` for that.\r\n\r\nIn your example it would look like this:\r\n\r\n    Pageable pageable = new PageRequests(page, size);\r\n    Query query = new Query().with(pageable);\r\n    List&lt;XXX&gt; list = mongoTemplate.find(query, XXX.class);\r\n    return PageableExecutionUtils.getPage(\r\n                           list, \r\n                           pageable, \r\n                           () -&gt; mongoTemplate.count(Query.of(query).limit(-1).skip(-1), XXX.class));\r\n\r\nLike in the original Spring Data Repository, the `PageableExecutionUtils` will do a count request and wrap it into a nice `Page` for you.\r\n\r\n[Here][1] you can see that spring is doing the same.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L280-L292","title":"Pagination with mongoTemplate","body":"<p>It's true that the <code>MongoTemplate</code> doesn't have <code>findXXX</code> with Pageables.</p>\n\n<p>But you can use the Spring Repository <code>PageableExecutionUtils</code> for that.</p>\n\n<p>In your example it would look like this:</p>\n\n<pre><code>Pageable pageable = new PageRequests(page, size);\nQuery query = new Query().with(pageable);\nList&lt;XXX&gt; list = mongoTemplate.find(query, XXX.class);\nreturn PageableExecutionUtils.getPage(\n                       list, \n                       pageable, \n                       () -&gt; mongoTemplate.count(Query.of(query).limit(-1).skip(-1), XXX.class));\n</code></pre>\n\n<p>Like in the original Spring Data Repository, the <code>PageableExecutionUtils</code> will do a count request and wrap it into a nice <code>Page</code> for you.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L280-L292\" rel=\"noreferrer\">Here</a> you can see that spring is doing the same.</p>\n"},{"comments":[{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":9,"creation_date":1618996749,"post_id":48434811,"comment_id":118769040,"body_markdown":"just fyi: for getting correct count value - the query should reset: skip, limit values. The count call should be: `mongoOperations.count(query.skip(-1).limit(-1), YourObjectType.class)`. Otherwise it will return incorrect count for the query.","body":"just fyi: for getting correct count value - the query should reset: skip, limit values. The count call should be: <code>mongoOperations.count(query.skip(-1).limit(-1), YourObjectType.class)</code>. Otherwise it will return incorrect count for the query."},{"owner":{"account_id":10605946,"reputation":116,"user_id":7811351,"display_name":"Hoxtygen"},"score":1,"creation_date":1694209671,"post_id":48434811,"comment_id":135866300,"body_markdown":"@eg04lt3r you&#39;re right. I spent a whole day trying to understand and fix it. It actually returns the count of the current page instead of the total count of the results. Adding skip and limit solves that problem.","body":"@eg04lt3r you&#39;re right. I spent a whole day trying to understand and fix it. It actually returns the count of the current page instead of the total count of the results. Adding skip and limit solves that problem."}],"tags":[],"owner":{"account_id":2614947,"reputation":1153,"user_id":2264206,"display_name":"Razzlero"},"comment_count":2,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1516848141,"creation_date":1516848141,"answer_id":48434811,"question_id":29030542,"body_markdown":"Based on d0x&#39;s answer and looking at the [spring code](https://github.com/spring-projects/spring-data-mongodb/blob/3012bcd575d85ad7cd11e07962fc168d4bbc98b2/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L275-L285). I&#39;m using this variation which works off the spring-boot-starter-data-mongodb dependency without needing to add spring data commons.\r\n\r\n\r\n\r\n\r\n    @Autowired\r\n    private MongoOperations mongoOperations;\r\n\r\n    @Override\r\n    public Page&lt;YourObjectType&gt; searchCustom(Pageable pageable) {\r\n        Query query = new Query().with(pageable);\r\n        // Build your query here\r\n\t\t\r\n        List&lt;YourObjectType&gt; list = mongoOperations.find(query, YourObjectType.class);\r\n        long count = mongoOperations.count(query, YourObjectType.class);\r\n        Page&lt;YourObjectType&gt; resultPage = new PageImpl&lt;YourObjectType&gt;(list , pageable, count);\r\n        return resultPage;\r\n    }","title":"Pagination with mongoTemplate","body":"<p>Based on d0x's answer and looking at the <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/3012bcd575d85ad7cd11e07962fc168d4bbc98b2/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/repository/support/SimpleMongoRepository.java#L275-L285\" rel=\"noreferrer\">spring code</a>. I'm using this variation which works off the spring-boot-starter-data-mongodb dependency without needing to add spring data commons.</p>\n\n<pre><code>@Autowired\nprivate MongoOperations mongoOperations;\n\n@Override\npublic Page&lt;YourObjectType&gt; searchCustom(Pageable pageable) {\n    Query query = new Query().with(pageable);\n    // Build your query here\n\n    List&lt;YourObjectType&gt; list = mongoOperations.find(query, YourObjectType.class);\n    long count = mongoOperations.count(query, YourObjectType.class);\n    Page&lt;YourObjectType&gt; resultPage = new PageImpl&lt;YourObjectType&gt;(list , pageable, count);\n    return resultPage;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565627,"reputation":79,"user_id":3706705,"display_name":"velastiqui"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584362307,"creation_date":1584006303,"answer_id":60651344,"question_id":29030542,"body_markdown":"    return type Mono&lt;Page&lt;Myobject&gt;&gt;...\r\n\r\n    return this.myobjectRepository.count()\r\n            .flatMap(ptiCount -&gt; {\r\n              return this.myobjectRepository.findAll(pageable.getSort())\r\n                .buffer(pageable.getPageSize(),(pageable.getPageNumber() + 1))\r\n                .elementAt(pageable.getPageNumber(), new ArrayList&lt;&gt;())\r\n                .map(ptis -&gt; new PageImpl&lt;Myobject&gt;(ptis, pageable, ptiCount));\r\n            });","title":"Pagination with mongoTemplate","body":"<pre><code>return type Mono&lt;Page&lt;Myobject&gt;&gt;...\n\nreturn this.myobjectRepository.count()\n        .flatMap(ptiCount -&gt; {\n          return this.myobjectRepository.findAll(pageable.getSort())\n            .buffer(pageable.getPageSize(),(pageable.getPageNumber() + 1))\n            .elementAt(pageable.getPageNumber(), new ArrayList&lt;&gt;())\n            .map(ptis -&gt; new PageImpl&lt;Myobject&gt;(ptis, pageable, ptiCount));\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16927594,"reputation":309,"user_id":12242811,"display_name":"Esaldino Fonseca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610705151,"creation_date":1610705151,"answer_id":65734081,"question_id":29030542,"body_markdown":"By default, spring mongo template has no method to find by page. It searches, and returns the whole list of records. I Tried this, and It worke:\r\n\r\n    Pageable pageable = new PageRequests(0, 10);                              \r\n    Query query = new Query(criteria); \r\n    query.with(pageable);   \r\n    List&lt;User&gt; lusers = mt.find(query, User.class);   \r\n    Page&lt;User&gt; pu = new PageImpl&lt;&gt;(lusers, pageable, mongoTemplate.count(newQuery(criteria), User.class));\r\n\r\n","title":"Pagination with mongoTemplate","body":"<p>By default, spring mongo template has no method to find by page. It searches, and returns the whole list of records. I Tried this, and It worke:</p>\n<pre><code>Pageable pageable = new PageRequests(0, 10);                              \nQuery query = new Query(criteria); \nquery.with(pageable);   \nList&lt;User&gt; lusers = mt.find(query, User.class);   \nPage&lt;User&gt; pu = new PageImpl&lt;&gt;(lusers, pageable, mongoTemplate.count(newQuery(criteria), User.class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9981065,"reputation":160,"user_id":7384006,"display_name":"Surendra Meena"},"score":0,"creation_date":1675349662,"post_id":68572659,"comment_id":132913619,"body_markdown":"you need to add pageRequest in the query eq. query.with(pageRequest) in the first snippet of your code. rest is fine. skip,limit are required to configure the total page count logic.","body":"you need to add pageRequest in the query eq. query.with(pageRequest) in the first snippet of your code. rest is fine. skip,limit are required to configure the total page count logic."}],"tags":[],"owner":{"account_id":14853653,"reputation":369,"user_id":10726803,"display_name":"keemsisi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627547620,"creation_date":1627547620,"answer_id":68572659,"question_id":29030542,"body_markdown":"None of the solutions provided here worked in my own case.\r\nI tried using this solution below from a medium post and it has never returned the paged results but returns ALL the results which is not what I am expecting \r\n\r\n    return PageableExecutionUtils.getPage(\r\n            mongoTemplate.find(query, ClassName.class),\r\n            pageable,\r\n            () -&gt; mongoTemplate.count(query.skip(0).limit(0), ClassName.class)\r\n    );\r\n    \r\nSo I found out a better way to go about it and it worked in my case:\r\n    \r\n\r\n    return PageableExecutionUtils.getPage(\r\n                mongoTemplate.find(query.with(pageable), ClassName.class),\r\n                pageable,\r\n                () -&gt; mongoTemplate.count(query, ClassName.class));\r\n\r\n","title":"Pagination with mongoTemplate","body":"<p>None of the solutions provided here worked in my own case.\nI tried using this solution below from a medium post and it has never returned the paged results but returns ALL the results which is not what I am expecting</p>\n<pre><code>return PageableExecutionUtils.getPage(\n        mongoTemplate.find(query, ClassName.class),\n        pageable,\n        () -&gt; mongoTemplate.count(query.skip(0).limit(0), ClassName.class)\n);\n</code></pre>\n<p>So I found out a better way to go about it and it worked in my case:</p>\n<pre><code>return PageableExecutionUtils.getPage(\n            mongoTemplate.find(query.with(pageable), ClassName.class),\n            pageable,\n            () -&gt; mongoTemplate.count(query, ClassName.class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1692213779,"post_id":75739509,"comment_id":135594637,"body_markdown":"The problem with this is it will not make use of the index for sorting. $facets do not make use of indexes forcing this whole query use disk for sorting","body":"The problem with this is it will not make use of the index for sorting. $facets do not make use of indexes forcing this whole query use disk for sorting"}],"tags":[],"owner":{"account_id":3654799,"reputation":573,"user_id":3046117,"display_name":"supik"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678842113,"creation_date":1678839723,"answer_id":75739509,"question_id":29030542,"body_markdown":"All answers so far are executing the query twice. This is not normally what you want. Here&#39;s a solution using aggregations to run it only once.\r\n\r\n    public class Result&lt;T&gt; {\r\n        int totalCount;\r\n        List&lt;T&gt; objects;\r\n    }\r\n\r\n    public &lt;T, R extends Result&lt;T&gt;&gt; R executePaged(Class&lt;T&gt; inputType,\r\n                                                   Criteria criteria,\r\n                                                   Pageable pageable,\r\n                                                   Class&lt;R&gt; resultType) {\r\n        var match = Aggregation.match(criteria);\r\n        var facets = Aggregation\r\n                .facet(\r\n                        Aggregation.sort(pageable.getSort()),\r\n                        Aggregation.skip(pageable.getOffset()),\r\n                        Aggregation.limit(pageable.getPageSize())\r\n                ).as(&quot;objects&quot;)\r\n                .and(\r\n                        Aggregation.count().as(&quot;count&quot;)\r\n                ).as(&quot;countFacet&quot;);\r\n        var project = Aggregation\r\n                .project(&quot;objects&quot;)\r\n                .and(&quot;$countFacet.count&quot;).arrayElementAt(0).as(&quot;totalCount&quot;);\r\n\r\n        var aggregation = Aggregation.newAggregation(match, facets, project);\r\n        return mongoTemplate.aggregate(aggregation, inputType, resultType)\r\n                .getUniqueMappedResult();\r\n    }\r\n\r\nNotes:\r\n- Extend and parameterize `Result&lt;T&gt;` to pass as `resultType`, otherwise the deserializer doesn&#39;t know what class to use\r\n- `pageable` must be created with a `Sort`\r\n- If desired, you can still create a `PageImpl` afterwards\r\n\r\n\r\nExample:\r\n\r\n    class Person {\r\n        String name;\r\n        Date birthdate;\r\n    }\r\n\r\n    class PersonResult extends Result&lt;Person&gt;{}\r\n\r\n    PersonResult result = executePaged(Person.class,\r\n          Criteria.where(&quot;name&quot;).is(&quot;John&quot;),\r\n          PageRequest.of(3, 50).withSort(Sort.by(&quot;birthdate&quot;)),\r\n          PersonResult.class);\r\n\r\n    System.out.println(&quot;Total #Johns: &quot; + result.totalCount);\r\n    System.out.println(&quot;Johns on this page: &quot; + result.objects);\r\n","title":"Pagination with mongoTemplate","body":"<p>All answers so far are executing the query twice. This is not normally what you want. Here's a solution using aggregations to run it only once.</p>\n<pre><code>public class Result&lt;T&gt; {\n    int totalCount;\n    List&lt;T&gt; objects;\n}\n\npublic &lt;T, R extends Result&lt;T&gt;&gt; R executePaged(Class&lt;T&gt; inputType,\n                                               Criteria criteria,\n                                               Pageable pageable,\n                                               Class&lt;R&gt; resultType) {\n    var match = Aggregation.match(criteria);\n    var facets = Aggregation\n            .facet(\n                    Aggregation.sort(pageable.getSort()),\n                    Aggregation.skip(pageable.getOffset()),\n                    Aggregation.limit(pageable.getPageSize())\n            ).as(&quot;objects&quot;)\n            .and(\n                    Aggregation.count().as(&quot;count&quot;)\n            ).as(&quot;countFacet&quot;);\n    var project = Aggregation\n            .project(&quot;objects&quot;)\n            .and(&quot;$countFacet.count&quot;).arrayElementAt(0).as(&quot;totalCount&quot;);\n\n    var aggregation = Aggregation.newAggregation(match, facets, project);\n    return mongoTemplate.aggregate(aggregation, inputType, resultType)\n            .getUniqueMappedResult();\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>Extend and parameterize <code>Result&lt;T&gt;</code> to pass as <code>resultType</code>, otherwise the deserializer doesn't know what class to use</li>\n<li><code>pageable</code> must be created with a <code>Sort</code></li>\n<li>If desired, you can still create a <code>PageImpl</code> afterwards</li>\n</ul>\n<p>Example:</p>\n<pre><code>class Person {\n    String name;\n    Date birthdate;\n}\n\nclass PersonResult extends Result&lt;Person&gt;{}\n\nPersonResult result = executePaged(Person.class,\n      Criteria.where(&quot;name&quot;).is(&quot;John&quot;),\n      PageRequest.of(3, 50).withSort(Sort.by(&quot;birthdate&quot;)),\n      PersonResult.class);\n\nSystem.out.println(&quot;Total #Johns: &quot; + result.totalCount);\nSystem.out.println(&quot;Johns on this page: &quot; + result.objects);\n</code></pre>\n"}],"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52316,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":46395770,"answer_count":7,"score":37,"last_activity_date":1678842113,"creation_date":1426244434,"question_id":29030542,"body_markdown":"I have a Query with Pageable:\r\n\r\n    Query query = new Query().with(new PageRequests(page, size))\r\n\r\nHow can I execute it with MongoTemplate ? I don&#39;t see a single method returning `Page&lt;T&gt;`.","title":"Pagination with mongoTemplate","body":"<p>I have a Query with Pageable:</p>\n\n<pre><code>Query query = new Query().with(new PageRequests(page, size))\n</code></pre>\n\n<p>How can I execute it with MongoTemplate ? I don't see a single method returning <code>Page&lt;T&gt;</code>.</p>\n"},{"tags":["java","variables","call","cloudsim"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678794815,"post_id":75732771,"comment_id":133598897,"body_markdown":"`and the problem is the methos DoSomeCalcul() is called before the calcul of the variable Cloudmakespan` - then this is impossible. You cannot do `DoSomeCalcul` if a required value has not been calculated yet.","body":"<code>and the problem is the methos DoSomeCalcul() is called before the calcul of the variable Cloudmakespan</code> - then this is impossible. You cannot do <code>DoSomeCalcul</code> if a required value has not been calculated yet."},{"owner":{"account_id":27973738,"reputation":3,"user_id":21362985,"display_name":"Mohammed El-Amine ghomari"},"score":0,"creation_date":1678794974,"post_id":75732771,"comment_id":133598942,"body_markdown":"can i use a thread that do a simulation to calcul the variable before the final simulation?","body":"can i use a thread that do a simulation to calcul the variable before the final simulation?"}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678840177,"creation_date":1678840177,"answer_id":75739547,"question_id":75732771,"body_markdown":"Maybe you can loop multiple times in &quot;DoSomeCalcul&quot; until variable Cloudmakespan is ready. Of course, It is low efficiency in this way. It is better to call back &quot;DoSomeCalcul&quot; when Cloudmakespan is ready.","title":"get a value from a method main Class A to another method Class B","body":"<p>Maybe you can loop multiple times in &quot;DoSomeCalcul&quot; until variable Cloudmakespan is ready. Of course, It is low efficiency in this way. It is better to call back &quot;DoSomeCalcul&quot; when Cloudmakespan is ready.</p>\n"}],"owner":{"account_id":27973738,"reputation":3,"user_id":21362985,"display_name":"Mohammed El-Amine ghomari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75739547,"answer_count":1,"score":-3,"last_activity_date":1678840177,"creation_date":1678794620,"question_id":75732771,"body_markdown":"I declared the variable public static in the first class A so, I can access it from Class B\r\nbut, the variable can be only calculated in the main method of Class A and it&#39;s calculable I get the value in the same class but in the class B I get a zero :\r\n\r\n\r\n\r\n```\r\npublic class A {\r\npublic static double CloudMakespan;\r\n\r\n\r\n public static double  CalculCloudMakespan(){\r\n                          \r\n                         double cloudms = 0;\r\n   \r\n                         int A= SimulationSetup.getCloudlet().length-1;\r\n                         \r\n  double executionEndTimeLastCloudlet = SimulationSetup.getCloudlet([A].getFinishTime();\r\n        \r\n  double executionStartTimeFisrtCloudlet=SimulationSetup.getCloudlet()[0].getExecStartTime();\r\n                         \r\n                          cloudms= executionEndTimeLastCloudlet - executionStartTimeFisrtCloudlet;\r\n                       \r\n                          return cloudms; }\r\n\r\n\r\n`public static void main(String[] args){\r\n\r\n\r\n\r\nCloudsim.startSimulation();\r\nCloudsim.EndSimulation();\r\nCloudMakespan=CalculCloudMakespan();\r\n\r\n\r\n}\r\n\r\ni tried to do this in Class B\r\n\r\nClass B{\r\nprivate double totalMakespan;\r\nprivate tasksMakespan;\r\n\r\npublic double doSomeCalCul(){\r\n\r\ntotalMakespan=ClassA.CloudMakespan+taskMakespan;\r\n\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nthe problem is the method DoSomeCalcul() is called before the calcul of the variable Cloudmakespan\r\n\r\nand I can&#39;t call it after that because starting the simulation is the result of specified instructions one of them is calculating the Cloud Makespan`your text`","title":"get a value from a method main Class A to another method Class B","body":"<p>I declared the variable public static in the first class A so, I can access it from Class B\nbut, the variable can be only calculated in the main method of Class A and it's calculable I get the value in the same class but in the class B I get a zero :</p>\n<pre><code>public class A {\npublic static double CloudMakespan;\n\n\n public static double  CalculCloudMakespan(){\n                          \n                         double cloudms = 0;\n   \n                         int A= SimulationSetup.getCloudlet().length-1;\n                         \n  double executionEndTimeLastCloudlet = SimulationSetup.getCloudlet([A].getFinishTime();\n        \n  double executionStartTimeFisrtCloudlet=SimulationSetup.getCloudlet()[0].getExecStartTime();\n                         \n                          cloudms= executionEndTimeLastCloudlet - executionStartTimeFisrtCloudlet;\n                       \n                          return cloudms; }\n\n\n`public static void main(String[] args){\n\n\n\nCloudsim.startSimulation();\nCloudsim.EndSimulation();\nCloudMakespan=CalculCloudMakespan();\n\n\n}\n\ni tried to do this in Class B\n\nClass B{\nprivate double totalMakespan;\nprivate tasksMakespan;\n\npublic double doSomeCalCul(){\n\ntotalMakespan=ClassA.CloudMakespan+taskMakespan;\n\n\n}\n\n\n\n}\n</code></pre>\n<p>the problem is the method DoSomeCalcul() is called before the calcul of the variable Cloudmakespan</p>\n<p>and I can't call it after that because starting the simulation is the result of specified instructions one of them is calculating the Cloud Makespan<code>your text</code></p>\n"},{"tags":["java","scala","enums","enumeration"],"comments":[{"owner":{"account_id":142256,"reputation":3008,"user_id":349842,"accept_rate":62,"display_name":"Ross"},"score":1,"creation_date":1291390492,"post_id":4346580,"comment_id":4727621,"body_markdown":"Not an answer to your question but have you considered using case objects instead of Enumerations as discussed here: http://stackoverflow.com/questions/1898932/case-classes-vs-enumerations-in-scala","body":"Not an answer to your question but have you considered using case objects instead of Enumerations as discussed here: <a href=\"http://stackoverflow.com/questions/1898932/case-classes-vs-enumerations-in-scala\" title=\"case classes vs enumerations in scala\">stackoverflow.com/questions/1898932/&hellip;</a>"},{"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"score":1,"creation_date":1291406717,"post_id":4346580,"comment_id":4731056,"body_markdown":"I&#39;ve already answered this question at (with several options) at http://stackoverflow.com/questions/4235250/scala-enumerations-with-singleton-objects-as-enumeration-elements-and-a-possibili","body":"I&#39;ve already answered this question at (with several options) at <a href=\"http://stackoverflow.com/questions/4235250/scala-enumerations-with-singleton-objects-as-enumeration-elements-and-a-possibili\" title=\"scala enumerations with singleton objects as enumeration elements and a possibili\">stackoverflow.com/questions/4235250/&hellip;</a>"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1411081571,"post_id":4346580,"comment_id":40581192,"body_markdown":"After doing extensive research on options, I posted a much more complete overview of this domain including a general solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: http://stackoverflow.com/a/25923651/501113","body":"After doing extensive research on options, I posted a much more complete overview of this domain including a general solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: <a href=\"http://stackoverflow.com/a/25923651/501113\">stackoverflow.com/a/25923651/501113</a>"}],"answers":[{"comments":[{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":0,"creation_date":1291388070,"post_id":4346618,"comment_id":4727133,"body_markdown":"@axel22: If they would get around fixing bug #4023 I would finally be able to create an `Enum` which combines all benefits of the class/object-based approach with all benefits of the `extends scala.Enumeration` approach ...","body":"@axel22: If they would get around fixing bug #4023 I would finally be able to create an <code>Enum</code> which combines all benefits of the class/object-based approach with all benefits of the <code>extends scala.Enumeration</code> approach ..."},{"owner":{"account_id":15931,"reputation":14364,"user_id":34201,"display_name":"andrewmu"},"score":0,"creation_date":1291388169,"post_id":4346618,"comment_id":4727151,"body_markdown":"Would it be possible to define an implicit cast from the particular enumeration to a class that contains the method?","body":"Would it be possible to define an implicit cast from the particular enumeration to a class that contains the method?"},{"owner":{"account_id":205047,"reputation":32145,"user_id":453594,"accept_rate":82,"display_name":"axel22"},"score":0,"creation_date":1291388240,"post_id":4346618,"comment_id":4727163,"body_markdown":"@soc: perhaps the awaited scala reflection library might solve the issues of declared inner classes...","body":"@soc: perhaps the awaited scala reflection library might solve the issues of declared inner classes..."},{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":0,"creation_date":1291388362,"post_id":4346618,"comment_id":4727185,"body_markdown":"Well, there are some ways which can work around it. But I want to have an DRY approach, because easy things should be easy and not be cluttered with useless boiler plate.","body":"Well, there are some ways which can work around it. But I want to have an DRY approach, because easy things should be easy and not be cluttered with useless boiler plate."},{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":0,"creation_date":1291388909,"post_id":4346618,"comment_id":4727294,"body_markdown":"axel22: Well, I&#39;m not really sure on how much of the Java reflection support it will reuse. (Implementing everything without some help of the JVM will be dog slow and bloat the .class files considerably.) Depending on the level of re-usage `sala.reflect` will have the same problem. IMHO fixing the bug is the obvious solution.","body":"axel22: Well, I&#39;m not really sure on how much of the Java reflection support it will reuse. (Implementing everything without some help of the JVM will be dog slow and bloat the .class files considerably.) Depending on the level of re-usage <code>sala.reflect</code> will have the same problem. IMHO fixing the bug is the obvious solution."},{"owner":{"account_id":205047,"reputation":32145,"user_id":453594,"accept_rate":82,"display_name":"axel22"},"score":0,"creation_date":1291389449,"post_id":4346618,"comment_id":4727399,"body_markdown":"@soc: you&#39;re probably right, I imagine `getDeclaredClasses` should be faster.","body":"@soc: you&#39;re probably right, I imagine <code>getDeclaredClasses</code> should be faster."},{"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"score":1,"creation_date":1291406887,"post_id":4346618,"comment_id":4731093,"body_markdown":"@soc: at least when they write `scala.reflect`, they&#39;ll have to test that everything works the way it should.","body":"@soc: at least when they write <code>scala.reflect</code>, they&#39;ll have to test that everything works the way it should."},{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":1,"creation_date":1291415428,"post_id":4346618,"comment_id":4732502,"body_markdown":"@Ken: I hope they fix it earlier than that :-)","body":"@Ken: I hope they fix it earlier than that :-)"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1411081435,"post_id":4346618,"comment_id":40581148,"body_markdown":"@soc After doing extensive research on options, I posted a much more complete overview of this domain including a solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: http://stackoverflow.com/a/25923651/501113","body":"@soc After doing extensive research on options, I posted a much more complete overview of this domain including a solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: <a href=\"http://stackoverflow.com/a/25923651/501113\">stackoverflow.com/a/25923651/501113</a>"}],"tags":[],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"comment_count":9,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376917436,"creation_date":1291387404,"answer_id":4346618,"question_id":4346580,"body_markdown":"Scala [enumerations][1] are distinct from Java enumerations.\r\n\r\nAt the moment, there is no way add methods to it (in a sane way). There are some work-arounds, but nothing which works in all cases _and_ doesn&#39;t look like syntactic garbage.\r\n\r\nI tried something similiar (adding methods to enumerated instance of a class, while being able to create new instances at runtime and having a working equivalence relationship between the `object`s and the `new` instances of the class), but was stopped by bug [#4023][2] (&quot;getClasses/getDeclaredClasses seems to miss some (REPL) or all (scalac) classes (objects) declared&quot;).\r\n\r\nHave a look at these related questions by me:\r\n\r\n  - [Is it possible to “explore” which objects are defined within an other object via reflection at runtime?][3]\r\n  - [How to access objects within an object by mixing in a trait with reflection?][4]\r\n\r\n\r\nHonestly, I wouldn&#39;t use `Enumeration`. This is a class originating from Scala 1.0 (2004) and it has weird stuff in it and not many people (except those who have written it) understands how to use it without an tutorial first.\r\n\r\nIf I would absolutely need an enumeration I would just write that class in Java.\r\n\r\n\r\n  [1]: http://www.scala-lang.org/api/current/index.html#scala.Enumeration\r\n  [2]: http://lampsvn.epfl.ch/trac/scala/ticket/4023\r\n  [3]: https://stackoverflow.com/questions/4248521/is-it-possible-to-explore-which-objects-are-defined-within-an-other-object-via\r\n  [4]: https://stackoverflow.com/questions/4239594/how-to-access-objects-within-an-object-by-mixing-in-a-trait-with-reflection","title":"How to add a method to Enumeration in Scala?","body":"<p>Scala <a href=\"http://www.scala-lang.org/api/current/index.html#scala.Enumeration\" rel=\"nofollow noreferrer\">enumerations</a> are distinct from Java enumerations.</p>\n\n<p>At the moment, there is no way add methods to it (in a sane way). There are some work-arounds, but nothing which works in all cases <em>and</em> doesn't look like syntactic garbage.</p>\n\n<p>I tried something similiar (adding methods to enumerated instance of a class, while being able to create new instances at runtime and having a working equivalence relationship between the <code>object</code>s and the <code>new</code> instances of the class), but was stopped by bug <a href=\"http://lampsvn.epfl.ch/trac/scala/ticket/4023\" rel=\"nofollow noreferrer\">#4023</a> (\"getClasses/getDeclaredClasses seems to miss some (REPL) or all (scalac) classes (objects) declared\").</p>\n\n<p>Have a look at these related questions by me:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4248521/is-it-possible-to-explore-which-objects-are-defined-within-an-other-object-via\">Is it possible to “explore” which objects are defined within an other object via reflection at runtime?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4239594/how-to-access-objects-within-an-object-by-mixing-in-a-trait-with-reflection\">How to access objects within an object by mixing in a trait with reflection?</a></li>\n</ul>\n\n<p>Honestly, I wouldn't use <code>Enumeration</code>. This is a class originating from Scala 1.0 (2004) and it has weird stuff in it and not many people (except those who have written it) understands how to use it without an tutorial first.</p>\n\n<p>If I would absolutely need an enumeration I would just write that class in Java.</p>\n"},{"comments":[{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":2,"creation_date":1291388485,"post_id":4346708,"comment_id":4727215,"body_markdown":"Nice! Adding static helper methods to the surrounding class looks like the optimal approach considering the current restrictions.","body":"Nice! Adding static helper methods to the surrounding class looks like the optimal approach considering the current restrictions."}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291388018,"creation_date":1291388018,"answer_id":4346708,"question_id":4346580,"body_markdown":"You can do this:\r\n\r\n    object Suit extends Enumeration {\r\n      val Clubs, Diamonds, Hearts, Spades = Value\r\n\r\n      def isRed(suit : Value) = !isBlack(suit)\r\n      def isBlack(suit : Value) = suit match {\r\n        case Clubs | Spades =&gt; true\r\n        case _              =&gt; false\r\n      }\r\n    }\r\n       \r\nObviously this is not perfect but you can then do:\r\n\r\n    Suit.isBlack(Suit.Clubs)","title":"How to add a method to Enumeration in Scala?","body":"<p>You can do this:</p>\n\n<pre><code>object Suit extends Enumeration {\n  val Clubs, Diamonds, Hearts, Spades = Value\n\n  def isRed(suit : Value) = !isBlack(suit)\n  def isBlack(suit : Value) = suit match {\n    case Clubs | Spades =&gt; true\n    case _              =&gt; false\n  }\n}\n</code></pre>\n\n<p>Obviously this is not perfect but you can then do:</p>\n\n<pre><code>Suit.isBlack(Suit.Clubs)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":65284,"reputation":91165,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"score":1,"creation_date":1291566201,"post_id":4347117,"comment_id":4744507,"body_markdown":"@mR_fr0g: [Algebraic Data Types](http://en.wikipedia.org/wiki/Algebraic_data_type).","body":"@mR_fr0g: <a href=\"http://en.wikipedia.org/wiki/Algebraic_data_type\" rel=\"nofollow noreferrer\">Algebraic Data Types</a>."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1411081742,"post_id":4347117,"comment_id":40581233,"body_markdown":"While this gives the benefit of providing exhaustive pattern matching, it introduces the possibility of human error by requiring the integer value be explicitly defined. IOW, if someone were to add a case object of Four and then extend the match with case Four =&gt; &quot;3&quot;, the reverse map won&#39;t work as there are now two case objects at the same ordinal value.","body":"While this gives the benefit of providing exhaustive pattern matching, it introduces the possibility of human error by requiring the integer value be explicitly defined. IOW, if someone were to add a case object of Four and then extend the match with case Four =&gt; &quot;3&quot;, the reverse map won&#39;t work as there are now two case objects at the same ordinal value."}],"tags":[],"owner":{"account_id":65284,"reputation":91165,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1291390831,"creation_date":1291390831,"answer_id":4347117,"question_id":4346580,"body_markdown":"If you don&#39;t need to iterate over enum values or do some other enum-ish stuff, I&#39;d advise using ADTs instead of `Enumeration`.\r\n\r\n    sealed abstract class Enum {\r\n      def method: String = this match {\r\n        case One =&gt; &quot;1&quot;\r\n        case Two =&gt; &quot;2&quot;\r\n        case Three =&gt; &quot;3&quot;\r\n      }\r\n    }\r\n    case object One extends Enum\r\n    case object Two extends Enum\r\n    case object Three extends Enum\r\n\r\nThis approach has one advantage over `Enumeration` that compiler will warn you when you forget one or more cases in the `match` expression.","title":"How to add a method to Enumeration in Scala?","body":"<p>If you don't need to iterate over enum values or do some other enum-ish stuff, I'd advise using ADTs instead of <code>Enumeration</code>.</p>\n\n<pre><code>sealed abstract class Enum {\n  def method: String = this match {\n    case One =&gt; \"1\"\n    case Two =&gt; \"2\"\n    case Three =&gt; \"3\"\n  }\n}\ncase object One extends Enum\ncase object Two extends Enum\ncase object Three extends Enum\n</code></pre>\n\n<p>This approach has one advantage over <code>Enumeration</code> that compiler will warn you when you forget one or more cases in the <code>match</code> expression.</p>\n"},{"comments":[{"owner":{"account_id":133897,"reputation":1898,"user_id":335615,"display_name":"ozeebee"},"score":9,"creation_date":1422542343,"post_id":4348550,"comment_id":44797934,"body_markdown":"and now you can even use an implicit class instead of class + implicit def: implicit class SuitValue(...) {...}","body":"and now you can even use an implicit class instead of class + implicit def: implicit class SuitValue(...) {...}"}],"tags":[],"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1291400386,"creation_date":1291400386,"answer_id":4348550,"question_id":4346580,"body_markdown":"Building on [Chris&#39; solution](https://stackoverflow.com/questions/4346580/how-to-add-a-method-to-enumeration-in-scala/4346708#4346708), you can achieve somewhat nicer syntax with an implicit conversion:\r\n\r\n    object Suit extends Enumeration {\r\n       val Clubs, Diamonds, Hearts, Spades = Value\r\n\r\n       class SuitValue(suit: Value) {\r\n          def isRed = !isBlack\r\n          def isBlack = suit match {\r\n             case Clubs | Spades =&gt; true\r\n             case _              =&gt; false\r\n          }\r\n       }\r\n\r\n       implicit def value2SuitValue(suit: Value) = new SuitValue(suit)\r\n    } \r\n\r\nThen you can call, for example, `Suit.Clubs.isRed`.","title":"How to add a method to Enumeration in Scala?","body":"<p>Building on <a href=\"https://stackoverflow.com/questions/4346580/how-to-add-a-method-to-enumeration-in-scala/4346708#4346708\">Chris' solution</a>, you can achieve somewhat nicer syntax with an implicit conversion:</p>\n\n<pre><code>object Suit extends Enumeration {\n   val Clubs, Diamonds, Hearts, Spades = Value\n\n   class SuitValue(suit: Value) {\n      def isRed = !isBlack\n      def isBlack = suit match {\n         case Clubs | Spades =&gt; true\n         case _              =&gt; false\n      }\n   }\n\n   implicit def value2SuitValue(suit: Value) = new SuitValue(suit)\n} \n</code></pre>\n\n<p>Then you can call, for example, <code>Suit.Clubs.isRed</code>.</p>\n"},{"tags":[],"owner":{"account_id":220898,"reputation":1074,"user_id":478578,"accept_rate":78,"display_name":"Shiva Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291646164,"creation_date":1291646164,"answer_id":4367453,"question_id":4346580,"body_markdown":"After checking out the source code of scala.Enumeration, I got this:\r\n&lt;pre&gt;&lt;code&gt;\r\nobject MyEnum extends Enumeration {\r\n  val ONE = new Val { def method = &quot;1&quot; }\r\n  val TWO = new Val { def method = &quot;2&quot; }\r\n  val THREE = new Val { def method = &quot;3&quot; }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIt seems hard to get rid of the &#39;new&#39; since anonymized class is used.\r\nIf anyone knows how to do it, let me know :)","title":"How to add a method to Enumeration in Scala?","body":"<p>After checking out the source code of scala.Enumeration, I got this:</p>\n\n<pre><code>\nobject MyEnum extends Enumeration {\n  val ONE = new Val { def method = \"1\" }\n  val TWO = new Val { def method = \"2\" }\n  val THREE = new Val { def method = \"3\" }\n}\n</code></pre>\n\n<p>It seems hard to get rid of the 'new' since anonymized class is used.\nIf anyone knows how to do it, let me know :)</p>\n"},{"tags":[],"owner":{"account_id":435149,"reputation":476,"user_id":821583,"display_name":"Jan van der Vorst"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309368882,"creation_date":1309367357,"answer_id":6524596,"question_id":4346580,"body_markdown":"Scala&#39;s Enumeration does not allow properties and/or methods to be added to values in your enumeration. With this new MyEnumeration you can.\r\n\r\n    abstract class MyEnumeration {\r\n      // &quot;Value&quot; must be the name of the class defining your values type Value\r\n      type Value\r\n\r\n      // Contains your values in definition order\r\n      private val vals = collection.mutable.LinkedHashMap[String, Value]()\r\n\r\n      // A mixin for your values class to automatically collect the values\r\n      protected trait ValuesCollector { self: Value =&gt;\r\n        private val ordinal = vals.size\r\n\r\n        vals += (fieldNames(ordinal) -&gt; self)\r\n\r\n        def getName = fieldNames(ordinal)\r\n        override def toString = getName\r\n      }\r\n\r\n      def apply(ordinal: Int) = vals(fieldNames(ordinal))\r\n      def apply(fldName: String) = vals(fldName)\r\n\r\n      def values = vals.values\r\n      def namedValues: collection.Map[String, Value] = vals\r\n\r\n      // Getting the field names through reflection.\r\n      // Copied from scala.Enumeration\r\n      private val fieldNames = getClass.getMethods filter (m =&gt;\r\n        m.getParameterTypes.isEmpty &amp;&amp;\r\n        classOf[ValuesCollector].isAssignableFrom(m.getReturnType) &amp;&amp;\r\n        m.getDeclaringClass != classOf[MyEnumeration]) map (_.getName)\r\n\r\n    }\r\n\r\nHere you see the Planet example in Scala.\r\n\r\n    object Planet extends MyEnumeration {\r\n\r\n      case class Value(val mass: Double, val radius: Double) extends ValuesCollector {\r\n        // universal gravitational constant  (m3 kg-1 s-2)\r\n        private val G = 6.67300E-11;\r\n\r\n        def surfaceGravity = G * mass / (radius * radius)\r\n        def surfaceWeight(otherMass: Double) = otherMass * surfaceGravity\r\n\r\n      }\r\n\r\n      val MERCURY = Value(3.303e+23, 2.4397e6)\r\n      val VENUS = Value(4.869e+24, 6.0518e6)\r\n      val EARTH = Value(5.976e+24, 6.37814e6)\r\n      val MARS = Value(6.421e+23, 3.3972e6)\r\n      val JUPITER = Value(1.9e+27, 7.1492e7)\r\n      val SATURN = Value(5.688e+26, 6.0268e7)\r\n      val URANUS = Value(8.686e+25, 2.5559e7)\r\n      val NEPTUNE = Value(1.024e+26, 2.4746e7)\r\n      val PLUTO = Value(1.27e+22, 1.137e6)\r\n\r\n    }\r\n\r\n    object PlanetTest {\r\n      def main(args: Array[String]) {\r\n        val earthWeight = 175\r\n        val mass = earthWeight/Planet.EARTH.surfaceGravity\r\n        for (p &lt;- Planet.values) println(&quot;Your weight on %s is %f&quot; format (p, p.surfaceWeight(mass)))\r\n        /* Your weight on MERCURY is 66.107583\r\n         * Your weight on VENUS is 158.374842\r\n         * Your weight on EARTH is 175.000000\r\n         * Your weight on MARS is 66.279007\r\n         * Your weight on JUPITER is 442.847567\r\n         * Your weight on SATURN is 186.552719\r\n         * Your weight on URANUS is 158.397260\r\n         * Your weight on NEPTUNE is 199.207413\r\n         * Your weight on PLUTO is 11.703031\r\n         */\r\n      }\r\n\r\n    } ","title":"How to add a method to Enumeration in Scala?","body":"<p>Scala's Enumeration does not allow properties and/or methods to be added to values in your enumeration. With this new MyEnumeration you can.</p>\n\n<pre><code>abstract class MyEnumeration {\n  // \"Value\" must be the name of the class defining your values type Value\n  type Value\n\n  // Contains your values in definition order\n  private val vals = collection.mutable.LinkedHashMap[String, Value]()\n\n  // A mixin for your values class to automatically collect the values\n  protected trait ValuesCollector { self: Value =&gt;\n    private val ordinal = vals.size\n\n    vals += (fieldNames(ordinal) -&gt; self)\n\n    def getName = fieldNames(ordinal)\n    override def toString = getName\n  }\n\n  def apply(ordinal: Int) = vals(fieldNames(ordinal))\n  def apply(fldName: String) = vals(fldName)\n\n  def values = vals.values\n  def namedValues: collection.Map[String, Value] = vals\n\n  // Getting the field names through reflection.\n  // Copied from scala.Enumeration\n  private val fieldNames = getClass.getMethods filter (m =&gt;\n    m.getParameterTypes.isEmpty &amp;&amp;\n    classOf[ValuesCollector].isAssignableFrom(m.getReturnType) &amp;&amp;\n    m.getDeclaringClass != classOf[MyEnumeration]) map (_.getName)\n\n}\n</code></pre>\n\n<p>Here you see the Planet example in Scala.</p>\n\n<pre><code>object Planet extends MyEnumeration {\n\n  case class Value(val mass: Double, val radius: Double) extends ValuesCollector {\n    // universal gravitational constant  (m3 kg-1 s-2)\n    private val G = 6.67300E-11;\n\n    def surfaceGravity = G * mass / (radius * radius)\n    def surfaceWeight(otherMass: Double) = otherMass * surfaceGravity\n\n  }\n\n  val MERCURY = Value(3.303e+23, 2.4397e6)\n  val VENUS = Value(4.869e+24, 6.0518e6)\n  val EARTH = Value(5.976e+24, 6.37814e6)\n  val MARS = Value(6.421e+23, 3.3972e6)\n  val JUPITER = Value(1.9e+27, 7.1492e7)\n  val SATURN = Value(5.688e+26, 6.0268e7)\n  val URANUS = Value(8.686e+25, 2.5559e7)\n  val NEPTUNE = Value(1.024e+26, 2.4746e7)\n  val PLUTO = Value(1.27e+22, 1.137e6)\n\n}\n\nobject PlanetTest {\n  def main(args: Array[String]) {\n    val earthWeight = 175\n    val mass = earthWeight/Planet.EARTH.surfaceGravity\n    for (p &lt;- Planet.values) println(\"Your weight on %s is %f\" format (p, p.surfaceWeight(mass)))\n    /* Your weight on MERCURY is 66.107583\n     * Your weight on VENUS is 158.374842\n     * Your weight on EARTH is 175.000000\n     * Your weight on MARS is 66.279007\n     * Your weight on JUPITER is 442.847567\n     * Your weight on SATURN is 186.552719\n     * Your weight on URANUS is 158.397260\n     * Your weight on NEPTUNE is 199.207413\n     * Your weight on PLUTO is 11.703031\n     */\n  }\n\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":435149,"reputation":476,"user_id":821583,"display_name":"Jan van der Vorst"},"score":3,"creation_date":1309953594,"post_id":6546480,"comment_id":7781753,"body_markdown":"You can also extend with `super.Val` without the `nextId` and `name` parameter. Like so: `protected case class Val(val mass: Double, val radius: Double) extends super.Val`. That way you can create your values without the name of the value, like so: `val Mercury = Val(3.303e+23, 2.4397e6)`","body":"You can also extend with <code>super.Val</code> without the <code>nextId</code> and <code>name</code> parameter. Like so: <code>protected case class Val(val mass: Double, val radius: Double) extends super.Val</code>. That way you can create your values without the name of the value, like so: <code>val Mercury = Val(3.303e+23, 2.4397e6)</code>"},{"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"score":1,"creation_date":1405760309,"post_id":6546480,"comment_id":38565084,"body_markdown":"I do not get what is the advantage of duplicating the name in the constructor argument? Aren&#39;t enums supposed to know the names of their values? The official doc says they do http://www.scala-lang.org/api/current/index.html#scala.Enumeration","body":"I do not get what is the advantage of duplicating the name in the constructor argument? Aren&#39;t enums supposed to know the names of their values? The official doc says they do <a href=\"http://www.scala-lang.org/api/current/index.html#scala.Enumeration\" rel=\"nofollow noreferrer\">scala-lang.org/api/current/index.html#scala.Enumeration</a>"},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1414188917,"post_id":6546480,"comment_id":41735474,"body_markdown":"Voted to approve the edit, but the answer could be improved by demonstrating how to retrieve the name from the `val` declaration.","body":"Voted to approve the edit, but the answer could be improved by demonstrating how to retrieve the name from the <code>val</code> declaration."},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":1,"creation_date":1489516111,"post_id":6546480,"comment_id":72702193,"body_markdown":"You will also need [`import scala.language.implicitConversions`](http://docs.scala-lang.org/tutorials/tour/implicit-conversions) to suppress a compiler warning.","body":"You will also need <a href=\"http://docs.scala-lang.org/tutorials/tour/implicit-conversions\" rel=\"nofollow noreferrer\"><code>import scala.language.implicitConversions</code></a> to suppress a compiler warning."}],"tags":[],"owner":{"account_id":437125,"reputation":411,"user_id":824653,"display_name":"Sean Ross"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1414192819,"creation_date":1309514535,"answer_id":6546480,"question_id":4346580,"body_markdown":"Here is an example of adding attributes to scala enums by extending the Enumeration.Val class.\r\n\r\n\r\n    object Planet extends Enumeration { \r\n       protected case class Val(val mass: Double, val radius: Double) extends super.Val { \r\n         def surfaceGravity: Double = Planet.G * mass / (radius * radius) \r\n         def surfaceWeight(otherMass: Double): Double = otherMass * surfaceGravity \r\n       } \r\n       implicit def valueToPlanetVal(x: Value) = x.asInstanceOf[Val] \r\n\r\n       val G: Double = 6.67300E-11 \r\n       val Mercury = Val(3.303e+23, 2.4397e6) \r\n       val Venus   = Val(4.869e+24, 6.0518e6) \r\n       val Earth   = Val(5.976e+24, 6.37814e6) \r\n       val Mars    = Val(6.421e+23, 3.3972e6) \r\n       val Jupiter = Val(1.9e+27, 7.1492e7) \r\n       val Saturn  = Val(5.688e+26, 6.0268e7) \r\n       val Uranus  = Val(8.686e+25, 2.5559e7) \r\n       val Neptune = Val(1.024e+26, 2.4746e7) \r\n    } \r\n    \r\n    scala&gt; Planet.values.filter(_.radius &gt; 7.0e6) \r\n    res16: Planet.ValueSet = Planet.ValueSet(Jupiter, Saturn, Uranus, Neptune) \r\n","title":"How to add a method to Enumeration in Scala?","body":"<p>Here is an example of adding attributes to scala enums by extending the Enumeration.Val class.</p>\n\n<pre><code>object Planet extends Enumeration { \n   protected case class Val(val mass: Double, val radius: Double) extends super.Val { \n     def surfaceGravity: Double = Planet.G * mass / (radius * radius) \n     def surfaceWeight(otherMass: Double): Double = otherMass * surfaceGravity \n   } \n   implicit def valueToPlanetVal(x: Value) = x.asInstanceOf[Val] \n\n   val G: Double = 6.67300E-11 \n   val Mercury = Val(3.303e+23, 2.4397e6) \n   val Venus   = Val(4.869e+24, 6.0518e6) \n   val Earth   = Val(5.976e+24, 6.37814e6) \n   val Mars    = Val(6.421e+23, 3.3972e6) \n   val Jupiter = Val(1.9e+27, 7.1492e7) \n   val Saturn  = Val(5.688e+26, 6.0268e7) \n   val Uranus  = Val(8.686e+25, 2.5559e7) \n   val Neptune = Val(1.024e+26, 2.4746e7) \n} \n\nscala&gt; Planet.values.filter(_.radius &gt; 7.0e6) \nres16: Planet.ValueSet = Planet.ValueSet(Jupiter, Saturn, Uranus, Neptune) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":53073,"reputation":24000,"user_id":158658,"accept_rate":75,"display_name":"sourcedelica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369773509,"creation_date":1369773509,"answer_id":16801070,"question_id":4346580,"body_markdown":"If you absolutely need to have methods per enumeration value *and* need to be able to iterate over the values, you can do something like this:\r\n\r\n    object BatchCategory extends Enumeration {\r\n      class BatchCategory extends Val {\r\n        val isOfficial, isTest, isUser = false\r\n      }\r\n    \r\n      val OFFICIAL = new BatchCategory { override val isOfficial = true }\r\n      val TEST =     new BatchCategory { override val isTest = true }\r\n      val USER =     new BatchCategory { override val isUser = true }\r\n      \r\n      // Needed to get BatchCategory from Enumeration.values\r\n      implicit def valueToBatchCategory(v: Value): BatchCategory = v match {\r\n        case bc: BatchCategory =&gt; bc\r\n        case x =&gt; throw new IllegalArgumentException(&quot;Value is not a BatchCategory: &quot; + x)\r\n      }\r\n\r\n      def valueOf(catStr: String): BatchCategory = {\r\n        BatchCategory.values.\r\n          find { v =&gt; val s = v.toString; s.take(1) == catStr || s == catStr }.\r\n          getOrElse(throw new IllegalArgumentException(&quot;Unknown category &#39;&quot; + catStr + &quot;&#39; !  &quot;))\r\n      }\r\n\r\n      def main(args: Array[String]) {\r\n        BatchCategory.values.foreach(v =&gt; println(v + &quot; isOfficial=&quot; + v.isOfficial))\r\n      }\r\n    }\r\n\r\nprints\r\n\r\n    OFFICIAL isOfficial=true\r\n    TEST isOfficial=false\r\n    USER isOfficial=false\r\n\r\nThis was done for some legacy code that couldn&#39;t be moved to a saner enum strategy besides Enumeration.","title":"How to add a method to Enumeration in Scala?","body":"<p>If you absolutely need to have methods per enumeration value <em>and</em> need to be able to iterate over the values, you can do something like this:</p>\n\n<pre><code>object BatchCategory extends Enumeration {\n  class BatchCategory extends Val {\n    val isOfficial, isTest, isUser = false\n  }\n\n  val OFFICIAL = new BatchCategory { override val isOfficial = true }\n  val TEST =     new BatchCategory { override val isTest = true }\n  val USER =     new BatchCategory { override val isUser = true }\n\n  // Needed to get BatchCategory from Enumeration.values\n  implicit def valueToBatchCategory(v: Value): BatchCategory = v match {\n    case bc: BatchCategory =&gt; bc\n    case x =&gt; throw new IllegalArgumentException(\"Value is not a BatchCategory: \" + x)\n  }\n\n  def valueOf(catStr: String): BatchCategory = {\n    BatchCategory.values.\n      find { v =&gt; val s = v.toString; s.take(1) == catStr || s == catStr }.\n      getOrElse(throw new IllegalArgumentException(\"Unknown category '\" + catStr + \"' !  \"))\n  }\n\n  def main(args: Array[String]) {\n    BatchCategory.values.foreach(v =&gt; println(v + \" isOfficial=\" + v.isOfficial))\n  }\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>OFFICIAL isOfficial=true\nTEST isOfficial=false\nUSER isOfficial=false\n</code></pre>\n\n<p>This was done for some legacy code that couldn't be moved to a saner enum strategy besides Enumeration.</p>\n"},{"comments":[{"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"score":0,"creation_date":1405758906,"post_id":19080686,"comment_id":38564764,"body_markdown":"Wait, in the Enumeration, you have to write A,B,C = Value, http://stackoverflow.com/questions/11067396. I do not understand your extension of Enumeration.","body":"Wait, in the Enumeration, you have to write A,B,C = Value, <a href=\"http://stackoverflow.com/questions/11067396\">stackoverflow.com/questions/11067396</a>. I do not understand your extension of Enumeration."}],"tags":[],"owner":{"account_id":24272,"reputation":4563,"user_id":61628,"accept_rate":51,"display_name":"Etam"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380473620,"creation_date":1380473620,"answer_id":19080686,"question_id":4346580,"body_markdown":"    object Unit extends Enumeration {\r\n      abstract class UnitValue(var name: String) extends Val(name) {\r\n      \tdef m: Unit\r\n      }\r\n      val G = new UnitValue(&quot;g&quot;) {\r\n      \tdef m {\r\n      \t\tprintln(&quot;M from G&quot;)\r\n      \t}\r\n      }\r\n      val KG = new UnitValue(&quot;kg&quot;) {\r\n      \tdef m {\r\n      \t\tprintln(&quot;M from KG&quot;)\r\n      \t}\r\n      }\r\n    }\r\n\r\n","title":"How to add a method to Enumeration in Scala?","body":"<pre><code>object Unit extends Enumeration {\n  abstract class UnitValue(var name: String) extends Val(name) {\n    def m: Unit\n  }\n  val G = new UnitValue(\"g\") {\n    def m {\n        println(\"M from G\")\n    }\n  }\n  val KG = new UnitValue(\"kg\") {\n    def m {\n        println(\"M from KG\")\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1411081373,"post_id":24840925,"comment_id":40581128,"body_markdown":"After doing extensive research on options, I posted a much more complete overview of this domain including a solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: http://stackoverflow.com/a/25923651/501113","body":"After doing extensive research on options, I posted a much more complete overview of this domain including a solution to the &quot;sealed trait + case object&quot; pattern where I have solved the JVM class/object initialization ordering problem: <a href=\"http://stackoverflow.com/a/25923651/501113\">stackoverflow.com/a/25923651/501113</a>"}],"tags":[],"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405860957,"creation_date":1405776461,"answer_id":24840925,"question_id":4346580,"body_markdown":"The [answer, which tells that Scala enums do not support args/methods-customized values][1] seems wrong. Other answers (some of them involve `implicit`) demonstrate that it can do but they create impression that demands name duplication: your value has declared name as java object field and, secondly, the name is supplied to the value constructor as string whereas the whole point of Enums is to create a iterable name-&gt;value map and scala can do without redundancy:\r\n\r\n\tobject Ops1 extends Enumeration {\r\n\t\r\n\t\tprotected case class OpsVal(f: Int =&gt; Int) extends super.Val(/*nextId*/)\r\n\t    \r\n\t\tval ZERO = new FuncVal (x =&gt; 0)\r\n\t\tval DOUBLE = new FuncVal (x =&gt; 2 * x )\r\n\t\r\n\t\timplicit def convert(v: Value) = v.asInstanceOf[OpsVal]\r\n\t\r\n\t}\r\n\t\r\n\t// implicit is not needed\r\n\tOps1.ZERO.f(1)                            //&gt; res0: Int = 0\r\n\t\r\n\t// implicit is needed\r\n\tOps1.values map (v =&gt; (v + &quot;=&gt;&quot; + v.f(1)))//&gt; res1: scala.collection.immutable.SortedSet[String] = TreeSet(DOUBLE=&gt;2, ZERO=&gt;0)\r\n\r\nI think that the above is more concise than \r\n\r\n\tobject Ops2 extends Enumeration {\r\n\t\r\n\t    protected abstract class OpsVal extends Val() {\r\n\t      def f(a: Int): Int\r\n\t    }\r\n\t    \r\n\t    val ZERO = new OpsVal { def f(x: Int) = 0 }\r\n\t    val DOUBLE = new OpsVal { def f(x: Int) = 2 * x }\r\n\t\r\n\t    implicit def convert(valu: Value) = valu.asInstanceOf[OpsVal]\r\n\t}\r\n\tOps2.ZERO.f(1) // implicit is not needed  //&gt; res2: Int = 0\r\n\t\r\n\t// implicit is needed\r\n\tOps2_3.values map (v =&gt; (v, v(1)))        //&gt; res7: scala.collection.immutable.SortedSet[(e.Ops2_3.Value, Int)] = TreeSet\r\n                                                  //| ((ZERO,0), (DOUBLE,2))\r\n\r\n\r\nSince there is a single method per value, we can convert them into the functions\r\n\r\n\tobject Ops2_3 extends Enumeration {\r\n\t\r\n\t\tprotected case class FuncVal(f: Int =&gt; Int) extends Val {\r\n\t\t\tdef apply(x: Int) = f(x) // no need to extend Function1 explicitly\r\n\t\t}\r\n\t    \r\n\t\tval ZERO = new FuncVal (x =&gt; 0)\r\n\t\tval DOUBLE = new FuncVal (x =&gt; 2 * x )\r\n\t\r\n\t\timplicit def convert(v: Value) = v.asInstanceOf[FuncVal]\r\n\t\r\n\t}\r\n\tOps2_3.ZERO(1) // implicit is not needed  //&gt; res6: Int = 0\r\n\t\r\n\t// implicit is needed\r\n\tOps2_3.values map (v =&gt; (v, v(1)))        //&gt; res7: scala.collection.immutable.SortedSet[(e.Ops2_3.Value, Int)] = TreeSet\r\n                                                  //| ((ZERO,0), (DOUBLE,2))\r\n\r\nFunctions, shared among all values, can be defined like this (usable in [arg parser][2])\r\n\r\n\tval args: Array[String] = &quot;-silent -samples 100 -silent &quot;.split(&quot; +&quot;).toArray\r\n                                                  //&gt; args  : Array[String] = Array(-silent, -samples, 100, -silent)\r\n\tobject Opts extends Enumeration {\r\n\t\t\r\n\t\tval nopar, silent, samples = new Val() {\r\n\t\t\tdef apply() = args.contains(toString)\r\n\t\t\tdef asInt(default: Int) = { val i = args.indexOf(toString) ;  if (i == -1) default else args(i+1).toInt}\r\n\t\t\tdef asInt: Int = asInt(-1)\r\n\t\t\toverride def toString = &quot;-&quot; + super.toString\r\n\t\t}\r\n\t}\r\n\t\r\n\tOpts.nopar()                              //&gt; res0: Boolean = false\r\n\tOpts.samples.asInt                        //&gt; res1: Int = 100\r\n\r\n\r\nOther users argue for cases of sealed traits + macros, https://stackoverflow.com/questions/13671734/iteration-over-a-sealed-trait-in-scala\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6524596/1083704\r\n  [2]: https://stackoverflow.com/a/24850684/1083704","title":"How to add a method to Enumeration in Scala?","body":"<p>The <a href=\"https://stackoverflow.com/a/6524596/1083704\">answer, which tells that Scala enums do not support args/methods-customized values</a> seems wrong. Other answers (some of them involve <code>implicit</code>) demonstrate that it can do but they create impression that demands name duplication: your value has declared name as java object field and, secondly, the name is supplied to the value constructor as string whereas the whole point of Enums is to create a iterable name->value map and scala can do without redundancy:</p>\n\n<pre><code>object Ops1 extends Enumeration {\n\n    protected case class OpsVal(f: Int =&gt; Int) extends super.Val(/*nextId*/)\n\n    val ZERO = new FuncVal (x =&gt; 0)\n    val DOUBLE = new FuncVal (x =&gt; 2 * x )\n\n    implicit def convert(v: Value) = v.asInstanceOf[OpsVal]\n\n}\n\n// implicit is not needed\nOps1.ZERO.f(1)                            //&gt; res0: Int = 0\n\n// implicit is needed\nOps1.values map (v =&gt; (v + \"=&gt;\" + v.f(1)))//&gt; res1: scala.collection.immutable.SortedSet[String] = TreeSet(DOUBLE=&gt;2, ZERO=&gt;0)\n</code></pre>\n\n<p>I think that the above is more concise than </p>\n\n<pre><code>object Ops2 extends Enumeration {\n\n    protected abstract class OpsVal extends Val() {\n      def f(a: Int): Int\n    }\n\n    val ZERO = new OpsVal { def f(x: Int) = 0 }\n    val DOUBLE = new OpsVal { def f(x: Int) = 2 * x }\n\n    implicit def convert(valu: Value) = valu.asInstanceOf[OpsVal]\n}\nOps2.ZERO.f(1) // implicit is not needed  //&gt; res2: Int = 0\n\n// implicit is needed\nOps2_3.values map (v =&gt; (v, v(1)))        //&gt; res7: scala.collection.immutable.SortedSet[(e.Ops2_3.Value, Int)] = TreeSet\n                                              //| ((ZERO,0), (DOUBLE,2))\n</code></pre>\n\n<p>Since there is a single method per value, we can convert them into the functions</p>\n\n<pre><code>object Ops2_3 extends Enumeration {\n\n    protected case class FuncVal(f: Int =&gt; Int) extends Val {\n        def apply(x: Int) = f(x) // no need to extend Function1 explicitly\n    }\n\n    val ZERO = new FuncVal (x =&gt; 0)\n    val DOUBLE = new FuncVal (x =&gt; 2 * x )\n\n    implicit def convert(v: Value) = v.asInstanceOf[FuncVal]\n\n}\nOps2_3.ZERO(1) // implicit is not needed  //&gt; res6: Int = 0\n\n// implicit is needed\nOps2_3.values map (v =&gt; (v, v(1)))        //&gt; res7: scala.collection.immutable.SortedSet[(e.Ops2_3.Value, Int)] = TreeSet\n                                              //| ((ZERO,0), (DOUBLE,2))\n</code></pre>\n\n<p>Functions, shared among all values, can be defined like this (usable in <a href=\"https://stackoverflow.com/a/24850684/1083704\">arg parser</a>)</p>\n\n<pre><code>val args: Array[String] = \"-silent -samples 100 -silent \".split(\" +\").toArray\n                                              //&gt; args  : Array[String] = Array(-silent, -samples, 100, -silent)\nobject Opts extends Enumeration {\n\n    val nopar, silent, samples = new Val() {\n        def apply() = args.contains(toString)\n        def asInt(default: Int) = { val i = args.indexOf(toString) ;  if (i == -1) default else args(i+1).toInt}\n        def asInt: Int = asInt(-1)\n        override def toString = \"-\" + super.toString\n    }\n}\n\nOpts.nopar()                              //&gt; res0: Boolean = false\nOpts.samples.asInt                        //&gt; res1: Int = 100\n</code></pre>\n\n<p>Other users argue for cases of sealed traits + macros, <a href=\"https://stackoverflow.com/questions/13671734/iteration-over-a-sealed-trait-in-scala\">Iteration over a sealed trait in Scala?</a></p>\n"},{"tags":[],"owner":{"account_id":133897,"reputation":1898,"user_id":335615,"display_name":"ozeebee"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1422542944,"creation_date":1422542944,"answer_id":28217542,"question_id":4346580,"body_markdown":"Elaborating on [Aaron&#39;s solution][1], an even more compact form in Scala 2.10, using [implicit classes][2]:\r\n\r\n    object Suit extends Enumeration {\r\n       val Clubs, Diamonds, Hearts, Spades = Value\r\n    \r\n       implicit class SuitValue(suit: Value) {\r\n          def isRed = !isBlack\r\n          def isBlack = suit match {\r\n             case Clubs | Spades =&gt; true\r\n             case _              =&gt; false\r\n          }\r\n       }\r\n    } \r\n\r\nand then you can use it like this: `Suit.Clubs.isRed`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4348550/335615\r\n  [2]: http://docs.scala-lang.org/overviews/core/implicit-classes.html","title":"How to add a method to Enumeration in Scala?","body":"<p>Elaborating on <a href=\"https://stackoverflow.com/a/4348550/335615\">Aaron's solution</a>, an even more compact form in Scala 2.10, using <a href=\"http://docs.scala-lang.org/overviews/core/implicit-classes.html\" rel=\"noreferrer\">implicit classes</a>:</p>\n\n<pre><code>object Suit extends Enumeration {\n   val Clubs, Diamonds, Hearts, Spades = Value\n\n   implicit class SuitValue(suit: Value) {\n      def isRed = !isBlack\n      def isBlack = suit match {\n         case Clubs | Spades =&gt; true\n         case _              =&gt; false\n      }\n   }\n} \n</code></pre>\n\n<p>and then you can use it like this: <code>Suit.Clubs.isRed</code></p>\n"},{"tags":[],"owner":{"account_id":25298260,"reputation":1,"user_id":19123006,"display_name":"Volodymyr Melnykov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678839871,"creation_date":1678839871,"answer_id":75739518,"question_id":4346580,"body_markdown":"Scala3 still has no good solution but it could be done in less/more good way using lambdas or extension function.\r\n\r\n1st approach: path method as lambda\r\nDisadvantage: impossible to use such methods without parentheses ()\r\n```scala\r\nenum Enum1 (val method: ()=&gt;String) derives CanEqual :\r\n  case ONE   extends Enum1(() =&gt; &quot;1&quot;)\r\n  case TWO   extends Enum1(() =&gt; &quot;2&quot;)\r\n  case THREE extends Enum1(() =&gt; &quot;3&quot;)\r\n```\r\n\r\n2nd approach: extension method (you can put it into any &#39;object&#39;, just remember to import it)\r\nAdvantage: really scala approach\r\nDisadvantage: you can miss new enum value in match if you use default compiler settings (there will be only warning)\r\nUse compiler param &#39;-Wconf:msg=match may not be exhaustive:error&#39; to get compilation error\r\n```scala\r\nenum Enum2 derives CanEqual:\r\n  case ONE, TWO, THREE\r\nobject Enum2 :\r\n  extension (en: Enum2)\r\n    // without parentheses () (side-effects are not expected)\r\n    def method1: String = en match\r\n      case Enum2.ONE   =&gt; &quot;1&quot;\r\n      case Enum2.TWO   =&gt; &quot;2&quot;\r\n      case Enum2.THREE =&gt; &quot;3&quot;\r\n    // with parentheses () (side-effects are expected)\r\n    def method2(): String = en match\r\n      case Enum2.ONE   =&gt; &quot;11&quot;\r\n      case Enum2.TWO   =&gt; &quot;22&quot;\r\n      case Enum2.THREE =&gt; &quot;33&quot;\r\n```\r\n\r\nTest\r\n```scala\r\n\r\nclass EnumsTest {\r\n  import scala.language.unsafeNulls\r\n  import org.assertj.core.api.Assertions.assertThat\r\n\r\n  @Test\r\n  def enumsTest(): Unit = {\r\n    assertThat(Enum1.ONE.method()).isEqualTo(&quot;1&quot;)\r\n    assertThat(Enum1.TWO.method()).isEqualTo(&quot;2&quot;)\r\n    assertThat(Enum1.THREE.method()).isEqualTo(&quot;3&quot;)\r\n\r\n    // of course does not work without using ()\r\n    //assertThat(Enum1.ONE.method).isEqualTo(&quot;1&quot;)\r\n\r\n    assertThat(Enum2.ONE.method1).isEqualTo(&quot;1&quot;)\r\n    assertThat(Enum2.TWO.method1).isEqualTo(&quot;2&quot;)\r\n    assertThat(Enum2.THREE.method1).isEqualTo(&quot;3&quot;)\r\n\r\n    assertThat(Enum2.ONE.method2()).isEqualTo(&quot;11&quot;)\r\n    assertThat(Enum2.TWO.method2()).isEqualTo(&quot;22&quot;)\r\n    assertThat(Enum2.THREE.method2()).isEqualTo(&quot;33&quot;)\r\n  }\r\n}\r\n```\r\n\r\n","title":"How to add a method to Enumeration in Scala?","body":"<p>Scala3 still has no good solution but it could be done in less/more good way using lambdas or extension function.</p>\n<p>1st approach: path method as lambda\nDisadvantage: impossible to use such methods without parentheses ()</p>\n<pre class=\"lang-scala prettyprint-override\"><code>enum Enum1 (val method: ()=&gt;String) derives CanEqual :\n  case ONE   extends Enum1(() =&gt; &quot;1&quot;)\n  case TWO   extends Enum1(() =&gt; &quot;2&quot;)\n  case THREE extends Enum1(() =&gt; &quot;3&quot;)\n</code></pre>\n<p>2nd approach: extension method (you can put it into any 'object', just remember to import it)\nAdvantage: really scala approach\nDisadvantage: you can miss new enum value in match if you use default compiler settings (there will be only warning)\nUse compiler param '-Wconf:msg=match may not be exhaustive:error' to get compilation error</p>\n<pre class=\"lang-scala prettyprint-override\"><code>enum Enum2 derives CanEqual:\n  case ONE, TWO, THREE\nobject Enum2 :\n  extension (en: Enum2)\n    // without parentheses () (side-effects are not expected)\n    def method1: String = en match\n      case Enum2.ONE   =&gt; &quot;1&quot;\n      case Enum2.TWO   =&gt; &quot;2&quot;\n      case Enum2.THREE =&gt; &quot;3&quot;\n    // with parentheses () (side-effects are expected)\n    def method2(): String = en match\n      case Enum2.ONE   =&gt; &quot;11&quot;\n      case Enum2.TWO   =&gt; &quot;22&quot;\n      case Enum2.THREE =&gt; &quot;33&quot;\n</code></pre>\n<p>Test</p>\n<pre class=\"lang-scala prettyprint-override\"><code>\nclass EnumsTest {\n  import scala.language.unsafeNulls\n  import org.assertj.core.api.Assertions.assertThat\n\n  @Test\n  def enumsTest(): Unit = {\n    assertThat(Enum1.ONE.method()).isEqualTo(&quot;1&quot;)\n    assertThat(Enum1.TWO.method()).isEqualTo(&quot;2&quot;)\n    assertThat(Enum1.THREE.method()).isEqualTo(&quot;3&quot;)\n\n    // of course does not work without using ()\n    //assertThat(Enum1.ONE.method).isEqualTo(&quot;1&quot;)\n\n    assertThat(Enum2.ONE.method1).isEqualTo(&quot;1&quot;)\n    assertThat(Enum2.TWO.method1).isEqualTo(&quot;2&quot;)\n    assertThat(Enum2.THREE.method1).isEqualTo(&quot;3&quot;)\n\n    assertThat(Enum2.ONE.method2()).isEqualTo(&quot;11&quot;)\n    assertThat(Enum2.TWO.method2()).isEqualTo(&quot;22&quot;)\n    assertThat(Enum2.THREE.method2()).isEqualTo(&quot;33&quot;)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24272,"reputation":4563,"user_id":61628,"accept_rate":51,"display_name":"Etam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17856,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":19080686,"answer_count":12,"score":41,"last_activity_date":1678839871,"creation_date":1291387083,"question_id":4346580,"body_markdown":"In Java you could:\r\n\r\n    public enum Enum {\r\n        ONE {\r\n            public String method() {\r\n                return &quot;1&quot;;\r\n            }\r\n        },\r\n        TWO {\r\n            public String method() {\r\n                return &quot;2&quot;;\r\n            }\r\n        },\r\n        THREE {\r\n            public String method() {\r\n                return &quot;3&quot;;\r\n            }\r\n        };\r\n\r\n        public abstract String method();\r\n    }\r\n\r\nHow do you do this in Scala?\r\n\r\nEDIT / Useful links:\r\n\r\n- https://github.com/rbricks/itemized\r\n- http://pedrorijo.com/blog/scala-enums/\r\n","title":"How to add a method to Enumeration in Scala?","body":"<p>In Java you could:</p>\n\n<pre><code>public enum Enum {\n    ONE {\n        public String method() {\n            return \"1\";\n        }\n    },\n    TWO {\n        public String method() {\n            return \"2\";\n        }\n    },\n    THREE {\n        public String method() {\n            return \"3\";\n        }\n    };\n\n    public abstract String method();\n}\n</code></pre>\n\n<p>How do you do this in Scala?</p>\n\n<p>EDIT / Useful links:</p>\n\n<ul>\n<li><a href=\"https://github.com/rbricks/itemized\" rel=\"noreferrer\">https://github.com/rbricks/itemized</a></li>\n<li><a href=\"http://pedrorijo.com/blog/scala-enums/\" rel=\"noreferrer\">http://pedrorijo.com/blog/scala-enums/</a></li>\n</ul>\n"},{"tags":["java","hash"],"answers":[{"comments":[{"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"score":0,"creation_date":1678893844,"post_id":75739493,"comment_id":133622152,"body_markdown":"I have couple of queries on this. 1. Since this will impact the existing hashtable/map/comparisons, so I was looking for some library which will not change the behaviour of internal apis but provide hash? 2. Since I want to generate the hashcode via invoking the parent class only, so will I get the hash that combines the sub-classes?","body":"I have couple of queries on this. 1. Since this will impact the existing hashtable/map/comparisons, so I was looking for some library which will not change the behaviour of internal apis but provide hash? 2. Since I want to generate the hashcode via invoking the parent class only, so will I get the hash that combines the sub-classes?"},{"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"score":0,"creation_date":1678896033,"post_id":75739493,"comment_id":133622901,"body_markdown":"I am looking for something like - Apache commons HashCodeBuilder.reflectionHashCode()...but the thing is works up the hierarchy &amp; not the down as we have in merkels algo..","body":"I am looking for something like - Apache commons HashCodeBuilder.reflectionHashCode()...but the thing is works up the hierarchy &amp; not the down as we have in merkels algo.."}],"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678839557,"creation_date":1678839557,"answer_id":75739493,"question_id":75739221,"body_markdown":"There is a great library called Lombok that provides functionality of marking only specific fields to be included (or excluded) into hashcode.\r\n\r\nMarking needed classes with EqualsAndHashCode annotation and adding EqualsAndHashCode.Exclude annotation to fields that are expected to be excluded from hashcode would do the job.\r\n\r\nWith it your class could look like:\r\n\r\n    @EqualsAndHashCode\r\n    public class Car {\r\n    \r\n        @EqualsAndHashCode.Exclude\r\n        int id\r\n    \r\n        int modelYear\r\n    \r\n        String color\r\n    \r\n        TyreClass tyre;\r\n    }\r\n\r\nand\r\n\r\n    @EqualsAndHashCode\r\n    Class TyreClass {\r\n       \r\n       @EqualsAndHashCode.Exclude\r\n       int id;\r\n    \r\n       @EqualsAndHashCode.Exclude\r\n       int version;\r\n    \r\n       float radius\r\n    \r\n       String colour\r\n    \r\n       double width\r\n    }","title":"Generate hash for nested DTO objects in Java by excluding a few fields in order to persist in DB","body":"<p>There is a great library called Lombok that provides functionality of marking only specific fields to be included (or excluded) into hashcode.</p>\n<p>Marking needed classes with EqualsAndHashCode annotation and adding EqualsAndHashCode.Exclude annotation to fields that are expected to be excluded from hashcode would do the job.</p>\n<p>With it your class could look like:</p>\n<pre><code>@EqualsAndHashCode\npublic class Car {\n\n    @EqualsAndHashCode.Exclude\n    int id\n\n    int modelYear\n\n    String color\n\n    TyreClass tyre;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@EqualsAndHashCode\nClass TyreClass {\n   \n   @EqualsAndHashCode.Exclude\n   int id;\n\n   @EqualsAndHashCode.Exclude\n   int version;\n\n   float radius\n\n   String colour\n\n   double width\n}\n</code></pre>\n"}],"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678839557,"creation_date":1678835882,"question_id":75739221,"body_markdown":"Java library:\r\n\r\nI plan to store hash for a Nested DTO object where I need to include fields from subclass/nested class. Is there any library that I can use which would return me a hash &amp; where I can exclude fields by just adding annotations over the fields?\r\n\r\nI plan to not use this in comparison but for some purpose, I need to persist in DB.\r\n\r\nFor e.g. if I have a \r\n```java\r\nClass Car {\r\n    @ExcludeField\r\n    int id\r\n\r\n    int modelYear\r\n\r\n    String color\r\n\r\n    TyreClass tyre;\r\n}\r\n```\r\n\r\n```java\r\nClass TyreClass {\r\n   \r\n   @ExcludeField\r\n   int id;\r\n\r\n   @ExcludeField\r\n   int version;\r\n\r\n   float radius\r\n\r\n   String colour\r\n\r\n   double width\r\n}\r\n```\r\n\r\nIn this case, if I can have any library which would allow me to get hash for Car (including for tyreClass)? I need java solutions/library for this\r\n\r\nExpecting to return an integer or a string has a value.","title":"Generate hash for nested DTO objects in Java by excluding a few fields in order to persist in DB","body":"<p>Java library:</p>\n<p>I plan to store hash for a Nested DTO object where I need to include fields from subclass/nested class. Is there any library that I can use which would return me a hash &amp; where I can exclude fields by just adding annotations over the fields?</p>\n<p>I plan to not use this in comparison but for some purpose, I need to persist in DB.</p>\n<p>For e.g. if I have a</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class Car {\n    @ExcludeField\n    int id\n\n    int modelYear\n\n    String color\n\n    TyreClass tyre;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Class TyreClass {\n   \n   @ExcludeField\n   int id;\n\n   @ExcludeField\n   int version;\n\n   float radius\n\n   String colour\n\n   double width\n}\n</code></pre>\n<p>In this case, if I can have any library which would allow me to get hash for Car (including for tyreClass)? I need java solutions/library for this</p>\n<p>Expecting to return an integer or a string has a value.</p>\n"},{"tags":["java","gradle","jar"],"answers":[{"tags":[],"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678838871,"creation_date":1678838871,"answer_id":75739440,"question_id":75719313,"body_markdown":"Never mind, it was a scoping issue. The Jar task definition was in a scope in which the Java plugin hadn&#39;t been applied. Once I addressed that, the problem resolved itself. ","title":"How to clear Gradle Jar &quot;archiveFile doesn&#39;t have a configured value&quot; error","body":"<p>Never mind, it was a scoping issue. The Jar task definition was in a scope in which the Java plugin hadn't been applied. Once I addressed that, the problem resolved itself.</p>\n"}],"owner":{"account_id":16828038,"reputation":119,"user_id":12166780,"display_name":"quarkpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678838871,"creation_date":1678694753,"question_id":75719313,"body_markdown":"I&#39;m in the process of upgrading a project from Gradle 4.4 to Gradle 7.6. There&#39;s a Jar task that used to work but now fails. The task definition:\r\n```\r\ntask createSpocClasspath(type: Jar) {\r\n    def libDir = distLibsDir\r\n    inputs.dir libDir\r\n    outputs.file &quot;$libDir/spoc-classpath.jar&quot;\r\n\r\n    doFirst {\r\n        manifest {\r\n            // The sort is important as it makes the Java 7 jars come\r\n            // before the Java 8 jars, which is needed to compile\r\n            // MATLAB binaries that depend on SPOC Java code.\r\n            attributes &quot;Class-Path&quot;: libDir.listFiles({file -&gt; file.getPath().endsWith(&quot;.jar&quot;) } as FileFilter).sort().name.join(&quot; &quot;)\r\n        }\r\n        destinationDir = libDir\r\n        baseName = &#39;spoc-classpath&#39;\r\n    }\r\n}\r\n```\r\nThis results in the following error message:\r\n```\r\n&gt; Task :code:createSpocClasspath FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem was found with the configuration of task &#39;:code:createSpocClasspath&#39; (type &#39;Jar&#39;).\r\n  - Type &#39;org.gradle.api.tasks.bundling.Jar&#39; property &#39;archiveFile&#39; doesn&#39;t have a configured value.\r\n    \r\n    Reason: This property isn&#39;t marked as optional and no value has been configured.\r\n    \r\n    Possible solutions:\r\n      1. Assign a value to &#39;archiveFile&#39;.\r\n      2. Mark property &#39;archiveFile&#39; as optional.\r\n    \r\n    Please refer to https://docs.gradle.org/7.6/userguide/validation_problems.html#value_not_set for more details about this problem.\r\n```\r\nI&#39;ve read the Gradle documentation for Jar tasks, and [this Stack Overflow article][1], but somehow I can&#39;t find the correct syntax to get this Jar task back on track.\r\n\r\nAny assistance would be most welcome!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69893762/gradle-set-archivefile-of-a-custom-jar","title":"How to clear Gradle Jar &quot;archiveFile doesn&#39;t have a configured value&quot; error","body":"<p>I'm in the process of upgrading a project from Gradle 4.4 to Gradle 7.6. There's a Jar task that used to work but now fails. The task definition:</p>\n<pre><code>task createSpocClasspath(type: Jar) {\n    def libDir = distLibsDir\n    inputs.dir libDir\n    outputs.file &quot;$libDir/spoc-classpath.jar&quot;\n\n    doFirst {\n        manifest {\n            // The sort is important as it makes the Java 7 jars come\n            // before the Java 8 jars, which is needed to compile\n            // MATLAB binaries that depend on SPOC Java code.\n            attributes &quot;Class-Path&quot;: libDir.listFiles({file -&gt; file.getPath().endsWith(&quot;.jar&quot;) } as FileFilter).sort().name.join(&quot; &quot;)\n        }\n        destinationDir = libDir\n        baseName = 'spoc-classpath'\n    }\n}\n</code></pre>\n<p>This results in the following error message:</p>\n<pre><code>&gt; Task :code:createSpocClasspath FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem was found with the configuration of task ':code:createSpocClasspath' (type 'Jar').\n  - Type 'org.gradle.api.tasks.bundling.Jar' property 'archiveFile' doesn't have a configured value.\n    \n    Reason: This property isn't marked as optional and no value has been configured.\n    \n    Possible solutions:\n      1. Assign a value to 'archiveFile'.\n      2. Mark property 'archiveFile' as optional.\n    \n    Please refer to https://docs.gradle.org/7.6/userguide/validation_problems.html#value_not_set for more details about this problem.\n</code></pre>\n<p>I've read the Gradle documentation for Jar tasks, and <a href=\"https://stackoverflow.com/questions/69893762/gradle-set-archivefile-of-a-custom-jar\">this Stack Overflow article</a>, but somehow I can't find the correct syntax to get this Jar task back on track.</p>\n<p>Any assistance would be most welcome!</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1678781080,"post_id":75728703,"comment_id":133595268,"body_markdown":"have you tried anything ? can u show the code ?","body":"have you tried anything ? can u show the code ?"}],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678837556,"creation_date":1678837556,"answer_id":75739358,"question_id":75728703,"body_markdown":"Not sure if Spring actually allows to select different ExceptionHandler based on headers.\r\n\r\nHowever, it is possible to define one ExceptionHandler and pass `HttpServletRequest` request as method argument - and extract headers from it. And based on header value - call more specific logic","title":"Route to corresponding exception handler in RestControllerAdvice according to header","body":"<p>Not sure if Spring actually allows to select different ExceptionHandler based on headers.</p>\n<p>However, it is possible to define one ExceptionHandler and pass <code>HttpServletRequest</code> request as method argument - and extract headers from it. And based on header value - call more specific logic</p>\n"}],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75739358,"answer_count":1,"score":0,"last_activity_date":1678837556,"creation_date":1678762387,"question_id":75728703,"body_markdown":"We develop an API which services for different departments. But unfortunately, The format of error response body for 4xx or 5xx is not under our control but needs to follow these departments.\r\n\r\nFortunately, the requests from different departments have different `sourceid` http header.\r\n\r\nBased on `ExceptionHandler` and `RestControllerAdvice` mechanism in Spring, is it possible to make exception be handled in correct `ExceptionHandler` according to the `sourceid` http header in the request so we can response using expected format?\r\n\r\nMany thanks!","title":"Route to corresponding exception handler in RestControllerAdvice according to header","body":"<p>We develop an API which services for different departments. But unfortunately, The format of error response body for 4xx or 5xx is not under our control but needs to follow these departments.</p>\n<p>Fortunately, the requests from different departments have different <code>sourceid</code> http header.</p>\n<p>Based on <code>ExceptionHandler</code> and <code>RestControllerAdvice</code> mechanism in Spring, is it possible to make exception be handled in correct <code>ExceptionHandler</code> according to the <code>sourceid</code> http header in the request so we can response using expected format?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","multithreading","future","executor"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678807859,"post_id":75733704,"comment_id":133603042,"body_markdown":"I’ve never heard of ExecutorService.submit returning null.  You may want to add a check in the code to be sure it’s not null.  (Note:  use `false` and `true`, not Boolean.FALSE and Boolean.TRUE.  And use `futureList != null`, not Objects.nonNull(futureList).  Objects.nonNull is meant for stream filtering;  it’s not a replacement for basic operators.)","body":"I’ve never heard of ExecutorService.submit returning null.  You may want to add a check in the code to be sure it’s not null.  (Note:  use <code>false</code> and <code>true</code>, not Boolean.FALSE and Boolean.TRUE.  And use <code>futureList != null</code>, not Objects.nonNull(futureList).  Objects.nonNull is meant for stream filtering;  it’s not a replacement for basic operators.)"},{"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"score":0,"creation_date":1678950935,"post_id":75733704,"comment_id":133632859,"body_markdown":"I feel like this might happen because of visibility issues(correctly publishing objects so that other threads could see them in a valid state[meeting all their invariants]) or because of thread safety issues or both.  For instance; List&lt;Future&lt;Boolean&gt;&gt; futureList = new ArrayList&lt;&gt;() is not safely published and it is not thread safe. Hence, multiple threads accessing that could produce interesting things. NOTE: If the array list is thread local, then this is not an issue. [in this case, a thread checks whether tasks it submitted finished and do not care other tasks of other threads]","body":"I feel like this might happen because of visibility issues(correctly publishing objects so that other threads could see them in a valid state[meeting all their invariants]) or because of thread safety issues or both.  For instance; List&lt;Future&lt;Boolean&gt;&gt; futureList = new ArrayList&lt;&gt;() is not safely published and it is not thread safe. Hence, multiple threads accessing that could produce interesting things. NOTE: If the array list is thread local, then this is not an issue. [in this case, a thread checks whether tasks it submitted finished and do not care other tasks of other threads]"},{"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"score":0,"creation_date":1678951295,"post_id":75733704,"comment_id":133632923,"body_markdown":"private final ExecutorService crawlerTaskExecutor = Executors.newFixedThreadPool(CRAWLER_THREAD_POOL_SIZE); [final safely publishes], and try using a concurrent list instead of ArrayList. This might be,      private final ConcurrentLinkedQueue&lt;Future&lt;Void&gt;&gt;\n            futureList = new ConcurrentLinkedQueue&lt;&gt;();.","body":"private final ExecutorService crawlerTaskExecutor = Executors.newFixedThreadPool(CRAWLER_THREAD_POOL_SIZE); [final safely publishes], and try using a concurrent list instead of ArrayList. This might be,      private final ConcurrentLinkedQueue&lt;Future&lt;Void&gt;&gt;             futureList = new ConcurrentLinkedQueue&lt;&gt;();."},{"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"score":0,"creation_date":1678951647,"post_id":75733704,"comment_id":133633000,"body_markdown":"I do not know if you shutdown the ExecutorService but you might need to shutdown that as well. [Add a method to shutdown ExecutorService. You might use shutdown() method on it and await for termination]","body":"I do not know if you shutdown the ExecutorService but you might need to shutdown that as well. [Add a method to shutdown ExecutorService. You might use shutdown() method on it and await for termination]"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1679335856,"post_id":75733704,"comment_id":133700157,"body_markdown":"You need to synchronize access to the list or protect it in some other way. Either wrap it with Collections.synchronizedList when you create it or use ConcurrentLinkedQueue or CopyOnWriteArrayList. I would start with synchronization.","body":"You need to synchronize access to the list or protect it in some other way. Either wrap it with Collections.synchronizedList when you create it or use ConcurrentLinkedQueue or CopyOnWriteArrayList. I would start with synchronization."}],"owner":{"account_id":23967182,"reputation":21,"user_id":17956493,"display_name":"Gopal Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678837499,"creation_date":1678800119,"question_id":75733704,"body_markdown":"I am working in a multithreaded environment with many methods to be called using Executors. The code works fine even for large data earlier, but it threw a null pointer exception once. \r\nHere is the related parts of the code.\r\n\r\n```\r\nprivate ExecutorService crawlerTaskExecutor = Executors.newFixedThreadPool(CRAWLER_THREAD_POOL_SIZE);\r\nprivate List&lt;Future&lt;Boolean&gt;&gt; futureList = new ArrayList&lt;&gt;();\r\n\r\nfutureList.add(crawlerTaskExecutor.submit(() -&gt; fetchDocuments(siteUrl),Boolean.FALSE));\r\n//Many other method calls are also present.\r\n\r\nprivate boolean isCrawlerRunning() {\r\n    boolean isRunning = Boolean.FALSE;\r\n    if (Objects.nonNull(futureList)) {\r\n        for (Future&lt;Boolean&gt; future : futureList) {\r\n            if (!future.isDone()) {//got null pointer here.\r\n                isRunning = Boolean.TRUE;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return isRunning;\r\n}\r\n```\r\n\r\nI got a null pointer in line `if (!future.isDone())`. Now I am not getting why would the future be null? I understand that `crawlerTaskExecutor.submit` is returning null but why and when it can return null? And what could be done if it returns null? \r\n\r\nI am not getting why this happened, this issue doesn&#39;t get produced earlier even with lots of run with 500k data and suddenly appeared.","title":"Executor.submit() returns null","body":"<p>I am working in a multithreaded environment with many methods to be called using Executors. The code works fine even for large data earlier, but it threw a null pointer exception once.\nHere is the related parts of the code.</p>\n<pre><code>private ExecutorService crawlerTaskExecutor = Executors.newFixedThreadPool(CRAWLER_THREAD_POOL_SIZE);\nprivate List&lt;Future&lt;Boolean&gt;&gt; futureList = new ArrayList&lt;&gt;();\n\nfutureList.add(crawlerTaskExecutor.submit(() -&gt; fetchDocuments(siteUrl),Boolean.FALSE));\n//Many other method calls are also present.\n\nprivate boolean isCrawlerRunning() {\n    boolean isRunning = Boolean.FALSE;\n    if (Objects.nonNull(futureList)) {\n        for (Future&lt;Boolean&gt; future : futureList) {\n            if (!future.isDone()) {//got null pointer here.\n                isRunning = Boolean.TRUE;\n                break;\n            }\n        }\n    }\n    return isRunning;\n}\n</code></pre>\n<p>I got a null pointer in line <code>if (!future.isDone())</code>. Now I am not getting why would the future be null? I understand that <code>crawlerTaskExecutor.submit</code> is returning null but why and when it can return null? And what could be done if it returns null?</p>\n<p>I am not getting why this happened, this issue doesn't get produced earlier even with lots of run with 500k data and suddenly appeared.</p>\n"},{"tags":["java","loops","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678816125,"creation_date":1678816125,"answer_id":75736697,"question_id":75736586,"body_markdown":"Below code will print all the text within the `td` nodes:\r\n\r\n````\r\nList&lt;WebElement&gt; tdList = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;accuracyTableWrapper\\&quot;]/table/thead/tr/td&quot;));\r\n\t\tfor (WebElement element : tdList) {\r\n\t\t\tSystem.out.println(element.getText());\r\n}\r\n````","title":"Iterate over columns in a table header row and print out the text using Selenium Java","body":"<p>Below code will print all the text within the <code>td</code> nodes:</p>\n<pre><code>List&lt;WebElement&gt; tdList = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;accuracyTableWrapper\\&quot;]/table/thead/tr/td&quot;));\n        for (WebElement element : tdList) {\n            System.out.println(element.getText());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"score":1,"creation_date":1679591596,"post_id":75739331,"comment_id":133753005,"body_markdown":"thank you for this suggestion and it makes sense to include the WebDriverWait.","body":"thank you for this suggestion and it makes sense to include the WebDriverWait."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678837254,"creation_date":1678837254,"answer_id":75739331,"question_id":75736586,"body_markdown":"Given the HTML...\r\n\r\n![html](https://i.stack.imgur.com/u7SzZ.png)\r\n\r\nthe elements seems to be dynamic elements, so to print the desired texts ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfAllElementsLocatedBy()_](https://stackoverflow.com/a/55707593/7429447) and you can use the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;#accuracyTableWrapper &gt; table &gt; thead &gt; tr td&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\r\n- Using _xpath_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr//td&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\t  \r\nUsing Java8&#39;s [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) and [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) you can use the following [_locator strategies_](https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;#accuracyTableWrapper &gt; table &gt; thead &gt; tr td&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr//td&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));","title":"Iterate over columns in a table header row and print out the text using Selenium Java","body":"<p>Given the HTML...</p>\n<p><img src=\"https://i.stack.imgur.com/u7SzZ.png\" alt=\"html\" /></p>\n<p>the elements seems to be dynamic elements, so to print the desired texts ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/55707593/7429447\"><em>visibilityOfAllElementsLocatedBy()</em></a> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;#accuracyTableWrapper &gt; table &gt; thead &gt; tr td&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr//td&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n</ul>\n<p>Using Java8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>stream()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>map()</code></a> you can use the following <a href=\"https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;#accuracyTableWrapper &gt; table &gt; thead &gt; tr td&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr//td&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75739331,"answer_count":2,"score":1,"last_activity_date":1678837254,"creation_date":1678815441,"question_id":75736586,"body_markdown":"I am trying to iterate through a list of columns for a table header row, and need to print out the text of the element (`getText()`).  How can this be done when there are many columns (`td`) for the specific table header row?  Below is the XPATH and a screenshot showing the columns (count of 54 columns):\r\n\r\nXPATH expresssion for table header row:  `//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr`\r\n\r\nXPATH expresssion  for table column:  `//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr/td `(where there are 54 instances of this)\r\n\r\nScreenshot:\r\n[![enter image description here][1]][1]\r\n\r\nHow can this be done efficiently in order to properly print out the text for each `td`?  Please let me know for any suggestions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u7SzZ.png","title":"Iterate over columns in a table header row and print out the text using Selenium Java","body":"<p>I am trying to iterate through a list of columns for a table header row, and need to print out the text of the element (<code>getText()</code>).  How can this be done when there are many columns (<code>td</code>) for the specific table header row?  Below is the XPATH and a screenshot showing the columns (count of 54 columns):</p>\n<p>XPATH expresssion for table header row:  <code>//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr</code></p>\n<p>XPATH expresssion  for table column:  <code>//*[@id=&quot;accuracyTableWrapper&quot;]/table/thead/tr/td </code>(where there are 54 instances of this)</p>\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/u7SzZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7SzZ.png\" alt=\"enter image description here\" /></a></p>\n<p>How can this be done efficiently in order to properly print out the text for each <code>td</code>?  Please let me know for any suggestions.</p>\n"},{"tags":["java","modulo","negative-number"],"comments":[{"owner":{"display_name":"user395760"},"score":14,"creation_date":1292006819,"post_id":4412179,"comment_id":4811805,"body_markdown":"There&#39;s no &quot;right&quot; modulus behaviour when dealing with negative numbers - a lot of languages do it this way, a lot of languages do it different, and a few languages do something completely different. At least the first two have their pros and cons.","body":"There&#39;s no &quot;right&quot; modulus behaviour when dealing with negative numbers - a lot of languages do it this way, a lot of languages do it different, and a few languages do something completely different. At least the first two have their pros and cons."},{"owner":{"account_id":52736,"reputation":17949,"user_id":157629,"accept_rate":73,"display_name":"fent"},"score":5,"creation_date":1292007301,"post_id":4412179,"comment_id":4811903,"body_markdown":"this is just weird for me. i thought it should only return negative if b is negative.","body":"this is just weird for me. i thought it should only return negative if b is negative."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":1,"creation_date":1292007492,"post_id":4412179,"comment_id":4811937,"body_markdown":"possible duplicate of [How does java do modulus calculations with negative numbers?](http://stackoverflow.com/questions/4403542/how-does-java-do-modulus-calculations-with-negative-numbers)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4403542/how-does-java-do-modulus-calculations-with-negative-numbers\">How does java do modulus calculations with negative numbers?</a>"},{"owner":{"account_id":52736,"reputation":17949,"user_id":157629,"accept_rate":73,"display_name":"fent"},"score":2,"creation_date":1292008822,"post_id":4412179,"comment_id":4812173,"body_markdown":"it is. but the title of that question should be renamed. i wouldn&#39;t click that question if i was searching for this one because i already know how java modulus works.","body":"it is. but the title of that question should be renamed. i wouldn&#39;t click that question if i was searching for this one because i already know how java modulus works."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":7,"creation_date":1292009031,"post_id":4412179,"comment_id":4812206,"body_markdown":"I just renamed it to that from &quot;Why is -13 % 64 = 51?&quot;, which would never in a million years be anything someone would search on.  So this question title is much better, and much more searchable on keywords like modulus, negative, calculation, numbers.","body":"I just renamed it to that from &quot;Why is -13 % 64 = 51?&quot;, which would never in a million years be anything someone would search on.  So this question title is much better, and much more searchable on keywords like modulus, negative, calculation, numbers."},{"owner":{"account_id":11989508,"reputation":1208,"user_id":8773089,"display_name":"StackOverthrow"},"score":1,"creation_date":1538423742,"post_id":4412179,"comment_id":92130628,"body_markdown":"Java doesn&#39;t have a modulus operator. The operator that many programmers mistakenly call modulus is actually called the [remainder operator](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html), which hints at why it behaves as it does.","body":"Java doesn&#39;t have a modulus operator. The operator that many programmers mistakenly call modulus is actually called the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\">remainder operator</a>, which hints at why it behaves as it does."}],"answers":[{"comments":[{"owner":{"account_id":52736,"reputation":17949,"user_id":157629,"accept_rate":73,"display_name":"fent"},"score":3,"creation_date":1292007350,"post_id":4412200,"comment_id":4811908,"body_markdown":"this works better thanks. and it works for negative numbers that are much larger than b too.","body":"this works better thanks. and it works for negative numbers that are much larger than b too."},{"owner":{"account_id":446661,"reputation":2862,"user_id":839829,"accept_rate":90,"display_name":"mfsiega"},"score":0,"creation_date":1351124416,"post_id":4412200,"comment_id":17737033,"body_markdown":"this is a really good answer! as close to elegant as java will let you go, I think","body":"this is a really good answer! as close to elegant as java will let you go, I think"},{"owner":{"account_id":2151509,"reputation":2370,"user_id":1907765,"accept_rate":41,"display_name":"Lou"},"score":0,"creation_date":1397298485,"post_id":4412200,"comment_id":35181346,"body_markdown":"@PeterLawrey - Thanks, I needed this solution too, but would you be willing to explain why it works?","body":"@PeterLawrey - Thanks, I needed this solution too, but would you be willing to explain why it works?"},{"owner":{"account_id":4147098,"reputation":3733,"user_id":3400481,"accept_rate":67,"display_name":"ethanfar"},"score":6,"creation_date":1397368416,"post_id":4412200,"comment_id":35200446,"body_markdown":"It works since the result of `(a % b)` is necessarily lower than `b` (no matter if `a` is positive or negative), adding `b` takes care of the negative values of `a`, since `(a % b)` is lower than `b` and lower than `0`, `(a % b + b)` is necessarily lower than `b` and positive. The last modulo is there in case `a` was positive to begin with, since if `a` is positive `(a % b + b)` would become larger than `b`. Therefore, `(a % b + b) % b` turns it into smaller than `b` again (and doesn&#39;t affect negative `a` values).","body":"It works since the result of <code>(a % b)</code> is necessarily lower than <code>b</code> (no matter if <code>a</code> is positive or negative), adding <code>b</code> takes care of the negative values of <code>a</code>, since <code>(a % b)</code> is lower than <code>b</code> and lower than <code>0</code>, <code>(a % b + b)</code> is necessarily lower than <code>b</code> and positive. The last modulo is there in case <code>a</code> was positive to begin with, since if <code>a</code> is positive <code>(a % b + b)</code> would become larger than <code>b</code>. Therefore, <code>(a % b + b) % b</code> turns it into smaller than <code>b</code> again (and doesn&#39;t affect negative <code>a</code> values)."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1410605179,"post_id":4412200,"comment_id":40396124,"body_markdown":"@eitanfar I&#39;ve included your excellent explanation into the answer (with a minor correction for `a &lt; 0`, maybe you could have a look)","body":"@eitanfar I&#39;ve included your excellent explanation into the answer (with a minor correction for <code>a &lt; 0</code>, maybe you could have a look)"},{"owner":{"account_id":236290,"reputation":2323,"user_id":503668,"display_name":"Thorbear"},"score":7,"creation_date":1442396858,"post_id":4412200,"comment_id":53061686,"body_markdown":"I just saw this commented on another question regarding the same topic;\nIt might be worth mentioning that `(a % b + b) % b` breaks down for very large values of `a` and `b`.\nFor example, using `a = Integer.MAX_VALUE - 1` and `b = Integer.MAX_VALUE` will give `-3` as result, which is a negative number, which is what you wanted to avoid.","body":"I just saw this commented on another question regarding the same topic; It might be worth mentioning that <code>(a % b + b) % b</code> breaks down for very large values of <code>a</code> and <code>b</code>. For example, using <code>a = Integer.MAX_VALUE - 1</code> and <code>b = Integer.MAX_VALUE</code> will give <code>-3</code> as result, which is a negative number, which is what you wanted to avoid."},{"owner":{"account_id":119223,"reputation":6110,"user_id":310779,"accept_rate":80,"display_name":"Mikepote"},"score":0,"creation_date":1457430329,"post_id":4412200,"comment_id":59391947,"body_markdown":"Isnt `(a % b + b) % b` much slower to execute than `a = a % b; while (a &lt; 0) { a += b;}` ? Since you have to do two modulus operations? (Assuming that you&#39;re only interested in cases where a &lt;= b)","body":"Isnt <code>(a % b + b) % b</code> much slower to execute than <code>a = a % b; while (a &lt; 0) { a += b;}</code> ? Since you have to do two modulus operations? (Assuming that you&#39;re only interested in cases where a &lt;= b)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1457431159,"post_id":4412200,"comment_id":59392497,"body_markdown":"@Mikepote using a `while` would be slower if you really need it except you only need an `if` in which case it is actually faster.","body":"@Mikepote using a <code>while</code> would be slower if you really need it except you only need an <code>if</code> in which case it is actually faster."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1461026737,"post_id":4412200,"comment_id":61001009,"body_markdown":"@PeterLawrey I have a question [here](http://stackoverflow.com/questions/36705814/swap-functions-of-collections-class-fails-on-negative-value) in which `hashCode` method of String is returning negative value bcoz of which my index value is coming as negative. I wanted to see if you can help out.","body":"@PeterLawrey I have a question <a href=\"http://stackoverflow.com/questions/36705814/swap-functions-of-collections-class-fails-on-negative-value\">here</a> in which <code>hashCode</code> method of String is returning negative value bcoz of which my index value is coming as negative. I wanted to see if you can help out."},{"owner":{"account_id":11909,"reputation":10187,"user_id":23193,"accept_rate":92,"display_name":"R&#244;mulo Ceccon"},"score":0,"creation_date":1489756681,"post_id":4412200,"comment_id":72823205,"body_markdown":"What about including a solution (without a conditional) for those who also need the quotient from the modulo division (such that, for example, `-1 div 4 = -1`, instead of `-1 / 4 = 0`)? Here it is (assuming you already have the modulus in variable `mod_ab`): `(a - (mod_ab - a % b)) / b`.","body":"What about including a solution (without a conditional) for those who also need the quotient from the modulo division (such that, for example, <code>-1 div 4 = -1</code>, instead of <code>-1 &#47; 4 = 0</code>)? Here it is (assuming you already have the modulus in variable <code>mod_ab</code>): <code>(a - (mod_ab - a % b)) &#47; b</code>."},{"owner":{"account_id":4345051,"reputation":541,"user_id":5792352,"display_name":"runcoderun"},"score":0,"creation_date":1539797424,"post_id":4412200,"comment_id":92635564,"body_markdown":"One small note: If `a` is within `b` distance from `0` (e.g. when doing screen wrapping of some updated x-coordinate `a` within a 2D game map of width `b`), `(a + b) % b` will do.","body":"One small note: If <code>a</code> is within <code>b</code> distance from <code>0</code> (e.g. when doing screen wrapping of some updated x-coordinate <code>a</code> within a 2D game map of width <code>b</code>), <code>(a + b) % b</code> will do."},{"owner":{"account_id":2925374,"reputation":349,"user_id":2506815,"display_name":"Chris Golledge"},"score":1,"creation_date":1618002156,"post_id":4412200,"comment_id":118479752,"body_markdown":"Pretty sure modulo and remainder are not the same thing. You can look up the definitions in a math reference, but % means modulo in some languages and remainder in others. https://stackoverflow.com/questions/40692016/javascript-modulo-operator-behaves-differently-from-other-languages","body":"Pretty sure modulo and remainder are not the same thing. You can look up the definitions in a math reference, but % means modulo in some languages and remainder in others. <a href=\"https://stackoverflow.com/questions/40692016/javascript-modulo-operator-behaves-differently-from-other-languages\" title=\"javascript modulo operator behaves differently from other languages\">stackoverflow.com/questions/40692016/&hellip;</a>"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":12,"down_vote_count":4,"up_vote_count":175,"is_accepted":false,"score":171,"last_activity_date":1678835012,"creation_date":1292006789,"answer_id":4412200,"question_id":4412179,"body_markdown":"It behaves as it should: `a % b = a - a / b * b`; i.e. it&#39;s the remainder.\r\n\r\nYou can do `(a % b + b) % b`.\r\n\r\n---\r\n\r\nThis expression works as the result of `(a % b)` is necessarily lower than `b`, no matter if `a` is positive or negative. Adding `b` takes care of the negative values of `a`, since `(a % b)` is a negative value between `-b` and `0`, `(a % b + b)` is necessarily lower than `b` and positive. The last modulo is there in case `a` was positive to begin with, since if `a` is positive `(a % b + b)` would become larger than `b`. Therefore, `(a % b + b) % b` turns it into smaller than `b` again (and doesn&#39;t affect negative `a` values).","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>It behaves as it should: <code>a % b = a - a / b * b</code>; i.e. it's the remainder.</p>\n<p>You can do <code>(a % b + b) % b</code>.</p>\n<hr />\n<p>This expression works as the result of <code>(a % b)</code> is necessarily lower than <code>b</code>, no matter if <code>a</code> is positive or negative. Adding <code>b</code> takes care of the negative values of <code>a</code>, since <code>(a % b)</code> is a negative value between <code>-b</code> and <code>0</code>, <code>(a % b + b)</code> is necessarily lower than <code>b</code> and positive. The last modulo is there in case <code>a</code> was positive to begin with, since if <code>a</code> is positive <code>(a % b + b)</code> would become larger than <code>b</code>. Therefore, <code>(a % b + b) % b</code> turns it into smaller than <code>b</code> again (and doesn't affect negative <code>a</code> values).</p>\n"},{"comments":[{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":3,"creation_date":1515796693,"post_id":25830153,"comment_id":83452558,"body_markdown":"best answer for Java 8+","body":"best answer for Java 8+"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1528117059,"post_id":25830153,"comment_id":88371681,"body_markdown":"Cool, didn&#39;t know about that one. Java 8 definitively fixed a few PITA&#39;s.","body":"Cool, didn&#39;t know about that one. Java 8 definitively fixed a few PITA&#39;s."},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":6,"creation_date":1528368493,"post_id":25830153,"comment_id":88486002,"body_markdown":"Good way. But unfortunately doesn&#39;t work with `float` or `double` arguments. *Mod binary operator* (`%`) also works with `float` and `double` operands.","body":"Good way. But unfortunately doesn&#39;t work with <code>float</code> or <code>double</code> arguments. <i>Mod binary operator</i> (<code>%</code>) also works with <code>float</code> and <code>double</code> operands."},{"owner":{"account_id":75585,"reputation":595,"user_id":216756,"display_name":"Chris Mountford"},"score":0,"creation_date":1689825540,"post_id":25830153,"comment_id":135268966,"body_markdown":"In some ways the better question is `how to do &#39;xyz&#39;` math operation in Java. What complicates this is people&#39;s belief that there is one correct way to do it.","body":"In some ways the better question is <code>how to do &#39;xyz&#39;</code> math operation in Java. What complicates this is people&#39;s belief that there is one correct way to do it."}],"tags":[],"owner":{"account_id":4996313,"reputation":1436,"user_id":4038967,"display_name":"John Krueger"},"comment_count":4,"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1410669940,"creation_date":1410669940,"answer_id":25830153,"question_id":4412179,"body_markdown":"As of Java 8, you can use [Math.floorMod(int x, int y)](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-int-int-) and [Math.floorMod(long x, long y)](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-long-long-). Both of these methods return the same results as Peter&#39;s answer.\r\n\r\n    Math.floorMod( 2,  3) =  2\r\n    Math.floorMod(-2,  3) =  1\r\n    Math.floorMod( 2, -3) = -1\r\n    Math.floorMod(-2, -3) = -2","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>As of Java 8, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-int-int-\">Math.floorMod(int x, int y)</a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-long-long-\">Math.floorMod(long x, long y)</a>. Both of these methods return the same results as Peter's answer.</p>\n\n<pre><code>Math.floorMod( 2,  3) =  2\nMath.floorMod(-2,  3) =  1\nMath.floorMod( 2, -3) = -1\nMath.floorMod(-2, -3) = -2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1458925809,"creation_date":1458925809,"answer_id":36224551,"question_id":4412179,"body_markdown":"For those not using (or not able to use) Java 8 yet, Guava came to the rescue with [IntMath.mod()][1], available since Guava 11.0.\r\n\r\n    IntMath.mod( 2, 3) = 2\r\n    IntMath.mod(-2, 3) = 1\r\n\r\nOne caveat: unlike Java 8&#39;s Math.floorMod(), the divisor (the second parameter) cannot be negative.\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/v11.0/javadoc/com/google/common/math/IntMath.html#mod(int,%20int)","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>For those not using (or not able to use) Java 8 yet, Guava came to the rescue with <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v11.0/javadoc/com/google/common/math/IntMath.html#mod(int,%20int)\" rel=\"noreferrer\">IntMath.mod()</a>, available since Guava 11.0.</p>\n\n<pre><code>IntMath.mod( 2, 3) = 2\nIntMath.mod(-2, 3) = 1\n</code></pre>\n\n<p>One caveat: unlike Java 8's Math.floorMod(), the divisor (the second parameter) cannot be negative.</p>\n"},{"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":1,"creation_date":1562767868,"post_id":37737071,"comment_id":100481467,"body_markdown":"In number theory it&#39;s not always positive...  They fall into congruence classes.  You are free to choose whatever candidate from that class for your notation purposes, but the idea is that it maps to _all_ of that class, and if using a specific other candidate from it makes a certain problem significantly simpler (choosing `-1` instead of `n-1` for example) then have at it.","body":"In number theory it&#39;s not always positive...  They fall into congruence classes.  You are free to choose whatever candidate from that class for your notation purposes, but the idea is that it maps to <i>all</i> of that class, and if using a specific other candidate from it makes a certain problem significantly simpler (choosing <code>-1</code> instead of <code>n-1</code> for example) then have at it."},{"owner":{"account_id":6787784,"reputation":350,"user_id":5225876,"display_name":"Richard Thomas"},"score":1,"creation_date":1604986072,"post_id":37737071,"comment_id":114507533,"body_markdown":"Definitely the case of a primadonna programmer who thinks he knows better than everyone else and just causes confusion for everyone. Should have used a different operator than % for remainder which has traditionally returned values between 0 and the modulo. This is likely to cause hard-to-find bugs and things like planes turning upside down when crossing the equator.\nNote that I&#39;m not suggesting it be changed now.","body":"Definitely the case of a primadonna programmer who thinks he knows better than everyone else and just causes confusion for everyone. Should have used a different operator than % for remainder which has traditionally returned values between 0 and the modulo. This is likely to cause hard-to-find bugs and things like planes turning upside down when crossing the equator. Note that I&#39;m not suggesting it be changed now."},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1652961180,"post_id":37737071,"comment_id":127737239,"body_markdown":"@Richard Thomas:  Agreed. About plane turning upside down : using quaternions avoid all this and makes the code much cleaner ( conceptually and programmatically).","body":"@Richard Thomas:  Agreed. About plane turning upside down : using quaternions avoid all this and makes the code much cleaner ( conceptually and programmatically)."}],"tags":[],"owner":{"account_id":2925374,"reputation":349,"user_id":2506815,"display_name":"Chris Golledge"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1465838463,"creation_date":1465510494,"answer_id":37737071,"question_id":4412179,"body_markdown":"In number theory, the result is always positive. I would guess that this is not always the case in computer languages because not all programmers are mathematicians.  My two cents, I would consider it a design defect of the language, but you can&#39;t change it now.\r\n\r\n=MOD(-4,180) = 176\r\n=MOD(176, 180) = 176\r\n\r\nbecause 180 * (-1) + 176 = -4 the same as 180 * 0 + 176 = 176\r\n\r\nUsing the clock example here, http://mathworld.wolfram.com/Congruence.html\r\nyou would not say duration_of_time mod cycle_length is -45 minutes, you would say 15 minutes, even though both answers satisfy the base equation.","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>In number theory, the result is always positive. I would guess that this is not always the case in computer languages because not all programmers are mathematicians.  My two cents, I would consider it a design defect of the language, but you can't change it now.</p>\n\n<p>=MOD(-4,180) = 176\n=MOD(176, 180) = 176</p>\n\n<p>because 180 * (-1) + 176 = -4 the same as 180 * 0 + 176 = 176</p>\n\n<p>Using the clock example here, <a href=\"http://mathworld.wolfram.com/Congruence.html\" rel=\"noreferrer\">http://mathworld.wolfram.com/Congruence.html</a>\nyou would not say duration_of_time mod cycle_length is -45 minutes, you would say 15 minutes, even though both answers satisfy the base equation.</p>\n"},{"comments":[{"owner":{"account_id":203137,"reputation":4852,"user_id":450609,"accept_rate":67,"display_name":"dave"},"score":1,"creation_date":1533280428,"post_id":41950623,"comment_id":90297152,"body_markdown":"But the modulo operation requires a division which could be even slower (especially if the processor guesses the branch correctly almost all the time).  So this is possibly better.","body":"But the modulo operation requires a division which could be even slower (especially if the processor guesses the branch correctly almost all the time).  So this is possibly better."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1535109375,"post_id":41950623,"comment_id":90955678,"body_markdown":"@KarstenR. You are right! I fixed the formula, now it works fine (but needs two more subtractions).","body":"@KarstenR. You are right! I fixed the formula, now it works fine (but needs two more subtractions)."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1596800744,"post_id":41950623,"comment_id":111934433,"body_markdown":"That is true @dave","body":"That is true @dave"}],"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596800660,"creation_date":1485842308,"answer_id":41950623,"question_id":4412179,"body_markdown":"Here is an alternative:\r\n\r\n    a &lt; 0 ? b-1 - (-a-1) % b : a % b\r\n\r\nThis might or might not be faster than that other formula [(a % b + b) % b]. Unlike the other formula, it contains a branch, but uses one less modulo operation. Probably a win if the computer can predict a &lt; 0 correctly.\r\n\r\n(Edit: Fixed the formula.)","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>Here is an alternative:</p>\n<pre><code>a &lt; 0 ? b-1 - (-a-1) % b : a % b\n</code></pre>\n<p>This might or might not be faster than that other formula [(a % b + b) % b]. Unlike the other formula, it contains a branch, but uses one less modulo operation. Probably a win if the computer can predict a &lt; 0 correctly.</p>\n<p>(Edit: Fixed the formula.)</p>\n"},{"comments":[{"owner":{"account_id":6787784,"reputation":350,"user_id":5225876,"display_name":"Richard Thomas"},"score":3,"creation_date":1604986414,"post_id":52597588,"comment_id":114507604,"body_markdown":"That seems to assume that int is 32 bits. Which is probably mostly safe but the Java site says &quot;int: By default, the int data type is a 32-bit signed two&#39;s complement integer,&quot;. That &quot;by default&quot; sounds a bit unsolid. [Edit: Digging further, it looks like the spec shows a solid 32 bits so carry on]","body":"That seems to assume that int is 32 bits. Which is probably mostly safe but the Java site says &quot;int: By default, the int data type is a 32-bit signed two&#39;s complement integer,&quot;. That &quot;by default&quot; sounds a bit unsolid. [Edit: Digging further, it looks like the spec shows a solid 32 bits so carry on]"}],"tags":[],"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538421847,"creation_date":1538421847,"answer_id":52597588,"question_id":4412179,"body_markdown":"Java 8 has `Math.floorMod`, but it is very slow (its implementation has multiple divisions, multiplications, and a conditional).  Its possible that the JVM has an intrinsic optimized stub for it, however, which would speed it up significantly.\r\n\r\nThe fastest way to do this without `floorMod` is like some other answers here, but with no conditional branches and only one slow `%` op.\r\n\r\nAssuming n is positive, and x may be anything:\r\n\r\n    int remainder = (x % n); // may be negative if x is negative\r\n    //if remainder is negative, adds n, otherwise adds 0\r\n    return ((remainder &gt;&gt; 31) &amp; n) + remainder;\r\n\r\n\r\nThe results when `n = 3`:\r\n\r\n    x | result\r\n    ----------\r\n    -4| 2\r\n    -3| 0\r\n    -2| 1\r\n    -1| 2\r\n     0| 0\r\n     1| 1\r\n     2| 2\r\n     3| 0\r\n     4| 1\r\n\r\n\r\nIf you only need a uniform distribution between `0` and `n-1` and not the exact mod operator, and your `x`&#39;s do not cluster near `0`, the following will be even faster, as there is more instruction level parallelism and the slow `%` computation will occur in parallel with the other parts as they do not depend on its result. \r\n\r\n`return ((x &gt;&gt; 31) &amp; (n - 1)) + (x % n)`\r\n\r\nThe results for the above with `n = 3`:\r\n\r\n    x | result\r\n    ----------\r\n    -5| 0\r\n    -4| 1\r\n    -3| 2\r\n    -2| 0\r\n    -1| 1\r\n     0| 0\r\n     1| 1\r\n     2| 2\r\n     3| 0\r\n     4| 1\r\n     5| 2\r\n\r\nIf the input is random in the full range of an int, the distribution of both two solutions will be the same.  If the input clusters near zero, there will be too few results at `n - 1` in the latter solution.\r\n","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>Java 8 has <code>Math.floorMod</code>, but it is very slow (its implementation has multiple divisions, multiplications, and a conditional).  Its possible that the JVM has an intrinsic optimized stub for it, however, which would speed it up significantly.</p>\n\n<p>The fastest way to do this without <code>floorMod</code> is like some other answers here, but with no conditional branches and only one slow <code>%</code> op.</p>\n\n<p>Assuming n is positive, and x may be anything:</p>\n\n<pre><code>int remainder = (x % n); // may be negative if x is negative\n//if remainder is negative, adds n, otherwise adds 0\nreturn ((remainder &gt;&gt; 31) &amp; n) + remainder;\n</code></pre>\n\n<p>The results when <code>n = 3</code>:</p>\n\n<pre><code>x | result\n----------\n-4| 2\n-3| 0\n-2| 1\n-1| 2\n 0| 0\n 1| 1\n 2| 2\n 3| 0\n 4| 1\n</code></pre>\n\n<p>If you only need a uniform distribution between <code>0</code> and <code>n-1</code> and not the exact mod operator, and your <code>x</code>'s do not cluster near <code>0</code>, the following will be even faster, as there is more instruction level parallelism and the slow <code>%</code> computation will occur in parallel with the other parts as they do not depend on its result. </p>\n\n<p><code>return ((x &gt;&gt; 31) &amp; (n - 1)) + (x % n)</code></p>\n\n<p>The results for the above with <code>n = 3</code>:</p>\n\n<pre><code>x | result\n----------\n-5| 0\n-4| 1\n-3| 2\n-2| 0\n-1| 1\n 0| 0\n 1| 1\n 2| 2\n 3| 0\n 4| 1\n 5| 2\n</code></pre>\n\n<p>If the input is random in the full range of an int, the distribution of both two solutions will be the same.  If the input clusters near zero, there will be too few results at <code>n - 1</code> in the latter solution.</p>\n"},{"comments":[{"owner":{"account_id":4120722,"reputation":113,"user_id":3915973,"display_name":"just-max"},"score":3,"creation_date":1688125799,"post_id":75739125,"comment_id":135035509,"body_markdown":"This is wrong, though. Taking the absolute value first changes modulus: `floorMod(-1, 4) ==&gt; 3` but `Math.abs(-1) % 4 ==&gt; 1`.","body":"This is wrong, though. Taking the absolute value first changes modulus: <code>floorMod(-1, 4) ==&gt; 3</code> but <code>Math.abs(-1) % 4 ==&gt; 1</code>."}],"tags":[],"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678834819,"creation_date":1678834819,"answer_id":75739125,"question_id":4412179,"body_markdown":"The floorMod method is the best way to go.\r\n\r\nI am surprised no one posted the obvious.\r\n\r\n    Math.abs(a) % b","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>The floorMod method is the best way to go.</p>\n<p>I am surprised no one posted the obvious.</p>\n<pre><code>Math.abs(a) % b\n</code></pre>\n"}],"owner":{"account_id":52736,"reputation":17949,"user_id":157629,"accept_rate":73,"display_name":"fent"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56641,"favorite_count":0,"down_vote_count":1,"up_vote_count":136,"answer_count":7,"score":135,"last_activity_date":1678835012,"creation_date":1292006636,"question_id":4412179,"body_markdown":"In java when you do\r\n\r\n    a % b\r\n\r\nIf a is negative, it will return a negative result, instead of wrapping around to b like it should. What&#39;s the best way to fix this? Only way I can think is\r\n\r\n    a &lt; 0 ? b + a : a % b","title":"Best way to make Java&#39;s modulus behave like it should with negative numbers?","body":"<p>In java when you do</p>\n\n<pre><code>a % b\n</code></pre>\n\n<p>If a is negative, it will return a negative result, instead of wrapping around to b like it should. What's the best way to fix this? Only way I can think is</p>\n\n<pre><code>a &lt; 0 ? b + a : a % b\n</code></pre>\n"},{"tags":["java","spring","spring-batch","spring-webflux","spring-ws"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":1,"creation_date":1678485349,"post_id":75701275,"comment_id":133548400,"body_markdown":"RestTemplate is not deprecated. WebClient is not &quot;just&quot; reacitve. See: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html and https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html","body":"RestTemplate is not deprecated. WebClient is not &quot;just&quot; reacitve. See: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1678907997,"post_id":75738832,"comment_id":133626266,"body_markdown":"Thank you for the clarification.\n\nIf I understand correctly, if we shift from a purely batch modeled system to a stream modeled (spring integration) system (a complete redesign from the ground up), then it might make sense to consider going to the reactive model. But the pros and cons would need to be carefully weighted against the cost of rearchitecting.","body":"Thank you for the clarification.  If I understand correctly, if we shift from a purely batch modeled system to a stream modeled (spring integration) system (a complete redesign from the ground up), then it might make sense to consider going to the reactive model. But the pros and cons would need to be carefully weighted against the cost of rearchitecting."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1678913123,"post_id":75738832,"comment_id":133627437,"body_markdown":"Yes, using a reactive model with a streaming solution makes perfect sense.","body":"Yes, using a reactive model with a streaming solution makes perfect sense."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678831756,"creation_date":1678831756,"answer_id":75738832,"question_id":75701275,"body_markdown":"`RestTemplate` being in maintenance mode does not necessarily mean that it is deprecated or will go away. If that is the case, it will be clearly mentioned with a `@Deprecated` annotation.\r\n\r\nThat said, you can use both clients with Spring Batch. The point I am trying to make in the issue you shared is that it does not make sense to use a reactive item reader if other parts of the stack are not reactive. So nothing prevents you from using a reactive item reader with the current implementation, you just won&#39;t have any benefits from using it over a non reactive component.","title":"With RestTemplate being deprecated, and WebClient being a reactive component, what are the options for building REST and SOAP Readers in spring batch?","body":"<p><code>RestTemplate</code> being in maintenance mode does not necessarily mean that it is deprecated or will go away. If that is the case, it will be clearly mentioned with a <code>@Deprecated</code> annotation.</p>\n<p>That said, you can use both clients with Spring Batch. The point I am trying to make in the issue you shared is that it does not make sense to use a reactive item reader if other parts of the stack are not reactive. So nothing prevents you from using a reactive item reader with the current implementation, you just won't have any benefits from using it over a non reactive component.</p>\n"}],"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75738832,"answer_count":1,"score":0,"last_activity_date":1678831756,"creation_date":1678484788,"question_id":75701275,"body_markdown":"**50,000 foot overview** \r\n\r\nI need to incorporate WebService reader support for SOAP and REST into an existing product built around Spring Batch.\r\n\r\nPrior versions of the code used the reficio Soap libraries, which:\r\n\r\n - have been defunct for about 10 years now, \r\n - have been problematic for us since day 1, and \r\n - are not being updated for java 17. \r\n\r\nTheir recommendations are to use the Spring webservices libraries. \r\n\r\n**The plan so far ...**\r\n\r\nThe expectation was that we would build `ItemReader` using RestTemplate and/or SOAP client components, and forget about it.\r\n\r\n**Oops ...**\r\n\r\nAs we started designing the changes, we discovered that `RestTemplate` has been deprecated since Spring 5.0 . The recommended replacement is `WebClient`. While the `RestTemplate` is still present, we don&#39;t want to build in technical debt by using a component that we know is going away. (Link: https://github.com/spring-guides/gs-consuming-rest/issues/28)\r\n\r\n\r\nOn March 25 2021, in https://github.com/spring-projects/spring-batch/issues/1008 , fmbenhassine states: \r\n\r\n&gt; First of all, Reactive Streams are designed for data streams\r\n&gt; (infinite) while Spring Batch is a batch processing framework designed\r\n&gt; for fixed datasets (finite). In my opinion, this is already a\r\n&gt; fundamental mismtatch that can result in a non-natural integration\r\n&gt; between these two tools.\r\n\r\n... snip ...\r\n\r\n&gt; Moreover, the current chunk-oriented processing model is actually\r\n&gt; incompatible with the reactive paradigm. The reason is that\r\n&gt; ChunkOrientedTasklet waits for the chunkProcessor (processor + writer)\r\n&gt; to process the whole chunk before reading the next chunk:\r\n\r\n**Now back to the question:**\r\n\r\nWith RestTemplate being deprecated, and WebClient being a reactive component, what is the best option for building Itemreaders of REST and SOAP webservices in spring batch?\r\n\r\n 1. WebClient with blocking calls \r\n 1. WebServiceClient \r\n 1. others ... ? \r\n","title":"With RestTemplate being deprecated, and WebClient being a reactive component, what are the options for building REST and SOAP Readers in spring batch?","body":"<p><strong>50,000 foot overview</strong></p>\n<p>I need to incorporate WebService reader support for SOAP and REST into an existing product built around Spring Batch.</p>\n<p>Prior versions of the code used the reficio Soap libraries, which:</p>\n<ul>\n<li>have been defunct for about 10 years now,</li>\n<li>have been problematic for us since day 1, and</li>\n<li>are not being updated for java 17.</li>\n</ul>\n<p>Their recommendations are to use the Spring webservices libraries.</p>\n<p><strong>The plan so far ...</strong></p>\n<p>The expectation was that we would build <code>ItemReader</code> using RestTemplate and/or SOAP client components, and forget about it.</p>\n<p><strong>Oops ...</strong></p>\n<p>As we started designing the changes, we discovered that <code>RestTemplate</code> has been deprecated since Spring 5.0 . The recommended replacement is <code>WebClient</code>. While the <code>RestTemplate</code> is still present, we don't want to build in technical debt by using a component that we know is going away. (Link: <a href=\"https://github.com/spring-guides/gs-consuming-rest/issues/28\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-consuming-rest/issues/28</a>)</p>\n<p>On March 25 2021, in <a href=\"https://github.com/spring-projects/spring-batch/issues/1008\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/issues/1008</a> , fmbenhassine states:</p>\n<blockquote>\n<p>First of all, Reactive Streams are designed for data streams\n(infinite) while Spring Batch is a batch processing framework designed\nfor fixed datasets (finite). In my opinion, this is already a\nfundamental mismtatch that can result in a non-natural integration\nbetween these two tools.</p>\n</blockquote>\n<p>... snip ...</p>\n<blockquote>\n<p>Moreover, the current chunk-oriented processing model is actually\nincompatible with the reactive paradigm. The reason is that\nChunkOrientedTasklet waits for the chunkProcessor (processor + writer)\nto process the whole chunk before reading the next chunk:</p>\n</blockquote>\n<p><strong>Now back to the question:</strong></p>\n<p>With RestTemplate being deprecated, and WebClient being a reactive component, what is the best option for building Itemreaders of REST and SOAP webservices in spring batch?</p>\n<ol>\n<li>WebClient with blocking calls</li>\n<li>WebServiceClient</li>\n<li>others ... ?</li>\n</ol>\n"},{"tags":["java","json","jsonata"],"owner":{"account_id":27112278,"reputation":3,"user_id":20657233,"display_name":"Blip Bloop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678831719,"creation_date":1678790556,"question_id":75732099,"body_markdown":"I am using JSONata4Java in a project and my goal is to get an output based on rules i have set up in a json files.\r\n\r\nMy rule.json looks like this :\r\n\r\n```json\r\n{\r\n  &quot;country == &#39;IT&#39;&quot;: {\r\n    &quot;revenue &gt;= 2000000&quot;: {\r\n      &quot;lang == &#39;fr&#39;&quot;: &quot;Agenda 1&quot;,\r\n      &quot;lang == &#39;nl&#39;&quot;: &quot;Agenda 2&quot;,\r\n      &quot;*&quot;: {\r\n        &quot;postalCode in [&#39;WAL&#39;, &#39;BXL&#39;]&quot;: &quot;Agenda 1&quot;,\r\n        &quot;*&quot;: &quot;Agenda 2&quot;\r\n      }\r\n    },\r\n    &quot;revenue &lt; 2000000&quot;: {\r\n      &quot;lang == &#39;fr&#39;&quot;: &quot;Agenda 3&quot;,\r\n      &quot;lang == &#39;nl&#39;&quot;: &quot;Agenda 4&quot;,\r\n      &quot;*&quot;: {\r\n        &quot;postalCode in [&#39;WAL&#39;, &#39;BXL&#39;]&quot;: &quot;Agenda 3&quot;,\r\n        &quot;*&quot;: &quot;Agenda 4&quot;\r\n      }\r\n    }\r\n  },\r\n  &quot;country == &#39;USA&#39;&quot;: &quot;Agenda 777&quot;,\r\n  &quot;*&quot;: &quot;null&quot;\r\n}\r\n```\r\n\r\nIt basically says : If the country is &#39;IT&#39; AND the revenue is &gt;= 2000000 AND lang=&#39;fr&#39;, the output should be &quot;Agenda 1&quot;. At least that&#39;s what i would like.\r\n\r\n\r\n\r\nMy input is as follow: \r\n\r\n```json\r\n{&quot;country&quot;: &quot;USA&quot;, &quot;revenue&quot;: 3000000, &quot;lang&quot;: &quot;fr&quot;, &quot;postalCode&quot;: &quot;WAL&quot;}\r\n```\r\n\r\nSo here I am expecting the output to be &quot;Agenda 777&quot;, but instead I the output returns the whole ruleset.\r\n\r\nHere is the code in Java :\r\n\r\n```\r\npublic String evaluateRule(String jsonInput) throws IOException, ParseException, EvaluateException {\r\n        InputStream is = new ClassPathResource(&quot;rules.json&quot;).getInputStream();\r\n        String jsonataExpression = new String(is.readAllBytes());\r\n        Expressions expression = Expressions.parse(jsonataExpression);\r\n\r\n        Object result = expression.evaluate(new ObjectMapper().readTree(jsonInput));\r\n        \r\n        return result != null ? result.toString() : null;\r\n}\r\n```\r\n\r\nI am completely new to JsonAta and maybe this isn&#39;t the right tool for the job, so I am open to suggestions on how to best go about this problem.","title":"JsonAta query returns the whole ruleset","body":"<p>I am using JSONata4Java in a project and my goal is to get an output based on rules i have set up in a json files.</p>\n<p>My rule.json looks like this :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;country == 'IT'&quot;: {\n    &quot;revenue &gt;= 2000000&quot;: {\n      &quot;lang == 'fr'&quot;: &quot;Agenda 1&quot;,\n      &quot;lang == 'nl'&quot;: &quot;Agenda 2&quot;,\n      &quot;*&quot;: {\n        &quot;postalCode in ['WAL', 'BXL']&quot;: &quot;Agenda 1&quot;,\n        &quot;*&quot;: &quot;Agenda 2&quot;\n      }\n    },\n    &quot;revenue &lt; 2000000&quot;: {\n      &quot;lang == 'fr'&quot;: &quot;Agenda 3&quot;,\n      &quot;lang == 'nl'&quot;: &quot;Agenda 4&quot;,\n      &quot;*&quot;: {\n        &quot;postalCode in ['WAL', 'BXL']&quot;: &quot;Agenda 3&quot;,\n        &quot;*&quot;: &quot;Agenda 4&quot;\n      }\n    }\n  },\n  &quot;country == 'USA'&quot;: &quot;Agenda 777&quot;,\n  &quot;*&quot;: &quot;null&quot;\n}\n</code></pre>\n<p>It basically says : If the country is 'IT' AND the revenue is &gt;= 2000000 AND lang='fr', the output should be &quot;Agenda 1&quot;. At least that's what i would like.</p>\n<p>My input is as follow:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;country&quot;: &quot;USA&quot;, &quot;revenue&quot;: 3000000, &quot;lang&quot;: &quot;fr&quot;, &quot;postalCode&quot;: &quot;WAL&quot;}\n</code></pre>\n<p>So here I am expecting the output to be &quot;Agenda 777&quot;, but instead I the output returns the whole ruleset.</p>\n<p>Here is the code in Java :</p>\n<pre><code>public String evaluateRule(String jsonInput) throws IOException, ParseException, EvaluateException {\n        InputStream is = new ClassPathResource(&quot;rules.json&quot;).getInputStream();\n        String jsonataExpression = new String(is.readAllBytes());\n        Expressions expression = Expressions.parse(jsonataExpression);\n\n        Object result = expression.evaluate(new ObjectMapper().readTree(jsonInput));\n        \n        return result != null ? result.toString() : null;\n}\n</code></pre>\n<p>I am completely new to JsonAta and maybe this isn't the right tool for the job, so I am open to suggestions on how to best go about this problem.</p>\n"},{"tags":["java","java-11","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678811042,"post_id":75735658,"comment_id":133604105,"body_markdown":"Which `Date` class are you trying to use?","body":"Which <code>Date</code> class are you trying to use?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678811095,"post_id":75735658,"comment_id":133604118,"body_markdown":"If you are avoiding the legacy class `Calendar`, why use either of the legacy `Date` classes?","body":"If you are avoiding the legacy class <code>Calendar</code>, why use either of the legacy <code>Date</code> classes?"},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1678811157,"post_id":75735658,"comment_id":133604131,"body_markdown":"I have to store a value as a `java.util.Date` but would prefer to use newer API calculations if at all possible.","body":"I have to store a value as a <code>java.util.Date</code> but would prefer to use newer API calculations if at all possible."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1678811351,"post_id":75735658,"comment_id":133604186,"body_markdown":"What? You are calling `atStartOfDay(…)` literally and are wondering that the result “*contains the current day&#39;s start of day (00:00:00) time component*”?","body":"What? You are calling <code>atStartOfDay(…)</code> literally and are wondering that the result “<i>contains the current day&#39;s start of day (00:00:00) time component</i>”?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1678812039,"post_id":75735658,"comment_id":133604393,"body_markdown":"A `java.util.Date` object represents a moment, a date with time-of-day as seen in UTC.  This is equivalent to its replacement, `java.time.Instant`. So your Question makes no sense.","body":"A <code>java.util.Date</code> object represents a moment, a date with time-of-day as seen in UTC.  This is equivalent to its replacement, <code>java.time.Instant</code>. So your Question makes no sense."},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1678812355,"post_id":75735658,"comment_id":133604493,"body_markdown":"Some times people think it be like it is, but it do. It do.","body":"Some times people think it be like it is, but it do. It do."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678870093,"post_id":75735658,"comment_id":133615049,"body_markdown":"`LocalDateTime` is the wrong class to use here. It cannot represent a point in time, but to create an old-fashioned `Date` you do need a point in time. Use `Instant` instead. The other place you are going wrong is by calling `atStartOfDay()`. Read that method name again. :-)","body":"<code>LocalDateTime</code> is the wrong class to use here. It cannot represent a point in time, but to create an old-fashioned <code>Date</code> you do need a point in time. Use <code>Instant</code> instead. The other place you are going wrong is by calling <code>atStartOfDay()</code>. Read that method name again. :-)"}],"answers":[{"comments":[{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1678810710,"post_id":75735703,"comment_id":133603993,"body_markdown":"Thanks @Puce (+1), its not liking `ZoneId.systemDefault()` being passed in to `toInstant(...)` as it is not a `ZoneOffset`.","body":"Thanks @Puce (+1), its not liking <code>ZoneId.systemDefault()</code> being passed in to <code>toInstant(...)</code> as it is not a <code>ZoneOffset</code>."}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678813649,"creation_date":1678810273,"answer_id":75735703,"question_id":75735658,"body_markdown":"&gt; This doesn&#39;t throw any errors but returns a Date that contains the\r\n&gt; current day&#39;s start of day (00:00:00) time component. Can anyone spot\r\n&gt; where I&#39;m going awry? I just want  Date that represents now +\r\n&gt; minsToAdd.\r\n\r\nYou&#39;re loosing the time component when calling `toLocalDate()` and re-setting the time to startOfDay with `atStartOfDay()`:\r\n\r\n    Date expiry = Date.from(expiryLdt.toLocalDate().atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\r\nTry (untested):\r\n\r\n    Date expiry = Date.from(expiryLdt.toInstant(ZoneId.systemDefault()));","title":"Using Java Time API to add temporal scalar to now and convert to Date","body":"<blockquote>\n<p>This doesn't throw any errors but returns a Date that contains the\ncurrent day's start of day (00:00:00) time component. Can anyone spot\nwhere I'm going awry? I just want  Date that represents now +\nminsToAdd.</p>\n</blockquote>\n<p>You're loosing the time component when calling <code>toLocalDate()</code> and re-setting the time to startOfDay with <code>atStartOfDay()</code>:</p>\n<pre><code>Date expiry = Date.from(expiryLdt.toLocalDate().atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n<p>Try (untested):</p>\n<pre><code>Date expiry = Date.from(expiryLdt.toInstant(ZoneId.systemDefault()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678812240,"post_id":75735909,"comment_id":133604454,"body_markdown":"I don’t understand the motivation for your edit. Adding five minutes to an instant, followed by converting the result to a `LocalDate` without a time is precisely what the OP doesn’t want. The first version of your answer was better than all others.","body":"I don’t understand the motivation for your edit. Adding five minutes to an instant, followed by converting the result to a <code>LocalDate</code> without a time is precisely what the OP doesn’t want. The first version of your answer was better than all others."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678812460,"post_id":75735909,"comment_id":133604522,"body_markdown":"@Holger As I wrote this Answer, every re-reading of the Question got me more confused as to what the OP was trying to achieve. I regret answering now. We should have closed this Question for being confusing and unfocused.","body":"@Holger As I wrote this Answer, every re-reading of the Question got me more confused as to what the OP was trying to achieve. I regret answering now. We should have closed this Question for being confusing and unfocused."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678831423,"creation_date":1678811270,"answer_id":75735909,"question_id":75735658,"body_markdown":"# tl;dr\r\n\r\nYour Question is confused. But I am guessing that you want to know the calendar date of a moment several minutes from now, as seen through the JVM’s current default time zone. \r\n\r\n    LocalDate ld =\r\n        Instant\r\n        .now()\r\n        .plus( Duration.ofMinutes( someNumber ) )\r\n        .atZone( ZoneId.systemDefault() )  // For any given moment, the date varies around the globe by time zone. \r\n        .toLocalDate()\r\n    ;\r\n\r\nIn contradiction, you also asked for:\r\n\r\n&gt; I just want  Date that represents now + minsToAdd.\r\n\r\n    java.util.Date utilDate = \r\n        java.util.Date\r\n        .from(\r\n            Instant\r\n            .now()\r\n            .plus( Duration.ofMinutes( someNumber ) )\r\n        )\r\n    ;\r\n\r\n# Details\r\n\r\nI cannot imagine a situation where calling `LocalDateTime.now` is the right thing to do. \r\n\r\nThe `LocalDateTime` class purposely lacks any concept of time zone or offset from UTC. So this class cannot represent a point on the timeline. A `LocalDateTime` instance is inherently ambiguous. \r\n\r\nTo capture the current moment in UTC, use `Instant`. \r\n\r\n    Instant now = Instant.now() ;\r\n\r\nIf you want a moment a few minutes in the future, call `plus`. \r\n\r\n    Duration d = Duration.ofMinutes( someNumber ) ;\r\n    Instant later = now.plus( d ) ;\r\n\r\n\r\nBest to avoid `java.util.Date`. But if you must have an instance to interoperate with old code not yet updated to *java.time*, you can convert. Look to new conversion methods added to the legacy classes. \r\n\r\n    java.util.Date utilDate = java.util.Date.from( later ) ;\r\n\r\n\r\nIf your goal is to see the calendar date containing that later moment, specify a time zone (`ZoneId`) to determine a `LocalDate` object. \r\n\r\n    ZoneId z = … ;  // If you want to use the JVM’s current default time zone: ZoneId.systemDefault()\r\n    ZonedDateTime zdt = later.atZone( z ) ;\r\n    LocalDate ld = later.toLocalDate() ;\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nAvoid both `Date` classes. Along with `Calendar`, they are part of the terrible date-time classes that were years ago supplanted by the modern *java.time* classes. ","title":"Using Java Time API to add temporal scalar to now and convert to Date","body":"<h1>tl;dr</h1>\n<p>Your Question is confused. But I am guessing that you want to know the calendar date of a moment several minutes from now, as seen through the JVM’s current default time zone.</p>\n<pre><code>LocalDate ld =\n    Instant\n    .now()\n    .plus( Duration.ofMinutes( someNumber ) )\n    .atZone( ZoneId.systemDefault() )  // For any given moment, the date varies around the globe by time zone. \n    .toLocalDate()\n;\n</code></pre>\n<p>In contradiction, you also asked for:</p>\n<blockquote>\n<p>I just want  Date that represents now + minsToAdd.</p>\n</blockquote>\n<pre><code>java.util.Date utilDate = \n    java.util.Date\n    .from(\n        Instant\n        .now()\n        .plus( Duration.ofMinutes( someNumber ) )\n    )\n;\n</code></pre>\n<h1>Details</h1>\n<p>I cannot imagine a situation where calling <code>LocalDateTime.now</code> is the right thing to do.</p>\n<p>The <code>LocalDateTime</code> class purposely lacks any concept of time zone or offset from UTC. So this class cannot represent a point on the timeline. A <code>LocalDateTime</code> instance is inherently ambiguous.</p>\n<p>To capture the current moment in UTC, use <code>Instant</code>.</p>\n<pre><code>Instant now = Instant.now() ;\n</code></pre>\n<p>If you want a moment a few minutes in the future, call <code>plus</code>.</p>\n<pre><code>Duration d = Duration.ofMinutes( someNumber ) ;\nInstant later = now.plus( d ) ;\n</code></pre>\n<p>Best to avoid <code>java.util.Date</code>. But if you must have an instance to interoperate with old code not yet updated to <em>java.time</em>, you can convert. Look to new conversion methods added to the legacy classes.</p>\n<pre><code>java.util.Date utilDate = java.util.Date.from( later ) ;\n</code></pre>\n<p>If your goal is to see the calendar date containing that later moment, specify a time zone (<code>ZoneId</code>) to determine a <code>LocalDate</code> object.</p>\n<pre><code>ZoneId z = … ;  // If you want to use the JVM’s current default time zone: ZoneId.systemDefault()\nZonedDateTime zdt = later.atZone( z ) ;\nLocalDate ld = later.toLocalDate() ;\n</code></pre>\n<hr />\n<p>Avoid both <code>Date</code> classes. Along with <code>Calendar</code>, they are part of the terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes.</p>\n"}],"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735909,"answer_count":2,"score":0,"last_activity_date":1678831423,"creation_date":1678810011,"question_id":75735658,"body_markdown":"Java 11 here. I&#39;m trying to take `LocalDateTime.now()` and add a certain number of mins (`minToAdd`) to it, and convert the result to a new `Date` that is my `LocalDateTime.now()` **plus** `minsToAdd`. I do not want to use Joda or any other library as I&#39;m sure Java is perfectly capable of doing this for me. I would like to avoid using `Calendar` if at all possible, in lieu of `LocalDateTime` since that seems to be the new + recommended API.\r\n\r\nMy best attempt:\r\n```\r\nLocalDateTime nowLdt = LocalDateTime.now();\r\nLocalDateTime expiryLdt = nowLdt.plusMinutes(minsToAdd);\r\nDate expiry = Date.from(expiryLdt.toLocalDate().atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n```\r\n\r\nThis doesn&#39;t throw any errors but returns a `Date` that contains the current day&#39;s start of day (00:00:00) time component. Can anyone spot where I&#39;m going awry? I just want ` Date` that represents now + `minsToAdd`.","title":"Using Java Time API to add temporal scalar to now and convert to Date","body":"<p>Java 11 here. I'm trying to take <code>LocalDateTime.now()</code> and add a certain number of mins (<code>minToAdd</code>) to it, and convert the result to a new <code>Date</code> that is my <code>LocalDateTime.now()</code> <strong>plus</strong> <code>minsToAdd</code>. I do not want to use Joda or any other library as I'm sure Java is perfectly capable of doing this for me. I would like to avoid using <code>Calendar</code> if at all possible, in lieu of <code>LocalDateTime</code> since that seems to be the new + recommended API.</p>\n<p>My best attempt:</p>\n<pre><code>LocalDateTime nowLdt = LocalDateTime.now();\nLocalDateTime expiryLdt = nowLdt.plusMinutes(minsToAdd);\nDate expiry = Date.from(expiryLdt.toLocalDate().atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n<p>This doesn't throw any errors but returns a <code>Date</code> that contains the current day's start of day (00:00:00) time component. Can anyone spot where I'm going awry? I just want <code> Date</code> that represents now + <code>minsToAdd</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678836162,"post_id":75738332,"comment_id":133610129,"body_markdown":"&quot;I am trying to add a child node which is just a key with no attached value&quot; Firebase Realtime Database cannot store a key without a value. It creates keys as values are written, and removes them when there&#39;s no longer a value under them. --- Outside of that, I&#39;m not sure what your code is trying to do - as we can&#39;t see how `users` is initialized and what username was entered. Can you edit your question to show with hard-coded values what you want to write, and what you get out of it in the database, and what you want to get instead?","body":"&quot;I am trying to add a child node which is just a key with no attached value&quot; Firebase Realtime Database cannot store a key without a value. It creates keys as values are written, and removes them when there&#39;s no longer a value under them. --- Outside of that, I&#39;m not sure what your code is trying to do - as we can&#39;t see how <code>users</code> is initialized and what username was entered. Can you edit your question to show with hard-coded values what you want to write, and what you get out of it in the database, and what you want to get instead?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678865697,"post_id":75738332,"comment_id":133613989,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678831228,"creation_date":1678827498,"question_id":75738332,"body_markdown":"I am trying to write data into firebase real time database. The way I would like to structure it is like this.\r\n\r\n![desired database structure](https://i.stack.imgur.com/69WXg.png)\r\n\r\nThe way my database is currently it simply makes the username a child and I cannot add any child nodes under the username.\r\n\r\n![Current database structure](https://i.stack.imgur.com/AejnV.png).\r\n\r\nHere is the code which writes the data\r\n\r\n```\r\nloginButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n             String username = EditUsername.getText().toString();\r\n\r\n             if (username.isEmpty() )\r\n             {\r\n                 Toast.makeText(Login.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n             else\r\n            {\r\n               Toast.makeText(Login.this, &quot;it recognizes the field isn&#39;t empty&quot;,\r\n                       Toast.LENGTH_SHORT).show();\r\n                 addDataToFirebase(username);\r\n            }\r\n        }\r\n     });\r\n }\r\n\r\n private void addDataToFirebase(String TheUsername)\r\n{\r\n     Toast.makeText(this, &quot;the addDataToFirebase function is being called&quot;,\r\n             Toast.LENGTH_SHORT).show();\r\n     users.setUsername(TheUsername);\r\n\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n         @Override\r\n         public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n            reference.setValue(users);\r\n\r\n             Toast.makeText(Login.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\r\n         }\r\n\r\n         @Override\r\n         public void onCancelled(@NonNull DatabaseError error) {\r\n             Toast.makeText(Login.this, &quot;Failed to Add data&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n         }\r\n     });\r\n }\r\n```","title":"I am trying to add a child node which is just a key with no attached value. What changes do I need to make to my code to do this?","body":"<p>I am trying to write data into firebase real time database. The way I would like to structure it is like this.</p>\n<p><img src=\"https://i.stack.imgur.com/69WXg.png\" alt=\"desired database structure\" /></p>\n<p>The way my database is currently it simply makes the username a child and I cannot add any child nodes under the username.</p>\n<p><img src=\"https://i.stack.imgur.com/AejnV.png\" alt=\"Current database structure\" />.</p>\n<p>Here is the code which writes the data</p>\n<pre><code>loginButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n             String username = EditUsername.getText().toString();\n\n             if (username.isEmpty() )\n             {\n                 Toast.makeText(Login.this, &quot;Please add some data.&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n             else\n            {\n               Toast.makeText(Login.this, &quot;it recognizes the field isn't empty&quot;,\n                       Toast.LENGTH_SHORT).show();\n                 addDataToFirebase(username);\n            }\n        }\n     });\n }\n\n private void addDataToFirebase(String TheUsername)\n{\n     Toast.makeText(this, &quot;the addDataToFirebase function is being called&quot;,\n             Toast.LENGTH_SHORT).show();\n     users.setUsername(TheUsername);\n\n    reference.addValueEventListener(new ValueEventListener() {\n         @Override\n         public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            reference.setValue(users);\n\n             Toast.makeText(Login.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\n         }\n\n         @Override\n         public void onCancelled(@NonNull DatabaseError error) {\n             Toast.makeText(Login.this, &quot;Failed to Add data&quot;, Toast.LENGTH_SHORT).show();\n\n         }\n     });\n }\n</code></pre>\n"},{"tags":["java","netty","nio","epoll"],"answers":[{"comments":[{"owner":{"account_id":18514438,"reputation":33,"user_id":13488875,"display_name":"JaneWen Chan"},"score":0,"creation_date":1593398889,"post_id":62549944,"comment_id":110757261,"body_markdown":"I read the official wiki:  [Native-transports](https://github.com/netty/netty/wiki/Native-transports).\n\n\nThe wiki doesn&#39;t mention how much performance has improved, and I&#39;ve tested it myself. How can I test to demonstrate the benefits of epolleventloopgroup？Thank you","body":"I read the official wiki:  <a href=\"https://github.com/netty/netty/wiki/Native-transports\" rel=\"nofollow noreferrer\">Native-transports</a>.   The wiki doesn&#39;t mention how much performance has improved, and I&#39;ve tested it myself. How can I test to demonstrate the benefits of epolleventloopgroup？Thank you"}],"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592983894,"creation_date":1592983894,"answer_id":62549944,"question_id":62549842,"body_markdown":"I can tell you that in &quot;heavy load&quot; scenarios there is definitely a performance difference in: \r\n * CPU usage\r\n * Memory usage\r\n * Allocations\r\n\r\nBeside this the native epoll transport also supports multiple features that are not exposed by NIO itself.","title":"Why does netty provide EpollEventLoopGroup?","body":"<p>I can tell you that in &quot;heavy load&quot; scenarios there is definitely a performance difference in:</p>\n<ul>\n<li>CPU usage</li>\n<li>Memory usage</li>\n<li>Allocations</li>\n</ul>\n<p>Beside this the native epoll transport also supports multiple features that are not exposed by NIO itself.</p>\n"}],"owner":{"account_id":18514438,"reputation":33,"user_id":13488875,"display_name":"JaneWen Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678830888,"creation_date":1592983544,"question_id":62549842,"body_markdown":"\r\n\r\nAfter my test, there is no difference in performance between Netty&#39;s `NioEventLoopGroup` and `EpollEventLoopGroup`. Why does Netty also provide EpollEventLoopGroup?\r\n\r\nWhen the server maintains 1000 TCP links, there is no difference between CPU and memory of the server. Here is my code:\r\n     \r\n\r\n\r\n    public class EpollServer {\r\n            public static void main(String[] args) throws Exception {\r\n                logger.info(&quot;port:&quot;+System.getProperty(&quot;port&quot;, &quot;8007&quot;));\r\n                logger.info(&quot;isUseEpoll:&quot;+System.getProperty(&quot;isUserEpoll&quot;,&quot;true&quot;));\r\n                EventLoopGroup bossGroup;\r\n                EventLoopGroup workerGroup;\r\n                Class          clazz;\r\n        \r\n                if (useEpoll()) {\r\n                    bossGroup = new EpollEventLoopGroup(1);\r\n                    workerGroup = new EpollEventLoopGroup();\r\n                    clazz = EpollServerSocketChannel.class;\r\n                }else{\r\n                    bossGroup = new NioEventLoopGroup(1);\r\n                    workerGroup = new NioEventLoopGroup();\r\n                    clazz = NioServerSocketChannel.class;\r\n                }\r\n        \r\n                final EpollServerHandler epollHandler = new EpollServerHandler();\r\n                try {\r\n                    ServerBootstrap b = new ServerBootstrap();\r\n                    logger.info(&quot;[socket Type]: {}&quot;, clazz.getSimpleName());\r\n                    b.group(bossGroup, workerGroup)\r\n                            .channel(clazz)\r\n                            .option(ChannelOption.SO_BACKLOG, 10001)\r\n                            .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                                @Override\r\n                                public void initChannel(SocketChannel ch) throws Exception {\r\n                                    ChannelPipeline p = ch.pipeline();\r\n                                    p.addLast(new LengthFieldBasedFrameDecoder(1024,0,2,0,2));\r\n                                    p.addLast(new SimpleChannelInboundHandler(){\r\n                                        @Override\r\n                                        protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n                                            ByteBuf content = (ByteBuf) msg;\r\n                                            ctx.channel().writeAndFlush(content.retain());\r\n                                        }\r\n                                    });\r\n        \r\n                                }\r\n                            });\r\n       \r\n                    ChannelFuture f = b.bind(PORT).sync();\r\n                    f.channel().closeFuture().sync();\r\n                } finally {\r\n                    bossGroup.shutdownGracefully();\r\n                    workerGroup.shutdownGracefully();\r\n                }\r\n            }\r\n    \r\n    \r\n        private static boolean useEpoll() {\r\n            if(isUseEpoll){\r\n                return Epoll.isAvailable();\r\n            }else{\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"Why does netty provide EpollEventLoopGroup?","body":"<p>After my test, there is no difference in performance between Netty's <code>NioEventLoopGroup</code> and <code>EpollEventLoopGroup</code>. Why does Netty also provide EpollEventLoopGroup?</p>\n<p>When the server maintains 1000 TCP links, there is no difference between CPU and memory of the server. Here is my code:</p>\n<pre><code>public class EpollServer {\n        public static void main(String[] args) throws Exception {\n            logger.info(&quot;port:&quot;+System.getProperty(&quot;port&quot;, &quot;8007&quot;));\n            logger.info(&quot;isUseEpoll:&quot;+System.getProperty(&quot;isUserEpoll&quot;,&quot;true&quot;));\n            EventLoopGroup bossGroup;\n            EventLoopGroup workerGroup;\n            Class          clazz;\n    \n            if (useEpoll()) {\n                bossGroup = new EpollEventLoopGroup(1);\n                workerGroup = new EpollEventLoopGroup();\n                clazz = EpollServerSocketChannel.class;\n            }else{\n                bossGroup = new NioEventLoopGroup(1);\n                workerGroup = new NioEventLoopGroup();\n                clazz = NioServerSocketChannel.class;\n            }\n    \n            final EpollServerHandler epollHandler = new EpollServerHandler();\n            try {\n                ServerBootstrap b = new ServerBootstrap();\n                logger.info(&quot;[socket Type]: {}&quot;, clazz.getSimpleName());\n                b.group(bossGroup, workerGroup)\n                        .channel(clazz)\n                        .option(ChannelOption.SO_BACKLOG, 10001)\n                        .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                            @Override\n                            public void initChannel(SocketChannel ch) throws Exception {\n                                ChannelPipeline p = ch.pipeline();\n                                p.addLast(new LengthFieldBasedFrameDecoder(1024,0,2,0,2));\n                                p.addLast(new SimpleChannelInboundHandler(){\n                                    @Override\n                                    protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\n                                        ByteBuf content = (ByteBuf) msg;\n                                        ctx.channel().writeAndFlush(content.retain());\n                                    }\n                                });\n    \n                            }\n                        });\n   \n                ChannelFuture f = b.bind(PORT).sync();\n                f.channel().closeFuture().sync();\n            } finally {\n                bossGroup.shutdownGracefully();\n                workerGroup.shutdownGracefully();\n            }\n        }\n\n\n    private static boolean useEpoll() {\n        if(isUseEpoll){\n            return Epoll.isAvailable();\n        }else{\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678829668,"creation_date":1678829668,"answer_id":75738609,"question_id":75712829,"body_markdown":"This is a common pattern and is described in the [driving query section](https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#drivingQueryBasedItemReaders) of the reference documentation.\r\n\r\nThe idea is to make your item reader read records from the user table, and add an item processor to enrich items with other details.","title":"Spring Batch sub job processing","body":"<p>This is a common pattern and is described in the <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#drivingQueryBasedItemReaders\" rel=\"nofollow noreferrer\">driving query section</a> of the reference documentation.</p>\n<p>The idea is to make your item reader read records from the user table, and add an item processor to enrich items with other details.</p>\n"}],"owner":{"account_id":7243931,"reputation":27,"user_id":5526541,"display_name":"Francesco Magarotto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75738609,"answer_count":1,"score":0,"last_activity_date":1678829668,"creation_date":1678620777,"question_id":75712829,"body_markdown":"I have a working spring job that contains a single Tasklet. However, I want to refactor it and switch to a multi-step job.\r\nI need to create an ordered file with many header records containing users info followed by user custom information such as addresses and bills. \r\n\r\nThe output file is so structured:\r\n```\r\nr1:  user info\r\nr2:  user addresses\r\nr3:  user bill1\r\nr4:  user bill2\r\nr5:  ...\r\nr6:  user billN\r\nr7:  user2 info\r\nr8:  user2 addresses\r\nr9:  user2 bill1\r\nr10: user2 biil2\r\nr11: ...\r\n```\r\n\r\nThe user info, address, and the user bills are retrieved from 3 different postgres tables.\r\n\r\nIs there any change to refactoring this project using the Steplets since the file records must be ordered and the number of bills per user is unknown? \r\nThanks\r\n\r\n\r\n ","title":"Spring Batch sub job processing","body":"<p>I have a working spring job that contains a single Tasklet. However, I want to refactor it and switch to a multi-step job.\nI need to create an ordered file with many header records containing users info followed by user custom information such as addresses and bills.</p>\n<p>The output file is so structured:</p>\n<pre><code>r1:  user info\nr2:  user addresses\nr3:  user bill1\nr4:  user bill2\nr5:  ...\nr6:  user billN\nr7:  user2 info\nr8:  user2 addresses\nr9:  user2 bill1\nr10: user2 biil2\nr11: ...\n</code></pre>\n<p>The user info, address, and the user bills are retrieved from 3 different postgres tables.</p>\n<p>Is there any change to refactoring this project using the Steplets since the file records must be ordered and the number of bills per user is unknown?\nThanks</p>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1678826000,"post_id":75737782,"comment_id":133608158,"body_markdown":"Very nice! `String type, BigDecimal amount` could be perhaps better names.","body":"Very nice! <code>String type, BigDecimal amount</code> could be perhaps better names."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678826126,"post_id":75737782,"comment_id":133608180,"body_markdown":"@menteith True.  But with a record, the field names and the getters are named the same and either can be used.  So I was taking the getter approach so that how I named them.","body":"@menteith True.  But with a record, the field names and the getters are named the same and either can be used.  So I was taking the getter approach so that how I named them."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":2,"creation_date":1678826487,"post_id":75737782,"comment_id":133608265,"body_markdown":"I think it&#39;s just a matter of taste, but I would prefer just a field name without get prefix.","body":"I think it&#39;s just a matter of taste, but I would prefer just a field name without get prefix."},{"owner":{"account_id":21917424,"reputation":1,"user_id":16201132,"display_name":"iamro45"},"score":0,"creation_date":1678828424,"post_id":75737782,"comment_id":133608762,"body_markdown":"@WJS thanks for the answer, I have updated the conditions, could you please consider those cases as well(unknownSum, othSum, aSum), in my case I don&#39;t need grouping of all the type&#39;s","body":"@WJS thanks for the answer, I have updated the conditions, could you please consider those cases as well(unknownSum, othSum, aSum), in my case I don&#39;t need grouping of all the type&#39;s"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678829798,"post_id":75737782,"comment_id":133609062,"body_markdown":"You can compute other sums from the map by using specific keys (see update).  You can also filter out bad types like `null`. My answer was based on your previous version of the question so this is the best I can offer.","body":"You can compute other sums from the map by using specific keys (see update).  You can also filter out bad types like <code>null</code>. My answer was based on your previous version of the question so this is the best I can offer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678976062,"post_id":75737782,"comment_id":133640131,"body_markdown":"@menteith I think, the logical conclusion is that we should not answer questions tagged with `java` but not providing actual Java types (rather throwing some JSON or similar garbage at us). No guessing about the OP’s intended coding styles, just downvoting until the OP shows, how the actual Java classes look like…","body":"@menteith I think, the logical conclusion is that we should not answer questions tagged with <code>java</code> but not providing actual Java types (rather throwing some JSON or similar garbage at us). No guessing about the OP’s intended coding styles, just downvoting until the OP shows, how the actual Java classes look like…"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678829519,"creation_date":1678823575,"answer_id":75737782,"question_id":75737755,"body_markdown":"You should use a map.\r\n- Group by the type\r\n- then use a [Collectors.mapping()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)) to get the amount\r\n- then compute each sum using [Collectors.reducing()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#reducing(T,java.util.function.BinaryOperator))\r\n\r\nI am using a record as the Property class as I understand it\r\n\r\nSome Data\r\n```\r\nrecord Property(String getType, BigDecimal getAmount) {\r\n}\r\n\r\nList&lt;Property&gt; list = List.of(\r\n          new Property(&quot;A&quot;, BigDecimal.valueOf(10)),\r\n          new Property(&quot;C&quot;, BigDecimal.valueOf(20)),\r\n          new Property(&quot;D&quot;, BigDecimal.valueOf(30)),\r\n          new Property(&quot;F&quot;, BigDecimal.valueOf(40)),\r\n          new Property(&quot;A&quot;, BigDecimal.valueOf(50)),\r\n          new Property(&quot;D&quot;, BigDecimal.valueOf(60)),\r\n          new Property(&quot;C&quot;, BigDecimal.valueOf(70)),\r\n          new Property(&quot;F&quot;, BigDecimal.valueOf(80)));\r\n\r\nMap&lt;String, BigDecimal&gt; sums = list.stream()\r\n        .collect(Collectors.groupingBy(Property::getType,\r\n                Collectors.mapping(Property::getAmount, Collectors\r\n                        .reducing(BigDecimal.ZERO, BigDecimal::add))));\r\n\r\nsums.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nA=60\r\nC=90\r\nD=90\r\nF=120\r\n```\r\nOther sums can be computed from the map.\r\n```\r\nBigDecimal totalSum = BigDecimal.ZERO;\r\nfor (BigDecimal bigd : sums.values()) {\r\n    totalSum = totalSum.add(bigd);\r\n}\r\nSystem.out.println(&quot;Total sum = &quot; + totalSum);\r\nBigDecimal DCSums = BigDecimal.ZERO;\r\nfor( String type : &quot;DC&quot;.split(&quot;&quot;)) {\r\n       DCSums = DCSums.add(sums.get(type));\r\n}\r\n\r\nSystem.out.println(&quot;DCSums = &quot; + DCSums);\r\n```\r\nprints\r\n```\r\nTotal sum = 360\r\nDCSums = 180\r\n","title":"How to reduce multiple checks over a list?","body":"<p>You should use a map.</p>\n<ul>\n<li>Group by the type</li>\n<li>then use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\">Collectors.mapping()</a> to get the amount</li>\n<li>then compute each sum using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#reducing(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">Collectors.reducing()</a></li>\n</ul>\n<p>I am using a record as the Property class as I understand it</p>\n<p>Some Data</p>\n<pre><code>record Property(String getType, BigDecimal getAmount) {\n}\n\nList&lt;Property&gt; list = List.of(\n          new Property(&quot;A&quot;, BigDecimal.valueOf(10)),\n          new Property(&quot;C&quot;, BigDecimal.valueOf(20)),\n          new Property(&quot;D&quot;, BigDecimal.valueOf(30)),\n          new Property(&quot;F&quot;, BigDecimal.valueOf(40)),\n          new Property(&quot;A&quot;, BigDecimal.valueOf(50)),\n          new Property(&quot;D&quot;, BigDecimal.valueOf(60)),\n          new Property(&quot;C&quot;, BigDecimal.valueOf(70)),\n          new Property(&quot;F&quot;, BigDecimal.valueOf(80)));\n\nMap&lt;String, BigDecimal&gt; sums = list.stream()\n        .collect(Collectors.groupingBy(Property::getType,\n                Collectors.mapping(Property::getAmount, Collectors\n                        .reducing(BigDecimal.ZERO, BigDecimal::add))));\n\nsums.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>A=60\nC=90\nD=90\nF=120\n</code></pre>\n<p>Other sums can be computed from the map.</p>\n<pre><code>BigDecimal totalSum = BigDecimal.ZERO;\nfor (BigDecimal bigd : sums.values()) {\n    totalSum = totalSum.add(bigd);\n}\nSystem.out.println(&quot;Total sum = &quot; + totalSum);\nBigDecimal DCSums = BigDecimal.ZERO;\nfor( String type : &quot;DC&quot;.split(&quot;&quot;)) {\n       DCSums = DCSums.add(sums.get(type));\n}\n\nSystem.out.println(&quot;DCSums = &quot; + DCSums);\n</code></pre>\n<p>prints</p>\n<pre><code>Total sum = 360\nDCSums = 180\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678824120,"creation_date":1678824120,"answer_id":75737865,"question_id":75737755,"body_markdown":"How about just iterating over the list and adding elements to the appropriate sum variable? A little old school without using Streams perhaps, but only iterates over the list once.\r\n\r\n```\r\nBigDecimal aSum = BigDecimal.ZERO;\r\nBigDecimal bSum = BigDecimal.ZERO;\r\nBigDecimal cSum = BigDecimal.ZERO;\r\nBigDecimal fSum = BigDecimal.ZERO;\r\n\r\nfor (val x : list) {\r\n    switch (x.getType()) {\r\n        case &quot;A&quot;:\r\n        aSum = aSum.add(x.getAmount());\r\n        break;\r\n\r\n        case &quot;B&quot;:\r\n        bSum = bSum.add(x.getAmount());\r\n        break;\r\n\r\n        case &quot;C&quot;:\r\n        cSum = cSum.add(x.getAmount());\r\n        break;\r\n\r\n        case &quot;F&quot;:\r\n        fSum = fSum.add(x.getAmount());\r\n        break;        \r\n    }\r\n}\r\n```","title":"How to reduce multiple checks over a list?","body":"<p>How about just iterating over the list and adding elements to the appropriate sum variable? A little old school without using Streams perhaps, but only iterates over the list once.</p>\n<pre><code>BigDecimal aSum = BigDecimal.ZERO;\nBigDecimal bSum = BigDecimal.ZERO;\nBigDecimal cSum = BigDecimal.ZERO;\nBigDecimal fSum = BigDecimal.ZERO;\n\nfor (val x : list) {\n    switch (x.getType()) {\n        case &quot;A&quot;:\n        aSum = aSum.add(x.getAmount());\n        break;\n\n        case &quot;B&quot;:\n        bSum = bSum.add(x.getAmount());\n        break;\n\n        case &quot;C&quot;:\n        cSum = cSum.add(x.getAmount());\n        break;\n\n        case &quot;F&quot;:\n        fSum = fSum.add(x.getAmount());\n        break;        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678824240,"creation_date":1678824143,"answer_id":75737870,"question_id":75737755,"body_markdown":"I can&#39;t test it at the moment because I don&#39;t have the underlying classes but this should give you a `Map&lt;String, BigDecimal&gt;`:\r\n\r\n    list.stream().collect(\r\n         Collectors.groupingBy(x -&gt; x.getType(),\r\n         Collectors.mapping(x -&gt; x.getAmmount(), \r\n         Collectors.reducing(BigDecimal.ZERO, BigDecimal.add)));","title":"How to reduce multiple checks over a list?","body":"<p>I can't test it at the moment because I don't have the underlying classes but this should give you a <code>Map&lt;String, BigDecimal&gt;</code>:</p>\n<pre><code>list.stream().collect(\n     Collectors.groupingBy(x -&gt; x.getType(),\n     Collectors.mapping(x -&gt; x.getAmmount(), \n     Collectors.reducing(BigDecimal.ZERO, BigDecimal.add)));\n</code></pre>\n"}],"owner":{"account_id":21917424,"reputation":1,"user_id":16201132,"display_name":"iamro45"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1678829519,"creation_date":1678823355,"question_id":75737755,"body_markdown":"I have list which include type as a property, based on type I am filtering the objects and doing sum of another property in the same filtered list.\r\n\r\nbelow is the example code I have tried?\r\n \r\n \r\n\r\n     list: [\r\n     {\r\n        &quot;type&quot;: &quot;H&quot;,\r\n        &quot;amount&quot;: 101\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;A&quot;,\r\n        &quot;amount&quot;: 10\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;B&quot;,\r\n        &quot;amount&quot;: 10\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;A&quot;,\r\n        &quot;amount&quot;: 100\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;C&quot;,\r\n        &quot;amount&quot;: 10\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;F&quot;,\r\n        &quot;amount&quot;: 3\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;A&quot;,\r\n        &quot;amount&quot;: 4\r\n      },\r\n     {\r\n        &quot;type&quot;: &quot;&quot;,\r\n        &quot;amount&quot;: 7\r\n      },\r\n      {\r\n        &quot;type&quot;: null,\r\n        &quot;amount&quot;: 3\r\n      }\r\n    ]\r\n    \r\n\r\n    BigDecimal unknownSum = list.stream().filter(x -&gt; (x.getType().isEmpty() || x.getType() == null)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    BigDecimal aSum = list.stream().filter(x -&gt; (x.getType().equals(&quot;A&quot;) || x.getType().equals(&quot;H&quot;))).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    BigDecimal bSum = list.stream().filter(x -&gt; x.getType().equals(&quot;B&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    BigDecimal cSum = list.stream().filter(x -&gt; x.getType().equals(&quot;C&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    BigDecimal fSum = list.stream().filter(x -&gt; x.getType().equals(&quot;F&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    BigDecimal othSum = list.stream().filter(x -&gt; !(x.getType().equals(&quot;A&quot;) || x.getType().equals(&quot;B&quot;) || x.getType().equals(&quot;C&quot;))).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\r\n       \r\n\r\n     public class Account {\r\n              private BigDecimal averageSum;\r\n              private BigDecimal accountSum;\r\n              private BigDecimal fixedSum;\r\n              private BigDecimal totalSum;\r\n              private BigDecimal othersSum;\r\n              private BigDecimal unKnownSum;\r\n       }\r\n\r\n    Account ac = new Account();\r\n\r\n    ac.setAverage(aSum);\r\n    ac.setAccountSum(bSum);\r\n    ac.setFixedSum(cSum);\r\n    ac.setTotalSum(fSum);\r\n    ac.setOthersSum(othSum);\r\n    ac.setUnKnownSum(unknownSum);\r\n\r\nthe above code is working fine, but I want to reduce no of iterations over the list for each check.\r\nis there any way that I can use single iteration and pass different checks and set the different response for each property as mentioned above.","title":"How to reduce multiple checks over a list?","body":"<p>I have list which include type as a property, based on type I am filtering the objects and doing sum of another property in the same filtered list.</p>\n<p>below is the example code I have tried?</p>\n<pre><code> list: [\n {\n    &quot;type&quot;: &quot;H&quot;,\n    &quot;amount&quot;: 101\n  },\n  {\n    &quot;type&quot;: &quot;A&quot;,\n    &quot;amount&quot;: 10\n  },\n  {\n    &quot;type&quot;: &quot;B&quot;,\n    &quot;amount&quot;: 10\n  },\n  {\n    &quot;type&quot;: &quot;A&quot;,\n    &quot;amount&quot;: 100\n  },\n  {\n    &quot;type&quot;: &quot;C&quot;,\n    &quot;amount&quot;: 10\n  },\n  {\n    &quot;type&quot;: &quot;F&quot;,\n    &quot;amount&quot;: 3\n  },\n  {\n    &quot;type&quot;: &quot;A&quot;,\n    &quot;amount&quot;: 4\n  },\n {\n    &quot;type&quot;: &quot;&quot;,\n    &quot;amount&quot;: 7\n  },\n  {\n    &quot;type&quot;: null,\n    &quot;amount&quot;: 3\n  }\n]\n\n\nBigDecimal unknownSum = list.stream().filter(x -&gt; (x.getType().isEmpty() || x.getType() == null)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\nBigDecimal aSum = list.stream().filter(x -&gt; (x.getType().equals(&quot;A&quot;) || x.getType().equals(&quot;H&quot;))).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\nBigDecimal bSum = list.stream().filter(x -&gt; x.getType().equals(&quot;B&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\nBigDecimal cSum = list.stream().filter(x -&gt; x.getType().equals(&quot;C&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\nBigDecimal fSum = list.stream().filter(x -&gt; x.getType().equals(&quot;F&quot;)).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\nBigDecimal othSum = list.stream().filter(x -&gt; !(x.getType().equals(&quot;A&quot;) || x.getType().equals(&quot;B&quot;) || x.getType().equals(&quot;C&quot;))).map(x -&gt; x.getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add);\n   \n\n public class Account {\n          private BigDecimal averageSum;\n          private BigDecimal accountSum;\n          private BigDecimal fixedSum;\n          private BigDecimal totalSum;\n          private BigDecimal othersSum;\n          private BigDecimal unKnownSum;\n   }\n\nAccount ac = new Account();\n\nac.setAverage(aSum);\nac.setAccountSum(bSum);\nac.setFixedSum(cSum);\nac.setTotalSum(fSum);\nac.setOthersSum(othSum);\nac.setUnKnownSum(unknownSum);\n</code></pre>\n<p>the above code is working fine, but I want to reduce no of iterations over the list for each check.\nis there any way that I can use single iteration and pass different checks and set the different response for each property as mentioned above.</p>\n"},{"tags":["java","android","canvas"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678828875,"creation_date":1678828875,"answer_id":75738516,"question_id":75738061,"body_markdown":"Don&#39;t waste your time with code from ChatGPT. It&#39;s not advanced enough for this kind of thing yet, so it&#39;s just eating up your time with code that will have subtle bugs. \r\n\r\nYou need to store not just Paths, but also the color of those Paths.\r\n\r\nSo create a wrapper class:\r\n\r\n```\r\nclass DrawnPath {\r\n    final Path path;\r\n    final int colorIndex;\r\n\r\n    DrawnPath(Path path, int colorIndex) {\r\n        this.path = path;\r\n        this.colorIndex = colorIndex;\r\n    }\r\n}\r\n```\r\n\r\nChange your `pathList1` (and I assume there&#39;s also a `pathList2`) into a `List&lt;DrawnPath&gt;` instead of a `List&lt;Path&gt;`. When the user draws a new path, put it in an instance of this wrapper class using the current color index. \r\n\r\n```\r\n//some member variable:\r\nprivate int currentColorIndex1; // for user number 1\r\n\r\n// when user number 1 touches down to begin drawing:\r\ncurrentColorIndex1 = (currentColorIndex1 + 1) % colorList1.size();\r\n```\r\nWhen you draw it, use the color wrapped with each path. And use a for-each loop for simplicity.\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        for (DrawnPath drawnPath : pathList1) {\r\n            paint_brush.setColor(colorList1.get(drawnPath.colorIndex));\r\n            canvas.drawPath(drawnPath.path, paint_brush);\r\n        }\r\n        invalidate();\r\n    }","title":"How do I fix my colour palette in android studio?","body":"<p>Don't waste your time with code from ChatGPT. It's not advanced enough for this kind of thing yet, so it's just eating up your time with code that will have subtle bugs.</p>\n<p>You need to store not just Paths, but also the color of those Paths.</p>\n<p>So create a wrapper class:</p>\n<pre><code>class DrawnPath {\n    final Path path;\n    final int colorIndex;\n\n    DrawnPath(Path path, int colorIndex) {\n        this.path = path;\n        this.colorIndex = colorIndex;\n    }\n}\n</code></pre>\n<p>Change your <code>pathList1</code> (and I assume there's also a <code>pathList2</code>) into a <code>List&lt;DrawnPath&gt;</code> instead of a <code>List&lt;Path&gt;</code>. When the user draws a new path, put it in an instance of this wrapper class using the current color index.</p>\n<pre><code>//some member variable:\nprivate int currentColorIndex1; // for user number 1\n\n// when user number 1 touches down to begin drawing:\ncurrentColorIndex1 = (currentColorIndex1 + 1) % colorList1.size();\n</code></pre>\n<p>When you draw it, use the color wrapped with each path. And use a for-each loop for simplicity.</p>\n<pre><code>@Override\nprotected void onDraw(Canvas canvas) {\n    for (DrawnPath drawnPath : pathList1) {\n        paint_brush.setColor(colorList1.get(drawnPath.colorIndex));\n        canvas.drawPath(drawnPath.path, paint_brush);\n    }\n    invalidate();\n}\n</code></pre>\n"}],"owner":{"account_id":28017782,"reputation":1,"user_id":21399222,"display_name":"Its_driina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678828875,"creation_date":1678825503,"question_id":75738061,"body_markdown":"I am currently doing a project where people can draw in two sections of the same screen. The main  problem right now is that when I draw something and then decide to change to a different colour everything changes to the same colour I choose. \r\n\r\nThis is the code currently:\r\n\r\n```\r\n@Override\r\n    protected void onDraw(Canvas canvas) {\r\n        for (int i = 0; i &lt; pathList1.size(); i++) {\r\n            int colorIndex = i % colorList1.size(); // select a color from the colorList based on i index\r\n            paint_brush.setColor(colorList1.get(colorIndex));\r\n            canvas.drawPath(pathList1.get(i), paint_brush);\r\n        }\r\n        invalidate();\r\n    }\r\n```\r\n\r\nCan someone help me out? I&#39;m sure it&#39;s something simple I am missing but don&#39;t know what.\r\n\r\nI&#39;ve tried this from ChatGPT: \r\n```\r\nprivate int lastColorIndex = -1; // initialize with an invalid index\r\n\r\n@Override\r\nprotected void onDraw(Canvas canvas) {\r\n    for (int i = 0; i &lt; pathList1.size(); i++) {\r\n        int colorIndex = (lastColorIndex + 1) % colorList1.size(); // select a color from the colorList that is different from the last color\r\n        paint_brush.setColor(colorList1.get(colorIndex));\r\n        canvas.drawPath(pathList1.get(i), paint_brush);\r\n        lastColorIndex = colorIndex; // update the last color index\r\n    }\r\n}\r\n```\r\n\r\nBut it just made it worse somehow? The colours wouldn&#39;t change at all.","title":"How do I fix my colour palette in android studio?","body":"<p>I am currently doing a project where people can draw in two sections of the same screen. The main  problem right now is that when I draw something and then decide to change to a different colour everything changes to the same colour I choose.</p>\n<p>This is the code currently:</p>\n<pre><code>@Override\n    protected void onDraw(Canvas canvas) {\n        for (int i = 0; i &lt; pathList1.size(); i++) {\n            int colorIndex = i % colorList1.size(); // select a color from the colorList based on i index\n            paint_brush.setColor(colorList1.get(colorIndex));\n            canvas.drawPath(pathList1.get(i), paint_brush);\n        }\n        invalidate();\n    }\n</code></pre>\n<p>Can someone help me out? I'm sure it's something simple I am missing but don't know what.</p>\n<p>I've tried this from ChatGPT:</p>\n<pre><code>private int lastColorIndex = -1; // initialize with an invalid index\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    for (int i = 0; i &lt; pathList1.size(); i++) {\n        int colorIndex = (lastColorIndex + 1) % colorList1.size(); // select a color from the colorList that is different from the last color\n        paint_brush.setColor(colorList1.get(colorIndex));\n        canvas.drawPath(pathList1.get(i), paint_brush);\n        lastColorIndex = colorIndex; // update the last color index\n    }\n}\n</code></pre>\n<p>But it just made it worse somehow? The colours wouldn't change at all.</p>\n"},{"tags":["java","android","math","android-jetpack-compose","android-canvas"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678826656,"post_id":75738080,"comment_id":133608304,"body_markdown":"The width of all the other arcs should be (360 - 60) / 7 degrees, which is about 42.86, not 50.","body":"The width of all the other arcs should be (360 - 60) / 7 degrees, which is about 42.86, not 50."},{"owner":{"account_id":28017475,"reputation":1,"user_id":21398970,"display_name":"Noki"},"score":0,"creation_date":1678826814,"post_id":75738080,"comment_id":133608338,"body_markdown":"@DawoodibnKareem you are right, miscalculation for the question. I will adapt the question. Thanks","body":"@DawoodibnKareem you are right, miscalculation for the question. I will adapt the question. Thanks"}],"owner":{"account_id":28017475,"reputation":1,"user_id":21398970,"display_name":"Noki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678828694,"creation_date":1678825653,"question_id":75738080,"body_markdown":"# Current State\r\nI am currently playing around with an app where I am displaying multiple arcs in a circle.  \r\n[Center circle with 6 arcs](https://i.stack.imgur.com/PHIlP.png)  \r\n\r\nWhen you tap on one of the arcs, the arcs get rotated so that the tapped arc is on the bottom(90 degree) and a second layer of arcs appears with multiple arcs.  \r\n\r\n[Second layer with 8 arcs](https://i.stack.imgur.com/fc12u.png)  \r\n\r\nWhen you click in the second layer of arcs, the same rotation happens for this layer. Additionally when one arc is in focus(meaning 90 degrees is in it&#39;s boundaries), it scales and it&#39;s sweep angle gets the same as the one from the inner circle.  \r\n\r\n[Tapped arc is now in focus on sweep angle is the same as the one from inner circle](https://i.stack.imgur.com/sdiBJ.png)\r\n\r\nSince the arc in focus gets &quot;wider&quot;, all other arcs get smaller:\r\n\r\n- Arc width before anything is in focus: 360/8 = 45 \r\n\r\n- Width of arc in focus = 60\r\n\r\n- Width of all other arcs not in focus = ~42.86\r\n\r\nWhen there is at least one arc in focus, it&#39;s easy to calculate how to rotate:\r\n\r\n\r\n``` lang-kotlin\r\nfullAngle = 360\r\nrotation=current rotation offset if the layer already rotated\r\narc=arc which is tapped on\r\n...\r\n        val currentMiddleAngle = getCenteredAngleOfCurrentItem(arc, rotation, fullAngle)\r\n        var angleToRotate = 0f;\r\n        if (isItemCenterInLeftTopAndBottomQuarter(currentMiddleAngle)) {\r\n            angleToRotate = currentMiddleAngle - 90f\r\n        } else if (isItemCenterInRightTopQuarter(currentMiddleAngle, fullAngle)) {\r\n            angleToRotate = fullAngle - currentMiddleAngle + 90\r\n        } else if (isItemInRightBottomQuarter(currentMiddleAngle)) {\r\n            angleToRotate = 90 - currentMiddleAngle\r\n        }\r\n        return angleToRotate\r\n...\r\nprivate fun getCenteredAngleOfCurrentItem(\r\n        arc: PieChartInput,\r\n        rotation: Float,\r\n        fullAngle: Float\r\n    ): Float {\r\n        val middleOfItemAngel = arc.angleToDraw / 2\r\n        val currentMiddleAngle =\r\n            (arc.currentStartAngle + rotation + middleOfItemAngel).mod(fullAngle)\r\n        return currentMiddleAngle\r\n    }\r\n```\r\n\r\nThe above code works fine if there is already one arc in focus and the other ones are smaller. If an arc is on the right half of the circle, it rotates clockwise. In the other case it rotates counter clockwise.\r\n\r\n# Problem\r\nMy problem is when the second layer expands the first time, no arc is selected(this is intended). If there is a tap on one of the arcs then, this arc should move to bottm center(90 degrees)\r\n\r\nI tried different calculations, but there is always some difference and its not rotated to the center correctly\r\n\r\nThat&#39;s how it looks when I tap all the arcs on the right side. I added some numbers to easily identify them.\r\n\r\n[Before Tap](https://i.stack.imgur.com/dmcLp.png) [Tap on second](https://i.stack.imgur.com/1iZH6.png)\r\n\r\nWhat I don&#39;t understand is why the &quot;offset&quot; gets bigger, when the taped arc is further away from 90 degrees.\r\n\r\nOf course the left part of the circle has a similar issue\r\n\r\nI tried to add the the difference between the width of an selected item and the width when no item is selected, but this only helped for one of the arcs. The others still had the wrong offset.\r\n\r\nI know there has to be a &quot;simple&quot; formular to calculate this. But after days of thinking, my brain won&#39;t show me the correct solution.\r\n\r\n**Update**\r\nA selected arc &quot;grows&quot; clockwise when the current rotation direction is clockwise. This means, if an arc gets in focus, the start angle does not change, only the end angle. If current rotation is counter clockwise, the arc also grows counter clockwise\r\n","title":"Troubles calculating the correct rotation angle for an arc in jetpack compose","body":"<h1>Current State</h1>\n<p>I am currently playing around with an app where I am displaying multiple arcs in a circle.<br />\n<a href=\"https://i.stack.imgur.com/PHIlP.png\" rel=\"nofollow noreferrer\">Center circle with 6 arcs</a></p>\n<p>When you tap on one of the arcs, the arcs get rotated so that the tapped arc is on the bottom(90 degree) and a second layer of arcs appears with multiple arcs.</p>\n<p><a href=\"https://i.stack.imgur.com/fc12u.png\" rel=\"nofollow noreferrer\">Second layer with 8 arcs</a></p>\n<p>When you click in the second layer of arcs, the same rotation happens for this layer. Additionally when one arc is in focus(meaning 90 degrees is in it's boundaries), it scales and it's sweep angle gets the same as the one from the inner circle.</p>\n<p><a href=\"https://i.stack.imgur.com/sdiBJ.png\" rel=\"nofollow noreferrer\">Tapped arc is now in focus on sweep angle is the same as the one from inner circle</a></p>\n<p>Since the arc in focus gets &quot;wider&quot;, all other arcs get smaller:</p>\n<ul>\n<li><p>Arc width before anything is in focus: 360/8 = 45</p>\n</li>\n<li><p>Width of arc in focus = 60</p>\n</li>\n<li><p>Width of all other arcs not in focus = ~42.86</p>\n</li>\n</ul>\n<p>When there is at least one arc in focus, it's easy to calculate how to rotate:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fullAngle = 360\nrotation=current rotation offset if the layer already rotated\narc=arc which is tapped on\n...\n        val currentMiddleAngle = getCenteredAngleOfCurrentItem(arc, rotation, fullAngle)\n        var angleToRotate = 0f;\n        if (isItemCenterInLeftTopAndBottomQuarter(currentMiddleAngle)) {\n            angleToRotate = currentMiddleAngle - 90f\n        } else if (isItemCenterInRightTopQuarter(currentMiddleAngle, fullAngle)) {\n            angleToRotate = fullAngle - currentMiddleAngle + 90\n        } else if (isItemInRightBottomQuarter(currentMiddleAngle)) {\n            angleToRotate = 90 - currentMiddleAngle\n        }\n        return angleToRotate\n...\nprivate fun getCenteredAngleOfCurrentItem(\n        arc: PieChartInput,\n        rotation: Float,\n        fullAngle: Float\n    ): Float {\n        val middleOfItemAngel = arc.angleToDraw / 2\n        val currentMiddleAngle =\n            (arc.currentStartAngle + rotation + middleOfItemAngel).mod(fullAngle)\n        return currentMiddleAngle\n    }\n</code></pre>\n<p>The above code works fine if there is already one arc in focus and the other ones are smaller. If an arc is on the right half of the circle, it rotates clockwise. In the other case it rotates counter clockwise.</p>\n<h1>Problem</h1>\n<p>My problem is when the second layer expands the first time, no arc is selected(this is intended). If there is a tap on one of the arcs then, this arc should move to bottm center(90 degrees)</p>\n<p>I tried different calculations, but there is always some difference and its not rotated to the center correctly</p>\n<p>That's how it looks when I tap all the arcs on the right side. I added some numbers to easily identify them.</p>\n<p><a href=\"https://i.stack.imgur.com/dmcLp.png\" rel=\"nofollow noreferrer\">Before Tap</a> <a href=\"https://i.stack.imgur.com/1iZH6.png\" rel=\"nofollow noreferrer\">Tap on second</a></p>\n<p>What I don't understand is why the &quot;offset&quot; gets bigger, when the taped arc is further away from 90 degrees.</p>\n<p>Of course the left part of the circle has a similar issue</p>\n<p>I tried to add the the difference between the width of an selected item and the width when no item is selected, but this only helped for one of the arcs. The others still had the wrong offset.</p>\n<p>I know there has to be a &quot;simple&quot; formular to calculate this. But after days of thinking, my brain won't show me the correct solution.</p>\n<p><strong>Update</strong>\nA selected arc &quot;grows&quot; clockwise when the current rotation direction is clockwise. This means, if an arc gets in focus, the start angle does not change, only the end angle. If current rotation is counter clockwise, the arc also grows counter clockwise</p>\n"},{"tags":["java","maven","pom.xml","discord","discord-jda"],"comments":[{"owner":{"account_id":9792893,"reputation":393,"user_id":7256930,"display_name":"Rockey"},"score":0,"creation_date":1526063348,"post_id":50298150,"comment_id":87613283,"body_markdown":"Could we have your pom.xml?","body":"Could we have your pom.xml?"},{"owner":{"account_id":9205536,"reputation":56,"user_id":6840989,"display_name":"redbart"},"score":0,"creation_date":1526064083,"post_id":50298150,"comment_id":87613622,"body_markdown":"I just edited it to include the POM","body":"I just edited it to include the POM"}],"answers":[{"tags":[],"owner":{"account_id":9792893,"reputation":393,"user_id":7256930,"display_name":"Rockey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1526064400,"creation_date":1526064400,"answer_id":50298493,"question_id":50298150,"body_markdown":"According to [JDA&#39;s README][1] the newest version at the moment is `3.6.0_362` not `3.6.2_362`, so you might want to change that.\r\n\r\n\r\n  [1]: https://github.com/DV8FromTheWorld/JDA#download","title":"Discord JDA dependency missing","body":"<p>According to <a href=\"https://github.com/DV8FromTheWorld/JDA#download\" rel=\"nofollow noreferrer\">JDA's README</a> the newest version at the moment is <code>3.6.0_362</code> not <code>3.6.2_362</code>, so you might want to change that.</p>\n"},{"tags":[],"owner":{"account_id":12133145,"reputation":53,"user_id":8859409,"display_name":"Mike Zacierka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526857568,"creation_date":1526857568,"answer_id":50440172,"question_id":50298150,"body_markdown":"Below is an example JDA maven pom file\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;DiscordBot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;bot&lt;/name&gt;\r\n\t&lt;description&gt;General purpose bot&lt;/description&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0_362&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;jcenter&lt;/id&gt;\r\n\t\t\t&lt;name&gt;jcenter-bintray&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;bintray&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n&lt;/project&gt;","title":"Discord JDA dependency missing","body":"<p>Below is an example JDA maven pom file</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n&lt;artifactId&gt;DiscordBot&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;bot&lt;/name&gt;\n&lt;description&gt;General purpose bot&lt;/description&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n        &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0_362&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\n        &lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jcenter&lt;/id&gt;\n        &lt;name&gt;jcenter-bintray&lt;/name&gt;\n        &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;name&gt;bintray&lt;/name&gt;\n        &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":20941623,"reputation":31,"user_id":15385543,"display_name":"Jonathan Schuder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640892797,"creation_date":1640892797,"answer_id":70535939,"question_id":50298150,"body_markdown":"Why would you use such an old version?\r\n\r\nThat the newest from https://github.com/DV8FromTheWorld/JDA and https://mvnrepository.com/artifact/net.dv8tion/JDA/5.0.0-alpha.3\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n        &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Discord JDA dependency missing","body":"<p>Why would you use such an old version?</p>\n<p>That the newest from <a href=\"https://github.com/DV8FromTheWorld/JDA\" rel=\"nofollow noreferrer\">https://github.com/DV8FromTheWorld/JDA</a> and <a href=\"https://mvnrepository.com/artifact/net.dv8tion/JDA/5.0.0-alpha.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/net.dv8tion/JDA/5.0.0-alpha.3</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n    &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679271407,"post_id":75738386,"comment_id":133686464,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75738386/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10331864,"reputation":1,"user_id":21399435,"display_name":"Andrea"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678827920,"creation_date":1678827920,"answer_id":75738386,"question_id":50298150,"body_markdown":"\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20160810&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;example&lt;/exclude&gt; &lt;!-- You may add jars to exclude from shading --&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;`enter code here`","title":"Discord JDA dependency missing","body":"<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20160810&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sparkjava&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core&lt;/artifactId&gt;\n        &lt;version&gt;2.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n        &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactSet&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;example&lt;/exclude&gt; &lt;!-- You may add jars to exclude from shading --&gt;\n                            &lt;/excludes&gt;\n                        &lt;/artifactSet&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><code>enter code here</code></p>\n"}],"owner":{"account_id":9205536,"reputation":56,"user_id":6840989,"display_name":"redbart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50298493,"answer_count":4,"score":1,"last_activity_date":1678827920,"creation_date":1526062986,"question_id":50298150,"body_markdown":"I am trying to build a discord application but it can&#39;t access the JDA for some reason. Here&#39;s the error:\r\n\r\n    The POM for net.dv8tion:JDA:jar:3.6.2_362 is missing, no dependency information available\r\nEDIT: Here&#39;s my POM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;DiscordBot&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n                &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.2_362&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jcenter&lt;/id&gt;\r\n                &lt;name&gt;jcenter-bintray&lt;/name&gt;\r\n                &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    &lt;/project&gt;","title":"Discord JDA dependency missing","body":"<p>I am trying to build a discord application but it can't access the JDA for some reason. Here's the error:</p>\n\n<pre><code>The POM for net.dv8tion:JDA:jar:3.6.2_362 is missing, no dependency information available\n</code></pre>\n\n<p>EDIT: Here's my POM:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;DiscordBot&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2_362&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jcenter&lt;/id&gt;\n            &lt;name&gt;jcenter-bintray&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","docker","dockerfile","docker-entrypoint"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1678839138,"post_id":75738374,"comment_id":133610585,"body_markdown":"What commands exactly are you running starting from that Dockerfile to get to that `docker inspect` output?","body":"What commands exactly are you running starting from that Dockerfile to get to that <code>docker inspect</code> output?"}],"owner":{"account_id":3578251,"reputation":977,"user_id":2987010,"display_name":"gowtham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678827841,"creation_date":1678827841,"question_id":75738374,"body_markdown":"Here is my Dockerfile\r\n\r\n```\r\nFROM openjdk:11 as build\r\nWORKDIR /opt\r\nCOPY build/libs/migrator-*.jar /opt/migrator.jar\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-Xms512m&quot;, &quot;-Xmx1024m&quot;, &quot;-jar&quot;, &quot;migrator.jar&quot;]\r\n```\r\n\r\nwhen I build it locally, it works fine, but when I build it in github action it is missing the entrypoint info and says &quot;No Command specified&quot; when I try to run it/deploy it with kubernetes.\r\n\r\nHere is the docker inspect\r\n\r\n```\r\n  &quot;ContainerConfig&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: null,\r\n            &quot;Cmd&quot;: null,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;&quot;,\r\n            &quot;Entrypoint&quot;: null,\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n        &quot;DockerVersion&quot;: &quot;&quot;,\r\n        &quot;Author&quot;: &quot;&quot;,\r\n        &quot;Config&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: [\r\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;\r\n            ],\r\n            &quot;Cmd&quot;: null,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;/&quot;,\r\n            &quot;Entrypoint&quot;: null,\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n```\r\n\r\nI tried using CMD and ENTRYPOINT, extracting the jar and running it. I see the same issue `no command specified` error and the container is not creating","title":"Docker entrypoint is missing in containerConfig even though specified in Dockerfile","body":"<p>Here is my Dockerfile</p>\n<pre><code>FROM openjdk:11 as build\nWORKDIR /opt\nCOPY build/libs/migrator-*.jar /opt/migrator.jar\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;java&quot;, &quot;-Xms512m&quot;, &quot;-Xmx1024m&quot;, &quot;-jar&quot;, &quot;migrator.jar&quot;]\n</code></pre>\n<p>when I build it locally, it works fine, but when I build it in github action it is missing the entrypoint info and says &quot;No Command specified&quot; when I try to run it/deploy it with kubernetes.</p>\n<p>Here is the docker inspect</p>\n<pre><code>  &quot;ContainerConfig&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: null,\n            &quot;Cmd&quot;: null,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;&quot;,\n            &quot;Entrypoint&quot;: null,\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n        &quot;DockerVersion&quot;: &quot;&quot;,\n        &quot;Author&quot;: &quot;&quot;,\n        &quot;Config&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: [\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;\n            ],\n            &quot;Cmd&quot;: null,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;/&quot;,\n            &quot;Entrypoint&quot;: null,\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n</code></pre>\n<p>I tried using CMD and ENTRYPOINT, extracting the jar and running it. I see the same issue <code>no command specified</code> error and the container is not creating</p>\n"},{"tags":["java","jfr"],"answers":[{"comments":[{"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"score":0,"creation_date":1678802035,"post_id":69194630,"comment_id":133601118,"body_markdown":"It does not appear that the documentation says anything about the filename pointing to a directory.  Is this based on experience or have you found it documented somewhere?","body":"It does not appear that the documentation says anything about the filename pointing to a directory.  Is this based on experience or have you found it documented somewhere?"},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1678827539,"post_id":69194630,"comment_id":133608532,"body_markdown":"You can do &quot;jcmd 0 help JFR.start&quot;\n\n  filename        (Optional) Name of the file to which the flight recording data is\n                  written when the recording is stopped. If no filename is given, a\n                  filename is generated from the PID and the current date and is\n                  placed in the directory where the process was started. The\n                  filename may also be a directory in which case, the filename is\n                  generated from the PID and the current date in the specified\n                  directory. (STRING, no default value)","body":"You can do &quot;jcmd 0 help JFR.start&quot;    filename        (Optional) Name of the file to which the flight recording data is                   written when the recording is stopped. If no filename is given, a                   filename is generated from the PID and the current date and is                   placed in the directory where the process was started. The                   filename may also be a directory in which case, the filename is                   generated from the PID and the current date in the specified                   directory. (STRING, no default value)"},{"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"score":0,"creation_date":1678956781,"post_id":69194630,"comment_id":133634245,"body_markdown":"Yes, that&#39;s what the documentation says.  You said that &quot;you can specify only the directory&quot; and I have not seen _that_ documented anywhere :)","body":"Yes, that&#39;s what the documentation says.  You said that &quot;you can specify only the directory&quot; and I have not seen <i>that</i> documented anywhere :)"}],"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678827574,"creation_date":1631714419,"answer_id":69194630,"question_id":69185907,"body_markdown":"If you are running JDK 11-17, you can specify only the directory, and a filename with timestamp and pid will be generated, for example &quot;hotspot-pid-7066-id-1-2021_09_15_15_56_03.jfr&quot;\r\n\r\n    java -XX:StartFlightRecording:filename=/path/to/recordings/ ...\r\n\r\nThere is no need to specify dumponexit=true if you set a filename.\r\n\r\nThe timestamp will be generated when the dump happens.\r\n","title":"how to make java JFR to include the timestamp in the file on dump StartFlightRecording filename with timestamp","body":"<p>If you are running JDK 11-17, you can specify only the directory, and a filename with timestamp and pid will be generated, for example &quot;hotspot-pid-7066-id-1-2021_09_15_15_56_03.jfr&quot;</p>\n<pre><code>java -XX:StartFlightRecording:filename=/path/to/recordings/ ...\n</code></pre>\n<p>There is no need to specify dumponexit=true if you set a filename.</p>\n<p>The timestamp will be generated when the dump happens.</p>\n"}],"owner":{"account_id":1451441,"reputation":1849,"user_id":2171276,"accept_rate":77,"display_name":"Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678827574,"creation_date":1631666810,"question_id":69185907,"body_markdown":"I am starting the flight recording in this way :\r\n\r\n    java -XX:StartFlightRecording=dumponexit=true,filename=/path/to/recorders/myrecording.jfr\r\n\r\nI would like to have the file named with the timestamp of the moment of the dump, lets say I dump next day using jcmd, I would like the name something like **/path/to/recorders/2021_09_14_myrecording.jfr**\r\n\r\nI have tried reading documentation I have not found anything useful. \r\nI might create a separate script that renames the file appending the timestamp using bash, but before wanted to ask here if there is any built-in feature in java to achieve this. \r\n","title":"how to make java JFR to include the timestamp in the file on dump StartFlightRecording filename with timestamp","body":"<p>I am starting the flight recording in this way :</p>\n<pre><code>java -XX:StartFlightRecording=dumponexit=true,filename=/path/to/recorders/myrecording.jfr\n</code></pre>\n<p>I would like to have the file named with the timestamp of the moment of the dump, lets say I dump next day using jcmd, I would like the name something like <strong>/path/to/recorders/2021_09_14_myrecording.jfr</strong></p>\n<p>I have tried reading documentation I have not found anything useful.\nI might create a separate script that renames the file appending the timestamp using bash, but before wanted to ask here if there is any built-in feature in java to achieve this.</p>\n"},{"tags":["java","jpa","jpa-2.0"],"comments":[{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1294734917,"post_id":4655392,"comment_id":5127681,"body_markdown":"I believe you might find the @OrderBy annotation useful and interesting. First link from Google about it: http://www.objectdb.com/api/java/jpa/OrderBy","body":"I believe you might find the @OrderBy annotation useful and interesting. First link from Google about it: <a href=\"http://www.objectdb.com/api/java/jpa/OrderBy\" rel=\"nofollow noreferrer\">objectdb.com/api/java/jpa/OrderBy</a>"},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294735593,"post_id":4655392,"comment_id":5127785,"body_markdown":"@Grzegorz Oledzki I know the `@OrderBy` annotation, but it has nothing to with the order in your `List`. If you retrieve your entity list (which is annotated with `@OrderBy`), change its order, merge to the DB and retrieve it again, will the order be you changed be preserved? No! You will get the same order you&#39;ve defined via `@OrderBy`","body":"@Grzegorz Oledzki I know the <code>@OrderBy</code> annotation, but it has nothing to with the order in your <code>List</code>. If you retrieve your entity list (which is annotated with <code>@OrderBy</code>), change its order, merge to the DB and retrieve it again, will the order be you changed be preserved? No! You will get the same order you&#39;ve defined via <code>@OrderBy</code>"},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1294753819,"post_id":4655392,"comment_id":5130913,"body_markdown":"I agree this would be great. But you are half-way there. When you read such an entity, you&#39;ll get the proper ordering.","body":"I agree this would be great. But you are half-way there. When you read such an entity, you&#39;ll get the proper ordering."},{"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"score":0,"creation_date":1366911687,"post_id":4655392,"comment_id":23199938,"body_markdown":"The @OrderColumn annotation maps to an order column in the database, specially used to preserve the order of elements in a List when you change them in memory. Downside: changing the order of an element will cause updates to potentially all rows in order to update the order column and keep it consistent with the order in memory.","body":"The @OrderColumn annotation maps to an order column in the database, specially used to preserve the order of elements in a List when you change them in memory. Downside: changing the order of an element will cause updates to potentially all rows in order to update the order column and keep it consistent with the order in memory."}],"answers":[{"comments":[{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":1,"creation_date":1294733493,"post_id":4655417,"comment_id":5127481,"body_markdown":"Shouldn&#39;t you end up always using `Set` then? Because you are storing your entities in a relational database, where there can&#39;t be any duplicate elements and where you have to define an order by yourself (i.e. the order in you Java `List` is not preserved when it is persisted). And when do you use `Collection`?","body":"Shouldn&#39;t you end up always using <code>Set</code> then? Because you are storing your entities in a relational database, where there can&#39;t be any duplicate elements and where you have to define an order by yourself (i.e. the order in you Java <code>List</code> is not preserved when it is persisted). And when do you use <code>Collection</code>?"},{"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"score":1,"creation_date":1294734772,"post_id":4655417,"comment_id":5127663,"body_markdown":"If necessary, you can persist `List` order using an artificial field. In most cases, though, it is natural. One example can be some kind of a time-based log, where you can use @OrderBy(&quot;eventDate&quot;). As for `Collection`, I would use it in similar situations as `Set`.","body":"If necessary, you can persist <code>List</code> order using an artificial field. In most cases, though, it is natural. One example can be some kind of a time-based log, where you can use @OrderBy(&quot;eventDate&quot;). As for <code>Collection</code>, I would use it in similar situations as <code>Set</code>."},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294736739,"post_id":4655417,"comment_id":5127982,"body_markdown":"Yes, you can use and index column or you can use the `@OrderBy` annotation, but this order specified by these means is not related to order in your Java list. You can also use the `@OrderBy` annotation on a `Set` or use an index column. And if you change the order in your java list, the ordering in the DB will not be reflected in the DB.","body":"Yes, you can use and index column or you can use the <code>@OrderBy</code> annotation, but this order specified by these means is not related to order in your Java list. You can also use the <code>@OrderBy</code> annotation on a <code>Set</code> or use an index column. And if you change the order in your java list, the ordering in the DB will not be reflected in the DB."},{"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"score":0,"creation_date":1294752416,"post_id":4655417,"comment_id":5130644,"body_markdown":"See updated answer. In short, follow the exact same rules you use everywhere else in your application.","body":"See updated answer. In short, follow the exact same rules you use everywhere else in your application."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":3,"creation_date":1362880714,"post_id":4655417,"comment_id":21626768,"body_markdown":"One case I have seen that muddies the water is JSF. It does not support the Set interface for entity collections, only List. This is fine on the view side but not storage (generally). So the view must be a List in this case, constantly translated to/from the Set unfortunately.","body":"One case I have seen that muddies the water is JSF. It does not support the Set interface for entity collections, only List. This is fine on the view side but not storage (generally). So the view must be a List in this case, constantly translated to/from the Set unfortunately."},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1374874709,"post_id":4655417,"comment_id":26129938,"body_markdown":"Great answer! I&#39;d like to hear your take on how to implement hashCode/equals for entities. The problem I ran into is that even if I have a business identifier and use it to implement hashCode/equals, JPA providers like Hibernate will try and stick uninitialized entities into sets and thus the hashCode in that case will return a different value than after initialization. Is this acceptable? Should I return super.hashCode() if my business key wasn&#39;t initialized? Thanks!","body":"Great answer! I&#39;d like to hear your take on how to implement hashCode/equals for entities. The problem I ran into is that even if I have a business identifier and use it to implement hashCode/equals, JPA providers like Hibernate will try and stick uninitialized entities into sets and thus the hashCode in that case will return a different value than after initialization. Is this acceptable? Should I return super.hashCode() if my business key wasn&#39;t initialized? Thanks!"}],"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"comment_count":6,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1294752385,"creation_date":1294732958,"answer_id":4655417,"question_id":4655392,"body_markdown":"Like your own question suggests, **the key is the domain, not JPA**. JPA is just a framework which you can (and should) use in a way which best fits your problem. Choosing a suboptimal solution because of framework (or its limits) is usually a warning bell.\r\n\r\nWhen I need a set and never care about order, I use a `Set`. When for some reason order is important (ordered list, ordering by date, etc.), then a `List`.\r\n\r\nYou seem to be well aware of the difference between `Collection`, `Set`, and `List`. The only reason to use one vs. the other depends only on your needs. You can **use them to communicate to users of your API (or your future self) the properties of your collection** (which may be subtle or implicit).  \r\n\r\nThis is follows the exact same rules as using different collection types anywhere else throughout your code. You could use `Object` or `Collections` for all your references, yet in most cases you use more concrete types.\r\n\r\nFor example, when I see a `List`, I know it comes sorted in some way, and that duplicates are either acceptable or irrelevant for this case. When I see a `Set`, I usually expect it to have no duplicates and no specific order (unless it&#39;s a `SortedSet`). When I see a `Collection`, I don&#39;t expect anything more from it than to contain some entities.\r\n\r\nRegarding list ordering... Yes, it can be preserved. And even if it&#39;s not and you just use `@OrderBy`, it still can be useful. Think about the example of event log sorted by timestamp by default. Artificially reordering the list makes little sense, but still it can be useful that it comes sorted by default.","title":"Which Java Type do you use for JPA collections and why?","body":"<p>Like your own question suggests, <strong>the key is the domain, not JPA</strong>. JPA is just a framework which you can (and should) use in a way which best fits your problem. Choosing a suboptimal solution because of framework (or its limits) is usually a warning bell.</p>\n\n<p>When I need a set and never care about order, I use a <code>Set</code>. When for some reason order is important (ordered list, ordering by date, etc.), then a <code>List</code>.</p>\n\n<p>You seem to be well aware of the difference between <code>Collection</code>, <code>Set</code>, and <code>List</code>. The only reason to use one vs. the other depends only on your needs. You can <strong>use them to communicate to users of your API (or your future self) the properties of your collection</strong> (which may be subtle or implicit).  </p>\n\n<p>This is follows the exact same rules as using different collection types anywhere else throughout your code. You could use <code>Object</code> or <code>Collections</code> for all your references, yet in most cases you use more concrete types.</p>\n\n<p>For example, when I see a <code>List</code>, I know it comes sorted in some way, and that duplicates are either acceptable or irrelevant for this case. When I see a <code>Set</code>, I usually expect it to have no duplicates and no specific order (unless it's a <code>SortedSet</code>). When I see a <code>Collection</code>, I don't expect anything more from it than to contain some entities.</p>\n\n<p>Regarding list ordering... Yes, it can be preserved. And even if it's not and you just use <code>@OrderBy</code>, it still can be useful. Think about the example of event log sorted by timestamp by default. Artificially reordering the list makes little sense, but still it can be useful that it comes sorted by default.</p>\n"},{"comments":[{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":2,"creation_date":1294734237,"post_id":4655452,"comment_id":5127574,"body_markdown":"Shouldn&#39;t you end up always using Set then? Because you are storing your entities in a relational database, where there can&#39;t be any duplicate elements and where you have to define an order by yourself (i.e. the order in you Java List is not preserved when it is persisted). And when do you use Collection?","body":"Shouldn&#39;t you end up always using Set then? Because you are storing your entities in a relational database, where there can&#39;t be any duplicate elements and where you have to define an order by yourself (i.e. the order in you Java List is not preserved when it is persisted). And when do you use Collection?"},{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":1,"creation_date":1294734588,"post_id":4655452,"comment_id":5127634,"body_markdown":"What do you mean `can&#39;t be any duplicate elements`? Of course it can. You just have a primary key as Id field, and rest can be duplicate.","body":"What do you mean <code>can&#39;t be any duplicate elements</code>? Of course it can. You just have a primary key as Id field, and rest can be duplicate."},{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":1,"creation_date":1294735631,"post_id":4655452,"comment_id":5127793,"body_markdown":"@Theo Set equality on objects relies on the the equals method. DB equality relies purely on the primary key(s). These are not necessarily the same.","body":"@Theo Set equality on objects relies on the the equals method. DB equality relies purely on the primary key(s). These are not necessarily the same."},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294735894,"post_id":4655452,"comment_id":5127841,"body_markdown":"@Shervin That depends on what you define as a duplicate. In most of the cases, or in my cases, respectively, if the primary keys are different, then it is not a duplicate. And I&#39;m also using the primary key to implement `equals` and `hashCode`.","body":"@Shervin That depends on what you define as a duplicate. In most of the cases, or in my cases, respectively, if the primary keys are different, then it is not a duplicate. And I&#39;m also using the primary key to implement <code>equals</code> and <code>hashCode</code>."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1294736034,"post_id":4655452,"comment_id":5127866,"body_markdown":"@Theo: the unique stuff depends a bit on: whether the data base primary key(s) == java equals implementation -- but in the most cases you are right. ---- But the order of an java list can preserved in the database! (@see Index Column)","body":"@Theo: the unique stuff depends a bit on: whether the data base primary key(s) == java equals implementation -- but in the most cases you are right. ---- But the order of an java list can preserved in the database! (@see Index Column)"},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294736075,"post_id":4655452,"comment_id":5127871,"body_markdown":"@GaryF That&#39;s true, and I&#39;m aware of that. So far, I&#39;ve always used the PK to implement `equals` and `hashCode` and my definition of duplicate is &quot;two entities are equal if the PK is equal&quot;. I thought this the common case, but after looking at the comments, it looks like it&#39;s not that common...","body":"@GaryF That&#39;s true, and I&#39;m aware of that. So far, I&#39;ve always used the PK to implement <code>equals</code> and <code>hashCode</code> and my definition of duplicate is &quot;two entities are equal if the PK is equal&quot;. I thought this the common case, but after looking at the comments, it looks like it&#39;s not that common..."},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294736237,"post_id":4655452,"comment_id":5127899,"body_markdown":"@Ralph Yes, you need an additional column to preserve the order, but this, again, is not related to the order you have in your Java list.","body":"@Ralph Yes, you need an additional column to preserve the order, but this, again, is not related to the order you have in your Java list."},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1294736553,"post_id":4655452,"comment_id":5127954,"body_markdown":"&quot;the order in you Java List is not preserved when it is persisted&quot; ? Not true. In JPA2 you can preserve the order in the Java List .. indexed lists, as opposed to &quot;ordered lists&quot; (where you provide that order by clause)","body":"&quot;the order in you Java List is not preserved when it is persisted&quot; ? Not true. In JPA2 you can preserve the order in the Java List .. indexed lists, as opposed to &quot;ordered lists&quot; (where you provide that order by clause)"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1294736883,"post_id":4655452,"comment_id":5127999,"body_markdown":"@Theo what are talking about: of course I can perserve the order of items in a list to the database: the JPA 2.0 annotation is called: OrderColumn (http://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/OrderColumns)","body":"@Theo what are talking about: of course I can perserve the order of items in a list to the database: the JPA 2.0 annotation is called: OrderColumn (<a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/OrderColumns\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/OrderColumns</a>)"},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294736945,"post_id":4655452,"comment_id":5128007,"body_markdown":"@DataNucleus True that. But again, that is a different order. It&#39;s the order specified by the index (and not the list order). You could also have an index column in a collection of type `Collection`. In was looking for arguments when to use Collection, List and Set type in JPA associations.","body":"@DataNucleus True that. But again, that is a different order. It&#39;s the order specified by the index (and not the list order). You could also have an index column in a collection of type <code>Collection</code>. In was looking for arguments when to use Collection, List and Set type in JPA associations."},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1294737150,"post_id":4655452,"comment_id":5128028,"body_markdown":"@Theo: The list &quot;index&quot; is mapped to the database index column (and back) - so the order in the list is preserved.","body":"@Theo: The list &quot;index&quot; is mapped to the database index column (and back) - so the order in the list is preserved."},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":1,"creation_date":1294739587,"post_id":4655452,"comment_id":5128471,"body_markdown":"@Theo, no it isn&#39;t. When you define an &quot;indexed list&quot; in JPA2 the positions from the java.util.List are put into that artificial column, with origin 0. Consequently the order of the list is preserved ... which the whole point of transparent persistence. You use List when you need ordering, fact, irrespective of your persistence technology","body":"@Theo, no it isn&#39;t. When you define an &quot;indexed list&quot; in JPA2 the positions from the java.util.List are put into that artificial column, with origin 0. Consequently the order of the list is preserved ... which the whole point of transparent persistence. You use List when you need ordering, fact, irrespective of your persistence technology"},{"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"score":0,"creation_date":1294739918,"post_id":4655452,"comment_id":5128557,"body_markdown":"@Ralph OK, I should&#39;ve read the doc on `@OrderColumn`. I thought it is your responsibility to update the index column, but apparently, this is done by the persistence provider. So, would you say that you use a `List` only if you use `OrderColumn` and for the rest of the cases you use `Set`? When do you use `Collection`?","body":"@Ralph OK, I should&#39;ve read the doc on <code>@OrderColumn</code>. I thought it is your responsibility to update the index column, but apparently, this is done by the persistence provider. So, would you say that you use a <code>List</code> only if you use <code>OrderColumn</code> and for the rest of the cases you use <code>Set</code>? When do you use <code>Collection</code>?"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1294741439,"post_id":4655452,"comment_id":5128863,"body_markdown":"@Theo: Yes, and I have never used Collection for any persistent class. -- BTW: (at least for Hibernate) there is an an other Collection Data Type: SortedSet","body":"@Theo: Yes, and I have never used Collection for any persistent class. -- BTW: (at least for Hibernate) there is an an other Collection Data Type: SortedSet"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":14,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294733229,"creation_date":1294733229,"answer_id":4655452,"question_id":4655392,"body_markdown":"I use:\r\n\r\n  * Set: when the items in the collections have no order and are unique\r\n  * List: when the items has a order","title":"Which Java Type do you use for JPA collections and why?","body":"<p>I use:</p>\n\n<ul>\n<li>Set: when the items in the collections have no order and are unique</li>\n<li>List: when the items has a order</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1678827056,"creation_date":1294754221,"answer_id":4658356,"question_id":4655392,"body_markdown":"I generally use a `List`.  I find the List API far more useful and compatible with other libraries than `Set`.  List is easier to iterate and generally more efficient for most operations and memory.\r\n\r\nThe fact that a relationship cannot have duplicates and is not normally ordered should not require usage of a Set, you can use whatever Collection type is most useful to your application.\r\n\r\nIt depends on your model though, if it is something you are going to do a lot of contains checks on, then a `Set` would be more efficient.\r\n\r\nYou can order a relationship in JPA, either using an `@OrderBy` or an `@OrderColumn`.\r\n\r\nSee,\r\nhttp://en.wikibooks.org/wiki/Java_Persistence/Relationships#Ordering\r\n\r\nDuplicates are not generally supported in JPA, but some mappings such as `ElementCollections` may support duplicates.\r\n\r\n","title":"Which Java Type do you use for JPA collections and why?","body":"<p>I generally use a <code>List</code>.  I find the List API far more useful and compatible with other libraries than <code>Set</code>.  List is easier to iterate and generally more efficient for most operations and memory.</p>\n<p>The fact that a relationship cannot have duplicates and is not normally ordered should not require usage of a Set, you can use whatever Collection type is most useful to your application.</p>\n<p>It depends on your model though, if it is something you are going to do a lot of contains checks on, then a <code>Set</code> would be more efficient.</p>\n<p>You can order a relationship in JPA, either using an <code>@OrderBy</code> or an <code>@OrderColumn</code>.</p>\n<p>See,\n<a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Relationships#Ordering\" rel=\"nofollow noreferrer\">http://en.wikibooks.org/wiki/Java_Persistence/Relationships#Ordering</a></p>\n<p>Duplicates are not generally supported in JPA, but some mappings such as <code>ElementCollections</code> may support duplicates.</p>\n"},{"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299881070,"creation_date":1299881070,"answer_id":5278895,"question_id":4655392,"body_markdown":"I think using Collection as the generic default when generating entities with Netbeans is a good starting point, then when you figure out what your model actually is and need more functionality you can easily change it and stay backwards compatible.","title":"Which Java Type do you use for JPA collections and why?","body":"<p>I think using Collection as the generic default when generating entities with Netbeans is a good starting point, then when you figure out what your model actually is and need more functionality you can easily change it and stay backwards compatible.</p>\n"},{"tags":[],"owner":{"account_id":1085793,"reputation":2350,"user_id":1081551,"accept_rate":62,"display_name":"Ursin Brunner"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1375197372,"creation_date":1375197372,"answer_id":17950928,"question_id":4655392,"body_markdown":"The question of using a Set or a List is much more difficult I think. At least when you use **hibernate** as JPA implementation. If you use a List in hibernate, it automatically switch to the **&quot;Bags&quot;** paradigm, where duplicates CAN exist. \r\n\r\nAnd that decision has significant influence on the queries hibernate executes. Here a little example:\r\n\r\nThere are two entities, **employee** and **company**, a typical many-to-many relation. for mapping those entities to each other, a JoinTable (lets call it &quot;employeeCompany&quot;) exist.\r\n\r\nYou choose the **datatype List** on both entities (Company/Employee)\r\n\r\nSo if you now decide to **remove** Employee *Joe* from *CompanyXY*, hibernate executes the following queries:\r\n\r\n    delete from employeeCompany where employeeId = Joe;\r\n    insert into employeeCompany(employeeId,companyId) values (Joe,CompanyXA);\r\n    insert into employeeCompany(employeeId,companyId) values (Joe,CompanyXB);\r\n    insert into employeeCompany(employeeId,companyId) values (Joe,CompanyXC);\r\n    insert into employeeCompany(employeeId,companyId) values (Joe,CompanyXD);\r\n    insert into employeeCompany(employeeId,companyId) values (Joe,CompanyXE);\r\n\r\nAnd now the question: why the hell does hibernate not only execute that query?\r\n\r\n    delete from employeeCompany where employeeId = Joe AND company = companyXY;\r\n\r\nThe answer is simple (and thx a lot to Nirav Assar for his blogpost): **It can&#39;t**. In a world of bags, delete all &amp; re-insert all remaining is the only proper way! Read that for more clarification. http://assarconsulting.blogspot.fr/2009/08/why-hibernate-does-delete-all-then-re.html\r\n\r\nNow the big conclusion: \r\n\r\n**If you choose a Set instead of a List in your Employee/Company - Entities, you don&#39;t have that Problem and only one query is executed!**\r\n\r\nAnd why that? Because hibernate is no longer in a world of bags (as you know, Sets allows no duplicates) and executing only one query is now possible.\r\n\r\nSo the decision between List and Sets is not that simple, at least when it comes to queries &amp; performance!","title":"Which Java Type do you use for JPA collections and why?","body":"<p>The question of using a Set or a List is much more difficult I think. At least when you use <strong>hibernate</strong> as JPA implementation. If you use a List in hibernate, it automatically switch to the <strong>\"Bags\"</strong> paradigm, where duplicates CAN exist. </p>\n\n<p>And that decision has significant influence on the queries hibernate executes. Here a little example:</p>\n\n<p>There are two entities, <strong>employee</strong> and <strong>company</strong>, a typical many-to-many relation. for mapping those entities to each other, a JoinTable (lets call it \"employeeCompany\") exist.</p>\n\n<p>You choose the <strong>datatype List</strong> on both entities (Company/Employee)</p>\n\n<p>So if you now decide to <strong>remove</strong> Employee <em>Joe</em> from <em>CompanyXY</em>, hibernate executes the following queries:</p>\n\n<pre><code>delete from employeeCompany where employeeId = Joe;\ninsert into employeeCompany(employeeId,companyId) values (Joe,CompanyXA);\ninsert into employeeCompany(employeeId,companyId) values (Joe,CompanyXB);\ninsert into employeeCompany(employeeId,companyId) values (Joe,CompanyXC);\ninsert into employeeCompany(employeeId,companyId) values (Joe,CompanyXD);\ninsert into employeeCompany(employeeId,companyId) values (Joe,CompanyXE);\n</code></pre>\n\n<p>And now the question: why the hell does hibernate not only execute that query?</p>\n\n<pre><code>delete from employeeCompany where employeeId = Joe AND company = companyXY;\n</code></pre>\n\n<p>The answer is simple (and thx a lot to Nirav Assar for his blogpost): <strong>It can't</strong>. In a world of bags, delete all &amp; re-insert all remaining is the only proper way! Read that for more clarification. <a href=\"http://assarconsulting.blogspot.fr/2009/08/why-hibernate-does-delete-all-then-re.html\" rel=\"noreferrer\">http://assarconsulting.blogspot.fr/2009/08/why-hibernate-does-delete-all-then-re.html</a></p>\n\n<p>Now the big conclusion: </p>\n\n<p><strong>If you choose a Set instead of a List in your Employee/Company - Entities, you don't have that Problem and only one query is executed!</strong></p>\n\n<p>And why that? Because hibernate is no longer in a world of bags (as you know, Sets allows no duplicates) and executing only one query is now possible.</p>\n\n<p>So the decision between List and Sets is not that simple, at least when it comes to queries &amp; performance!</p>\n"},{"comments":[{"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"score":0,"creation_date":1608821174,"post_id":65439520,"comment_id":115694544,"body_markdown":"can you please expand your answer and briefly explain what is the impact?","body":"can you please expand your answer and briefly explain what is the impact?"},{"owner":{"account_id":20220101,"reputation":21,"user_id":14829849,"display_name":"Dyutiman Chaudhuri"},"score":0,"creation_date":1609000791,"post_id":65439520,"comment_id":115727614,"body_markdown":"http://openjpa.208410.n2.nabble.com/Removal-of-unnecessary-quot-Order-By-quot-clauses-td7315925.html\nI have seen the issue of OpenJPA adding an extra Order By clause to the generated query. This has a performance impact on Database for those queries which does not need any order. From the above link this should happen only when the collection is defined as a List. If it is defined as a Set then this Order By clause would be omitted. \nBut unfortunately I could not get away from the Order By clause irrespective of what data type I choose.","body":"<a href=\"http://openjpa.208410.n2.nabble.com/Removal-of-unnecessary-quot-Order-By-quot-clauses-td7315925.html\" rel=\"nofollow noreferrer\">openjpa.208410.n2.nabble.com/&hellip;</a> I have seen the issue of OpenJPA adding an extra Order By clause to the generated query. This has a performance impact on Database for those queries which does not need any order. From the above link this should happen only when the collection is defined as a List. If it is defined as a Set then this Order By clause would be omitted.  But unfortunately I could not get away from the Order By clause irrespective of what data type I choose."}],"tags":[],"owner":{"account_id":20220101,"reputation":21,"user_id":14829849,"display_name":"Dyutiman Chaudhuri"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608819520,"creation_date":1608819520,"answer_id":65439520,"question_id":4655392,"body_markdown":"https://issues.apache.org/jira/browse/OPENJPA-710\r\n\r\nChoosing between List &amp; Set should have an impact on how the query is sent to DB.","title":"Which Java Type do you use for JPA collections and why?","body":"<p><a href=\"https://issues.apache.org/jira/browse/OPENJPA-710\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/OPENJPA-710</a></p>\n<p>Choosing between List &amp; Set should have an impact on how the query is sent to DB.</p>\n"}],"owner":{"account_id":210258,"reputation":3074,"user_id":461769,"accept_rate":67,"display_name":"Theo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47624,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":4655417,"answer_count":6,"score":79,"last_activity_date":1678827056,"creation_date":1294732710,"question_id":4655392,"body_markdown":"Which of the following collection types do you use in your JPA domain model and why:\r\n\r\n - `java.util.Collection`\r\n - `java.util.List`\r\n - `java.util.Set`\r\n\r\nI was wondering whether there are some ground rules for this.\r\n\r\n**UPDATE** I know the difference between a `Set` and a `List`. A `List` allows duplicates and has an order and a `Set` cannot contain duplicate elements and does not define order. I&#39;m asking this question in the context of JPA. If you strictly follow the definition, then you should always end up using the `Set` type, since your collection is stored in relational database, where you can&#39;t have duplicates and where you have define an order by yourself, i.e. the order in you Java `List` is not necessarily preserved in the DB.\r\n\r\nFor example, most of the time I&#39;m using the `List` type, not because it has an order or allows duplicates (which I can&#39;t have anyway), because some of the components in my component library require a list.\r\n","title":"Which Java Type do you use for JPA collections and why?","body":"<p>Which of the following collection types do you use in your JPA domain model and why:</p>\n\n<ul>\n<li><code>java.util.Collection</code></li>\n<li><code>java.util.List</code></li>\n<li><code>java.util.Set</code></li>\n</ul>\n\n<p>I was wondering whether there are some ground rules for this.</p>\n\n<p><strong>UPDATE</strong> I know the difference between a <code>Set</code> and a <code>List</code>. A <code>List</code> allows duplicates and has an order and a <code>Set</code> cannot contain duplicate elements and does not define order. I'm asking this question in the context of JPA. If you strictly follow the definition, then you should always end up using the <code>Set</code> type, since your collection is stored in relational database, where you can't have duplicates and where you have define an order by yourself, i.e. the order in you Java <code>List</code> is not necessarily preserved in the DB.</p>\n\n<p>For example, most of the time I'm using the <code>List</code> type, not because it has an order or allows duplicates (which I can't have anyway), because some of the components in my component library require a list.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678826791,"creation_date":1678826791,"answer_id":75738229,"question_id":75736504,"body_markdown":"`recordType` is a runtime information, you cannot use it at configuration time when setting up the reader.\r\n\r\nYou can use a [PatternMatchingCompositeLineTokenizer](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/transform/PatternMatchingCompositeLineTokenizer.html) with two delegate tokenizers: one for records starting with `RECA` and one for records starting with `RECB`. You can find an example [here](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/file/transform/PatternMatchingCompositeLineTokenizerTests.java).\r\n\r\nOnce you have the composite tokenizer, you can set in on the `FlatFileItemReader`.","title":"spring batch provide two type of range with FixedLengthTokenizer","body":"<p><code>recordType</code> is a runtime information, you cannot use it at configuration time when setting up the reader.</p>\n<p>You can use a <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/transform/PatternMatchingCompositeLineTokenizer.html\" rel=\"nofollow noreferrer\">PatternMatchingCompositeLineTokenizer</a> with two delegate tokenizers: one for records starting with <code>RECA</code> and one for records starting with <code>RECB</code>. You can find an example <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/test/java/org/springframework/batch/item/file/transform/PatternMatchingCompositeLineTokenizerTests.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Once you have the composite tokenizer, you can set in on the <code>FlatFileItemReader</code>.</p>\n"}],"owner":{"account_id":1990578,"reputation":445,"user_id":1784675,"display_name":"Sumit Sood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75738229,"answer_count":1,"score":0,"last_activity_date":1678826791,"creation_date":1678814890,"question_id":75736504,"body_markdown":"In my application, I am getting two types of range in single Fixed length file for ex:\r\n     \r\n    RECA 38148TG 5YNNABAC Corporate1 abc@xyzz.com\r\n    RECA 31148TG 5YNNABAC CorporateA xyz@asst.com\r\n    RECB 38143GM Corporate3 xyz@abqt.com\r\n    RECA 31148TN 5YNNABAC Corporate2 xyz@ncnt.com\r\n\r\nIn the above sample file there are two `recordType`: RECA and RECB. Both have different range of fields.I want to manage it through single itemReader according to `recordType`. So far I am trying it to following way:\r\n\r\n    public ItemReader&lt;DataObj&gt; itemReader(Resource inputData)  throws UnexpectedInputException, ParseException {\r\n        FlatFileItemReader&lt;DataObj&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        FixedLengthTokenizer tokenizer = new FixedLengthTokenizer();\r\n        String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;, &quot;col4&quot;};\r\n        tokenizer.setNames(tokens);\r\n        tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), new Range(15, 15)});\r\n        reader.setResource(inputData);\r\n        DefaultLineMapper&lt;DataObj&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        lineMapper.setLineTokenizer(tokenizer);\r\n        lineMapper.setFieldSetMapper(new RecordFieldSetMapper());\r\n        reader.setLineMapper(lineMapper);\r\n        return reader;\r\n\r\n    } \r\n\r\n    @Bean\r\n    protected Step step1(@Qualifier(&quot;itemProcessor&quot;) ItemProcessor&lt;DataObj, DataObj&gt; processor, ItemWriter&lt;DataObj&gt; writer) throws ParseException {\r\n        return stepBuilderFactory\r\n                .get(&quot;step1&quot;)\r\n                .&lt;DataObj, DataObj&gt; chunk(10)\r\n                .reader(itemReader(inputCsv))\r\n                .processor(processor)\r\n                .writer(writer)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;firstBatchJob&quot;)\r\n    public Job job(@Qualifier(&quot;step1&quot;) Step step1) {\r\n        return jobBuilderFactory.get(&quot;firstBatchJob&quot;).start(step1).build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;DataObj, DataObj&gt; itemProcessor() {\r\n        return new CustomItemProcessor();\r\n    }\r\n   \r\n    public class CustomItemProcessor implements ItemProcessor&lt;DataObj, DataObj&gt; {\r\n\r\n    // ItemProcessor class\r\n    public DataObj process(DataObj item) {\r\n        System.out.println(&quot;Processing...&quot; + item);\r\n        // INSERT INTO DB HERE\r\n        return item;\r\n    }\r\n    }\r\n    // DataObj Class\r\n    public class DataObj{\r\n    private String col1;\r\n    private String col2;\r\n    private String col3;\r\n    private String col4;\r\n    private String col5;\r\n\r\nI want to achieve column range according to `recordType` condition. for ex in `itemReader` :\r\n\r\n    public ItemReader&lt;Libor&gt; itemReader(Resource inputData)  throws UnexpectedInputException, ParseException {\r\n        FlatFileItemReader&lt;Libor&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        FixedLengthTokenizer tokenizer = new FixedLengthTokenizer();\r\n       if (recType == &#39;recA&#39;){\r\n            String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;, &quot;col4&quot;};\r\n            tokenizer.setNames(tokens);\r\n            tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), new Range(15, 15)}); \r\n       }\r\n       if (recType == &#39;recB&#39;){\r\n            String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;};\r\n            tokenizer.setNames(tokens);\r\n            tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), }); \r\n       }\r\n       // Rest of code","title":"spring batch provide two type of range with FixedLengthTokenizer","body":"<p>In my application, I am getting two types of range in single Fixed length file for ex:</p>\n<pre><code>RECA 38148TG 5YNNABAC Corporate1 abc@xyzz.com\nRECA 31148TG 5YNNABAC CorporateA xyz@asst.com\nRECB 38143GM Corporate3 xyz@abqt.com\nRECA 31148TN 5YNNABAC Corporate2 xyz@ncnt.com\n</code></pre>\n<p>In the above sample file there are two <code>recordType</code>: RECA and RECB. Both have different range of fields.I want to manage it through single itemReader according to <code>recordType</code>. So far I am trying it to following way:</p>\n<pre><code>public ItemReader&lt;DataObj&gt; itemReader(Resource inputData)  throws UnexpectedInputException, ParseException {\n    FlatFileItemReader&lt;DataObj&gt; reader = new FlatFileItemReader&lt;&gt;();\n    FixedLengthTokenizer tokenizer = new FixedLengthTokenizer();\n    String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;, &quot;col4&quot;};\n    tokenizer.setNames(tokens);\n    tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), new Range(15, 15)});\n    reader.setResource(inputData);\n    DefaultLineMapper&lt;DataObj&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    lineMapper.setLineTokenizer(tokenizer);\n    lineMapper.setFieldSetMapper(new RecordFieldSetMapper());\n    reader.setLineMapper(lineMapper);\n    return reader;\n\n} \n\n@Bean\nprotected Step step1(@Qualifier(&quot;itemProcessor&quot;) ItemProcessor&lt;DataObj, DataObj&gt; processor, ItemWriter&lt;DataObj&gt; writer) throws ParseException {\n    return stepBuilderFactory\n            .get(&quot;step1&quot;)\n            .&lt;DataObj, DataObj&gt; chunk(10)\n            .reader(itemReader(inputCsv))\n            .processor(processor)\n            .writer(writer)\n            .build();\n}\n\n@Bean(name = &quot;firstBatchJob&quot;)\npublic Job job(@Qualifier(&quot;step1&quot;) Step step1) {\n    return jobBuilderFactory.get(&quot;firstBatchJob&quot;).start(step1).build();\n}\n\n\n@Bean\npublic ItemProcessor&lt;DataObj, DataObj&gt; itemProcessor() {\n    return new CustomItemProcessor();\n}\n\npublic class CustomItemProcessor implements ItemProcessor&lt;DataObj, DataObj&gt; {\n\n// ItemProcessor class\npublic DataObj process(DataObj item) {\n    System.out.println(&quot;Processing...&quot; + item);\n    // INSERT INTO DB HERE\n    return item;\n}\n}\n// DataObj Class\npublic class DataObj{\nprivate String col1;\nprivate String col2;\nprivate String col3;\nprivate String col4;\nprivate String col5;\n</code></pre>\n<p>I want to achieve column range according to <code>recordType</code> condition. for ex in <code>itemReader</code> :</p>\n<pre><code>public ItemReader&lt;Libor&gt; itemReader(Resource inputData)  throws UnexpectedInputException, ParseException {\n    FlatFileItemReader&lt;Libor&gt; reader = new FlatFileItemReader&lt;&gt;();\n    FixedLengthTokenizer tokenizer = new FixedLengthTokenizer();\n   if (recType == 'recA'){\n        String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;, &quot;col4&quot;};\n        tokenizer.setNames(tokens);\n        tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), new Range(15, 15)}); \n   }\n   if (recType == 'recB'){\n        String[] tokens = {&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;};\n        tokenizer.setNames(tokens);\n        tokenizer.setColumns(new Range[]{new Range(1, 4), new Range(5, 13), new Range(14, 14), }); \n   }\n   // Rest of code\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1408546342,"post_id":25407656,"comment_id":39631774,"body_markdown":"http://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection#comment30350617_3301720","body":"<a href=\"http://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection#comment30350617_3301720\" title=\"change private static final field using java reflection%23comment30350617_3301720\">stackoverflow.com/questions/3301635/&hellip;</a>"},{"owner":{"account_id":2036295,"reputation":1106,"user_id":2476537,"accept_rate":41,"display_name":"John61590"},"score":0,"creation_date":1536626166,"post_id":25407656,"comment_id":91482114,"body_markdown":"what is `modifiers`?","body":"what is <code>modifiers</code>?"}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1408546074,"post_id":25407736,"comment_id":39631562,"body_markdown":"+1 OP, it didn&#39;t _fail_. Try `System.out.println(field.get(null)); // should print 2`.","body":"+1 OP, it didn&#39;t <i>fail</i>. Try <code>System.out.println(field.get(null)); &#47;&#47; should print 2</code>."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1408546255,"post_id":25407736,"comment_id":39631713,"body_markdown":"@SotiriosDelimanolis, that&#39;s an excellent test to elucidate interpreter behavior.","body":"@SotiriosDelimanolis, that&#39;s an excellent test to elucidate interpreter behavior."},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1408546255,"post_id":25407736,"comment_id":39631714,"body_markdown":"@SotiriosDelimanolis, right, I did try that, and it worked. At the time I just thought it was lying.","body":"@SotiriosDelimanolis, right, I did try that, and it worked. At the time I just thought it was lying."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1408546347,"post_id":25407736,"comment_id":39631777,"body_markdown":"@MikeSamuel Ah, just to see all (2) sides of the coin.","body":"@MikeSamuel Ah, just to see all (2) sides of the coin."},{"owner":{"account_id":3006999,"reputation":6625,"user_id":2551312,"accept_rate":100,"display_name":"Kumar Abhinav"},"score":1,"creation_date":1408547458,"post_id":25407736,"comment_id":39632586,"body_markdown":"@MikeSamuel I think it should work for any final variable initialized with an expression that can be evaluated at compile time,static is not a requirement","body":"@MikeSamuel I think it should work for any final variable initialized with an expression that can be evaluated at compile time,static is not a requirement"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":1,"creation_date":1408549778,"post_id":25407736,"comment_id":39634222,"body_markdown":"@KumarAbhinav, I think you&#39;re right: [JLS 4.12.4](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4) says &quot;A variable of primitive type or type `String`, that is `final` and initialized with a compile-time constant expression (&#167;15.28), is called a *constant variable*&quot; without any reference to `static`.","body":"@KumarAbhinav, I think you&#39;re right: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">JLS 4.12.4</a> says &quot;A variable of primitive type or type <code>String</code>, that is <code>final</code> and initialized with a compile-time constant expression (&#167;15.28), is called a <i>constant variable</i>&quot; without any reference to <code>static</code>."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":1,"creation_date":1408590749,"post_id":25407736,"comment_id":39650438,"body_markdown":"@PaulDraper, nice.  I hadn&#39;t seen those caveats re reordering of reads and writes to `final` fields that occur outside the constructor.","body":"@PaulDraper, nice.  I hadn&#39;t seen those caveats re reordering of reads and writes to <code>final</code> fields that occur outside the constructor."}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":7,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1408553564,"creation_date":1408545910,"answer_id":25407736,"question_id":25407656,"body_markdown":"Java [inlines `final` fields](http://www.javaworld.com/article/2077382/core-java/when-a-constant-isn-t-really-a-constant.html) that are initialized to [*constant expressions*](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28) at compile time.\r\n\r\n&gt; According to the Java Language Specification, any `static final`&lt;sup&gt;*&lt;/sup&gt; field initialized with an expression that can be evaluated at compile time must be compiled to byte code that &quot;inlines&quot; the field value. That is, no dynamic link will be present inside class `Main` telling it to obtain the value for `A` from `InterfaceA` at runtime.\r\n\r\nDecompile the bytecode and you&#39;ll find that the body of `getA()` simply pushes the constant `1` and returns it.\r\n\r\n----\r\n\r\n&lt;sup&gt;*&lt;/sup&gt; - The JavaWorld quote says `static final`.  Kumar points out that the `static` is not required by the [language specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4) in the definition of a *constant variable*.  I think Kumar is right and JavaWorld is in error.","title":"Setting private static final field with reflection","body":"<p>Java <a href=\"http://www.javaworld.com/article/2077382/core-java/when-a-constant-isn-t-really-a-constant.html\" rel=\"nofollow\">inlines <code>final</code> fields</a> that are initialized to <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"nofollow\"><em>constant expressions</em></a> at compile time.</p>\n\n<blockquote>\n  <p>According to the Java Language Specification, any <code>static final</code><sup>*</sup> field initialized with an expression that can be evaluated at compile time must be compiled to byte code that \"inlines\" the field value. That is, no dynamic link will be present inside class <code>Main</code> telling it to obtain the value for <code>A</code> from <code>InterfaceA</code> at runtime.</p>\n</blockquote>\n\n<p>Decompile the bytecode and you'll find that the body of <code>getA()</code> simply pushes the constant <code>1</code> and returns it.</p>\n\n<hr>\n\n<p><sup>*</sup> - The JavaWorld quote says <code>static final</code>.  Kumar points out that the <code>static</code> is not required by the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow\">language specification</a> in the definition of a <em>constant variable</em>.  I think Kumar is right and JavaWorld is in error.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1678827806,"post_id":75738217,"comment_id":133608608,"body_markdown":"And again an other solution that [does not work](https://www.ideone.com/3Xv5Jo).","body":"And again an other solution that <a href=\"https://www.ideone.com/3Xv5Jo\" rel=\"nofollow noreferrer\">does not work</a>."},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1678999216,"post_id":75738217,"comment_id":133646853,"body_markdown":"Using code you provided does in fact print 100 on my side. Tested with Java 5, 6, 8 and 17","body":"Using code you provided does in fact print 100 on my side. Tested with Java 5, 6, 8 and 17"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679003750,"post_id":75738217,"comment_id":133647812,"body_markdown":"Did you read the output on ideone? It is 10. Not 100. 10. So, there is at least one platform where it does not work. (PS.: It also doesn&#39;t work on my machine.)","body":"Did you read the output on ideone? It is 10. Not 100. 10. So, there is at least one platform where it does not work. (PS.: It also doesn&#39;t work on my machine.)"},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1679252133,"post_id":75738217,"comment_id":133683917,"body_markdown":"What java distro did you use and what version?","body":"What java distro did you use and what version?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679275627,"post_id":75738217,"comment_id":133686911,"body_markdown":"The code you provided failed on all java versions I tested it with when using the code I linked. Did you run it in debug mode? Did you make any changes to my code?","body":"The code you provided failed on all java versions I tested it with when using the code I linked. Did you run it in debug mode? Did you make any changes to my code?"},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1679499412,"post_id":75738217,"comment_id":133733792,"body_markdown":"I did not edit anything. Except for underscores in the 1_000_000 because java 5 and 6 compiler did not support it. Now if you don&#39;t want to tell me which java distribution you&#39;re using, try [Oracle Java 17](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html), that&#39;s what I used for testing with Java 17","body":"I did not edit anything. Except for underscores in the 1_000_000 because java 5 and 6 compiler did not support it. Now if you don&#39;t want to tell me which java distribution you&#39;re using, try <a href=\"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html\" rel=\"nofollow noreferrer\">Oracle Java 17</a>, that&#39;s what I used for testing with Java 17"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679501856,"post_id":75738217,"comment_id":133734557,"body_markdown":"I use the binaries from [jdk.java.net](https://jdk.java.net/), but that does not matter. Your answer simply does not work everywhere.","body":"I use the binaries from <a href=\"https://jdk.java.net/\" rel=\"nofollow noreferrer\">jdk.java.net</a>, but that does not matter. Your answer simply does not work everywhere."},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1679516658,"post_id":75738217,"comment_id":133738176,"body_markdown":"Yes it does matter. Stop being ignorant. [this is my last proof that it works](https://cdn.discordapp.com/attachments/980357983206793227/1088196064768692324/image.png) I do not care if you find it useful or not.","body":"Yes it does matter. Stop being ignorant. <a href=\"https://cdn.discordapp.com/attachments/980357983206793227/1088196064768692324/image.png\" rel=\"nofollow noreferrer\">this is my last proof that it works</a> I do not care if you find it useful or not."},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1679516897,"post_id":75738217,"comment_id":133738217,"body_markdown":"Same result with `javac` and `java`, outside of IDE. [link](https://cdn.discordapp.com/attachments/980357983206793227/1088197146500673709/image.png)","body":"Same result with <code>javac</code> and <code>java</code>, outside of IDE. <a href=\"https://cdn.discordapp.com/attachments/980357983206793227/1088197146500673709/image.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679519627,"post_id":75738217,"comment_id":133738789,"body_markdown":"Strange... Increase the number of `useField()` before the change calls. 5-10 should be enough.","body":"Strange... Increase the number of <code>useField()</code> before the change calls. 5-10 should be enough."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679519986,"post_id":75738217,"comment_id":133738880,"body_markdown":"[Other example](https://www.ideone.com/0KssJX). With a ~600 iterations the output flips between 10 and 100 on my machine.","body":"<a href=\"https://www.ideone.com/0KssJX\" rel=\"nofollow noreferrer\">Other example</a>. With a ~600 iterations the output flips between 10 and 100 on my machine."},{"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"score":0,"creation_date":1679523632,"post_id":75738217,"comment_id":133739583,"body_markdown":"Well, all I can say is that the getter is the problem. If accessed directly using a field reference it gets correct value. In conclusion this solution works as long as you don&#39;t use it in extreme environments like these. Nothing should access a constant through a getter anyway. If something does, it&#39;s a programming problem.","body":"Well, all I can say is that the getter is the problem. If accessed directly using a field reference it gets correct value. In conclusion this solution works as long as you don&#39;t use it in extreme environments like these. Nothing should access a constant through a getter anyway. If something does, it&#39;s a programming problem."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1679530407,"post_id":75738217,"comment_id":133740499,"body_markdown":"Do you know what the JIT does consider as constant value? &quot;If accessed directly&quot; Guess what the getter does? You don&#39;t even need a getter at all. Anytime the JIT compiles a method it will inline the constants. You don&#39;t know when that will happen (there are JVMs out there that can serialize profiling data or even compiled machine code for faster startup). It also may not happen at all or just enough time later (because the compiler thread was a bit slower) so the JIT uses the new value. But you are still ignorant that it simply can&#39;t reliably work.","body":"Do you know what the JIT does consider as constant value? &quot;If accessed directly&quot; Guess what the getter does? You don&#39;t even need a getter at all. Anytime the JIT compiles a method it will inline the constants. You don&#39;t know when that will happen (there are JVMs out there that can serialize profiling data or even compiled machine code for faster startup). It also may not happen at all or just enough time later (because the compiler thread was a bit slower) so the JIT uses the new value. But you are still ignorant that it simply can&#39;t reliably work."}],"tags":[],"owner":{"account_id":28007243,"reputation":1,"user_id":21390433,"display_name":"Lassebq"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678826722,"creation_date":1678826722,"answer_id":75738217,"question_id":25407656,"body_markdown":"There are cases where java does not inline static final constants. And the reflection behavior is different between Java versions (such as getting `modifiers` field will fail in modern Java), however there&#39;s something that stayed consistent between Java versions - `sun.misc.Unsafe`.\r\n\r\nYou can use it to modify value of any field and bypass all of access modifiers.\r\n\r\n```java\r\n\tpublic static void setStaticObjectUnsafe(final Field field, Object value) {\r\n\t\tfinal Object staticFieldBase = theUnsafe.staticFieldBase(field);\r\n\t\tfinal long staticFieldOffset = theUnsafe.staticFieldOffset(field);\r\n\t\ttheUnsafe.putObject(staticFieldBase, staticFieldOffset, value);\r\n\t}\r\n```\r\n\r\nFor primitives it&#39;s the same except you need to replace `value` parameter and putObject with it&#39;s alternative for primitive type:\r\n```java\r\n\tpublic static void setStaticIntegerUnsafe(final Field field, int value) {\r\n\t\tfinal Object staticFieldBase = theUnsafe.staticFieldBase(field);\r\n\t\tfinal long staticFieldOffset = theUnsafe.staticFieldOffset(field);\r\n\t\ttheUnsafe.putInt(staticFieldBase, staticFieldOffset, value);\r\n\t}\r\n```\r\nTo get unsafe instance see [this solution](https://stackoverflow.com/questions/13003871/how-do-i-get-the-instance-of-sun-misc-unsafe).\r\n\r\nIf you are using Eclipse IDE you will need to tweak compiler settings in preferences:\r\nJava -&gt; Compiler -&gt; Errors/Warnings -&gt; Set &quot;Forbidden reference (access rules)&quot; to Ignore","title":"Setting private static final field with reflection","body":"<p>There are cases where java does not inline static final constants. And the reflection behavior is different between Java versions (such as getting <code>modifiers</code> field will fail in modern Java), however there's something that stayed consistent between Java versions - <code>sun.misc.Unsafe</code>.</p>\n<p>You can use it to modify value of any field and bypass all of access modifiers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void setStaticObjectUnsafe(final Field field, Object value) {\n        final Object staticFieldBase = theUnsafe.staticFieldBase(field);\n        final long staticFieldOffset = theUnsafe.staticFieldOffset(field);\n        theUnsafe.putObject(staticFieldBase, staticFieldOffset, value);\n    }\n</code></pre>\n<p>For primitives it's the same except you need to replace <code>value</code> parameter and putObject with it's alternative for primitive type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void setStaticIntegerUnsafe(final Field field, int value) {\n        final Object staticFieldBase = theUnsafe.staticFieldBase(field);\n        final long staticFieldOffset = theUnsafe.staticFieldOffset(field);\n        theUnsafe.putInt(staticFieldBase, staticFieldOffset, value);\n    }\n</code></pre>\n<p>To get unsafe instance see <a href=\"https://stackoverflow.com/questions/13003871/how-do-i-get-the-instance-of-sun-misc-unsafe\">this solution</a>.</p>\n<p>If you are using Eclipse IDE you will need to tweak compiler settings in preferences:\nJava -&gt; Compiler -&gt; Errors/Warnings -&gt; Set &quot;Forbidden reference (access rules)&quot; to Ignore</p>\n"}],"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25407736,"answer_count":2,"score":5,"last_activity_date":1678826722,"creation_date":1408545675,"question_id":25407656,"body_markdown":"Based on https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection, I tried to set a private static final field.\r\n\r\n(I know this is terribly hacky, but this question is not about code quality; it&#39;s about Java reflection.)\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    \r\n    class Main {\r\n    \r\n      static class Foo {\r\n        private static final int A = 1;\r\n    \r\n        int getA() {\r\n          return A;\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n        modifiers.setAccessible(true);\r\n    \r\n        Field field = Foo.class.getDeclaredField(&quot;A&quot;);\r\n        field.setAccessible(true);\r\n        modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n        field.set(null, 2);\r\n    \r\n        System.out.println(new Foo().getA()); // should print 2\r\n      }\r\n    \r\n    }\r\n\r\nThis prints\r\n\r\n    1\r\n\r\nI&#39;ve tried this with OpenJDK 6 and 7, and Oracle 7.\r\n\r\nI don&#39;t know what guarantees Java reflection gives. But if it failed, I thought there would be an `Exception` (practically all the reflection methods throw exceptions).\r\n\r\nWhat is happening here?","title":"Setting private static final field with reflection","body":"<p>Based on <a href=\"https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection\">Change private static final field using Java reflection</a>, I tried to set a private static final field.</p>\n\n<p>(I know this is terribly hacky, but this question is not about code quality; it's about Java reflection.)</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n\nclass Main {\n\n  static class Foo {\n    private static final int A = 1;\n\n    int getA() {\n      return A;\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    Field modifiers = Field.class.getDeclaredField(\"modifiers\");\n    modifiers.setAccessible(true);\n\n    Field field = Foo.class.getDeclaredField(\"A\");\n    field.setAccessible(true);\n    modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n    field.set(null, 2);\n\n    System.out.println(new Foo().getA()); // should print 2\n  }\n\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>1\n</code></pre>\n\n<p>I've tried this with OpenJDK 6 and 7, and Oracle 7.</p>\n\n<p>I don't know what guarantees Java reflection gives. But if it failed, I thought there would be an <code>Exception</code> (practically all the reflection methods throw exceptions).</p>\n\n<p>What is happening here?</p>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":28017880,"reputation":36,"user_id":21399290,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678826684,"creation_date":1678826684,"answer_id":75738212,"question_id":75737173,"body_markdown":"You declared your List as Parent this is why you only have access to the Parents attributes/methods.\r\n\r\nYou can run a simple type check and cast the object to Child afterwards.\r\n\r\n    Parent p = list.get(1)\r\n    if(p instanceof Child){\r\n        System.out.println((Child)p.getAge());\r\n    }\r\n\r\n\r\n","title":"Is it possible to get non-inherited field or method from inherited object in collection?","body":"<p>You declared your List as Parent this is why you only have access to the Parents attributes/methods.</p>\n<p>You can run a simple type check and cast the object to Child afterwards.</p>\n<pre><code>Parent p = list.get(1)\nif(p instanceof Child){\n    System.out.println((Child)p.getAge());\n}\n</code></pre>\n"}],"owner":{"account_id":22182716,"reputation":15,"user_id":16426180,"display_name":"OpeJI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75738212,"answer_count":1,"score":1,"last_activity_date":1678826684,"creation_date":1678819331,"question_id":75737173,"body_markdown":"It&#39;s a simple example of my code, Im stuck, how to get non-inherited field `private int age;` from Parent class.\r\n\r\nAnother words, how to avoid of creating unwanted fields in Parent class?\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Parent parent = new Parent();\r\n        Child child = new Child();\r\n        child.setName(&quot;Bob&quot;);\r\n        child.setAge(10);\r\n\r\n        List&lt;Parent&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(parent);\r\n        list.add(child);\r\n\r\n        System.out.println(list.get(1).getName());\r\n        System.out.println(list.get(1).getAge()); // here is crushed\r\n    }\r\n}\r\n\r\nclass Parent {\r\n\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nclass Child extends Parent {\r\n\r\n    private String name;\r\n    private int age;\r\n\r\n    @Override\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Is it possible to get non-inherited field or method from inherited object in collection?","body":"<p>It's a simple example of my code, Im stuck, how to get non-inherited field <code>private int age;</code> from Parent class.</p>\n<p>Another words, how to avoid of creating unwanted fields in Parent class?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Parent parent = new Parent();\n        Child child = new Child();\n        child.setName(&quot;Bob&quot;);\n        child.setAge(10);\n\n        List&lt;Parent&gt; list = new ArrayList&lt;&gt;();\n        list.add(parent);\n        list.add(child);\n\n        System.out.println(list.get(1).getName());\n        System.out.println(list.get(1).getAge()); // here is crushed\n    }\n}\n\nclass Parent {\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\nclass Child extends Parent {\n\n    private String name;\n    private int age;\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678455916,"post_id":75696910,"comment_id":133540809,"body_markdown":"either you are calling a method with the wrong parameters, or you have a conflict in dependencies, one of them has that method,t he other doesn&#39;t","body":"either you are calling a method with the wrong parameters, or you have a conflict in dependencies, one of them has that method,t he other doesn&#39;t"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1678457043,"post_id":75696910,"comment_id":133541138,"body_markdown":"Probably the project is using a version of JUnit that&#39;s incompatible with the version Eclipse uses. Show us the project dependencies (pom if it&#39;s a Maven project, for example) and what version of Eclipse you&#39;re using.","body":"Probably the project is using a version of JUnit that&#39;s incompatible with the version Eclipse uses. Show us the project dependencies (pom if it&#39;s a Maven project, for example) and what version of Eclipse you&#39;re using."},{"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"score":0,"creation_date":1678709991,"post_id":75696910,"comment_id":133580369,"body_markdown":"@E-Riz, I&#39;m using Eclipse version: 2022-09 (4.25.0). I will update my question to list the project dependencies related to JUnit.","body":"@E-Riz, I&#39;m using Eclipse version: 2022-09 (4.25.0). I will update my question to list the project dependencies related to JUnit."},{"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"score":0,"creation_date":1678710987,"post_id":75696910,"comment_id":133580697,"body_markdown":"@Stultuske, I think I have a conflict but I don&#39;t know how to solve it.","body":"@Stultuske, I think I have a conflict but I don&#39;t know how to solve it."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678711668,"post_id":75696910,"comment_id":133580904,"body_markdown":"Check all the instances of that class you have in your dependency tree. Check which one you need, and exclude the others from your build","body":"Check all the instances of that class you have in your dependency tree. Check which one you need, and exclude the others from your build"}],"answers":[{"comments":[{"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"score":0,"creation_date":1678711112,"post_id":75700503,"comment_id":133580739,"body_markdown":"Thanks for your input. I tried adding this but it didn&#39;t work.","body":"Thanks for your input. I tried adding this but it didn&#39;t work."}],"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678478356,"creation_date":1678478356,"answer_id":75700503,"question_id":75696910,"body_markdown":"As pointed out in [Stultuske&#39;s comment](https://stackoverflow.com/questions/75696910/java-lang-nosuchmethoderror-org-junit-platform-launcher-testplan-getconfigurati#comment133540809_75696910), this is usually an indicator for a dependency conflict.\r\n\r\nJUnit provides a [BOM](https://junit.org/junit5/docs/current/user-guide/#dependency-metadata-junit-bom):\r\n\r\n&gt;The *Bill of Materials* POM provided under the following Maven coordinates can be used to ease dependency management when referencing multiple of the above artifacts using [Maven](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies) or [Gradle](https://docs.gradle.org/current/userguide/managing_transitive_dependencies.html#sec:bom_import).\r\n\r\nIf you are using e.g. Maven, add this to your dependency management:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```","title":"java.lang.NoSuchMethodError: org.junit.platform.launcher.TestPlan.getConfigurationParameters() when trying to run JUnit tests","body":"<p>As pointed out in <a href=\"https://stackoverflow.com/questions/75696910/java-lang-nosuchmethoderror-org-junit-platform-launcher-testplan-getconfigurati#comment133540809_75696910\">Stultuske's comment</a>, this is usually an indicator for a dependency conflict.</p>\n<p>JUnit provides a <a href=\"https://junit.org/junit5/docs/current/user-guide/#dependency-metadata-junit-bom\" rel=\"nofollow noreferrer\">BOM</a>:</p>\n<blockquote>\n<p>The <em>Bill of Materials</em> POM provided under the following Maven coordinates can be used to ease dependency management when referencing multiple of the above artifacts using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://docs.gradle.org/current/userguide/managing_transitive_dependencies.html#sec:bom_import\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n</blockquote>\n<p>If you are using e.g. Maven, add this to your dependency management:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678826550,"creation_date":1678455876,"question_id":75696910,"body_markdown":"When I try to run any JUnit tests on my project on Eclipse, I get the following exception:\r\n```\r\njava.lang.NoSuchMethodError: org.junit.platform.launcher.TestPlan.getConfigurationParameters()Lorg/junit/platform/engine/ConfigurationParameters;\r\n\tat org.junit.platform.launcher.listeners.UniqueIdTrackingListener.testPlanExecutionStarted(UniqueIdTrackingListener.java:143)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.lambda$testPlanExecutionStarted$4(TestExecutionListenerRegistry.java:82)\r\n\tat java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry.notifyTestExecutionListeners(TestExecutionListenerRegistry.java:51)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry.access$100(TestExecutionListenerRegistry.java:27)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.testPlanExecutionStarted(TestExecutionListenerRegistry.java:82)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:149)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\n\r\nCan anybody please help me?","title":"java.lang.NoSuchMethodError: org.junit.platform.launcher.TestPlan.getConfigurationParameters() when trying to run JUnit tests","body":"<p>When I try to run any JUnit tests on my project on Eclipse, I get the following exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.junit.platform.launcher.TestPlan.getConfigurationParameters()Lorg/junit/platform/engine/ConfigurationParameters;\n    at org.junit.platform.launcher.listeners.UniqueIdTrackingListener.testPlanExecutionStarted(UniqueIdTrackingListener.java:143)\n    at org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.lambda$testPlanExecutionStarted$4(TestExecutionListenerRegistry.java:82)\n    at java.util.ArrayList.forEach(Unknown Source)\n    at org.junit.platform.launcher.core.TestExecutionListenerRegistry.notifyTestExecutionListeners(TestExecutionListenerRegistry.java:51)\n    at org.junit.platform.launcher.core.TestExecutionListenerRegistry.access$100(TestExecutionListenerRegistry.java:27)\n    at org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.testPlanExecutionStarted(TestExecutionListenerRegistry.java:82)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:149)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Can anybody please help me?</p>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646676350,"creation_date":1646676350,"answer_id":71385449,"question_id":71149199,"body_markdown":"You need to return status codes that start with 3, and a Location header holding the URL to redirect to.\r\n\r\n```\r\n@GetMapping(&quot;/myapplogin&quot;)\r\npublic Mono&lt;ResponseEntity&gt; mylogin() {\r\n\treturn login()\r\n\t\t\t.map(res -&gt; ResponseEntity\r\n\t\t\t\t\t.status(HttpStatus.PERMANENT_REDIRECT)\r\n\t\t\t\t\t.location(URI.create(&quot;/auth/home&quot;))\r\n\t\t\t\t\t.build()\r\n\t\t\t);\r\n}\r\n```\r\n\r\nwhere `login` is \r\n```\r\nMono&lt;ClientResponse&gt; login() {\r\n    \r\n    MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\r\n    formData.add(&quot;username&quot;, &quot;testuser&quot;);\r\n    formData.add(&quot;password&quot;, &quot;test password&quot;);\r\n\r\n    return WebClient.create()\r\n            .post()\r\n            .uri(&quot;http://localhost:8082/portal/auth/login&quot;)\r\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n            .body(BodyInserters.fromFormData(formData))\r\n            .exchange();            \r\n}\r\n```","title":"How to redirect to home page after login using reactive WebClient","body":"<p>You need to return status codes that start with 3, and a Location header holding the URL to redirect to.</p>\n<pre><code>@GetMapping(&quot;/myapplogin&quot;)\npublic Mono&lt;ResponseEntity&gt; mylogin() {\n    return login()\n            .map(res -&gt; ResponseEntity\n                    .status(HttpStatus.PERMANENT_REDIRECT)\n                    .location(URI.create(&quot;/auth/home&quot;))\n                    .build()\n            );\n}\n</code></pre>\n<p>where <code>login</code> is</p>\n<pre><code>Mono&lt;ClientResponse&gt; login() {\n    \n    MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\n    formData.add(&quot;username&quot;, &quot;testuser&quot;);\n    formData.add(&quot;password&quot;, &quot;test password&quot;);\n\n    return WebClient.create()\n            .post()\n            .uri(&quot;http://localhost:8082/portal/auth/login&quot;)\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n            .body(BodyInserters.fromFormData(formData))\n            .exchange();            \n}\n</code></pre>\n"}],"owner":{"account_id":24280919,"reputation":13,"user_id":18227445,"display_name":"tommyjack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71385449,"answer_count":1,"score":0,"last_activity_date":1678825926,"creation_date":1645045153,"question_id":71149199,"body_markdown":"I would like to programmatically login to a web application using reactive web client . I could see I am authenticated correctly but could not able to reach redirected url.\r\n\r\nI access my application http://localhost:8080/myapplogin\r\n\r\nHere my web client response will have a Location header http://localhost:8082/portal/auth/home , and I would like the browser to redirect to this url\r\n\r\nI could see the application in 8082 authenticating and redirecting(/auth/home) but do not know how to make my web client return the response and do the redirection through browser. Can someone help\r\n \r\n    @GetMapping(&quot;/myapplogin&quot;)\r\n    Publisher&lt;ClientResponse&gt; mylogin() {\r\n        \r\n        MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\r\n        formData.add(&quot;username&quot;, &quot;testuser&quot;);\r\n        formData.add(&quot;password&quot;, &quot;test password&quot;);\r\n\r\n        return WebClient.create()\r\n                .post()\r\n                .uri(&quot;http://localhost:8082/portal/auth/login&quot;)\r\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .body(BodyInserters.fromFormData(formData))\r\n                .exchange();            \r\n    }","title":"How to redirect to home page after login using reactive WebClient","body":"<p>I would like to programmatically login to a web application using reactive web client . I could see I am authenticated correctly but could not able to reach redirected url.</p>\n<p>I access my application http://localhost:8080/myapplogin</p>\n<p>Here my web client response will have a Location header http://localhost:8082/portal/auth/home , and I would like the browser to redirect to this url</p>\n<p>I could see the application in 8082 authenticating and redirecting(/auth/home) but do not know how to make my web client return the response and do the redirection through browser. Can someone help</p>\n<pre><code>@GetMapping(&quot;/myapplogin&quot;)\nPublisher&lt;ClientResponse&gt; mylogin() {\n    \n    MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\n    formData.add(&quot;username&quot;, &quot;testuser&quot;);\n    formData.add(&quot;password&quot;, &quot;test password&quot;);\n\n    return WebClient.create()\n            .post()\n            .uri(&quot;http://localhost:8082/portal/auth/login&quot;)\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n            .body(BodyInserters.fromFormData(formData))\n            .exchange();            \n}\n</code></pre>\n"},{"tags":["java","tomcat","netty","spring-webflux","nonblocking"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1561728471,"post_id":56794263,"comment_id":100169677,"body_markdown":"I think it&#39;s a typo and it&#39;s conflating Servlet 3.0 async and Servlet 3.1 non-blocking I/O. I&#39;ll get in touch with the author to fix that.","body":"I think it&#39;s a typo and it&#39;s conflating Servlet 3.0 async and Servlet 3.1 non-blocking I/O. I&#39;ll get in touch with the author to fix that."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561728786,"post_id":56794263,"comment_id":100169834,"body_markdown":"@Brian Clozel but anyway I am a bit messed and I would like to ask you to provide a correct text just because I don&#39;t understand how phrase **it is limited to one request per thread** related to the servlet 3.0 From my current  vision it relates to servlet 2.5 rather than 3+","body":"@Brian Clozel but anyway I am a bit messed and I would like to ask you to provide a correct text just because I don&#39;t understand how phrase <b>it is limited to one request per thread</b> related to the servlet 3.0 From my current  vision it relates to servlet 2.5 rather than 3+"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1561728816,"post_id":56794263,"comment_id":100169852,"body_markdown":"the article is being fixed as we speak","body":"the article is being fixed as we speak"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561728877,"post_id":56794263,"comment_id":100169890,"body_markdown":"@Brian Clozel It is fantastic!!! I contacted to proper person) world is so small","body":"@Brian Clozel It is fantastic!!! I contacted to proper person) world is so small"},{"owner":{"account_id":1033251,"reputation":4158,"user_id":1041132,"accept_rate":75,"display_name":"aquaraga"},"score":0,"creation_date":1666261836,"post_id":56794263,"comment_id":130896726,"body_markdown":"I can see that the article is corrected: *so it is limited to one request per thread* has become *so it is not limited to one request per thread*","body":"I can see that the article is corrected: <i>so it is limited to one request per thread</i> has become <i>so it is not limited to one request per thread</i>"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1561727134,"post_id":56806022,"comment_id":100168955,"body_markdown":"What you&#39;re wrinting is correct but my question about spring web flux. For tomcat spring web flux works over the servlet 3.1 (async support + NIO) but for Netty it work somehow different. I want to know how. Please follow the [link](https://spring.io/blog/2016/07/20/notes-on-reactive-programming-part-iii-a-simple-http-server-application) and find the phrase I mentioned in the topic","body":"What you&#39;re wrinting is correct but my question about spring web flux. For tomcat spring web flux works over the servlet 3.1 (async support + NIO) but for Netty it work somehow different. I want to know how. Please follow the <a href=\"https://spring.io/blog/2016/07/20/notes-on-reactive-programming-part-iii-a-simple-http-server-application\" rel=\"nofollow noreferrer\">link</a> and find the phrase I mentioned in the topic"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1561727701,"post_id":56806022,"comment_id":100169285,"body_markdown":"**Remember the same application code runs on Tomcat, Jetty or Netty. Currently, the Tomcat and Jetty support is provided on top of Servlet 3.1 asynchronous processing, so it is limited to one request per thread.** I created the topic because I don&#39;t understand that phrase","body":"<b>Remember the same application code runs on Tomcat, Jetty or Netty. Currently, the Tomcat and Jetty support is provided on top of Servlet 3.1 asynchronous processing, so it is limited to one request per thread.</b> I created the topic because I don&#39;t understand that phrase"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1561727916,"post_id":56806022,"comment_id":100169397,"body_markdown":"Tomcat and Jetty are servlet containers, so they are restricted on how the servlet spec defines them. Servlet 3.1 should enable non-blocking IO, but I don&#39;t think it is mandatory. I think it&#39;s just a complicated way of saying they don&#39;t support non-blocking concepts?","body":"Tomcat and Jetty are servlet containers, so they are restricted on how the servlet spec defines them. Servlet 3.1 should enable non-blocking IO, but I don&#39;t think it is mandatory. I think it&#39;s just a complicated way of saying they don&#39;t support non-blocking concepts?"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1561728002,"post_id":56806022,"comment_id":100169451,"body_markdown":"&quot;For tomcat spring web flux works over the servlet 3.1 (async support + NIO) but for Netty it work somehow different.&quot; Servlet 3.1 NIO and Netty should both use the same principle.","body":"&quot;For tomcat spring web flux works over the servlet 3.1 (async support + NIO) but for Netty it work somehow different.&quot; Servlet 3.1 NIO and Netty should both use the same principle."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1561728359,"post_id":56806022,"comment_id":100169615,"body_markdown":"As far as I know tomcat 8.5+ supports servlet 3.1 and thus it supports async+non-blocking","body":"As far as I know tomcat 8.5+ supports servlet 3.1 and thus it supports async+non-blocking"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561728428,"post_id":56806022,"comment_id":100169655,"body_markdown":"It is possible to find videos like this: https://www.youtube.com/watch?v=o0nyGrSk8Fs so I don&#39;t have any doubts about it","body":"It is possible to find videos like this: <a href=\"https://www.youtube.com/watch?v=o0nyGrSk8Fs\" rel=\"nofollow noreferrer\">youtube.com/watch?v=o0nyGrSk8Fs</a> so I don&#39;t have any doubts about it"},{"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"score":0,"creation_date":1677835276,"post_id":56806022,"comment_id":133419458,"body_markdown":"&quot;looking at this benchmark page you will see that most of the fastest web-servers are usually non-blocking&quot;, to my surprise this is not the case for &quot;traditional&quot; Spring application and &quot;non-blocking&quot;. Spring + JDBC is on 351 position, spring-webflux-pgclient (everything is non-blocking, including DB access) is on 385 position. This looks counter intuitive in view of the discussion done here...","body":"&quot;looking at this benchmark page you will see that most of the fastest web-servers are usually non-blocking&quot;, to my surprise this is not the case for &quot;traditional&quot; Spring application and &quot;non-blocking&quot;. Spring + JDBC is on 351 position, spring-webflux-pgclient (everything is non-blocking, including DB access) is on 385 position. This looks counter intuitive in view of the discussion done here..."},{"owner":{"account_id":37645,"reputation":5554,"user_id":107683,"accept_rate":63,"display_name":"Richard Collette"},"score":0,"creation_date":1678825648,"post_id":56806022,"comment_id":133608060,"body_markdown":"You left out .NET - It&#39;s non-blocking throughout, including database drivers (which Java doesn&#39;t have a standard for yet) and the async/await paradigm is far easier to use than trying remember the multitude of reactive methods in Flux.","body":"You left out .NET - It&#39;s non-blocking throughout, including database drivers (which Java doesn&#39;t have a standard for yet) and the async/await paradigm is far easier to use than trying remember the multitude of reactive methods in Flux."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":1,"creation_date":1678883313,"post_id":56806022,"comment_id":133618700,"body_markdown":"@PiotrKochański I wouldnt read too much into these benchmarks, however the results are not suprising to me. JDBC is blocking so the advantage of a non-blocking webserver is gravely dminished. A different article shows quite improved performance when using webflux with r2dbc vs jdbc (a non-blocking db driver) https://technology.amis.nl/software-development/performance-and-tuning/spring-blocking-vs-non-blocking-r2dbc-vs-jdbc-and-webflux-vs-web-mvc/","body":"@PiotrKochański I wouldnt read too much into these benchmarks, however the results are not suprising to me. JDBC is blocking so the advantage of a non-blocking webserver is gravely dminished. A different article shows quite improved performance when using webflux with r2dbc vs jdbc (a non-blocking db driver) <a href=\"https://technology.amis.nl/software-development/performance-and-tuning/spring-blocking-vs-non-blocking-r2dbc-vs-jdbc-and-webflux-vs-web-mvc/\" rel=\"nofollow noreferrer\">technology.amis.nl/software-development/performance-and-tuni&zwnj;&#8203;ng/&hellip;</a>"}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":9,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1678825764,"creation_date":1561720885,"answer_id":56806022,"question_id":56794263,"body_markdown":"Currently there are 2 basic concepts to handle parallel access to a web-server with various advantages and disadvantages:\r\n\r\n1. **Blocking**\r\n1. **Non-Blocking**\r\n\r\n\r\n## Blocking Web-Servers\r\n\r\nThe first concept of *blocking, multi-threaded* server has a finite set amount of threads in a pool. Every request will get assigned to specific thread and this thread will be assigned until the request has been fully served. This is basically the same as how a the checkout queues in a super market works, a customer at a time with possible parallel lines. In most circumstances a request in a web server will be cpu-idle for the majority of the time while processing the request. This is due the fact that it has to wait for I/O: read the socket, write to the db (which is also basically IO) and read the result and write to the socket. Additionally using/creating a bunch of threads is slow (context switching) and requires a lot of memory. Therefore this concept often does not use the hardware resources it has very efficiently and has a hard limit on how many clients can be served in parallel. This property is misused in so called starvation attacks, e.g. the [slow loris][1], an attack where usually a single client can DOS a big multi-threaded web-server with little effort.\r\n\r\n### Summary\r\n\r\n+ (+) simpler code\r\n- (-) hard limit of parallel clients\r\n- (-) requires more memory\r\n- (-) inefficient use of hardware for usual web-server work\r\n- (-) easy to DOS\r\n\r\nMost &quot;conventional&quot; web server work that way, e.g. older tomcat, Apache Webserver, and everything `Servlet` older than 3 or 3.1 etc. \r\n\r\n\r\n## Non-Blocking Web-Servers\r\n\r\nIn contrast a non-blocking web-server can serve multiple clients with only a single thread. That is because it uses the *[non-blocking kernel I/O features][2]*. These are just kernel calls which immediately return and call back when something can be written or read, making the cpu free to do other work instead. Reusing our supermarket metaphor, this would be like, when a cashier needs his supervisor to solve a problem, he does not wait and block the whole lane, but starts to check out the next customer until the supervisor arrives and solves the problem of the first customer.\r\n\r\nThis is often done in an event loop or higher abstractions as [green-threads][3] or [fibers][4]. In essence such servers can&#39;t really process anything *concurrently* (of course you can have multiple non-blocking threads), but they are able to serve thousands of clients in parallel because the memory consumption will not scale as drastically as with the multi-thread concept (read: there is no hard limit on max parallel clients). Also there is no thread context-switching. The downside is, that non-blocking code is often more complex to read and write (e.g. [callback-hell][5]) and doesn&#39;t prefrom well in situations where a request does a lot of cpu-expensive work. \r\n\r\n### Summary\r\n\r\n- (-) more complex code\r\n- (-) performance worse with cpu intensive tasks\r\n+ (+) uses resources much more efficiently as web server\r\n+ (+) many more parallel clients with no hard-limit (except max memory)\r\n\r\n\r\nMost modern &quot;fast&quot; web-servers and framework facilitate non-blocking concepts: Netty, Vert.x, Webflux, nginx, servlet 3.1+, Node, Go, and ASP.NET kestrel web servers.\r\n\r\nAs a side note, looking at this benchmark page you will see that most of the fastest web-servers are usually non-blocking ones: https://www.techempower.com/benchmarks/\r\n\r\n------\r\n\r\n### See also\r\n\r\n- https://stackoverflow.com/a/21155697/774398\r\n- https://www.quora.com/What-exactly-does-it-mean-for-a-web-server-to-be-blocking-versus-non-blocking\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=XiFkyR35v2Y\r\n  [2]: https://jameshfisher.com/2017/04/05/set_socket_nonblocking/\r\n  [3]: https://en.wikipedia.org/wiki/Green_threads\r\n  [4]: https://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\r\n  [5]: http://callbackhell.com/","title":"Spring WebFlux differences when Netty vs. Tomcat is used under the hood","body":"<p>Currently there are 2 basic concepts to handle parallel access to a web-server with various advantages and disadvantages:</p>\n<ol>\n<li><strong>Blocking</strong></li>\n<li><strong>Non-Blocking</strong></li>\n</ol>\n<h2>Blocking Web-Servers</h2>\n<p>The first concept of <em>blocking, multi-threaded</em> server has a finite set amount of threads in a pool. Every request will get assigned to specific thread and this thread will be assigned until the request has been fully served. This is basically the same as how a the checkout queues in a super market works, a customer at a time with possible parallel lines. In most circumstances a request in a web server will be cpu-idle for the majority of the time while processing the request. This is due the fact that it has to wait for I/O: read the socket, write to the db (which is also basically IO) and read the result and write to the socket. Additionally using/creating a bunch of threads is slow (context switching) and requires a lot of memory. Therefore this concept often does not use the hardware resources it has very efficiently and has a hard limit on how many clients can be served in parallel. This property is misused in so called starvation attacks, e.g. the <a href=\"https://www.youtube.com/watch?v=XiFkyR35v2Y\" rel=\"noreferrer\">slow loris</a>, an attack where usually a single client can DOS a big multi-threaded web-server with little effort.</p>\n<h3>Summary</h3>\n<ul>\n<li>(+) simpler code</li>\n</ul>\n<ul>\n<li>(-) hard limit of parallel clients</li>\n<li>(-) requires more memory</li>\n<li>(-) inefficient use of hardware for usual web-server work</li>\n<li>(-) easy to DOS</li>\n</ul>\n<p>Most &quot;conventional&quot; web server work that way, e.g. older tomcat, Apache Webserver, and everything <code>Servlet</code> older than 3 or 3.1 etc.</p>\n<h2>Non-Blocking Web-Servers</h2>\n<p>In contrast a non-blocking web-server can serve multiple clients with only a single thread. That is because it uses the <em><a href=\"https://jameshfisher.com/2017/04/05/set_socket_nonblocking/\" rel=\"noreferrer\">non-blocking kernel I/O features</a></em>. These are just kernel calls which immediately return and call back when something can be written or read, making the cpu free to do other work instead. Reusing our supermarket metaphor, this would be like, when a cashier needs his supervisor to solve a problem, he does not wait and block the whole lane, but starts to check out the next customer until the supervisor arrives and solves the problem of the first customer.</p>\n<p>This is often done in an event loop or higher abstractions as <a href=\"https://en.wikipedia.org/wiki/Green_threads\" rel=\"noreferrer\">green-threads</a> or <a href=\"https://cr.openjdk.java.net/%7Erpressler/loom/Loom-Proposal.html\" rel=\"noreferrer\">fibers</a>. In essence such servers can't really process anything <em>concurrently</em> (of course you can have multiple non-blocking threads), but they are able to serve thousands of clients in parallel because the memory consumption will not scale as drastically as with the multi-thread concept (read: there is no hard limit on max parallel clients). Also there is no thread context-switching. The downside is, that non-blocking code is often more complex to read and write (e.g. <a href=\"http://callbackhell.com/\" rel=\"noreferrer\">callback-hell</a>) and doesn't prefrom well in situations where a request does a lot of cpu-expensive work.</p>\n<h3>Summary</h3>\n<ul>\n<li>(-) more complex code</li>\n<li>(-) performance worse with cpu intensive tasks</li>\n</ul>\n<ul>\n<li>(+) uses resources much more efficiently as web server</li>\n<li>(+) many more parallel clients with no hard-limit (except max memory)</li>\n</ul>\n<p>Most modern &quot;fast&quot; web-servers and framework facilitate non-blocking concepts: Netty, Vert.x, Webflux, nginx, servlet 3.1+, Node, Go, and ASP.NET kestrel web servers.</p>\n<p>As a side note, looking at this benchmark page you will see that most of the fastest web-servers are usually non-blocking ones: <a href=\"https://www.techempower.com/benchmarks/\" rel=\"noreferrer\">https://www.techempower.com/benchmarks/</a></p>\n<hr />\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/21155697/774398\">https://stackoverflow.com/a/21155697/774398</a></li>\n<li><a href=\"https://www.quora.com/What-exactly-does-it-mean-for-a-web-server-to-be-blocking-versus-non-blocking\" rel=\"noreferrer\">https://www.quora.com/What-exactly-does-it-mean-for-a-web-server-to-be-blocking-versus-non-blocking</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561731592,"post_id":56808576,"comment_id":100171328,"body_markdown":"**work always happens on a server thread and it is always blocking** Do you mean container thread?","body":"<b>work always happens on a server thread and it is always blocking</b> Do you mean container thread?"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1561731851,"post_id":56808576,"comment_id":100171470,"body_markdown":"Yes, I meant the same.","body":"Yes, I meant the same."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561731899,"post_id":56808576,"comment_id":100171492,"body_markdown":"You are saying that &quot;one request/thread&quot; model isn&#39;t longer used sinceservlet 3.1. But what about servlet 3.0 ? Do you consider it as a &quot;one request/thread&quot; model ? I agree that NIO in servlet 3.1 is more thread ditributed for single request than 3.0 but 3.0 is not single thread per request too","body":"You are saying that &quot;one request/thread&quot; model isn&#39;t longer used sinceservlet 3.1. But what about servlet 3.0 ? Do you consider it as a &quot;one request/thread&quot; model ? I agree that NIO in servlet 3.1 is more thread ditributed for single request than 3.0 but 3.0 is not single thread per request too"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1561732163,"post_id":56808576,"comment_id":100171621,"body_markdown":"Tomcat supports Servlet 3.1 for quite some time now but most applications don&#39;t leverage that since using the Servlet non-blocking I/O API is challenging. I&#39;d say most Servlet apps are still &quot;one request/thread&quot; these days (unless they&#39;re using 3.0 async processing, which invalidates that, but is still blocking)","body":"Tomcat supports Servlet 3.1 for quite some time now but most applications don&#39;t leverage that since using the Servlet non-blocking I/O API is challenging. I&#39;d say most Servlet apps are still &quot;one request/thread&quot; these days (unless they&#39;re using 3.0 async processing, which invalidates that, but is still blocking)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561735134,"post_id":56808576,"comment_id":100173148,"body_markdown":"But from your point of view Is servlet 3.0  uses &quot;one request/thread&quot; model ? from my view  - not","body":"But from your point of view Is servlet 3.0  uses &quot;one request/thread&quot; model ? from my view  - not"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1561744480,"post_id":56808576,"comment_id":100176885,"body_markdown":"any thoughts about my question?","body":"any thoughts about my question?"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1561744615,"post_id":56808576,"comment_id":100176930,"body_markdown":"Already described that in my answer. It&#39;s more about &quot;is the application using Servlet 3.0 async processing?&quot; than &quot;is the application running on a Servlet 3.0+ container?&quot;. If async processing is being used, the &quot;one request per thread&quot; model does not apply anymore.","body":"Already described that in my answer. It&#39;s more about &quot;is the application using Servlet 3.0 async processing?&quot; than &quot;is the application running on a Servlet 3.0+ container?&quot;. If async processing is being used, the &quot;one request per thread&quot; model does not apply anymore."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1561744784,"post_id":56808576,"comment_id":100177003,"body_markdown":"Thanks it is clear now. Also I would be thankful if you share any example of spring &quot;hello world&quot; where servlet 3.1 is used(without webflux)","body":"Thanks it is clear now. Also I would be thankful if you share any example of spring &quot;hello world&quot; where servlet 3.1 is used(without webflux)"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":2,"creation_date":1561745301,"post_id":56808576,"comment_id":100177191,"body_markdown":"I don&#39;t have any example handy, but this presentation https://www.youtube.com/watch?v=uGXsnB2S_vc and our reactive adapter https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/server/reactive/ServletHttpHandlerAdapter.java should give you some ideas of the complexity involved.","body":"I don&#39;t have any example handy, but this presentation <a href=\"https://www.youtube.com/watch?v=uGXsnB2S_vc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=uGXsnB2S_vc</a> and our reactive adapter <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/server/reactive/ServletHttpHandlerAdapter.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/master/&hellip;</a> should give you some ideas of the complexity involved."}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":9,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1561732278,"creation_date":1561731372,"answer_id":56808576,"question_id":56794263,"body_markdown":"When using Servlet 2.5, Servlet containers will assign a request to a thread until that request has been fully processed.\r\n\r\nWhen using Servlet 3.0 async processing, the server can dispatch the request processing in a separate thread pool while the request is being processed by the application. However, when it comes to I/O, work always happens on a server thread and it is always blocking. This means that a &quot;slow client&quot; can monopolize a server thread, since the server is blocked while reading/writing to that client with a poor network connection.\r\n\r\nWith Servlet 3.1, async I/O is allowed and in that case the &quot;one request/thread&quot; model isn&#39;t anymore. At any point a bit request processing can be scheduled on a different thread managed by the server.\r\n\r\nServlet 3.1+ containers offer all those possibilities with the Servlet API. It&#39;s up to the application to leverage async processing, or non-blocking I/O. In the case of non-blocking I/O, the paradigm change is important and it&#39;s really challenging to use.\r\n\r\nWith Spring WebFlux - Tomcat, Jetty and Netty don&#39;t have the exact same runtime model, but they all support reactive backpressure and non-blocking I/O.","title":"Spring WebFlux differences when Netty vs. Tomcat is used under the hood","body":"<p>When using Servlet 2.5, Servlet containers will assign a request to a thread until that request has been fully processed.</p>\n\n<p>When using Servlet 3.0 async processing, the server can dispatch the request processing in a separate thread pool while the request is being processed by the application. However, when it comes to I/O, work always happens on a server thread and it is always blocking. This means that a \"slow client\" can monopolize a server thread, since the server is blocked while reading/writing to that client with a poor network connection.</p>\n\n<p>With Servlet 3.1, async I/O is allowed and in that case the \"one request/thread\" model isn't anymore. At any point a bit request processing can be scheduled on a different thread managed by the server.</p>\n\n<p>Servlet 3.1+ containers offer all those possibilities with the Servlet API. It's up to the application to leverage async processing, or non-blocking I/O. In the case of non-blocking I/O, the paradigm change is important and it's really challenging to use.</p>\n\n<p>With Spring WebFlux - Tomcat, Jetty and Netty don't have the exact same runtime model, but they all support reactive backpressure and non-blocking I/O.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38829,"favorite_count":0,"down_vote_count":2,"up_vote_count":39,"accepted_answer_id":56808576,"answer_count":2,"score":37,"last_activity_date":1678825764,"creation_date":1561648939,"question_id":56794263,"body_markdown":"I am learninig spring webflux and I&#39;ve read the following series of articles([first][1], [second][2], [third][3])\r\n\r\n\r\nIn the third Article I faced the following text:\r\n\r\n\r\n&gt; Remember the same application code runs on Tomcat, Jetty or Netty.\r\n&gt; Currently, the Tomcat and Jetty support is provided on top of Servlet\r\n&gt; 3.1 asynchronous processing, so **it is limited to one request per thread**. When the same code runs on the Netty server platform that\r\n&gt; constraint is lifted, and the server can dispatch requests\r\n&gt; sympathetically to the web client. As long as the client doesn’t\r\n&gt; block, everyone is happy. Performance metrics for the netty server and\r\n&gt; client probably show similar characteristics, but the Netty server is\r\n&gt; not restricted to processing a single request per thread, so it\r\n&gt; doesn’t use a large thread pool and we might expect to see some\r\n&gt; differences in resource utilization. We will come back to that later\r\n&gt; in another article in this series.\r\n\r\nFirst of all I don&#39;t see newer article in the series although it was written in 2016. It is clear for me that tomcat has 100 threads by default for handling requests and one thread handle one request in the same time but I don&#39;t understand phrase **it is limited to one request per thread** What does it mean?\r\n\r\nAlso I would like to know how Netty works for that concrete case(I want to understand difference with Tomcat). Can it handle 2 requests per thread?\r\n\r\n\r\n  [1]: https://spring.io/blog/2016/06/07/notes-on-reactive-programming-part-i-the-reactive-landscape\r\n  [2]: https://spring.io/blog/2016/06/13/notes-on-reactive-programming-part-ii-writing-some-code\r\n  [3]: https://spring.io/blog/2016/07/20/notes-on-reactive-programming-part-iii-a-simple-http-server-application","title":"Spring WebFlux differences when Netty vs. Tomcat is used under the hood","body":"<p>I am learninig spring webflux and I've read the following series of articles(<a href=\"https://spring.io/blog/2016/06/07/notes-on-reactive-programming-part-i-the-reactive-landscape\" rel=\"noreferrer\">first</a>, <a href=\"https://spring.io/blog/2016/06/13/notes-on-reactive-programming-part-ii-writing-some-code\" rel=\"noreferrer\">second</a>, <a href=\"https://spring.io/blog/2016/07/20/notes-on-reactive-programming-part-iii-a-simple-http-server-application\" rel=\"noreferrer\">third</a>)</p>\n\n<p>In the third Article I faced the following text:</p>\n\n<blockquote>\n  <p>Remember the same application code runs on Tomcat, Jetty or Netty.\n  Currently, the Tomcat and Jetty support is provided on top of Servlet\n  3.1 asynchronous processing, so <strong>it is limited to one request per thread</strong>. When the same code runs on the Netty server platform that\n  constraint is lifted, and the server can dispatch requests\n  sympathetically to the web client. As long as the client doesn’t\n  block, everyone is happy. Performance metrics for the netty server and\n  client probably show similar characteristics, but the Netty server is\n  not restricted to processing a single request per thread, so it\n  doesn’t use a large thread pool and we might expect to see some\n  differences in resource utilization. We will come back to that later\n  in another article in this series.</p>\n</blockquote>\n\n<p>First of all I don't see newer article in the series although it was written in 2016. It is clear for me that tomcat has 100 threads by default for handling requests and one thread handle one request in the same time but I don't understand phrase <strong>it is limited to one request per thread</strong> What does it mean?</p>\n\n<p>Also I would like to know how Netty works for that concrete case(I want to understand difference with Tomcat). Can it handle 2 requests per thread?</p>\n"},{"tags":["java","maven","pom.xml","artifactory"],"answers":[{"tags":[],"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615578389,"creation_date":1615578389,"answer_id":66606282,"question_id":66574844,"body_markdown":"Resolved by switching my maven build goals from `clean verify` to `clean install`. Apparently jfrog is smart enough to build and deploy the submodule dependency via the `maven-jar-plugin` (invoked via the `verify` lifecycle phase), but it needs to have run the `maven-install-plugin` (via `install` phase) to detect and deploy to artifactory the additional artifact, namely the pom.xml.","title":"POM not published for submodule","body":"<p>Resolved by switching my maven build goals from <code>clean verify</code> to <code>clean install</code>. Apparently jfrog is smart enough to build and deploy the submodule dependency via the <code>maven-jar-plugin</code> (invoked via the <code>verify</code> lifecycle phase), but it needs to have run the <code>maven-install-plugin</code> (via <code>install</code> phase) to detect and deploy to artifactory the additional artifact, namely the pom.xml.</p>\n"}],"owner":{"account_id":1658694,"reputation":1592,"user_id":1527469,"display_name":"awgtek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678825342,"creation_date":1615422586,"question_id":66574844,"body_markdown":"I noticed in my multi-module maven project that child modules&#39; pom files are not being deployed to Artifactory. This is causing errors in dependent projects, which depend on the dependency information in the POM of the child modules, leading to errors in the Jenkins build such as: `The POM for com.myorg.services:mydomain-model:jar:1.6.1-SNAPSHOT is missing, no dependency information available` with subsequent compilation errors since those transitive dependencies were not downloaded.\r\n\r\nMore info:\r\n\r\nThe dependent project, a Spring Boot app, contains the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mydomain-model&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMeanwhile the target project is structured as follows, with the parent POM being:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mydomain&lt;/artifactId&gt;\r\n        &lt;version&gt;1.14.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;mydomain&lt;/name&gt;\r\n        &lt;description&gt;mydomain&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.myorg&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;mydomain-model&lt;/module&gt;     \r\n        &lt;/modules&gt;\r\n        (...)\r\n    &lt;/project&gt;\r\n\r\nAnd the child POM:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n    \t    &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mydomain&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mydomain-model&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;mydomain-model&lt;/name&gt;\r\n        &lt;description&gt;My Domain Model&lt;/description&gt;\r\n        (...)\r\n    &lt;/project&gt;\r\n\r\nThese are the logs showing the deployment:\r\n\r\n    [pool-19-thread-2] INFO org.jfrog.build.extractor.maven.BuildInfoClientBuilder - [pool-19-thread-2] Deploying artifact: https://artifactory.mycompany.com/artifactory/libs-snapshot-local/com/myorg/services/mydomain-model/1.6.1-SNAPSHOT/mydomain-model-1.6.1-SNAPSHOT.jar\r\n    [pool-19-thread-1] INFO org.jfrog.build.extractor.maven.BuildInfoClientBuilder - [pool-19-thread-1] Deploying artifact: https://artifactory.mycompany.com/artifactory/libs-snapshot-local/com/myorg/services/mydomain/1.14.0-SNAPSHOT/mydomain-1.14.0-SNAPSHOT.pom\r\n    [main] INFO org.jfrog.build.extractor.maven.BuildDeploymentHelper - Artifactory Build Info Recorder: publish build info set to false, build info will not be published...\r\n\r\nThese are the logs showing the missing POM leading to compilation errors for the dependent project:\r\n\r\n    [main] INFO org.apache.maven.cli.transfer.Slf4jMavenTransferListener - Downloading: https://artifactory.mycompany.com/artifactory/libs-snapshot/com/myorg/services/mydomain-model/1.6.1-SNAPSHOT/mydomain-model-1.6.1-SNAPSHOT.pom\r\n    [main] WARN org.codehaus.plexus.PlexusContainer - The POM for com.myorg.services:mydomain-model:jar:1.6.1-SNAPSHOT is missing, no dependency information available\r\n\r\nI checked in artifactory, and a POM file only was available for the parent module but not the child module, which only supplied a single Jar file. I was hoping to have the POM of the child module deployed to artifactory to avoid these errors/warnings. Is is possible?\r\n\r\n\r\n","title":"POM not published for submodule","body":"<p>I noticed in my multi-module maven project that child modules' pom files are not being deployed to Artifactory. This is causing errors in dependent projects, which depend on the dependency information in the POM of the child modules, leading to errors in the Jenkins build such as: <code>The POM for com.myorg.services:mydomain-model:jar:1.6.1-SNAPSHOT is missing, no dependency information available</code> with subsequent compilation errors since those transitive dependencies were not downloaded.</p>\n<p>More info:</p>\n<p>The dependent project, a Spring Boot app, contains the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\n  &lt;artifactId&gt;mydomain-model&lt;/artifactId&gt;\n  &lt;version&gt;1.6.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Meanwhile the target project is structured as follows, with the parent POM being:</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\n    &lt;artifactId&gt;mydomain&lt;/artifactId&gt;\n    &lt;version&gt;1.14.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;mydomain&lt;/name&gt;\n    &lt;description&gt;mydomain&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.myorg&lt;/groupId&gt;\n        &lt;artifactId&gt;org-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;mydomain-model&lt;/module&gt;     \n    &lt;/modules&gt;\n    (...)\n&lt;/project&gt;\n</code></pre>\n<p>And the child POM:</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\n        &lt;artifactId&gt;mydomain&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.myorg.services&lt;/groupId&gt;\n    &lt;artifactId&gt;mydomain-model&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;mydomain-model&lt;/name&gt;\n    &lt;description&gt;My Domain Model&lt;/description&gt;\n    (...)\n&lt;/project&gt;\n</code></pre>\n<p>These are the logs showing the deployment:</p>\n<pre><code>[pool-19-thread-2] INFO org.jfrog.build.extractor.maven.BuildInfoClientBuilder - [pool-19-thread-2] Deploying artifact: https://artifactory.mycompany.com/artifactory/libs-snapshot-local/com/myorg/services/mydomain-model/1.6.1-SNAPSHOT/mydomain-model-1.6.1-SNAPSHOT.jar\n[pool-19-thread-1] INFO org.jfrog.build.extractor.maven.BuildInfoClientBuilder - [pool-19-thread-1] Deploying artifact: https://artifactory.mycompany.com/artifactory/libs-snapshot-local/com/myorg/services/mydomain/1.14.0-SNAPSHOT/mydomain-1.14.0-SNAPSHOT.pom\n[main] INFO org.jfrog.build.extractor.maven.BuildDeploymentHelper - Artifactory Build Info Recorder: publish build info set to false, build info will not be published...\n</code></pre>\n<p>These are the logs showing the missing POM leading to compilation errors for the dependent project:</p>\n<pre><code>[main] INFO org.apache.maven.cli.transfer.Slf4jMavenTransferListener - Downloading: https://artifactory.mycompany.com/artifactory/libs-snapshot/com/myorg/services/mydomain-model/1.6.1-SNAPSHOT/mydomain-model-1.6.1-SNAPSHOT.pom\n[main] WARN org.codehaus.plexus.PlexusContainer - The POM for com.myorg.services:mydomain-model:jar:1.6.1-SNAPSHOT is missing, no dependency information available\n</code></pre>\n<p>I checked in artifactory, and a POM file only was available for the parent module but not the child module, which only supplied a single Jar file. I was hoping to have the POM of the child module deployed to artifactory to avoid these errors/warnings. Is is possible?</p>\n"},{"tags":["java","scala","akka"],"comments":[{"owner":{"account_id":13659528,"reputation":21,"user_id":9855067,"display_name":"Alex Tsirikidze"},"score":0,"creation_date":1611666683,"post_id":65901134,"comment_id":116519405,"body_markdown":"&quot;org.iq80.leveldb&quot;            % &quot;leveldb&quot;          % &quot;0.7&quot;,\n  &quot;org.fusesource.leveldbjni&quot;   % &quot;leveldbjni-all&quot;   % &quot;1.8&quot;,","body":"&quot;org.iq80.leveldb&quot;            % &quot;leveldb&quot;          % &quot;0.7&quot;,   &quot;org.fusesource.leveldbjni&quot;   % &quot;leveldbjni-all&quot;   % &quot;1.8&quot;,"},{"owner":{"account_id":2736688,"reputation":8473,"user_id":2359227,"display_name":"Tomer Shetah"},"score":0,"creation_date":1611667117,"post_id":65901134,"comment_id":116519654,"body_markdown":"Can you add a code snippet?","body":"Can you add a code snippet?"},{"owner":{"account_id":13659528,"reputation":21,"user_id":9855067,"display_name":"Alex Tsirikidze"},"score":1,"creation_date":1611667820,"post_id":65901134,"comment_id":116519961,"body_markdown":"well i added in my question and thats it ive got only build , and this And also config file \nwere is written only this :\nakka.persistence.journal.plugin = &quot;akka.persistence.journal.leveldb&quot;\nakka.persistence.journal.leveldb.dir = &quot;target/rtjvm/journal&quot;","body":"well i added in my question and thats it ive got only build , and this And also config file  were is written only this : akka.persistence.journal.plugin = &quot;akka.persistence.journal.leveldb&quot; akka.persistence.journal.leveldb.dir = &quot;target/rtjvm/journal&quot;"},{"owner":{"account_id":13659528,"reputation":21,"user_id":9855067,"display_name":"Alex Tsirikidze"},"score":0,"creation_date":1611668082,"post_id":65901134,"comment_id":116520065,"body_markdown":"also im gonna add here same code exactly the same works for windows just fine","body":"also im gonna add here same code exactly the same works for windows just fine"}],"answers":[{"tags":[],"owner":{"account_id":28017843,"reputation":1,"user_id":21399265,"display_name":"Heysem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678825173,"creation_date":1678825173,"answer_id":75738001,"question_id":65901134,"body_markdown":"I was able to fix this by adding the following line in the config:\r\n\r\n    akka.persistence.journal.leveldb.native = false\r\n","title":"Hi i have wierd problem on mac Could not load library. Reasons: [no leveldbjni64-1.8 in java.library.path. akka project","body":"<p>I was able to fix this by adding the following line in the config:</p>\n<pre><code>akka.persistence.journal.leveldb.native = false\n</code></pre>\n"}],"owner":{"account_id":13659528,"reputation":21,"user_id":9855067,"display_name":"Alex Tsirikidze"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678825173,"creation_date":1611663013,"question_id":65901134,"body_markdown":"In my akka project while I&#39;m trying to build I am getting this error also I downloaded all libraries \r\n\r\n```\r\nUncaught error from thread [PersistentActors-akka.persistence.dispatchers.default-plugin-dispatcher-5]: Could not load library. Reasons: [no leveldbjni64-1.8 in java.library.path, no leveldbjni-1.8 in java.library.path, no leveldbjni in java.library.path, /private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8: dlopen(/private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8, 1): no suitable image found.  Did find:\r\n\t/private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8: no matching architecture in universal wrapper\r\n```\r\n\r\nCould you help me so on windows I fixed this problem by downloading Microsoft Visual C++ 2010 Redistributable Package but on mac I am out of ideas\r\n\r\nmy code \r\n\r\n        class SimplePersistentActor extends PersistentActor with ActorLogging {\r\n        override def persistenceId: String = &quot;simple-persistence&quot;\r\n    \r\n        override def receiveCommand: Receive = {\r\n          case message =&gt; log.info(s&quot;Received: $message&quot;)\r\n        }\r\n    \r\n        override def receiveRecover: Receive = {\r\n          case event =&gt; log.info(s&quot;Recovered: $event&quot;)\r\n        }\r\n      }\r\n    \r\n      val system = ActorSystem(&quot;Playground&quot;)\r\n      val simpleActor = system.actorOf(Props[SimplePersistentActor], &quot;simplePersistentActor&quot;)\r\n      simpleActor ! &quot;I love Akka!&quot;","title":"Hi i have wierd problem on mac Could not load library. Reasons: [no leveldbjni64-1.8 in java.library.path. akka project","body":"<p>In my akka project while I'm trying to build I am getting this error also I downloaded all libraries</p>\n<pre><code>Uncaught error from thread [PersistentActors-akka.persistence.dispatchers.default-plugin-dispatcher-5]: Could not load library. Reasons: [no leveldbjni64-1.8 in java.library.path, no leveldbjni-1.8 in java.library.path, no leveldbjni in java.library.path, /private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8: dlopen(/private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8, 1): no suitable image found.  Did find:\n    /private/var/folders/52/md0sb9l50k3b8rxw4sclh7kh0000gn/T/libleveldbjni-64-1-498021637280856383.8: no matching architecture in universal wrapper\n</code></pre>\n<p>Could you help me so on windows I fixed this problem by downloading Microsoft Visual C++ 2010 Redistributable Package but on mac I am out of ideas</p>\n<p>my code</p>\n<pre><code>    class SimplePersistentActor extends PersistentActor with ActorLogging {\n    override def persistenceId: String = &quot;simple-persistence&quot;\n\n    override def receiveCommand: Receive = {\n      case message =&gt; log.info(s&quot;Received: $message&quot;)\n    }\n\n    override def receiveRecover: Receive = {\n      case event =&gt; log.info(s&quot;Recovered: $event&quot;)\n    }\n  }\n\n  val system = ActorSystem(&quot;Playground&quot;)\n  val simpleActor = system.actorOf(Props[SimplePersistentActor], &quot;simplePersistentActor&quot;)\n  simpleActor ! &quot;I love Akka!&quot;\n</code></pre>\n"},{"tags":["java","android","wifi-direct","wifip2p"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":1,"creation_date":1678637507,"post_id":75712794,"comment_id":133568139,"body_markdown":"Did you declare all necessary permissions in your manifest and did you also request them using `requestPermissions`?","body":"Did you declare all necessary permissions in your manifest and did you also request them using <code>requestPermissions</code>?"},{"owner":{"account_id":23325202,"reputation":59,"user_id":17402478,"display_name":"MORAN"},"score":0,"creation_date":1678656043,"post_id":75712794,"comment_id":133571415,"body_markdown":"Yes, I did...☹️","body":"Yes, I did...☹️"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1678699598,"post_id":75712794,"comment_id":133577444,"body_markdown":"What does logcat say? Please show us all errors when clicking on the button. Please be aware there might be errors coming from the system and not tagged with your package name.","body":"What does logcat say? Please show us all errors when clicking on the button. Please be aware there might be errors coming from the system and not tagged with your package name."}],"owner":{"account_id":23325202,"reputation":59,"user_id":17402478,"display_name":"MORAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678825167,"creation_date":1678620438,"question_id":75712794,"body_markdown":"I&#39;m trying to create a Mancala game. I&#39;m doing a Wifi-Direct, but everytime I&#39;m clicking on REFRESH button, it goes to onFailure method.\r\nThe purpose of the refresh button is to discover new devices near me, but unrotuantely I can&#39;t find any devices because it&#39;s going to onFailure method.\r\n\r\nWhat can I do?\r\n      \r\n\r\n    public class wifiLoginScreen extends AppCompatActivity {\r\n    \r\n        private WifiP2pManager mWifiP2pManager;\r\n        private WifiP2pManager.Channel mWifiP2pChannel;\r\n        private BroadcastReceiver mReceiver;\r\n        private boolean mWifiDirectEnabled;\r\n        private List&lt;String&gt; mPeersList = new ArrayList&lt;&gt;();\r\n        private ArrayAdapter&lt;String&gt; mPeersAdapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_wifi_login_screen);\r\n    \r\n            // Initialize WifiP2pManager and WifiP2pManager.Channel objects\r\n            mWifiP2pManager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\r\n            mWifiP2pChannel = mWifiP2pManager.initialize(this, getMainLooper(), null);\r\n    \r\n            // Initialize the BroadcastReceiver to listen for Wi-Fi Direct events\r\n            mReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    String action = intent.getAction();\r\n    \r\n                    if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) {\r\n                        // Wi-Fi Direct state has changed\r\n                        int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1);\r\n                        mWifiDirectEnabled = (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED);\r\n                    } else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) {\r\n                        // The list of available peers has changed\r\n                        mWifiP2pManager.requestPeers(mWifiP2pChannel, new WifiP2pManager.PeerListListener() {\r\n                            @Override\r\n                            public void onPeersAvailable(WifiP2pDeviceList peers) {\r\n                                // Filter the list of available peers to only show the ones that have the same Wi-Fi network name as the device\r\n                                String ssid = getCurrentSsid(wifiLoginScreen.this);\r\n                                mPeersList.clear();\r\n                                for (WifiP2pDevice device : peers.getDeviceList()) {\r\n                                    if (device.deviceName.contains(ssid)) {\r\n                                        mPeersList.add(device.deviceName);\r\n                                    }\r\n                                }\r\n                                mPeersAdapter.notifyDataSetChanged();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n    \r\n            // Register the BroadcastReceiver to listen for Wi-Fi Direct events\r\n            IntentFilter intentFilter = new IntentFilter();\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\r\n            registerReceiver(mReceiver, intentFilter);\r\n    \r\n            // Initialize the list view to show the available peers\r\n            ListView peersListView = findViewById(R.id.peersListView);\r\n            mPeersAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, mPeersList);\r\n            peersListView.setAdapter(mPeersAdapter);\r\n            // Initialize the &quot;Refresh&quot; button to trigger a new search for available peers\r\n            Button refreshButton = findViewById(R.id.refreshButton);\r\n            refreshButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (mWifiDirectEnabled) {\r\n                        mWifiP2pManager.discoverPeers(mWifiP2pChannel, new WifiP2pManager.ActionListener() {\r\n                            @Override\r\n                            public void onSuccess() {\r\n                                // Discovery initiated successfully\r\n                                Toast.makeText(wifiLoginScreen.this, &quot;Searching for available devices...&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onFailure(int reason) {\r\n                                // Discovery failed to start\r\n                                Toast.makeText(wifiLoginScreen.this, &quot;Failed to start discovery&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    } else {\r\n                        Toast.makeText(wifiLoginScreen.this, &quot;Wi-Fi Direct is not enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            // Register the BroadcastReceiver to listen for Wi-Fi Direct events\r\n            IntentFilter intentFilter = new IntentFilter();\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\r\n            registerReceiver(mReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n    \r\n            // Unregister the BroadcastReceiver\r\n            unregisterReceiver(mReceiver);\r\n        }\r\n    \r\n        // Helper method to get the current Wi-Fi network name\r\n        public static String getCurrentSsid(Context context) {\r\n            WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n            WifiInfo wifiInfo = wifiManager.getConnectionInfo();\r\n            String ssid = wifiInfo.getSSID();\r\n            if (ssid.startsWith(&quot;\\&quot;&quot;) &amp;&amp; ssid.endsWith(&quot;\\&quot;&quot;)) {\r\n                ssid = ssid.substring(1, ssid.length() - 1);\r\n            }\r\n            return ssid;\r\n        }\r\n    \r\n    }","title":"Android - when I click on REFRESH button it always goes to onFailure","body":"<p>I'm trying to create a Mancala game. I'm doing a Wifi-Direct, but everytime I'm clicking on REFRESH button, it goes to onFailure method.\nThe purpose of the refresh button is to discover new devices near me, but unrotuantely I can't find any devices because it's going to onFailure method.</p>\n<p>What can I do?</p>\n<pre><code>public class wifiLoginScreen extends AppCompatActivity {\n\n    private WifiP2pManager mWifiP2pManager;\n    private WifiP2pManager.Channel mWifiP2pChannel;\n    private BroadcastReceiver mReceiver;\n    private boolean mWifiDirectEnabled;\n    private List&lt;String&gt; mPeersList = new ArrayList&lt;&gt;();\n    private ArrayAdapter&lt;String&gt; mPeersAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_wifi_login_screen);\n\n        // Initialize WifiP2pManager and WifiP2pManager.Channel objects\n        mWifiP2pManager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\n        mWifiP2pChannel = mWifiP2pManager.initialize(this, getMainLooper(), null);\n\n        // Initialize the BroadcastReceiver to listen for Wi-Fi Direct events\n        mReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                String action = intent.getAction();\n\n                if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) {\n                    // Wi-Fi Direct state has changed\n                    int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1);\n                    mWifiDirectEnabled = (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED);\n                } else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) {\n                    // The list of available peers has changed\n                    mWifiP2pManager.requestPeers(mWifiP2pChannel, new WifiP2pManager.PeerListListener() {\n                        @Override\n                        public void onPeersAvailable(WifiP2pDeviceList peers) {\n                            // Filter the list of available peers to only show the ones that have the same Wi-Fi network name as the device\n                            String ssid = getCurrentSsid(wifiLoginScreen.this);\n                            mPeersList.clear();\n                            for (WifiP2pDevice device : peers.getDeviceList()) {\n                                if (device.deviceName.contains(ssid)) {\n                                    mPeersList.add(device.deviceName);\n                                }\n                            }\n                            mPeersAdapter.notifyDataSetChanged();\n                        }\n                    });\n                }\n            }\n        };\n\n        // Register the BroadcastReceiver to listen for Wi-Fi Direct events\n        IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\n        registerReceiver(mReceiver, intentFilter);\n\n        // Initialize the list view to show the available peers\n        ListView peersListView = findViewById(R.id.peersListView);\n        mPeersAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, mPeersList);\n        peersListView.setAdapter(mPeersAdapter);\n        // Initialize the &quot;Refresh&quot; button to trigger a new search for available peers\n        Button refreshButton = findViewById(R.id.refreshButton);\n        refreshButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mWifiDirectEnabled) {\n                    mWifiP2pManager.discoverPeers(mWifiP2pChannel, new WifiP2pManager.ActionListener() {\n                        @Override\n                        public void onSuccess() {\n                            // Discovery initiated successfully\n                            Toast.makeText(wifiLoginScreen.this, &quot;Searching for available devices...&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onFailure(int reason) {\n                            // Discovery failed to start\n                            Toast.makeText(wifiLoginScreen.this, &quot;Failed to start discovery&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                } else {\n                    Toast.makeText(wifiLoginScreen.this, &quot;Wi-Fi Direct is not enabled&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        // Register the BroadcastReceiver to listen for Wi-Fi Direct events\n        IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\n        registerReceiver(mReceiver, intentFilter);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        // Unregister the BroadcastReceiver\n        unregisterReceiver(mReceiver);\n    }\n\n    // Helper method to get the current Wi-Fi network name\n    public static String getCurrentSsid(Context context) {\n        WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n        WifiInfo wifiInfo = wifiManager.getConnectionInfo();\n        String ssid = wifiInfo.getSSID();\n        if (ssid.startsWith(&quot;\\&quot;&quot;) &amp;&amp; ssid.endsWith(&quot;\\&quot;&quot;)) {\n            ssid = ssid.substring(1, ssid.length() - 1);\n        }\n        return ssid;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","networking","pcap","jnetpcap"],"comments":[{"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"score":0,"creation_date":1687514193,"post_id":75737958,"comment_id":134950796,"body_markdown":"Does this answer your question? [Issue capturing packets from pcap file using JNetPcap](https://stackoverflow.com/questions/75739324/issue-capturing-packets-from-pcap-file-using-jnetpcap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75739324/issue-capturing-packets-from-pcap-file-using-jnetpcap\">Issue capturing packets from pcap file using JNetPcap</a>"}],"owner":{"account_id":28017761,"reputation":31,"user_id":21399209,"display_name":"elnino17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678824859,"creation_date":1678824859,"question_id":75737958,"body_markdown":"I&#39;m using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn&#39;t capture any packets even though the pcap file is full of packets.\r\nHere&#39;s my code:\r\n\r\n```\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.PcapPacket;\r\nimport org.jnetpcap.PcapPacketHandler;\r\n\r\npublic class OfflinePcapCapture {\r\n    public static void main(String[] args) {\r\n        String pcapFilePath = &quot;path/to/pcap/file&quot;;\r\n        StringBuilder errorBuffer = new StringBuilder();\r\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\r\n        if (pcap == null) {\r\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer.toString());\r\n            return;\r\n        }\r\n\r\n        // Setting filter to capture only TCP packets\r\n        String filter = &quot;tcp&quot;;\r\n        if (pcap.setFilter(filter, Pcap.MODE_FILTER) != Pcap.OK) {\r\n            System.err.println(&quot;Error setting filter expression: &quot; + pcap.getErr());\r\n            pcap.close();\r\n            return;\r\n        }\r\n\r\n        PcapPacketHandler&lt;String&gt; packetHandler = new PcapPacketHandler&lt;String&gt;() {\r\n            public void nextPacket(PcapPacket packet, String user) {\r\n                System.out.println(packet.toString());\r\n            }\r\n        };\r\n\r\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\r\n        if (packetCount &lt; 0) {\r\n            System.err.println(&quot;Error capturing packets: &quot; + Pcap.getErr(pcap));\r\n        } else {\r\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\r\n        }\r\n\r\n        pcap.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried removing the filter expression to capture all packets in the file, but that didn&#39;t change anything. Sometimes the code captures packets from the file, and other times it doesn&#39;t capture any packets even though the file is full of packets.\r\n\r\nOne thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.\r\n\r\nAny help on resolving this issue would be greatly appreciated. Thank you in advance!","title":"JnetPcap pcap.loop issues","body":"<p>I'm using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn't capture any packets even though the pcap file is full of packets.\nHere's my code:</p>\n<pre><code>import org.jnetpcap.Pcap;\nimport org.jnetpcap.PcapPacket;\nimport org.jnetpcap.PcapPacketHandler;\n\npublic class OfflinePcapCapture {\n    public static void main(String[] args) {\n        String pcapFilePath = &quot;path/to/pcap/file&quot;;\n        StringBuilder errorBuffer = new StringBuilder();\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\n        if (pcap == null) {\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer.toString());\n            return;\n        }\n\n        // Setting filter to capture only TCP packets\n        String filter = &quot;tcp&quot;;\n        if (pcap.setFilter(filter, Pcap.MODE_FILTER) != Pcap.OK) {\n            System.err.println(&quot;Error setting filter expression: &quot; + pcap.getErr());\n            pcap.close();\n            return;\n        }\n\n        PcapPacketHandler&lt;String&gt; packetHandler = new PcapPacketHandler&lt;String&gt;() {\n            public void nextPacket(PcapPacket packet, String user) {\n                System.out.println(packet.toString());\n            }\n        };\n\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\n        if (packetCount &lt; 0) {\n            System.err.println(&quot;Error capturing packets: &quot; + Pcap.getErr(pcap));\n        } else {\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\n        }\n\n        pcap.close();\n    }\n}\n\n</code></pre>\n<p>I've tried removing the filter expression to capture all packets in the file, but that didn't change anything. Sometimes the code captures packets from the file, and other times it doesn't capture any packets even though the file is full of packets.</p>\n<p>One thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.</p>\n<p>Any help on resolving this issue would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1320404556,"creation_date":1320404556,"answer_id":8008263,"question_id":8007995,"body_markdown":"&gt; How to identify a broken socket connection in Java immediately?\r\n\r\nYou can&#39;t detect it immediately, in Java or any other language. TCP/IP doesn&#39;t know, so Java can&#39;t know. The only sure way to detect a broken TCP connection is by writing to it and catching IOExceptions, and they won&#39;t happen immediately.","title":"How to identify a broken socket connection in Java immediately?","body":"<blockquote>\n  <p>How to identify a broken socket connection in Java immediately?</p>\n</blockquote>\n\n<p>You can't detect it immediately, in Java or any other language. TCP/IP doesn't know, so Java can't know. The only sure way to detect a broken TCP connection is by writing to it and catching IOExceptions, and they won't happen immediately.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1320404820,"post_id":8008273,"comment_id":9799042,"body_markdown":"A read timeout doesn&#39;t prove the connection is broken: it could also mean the server is very slow in responding.","body":"A read timeout doesn&#39;t prove the connection is broken: it could also mean the server is very slow in responding."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1320405145,"post_id":8008273,"comment_id":9799124,"body_markdown":"It proves there has been a failure to respond in the time expected.  I agree that why this has happened, and what you do about it is another thing.","body":"It proves there has been a failure to respond in the time expected.  I agree that why this has happened, and what you do about it is another thing."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320405370,"creation_date":1320404609,"answer_id":8008273,"question_id":8007995,"body_markdown":"The best way to identity the connection is down is to timeout the connection. i.e. you expect a response in a given amount of time and flag if that response does not come as you expect.\r\n\r\nWhen you have a graceful disconnection (.e.g the other end calls close()) the read on the connection will let you know once the buffer has been drained.\r\n\r\nHowever, if there some other type of failure, you might not be notified until the OS times out the connection (e.g. after 3 minutes) and indeed, you may want to keep the connection. e.g. if you pull the network cable out for 10 seconds and put it back in, that doesn&#39;t need to be a failure.\r\n\r\nEDIT: I don&#39;t believe its a good idea to be too aggressive in automatically handling connection/service &quot;failures&quot;. This is usually better handled by a planned fix to the system, based on investigation of the true cause. e.g. increased bandwidth, redundant connectivity, faster servers, code fixes.\r\n","title":"How to identify a broken socket connection in Java immediately?","body":"<p>The best way to identity the connection is down is to timeout the connection. i.e. you expect a response in a given amount of time and flag if that response does not come as you expect.</p>\n\n<p>When you have a graceful disconnection (.e.g the other end calls close()) the read on the connection will let you know once the buffer has been drained.</p>\n\n<p>However, if there some other type of failure, you might not be notified until the OS times out the connection (e.g. after 3 minutes) and indeed, you may want to keep the connection. e.g. if you pull the network cable out for 10 seconds and put it back in, that doesn't need to be a failure.</p>\n\n<p>EDIT: I don't believe its a good idea to be too aggressive in automatically handling connection/service \"failures\". This is usually better handled by a planned fix to the system, based on investigation of the true cause. e.g. increased bandwidth, redundant connectivity, faster servers, code fixes.</p>\n"},{"comments":[{"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"score":1,"creation_date":1320424847,"post_id":8010515,"comment_id":9805130,"body_markdown":"The asynchronous read does not actually read from the stream until it gets the required amount of bytes in the stream or the timeout is reached. If the socket connection is broken, you wont get any exception and it will just wait untill the timeout reaches.","body":"The asynchronous read does not actually read from the stream until it gets the required amount of bytes in the stream or the timeout is reached. If the socket connection is broken, you wont get any exception and it will just wait untill the timeout reaches."},{"owner":{"account_id":1009547,"reputation":697,"user_id":1022435,"display_name":"Andrey Nudko"},"score":0,"creation_date":1320591970,"post_id":8010515,"comment_id":9827096,"body_markdown":"So in your async reader you&#39;re calling `available()`, if there is not enough data wait with timeout, and once they are ready you do a bulk `read(byte[])`? Well, you may read byte-by-byte into temporary buffer, and have another watchdog thread that will close socket on your end after some inactivity period. With NIO you can just interrupt reading thread and get `ClosedByInterruptException`.","body":"So in your async reader you&#39;re calling <code>available()</code>, if there is not enough data wait with timeout, and once they are ready you do a bulk <code>read(byte[])</code>? Well, you may read byte-by-byte into temporary buffer, and have another watchdog thread that will close socket on your end after some inactivity period. With NIO you can just interrupt reading thread and get <code>ClosedByInterruptException</code>."},{"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"score":0,"creation_date":1320592463,"post_id":8010515,"comment_id":9827168,"body_markdown":"Yes, You are right. We do a bulk read only when required number of bytes are available by making a available () call. Problem with reading byte by byte is it is very inefficient specially when data expected is large.","body":"Yes, You are right. We do a bulk read only when required number of bytes are available by making a available () call. Problem with reading byte by byte is it is very inefficient specially when data expected is large."},{"owner":{"account_id":1009547,"reputation":697,"user_id":1022435,"display_name":"Andrey Nudko"},"score":1,"creation_date":1320847305,"post_id":8010515,"comment_id":9881803,"body_markdown":"OK, I see. The thing is - you don&#39;t need to call `availabale()` to implement read with timeout. What you may do is to use `SocketChannel` with SO_TIMEOUT option configured. Then you do a blocking read into `ByteBuffer`, and that will have one of possible outcomes (see later).","body":"OK, I see. The thing is - you don&#39;t need to call <code>availabale()</code> to implement read with timeout. What you may do is to use <code>SocketChannel</code> with SO_TIMEOUT option configured. Then you do a blocking read into <code>ByteBuffer</code>, and that will have one of possible outcomes (see later)."},{"owner":{"account_id":1009547,"reputation":697,"user_id":1022435,"display_name":"Andrey Nudko"},"score":1,"creation_date":1320847408,"post_id":8010515,"comment_id":9881837,"body_markdown":"a) buffer is completely filled, connection is still alive - `read()` returns number of bytes recieved (&gt;0); b) buffer is filled (completely or partially), connection is closed gracefully - `read()` returns -1, but you can track if anything was recieved from `ByteBuffer` limit before and after `read()`; c) timeout expired, buffer is [probably] partially filled - `SocketTimeoutException`, but again you can figure out if anything was read; d) connection broken abnormally - some other `IOException`. That&#39;s not the best way to use NIO, but close to what you have already.","body":"a) buffer is completely filled, connection is still alive - <code>read()</code> returns number of bytes recieved (&gt;0); b) buffer is filled (completely or partially), connection is closed gracefully - <code>read()</code> returns -1, but you can track if anything was recieved from <code>ByteBuffer</code> limit before and after <code>read()</code>; c) timeout expired, buffer is [probably] partially filled - <code>SocketTimeoutException</code>, but again you can figure out if anything was read; d) connection broken abnormally - some other <code>IOException</code>. That&#39;s not the best way to use NIO, but close to what you have already."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1421869358,"post_id":8010515,"comment_id":44530063,"body_markdown":"Completely incorrect. Unless the network failure provokes an RST, or there is a read timeout in effect, a read can block forever after w network failure. You have to *write* to detect a TCP failure. And -1 is not received &#39;as the next byte&#39;: it is received **instead of* the next byte.","body":"Completely incorrect. Unless the network failure provokes an RST, or there is a read timeout in effect, a read can block forever after w network failure. You have to <i>write</i> to detect a TCP failure. And -1 is not received &#39;as the next byte&#39;: it is received <i>*instead of</i> the next byte."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1421902205,"post_id":8010515,"comment_id":44541457,"body_markdown":"Your comment starting (a) is also completely incorrect. (a) buffer is completely filled: `read()` returns a count &gt; 0, but the connection may have been closed after sending that data; (b) buffer is completely or partially filled but connection has been closed gracefully: same as (a), `read()` returns a count &gt; 0; (c) timeout expired can *only* mean * that *no* data was received; (d) connection broken abnormally: an IOExcepton &#39;connection reset&#39; * if and only if* you gave written enough pending data to provoke an incoming RST, otherwise a `SocketTimeoutException,` and again no data.","body":"Your comment starting (a) is also completely incorrect. (a) buffer is completely filled: <code>read()</code> returns a count &gt; 0, but the connection may have been closed after sending that data; (b) buffer is completely or partially filled but connection has been closed gracefully: same as (a), <code>read()</code> returns a count &gt; 0; (c) timeout expired can <i>only</i> mean * that <i>no</i> data was received; (d) connection broken abnormally: an IOExcepton &#39;connection reset&#39; * if and only if* you gave written enough pending data to provoke an incoming RST, otherwise a <code>SocketTimeoutException,</code> and again no data."}],"tags":[],"owner":{"account_id":1009547,"reputation":697,"user_id":1022435,"display_name":"Andrey Nudko"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1320415999,"creation_date":1320415999,"answer_id":8010515,"question_id":8007995,"body_markdown":"If connection is broken abnormally, you will receieve `IOException` when reading; that normally happens quite fast, but there is no guarantees about time - all depends on the OS, network hardware, etc. If remote end gracefully closes the socket, you&#39;ll read `-1` as next byte.","title":"How to identify a broken socket connection in Java immediately?","body":"<p>If connection is broken abnormally, you will receieve <code>IOException</code> when reading; that normally happens quite fast, but there is no guarantees about time - all depends on the OS, network hardware, etc. If remote end gracefully closes the socket, you'll read <code>-1</code> as next byte.</p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514973210,"creation_date":1514973210,"answer_id":48074958,"question_id":8007995,"body_markdown":"Assuming everything else works, if the remote peer - the TCP server - was killed then the TCP client will normally receive a TCP RST (reset) and you&#39;ll get an `IOException` in your client application. \r\n\r\nHowever, there are lots of other things that can go wrong besides a process being killed. Basically anything on the network path *between* the two processes:  a cable is yanked, a router dies, a firewall dies, etc. All of this will not immediately be detected.\r\n\r\nFor the above reasons the general rule is - as pointed out in the answer from EJP - that a broken connection *can only be detected by writing to it*. This is why it is always recommended that a TCP client and TCP server exchange some type of heartbeat messages at regular intervals. There are different ways to do this. I like best the method where the TCP client will - in the absence of data being received from the TCP server - send a heartbeat message to the server and expect a reply back within a certain time period. This way heartbeat messages will only be sent when really needed. \r\n\r\nA sub-optimal approach - if you cannot implement true heartbeating - is to always read with a timeout. Set the [timeout on the socket][1] and then catch `java.net.SocketTimeoutException`. This will allow you to know that no data has been received on socket during x milliseconds.\r\n\r\nIt should be mentioned that there&#39;s one scenario where you don&#39;t have to use heartbeating, nor using the socket timeout:   if the TCP client and the TCP server communicate over a loopback interface then a broken connection will always be propagated to both the TCP client application and the TCP server application. This is because, in this case, there&#39;s really no network infrastructure between the two processes. So if you have an existing application which isn&#39;t well-designed with respect to its TCP communication (i.e. it doesn&#39;t implement some form of heartbeating or at least reading with a timeout), then as a last resort you may &#39;fix&#39; the problem by moving the two application onto the same host and let them communicate over the loopback interface.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setSoTimeout-int-","title":"How to identify a broken socket connection in Java immediately?","body":"<p>Assuming everything else works, if the remote peer - the TCP server - was killed then the TCP client will normally receive a TCP RST (reset) and you'll get an <code>IOException</code> in your client application. </p>\n\n<p>However, there are lots of other things that can go wrong besides a process being killed. Basically anything on the network path <em>between</em> the two processes:  a cable is yanked, a router dies, a firewall dies, etc. All of this will not immediately be detected.</p>\n\n<p>For the above reasons the general rule is - as pointed out in the answer from EJP - that a broken connection <em>can only be detected by writing to it</em>. This is why it is always recommended that a TCP client and TCP server exchange some type of heartbeat messages at regular intervals. There are different ways to do this. I like best the method where the TCP client will - in the absence of data being received from the TCP server - send a heartbeat message to the server and expect a reply back within a certain time period. This way heartbeat messages will only be sent when really needed. </p>\n\n<p>A sub-optimal approach - if you cannot implement true heartbeating - is to always read with a timeout. Set the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setSoTimeout-int-\" rel=\"nofollow noreferrer\">timeout on the socket</a> and then catch <code>java.net.SocketTimeoutException</code>. This will allow you to know that no data has been received on socket during x milliseconds.</p>\n\n<p>It should be mentioned that there's one scenario where you don't have to use heartbeating, nor using the socket timeout:   if the TCP client and the TCP server communicate over a loopback interface then a broken connection will always be propagated to both the TCP client application and the TCP server application. This is because, in this case, there's really no network infrastructure between the two processes. So if you have an existing application which isn't well-designed with respect to its TCP communication (i.e. it doesn't implement some form of heartbeating or at least reading with a timeout), then as a last resort you may 'fix' the problem by moving the two application onto the same host and let them communicate over the loopback interface.</p>\n"},{"tags":[],"owner":{"account_id":19442007,"reputation":36,"user_id":14220227,"display_name":"Tejumola Mann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678824110,"creation_date":1678824110,"answer_id":75737864,"question_id":8007995,"body_markdown":"This might help someone today.\r\nAs stated above, there is no way to detect a break in a socket&#39;s network connection except you try to write to or read from it. The code below will run forever even if you physically disrupt the connection, by unplugging the ethernet cable or turning off the WiFi.\r\n\r\n```\r\npackage SocketConnected;\r\n\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n *\r\n * @author tejum\r\n */\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\r\n            \r\n            while(!socket.isClosed()){\r\n                if(!socket.isConnected()){\r\n                    System.out.println(&quot;No longer connected...&quot;);\r\n                    \r\n                    break;\r\n                }\r\n                \r\n                System.out.println(&quot;Still connected...&quot;);\r\n                \r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nThe socket variable does not get updated that way. The code below will throw an IOException if the connection is severed during the repeated read operation.\r\n\r\n```\r\npackage SocketConnected;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.Socket;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n *\r\n * @author tejum\r\n */\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        boolean connected;\r\n        \r\n        try {\r\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\r\n            \r\n            connected = true;\r\n            \r\n            OutputStream output = socket.getOutputStream();\r\n            \r\n            while(connected){\r\n                \r\n                output.write(0);\r\n                \r\n                System.out.println(&quot;Still connected...&quot;);\r\n                \r\n                \r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nThe code above will continue forever until there is a break in the connection and when this happens the write method of the OutputStream will throw an exception. Therefore, a heartbeat and a connection timeout are sure ways of detecting connection breaks. A heartbeat, is just a way to know both connection parties are alive and well, is just asking the server &quot;are you alive&quot; and then getting the response from the server on that question in a timely manner means all is well with the server.","title":"How to identify a broken socket connection in Java immediately?","body":"<p>This might help someone today.\nAs stated above, there is no way to detect a break in a socket's network connection except you try to write to or read from it. The code below will run forever even if you physically disrupt the connection, by unplugging the ethernet cable or turning off the WiFi.</p>\n<pre><code>package SocketConnected;\n\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author tejum\n */\npublic class Test {\n    public static void main(String[] args){\n        try {\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\n            \n            while(!socket.isClosed()){\n                if(!socket.isConnected()){\n                    System.out.println(&quot;No longer connected...&quot;);\n                    \n                    break;\n                }\n                \n                System.out.println(&quot;Still connected...&quot;);\n                \n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>The socket variable does not get updated that way. The code below will throw an IOException if the connection is severed during the repeated read operation.</p>\n<pre><code>package SocketConnected;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.Socket;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author tejum\n */\npublic class Test {\n    public static void main(String[] args){\n        boolean connected;\n        \n        try {\n            Socket socket = new Socket(&quot;192.168.2.200&quot;, 1234);\n            \n            connected = true;\n            \n            OutputStream output = socket.getOutputStream();\n            \n            while(connected){\n                \n                output.write(0);\n                \n                System.out.println(&quot;Still connected...&quot;);\n                \n                \n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>The code above will continue forever until there is a break in the connection and when this happens the write method of the OutputStream will throw an exception. Therefore, a heartbeat and a connection timeout are sure ways of detecting connection breaks. A heartbeat, is just a way to know both connection parties are alive and well, is just asking the server &quot;are you alive&quot; and then getting the response from the server on that question in a timely manner means all is well with the server.</p>\n"}],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7898,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1678824110,"creation_date":1320403055,"question_id":8007995,"body_markdown":"I have a typical java client and a server. The client sends some request to the server and waits for the response. The client reads up to say 100 bytes of data from the contained input stream into an array of bytes. It waits for the complete response of 100 bytes to be read within a specified timeout period of say 3 secs. The problem here is to identify if the server went down or crashed while/before writing the response. Basically, we need to identify if the socket was broken or the peer disconnected for some reason. Is there a way to identify this?","title":"How to identify a broken socket connection in Java immediately?","body":"<p>I have a typical java client and a server. The client sends some request to the server and waits for the response. The client reads up to say 100 bytes of data from the contained input stream into an array of bytes. It waits for the complete response of 100 bytes to be read within a specified timeout period of say 3 secs. The problem here is to identify if the server went down or crashed while/before writing the response. Basically, we need to identify if the socket was broken or the peer disconnected for some reason. Is there a way to identify this?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678822247,"creation_date":1678822247,"answer_id":75737594,"question_id":75737556,"body_markdown":"Both arguments to `Collectors.toMap` must be Functions (which are passed an element of the Stream), even if their parameter is unused.\r\n\r\n```java\r\nCollectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\r\n                 e -&gt; CustomTagType.SCAN_TAG)\r\n```","title":"How to convert Map&lt;String, String&gt; to Map&lt;MyClass, MyOtherClass&gt;?","body":"<p>Both arguments to <code>Collectors.toMap</code> must be Functions (which are passed an element of the Stream), even if their parameter is unused.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\n                 e -&gt; CustomTagType.SCAN_TAG)\n</code></pre>\n"}],"owner":{"account_id":6856568,"reputation":147,"user_id":5271958,"display_name":"Nimrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75737594,"answer_count":1,"score":0,"last_activity_date":1678823141,"creation_date":1678821956,"question_id":75737556,"body_markdown":"I have a simple  `Map&lt;String, String&gt;`  scanMap and I want to collect and covert it to a map of type of `Map&lt;CustomTag, CustomTagType&gt;`.\r\n\r\nCustomTag has 2 fields properties - key &amp; value and I want to inject the original map key &amp; value into it. the 2nd CustomTagType is an enum.\r\nI want to do something like this:\r\n\r\n    Map&lt;String, String&gt; scanMap = new HashMap&lt;&gt;();\r\n    scanMap.entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\r\n                            CustomTagType.SCAN_TAG);\r\nbut the `e.getKey()` &amp; `e.getValue()` get &#39;cannot resolve method&#39; errors.\r\nWhat am I missing here?\r\n","title":"How to convert Map&lt;String, String&gt; to Map&lt;MyClass, MyOtherClass&gt;?","body":"<p>I have a simple  <code>Map&lt;String, String&gt;</code>  scanMap and I want to collect and covert it to a map of type of <code>Map&lt;CustomTag, CustomTagType&gt;</code>.</p>\n<p>CustomTag has 2 fields properties - key &amp; value and I want to inject the original map key &amp; value into it. the 2nd CustomTagType is an enum.\nI want to do something like this:</p>\n<pre><code>Map&lt;String, String&gt; scanMap = new HashMap&lt;&gt;();\nscanMap.entrySet()\n        .stream()\n        .collect(Collectors.toMap(e -&gt; CustomTag.builder().key(e.getKey()).value(e.getValue()).build(),\n                        CustomTagType.SCAN_TAG);\n</code></pre>\n<p>but the <code>e.getKey()</code> &amp; <code>e.getValue()</code> get 'cannot resolve method' errors.\nWhat am I missing here?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"score":0,"creation_date":1564047785,"post_id":57182063,"comment_id":100905989,"body_markdown":"FYI: The get() function you refer to is from https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html. This javadoc also list other functions such as all() as mentioned in Val Bonn&#39;s answer.","body":"FYI: The get() function you refer to is from <a href=\"https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html\" rel=\"nofollow noreferrer\">kafka.apache.org/23/javadoc/org/apache/kafka/streams/state/&hellip;</a>&zwnj;&#8203;. This javadoc also list other functions such as all() as mentioned in Val Bonn&#39;s answer."}],"answers":[{"comments":[{"owner":{"account_id":16378348,"reputation":21,"user_id":11829973,"display_name":"seeker.srt"},"score":0,"creation_date":1564033490,"post_id":57183046,"comment_id":100898731,"body_markdown":"In that case, I have to iterate all records to fetch that matches &quot;USA&quot;. It will degrade my performance. I need a fast solution O(1) just like get(String key) function.","body":"In that case, I have to iterate all records to fetch that matches &quot;USA&quot;. It will degrade my performance. I need a fast solution O(1) just like get(String key) function."},{"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"score":0,"creation_date":1564040354,"post_id":57183046,"comment_id":100901828,"body_markdown":"I agree, but there is no way to lookup based on the values directly in KStreams at the moment.","body":"I agree, but there is no way to lookup based on the values directly in KStreams at the moment."}],"tags":[],"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563971538,"creation_date":1563971538,"answer_id":57183046,"question_id":57182063,"body_markdown":"You can use `filter` operation to make key or value based lookups\r\n\r\n\r\n    customerKTable.filter((key, value) -&gt; value.get(&quot;country&quot;) != &quot;USA&quot;)\r\n\r\n  ","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>You can use <code>filter</code> operation to make key or value based lookups</p>\n\n<pre><code>customerKTable.filter((key, value) -&gt; value.get(\"country\") != \"USA\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564037709,"creation_date":1564037709,"answer_id":57195978,"question_id":57182063,"body_markdown":"Your `customerStateStore` is a key-value store and as you stated, you can only query based on keys.\r\n\r\nOne proposal would be to work on the IN flow, in order to use the value (or part of the value) as a key in the store. You can do that with the `map()` method. The idea could be to achieve something like: \r\n\r\n    Original IN msg: key1 - value1\r\n    \r\n    Would generate 2 entries in the store:\r\n        key1 - value1\r\n        value1 - key1 (or whatever depending on your usecase)\r\nDoing this, you will be able to query the store on the `value1`, because it is a key. (Be careful if in the IN topic you have the same value for different keys.)\r\n\r\nOr, as an alternative to @NishuTayal&#39;s suggestion, you can loop on all the entries *of the store* and evaluate the values, with the method `all()`: https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--\r\n\r\nObviously this will degrade the performance, but depending on the size of your (in memory) store and your usecase (get all the entries for a given value? only one entry? ...), it might not add too much delay to the processing.  \r\n\r\nBut you have to be careful with the partitioning of your input topic: one given value may then be present in several partitions of your topic, and then be present in different instances of your KS app.","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>Your <code>customerStateStore</code> is a key-value store and as you stated, you can only query based on keys.</p>\n\n<p>One proposal would be to work on the IN flow, in order to use the value (or part of the value) as a key in the store. You can do that with the <code>map()</code> method. The idea could be to achieve something like: </p>\n\n<pre><code>Original IN msg: key1 - value1\n\nWould generate 2 entries in the store:\n    key1 - value1\n    value1 - key1 (or whatever depending on your usecase)\n</code></pre>\n\n<p>Doing this, you will be able to query the store on the <code>value1</code>, because it is a key. (Be careful if in the IN topic you have the same value for different keys.)</p>\n\n<p>Or, as an alternative to @NishuTayal's suggestion, you can loop on all the entries <em>of the store</em> and evaluate the values, with the method <code>all()</code>: <a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--\" rel=\"nofollow noreferrer\">https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#all--</a></p>\n\n<p>Obviously this will degrade the performance, but depending on the size of your (in memory) store and your usecase (get all the entries for a given value? only one entry? ...), it might not add too much delay to the processing.  </p>\n\n<p>But you have to be careful with the partitioning of your input topic: one given value may then be present in several partitions of your topic, and then be present in different instances of your KS app.</p>\n"}],"owner":{"account_id":16378348,"reputation":21,"user_id":11829973,"display_name":"seeker.srt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678823087,"creation_date":1563968395,"question_id":57182063,"body_markdown":"I am doing a poc on kafka streams and ktables.I was wondering if there is any way to store data(key-value pair or key-object pair) in Kafka, either through streams, ktables, state-stores, so that i can retrieve data bases on both keys and values.\r\nI created a kstream based on topic, on which i pushed some messages and using wordcountalgo, i populated values in ktable created above kstream. Something like this:\r\n\r\n```\r\nStoreBuilder customerStateStore = Stores.keyValueStoreBuilder(Stores.persistentKeyValueStore(&quot;customer-store&quot;),Serdes.String(), customerSerde)\r\n                .withLoggingEnabled(new HashMap&lt;&gt;());\r\nstreamsBuilder.stream(&quot;customer&quot;, Consumed.with(Serdes.String(), customerSerde)).to(&quot;customer-to-ktable-topic&quot;,Produced.with(Serdes.String(), customerSerde));\r\nKTable&lt;String, Customer&gt; customerKTable = streamsBuilder.table(&quot;customer-to-ktable-topic&quot;, Consumed.with(Serdes.String(), customerSerde),Materialized.as(customerStateStore.name()));\r\n```\r\nI am not able to fetch records based on values.\r\n\r\nhttps://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html\r\nOnly get(String key) function is available in the documentation of kafka doc. However, I am exploring to see if this can be achieved some other way?","title":"Is there any function in Kafka table(Ktable) to retrieve keys based on values? or Is there any way to retrieve data based on both keys and values","body":"<p>I am doing a poc on kafka streams and ktables.I was wondering if there is any way to store data(key-value pair or key-object pair) in Kafka, either through streams, ktables, state-stores, so that i can retrieve data bases on both keys and values.\nI created a kstream based on topic, on which i pushed some messages and using wordcountalgo, i populated values in ktable created above kstream. Something like this:</p>\n\n<pre><code>StoreBuilder customerStateStore = Stores.keyValueStoreBuilder(Stores.persistentKeyValueStore(\"customer-store\"),Serdes.String(), customerSerde)\n                .withLoggingEnabled(new HashMap&lt;&gt;());\nstreamsBuilder.stream(\"customer\", Consumed.with(Serdes.String(), customerSerde)).to(\"customer-to-ktable-topic\",Produced.with(Serdes.String(), customerSerde));\nKTable&lt;String, Customer&gt; customerKTable = streamsBuilder.table(\"customer-to-ktable-topic\", Consumed.with(Serdes.String(), customerSerde),Materialized.as(customerStateStore.name()));\n</code></pre>\n\n<p>I am not able to fetch records based on values.</p>\n\n<p><a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/10/javadoc/org/apache/kafka/streams/kstream/KTable.html</a>\nOnly get(String key) function is available in the documentation of kafka doc. However, I am exploring to see if this can be achieved some other way?</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678788603,"creation_date":1678788603,"answer_id":75731684,"question_id":75730262,"body_markdown":"See same as method miss parameter 3rd is data input\r\n\r\n**fillReport(compileReport,parameters)**\r\n\r\nUpdated same:\r\n\r\n**fillReport(compileReport,parameters, dataInput)**\r\n\r\n","title":"Spring Boot Controller Jasper Report Blank PDF","body":"<p>See same as method miss parameter 3rd is data input</p>\n<p><strong>fillReport(compileReport,parameters)</strong></p>\n<p>Updated same:</p>\n<p><strong>fillReport(compileReport,parameters, dataInput)</strong></p>\n"}],"owner":{"account_id":27674096,"reputation":19,"user_id":21124290,"display_name":"Phortsophea MMO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678822667,"creation_date":1678780006,"question_id":75730262,"body_markdown":"    @GetMapping(value = &quot;/report/pdf/{id}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    \tpublic ResponseEntity&lt;byte[]&gt; downloadInvoice(@PathVariable Long id,Model model) throws JRException, IOException  {\r\n    \r\n    \t\tString reporPath=&quot;src/main/resources/templates/pages/user&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tJasperReport compileReport = JasperCompileManager.compileReport(new FileInputStream(reporPath + &quot;/test.jrxml&quot;));\t\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tJasperPrint jasperPrint = JasperFillManager.fillReport(compileReport,parameters);\r\n    \t\t\r\n    \t\tbyte data[] = JasperExportManager.exportReportToPdf(jasperPrint);\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.add(&quot;Content-Disposition&quot;, &quot;inline; filename=invoice.pdf&quot;);\r\n    \r\n    \r\n    \t\treturn ResponseEntity.ok().headers(headers).contentType(MediaType.APPLICATION_PDF).body(data);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n------------------------------------------------------------------------------------------\r\nPlease help me to solve this problem I can&#39;t to solve this problem is still blank Jasper ","title":"Spring Boot Controller Jasper Report Blank PDF","body":"<pre><code>@GetMapping(value = &quot;/report/pdf/{id}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; downloadInvoice(@PathVariable Long id,Model model) throws JRException, IOException  {\n\n        String reporPath=&quot;src/main/resources/templates/pages/user&quot;;\n        \n        \n        JasperReport compileReport = JasperCompileManager.compileReport(new FileInputStream(reporPath + &quot;/test.jrxml&quot;));    \n        \n        Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        \n        JasperPrint jasperPrint = JasperFillManager.fillReport(compileReport,parameters);\n        \n        byte data[] = JasperExportManager.exportReportToPdf(jasperPrint);\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=invoice.pdf&quot;);\n\n\n        return ResponseEntity.ok().headers(headers).contentType(MediaType.APPLICATION_PDF).body(data);\n        \n        \n    }\n</code></pre>\n<hr />\n<p>Please help me to solve this problem I can't to solve this problem is still blank Jasper</p>\n"},{"tags":["java","spring","hibernate","jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638999332,"creation_date":1638999332,"answer_id":70281998,"question_id":70280932,"body_markdown":"`jsonb` is a PostgreSQL data type, not available in H2. It differs from PG&#39;s `json` data type in that internally it is stored in a binary structure that is more suitable for some operations and indexing.\r\n\r\nH2 does have a `json` format, though https://www.h2database.com/html/datatypes.html#json_type","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p><code>jsonb</code> is a PostgreSQL data type, not available in H2. It differs from PG's <code>json</code> data type in that internally it is stored in a binary structure that is more suitable for some operations and indexing.</p>\n<p>H2 does have a <code>json</code> format, though <a href=\"https://www.h2database.com/html/datatypes.html#json_type\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/datatypes.html#json_type</a></p>\n"},{"comments":[{"owner":{"account_id":5994078,"reputation":708,"user_id":4709301,"accept_rate":80,"display_name":"Jolley71717"},"score":0,"creation_date":1685726750,"post_id":75737605,"comment_id":134706657,"body_markdown":"If you know the right keywords to search for or have a link, this would be most helpful.","body":"If you know the right keywords to search for or have a link, this would be most helpful."}],"tags":[],"owner":{"account_id":334654,"reputation":560,"user_id":661236,"accept_rate":80,"display_name":"mikhailian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678822320,"creation_date":1678822320,"answer_id":75737605,"question_id":70280932,"body_markdown":"You can create a  JSONB domain in H2 and use it.\r\n\r\nIf you want to use H2 as  the testing database in your Spring application that runs on Postgresql, adding the following to the connection string provides JSONB type.\r\n\r\n```\r\njdbc:h2:mem:public;MODE=PostgreSQL;INIT=CREATE DOMAIN IF NOT EXISTS JSONB AS JSON;\r\n```\r\n\r\nFor JPA you will need to configure custom read and write converters separately for runtime and for testing.\r\n\r\nUses `PGObject` in Postgresql converters and `byte[]` in H2 converters. There should be enough answers on  Stackoverflow about creating custom converters for JPA.\r\n","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p>You can create a  JSONB domain in H2 and use it.</p>\n<p>If you want to use H2 as  the testing database in your Spring application that runs on Postgresql, adding the following to the connection string provides JSONB type.</p>\n<pre><code>jdbc:h2:mem:public;MODE=PostgreSQL;INIT=CREATE DOMAIN IF NOT EXISTS JSONB AS JSON;\n</code></pre>\n<p>For JPA you will need to configure custom read and write converters separately for runtime and for testing.</p>\n<p>Uses <code>PGObject</code> in Postgresql converters and <code>byte[]</code> in H2 converters. There should be enough answers on  Stackoverflow about creating custom converters for JPA.</p>\n"}],"owner":{"account_id":22271358,"reputation":37,"user_id":16501265,"display_name":"bloodycheri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70281998,"answer_count":2,"score":1,"last_activity_date":1678822320,"creation_date":1638993035,"question_id":70280932,"body_markdown":"Using Spring, when I try running my integration tests don&#39;t work because the H2 database can&#39;t create the table. This is the error:\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table foo (id binary not null, bar jsonb, primary key (id))&quot; via JDBC Statement\r\n\r\nMy entity being defined as follow :\r\n\r\n    @Entity(name = &quot;foo&quot;)\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    public class Foo {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        private UUID id;\r\n    \r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        private Object bar;\r\n    }\r\n\r\nMy type being defined through `com.vladmihalcea:hibernate-types-52:2.14.0`.\r\n\r\nAnd my h2 version being `com.h2database:h2:2.0.202`.\r\n\r\nIf I remove the `bar` property, it works fine.\r\n\r\nAny clue please ?","title":"How to use a jsonb column with H2, JPA, and Hibernate","body":"<p>Using Spring, when I try running my integration tests don't work because the H2 database can't create the table. This is the error:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table foo (id binary not null, bar jsonb, primary key (id))&quot; via JDBC Statement\n</code></pre>\n<p>My entity being defined as follow :</p>\n<pre><code>@Entity(name = &quot;foo&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\npublic class Foo {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private UUID id;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Object bar;\n}\n</code></pre>\n<p>My type being defined through <code>com.vladmihalcea:hibernate-types-52:2.14.0</code>.</p>\n<p>And my h2 version being <code>com.h2database:h2:2.0.202</code>.</p>\n<p>If I remove the <code>bar</code> property, it works fine.</p>\n<p>Any clue please ?</p>\n"},{"tags":["java","hibernate","maven-2","configuration","h2"],"comments":[{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1292877867,"post_id":4490138,"comment_id":4916334,"body_markdown":"You wrote &quot;H2 won&#39;t crash if the init=runscript command targets nothing&quot; - I can&#39;t reproduce this (H2 throws an exception in this case). What version of H2 do you use? Could you try with the latest version? I&#39;m not aware this was different before, but maybe it was.","body":"You wrote &quot;H2 won&#39;t crash if the init=runscript command targets nothing&quot; - I can&#39;t reproduce this (H2 throws an exception in this case). What version of H2 do you use? Could you try with the latest version? I&#39;m not aware this was different before, but maybe it was."},{"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"score":0,"creation_date":1292924148,"post_id":4490138,"comment_id":4921680,"body_markdown":"No you&#39;re right, now it crashes. I don&#39;t know what happened.","body":"No you&#39;re right, now it crashes. I don&#39;t know what happened."}],"answers":[{"comments":[{"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"score":0,"creation_date":1292924221,"post_id":4490207,"comment_id":4921691,"body_markdown":"With the absolute path, it works, but not any combination of relative paths i tried.","body":"With the absolute path, it works, but not any combination of relative paths i tried."},{"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"score":0,"creation_date":1292924476,"post_id":4490207,"comment_id":4921730,"body_markdown":"@Maxime: does H2 throw any error? Any sign of things not working from it&#39;s side mentioning that create.sql isn&#39;t found? Have you tried to put create.sql in the classpath?","body":"@Maxime: does H2 throw any error? Any sign of things not working from it&#39;s side mentioning that create.sql isn&#39;t found? Have you tried to put create.sql in the classpath?"},{"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"score":0,"creation_date":1292929041,"post_id":4490207,"comment_id":4922450,"body_markdown":"sorry : With the absolute path, it works, but not any combination of relative paths i tried. The scripts are in mywar.war/WEB-INF/classes/scripts/.. I tried /WEB-INF/.. WEB-INF/.. etc no results :/","body":"sorry : With the absolute path, it works, but not any combination of relative paths i tried. The scripts are in mywar.war/WEB-INF/classes/scripts/.. I tried /WEB-INF/.. WEB-INF/.. etc no results :/"},{"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"score":1,"creation_date":1383916269,"post_id":4490207,"comment_id":29537689,"body_markdown":"_Since `src`, where your source lives, usually isn&#39;t on the classpath_\nIn Maven projects Whatever is inside `src/main/resources` usually **is** included in the classpath","body":"<i>Since <code>src</code>, where your source lives, usually isn&#39;t on the classpath</i> In Maven projects Whatever is inside <code>src&#47;main&#47;resources</code> usually <b>is</b> included in the classpath"}],"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292852822,"creation_date":1292852822,"answer_id":4490207,"question_id":4490138,"body_markdown":"I&#39;d suggest trying to use an absolute path for starters, just to check everything works. Afterwards, check your classpath. For example, `bin/main/resources/scripts/create.sql`, assuming `bin` is where your classes are compiled, and is on your classpath.\r\n\r\nSince `src`, where your source lives, usually isn&#39;t on the classpath, this could be the source of your problem.","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>I'd suggest trying to use an absolute path for starters, just to check everything works. Afterwards, check your classpath. For example, <code>bin/main/resources/scripts/create.sql</code>, assuming <code>bin</code> is where your classes are compiled, and is on your classpath.</p>\n\n<p>Since <code>src</code>, where your source lives, usually isn't on the classpath, this could be the source of your problem.</p>\n"},{"comments":[{"owner":{"account_id":5239168,"reputation":314,"user_id":4186817,"accept_rate":75,"display_name":"Enbugger"},"score":1,"creation_date":1569824252,"post_id":8486819,"comment_id":102706464,"body_markdown":"I get `MalformedURLException: unknown protocol: classpath` on Java 11","body":"I get <code>MalformedURLException: unknown protocol: classpath</code> on Java 11"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1644409159,"post_id":8486819,"comment_id":125597979,"body_markdown":"This does not work on H2 2.1.210 when using folders in path after `classpath:`. https://stackoverflow.com/questions/70862699/problem-setting-up-h2-init-runscript-file-is-not-found-when-script-is-not-in-cl","body":"This does not work on H2 2.1.210 when using folders in path after <code>classpath:</code>. <a href=\"https://stackoverflow.com/questions/70862699/problem-setting-up-h2-init-runscript-file-is-not-found-when-script-is-not-in-cl\" title=\"problem setting up h2 init runscript file is not found when script is not in cl\">stackoverflow.com/questions/70862699/&hellip;</a>"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":1,"creation_date":1645006290,"post_id":8486819,"comment_id":125753571,"body_markdown":"Update to previous comment that it does not work: it does not work while using java modular system (module-info.java)","body":"Update to previous comment that it does not work: it does not work while using java modular system (module-info.java)"}],"tags":[],"owner":{"account_id":441031,"reputation":2739,"user_id":830928,"display_name":"viktortnk"},"comment_count":3,"down_vote_count":1,"up_vote_count":121,"is_accepted":true,"score":120,"last_activity_date":1323768179,"creation_date":1323768179,"answer_id":8486819,"question_id":4490138,"body_markdown":"You can use the following url: \r\n&lt;br/&gt;`&quot;jdbc:h2:mem:sample;INIT=RUNSCRIPT FROM &#39;classpath:scripts/create.sql&#39;&quot;`\r\n\r\nWith that one it is possible to run script from classpath. So you can just put it src/main/resources/scripts or src/test/resources/scripts in your maven (or something else) project. ","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>You can use the following url: \n<br/><code>\"jdbc:h2:mem:sample;INIT=RUNSCRIPT FROM 'classpath:scripts/create.sql'\"</code></p>\n\n<p>With that one it is possible to run script from classpath. So you can just put it src/main/resources/scripts or src/test/resources/scripts in your maven (or something else) project. </p>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665758498,"creation_date":1665758498,"answer_id":74070918,"question_id":4490138,"body_markdown":"For me it works if I keep the scripts under `src/test/resources`:\r\n\r\n```\r\ndatabase.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM &#39;src/test/resources/create.sql&#39;;\r\n```\r\n\r\nAnyway, in a JUnit context, if you use the conventional file paths `schema.sql` (for the DDL) and `data.sql` (for the DDL) under `src/test/resources`, you don&#39;t need the specify the scripts with the INIT variable in the connection string.\r\nYou can simply use:\r\n```\r\ndatabase.url=jdbc:h2:mem:testdb\r\n```\r\nand JUnit will automatically run the scripts when creating the H2 instance in memory.\r\n","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>For me it works if I keep the scripts under <code>src/test/resources</code>:</p>\n<pre><code>database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM 'src/test/resources/create.sql';\n</code></pre>\n<p>Anyway, in a JUnit context, if you use the conventional file paths <code>schema.sql</code> (for the DDL) and <code>data.sql</code> (for the DDL) under <code>src/test/resources</code>, you don't need the specify the scripts with the INIT variable in the connection string.\nYou can simply use:</p>\n<pre><code>database.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>and JUnit will automatically run the scripts when creating the H2 instance in memory.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678822289,"creation_date":1678719462,"answer_id":75723557,"question_id":4490138,"body_markdown":"Your issue is you are specifying `&#39;src/`\r\nYou need to do `./src` instead.\r\n\r\nI had the same issue and this change fixed it:\r\n\r\n    spring.datasource.url=jdbc:h2:./src/main/resources/data.sql;INIT=RUNSCRIPT FROM &#39;./src/main/resources/data.sql&#39;\r\n\r\nIf you are using Docker and Kubernetes,\r\n\r\n**add** this line to Dockerfile\r\n\r\n    COPY src/main/resources/data.sql /app/src/main/resources/\r\n\r\n\r\n\r\n\r\n","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>Your issue is you are specifying <code>'src/</code>\nYou need to do <code>./src</code> instead.</p>\n<p>I had the same issue and this change fixed it:</p>\n<pre><code>spring.datasource.url=jdbc:h2:./src/main/resources/data.sql;INIT=RUNSCRIPT FROM './src/main/resources/data.sql'\n</code></pre>\n<p>If you are using Docker and Kubernetes,</p>\n<p><strong>add</strong> this line to Dockerfile</p>\n<pre><code>COPY src/main/resources/data.sql /app/src/main/resources/\n</code></pre>\n"}],"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36537,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":8486819,"answer_count":4,"score":60,"last_activity_date":1678822289,"creation_date":1292852285,"question_id":4490138,"body_markdown":"I use maven conventions for source paths (src/main src/test) and i have my sql scripts in src/main/resources/scripts.\r\n\r\nI want to run my app with H2 memory and i&#39;d like to use the jdbc url to initialize my db :\r\n\r\n    database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM &#39;src/main/resources/scripts/create.sql&#39;;\r\n\r\nMy problem is that this relative path (src/main/... ) does not work, and that H2 won&#39;t crash if the init=runscript command targets nothing.\r\n\r\nDoes someone know what is the path i should use to make this work ?\r\n\r\nThanks","title":"problem with INIT=RUNSCRIPT and relative paths","body":"<p>I use maven conventions for source paths (src/main src/test) and i have my sql scripts in src/main/resources/scripts.</p>\n\n<p>I want to run my app with H2 memory and i'd like to use the jdbc url to initialize my db :</p>\n\n<pre><code>database.url=jdbc:h2:mem:;INIT=RUNSCRIPT FROM 'src/main/resources/scripts/create.sql';\n</code></pre>\n\n<p>My problem is that this relative path (src/main/... ) does not work, and that H2 won't crash if the init=runscript command targets nothing.</p>\n\n<p>Does someone know what is the path i should use to make this work ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521898,"post_id":6994558,"comment_id":122234972,"body_markdown":"Just opening and closing it in non-append mode will do that. The write does literally nothing.","body":"Just opening and closing it in non-append mode will do that. The write does literally nothing."}],"tags":[],"owner":{"account_id":327246,"reputation":354,"user_id":649512,"display_name":"hakon"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1312884673,"creation_date":1312884673,"answer_id":6994558,"question_id":6994518,"body_markdown":"Write an empty string to the file, flush, and close. Make sure that the file writer is not in append-mode. I think that should do the trick.","title":"how to delete the content of text file without deleting itself","body":"<p>Write an empty string to the file, flush, and close. Make sure that the file writer is not in append-mode. I think that should do the trick.</p>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":5,"creation_date":1337196777,"post_id":6994568,"comment_id":13771005,"body_markdown":"-1: java.lang.String does not have a toByteArray() method, neither in 6 nor 7.  http://docs.oracle.com/javase/6/docs/api/java/lang/String.","body":"-1: java.lang.String does not have a toByteArray() method, neither in 6 nor 7.  <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/String</a>."},{"owner":{"account_id":1995675,"reputation":6401,"user_id":1788704,"accept_rate":69,"display_name":"kmas"},"score":1,"creation_date":1378221205,"post_id":6994568,"comment_id":27367319,"body_markdown":"It exists for a long time : http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes()","body":"It exists for a long time : <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1387091518,"post_id":6994568,"comment_id":30808535,"body_markdown":"The write is unnecessary here.","body":"The write is unnecessary here."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521791,"post_id":6994568,"comment_id":122234933,"body_markdown":"@kmas Your link is to `String.getBytes()`, which is not the same thing as `String.toByteArray()` as was originally coded here.","body":"@kmas Your link is to <code>String.getBytes()</code>, which is not the same thing as <code>String.toByteArray()</code> as was originally coded here."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521844,"post_id":6994568,"comment_id":122234956,"body_markdown":"The write here does exactly nothing. It is redundant.","body":"The write here does exactly nothing. It is redundant."}],"tags":[],"owner":{"account_id":475314,"reputation":513,"user_id":885561,"accept_rate":88,"display_name":"Micky"},"comment_count":5,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1463838153,"creation_date":1312884716,"answer_id":6994568,"question_id":6994518,"body_markdown":"Simple, write nothing!\r\n\r\n    FileOutputStream writer = new FileOutputStream(&quot;file.txt&quot;);\r\n    writer.write((&quot;&quot;).getBytes());\r\n    writer.close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>Simple, write nothing!</p>\n\n<pre><code>FileOutputStream writer = new FileOutputStream(\"file.txt\");\nwriter.write((\"\").getBytes());\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1312885047,"creation_date":1312885047,"answer_id":6994638,"question_id":6994518,"body_markdown":"After copying from A to B open file A again to write mode and then write empty string in it","title":"how to delete the content of text file without deleting itself","body":"<p>After copying from A to B open file A again to write mode and then write empty string in it</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":17,"creation_date":1387091591,"post_id":6994664,"comment_id":30808553,"body_markdown":"The write isn&#39;t necessary, and if another task has the file open the open may not even be possible.","body":"The write isn&#39;t necessary, and if another task has the file open the open may not even be possible."},{"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"score":0,"creation_date":1487275913,"post_id":6994664,"comment_id":71723989,"body_markdown":"writer.close??, we are in 2017!!!. Also, no need to print(&quot;&quot;), because the text will be overwritten","body":"writer.close??, we are in 2017!!!. Also, no need to print(&quot;&quot;), because the text will be overwritten"},{"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"score":3,"creation_date":1487362669,"post_id":6994664,"comment_id":71768190,"body_markdown":"@Andro, notice the timestamp and tags? Back then I remember it was the most reliable way to empty a file across Android devices.","body":"@Andro, notice the timestamp and tags? Back then I remember it was the most reliable way to empty a file across Android devices."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1509715052,"post_id":6994664,"comment_id":81142891,"body_markdown":"@Vlad If there is no need to close writer now, maybe this is a good idea to update answer?","body":"@Vlad If there is no need to close writer now, maybe this is a good idea to update answer?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521683,"post_id":6994664,"comment_id":122234892,"body_markdown":"@Vlad This has never been the most reliable way, and the write is still unnecessary. It isn&#39;t reliable at all because of the swallowed exceptions, and reliable alternatives have existed since at leat 1996.","body":"@Vlad This has never been the most reliable way, and the write is still unnecessary. It isn&#39;t reliable at all because of the swallowed exceptions, and reliable alternatives have existed since at leat 1996."},{"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"score":0,"creation_date":1631522116,"post_id":6994664,"comment_id":122235043,"body_markdown":"@user207421, like I said, at that point I came across a number of Android devices and implementations that were not fully compliant with the Java SDK. Error/exception handling was never discussed and was left to the user of the snippet.","body":"@user207421, like I said, at that point I came across a number of Android devices and implementations that were not fully compliant with the Java SDK. Error/exception handling was never discussed and was left to the user of the snippet."},{"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"score":0,"creation_date":1631522161,"post_id":6994664,"comment_id":122235059,"body_markdown":"As my experience with Android nowadays is nearly zero, I&#39;d prefer to not edit the answer but rather let other/better answers bubble up to the top. Thank you all!","body":"As my experience with Android nowadays is nearly zero, I&#39;d prefer to not edit the answer but rather let other/better answers bubble up to the top. Thank you all!"}],"tags":[],"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"comment_count":7,"down_vote_count":2,"up_vote_count":155,"is_accepted":true,"score":153,"last_activity_date":1312885221,"creation_date":1312885221,"answer_id":6994664,"question_id":6994518,"body_markdown":"Just print an empty string into the file:\r\n\r\n    PrintWriter writer = new PrintWriter(file);\r\n    writer.print(&quot;&quot;);\r\n    writer.close();","title":"how to delete the content of text file without deleting itself","body":"<p>Just print an empty string into the file:</p>\n\n<pre><code>PrintWriter writer = new PrintWriter(file);\nwriter.print(\"\");\nwriter.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1387091669,"post_id":6994668,"comment_id":30808568,"body_markdown":"This is in fact the only correct answer, as it doesn&#39;t delete the file. All other answers do.","body":"This is in fact the only correct answer, as it doesn&#39;t delete the file. All other answers do."},{"owner":{"account_id":1109086,"reputation":2201,"user_id":1099884,"accept_rate":60,"display_name":"Yeung"},"score":1,"creation_date":1387185265,"post_id":6994668,"comment_id":30836038,"body_markdown":"I need this because I would like to clear the log file created by [logback-android](https://github.com/tony19/logback-android) library. If I delete the log file manually, the library is not clever enough the create it again if there is log to write until I relaunch my app. Therefore, I used this method and work. I haven&#39;t study much. Is&#39;t it the best approach? Please advice.","body":"I need this because I would like to clear the log file created by <a href=\"https://github.com/tony19/logback-android\" rel=\"nofollow noreferrer\">logback-android</a> library. If I delete the log file manually, the library is not clever enough the create it again if there is log to write until I relaunch my app. Therefore, I used this method and work. I haven&#39;t study much. Is&#39;t it the best approach? Please advice."},{"owner":{"account_id":2219078,"reputation":2030,"user_id":1959005,"accept_rate":55,"display_name":"Poutrathor"},"score":0,"creation_date":1456140146,"post_id":6994668,"comment_id":58792604,"body_markdown":"funnily, I have a production issue because Intenso card class 10 freeze (and force battery reset) when I call fileOnSdCard.setLength(0) for an app installed from .apk file. Their class 4 card never showed the issue.","body":"funnily, I have a production issue because Intenso card class 10 freeze (and force battery reset) when I call fileOnSdCard.setLength(0) for an app installed from .apk file. Their class 4 card never showed the issue."}],"tags":[],"owner":{"account_id":174588,"reputation":3274,"user_id":404051,"accept_rate":92,"display_name":"Burleigh Bear"},"comment_count":3,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1312885251,"creation_date":1312885251,"answer_id":6994668,"question_id":6994518,"body_markdown":"You want the setLength() method in the class RandomAccessFile.","title":"how to delete the content of text file without deleting itself","body":"<p>You want the setLength() method in the class RandomAccessFile.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1387091545,"post_id":15866250,"comment_id":30808544,"body_markdown":"This does not create an empty file, it creates a file with one null byte in it.","body":"This does not create an empty file, it creates a file with one null byte in it."}],"tags":[],"owner":{"account_id":1905480,"reputation":816,"user_id":1720452,"accept_rate":20,"display_name":"Vishal"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1416838254,"creation_date":1365359991,"answer_id":15866250,"question_id":6994518,"body_markdown":"you can write a generic method as (its too late but below code will help you/others)\r\n\r\n    public static FileInputStream getFile(File fileImport) throws IOException {\r\n          FileInputStream fileStream = null;\r\n\t    try {\r\n            PrintWriter writer = new PrintWriter(fileImport);\r\n\t        writer.print(StringUtils.EMPTY);\r\n\t\t\tfileStream = new FileInputStream(fileImport);\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\twriter.close();\r\n\t\t\t}\r\n             return fileStream;\r\n\t}","title":"how to delete the content of text file without deleting itself","body":"<p>you can write a generic method as (its too late but below code will help you/others)</p>\n\n<pre><code>public static FileInputStream getFile(File fileImport) throws IOException {\n      FileInputStream fileStream = null;\n    try {\n        PrintWriter writer = new PrintWriter(fileImport);\n        writer.print(StringUtils.EMPTY);\n        fileStream = new FileInputStream(fileImport);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            writer.close();\n        }\n         return fileStream;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2923782,"reputation":131,"user_id":2505542,"display_name":"Manh Vu"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1371878650,"creation_date":1371737399,"answer_id":17215871,"question_id":6994518,"body_markdown":"Just write:\r\n\r\n    FileOutputStream writer = new FileOutputStream(&quot;file.txt&quot;);","title":"how to delete the content of text file without deleting itself","body":"<p>Just write:</p>\n\n<pre><code>FileOutputStream writer = new FileOutputStream(\"file.txt\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":9,"creation_date":1387091632,"post_id":20591502,"comment_id":30808564,"body_markdown":"You are correct about that. All the answers showing a write are wrong or at best redundant.","body":"You are correct about that. All the answers showing a write are wrong or at best redundant."},{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":40,"creation_date":1418355014,"post_id":20591502,"comment_id":43313436,"body_markdown":"How about just `new PrintWriter(&quot;filepath.txt&quot;).close();`?","body":"How about just <code>new PrintWriter(&quot;filepath.txt&quot;).close();</code>?"},{"owner":{"account_id":1368329,"reputation":853,"user_id":1304252,"accept_rate":54,"display_name":"Lv99Zubat"},"score":1,"creation_date":1466434819,"post_id":20591502,"comment_id":63301969,"body_markdown":"quote from java docs &quot;If the file exists then it will be truncated to zero size&quot;","body":"quote from java docs &quot;If the file exists then it will be truncated to zero size&quot;"},{"owner":{"account_id":10283331,"reputation":111,"user_id":7587568,"display_name":"GURMEET SINGH"},"score":1,"creation_date":1508973116,"post_id":20591502,"comment_id":80834266,"body_markdown":"but what to do if the file is in append mode.","body":"but what to do if the file is in append mode."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1566832488,"post_id":20591502,"comment_id":101770432,"body_markdown":"Oh man I cant believe I missed the simple answer. Open file in truncate mode. I hate truncate mode so much that it slipped me.","body":"Oh man I cant believe I missed the simple answer. Open file in truncate mode. I hate truncate mode so much that it slipped me."}],"tags":[],"owner":{"account_id":2539140,"reputation":1028,"user_id":2205387,"display_name":"camleng"},"comment_count":5,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1553522755,"creation_date":1387085232,"answer_id":20591502,"question_id":6994518,"body_markdown":"I don&#39;t believe you even have to write an empty string to the file.\r\n\r\n    PrintWriter pw = new PrintWriter(&quot;filepath.txt&quot;);\r\n    pw.close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>I don't believe you even have to write an empty string to the file.</p>\n\n<pre><code>PrintWriter pw = new PrintWriter(\"filepath.txt\");\npw.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3152,"user_id":790839,"display_name":"Anver Sadhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411236630,"creation_date":1411236630,"answer_id":25951843,"question_id":6994518,"body_markdown":"One of the best companion for java is [Apache Projects][1] and please do refer to it. For file related operation you can refer to the [Commons IO][2] project.\r\n\r\nThe Below one line code will help us to make the file empty.\r\n\r\n    FileUtils.write(new File(&quot;/your/file/path&quot;), &quot;&quot;)\r\n\r\n  [1]: https://projects.apache.org/indexes/quick.html\r\n  [2]: http://commons.apache.org/proper/commons-io/","title":"how to delete the content of text file without deleting itself","body":"<p>One of the best companion for java is <a href=\"https://projects.apache.org/indexes/quick.html\" rel=\"noreferrer\">Apache Projects</a> and please do refer to it. For file related operation you can refer to the <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Commons IO</a> project.</p>\n\n<p>The Below one line code will help us to make the file empty.</p>\n\n<pre><code>FileUtils.write(new File(\"/your/file/path\"), \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5218478,"reputation":809,"user_id":4172628,"accept_rate":83,"display_name":"Revanth Kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1416707123,"creation_date":1416707123,"answer_id":27084707,"question_id":6994518,"body_markdown":"You can use\r\n\r\n    FileWriter fw = new FileWriter(/*your file path*/);\r\n    PrintWriter pw = new PrintWriter(fw);\r\n    pw.write(&quot;&quot;);\r\n    pw.flush(); \r\n    pw.close();\r\n\r\nRemember not to use\r\n\r\n    FileWriter fw = new FileWriter(/*your file path*/,true);\r\n\r\nTrue in the filewriter constructor will enable append.","title":"how to delete the content of text file without deleting itself","body":"<p>You can use</p>\n\n<pre><code>FileWriter fw = new FileWriter(/*your file path*/);\nPrintWriter pw = new PrintWriter(fw);\npw.write(\"\");\npw.flush(); \npw.close();\n</code></pre>\n\n<p>Remember not to use</p>\n\n<pre><code>FileWriter fw = new FileWriter(/*your file path*/,true);\n</code></pre>\n\n<p>True in the filewriter constructor will enable append.</p>\n"},{"tags":[],"owner":{"account_id":4180565,"reputation":987,"user_id":3425729,"display_name":"Sanjay Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1421318982,"creation_date":1421316449,"answer_id":27961011,"question_id":6994518,"body_markdown":"How about below:\r\n    \r\n    File temp = new File(&quot;&lt;your file name&gt;&quot;);\r\n    if (temp.exists()) {\r\n        RandomAccessFile raf = new RandomAccessFile(temp, &quot;rw&quot;);\r\n    \traf.setLength(0);\r\n    }","title":"how to delete the content of text file without deleting itself","body":"<p>How about below:</p>\n\n<pre><code>File temp = new File(\"&lt;your file name&gt;\");\nif (temp.exists()) {\n    RandomAccessFile raf = new RandomAccessFile(temp, \"rw\");\n    raf.setLength(0);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1530892495,"post_id":36567143,"comment_id":89408857,"body_markdown":"+1 For not instantiating an entire file writing class, (and even worse writing to it). This should really be the accepted answer.","body":"+1 For not instantiating an entire file writing class, (and even worse writing to it). This should really be the accepted answer."}],"tags":[],"owner":{"account_id":8231631,"reputation":621,"user_id":6192114,"display_name":"Michał"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1530896700,"creation_date":1460448251,"answer_id":36567143,"question_id":6994518,"body_markdown":"   One liner to make truncate operation:\r\n\r\n    FileChannel.open(Paths.get(&quot;/home/user/file/to/truncate&quot;), StandardOpenOption.WRITE).truncate(0).close();\r\n\r\nMore information available at Java Documentation: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html","title":"how to delete the content of text file without deleting itself","body":"<p>One liner to make truncate operation:</p>\n\n<pre><code>FileChannel.open(Paths.get(\"/home/user/file/to/truncate\"), StandardOpenOption.WRITE).truncate(0).close();\n</code></pre>\n\n<p>More information available at Java Documentation: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html</a></p>\n"},{"tags":[],"owner":{"account_id":9555360,"reputation":474,"user_id":7098036,"display_name":"MarkoPaulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489376884,"creation_date":1489376884,"answer_id":42756346,"question_id":6994518,"body_markdown":"If you don&#39;t need to use the writer afterwards the shortest and cleanest way to do it would be like that:\r\n\r\n    new FileWriter(&quot;/path/to/your/file.txt&quot;).close();\r\n\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>If you don't need to use the writer afterwards the shortest and cleanest way to do it would be like that:</p>\n\n<pre><code>new FileWriter(\"/path/to/your/file.txt\").close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2423766,"reputation":620,"user_id":2116171,"display_name":"Michael L."},"score":0,"creation_date":1490211466,"post_id":42960751,"comment_id":73016490,"body_markdown":"Welcome to SO! Please use the built-in formatting tools to make your code easier to read.","body":"Welcome to SO! Please use the built-in formatting tools to make your code easier to read."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521982,"post_id":42960751,"comment_id":122235000,"body_markdown":"What is `openFileOutput()`? You don&#39;t need all this, and you&#39;ve concealed the only interesting part.","body":"What is <code>openFileOutput()</code>? You don&#39;t need all this, and you&#39;ve concealed the only interesting part."}],"tags":[],"owner":{"account_id":10520548,"reputation":1,"user_id":7753248,"display_name":"Harpreet Singh"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511029823,"creation_date":1490210166,"answer_id":42960751,"question_id":6994518,"body_markdown":"&lt;!-- language:javascript --&gt;\r\n\r\n    FileOutputStream fos = openFileOutput(&quot;/*file name like --&gt; one.txt*/&quot;, MODE_PRIVATE);\r\n    FileWriter fw = new FileWriter(fos.getFD());\r\n    fw.write(&quot;&quot;);","title":"how to delete the content of text file without deleting itself","body":"\n\n<pre><code>FileOutputStream fos = openFileOutput(\"/*file name like --&gt; one.txt*/\", MODE_PRIVATE);\nFileWriter fw = new FileWriter(fos.getFD());\nfw.write(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12890438,"reputation":45,"user_id":9322620,"display_name":"Bartek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526482551,"creation_date":1526482551,"answer_id":50374146,"question_id":6994518,"body_markdown":"With try-with-resources writer will be automatically closed:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    final File file = new File(&quot;SomeFile&quot;);\r\n    try (PrintWriter writer = new PrintWriter(file))  {\r\n        writer.print(StringUtils.EMPTY);\t\t\t\t\r\n    }\r\n    // here we can be sure that writer will be closed automatically","title":"how to delete the content of text file without deleting itself","body":"<p>With try-with-resources writer will be automatically closed:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nfinal File file = new File(\"SomeFile\");\ntry (PrintWriter writer = new PrintWriter(file))  {\n    writer.print(StringUtils.EMPTY);                \n}\n// here we can be sure that writer will be closed automatically\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631521924,"post_id":52024957,"comment_id":122234977,"body_markdown":"Everything after `Empty the file content` is redundant. And you forgot the close.","body":"Everything after <code>Empty the file content</code> is redundant. And you forgot the close."}],"tags":[],"owner":{"account_id":3520423,"reputation":71,"user_id":3209921,"display_name":"harsha"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535276039,"creation_date":1535276039,"answer_id":52024957,"question_id":6994518,"body_markdown":"using : New Java 7 NIO library, try \r\n\r\n            if(!Files.exists(filePath.getParent())) {\r\n\t\t\t\tFiles.createDirectory(filePath.getParent());\r\n\t\t\t}\r\n\t\t\tif(!Files.exists(filePath)) {\r\n\t\t\t\tFiles.createFile(filePath);\r\n\t\t\t}\r\n\t\t\t// Empty the file content\r\n\t\t\twriter = Files.newBufferedWriter(filePath);\r\n\t\t\twriter.write(&quot;&quot;);\r\n\t\t\twriter.flush();\r\n\r\nThe above code checks if Directoty exist if not creates the directory, checks if file exists is yes it writes empty string and flushes the buffer, in the end yo get the writer pointing to empty file\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>using : New Java 7 NIO library, try </p>\n\n<pre><code>        if(!Files.exists(filePath.getParent())) {\n            Files.createDirectory(filePath.getParent());\n        }\n        if(!Files.exists(filePath)) {\n            Files.createFile(filePath);\n        }\n        // Empty the file content\n        writer = Files.newBufferedWriter(filePath);\n        writer.write(\"\");\n        writer.flush();\n</code></pre>\n\n<p>The above code checks if Directoty exist if not creates the directory, checks if file exists is yes it writes empty string and flushes the buffer, in the end yo get the writer pointing to empty file</p>\n"},{"tags":[],"owner":{"display_name":"user9599745"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566832609,"creation_date":1566832609,"answer_id":57660674,"question_id":6994518,"body_markdown":"All you have to do is open file in truncate mode. Any Java file out class will automatically do that for you.","title":"how to delete the content of text file without deleting itself","body":"<p>All you have to do is open file in truncate mode. Any Java file out class will automatically do that for you.</p>\n"}],"owner":{"account_id":328536,"reputation":3743,"user_id":651545,"accept_rate":39,"display_name":"brig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307369,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":6994664,"answer_count":17,"score":98,"last_activity_date":1678821989,"creation_date":1312884475,"question_id":6994518,"body_markdown":"I want to copy the content of file &#39;A&#39; to file &#39;B&#39;.\r\nafter the copying is done I want to clear the content of file &#39;A&#39; and want to write on it from its beginning.\r\nI can&#39;t delete file &#39;A&#39; as it is related to some other task.\r\n\r\n\r\nI was able to copy the content using java&#39;s file API(readLine() ), but don&#39;t know how to clear the content of file and set the file pointer to the beginning of the file.\r\n","title":"how to delete the content of text file without deleting itself","body":"<p>I want to copy the content of file 'A' to file 'B'.\nafter the copying is done I want to clear the content of file 'A' and want to write on it from its beginning.\nI can't delete file 'A' as it is related to some other task.</p>\n\n<p>I was able to copy the content using java's file API(readLine() ), but don't know how to clear the content of file and set the file pointer to the beginning of the file.</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":5,"creation_date":1623844566,"post_id":6642146,"comment_id":120192669,"body_markdown":"If someone (like me) encounters this error due to http repository in maven &gt; 3.8.1, something like `maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories:`, refer this: https://stackoverflow.com/q/67001968/6346531","body":"If someone (like me) encounters this error due to http repository in maven &gt; 3.8.1, something like <code>maven-default-http-blocker (http:&#47;&#47;0.0.0.0&#47;): Blocked mirror for repositories:</code>, refer this: <a href=\"https://stackoverflow.com/q/67001968/6346531\">stackoverflow.com/q/67001968/6346531</a>"},{"owner":{"account_id":9265546,"reputation":344,"user_id":7117843,"display_name":"Shreehari"},"score":0,"creation_date":1637125882,"post_id":6642146,"comment_id":123739559,"body_markdown":"@aksh1618 Thanks. That was the resolution for my issue","body":"@aksh1618 Thanks. That was the resolution for my issue"}],"answers":[{"comments":[{"owner":{"account_id":27304,"reputation":3747,"user_id":71936,"accept_rate":59,"display_name":"Morrislgn"},"score":0,"creation_date":1310330576,"post_id":6642186,"comment_id":7849744,"body_markdown":"Good spot - no, its not unfortunatly. I copied the wrong tag from the POM XML, that was the one above the tag I needed and didnt spot what I&#39;d done. Ooops! I&#39;ve edited the question to fix my stupidity!","body":"Good spot - no, its not unfortunatly. I copied the wrong tag from the POM XML, that was the one above the tag I needed and didnt spot what I&#39;d done. Ooops! I&#39;ve edited the question to fix my stupidity!"}],"tags":[],"owner":{"account_id":428412,"reputation":13424,"user_id":810720,"display_name":"phlogratos"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1310314369,"creation_date":1310314369,"answer_id":6642186,"question_id":6642146,"body_markdown":"You mention two different groupIds, `com.morrislgn.merchandising.common` and `com.johnlewis.jec.webpim.common`. Maybe this is the problem.\r\n ","title":"Maven: Failed to read artifact descriptor","body":"<p>You mention two different groupIds, <code>com.morrislgn.merchandising.common</code> and <code>com.johnlewis.jec.webpim.common</code>. Maybe this is the problem.</p>\n"},{"comments":[{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1368043027,"post_id":9313265,"comment_id":23594789,"body_markdown":"on a side note, we switched to gradle....so much happier than ant and maven....extremely nice setup.","body":"on a side note, we switched to gradle....so much happier than ant and maven....extremely nice setup."},{"owner":{"account_id":318104,"reputation":3471,"user_id":635134,"accept_rate":87,"display_name":"Jay"},"score":0,"creation_date":1500507668,"post_id":9313265,"comment_id":77372540,"body_markdown":"Not even sure it&#39;s anything Eclipse-related. I had the same issue with IntelliJ and deleting the problematic packages and re-running `mvn clean install` worked","body":"Not even sure it&#39;s anything Eclipse-related. I had the same issue with IntelliJ and deleting the problematic packages and re-running <code>mvn clean install</code> worked"}],"tags":[],"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1329403434,"creation_date":1329403434,"answer_id":9313265,"question_id":6642146,"body_markdown":"I had the same issue with eclipse where the maven build command line worked just fine BUT \r\ntry this\r\n   \r\n\r\n - go into .m2/repository and wipe the directory associated\r\n - run update maven dependencies in eclipse\r\n\r\nThe error goes away....why my mvn command line worked with those directories and eclipse .m2eclipse could not, I have no idea and it kinda sucks.  My project is now working in eclipse again. ","title":"Maven: Failed to read artifact descriptor","body":"<p>I had the same issue with eclipse where the maven build command line worked just fine BUT \ntry this</p>\n\n<ul>\n<li>go into .m2/repository and wipe the directory associated</li>\n<li>run update maven dependencies in eclipse</li>\n</ul>\n\n<p>The error goes away....why my mvn command line worked with those directories and eclipse .m2eclipse could not, I have no idea and it kinda sucks.  My project is now working in eclipse again. </p>\n"},{"comments":[{"owner":{"account_id":8613791,"reputation":3578,"user_id":6451425,"accept_rate":95,"display_name":"Ad Infinitum"},"score":0,"creation_date":1481283464,"post_id":9774588,"comment_id":69325574,"body_markdown":"I have also solved the same issue by deleting related files in the maven local repository and then update the whole project.","body":"I have also solved the same issue by deleting related files in the maven local repository and then update the whole project."}],"tags":[],"owner":{"account_id":1336520,"reputation":121,"user_id":1279137,"display_name":"17sprints"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1332176909,"creation_date":1332176909,"answer_id":9774588,"question_id":6642146,"body_markdown":"I solved this issue by deleting in the repository folders where this error was shown everything except the .jar and .pom files.","title":"Maven: Failed to read artifact descriptor","body":"<p>I solved this issue by deleting in the repository folders where this error was shown everything except the .jar and .pom files.</p>\n"},{"comments":[{"owner":{"account_id":3133372,"reputation":1750,"user_id":2650481,"accept_rate":87,"display_name":"Adam Bogdan Boczek"},"score":1,"creation_date":1457425304,"post_id":9873157,"comment_id":59388731,"body_markdown":"The check of the pom.xml was useful. I found I had same dependency twice (copy &amp; paste error). After cleanup everything was fine.","body":"The check of the pom.xml was useful. I found I had same dependency twice (copy &amp; paste error). After cleanup everything was fine."}],"tags":[],"owner":{"account_id":48221,"reputation":3723,"user_id":143179,"display_name":"eaykin"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1332917892,"creation_date":1332768975,"answer_id":9873157,"question_id":6642146,"body_markdown":"&quot;Failed to read artifact descriptor&quot; problems generally indicate a problem with the dependency&#39;s pom file in the maven repository. I would suggest you to double check if the pom file&#39;s name is the same with the name maven expects, and also to check if the pom file contents are valid. ","title":"Maven: Failed to read artifact descriptor","body":"<p>\"Failed to read artifact descriptor\" problems generally indicate a problem with the dependency's pom file in the maven repository. I would suggest you to double check if the pom file's name is the same with the name maven expects, and also to check if the pom file contents are valid. </p>\n"},{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":51,"creation_date":1394719494,"post_id":13348159,"comment_id":34022736,"body_markdown":"@MrPhi: If you have the m2e plugin, then you can use Maven -&gt; &quot;Update Project...&quot;. The next dialog will have an option to force updates of snapshots and releases.","body":"@MrPhi: If you have the m2e plugin, then you can use Maven -&gt; &quot;Update Project...&quot;. The next dialog will have an option to force updates of snapshots and releases."},{"owner":{"account_id":3016879,"reputation":15635,"user_id":2558778,"accept_rate":85,"display_name":"Jeroen"},"score":1,"creation_date":1397423746,"post_id":13348159,"comment_id":35216490,"body_markdown":"@AaronDigulla It&#39;s that dialog box which is causing the error for me.","body":"@AaronDigulla It&#39;s that dialog box which is causing the error for me."},{"owner":{"account_id":5325117,"reputation":861,"user_id":4247360,"accept_rate":54,"display_name":"Daria"},"score":2,"creation_date":1457977480,"post_id":13348159,"comment_id":59641445,"body_markdown":"To make this works you should run command being inside of root dir of your project","body":"To make this works you should run command being inside of root dir of your project"},{"owner":{"account_id":5003220,"reputation":600,"user_id":4021563,"accept_rate":64,"display_name":"JACK ZHANG"},"score":2,"creation_date":1522716301,"post_id":13348159,"comment_id":86248182,"body_markdown":"I had a similar issue as well. This really helps, and in addition, if you are using private mvn repo, make sure to add that to your `~/.m2/setting.xml` mirror section first, and then after running `mvn -U clean install`, make sure to `Reimport` (right click the project, then under the bottom `Maven` section there is a `Reimport` button).","body":"I had a similar issue as well. This really helps, and in addition, if you are using private mvn repo, make sure to add that to your <code>~&#47;.m2&#47;setting.xml</code> mirror section first, and then after running <code>mvn -U clean install</code>, make sure to <code>Reimport</code> (right click the project, then under the bottom <code>Maven</code> section there is a <code>Reimport</code> button)."},{"owner":{"account_id":3698221,"reputation":179,"user_id":6784380,"display_name":"Vishnu Dahatonde"},"score":1,"creation_date":1555909188,"post_id":13348159,"comment_id":98248481,"body_markdown":"@TomaszWaszczyk : Yes there is. \n1. Windows-show view-&gt;Terminal.                                                                                   2. Add local terminal                                                                                                    3. cd PomFilePath                                                                                               4. Run the command","body":"@TomaszWaszczyk : Yes there is.  1. Windows-show view-&gt;Terminal.                                                                                   2. Add local terminal                                                                                                    3. cd PomFilePath                                                                                               4. Run the command"}],"tags":[],"owner":{"account_id":169624,"reputation":19242,"user_id":395804,"accept_rate":76,"display_name":"Gal Bracha"},"comment_count":5,"down_vote_count":0,"up_vote_count":220,"is_accepted":false,"score":220,"last_activity_date":1551184913,"creation_date":1352740210,"answer_id":13348159,"question_id":6642146,"body_markdown":"You can always try `mvn -U clean install`\r\n\r\n`-U` forces a check for updated releases and snapshots on remote repositories.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>You can always try <code>mvn -U clean install</code></p>\n\n<p><code>-U</code> forces a check for updated releases and snapshots on remote repositories.</p>\n"},{"comments":[{"owner":{"account_id":48928,"reputation":9763,"user_id":145499,"accept_rate":88,"display_name":"inanutshellus"},"score":8,"creation_date":1452014009,"post_id":13382634,"comment_id":56980280,"body_markdown":"You need to have put in [proxy info into your .m2/settings.xml](https://maven.apache.org/guides/mini/guide-proxies.html)","body":"You need to have put in <a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">proxy info into your .m2/settings.xml</a>"}],"tags":[],"owner":{"account_id":403617,"reputation":9613,"user_id":771473,"display_name":"rrs"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1352909611,"creation_date":1352909611,"answer_id":13382634,"question_id":6642146,"body_markdown":"I know I&#39;m pretty late to the conversation, but I had this problem too. I think the issue was my company&#39;s firewall. My solution was to unplug from the network, connect to our open wireless and then force an update via Eclipse. This resolved everything.","title":"Maven: Failed to read artifact descriptor","body":"<p>I know I'm pretty late to the conversation, but I had this problem too. I think the issue was my company's firewall. My solution was to unplug from the network, connect to our open wireless and then force an update via Eclipse. This resolved everything.</p>\n"},{"tags":[],"owner":{"account_id":1668999,"reputation":963,"user_id":1535830,"display_name":"Roshan Khandelwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375740665,"creation_date":1375740665,"answer_id":18068641,"question_id":6642146,"body_markdown":"For me , it was related to setting the &quot;User Setting.xml&quot; inside \r\n  \r\n\r\n    Window &gt; preferences &gt; Maven &gt; User Settings &gt; and then browsing to the user Settings inside the { maven unarchived directory / }/apache-maven-2.2.1/conf/settings.xml . \r\n\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>For me , it was related to setting the \"User Setting.xml\" inside </p>\n\n<pre><code>Window &gt; preferences &gt; Maven &gt; User Settings &gt; and then browsing to the user Settings inside the { maven unarchived directory / }/apache-maven-2.2.1/conf/settings.xml . \n</code></pre>\n"},{"comments":[{"owner":{"account_id":211500,"reputation":1066,"user_id":463698,"accept_rate":90,"display_name":"Jacek Prucia"},"score":17,"creation_date":1444233759,"post_id":19525334,"comment_id":53818934,"body_markdown":"In addition, when running `mvn install` on parent you can also add `-N` for non-recursive operation. This will cause maven to skip all the modules (including one that fails) and just do `install` goal for the parent.","body":"In addition, when running <code>mvn install</code> on parent you can also add <code>-N</code> for non-recursive operation. This will cause maven to skip all the modules (including one that fails) and just do <code>install</code> goal for the parent."},{"owner":{"account_id":189438,"reputation":3782,"user_id":428768,"accept_rate":86,"display_name":"Adrian"},"score":0,"creation_date":1481848741,"post_id":19525334,"comment_id":69551811,"body_markdown":"@JacekPrucia good to know that a pom artifact also needs to be installed (if your parent is a pom)","body":"@JacekPrucia good to know that a pom artifact also needs to be installed (if your parent is a pom)"},{"owner":{"account_id":2478244,"reputation":4450,"user_id":2158382,"accept_rate":42,"display_name":"user2158382"},"score":0,"creation_date":1510073154,"post_id":19525334,"comment_id":81275988,"body_markdown":"@bzuillsmith why would you need to run `mvn install` in the parent pom. Wouldn&#39;t this only be used so the sibling dependency can be downloaded? If you happen to have went to the sibling directory &amp; ran `mvn install` from there so that the jar is in your local repository, doesn&#39;t this accomplish the same exact thing?","body":"@bzuillsmith why would you need to run <code>mvn install</code> in the parent pom. Wouldn&#39;t this only be used so the sibling dependency can be downloaded? If you happen to have went to the sibling directory &amp; ran <code>mvn install</code> from there so that the jar is in your local repository, doesn&#39;t this accomplish the same exact thing?"},{"owner":{"account_id":1824221,"reputation":3574,"user_id":1657490,"accept_rate":74,"display_name":"Ben Zuill-Smith"},"score":1,"creation_date":1510549187,"post_id":19525334,"comment_id":81465455,"body_markdown":"It&#39;s been a few years since I&#39;ve used maven, but--Yes, I believe you can install the sibling dependencies one by one. Installing from the parent just tends to be less work (fewer commands to type and run). There may be cases in large projects where you don&#39;t want all child projects installed in which case you would need to run them individually.","body":"It&#39;s been a few years since I&#39;ve used maven, but--Yes, I believe you can install the sibling dependencies one by one. Installing from the parent just tends to be less work (fewer commands to type and run). There may be cases in large projects where you don&#39;t want all child projects installed in which case you would need to run them individually."},{"owner":{"account_id":1143695,"reputation":1090,"user_id":1126944,"accept_rate":65,"display_name":"IcyBrk"},"score":0,"creation_date":1515855748,"post_id":19525334,"comment_id":83464439,"body_markdown":"My project like ch-multip-spring\\simple-parent\\simple-model\\pom.xml, I do mvn clean install from root ch-multip-spring folder(not from simple-parent as well), it solved my the issue similar to the post title.","body":"My project like ch-multip-spring\\simple-parent\\simple-model\\pom.xml, I do mvn clean install from root ch-multip-spring folder(not from simple-parent as well), it solved my the issue similar to the post title."},{"owner":{"account_id":3571848,"reputation":643,"user_id":2981971,"display_name":"Zhou"},"score":0,"creation_date":1588594062,"post_id":19525334,"comment_id":108948851,"body_markdown":"@bzuillsmith Wow! This answer did save me. Doing `mvn install` at least once on the parent pom is the key! My spring-boot subproject kept failing to resolve the dependency on a sibling subproject, even if I did `mvn install` **on that sibling**! But once I did `mvn -N install` on the parent, the spring-boot subproject finally started to work. So, again, `mvn -N install` on the parent is the key. (although I don&#39;t know why yet)","body":"@bzuillsmith Wow! This answer did save me. Doing <code>mvn install</code> at least once on the parent pom is the key! My spring-boot subproject kept failing to resolve the dependency on a sibling subproject, even if I did <code>mvn install</code> <b>on that sibling</b>! But once I did <code>mvn -N install</code> on the parent, the spring-boot subproject finally started to work. So, again, <code>mvn -N install</code> on the parent is the key. (although I don&#39;t know why yet)"},{"owner":{"account_id":4188273,"reputation":166,"user_id":3431443,"display_name":"Charles Zhao"},"score":0,"creation_date":1591958994,"post_id":19525334,"comment_id":110258423,"body_markdown":"Man, you a life saver! Been wasting days trying to figure out why it failed on my project...","body":"Man, you a life saver! Been wasting days trying to figure out why it failed on my project..."}],"tags":[],"owner":{"account_id":1824221,"reputation":3574,"user_id":1657490,"accept_rate":74,"display_name":"Ben Zuill-Smith"},"comment_count":7,"down_vote_count":1,"up_vote_count":182,"is_accepted":false,"score":181,"last_activity_date":1462236208,"creation_date":1382465687,"answer_id":19525334,"question_id":6642146,"body_markdown":"This problem can occur if you have some child projects that refer to a parent pom and you have not installed from the parent pom directory (run `mvn install` from the parent directory). One of the child projects may depend on a sibling project and when it goes to read the pom of the sibling, it will fail with the error mentioned in the question unless you have installed from the parent pom directory at least once.\r\n\r\nI just ran into this problem when moving a project to a new computer. I was in the habit of running commands from the child project and didn&#39;t run install on the parent.","title":"Maven: Failed to read artifact descriptor","body":"<p>This problem can occur if you have some child projects that refer to a parent pom and you have not installed from the parent pom directory (run <code>mvn install</code> from the parent directory). One of the child projects may depend on a sibling project and when it goes to read the pom of the sibling, it will fail with the error mentioned in the question unless you have installed from the parent pom directory at least once.</p>\n\n<p>I just ran into this problem when moving a project to a new computer. I was in the habit of running commands from the child project and didn't run install on the parent.</p>\n"},{"comments":[{"owner":{"account_id":2153018,"reputation":805,"user_id":1908846,"display_name":"Armstrongya"},"score":0,"creation_date":1638596955,"post_id":22380429,"comment_id":124136113,"body_markdown":"Thanks for your help. I meet the same problem, project A add a dependency from project B&#39;s submodule B-IDL. I should mvn deploy whole B project, not just mvn deploy submodule B-IDL.","body":"Thanks for your help. I meet the same problem, project A add a dependency from project B&#39;s submodule B-IDL. I should mvn deploy whole B project, not just mvn deploy submodule B-IDL."}],"tags":[],"owner":{"account_id":1577535,"reputation":1048,"user_id":1463629,"accept_rate":50,"display_name":"Kanad"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1492614648,"creation_date":1394718031,"answer_id":22380429,"question_id":6642146,"body_markdown":"I have a project \r\n\r\n     A/\r\n     |--a1\r\n     |--a2\r\n\r\nNow there is another project in our org\r\n\r\n     B/\r\n     |--b1\r\n     |--b2\r\n     |--b3\r\n\r\n(Every module a1, b1 etc. and Parent projects A, B have their own pom.xml as per standard maven rules of parent and child)\r\n\r\nBoth projects are checked out on my local eclipse (from SVN). I am actively working on A. \r\n\r\nI came to know that there is a good common functionality (b4) developed in B and I needed to use it. \r\n\r\n     B/\r\n     |--b1\r\n     |--b2\r\n     |--b3\r\n     |--b4 (NEW)\r\n\r\nDeveloper of b4 have deployed this b4 module as an artifact in our org&#39;s repository. I included the dependancy to my module&#39;s POM i.e. a2&#39;s pom.xml. Eclipse downloaded the reuqired artifact from repo and I could import the classes in it.\r\n\r\nNow issue starts...\r\nI needed to check the source code of b4 for some purpose and as I already had B checked out on my local eclipse I updated it from SVN and checked out module b4. I also ran pom.xml of module b4 with targets like clean, package etc.\r\nAfter some time when I finishedd my coding I needed to create a JAR of my module a2. I ran &quot;package&quot; on a2&#39;s pom.xml and BAM!! errors n errors for a2 module.. These errors were also not very user friendly. Only thing is there was b4&#39;s name for sure in logs.\r\n\r\nSolution:\r\nAfter trying for many solutions for many hours, I ran &quot;mvn -U clean install&quot; from console in my B&#39;s  project directoty (i.e. in ../codebase/B). As B is the parent, clean install command ran for all modules including b4 and it ran successfully. After this I ran &quot;mvn -U clean install&quot; for my parent project which is A. And this worked! a2 module got compiled, installed, (packaged later) succesfully.\r\n\r\nHere important point was if b4 is in your workspace do not only install b4. You will need to clean-install complete B. I came up to this solution after reading answer from **Zuill**\r\n\r\n**EDIT: One more thing here to note that if I didn&#39;t had B project checked out in Local environment then this issue might not have occurred for me. I tend to think that this happened cause I had B checked out in my local workspace.**","title":"Maven: Failed to read artifact descriptor","body":"<p>I have a project </p>\n\n<pre><code> A/\n |--a1\n |--a2\n</code></pre>\n\n<p>Now there is another project in our org</p>\n\n<pre><code> B/\n |--b1\n |--b2\n |--b3\n</code></pre>\n\n<p>(Every module a1, b1 etc. and Parent projects A, B have their own pom.xml as per standard maven rules of parent and child)</p>\n\n<p>Both projects are checked out on my local eclipse (from SVN). I am actively working on A. </p>\n\n<p>I came to know that there is a good common functionality (b4) developed in B and I needed to use it. </p>\n\n<pre><code> B/\n |--b1\n |--b2\n |--b3\n |--b4 (NEW)\n</code></pre>\n\n<p>Developer of b4 have deployed this b4 module as an artifact in our org's repository. I included the dependancy to my module's POM i.e. a2's pom.xml. Eclipse downloaded the reuqired artifact from repo and I could import the classes in it.</p>\n\n<p>Now issue starts...\nI needed to check the source code of b4 for some purpose and as I already had B checked out on my local eclipse I updated it from SVN and checked out module b4. I also ran pom.xml of module b4 with targets like clean, package etc.\nAfter some time when I finishedd my coding I needed to create a JAR of my module a2. I ran \"package\" on a2's pom.xml and BAM!! errors n errors for a2 module.. These errors were also not very user friendly. Only thing is there was b4's name for sure in logs.</p>\n\n<p>Solution:\nAfter trying for many solutions for many hours, I ran \"mvn -U clean install\" from console in my B's  project directoty (i.e. in ../codebase/B). As B is the parent, clean install command ran for all modules including b4 and it ran successfully. After this I ran \"mvn -U clean install\" for my parent project which is A. And this worked! a2 module got compiled, installed, (packaged later) succesfully.</p>\n\n<p>Here important point was if b4 is in your workspace do not only install b4. You will need to clean-install complete B. I came up to this solution after reading answer from <strong>Zuill</strong></p>\n\n<p><strong>EDIT: One more thing here to note that if I didn't had B project checked out in Local environment then this issue might not have occurred for me. I tend to think that this happened cause I had B checked out in my local workspace.</strong></p>\n"},{"comments":[{"owner":{"account_id":3618255,"reputation":727,"user_id":3017645,"accept_rate":26,"display_name":"Anand"},"score":4,"creation_date":1510557990,"post_id":26870020,"comment_id":81468586,"body_markdown":"It works for me. But I dont understand why? Any explanation behind this?","body":"It works for me. But I dont understand why? Any explanation behind this?"},{"owner":{"account_id":2331506,"reputation":135,"user_id":2044822,"display_name":"user2044822"},"score":1,"creation_date":1534947467,"post_id":26870020,"comment_id":90888142,"body_markdown":"this did not work for me, initially 12 decencies were missing, after doing this it is 74 now","body":"this did not work for me, initially 12 decencies were missing, after doing this it is 74 now"}],"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"comment_count":2,"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1623584190,"creation_date":1415724442,"answer_id":26870020,"question_id":6642146,"body_markdown":"If you&#39;re using Eclipse:\r\n\r\n* *Right click on project &gt; Properties &gt; Maven*\r\n\r\n* Make sure that *Resolve dependencies from workspace projects* is not clicked.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>If you're using Eclipse:</p>\n<ul>\n<li><p><em>Right click on project &gt; Properties &gt; Maven</em></p>\n</li>\n<li><p>Make sure that <em>Resolve dependencies from workspace projects</em> is not clicked.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2443555,"reputation":638,"user_id":2131439,"display_name":"Maverick"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1451896742,"creation_date":1451896380,"answer_id":34587233,"question_id":6642146,"body_markdown":"Reference \r\n[https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer][1]\r\n\r\n    find ~/.m2  -name &quot;*.lastUpdated&quot; -exec grep -q &quot;Could not transfer&quot; {} \\; -print -exec rm {} \\;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer","title":"Maven: Failed to read artifact descriptor","body":"<p>Reference \n<a href=\"https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer\">Maven error &quot;Failure to transfer...&quot;</a></p>\n\n<pre><code>find ~/.m2  -name \"*.lastUpdated\" -exec grep -q \"Could not transfer\" {} \\; -print -exec rm {} \\;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460925482,"creation_date":1460925482,"answer_id":36681955,"question_id":6642146,"body_markdown":"I had this problem in eclipse, `mvn -U clean install` didn&#39;t work but right clicking the project and selecting Maven-&gt;Update Project fixed it.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had this problem in eclipse, <code>mvn -U clean install</code> didn't work but right clicking the project and selecting Maven->Update Project fixed it.</p>\n"},{"tags":[],"owner":{"account_id":4886642,"reputation":131,"user_id":3938903,"display_name":"Jose Peralez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464984578,"creation_date":1464983946,"answer_id":37622448,"question_id":6642146,"body_markdown":"I just started using STS Eclipse with first time using Maven. The project I setup already had its own settings.xml. If this is the case, you&#39;ll want to update your settings.xml file in run configuration.\r\n\r\n1. right click the pom.xml and &quot;Run As&quot; -&gt; &quot;Run Configurations...&quot;\r\n\r\n2. where it says &quot;User settings&quot; click on the File button and add the settings.xml.\r\n\r\n3. I think this is specific to your project but my &quot;Goals&quot; is set to &quot;clean install&quot; and I checked on &quot;Skip Tests.&quot;\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>I just started using STS Eclipse with first time using Maven. The project I setup already had its own settings.xml. If this is the case, you'll want to update your settings.xml file in run configuration.</p>\n\n<ol>\n<li><p>right click the pom.xml and \"Run As\" -> \"Run Configurations...\"</p></li>\n<li><p>where it says \"User settings\" click on the File button and add the settings.xml.</p></li>\n<li><p>I think this is specific to your project but my \"Goals\" is set to \"clean install\" and I checked on \"Skip Tests.\"</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5151181,"reputation":1103,"user_id":4125761,"display_name":"Anuradha Fernando"},"score":0,"creation_date":1598947654,"post_id":39478097,"comment_id":112613674,"body_markdown":"This worked for me. The repository section of the pom.xml file should be properly updated and the &lt;/id&gt; tag should be the name of the repository. Saved a lot of my time!","body":"This worked for me. The repository section of the pom.xml file should be properly updated and the &lt;/id&gt; tag should be the name of the repository. Saved a lot of my time!"}],"tags":[],"owner":{"account_id":106813,"reputation":12029,"user_id":284364,"accept_rate":83,"display_name":"Phil Rykoff"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473796792,"creation_date":1473796792,"answer_id":39478097,"question_id":6642146,"body_markdown":"For me, it seems to actually have been a problem with the dependency POM.\r\n\r\nI worked around it by using the jitpack virtual repository, with which you can include github repositories based on their URL instead of their own POM (which seems to have been erroneous in my case).\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;","title":"Maven: Failed to read artifact descriptor","body":"<p>For me, it seems to actually have been a problem with the dependency POM.</p>\n\n<p>I worked around it by using the jitpack virtual repository, with which you can include github repositories based on their URL instead of their own POM (which seems to have been erroneous in my case).</p>\n\n<pre><code>    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1497400432,"post_id":41888878,"comment_id":76058632,"body_markdown":"Tried doing a Maven resync while offline, and completely hosed IntelliJ. Followed your advice, deleted .m2, and now it&#39;s working like a charm! Thanks!","body":"Tried doing a Maven resync while offline, and completely hosed IntelliJ. Followed your advice, deleted .m2, and now it&#39;s working like a charm! Thanks!"}],"tags":[],"owner":{"account_id":2048817,"reputation":111,"user_id":1828265,"display_name":"sakhoshdel"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485502195,"creation_date":1485502195,"answer_id":41888878,"question_id":6642146,"body_markdown":"I had the same problem for a while and despite doing `mvn -U clean install` the problem was not getting solved!\r\n\r\nI finally solved the problem by deleting the whole `.m2` folder and then restarted my IDE and the problem was gone!\r\n\r\nSo sometimes the problem would rise because of some incompatibilities or problems in your local maven repository.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had the same problem for a while and despite doing <code>mvn -U clean install</code> the problem was not getting solved!</p>\n\n<p>I finally solved the problem by deleting the whole <code>.m2</code> folder and then restarted my IDE and the problem was gone!</p>\n\n<p>So sometimes the problem would rise because of some incompatibilities or problems in your local maven repository.</p>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"comment_count":0,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1489590604,"creation_date":1489590604,"answer_id":42813668,"question_id":6642146,"body_markdown":"If you are using Eclipse, **Right Click on your Project** -&gt; **Maven** -&gt; **Update Project**. It will open Update Maven Project dialog box. \r\n\r\nIn that dialog box, check **Force Update of Snapshots/Releases** checkbox &amp; click **OK**. (Please refer image below)\r\n\r\n[![Update Maven Project Dialog Box][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gupF2.png\r\n\r\nThis worked for me ! ","title":"Maven: Failed to read artifact descriptor","body":"<p>If you are using Eclipse, <strong>Right Click on your Project</strong> -> <strong>Maven</strong> -> <strong>Update Project</strong>. It will open Update Maven Project dialog box. </p>\n\n<p>In that dialog box, check <strong>Force Update of Snapshots/Releases</strong> checkbox &amp; click <strong>OK</strong>. (Please refer image below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/gupF2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gupF2.png\" alt=\"Update Maven Project Dialog Box\"></a></p>\n\n<p>This worked for me ! </p>\n"},{"tags":[],"owner":{"account_id":2504087,"reputation":509,"user_id":2178360,"display_name":"William"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502473683,"creation_date":1502473683,"answer_id":45641053,"question_id":6642146,"body_markdown":"I had a similar problem.  In my case, the version of testng in my .m2/repositories folder was corrupt, but when I deleted it &amp; did a maven update again, everything worked fine.","title":"Maven: Failed to read artifact descriptor","body":"<p>I had a similar problem.  In my case, the version of testng in my .m2/repositories folder was corrupt, but when I deleted it &amp; did a maven update again, everything worked fine.</p>\n"},{"comments":[{"owner":{"account_id":6016267,"reputation":117,"user_id":4725028,"accept_rate":75,"display_name":"SML"},"score":1,"creation_date":1516842423,"post_id":45697349,"comment_id":83859722,"body_markdown":"This worked for me, but I don&#39;t understand why - I was attempting to build from the command line. Was there something cached from IntelliJ?","body":"This worked for me, but I don&#39;t understand why - I was attempting to build from the command line. Was there something cached from IntelliJ?"},{"owner":{"account_id":4731801,"reputation":148,"user_id":3827221,"display_name":"Ben Arena"},"score":0,"creation_date":1525985545,"post_id":45697349,"comment_id":87579219,"body_markdown":"Worked for me too! Can&#39;t believe how frustrating this was. Thanks!","body":"Worked for me too! Can&#39;t believe how frustrating this was. Thanks!"},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":1,"creation_date":1536132756,"post_id":45697349,"comment_id":91309034,"body_markdown":"@ goodOldFashioned: This &quot;always update&quot; overwrote the ....lastUpdated file from the local repository.   -U does the same from the commandline.  So intellij fixed your local repo, and then the commandline worked again.","body":"@ goodOldFashioned: This &quot;always update&quot; overwrote the ....lastUpdated file from the local repository.   -U does the same from the commandline.  So intellij fixed your local repo, and then the commandline worked again."},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1547736795,"post_id":45697349,"comment_id":95301509,"body_markdown":"Simple and effective","body":"Simple and effective"},{"owner":{"account_id":1762658,"reputation":613,"user_id":1609313,"accept_rate":69,"display_name":"khawarizmi"},"score":3,"creation_date":1549894331,"post_id":45697349,"comment_id":96057044,"body_markdown":"after browsing the whole internet, finally this worked for me","body":"after browsing the whole internet, finally this worked for me"}],"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"comment_count":5,"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1508875242,"creation_date":1502814958,"answer_id":45697349,"question_id":6642146,"body_markdown":"Had the same issue with IntelliJ IDEA and following worked. \r\n\r\n - Go to `File`\r\n - Select `Settings`\r\n - Select `Build, Execution, Deployments`\r\n - Select `Build Tools` from drop down\r\n - Select `Maven` from drop down\r\n - Tick the `Always update snapshots` check box\r\n\r\n[![screen shot of IntelliJ 2017.2 &gt; Preferences/Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Always update snapshots (checkbox)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NVfCJ.jpg","title":"Maven: Failed to read artifact descriptor","body":"<p>Had the same issue with IntelliJ IDEA and following worked. </p>\n\n<ul>\n<li>Go to <code>File</code></li>\n<li>Select <code>Settings</code></li>\n<li>Select <code>Build, Execution, Deployments</code></li>\n<li>Select <code>Build Tools</code> from drop down</li>\n<li>Select <code>Maven</code> from drop down</li>\n<li>Tick the <code>Always update snapshots</code> check box</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NVfCJ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NVfCJ.jpg\" alt=\"screen shot of IntelliJ 2017.2 &gt; Preferences/Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Always update snapshots (checkbox)\"></a></p>\n"},{"comments":[{"owner":{"account_id":5516094,"reputation":1036,"user_id":4380823,"accept_rate":64,"display_name":"Imam Bux"},"score":1,"creation_date":1545303570,"post_id":49037825,"comment_id":94581793,"body_markdown":"Yeah, like life is just that simple. Anyways, @prime answer worked for me.","body":"Yeah, like life is just that simple. Anyways, @prime answer worked for me."}],"tags":[],"owner":{"account_id":4243794,"reputation":425,"user_id":3473034,"accept_rate":67,"display_name":"rlopezo"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1519848928,"creation_date":1519848928,"answer_id":49037825,"question_id":6642146,"body_markdown":"I had same problem using IntelliJ. I solved with right click on pom.xml &gt; Maven &gt; Reimport","title":"Maven: Failed to read artifact descriptor","body":"<p>I had same problem using IntelliJ. I solved with right click on pom.xml > Maven > Reimport</p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528464582,"creation_date":1528464582,"answer_id":50761755,"question_id":6642146,"body_markdown":"In our case the error appeared because of the incorrect groupId renaming while some of the projects in multi-module Maven configuration references to others.\r\n\r\nWe had an aggregator project (`billing-parent`) with two modules (`billing-api`, `billing`):\r\n\r\n    com.company.team:billing-parent\r\n    |-com.company.team:billing-api\r\n    |-com.company.team:billing\r\n    \r\nProject `billing` depends on `billing-api`. So in its `pom.xml` it had:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.company.team&lt;/groupId&gt;\r\n        &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nWe decided to rename groupId from `com.company.team` to `com.company.team.billing`. We replaced old value in parent&#39;s `pom.xml` and in `&lt;parent&gt;` sections of both modules. But forgot to update dependency above. So we had got configuration in which `billing` project references old `billing-api` artifact. Eventually it beaks build of the `billing` module after some time with the error like\r\n\r\n```[ERROR] Failed to execute goal on project billing: Could not resolve dependencies for project com.company.team.billing:billing:jar:3.5.1-SNAPSHOT: Failed to collect dependencies at com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failed to read artifact descriptor for com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failure to find &lt;parent of the com.company.team:billing-parent project which is not available any more&gt;\r\n```   \r\n \r\ndespite the fact that `billing-api` module builds without errors.\r\n\r\nSolution 1: rename `groupId` in `dependency` as well.\r\n\r\nSolution 2: replace `groupId` by the `${project.groupId}` property like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Conclusion.**\r\nSo my advice in case you encountered with the error in multi-module configuration whould be: thoroughly check `groupId` and `artifactId` of the dependencies on neighbour modules.","title":"Maven: Failed to read artifact descriptor","body":"<p>In our case the error appeared because of the incorrect groupId renaming while some of the projects in multi-module Maven configuration references to others.</p>\n\n<p>We had an aggregator project (<code>billing-parent</code>) with two modules (<code>billing-api</code>, <code>billing</code>):</p>\n\n<pre><code>com.company.team:billing-parent\n|-com.company.team:billing-api\n|-com.company.team:billing\n</code></pre>\n\n<p>Project <code>billing</code> depends on <code>billing-api</code>. So in its <code>pom.xml</code> it had:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.company.team&lt;/groupId&gt;\n    &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>We decided to rename groupId from <code>com.company.team</code> to <code>com.company.team.billing</code>. We replaced old value in parent's <code>pom.xml</code> and in <code>&lt;parent&gt;</code> sections of both modules. But forgot to update dependency above. So we had got configuration in which <code>billing</code> project references old <code>billing-api</code> artifact. Eventually it beaks build of the <code>billing</code> module after some time with the error like</p>\n\n<p><code>[ERROR] Failed to execute goal on project billing: Could not resolve dependencies for project com.company.team.billing:billing:jar:3.5.1-SNAPSHOT: Failed to collect dependencies at com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failed to read artifact descriptor for com.company.team:billing-api:jar:3.5.1-SNAPSHOT: Failure to find &lt;parent of the com.company.team:billing-parent project which is not available any more&gt;\n</code>   </p>\n\n<p>despite the fact that <code>billing-api</code> module builds without errors.</p>\n\n<p>Solution 1: rename <code>groupId</code> in <code>dependency</code> as well.</p>\n\n<p>Solution 2: replace <code>groupId</code> by the <code>${project.groupId}</code> property like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n    &lt;artifactId&gt;billing-api&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Conclusion.</strong>\nSo my advice in case you encountered with the error in multi-module configuration whould be: thoroughly check <code>groupId</code> and <code>artifactId</code> of the dependencies on neighbour modules.</p>\n"},{"comments":[{"owner":{"account_id":387908,"reputation":614,"user_id":746528,"accept_rate":20,"display_name":"Prashant Kalkar"},"score":0,"creation_date":1594372249,"post_id":52241758,"comment_id":111108811,"body_markdown":"This was my issue. Once I deleted the lastUpdated file for the dependency which was failing it worked fine.","body":"This was my issue. Once I deleted the lastUpdated file for the dependency which was failing it worked fine."}],"tags":[],"owner":{"account_id":4694486,"reputation":1307,"user_id":3799695,"accept_rate":56,"display_name":"Sandoval0992"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536472525,"creation_date":1536472525,"answer_id":52241758,"question_id":6642146,"body_markdown":"This error is basically saying that maven couldn&#39;t read a certain dependency from local repository. It might happend because a jar file didn&#39;t get downloaded correctly. So, go to your maven local repository and make sure there isn&#39;t any **.lastUpdated** extension file.\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>This error is basically saying that maven couldn't read a certain dependency from local repository. It might happend because a jar file didn't get downloaded correctly. So, go to your maven local repository and make sure there isn't any <strong>.lastUpdated</strong> extension file.</p>\n"},{"tags":[],"owner":{"account_id":5640275,"reputation":379,"user_id":4464360,"accept_rate":75,"display_name":"Abhijeet Kale"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1568640904,"creation_date":1558961198,"answer_id":56326414,"question_id":6642146,"body_markdown":"Navigate via shell inside of your project folder and run following command: \r\n\r\n```sh\r\nmvn -U clean install\r\n```\r\n\r\nUsually this should already solve your problem.\r\n\r\nIf you see a message like this:\r\n\r\n&gt; Could not resolve dependencies for project :war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.sun.jersey:jersey-server:jar:1.9\r\n\r\nThen execute:\r\n\r\n```sh\r\nexport MAVEN_OPTS=-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\r\n```\r\n\r\nfollowed by:\r\n\r\n```sh\r\nmvn -U clean install\r\n```\r\nagain to finally update your dependencies. \r\n\r\nAfterwards perform clean maven build: \r\n\r\n```sh\r\nmaven clean install\r\n```\r\n\r\n\r\n","title":"Maven: Failed to read artifact descriptor","body":"<p>Navigate via shell inside of your project folder and run following command: </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn -U clean install\n</code></pre>\n\n<p>Usually this should already solve your problem.</p>\n\n<p>If you see a message like this:</p>\n\n<blockquote>\n  <p>Could not resolve dependencies for project :war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.sun.jersey:jersey-server:jar:1.9</p>\n</blockquote>\n\n<p>Then execute:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_OPTS=-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\n</code></pre>\n\n<p>followed by:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn -U clean install\n</code></pre>\n\n<p>again to finally update your dependencies. </p>\n\n<p>Afterwards perform clean maven build: </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>maven clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11960514,"reputation":91,"user_id":8751687,"display_name":"Nhlanhla R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678821933,"creation_date":1587288396,"answer_id":61302123,"question_id":6642146,"body_markdown":"This helped me:\r\n\r\nFrom the IDE (*Red Hat CodeReady Studio* in my case, but [@mavaddat-javid][1] has verified in VS Code 1.77.0).\r\n\r\nWindows -&gt; Show View -&gt; Terminal -&gt; Open/Add local terminal\r\n\r\nRun commands as follows &gt; \r\n\r\n$ `cd /pom-file-path/`\r\n\r\n$ `mvn -U clean install`\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1757756/mavaddat-javid","title":"Maven: Failed to read artifact descriptor","body":"<p>This helped me:</p>\n<p>From the IDE (<em>Red Hat CodeReady Studio</em> in my case, but <a href=\"https://stackoverflow.com/users/1757756/mavaddat-javid\">@mavaddat-javid</a> has verified in VS Code 1.77.0).</p>\n<p>Windows -&gt; Show View -&gt; Terminal -&gt; Open/Add local terminal</p>\n<p>Run commands as follows &gt;</p>\n<p>$ <code>cd /pom-file-path/</code></p>\n<p>$ <code>mvn -U clean install</code></p>\n"},{"comments":[{"owner":{"account_id":4874009,"reputation":187,"user_id":3929660,"display_name":"OlivierBondu"},"score":0,"creation_date":1697540056,"post_id":64856402,"comment_id":136289923,"body_markdown":"thanks! this looks a better lead to investigate in my case !","body":"thanks! this looks a better lead to investigate in my case !"}],"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605522873,"creation_date":1605522873,"answer_id":64856402,"question_id":6642146,"body_markdown":"I know I&#39;m brave, nine years after the question...\r\n\r\nFor me it was a problem where sub-dependencies weren&#39;t found. I finally found the real issue by looking at the &quot;Error Log&quot;-view that held a `An internal error occurred during: &quot;Building&quot;.`-line. Double-clicking it showed a pop-up with a stacktrace and the last cause finally disclosed a broken JAR in my local repository. I cleaned that up and Eclipse/m2e was able to work again.","title":"Maven: Failed to read artifact descriptor","body":"<p>I know I'm brave, nine years after the question...</p>\n<p>For me it was a problem where sub-dependencies weren't found. I finally found the real issue by looking at the &quot;Error Log&quot;-view that held a <code>An internal error occurred during: &quot;Building&quot;.</code>-line. Double-clicking it showed a pop-up with a stacktrace and the last cause finally disclosed a broken JAR in my local repository. I cleaned that up and Eclipse/m2e was able to work again.</p>\n"},{"tags":[],"owner":{"account_id":1916343,"reputation":402,"user_id":1728856,"accept_rate":40,"display_name":"Cagin Uludamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678169293,"creation_date":1678169293,"answer_id":75658526,"question_id":6642146,"body_markdown":"I&#39;ll answer this question because it is the first one goggle finds. In my case, root cause was hidden in the stack trace of the problem:\r\n\r\n    \tFailed to read artifact descriptor for jakarta.activation:jakarta.activation-api:jar:1.2.2\r\n\t\tat org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:255)\r\n\t\t...\r\n\t\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\tCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: jakarta.activation:jakarta.activation-api:pom:1.2.2 failed to transfer from https://nexus.akbankpreprod.com/repository/maven-public/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of maven-public has elapsed or updates are forced. Original error: Could not transfer artifact jakarta.activation:jakarta.activation-api:pom:1.2.2 from/to maven-public (https://nexus.akbankpreprod.com/repository/maven-public/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n&quot;Original error&quot; section says I need to add my nexus server&#39;s sercurity certificate to jre trust store.","title":"Maven: Failed to read artifact descriptor","body":"<p>I'll answer this question because it is the first one goggle finds. In my case, root cause was hidden in the stack trace of the problem:</p>\n<pre><code>    Failed to read artifact descriptor for jakarta.activation:jakarta.activation-api:jar:1.2.2\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:255)\n    ...\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: jakarta.activation:jakarta.activation-api:pom:1.2.2 failed to transfer from https://nexus.akbankpreprod.com/repository/maven-public/ during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of maven-public has elapsed or updates are forced. Original error: Could not transfer artifact jakarta.activation:jakarta.activation-api:pom:1.2.2 from/to maven-public (https://nexus.akbankpreprod.com/repository/maven-public/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>&quot;Original error&quot; section says I need to add my nexus server's sercurity certificate to jre trust store.</p>\n"}],"owner":{"account_id":27304,"reputation":3747,"user_id":71936,"accept_rate":59,"display_name":"Morrislgn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735173,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"answer_count":25,"score":334,"last_activity_date":1678821933,"creation_date":1310313994,"question_id":6642146,"body_markdown":"I am hoping someone can help me with a problem I am struggling with.\r\n\r\nWhen I try to build my project from the terminal I get this error:\r\n\r\n    Failed to read artifact descriptor for com.morrislgn.merchandising.common:test-data-utils:jar:0.3b-SNAPSHOT: Could not find artifact com.morrislgn.merchandising:merchandising:pom:0.3b-SNAPSHOT\r\n\r\nThe `common.test-data-utils` jar is created by a separate project and shared between this and another project (the other project doesn&#39;t build either, but that is down to another problem). \r\n\r\nI am able to build `com.morrislgn.merchandising.common:test-data-utils` without issue, I can see the entry it makes in the `.m2` local repository on my machine. I have reindexed my repository in Eclipse also. \r\n\r\nThe POM for my project has this entry:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.morrislgn.merchandising.common&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-data-utils&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.3b-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhich appears to be correct to me - the POM doesn&#39;t report any errors either when it is viewed in Eclipse.\r\n\r\nCan some one tell me what I am missing here or doing wrong?","title":"Maven: Failed to read artifact descriptor","body":"<p>I am hoping someone can help me with a problem I am struggling with.</p>\n\n<p>When I try to build my project from the terminal I get this error:</p>\n\n<pre><code>Failed to read artifact descriptor for com.morrislgn.merchandising.common:test-data-utils:jar:0.3b-SNAPSHOT: Could not find artifact com.morrislgn.merchandising:merchandising:pom:0.3b-SNAPSHOT\n</code></pre>\n\n<p>The <code>common.test-data-utils</code> jar is created by a separate project and shared between this and another project (the other project doesn't build either, but that is down to another problem). </p>\n\n<p>I am able to build <code>com.morrislgn.merchandising.common:test-data-utils</code> without issue, I can see the entry it makes in the <code>.m2</code> local repository on my machine. I have reindexed my repository in Eclipse also. </p>\n\n<p>The POM for my project has this entry:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.morrislgn.merchandising.common&lt;/groupId&gt;\n    &lt;artifactId&gt;test-data-utils&lt;/artifactId&gt;\n    &lt;version&gt;0.3b-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Which appears to be correct to me - the POM doesn't report any errors either when it is viewed in Eclipse.</p>\n\n<p>Can some one tell me what I am missing here or doing wrong?</p>\n"},{"tags":["java","audio","mp4","mp4parser"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678836415,"post_id":75737533,"comment_id":133610173,"body_markdown":"*(preferably not ffmpeg, I am having dependency issue)* Can you expand?","body":"<i>(preferably not ffmpeg, I am having dependency issue)</i> Can you expand?"},{"owner":{"account_id":15586107,"reputation":11,"user_id":11244582,"display_name":"mourningraptor3"},"score":0,"creation_date":1678840581,"post_id":75737533,"comment_id":133610762,"body_markdown":"This is being done in an AWS lambda function. I understand that I have to include native libraries in order to use ffmpeg with Java. In addition, I saw different libraries were needed for different platforms using the app. I don&#39;t know exactly how many platforms will use our app. And in any case, I have been having a hard time getting the native libraries included in the lambda file directory","body":"This is being done in an AWS lambda function. I understand that I have to include native libraries in order to use ffmpeg with Java. In addition, I saw different libraries were needed for different platforms using the app. I don&#39;t know exactly how many platforms will use our app. And in any case, I have been having a hard time getting the native libraries included in the lambda file directory"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1679170148,"post_id":75737533,"comment_id":133674773,"body_markdown":"@mourningraptor3 If the problem is a &quot;not working file&quot; why not share a link to a small example? If you can be told what&#39;s wrong with the output video, then you can also know how to fix your code to (possibly) stop the issue","body":"@mourningraptor3 If the problem is a &quot;not working file&quot; why not share a link to a small example? If you can be told what&#39;s wrong with the output video, then you can also know how to fix your code to (possibly) stop the issue"}],"owner":{"account_id":15586107,"reputation":11,"user_id":11244582,"display_name":"mourningraptor3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678821834,"creation_date":1678821834,"question_id":75737533,"body_markdown":"I am trying to remove audio from MP4 files, and then upload the muted version to an S3 bucket. I am doing this using MP4Parser. Some files work, and a muted version uploads as expected. Others upload, but are unviewable. Instead, there is an error screen that says &quot;This video can&#39;t be watch because the file is corrupt.&quot; Files that work, always work, and files that don&#39;t work, never work. Here is the function that removes audio:\r\n\r\n    private static void removeAudioFromVideo(MovieBox movieBox, IsoFile isoFile,\r\n                                              String filePath, String requestId) throws IOException {\r\n         Path path = Paths.get(filePath);\r\n         path = path.getFileName();\r\n         String fileName = path.toString();\r\n\r\n         List&lt;TrackBox&gt; trackBoxesToRemove = new ArrayList&lt;&gt;();\r\n         for (TrackBox trackBox : movieBox.getBoxes(TrackBox.class)) {\r\n             String handlerType = trackBox.getMediaBox().getHandlerBox().getHandlerType();\r\n             if(handlerType.equals(AUDIO_HANDLER_TYPE)) {\r\n                 trackBoxesToRemove.add(trackBox);\r\n             }\r\n         }\r\n         for (TrackBox trackBox : trackBoxesToRemove) {\r\n             movieBox.getBoxes().remove(trackBox);\r\n         }\r\n         ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n         WritableByteChannel byteChannel = Channels.newChannel(outputStream);\r\n         isoFile.getBox(byteChannel);\r\n\r\n         byte[] mutedFileBytes = outputStream.toByteArray();\r\n         ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(mutedFileBytes);\r\n         ObjectMetadata objectMetadata = new ObjectMetadata();\r\n         objectMetadata.setContentLength(mutedFileBytes.length);\r\n\r\n         s3Client.putObject(INPUT_BUCKET_NAME, &quot;input/HFE/&quot;+ requestId\r\n                 + &quot;/refinedVideo/refined_&quot; + fileName, byteArrayInputStream, objectMetadata);\r\n         byteArrayInputStream.close();\r\n         byteChannel.close();\r\n         outputStream.close();\r\n     }\r\n\r\nI know the issue is related to audio removal, because if I remove audio removal, all files get uploaded successfully. The audio is removed in these lines:\r\n\r\n     for (TrackBox trackBox : trackBoxesToRemove) {\r\n         movieBox.getBoxes().remove(trackBox);\r\n     }\r\n\r\nI am not sure how else I can remove audio. It seems like it could be a file issue. I have tried looking at some metadata with FFMPEG, but nothing jumps out as an obvious difference between files that work and files that don&#39;t. I&#39;m also open to other Java libraries for this (preferably not ffmpeg, I am having dependency issue), or a different way to remove audio using MP4Parser, ","title":"Removing audio from MP4 file causes corrupted file","body":"<p>I am trying to remove audio from MP4 files, and then upload the muted version to an S3 bucket. I am doing this using MP4Parser. Some files work, and a muted version uploads as expected. Others upload, but are unviewable. Instead, there is an error screen that says &quot;This video can't be watch because the file is corrupt.&quot; Files that work, always work, and files that don't work, never work. Here is the function that removes audio:</p>\n<pre><code>private static void removeAudioFromVideo(MovieBox movieBox, IsoFile isoFile,\n                                          String filePath, String requestId) throws IOException {\n     Path path = Paths.get(filePath);\n     path = path.getFileName();\n     String fileName = path.toString();\n\n     List&lt;TrackBox&gt; trackBoxesToRemove = new ArrayList&lt;&gt;();\n     for (TrackBox trackBox : movieBox.getBoxes(TrackBox.class)) {\n         String handlerType = trackBox.getMediaBox().getHandlerBox().getHandlerType();\n         if(handlerType.equals(AUDIO_HANDLER_TYPE)) {\n             trackBoxesToRemove.add(trackBox);\n         }\n     }\n     for (TrackBox trackBox : trackBoxesToRemove) {\n         movieBox.getBoxes().remove(trackBox);\n     }\n     ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n     WritableByteChannel byteChannel = Channels.newChannel(outputStream);\n     isoFile.getBox(byteChannel);\n\n     byte[] mutedFileBytes = outputStream.toByteArray();\n     ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(mutedFileBytes);\n     ObjectMetadata objectMetadata = new ObjectMetadata();\n     objectMetadata.setContentLength(mutedFileBytes.length);\n\n     s3Client.putObject(INPUT_BUCKET_NAME, &quot;input/HFE/&quot;+ requestId\n             + &quot;/refinedVideo/refined_&quot; + fileName, byteArrayInputStream, objectMetadata);\n     byteArrayInputStream.close();\n     byteChannel.close();\n     outputStream.close();\n }\n</code></pre>\n<p>I know the issue is related to audio removal, because if I remove audio removal, all files get uploaded successfully. The audio is removed in these lines:</p>\n<pre><code> for (TrackBox trackBox : trackBoxesToRemove) {\n     movieBox.getBoxes().remove(trackBox);\n }\n</code></pre>\n<p>I am not sure how else I can remove audio. It seems like it could be a file issue. I have tried looking at some metadata with FFMPEG, but nothing jumps out as an obvious difference between files that work and files that don't. I'm also open to other Java libraries for this (preferably not ffmpeg, I am having dependency issue), or a different way to remove audio using MP4Parser,</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1418751235,"post_id":27510494,"comment_id":43451204,"body_markdown":"honestly this is not really too clear. pleaes clarify what you need","body":"honestly this is not really too clear. pleaes clarify what you need"},{"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"score":0,"creation_date":1418751385,"post_id":27510494,"comment_id":43451277,"body_markdown":"Are you asking why we can use String without import ?\n\nPossible duplicate of : http://stackoverflow.com/questions/7953987/java-string-import","body":"Are you asking why we can use String without import ?  Possible duplicate of : <a href=\"http://stackoverflow.com/questions/7953987/java-string-import\">stackoverflow.com/questions/7953987/java-string-import</a>"},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":3,"creation_date":1418751425,"post_id":27510494,"comment_id":43451301,"body_markdown":"@rousseauo I don&#39;t see the word import anywhere in that question.","body":"@rousseauo I don&#39;t see the word import anywhere in that question."},{"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"score":0,"creation_date":1418751836,"post_id":27510494,"comment_id":43451518,"body_markdown":"@Takendarkk He seems unsure if the String is primitive or not because he does not need to import it. (my guess) Maybe he needs to learn that he doesnt need to define an array because String is an Object, imported by default.","body":"@Takendarkk He seems unsure if the String is primitive or not because he does not need to import it. (my guess) Maybe he needs to learn that he doesnt need to define an array because String is an Object, imported by default."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1418754629,"post_id":27510494,"comment_id":43453095,"body_markdown":"He wants to know why he doesn&#39;t _have_ to use new to make a String object. Why can he use literals even though it&#39;s not a primitive.","body":"He wants to know why he doesn&#39;t <i>have</i> to use new to make a String object. Why can he use literals even though it&#39;s not a primitive."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1418851001,"post_id":27510494,"comment_id":43498313,"body_markdown":"possible duplicate of [Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?](http://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them\">Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?</a>"}],"answers":[{"tags":[],"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418751172,"creation_date":1418751172,"answer_id":27510528,"question_id":27510494,"body_markdown":"Yes String is an object in Java. The fact that it can be used *similar* to primitives does not contradict\r\n\r\nPlease refer - https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them","title":"In Java, Why String is non-primitive data type?","body":"<p>Yes String is an object in Java. The fact that it can be used <em>similar</em> to primitives does not contradict</p>\n\n<p>Please refer - <a href=\"https://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them\">Strings are objects in Java, so why don&#39;t we use &#39;new&#39; to create them?</a></p>\n"},{"tags":[],"owner":{"account_id":2623894,"reputation":720,"user_id":2271351,"accept_rate":100,"display_name":"rousseauo"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1418751948,"creation_date":1418751290,"answer_id":27510558,"question_id":27510494,"body_markdown":"String is a Java Object and not a primitive data type. \r\nString is part of the java.lang package that is imported by default in any java project. \r\n\r\nThere is no need to define an array of char, just use String. \r\n\r\nPossible duplicate: https://stackoverflow.com/questions/7953987/java-string-import","title":"In Java, Why String is non-primitive data type?","body":"<p>String is a Java Object and not a primitive data type. \nString is part of the java.lang package that is imported by default in any java project. </p>\n\n<p>There is no need to define an array of char, just use String. </p>\n\n<p>Possible duplicate: <a href=\"https://stackoverflow.com/questions/7953987/java-string-import\">Java String import</a></p>\n"},{"tags":[],"owner":{"account_id":1501890,"reputation":1892,"user_id":1406264,"accept_rate":96,"display_name":"DRastislav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418751483,"creation_date":1418751483,"answer_id":27510616,"question_id":27510494,"body_markdown":"String is object, is immutable, that means that you cannot change the object itself, but you can change the reference to the object.\r\n\r\nThis is how String works\r\n\r\n    String myStr = &quot;test&quot;;\r\n\r\nThis as usual, creates a string named &quot;test&quot; and assign it a reference &quot;myStr&quot;. \r\n\r\nImportant point to note here is, while the String object is immutable, its reference variable is not.","title":"In Java, Why String is non-primitive data type?","body":"<p>String is object, is immutable, that means that you cannot change the object itself, but you can change the reference to the object.</p>\n\n<p>This is how String works</p>\n\n<pre><code>String myStr = \"test\";\n</code></pre>\n\n<p>This as usual, creates a string named \"test\" and assign it a reference \"myStr\". </p>\n\n<p>Important point to note here is, while the String object is immutable, its reference variable is not.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1418751532,"creation_date":1418751532,"answer_id":27510628,"question_id":27510494,"body_markdown":"The [`String`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) Javadoc clearly indicates that `String` is a subclass of `Object`; and further [`String.equals(Object)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29) overrides [`Object.equals(Object)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29).\n\n[JLS-3.10.5. String Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5) specifies that\n\n&gt; A *string literal* consists of zero or more characters enclosed in double quotes.\n\nAlso, [JLS-4.3.3. The Class String](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.3) adds\n\n&gt; Instances of class String represent sequences of Unicode code points.\n&gt;\n&gt; A String object has a constant (unchanging) value.\n&gt;\n&gt; String literals ([&#167;3.10.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5)) are references to instances of class String.\n&gt;\n&gt; The string concatenation operator + ([&#167;15.18.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.1)) implicitly creates a new String object when the result is not a compile-time constant expression ([&#167;15.28](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28)). \n\nIt&#39;s also worth pointing out that arrays are also `Object`(s), and [An Array of Characters is Not a String](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.9). Finally, if a `String` wasn&#39;t an `Object` it couldn&#39;t be `null`.","title":"In Java, Why String is non-primitive data type?","body":"<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a> Javadoc clearly indicates that <code>String</code> is a subclass of <code>Object</code>; and further <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>String.equals(Object)</code></a> overrides <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>Object.equals(Object)</code></a>.</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">JLS-3.10.5. String Literals</a> specifies that</p>\n<blockquote>\n<p>A <em>string literal</em> consists of zero or more characters enclosed in double quotes.</p>\n</blockquote>\n<p>Also, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.3\" rel=\"noreferrer\">JLS-4.3.3. The Class String</a> adds</p>\n<blockquote>\n<p>Instances of class String represent sequences of Unicode code points.</p>\n<p>A String object has a constant (unchanging) value.</p>\n<p>String literals (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">§3.10.5</a>) are references to instances of class String.</p>\n<p>The string concatenation operator + (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.1\" rel=\"noreferrer\">§15.18.1</a>) implicitly creates a new String object when the result is not a compile-time constant expression (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">§15.28</a>).</p>\n</blockquote>\n<p>It's also worth pointing out that arrays are also <code>Object</code>(s), and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.9\" rel=\"noreferrer\">An Array of Characters is Not a String</a>. Finally, if a <code>String</code> wasn't an <code>Object</code> it couldn't be <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":5496385,"reputation":786,"user_id":4367353,"display_name":"Ank"},"score":0,"creation_date":1418751768,"post_id":27510681,"comment_id":43451486,"body_markdown":"Thanks.. I got my required answer.","body":"Thanks.. I got my required answer."}],"tags":[],"owner":{"account_id":1521734,"reputation":3389,"user_id":1421189,"accept_rate":58,"display_name":"Pranalee"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1418751671,"creation_date":1418751671,"answer_id":27510681,"question_id":27510494,"body_markdown":"String is non-primitive because only class can have methods. Primitive can not. And String need many functions to be called upon while processing like substring, indexof, equals, touppercase. It would not have been possible without making it class. \r\n\r\nAlso class has made it possible to make strings immutable and final to enhance security and efficiency by allowing pooling.","title":"In Java, Why String is non-primitive data type?","body":"<p>String is non-primitive because only class can have methods. Primitive can not. And String need many functions to be called upon while processing like substring, indexof, equals, touppercase. It would not have been possible without making it class. </p>\n\n<p>Also class has made it possible to make strings immutable and final to enhance security and efficiency by allowing pooling.</p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418755357,"creation_date":1418755357,"answer_id":27511722,"question_id":27510494,"body_markdown":"I think you are confusing &#39;primitive&#39; and &#39;literal&#39;. A primitive is a datatype that is not an object. A literal is a  convenient way of describing the bit pattern for a datatype. For instance -1 describes the bit pattern 0xFFFFFFFF for an int,and &#39;a&#39; describes the unicode code point for a lower case A in 16 bits (0x0061). Literals aren&#39;t restricted to describing primitive datatypes. You can describe an array. For instance, `int[] a = {1, 2, 3};`.\r\n\r\nA string literal is just a way of describing an immutable array of characters with some methods attached. The literal is syntactic sugar for describing something that would otherwise be very complicated. For example:\r\n\r\n    String s = &quot;ab&quot;;\r\n\r\nIs much simpler than:\r\n\r\n    char[] c = new char[2];\r\n    c[0] = &#39;a&#39;;\r\n    c[1] = &#39;b&#39;;\r\n    String s = new String(c);\r\n\r\n","title":"In Java, Why String is non-primitive data type?","body":"<p>I think you are confusing 'primitive' and 'literal'. A primitive is a datatype that is not an object. A literal is a  convenient way of describing the bit pattern for a datatype. For instance -1 describes the bit pattern 0xFFFFFFFF for an int,and 'a' describes the unicode code point for a lower case A in 16 bits (0x0061). Literals aren't restricted to describing primitive datatypes. You can describe an array. For instance, <code>int[] a = {1, 2, 3};</code>.</p>\n\n<p>A string literal is just a way of describing an immutable array of characters with some methods attached. The literal is syntactic sugar for describing something that would otherwise be very complicated. For example:</p>\n\n<pre><code>String s = \"ab\";\n</code></pre>\n\n<p>Is much simpler than:</p>\n\n<pre><code>char[] c = new char[2];\nc[0] = 'a';\nc[1] = 'b';\nString s = new String(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017803,"reputation":290,"user_id":4032187,"accept_rate":86,"display_name":"Nicholas Eason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418755820,"creation_date":1418755820,"answer_id":27511825,"question_id":27510494,"body_markdown":"In Java, String is an object that stores the location to where the actual &quot;value&quot; of where the String is located.\r\n\r\nYou DO need to use the `new` keyword when making an array of Strings, as you do with making an array of anything else.\r\n\r\n`String[] text = new String[4]`\r\n\r\nThis create&#39;s four String __references__ that lead the computer to where the text is located at. Also, all Strings default to a value of `null` because until you give them a value to store at a memory address, there is nothing to be stored.","title":"In Java, Why String is non-primitive data type?","body":"<p>In Java, String is an object that stores the location to where the actual \"value\" of where the String is located.</p>\n\n<p>You DO need to use the <code>new</code> keyword when making an array of Strings, as you do with making an array of anything else.</p>\n\n<p><code>String[] text = new String[4]</code></p>\n\n<p>This create's four String <strong>references</strong> that lead the computer to where the text is located at. Also, all Strings default to a value of <code>null</code> because until you give them a value to store at a memory address, there is nothing to be stored.</p>\n"},{"tags":[],"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491994461,"creation_date":1491994461,"answer_id":43367575,"question_id":27510494,"body_markdown":"String creats an Object each time you assign a value in its String Pool.\r\nWhere every time if you create a similar object it will look for that and refer, if that value is not there it will again create a new one. Study more on String Pool you will automatically come to know the difference.","title":"In Java, Why String is non-primitive data type?","body":"<p>String creats an Object each time you assign a value in its String Pool.\nWhere every time if you create a similar object it will look for that and refer, if that value is not there it will again create a new one. Study more on String Pool you will automatically come to know the difference.</p>\n"},{"comments":[{"owner":{"account_id":1542661,"reputation":3550,"user_id":1436926,"accept_rate":20,"display_name":"Raghavendra"},"score":0,"creation_date":1654009210,"post_id":50435703,"comment_id":127987450,"body_markdown":"Best way to tell is there are having fixed size of bytes called primitives and which are not(string) called as non primitive","body":"Best way to tell is there are having fixed size of bytes called primitives and which are not(string) called as non primitive"}],"tags":[],"owner":{"account_id":13523589,"reputation":60,"user_id":9756048,"display_name":"Madhusudan Sharma"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1678820499,"creation_date":1526825644,"answer_id":50435703,"question_id":27510494,"body_markdown":"```\r\nString str = “This is string literal”;\r\n```\r\n\r\nThis is a string literal. When you declare a string like this you are actually calling `intern()` method on `String`.\r\n\r\nThis method references an internal pool of string objects. If there already exists a string value “This is string literal”, then `str` will reference that string and no new `String` object will be created.\r\n\r\n```\r\nString str = new String(“this is string created by new operator”);\r\n```\r\n\r\nThis is a string object. The JVM is forced to create a new `String` reference, even if &quot;this is string created by new operator&quot; already exists in the reference pool.\r\n","title":"In Java, Why String is non-primitive data type?","body":"<pre><code>String str = “This is string literal”;\n</code></pre>\n<p>This is a string literal. When you declare a string like this you are actually calling <code>intern()</code> method on <code>String</code>.</p>\n<p>This method references an internal pool of string objects. If there already exists a string value “This is string literal”, then <code>str</code> will reference that string and no new <code>String</code> object will be created.</p>\n<pre><code>String str = new String(“this is string created by new operator”);\n</code></pre>\n<p>This is a string object. The JVM is forced to create a new <code>String</code> reference, even if &quot;this is string created by new operator&quot; already exists in the reference pool.</p>\n"},{"tags":[],"owner":{"account_id":12799126,"reputation":73,"user_id":9260997,"display_name":"R.Nish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559485184,"creation_date":1559485184,"answer_id":56415889,"question_id":27510494,"body_markdown":"1. String is an array of characters\r\n2. Primitive data types have limitations which fixed data type \r\n3. but in strings size is vary so that is the main reason why the the strings are non primitive\r\n4. String in Java is itself is a class and has its own methods to manipulate and operate over object of String class\r\n5. Strings has its own feature that they are immutable.","title":"In Java, Why String is non-primitive data type?","body":"<ol>\n<li>String is an array of characters</li>\n<li>Primitive data types have limitations which fixed data type </li>\n<li>but in strings size is vary so that is the main reason why the the strings are non primitive</li>\n<li>String in Java is itself is a class and has its own methods to manipulate and operate over object of String class</li>\n<li>Strings has its own feature that they are immutable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19343787,"reputation":21,"user_id":14142765,"display_name":"The master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612962915,"creation_date":1612962915,"answer_id":66137622,"question_id":27510494,"body_markdown":"Primitive data types are types that don&#39;t have a method. Whereas strings have method e.g. toupper, lowercase etc. In intellij you can check is there is a method or not.\r\n\r\n\r\nthis is showing the methods for the (int) which shows no methods(it is primitive\r\n[![)][1]][1]\r\n\r\n\r\n\r\n\r\n\r\nThis image is showing the (String) which shows methods (it is not primitive)\r\n[![This image is showing the (String) which shows methods (it is not primitive)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Godjw.png\r\n  [2]: https://i.stack.imgur.com/0UCDf.png","title":"In Java, Why String is non-primitive data type?","body":"<p>Primitive data types are types that don't have a method. Whereas strings have method e.g. toupper, lowercase etc. In intellij you can check is there is a method or not.</p>\n<p>this is showing the methods for the (int) which shows no methods(it is primitive\n<a href=\"https://i.stack.imgur.com/Godjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Godjw.png\" alt=\")\" /></a></p>\n<p>This image is showing the (String) which shows methods (it is not primitive)\n<a href=\"https://i.stack.imgur.com/0UCDf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0UCDf.png\" alt=\"This image is showing the (String) which shows methods (it is not primitive)\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24041210,"reputation":1,"user_id":18020842,"display_name":"Arymanu Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643050866,"creation_date":1643050866,"answer_id":70839102,"question_id":27510494,"body_markdown":"Because string is actually a group of character (char) datatype. So it is being derived from char datatype. It have its origin datatype i. E. Char but int float chat etc do not have origin type. They are unique. Which is why string is derived datatype\r\n","title":"In Java, Why String is non-primitive data type?","body":"<p>Because string is actually a group of character (char) datatype. So it is being derived from char datatype. It have its origin datatype i. E. Char but int float chat etc do not have origin type. They are unique. Which is why string is derived datatype</p>\n"}],"owner":{"account_id":5496385,"reputation":786,"user_id":4367353,"display_name":"Ank"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29417,"favorite_count":0,"down_vote_count":8,"up_vote_count":15,"accepted_answer_id":50435703,"answer_count":12,"score":7,"last_activity_date":1678820499,"creation_date":1418751046,"question_id":27510494,"body_markdown":"In Java, we can directly use `String` to declare a string variable name and specify its value. We do not have to define the string as an array by using new keyword, even though String is non-primitive data type.\r\n\r\nCan someone please explain why String is non-primitive datatype?","title":"In Java, Why String is non-primitive data type?","body":"<p>In Java, we can directly use <code>String</code> to declare a string variable name and specify its value. We do not have to define the string as an array by using new keyword, even though String is non-primitive data type.</p>\n\n<p>Can someone please explain why String is non-primitive datatype?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1450511702,"post_id":34368589,"comment_id":56479078,"body_markdown":"Use MessageFormat or String.format(). Just store the pattern in the properties file. Note that your getInstance() method above doesn&#39;t make much sense: if I ask a PropertyReader for French, then all the PropertyReaders I&#39;ll get later, for English, Chinese and Spanish, will all be for French.","body":"Use MessageFormat or String.format(). Just store the pattern in the properties file. Note that your getInstance() method above doesn&#39;t make much sense: if I ask a PropertyReader for French, then all the PropertyReaders I&#39;ll get later, for English, Chinese and Spanish, will all be for French."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1450511857,"post_id":34368589,"comment_id":56479112,"body_markdown":"@JBNizet Look more sense to me with your comment so can you please provide any example to make appropriate .","body":"@JBNizet Look more sense to me with your comment so can you please provide any example to make appropriate ."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1450511912,"post_id":34368589,"comment_id":56479124,"body_markdown":"Read the javadoc. It has examples.","body":"Read the javadoc. It has examples."}],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450511959,"creation_date":1450511875,"answer_id":34368632,"question_id":34368589,"body_markdown":"Check out this tutorial about [Compound Messages:][1]\r\n\r\n\r\nPersonally, I tend to do it with simple\r\n\r\n     bundle.getString(&quot;key&quot;).replace(&quot;{0}&quot;, firstParam);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/format/messageFormat.html","title":"In Java dynamically add string with properties file message?","body":"<p>Check out this tutorial about <a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/messageFormat.html\" rel=\"nofollow\">Compound Messages:</a></p>\n\n<p>Personally, I tend to do it with simple</p>\n\n<pre><code> bundle.getString(\"key\").replace(\"{0}\", firstParam);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450518403,"creation_date":1450518403,"answer_id":34369356,"question_id":34368589,"body_markdown":"The [&lt;code&gt;java.text.MessageFormat.format(_pattern_, _argument…_)&lt;/code&gt;](https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html#format-java.lang.String-java.lang.Object...-) function is designed just for this purpose.\r\n\r\nIn the properties file:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    message.template.entities.associated = Entities {0} are already added in another association\r\n\r\nIn your code:\r\n\r\n    MessageFormat.format(getBundleResourceMessage(&quot;message.template.entities.associated&quot;), appenMessage)\r\n\r\nThis will cause `appenMessage.toString()` to be substituted for the `{0}` placeholder.  The `MessageFormat` class also supports fancier variants of placeholders to support issues that you will encounter in internationalization, such as pluralization and date formatting.","title":"In Java dynamically add string with properties file message?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html#format-java.lang.String-java.lang.Object...-\" rel=\"nofollow\"><code>java.text.MessageFormat.format(<em>pattern</em>, <em>argument…</em>)</code></a> function is designed just for this purpose.</p>\n\n<p>In the properties file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>message.template.entities.associated = Entities {0} are already added in another association\n</code></pre>\n\n<p>In your code:</p>\n\n<pre><code>MessageFormat.format(getBundleResourceMessage(\"message.template.entities.associated\"), appenMessage)\n</code></pre>\n\n<p>This will cause <code>appenMessage.toString()</code> to be substituted for the <code>{0}</code> placeholder.  The <code>MessageFormat</code> class also supports fancier variants of placeholders to support issues that you will encounter in internationalization, such as pluralization and date formatting.</p>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1678820451,"creation_date":1450511452,"question_id":34368589,"body_markdown":"I am able to read the message from properties file where i added all messages with `key/value` pair\r\n\r\n    message.template.success.equipment.create = Equipment template created successfully\r\n    message.template.success.equipment.create.termination = Termination template created successfully\r\n    message.template.success.equipment.update = Equipment template updated successfully\r\n    message.template.success.termination.update = Termination template updated successfully\r\n\r\nfor reading message from the properties file i have create a class with following code\r\n\r\n    public class PropertyReader {\r\n    \r\n    \tprivate static PropertyReader instance = null;\r\n    \tprivate ResourceBundle bundleResource;\r\n    \tprivate ResourceBundle bundleResourceMenu;\r\n    \tprivate ResourceBundle bundleResourceMessage;\r\n    \tprivate static final Logger log = Logger.getLogger(PropertyReader.class);\r\n    \r\n    \tprivate PropertyReader() {}\r\n    \r\n    \tprivate PropertyReader(Locale locale) {\r\n    \t\tlog.info(&quot;Property Reader loading files with locale : &quot;+locale.getLanguage());\r\n    \t\tbundleResourceMenu = ResourceBundle.getBundle(&quot;bsm-portal-menu&quot;,locale);\r\n    \t\tbundleResource = ResourceBundle.getBundle(&quot;bsmResource&quot;,locale);\r\n    \t\tbundleResourceMessage = ResourceBundle.getBundle(&quot;bsm-portal-message&quot;,locale);\r\n    \t\tlog.info(&quot;**** BundleResourceMessage *****&quot;);\r\n    \t \r\n    \t}\r\n    \r\n    \tpublic static synchronized PropertyReader getInstance(Locale locale) {\r\n    \t\tif (instance == null)\r\n    \t\t\tinstance = new PropertyReader(locale);\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getBundleResource(String propKey) {\r\n    \t\treturn this.bundleResource.getString(propKey);\r\n    \t}\r\n    \r\n    \tpublic String getBundleResourceMenu(String propKey) {\r\n    \t\treturn this.bundleResourceMenu.getString(propKey);\r\n    \t}\r\n    \r\n    \tpublic String getBundleResourceMessage(String propKey) {\r\n    \t\treturn this.bundleResourceMessage.getString(propKey);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nUpto this everything fine.\r\n\r\nNow I want to make this type of message dynamic \r\n\r\n     message = &quot;Entities &quot; + appenMessage.toString() + &quot; are already added in another association&quot;;\r\n\r\nhere `appenMessage` variable have a dynamically generated String value which I have to append with message. Is it possible to incorporate such kind with properties file ?\r\n\r\n","title":"In Java dynamically add string with properties file message?","body":"<p>I am able to read the message from properties file where i added all messages with <code>key/value</code> pair</p>\n<pre><code>message.template.success.equipment.create = Equipment template created successfully\nmessage.template.success.equipment.create.termination = Termination template created successfully\nmessage.template.success.equipment.update = Equipment template updated successfully\nmessage.template.success.termination.update = Termination template updated successfully\n</code></pre>\n<p>for reading message from the properties file i have create a class with following code</p>\n<pre><code>public class PropertyReader {\n\n    private static PropertyReader instance = null;\n    private ResourceBundle bundleResource;\n    private ResourceBundle bundleResourceMenu;\n    private ResourceBundle bundleResourceMessage;\n    private static final Logger log = Logger.getLogger(PropertyReader.class);\n\n    private PropertyReader() {}\n\n    private PropertyReader(Locale locale) {\n        log.info(&quot;Property Reader loading files with locale : &quot;+locale.getLanguage());\n        bundleResourceMenu = ResourceBundle.getBundle(&quot;bsm-portal-menu&quot;,locale);\n        bundleResource = ResourceBundle.getBundle(&quot;bsmResource&quot;,locale);\n        bundleResourceMessage = ResourceBundle.getBundle(&quot;bsm-portal-message&quot;,locale);\n        log.info(&quot;**** BundleResourceMessage *****&quot;);\n     \n    }\n\n    public static synchronized PropertyReader getInstance(Locale locale) {\n        if (instance == null)\n            instance = new PropertyReader(locale);\n        return instance;\n    }\n\n\n    public String getBundleResource(String propKey) {\n        return this.bundleResource.getString(propKey);\n    }\n\n    public String getBundleResourceMenu(String propKey) {\n        return this.bundleResourceMenu.getString(propKey);\n    }\n\n    public String getBundleResourceMessage(String propKey) {\n        return this.bundleResourceMessage.getString(propKey);\n    }\n\n\n}\n</code></pre>\n<p>Upto this everything fine.</p>\n<p>Now I want to make this type of message dynamic</p>\n<pre><code> message = &quot;Entities &quot; + appenMessage.toString() + &quot; are already added in another association&quot;;\n</code></pre>\n<p>here <code>appenMessage</code> variable have a dynamically generated String value which I have to append with message. Is it possible to incorporate such kind with properties file ?</p>\n"},{"tags":["java","mongodb","spring-boot","unique-index"],"answers":[{"tags":[],"owner":{"account_id":3959431,"reputation":46,"user_id":3266941,"display_name":"Milton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678820264,"creation_date":1678820264,"answer_id":75737320,"question_id":69665399,"body_markdown":"It seems the issue is fixed in the current latest spring boot data MongoDB version (v3.0.4).\r\n\r\nI tested this on my own personal project using Spring Boot v3.0.4 with Java 17/Kotlin, my document class ended up like this:\r\n```\r\n@Document\r\nclass User(@Indexed(unique = true) var username: String) {\r\n\r\n    @Id\r\n    var id: String? = null\r\n\r\n    var name: String? = null\r\n\r\n    var surname: String? = null\r\n}\r\n```\r\nImportant: I did need to add `spring.data.mongodb.auto-index-creation=true` to my application.properties file, only after doing this *and* dropping the collection on MongoDB I got the field actually enforced on my User API.\r\n\r\nIn my case, just after adding all of the above configurations (`@Indexed(unique=true)` and `spring.data.mongodb.auto-index-creation=true`), I started getting the following error when trying to insert a user with the same `username` as an existing one:\r\n```\r\ncurl -v --location &#39;http://localhost:9000/user&#39; \\\r\n--header &#39;Authorization: Bearer &lt;token&gt;&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{\r\n    &quot;username&quot;: &quot;testuser1&quot;,\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;surname&quot;: &quot;User 1&quot;\r\n}&#39;\r\n*   Trying 127.0.0.1:9000...\r\n* Connected to localhost (127.0.0.1) port 9000 (#0)\r\n&gt; POST /user HTTP/1.1\r\n&gt; Host: localhost:9000\r\n&gt; User-Agent: curl/7.81.0\r\n&gt; Accept: */*\r\n&gt; Authorization: Bearer &lt;token&gt;\r\n&gt; Content-Type: application/json\r\n&gt; Content-Length: 76\r\n&gt; \r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 409 \r\n&lt; Vary: Origin\r\n&lt; Vary: Access-Control-Request-Method\r\n&lt; Vary: Access-Control-Request-Headers\r\n&lt; X-Content-Type-Options: nosniff\r\n&lt; X-XSS-Protection: 0\r\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n&lt; Pragma: no-cache\r\n&lt; Expires: 0\r\n&lt; X-Frame-Options: DENY\r\n&lt; Content-Type: application/json\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Tue, 14 Mar 2023 18:48:08 GMT\r\n&lt; \r\n* Connection #0 to host localhost left intact\r\n{&quot;cause&quot;:{&quot;cause&quot;:null,&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }&#39;, details={}}.&quot;},&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }&#39;, details={}}.&quot;}\r\n\r\n```\r\nChecking the DB for the records revealed that it indeed restricted and halted the write operation.\r\n\r\nOther versions used on this test:\r\n```\r\nkotlin(&quot;jvm&quot;) - 1.7.22\r\nkotlin(&quot;plugin.spring&quot;) - &quot;1.7.22&quot;\r\n\r\nMongoDB - 4.4.10\r\nUbuntu (host) - 22.04\r\n```","title":"How to enforce unique field with MongoDB in Spring","body":"<p>It seems the issue is fixed in the current latest spring boot data MongoDB version (v3.0.4).</p>\n<p>I tested this on my own personal project using Spring Boot v3.0.4 with Java 17/Kotlin, my document class ended up like this:</p>\n<pre><code>@Document\nclass User(@Indexed(unique = true) var username: String) {\n\n    @Id\n    var id: String? = null\n\n    var name: String? = null\n\n    var surname: String? = null\n}\n</code></pre>\n<p>Important: I did need to add <code>spring.data.mongodb.auto-index-creation=true</code> to my application.properties file, only after doing this <em>and</em> dropping the collection on MongoDB I got the field actually enforced on my User API.</p>\n<p>In my case, just after adding all of the above configurations (<code>@Indexed(unique=true)</code> and <code>spring.data.mongodb.auto-index-creation=true</code>), I started getting the following error when trying to insert a user with the same <code>username</code> as an existing one:</p>\n<pre><code>curl -v --location 'http://localhost:9000/user' \\\n--header 'Authorization: Bearer &lt;token&gt;' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;username&quot;: &quot;testuser1&quot;,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;surname&quot;: &quot;User 1&quot;\n}'\n*   Trying 127.0.0.1:9000...\n* Connected to localhost (127.0.0.1) port 9000 (#0)\n&gt; POST /user HTTP/1.1\n&gt; Host: localhost:9000\n&gt; User-Agent: curl/7.81.0\n&gt; Accept: */*\n&gt; Authorization: Bearer &lt;token&gt;\n&gt; Content-Type: application/json\n&gt; Content-Length: 76\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 409 \n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 0\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Frame-Options: DENY\n&lt; Content-Type: application/json\n&lt; Transfer-Encoding: chunked\n&lt; Date: Tue, 14 Mar 2023 18:48:08 GMT\n&lt; \n* Connection #0 to host localhost left intact\n{&quot;cause&quot;:{&quot;cause&quot;:null,&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }', details={}}.&quot;},&quot;message&quot;:&quot;Write operation error on server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: test.user index: username dup key: { username: \\&quot;testuser1\\&quot; }', details={}}.&quot;}\n\n</code></pre>\n<p>Checking the DB for the records revealed that it indeed restricted and halted the write operation.</p>\n<p>Other versions used on this test:</p>\n<pre><code>kotlin(&quot;jvm&quot;) - 1.7.22\nkotlin(&quot;plugin.spring&quot;) - &quot;1.7.22&quot;\n\nMongoDB - 4.4.10\nUbuntu (host) - 22.04\n</code></pre>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75737320,"answer_count":1,"score":4,"last_activity_date":1678820264,"creation_date":1634832772,"question_id":69665399,"body_markdown":"I have a pojo with two fields that need to be unique, the id and the email. So I added the ```@Indexed(unique = true)``` annotation to the necessary fields like so\r\n```\r\npublic class User {\r\n    @Id\r\n    @Indexed(unique = true)\r\n    private String id;\r\n    @Indexed(unique = true)\r\n    private String email;\r\n    private int money;\r\n```\r\n\r\nI then tested it out and it was not enforced. So I googled about and I found a previous answer here - https://stackoverflow.com/questions/49385130/spring-data-unique-field-in-mongodb-document and subsequently deleted the collection, added ```spring.data.mongodb.auto-index-creation=true``` to my application.properties file and tried again. \r\n\r\nHowever, the unique field still isn&#39;t enforced! I see there is another answer using ```ensureIndex()``` but it also has a great comment that was never answered- ```Why do we need to use the annotation if all the work is done on mongoTemplate?```\r\n\r\nSo since the question is old enough that apparently the only working answer is depreciated (the new way is using ```createIndex()```), I thought it was time for a new version. Is it possible to require a column in a mongo collection to be unique from Spring Boot?","title":"How to enforce unique field with MongoDB in Spring","body":"<p>I have a pojo with two fields that need to be unique, the id and the email. So I added the <code>@Indexed(unique = true)</code> annotation to the necessary fields like so</p>\n<pre><code>public class User {\n    @Id\n    @Indexed(unique = true)\n    private String id;\n    @Indexed(unique = true)\n    private String email;\n    private int money;\n</code></pre>\n<p>I then tested it out and it was not enforced. So I googled about and I found a previous answer here - <a href=\"https://stackoverflow.com/questions/49385130/spring-data-unique-field-in-mongodb-document\">Spring Data: Unique field in MongoDB document</a> and subsequently deleted the collection, added <code>spring.data.mongodb.auto-index-creation=true</code> to my application.properties file and tried again.</p>\n<p>However, the unique field still isn't enforced! I see there is another answer using <code>ensureIndex()</code> but it also has a great comment that was never answered- <code>Why do we need to use the annotation if all the work is done on mongoTemplate?</code></p>\n<p>So since the question is old enough that apparently the only working answer is depreciated (the new way is using <code>createIndex()</code>), I thought it was time for a new version. Is it possible to require a column in a mongo collection to be unique from Spring Boot?</p>\n"},{"tags":["java","annotations","cdi","quarkus"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1678803071,"post_id":75734112,"comment_id":133601472,"body_markdown":"Maybe the annotation type property could be an array?  `@ProcAnnotation(types = { key1, key2 })`","body":"Maybe the annotation type property could be an array?  <code>@ProcAnnotation(types = { key1, key2 })</code>"},{"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"score":0,"creation_date":1678804880,"post_id":75734112,"comment_id":133602083,"body_markdown":"Yes, it could but it doesn&#39;t change anything. I create a `ProcQualifier` that is used in `select` and then CDI iterates over all  instances and then compares arrays ; I&#39;d like it to match if one of the item of the array matches the key.","body":"Yes, it could but it doesn&#39;t change anything. I create a <code>ProcQualifier</code> that is used in <code>select</code> and then CDI iterates over all  instances and then compares arrays ; I&#39;d like it to match if one of the item of the array matches the key."}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678820169,"creation_date":1678820169,"answer_id":75737304,"question_id":75734112,"body_markdown":"Based on this comment\r\n&gt;I&#39;d like it to match if one of the item of the array matches the key. \r\n\r\nI suggest the following.\r\n\r\nLet&#39;s assume that is a service interface\r\n\r\n```java\r\npublic interface Desired {\r\n    String getFoo();\r\n}\r\n```\r\n\r\nand some implementation\r\n\r\n```java\r\n@Selector(&quot;one&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceOne implements Desired{\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;one&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;two&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceTwo implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;two&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;one&quot;)\r\n@Selector(&quot;two&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceOneTwo  implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;one and two&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Selector(&quot;three&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceThree implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;three&quot;;\r\n    }\r\n}\r\n```\r\n```java\r\n@Selector(&quot;four&quot;)\r\n@Selector(&quot;five&quot;)\r\n@Selector(&quot;six&quot;)\r\n@Dependent\r\n@Unremovable\r\npublic class InstanceFourToSix implements Desired {\r\n    @Override\r\n    public String getFoo() {\r\n        return &quot;four or five, maybe six&quot;;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to put an annotation multiple times it should be `@Repeatable`\r\n\r\n```java\r\n@Target({ANNOTATION_TYPE, TYPE_USE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Qualifier\r\n@Repeatable(Selector.List.class) \r\npublic @interface Selector {\r\n    String value();\r\n\r\n    @Target({ANNOTATION_TYPE, TYPE_USE})\r\n    @Retention(RUNTIME)\r\n    public @interface List {\r\n        Selector[] value();\r\n    }\r\n}\r\n```\r\n\r\nand the annotationLiteral is:\r\n\r\n```java\r\nclass SelectorLiteral extends AnnotationLiteral&lt;Selector&gt; implements Selector {\r\n    private final String value;\r\n\r\n    public SelectorLiteral(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String value() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nFrom now there are multiple aproach to select one or more instances.\r\n\r\n```java\r\n@Any\r\n@Inject\r\nInstance&lt;Desired&gt; instances;\r\n```\r\n\r\n```java\r\n// will select and initiate InstanceFourToSix\r\ninstances.select(new SelectorLiteral(&quot;five&quot;)).get();\r\n\r\n// will select and initiate InstanceFourToSix\r\ninstances.select(new SelectorLiteral(&quot;six&quot;)).get();\r\n\r\n// will select and initiate InstanceOneTwo\r\ninstances.select(new SelectorLiteral(&quot;two&quot;),new SelectorLiteral(&quot;one&quot;)).get();\r\n\r\n// will throw javax.enterprise.inject.AmbiguousResolutionException\r\n// because both InstanceOne and InstanceOneTwo is qualified with &#39;two&#39; literal\r\ninstances.select(new SelectorLiteral(&quot;two&quot;)).get();\r\n\r\n// will select both InstanceOne and InstanceOneTwo and call getFoo() method on all selected instances, and so on \r\ninstances.select(new SelectorLiteral(&quot;two&quot;)).stream()\r\n    .map(Desired::getFoo) // all stream operation is also available e.g. filter()\r\n    .forEach(System.out::println);\r\n```\r\n\r\n\r\n","title":"How to dynamically select a bean with multiple annotation","body":"<p>Based on this comment</p>\n<blockquote>\n<p>I'd like it to match if one of the item of the array matches the key.</p>\n</blockquote>\n<p>I suggest the following.</p>\n<p>Let's assume that is a service interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Desired {\n    String getFoo();\n}\n</code></pre>\n<p>and some implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;one&quot;)\n@Dependent\n@Unremovable\npublic class InstanceOne implements Desired{\n    @Override\n    public String getFoo() {\n        return &quot;one&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;two&quot;)\n@Dependent\n@Unremovable\npublic class InstanceTwo implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;two&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;one&quot;)\n@Selector(&quot;two&quot;)\n@Dependent\n@Unremovable\npublic class InstanceOneTwo  implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;one and two&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;three&quot;)\n@Dependent\n@Unremovable\npublic class InstanceThree implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;three&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Selector(&quot;four&quot;)\n@Selector(&quot;five&quot;)\n@Selector(&quot;six&quot;)\n@Dependent\n@Unremovable\npublic class InstanceFourToSix implements Desired {\n    @Override\n    public String getFoo() {\n        return &quot;four or five, maybe six&quot;;\n    }\n}\n</code></pre>\n<p>If you want to put an annotation multiple times it should be <code>@Repeatable</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ANNOTATION_TYPE, TYPE_USE})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\n@Repeatable(Selector.List.class) \npublic @interface Selector {\n    String value();\n\n    @Target({ANNOTATION_TYPE, TYPE_USE})\n    @Retention(RUNTIME)\n    public @interface List {\n        Selector[] value();\n    }\n}\n</code></pre>\n<p>and the annotationLiteral is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SelectorLiteral extends AnnotationLiteral&lt;Selector&gt; implements Selector {\n    private final String value;\n\n    public SelectorLiteral(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String value() {\n        return value;\n    }\n}\n</code></pre>\n<p>From now there are multiple aproach to select one or more instances.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Any\n@Inject\nInstance&lt;Desired&gt; instances;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// will select and initiate InstanceFourToSix\ninstances.select(new SelectorLiteral(&quot;five&quot;)).get();\n\n// will select and initiate InstanceFourToSix\ninstances.select(new SelectorLiteral(&quot;six&quot;)).get();\n\n// will select and initiate InstanceOneTwo\ninstances.select(new SelectorLiteral(&quot;two&quot;),new SelectorLiteral(&quot;one&quot;)).get();\n\n// will throw javax.enterprise.inject.AmbiguousResolutionException\n// because both InstanceOne and InstanceOneTwo is qualified with 'two' literal\ninstances.select(new SelectorLiteral(&quot;two&quot;)).get();\n\n// will select both InstanceOne and InstanceOneTwo and call getFoo() method on all selected instances, and so on \ninstances.select(new SelectorLiteral(&quot;two&quot;)).stream()\n    .map(Desired::getFoo) // all stream operation is also available e.g. filter()\n    .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678820169,"creation_date":1678802173,"question_id":75734112,"body_markdown":"Let&#39;s say I have several processors classes and each processor is able to handle one or two specific keys. I&#39;m reading a file made of csv lines and each line has a key in one of the fields.\r\nThen during the parsing of the file, I&#39;m doing :\r\n```\r\nclass Parser(){\r\n@Inject\r\n    @Any\r\n    Instance&lt;Processsor&gt; processors;\r\n(...)\r\nwhile (null != (text = reader.readLine())) {//let&#39;s say we got a reader before this loop\r\n      String key = getKeyFromLine(text);\r\n      Processsor selectedProc = processors.select(new ProcessorQualifier(key)).get();\r\n      selectedProc.processLine(text);\r\n   }\r\n}\r\n```\r\nProcessorQualifier is like :\r\n```\r\npublic class ProcessorQualifier extends AnnotationLiteral&lt;ProcAnnotation&gt; implements ProcAnnotation {\r\n\tprivate ProcTypeEnum type;\r\n\r\n\tpublic ProcessorQualifier(ProcTypeEnum type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ProcTypeEnum procTypes() {\r\n\t\treturn this.type;\r\n\t}\r\n}\r\n```\r\nThis works perfectly as soon as I have processors with only one Annotation :\r\n```\r\n@ProcAnnotation(type=key1)\r\nclass Key1Processor implements Processor{\r\n    void processLine(String text){\r\n        ...\r\n    }\r\n```\r\nBut if I want my Key1Processor to be selected for key1 **OR** key2 then I don&#39;t know how to do.\r\nIf I put 2 annotations on my class processor : it doesn&#39;t compile \r\n```\r\nDuplicate annotation of non-repeatable type @ProcAnnotation. Only annotation types marked @Repeatable can be used multiple times at one target.\r\n```\r\nthen I created a Repeatable annotation :\r\n```\r\n@Retention(RUNTIME)\r\n@javax.enterprise.inject.Stereotype \r\n@Qualifier\r\n@Target({ TYPE })\r\n@Dependent\r\npublic @interface ProcAnnotations {\r\n\tProcAnnotation[] value();\r\n}\r\n```\r\nBut I&#39;m stuck because I don&#39;t know how to select (`processors.select(???)`) the processor that have one of its key matching the key parsed in text.\r\nBut as far as I can understand `processors.select(new ProcessorQualifier(key))` iterates over all instances of `Processors` and select the one which matches its annotation with `ProcessorQualifier` then the problem is which `ProcessorQualifier` to have/write ? More generally, how to dynamically select a bean by one of its qualifier ?","title":"How to dynamically select a bean with multiple annotation","body":"<p>Let's say I have several processors classes and each processor is able to handle one or two specific keys. I'm reading a file made of csv lines and each line has a key in one of the fields.\nThen during the parsing of the file, I'm doing :</p>\n<pre><code>class Parser(){\n@Inject\n    @Any\n    Instance&lt;Processsor&gt; processors;\n(...)\nwhile (null != (text = reader.readLine())) {//let's say we got a reader before this loop\n      String key = getKeyFromLine(text);\n      Processsor selectedProc = processors.select(new ProcessorQualifier(key)).get();\n      selectedProc.processLine(text);\n   }\n}\n</code></pre>\n<p>ProcessorQualifier is like :</p>\n<pre><code>public class ProcessorQualifier extends AnnotationLiteral&lt;ProcAnnotation&gt; implements ProcAnnotation {\n    private ProcTypeEnum type;\n\n    public ProcessorQualifier(ProcTypeEnum type) {\n        this.type = type;\n    }\n\n    @Override\n    public ProcTypeEnum procTypes() {\n        return this.type;\n    }\n}\n</code></pre>\n<p>This works perfectly as soon as I have processors with only one Annotation :</p>\n<pre><code>@ProcAnnotation(type=key1)\nclass Key1Processor implements Processor{\n    void processLine(String text){\n        ...\n    }\n</code></pre>\n<p>But if I want my Key1Processor to be selected for key1 <strong>OR</strong> key2 then I don't know how to do.\nIf I put 2 annotations on my class processor : it doesn't compile</p>\n<pre><code>Duplicate annotation of non-repeatable type @ProcAnnotation. Only annotation types marked @Repeatable can be used multiple times at one target.\n</code></pre>\n<p>then I created a Repeatable annotation :</p>\n<pre><code>@Retention(RUNTIME)\n@javax.enterprise.inject.Stereotype \n@Qualifier\n@Target({ TYPE })\n@Dependent\npublic @interface ProcAnnotations {\n    ProcAnnotation[] value();\n}\n</code></pre>\n<p>But I'm stuck because I don't know how to select (<code>processors.select(???)</code>) the processor that have one of its key matching the key parsed in text.\nBut as far as I can understand <code>processors.select(new ProcessorQualifier(key))</code> iterates over all instances of <code>Processors</code> and select the one which matches its annotation with <code>ProcessorQualifier</code> then the problem is which <code>ProcessorQualifier</code> to have/write ? More generally, how to dynamically select a bean by one of its qualifier ?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1678818008,"post_id":75736882,"comment_id":133606032,"body_markdown":"Can you also post contents of `Movie` class","body":"Can you also post contents of <code>Movie</code> class"},{"owner":{"account_id":9138696,"reputation":11,"user_id":6797401,"display_name":"Syed Ilhan"},"score":0,"creation_date":1678819429,"post_id":75736882,"comment_id":133606419,"body_markdown":"done, I&#39;ve edited my question to include it","body":"done, I&#39;ve edited my question to include it"}],"owner":{"account_id":9138696,"reputation":11,"user_id":6797401,"display_name":"Syed Ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678820075,"creation_date":1678817311,"question_id":75736882,"body_markdown":" - List item\r\n\r\nI&#39;m trying to return a list of json objects in my spring boot application.\r\nThis is the controller,\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n\t@Autowired\r\n\tprivate Movieservice movieService;\r\n\t@RequestMapping(&quot;/getMovies&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Movie&gt;&gt; allMovies() {\r\n\t\treturn new ResponseEntity&lt;List&lt;Movie&gt;&gt;(movieService.allMovies(),HttpStatus.OK);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the service class,\r\n```\r\n\r\n@Service\r\npublic class Movieservice {\r\n\t\r\n\t@Autowired\r\n\tprivate Movierepository movieRepository;\r\n\t\r\n\tpublic List&lt;Movie&gt; allMovies() {\r\n\t\treturn movieRepository.findAll();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the repository interface \r\n```\r\n\r\n@Repository\r\npublic interface Movierepository extends MongoRepository&lt;Movie,ObjectId&gt;{\r\n\t\r\n}\r\n\r\n```\r\nThis is my Movie class\r\n\r\n```\r\n@Document(collection =&quot;Movies&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Movie {\r\n    @Id\r\n    private ObjectId id;\r\n    private String imdbId;\r\n    private String title;\r\n    private String releaseDate;\r\n    private String trailerLink;\r\n    private List&lt;String&gt; genres;\r\n    private String poster;\r\n    private List&lt;String&gt; backdrops;\r\n    @DocumentReference\r\n    private List&lt;Review&gt; reviewIds;\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my Review class \r\n\r\n```\r\n\r\n@Document(collection = &quot;reviews&quot;)\r\n@Data\r\n@AllArgsConstructor \r\n@NoArgsConstructor\r\npublic class Review {\r\n\t@Id\r\n    private ObjectId id;\r\n    private String body;\r\n \r\n}\r\n```\r\n\r\nThis is my output\r\n\r\n```\r\n\r\n[\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{},\r\n{}\r\n]\r\n```\r\n\r\n1) Checked if movie entity class matches mongodb\r\n2) Ensured connection to mongodb is right","title":"Empty objects returned in response entity","body":"<ul>\n<li>List item</li>\n</ul>\n<p>I'm trying to return a list of json objects in my spring boot application.\nThis is the controller,</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n    @Autowired\n    private Movieservice movieService;\n    @RequestMapping(&quot;/getMovies&quot;)\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; allMovies() {\n        return new ResponseEntity&lt;List&lt;Movie&gt;&gt;(movieService.allMovies(),HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>This is the service class,</p>\n<pre><code>\n@Service\npublic class Movieservice {\n    \n    @Autowired\n    private Movierepository movieRepository;\n    \n    public List&lt;Movie&gt; allMovies() {\n        return movieRepository.findAll();\n    }\n}\n</code></pre>\n<p>This is the repository interface</p>\n<pre><code>\n@Repository\npublic interface Movierepository extends MongoRepository&lt;Movie,ObjectId&gt;{\n    \n}\n\n</code></pre>\n<p>This is my Movie class</p>\n<pre><code>@Document(collection =&quot;Movies&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Movie {\n    @Id\n    private ObjectId id;\n    private String imdbId;\n    private String title;\n    private String releaseDate;\n    private String trailerLink;\n    private List&lt;String&gt; genres;\n    private String poster;\n    private List&lt;String&gt; backdrops;\n    @DocumentReference\n    private List&lt;Review&gt; reviewIds;\n\n}\n\n</code></pre>\n<p>This is my Review class</p>\n<pre><code>\n@Document(collection = &quot;reviews&quot;)\n@Data\n@AllArgsConstructor \n@NoArgsConstructor\npublic class Review {\n    @Id\n    private ObjectId id;\n    private String body;\n \n}\n</code></pre>\n<p>This is my output</p>\n<pre><code>\n[\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{},\n{}\n]\n</code></pre>\n<ol>\n<li>Checked if movie entity class matches mongodb</li>\n<li>Ensured connection to mongodb is right</li>\n</ol>\n"},{"tags":["java","spring-data-jpa","functional-testing","testcontainers"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1672921674,"post_id":75000123,"comment_id":132384389,"body_markdown":"Use the mechanisms you would normally use to interact with the database from within your Java/Spring application. You can also directly use Testcontainers (https://www.testcontainers.org/modules/databases/), which provides helper functions that make this even easier for simple use cases.","body":"Use the mechanisms you would normally use to interact with the database from within your Java/Spring application. You can also directly use Testcontainers (<a href=\"https://www.testcontainers.org/modules/databases/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/databases</a>), which provides helper functions that make this even easier for simple use cases."}],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678819993,"creation_date":1678819993,"answer_id":75737278,"question_id":75000123,"body_markdown":"Postgres offers a special location where scripts can be located in order to initialize the database. You can do the following:\r\n\r\n```java\r\nPostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2-alpine&quot;)\r\n   .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;init-db.sql&quot;), &quot;/docker-entrypoint-initdb.d/&quot;);\r\n```\r\n\r\n`init-db.sql` should be at `src/test/resources`\r\n\r\nFor more info read https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it","title":"How to insert into the database booted in the test container in my junit testing code","body":"<p>Postgres offers a special location where scripts can be located in order to initialize the database. You can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2-alpine&quot;)\n   .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;init-db.sql&quot;), &quot;/docker-entrypoint-initdb.d/&quot;);\n</code></pre>\n<p><code>init-db.sql</code> should be at <code>src/test/resources</code></p>\n<p>For more info read <a href=\"https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it\" rel=\"nofollow noreferrer\">https://testcontainers.com/guides/configuration-of-services-running-in-container/#_initializing_the_container_by_copying_files_into_it</a></p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678819993,"creation_date":1672795317,"question_id":75000123,"body_markdown":"I have the following code in the docker-compose.yml file to have a database started in my test container (the exposed port is dynamic). \r\n\r\n \r\n\r\n     postgres:\r\n        image: my-proxy.jfrog.io/postgres:12\r\n        ports:\r\n          - &quot;5432&quot;\r\n        environment:\r\n          POSTGRES_DB: myTestingDB\r\n          POSTGRES_USER: username\r\n          POSTGRES_PASSWORD: password\r\n\r\nNow, to have my functional testing done, I need to insert some records in the junit testing code before trigger the call. How should I do that?","title":"How to insert into the database booted in the test container in my junit testing code","body":"<p>I have the following code in the docker-compose.yml file to have a database started in my test container (the exposed port is dynamic).</p>\n<pre><code> postgres:\n    image: my-proxy.jfrog.io/postgres:12\n    ports:\n      - &quot;5432&quot;\n    environment:\n      POSTGRES_DB: myTestingDB\n      POSTGRES_USER: username\n      POSTGRES_PASSWORD: password\n</code></pre>\n<p>Now, to have my functional testing done, I need to insert some records in the junit testing code before trigger the call. How should I do that?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1678584604,"post_id":75710575,"comment_id":133561975,"body_markdown":"`line = scnr.nextLine();` that reads one line. You don&#39;t need `lineWords` after that. You only read one line. Also, `List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);`","body":"<code>line = scnr.nextLine();</code> that reads one line. You don&#39;t need <code>lineWords</code> after that. You only read one line. Also, <code>List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678585498,"post_id":75710575,"comment_id":133562046,"body_markdown":":  `String[] words = new String[0];` Why do you want an array of no elements?  What is the code for your `concatenate` method? Does it create a new array each time? If so, that doesn&#39;t seem efficient. Better to start with an oversized array, keep track of the number of elements actually in use, and expand the array when it is discovered to be too small. Consider using an [`ArrayList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html) instead of an array, because `ArrayList` does that.","body":":  <code>String[] words = new String[0];</code> Why do you want an array of no elements?  What is the code for your <code>concatenate</code> method? Does it create a new array each time? If so, that doesn&#39;t seem efficient. Better to start with an oversized array, keep track of the number of elements actually in use, and expand the array when it is discovered to be too small. Consider using an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> instead of an array, because <code>ArrayList</code> does that."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1678586501,"post_id":75710575,"comment_id":133562131,"body_markdown":"Thank you you two! The line List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); was really useful!\n\nI didn&#39;t know about these methods.","body":"Thank you you two! The line List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); was really useful!  I didn&#39;t know about these methods."}],"answers":[{"tags":[],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678819821,"creation_date":1678819821,"answer_id":75737252,"question_id":75710575,"body_markdown":"In case this is useful for anyone in the future. This is how I implemented the solution in the comments (I didn&#39;t keep using array lists because I barely know how to use them and the deadline was encroaching forward to even start learning that now):\r\n\r\n```java\r\n    public static void main(String[] args) throws IOException {\r\n        NumberFormat formatter = NumberFormat.getNumberInstance(Locale.US); // formats the amount of nanoseconds displayed\r\n\r\n        List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); // reads txt file and stores it in an array list\r\n  \r\n        String[] transformed = words.toArray(new String[words.size()]); // transforms array list into a String array...\r\n        String[] wordsToSort = transformed.clone(); // makes a copy to safely change it in the future...\r\n  \r\n        // Testing Sorting algorithms......\r\n```\r\n\r\nThis line `List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);` stores more than 600000 elements into an array list in one sitting. In this way, you do not need a loop to store them all one-by-one.","title":"How can I store more than one word inside a txt file into a String in one sitting?","body":"<p>In case this is useful for anyone in the future. This is how I implemented the solution in the comments (I didn't keep using array lists because I barely know how to use them and the deadline was encroaching forward to even start learning that now):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException {\n        NumberFormat formatter = NumberFormat.getNumberInstance(Locale.US); // formats the amount of nanoseconds displayed\n\n        List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8); // reads txt file and stores it in an array list\n  \n        String[] transformed = words.toArray(new String[words.size()]); // transforms array list into a String array...\n        String[] wordsToSort = transformed.clone(); // makes a copy to safely change it in the future...\n  \n        // Testing Sorting algorithms......\n</code></pre>\n<p>This line <code>List&lt;String&gt; words = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);</code> stores more than 600000 elements into an array list in one sitting. In this way, you do not need a loop to store them all one-by-one.</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75737252,"answer_count":1,"score":0,"last_activity_date":1678819821,"creation_date":1678584221,"question_id":75710575,"body_markdown":"So I have a really long list of words inside a txt called `dictionary.txt`. It has one word, then it skips to a new line and has the next one as follows:\r\n\r\n```\r\npriceably\r\nsouthwesterly\r\nsemipapal\r\ngenuine\r\ncardiotoxicities\r\nshoeman\r\nUtahan\r\nungeodetically\r\nSchurman\r\n...\r\n```\r\n\r\nI am still struggling to find a way to store them all in an array of Strings without having to do it one by one.\r\n\r\n\r\nThis is what I got so far:\r\n\r\n```java\r\n        String[] words = new String[0];\r\n        int i = 0;\r\n  \r\n        try\r\n        {\r\n            Scanner scnr = new Scanner(new File(&quot;dictionary.txt&quot;));\r\n            String line;\r\n            while (scnr.hasNext())\r\n            {\r\n              line = scnr.nextLine();\r\n              String[] lineWords = line.split(&quot;\\r?\\n|\\r&quot;); \r\n              words = concatenate(words, lineWords);\r\n            }\r\n            scnr.close();\r\n        } \r\n```\r\n\r\nHow can I optimize this better so that the program finishes this process faster?","title":"How can I store more than one word inside a txt file into a String in one sitting?","body":"<p>So I have a really long list of words inside a txt called <code>dictionary.txt</code>. It has one word, then it skips to a new line and has the next one as follows:</p>\n<pre><code>priceably\nsouthwesterly\nsemipapal\ngenuine\ncardiotoxicities\nshoeman\nUtahan\nungeodetically\nSchurman\n...\n</code></pre>\n<p>I am still struggling to find a way to store them all in an array of Strings without having to do it one by one.</p>\n<p>This is what I got so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] words = new String[0];\n        int i = 0;\n  \n        try\n        {\n            Scanner scnr = new Scanner(new File(&quot;dictionary.txt&quot;));\n            String line;\n            while (scnr.hasNext())\n            {\n              line = scnr.nextLine();\n              String[] lineWords = line.split(&quot;\\r?\\n|\\r&quot;); \n              words = concatenate(words, lineWords);\n            }\n            scnr.close();\n        } \n</code></pre>\n<p>How can I optimize this better so that the program finishes this process faster?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":10264819,"reputation":6925,"user_id":7575111,"accept_rate":75,"display_name":"NullDev"},"score":1,"creation_date":1678804485,"post_id":75734532,"comment_id":133601936,"body_markdown":"a.) what have you tried so far? can you show any code? b.) you tagged both java and javascript. which one is it?","body":"a.) what have you tried so far? can you show any code? b.) you tagged both java and javascript. which one is it?"},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":1,"creation_date":1678804541,"post_id":75734532,"comment_id":133601959,"body_markdown":"llook up https://en.wikipedia.org/wiki/K-means_clustering ;-)","body":"llook up <a href=\"https://en.wikipedia.org/wiki/K-means_clustering\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/K-means_clustering</a> ;-)"},{"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"score":0,"creation_date":1678804618,"post_id":75734532,"comment_id":133601994,"body_markdown":"I removed JS code though both would work for us. I didn&#39;t write any code yet as I feel I&#39;m missing something very basic and it&#39;s not as simple as I make it. Will write my solution shortly if it helps.","body":"I removed JS code though both would work for us. I didn&#39;t write any code yet as I feel I&#39;m missing something very basic and it&#39;s not as simple as I make it. Will write my solution shortly if it helps."},{"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"score":0,"creation_date":1678804843,"post_id":75734532,"comment_id":133602070,"body_markdown":"@MBobrik Yes, I&#39;ve seen that which is why I feel I&#39;m missing something basic here with my solution which is far from np-hard...","body":"@MBobrik Yes, I&#39;ve seen that which is why I feel I&#39;m missing something basic here with my solution which is far from np-hard..."},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":1,"creation_date":1678804991,"post_id":75734532,"comment_id":133602125,"body_markdown":"quote &quot;The problem is computationally difficult (NP-hard); however, *efficient heuristic algorithms converge quickly to a local optimum*.&quot; ... so you basically got one of those heuristic solutions.","body":"quote &quot;The problem is computationally difficult (NP-hard); however, <i>efficient heuristic algorithms converge quickly to a local optimum</i>.&quot; ... so you basically got one of those heuristic solutions."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1678817255,"post_id":75734532,"comment_id":133605826,"body_markdown":"@MBobrik No, in one dimension this is NOT NP-hard. In 2 dimensions it is.","body":"@MBobrik No, in one dimension this is NOT NP-hard. In 2 dimensions it is."},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":0,"creation_date":1678828363,"post_id":75734532,"comment_id":133608749,"body_markdown":"@btilly to be honest, never thought about the 1D special case in detail - but never mind, others did - just found this one https://stackoverflow.com/questions/11513484/1d-number-array-clustering","body":"@btilly to be honest, never thought about the 1D special case in detail - but never mind, others did - just found this one <a href=\"https://stackoverflow.com/questions/11513484/1d-number-array-clustering\" title=\"1d number array clustering\">stackoverflow.com/questions/11513484/1d-number-array-cluster&zwnj;&#8203;ing</a>"}],"answers":[{"tags":[],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806091,"creation_date":1678806091,"answer_id":75734877,"question_id":75734532,"body_markdown":"The idea of sorting first is correct. Then you have to create K groups from the sorted array, which you can do as following: If there is any deviation you can play around the &quot;border elements&quot; of each group to make the result better.\r\n\r\nFor example: N=16, K=3. Now there are some possible outcomes. First group 5 memebers, second group 6 members and last group again 5 members, but there are other possibilties to create your groups. Now you need to find and evaluate all the possibilities, and pick out the best one. For example, if shape [5,5,6] is better than shape [5,6,5] you move the last element (&quot;border element&quot;) from the second group into the third group.\r\n\r\nIf there is no deviation at all, for example N=100, K=10, there is only one possibility you can choose, and that is the best one in this case.","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>The idea of sorting first is correct. Then you have to create K groups from the sorted array, which you can do as following: If there is any deviation you can play around the &quot;border elements&quot; of each group to make the result better.</p>\n<p>For example: N=16, K=3. Now there are some possible outcomes. First group 5 memebers, second group 6 members and last group again 5 members, but there are other possibilties to create your groups. Now you need to find and evaluate all the possibilities, and pick out the best one. For example, if shape [5,5,6] is better than shape [5,6,5] you move the last element (&quot;border element&quot;) from the second group into the third group.</p>\n<p>If there is no deviation at all, for example N=100, K=10, there is only one possibility you can choose, and that is the best one in this case.</p>\n"},{"comments":[{"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"score":0,"creation_date":1678851680,"post_id":75737228,"comment_id":133612053,"body_markdown":"Sorry for being slow, I think I got most of what you wrote and it makes sense but now I&#39;m not sure is the success criteria / minimal &quot;price&quot; for the overall thing that I measure? the optimized solution? is it summing up all the deviation values for each group and looking for the minimal sum?","body":"Sorry for being slow, I think I got most of what you wrote and it makes sense but now I&#39;m not sure is the success criteria / minimal &quot;price&quot; for the overall thing that I measure? the optimized solution? is it summing up all the deviation values for each group and looking for the minimal sum?"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1678859246,"post_id":75737228,"comment_id":133612905,"body_markdown":"@dean734 Exactly.  Minimum sum of deviations so far, and the trail of decisions that got you there.","body":"@dean734 Exactly.  Minimum sum of deviations so far, and the trail of decisions that got you there."},{"owner":{"account_id":180664,"reputation":2921,"user_id":414125,"accept_rate":33,"display_name":"Leo"},"score":0,"creation_date":1698974914,"post_id":75737228,"comment_id":136475906,"body_markdown":"Is this a well-known problem with an implemented algorithm in a library somewhere?","body":"Is this a well-known problem with an implemented algorithm in a library somewhere?"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":1,"creation_date":1699018049,"post_id":75737228,"comment_id":136481337,"body_markdown":"@Leo The caching technique is well known and is called memoizing. Lots of languages have libraries to help with that. The recursive function is a different story.","body":"@Leo The caching technique is well known and is called memoizing. Lots of languages have libraries to help with that. The recursive function is a different story."}],"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678819680,"creation_date":1678819680,"answer_id":75737228,"question_id":75734532,"body_markdown":"You are missing a complication.\r\n\r\nSuppose that `k` is even and `n = 2.5*k`.  Then half your groups are of size 2 and half of size 3.  With a na&#239;ve approach, you have to consider the `k choose 2 = O(2^k / sqrt(k))` possible ways to decide which are of size 2 and which are of size 3.  This will take exponential time.\r\n\r\nLet `m` be the group size, rounded down.  Then the optimal division of the first `i` items into `j` groups will be to have either `m` elements in the last group and divide the first `i-m` items into `j-1` groups, or to have `m+1` elements in the last group and divide the first `i-m-1` items into `j-1` groups.  You can calculate that with a recursive function which returns a pair for `(cost, linkedListOfChoices)`.\r\n\r\nAdd a caching layer to that recursion and it will run in polynomial time.  This is called top-down dynamic programming.\r\n\r\nGoing from your optimal `linkedListOfChoices` for dividing the whole list into `k` groups to the actual groups should be straightforward.  Here is an example.\r\n\r\nSuppose we want to divide `[0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 0.9, 1.0, 2.1, 2.3]` into `4` groups.  You should get a linked list corresponding to (but maybe with a very different representation):\r\n\r\n    [8, 9,\r\n        [5, 7,\r\n            [2, 4,\r\n                [0, 1,\r\n                    null]]]]]\r\n\r\nFrom which your groups (read inside out, turn indices back into numbers) are:\r\n\r\n    [[0.1, 0.2], [0.4, 0.5, 0.6], [0.8, 0.9, 1.0], [2.1, 2.3]]","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>You are missing a complication.</p>\n<p>Suppose that <code>k</code> is even and <code>n = 2.5*k</code>.  Then half your groups are of size 2 and half of size 3.  With a naïve approach, you have to consider the <code>k choose 2 = O(2^k / sqrt(k))</code> possible ways to decide which are of size 2 and which are of size 3.  This will take exponential time.</p>\n<p>Let <code>m</code> be the group size, rounded down.  Then the optimal division of the first <code>i</code> items into <code>j</code> groups will be to have either <code>m</code> elements in the last group and divide the first <code>i-m</code> items into <code>j-1</code> groups, or to have <code>m+1</code> elements in the last group and divide the first <code>i-m-1</code> items into <code>j-1</code> groups.  You can calculate that with a recursive function which returns a pair for <code>(cost, linkedListOfChoices)</code>.</p>\n<p>Add a caching layer to that recursion and it will run in polynomial time.  This is called top-down dynamic programming.</p>\n<p>Going from your optimal <code>linkedListOfChoices</code> for dividing the whole list into <code>k</code> groups to the actual groups should be straightforward.  Here is an example.</p>\n<p>Suppose we want to divide <code>[0.1, 0.2, 0.4, 0.5, 0.6, 0.8, 0.9, 1.0, 2.1, 2.3]</code> into <code>4</code> groups.  You should get a linked list corresponding to (but maybe with a very different representation):</p>\n<pre><code>[8, 9,\n    [5, 7,\n        [2, 4,\n            [0, 1,\n                null]]]]]\n</code></pre>\n<p>From which your groups (read inside out, turn indices back into numbers) are:</p>\n<pre><code>[[0.1, 0.2], [0.4, 0.5, 0.6], [0.8, 0.9, 1.0], [2.1, 2.3]]\n</code></pre>\n"}],"owner":{"account_id":17591270,"reputation":21,"user_id":12763086,"display_name":"dean734"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678819680,"creation_date":1678804330,"question_id":75734532,"body_markdown":"Need to split a list of positive values into a K groups. The groups should be almost equal in size (number of values), but the values of items in each group have the minimal standard deviation. (Think grouping products by similar pricing).\r\n\r\nI was thinking sort the values, then split by order into K groups gets me very close and then only if the groups sizes aren&#39;t all equals do one-pass to see if the extra items moved from one group to the next creates a better result.\r\nBut I feel like I&#39;m missing something big here and it should be more complicated than that.\r\n","title":"Splitting a list of N values into K groups/clusters with minimal standard deviation within each group","body":"<p>Need to split a list of positive values into a K groups. The groups should be almost equal in size (number of values), but the values of items in each group have the minimal standard deviation. (Think grouping products by similar pricing).</p>\n<p>I was thinking sort the values, then split by order into K groups gets me very close and then only if the groups sizes aren't all equals do one-pass to see if the extra items moved from one group to the next creates a better result.\nBut I feel like I'm missing something big here and it should be more complicated than that.</p>\n"},{"tags":["java","kotlin","dialog","message","toast"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1678818492,"post_id":75736977,"comment_id":133606174,"body_markdown":"Use a snackbar.","body":"Use a snackbar."},{"owner":{"account_id":10021932,"reputation":1,"user_id":7411360,"display_name":"Rodrigo Zid"},"score":0,"creation_date":1678819426,"post_id":75736977,"comment_id":133606417,"body_markdown":"The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.","body":"The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678863454,"post_id":75736977,"comment_id":133613562,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":10021932,"reputation":1,"user_id":7411360,"display_name":"Rodrigo Zid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678819456,"creation_date":1678817985,"question_id":75736977,"body_markdown":"Does anyone know how to create a closable message like the one in the image in Kotlin?\r\n\r\nThe idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.\r\n\r\n[Image](https://i.stack.imgur.com/RmtQq.jpg)\r\n\r\nI need to create a sticky and closable message that can be added in the main activity of an android application.","title":"Creating a sticky and closable message in the bottom of the activity (kotlin/java)","body":"<p>Does anyone know how to create a closable message like the one in the image in Kotlin?</p>\n<p>The idea is not to use snackbars or toasts or dialogs. This message must be immovable and must appear every certain number of times the app is opened.</p>\n<p><a href=\"https://i.stack.imgur.com/RmtQq.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I need to create a sticky and closable message that can be added in the main activity of an android application.</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655050229,"post_id":72591540,"comment_id":128233271,"body_markdown":"For the `TIMESTAMP WITH TIME ZONE` type, Postgres *always* stores the values in UTC, and returns the values in UTC. By “in UTC”, I mean an offset from UTC of zero hours-minutes-seconds. If you see a value retrieved from a Postgres column of that type with an offset other than zero, then your tooling or middleware changed the value retrieved from Postgres.","body":"For the <code>TIMESTAMP WITH TIME ZONE</code> type, Postgres <i>always</i> stores the values in UTC, and returns the values in UTC. By “in UTC”, I mean an offset from UTC of zero hours-minutes-seconds. If you see a value retrieved from a Postgres column of that type with an offset other than zero, then your tooling or middleware changed the value retrieved from Postgres."},{"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"score":0,"creation_date":1655052812,"post_id":72591540,"comment_id":128233846,"body_markdown":"Hm.. this is not the case I get 2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00. I have hibernate - latest SpringBoot ... nothing in middle","body":"Hm.. this is not the case I get 2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00. I have hibernate - latest SpringBoot ... nothing in middle"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655058742,"post_id":72591540,"comment_id":128235131,"body_markdown":"“I have hibernate - latest SpringBoot” — so you have *much* in the middle. Write a throwaway app that does nothing more than make a simple JDBC connection to retrieve an `OffsetDateTime` object from your `TIMESTAMP WITH TIME ZONE` column. No Spring, no Hibernate, no ORM, no database framework. You’ll see an offset of zero.","body":"“I have hibernate - latest SpringBoot” — so you have <i>much</i> in the middle. Write a throwaway app that does nothing more than make a simple JDBC connection to retrieve an <code>OffsetDateTime</code> object from your <code>TIMESTAMP WITH TIME ZONE</code> column. No Spring, no Hibernate, no ORM, no database framework. You’ll see an offset of zero."}],"answers":[{"tags":[],"owner":{"account_id":3051490,"reputation":66,"user_id":2585930,"display_name":"cliff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818705,"creation_date":1678818705,"answer_id":75737079,"question_id":72591540,"body_markdown":"This is not direct answer to your question but it can helps with your problem.\r\n\r\nYou may try Hibernate 6 with new approach for working with `OffsetDateTime`\r\n\r\nFirst of all you need to add column for storing offsets.\r\n\r\n```sql\r\n-- the old one with time zone\r\ncreated_at  TIMESTAMP WITH TIME ZONE NOT NULL\r\n-- and the new one\r\ncreated_at_tz_offset INTEGER NOT NULL\r\n```\r\n\r\nAnd then change your entity to\r\n\r\n```java\r\n@Column(name = &quot;created_at&quot;)\r\n@NotNull\r\n@TimeZoneStorage(TimeZoneStorageType.COLUMN)\r\n@TimeZoneColumn(name = &quot;created_at_tz_offset&quot;)  \r\nprivate OffsetDateTime createdAt;\r\n```\r\n\r\nAfter that `OffsetDateTime` value will not depends on your JVM timezone or PostgreSQL timezone it will be the same for different timezones.\r\n\r\nmore information is this article [Improved OffsetDateTime and ZonedDateTime Mapping in Hibernate 6][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/","title":"JPA Fetcing OffsetDateTime with ZoneOffset - hibernate detects change on field on save","body":"<p>This is not direct answer to your question but it can helps with your problem.</p>\n<p>You may try Hibernate 6 with new approach for working with <code>OffsetDateTime</code></p>\n<p>First of all you need to add column for storing offsets.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- the old one with time zone\ncreated_at  TIMESTAMP WITH TIME ZONE NOT NULL\n-- and the new one\ncreated_at_tz_offset INTEGER NOT NULL\n</code></pre>\n<p>And then change your entity to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;created_at&quot;)\n@NotNull\n@TimeZoneStorage(TimeZoneStorageType.COLUMN)\n@TimeZoneColumn(name = &quot;created_at_tz_offset&quot;)  \nprivate OffsetDateTime createdAt;\n</code></pre>\n<p>After that <code>OffsetDateTime</code> value will not depends on your JVM timezone or PostgreSQL timezone it will be the same for different timezones.</p>\n<p>more information is this article <a href=\"https://thorben-janssen.com/hibernate-6-offsetdatetime-and-zoneddatetime/\" rel=\"nofollow noreferrer\">Improved OffsetDateTime and ZonedDateTime Mapping in Hibernate 6</a></p>\n"}],"owner":{"account_id":4794024,"reputation":373,"user_id":3872452,"accept_rate":58,"display_name":"Levijatanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678818705,"creation_date":1655031300,"question_id":72591540,"body_markdown":"I have a Postgres table with a column **created_at** that keeps triggering updates of row.\r\n\r\n    created_at  TIMESTAMP WITH TIME ZONE NOT NULL\r\nIn Product entity bean: \r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    @NotNull\r\n    private OffsetDateTime createdAt;\r\n\r\nValue in JSON:\r\n\r\n    batchProduct/createdAt in JSON: 2022-06-12T06:19:26Z\r\n\r\nMap to entity using OffsetDateTime.parse:\r\n   \r\n\r\n    product.setCreatedAt(OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n\r\n\r\nWhen loading multiple time same object(CreatedAt) from same JSON ( **2022-06-12T06:19:26Z**)\r\nhibernate detects change I presume because the database returns the value with offset of my time zone\r\n( **2022-06-12T08:19:26+02:00**). This is the same point in time just representation is \r\ndifferent database has +02:00 and hour is diffrent. Equal is working fine I have tested it:\r\n   \r\n\r\n    if(product.getCreatedAt().equals(OffsetDateTime.parse(batchProduct.getCreatedAt()))){\r\n           log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\r\n           log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n        } else {\r\n            log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\r\n            log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\r\n            log.info(&quot;Objects are equals&quot;);\r\n        }\r\n\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - BatchProduct.createAt: 2022-06-12T06:19:26Z\r\n    2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Objects are equals\r\n\r\nWhen I save the same object over and over it always triggers an update of the row in the database ( and values in DB are the same), when I comment setCreatedAt ( there are many more attributes) DB is not updated ( hibernate detects this is the same object) and this is wanted behavior. \r\n\r\nThe question is: how is Hibernate checking if the OffsetDateTime is equal because it keeps triggering updates of entity for same OffsetDateTime?\r\n\r\n\r\n","title":"JPA Fetcing OffsetDateTime with ZoneOffset - hibernate detects change on field on save","body":"<p>I have a Postgres table with a column <strong>created_at</strong> that keeps triggering updates of row.</p>\n<pre><code>created_at  TIMESTAMP WITH TIME ZONE NOT NULL\n</code></pre>\n<p>In Product entity bean:</p>\n<pre><code>@Column(name = &quot;created_at&quot;)\n@NotNull\nprivate OffsetDateTime createdAt;\n</code></pre>\n<p>Value in JSON:</p>\n<pre><code>batchProduct/createdAt in JSON: 2022-06-12T06:19:26Z\n</code></pre>\n<p>Map to entity using OffsetDateTime.parse:</p>\n<pre><code>product.setCreatedAt(OffsetDateTime.parse(batchProduct.getCreatedAt()));\n</code></pre>\n<p>When loading multiple time same object(CreatedAt) from same JSON ( <strong>2022-06-12T06:19:26Z</strong>)\nhibernate detects change I presume because the database returns the value with offset of my time zone\n( <strong>2022-06-12T08:19:26+02:00</strong>). This is the same point in time just representation is\ndifferent database has +02:00 and hour is diffrent. Equal is working fine I have tested it:</p>\n<pre><code>if(product.getCreatedAt().equals(OffsetDateTime.parse(batchProduct.getCreatedAt()))){\n       log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\n       log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\n    } else {\n        log.info(&quot;Product.createAt: &quot; + product.getCreatedAt());\n        log.info(&quot;BatchProduct.createAt: &quot; + OffsetDateTime.parse(batchProduct.getCreatedAt()));\n        log.info(&quot;Objects are equals&quot;);\n    }\n\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Product.createAt: 2022-06-12T08:19:26+02:00\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - BatchProduct.createAt: 2022-06-12T06:19:26Z\n2022-06-12 12:00:10,953 [main] INFO  c.xxx.mapper.BatchObjectsMapper - Objects are equals\n</code></pre>\n<p>When I save the same object over and over it always triggers an update of the row in the database ( and values in DB are the same), when I comment setCreatedAt ( there are many more attributes) DB is not updated ( hibernate detects this is the same object) and this is wanted behavior.</p>\n<p>The question is: how is Hibernate checking if the OffsetDateTime is equal because it keeps triggering updates of entity for same OffsetDateTime?</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1678805846,"post_id":75734246,"comment_id":133602408,"body_markdown":"why do you need to get several API Key? you just let users sign in and authenticate their account. then let them use your app. Anyway you can try this; https://stackoverflow.com/questions/31342359/dynamically-set-googleapi-key","body":"why do you need to get several API Key? you just let users sign in and authenticate their account. then let them use your app. Anyway you can try this; <a href=\"https://stackoverflow.com/questions/31342359/dynamically-set-googleapi-key\" title=\"dynamically set googleapi key\">stackoverflow.com/questions/31342359/&hellip;</a>"},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813440,"post_id":75734246,"comment_id":133604804,"body_markdown":"This same app will be distributed to different clients. We cant charge them for maps usage. They will set their own key and use it","body":"This same app will be distributed to different clients. We cant charge them for maps usage. They will set their own key and use it"},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813620,"post_id":75734246,"comment_id":133604861,"body_markdown":"The link you gave me is for Web but i need android java code to set api key before initialization","body":"The link you gave me is for Web but i need android java code to set api key before initialization"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678849616,"post_id":75734246,"comment_id":133611847,"body_markdown":"You only need YOUR own API key on your app. Your users should not be required to have an API key if they want to use your app with Google Maps API.","body":"You only need YOUR own API key on your app. Your users should not be required to have an API key if they want to use your app with Google Maps API."},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678854309,"post_id":75734246,"comment_id":133612337,"body_markdown":"if i use my api key i have to pay the usage cost right ?","body":"if i use my api key i have to pay the usage cost right ?"}],"answers":[{"comments":[{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813264,"post_id":75735062,"comment_id":133604752,"body_markdown":"How to set google maps api key using java code? not through manifest","body":"How to set google maps api key using java code? not through manifest"},{"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"score":0,"creation_date":1678813332,"post_id":75735062,"comment_id":133604777,"body_markdown":"After getting google maps api key how to set it","body":"After getting google maps api key how to set it"},{"owner":{"account_id":16568940,"reputation":21,"user_id":11972693,"display_name":"Ryad Amir"},"score":0,"creation_date":1681226704,"post_id":75735062,"comment_id":134020750,"body_markdown":"import com.google.maps.GeoApiContext;\n\nGeoApiContext context = new GeoApiContext.Builder()\n        .apiKey(&quot;YOUR_API_KEY&quot;)\n        .build();","body":"import com.google.maps.GeoApiContext;  GeoApiContext context = new GeoApiContext.Builder()         .apiKey(&quot;YOUR_API_KEY&quot;)         .build();"}],"tags":[],"owner":{"account_id":16568940,"reputation":21,"user_id":11972693,"display_name":"Ryad Amir"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807070,"creation_date":1678807070,"answer_id":75735062,"question_id":75734246,"body_markdown":"What I can suggest to you is that in your StartActivity (Launcher activity) make a REST call to your server to get the MAPS key and then store it in SharedPreferences to use it everywhere in the app.\r\n\r\nImportant : make sure to handle errors when getting the key especially in the first run of the app.","title":"Change android app google map api key dynamically?","body":"<p>What I can suggest to you is that in your StartActivity (Launcher activity) make a REST call to your server to get the MAPS key and then store it in SharedPreferences to use it everywhere in the app.</p>\n<p>Important : make sure to handle errors when getting the key especially in the first run of the app.</p>\n"},{"tags":[],"owner":{"account_id":8668089,"reputation":1,"user_id":6487832,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818471,"creation_date":1678818471,"answer_id":75737051,"question_id":75734246,"body_markdown":"This can be accomplished using android flavors, you can create a new flavor for each client, this means that you can have a separate strings.xml for each flavor and have different values for the map API key strings,\r\n\r\n&lt;string name=&quot;MAPS_API_KEY_STRINGS&quot;&gt;MAPS_API_KEYS_FLAVOR_1&lt;/string&gt;\r\n\r\n&lt;string name=&quot;MAPS_API_KEY_STRINGS&quot;&gt;MAPS_API_KEYS_FLAVOR_2&lt;/string&gt;\r\n\r\nThis value will be picked up in the manifest when the app is built. \r\nUnsure, if this will solve your problem, but this is how i solved it in my own whitelabeled app, with different clients and we charged them for maps API cost.","title":"Change android app google map api key dynamically?","body":"<p>This can be accomplished using android flavors, you can create a new flavor for each client, this means that you can have a separate strings.xml for each flavor and have different values for the map API key strings,</p>\n<p>MAPS_API_KEYS_FLAVOR_1</p>\n<p>MAPS_API_KEYS_FLAVOR_2</p>\n<p>This value will be picked up in the manifest when the app is built.\nUnsure, if this will solve your problem, but this is how i solved it in my own whitelabeled app, with different clients and we charged them for maps API cost.</p>\n"}],"owner":{"account_id":28014996,"reputation":1,"user_id":21396899,"display_name":"Harsha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1678818471,"creation_date":1678802840,"question_id":75734246,"body_markdown":"My android App written in java android studio. My app is connected to our server for getting data and customizing.\r\nI need to get Google map api key dynamically based on user account signed in to our server.\r\nWhen building app I don&#39;t want to provide api key. User have to set it in server then I get it and use it in app.\r\n\r\nHow to do this pls Help \r\n\r\n\r\nI already tried adding in build config. But it cant update dynamically after building.","title":"Change android app google map api key dynamically?","body":"<p>My android App written in java android studio. My app is connected to our server for getting data and customizing.\nI need to get Google map api key dynamically based on user account signed in to our server.\nWhen building app I don't want to provide api key. User have to set it in server then I get it and use it in app.</p>\n<p>How to do this pls Help</p>\n<p>I already tried adding in build config. But it cant update dynamically after building.</p>\n"},{"tags":["java","treemap","comparable"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1678797206,"post_id":75733112,"comment_id":133599599,"body_markdown":"I definitely recommend you do not use `Date` and `SimpleDateFormat`. Those class are poorly designed and long outdated, the latter in particular notoriously troublesome. Use `LocalDateTime` or another appropriate class from [java.time. the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I definitely recommend you do not use <code>Date</code> and <code>SimpleDateFormat</code>. Those class are poorly designed and long outdated, the latter in particular notoriously troublesome. Use <code>LocalDateTime</code> or another appropriate class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time. the modern Java date and time API</a>."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1678797307,"post_id":75733112,"comment_id":133599624,"body_markdown":"At first `10L` is a value in that map instead of a key. Use `items.containsValue(10L)` to check if vaule does contain in that map or chance key-value order.\nFinally, could you provide any piece of code your endeavour to solve the problem?","body":"At first <code>10L</code> is a value in that map instead of a key. Use <code>items.containsValue(10L)</code> to check if vaule does contain in that map or chance key-value order. Finally, could you provide any piece of code your endeavour to solve the problem?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678797365,"post_id":75733112,"comment_id":133599643,"body_markdown":"No, what you ask is not possible. You may want to use two maps, for example a `HashMap&lt;Id, Index&gt;` and a `TreeMap&lt;LocalDateTime, &lt;Collection&lt;Index&gt;&gt;`.","body":"No, what you ask is not possible. You may want to use two maps, for example a <code>HashMap&lt;Id, Index&gt;</code> and a <code>TreeMap&lt;LocalDateTime, &lt;Collection&lt;Index&gt;&gt;</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927668,"post_id":75733112,"comment_id":133629974,"body_markdown":"Do you just want to be able to access a date by a particular integer number? If so, you are working *much* too hard. I find your Question impossible to comprehend.","body":"Do you just want to be able to access a date by a particular integer number? If so, you are working <i>much</i> too hard. I find your Question impossible to comprehend."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818384,"creation_date":1678818384,"answer_id":75737036,"question_id":75733112,"body_markdown":"This is a good case for making your own container class, instead of relying directly on a Map:\r\n\r\n    public class IndexSet {\r\n        private final Map&lt;Long, Index&gt; indexes = new HashMap&lt;&gt;();\r\n\r\n        public boolean contains(long id) {\r\n            return indexes.containsKey(id);\r\n        }\r\n\r\n        public Index get(long id) {\r\n            return indexes.get(id);\r\n        }\r\n\r\n        public void add(Index index) {\r\n            return indexes.put(index.getId(), index);\r\n        }\r\n\r\n        public List&lt;Index&gt; allByDate() {\r\n            List&lt;Index&gt; list = new ArrayList&lt;&gt;(indexes.values());\r\n            list.sort(Comparator.comparing(Index::getDate));\r\n            return list;\r\n        }\r\n    }\r\n","title":"Java TreeMap with custom class (Long, Date) as Key to sort by Date, but put/get by Long","body":"<p>This is a good case for making your own container class, instead of relying directly on a Map:</p>\n<pre><code>public class IndexSet {\n    private final Map&lt;Long, Index&gt; indexes = new HashMap&lt;&gt;();\n\n    public boolean contains(long id) {\n        return indexes.containsKey(id);\n    }\n\n    public Index get(long id) {\n        return indexes.get(id);\n    }\n\n    public void add(Index index) {\n        return indexes.put(index.getId(), index);\n    }\n\n    public List&lt;Index&gt; allByDate() {\n        List&lt;Index&gt; list = new ArrayList&lt;&gt;(indexes.values());\n        list.sort(Comparator.comparing(Index::getDate));\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3948726,"reputation":101,"user_id":3260127,"accept_rate":100,"display_name":"Nolias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678818384,"creation_date":1678796775,"question_id":75733112,"body_markdown":"I have a specific problem. I need to create a map of objects identified by a custom Index class consisting of two fields: Long id and Date date. Is it possible to make TreeMap sorted by the date field, but have .containsKey check the id field?\r\n\r\n```lang-java\r\npublic class Index implements Comparable&lt;Index&gt; {\r\n    public Long id;\r\n\tpublic Date date;\r\n\r\n\tpublic Index(Long id, Date date) {\r\n\t\tthis.id = id;\r\n\t\tthis. Date = date;\r\n\t}\r\n\t\r\n    @Override\r\n\tpublic int compareTo(Index i) {\r\n\t\treturn date.compareTo(i.date);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Boolean equals(Object o) {\r\n\t\tif (o instanceof Index) {\r\n\t\t\tIndex i = (Index) o;\r\n\t\t\treturn id.equals(i.id);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\nAnd code:\r\n```lang-java\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\nMap&lt;Index,Object&gt; items = new TreeMap&lt;&gt;();\r\nitems.put(new Index(10L, formatter.parse(&quot;2023-03-14 10:00&quot;)), 10L);\r\nitems.put(new Index(20L, formatter.parse(&quot;2023-03-14 08:00&quot;)), 20L);\r\n```\r\n\r\nAnd what I want to achieve is:\r\n1. items.containsKey(10L) should check if there is an Index object with id == 10L.\r\n1. items.put should work normally, so that Index objects can be added normally.\r\n1. items should be sorted by the date field in the Index object, so the 20L will be the first item, and 10L will be the second item.","title":"Java TreeMap with custom class (Long, Date) as Key to sort by Date, but put/get by Long","body":"<p>I have a specific problem. I need to create a map of objects identified by a custom Index class consisting of two fields: Long id and Date date. Is it possible to make TreeMap sorted by the date field, but have .containsKey check the id field?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Index implements Comparable&lt;Index&gt; {\n    public Long id;\n    public Date date;\n\n    public Index(Long id, Date date) {\n        this.id = id;\n        this. Date = date;\n    }\n    \n    @Override\n    public int compareTo(Index i) {\n        return date.compareTo(i.date);\n    }\n\n    @Override\n    public Boolean equals(Object o) {\n        if (o instanceof Index) {\n            Index i = (Index) o;\n            return id.equals(i.id);\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>And code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\nMap&lt;Index,Object&gt; items = new TreeMap&lt;&gt;();\nitems.put(new Index(10L, formatter.parse(&quot;2023-03-14 10:00&quot;)), 10L);\nitems.put(new Index(20L, formatter.parse(&quot;2023-03-14 08:00&quot;)), 20L);\n</code></pre>\n<p>And what I want to achieve is:</p>\n<ol>\n<li>items.containsKey(10L) should check if there is an Index object with id == 10L.</li>\n<li>items.put should work normally, so that Index objects can be added normally.</li>\n<li>items should be sorted by the date field in the Index object, so the 20L will be the first item, and 10L will be the second item.</li>\n</ol>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1678814519,"post_id":75736310,"comment_id":133605074,"body_markdown":"*I basically understand what&#39;s wrong in my code* We don&#39;t. You need to tell us. Why do you think it is necessary to prescribe a condition? Why are loops useless here? What are you trying to do? Because we do not know.","body":"<i>I basically understand what&#39;s wrong in my code</i> We don&#39;t. You need to tell us. Why do you think it is necessary to prescribe a condition? Why are loops useless here? What are you trying to do? Because we do not know."},{"owner":{"account_id":27201667,"reputation":1,"user_id":20733837,"display_name":"Andrew"},"score":0,"creation_date":1678817409,"post_id":75736310,"comment_id":133605863,"body_markdown":"The essence of the application is that when you click on the button, my number either increases by 1 or decreases by 1. Cycles in my opinion are useless, for example for. I create a range i &lt; 100 (i = 0) and it immediately outputs 100. The while cycle will work the same way. Is it rational to write a solution through case?","body":"The essence of the application is that when you click on the button, my number either increases by 1 or decreases by 1. Cycles in my opinion are useless, for example for. I create a range i &lt; 100 (i = 0) and it immediately outputs 100. The while cycle will work the same way. Is it rational to write a solution through case?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678818102,"creation_date":1678818102,"answer_id":75736991,"question_id":75736310,"body_markdown":"Now that I understand what you&#39;re asking, I can help you. In your `onClick` method you need to first attempt to parse the existing value from `txtTime1`, `txtTime2` and `txtTime3`. Then check which button was clicked. Then perform your range validations. And finally set the value back to the text fields. Something like,\r\n\r\n\tpublic void onClick(View view) {\r\n\t\tint value1 = 0;\r\n\t\ttry {\r\n\t\t\tvalue1 = Integer.parseInt(txtTime1.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tint value2 = 0;\r\n\t\ttry {\r\n\t\t\tvalue2 = Integer.parseInt(txtTime2.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tint value3 = 0;\r\n\t\ttry {\r\n\t\t\tvalue3 = Integer.parseInt(txtTime3.getText());\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t}\r\n\t\tswitch (view.getId()) {\r\n\t\tcase R.id.btn11:\r\n\t\t\tvalue1 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn12:\r\n\t\t\tvalue1 -= 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn21:\r\n\t\t\tvalue2 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn22:\r\n\t\t\tvalue2 -= 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn31:\r\n\t\t\tvalue3 += 1;\r\n\t\t\tbreak;\r\n\t\tcase R.id.btn32:\r\n\t\t\tvalue3 -= 1;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tvalue1 = Integer.min(100, value1);\r\n\t\tvalue1 = Integer.max(0, value1);\r\n\t\tvalue2 = Integer.min(100, value2);\r\n\t\tvalue2 = Integer.max(0, value2);\r\n\t\tvalue3 = Integer.min(100, value3);\r\n\t\tvalue3 = Integer.max(0, value3);\r\n\t\ttxtTime1.setText(String.valueOf(value1));\r\n\t\ttxtTime2.setText(String.valueOf(value2));\r\n\t\ttxtTime3.setText(String.valueOf(value3));\r\n\t}\r\n","title":"What condition should I write to make everything work","body":"<p>Now that I understand what you're asking, I can help you. In your <code>onClick</code> method you need to first attempt to parse the existing value from <code>txtTime1</code>, <code>txtTime2</code> and <code>txtTime3</code>. Then check which button was clicked. Then perform your range validations. And finally set the value back to the text fields. Something like,</p>\n<pre><code>public void onClick(View view) {\n    int value1 = 0;\n    try {\n        value1 = Integer.parseInt(txtTime1.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    int value2 = 0;\n    try {\n        value2 = Integer.parseInt(txtTime2.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    int value3 = 0;\n    try {\n        value3 = Integer.parseInt(txtTime3.getText());\n    } catch (NumberFormatException nfe) {\n    }\n    switch (view.getId()) {\n    case R.id.btn11:\n        value1 += 1;\n        break;\n    case R.id.btn12:\n        value1 -= 1;\n        break;\n    case R.id.btn21:\n        value2 += 1;\n        break;\n    case R.id.btn22:\n        value2 -= 1;\n        break;\n    case R.id.btn31:\n        value3 += 1;\n        break;\n    case R.id.btn32:\n        value3 -= 1;\n        break;\n    }\n    value1 = Integer.min(100, value1);\n    value1 = Integer.max(0, value1);\n    value2 = Integer.min(100, value2);\n    value2 = Integer.max(0, value2);\n    value3 = Integer.min(100, value3);\n    value3 = Integer.max(0, value3);\n    txtTime1.setText(String.valueOf(value1));\n    txtTime2.setText(String.valueOf(value2));\n    txtTime3.setText(String.valueOf(value3));\n}\n</code></pre>\n"}],"owner":{"account_id":27201667,"reputation":1,"user_id":20733837,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678818102,"creation_date":1678813763,"question_id":75736310,"body_markdown":"I am creating an application that simply counts how many hours I am sitting at any case. And when you click on +1 or -1 (although it is not particularly necessary :)) I should have a number displayed accordingly.\r\nCode XML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn11&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;180dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn21&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn12&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.448&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/txtTime1&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn21&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;28dp&quot;\r\n        android:layout_marginBottom=&quot;212dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn31&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn22&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn31&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;60dp&quot;\r\n        android:text=&quot;+1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn32&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn12&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;180dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn22&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn22&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;212dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn32&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn32&quot;\r\n        android:layout_width=&quot;79dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;60dp&quot;\r\n        android:text=&quot;-1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtJava&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:text=&quot;JAVA&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime1&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtEng&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginBottom=&quot;24dp&quot;\r\n        android:text=&quot;ENGLISH&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.062&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtMath&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginBottom=&quot;24dp&quot;\r\n        android:text=&quot;MATH&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime3&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime1&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtEng&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime2&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;104dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtMath&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTime3&quot;\r\n        android:layout_width=&quot;188dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;52dp&quot;\r\n        android:text=&quot;TIME&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n```\r\nJAVA Code:\r\n\r\n```\r\npackage com.example.times;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView txtJava;\r\n    private TextView txtTime1;\r\n\r\n    private TextView txtEng;\r\n    private TextView txtTime2;\r\n\r\n    private TextView txtMath;\r\n    private TextView txtTime3;\r\n\r\n    private Button btn11;\r\n    private Button btn12;\r\n    private Button btn21;\r\n    private Button btn22;\r\n    private Button btn31;\r\n    private Button btn32;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        txtJava = findViewById(R.id.txtJava);\r\n        txtTime1 = findViewById(R.id.txtTime1);\r\n        txtEng = findViewById(R.id.txtEng);\r\n        txtTime2 = findViewById(R.id.txtTime2);\r\n        txtMath = findViewById(R.id.txtMath);\r\n        txtTime3 = findViewById(R.id.txtTime3);\r\n        btn11 = findViewById(R.id.btn11);\r\n        btn12 = findViewById(R.id.btn12);\r\n        btn21 = findViewById(R.id.btn21);\r\n        btn22 = findViewById(R.id.btn22);\r\n        btn31 = findViewById(R.id.btn31);\r\n        btn32 = findViewById(R.id.btn32);\r\n\r\n        btn11.setOnClickListener(listener);\r\n        btn12.setOnClickListener(listener);\r\n        btn21.setOnClickListener(listener);\r\n        btn22.setOnClickListener(listener);\r\n        btn31.setOnClickListener(listener);\r\n        btn32.setOnClickListener(listener);\r\n    }\r\n\r\n    private View.OnClickListener listener = new View.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            int value1 = 0;\r\n            int value2 = 0;\r\n            int value3 = 0;\r\n            switch (view.getId()) {\r\n                case R.id.btn11:\r\n                    value1+=1;\r\n                    String s11 = String.valueOf(value1);\r\n                    txtTime1.setText(s11);\r\n                    break;\r\n                case R.id.btn12:\r\n                    value1-=1;\r\n                    String s12 = String.valueOf(value1);\r\n                    txtTime1.setText(s12);\r\n                    break;\r\n                case R.id.btn21:\r\n                    value2+=1;\r\n                    String s21 = String.valueOf(value2);\r\n                    txtTime2.setText(s21);\r\n                    break;\r\n                case R.id.btn22:\r\n                    value2-=1;\r\n                    String s22 = String.valueOf(value2);\r\n                    txtTime2.setText(s22);\r\n                    break;\r\n                case R.id.btn31:\r\n                    value3+=1;\r\n                    String s31 = String.valueOf(value3);\r\n                    txtTime3.setText(s31);\r\n                    break;\r\n                case R.id.btn32:\r\n                    value3-=1;\r\n                    String s32 = String.valueOf(value3);\r\n                    txtTime3.setText(s32);\r\n                    break;\r\n            }\r\n\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n\r\nI used case because I thought the code would be shorter, and just to practice using it. I basically understand what&#39;s wrong in my code, but I don&#39;t understand how to fix it. Here, probably, it is necessary to prescribe a condition, but I do not understand what. Loops are useless here (I just always like to insert loops in the wrong place).","title":"What condition should I write to make everything work","body":"<p>I am creating an application that simply counts how many hours I am sitting at any case. And when you click on +1 or -1 (although it is not particularly necessary :)) I should have a number displayed accordingly.\nCode XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn11&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;180dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn21&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn12&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.448&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/txtTime1&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn21&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;28dp&quot;\n        android:layout_marginBottom=&quot;212dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn31&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn22&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn31&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;+1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/btn32&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn12&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;180dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn22&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn22&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;212dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn32&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn32&quot;\n        android:layout_width=&quot;79dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;-1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtJava&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:text=&quot;JAVA&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.32&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtEng&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        android:text=&quot;ENGLISH&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.062&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtMath&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        android:text=&quot;MATH&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtTime3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.053&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime1&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtEng&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime2&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;104dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtMath&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTime3&quot;\n        android:layout_width=&quot;188dp&quot;\n        android:layout_height=&quot;62dp&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginBottom=&quot;52dp&quot;\n        android:text=&quot;TIME&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n</code></pre>\n<p>JAVA Code:</p>\n<pre><code>package com.example.times;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView txtJava;\n    private TextView txtTime1;\n\n    private TextView txtEng;\n    private TextView txtTime2;\n\n    private TextView txtMath;\n    private TextView txtTime3;\n\n    private Button btn11;\n    private Button btn12;\n    private Button btn21;\n    private Button btn22;\n    private Button btn31;\n    private Button btn32;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        txtJava = findViewById(R.id.txtJava);\n        txtTime1 = findViewById(R.id.txtTime1);\n        txtEng = findViewById(R.id.txtEng);\n        txtTime2 = findViewById(R.id.txtTime2);\n        txtMath = findViewById(R.id.txtMath);\n        txtTime3 = findViewById(R.id.txtTime3);\n        btn11 = findViewById(R.id.btn11);\n        btn12 = findViewById(R.id.btn12);\n        btn21 = findViewById(R.id.btn21);\n        btn22 = findViewById(R.id.btn22);\n        btn31 = findViewById(R.id.btn31);\n        btn32 = findViewById(R.id.btn32);\n\n        btn11.setOnClickListener(listener);\n        btn12.setOnClickListener(listener);\n        btn21.setOnClickListener(listener);\n        btn22.setOnClickListener(listener);\n        btn31.setOnClickListener(listener);\n        btn32.setOnClickListener(listener);\n    }\n\n    private View.OnClickListener listener = new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            int value1 = 0;\n            int value2 = 0;\n            int value3 = 0;\n            switch (view.getId()) {\n                case R.id.btn11:\n                    value1+=1;\n                    String s11 = String.valueOf(value1);\n                    txtTime1.setText(s11);\n                    break;\n                case R.id.btn12:\n                    value1-=1;\n                    String s12 = String.valueOf(value1);\n                    txtTime1.setText(s12);\n                    break;\n                case R.id.btn21:\n                    value2+=1;\n                    String s21 = String.valueOf(value2);\n                    txtTime2.setText(s21);\n                    break;\n                case R.id.btn22:\n                    value2-=1;\n                    String s22 = String.valueOf(value2);\n                    txtTime2.setText(s22);\n                    break;\n                case R.id.btn31:\n                    value3+=1;\n                    String s31 = String.valueOf(value3);\n                    txtTime3.setText(s31);\n                    break;\n                case R.id.btn32:\n                    value3-=1;\n                    String s32 = String.valueOf(value3);\n                    txtTime3.setText(s32);\n                    break;\n            }\n\n        }\n    };\n}\n</code></pre>\n<p>I used case because I thought the code would be shorter, and just to practice using it. I basically understand what's wrong in my code, but I don't understand how to fix it. Here, probably, it is necessary to prescribe a condition, but I do not understand what. Loops are useless here (I just always like to insert loops in the wrong place).</p>\n"},{"tags":["java","adobe-indesign","indesign-server"],"owner":{"account_id":5294303,"reputation":49,"user_id":4225855,"display_name":"Bikramjit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678817914,"creation_date":1678813152,"question_id":75736212,"body_markdown":"I&#39;m trying to test run the sample client for Java provided in the InDesign Server SDK. \r\n\r\nWhen I try to create and build the project in IntelliJ or eclipse, I&#39;m getting unresolved symbols for the following classes from the SampleClient.java file.\r\n\r\n    import localhost.Service_wsdl.Service;\r\n    import localhost.Service_wsdl.ServiceLocator;\r\n    import localhost.Service_wsdl.ServiceStub;\r\n    \r\n    import com.adobe.ns.InDesign.soap.IDSPScriptArg;\r\n    import com.adobe.ns.InDesign.soap.RunScriptParameters;\r\n    import com.adobe.ns.InDesign.soap.holders.DataHolder;\r\n\r\nI also tried to convert the IDSP.wsdl file into java code using &quot;wsimport -keep&quot; command but still  did not get all the java files.\r\n\r\nPlease let me know in case I&#39;m missing some steps. I have found similar issues mentioned in the  Adobe Community portal also but did not get the solution.\r\n\r\nI&#39;m able to test run the sampleclient.exe made in C++ language successfully.\r\n","title":"Indesign Server sampleclient java (SDK) not working","body":"<p>I'm trying to test run the sample client for Java provided in the InDesign Server SDK.</p>\n<p>When I try to create and build the project in IntelliJ or eclipse, I'm getting unresolved symbols for the following classes from the SampleClient.java file.</p>\n<pre><code>import localhost.Service_wsdl.Service;\nimport localhost.Service_wsdl.ServiceLocator;\nimport localhost.Service_wsdl.ServiceStub;\n\nimport com.adobe.ns.InDesign.soap.IDSPScriptArg;\nimport com.adobe.ns.InDesign.soap.RunScriptParameters;\nimport com.adobe.ns.InDesign.soap.holders.DataHolder;\n</code></pre>\n<p>I also tried to convert the IDSP.wsdl file into java code using &quot;wsimport -keep&quot; command but still  did not get all the java files.</p>\n<p>Please let me know in case I'm missing some steps. I have found similar issues mentioned in the  Adobe Community portal also but did not get the solution.</p>\n<p>I'm able to test run the sampleclient.exe made in C++ language successfully.</p>\n"},{"tags":["java","objectmapper","canonicalization"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678819305,"post_id":75736889,"comment_id":133606387,"body_markdown":"You don’t need to intervene. “An array is an ordered sequence of zero or more values” from https://www.rfc-editor.org/rfc/rfc7159.html. The order is significant so a different order is a changed object. If you want to negate the significance of the order then you need a comparator and sort before serialising.","body":"You don’t need to intervene. “An array is an ordered sequence of zero or more values” from <a href=\"https://www.rfc-editor.org/rfc/rfc7159.html\" rel=\"nofollow noreferrer\">rfc-editor.org/rfc/rfc7159.html</a>. The order is significant so a different order is a changed object. If you want to negate the significance of the order then you need a comparator and sort before serialising."}],"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817342,"creation_date":1678817342,"question_id":75736889,"body_markdown":"I am trying to hash a JSON object to check for changes. I am using a custom ObjectMapper:\r\n\r\n```\r\npublic static final ObjectMapper mapper =\r\n            new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                    .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true)\r\n                    .configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)\r\n                    .configure(SerializationFeature.INDENT_OUTPUT, false)\r\n                    .setSerializationInclusion(JsonInclude.Include.NON_EMPTY)\r\n                    .enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\r\n                    .setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;))\r\n                    .registerModule(new JavaTimeModule());\r\n```\r\n\r\nThis seems to work perfectly fine, but obviously doesn&#39;t work for arrays inside of the JSON object. My question is how can I go about handling the arrays during the mapping process to make sure they stay in the same order every time?","title":"How to handle arrays when hashing in terms of JSON Canonicalization?","body":"<p>I am trying to hash a JSON object to check for changes. I am using a custom ObjectMapper:</p>\n<pre><code>public static final ObjectMapper mapper =\n            new ObjectMapper().configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                    .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true)\n                    .configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)\n                    .configure(SerializationFeature.INDENT_OUTPUT, false)\n                    .setSerializationInclusion(JsonInclude.Include.NON_EMPTY)\n                    .enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\n                    .setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;))\n                    .registerModule(new JavaTimeModule());\n</code></pre>\n<p>This seems to work perfectly fine, but obviously doesn't work for arrays inside of the JSON object. My question is how can I go about handling the arrays during the mapping process to make sure they stay in the same order every time?</p>\n"},{"tags":["java","eclipse","macos","window","flashing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678826292,"post_id":75736867,"comment_id":133608221,"body_markdown":"There is no way to know the cause of your first paragraph without seeing the code behind it.  As for the about handler, the replacement for eawt is [Desktop.setAboutHandler](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#setAboutHandler(java.awt.desktop.AboutHandler)).","body":"There is no way to know the cause of your first paragraph without seeing the code behind it.  As for the about handler, the replacement for eawt is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Desktop.html#setAboutHandler(java.awt.desktop.AboutHandler)\" rel=\"nofollow noreferrer\">Desktop.setAboutHandler</a>."}],"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817236,"creation_date":1678817236,"question_id":75736867,"body_markdown":"I have been rewriting a 100,000 line application from 2009 in modern Java/Eclipse/Mac os12, and there are two problem with the windows and\r\nmenus that open within my main window.  1. Sometimes the text in a drop\r\ndown box is missing (in which case closing and re-opening will\r\ncause it to appear) and 2. When dragging a small window around within\r\nmy main window, the small window will flash on and off (during which time\r\nthe background where the small window should be).  This flashing is pretty annoying and hurts my eyes after a while.\r\n\r\nMost of the GUI code is the same as in 2009, but I did have to\r\ncomment out several lines that referred to the apple eawt.xxx\r\nsuch as the ones below - the application runs okay though, other\r\nthan than and some other problems I am posting separately.\r\n\r\nCommented out lines:\r\n\r\n    com.apple.eawt.Application application =  Application.getApplication();\r\n    application.addApplicationListener(new com.apple.eawt.ApplicationAdapter()     {   \t\t\r\n    \tpublic void handleAbout(ApplicationEvent ae) {\r\n    \t\t\tnew AboutDialog();  \r\n    \t\t\tae.setHandled(true);                 \r\n    \t}\r\n    . . . \r\n\r\n    }","title":"Windows flash on and off and text is sometimes missing in Eclipse/Java rewrite/update","body":"<p>I have been rewriting a 100,000 line application from 2009 in modern Java/Eclipse/Mac os12, and there are two problem with the windows and\nmenus that open within my main window.  1. Sometimes the text in a drop\ndown box is missing (in which case closing and re-opening will\ncause it to appear) and 2. When dragging a small window around within\nmy main window, the small window will flash on and off (during which time\nthe background where the small window should be).  This flashing is pretty annoying and hurts my eyes after a while.</p>\n<p>Most of the GUI code is the same as in 2009, but I did have to\ncomment out several lines that referred to the apple eawt.xxx\nsuch as the ones below - the application runs okay though, other\nthan than and some other problems I am posting separately.</p>\n<p>Commented out lines:</p>\n<pre><code>com.apple.eawt.Application application =  Application.getApplication();\napplication.addApplicationListener(new com.apple.eawt.ApplicationAdapter()     {        \n    public void handleAbout(ApplicationEvent ae) {\n            new AboutDialog();  \n            ae.setHandled(true);                 \n    }\n. . . \n\n}\n</code></pre>\n"},{"tags":["java","android","tensorflow-lite","estimation"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1678817506,"post_id":75736699,"comment_id":133605899,"body_markdown":"try this: https://stackoverflow.com/questions/73756592/what-does-the-error-failed-resolution-of-lorg-tensorflow-lite-gpu-gpudelegatef","body":"try this: <a href=\"https://stackoverflow.com/questions/73756592/what-does-the-error-failed-resolution-of-lorg-tensorflow-lite-gpu-gpudelegatef\" title=\"what does the error failed resolution of lorg tensorflow lite gpu gpudelegatef\">stackoverflow.com/questions/73756592/&hellip;</a>"},{"owner":{"account_id":10351262,"reputation":116,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1690554924,"post_id":75736699,"comment_id":135374562,"body_markdown":"can you show more of age_gender_recognition.java file, since the code snipped that you provided is not enough","body":"can you show more of age_gender_recognition.java file, since the code snipped that you provided is not enough"}],"owner":{"account_id":8518162,"reputation":11,"user_id":6788629,"display_name":"esra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678817219,"creation_date":1678816128,"question_id":75736699,"body_markdown":"I followed the video (https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s) and got this error:\r\n\r\n    E/skurt.genderag: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.esrabaskurt.genderage, PID: 11140\r\n        java.lang.NoClassDefFoundError: Failed resolution of: Lorg/tensorflow/lite/gpu/GpuDelegateFactory$Options;\r\n            at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)\r\n            at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)\r\n            at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)\r\n            at android.app.Activity.performCreate(Activity.java:7458)\r\n            at android.app.Activity.performCreate(Activity.java:7448)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\r\n            at android.os.Handler.dispatchMessage(Handler.java:112)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.tensorflow.lite.gpu.GpuDelegateFactory$Options&quot; on path: DexPathList[[zip file &quot;/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/lib/arm64, /data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk!/lib/arm64-v8a, /system/lib64, /product/lib64]]\r\n            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n            at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)&#160;\r\n            at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)&#160;\r\n            at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:7458)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:7448)&#160;\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)&#160;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)&#160;\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:112)&#160;\r\n            at android.os.Looper.loop(Looper.java:216)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)&#160;\r\n    I/Process: Sending signal. PID: 11140 SIG: 9\r\n\r\nHere is age_gender_recognition.java:\r\n\r\n        import org.tensorflow.lite.gpu.GpuDelegate;\r\n        public class age_gender_recognition {\r\n    ...\r\n        private GpuDelegate gpuDelegate=null;\r\n        ...\r\n        age_gender_recognition(AssetManager assetManager, Context context,String modelPath,int inputSize) throws IOException\r\n        {\r\n    ...\r\n       **gpuDelegate =new GpuDelegate() (age_gender_recognition.java:56);**\r\n    ...\r\n           }}\r\n\r\n\r\nand (CameraActivity.java:79):\r\n\r\n    age_gender_recognition =new age_gender_recognition(getAssets(),CameraActivity.this,&quot;model.tflite&quot;,inputSize);\r\n\r\n&quot;build.gradle&quot; file is:\r\n\r\n    dependencies {\r\n        implementation &#39;org.tensorflow:tensorflow-lite-metadata:0.4.3&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-gpu:2.11.0&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-support:0.4.3&#39;\r\n        implementation &#39;org.tensorflow:tensorflow-lite-task-vision:0.4.3&#39;\r\n    \r\n        implementation &#39;org.tensorflow:tensorflow-lite-task-text:0.4.3&#39;\r\n    ...\r\n    }\r\n\r\nIt gives error about `GpuDelegate()`. Any suggestion?\r\n","title":"Age Gender Estimation on Android from camera frame","body":"<p>I followed the video (<a href=\"https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=GCuCNtsYz6k&amp;t=1376s</a>) and got this error:</p>\n<pre><code>E/skurt.genderag: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.esrabaskurt.genderage, PID: 11140\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/tensorflow/lite/gpu/GpuDelegateFactory$Options;\n        at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52)\n        at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56)\n        at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79)\n        at android.app.Activity.performCreate(Activity.java:7458)\n        at android.app.Activity.performCreate(Activity.java:7448)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\n        at android.os.Handler.dispatchMessage(Handler.java:112)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.tensorflow.lite.gpu.GpuDelegateFactory$Options&quot; on path: DexPathList[[zip file &quot;/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/lib/arm64, /data/app/com.esrabaskurt.genderage-z09vSMzWFjnjuhOeZ8M92A==/base.apk!/lib/arm64-v8a, /system/lib64, /product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at org.tensorflow.lite.gpu.GpuDelegate.&lt;init&gt;(GpuDelegate.java:52) \n        at com.esrabaskurt.genderage.age_gender_recognition.&lt;init&gt;(age_gender_recognition.java:56) \n        at com.esrabaskurt.genderage.CameraActivity.onCreate(CameraActivity.java:79) \n        at android.app.Activity.performCreate(Activity.java:7458) \n        at android.app.Activity.performCreate(Activity.java:7448) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199) \n        at android.os.Handler.dispatchMessage(Handler.java:112) \n        at android.os.Looper.loop(Looper.java:216) \n        at android.app.ActivityThread.main(ActivityThread.java:7625) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987) \nI/Process: Sending signal. PID: 11140 SIG: 9\n</code></pre>\n<p>Here is age_gender_recognition.java:</p>\n<pre><code>    import org.tensorflow.lite.gpu.GpuDelegate;\n    public class age_gender_recognition {\n...\n    private GpuDelegate gpuDelegate=null;\n    ...\n    age_gender_recognition(AssetManager assetManager, Context context,String modelPath,int inputSize) throws IOException\n    {\n...\n   **gpuDelegate =new GpuDelegate() (age_gender_recognition.java:56);**\n...\n       }}\n</code></pre>\n<p>and (CameraActivity.java:79):</p>\n<pre><code>age_gender_recognition =new age_gender_recognition(getAssets(),CameraActivity.this,&quot;model.tflite&quot;,inputSize);\n</code></pre>\n<p>&quot;build.gradle&quot; file is:</p>\n<pre><code>dependencies {\n    implementation 'org.tensorflow:tensorflow-lite-metadata:0.4.3'\n    implementation 'org.tensorflow:tensorflow-lite-gpu:2.11.0'\n    implementation 'org.tensorflow:tensorflow-lite-support:0.4.3'\n    implementation 'org.tensorflow:tensorflow-lite-task-vision:0.4.3'\n\n    implementation 'org.tensorflow:tensorflow-lite-task-text:0.4.3'\n...\n}\n</code></pre>\n<p>It gives error about <code>GpuDelegate()</code>. Any suggestion?</p>\n"},{"tags":["java","filewriter","jdom-2"],"answers":[{"tags":[],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678815979,"creation_date":1678815979,"answer_id":75736672,"question_id":73613228,"body_markdown":"This turned out to be related to the fact that:\r\n\r\nIn rapid-prototyping this app, the Serializable interface was utilized to store objects to disk file.\r\n\r\nWhen a decision was made to promote the prototype to a product, and to redesign file storage using XML, I didn&#39;t know that you have to purge your classes of implementing the Serializable interface first.  Doing so solved the problem.  ","title":"JDOM2 XMLOutputter wrote empty file to Win10 OS","body":"<p>This turned out to be related to the fact that:</p>\n<p>In rapid-prototyping this app, the Serializable interface was utilized to store objects to disk file.</p>\n<p>When a decision was made to promote the prototype to a product, and to redesign file storage using XML, I didn't know that you have to purge your classes of implementing the Serializable interface first.  Doing so solved the problem.</p>\n"}],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678817181,"creation_date":1662401101,"question_id":73613228,"body_markdown":"My Java app stores a set of XML User datafiles at Quit time.  It parses them back in at relaunch.  A user reported a launch-time failure, and the cause was found to be one of these User datafiles was an empty file (zero text chars).\r\n\r\nI&#39;m using the JDOM (2.0.6) library, integrated with Java 1.8.0_291 JRE Win.  The app does not create any new threads, i.e. it uses the default Swing-Java thread structure.  The file write in question only takes place in the Quit sequence (triggered by User closing main app window). \r\n\r\nNon-repeatable bug occurred once\r\n\r\nThis looks like a JDOM XML Outputter error of some kind.  It occurred randomly running the app on a Windows 10 desktop computer.  It is not repeatable (so far).\r\n\r\nHere is the write code that sets up the file write:\r\n\r\n```java\r\npublic class XMLPersistantEditorWorkspace {\r\n\tpublic static final int XML_DOC_VERSION = 1002;\r\n\tpublic Document outputDoc = new Document();\r\n\tprivate Document inputDoc = new Document();\r\n\r\n\tpublic void writeXMLEditorStateUsingJDOM(FileOutputStream fileStream) throws IOException {\r\n        outputDoc.setRootElement(new Element(&quot;EditorWorkspace&quot;, XML_Utils.DFG2D_NAMESPACE));\r\n\t\tElement editorStateXMLElement = generateAlgoEditingStackXMLElement();\r\n\t\toutputDoc.getRootElement().addContent(editorStateXMLElement);\r\n\t\tXMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\r\n\t\t\r\n\t\t//TEST ONLY: writes to console\r\n\t\t//xmlOutputter.output(outputDoc, System.out);\r\n\t\t\r\n\t\txmlOutputter.output(outputDoc, fileStream);\r\n\t}\r\n```\r\n","title":"JDOM2 XMLOutputter wrote empty file to Win10 OS","body":"<p>My Java app stores a set of XML User datafiles at Quit time.  It parses them back in at relaunch.  A user reported a launch-time failure, and the cause was found to be one of these User datafiles was an empty file (zero text chars).</p>\n<p>I'm using the JDOM (2.0.6) library, integrated with Java 1.8.0_291 JRE Win.  The app does not create any new threads, i.e. it uses the default Swing-Java thread structure.  The file write in question only takes place in the Quit sequence (triggered by User closing main app window).</p>\n<p>Non-repeatable bug occurred once</p>\n<p>This looks like a JDOM XML Outputter error of some kind.  It occurred randomly running the app on a Windows 10 desktop computer.  It is not repeatable (so far).</p>\n<p>Here is the write code that sets up the file write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XMLPersistantEditorWorkspace {\n    public static final int XML_DOC_VERSION = 1002;\n    public Document outputDoc = new Document();\n    private Document inputDoc = new Document();\n\n    public void writeXMLEditorStateUsingJDOM(FileOutputStream fileStream) throws IOException {\n        outputDoc.setRootElement(new Element(&quot;EditorWorkspace&quot;, XML_Utils.DFG2D_NAMESPACE));\n        Element editorStateXMLElement = generateAlgoEditingStackXMLElement();\n        outputDoc.getRootElement().addContent(editorStateXMLElement);\n        XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\n        \n        //TEST ONLY: writes to console\n        //xmlOutputter.output(outputDoc, System.out);\n        \n        xmlOutputter.output(outputDoc, fileStream);\n    }\n</code></pre>\n"},{"tags":["java","swing","jcalendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676140793,"post_id":75422160,"comment_id":133079523,"body_markdown":"If I remember correctly, `JDateChooser` requires that you use `Date` and/or `Calendar`, the old date-time classes that were supplanted by java.time soon to be 10 years ago. So I would start by finding a date picker that supports java.time. There are some. And then consider how I can get the L&amp;F that I want.","body":"If I remember correctly, <code>JDateChooser</code> requires that you use <code>Date</code> and/or <code>Calendar</code>, the old date-time classes that were supplanted by java.time soon to be 10 years ago. So I would start by finding a date picker that supports java.time. There are some. And then consider how I can get the L&amp;F that I want."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1676142442,"post_id":75422160,"comment_id":133079772,"body_markdown":"I am sorry if the LAF part of the question misled you. My goal is to have a date picker that does not enforce hardcoded colors, like this green and red you can see in the pictures. My question covers all colors of JDateChooser but the year spinner. Is there anybody that can fix the spinner?","body":"I am sorry if the LAF part of the question misled you. My goal is to have a date picker that does not enforce hardcoded colors, like this green and red you can see in the pictures. My question covers all colors of JDateChooser but the year spinner. Is there anybody that can fix the spinner?"}],"answers":[{"comments":[{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1678788362,"post_id":75442318,"comment_id":133597178,"body_markdown":"My Problem is with JYearChooser. I already got rid of other colors. There is no removeCaretListener() method in JYearChooser class, nor in parent JSpinField. It&#39;s also impossible to override the JspinField setForeGround method, as it is not possible to set a JYearChooser instance to a JDateChooser instance","body":"My Problem is with JYearChooser. I already got rid of other colors. There is no removeCaretListener() method in JYearChooser class, nor in parent JSpinField. It&#39;s also impossible to override the JspinField setForeGround method, as it is not possible to set a JYearChooser instance to a JDateChooser instance"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678793705,"post_id":75442318,"comment_id":133598629,"body_markdown":"Right, `removeCaretListener()` is a `JTextComponent` method. Does omitting the call to `addCaretListener()` do what you want?","body":"Right, <code>removeCaretListener()</code> is a <code>JTextComponent</code> method. Does omitting the call to <code>addCaretListener()</code> do what you want?"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1678802912,"post_id":75442318,"comment_id":133601415,"body_markdown":"How would you comment out that line of the compiled jar? Also, trying to extend JSpinField to alter it&#39;s behaviour it&#39;s useless since you cannot set the modified JSpinField class to a JDateChooser object","body":"How would you comment out that line of the compiled jar? Also, trying to extend JSpinField to alter it&#39;s behaviour it&#39;s useless since you cannot set the modified JSpinField class to a JDateChooser object"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678817173,"post_id":75442318,"comment_id":133605798,"body_markdown":"I don&#39;t know that you can; I wanted to verify that this is the desired behavior. I suggested alternatives above.","body":"I don&#39;t know that you can; I wanted to verify that this is the desired behavior. I suggested alternatives above."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1678871985,"post_id":75442318,"comment_id":133615541,"body_markdown":"Can you edit your answer to show how to set the jyc variable to jdc variable?","body":"Can you edit your answer to show how to set the jyc variable to jdc variable?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678881136,"post_id":75442318,"comment_id":133618068,"body_markdown":"As `Date::getYear` is deprecated, I&#39;d probably use the alternative suggested in the API or use `java.time`.  How are you doing it?","body":"As <code>Date::getYear</code> is deprecated, I&#39;d probably use the alternative suggested in the API or use <code>java.time</code>.  How are you doing it?"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1678884943,"post_id":75442318,"comment_id":133619174,"body_markdown":"You provided a wrong and misleading answer. Edit your answer to remove color from the jyearchooser of a jdatechooser instance or just remove the answer","body":"You provided a wrong and misleading answer. Edit your answer to remove color from the jyearchooser of a jdatechooser instance or just remove the answer"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678919091,"post_id":75442318,"comment_id":133628704,"body_markdown":"Ah, I see—you want to alter the `JYearChooser` instance held by the `JCalendar` that gets shown by the `JDateChooser` button listener. As my approach works in isolation, I&#39;ll leave the answer for now.","body":"Ah, I see—you want to alter the <code>JYearChooser</code> instance held by the <code>JCalendar</code> that gets shown by the <code>JDateChooser</code> button listener. As my approach works in isolation, I&#39;ll leave the answer for now."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1678962007,"post_id":75442318,"comment_id":133635742,"body_markdown":"Ok, but... aside from your isolation approach, that does not solve the problem, can you think of something else to remove the color from the JYearChooser of a JDateChooser instance? Or is it just not possible?","body":"Ok, but... aside from your isolation approach, that does not solve the problem, can you think of something else to remove the color from the JYearChooser of a JDateChooser instance? Or is it just not possible?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678969196,"post_id":75442318,"comment_id":133637862,"body_markdown":"It&#39;s possible—instantiate `JDateChooser` with a custom `JCalendar` that uses the `JYearChooser` shown above.","body":"It&#39;s possible—instantiate <code>JDateChooser</code> with a custom <code>JCalendar</code> that uses the <code>JYearChooser</code> shown above."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1679077734,"post_id":75442318,"comment_id":133662550,"body_markdown":"Sadly, you&#39;d still need to access the display panel reflectively. Why not just fork and modify the source?","body":"Sadly, you&#39;d still need to access the display panel reflectively. Why not just fork and modify the source?"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1679139296,"post_id":75442318,"comment_id":133669980,"body_markdown":"Thanks for the followup you gave me so far. I haven&#39;t had the time to test your approach yet. I will try to test it as soon as i can to give you my opinion","body":"Thanks for the followup you gave me so far. I haven&#39;t had the time to test your approach yet. I will try to test it as soon as i can to give you my opinion"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1679333436,"post_id":75442318,"comment_id":133699535,"body_markdown":"I tried to move some things around but yeah... given these classes hierarchy and these classes constructors it is impossible to alter this bad hardcoded logic inside JSpinField. Modifying the source appears to be the last option... but , at least for my, it&#39;s not really worth... probably better to re-implement it from scratch, and adding a couple of improvements that it needs anyway. Shame that such a component wasn&#39;t developed by oracle in the first place","body":"I tried to move some things around but yeah... given these classes hierarchy and these classes constructors it is impossible to alter this bad hardcoded logic inside JSpinField. Modifying the source appears to be the last option... but , at least for my, it&#39;s not really worth... probably better to re-implement it from scratch, and adding a couple of improvements that it needs anyway. Shame that such a component wasn&#39;t developed by oracle in the first place"}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678817138,"creation_date":1676333258,"answer_id":75442318,"question_id":75422160,"body_markdown":"The effect illustrated is a feature of the `CaretListener` implemented by `JTextFieldDateEditor` and the `JYearChooser` parent class, `JSpinField`. Omit the addition of the listener to eliminate the effect; in outline:\r\n\r\n    public JTextFieldDateEditor(…) {\r\n        …\r\n        //addCaretListener(this);\r\n        …\r\n    }\r\n    public JSpinField(…) {\r\n        …\r\n        //textField.addCaretListener(this);\r\n        …\r\n    }\r\n\r\nLess radically, it is also possible to invoke `removeCaretListener()` on the editor.\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    JDateChooser jdc = new JDateChooser(c.getTime());\r\n    JTextFieldDateEditor editor = (JTextFieldDateEditor) jdc.getDateEditor();\r\n    editor.removeCaretListener(editor);\r\n\r\nAlso override the `caretUpdate()` method inherited by `JYearChooser` to condition the effect based on a suitable boolean value.\r\n\r\n    JYearChooser jyc = new JYearChooser() {\r\n        boolean update;\r\n\r\n        @Override\r\n        public void caretUpdate(CaretEvent e) {\r\n            if (update) {\r\n                super.caretUpdate(e);\r\n            }\r\n        }\r\n    };\r\n\r\n","title":"Get rid of all com.toedter.calendar.JDateChooser colors","body":"<p>The effect illustrated is a feature of the <code>CaretListener</code> implemented by <code>JTextFieldDateEditor</code> and the <code>JYearChooser</code> parent class, <code>JSpinField</code>. Omit the addition of the listener to eliminate the effect; in outline:</p>\n<pre><code>public JTextFieldDateEditor(…) {\n    …\n    //addCaretListener(this);\n    …\n}\npublic JSpinField(…) {\n    …\n    //textField.addCaretListener(this);\n    …\n}\n</code></pre>\n<p>Less radically, it is also possible to invoke <code>removeCaretListener()</code> on the editor.</p>\n<pre><code>Calendar c = Calendar.getInstance();\nJDateChooser jdc = new JDateChooser(c.getTime());\nJTextFieldDateEditor editor = (JTextFieldDateEditor) jdc.getDateEditor();\neditor.removeCaretListener(editor);\n</code></pre>\n<p>Also override the <code>caretUpdate()</code> method inherited by <code>JYearChooser</code> to condition the effect based on a suitable boolean value.</p>\n<pre><code>JYearChooser jyc = new JYearChooser() {\n    boolean update;\n\n    @Override\n    public void caretUpdate(CaretEvent e) {\n        if (update) {\n            super.caretUpdate(e);\n        }\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678817138,"creation_date":1676138071,"question_id":75422160,"body_markdown":"My humble goal is to have a date-picker in java swing that does not have hard-coded colors in it. A date-picker that delegates it&#39;s appearance to the chosen LAF.\r\n\r\nSob...\r\n\r\nI am using `com.toedter.calendar.JDateChooser` version `1.4`\r\n\r\nWith this answer i was able to get rid of green and red and black of the jtextfield.\r\n\r\n[https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground][1]\r\n\r\n\r\nWith this, i was able to remove other annoying colors:\r\n\r\n    myDC.getJCalendar().setWeekdayForeground(null);\r\n    myDC.getJCalendar().setDecorationBackgroundColor(null);\r\n    myDC.getJCalendar().setSundayForeground(null);\r\n\r\nNow i am stuck with the year spinner and it&#39;s unwanted colors. See:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAny clue on how to get rid of those?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground\r\n  [2]: https://i.stack.imgur.com/PaFDo.png\r\n  [3]: https://i.stack.imgur.com/MZtH7.png","title":"Get rid of all com.toedter.calendar.JDateChooser colors","body":"<p>My humble goal is to have a date-picker in java swing that does not have hard-coded colors in it. A date-picker that delegates it's appearance to the chosen LAF.</p>\n<p>Sob...</p>\n<p>I am using <code>com.toedter.calendar.JDateChooser</code> version <code>1.4</code></p>\n<p>With this answer i was able to get rid of green and red and black of the jtextfield.</p>\n<p><a href=\"https://stackoverflow.com/questions/64926458/java-jdatechooser-foreground\">Java Jdatechooser Foreground</a></p>\n<p>With this, i was able to remove other annoying colors:</p>\n<pre><code>myDC.getJCalendar().setWeekdayForeground(null);\nmyDC.getJCalendar().setDecorationBackgroundColor(null);\nmyDC.getJCalendar().setSundayForeground(null);\n</code></pre>\n<p>Now i am stuck with the year spinner and it's unwanted colors. See:</p>\n<p><a href=\"https://i.stack.imgur.com/PaFDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaFDo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MZtH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZtH7.png\" alt=\"enter image description here\" /></a></p>\n<p>Any clue on how to get rid of those?</p>\n"},{"tags":["java","selenium-webdriver","driver","connection-reset"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1678801038,"post_id":75733518,"comment_id":133600789,"body_markdown":"Clean and rebuild your project always after component up/downgrade.","body":"Clean and rebuild your project always after component up/downgrade."}],"answers":[{"tags":[],"owner":{"account_id":18902646,"reputation":23,"user_id":13790349,"display_name":"Tamilvelan M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678812587,"creation_date":1678810572,"answer_id":75735764,"question_id":75733518,"body_markdown":"\r\n1.  refer this: https://peter.sh/experiments/chromium-command-line-switches/\r\n\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    ChromeOptions options=new ChromeOptions(); \r\n    options.addArguments(&quot;--remote-allow-orgins=*&quot;);\r\n    WebDriver driver=new ChromeDriver(options); \r\n    driver.get(&quot;google&quot;); \r\n    driver.quit();\r\n\r\n    //refer this website : https://peter.sh/experiments/chromium-command-line-switches/\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\n    ","title":"Connection Reset on driver.quit()","body":"<ol>\n<li>refer this: <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ChromeOptions options=new ChromeOptions(); \noptions.addArguments(\"--remote-allow-orgins=*\");\nWebDriver driver=new ChromeDriver(options); \ndriver.get(\"google\"); \ndriver.quit();\n\n//refer this website : https://peter.sh/experiments/chromium-command-line-switches/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":28014499,"reputation":11,"user_id":21396474,"display_name":"Tes Nt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678816781,"creation_date":1678799112,"question_id":75733518,"body_markdown":"I&#39;m getting the following error trying to perform in Java-Selenium  `driver.quit()`\r\n\r\nI have the following chrome version: 111.0.5563.65 and the last chrome driver version: 111.0.5563.64\r\n````\r\nMar 14, 2023 2:00:24 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```` \r\n\r\nCan somebody help me?\r\n\r\nI tried to downgrade the selenium version from 4.8.1 to 4.8.0 but the error still occurs","title":"Connection Reset on driver.quit()","body":"<p>I'm getting the following error trying to perform in Java-Selenium  <code>driver.quit()</code></p>\n<p>I have the following chrome version: 111.0.5563.65 and the last chrome driver version: 111.0.5563.64</p>\n<pre><code>Mar 14, 2023 2:00:24 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can somebody help me?</p>\n<p>I tried to downgrade the selenium version from 4.8.1 to 4.8.0 but the error still occurs</p>\n"},{"tags":["java","jmeter","jsonslurper"],"answers":[{"comments":[{"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"score":0,"creation_date":1678877057,"post_id":75736709,"comment_id":133616884,"body_markdown":"Thanks Dmitri. How can I separately print the name and value after that?","body":"Thanks Dmitri. How can I separately print the name and value after that?"},{"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"score":0,"creation_date":1679407759,"post_id":75736709,"comment_id":133713905,"body_markdown":"Do you have update?","body":"Do you have update?"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678816206,"creation_date":1678816206,"answer_id":75736709,"question_id":75736480,"body_markdown":"It&#39;s not very clear how does your JSON look like and what form of the output do you expect. \r\n\r\nIt might either be as simple as:\r\n\r\n    content.keySet().each {println it}\r\n\r\nor you might want to amend your code to include attribute value if it&#39;s not a [JSON Object][1], something like:\r\n\r\n    import groovy.json.JsonSlurper\r\n    \r\n    def traverse\r\n    traverse = { tree, keys = [], prefix = &#39;&#39; -&gt;\r\n        switch (tree) {\r\n            case Map:\r\n                tree.each { k, v -&gt;\r\n                    def name = prefix ? &quot;${prefix}.${k}&quot; : k\r\n                    if (!(v instanceof Map)) {\r\n                        keys &lt;&lt; [&quot;$name&quot;: v]\r\n                    } else {\r\n                        keys &lt;&lt; name\r\n                    }\r\n                    traverse(v, keys, name)\r\n                }\r\n                return keys\r\n            case Collection:\r\n                tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\r\n                return keys\r\n            default:\r\n                return keys\r\n        }\r\n    }\r\n    \r\n    def content = new JsonSlurper().parseText(prev.getResponseDataAsString())\r\n    \r\n    traverse(content).each { println it }\r\n\r\nMore information:\r\n\r\n - [Apache Groovy - Parsing and producing JSON][2]\r\n - [Apache Groovy: What Is Groovy Used For?][3]\r\n\r\n\r\n  [1]: https://www.w3schools.com/js/js_json_objects.asp\r\n  [2]: https://groovy-lang.org/processing-json.html\r\n  [3]: https://www.blazemeter.com/blog/apache-groovy","title":"jmeter - How I can iterate a json response to get all the keys and related value","body":"<p>It's not very clear how does your JSON look like and what form of the output do you expect.</p>\n<p>It might either be as simple as:</p>\n<pre><code>content.keySet().each {println it}\n</code></pre>\n<p>or you might want to amend your code to include attribute value if it's not a <a href=\"https://www.w3schools.com/js/js_json_objects.asp\" rel=\"nofollow noreferrer\">JSON Object</a>, something like:</p>\n<pre><code>import groovy.json.JsonSlurper\n\ndef traverse\ntraverse = { tree, keys = [], prefix = '' -&gt;\n    switch (tree) {\n        case Map:\n            tree.each { k, v -&gt;\n                def name = prefix ? &quot;${prefix}.${k}&quot; : k\n                if (!(v instanceof Map)) {\n                    keys &lt;&lt; [&quot;$name&quot;: v]\n                } else {\n                    keys &lt;&lt; name\n                }\n                traverse(v, keys, name)\n            }\n            return keys\n        case Collection:\n            tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\n            return keys\n        default:\n            return keys\n    }\n}\n\ndef content = new JsonSlurper().parseText(prev.getResponseDataAsString())\n\ntraverse(content).each { println it }\n</code></pre>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://groovy-lang.org/processing-json.html\" rel=\"nofollow noreferrer\">Apache Groovy - Parsing and producing JSON</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a></li>\n</ul>\n"}],"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678816206,"creation_date":1678814791,"question_id":75736480,"body_markdown":"there is a way to get all keys and related values of a json?\r\nI don&#39;t know the fields in output, then I can&#39;t use json extractor.\r\nI&#39;ve found this code, but it returns only the keys:\r\n\r\n    import groovy.json.JsonSlurper\r\n\r\n    def traverse\r\n    traverse = { tree, keys = [], prefix = &#39;&#39; -&gt;\r\n        switch (tree) {\r\n            case Map:\r\n                tree.each { k, v -&gt; \r\n                    def name = prefix ? &quot;${prefix}.${k}&quot; : k\r\n                    keys &lt;&lt; name   \r\n                    traverse(v, keys, name)\r\n                }\r\n                return keys\r\n            case Collection:\r\n                tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\r\n                return keys\r\n            default :\r\n                return keys\r\n        }\r\n    }\r\n    \r\n    def content = new JsonSlurper().parseText(prev.getResponseDataAsString())\r\n    \r\n    traverse(content).each { println it }\r\n\r\nOutput:\r\n\r\n    ....\r\n    devices[24].creationDate\r\n    devices[24].updateDate\r\n    devices[24].attributes\r\n    devices[24].attributes.name\r\n    devices[24].attributes.location\r\n    devices[24].attributes.address\r\n    devices[24].attributes.latitude\r\n    devices[24].attributes.longitude\r\n    devices[24].attributes.brand\r\n    devices[25].deviceId\r\n    devices[25].deviceStatus\r\n    devices[25].deviceType\r\n    devices[25].creationDate\r\n    devices[25].updateDate\r\n    devices[25].attributes\r\n    ....\r\n\r\ncould you help me to retrive keys and values?\r\n\r\nThanks in advance","title":"jmeter - How I can iterate a json response to get all the keys and related value","body":"<p>there is a way to get all keys and related values of a json?\nI don't know the fields in output, then I can't use json extractor.\nI've found this code, but it returns only the keys:</p>\n<pre><code>import groovy.json.JsonSlurper\n\ndef traverse\ntraverse = { tree, keys = [], prefix = '' -&gt;\n    switch (tree) {\n        case Map:\n            tree.each { k, v -&gt; \n                def name = prefix ? &quot;${prefix}.${k}&quot; : k\n                keys &lt;&lt; name   \n                traverse(v, keys, name)\n            }\n            return keys\n        case Collection:\n            tree.eachWithIndex { e, i -&gt; traverse(e, keys, &quot;${prefix}[$i]&quot;) }\n            return keys\n        default :\n            return keys\n    }\n}\n\ndef content = new JsonSlurper().parseText(prev.getResponseDataAsString())\n\ntraverse(content).each { println it }\n</code></pre>\n<p>Output:</p>\n<pre><code>....\ndevices[24].creationDate\ndevices[24].updateDate\ndevices[24].attributes\ndevices[24].attributes.name\ndevices[24].attributes.location\ndevices[24].attributes.address\ndevices[24].attributes.latitude\ndevices[24].attributes.longitude\ndevices[24].attributes.brand\ndevices[25].deviceId\ndevices[25].deviceStatus\ndevices[25].deviceType\ndevices[25].creationDate\ndevices[25].updateDate\ndevices[25].attributes\n....\n</code></pre>\n<p>could you help me to retrive keys and values?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678816098,"creation_date":1678816098,"answer_id":75736694,"question_id":75735793,"body_markdown":"Use the `@JsonCreator` annotation for the constructor of field3:\r\n\r\n    public class Flattened implements Serializable {\r\n    \r\n    \tstatic ObjectMapper objectMapper = new ObjectMapper();\r\n    \t\r\n    \tpublic String field1;\r\n    \tpublic String field2;\r\n    \tpublic Field3Class field3;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tString jsonSerialised = &quot;{\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;field3\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;type\\&quot;:{\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;f1\\&quot;:\\&quot;v1\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;f2\\&quot;:\\&quot;v2\\&quot;\\r\\n&quot; + \r\n    \t\t\t\t&quot;     }\\r\\n&quot; + \r\n    \t\t\t\t&quot;  }\\r\\n&quot; + \r\n    \t\t\t\t&quot;}  &quot;;\r\n    \t\t\r\n    \t\tFlattened flattenedValue = objectMapper.readValue(jsonSerialised, Flattened.class);\r\n    \t\tobjectMapper.writeValue(System.out, flattenedValue);\r\n    \t}\r\n    \t\r\n    \tpublic static class Field3Class implements Serializable {\r\n    \t    public String f1;\r\n    \t    public String f2;\r\n    \t    @JsonCreator\r\n    \t    public Field3Class(@JsonProperty(&quot;type&quot;) Type type) {\r\n    \t        this.f1 = type.f1;\r\n    \t        this.f2 = type.f2;\r\n    \t    }\r\n    \t    \r\n    \t    public static class Type implements Serializable {\r\n    \t        public String f1;\r\n    \t        public String f2;\r\n    \t   }\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    {&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:{&quot;f1&quot;:&quot;v1&quot;,&quot;f2&quot;:&quot;v2&quot;}}","title":"Flatten nested JSON object using jackson","body":"<p>Use the <code>@JsonCreator</code> annotation for the constructor of field3:</p>\n<pre><code>public class Flattened implements Serializable {\n\n    static ObjectMapper objectMapper = new ObjectMapper();\n    \n    public String field1;\n    public String field2;\n    public Field3Class field3;\n    \n    public static void main(String[] args) throws IOException {\n\n        String jsonSerialised = &quot;{\\r\\n&quot; + \n                &quot;  \\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\r\\n&quot; + \n                &quot;  \\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\r\\n&quot; + \n                &quot;  \\&quot;field3\\&quot;: {\\r\\n&quot; + \n                &quot;     \\&quot;type\\&quot;:{\\r\\n&quot; + \n                &quot;        \\&quot;f1\\&quot;:\\&quot;v1\\&quot;,\\r\\n&quot; + \n                &quot;        \\&quot;f2\\&quot;:\\&quot;v2\\&quot;\\r\\n&quot; + \n                &quot;     }\\r\\n&quot; + \n                &quot;  }\\r\\n&quot; + \n                &quot;}  &quot;;\n        \n        Flattened flattenedValue = objectMapper.readValue(jsonSerialised, Flattened.class);\n        objectMapper.writeValue(System.out, flattenedValue);\n    }\n    \n    public static class Field3Class implements Serializable {\n        public String f1;\n        public String f2;\n        @JsonCreator\n        public Field3Class(@JsonProperty(&quot;type&quot;) Type type) {\n            this.f1 = type.f1;\n            this.f2 = type.f2;\n        }\n        \n        public static class Type implements Serializable {\n            public String f1;\n            public String f2;\n       }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:{&quot;f1&quot;:&quot;v1&quot;,&quot;f2&quot;:&quot;v2&quot;}}\n</code></pre>\n"}],"owner":{"account_id":28012871,"reputation":1,"user_id":21395104,"display_name":"gls79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678816098,"creation_date":1678810686,"question_id":75735793,"body_markdown":"This question&#39;s answer (https://stackoverflow.com/questions/16654208/convert-json-many-objects-to-single-json-using-jackson) explains how to flatten JSON using Jackson\r\n\r\nBut my json is like this \r\n\r\n```\r\n{\r\n  &quot;field1&quot;:&quot;value1&quot;,\r\n  &quot;field2&quot;:&quot;value2&quot;,\r\n  &quot;field3&quot;: {\r\n     &quot;type&quot;:{\r\n        &quot;f1&quot;:&quot;v1&quot;,\r\n        &quot;f2&quot;:&quot;v2&quot;\r\n     }\r\n  }\r\n}  \r\n```\r\nI need something like this\r\n```\r\n{\r\n  &quot;field1&quot;:&quot;value1&quot;,\r\n  &quot;field2&quot;:&quot;value2&quot;,\r\n  &quot;field3&quot;: {\r\n        &quot;f1&quot;:&quot;v1&quot;,\r\n        &quot;f2&quot;:&quot;v2&quot;\r\n  }\r\n}  \r\n```\r\n\r\nso that `field3.type` is put directly into `field3` and then deserialize to Json object\r\n\r\nI need steps to do this just using jackson annotations and not by unpacking the nested object.\r\n\r\n","title":"Flatten nested JSON object using jackson","body":"<p>This question's answer (<a href=\"https://stackoverflow.com/questions/16654208/convert-json-many-objects-to-single-json-using-jackson\">Convert JSON many objects to single JSON using Jackson</a>) explains how to flatten JSON using Jackson</p>\n<p>But my json is like this</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;value1&quot;,\n  &quot;field2&quot;:&quot;value2&quot;,\n  &quot;field3&quot;: {\n     &quot;type&quot;:{\n        &quot;f1&quot;:&quot;v1&quot;,\n        &quot;f2&quot;:&quot;v2&quot;\n     }\n  }\n}  \n</code></pre>\n<p>I need something like this</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;value1&quot;,\n  &quot;field2&quot;:&quot;value2&quot;,\n  &quot;field3&quot;: {\n        &quot;f1&quot;:&quot;v1&quot;,\n        &quot;f2&quot;:&quot;v2&quot;\n  }\n}  \n</code></pre>\n<p>so that <code>field3.type</code> is put directly into <code>field3</code> and then deserialize to Json object</p>\n<p>I need steps to do this just using jackson annotations and not by unpacking the nested object.</p>\n"},{"tags":["java","list","arraylist","compare","comparator"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1678802131,"post_id":75734052,"comment_id":133601152,"body_markdown":"The sorting implementation can pass the arguments in either order, so long as it uses the result appropriately. There&#39;s nothing to say that an earlier element in the collection *has* to be passed as the first argument and a later element *has* to be passed as the second argument.","body":"The sorting implementation can pass the arguments in either order, so long as it uses the result appropriately. There&#39;s nothing to say that an earlier element in the collection <i>has</i> to be passed as the first argument and a later element <i>has</i> to be passed as the second argument."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1678802159,"post_id":75734052,"comment_id":133601166,"body_markdown":"Why did you expect them to be the same? You don&#39;t know how `List.sort` is implemented. Why expect a relationship between the order of elements in the list and the order of the arguments?","body":"Why did you expect them to be the same? You don&#39;t know how <code>List.sort</code> is implemented. Why expect a relationship between the order of elements in the list and the order of the arguments?"}],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678802324,"creation_date":1678802324,"answer_id":75734148,"question_id":75734052,"body_markdown":"Because it doesn&#39;t matter. The comparator should be able to return the correct result either way. If it doesn&#39;t then your comparator has a bug in it. As for the actual internal reasons, we cant know that without viewing the source code of the particular Java implementation you&#39;re using (remember that Java is an open standard and so there are actually multiple implementations of Java, some of which may exhibit this behavior, and others which may not). So make your comparator work the same either way. ","title":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?","body":"<p>Because it doesn't matter. The comparator should be able to return the correct result either way. If it doesn't then your comparator has a bug in it. As for the actual internal reasons, we cant know that without viewing the source code of the particular Java implementation you're using (remember that Java is an open standard and so there are actually multiple implementations of Java, some of which may exhibit this behavior, and others which may not). So make your comparator work the same either way.</p>\n"}],"owner":{"account_id":28013430,"reputation":1,"user_id":21395570,"display_name":"Namakemono"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678815887,"creation_date":1678801902,"question_id":75734052,"body_markdown":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nclass SampleComparator implements Comparator&lt;Sample&gt; {\r\n    public int compare(Sample param1, Sample param2) {\r\n        System.out.println(&quot;1st param is &quot; + param1.getNum() + &quot;, 2nd param is &quot; + param2.getNum()); // 1st param is 2, 2nd param is 1\r\n\r\n        if (param1.getNum() &lt; param2.getNum()) {\r\n            return 1;\r\n        }\r\n        if (param1.getNum() &gt; param2.getNum()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nclass Sample {\r\n    private int num;\r\n    public Sample(int num) {\r\n        this.num = num;\r\n    }\r\n    public int getNum() {\r\n        return num;\r\n    }\r\n}\r\npublic class SampleSort {\r\n    public static void main(String[] args) {\r\n        Sample[] obj = {\r\n                new Sample(1), //arg is 1\r\n                new Sample(2)  //arg is 2\r\n        };\r\n        List&lt;Sample&gt; list = new ArrayList&lt;&gt;(Arrays.asList(obj));\r\n        list.sort(new SampleComparator());\r\n    }\r\n}\r\n```\r\n\r\nI expected this.  \r\n1st arg is 1, 2nd arg is 2\r\n\r\nActual Results.  \r\n1st arg is 2, 2nd arg is 1\r\n\r\nI saw this but couldn&#39;t understand.  \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-  \r\nThank you, I am a novice and was puzzled by this behavior.  \r\n I found the answer.\r\n\r\nwhen the sort method calls the compare method, it passes the arguments in the opposite order, with param2 first and param1 second.\r\nThis ordering may seem counterintuitive, but it is deliberate and consistent with the convention used in the Java API. The reason for this convention is to allow for greater flexibility in defining comparators. By swapping the order of the arguments, the compare method can be used to define a comparison in which the first argument is considered greater than the second or vice versa, depending on the needs of the application.\r\n\r\n```\r\nclass SampleComparator implements Comparator&lt;String&gt; {\r\n    public int compare(String param1, String param2) {\r\n        System.out.println(&quot;1st param is &quot; + param1 + &quot;, 2nd param is &quot; + param2); // 1st param is A, 2nd param is B\r\n        return param1.compareTo(param2);\r\n    }\r\n}\r\npublic class SampleSort {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;B&quot;); //arg is &quot;B&quot;\r\n        list.add(&quot;A&quot;); //arg is &quot;A&quot;\r\n        list.sort(new SampleComparator());\r\n    }\r\n}\r\n```\r\n","title":"Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?","body":"<p>Why does the order of the arguments passed in List.sort differ from the order of the parameters in the compare method?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nclass SampleComparator implements Comparator&lt;Sample&gt; {\n    public int compare(Sample param1, Sample param2) {\n        System.out.println(&quot;1st param is &quot; + param1.getNum() + &quot;, 2nd param is &quot; + param2.getNum()); // 1st param is 2, 2nd param is 1\n\n        if (param1.getNum() &lt; param2.getNum()) {\n            return 1;\n        }\n        if (param1.getNum() &gt; param2.getNum()) {\n            return -1;\n        }\n        return 0;\n    }\n}\nclass Sample {\n    private int num;\n    public Sample(int num) {\n        this.num = num;\n    }\n    public int getNum() {\n        return num;\n    }\n}\npublic class SampleSort {\n    public static void main(String[] args) {\n        Sample[] obj = {\n                new Sample(1), //arg is 1\n                new Sample(2)  //arg is 2\n        };\n        List&lt;Sample&gt; list = new ArrayList&lt;&gt;(Arrays.asList(obj));\n        list.sort(new SampleComparator());\n    }\n}\n</code></pre>\n<p>I expected this.<br />\n1st arg is 1, 2nd arg is 2</p>\n<p>Actual Results.<br />\n1st arg is 2, 2nd arg is 1</p>\n<p>I saw this but couldn't understand.<br />\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#sort-java.util.Comparator-</a><br />\nThank you, I am a novice and was puzzled by this behavior.<br />\nI found the answer.</p>\n<p>when the sort method calls the compare method, it passes the arguments in the opposite order, with param2 first and param1 second.\nThis ordering may seem counterintuitive, but it is deliberate and consistent with the convention used in the Java API. The reason for this convention is to allow for greater flexibility in defining comparators. By swapping the order of the arguments, the compare method can be used to define a comparison in which the first argument is considered greater than the second or vice versa, depending on the needs of the application.</p>\n<pre><code>class SampleComparator implements Comparator&lt;String&gt; {\n    public int compare(String param1, String param2) {\n        System.out.println(&quot;1st param is &quot; + param1 + &quot;, 2nd param is &quot; + param2); // 1st param is A, 2nd param is B\n        return param1.compareTo(param2);\n    }\n}\npublic class SampleSort {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;B&quot;); //arg is &quot;B&quot;\n        list.add(&quot;A&quot;); //arg is &quot;A&quot;\n        list.sort(new SampleComparator());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1678818562,"post_id":75736651,"comment_id":133606192,"body_markdown":"`that suddenly takes more time before the startup completes`, how much now than before ?","body":"<code>that suddenly takes more time before the startup completes</code>, how much now than before ?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678822625,"post_id":75736651,"comment_id":133607254,"body_markdown":"Judging by the log, over 6 minutes is being spent starting up Hibernate. Have you made any changes to your application&#39;s entities or its Hibernate configuration? Alternatively, has the database that you&#39;re using changed at all? Perhaps these some more Hibernate logging in the 6 minutes period that shows where the time&#39;s being spent.","body":"Judging by the log, over 6 minutes is being spent starting up Hibernate. Have you made any changes to your application&#39;s entities or its Hibernate configuration? Alternatively, has the database that you&#39;re using changed at all? Perhaps these some more Hibernate logging in the 6 minutes period that shows where the time&#39;s being spent."},{"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"score":0,"creation_date":1678828391,"post_id":75736651,"comment_id":133608754,"body_markdown":"@AndyWilkinson I commented out most of the recent changes and pointed the application to an in-memory database, however, this hasn&#39;t stopped the issue either. The application spools out outputs like the one listed in the question continuously even after 10 minutes without a successful start. ```2023-03-14 14:15:14,931 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.```","body":"@AndyWilkinson I commented out most of the recent changes and pointed the application to an in-memory database, however, this hasn&#39;t stopped the issue either. The application spools out outputs like the one listed in the question continuously even after 10 minutes without a successful start. <code>2023-03-14 14:15:14,931 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.</code>"},{"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"score":0,"creation_date":1678828742,"post_id":75736651,"comment_id":133608834,"body_markdown":"@PeterMmm it seems that the application has entered an endless cycle without a successful start with outputs like: ```2023-03-14 14:18:07,332 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property ```","body":"@PeterMmm it seems that the application has entered an endless cycle without a successful start with outputs like: <code>2023-03-14 14:18:07,332 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property </code>"}],"owner":{"account_id":1786546,"reputation":71,"user_id":1627912,"display_name":"Olumayokun Fowowe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678815867,"creation_date":1678815867,"question_id":75736651,"body_markdown":"I have a spring boot project that suddenly takes more time before the startup completes and I am at a loss about the cause. I would appreciate any insight into the cause and how I can resolve it. Below is a snippet from the log output:\r\n\r\n```\r\n2023-03-14 10:36:04,113 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].\r\n2023-03-14 10:36:04,247 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].\r\n2023-03-14 10:36:04,395 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].\r\n2023-03-14 10:36:04,660 [restartedMain] INFO  org.hibernate.Version                              - HHH000412: Hibernate Core {5.4.9.Final}\r\n2023-03-14 10:36:04,760 [restartedMain] DEBUG org.hibernate.cfg.Environment                      - HHH000206: hibernate.properties not found\r\n2023-03-14 10:36:04,913 [restartedMain] DEBUG org.hibernate.service.spi.ServiceBinding           - Overriding existing service binding [org.hibernate.secure.spi.JaccService]\r\n2023-03-14 10:36:04,995 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cannot default RegionFactory based on registered strategies as `[]` RegionFactory strategies were registered\r\n2023-03-14 10:36:05,131 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory\r\n2023-03-14 10:36:05,288 [restartedMain] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2023-03-14 10:36:05,449 [restartedMain] DEBUG org.hibernate.type.BasicTypeRegistry               - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@2801d36c\r\n\r\n...\r\n\r\n2023-03-14 10:42:34,943 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=resp, insertable=true, updatable=true, unique=false}\r\n2023-03-14 10:42:35,569 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property resp with lazy=false\r\n2023-03-14 10:42:36,171 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:resp]\r\n2023-03-14 10:42:36,799 [restartedMain] DEBUG o.h.cfg.annotations.SimpleValueBinder              - building SimpleValue for resp\r\n2023-03-14 10:42:37,413 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - Building property resp\r\n2023-03-14 10:42:38,008 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=response_code, insertable=true, updatable=true, unique=false}\r\n2023-03-14 10:42:38,639 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property responseCode with lazy=false\r\n2023-03-14 10:42:39,298 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:responseCode]\r\n\r\n```\r\n\r\nMany thanks.","title":"Spring Boot startup process","body":"<p>I have a spring boot project that suddenly takes more time before the startup completes and I am at a loss about the cause. I would appreciate any insight into the cause and how I can resolve it. Below is a snippet from the log output:</p>\n<pre><code>2023-03-14 10:36:04,113 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].\n2023-03-14 10:36:04,247 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].\n2023-03-14 10:36:04,395 [restartedMain] DEBUG o.h.i.internal.IntegratorServiceImpl               - Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].\n2023-03-14 10:36:04,660 [restartedMain] INFO  org.hibernate.Version                              - HHH000412: Hibernate Core {5.4.9.Final}\n2023-03-14 10:36:04,760 [restartedMain] DEBUG org.hibernate.cfg.Environment                      - HHH000206: hibernate.properties not found\n2023-03-14 10:36:04,913 [restartedMain] DEBUG org.hibernate.service.spi.ServiceBinding           - Overriding existing service binding [org.hibernate.secure.spi.JaccService]\n2023-03-14 10:36:04,995 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cannot default RegionFactory based on registered strategies as `[]` RegionFactory strategies were registered\n2023-03-14 10:36:05,131 [restartedMain] DEBUG o.h.c.internal.RegionFactoryInitiator              - Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory\n2023-03-14 10:36:05,288 [restartedMain] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2023-03-14 10:36:05,449 [restartedMain] DEBUG org.hibernate.type.BasicTypeRegistry               - Adding type registration boolean -&gt; org.hibernate.type.BooleanType@2801d36c\n\n...\n\n2023-03-14 10:42:34,943 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=resp, insertable=true, updatable=true, unique=false}\n2023-03-14 10:42:35,569 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property resp with lazy=false\n2023-03-14 10:42:36,171 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:resp]\n2023-03-14 10:42:36,799 [restartedMain] DEBUG o.h.cfg.annotations.SimpleValueBinder              - building SimpleValue for resp\n2023-03-14 10:42:37,413 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - Building property resp\n2023-03-14 10:42:38,008 [restartedMain] DEBUG org.hibernate.cfg.Ejb3Column                       - Binding column: Ejb3Column{table=org.hibernate.mapping.Table(bulk_transfer_details), mappingColumn=response_code, insertable=true, updatable=true, unique=false}\n2023-03-14 10:42:38,639 [restartedMain] DEBUG o.h.cfg.annotations.PropertyBinder                 - MetadataSourceProcessor property responseCode with lazy=false\n2023-03-14 10:42:39,298 [restartedMain] DEBUG org.hibernate.cfg.AbstractPropertyHolder           - Attempting to locate auto-apply AttributeConverter for property [com.ideationhouse.paddieswitch.domains.BulkBankTransferDetail:responseCode]\n\n</code></pre>\n<p>Many thanks.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678749857,"creation_date":1678749857,"answer_id":75727777,"question_id":75727712,"body_markdown":"Whenever you get a `java.net.SocketException: Connection reset` error message, this means that something happened to the connection between two ends of the socket. This about when you&#39;re watching a video online, then you change your WiFi networkd – you get a similar error.\r\n\r\nMore specifically, with your issue, you are quitting while the WebSocket is still open. You must first terminate the web socket connection between the `ChromeDriver` and the browser before calling `quit()`.\r\n\r\nYour issue is not a &quot;Warning&quot; as you claimed. The &quot;warnings&quot; are not actually a part of the issue, but they still have value. The actual error is the following:\r\n\r\n```\r\njava.net.SocketException: Connection reset\r\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\r\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\r\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\n... but the warnings that came before tell me two things:\r\n\r\n1. You are attempting to open a duplicate connection with the Chrome browser\r\n2. The first connection is not terminated.\r\n\r\nYou essentially have two connections between the chrome driver and the browser. When you call `quit()`, Selenium must close its connection with the browser, and this happens only once.\r\n\r\nYou can either manually close both connection before invoking `quit()` (which I don&#39;t know how to do), or you can go through your code (or use a debugger) to find where the second connection is attempting to be established.","title":"Selenium Java throws Socket exception (warning) without cause","body":"<p>Whenever you get a <code>java.net.SocketException: Connection reset</code> error message, this means that something happened to the connection between two ends of the socket. This about when you're watching a video online, then you change your WiFi networkd – you get a similar error.</p>\n<p>More specifically, with your issue, you are quitting while the WebSocket is still open. You must first terminate the web socket connection between the <code>ChromeDriver</code> and the browser before calling <code>quit()</code>.</p>\n<p>Your issue is not a &quot;Warning&quot; as you claimed. The &quot;warnings&quot; are not actually a part of the issue, but they still have value. The actual error is the following:</p>\n<pre><code>java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>... but the warnings that came before tell me two things:</p>\n<ol>\n<li>You are attempting to open a duplicate connection with the Chrome browser</li>\n<li>The first connection is not terminated.</li>\n</ol>\n<p>You essentially have two connections between the chrome driver and the browser. When you call <code>quit()</code>, Selenium must close its connection with the browser, and this happens only once.</p>\n<p>You can either manually close both connection before invoking <code>quit()</code> (which I don't know how to do), or you can go through your code (or use a debugger) to find where the second connection is attempting to be established.</p>\n"}],"owner":{"account_id":1523386,"reputation":1816,"user_id":1422434,"accept_rate":59,"display_name":"Genaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678815251,"creation_date":1678748996,"question_id":75727712,"body_markdown":"I get a &quot;warning&quot; in an onError method in Selenium, using it in a Java application (using Spring Batch Framework). I can&#39;t detect what and why it&#39;s throwing this error.\r\n\r\nThis produces when I use the `quit()` method of [ChromeDriver][1] class. When I try to debug, this exception is not thrown.\r\n\r\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 58642\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1678747030.900][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n    [2m2023-03-13 23:37:10.946[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[ null to remote][0;39m [36mo.o.selenium.remote.ProtocolHandshake   [0;39m [2m:[0;39m Detected dialect: W3C\r\n    [2m2023-03-13 23:37:10.993[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.o.selenium.devtools.CdpVersionFinder  [0;39m [2m:[0;39m Found exact CDP implementation for version 110\r\n    [2m2023-03-13 23:38:33.789[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\r\n    [2m2023-03-13 23:39:19.811[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\r\n    [2m2023-03-13 23:39:19.856[0;39m [33m WARN[0;39m [35m15264[0;39m [2m---[0;39m [2m[cHttpClient-1-4][0;39m [36mo.a.netty.handler.WebSocketHandler      [0;39m [2m:[0;39m onError\r\n    \r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\r\n    \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumDriver.html#quit()\r\n\r\nMy code from ChromeDriver:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--headless=new&quot;);\r\nChromeDriver chromeDriver = new ChromeDriver(options);\r\n            \r\nchromeDriver.get(&quot;https://www.google.com/&quot;);\r\n//select web items, interact with them\r\nchromeDriver.quit();\r\n```","title":"Selenium Java throws Socket exception (warning) without cause","body":"<p>I get a &quot;warning&quot; in an onError method in Selenium, using it in a Java application (using Spring Batch Framework). I can't detect what and why it's throwing this error.</p>\n<p>This produces when I use the <code>quit()</code> method of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumDriver.html#quit()\" rel=\"nofollow noreferrer\">ChromeDriver</a> class. When I try to debug, this exception is not thrown.</p>\n<pre><code>Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 58642\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1678747030.900][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\n[2m2023-03-13 23:37:10.946[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[ null to remote][0;39m [36mo.o.selenium.remote.ProtocolHandshake   [0;39m [2m:[0;39m Detected dialect: W3C\n[2m2023-03-13 23:37:10.993[0;39m [32m INFO[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.o.selenium.devtools.CdpVersionFinder  [0;39m [2m:[0;39m Found exact CDP implementation for version 110\n[2m2023-03-13 23:38:33.789[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\n[2m2023-03-13 23:39:19.811[0;39m [32mDEBUG[0;39m [35m15264[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.item.database.JdbcBatchItemWriter [0;39m [2m:[0;39m Executing batch with 1 items.\n[2m2023-03-13 23:39:19.856[0;39m [33m WARN[0;39m [35m15264[0;39m [2m---[0;39m [2m[cHttpClient-1-4][0;39m [36mo.a.netty.handler.WebSocketHandler      [0;39m [2m:[0;39m onError\n\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426) ~[na:na]\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132) ~[netty-buffer-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.79.Final.jar:4.1.79.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My code from ChromeDriver:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--headless=new&quot;);\nChromeDriver chromeDriver = new ChromeDriver(options);\n            \nchromeDriver.get(&quot;https://www.google.com/&quot;);\n//select web items, interact with them\nchromeDriver.quit();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching","java-17"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1678814300,"post_id":75736049,"comment_id":133605021,"body_markdown":"Please mention the version of sprint boot and share the complete stacktrace?","body":"Please mention the version of sprint boot and share the complete stacktrace?"}],"owner":{"account_id":15016919,"reputation":13,"user_id":10839666,"display_name":"Deepak Lalithkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678815005,"creation_date":1678812079,"question_id":75736049,"body_markdown":"Springframework not working with Java 17. When we use cache manger.getCache(&quot;cache&quot;), spring creates cache by default by lazy initialisation. This was working perfectly with Java 8 and Java 11, but when I change to Java 17, this gives me a null pointer exception saying that cache is null.\r\n\r\nIs lazy initialisation not working in Java. 17? \r\n\r\nWhat is the solution to make srping framework cache work with Java 17?\r\n\r\nChanging from Java 8 /11 to Java 17 gives me this error.\r\n\r\n\r\nSpring boot version 2.7.3","title":"Springframework Cache not working with Java 17","body":"<p>Springframework not working with Java 17. When we use cache manger.getCache(&quot;cache&quot;), spring creates cache by default by lazy initialisation. This was working perfectly with Java 8 and Java 11, but when I change to Java 17, this gives me a null pointer exception saying that cache is null.</p>\n<p>Is lazy initialisation not working in Java. 17?</p>\n<p>What is the solution to make srping framework cache work with Java 17?</p>\n<p>Changing from Java 8 /11 to Java 17 gives me this error.</p>\n<p>Spring boot version 2.7.3</p>\n"},{"tags":["java","file","inputstream","binaryfiles","outputstream"],"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678814630,"creation_date":1678814630,"question_id":75736455,"body_markdown":"I have 2 classes to write and read binary file. I have to store an ArrayList of prime numbers to binary file, so that i have first 8 byte in each line of file represent how many numbers will be saved in that line(the lines are a formality, I make them with the &#39;/n&#39; symbol and then read that symbol without adding anything). Depending on how many bytes is needed to store a prime number i have to store them in 1 line, if it is 1 byte, second line if ot is 2 byte, and so on.(i will have maximum 3 lines with 1,2,3 bytes numbers).\r\nHere is my code. \r\n```\r\nclass Write2 {\r\n    public static final int[] Byte_Sizes  = {1,2,3};\r\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\r\n\r\n        try( OutputStream os = new FileOutputStream(filename)) {\r\n            int[] arr = countNumbersInEachLine(data);\r\n            int index = 0;\r\n\r\n            for(int j=0; j&lt;arr.length; j++) {\r\n                long tmp = arr[j];\r\n\r\n                for (int i = 7; i &gt;= 0; --i) {\r\n                    os.write((int) (tmp &gt;&gt; i * 8));\r\n                }\r\n\r\n                while (index&lt;data.size() &amp;&amp; index&lt; tmp){\r\n                    int size = getByteSize(data.get(index));\r\n\r\n                    for (int b = size -1; b &gt;= 0 ; --b) {\r\n                        os.write((int) (data.get(index) &gt;&gt;&gt; b * 8));\r\n                    }\r\n\r\n                    index++;\r\n                }\r\n            }\r\n\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n    public static int getByteSize(int value) {\r\n        int size =1;\r\n        while (value &gt;= Math.pow(2, 8*size)) {//num &gt;= (1 &lt;&lt; (8 * size))\r\n            size++;\r\n        }\r\n        return size;\r\n    }\r\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\r\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\r\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\r\n            int counter =0;\r\n            for (int i = 0; i &lt; primes.size(); i++) {\r\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\r\n                    counter++;\r\n                }\r\n            }\r\n            amount_in_each_line[j] = counter;\r\n        }\r\n        return amount_in_each_line;\r\n    }\r\n}\r\nclass Read2 {\r\n    public  ArrayList&lt;Integer&gt; readFromFile(String filename) {\r\n        ArrayList&lt;Integer&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        try(InputStream is = new FileInputStream(filename)) {\r\n\r\n            while (true){\r\n                long count =0;\r\n                for(int i = 0; i&lt;8; i++ ){\r\n                    long a = is.read();\r\n\r\n                    if(a == -1){\r\n                        is.close();\r\n                        return data;\r\n                    }\r\n\r\n                    count =( count&lt;&lt; 8) | a;\r\n                }\r\n\r\n\r\n                for(int i = 0; i&lt;count; i++){\r\n\r\n                    int value =0;\r\n\r\n                    if(count == 54){\r\n                        int a = is.read();\r\n                        if(a == -1){\r\n                            is.close();\r\n                            return data;\r\n                        }\r\n\r\n                        value = ( value&lt;&lt;8) | a;\r\n                    }\r\n                    else if(count == 6488){\r\n                        for(int f =0; f&lt;2; f++){\r\n                            int a = is.read();\r\n                            if(a == -1){\r\n                                is.close();\r\n                                return data;\r\n                            }\r\n\r\n                            value = ( value&lt;&lt;8) | a;\r\n                        }\r\n                    }\r\n                    else if(count == 760888){\r\n                        for(int f =0; f&lt;3; f++){\r\n                            int a = is.read();\r\n                            if(a == -1){\r\n                                is.close();\r\n                                return data;\r\n                            }\r\n\r\n                            value = ( value&lt;&lt;8) | a;\r\n                        }\r\n                    }\r\n\r\n                    data.add(value);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n        return data;\r\n    }\r\n}\r\n\r\n```\r\nMethod will culculate how many 1/2/3 bytes numbers exist(it works properly and return values 54 6488 760888) Method getByteSize detect how many bytes is needed to store number. \r\n\r\n\r\nSo i have problems some unknown problems. I used debugger to check whether my numbers are read correctly, and it works okey, \r\n```\r\nlong count =0;\r\n                for(int i = 0; i&lt;8; i++ ){\r\n                    long a = is.read();\r\n\r\n                    if(a == -1){\r\n                        is.close();\r\n                        return data;\r\n                    }\r\n\r\n                    count =( count&lt;&lt; 8) | a;\r\n                }\r\n```\r\nusing this, i read first numbers in each line, that showed how many 1 byte, 2 byte, and 3 byte numbers there would be. First it read 54, then reed 54 1-byte numbers in that line, tham 6488 and 6488 2-byte numbers and after this last number isn&#39;t read correctly. Can anyone tell me what the problem might be?","title":"Writing/reading binary file","body":"<p>I have 2 classes to write and read binary file. I have to store an ArrayList of prime numbers to binary file, so that i have first 8 byte in each line of file represent how many numbers will be saved in that line(the lines are a formality, I make them with the '/n' symbol and then read that symbol without adding anything). Depending on how many bytes is needed to store a prime number i have to store them in 1 line, if it is 1 byte, second line if ot is 2 byte, and so on.(i will have maximum 3 lines with 1,2,3 bytes numbers).\nHere is my code.</p>\n<pre><code>class Write2 {\n    public static final int[] Byte_Sizes  = {1,2,3};\n    public  void write(String filename, ArrayList&lt;Integer&gt; data) {\n\n        try( OutputStream os = new FileOutputStream(filename)) {\n            int[] arr = countNumbersInEachLine(data);\n            int index = 0;\n\n            for(int j=0; j&lt;arr.length; j++) {\n                long tmp = arr[j];\n\n                for (int i = 7; i &gt;= 0; --i) {\n                    os.write((int) (tmp &gt;&gt; i * 8));\n                }\n\n                while (index&lt;data.size() &amp;&amp; index&lt; tmp){\n                    int size = getByteSize(data.get(index));\n\n                    for (int b = size -1; b &gt;= 0 ; --b) {\n                        os.write((int) (data.get(index) &gt;&gt;&gt; b * 8));\n                    }\n\n                    index++;\n                }\n            }\n\n        }catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n    public static int getByteSize(int value) {\n        int size =1;\n        while (value &gt;= Math.pow(2, 8*size)) {//num &gt;= (1 &lt;&lt; (8 * size))\n            size++;\n        }\n        return size;\n    }\n    public int[] countNumbersInEachLine(ArrayList&lt;Integer&gt; primes){\n        int[] amount_in_each_line = new int[Byte_Sizes.length];\n        for(int j =0; j&lt; Byte_Sizes.length; j++) {\n            int counter =0;\n            for (int i = 0; i &lt; primes.size(); i++) {\n                if(getByteSize(primes.get(i)) == Byte_Sizes[j]){\n                    counter++;\n                }\n            }\n            amount_in_each_line[j] = counter;\n        }\n        return amount_in_each_line;\n    }\n}\nclass Read2 {\n    public  ArrayList&lt;Integer&gt; readFromFile(String filename) {\n        ArrayList&lt;Integer&gt; data = new ArrayList&lt;&gt;();\n\n        try(InputStream is = new FileInputStream(filename)) {\n\n            while (true){\n                long count =0;\n                for(int i = 0; i&lt;8; i++ ){\n                    long a = is.read();\n\n                    if(a == -1){\n                        is.close();\n                        return data;\n                    }\n\n                    count =( count&lt;&lt; 8) | a;\n                }\n\n\n                for(int i = 0; i&lt;count; i++){\n\n                    int value =0;\n\n                    if(count == 54){\n                        int a = is.read();\n                        if(a == -1){\n                            is.close();\n                            return data;\n                        }\n\n                        value = ( value&lt;&lt;8) | a;\n                    }\n                    else if(count == 6488){\n                        for(int f =0; f&lt;2; f++){\n                            int a = is.read();\n                            if(a == -1){\n                                is.close();\n                                return data;\n                            }\n\n                            value = ( value&lt;&lt;8) | a;\n                        }\n                    }\n                    else if(count == 760888){\n                        for(int f =0; f&lt;3; f++){\n                            int a = is.read();\n                            if(a == -1){\n                                is.close();\n                                return data;\n                            }\n\n                            value = ( value&lt;&lt;8) | a;\n                        }\n                    }\n\n                    data.add(value);\n                }\n\n            }\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n        return data;\n    }\n}\n\n</code></pre>\n<p>Method will culculate how many 1/2/3 bytes numbers exist(it works properly and return values 54 6488 760888) Method getByteSize detect how many bytes is needed to store number.</p>\n<p>So i have problems some unknown problems. I used debugger to check whether my numbers are read correctly, and it works okey,</p>\n<pre><code>long count =0;\n                for(int i = 0; i&lt;8; i++ ){\n                    long a = is.read();\n\n                    if(a == -1){\n                        is.close();\n                        return data;\n                    }\n\n                    count =( count&lt;&lt; 8) | a;\n                }\n</code></pre>\n<p>using this, i read first numbers in each line, that showed how many 1 byte, 2 byte, and 3 byte numbers there would be. First it read 54, then reed 54 1-byte numbers in that line, tham 6488 and 6488 2-byte numbers and after this last number isn't read correctly. Can anyone tell me what the problem might be?</p>\n"},{"tags":["java","android","mobile","ads","amazon-mobile-ads"],"answers":[{"tags":[],"owner":{"account_id":8624880,"reputation":1,"user_id":14426671,"display_name":"Prathmesh Rajmane"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602345151,"creation_date":1602345151,"answer_id":64295344,"question_id":60250177,"body_markdown":"NO_FILL Means current no ads available to show.\r\nYou can try VPN &amp; select US country to check ads are working or not.\r\nyou are using old sdk new version is available which is amazon-ads-6.0.0.jar \r\n\r\nfor help you can checkout this full integration video -\r\nhttps://www.youtube.com/watch?v=6mBMRQUEmdU\r\n","title":"Failed to load Amazon Mobile Ads","body":"<p>NO_FILL Means current no ads available to show.\nYou can try VPN &amp; select US country to check ads are working or not.\nyou are using old sdk new version is available which is amazon-ads-6.0.0.jar</p>\n<p>for help you can checkout this full integration video -\n<a href=\"https://www.youtube.com/watch?v=6mBMRQUEmdU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=6mBMRQUEmdU</a></p>\n"}],"owner":{"account_id":5608290,"reputation":11,"user_id":4442017,"display_name":"worf01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678814135,"creation_date":1581867665,"question_id":60250177,"body_markdown":"I cant receive any testing Ads with the Amazon test app &quot;package com.amazon.sample.interstitialad;&quot;.\r\nI have implemented Amazon Mobile Ads in accordance with this guide: https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start\r\n\r\nAmazon informed me 10 days ago that my tax identity has been validated.\r\n\r\nThis is my Logcat log:\r\n\r\n    AdRegistration: Debug logging has been enabled.\r\n    AdRegistration: Amazon Mobile Ads API Version: 5.9.0\r\n    AdRegistration: Test mode has been enabled.\r\n    ...\r\n    ResponseReader AdRequest WebRequest HttpURLConnectionWebRequest: Response Body: {&quot;noretryTTL&quot;:10,&quot;instrPixelURL&quot;:&quot;https://aax-eu.amazon-adsystem.com/x/px/p/Qgqh65RdKQWxvus1GfxuG2UAAAFwTmMIggMAAA-iA90O6sw/&quot;,&quot;errorMessage&quot;:&quot;no results&quot;,&quot;errorCode&quot;:&quot;503&quot;,&quot;status&quot;:&quot;error&quot;}\r\n    MetricsCollector: METRIC Publish AD_NO_RETRY_TTL_RECEIVED\r\n    AdLoader: Server Message: no results. Try again in 10 seconds; code: 503\r\n    ...\r\n    Ad failed to load. Code: NO_FILL, Message: Server Message: no results. Try again in 10 seconds\r\n\r\nWhat i&#39;m doing wrong?\r\n\r\n\r\nThanks\r\n","title":"Failed to load Amazon Mobile Ads","body":"<p>I cant receive any testing Ads with the Amazon test app \"package com.amazon.sample.interstitialad;\".\nI have implemented Amazon Mobile Ads in accordance with this guide: <a href=\"https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start\" rel=\"nofollow noreferrer\">https://developer.amazon.com/public/apis/earn/mobile-ads/docs/quick-start</a></p>\n\n<p>Amazon informed me 10 days ago that my tax identity has been validated.</p>\n\n<p>This is my Logcat log:</p>\n\n<pre><code>AdRegistration: Debug logging has been enabled.\nAdRegistration: Amazon Mobile Ads API Version: 5.9.0\nAdRegistration: Test mode has been enabled.\n...\nResponseReader AdRequest WebRequest HttpURLConnectionWebRequest: Response Body: {\"noretryTTL\":10,\"instrPixelURL\":\"https://aax-eu.amazon-adsystem.com/x/px/p/Qgqh65RdKQWxvus1GfxuG2UAAAFwTmMIggMAAA-iA90O6sw/\",\"errorMessage\":\"no results\",\"errorCode\":\"503\",\"status\":\"error\"}\nMetricsCollector: METRIC Publish AD_NO_RETRY_TTL_RECEIVED\nAdLoader: Server Message: no results. Try again in 10 seconds; code: 503\n...\nAd failed to load. Code: NO_FILL, Message: Server Message: no results. Try again in 10 seconds\n</code></pre>\n\n<p>What i'm doing wrong?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver-manager"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678684132,"creation_date":1678684132,"answer_id":75718211,"question_id":75715795,"body_markdown":"    You are getting the issue because recently chrome browser updated recently 110 to 111, so the Selenium API call was forbidden for as of now, implement the below solution.\r\n    \r\n    ChromeOptions opt=new ChromeOptions();\r\n    \t\topt.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \t\t//Launching the browser\r\n    \t\tdriver=new ChromeDriver(opt);\r\n\r\n","title":"WebDriver-Manager not updating chromedriver","body":"<pre><code>You are getting the issue because recently chrome browser updated recently 110 to 111, so the Selenium API call was forbidden for as of now, implement the below solution.\n\nChromeOptions opt=new ChromeOptions();\n        opt.addArguments(&quot;--remote-allow-origins=*&quot;);\n        //Launching the browser\n        driver=new ChromeDriver(opt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8680782,"reputation":131,"user_id":6496716,"display_name":"Bruno Prior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678814116,"creation_date":1678814116,"answer_id":75736380,"question_id":75715795,"body_markdown":"The answer can be found here: https://github.com/SeleniumHQ/selenium/issues/11750\r\n\r\nAppears to related with Chrome 111 update.\r\n\r\nI added this argument on my webdriver &quot;--remote-allow-origins=*&quot; and it&#39;s working for now.\r\n\r\n    public static ChromeDriver getChromeDriver() {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        return new ChromeDriver(chromeOptions);\r\n    }","title":"WebDriver-Manager not updating chromedriver","body":"<p>The answer can be found here: <a href=\"https://github.com/SeleniumHQ/selenium/issues/11750\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/11750</a></p>\n<p>Appears to related with Chrome 111 update.</p>\n<p>I added this argument on my webdriver &quot;--remote-allow-origins=*&quot; and it's working for now.</p>\n<pre><code>public static ChromeDriver getChromeDriver() {\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\n    chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n    return new ChromeDriver(chromeOptions);\n}\n</code></pre>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678814116,"creation_date":1678649194,"question_id":75715795,"body_markdown":"I am struggling with chromedriver for Selenium. Ever since the new version of Chrome was released it stopped working even though I was using WebDriver Manager by Boni Garcia which is meant to update it automatically. \r\n\r\nCurrently whenever I run it, Chrome comes up blank with `data:,` in the address bar. \r\n\r\n\r\nI&#39;ve seen some thread saying the WebDriver Manager is not working as expected anymore but it was quite old and the setup was working fine for me for a while. \r\n\r\nOne thing I noticed is that a Maven library in my InteliJ seems to not match the latest release on Boni&#39;s github. \r\n\r\nComparing what I have in versions.properties: \r\n\r\n[![version properties from my InteliJ][1]][1]\r\n\r\n\r\nAgainst Boni&#39;s github:\r\n\r\n\r\n[![version properties from Boni&#39;s github][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/syfgN.png\r\n  [2]: https://i.stack.imgur.com/wb4fC.png\r\n\r\n\r\nMy pom file (based on Boni&#39;s learning projects) :\r\n\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SeleniumWithJava&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\r\n        &lt;logback.version&gt;1.4.5&lt;/logback.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\r\n        &lt;junit5.version&gt;5.9.2&lt;/junit5.version&gt;\r\n        &lt;assertj.version&gt;3.24.2&lt;/assertj.version&gt;\r\n        &lt;wdm.version&gt;5.3.2&lt;/wdm.version&gt;\r\n\r\n        &lt;htmlunit.version&gt;4.8.0&lt;/htmlunit.version&gt;\r\n        &lt;rerunner.version&gt;2.1.6&lt;/rerunner.version&gt;\r\n        &lt;junit-platform.version&gt;1.9.2&lt;/junit-platform.version&gt;\r\n        &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\r\n        &lt;browsermob.version&gt;2.1.5&lt;/browsermob.version&gt;\r\n        &lt;zapclient.version&gt;1.11.0&lt;/zapclient.version&gt;\r\n        &lt;axel.version&gt;4.6.0&lt;/axel.version&gt;\r\n        &lt;selenide.version&gt;6.12.0&lt;/selenide.version&gt;\r\n        &lt;datafaker.version&gt;1.8.0&lt;/datafaker.version&gt;\r\n        &lt;extentreports.version&gt;5.0.9&lt;/extentreports.version&gt;\r\n        &lt;allure.version&gt;2.21.0&lt;/allure.version&gt;\r\n        &lt;allure-maven.version&gt;2.12.0&lt;/allure-maven.version&gt;\r\n        &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;\r\n        &lt;spring-boot.version&gt;3.0.3&lt;/spring-boot.version&gt;\r\n        &lt;appium.version&gt;8.3.0&lt;/appium.version&gt;\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n\r\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M9&lt;/maven-surefire-plugin.version&gt;\r\n\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\r\n        &lt;project.encondig&gt;UTF-8&lt;/project.encondig&gt;\r\n        &lt;project.build.sourceEncoding&gt;${project.encondig}&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;${project.encondig}&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;${htmlunit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${wdm.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-grid&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;${rerunner.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n            &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${browsermob.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.zaproxy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zap-clientapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${zapclient.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n            &lt;version&gt;${axel.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenide.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;${datafaker.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;${extentreports.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${appium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;!-- The following setup is only required when using Allure --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;listener&lt;/name&gt;\r\n                            &lt;value&gt;io.qameta.allure.junit5.AllureJunit5&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;!-- /Allure --&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure-maven.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nAnd the testing template I&#39;ve been using:\r\n\r\n    public class LocatorByLink {\r\n\r\n    WebDriver driver;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n        driver = WebDriverManager.chromedriver().create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown(){\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n\r\n    }\r\n}\r\n\r\n\r\nConsole output:\r\n\r\n\r\n    io.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\r\n\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1775)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:425)\r\n\tat com.handsonselenium.chapter003.examples.LocatorByLink.setup(LocatorByLink.java:19)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.quit()&quot; because &quot;this.driver&quot; is null\r\n\t\tat com.handsonselenium.chapter003.examples.LocatorByLink.teardown(LocatorByLink.java:24)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\r\n\t\t... 48 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createLocalWebDriver(WebDriverCreator.java:64)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.createLocalWebDriver(WebDriverManager.java:1949)\r\n\tat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1764)\r\n\t... 76 more\r\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:49892/devtools/browser/3d746805-ea32-49e3-9d0e-6810f1d7b998\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;12.5&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\t... 84 more\r\n\r\n","title":"WebDriver-Manager not updating chromedriver","body":"<p>I am struggling with chromedriver for Selenium. Ever since the new version of Chrome was released it stopped working even though I was using WebDriver Manager by Boni Garcia which is meant to update it automatically.</p>\n<p>Currently whenever I run it, Chrome comes up blank with <code>data:,</code> in the address bar.</p>\n<p>I've seen some thread saying the WebDriver Manager is not working as expected anymore but it was quite old and the setup was working fine for me for a while.</p>\n<p>One thing I noticed is that a Maven library in my InteliJ seems to not match the latest release on Boni's github.</p>\n<p>Comparing what I have in versions.properties:</p>\n<p><a href=\"https://i.stack.imgur.com/syfgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/syfgN.png\" alt=\"version properties from my InteliJ\" /></a></p>\n<p>Against Boni's github:</p>\n<p><a href=\"https://i.stack.imgur.com/wb4fC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wb4fC.png\" alt=\"version properties from Boni's github\" /></a></p>\n<p>My pom file (based on Boni's learning projects) :</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;SeleniumWithJava&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;slf4j.version&gt;2.0.6&lt;/slf4j.version&gt;\n    &lt;logback.version&gt;1.4.5&lt;/logback.version&gt;\n\n    &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\n    &lt;junit5.version&gt;5.9.2&lt;/junit5.version&gt;\n    &lt;assertj.version&gt;3.24.2&lt;/assertj.version&gt;\n    &lt;wdm.version&gt;5.3.2&lt;/wdm.version&gt;\n\n    &lt;htmlunit.version&gt;4.8.0&lt;/htmlunit.version&gt;\n    &lt;rerunner.version&gt;2.1.6&lt;/rerunner.version&gt;\n    &lt;junit-platform.version&gt;1.9.2&lt;/junit-platform.version&gt;\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\n    &lt;browsermob.version&gt;2.1.5&lt;/browsermob.version&gt;\n    &lt;zapclient.version&gt;1.11.0&lt;/zapclient.version&gt;\n    &lt;axel.version&gt;4.6.0&lt;/axel.version&gt;\n    &lt;selenide.version&gt;6.12.0&lt;/selenide.version&gt;\n    &lt;datafaker.version&gt;1.8.0&lt;/datafaker.version&gt;\n    &lt;extentreports.version&gt;5.0.9&lt;/extentreports.version&gt;\n    &lt;allure.version&gt;2.21.0&lt;/allure.version&gt;\n    &lt;allure-maven.version&gt;2.12.0&lt;/allure-maven.version&gt;\n    &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;\n    &lt;spring-boot.version&gt;3.0.3&lt;/spring-boot.version&gt;\n    &lt;appium.version&gt;8.3.0&lt;/appium.version&gt;\n    &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M9&lt;/maven-surefire-plugin.version&gt;\n\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n\n    &lt;project.encondig&gt;UTF-8&lt;/project.encondig&gt;\n    &lt;project.build.sourceEncoding&gt;${project.encondig}&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;${project.encondig}&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n        &lt;version&gt;${htmlunit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;${assertj.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;${wdm.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-grid&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\n        &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${rerunner.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\n        &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\n        &lt;version&gt;${browsermob.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.zaproxy&lt;/groupId&gt;\n        &lt;artifactId&gt;zap-clientapi&lt;/artifactId&gt;\n        &lt;version&gt;${zapclient.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n        &lt;version&gt;${axel.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n        &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n        &lt;version&gt;${selenide.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n                &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\n        &lt;version&gt;${datafaker.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;${extentreports.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;${appium.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;!-- The following setup is only required when using Allure --&gt;\n            &lt;configuration&gt;\n                &lt;properties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;listener&lt;/name&gt;\n                        &lt;value&gt;io.qameta.allure.junit5.AllureJunit5&lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/properties&gt;\n            &lt;/configuration&gt;\n            &lt;!-- /Allure --&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n            &lt;version&gt;${allure-maven.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And the testing template I've been using:</p>\n<pre><code>public class LocatorByLink {\n\nWebDriver driver;\n\n@BeforeEach\nvoid setup(){\n    driver = WebDriverManager.chromedriver().create();\n}\n\n@AfterEach\nvoid teardown(){\n    driver.quit();\n}\n\n@Test\nvoid test(){\n\n}\n</code></pre>\n<p>}</p>\n<p>Console output:</p>\n<pre><code>io.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\n\nat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1775)\nat io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:425)\nat com.handsonselenium.chapter003.examples.LocatorByLink.setup(LocatorByLink.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.quit()&quot; because &quot;this.driver&quot; is null\n    at com.handsonselenium.chapter003.examples.LocatorByLink.teardown(LocatorByLink.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:110)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$24(ClassBasedTestDescriptor.java:510)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$10(TestMethodTestDescriptor.java:243)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:241)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:142)\n    ... 48 more\n</code></pre>\n<p>Caused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createLocalWebDriver(WebDriverCreator.java:64)\nat io.github.bonigarcia.wdm.WebDriverManager.createLocalWebDriver(WebDriverManager.java:1949)\nat io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1764)\n... 76 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:49892/devtools/browser/3d746805-ea32-49e3-9d0e-6810f1d7b998\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '12.5', java.version: '17.0.6'\nDriver info: driver.version: ChromeDriver\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.(NettyWebSocket.java:102)\nat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\nat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\nat org.openqa.selenium.devtools.Connection.(Connection.java:78)\nat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\nat java.base/java.util.Optional.map(Optional.java:260)\nat org.openqa.selenium.chromium.ChromiumDriver.(ChromiumDriver.java:114)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:82)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:50)\n... 84 more</p>\n"},{"tags":["java","maven","cucumber","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":9790541,"reputation":97,"user_id":7255297,"display_name":"ZantAgg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552317262,"creation_date":1552317262,"answer_id":55104999,"question_id":55103607,"body_markdown":"The problem is that the version being used (i.e.  2.8) doesn&#39;t support multiple JSON files. \r\n\r\nThe solution is:\r\n\r\n     &lt;plugin&gt;\r\n            \t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n            \t&lt;version&gt;4.5.0&lt;/version&gt;\r\n            \t&lt;executions&gt;\r\n            \t\t&lt;execution&gt;\r\n            \t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n            \t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n            \t\t\t&lt;goals&gt;\r\n            \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n            \t\t\t&lt;/goals&gt;\r\n            \t\t\t&lt;configuration&gt;\r\n            \t\t\t\t&lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\r\n            \t\t\t\t&lt;inputDirectory&gt;${project.build.directory}/jsonReports&lt;/inputDirectory&gt;\r\n            \t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\r\n            \t\t\t\t&lt;jsonFiles&gt;\r\n                                &lt;!-- supports wildcard or name pattern --&gt;\r\n                                &lt;param&gt;**/*.json&lt;/param&gt;\r\n                            &lt;/jsonFiles&gt;\r\n            \t\t\t&lt;/configuration&gt;\r\n            \t\t&lt;/execution&gt;\r\n            \t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nRead more at https://github.com/damianszczepanik/maven-cucumber-reporting","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>The problem is that the version being used (i.e.  2.8) doesn't support multiple JSON files. </p>\n\n<p>The solution is:</p>\n\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;4.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\n                        &lt;inputDirectory&gt;${project.build.directory}/jsonReports&lt;/inputDirectory&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;!-- supports wildcard or name pattern --&gt;\n                            &lt;param&gt;**/*.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Read more at <a href=\"https://github.com/damianszczepanik/maven-cucumber-reporting\" rel=\"nofollow noreferrer\">https://github.com/damianszczepanik/maven-cucumber-reporting</a></p>\n"},{"tags":[],"owner":{"account_id":1010787,"reputation":354,"user_id":1023402,"display_name":"robert.baboi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584554009,"creation_date":1584554009,"answer_id":60745015,"question_id":55103607,"body_markdown":"If you can run bash commands and maybe have **jq** available on the machine, maybe try to generate the reports in files with different names then use jq to merge them back into one file \r\n\r\nI do something similar although I don&#39;t run parallel and I don&#39;t rely on any plugin, I run with the surefire plugin \r\n\r\n**Disclaimer**: I haven&#39;t tested the report name override with --format so that part might be different for you but the idea is the same\r\n```\r\nmvn test -Dcucumber.options=&quot;--format=json:target/cucumber_test1.json&quot;\r\nmvn test -Dcucumber.options=&quot;--format=json:target/cucumber_test2.json&quot;\r\n...\r\n\r\njq -s &#39;[.[][]]&#39; target/cucumber_*.json &gt; target/cucumber.json\r\n\r\n```","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>If you can run bash commands and maybe have <strong>jq</strong> available on the machine, maybe try to generate the reports in files with different names then use jq to merge them back into one file </p>\n\n<p>I do something similar although I don't run parallel and I don't rely on any plugin, I run with the surefire plugin </p>\n\n<p><strong>Disclaimer</strong>: I haven't tested the report name override with --format so that part might be different for you but the idea is the same</p>\n\n<pre><code>mvn test -Dcucumber.options=\"--format=json:target/cucumber_test1.json\"\nmvn test -Dcucumber.options=\"--format=json:target/cucumber_test2.json\"\n...\n\njq -s '[.[][]]' target/cucumber_*.json &gt; target/cucumber.json\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25942963,"reputation":1,"user_id":19662122,"display_name":"Galc94"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678814076,"creation_date":1678813962,"answer_id":75736347,"question_id":55103607,"body_markdown":"I just want to complement the previous answer,\r\n\r\nyou may have both behaviors, append json files to get a completed when you will see how many times a fetarue was reexcuted after getting passed status, or just getting a final repot where the features will only appear once with the latest status after rerun.\r\n\r\nI was able to merge the results of the report after rerun just by using &lt;mergeFeaturesWithRetest&gt;\r\n\r\nit is more detailed here, in readme file on comments for the plugin:\r\nhttps://github.com/damianszczepanik/maven-cucumber-reporting\r\n\r\n\r\nhope it helps.","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>I just want to complement the previous answer,</p>\n<p>you may have both behaviors, append json files to get a completed when you will see how many times a fetarue was reexcuted after getting passed status, or just getting a final repot where the features will only appear once with the latest status after rerun.</p>\n<p>I was able to merge the results of the report after rerun just by using </p>\n<p>it is more detailed here, in readme file on comments for the plugin:\n<a href=\"https://github.com/damianszczepanik/maven-cucumber-reporting\" rel=\"nofollow noreferrer\">https://github.com/damianszczepanik/maven-cucumber-reporting</a></p>\n<p>hope it helps.</p>\n"}],"owner":{"account_id":9790541,"reputation":97,"user_id":7255297,"display_name":"ZantAgg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55104999,"answer_count":3,"score":0,"last_activity_date":1678814076,"creation_date":1552312977,"question_id":55103607,"body_markdown":"My POM currently looks like,\r\n\r\n    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n            \t&lt;version&gt;2.8.0&lt;/version&gt;\r\n            \t&lt;executions&gt;\r\n            \t\t&lt;execution&gt;\r\n            \t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n            \t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n            \t\t\t&lt;goals&gt;\r\n            \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n            \t\t\t&lt;/goals&gt;\r\n            \t\t\t&lt;configuration&gt;\r\n            \t\t\t\t&lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\r\n            \t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\r\n            \t\t\t\t&lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\r\n            \t\t\t&lt;/configuration&gt;\r\n            \t\t&lt;/execution&gt;\r\n            \t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThis does generate a report but only with the last feature. I have multiple runners, so I&#39;m trying to figure out either: \r\n\r\nA. How do I combine multiple JSON into one report or \r\n\r\nB. How do I append on to one JSON file as each test finishes? \r\n\r\nEither of these seems like a viable solution, Although I would prefer A because it seems like I&#39;m only missing one line in my pom.xml to do so as I currently am already generating multiple JSON files","title":"Maven Cucumber Reporting Multiple JSON files","body":"<p>My POM currently looks like,</p>\n\n<pre><code>&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;ExecuteAutomation&lt;/projectName&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\n                        &lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>This does generate a report but only with the last feature. I have multiple runners, so I'm trying to figure out either: </p>\n\n<p>A. How do I combine multiple JSON into one report or </p>\n\n<p>B. How do I append on to one JSON file as each test finishes? </p>\n\n<p>Either of these seems like a viable solution, Although I would prefer A because it seems like I'm only missing one line in my pom.xml to do so as I currently am already generating multiple JSON files</p>\n"},{"tags":["java","io","binaryfiles"],"comments":[{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408437904,"post_id":25378938,"comment_id":39577825,"body_markdown":"please provide expected result and actual result","body":"please provide expected result and actual result"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408439345,"post_id":25378938,"comment_id":39578563,"body_markdown":"actual result is 57 blank spaces...expected result is integer values","body":"actual result is 57 blank spaces...expected result is integer values"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439426,"post_id":25378938,"comment_id":39578618,"body_markdown":"I think that it is problem with symbol displaying","body":"I think that it is problem with symbol displaying"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439476,"post_id":25378938,"comment_id":39578654,"body_markdown":"Try to write bytes without converting to char","body":"Try to write bytes without converting to char"}],"answers":[{"comments":[{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408438575,"post_id":25379063,"comment_id":39578147,"body_markdown":"I&#39;ve used this example, and mention the while loop in my post. Still getting blank output.","body":"I&#39;ve used this example, and mention the while loop in my post. Still getting blank output."},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408438659,"post_id":25379063,"comment_id":39578197,"body_markdown":"Do you understand that outagain.txt is output ?","body":"Do you understand that outagain.txt is output ?"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408438857,"post_id":25379063,"comment_id":39578305,"body_markdown":"Yes I do...I amended the code to just print output and not write to file","body":"Yes I do...I amended the code to just print output and not write to file"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408438977,"post_id":25379063,"comment_id":39578356,"body_markdown":"Try to read another file. Maybe your file contain service symbol at the begining","body":"Try to read another file. Maybe your file contain service symbol at the begining"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439145,"post_id":25379063,"comment_id":39578448,"body_markdown":"Also maybe this symbols are not visible for you. try to count how many loop iterations are executes","body":"Also maybe this symbols are not visible for you. try to count how many loop iterations are executes"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408439307,"post_id":25379063,"comment_id":39578544,"body_markdown":"When I try to read another file I get an error invalid stream header, it was a zip file.  It loops 57 times, which I don&#39;t know is correct...doubt it though","body":"When I try to read another file I get an error invalid stream header, it was a zip file.  It loops 57 times, which I don&#39;t know is correct...doubt it though"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408439476,"post_id":25379063,"comment_id":39578656,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/59569/discussion-between-alwynmalan-and-nagibator777).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/59569/discussion-between-alwynmalan-and-nagibator777\">continue this discussion in chat</a>."}],"tags":[],"owner":{"display_name":"user2684975"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408437658,"creation_date":1408437658,"answer_id":25379063,"question_id":25378938,"body_markdown":"it is simple example:\r\n\r\n \r\n\r\n       public class CopyBytes {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            FileInputStream in = null;\r\n            FileOutputStream out = null;\r\n    \r\n            try {\r\n                in = new FileInputStream(&quot;xanadu.txt&quot;);\r\n                out = new FileOutputStream(&quot;outagain.txt&quot;);\r\n                int c;\r\n    \r\n                while ((c = in.read()) != -1) {\r\n                    out.write(c);\r\n                }\r\n            } finally {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIf you want to read text(characters) - use Readers, if you want to read bytes - use Streams","title":"Reading binary file byte by byte","body":"<p>it is simple example:</p>\n\n<pre><code>   public class CopyBytes {\n    public static void main(String[] args) throws IOException {\n\n        FileInputStream in = null;\n        FileOutputStream out = null;\n\n        try {\n            in = new FileInputStream(\"xanadu.txt\");\n            out = new FileOutputStream(\"outagain.txt\");\n            int c;\n\n            while ((c = in.read()) != -1) {\n                out.write(c);\n            }\n        } finally {\n            if (in != null) {\n                in.close();\n            }\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to read text(characters) - use Readers, if you want to read bytes - use Streams</p>\n"},{"comments":[{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408438602,"post_id":25379115,"comment_id":39578166,"body_markdown":"Thank you, but getting blank output.","body":"Thank you, but getting blank output."},{"owner":{"display_name":"user3667171"},"score":0,"creation_date":1408438695,"post_id":25379115,"comment_id":39578221,"body_markdown":"@alwynmalan Are you sure you are providing the correct path to the file, and the file is not empty?","body":"@alwynmalan Are you sure you are providing the correct path to the file, and the file is not empty?"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408438905,"post_id":25379115,"comment_id":39578328,"body_markdown":"Yes I throw and exception if file is not found.  It&#39;s a .dat file, is that perhaps the problem?  The contents are as in my original post.  Contains serialized objects","body":"Yes I throw and exception if file is not found.  It&#39;s a .dat file, is that perhaps the problem?  The contents are as in my original post.  Contains serialized objects"},{"owner":{"display_name":"user2684975"},"score":0,"creation_date":1408439203,"post_id":25379115,"comment_id":39578478,"body_markdown":"Do you want to deserealize object ?","body":"Do you want to deserealize object ?"},{"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"score":0,"creation_date":1408439422,"post_id":25379115,"comment_id":39578613,"body_markdown":"If I want to read the file byte by byte, should it be deserialized?","body":"If I want to read the file byte by byte, should it be deserialized?"}],"tags":[],"owner":{"display_name":"user3667171"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408439467,"creation_date":1408437839,"answer_id":25379115,"question_id":25378938,"body_markdown":"Why not using Apache Commons:\r\n\r\n    byte[] bytes = IOUtils.toByteArray(inputStream);\r\n\r\nThen you can convert it to char:\r\n\r\n\r\n    String str = new String(bytes); \r\n    Char[] chars = str.toCharArray();\r\n\r\nOr like you did:\r\n\r\n    char[] charArray = Character.toChars(bytes);\r\n\r\nTo deserialize objects:\r\n\r\n    List&lt;Object&gt; results = new ArrayList&lt;Object&gt;();\r\n    FileInputStream fis = new FileInputStream(&quot;your_file.dat&quot;);\r\n    ObjectInputStream ois = new ObjectInputStream(fis);\r\n\r\n    try {\r\n        while (true) {\r\n            results.add(ois.readObject());\r\n        }\r\n    } catch (OptionalDataException e) {\r\n        if (!e.eof) throw e;\r\n    } finally {\r\n        ois.close();\r\n    }","title":"Reading binary file byte by byte","body":"<p>Why not using Apache Commons:</p>\n\n<pre><code>byte[] bytes = IOUtils.toByteArray(inputStream);\n</code></pre>\n\n<p>Then you can convert it to char:</p>\n\n<pre><code>String str = new String(bytes); \nChar[] chars = str.toCharArray();\n</code></pre>\n\n<p>Or like you did:</p>\n\n<pre><code>char[] charArray = Character.toChars(bytes);\n</code></pre>\n\n<p>To deserialize objects:</p>\n\n<pre><code>List&lt;Object&gt; results = new ArrayList&lt;Object&gt;();\nFileInputStream fis = new FileInputStream(\"your_file.dat\");\nObjectInputStream ois = new ObjectInputStream(fis);\n\ntry {\n    while (true) {\n        results.add(ois.readObject());\n    }\n} catch (OptionalDataException e) {\n    if (!e.eof) throw e;\n} finally {\n    ois.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user3667171"},"score":0,"creation_date":1408440333,"post_id":25379651,"comment_id":39579122,"body_markdown":"You mean data position, hex value and char value, right?","body":"You mean data position, hex value and char value, right?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1408441393,"post_id":25379651,"comment_id":39579719,"body_markdown":"Yes %d = number, %x = hexadecimal number, %c char.","body":"Yes %d = number, %x = hexadecimal number, %c char."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408439951,"creation_date":1408439578,"answer_id":25379651,"question_id":25378938,"body_markdown":"Since java 7 it is not needed to read byte by byte, there are two utility function in [Files][1]:\r\n\r\n    Path path = Paths.get(&quot;C:/temp/test.txt&quot;);\r\n\r\n    // Load as binary:\r\n    byte[] bytes = Files.readAllBytes(path);\r\n    String asText = new String(bytes, StandardCharset.ISO_8859_1);\r\n\r\n    // Load as text, with some Charset:\r\n    List&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.ISO_8859_1);\r\n\r\nAs you want to read binary data, one would use `readAllBytes`.\r\n\r\nString and char is for _text_. As opposed to many other programming languages, this means Unicode, so all scripts of the world may be combined. `char` is 16 bit as opposed to the 8 bit `byte`.\r\n\r\nFor pure ASCII, the 7 bit subset of Unicode / UTF-8, byte and char values are identical.\r\n\r\nThen you might have done the following (low-quality code):\r\n\r\n    int fileLength = (int) path.size();\r\n    char[] chars = new char[fileLength];\r\n    int i = 0;\r\n    int data;\r\n    while ((data = inputStream.read()) != -1) {\r\n        chars[i] = (char) data; // data actually being a byte\r\n        ++i;\r\n    }\r\n    inputStream.close();\r\n\r\n    String text = new String(chars);\r\n\r\n    System.out.println(Arrays.toString(chars));\r\n\r\nThe problem you had, probably concerned the unwieldy fixed size array in java, and that a `char[]` still is not a `String`.\r\n\r\nFor binary usage, as you seem to be reading serialized data, you might like to dump the file:\r\n\r\n    int i = 0;\r\n    int data;\r\n    while ((data = inputStream.read()) != -1) {\r\n        char ch = 32 &lt;= data &amp;&amp; data &lt; 127 ? (char) data : &#39; &#39;;\r\n        System.out.println(&quot;[%06d] %02x %c%n&quot;, i, data, ch);\r\n        ++i;\r\n    }\r\n\r\nDumping file position, hex value and char value.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"Reading binary file byte by byte","body":"<p>Since java 7 it is not needed to read byte by byte, there are two utility function in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow\">Files</a>:</p>\n\n<pre><code>Path path = Paths.get(\"C:/temp/test.txt\");\n\n// Load as binary:\nbyte[] bytes = Files.readAllBytes(path);\nString asText = new String(bytes, StandardCharset.ISO_8859_1);\n\n// Load as text, with some Charset:\nList&lt;String&gt; lines = Files.readAllLines(path, StandardCharsets.ISO_8859_1);\n</code></pre>\n\n<p>As you want to read binary data, one would use <code>readAllBytes</code>.</p>\n\n<p>String and char is for <em>text</em>. As opposed to many other programming languages, this means Unicode, so all scripts of the world may be combined. <code>char</code> is 16 bit as opposed to the 8 bit <code>byte</code>.</p>\n\n<p>For pure ASCII, the 7 bit subset of Unicode / UTF-8, byte and char values are identical.</p>\n\n<p>Then you might have done the following (low-quality code):</p>\n\n<pre><code>int fileLength = (int) path.size();\nchar[] chars = new char[fileLength];\nint i = 0;\nint data;\nwhile ((data = inputStream.read()) != -1) {\n    chars[i] = (char) data; // data actually being a byte\n    ++i;\n}\ninputStream.close();\n\nString text = new String(chars);\n\nSystem.out.println(Arrays.toString(chars));\n</code></pre>\n\n<p>The problem you had, probably concerned the unwieldy fixed size array in java, and that a <code>char[]</code> still is not a <code>String</code>.</p>\n\n<p>For binary usage, as you seem to be reading serialized data, you might like to dump the file:</p>\n\n<pre><code>int i = 0;\nint data;\nwhile ((data = inputStream.read()) != -1) {\n    char ch = 32 &lt;= data &amp;&amp; data &lt; 127 ? (char) data : ' ';\n    System.out.println(\"[%06d] %02x %c%n\", i, data, ch);\n    ++i;\n}\n</code></pre>\n\n<p>Dumping file position, hex value and char value.</p>\n"},{"tags":[],"owner":{"account_id":11390386,"reputation":100,"user_id":8350666,"accept_rate":50,"display_name":"DSOI__UNUNOCTIUM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509149854,"creation_date":1502675170,"answer_id":45666447,"question_id":25378938,"body_markdown":"Edit: \r\nUse file.length() for they array size, and make a byte array. Then inputstream.read(b).\r\nEdit again: if you want characters, use inputstreamreader(fileinputstream(file),charset), it even comes with charset.","title":"Reading binary file byte by byte","body":"<p>Edit: \nUse file.length() for they array size, and make a byte array. Then inputstream.read(b).\nEdit again: if you want characters, use inputstreamreader(fileinputstream(file),charset), it even comes with charset.</p>\n"}],"owner":{"account_id":3319914,"reputation":149,"user_id":2791350,"accept_rate":60,"display_name":"alwynmalan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21693,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1678814023,"creation_date":1408437283,"question_id":25378938,"body_markdown":"I&#39;ve been doing research on a java problem I have with no success.  I&#39;ve read a whole bunch of similar questions here on StackOverflow but the solutions just doesn&#39;t seem to work as expected.\r\n\r\nI&#39;m trying to read a binary file byte by byte.\r\n\r\nI&#39;ve used:\r\n\r\n    while ((data = inputStream.read()) != -1) \r\n\r\nloops...\r\n\r\n    for (int i = 0; i &lt; bFile.length; i++) {\r\n\r\nloops...\r\n\r\nBut I only get empty or blank output.  The actual content of the file I&#39;m trying to read is as follows:\r\n\r\n&gt; &#172;&#237; \u0005sr \u000Fassignment6.PetI&#191;Z8kyQŸ\u0002 \u0003I \u0003ageD \u0006weightL \u0004namet \u0012Ljava/lang/String;xp   &gt; \u0017@4      t \u0004andysq ~     \u000F@b&#192;     t \u0005simbasq ~     \u0011@I      t \twolletjiesq ~     \r\n&gt; \f@$      t \u0006rakker\r\n\r\nI&#39;m merely trying to read it byte for byte and feed it to a character array with the following line:\r\n\r\n    char[] charArray = Character.toChars(byteValue);\r\n\r\nBytevalue here represents an int of the byte it&#39;s reading.\r\n\r\nWhat is going wrong where?","title":"Reading binary file byte by byte","body":"<p>I've been doing research on a java problem I have with no success.  I've read a whole bunch of similar questions here on StackOverflow but the solutions just doesn't seem to work as expected.</p>\n\n<p>I'm trying to read a binary file byte by byte.</p>\n\n<p>I've used:</p>\n\n<pre><code>while ((data = inputStream.read()) != -1) \n</code></pre>\n\n<p>loops...</p>\n\n<pre><code>for (int i = 0; i &lt; bFile.length; i++) {\n</code></pre>\n\n<p>loops...</p>\n\n<p>But I only get empty or blank output.  The actual content of the file I'm trying to read is as follows:</p>\n\n<blockquote>\n  <p>¬í sr \u000Fassignment6.PetI¿Z8kyQŸ I ageD weightL namet Ljava/lang/String;xp   > @4      t andysq ~     \u000F@bÀ     t simbasq ~     @I      t     wolletjiesq ~<br>\n  \f@$      t rakker</p>\n</blockquote>\n\n<p>I'm merely trying to read it byte for byte and feed it to a character array with the following line:</p>\n\n<pre><code>char[] charArray = Character.toChars(byteValue);\n</code></pre>\n\n<p>Bytevalue here represents an int of the byte it's reading.</p>\n\n<p>What is going wrong where?</p>\n"},{"tags":["java","database","postgresql","transactions"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":2,"creation_date":1678812803,"post_id":75736019,"comment_id":133604615,"body_markdown":"The second way is the correct way. Locking DB rows for longer than necessary slows things down even to the point of deadlock. I have worked on projects where we refactored from 1 to 2.","body":"The second way is the correct way. Locking DB rows for longer than necessary slows things down even to the point of deadlock. I have worked on projects where we refactored from 1 to 2."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1678813091,"post_id":75736019,"comment_id":133604708,"body_markdown":"[Fail fast](https://en.wikipedia.org/wiki/Fail-fast)","body":"<a href=\"https://en.wikipedia.org/wiki/Fail-fast\" rel=\"nofollow noreferrer\">Fail fast</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678821078,"post_id":75736019,"comment_id":133606841,"body_markdown":"Embedding one risky long-running network-based operation within another risky long-running network-based operation is generally unwise. Makes for more complications in your programming, logging, and debugging.","body":"Embedding one risky long-running network-based operation within another risky long-running network-based operation is generally unwise. Makes for more complications in your programming, logging, and debugging."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678830780,"post_id":75736019,"comment_id":133609251,"body_markdown":"For the 2nd option, there is no (apparent) reason to do a SELECT FOR UPDATE.  Just do the UPDATE.","body":"For the 2nd option, there is no (apparent) reason to do a SELECT FOR UPDATE.  Just do the UPDATE."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1678830934,"post_id":75736019,"comment_id":133609283,"body_markdown":"What are the consequences of making the same API call on the same row more than once at a time?  If doing that is expensive or catastrophic, you wouldn&#39;t want to use option 2.","body":"What are the consequences of making the same API call on the same row more than once at a time?  If doing that is expensive or catastrophic, you wouldn&#39;t want to use option 2."},{"owner":{"account_id":26359204,"reputation":65,"user_id":20015709,"display_name":"BinaryBee"},"score":0,"creation_date":1678901506,"post_id":75736019,"comment_id":133624582,"body_markdown":"@jjanes Thanks for the first comment, you are correct, this was probably just specific to my application where we need to load the object before saving the data. Generally a simple UPDATE like you said should be enough. \n\nFor the second comment, the cost of calling more than once is low in our case, so no worries there.","body":"@jjanes Thanks for the first comment, you are correct, this was probably just specific to my application where we need to load the object before saving the data. Generally a simple UPDATE like you said should be enough.   For the second comment, the cost of calling more than once is low in our case, so no worries there."}],"answers":[{"comments":[{"owner":{"account_id":26359204,"reputation":65,"user_id":20015709,"display_name":"BinaryBee"},"score":0,"creation_date":1678901817,"post_id":75736352,"comment_id":133624672,"body_markdown":"Thank you for the detailed comment! This is a legit reason not to have transactions long while having a big load on the service","body":"Thank you for the detailed comment! This is a legit reason not to have transactions long while having a big load on the service"}],"tags":[],"owner":{"account_id":21588530,"reputation":76,"user_id":15918559,"display_name":"vleg1991"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678814011,"creation_date":1678814011,"answer_id":75736352,"question_id":75736019,"body_markdown":"Due to connection to DB is a limited resource, usually connections controlled by connection pool sub-systems, Hikari, for instance.\r\n\r\nhttps://github.com/brettwooldridge/HikariCP\r\n\r\nSo, I assume, you have a connection pool in your application. Every transaction you gonna hold longer than needed, gonna hold a connection too. A pool usually have restrictions over connections, which prevents connection pool from exhaustion. For example, if you are using Hikari you would face some problems in case of long term external API calls, because:\r\n   \r\n 1. Connection pool allows you to have 10 connections to DB by default, you hold 10 transactions, which consequently holds 10 connections, so, your read connection have no chance to catch a connection (of course, it have but transactions start racing for connection) \r\n 2. If you have long request to external API, pool can break a connection by timeout at some point and your data would be lost, despite you have response from external service, you won&#39;t save it.\r\n\r\nFor example you can check Hikari limitations here: https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java\r\n\r\nMore interested, those \r\n\r\n        private static final long CONNECTION_TIMEOUT = SECONDS.toMillis(30);\r\n        ...\r\n        private static final int DEFAULT_POOL_SIZE = 10;\r\n ","title":"Is it not a good practise to make api calls during database transactions?","body":"<p>Due to connection to DB is a limited resource, usually connections controlled by connection pool sub-systems, Hikari, for instance.</p>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a></p>\n<p>So, I assume, you have a connection pool in your application. Every transaction you gonna hold longer than needed, gonna hold a connection too. A pool usually have restrictions over connections, which prevents connection pool from exhaustion. For example, if you are using Hikari you would face some problems in case of long term external API calls, because:</p>\n<ol>\n<li>Connection pool allows you to have 10 connections to DB by default, you hold 10 transactions, which consequently holds 10 connections, so, your read connection have no chance to catch a connection (of course, it have but transactions start racing for connection)</li>\n<li>If you have long request to external API, pool can break a connection by timeout at some point and your data would be lost, despite you have response from external service, you won't save it.</li>\n</ol>\n<p>For example you can check Hikari limitations here: <a href=\"https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/blob/dev/src/main/java/com/zaxxer/hikari/HikariConfig.java</a></p>\n<p>More interested, those</p>\n<pre><code>    private static final long CONNECTION_TIMEOUT = SECONDS.toMillis(30);\n    ...\n    private static final int DEFAULT_POOL_SIZE = 10;\n</code></pre>\n"}],"owner":{"account_id":26359204,"reputation":65,"user_id":20015709,"display_name":"BinaryBee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678814011,"creation_date":1678811897,"question_id":75736019,"body_markdown":"I am writing a function which needs to call an external api and save the results to postgres database. And I am thinking the pros and cons on two approaches: \r\n\r\n1. Start a transaction, lock the row by using SELECT FOR UPDATE, make api call and save the results, and roll back if one of them fails.\r\n\r\n2. Call the api first, and then start a transaction, lock the row by using SELECT FOR UPDATE, and write the result, only if the api call succeeds and returns result.\r\n\r\nI have heard that involving external api calls in database transaction are extremely dangerous. But I am not sure what other reasons there are, besides the obvious reason that the transaction might take a longer time. Will there be any difference depending HTTP method we are using for the api calls? (GET vs POST) \r\n\r\nI am learning towards the second approach if we are only getting information from the api call and writing to database. This way we don&#39;t hold the transaction for too long. But on the other hand, I don&#39;t see anything wrong with the transaction taking long, if it does not block read operation, and if no other subsequent actions are being blocked by this transaction or the row being locked. \r\n\r\nLooking for some opinions here. Would appreciate some examples on each of the approach, thanks!","title":"Is it not a good practise to make api calls during database transactions?","body":"<p>I am writing a function which needs to call an external api and save the results to postgres database. And I am thinking the pros and cons on two approaches:</p>\n<ol>\n<li><p>Start a transaction, lock the row by using SELECT FOR UPDATE, make api call and save the results, and roll back if one of them fails.</p>\n</li>\n<li><p>Call the api first, and then start a transaction, lock the row by using SELECT FOR UPDATE, and write the result, only if the api call succeeds and returns result.</p>\n</li>\n</ol>\n<p>I have heard that involving external api calls in database transaction are extremely dangerous. But I am not sure what other reasons there are, besides the obvious reason that the transaction might take a longer time. Will there be any difference depending HTTP method we are using for the api calls? (GET vs POST)</p>\n<p>I am learning towards the second approach if we are only getting information from the api call and writing to database. This way we don't hold the transaction for too long. But on the other hand, I don't see anything wrong with the transaction taking long, if it does not block read operation, and if no other subsequent actions are being blocked by this transaction or the row being locked.</p>\n<p>Looking for some opinions here. Would appreciate some examples on each of the approach, thanks!</p>\n"},{"tags":["java","diff","jgit"],"owner":{"account_id":4170847,"reputation":267,"user_id":3418642,"accept_rate":40,"display_name":"Guy Hudara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678813768,"creation_date":1678813768,"question_id":75736312,"body_markdown":"I am using JGit (6.5.0.202303070854-r). I am trying to implement `git diff HEAD` command.\r\nHere is what I have done:\r\n1. Clone the ***https://github.com/k-tamura/easybuggy.git*** repository into a folder named ***c:\\dev\\temp\\easybuggy***\r\n\r\n2. Compared the working directory (***c:\\dev\\temp\\easybuggy***) with the remote tree pointed by HEAD, expecting to see 0 (zero) changes, but instead I get a list of 30 changed.\r\n\r\nHere is the code I am using:\r\n\r\n\r\n```\r\n  public static void main(String[] args) throws GitAPIException, IOException {\r\n\r\n    File repoPath = new File(&quot;c:\\\\dev\\\\temp\\\\easybuggy&quot;);\r\n\r\n    //1. Clone the repo\r\n    Git.cloneRepository()\r\n            .setURI( &quot;https://github.com/k-tamura/easybuggy.git&quot; )\r\n            .setDirectory( repoPath )\r\n            .call();\r\n\r\n    //2. Compare the content of the working directory to the HEAD on the remote\r\n    try (Git git = Git.open(repoPath)) {\r\n\r\n      Repository repository = git.getRepository();\r\n      try (ObjectReader reader = repository.newObjectReader()) {\r\n\r\n        ObjectId oldTreeId = repository.resolve(&quot;HEAD^{tree}&quot;);\r\n        CanonicalTreeParser oldTree = new CanonicalTreeParser(null, reader, oldTreeId);\r\n        oldTree.reset(reader, oldTreeId);\r\n\r\n        AbstractTreeIterator newTree = new FileTreeIterator(repository);\r\n\r\n        List&lt;DiffEntry&gt; diff = git.diff()\r\n                .setOldTree(oldTree)\r\n                .setNewTree(newTree)\r\n                .call();\r\n\r\n        System.out.println(&quot;The number of diff entries is: &quot; + diff.size());\r\n      }\r\n\r\n    }\r\n  }\r\n```\r\n\r\nThe output of this code is: \r\n`The number of diff entries is: 30`\r\n\r\nWhat am I doing wrong? Why the diff list is not empty? I have just cloned the repo and compared.\r\n\r\nBTW: If I manually change one of the files, the size of the diff list become 31.\r\n\r\nAny hint will be highly appreciated.","title":"&quot;git diff HEAD&quot; equivalent using JGit not working as expected","body":"<p>I am using JGit (6.5.0.202303070854-r). I am trying to implement <code>git diff HEAD</code> command.\nHere is what I have done:</p>\n<ol>\n<li><p>Clone the <em><strong><a href=\"https://github.com/k-tamura/easybuggy.git\" rel=\"nofollow noreferrer\">https://github.com/k-tamura/easybuggy.git</a></strong></em> repository into a folder named <em><strong>c:\\dev\\temp\\easybuggy</strong></em></p>\n</li>\n<li><p>Compared the working directory (<em><strong>c:\\dev\\temp\\easybuggy</strong></em>) with the remote tree pointed by HEAD, expecting to see 0 (zero) changes, but instead I get a list of 30 changed.</p>\n</li>\n</ol>\n<p>Here is the code I am using:</p>\n<pre><code>  public static void main(String[] args) throws GitAPIException, IOException {\n\n    File repoPath = new File(&quot;c:\\\\dev\\\\temp\\\\easybuggy&quot;);\n\n    //1. Clone the repo\n    Git.cloneRepository()\n            .setURI( &quot;https://github.com/k-tamura/easybuggy.git&quot; )\n            .setDirectory( repoPath )\n            .call();\n\n    //2. Compare the content of the working directory to the HEAD on the remote\n    try (Git git = Git.open(repoPath)) {\n\n      Repository repository = git.getRepository();\n      try (ObjectReader reader = repository.newObjectReader()) {\n\n        ObjectId oldTreeId = repository.resolve(&quot;HEAD^{tree}&quot;);\n        CanonicalTreeParser oldTree = new CanonicalTreeParser(null, reader, oldTreeId);\n        oldTree.reset(reader, oldTreeId);\n\n        AbstractTreeIterator newTree = new FileTreeIterator(repository);\n\n        List&lt;DiffEntry&gt; diff = git.diff()\n                .setOldTree(oldTree)\n                .setNewTree(newTree)\n                .call();\n\n        System.out.println(&quot;The number of diff entries is: &quot; + diff.size());\n      }\n\n    }\n  }\n</code></pre>\n<p>The output of this code is:\n<code>The number of diff entries is: 30</code></p>\n<p>What am I doing wrong? Why the diff list is not empty? I have just cloned the repo and compared.</p>\n<p>BTW: If I manually change one of the files, the size of the diff list become 31.</p>\n<p>Any hint will be highly appreciated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678805109,"post_id":75734640,"comment_id":133602160,"body_markdown":"You cannot call `displayStudents` on the list, you can only call it on a instance of `student`","body":"You cannot call <code>displayStudents</code> on the list, you can only call it on a instance of <code>student</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1678805140,"post_id":75734640,"comment_id":133602173,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1678806957,"post_id":75734640,"comment_id":133602797,"body_markdown":"`String list = new stuList();` is plain wrong syntax. The real answer here is that every character you put in your code **matters**. You have to understand what you are writing down. Meaning: you have to **learn** what `new` means, and how to use it. Hint: not in front of the name of a **method** that sits in your class.","body":"<code>String list = new stuList();</code> is plain wrong syntax. The real answer here is that every character you put in your code <b>matters</b>. You have to understand what you are writing down. Meaning: you have to <b>learn</b> what <code>new</code> means, and how to use it. Hint: not in front of the name of a <b>method</b> that sits in your class."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1678807131,"post_id":75734640,"comment_id":133602858,"body_markdown":"And a note on the conceptual problem: a Student is just that: a single student. There is NO point in using the Student class to be anything else than: the representation of a single student. So: the ability to hold multiple Student objects does NOT belong into the Student class itself. If at all, you would write *another* class ListOfStudents or something that exists on its own, and to which you can then ADD Student objects.","body":"And a note on the conceptual problem: a Student is just that: a single student. There is NO point in using the Student class to be anything else than: the representation of a single student. So: the ability to hold multiple Student objects does NOT belong into the Student class itself. If at all, you would write <i>another</i> class ListOfStudents or something that exists on its own, and to which you can then ADD Student objects."}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1678807009,"post_id":75734957,"comment_id":133602813,"body_markdown":"Note that this doesn&#39;t address AT ALL the conceptual problem in that code: a single Student object is NOT the &quot;place&quot; to keep a list of students. Those are two completely DIFFERENT things, and they should never be lumped into the same class.","body":"Note that this doesn&#39;t address AT ALL the conceptual problem in that code: a single Student object is NOT the &quot;place&quot; to keep a list of students. Those are two completely DIFFERENT things, and they should never be lumped into the same class."},{"owner":{"account_id":28009396,"reputation":11,"user_id":21392212,"display_name":"LucaHerrero"},"score":0,"creation_date":1678807290,"post_id":75734957,"comment_id":133602900,"body_markdown":"I know, that&#39;s why I added the second sentence in my statement. The code should only solve the creator&#39;s problem so that he can easily understand the solution","body":"I know, that&#39;s why I added the second sentence in my statement. The code should only solve the creator&#39;s problem so that he can easily understand the solution"}],"tags":[],"owner":{"account_id":28009396,"reputation":11,"user_id":21392212,"display_name":"LucaHerrero"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678806519,"creation_date":1678806519,"answer_id":75734957,"question_id":75734640,"body_markdown":"Change your code a little bit. But u should not have a list of students in the students class. \r\n\r\nIt&#39;s better if you create a class like Classroom and then it stores a list of instances of stundent.\r\n\r\nAnd to avoid [OutOfBounds][1] exceptions, I would use an [ArrayList][2] instead of an Array.\r\n\r\n        public static void main(String[] args)       \r\n        {\r\n            Student stu1 = new Student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\r\n    \r\n            stu1.stuList();\r\n    \r\n            stu1.joinList(&quot;s123&quot;);\r\n    \r\n            stu1.displayStudents();\r\n    \r\n        }\r\n    \r\n    \r\n        public class Student {\r\n           public String studentId;\r\n           public String stuName;\r\n           public String stuMajor;\r\n           public String[] stuList;\r\n           private int stuCount = 0;\r\n    \r\n           public Student(String studentId, String stuName, String stuMajor) {\r\n               this.studentId = studentId;\r\n               this.stuName = stuName;\r\n               this.stuMajor = stuMajor;\r\n    \r\n           }\r\n    \r\n           public void stuList() {\r\n               stuList = new String[10];\r\n           }\r\n    \r\n           public void joinList(String s) {\r\n               stuList[stuCount++] = s;\r\n           }\r\n    \r\n           public void displayStudents() {\r\n               for(int i = 0; i &lt; stuCount; i++) {\r\n                   System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\r\n               }\r\n           }\r\n    \r\n           @Override\r\n           public String toString() {\r\n               return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\r\n           }\r\n        }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/array-index-out-of-bounds-exception-in-java/\r\n  [2]: https://www.w3schools.com/java/java_arraylist.asp","title":"adding string to array and displaying them","body":"<p>Change your code a little bit. But u should not have a list of students in the students class.</p>\n<p>It's better if you create a class like Classroom and then it stores a list of instances of stundent.</p>\n<p>And to avoid <a href=\"https://www.geeksforgeeks.org/array-index-out-of-bounds-exception-in-java/\" rel=\"nofollow noreferrer\">OutOfBounds</a> exceptions, I would use an <a href=\"https://www.w3schools.com/java/java_arraylist.asp\" rel=\"nofollow noreferrer\">ArrayList</a> instead of an Array.</p>\n<pre><code>    public static void main(String[] args)       \n    {\n        Student stu1 = new Student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\n\n        stu1.stuList();\n\n        stu1.joinList(&quot;s123&quot;);\n\n        stu1.displayStudents();\n\n    }\n\n\n    public class Student {\n       public String studentId;\n       public String stuName;\n       public String stuMajor;\n       public String[] stuList;\n       private int stuCount = 0;\n\n       public Student(String studentId, String stuName, String stuMajor) {\n           this.studentId = studentId;\n           this.stuName = stuName;\n           this.stuMajor = stuMajor;\n\n       }\n\n       public void stuList() {\n           stuList = new String[10];\n       }\n\n       public void joinList(String s) {\n           stuList[stuCount++] = s;\n       }\n\n       public void displayStudents() {\n           for(int i = 0; i &lt; stuCount; i++) {\n               System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\n           }\n       }\n\n       @Override\n       public String toString() {\n           return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678812941,"creation_date":1678811278,"answer_id":75735912,"question_id":75734640,"body_markdown":"Here is my recommendation. First a couple conventions.\r\n- class names start with an uppercase letter\r\n- fields and methods start with lower case and are usually in `camelCase`.\r\n- make fields private and use getters/setters to preserve/enforce encapsulation\r\n\r\nAlso, a class usually has fields and items that pertain to that class. A `record` could also be used here if the class is immutable. \r\n\r\nKnowledge of other students does not make sense for a `Student` class.  A more obvious example might be a `Book` class which has info about a particular book, not all books.  However, a `Library` or `Shelf` class would certainly be appropriate for books depending on the use case.\r\n\r\nFor students, you could have a `Class` class which might have the name of the class and a list of students attending that class.\r\n```\r\nclass Class {\r\n    private String className;\r\n    private List&lt;Student&gt; attendees = new ArrayList&lt;&gt;();\r\n\r\n    public Class(String name) {\r\n        this.className = name;\r\n    }\r\n    public void addStudent(Student student) {\r\n        System.out.println(&quot;Adding: &quot; + student);\r\n        attendees.add(student);\r\n    }\r\n    \r\n    public void displayAttendees() {\r\n        attendees.forEach(System.out::println);\r\n    }\r\n    \r\n    public String getClassName() {\r\n        return className;\r\n    }\r\n}\r\n```\r\n\r\nI also recommend `Lists` over `arrays` since they can grow dynamically thus eliminating the need to track indices or resize the array.\r\n\r\nHaving said the above, here is how it might look;\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Student {\r\n    private String studentId;\r\n    private String stuName;\r\n    private String stuMajor;\r\n\r\n    public Student(String studentId, String stuName, String stuMajor) {\r\n        this.studentId = studentId;\r\n        this.stuName = stuName;\r\n        this.stuMajor = stuMajor;\r\n    }\r\n    public String getStudentId() {\r\n        return studentId;\r\n    }\r\n    public String getStuName() {\r\n        return stuName;\r\n    }\r\n    public String getStuMajor() {\r\n        return stuMajor;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;Id: %s, Name: %s, Major: %s&quot;, studentId, stuName, stuMajor);\r\n    }\r\n}\r\n\r\npublic class AddStudentsDemo {\r\n\r\n    public static void main(String[] args) {\r\n        Class philosophy = new Class(&quot;philosophy&quot;);\r\n        philosophy.addStudent(new Student(&quot;1&quot;, &quot;Mary&quot;, &quot;Computer Science&quot; ));\r\n        philosophy.addStudent(new Student(&quot;2&quot;,  &quot;John&quot;, &quot;Engineering&quot; ));\r\n        philosophy.addStudent(new Student(&quot;3&quot;, &quot;Bob&quot;, &quot;History&quot; ));\r\n        philosophy.addStudent(new Student(&quot;4&quot;, &quot;Jill&quot;, &quot;Physics&quot; ));\r\n        philosophy.addStudent(new Student(&quot;5&quot;, &quot;Wendy&quot;, &quot;Sociology&quot; ));\r\n        System.out.println();\r\n        philosophy.displayAttendees();\r\n    }\r\n\r\n}\r\n```\r\nprints\r\n```\r\nAdding: Id: 1, Name: Mary, Major: Computer Science\r\nAdding: Id: 2, Name: John, Major: Engineering\r\nAdding: Id: 3, Name: Bob, Major: History\r\nAdding: Id: 4, Name: Jill, Major: Physics\r\nAdding: Id: 5, Name: Wendy, Major: Sociology\r\n\r\nId: 1, Name: Mary, Major: Computer Science\r\nId: 2, Name: John, Major: Engineering\r\nId: 3, Name: Bob, Major: History\r\nId: 4, Name: Jill, Major: Physics\r\nId: 5, Name: Wendy, Major: Sociology","title":"adding string to array and displaying them","body":"<p>Here is my recommendation. First a couple conventions.</p>\n<ul>\n<li>class names start with an uppercase letter</li>\n<li>fields and methods start with lower case and are usually in <code>camelCase</code>.</li>\n<li>make fields private and use getters/setters to preserve/enforce encapsulation</li>\n</ul>\n<p>Also, a class usually has fields and items that pertain to that class. A <code>record</code> could also be used here if the class is immutable.</p>\n<p>Knowledge of other students does not make sense for a <code>Student</code> class.  A more obvious example might be a <code>Book</code> class which has info about a particular book, not all books.  However, a <code>Library</code> or <code>Shelf</code> class would certainly be appropriate for books depending on the use case.</p>\n<p>For students, you could have a <code>Class</code> class which might have the name of the class and a list of students attending that class.</p>\n<pre><code>class Class {\n    private String className;\n    private List&lt;Student&gt; attendees = new ArrayList&lt;&gt;();\n\n    public Class(String name) {\n        this.className = name;\n    }\n    public void addStudent(Student student) {\n        System.out.println(&quot;Adding: &quot; + student);\n        attendees.add(student);\n    }\n    \n    public void displayAttendees() {\n        attendees.forEach(System.out::println);\n    }\n    \n    public String getClassName() {\n        return className;\n    }\n}\n</code></pre>\n<p>I also recommend <code>Lists</code> over <code>arrays</code> since they can grow dynamically thus eliminating the need to track indices or resize the array.</p>\n<p>Having said the above, here is how it might look;</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Student {\n    private String studentId;\n    private String stuName;\n    private String stuMajor;\n\n    public Student(String studentId, String stuName, String stuMajor) {\n        this.studentId = studentId;\n        this.stuName = stuName;\n        this.stuMajor = stuMajor;\n    }\n    public String getStudentId() {\n        return studentId;\n    }\n    public String getStuName() {\n        return stuName;\n    }\n    public String getStuMajor() {\n        return stuMajor;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Id: %s, Name: %s, Major: %s&quot;, studentId, stuName, stuMajor);\n    }\n}\n\npublic class AddStudentsDemo {\n\n    public static void main(String[] args) {\n        Class philosophy = new Class(&quot;philosophy&quot;);\n        philosophy.addStudent(new Student(&quot;1&quot;, &quot;Mary&quot;, &quot;Computer Science&quot; ));\n        philosophy.addStudent(new Student(&quot;2&quot;,  &quot;John&quot;, &quot;Engineering&quot; ));\n        philosophy.addStudent(new Student(&quot;3&quot;, &quot;Bob&quot;, &quot;History&quot; ));\n        philosophy.addStudent(new Student(&quot;4&quot;, &quot;Jill&quot;, &quot;Physics&quot; ));\n        philosophy.addStudent(new Student(&quot;5&quot;, &quot;Wendy&quot;, &quot;Sociology&quot; ));\n        System.out.println();\n        philosophy.displayAttendees();\n    }\n\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Adding: Id: 1, Name: Mary, Major: Computer Science\nAdding: Id: 2, Name: John, Major: Engineering\nAdding: Id: 3, Name: Bob, Major: History\nAdding: Id: 4, Name: Jill, Major: Physics\nAdding: Id: 5, Name: Wendy, Major: Sociology\n\nId: 1, Name: Mary, Major: Computer Science\nId: 2, Name: John, Major: Engineering\nId: 3, Name: Bob, Major: History\nId: 4, Name: Jill, Major: Physics\nId: 5, Name: Wendy, Major: Sociology\n</code></pre>\n"}],"owner":{"account_id":27944986,"reputation":3,"user_id":21340171,"display_name":"Numi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75735912,"answer_count":2,"score":-2,"last_activity_date":1678812941,"creation_date":1678804978,"question_id":75734640,"body_markdown":"\r\n```package week01.package1;\r\n\r\npublic class student {\r\n    public String studentId;\r\n    public String stuName;\r\n    public String stuMajor;\r\n    public String[] stuList;\r\n    private int stuCount = 0;\r\n\r\n    public student(String studentId, String stuName, String stuMajor) {\r\n        this.studentId = studentId;\r\n        this.stuName = stuName;\r\n        this.stuMajor = stuMajor;\r\n    }\r\n\r\n    public stuList() {\r\n        stuList = new String[10];\r\n    }\r\n\r\n    public void joinList(String s) {\r\n        stuList[stuCount++] = s;\r\n    }\r\n\r\n    public void displayStudents() {\r\n        for(int i = 0; i &lt; stuCount; i++) {\r\n            System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\r\n    }\r\n}\r\n```\r\n\r\nI am trying to create a method for adding students to an array by creating a method and then display them. However I am getting an error in my test file saying \r\n\r\n&quot;stuList cannot be resolved to a type. The method displayStudents() is undefined for the type String&quot;\r\n\r\nhere is my test.java file\r\n\r\n```\r\nimport week01.package1.student;\r\n\r\npublic class studentTest {\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main( String[] args ) { \r\n        student stu1 = new student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\r\n        String list = new stuList();\r\n        stu1.joinList(list);\r\n        list.displayStudents();\r\n    }\r\n}\r\n```","title":"adding string to array and displaying them","body":"<pre><code>\npublic class student {\n    public String studentId;\n    public String stuName;\n    public String stuMajor;\n    public String[] stuList;\n    private int stuCount = 0;\n\n    public student(String studentId, String stuName, String stuMajor) {\n        this.studentId = studentId;\n        this.stuName = stuName;\n        this.stuMajor = stuMajor;\n    }\n\n    public stuList() {\n        stuList = new String[10];\n    }\n\n    public void joinList(String s) {\n        stuList[stuCount++] = s;\n    }\n\n    public void displayStudents() {\n        for(int i = 0; i &lt; stuCount; i++) {\n            System.out.printf(&quot;Students #%d: &quot; + stuList[i] + &quot;\\n&quot;, i + 1);\n        }\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Id: %s Name: %s Major: %s&quot;, studentId, stuName, stuMajor);\n    }\n}\n</code></pre>\n<p>I am trying to create a method for adding students to an array by creating a method and then display them. However I am getting an error in my test file saying</p>\n<p>&quot;stuList cannot be resolved to a type. The method displayStudents() is undefined for the type String&quot;</p>\n<p>here is my test.java file</p>\n<pre><code>import week01.package1.student;\n\npublic class studentTest {\n    /**\n     * @param args\n     */\n    public static void main( String[] args ) { \n        student stu1 = new student(&quot;s123&quot;, &quot;John&quot;, &quot;IT&quot;);\n        String list = new stuList();\n        stu1.joinList(list);\n        list.displayStudents();\n    }\n}\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678826529,"post_id":75736165,"comment_id":133608275,"body_markdown":"What version of Java are you using?  Have you tried a more recent version?","body":"What version of Java are you using?  Have you tried a more recent version?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1678870618,"post_id":75736165,"comment_id":133615200,"body_markdown":"@VGR I am using Java 11.","body":"@VGR I am using Java 11."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678895931,"post_id":75736165,"comment_id":133622875,"body_markdown":"I’m looking at the source of sun.font.TrueTypeFont … unfortunately the code discards the stack trace information for that NullPointerException, so this is going to be quite difficult to troubleshoot.  I would try a different font;  there are many that look similar to Arial.","body":"I’m looking at the source of sun.font.TrueTypeFont … unfortunately the code discards the stack trace information for that NullPointerException, so this is going to be quite difficult to troubleshoot.  I would try a different font;  there are many that look similar to Arial."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1678964126,"post_id":75736165,"comment_id":133636436,"body_markdown":"@VGR The point is this issue happens with different fonts and it comes in an occasional way.","body":"@VGR The point is this issue happens with different fonts and it comes in an occasional way."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678973186,"post_id":75736165,"comment_id":133639166,"body_markdown":"It may very well be a bug in Java 11.  If you can use a later version (current version is 19, and Java 20 will be released next week), I would try that.","body":"It may very well be a bug in Java 11.  If you can use a later version (current version is 19, and Java 20 will be released next week), I would try that."}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678812862,"creation_date":1678812862,"question_id":75736165,"body_markdown":"I need to create a font from a file, but sometimes I get an unexpected exception. It is thrown really strange because I can try to load one file several times and in one moment this exception is fired.\r\nThe stacktrace of this one looks like the following:\r\n```\r\nCaused by: java.awt.FontFormatException: java.lang.NullPointerException\r\n\tat java.desktop/sun.font.TrueTypeFont.init(TrueTypeFont.java:614)\r\n\tat java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:219)\r\n\tat java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:199)\r\n\tat java.desktop/sun.font.SunFontManager.createFont2D(SunFontManager.java:2356)\r\n\tat java.desktop/java.awt.Font.&lt;init&gt;(Font.java:621)\r\n\tat java.desktop/java.awt.Font.createFont(Font.java:1225)\r\n```\r\nI try to load the font that way:\r\n```\r\npublic static void main(String ...args) {\r\n    File fontFile = new File(&quot;arial.ttf&quot;);\r\n    Font font = Font.createFont(Font.TRUETYPE_FONT, fontFile); // I get an exception on this line\r\n\r\n}\r\n```\r\nHow can I fix that and why this happens?","title":"What does java.awt.FontFormatException: java.lang.NullPointerException","body":"<p>I need to create a font from a file, but sometimes I get an unexpected exception. It is thrown really strange because I can try to load one file several times and in one moment this exception is fired.\nThe stacktrace of this one looks like the following:</p>\n<pre><code>Caused by: java.awt.FontFormatException: java.lang.NullPointerException\n    at java.desktop/sun.font.TrueTypeFont.init(TrueTypeFont.java:614)\n    at java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:219)\n    at java.desktop/sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:199)\n    at java.desktop/sun.font.SunFontManager.createFont2D(SunFontManager.java:2356)\n    at java.desktop/java.awt.Font.&lt;init&gt;(Font.java:621)\n    at java.desktop/java.awt.Font.createFont(Font.java:1225)\n</code></pre>\n<p>I try to load the font that way:</p>\n<pre><code>public static void main(String ...args) {\n    File fontFile = new File(&quot;arial.ttf&quot;);\n    Font font = Font.createFont(Font.TRUETYPE_FONT, fontFile); // I get an exception on this line\n\n}\n</code></pre>\n<p>How can I fix that and why this happens?</p>\n"},{"tags":["java","maven","selenium-webdriver","java-11"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678805237,"post_id":75734511,"comment_id":133602206,"body_markdown":"Don&#39;t touch idea.vmoptions for this, it&#39;s *only* for setting VM options for *the VM that runs IDEA*. That is entirely unrelated to anything that runs your code. Depending on how you launch your code you can either set the system property in the run confication (you might have to enable VM options explicitly in the dialog) or in your build tool configuration (Maven/Gradle).","body":"Don&#39;t touch idea.vmoptions for this, it&#39;s <i>only</i> for setting VM options for <i>the VM that runs IDEA</i>. That is entirely unrelated to anything that runs your code. Depending on how you launch your code you can either set the system property in the run confication (you might have to enable VM options explicitly in the dialog) or in your build tool configuration (Maven/Gradle)."},{"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"score":1,"creation_date":1678805304,"post_id":75734511,"comment_id":133602238,"body_markdown":"See if this helps: https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse","body":"See if this helps: <a href=\"https://stackoverflow.com/questions/29454494/set-java-system-properties-in-intellij-or-eclipse\" title=\"set java system properties in intellij or eclipse\">stackoverflow.com/questions/29454494/&hellip;</a>"},{"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"score":0,"creation_date":1678814054,"post_id":75734511,"comment_id":133604969,"body_markdown":"Thank you both. That allowed me to find the solution","body":"Thank you both. That allowed me to find the solution"}],"answers":[{"tags":[],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678812861,"creation_date":1678812861,"answer_id":75736164,"question_id":75734511,"body_markdown":"It was possible to set the system properties with use of Maven Surefire Plugin. Adding below to my pom file sorted it out and now all of the tests are running fine without setting up the property each time I run it. \r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;webdriver.http.factory&gt;jdk-http-client&lt;/webdriver.http.factory&gt;\r\n                        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n","title":"InteliJ - Is it possible to set System Property permanently?","body":"<p>It was possible to set the system properties with use of Maven Surefire Plugin. Adding below to my pom file sorted it out and now all of the tests are running fine without setting up the property each time I run it.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;webdriver.http.factory&gt;jdk-http-client&lt;/webdriver.http.factory&gt;\n                    &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678812861,"creation_date":1678804241,"question_id":75734511,"body_markdown":"I was having issues with running Selenium tests. I finally found a solution about adding an extra dependency and a line of code to be run before the tests as per https://stackoverflow.com/a/75722029/12865183\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n    &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nLine of code:\r\n\r\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\n\r\nFinally my current testing setup looks like that:\r\n\r\n\r\n    public class seleniumTest {\r\n\r\n    WebDriver driver;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n\r\n        System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n        driver = WebDriverManager.chromedriver().create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown(){\r\n        driver.quit();\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n    }\r\n\r\n    }\r\n\r\n\r\nI wanted to ask if there is a way to set the System property permanently? Meaning for the code not to need the System.setProperty bit each time it&#39;s run. \r\n\r\nI found the idea.vmoptions and idea.properties files within my InteliJ package contents (Using MacOS BigSur) but I am not sure what syntax would I use to set up System properties there and if it&#39;s possible at all. ","title":"InteliJ - Is it possible to set System Property permanently?","body":"<p>I was having issues with running Selenium tests. I finally found a solution about adding an extra dependency and a line of code to be run before the tests as per <a href=\"https://stackoverflow.com/a/75722029/12865183\">https://stackoverflow.com/a/75722029/12865183</a></p>\n<p>Dependency:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n&lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n</code></pre>\n<p>Finally my current testing setup looks like that:</p>\n<pre><code>public class seleniumTest {\n\nWebDriver driver;\n\n@BeforeEach\nvoid setup(){\n\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n    driver = WebDriverManager.chromedriver().create();\n}\n\n@AfterEach\nvoid teardown(){\n    driver.quit();\n}\n\n@Test\nvoid test(){\n}\n\n}\n</code></pre>\n<p>I wanted to ask if there is a way to set the System property permanently? Meaning for the code not to need the System.setProperty bit each time it's run.</p>\n<p>I found the idea.vmoptions and idea.properties files within my InteliJ package contents (Using MacOS BigSur) but I am not sure what syntax would I use to set up System properties there and if it's possible at all.</p>\n"},{"tags":["java","android-alertdialog","android-viewmodel","android-mvvm"],"answers":[{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1678812726,"post_id":75735926,"comment_id":133604593,"body_markdown":"Tnks for Answer. `showResult` is used to show dialog in actitvity/fragment. for example `MyAlertDialog.showResult(this)` will show an alert dialog.","body":"Tnks for Answer. <code>showResult</code> is used to show dialog in actitvity/fragment. for example <code>MyAlertDialog.showResult(this)</code> will show an alert dialog."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1678813981,"post_id":75735926,"comment_id":133604952,"body_markdown":"Unfortunately it doesn&#39;t show toast message! It also doesn&#39;t crashes. and is error-free.","body":"Unfortunately it doesn&#39;t show toast message! It also doesn&#39;t crashes. and is error-free."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678822571,"post_id":75735926,"comment_id":133607236,"body_markdown":"But `dialog` isn&#39;t declared in your sample code.","body":"But <code>dialog</code> isn&#39;t declared in your sample code."},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1678824752,"post_id":75735926,"comment_id":133607840,"body_markdown":"Yeah, I know, during minimizing the codes I forgot to declare it as `MyAlertDialog dialog = new MyAlertDialog ();`.","body":"Yeah, I know, during minimizing the codes I forgot to declare it as <code>MyAlertDialog dialog = new MyAlertDialog ();</code>."},{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1690394920,"post_id":75735926,"comment_id":135349062,"body_markdown":"@dominicoder: can one use `getParentFragment()` instead of `requireContext()` if the parent is a fragment? will this work?","body":"@dominicoder: can one use <code>getParentFragment()</code> instead of <code>requireContext()</code> if the parent is a fragment? will this work?"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1690400930,"post_id":75735926,"comment_id":135350126,"body_markdown":"No, because `requireContext()` returns a `Context` and `getParentFragment()` returns a `Fragment` which is not a `Context`.","body":"No, because <code>requireContext()</code> returns a <code>Context</code> and <code>getParentFragment()</code> returns a <code>Fragment</code> which is not a <code>Context</code>."}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678811373,"creation_date":1678811373,"answer_id":75735926,"question_id":75735643,"body_markdown":"You never initialize your dialog fragment view model. You need to get the same instance as the one being used in the hosting Activity or parent Fragment.\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        // Assumes requireContext() returns the Activity this dialog is shown in\r\n        mViewModel = new ViewModelProvider(requireContext()).get(AlertDialogViewModel.class)\r\n\r\n        return new MaterialAlertDialogBuilder(requireContext())\r\n                .setTitle(Title)\r\n                .setMessage(MESSAGE)\r\n                .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\r\n                .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\r\n                .create();\r\n    }\r\n\r\nThen make sure you&#39;re getting the same instance in your Fragment:\r\n\r\n    AlertDialogViewModel model = new ViewModelProvider(requireContenxt()).get(AlertDialogViewModel.class);\r\n    model.getAlertDialogResult().observe(this, result-&gt; {\r\n        Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\r\n    });\r\n\r\nLastly, what is `dialog` and why is this static?\r\n\r\n    private static void showResult(Framgment fragment) {\r\n       dialog.show(fragment.getParentFragmentManager(), null);\r\n    }","title":"How to send result of AlertDialog fragment using viewModel?","body":"<p>You never initialize your dialog fragment view model. You need to get the same instance as the one being used in the hosting Activity or parent Fragment.</p>\n<pre><code>@NonNull\n@Override\npublic Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n    // Assumes requireContext() returns the Activity this dialog is shown in\n    mViewModel = new ViewModelProvider(requireContext()).get(AlertDialogViewModel.class)\n\n    return new MaterialAlertDialogBuilder(requireContext())\n            .setTitle(Title)\n            .setMessage(MESSAGE)\n            .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\n            .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\n            .create();\n}\n</code></pre>\n<p>Then make sure you're getting the same instance in your Fragment:</p>\n<pre><code>AlertDialogViewModel model = new ViewModelProvider(requireContenxt()).get(AlertDialogViewModel.class);\nmodel.getAlertDialogResult().observe(this, result-&gt; {\n    Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\n});\n</code></pre>\n<p>Lastly, what is <code>dialog</code> and why is this static?</p>\n<pre><code>private static void showResult(Framgment fragment) {\n   dialog.show(fragment.getParentFragmentManager(), null);\n}\n</code></pre>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75735926,"answer_count":1,"score":1,"last_activity_date":1678812672,"creation_date":1678809931,"question_id":75735643,"body_markdown":"I have a custom dialog fragment that communicate to its parent using intent. (I&#39;ve copied it from somewhere). This uses old framework for communicating that some of its methods such as `onActivityResult`, `getTargetFragment()` has been deprecated now. \r\n\r\nI know that one can replace these deprecated methods with new methods e.g. https://stackoverflow.com/q/64869501/6576302\r\nbut going such long way just for getting a yes or no result?! \r\n\r\nIs there a simple way for doing this? I tried to use ViewModel but doesn&#39;t worked!\r\n\r\nMy ViewModel try: AlertDialogViewModel.java\r\n\r\n    import androidx.lifecycle.LiveData;\r\n    import androidx.lifecycle.MutableLiveData;\r\n    import androidx.lifecycle.ViewModel;\r\n    \r\n    public class AlertDialogViewModel extends ViewModel {\r\n    \r\n    \r\n        private final MutableLiveData&lt;Boolean&gt; mAlertDialogResult = new MutableLiveData();\r\n        public LiveData&lt;Boolean&gt; getAlertDialogResult() {\r\n            return mAlertDialogResult;\r\n        }\r\n        public void setAlertDialogResult(boolean mResult) {\r\n            mAlertDialogResult.setValue(mResult);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd inside of MyAlertDialog.java:\r\n\r\n    public class MyAlertDialog extends DialogFragment {\r\n    \r\n        AlertDialogViewModel mViewModel;\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n            return new MaterialAlertDialogBuilder(requireContext())\r\n                    .setTitle(Title)\r\n                    .setMessage(MESSAGE)\r\n                    .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\r\n                    .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\r\n                    .create();\r\n        }\r\n    \r\n        private void onResult(boolean result) {\r\n           mViewModel.setAlertDialogResult(result);\r\n        }\r\n        private static void showResult(Framgment fragment) {\r\n           dialog.show(fragment.getParentFragmentManager(), null);\r\n        }\r\n    }\r\n\r\n\r\nBut this doesn&#39;t work when I want toast it as:\r\n\r\n    MyAlertDialog.showResult(this)\r\n    AlertDialogViewModel model = new ViewModelProvider(this).get(AlertDialogViewModel.class);\r\n            model.getAlertDialogResult().observe(this, result-&gt; {\r\n                Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\r\n            });\r\n\r\n","title":"How to send result of AlertDialog fragment using viewModel?","body":"<p>I have a custom dialog fragment that communicate to its parent using intent. (I've copied it from somewhere). This uses old framework for communicating that some of its methods such as <code>onActivityResult</code>, <code>getTargetFragment()</code> has been deprecated now.</p>\n<p>I know that one can replace these deprecated methods with new methods e.g. <a href=\"https://stackoverflow.com/q/64869501/6576302\">How to replace setTargetFragment() now that it is deprecated</a>\nbut going such long way just for getting a yes or no result?!</p>\n<p>Is there a simple way for doing this? I tried to use ViewModel but doesn't worked!</p>\n<p>My ViewModel try: AlertDialogViewModel.java</p>\n<pre><code>import androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\npublic class AlertDialogViewModel extends ViewModel {\n\n\n    private final MutableLiveData&lt;Boolean&gt; mAlertDialogResult = new MutableLiveData();\n    public LiveData&lt;Boolean&gt; getAlertDialogResult() {\n        return mAlertDialogResult;\n    }\n    public void setAlertDialogResult(boolean mResult) {\n        mAlertDialogResult.setValue(mResult);\n    }\n\n\n}\n</code></pre>\n<p>And inside of MyAlertDialog.java:</p>\n<pre><code>public class MyAlertDialog extends DialogFragment {\n\n    AlertDialogViewModel mViewModel;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        return new MaterialAlertDialogBuilder(requireContext())\n                .setTitle(Title)\n                .setMessage(MESSAGE)\n                .setPositiveButton(&quot;YES&quot;, (d, b) -&gt; onResult(true))\n                .setNegativeButton(&quot;NO&quot;, (d, b) -&gt; onResult(false))\n                .create();\n    }\n\n    private void onResult(boolean result) {\n       mViewModel.setAlertDialogResult(result);\n    }\n    private static void showResult(Framgment fragment) {\n       dialog.show(fragment.getParentFragmentManager(), null);\n    }\n}\n</code></pre>\n<p>But this doesn't work when I want toast it as:</p>\n<pre><code>MyAlertDialog.showResult(this)\nAlertDialogViewModel model = new ViewModelProvider(this).get(AlertDialogViewModel.class);\n        model.getAlertDialogResult().observe(this, result-&gt; {\n            Toast(this, &quot;&quot;+result,Toast.LENGTH_SHORT).show();\n        });\n</code></pre>\n"},{"tags":["java","junit","parameters"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1414751806,"post_id":26672229,"comment_id":41945149,"body_markdown":"Looks like the wrong test runner is executing your task. We need to figure out why that is to solve this problem.","body":"Looks like the wrong test runner is executing your task. We need to figure out why that is to solve this problem."},{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":3,"creation_date":1414751985,"post_id":26672229,"comment_id":41945274,"body_markdown":"Are you sure your classes are all correctly compiled. Your exception mentions the `BlockJUnit4ClassRunner`, but a `Parameterized` is not a subclass of `BlockJUnit4ClassRunner`. See http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html. Seems that your compiled code does not contain `@RunWith (Parameterized. class)`","body":"Are you sure your classes are all correctly compiled. Your exception mentions the <code>BlockJUnit4ClassRunner</code>, but a <code>Parameterized</code> is not a subclass of <code>BlockJUnit4ClassRunner</code>. See <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">junit.sourceforge.net/javadoc/org/junit/runners/&hellip;</a>. Seems that your compiled code does not contain <code>@RunWith (Parameterized. class)</code>"},{"owner":{"account_id":4873291,"reputation":1258,"user_id":3929113,"accept_rate":36,"display_name":"Md Aslam"},"score":0,"creation_date":1414752118,"post_id":26672229,"comment_id":41945362,"body_markdown":"yes I tried with @RunWith (Parameterized. class),Now it shows java.lang.NullPointerException \tat com.kgfsl.collections.core.security.BaseRepositoryTest.getSession(BaseRepositoryTest.java:45) \tat com.kgfsl.collections.core.security.BaseRepositoryTest.setUp(BaseRepositoryTest.java:54) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"yes I tried with @RunWith (Parameterized. class),Now it shows java.lang.NullPointerException \tat com.kgfsl.collections.core.security.BaseRepositoryTest.getSe&zwnj;&#8203;ssion(BaseRepository&zwnj;&#8203;Test.java:45) \tat com.kgfsl.collections.core.security.BaseRepositoryTest.setUp&zwnj;&#8203;(BaseRepositoryTest.&zwnj;&#8203;java:54) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1414753192,"post_id":26672229,"comment_id":41945952,"body_markdown":"@Duncan: My answer was surely based on a basic java knowledge :\n[Java Constructors-Note](http://www.javabeginner.com/learn-java/java-constructors), See the Note.\n\nIf a class defines an explicit constructor, it no longer has a default constructor to set the state of the objects.\nIf such a class requires a default constructor, its implementation must be provided. Any attempt to call the default constructor will be a compile time error if an explicit default constructor is not provided in such a case.","body":"@Duncan: My answer was surely based on a basic java knowledge : <a href=\"http://www.javabeginner.com/learn-java/java-constructors\" rel=\"nofollow noreferrer\">Java Constructors-Note</a>, See the Note.  If a class defines an explicit constructor, it no longer has a default constructor to set the state of the objects. If such a class requires a default constructor, its implementation must be provided. Any attempt to call the default constructor will be a compile time error if an explicit default constructor is not provided in such a case."},{"owner":{"account_id":4983556,"reputation":360,"user_id":4007820,"accept_rate":75,"display_name":"Arun Prasad"},"score":0,"creation_date":1470130130,"post_id":26672229,"comment_id":64809614,"body_markdown":"@Ren&#233;Link it perfectly works for me rene. thanks for the solution","body":"@Ren&#233;Link it perfectly works for me rene. thanks for the solution"}],"answers":[{"comments":[{"owner":{"account_id":3870209,"reputation":752,"user_id":3205660,"display_name":"Alexis Hassler"},"score":0,"creation_date":1414754213,"post_id":26672907,"comment_id":41946542,"body_markdown":"Would be even better in a Rule","body":"Would be even better in a Rule"},{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1414754701,"post_id":26672907,"comment_id":41946797,"body_markdown":"@AlexisHassler Yes it would be. The problem with a `Rule` is that you can&#39;t easily get the test instance and you need it for the `testContextManager.prepareTestInstance(this);`","body":"@AlexisHassler Yes it would be. The problem with a <code>Rule</code> is that you can&#39;t easily get the test instance and you need it for the <code>testContextManager.prepareTestInstance(this);</code>"},{"owner":{"account_id":4873291,"reputation":1258,"user_id":3929113,"accept_rate":36,"display_name":"Md Aslam"},"score":0,"creation_date":1414755562,"post_id":26672907,"comment_id":41947259,"body_markdown":"Yeah I tried this code but i got error like java.lang.NullPointerException at com.kgfsl.collections.core.security.BaseRepositoryTest.getSession(BaseRepository‌​Test.java:45) at com.kgfsl.collections.core.security.BaseRepositoryTest.setUp(BaseRepositoryTest.‌​java:54) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"Yeah I tried this code but i got error like java.lang.NullPointerException at com.kgfsl.collections.core.security.BaseRepositoryTest.getSe&zwnj;&#8203;ssion(BaseRepository&zwnj;&#8203;‌​Test.java:45) at com.kgfsl.collections.core.security.BaseRepositoryTest.setUp&zwnj;&#8203;(BaseRepositoryTest.&zwnj;&#8203;‌​java:54) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)"},{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1414769725,"post_id":26672907,"comment_id":41955568,"body_markdown":"@MdAslam Did you try `@Autowired` instead of `@Inject`?","body":"@MdAslam Did you try <code>@Autowired</code> instead of <code>@Inject</code>?"}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1414754068,"creation_date":1414752749,"answer_id":26672907,"question_id":26672229,"body_markdown":"I think the problem is that you defined two test runners. One by yourself `@RunWith (Parameterized. class)` and one that comes with  spring, because an `AbstractJUnit4SpringContextTests ` defines a `@RunWith(SpringJUnit4ClassRunner.class)`.\r\n\r\nSince Junit can only deal with one `@RunWith` you can only use `@Parameterized` or `AbstractJUnit4SpringContextTests`. If you want to use both you have to use `@Parameterized` and than do the same logic that a `SpringJUnit4ClassRunner` does on your own.\r\n\r\nA simple approach can be to just use spring&#39;s `org.springframework.test.context.TestContextManager`. \r\n \r\n   \t@RunWith(Parameterized.class)\r\n\t@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\n\tpublic abstract class BaseRepositoryTest extends AbstractJUnit4SpringContextTests {\r\n\t\t \r\n\t\tprivate TestContextManager testContextManager;\r\n\t\t \r\n\t\t@Before\r\n\t\tpublic void setUpContext() throws Exception {\r\n\t\t\tthis.testContextManager = new TestContextManager(getClass());\r\n\t\t\tthis.testContextManager.prepareTestInstance(this);\r\n\t\t}\r\n\t\t \r\n\t}\r\n\r\nBut this only ensures that the `TestExecutionListener`s are invoked. Spring normally does a lot more like application context caching and so on. Also a tear down method should be implemented that closes the application context.\r\n\r\n    ","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I think the problem is that you defined two test runners. One by yourself <code>@RunWith (Parameterized. class)</code> and one that comes with  spring, because an <code>AbstractJUnit4SpringContextTests</code> defines a <code>@RunWith(SpringJUnit4ClassRunner.class)</code>.</p>\n\n<p>Since Junit can only deal with one <code>@RunWith</code> you can only use <code>@Parameterized</code> or <code>AbstractJUnit4SpringContextTests</code>. If you want to use both you have to use <code>@Parameterized</code> and than do the same logic that a <code>SpringJUnit4ClassRunner</code> does on your own.</p>\n\n<p>A simple approach can be to just use spring's <code>org.springframework.test.context.TestContextManager</code>. </p>\n\n<pre><code>@RunWith(Parameterized.class)\n@ContextConfiguration(locations = {\"classpath:applicationContext.xml\"})\npublic abstract class BaseRepositoryTest extends AbstractJUnit4SpringContextTests {\n\n    private TestContextManager testContextManager;\n\n    @Before\n    public void setUpContext() throws Exception {\n        this.testContextManager = new TestContextManager(getClass());\n        this.testContextManager.prepareTestInstance(this);\n    }\n\n}\n</code></pre>\n\n<p>But this only ensures that the <code>TestExecutionListener</code>s are invoked. Spring normally does a lot more like application context caching and so on. Also a tear down method should be implemented that closes the application context.</p>\n"},{"comments":[{"owner":{"account_id":356336,"reputation":6428,"user_id":695787,"accept_rate":50,"display_name":"Jameson"},"score":0,"creation_date":1489002540,"post_id":37467856,"comment_id":72485410,"body_markdown":"Yes! This was me! Thanks. Needed to add `Test` to the end of my test invocation command.","body":"Yes! This was me! Thanks. Needed to add <code>Test</code> to the end of my test invocation command."},{"owner":{"account_id":3530228,"reputation":5982,"user_id":2950032,"display_name":"maazadeeb"},"score":0,"creation_date":1677888268,"post_id":37467856,"comment_id":133432743,"body_markdown":"This happened with me when I was using a pattern to find the list of tests. I had `**/*FooTest*`, and `FooTest` had a couple of other nested classes defined inside it. So, the matcher ended up finding `FooTest$InnerClass` and was trying to run it as a test. Fixed by changing to `**/*FooTest.class`","body":"This happened with me when I was using a pattern to find the list of tests. I had <code>**&#47;*FooTest*</code>, and <code>FooTest</code> had a couple of other nested classes defined inside it. So, the matcher ended up finding <code>FooTest$InnerClass</code> and was trying to run it as a test. Fixed by changing to <code>**&#47;*FooTest.class</code>"}],"tags":[],"owner":{"account_id":1328141,"reputation":1411,"user_id":1272545,"accept_rate":48,"display_name":"Ezra"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1464285068,"creation_date":1464285068,"answer_id":37467856,"question_id":26672229,"body_markdown":"If you&#39;re running a single test, make sure that you wrote your test class name correctly\r\n\r\nA common mistake that I do is to have a class named &#39;Foo&#39; and a test class named \r\n\r\n&gt; &#39;FooTest&#39;\r\n\r\n and run a single unit test with \r\n\r\n&gt; &#39;Foo&#39;\r\n\r\n instead of &#39;FooTest&#39;\r\n\r\nIf &#39;Foo&#39; has a public constructor with arguments I get the error:\r\n\r\n  \r\n\r\n    java.lang.Exception: Test class should have exactly one public zero-argument constructor\r\n\r\n","title":"Test class should have exactly one public zero-argument constructor","body":"<p>If you're running a single test, make sure that you wrote your test class name correctly</p>\n\n<p>A common mistake that I do is to have a class named 'Foo' and a test class named </p>\n\n<blockquote>\n  <p>'FooTest'</p>\n</blockquote>\n\n<p>and run a single unit test with </p>\n\n<blockquote>\n  <p>'Foo'</p>\n</blockquote>\n\n<p>instead of 'FooTest'</p>\n\n<p>If 'Foo' has a public constructor with arguments I get the error:</p>\n\n<pre><code>java.lang.Exception: Test class should have exactly one public zero-argument constructor\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10447957,"reputation":329,"user_id":7702483,"display_name":"tyrantqiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492786432,"creation_date":1492786432,"answer_id":43545827,"question_id":26672229,"body_markdown":"I have got one answer,it fix on my machine\r\nJUnit4 -&gt; when u check the exception\r\n\r\n     org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor(BlockJUnit4ClassRunner.java:171)\r\n\t org.junit.runners.BlockJUnit4ClassRunner.validateConstructor(BlockJUnit4ClassRunner.java:148)\r\n\r\nget inside to first exception\r\n\r\n    protected void validateZeroArgConstructor(List&lt;Throwable&gt; errors) {\r\n        if(!this.getTestClass().isANonStaticInnerClass() &amp;&amp; this.hasOneConstructor() &amp;&amp; this.getTestClass().getOnlyConstructor().getParameterTypes().length != 0) {\r\n            String gripe = &quot;Test class should have exactly one public zero-argument constructor&quot;;\r\n            errors.add(new Exception(gripe));\r\n        }\r\n\r\n    }\r\nit will check your constructor is none-parameters or not\r\nTry setter injection or field(-&gt;field is not recommended officially)","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I have got one answer,it fix on my machine\nJUnit4 -> when u check the exception</p>\n\n<pre><code> org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor(BlockJUnit4ClassRunner.java:171)\n org.junit.runners.BlockJUnit4ClassRunner.validateConstructor(BlockJUnit4ClassRunner.java:148)\n</code></pre>\n\n<p>get inside to first exception</p>\n\n<pre><code>protected void validateZeroArgConstructor(List&lt;Throwable&gt; errors) {\n    if(!this.getTestClass().isANonStaticInnerClass() &amp;&amp; this.hasOneConstructor() &amp;&amp; this.getTestClass().getOnlyConstructor().getParameterTypes().length != 0) {\n        String gripe = \"Test class should have exactly one public zero-argument constructor\";\n        errors.add(new Exception(gripe));\n    }\n\n}\n</code></pre>\n\n<p>it will check your constructor is none-parameters or not\nTry setter injection or field(->field is not recommended officially)</p>\n"},{"tags":[],"owner":{"account_id":14854715,"reputation":51,"user_id":10727580,"display_name":"Mar&#237;a Navarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543579412,"creation_date":1543579412,"answer_id":53557214,"question_id":26672229,"body_markdown":"This error is thrown when your class is not defined as public\r\nIn your case it is abstract, so it can not be instantiate for testing propouses","title":"Test class should have exactly one public zero-argument constructor","body":"<p>This error is thrown when your class is not defined as public\nIn your case it is abstract, so it can not be instantiate for testing propouses</p>\n"},{"tags":[],"owner":{"account_id":4592920,"reputation":578,"user_id":3725760,"accept_rate":10,"display_name":"Pruthviraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551334981,"creation_date":1551334981,"answer_id":54919604,"question_id":26672229,"body_markdown":"Try removing constructor from **MyParameterizedClassTest** class.\r\n\r\nI was getting this error when my test class had a public constructor. After removing, it started working.","title":"Test class should have exactly one public zero-argument constructor","body":"<p>Try removing constructor from <strong>MyParameterizedClassTest</strong> class.</p>\n\n<p>I was getting this error when my test class had a public constructor. After removing, it started working.</p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1678812310,"creation_date":1582637776,"answer_id":60395910,"question_id":26672229,"body_markdown":"## JUnit 4 vs Jupiter - Wrong import may be causing the problem\r\n\r\n**TL;DR** import `org.junit.jupiter.api.Test` instead of `org.junit.Test`\r\n\r\n_____\r\nI had this issue when I imported the wrong `Test` class.\r\n\r\nWhile a constructor was using JUnit 5 features, I imported the old `org.junit.Test` rather than `org.junit.jupiter.api.Test`.\r\n\r\n","title":"Test class should have exactly one public zero-argument constructor","body":"<h2>JUnit 4 vs Jupiter - Wrong import may be causing the problem</h2>\n<p><strong>TL;DR</strong> import <code>org.junit.jupiter.api.Test</code> instead of <code>org.junit.Test</code></p>\n<hr />\n<p>I had this issue when I imported the wrong <code>Test</code> class.</p>\n<p>While a constructor was using JUnit 5 features, I imported the old <code>org.junit.Test</code> rather than <code>org.junit.jupiter.api.Test</code>.</p>\n"}],"owner":{"account_id":4873291,"reputation":1258,"user_id":3929113,"accept_rate":36,"display_name":"Md Aslam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88352,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1678812310,"creation_date":1414750607,"question_id":26672229,"body_markdown":"I have written a test class, such that is following \r\n\r\n    public class MyParameterizedClassTest extends BaseRepositoryTest {\r\n\t\tprivate int multiplierA;\r\n\t\tprivate int multiplierB;\r\n\t\tpublic MyParameterizedClassTest(int multiplierA) {\r\n\t\t\tthis.multiplierA = multiplierA;\r\n\r\n\t\t}\t\r\n\t\t\t\t\r\n\t    @Parameters\r\n\t    public static Collection&lt;Object[]&gt; data() {\t\r\n\t\t    Object[][] data = new Object[][] { { 1 }, { 5 }, { 121 } };\r\n\t\t    return Arrays.asList(data);\r\n\t    }\r\n\r\n\t    @Test\r\n\t    public void testMultiplyException() {\r\n\t\t    assertEquals(&quot;Result&quot;, multiplierA * multiplierA,multiply(multiplierA));\r\n\t    }\r\n\t\r\n\t    public int multiply(int a){\r\n            return a*a;\r\n\t    }\r\n     }\r\n\r\nAnd My BaseRepositoryTest class is following\r\n\r\n    @RunWith (Parameterized.class)\r\n    @ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\n    public abstract class BaseRepositoryTest extends\r\n\t\tAbstractJUnit4SpringContextTests {\r\n\r\n\t\r\n\t\r\n\t    @Inject\r\n\t    SessionFactory sessionFactory;\r\n\r\n\t    private Transaction transaction;\r\n\r\n\t    public Session getSession() {\r\n\t\t    Session session;\r\n\t\t    try {\r\n\t\t\t    session = sessionFactory.getCurrentSession();\r\n\t\t    } catch (SessionException se) {\r\n\t\t\t    session = sessionFactory.openSession();\r\n\t\t    }\r\n\t\t    return session;\r\n\t    }\r\n\r\n\t    @Before\r\n\t    public void setUp() throws Exception {\r\n\t\t    transaction = getSession().beginTransaction();\r\n\t    }\r\n\r\n\t    @After\r\n\t    public void tearDown() throws Exception {\r\n\t\t    if (transaction != null) {\r\n                transaction.rollback();\r\n            }\r\n            getSession().close();\r\n\t    }\r\n\t\r\n\t    @Before\r\n\t    public void baseSetUp() {\r\n\t\t    MockitoAnnotations.initMocks(this);\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nWhen I run my test class it shows like,\r\n\r\n     Test class should have exactly one public zero-argument constructor:at \r\n     org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor\r\n\r\nI want to make a test method with @parameters,so please  Can anyone please help to find the solution","title":"Test class should have exactly one public zero-argument constructor","body":"<p>I have written a test class, such that is following </p>\n\n<pre><code>public class MyParameterizedClassTest extends BaseRepositoryTest {\n    private int multiplierA;\n    private int multiplierB;\n    public MyParameterizedClassTest(int multiplierA) {\n        this.multiplierA = multiplierA;\n\n    }   \n\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() { \n        Object[][] data = new Object[][] { { 1 }, { 5 }, { 121 } };\n        return Arrays.asList(data);\n    }\n\n    @Test\n    public void testMultiplyException() {\n        assertEquals(\"Result\", multiplierA * multiplierA,multiply(multiplierA));\n    }\n\n    public int multiply(int a){\n        return a*a;\n    }\n }\n</code></pre>\n\n<p>And My BaseRepositoryTest class is following</p>\n\n<pre><code>@RunWith (Parameterized.class)\n@ContextConfiguration(locations = {\"classpath:applicationContext.xml\"})\npublic abstract class BaseRepositoryTest extends\n    AbstractJUnit4SpringContextTests {\n\n\n\n    @Inject\n    SessionFactory sessionFactory;\n\n    private Transaction transaction;\n\n    public Session getSession() {\n        Session session;\n        try {\n            session = sessionFactory.getCurrentSession();\n        } catch (SessionException se) {\n            session = sessionFactory.openSession();\n        }\n        return session;\n    }\n\n    @Before\n    public void setUp() throws Exception {\n        transaction = getSession().beginTransaction();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        if (transaction != null) {\n            transaction.rollback();\n        }\n        getSession().close();\n    }\n\n    @Before\n    public void baseSetUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n\n<p>When I run my test class it shows like,</p>\n\n<pre><code> Test class should have exactly one public zero-argument constructor:at \n org.junit.runners.BlockJUnit4ClassRunner.validateZeroArgConstructor\n</code></pre>\n\n<p>I want to make a test method with @parameters,so please  Can anyone please help to find the solution</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":3,"creation_date":1678123296,"post_id":75653833,"comment_id":133468496,"body_markdown":"You could replace obscene words with neutral ones in your example. It does not affect the actual results.","body":"You could replace obscene words with neutral ones in your example. It does not affect the actual results."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678124928,"post_id":75653833,"comment_id":133468972,"body_markdown":"StringUtils is not needed here.  The String class has its own [repeat](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#repeat(int)) method.  Just use `&quot;*&quot;.repeat(keyword.length())`.","body":"StringUtils is not needed here.  The String class has its own <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">repeat</a> method.  Just use <code>&quot;*&quot;.repeat(keyword.length())</code>."}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678811753,"creation_date":1678811753,"answer_id":75735986,"question_id":75653833,"body_markdown":"You can use\r\n```\r\npublic static String maskKeywordData(String data, List&lt;String&gt; keywords) {\r\n\tfor (String keyword : keywords) {\r\n\t\tString insensitiveWord = &quot;(?i)\\\\b&quot; + keyword;\r\n\t\tdata = data.replaceAll(insensitiveWord, &quot;*&quot;.repeat(keyword.length()));\r\n\t}\r\n\treturn data;\r\n}\r\n```\r\nIts only downside is, in the list, for `$` you have to use`\\\\$` in the word, like `a$$` will be `a\\\\$\\\\$` in the list for the above code to run.\\\r\nReason is, `\\\\b` is word boundary which checks for `(^ \\w|\\w $|\\W \\w|\\w \\W)`, due to which the word a$$ is not taken.\\\r\nOutput by the above code:\\\r\n`Hello ******* with **** and *****`","title":"How to replace word with special character from string in java?","body":"<p>You can use</p>\n<pre><code>public static String maskKeywordData(String data, List&lt;String&gt; keywords) {\n    for (String keyword : keywords) {\n        String insensitiveWord = &quot;(?i)\\\\b&quot; + keyword;\n        data = data.replaceAll(insensitiveWord, &quot;*&quot;.repeat(keyword.length()));\n    }\n    return data;\n}\n</code></pre>\n<p>Its only downside is, in the list, for <code>$</code> you have to use<code>\\\\$</code> in the word, like <code>a$$</code> will be <code>a\\\\$\\\\$</code> in the list for the above code to run.<br />\nReason is, <code>\\\\b</code> is word boundary which checks for <code>(^ \\w|\\w $|\\W \\w|\\w \\W)</code>, due to which the word a$$ is not taken.<br />\nOutput by the above code:<br />\n<code>Hello ******* with **** and *****</code></p>\n"}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75735986,"answer_count":1,"score":-3,"last_activity_date":1678811753,"creation_date":1678122805,"question_id":75653833,"body_markdown":"I am writing a method that should replace all words which match with ones from the list with &#39;****&#39;.\r\n\r\nSo far I have code that works fine with strings without special characters but all string with special characters are ignoring.\r\n\r\nHere&#39;s the code I have so far:\r\n\r\n```\r\npublic static String maskKeywordData(String data, List&lt;String&gt; keywords) {\r\n  for (String keyword: keywords) {\r\n\t\t\tString insensitiveWord = &quot;(?i)\\\\b&quot; + keyword + &quot;\\\\b&quot;;\r\n\t\t\tdata = data.replaceAll(insensitiveWord, StringUtils.repeat(&quot;*&quot;, keyword.length()));\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n```\r\nE.g. I have a list of keywords [&#39;c.u.n.t&#39;, &#39;a$$&#39;, &#39;bitch&#39;].\r\n\r\nInput : &quot;Hello c.u.n.t with a$$ and bitch&quot;\r\n\r\nExpected output : &quot;Hello ******* with *** and *****&quot;","title":"How to replace word with special character from string in java?","body":"<p>I am writing a method that should replace all words which match with ones from the list with '****'.</p>\n<p>So far I have code that works fine with strings without special characters but all string with special characters are ignoring.</p>\n<p>Here's the code I have so far:</p>\n<pre><code>public static String maskKeywordData(String data, List&lt;String&gt; keywords) {\n  for (String keyword: keywords) {\n            String insensitiveWord = &quot;(?i)\\\\b&quot; + keyword + &quot;\\\\b&quot;;\n            data = data.replaceAll(insensitiveWord, StringUtils.repeat(&quot;*&quot;, keyword.length()));\n        }\n        return data;\n    }\n</code></pre>\n<p>E.g. I have a list of keywords ['c.u.n.t', 'a$$', 'bitch'].</p>\n<p>Input : &quot;Hello c.u.n.t with a$$ and bitch&quot;</p>\n<p>Expected output : &quot;Hello ******* with *** and *****&quot;</p>\n"},{"tags":["java","dependency-injection"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1678812136,"post_id":75735975,"comment_id":133604416,"body_markdown":"&quot;*or just stay as a null*&quot; This one. For DI to happen, the DI container needs to instantiate it. It ain&#39;t magic. It has no way to magically intercept your ctor invocation.","body":"&quot;<i>or just stay as a null</i>&quot; This one. For DI to happen, the DI container needs to instantiate it. It ain&#39;t magic. It has no way to magically intercept your ctor invocation."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678812168,"post_id":75735975,"comment_id":133604430,"body_markdown":"&quot;*I have no chance to change runJobs function*&quot; Then it can&#39;t possibly work. `MyJob` will have to work without `MyService`.","body":"&quot;<i>I have no chance to change runJobs function</i>&quot; Then it can&#39;t possibly work. <code>MyJob</code> will have to work without <code>MyService</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678812319,"post_id":75735975,"comment_id":133604479,"body_markdown":"If you can&#39;t change the `runJobs` method, then you&#39;ll have to instantiate the `MyService` yourself inside the constructor. With &quot;regular&quot; CDI you could try using `CDI.current().select(MyService.class).get()` to replace the injection. For Quarkus use `Arc.container().instance(MyService.class).get()` instead.","body":"If you can&#39;t change the <code>runJobs</code> method, then you&#39;ll have to instantiate the <code>MyService</code> yourself inside the constructor. With &quot;regular&quot; CDI you could try using <code>CDI.current().select(MyService.class).get()</code> to replace the injection. For Quarkus use <code>Arc.container().instance(MyService.class).get()</code> instead."}],"owner":{"account_id":1125793,"reputation":434,"user_id":1113111,"accept_rate":14,"display_name":"yeulucay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678811721,"creation_date":1678811721,"question_id":75735975,"body_markdown":"I&#39;ve a Job class which has 2 parameters in its constructor. I want to inject a service class inside. As far as I know, there should be a default constructor in order to inject an object with **@Inject** annotation. But my job class is called with **new** keyword somewhere I have no permission to edit. Example is below:\r\n\r\n    class MyJob {\r\n    \r\n        @Inject\r\n        private MyService myService;\r\n    \r\n        public MyJob(String myParam, String otherParam){\r\n             // params are important and should be provided by caller\r\n        }\r\n    }\r\n    \r\n    class MyService {\r\n        void doFunc() {...}\r\n    }\r\n    \r\n    // code block that I cannot edit\r\n    // this function is placed into a JobRunner class\r\n    void runJobs() {\r\n        MyJob myJob = new MyJob(param1, param2);\r\n    // rest of the code\r\n    }\r\n\r\nIf I create a default constructor in `MyJob` class, when it&#39;s initialized inside the `runJobs` function with parameters, Is MyService injected successfully or just stay as a null?\r\nWhat is the best practice for this kind of a case? (I have no chance to change runJobs function)\r\n\r\n\r\n\r\n","title":"Java @Inject with constructor with parameters","body":"<p>I've a Job class which has 2 parameters in its constructor. I want to inject a service class inside. As far as I know, there should be a default constructor in order to inject an object with <strong>@Inject</strong> annotation. But my job class is called with <strong>new</strong> keyword somewhere I have no permission to edit. Example is below:</p>\n<pre><code>class MyJob {\n\n    @Inject\n    private MyService myService;\n\n    public MyJob(String myParam, String otherParam){\n         // params are important and should be provided by caller\n    }\n}\n\nclass MyService {\n    void doFunc() {...}\n}\n\n// code block that I cannot edit\n// this function is placed into a JobRunner class\nvoid runJobs() {\n    MyJob myJob = new MyJob(param1, param2);\n// rest of the code\n}\n</code></pre>\n<p>If I create a default constructor in <code>MyJob</code> class, when it's initialized inside the <code>runJobs</code> function with parameters, Is MyService injected successfully or just stay as a null?\nWhat is the best practice for this kind of a case? (I have no chance to change runJobs function)</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1678808621,"post_id":75735290,"comment_id":133603292,"body_markdown":"Can you share a [mcve]?","body":"Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678811696,"creation_date":1678811696,"answer_id":75735972,"question_id":75735290,"body_markdown":"This is a problem in your environment/IDE. I copied your code and it worked perfectly:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import com.google.gson.Gson;\r\n    \r\n    public class EmailPOJO {\r\n        private Integer ID;\r\n        private String sender;\r\n        private List&lt;String&gt; receivers;\r\n        private String subject;\r\n        private String content;\r\n        private String sendDate;\r\n        private Boolean deleted;\r\n    \r\n        \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tEmailPOJO emailPOJO = new EmailPOJO();\r\n    \t\temailPOJO.setID(5);\r\n    \t\temailPOJO.setContent(&quot;content, more content&quot;);\r\n    \t\temailPOJO.setDeleted(false);\r\n    \t\temailPOJO.setReceivers(Arrays.asList(new String[]{&quot;receiver1&quot;, &quot;receiver2&quot;}));\r\n    \t\temailPOJO.setSendDate(&quot;2023-03-14&quot;);;\r\n    \t\temailPOJO.setSender(&quot;sender&quot;);;\r\n    \t\temailPOJO.setSubject(&quot;subject&quot;);;\r\n    \t\tSystem.out.println(&quot;trasforming into json&quot;);\r\n    \t\tString emailJson = new Gson().toJson(emailPOJO);\r\n    \t\tSystem.out.println(&quot;json: &quot;+emailJson);\r\n    \t}\r\n    \r\n        public Integer getID () {\r\n            return ID;\r\n        }\r\n    \r\n        public void setID (Integer ID) {\r\n            this.ID = ID;\r\n        }\r\n    \r\n        public String getSender () {\r\n            return sender;\r\n        }\r\n    \r\n        public void setSender (String sender) {\r\n            this.sender = sender;\r\n        }\r\n    \r\n        public List&lt;String&gt; getReceivers () {\r\n            return receivers;\r\n        }\r\n    \r\n        public void setReceivers (List&lt;String&gt; receivers) {\r\n            this.receivers = receivers;\r\n        }\r\n    \r\n        public String getSubject () {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject (String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public String getContent () {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent (String content) {\r\n            this.content = content;\r\n        }\r\n    \r\n        public String getSendDate () {\r\n            return sendDate;\r\n        }\r\n    \r\n        public void setSendDate (String sendDate) {\r\n            this.sendDate = sendDate;\r\n        }\r\n    \r\n        public Boolean getDeleted () {\r\n            return deleted;\r\n        }\r\n    \r\n        public void setDeleted (Boolean deleted) {\r\n            this.deleted = deleted;\r\n        }\r\n    \r\n        @Override\r\n        public String toString () {\r\n            return &quot;EmailPOJO{&quot; +\r\n                    &quot;ID=&quot; + ID +\r\n                    &quot;, sender=&#39;&quot; + sender + &#39;\\&#39;&#39; +\r\n                    &quot;, receivers=&quot; + receivers +\r\n                    &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                    &quot;, content=&#39;&quot; + content + &#39;\\&#39;&#39; +\r\n                    &quot;, sendDate=&#39;&quot; + sendDate + &#39;\\&#39;&#39; +\r\n                    &quot;, deleted=&quot; + deleted +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nGson version:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.10.1&lt;/version&gt; \r\n\t&lt;/dependency&gt;\r\n\r\nOutput:\r\n\r\n    trasforming into json\r\n    json: {&quot;ID&quot;:5,&quot;sender&quot;:&quot;sender&quot;,&quot;receivers&quot;:[&quot;receiver1&quot;,&quot;receiver2&quot;],&quot;subject&quot;:&quot;subject&quot;,&quot;content&quot;:&quot;content, more content&quot;,&quot;sendDate&quot;:&quot;2023-03-14&quot;,&quot;deleted&quot;:false}\r\n\r\n\r\n","title":"JSON conversion does not work as expected","body":"<p>This is a problem in your environment/IDE. I copied your code and it worked perfectly:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nimport com.google.gson.Gson;\n\npublic class EmailPOJO {\n    private Integer ID;\n    private String sender;\n    private List&lt;String&gt; receivers;\n    private String subject;\n    private String content;\n    private String sendDate;\n    private Boolean deleted;\n\n    \n    public static void main(String[] args) {\n\n        EmailPOJO emailPOJO = new EmailPOJO();\n        emailPOJO.setID(5);\n        emailPOJO.setContent(&quot;content, more content&quot;);\n        emailPOJO.setDeleted(false);\n        emailPOJO.setReceivers(Arrays.asList(new String[]{&quot;receiver1&quot;, &quot;receiver2&quot;}));\n        emailPOJO.setSendDate(&quot;2023-03-14&quot;);;\n        emailPOJO.setSender(&quot;sender&quot;);;\n        emailPOJO.setSubject(&quot;subject&quot;);;\n        System.out.println(&quot;trasforming into json&quot;);\n        String emailJson = new Gson().toJson(emailPOJO);\n        System.out.println(&quot;json: &quot;+emailJson);\n    }\n\n    public Integer getID () {\n        return ID;\n    }\n\n    public void setID (Integer ID) {\n        this.ID = ID;\n    }\n\n    public String getSender () {\n        return sender;\n    }\n\n    public void setSender (String sender) {\n        this.sender = sender;\n    }\n\n    public List&lt;String&gt; getReceivers () {\n        return receivers;\n    }\n\n    public void setReceivers (List&lt;String&gt; receivers) {\n        this.receivers = receivers;\n    }\n\n    public String getSubject () {\n        return subject;\n    }\n\n    public void setSubject (String subject) {\n        this.subject = subject;\n    }\n\n    public String getContent () {\n        return content;\n    }\n\n    public void setContent (String content) {\n        this.content = content;\n    }\n\n    public String getSendDate () {\n        return sendDate;\n    }\n\n    public void setSendDate (String sendDate) {\n        this.sendDate = sendDate;\n    }\n\n    public Boolean getDeleted () {\n        return deleted;\n    }\n\n    public void setDeleted (Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    @Override\n    public String toString () {\n        return &quot;EmailPOJO{&quot; +\n                &quot;ID=&quot; + ID +\n                &quot;, sender='&quot; + sender + '\\'' +\n                &quot;, receivers=&quot; + receivers +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, content='&quot; + content + '\\'' +\n                &quot;, sendDate='&quot; + sendDate + '\\'' +\n                &quot;, deleted=&quot; + deleted +\n                '}';\n    }\n}\n</code></pre>\n<p>Gson version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>trasforming into json\njson: {&quot;ID&quot;:5,&quot;sender&quot;:&quot;sender&quot;,&quot;receivers&quot;:[&quot;receiver1&quot;,&quot;receiver2&quot;],&quot;subject&quot;:&quot;subject&quot;,&quot;content&quot;:&quot;content, more content&quot;,&quot;sendDate&quot;:&quot;2023-03-14&quot;,&quot;deleted&quot;:false}\n</code></pre>\n"}],"owner":{"account_id":28015766,"reputation":3,"user_id":21397541,"display_name":"ramaerik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735972,"answer_count":1,"score":0,"last_activity_date":1678811696,"creation_date":1678808206,"question_id":75735290,"body_markdown":"The program stops when it encounters the command new Gson().toJson(emailPOJO);\r\nSimple strings work so probably the problem is the Object emailPOJO, but I searching online I did not find anything different with what I wrote.\r\n\r\n\r\nI need to convert this EmailPOJO object into a JSON and I&#39;m using com.google.code.gson version 2.10.1\r\n\r\n```\r\n\r\nimport java.util.List;\r\n\r\npublic class EmailPOJO {\r\n    private Integer ID;\r\n    private String sender;\r\n    private List&lt;String&gt; receivers;\r\n    private String subject;\r\n    private String content;\r\n    private String sendDate;\r\n    private Boolean deleted;\r\n\r\n\r\n    public Integer getID () {\r\n        return ID;\r\n    }\r\n\r\n    public void setID (Integer ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getSender () {\r\n        return sender;\r\n    }\r\n\r\n    public void setSender (String sender) {\r\n        this.sender = sender;\r\n    }\r\n\r\n    public List&lt;String&gt; getReceivers () {\r\n        return receivers;\r\n    }\r\n\r\n    public void setReceivers (List&lt;String&gt; receivers) {\r\n        this.receivers = receivers;\r\n    }\r\n\r\n    public String getSubject () {\r\n        return subject;\r\n    }\r\n\r\n    public void setSubject (String subject) {\r\n        this.subject = subject;\r\n    }\r\n\r\n    public String getContent () {\r\n        return content;\r\n    }\r\n\r\n    public void setContent (String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public String getSendDate () {\r\n        return sendDate;\r\n    }\r\n\r\n    public void setSendDate (String sendDate) {\r\n        this.sendDate = sendDate;\r\n    }\r\n\r\n    public Boolean getDeleted () {\r\n        return deleted;\r\n    }\r\n\r\n    public void setDeleted (Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    @Override\r\n    public String toString () {\r\n        return &quot;EmailPOJO{&quot; +\r\n                &quot;ID=&quot; + ID +\r\n                &quot;, sender=&#39;&quot; + sender + &#39;\\&#39;&#39; +\r\n                &quot;, receivers=&quot; + receivers +\r\n                &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                &quot;, content=&#39;&quot; + content + &#39;\\&#39;&#39; +\r\n                &quot;, sendDate=&#39;&quot; + sendDate + &#39;\\&#39;&#39; +\r\n                &quot;, deleted=&quot; + deleted +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nI properly set each variable in it using getX() (so no null variables) and call these line of code\r\n```\r\nSystem.out.println(&quot;trasforming into json&quot;);\r\nString emailJson = new Gson().toJson(emailPOJO);\r\nSystem.out.println(&quot;json: &quot;+emailJson);\r\n```\r\nbut as I reach the second line the execution stops and never goes on. So I just get &quot;trasforming into json&quot; and that&#39;s it, no exception, no errors even using try catch.\r\n\r\nI have no idea what&#39;s causing this, I&#39;ve searched a lot online but no answers. Note that converting primitive object like a String work properly. I also tried making the class serializable, but nothing changed.\r\n","title":"JSON conversion does not work as expected","body":"<p>The program stops when it encounters the command new Gson().toJson(emailPOJO);\nSimple strings work so probably the problem is the Object emailPOJO, but I searching online I did not find anything different with what I wrote.</p>\n<p>I need to convert this EmailPOJO object into a JSON and I'm using com.google.code.gson version 2.10.1</p>\n<pre><code>\nimport java.util.List;\n\npublic class EmailPOJO {\n    private Integer ID;\n    private String sender;\n    private List&lt;String&gt; receivers;\n    private String subject;\n    private String content;\n    private String sendDate;\n    private Boolean deleted;\n\n\n    public Integer getID () {\n        return ID;\n    }\n\n    public void setID (Integer ID) {\n        this.ID = ID;\n    }\n\n    public String getSender () {\n        return sender;\n    }\n\n    public void setSender (String sender) {\n        this.sender = sender;\n    }\n\n    public List&lt;String&gt; getReceivers () {\n        return receivers;\n    }\n\n    public void setReceivers (List&lt;String&gt; receivers) {\n        this.receivers = receivers;\n    }\n\n    public String getSubject () {\n        return subject;\n    }\n\n    public void setSubject (String subject) {\n        this.subject = subject;\n    }\n\n    public String getContent () {\n        return content;\n    }\n\n    public void setContent (String content) {\n        this.content = content;\n    }\n\n    public String getSendDate () {\n        return sendDate;\n    }\n\n    public void setSendDate (String sendDate) {\n        this.sendDate = sendDate;\n    }\n\n    public Boolean getDeleted () {\n        return deleted;\n    }\n\n    public void setDeleted (Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    @Override\n    public String toString () {\n        return &quot;EmailPOJO{&quot; +\n                &quot;ID=&quot; + ID +\n                &quot;, sender='&quot; + sender + '\\'' +\n                &quot;, receivers=&quot; + receivers +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, content='&quot; + content + '\\'' +\n                &quot;, sendDate='&quot; + sendDate + '\\'' +\n                &quot;, deleted=&quot; + deleted +\n                '}';\n    }\n}\n</code></pre>\n<p>I properly set each variable in it using getX() (so no null variables) and call these line of code</p>\n<pre><code>System.out.println(&quot;trasforming into json&quot;);\nString emailJson = new Gson().toJson(emailPOJO);\nSystem.out.println(&quot;json: &quot;+emailJson);\n</code></pre>\n<p>but as I reach the second line the execution stops and never goes on. So I just get &quot;trasforming into json&quot; and that's it, no exception, no errors even using try catch.</p>\n<p>I have no idea what's causing this, I've searched a lot online but no answers. Note that converting primitive object like a String work properly. I also tried making the class serializable, but nothing changed.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"score":0,"creation_date":1619257574,"post_id":67241283,"comment_id":118853791,"body_markdown":"So then where do I put the code when the user denies permission?","body":"So then where do I put the code when the user denies permission?"},{"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"score":0,"creation_date":1619257733,"post_id":67241283,"comment_id":118853829,"body_markdown":"Can you check out my updated answer, please?","body":"Can you check out my updated answer, please?"},{"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"score":2,"creation_date":1619257841,"post_id":67241283,"comment_id":118853853,"body_markdown":"I am completely confused, the `onRequestPermissionsResult` should be called after the user makes a choice from the PERMISSION dialog (not the permission rationale!). Right?","body":"I am completely confused, the <code>onRequestPermissionsResult</code> should be called after the user makes a choice from the PERMISSION dialog (not the permission rationale!). Right?"},{"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"score":0,"creation_date":1619257979,"post_id":67241283,"comment_id":118853886,"body_markdown":"You are showing dialog only when user denies permission , right ?","body":"You are showing dialog only when user denies permission , right ?"},{"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"score":0,"creation_date":1619258072,"post_id":67241283,"comment_id":118853910,"body_markdown":"User can allow or deny from the dialog. So, in dialog if user deny permission then it is the last point to confirm that user really does not want to allow permission.","body":"User can allow or deny from the dialog. So, in dialog if user deny permission then it is the last point to confirm that user really does not want to allow permission."},{"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"score":0,"creation_date":1619258102,"post_id":67241283,"comment_id":118853918,"body_markdown":"No no, when I say dialog I mean the dialog that android gives when requesting permission. I am only creating a dialog for permission rationale","body":"No no, when I say dialog I mean the dialog that android gives when requesting permission. I am only creating a dialog for permission rationale"},{"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"score":0,"creation_date":1619258222,"post_id":67241283,"comment_id":118853960,"body_markdown":"OOH, then onRequestPermissionsResult is getting called perfectly. Do you have any issue related to this?","body":"OOH, then onRequestPermissionsResult is getting called perfectly. Do you have any issue related to this?"},{"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"score":0,"creation_date":1619258374,"post_id":67241283,"comment_id":118853995,"body_markdown":"Your AlertDialog must be pop up if and only if user deny permission. So what is the issue in checking final accept or deny in alert dialog&#39;s button click ?","body":"Your AlertDialog must be pop up if and only if user deny permission. So what is the issue in checking final accept or deny in alert dialog&#39;s button click ?"},{"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"score":0,"creation_date":1619258397,"post_id":67241283,"comment_id":118854005,"body_markdown":"Yes, it&#39;s being called twice, once when the dialog pops up and once when the user actually clicks on the deny/accept options.","body":"Yes, it&#39;s being called twice, once when the dialog pops up and once when the user actually clicks on the deny/accept options."}],"tags":[],"owner":{"account_id":11571030,"reputation":1499,"user_id":8477804,"display_name":"NRUSINGHA MOHARANA"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619257712,"creation_date":1619256937,"answer_id":67241283,"question_id":67240879,"body_markdown":"Actually `onRequestPermissionsResult` is getting called perfectly as expected. You have to handle the case inside it&#39;s body. Your problem is `Activity` gets finished before `dialog` opens to make any choice. So, just try commenting out `finish()` method inside `onRequestPermissionsResult`. Look at below code for better clarity. \r\n\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                presenter.registerListener(this);\r\n            else {\r\n                // if user denies permission then Dialog would be pop up. That&#39;s why I commented out both toast and finish() method below.\r\n                // If user clicks deny on the dialog then only finish activity.\r\n                //Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\r\n                //finish();\r\n            }\r\n    }\r\n\r\nHandle user denial case at below part of your code: \r\n\r\n    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; {\r\n                            // Put code here for user denial------\r\n                            finish();\r\n                        })","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>Actually <code>onRequestPermissionsResult</code> is getting called perfectly as expected. You have to handle the case inside it's body. Your problem is <code>Activity</code> gets finished before <code>dialog</code> opens to make any choice. So, just try commenting out <code>finish()</code> method inside <code>onRequestPermissionsResult</code>. Look at below code for better clarity.</p>\n<pre><code>    @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            presenter.registerListener(this);\n        else {\n            // if user denies permission then Dialog would be pop up. That's why I commented out both toast and finish() method below.\n            // If user clicks deny on the dialog then only finish activity.\n            //Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\n            //finish();\n        }\n}\n</code></pre>\n<p>Handle user denial case at below part of your code:</p>\n<pre><code>.setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; {\n                        // Put code here for user denial------\n                        finish();\n                    })\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"score":0,"creation_date":1619259137,"post_id":67241572,"comment_id":118854191,"body_markdown":"It&#39;s a very small project though, if nothing works I will definitely use this but do you have any idea why is the permission result method being called TWICE?","body":"It&#39;s a very small project though, if nothing works I will definitely use this but do you have any idea why is the permission result method being called TWICE?"},{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1619259500,"post_id":67241572,"comment_id":118854285,"body_markdown":"Sorry, I generally use dexter so I don&#39;t have the idea. And by using dexter your work will be hassle-free so move to it.","body":"Sorry, I generally use dexter so I don&#39;t have the idea. And by using dexter your work will be hassle-free so move to it."}],"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619258923,"creation_date":1619258923,"answer_id":67241572,"question_id":67240879,"body_markdown":"## Solution is here ##\r\n\r\n**Use Dexter to make your life easier** \r\n\r\n(1) Add the following dependency in your build.grade (app level) file\r\n\r\n    implementation ‘com.karumi:dexter:6.2.2’\r\n\r\n\r\n(2) Now just use it..\r\n\r\n     Dexter.withActivity(this)\r\n                    // below line is use to request the number of \r\n                    // permissions which are required in our app.\r\n                    .withPermissions(Manifest.permission.CAMERA,\r\n                            // below is the list of permissions\r\n                            Manifest.permission.ACCESS_FINE_LOCATION,\r\n                            Manifest.permission.READ_CONTACTS)\r\n                    // after adding permissions we are \r\n                    // calling an with listener method.\r\n                    .withListener(new MultiplePermissionsListener() {\r\n                        @Override\r\n                        public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\r\n                            // this method is called when all permissions are granted\r\n                            if (multiplePermissionsReport.areAllPermissionsGranted()) {\r\n                                // do you work now\r\n                                Toast.makeText(MainActivity.this, &quot;All the permissions are granted..&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            // check for permanent denial of any permission\r\n                            if (multiplePermissionsReport.isAnyPermissionPermanentlyDenied()) {\r\n                                // permission is denied permanently,\r\n                                // we will show user a dialog message.\r\n                                showSettingsDialog();\r\n                            }\r\n                        }\r\n      \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\r\n                            // this method is called when user grants some \r\n                            // permission and denies some of them.\r\n                            permissionToken.continuePermissionRequest();\r\n                        }\r\n                    }).withErrorListener(new PermissionRequestErrorListener() {\r\n                // this method is use to handle error \r\n                // in runtime permissions\r\n                @Override\r\n                public void onError(DexterError error) {\r\n                    // we are displaying a toast message for error message.\r\n                    Toast.makeText(getApplicationContext(), &quot;Error occurred! &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            })\r\n                    // below line is use to run the permissions\r\n                    // on same thread and to check the permissions\r\n                    .onSameThread().check();`\r\n\r\n","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<h2>Solution is here</h2>\n<p><strong>Use Dexter to make your life easier</strong></p>\n<p>(1) Add the following dependency in your build.grade (app level) file</p>\n<pre><code>implementation ‘com.karumi:dexter:6.2.2’\n</code></pre>\n<p>(2) Now just use it..</p>\n<pre><code> Dexter.withActivity(this)\n                // below line is use to request the number of \n                // permissions which are required in our app.\n                .withPermissions(Manifest.permission.CAMERA,\n                        // below is the list of permissions\n                        Manifest.permission.ACCESS_FINE_LOCATION,\n                        Manifest.permission.READ_CONTACTS)\n                // after adding permissions we are \n                // calling an with listener method.\n                .withListener(new MultiplePermissionsListener() {\n                    @Override\n                    public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\n                        // this method is called when all permissions are granted\n                        if (multiplePermissionsReport.areAllPermissionsGranted()) {\n                            // do you work now\n                            Toast.makeText(MainActivity.this, &quot;All the permissions are granted..&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        // check for permanent denial of any permission\n                        if (multiplePermissionsReport.isAnyPermissionPermanentlyDenied()) {\n                            // permission is denied permanently,\n                            // we will show user a dialog message.\n                            showSettingsDialog();\n                        }\n                    }\n  \n                    @Override\n                    public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\n                        // this method is called when user grants some \n                        // permission and denies some of them.\n                        permissionToken.continuePermissionRequest();\n                    }\n                }).withErrorListener(new PermissionRequestErrorListener() {\n            // this method is use to handle error \n            // in runtime permissions\n            @Override\n            public void onError(DexterError error) {\n                // we are displaying a toast message for error message.\n                Toast.makeText(getApplicationContext(), &quot;Error occurred! &quot;, Toast.LENGTH_SHORT).show();\n            }\n        })\n                // below line is use to run the permissions\n                // on same thread and to check the permissions\n                .onSameThread().check();`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619266510,"creation_date":1619265431,"answer_id":67242511,"question_id":67240879,"body_markdown":"I&#39;ll suggest rather than creating a Dialog, Let Android make it up for you. \r\nCheck whether permission s given or not\r\n```\r\nprivate boolean checkRECOGNITIONPermission(){\r\n        final boolean isReturn = ContextCompat.checkSelfPermission\r\n                     (this, Manifest.permission.Manifest.permission.ACTIVITY_RECOGNITION)\r\n                           == PackageManager.PERMISSION_GRANTED;\r\n        return isReturn;\r\n    }\r\n```\r\n\r\nThen request permission\r\n```\r\nprivate void requestStoragePermissionExport(){     \r\n      ActivityCompat.requestPermissions\r\n     (this,new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\r\n }\r\n```\r\n\r\nCheck whether Permission granted or not\r\n```\r\n@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        // handle permission request\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case ACTIVITY_REQUEST_CODE : \r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    // permission granted do your work\r\n                    \r\n                }else {\r\n                    Toast.makeText(this, Permission Required, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;          \r\n            }\r\n        }\r\n```\r\n\r\nand call this when you want to check for permission\r\n```\r\nif(checkRECOGNITIONPermission()){\r\n   // Do work (Permission granted)\r\n}else{\r\n   checkRECOGNITIONPermission(); // request permission\r\n   if(!checkRECOGNITIONPermission()){\r\n       finsih();\r\n   }\r\n}\r\n```","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>I'll suggest rather than creating a Dialog, Let Android make it up for you.\nCheck whether permission s given or not</p>\n<pre><code>private boolean checkRECOGNITIONPermission(){\n        final boolean isReturn = ContextCompat.checkSelfPermission\n                     (this, Manifest.permission.Manifest.permission.ACTIVITY_RECOGNITION)\n                           == PackageManager.PERMISSION_GRANTED;\n        return isReturn;\n    }\n</code></pre>\n<p>Then request permission</p>\n<pre><code>private void requestStoragePermissionExport(){     \n      ActivityCompat.requestPermissions\n     (this,new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\n }\n</code></pre>\n<p>Check whether Permission granted or not</p>\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // handle permission request\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode){\n            case ACTIVITY_REQUEST_CODE : \n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    // permission granted do your work\n                    \n                }else {\n                    Toast.makeText(this, Permission Required, Toast.LENGTH_SHORT).show();\n                }\n                break;          \n            }\n        }\n</code></pre>\n<p>and call this when you want to check for permission</p>\n<pre><code>if(checkRECOGNITIONPermission()){\n   // Do work (Permission granted)\n}else{\n   checkRECOGNITIONPermission(); // request permission\n   if(!checkRECOGNITIONPermission()){\n       finsih();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029956,"reputation":1039,"user_id":1038479,"accept_rate":57,"display_name":"Mitch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678811022,"creation_date":1678811022,"answer_id":75735864,"question_id":67240879,"body_markdown":"This looks like the result of the user having previously been presented with the request for permission but clicking Deny. \r\n\r\nIn that case, a call to ActivityCompat.requestPermissions will not display Android&#39;s own Dialog and, even worse, onRequestPermissionsResult will be called anyway, even though the documentation says it is only called in response to user input (or at least I haven&#39;t seen anything official to say otherwise).\r\n\r\nAlso worse, your code won&#39;t be able to prompt the user again to change the permission to Allow - this can only be done by going to the Settings app.\r\n\r\nIt looks like you then need to pick up the &#39;Deny&#39; action in the onRequestPermissionsResult method and then create a dialog to tell the user to go to Settings and start again.\r\n\r\nI think the rationale is to not pester the user with prompts when they have denied permission, but to call onRequestPermissionsResult and dump you in the &#39;Denied&#39; section, however since you&#39;re likely to want to throw up a Dialog saying the app is likely of little use, it kind of defeats the purpose.\r\n\r\nSee also this other answer:\r\n\r\nhttps://stackoverflow.com/a/48301505/1038479","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>This looks like the result of the user having previously been presented with the request for permission but clicking Deny.</p>\n<p>In that case, a call to ActivityCompat.requestPermissions will not display Android's own Dialog and, even worse, onRequestPermissionsResult will be called anyway, even though the documentation says it is only called in response to user input (or at least I haven't seen anything official to say otherwise).</p>\n<p>Also worse, your code won't be able to prompt the user again to change the permission to Allow - this can only be done by going to the Settings app.</p>\n<p>It looks like you then need to pick up the 'Deny' action in the onRequestPermissionsResult method and then create a dialog to tell the user to go to Settings and start again.</p>\n<p>I think the rationale is to not pester the user with prompts when they have denied permission, but to call onRequestPermissionsResult and dump you in the 'Denied' section, however since you're likely to want to throw up a Dialog saying the app is likely of little use, it kind of defeats the purpose.</p>\n<p>See also this other answer:</p>\n<p><a href=\"https://stackoverflow.com/a/48301505/1038479\">https://stackoverflow.com/a/48301505/1038479</a></p>\n"}],"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1678811022,"creation_date":1619253875,"question_id":67240879,"body_markdown":"In my app, I am requesting permission in the onCreate() function like this\r\n\r\n```\r\nif (ContextCompat.checkSelfPermission(context, Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_GRANTED)\r\n            registerListener(context);\r\n        else if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACTIVITY_RECOGNITION))\r\n            new AlertDialog.Builder(context)\r\n                    .setTitle(&quot;Permission required&quot;)\r\n                    .setMessage(&quot;This permission is required to fetch the sensor data from your phone, denying it will cause the app to exit&quot;)\r\n                    .setPositiveButton(&quot;Give permission&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE))\r\n                    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; ((Activity) context).finish())\r\n                    .show();\r\n        else\r\n            ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\r\n```\r\n\r\nAnd this is the onRequestPermissionsResult overriden method\r\n\r\n```\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                presenter.registerListener(this);\r\n            else {\r\n                Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n    }\r\n```\r\n\r\nNow the issue I am facing is I get the proper popup to ask the permission but I see the toast message (`Permission denied, exiting`) BEFORE I even make a choice and because of the `finish()`  method call the app exits BEFORE I make the choice!\r\n\r\nI have no clue why this is happening, any help is appreciated!","title":"onRequestPermissionsResult being called BEFORE the user makes the choice?","body":"<p>In my app, I am requesting permission in the onCreate() function like this</p>\n<pre><code>if (ContextCompat.checkSelfPermission(context, Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_GRANTED)\n            registerListener(context);\n        else if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, Manifest.permission.ACTIVITY_RECOGNITION))\n            new AlertDialog.Builder(context)\n                    .setTitle(&quot;Permission required&quot;)\n                    .setMessage(&quot;This permission is required to fetch the sensor data from your phone, denying it will cause the app to exit&quot;)\n                    .setPositiveButton(&quot;Give permission&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE))\n                    .setNegativeButton(&quot;Deny&quot;, (dialog, which) -&gt; ((Activity) context).finish())\n                    .show();\n        else\n            ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, ACTIVITY_REQUEST_CODE);\n</code></pre>\n<p>And this is the onRequestPermissionsResult overriden method</p>\n<pre><code>    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == presenter.ACTIVITY_REQUEST_CODE)\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                presenter.registerListener(this);\n            else {\n                Toast.makeText(this, &quot;Permission denied, exiting&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n    }\n</code></pre>\n<p>Now the issue I am facing is I get the proper popup to ask the permission but I see the toast message (<code>Permission denied, exiting</code>) BEFORE I even make a choice and because of the <code>finish()</code>  method call the app exits BEFORE I make the choice!</p>\n<p>I have no clue why this is happening, any help is appreciated!</p>\n"},{"tags":["java","spring","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678810904,"creation_date":1678810904,"answer_id":75735839,"question_id":75732726,"body_markdown":"You can use the lifecycle methods, for example overriding: \r\n```\r\nprotected void containerIsStarted(InspectContainerResponse containerInfo) {}\r\n``` \r\n\r\nWould probably help achieve the desired effect. \r\n\r\nIf you&#39;re interested in populating the database schema, creating tables and so on, then you might want to use the Postgres Docker image init dir for scripts ([Initialization scripts chapter in the docs](https://hub.docker.com/_/postgres)) and copy your scripts there. \r\n\r\nSo something like this would work: \r\n```\r\nstatic PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\r\n    new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)\r\n      .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema.sql&quot;), \r\n                              &quot;/docker-entrypoint-initdb.d/&quot;);\r\n```\r\n\r\nAnd the schema script with be executed when the container is starting and when the container is started and the control flow is back in your tests -- the schema will be there.","title":"I have a postregsql test container spun up, i would like to insert data after its spun up","body":"<p>You can use the lifecycle methods, for example overriding:</p>\n<pre><code>protected void containerIsStarted(InspectContainerResponse containerInfo) {}\n</code></pre>\n<p>Would probably help achieve the desired effect.</p>\n<p>If you're interested in populating the database schema, creating tables and so on, then you might want to use the Postgres Docker image init dir for scripts (<a href=\"https://hub.docker.com/_/postgres\" rel=\"nofollow noreferrer\">Initialization scripts chapter in the docs</a>) and copy your scripts there.</p>\n<p>So something like this would work:</p>\n<pre><code>static PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\n    new PostgreSQLContainer&lt;&gt;(&quot;postgres:14-alpine&quot;)\n      .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema.sql&quot;), \n                              &quot;/docker-entrypoint-initdb.d/&quot;);\n</code></pre>\n<p>And the schema script with be executed when the container is starting and when the container is started and the control flow is back in your tests -- the schema will be there.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735839,"answer_count":1,"score":0,"last_activity_date":1678810904,"creation_date":1678794303,"question_id":75732726,"body_markdown":"I have a postgresql test container spun up in my spring project, all works okay. \r\n\r\n    PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\r\n                     new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_IMAGE))\r\n\r\nI have a script that i want to run after its running, and it has to be after, as im doing other operations before this.\r\n\r\nDoes anyone know how i can run this... is there something in the container that i can leverage or do i need to create a connection ie JDBC. Maybe there is something in spring that i can use?\r\n\r\nThanks","title":"I have a postregsql test container spun up, i would like to insert data after its spun up","body":"<p>I have a postgresql test container spun up in my spring project, all works okay.</p>\n<pre><code>PostgreSQLContainer&lt;?&gt; postgreSQLContainer =\n                 new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_IMAGE))\n</code></pre>\n<p>I have a script that i want to run after its running, and it has to be after, as im doing other operations before this.</p>\n<p>Does anyone know how i can run this... is there something in the container that i can leverage or do i need to create a connection ie JDBC. Maybe there is something in spring that i can use?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","api","spring-security"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1678813046,"post_id":75735770,"comment_id":133604687,"body_markdown":"This is because you have wrong class imported: import software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\nInstead you need import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;","body":"This is because you have wrong class imported: import software.amazon.awssdk.services.kendra.model.AuthenticationC&zwnj;&#8203;onfiguration; Instead you need import org.springframework.security.config.annotation.authenticatio&zwnj;&#8203;n.configuration.Auth&zwnj;&#8203;enticationConfigurat&zwnj;&#8203;ion;"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678813200,"post_id":75735770,"comment_id":133604735,"body_markdown":"In fact, this import should not be there, but it is not being used. I removed it from there and it didn&#39;t change anything in my application","body":"In fact, this import should not be there, but it is not being used. I removed it from there and it didn&#39;t change anything in my application"},{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1678813375,"post_id":75735770,"comment_id":133604790,"body_markdown":"What error message do you have now? &quot;Cannot resolve method &#39;getAuthenticationManager&#39;&quot; clearly says that there was a wrong import","body":"What error message do you have now? &quot;Cannot resolve method &#39;getAuthenticationManager&#39;&quot; clearly says that there was a wrong import"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678813714,"post_id":75735770,"comment_id":133604885,"body_markdown":"You were righ. Thanks","body":"You were righ. Thanks"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678814627,"post_id":75735770,"comment_id":133605096,"body_markdown":"Can you tell me why I can&#39;t access the &quot;/user&quot; route without falling into a 401 error, even though it&#39;s clear in my config that this route is a permitAll?","body":"Can you tell me why I can&#39;t access the &quot;/user&quot; route without falling into a 401 error, even though it&#39;s clear in my config that this route is a permitAll?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678810595,"creation_date":1678810595,"question_id":75735770,"body_markdown":"I&#39;m developing an authentication service in my api through spring security(userDetails) and jwt.\r\n\r\nHere the userDetailsService\r\n\r\n```\r\npackage com.api.business_manager_api.Services;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\r\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\r\n\r\n        if (optionalUser.isPresent()) {\r\n            UserModel userModel = optionalUser.get();\r\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\r\n                    new ArrayList&lt;&gt;());\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nauth controller\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.LoginDto;\r\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\r\nimport com.api.business_manager_api.Security.JwtTokenProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginDto.getUsername(),\r\n                        loginDto.getPassword()\r\n                )\r\n        );\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtTokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my auth controller I want to receive a jwt that allows my user to be authenticated through spring security. But my problem is in my securityConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\n\r\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(\r\n                        authorizeConfig -&gt; {\r\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\r\n                            authorizeConfig.anyRequest().authenticated();\r\n                        })\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nPreviously I was having the following error after playing my application\r\n\r\n```\r\nField authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n```\r\n\r\nhowever doing a search on the new version of spring security, i found that the solution is adding this in my code\r\n\r\n```\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n```\r\n\r\nbut i am getting the error:\r\n\r\n```\r\nCannot resolve method &#39;getAuthenticationManager&#39; in &#39;AuthenticationConfiguration&#39;\r\n```\r\n\r\nDoes anyone know what could be a solution to this problem?\r\n","title":"Error with authenticationManager in spring security","body":"<p>I'm developing an authentication service in my api through spring security(userDetails) and jwt.</p>\n<p>Here the userDetailsService</p>\n<pre><code>package com.api.business_manager_api.Services;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\n\n        if (optionalUser.isPresent()) {\n            UserModel userModel = optionalUser.get();\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\n                    new ArrayList&lt;&gt;());\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n}\n</code></pre>\n<p>auth controller</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.LoginDto;\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\nimport com.api.business_manager_api.Security.JwtTokenProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getUsername(),\n                        loginDto.getPassword()\n                )\n        );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\n\n    }\n}\n\n</code></pre>\n<p>In my auth controller I want to receive a jwt that allows my user to be authenticated through spring security. But my problem is in my securityConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\n\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport software.amazon.awssdk.services.kendra.model.AuthenticationConfiguration;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    private final UserDetailsServiceImpl userDetailsService;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests(\n                        authorizeConfig -&gt; {\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\n                            authorizeConfig.anyRequest().authenticated();\n                        })\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .build();\n    }\n}\n\n</code></pre>\n<p>Previously I was having the following error after playing my application</p>\n<pre><code>Field authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>however doing a search on the new version of spring security, i found that the solution is adding this in my code</p>\n<pre><code>    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n</code></pre>\n<p>but i am getting the error:</p>\n<pre><code>Cannot resolve method 'getAuthenticationManager' in 'AuthenticationConfiguration'\n</code></pre>\n<p>Does anyone know what could be a solution to this problem?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1678814019,"post_id":75735355,"comment_id":133604960,"body_markdown":"You have to show your Spring Security configuration. you could have multiple authentication types for one endpoint, but you can&#39;t authenticate with two types at the same time.","body":"You have to show your Spring Security configuration. you could have multiple authentication types for one endpoint, but you can&#39;t authenticate with two types at the same time."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678810510,"creation_date":1678810510,"answer_id":75735751,"question_id":75735355,"body_markdown":"The same endpoint cannot have both because the `Authorization` header needs to be either:\r\n\r\n    Basic ksjskjskjskjksj\r\n\r\nor\r\n\r\n    Bearer djhkdjhdkjhdkhdkjh.ldjldkjldkjl.ldkjldkjldkj==\r\n\r\nYou need to intercept the outgoing call and *conditionally* add one or the other header.\r\n","title":"Securing Spring boot rest Api with basic and Bearer Auth At the same time","body":"<p>The same endpoint cannot have both because the <code>Authorization</code> header needs to be either:</p>\n<pre><code>Basic ksjskjskjskjksj\n</code></pre>\n<p>or</p>\n<pre><code>Bearer djhkdjhdkjhdkhdkjh.ldjldkjldkjl.ldkjldkjldkj==\n</code></pre>\n<p>You need to intercept the outgoing call and <em>conditionally</em> add one or the other header.</p>\n"}],"owner":{"account_id":7383399,"reputation":112,"user_id":5619237,"display_name":"Anas Elazhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678814000,"accepted_answer_id":75735751,"answer_count":1,"score":1,"last_activity_date":1678810510,"creation_date":1678808452,"question_id":75735355,"body_markdown":"I&#39;m trying to use both basic auth and bearer Token to authenticate the same Api using Spring boot.\r\n\r\nEach one works fine until. I add the other. Does any one had the same problem before ? ","title":"Securing Spring boot rest Api with basic and Bearer Auth At the same time","body":"<p>I'm trying to use both basic auth and bearer Token to authenticate the same Api using Spring boot.</p>\n<p>Each one works fine until. I add the other. Does any one had the same problem before ?</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678809887,"creation_date":1678809887,"answer_id":75735629,"question_id":75734519,"body_markdown":"When you have in pom:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\r\n  &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMaven resolves all needed properties during pom reading and use final values as constant for next processing and plugin configuration.\r\n\r\n---\r\n\r\nWhen you don&#39;t configure plugin parameters in pom, default values according to your plugin code will be used, so it will be as:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;sourcePath&gt;${sourcePath}&lt;/sourcePath&gt;\r\n  &lt;outputPath&gt;${outputPath}&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nDefault values for properties from plugin code will be used, so for `outputPath` will be `.`.\r\n\r\nIn this case you can override properties by cli.\r\n\r\n\r\n---\r\n\r\nNow when you want to have default configuration in pom and want to have a possibility to override it by cli, you should use configuration like:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;mOoutputPath&gt;my pom default value&lt;/mOoutputPath&gt;\r\n&lt;/properties&gt;\r\n\r\n...\r\n\r\n&lt;configuration&gt;\r\n  &lt;outputPath&gt;${mOoutputPath}&lt;/outputPath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nNow you can override property `mOoutputPath` by cli.\r\n\r\nYou can use the same properties name as in plugin.\r\n\r\n","title":"Maven plugin not overriding parameters in pom.xml with command line input arguments","body":"<p>When you have in pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\n  &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Maven resolves all needed properties during pom reading and use final values as constant for next processing and plugin configuration.</p>\n<hr />\n<p>When you don't configure plugin parameters in pom, default values according to your plugin code will be used, so it will be as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;sourcePath&gt;${sourcePath}&lt;/sourcePath&gt;\n  &lt;outputPath&gt;${outputPath}&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Default values for properties from plugin code will be used, so for <code>outputPath</code> will be <code>.</code>.</p>\n<p>In this case you can override properties by cli.</p>\n<hr />\n<p>Now when you want to have default configuration in pom and want to have a possibility to override it by cli, you should use configuration like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;mOoutputPath&gt;my pom default value&lt;/mOoutputPath&gt;\n&lt;/properties&gt;\n\n...\n\n&lt;configuration&gt;\n  &lt;outputPath&gt;${mOoutputPath}&lt;/outputPath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Now you can override property <code>mOoutputPath</code> by cli.</p>\n<p>You can use the same properties name as in plugin.</p>\n"}],"owner":{"account_id":13696162,"reputation":3,"user_id":9882761,"display_name":"chariot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75735629,"answer_count":1,"score":0,"last_activity_date":1678809887,"creation_date":1678804272,"question_id":75734519,"body_markdown":"I have a project that is using Freemarker to generate a docs as a .html file from Javadoc comments.\r\n\r\nInput parameter is a directory to .java files that contains Javadoc comments.\r\nOutput parameter (optional) is a path where the .html file will be generated.\r\n\r\nNext I used maven-plugin-api to create a plugin from it.\r\nI have this Mojo class with @Parameter annotations:\r\n\r\n```\r\npackage com.direcory.javadoc.template;\r\n\r\nimport org.apache.maven.plugin.AbstractMojo;\r\nimport org.apache.maven.plugin.MojoExecutionException;\r\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.plugins.annotations.Parameter;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\n\r\n@Mojo(name = &quot;javadoc&quot;, defaultPhase = LifecyclePhase.INITIALIZE)\r\npublic class MojoJavadocPlugin extends AbstractMojo {\r\n\r\n    @Parameter(property = &quot;sourcePath&quot;, required = true)\r\n    private String sourcePath;\r\n\r\n    @Parameter(property = &quot;outputPath&quot;, defaultValue = &quot;.&quot;)\r\n    private String outputPath;\r\n\r\n    @Override\r\n    public void execute() throws MojoExecutionException {\r\n        String[] args = new String[]{sourcePath, outputPath};\r\n        \r\n        JavadocArguments arguments = new JavadocArguments(args);\r\n        JavadocGenerator generator = new JavadocGenerator(arguments);\r\n        try {\r\n            Path targetFile = generator.generate();\r\n            getLog().info(&quot;Javadoc is generated to: &quot; + targetFile.toAbsolutePath());\r\n        } catch (IOException e) {\r\n            throw new MojoExecutionException(&quot;Source files path: &#39;&quot; + sourcePath\r\n                    + &quot;&#39; failed&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, when I want to use the plugin this is how it looks in pom.xml:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.directory.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javadoc-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- sourcePath is path to directory from which we&#39;ll load Java files with Javadoc comments --&gt;\r\n        &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\r\n        &lt;!-- optional, outputPath is path where the html file will be generated --&gt;\r\n        &lt;!-- default outputPath is root of a Project --&gt;\r\n        &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;javadoc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen I set parameters in pom.xml inside &lt;configuration&gt; tag:\r\n`&lt;sourcePath&gt;${project.basedir}/src/main/java/com/directory/core/&lt;/sourcePath&gt;`\r\n`&lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;`\r\n\r\nAnd then I will run a Maven plugin in Command-line and also set a parameters here:\r\n`mvn javadoc-generator:javadoc -DsourcePath=&quot;C:/Projects/my_project/src/main/java/com/core/&quot; -DoutputPath=&quot;C:/Projects/tmp&quot;`\r\n\r\nI was expecting command-line parameters will override the ones from pom.xml, but the parameters from pom.xml were actually used, so .html file was generated in Path: &quot;C:/Projects/&quot;.\r\n\r\nWhen I delete pom.xml parameters, then the ones from command-line works like a charm.\r\nDo pom.xml config variables has priority over command-line input? If so, why is that?\r\n","title":"Maven plugin not overriding parameters in pom.xml with command line input arguments","body":"<p>I have a project that is using Freemarker to generate a docs as a .html file from Javadoc comments.</p>\n<p>Input parameter is a directory to .java files that contains Javadoc comments.\nOutput parameter (optional) is a path where the .html file will be generated.</p>\n<p>Next I used maven-plugin-api to create a plugin from it.\nI have this Mojo class with @Parameter annotations:</p>\n<pre><code>package com.direcory.javadoc.template;\n\nimport org.apache.maven.plugin.AbstractMojo;\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.plugins.annotations.Parameter;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\n\n@Mojo(name = &quot;javadoc&quot;, defaultPhase = LifecyclePhase.INITIALIZE)\npublic class MojoJavadocPlugin extends AbstractMojo {\n\n    @Parameter(property = &quot;sourcePath&quot;, required = true)\n    private String sourcePath;\n\n    @Parameter(property = &quot;outputPath&quot;, defaultValue = &quot;.&quot;)\n    private String outputPath;\n\n    @Override\n    public void execute() throws MojoExecutionException {\n        String[] args = new String[]{sourcePath, outputPath};\n        \n        JavadocArguments arguments = new JavadocArguments(args);\n        JavadocGenerator generator = new JavadocGenerator(arguments);\n        try {\n            Path targetFile = generator.generate();\n            getLog().info(&quot;Javadoc is generated to: &quot; + targetFile.toAbsolutePath());\n        } catch (IOException e) {\n            throw new MojoExecutionException(&quot;Source files path: '&quot; + sourcePath\n                    + &quot;' failed&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Now, when I want to use the plugin this is how it looks in pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.directory.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;javadoc-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0-SNAPSHOT&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- sourcePath is path to directory from which we'll load Java files with Javadoc comments --&gt;\n        &lt;sourcePath&gt;${project.basedir}/src/main/java/com/core/&lt;/sourcePath&gt;\n        &lt;!-- optional, outputPath is path where the html file will be generated --&gt;\n        &lt;!-- default outputPath is root of a Project --&gt;\n        &lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;javadoc&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I set parameters in pom.xml inside  tag:\n<code>&lt;sourcePath&gt;${project.basedir}/src/main/java/com/directory/core/&lt;/sourcePath&gt;</code>\n<code>&lt;outputPath&gt;C:/Projects&lt;/outputPath&gt;</code></p>\n<p>And then I will run a Maven plugin in Command-line and also set a parameters here:\n<code>mvn javadoc-generator:javadoc -DsourcePath=&quot;C:/Projects/my_project/src/main/java/com/core/&quot; -DoutputPath=&quot;C:/Projects/tmp&quot;</code></p>\n<p>I was expecting command-line parameters will override the ones from pom.xml, but the parameters from pom.xml were actually used, so .html file was generated in Path: &quot;C:/Projects/&quot;.</p>\n<p>When I delete pom.xml parameters, then the ones from command-line works like a charm.\nDo pom.xml config variables has priority over command-line input? If so, why is that?</p>\n"},{"tags":["java","eclipse","macos","image","jar"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1678810049,"post_id":75735565,"comment_id":133603774,"body_markdown":"FWIW, I would never rely on an IDE&#39;s native build system. They are simply not reproducible enough. Use Maven or Gradle.","body":"FWIW, I would never rely on an IDE&#39;s native build system. They are simply not reproducible enough. Use Maven or Gradle."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678811433,"post_id":75735565,"comment_id":133604205,"body_markdown":"@Michael What exactly is not reproducible when exporting a JAR?","body":"@Michael What exactly is not reproducible when exporting a JAR?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678811763,"post_id":75735565,"comment_id":133604304,"body_markdown":"@howlger At the most basic level, what if I don&#39;t have Eclipse installed? What if I prefer to use IntelliJ? How do you expect to run an Eclipse build in a headless environment, like CI? Even if you ignore all of that, IDE configs are usually massive, sprawling XML files, which contain much more than just the build configuration. Checking them into VCS is always a nightmare. There is probably no guarantee the same XML is both forwards and backwards compatible across different versions of the IDE.","body":"@howlger At the most basic level, what if I don&#39;t have Eclipse installed? What if I prefer to use IntelliJ? How do you expect to run an Eclipse build in a headless environment, like CI? Even if you ignore all of that, IDE configs are usually massive, sprawling XML files, which contain much more than just the build configuration. Checking them into VCS is always a nightmare. There is probably no guarantee the same XML is both forwards and backwards compatible across different versions of the IDE."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678811934,"post_id":75735565,"comment_id":133604362,"body_markdown":"`ClassLoader.getSystemResource​(...)` looks weird here. Better include the image as source so they end up in the JAR (are they currently in the JAR?) and load them as `InputStream` via `getResourceAsStream​(...)`.","body":"<code>ClassLoader.getSystemResource​(...)</code> looks weird here. Better include the image as source so they end up in the JAR (are they currently in the JAR?) and load them as <code>InputStream</code> via <code>getResourceAsStream​(...)</code>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678812707,"post_id":75735565,"comment_id":133604585,"body_markdown":"@Michael I asked you what exactly is not reproducible when you export a JAR? Of course, you should version control all project-specific settings, not only the Maven or Gradle build file, but that&#39;s another thing.","body":"@Michael I asked you what exactly is not reproducible when you export a JAR? Of course, you should version control all project-specific settings, not only the Maven or Gradle build file, but that&#39;s another thing."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678812710,"post_id":75735565,"comment_id":133604586,"body_markdown":"Thank you all for commenting !  Some more info:  the .jar files used to run, but now they don&#39;t, that is what is not reproducible. Howler:  this is instrument control software for a network of 5 telescopes, they never run headless or on anything except our own Mac mini computers.","body":"Thank you all for commenting !  Some more info:  the .jar files used to run, but now they don&#39;t, that is what is not reproducible. Howler:  this is instrument control software for a network of 5 telescopes, they never run headless or on anything except our own Mac mini computers."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678812890,"post_id":75735565,"comment_id":133604639,"body_markdown":"Also - any suggestions on how to &quot;include the images as source&quot;?   The image files show up in the .jar file when I list out the contents.","body":"Also - any suggestions on how to &quot;include the images as source&quot;?   The image files show up in the .jar file when I list out the contents."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678812927,"post_id":75735565,"comment_id":133604659,"body_markdown":"@howlger And I answered it. I can&#39;t reproduce a build without the exact same IDE. In headless environments, that&#39;s not just personal preference, that&#39;s almost a physical impossibility. Build tools solve this problem. No one serious uses native IDE builds. They&#39;re for basic/toy projects.","body":"@howlger And I answered it. I can&#39;t reproduce a build without the exact same IDE. In headless environments, that&#39;s not just personal preference, that&#39;s almost a physical impossibility. Build tools solve this problem. No one serious uses native IDE builds. They&#39;re for basic/toy projects."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678813003,"post_id":75735565,"comment_id":133604680,"body_markdown":"Is `ClassLoader.getSystemResource​(...)` part of your code so that you can change it?","body":"Is <code>ClassLoader.getSystemResource​(...)</code> part of your code so that you can change it?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678814667,"post_id":75735565,"comment_id":133605105,"body_markdown":"@Michael What you say is not true and makes no sense because an IDE is not a build system. A build script only covers part of the project-specific settings. Using a build system is recommended, but does not help here.","body":"@Michael What you say is not true and makes no sense because an IDE is not a build system. A build script only covers part of the project-specific settings. Using a build system is recommended, but does not help here."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678815144,"post_id":75735565,"comment_id":133605263,"body_markdown":"@howlger Both Eclipse and IntelliJ include their own native build systems. This is what OP is using and what I&#39;m advocating to avoid. Using Maven absolutely would help here because Maven builds are reproducible; Eclipse is garbage.","body":"@howlger Both Eclipse and IntelliJ include their own native build systems. This is what OP is using and what I&#39;m advocating to avoid. Using Maven absolutely would help here because Maven builds are reproducible; Eclipse is garbage."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678816476,"post_id":75735565,"comment_id":133605639,"body_markdown":"@Paul Make sure that the filename case matches down to the letter when you&#39;ve built the jar file--and of course, that the files are in the jar at all. You should also separate the result of `getSystemResource()` from the `getImage()` call and add some logging or debug output so you have some idea of what&#39;s happening at runtime--is the getSystemResource call failing, or is getImage taking a good result and messing up for some reason? Linked Resources are convenient for structuring the project, but I&#39;m not sure that the Jar Export function supports them fully.","body":"@Paul Make sure that the filename case matches down to the letter when you&#39;ve built the jar file--and of course, that the files are in the jar at all. You should also separate the result of <code>getSystemResource()</code> from the <code>getImage()</code> call and add some logging or debug output so you have some idea of what&#39;s happening at runtime--is the getSystemResource call failing, or is getImage taking a good result and messing up for some reason? Linked Resources are convenient for structuring the project, but I&#39;m not sure that the Jar Export function supports them fully."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1678820476,"post_id":75735565,"comment_id":133606694,"body_markdown":"noting - I did as you suggested and separated the lines into","body":"noting - I did as you suggested and separated the lines into"},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":1,"creation_date":1678820664,"post_id":75735565,"comment_id":133606760,"body_markdown":"nitind :     I did as you suggested and separated the lines into the following - sorry the &quot;spelling corrector&quot; changed your name into &quot;noting&quot; . . . public static URL my_url = ClassLoader.getSystemResource(&quot;Images/LineSelectTool.GIF&quot;);\n\t\n\tpublic static Image testImage = Toolkit.getDefaultToolkit().getImage(my_url); and then corrected the CASE of the &quot;.gif&quot; to &quot;GIF&quot; - and now the system loads !!  Thank you so much -","body":"nitind :     I did as you suggested and separated the lines into the following - sorry the &quot;spelling corrector&quot; changed your name into &quot;noting&quot; . . . public static URL my_url = ClassLoader.getSystemResource(&quot;Images/LineSelectTool.GIF&quot;); \t \tpublic static Image testImage = Toolkit.getDefaultToolkit().getImage(my_url); and then corrected the CASE of the &quot;.gif&quot; to &quot;GIF&quot; - and now the system loads !!  Thank you so much -"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678833676,"post_id":75735565,"comment_id":133609770,"body_markdown":"@Michael Of course this is not related to the tool with which the JAR was created. It is not true that the JAR export is not reliable (JAR is an Java standard even older than Maven and Gradle). It is also not true that the project-specific settings made by Eclipse are version-dependent (in fact, they are more stable than Maven, whose compatibility got broken by switching Maven Central to HTTPS only).","body":"@Michael Of course this is not related to the tool with which the JAR was created. It is not true that the JAR export is not reliable (JAR is an Java standard even older than Maven and Gradle). It is also not true that the project-specific settings made by Eclipse are version-dependent (in fact, they are more stable than Maven, whose compatibility got broken by switching Maven Central to HTTPS only)."}],"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809601,"creation_date":1678809601,"question_id":75735565,"body_markdown":"I have been rewriting a 100,000 line application from 2009\r\nin modern Java/Eclipse/Mac os12, and there is a problem\r\nwith the executable - I have been&quot;exporting&quot; to .jar file\r\nfrom the Eclipse environment, and have been able to \r\nrun the .jar file with java -jar FileName.jar.   A few\r\nweeks ago, (ca Feb 1 2023), the jar files started throwing errors\r\non startup, saying they were unable to locate what should\r\nhave been easily accessible system image files - specifically\r\nlines like these\r\n\r\n\tpublic static Image lineSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseLineSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image rectangleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseRectangleSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image circleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseCircleSelectTool.GIF&quot;));\r\n\r\n\tpublic static Image textSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseTextTool.GIF&quot;));\r\n\r\n\r\nI added a folder to the Project Properties Resource/Linked Resources page that contains the required images . . . but this seemed to have no effect.\r\n\r\nThanks to all for any suggestions - my native language is C and I am an embedded systems programmer, so much of the linking things in Eclipse are new to me.\r\n","title":"Eclipse/Java Mac OS12 .jar file used to run but no longer runs","body":"<p>I have been rewriting a 100,000 line application from 2009\nin modern Java/Eclipse/Mac os12, and there is a problem\nwith the executable - I have been&quot;exporting&quot; to .jar file\nfrom the Eclipse environment, and have been able to\nrun the .jar file with java -jar FileName.jar.   A few\nweeks ago, (ca Feb 1 2023), the jar files started throwing errors\non startup, saying they were unable to locate what should\nhave been easily accessible system image files - specifically\nlines like these</p>\n<pre><code>public static Image lineSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseLineSelectTool.GIF&quot;));\n\npublic static Image rectangleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseRectangleSelectTool.GIF&quot;));\n\npublic static Image circleSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseCircleSelectTool.GIF&quot;));\n\npublic static Image textSelectedToolImage = Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource(&quot;Images/InverseTextTool.GIF&quot;));\n</code></pre>\n<p>I added a folder to the Project Properties Resource/Linked Resources page that contains the required images . . . but this seemed to have no effect.</p>\n<p>Thanks to all for any suggestions - my native language is C and I am an embedded systems programmer, so much of the linking things in Eclipse are new to me.</p>\n"},{"tags":["java","pentaho","kettle"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678804180,"post_id":75734466,"comment_id":133601832,"body_markdown":"Tag, not branch https://github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R","body":"Tag, not branch <a href=\"https://github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R\" rel=\"nofollow noreferrer\">github.com/pentaho/pentaho-kettle/tree/7.0.0.0-R</a>"},{"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"score":0,"creation_date":1678874848,"post_id":75734466,"comment_id":133616285,"body_markdown":"@Michael, Could you please share me where can I get this information regard branch or tag and corresponding kettle version mapping. Thanks","body":"@Michael, Could you please share me where can I get this information regard branch or tag and corresponding kettle version mapping. Thanks"}],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809358,"creation_date":1678804001,"question_id":75734466,"body_markdown":"I am trying to debug Kettle (7.0.0.0-25) using git source code (https://github.com/pentaho/pentaho-kettle). However unable to find the branch for this corresponding jar.\r\n\r\nHow to find the branch for this kettle version?\r\n","title":"Which git branch should we need to clone for kettle 7.0.0.0-25","body":"<p>I am trying to debug Kettle (7.0.0.0-25) using git source code (<a href=\"https://github.com/pentaho/pentaho-kettle\" rel=\"nofollow noreferrer\">https://github.com/pentaho/pentaho-kettle</a>). However unable to find the branch for this corresponding jar.</p>\n<p>How to find the branch for this kettle version?</p>\n"},{"tags":["java","spring-boot","apache","deployment"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":1,"creation_date":1678445431,"post_id":75694801,"comment_id":133538023,"body_markdown":"Where is maildev getting the localhost url from? Is it passed to maildev from spring?","body":"Where is maildev getting the localhost url from? Is it passed to maildev from spring?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678786691,"post_id":75694801,"comment_id":133596747,"body_markdown":"Please [do not upload images of code/data/errors/text.](//meta.stackoverflow.com/q/285551)","body":"Please <a href=\"//meta.stackoverflow.com/q/285551\">do not upload images of code/data/errors/text.</a>"}],"owner":{"account_id":24545156,"reputation":1,"user_id":18455123,"display_name":"Ben mahmoud Noureddine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678809347,"creation_date":1678443212,"question_id":75694801,"body_markdown":"I&#39;m using Maildev to test the reception of emails, for example in my case locally if I forget my password I receive a message with the link: http://localhost:8080/login/reset.I have deployed my application on azure but when I test the reception of emails in case of forgetting the password I receive the same path http://localhost:8080/login/reset/ and the link don&#39;t work. How can I configure the path to be able to test the change of password for the application deployed on azure ?\r\n\r\nI tried to see the configuration on the Apache conf of the proxy in the virtualhost (/etc/httpd/sites-enabled/) but unfortunately I don&#39;t know too much about it. Can you please guide me on it ?\r\n","title":"How can I change the URL from localhost to a non-local host when I receive an email in Maildev to change the password?","body":"<p>I'm using Maildev to test the reception of emails, for example in my case locally if I forget my password I receive a message with the link: http://localhost:8080/login/reset.I have deployed my application on azure but when I test the reception of emails in case of forgetting the password I receive the same path http://localhost:8080/login/reset/ and the link don't work. How can I configure the path to be able to test the change of password for the application deployed on azure ?</p>\n<p>I tried to see the configuration on the Apache conf of the proxy in the virtualhost (/etc/httpd/sites-enabled/) but unfortunately I don't know too much about it. Can you please guide me on it ?</p>\n"},{"tags":["java","syntax","switch-statement"],"comments":[{"owner":{"account_id":921476,"reputation":3241,"user_id":953105,"accept_rate":86,"display_name":"paulrehkugler"},"score":12,"creation_date":1358523188,"post_id":5086322,"comment_id":20038983,"body_markdown":"It looks like you&#39;re using integers so I suppose if you know that your ranges are of a fixed size you could always do switch(variable / FIXED_SIZE_OF_RANGE){ case 0: ... default: break; }","body":"It looks like you&#39;re using integers so I suppose if you know that your ranges are of a fixed size you could always do switch(variable / FIXED_SIZE_OF_RANGE){ case 0: ... default: break; }"}],"answers":[{"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":1,"creation_date":1298427776,"post_id":5086339,"comment_id":5699086,"body_markdown":"@FunJavaCode AFAIK you can do that in vb.net . Here&#39;s an [example](http://www.java2s.com/Tutorial/VB/0080__Statements/SelectCasestatementwithrangeIntegervalue.htm)","body":"@FunJavaCode AFAIK you can do that in vb.net . Here&#39;s an <a href=\"http://www.java2s.com/Tutorial/VB/0080__Statements/SelectCasestatementwithrangeIntegervalue.htm\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1298428216,"post_id":5086339,"comment_id":5699119,"body_markdown":"Groovy allows this too, and I think Pascal has also a similar syntax.","body":"Groovy allows this too, and I think Pascal has also a similar syntax."},{"owner":{"display_name":"user177800"},"score":3,"creation_date":1346467201,"post_id":5086339,"comment_id":16379628,"body_markdown":"My answer proves this is incorrect, it is OO and is a known and accepted pattern for dealing with this exact problem amoungst others that require many nested `if/elseif/else` statements, regardless of language.","body":"My answer proves this is incorrect, it is OO and is a known and accepted pattern for dealing with this exact problem amoungst others that require many nested <code>if&#47;elseif&#47;else</code> statements, regardless of language."},{"owner":{"account_id":391908,"reputation":5072,"user_id":752842,"accept_rate":75,"display_name":"Dzyann"},"score":0,"creation_date":1364107422,"post_id":5086339,"comment_id":22114896,"body_markdown":"@JarrodRoberson Although I think the Chain of responsibility pattern is very good. The question was specific to the switch pattern. And the code you posted in the end has **ifs** too. So how the answer is wrong?","body":"@JarrodRoberson Although I think the Chain of responsibility pattern is very good. The question was specific to the switch pattern. And the code you posted in the end has <b>ifs</b> too. So how the answer is wrong?"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1364150072,"post_id":5086339,"comment_id":22125981,"body_markdown":"its not about not using `if` or `switch` it is about using `if` or `switch` statements with dozens or hundreds of alternatives cases. The question specifically asks for a *good alternative*, my answer is the most relevant and OO answer so far.","body":"its not about not using <code>if</code> or <code>switch</code> it is about using <code>if</code> or <code>switch</code> statements with dozens or hundreds of alternatives cases. The question specifically asks for a <i>good alternative</i>, my answer is the most relevant and OO answer so far."},{"owner":{"account_id":349356,"reputation":1095,"user_id":684602,"accept_rate":84,"display_name":"JeremyK"},"score":0,"creation_date":1389897024,"post_id":5086339,"comment_id":31869112,"body_markdown":"I thought the answer was just fine.","body":"I thought the answer was just fine."},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1463646329,"post_id":5086339,"comment_id":62155234,"body_markdown":"It is possible to get the OR condition in the SWITCH case by using these link...plz check it out:- http://stackoverflow.com/a/16706729/3946958","body":"It is possible to get the OR condition in the SWITCH case by using these link...plz check it out:- <a href=\"http://stackoverflow.com/a/16706729/3946958\">stackoverflow.com/a/16706729/3946958</a>"},{"owner":{"account_id":5194918,"reputation":823,"user_id":4156595,"display_name":"anoop ghildiyal"},"score":4,"creation_date":1473415626,"post_id":5086339,"comment_id":66142551,"body_markdown":"bro its possible use can write multiple case without using break and at the end of case you can write your logic\nlike:\n\ncase some_value:\ncase some_value:\ncase some_value:\n    you_logic_goes_here\nbreak;","body":"bro its possible use can write multiple case without using break and at the end of case you can write your logic like:  case some_value: case some_value: case some_value:     you_logic_goes_here break;"},{"owner":{"account_id":88481,"reputation":8120,"user_id":244702,"accept_rate":75,"display_name":"Kevin Robatel"},"score":0,"creation_date":1473949468,"post_id":5086339,"comment_id":66343021,"body_markdown":"@FunJavaCode `Kotlin` has it too, which is compatible with Java. https://kotlinlang.org/docs/reference/control-flow.html#when-expression","body":"@FunJavaCode <code>Kotlin</code> has it too, which is compatible with Java. <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html#when-express&zwnj;&#8203;ion</a>"},{"owner":{"account_id":1925311,"reputation":1369,"user_id":1735921,"accept_rate":85,"display_name":"user1735921"},"score":1,"creation_date":1516340887,"post_id":5086339,"comment_id":83654715,"body_markdown":"You must be kidding me, its very much possible to do it. Simple don&#39;t apply a break in the end. Your answer is misleading.","body":"You must be kidding me, its very much possible to do it. Simple don&#39;t apply a break in the end. Your answer is misleading."},{"owner":{"account_id":183762,"reputation":17679,"user_id":419348,"accept_rate":93,"display_name":"AechoLiu"},"score":0,"creation_date":1533793738,"post_id":5086339,"comment_id":90478354,"body_markdown":"`Swift` has it too. &#39;case 1 ... 100&#39;, or `case 1 ..&lt; 101`.","body":"<code>Swift</code> has it too. &#39;case 1 ... 100&#39;, or <code>case 1 ..&lt; 101</code>."},{"owner":{"account_id":3399193,"reputation":1046,"user_id":3195688,"display_name":"Erikas"},"score":0,"creation_date":1545477124,"post_id":5086339,"comment_id":94636180,"body_markdown":"`Golang` also have it. https://tour.golang.org/flowcontrol/11 (9, 10 and 11 pages)","body":"<code>Golang</code> also have it. <a href=\"https://tour.golang.org/flowcontrol/11\" rel=\"nofollow noreferrer\">tour.golang.org/flowcontrol/11</a> (9, 10 and 11 pages)"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1604298400,"post_id":5086339,"comment_id":114294485,"body_markdown":"Why is this the accepted answer? this operation is totally possible in Java","body":"Why is this the accepted answer? this operation is totally possible in Java"},{"owner":{"account_id":11623405,"reputation":59,"user_id":8513973,"display_name":"Osama Hussain"},"score":0,"creation_date":1639331953,"post_id":5086339,"comment_id":124316223,"body_markdown":"It is possible using multiple switch cases see my answer","body":"It is possible using multiple switch cases see my answer"},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":0,"creation_date":1678959525,"post_id":5086339,"comment_id":133634996,"body_markdown":"It&#39;s possible in Java 19, see my answer https://stackoverflow.com/a/75730732/450812","body":"It&#39;s possible in Java 19, see my answer <a href=\"https://stackoverflow.com/a/75730732/450812\">stackoverflow.com/a/75730732/450812</a>"}],"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":15,"down_vote_count":24,"up_vote_count":114,"is_accepted":true,"score":90,"last_activity_date":1364469291,"creation_date":1298427650,"answer_id":5086339,"question_id":5086322,"body_markdown":"Sadly, it&#39;s not possible in Java. You&#39;ll have to resort to using `if-else` statements.","title":"Java switch statement multiple cases","body":"<p>Sadly, it's not possible in Java. You'll have to resort to using <code>if-else</code> statements.</p>\n"},{"comments":[{"owner":{"account_id":111379,"reputation":592,"user_id":294261,"accept_rate":100,"display_name":"Blaine Mucklow"},"score":2,"creation_date":1346430353,"post_id":5086858,"comment_id":16370041,"body_markdown":"I agree, case statements and big if blocks are nasty if you have a large amount of variables.  If you are doing a lot of case statements then you aren&#39;t using OO principles as well as you could be.","body":"I agree, case statements and big if blocks are nasty if you have a large amount of variables.  If you are doing a lot of case statements then you aren&#39;t using OO principles as well as you could be."}],"tags":[],"owner":{"display_name":"user177800"},"comment_count":1,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1298501495,"creation_date":1298433671,"answer_id":5086858,"question_id":5086322,"body_markdown":"One Object Oriented option to replace excessively large `switch` and `if/else` constructs is to use a `Chain of Responsibility Pattern` to model the decision making.\r\n\r\n**Chain of Responsibility Pattern**\r\n&gt; The chain of responsibility pattern\r\n&gt; allows the separation of the source of\r\n&gt; a request from deciding which of the\r\n&gt; potentially large number of handlers\r\n&gt; for the request should action it. The\r\n&gt; class representing the chain role\r\n&gt; channels the requests from the source\r\n&gt; along the list of handlers until a\r\n&gt; handler accepts the request and\r\n&gt; actions it.\r\n\r\nHere is an example implementation that is also Type Safe using Generics.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    /**\r\n    * Generic enabled Object Oriented Switch/Case construct\r\n    * @param &lt;T&gt; type to switch on\r\n    */\r\n    public class Switch&lt;T extends Comparable&lt;T&gt;&gt;\r\n    {\r\n        private final List&lt;Case&lt;T&gt;&gt; cases;\r\n    \r\n        public Switch()\r\n        {\r\n            this.cases = new ArrayList&lt;Case&lt;T&gt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Register the Cases with the Switch\r\n         * @param c case to register\r\n         */\r\n        public void register(final Case&lt;T&gt; c) { this.cases.add(c); }\r\n    \r\n        /**\r\n         * Run the switch logic on some input\r\n         * @param type input to Switch on\r\n         */\r\n        public void evaluate(final T type)\r\n        {\r\n            for (final Case&lt;T&gt; c : this.cases)\r\n            {\r\n                if (c.of(type)) { break; }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Generic Case condition\r\n         * @param &lt;T&gt; type to accept\r\n         */\r\n        public static interface Case&lt;T extends Comparable&lt;T&gt;&gt;\r\n        {\r\n            public boolean of(final T type);\r\n        }\r\n    \r\n        public static abstract class AbstractCase&lt;T extends Comparable&lt;T&gt;&gt; implements Case&lt;T&gt;\r\n        {\r\n            protected final boolean breakOnCompletion;\r\n    \r\n            protected AbstractCase()\r\n            {\r\n                this(true);\r\n            }\r\n    \r\n            protected AbstractCase(final boolean breakOnCompletion)\r\n            {\r\n                this.breakOnCompletion = breakOnCompletion;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Example of standard &quot;equals&quot; case condition\r\n         * @param &lt;T&gt; type to accept\r\n         */\r\n        public static abstract class EqualsCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\r\n        {\r\n            private final T type;\r\n    \r\n            public EqualsCase(final T type)\r\n            {\r\n                super();\r\n                this.type = type;\r\n            }\r\n    \r\n            public EqualsCase(final T type, final boolean breakOnCompletion)\r\n            {\r\n                super(breakOnCompletion);\r\n                this.type = type;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Concrete example of an advanced Case conditional to match a Range of values\r\n         * @param &lt;T&gt; type of input\r\n         */\r\n        public static abstract class InRangeCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\r\n        {\r\n            private final static int GREATER_THAN = 1;\r\n            private final static int EQUALS = 0;\r\n            private final static int LESS_THAN = -1;\r\n            protected final T start;\r\n            protected final T end;\r\n    \r\n            public InRangeCase(final T start, final T end)\r\n            {\r\n                this.start = start;\r\n                this.end = end;\r\n            }\r\n    \r\n            public InRangeCase(final T start, final T end, final boolean breakOnCompletion)\r\n            {\r\n                super(breakOnCompletion);\r\n                this.start = start;\r\n                this.end = end;\r\n            }\r\n    \r\n            private boolean inRange(final T type)\r\n            {\r\n                return (type.compareTo(this.start) == EQUALS || type.compareTo(this.start) == GREATER_THAN) &amp;&amp;\r\n                        (type.compareTo(this.end) == EQUALS || type.compareTo(this.end) == LESS_THAN);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Show how to apply a Chain of Responsibility Pattern to implement a Switch/Case construct\r\n         *\r\n         * @param args command line arguments aren&#39;t used in this example\r\n         */\r\n        public static void main(final String[] args)\r\n        {\r\n            final Switch&lt;Integer&gt; integerSwitch = new Switch&lt;Integer&gt;();\r\n            final Case&lt;Integer&gt; case1 = new EqualsCase&lt;Integer&gt;(1)\r\n            {\r\n                @Override\r\n                public boolean of(final Integer type)\r\n                {\r\n                    if (super.type.equals(type))\r\n                    {\r\n                        System.out.format(&quot;Case %d, break = %s\\n&quot;, type, super.breakOnCompletion);\r\n                        return super.breakOnCompletion;\r\n                    }\r\n                    else\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n            integerSwitch.register(case1);\r\n            // more instances for each matching pattern, granted this will get verbose with lots of options but is just\r\n            // and example of how to do standard &quot;switch/case&quot; logic with this pattern.\r\n            integerSwitch.evaluate(0);\r\n            integerSwitch.evaluate(1);\r\n            integerSwitch.evaluate(2);\r\n    \r\n    \r\n            final Switch&lt;Integer&gt; inRangeCaseSwitch = new Switch&lt;Integer&gt;();\r\n            final Case&lt;Integer&gt; rangeCase = new InRangeCase&lt;Integer&gt;(5, 100)\r\n            {\r\n                @Override\r\n                public boolean of(final Integer type)\r\n                {\r\n                    if (super.inRange(type))\r\n                    {\r\n                        System.out.format(&quot;Case %s is between %s and %s, break = %s\\n&quot;, type, this.start, this.end, super.breakOnCompletion);\r\n                        return super.breakOnCompletion;\r\n                    }\r\n                    else\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n            inRangeCaseSwitch.register(rangeCase);\r\n            // run some examples\r\n            inRangeCaseSwitch.evaluate(0);\r\n            inRangeCaseSwitch.evaluate(10);\r\n            inRangeCaseSwitch.evaluate(200);\r\n\r\n            // combining both types of Case implementations\r\n            integerSwitch.register(rangeCase);\r\n            integerSwitch.evaluate(1);\r\n            integerSwitch.evaluate(10);\r\n    \r\n        }\r\n    }\r\n\r\nThis is just a quick straw man that I whipped up in a few minutes, a more sophisticated implementation might allow for some kind of `Command Pattern` to be injected into the `Case` implementations instances to make it more of a call back IoC style.\r\n\r\nOnce nice thing about this approach is that Switch/Case statements are all about side affects, this encapsulates the side effects in Classes so they can be managed, and re-used better, it ends up being more like Pattern Matching in a Functional language and that isn&#39;t a bad thing.\r\n\r\nI will post any updates or enhancements to this [Gist][1] on Github.\r\n\r\n\r\n  [1]: http://www.vertigrated.com/blog/2011/02/a-generic-object-oriented-replacement-for-large-switch-case-and-if-else-statements-in-java/","title":"Java switch statement multiple cases","body":"<p>One Object Oriented option to replace excessively large <code>switch</code> and <code>if/else</code> constructs is to use a <code>Chain of Responsibility Pattern</code> to model the decision making.</p>\n\n<p><strong>Chain of Responsibility Pattern</strong></p>\n\n<blockquote>\n  <p>The chain of responsibility pattern\n  allows the separation of the source of\n  a request from deciding which of the\n  potentially large number of handlers\n  for the request should action it. The\n  class representing the chain role\n  channels the requests from the source\n  along the list of handlers until a\n  handler accepts the request and\n  actions it.</p>\n</blockquote>\n\n<p>Here is an example implementation that is also Type Safe using Generics.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n/**\n* Generic enabled Object Oriented Switch/Case construct\n* @param &lt;T&gt; type to switch on\n*/\npublic class Switch&lt;T extends Comparable&lt;T&gt;&gt;\n{\n    private final List&lt;Case&lt;T&gt;&gt; cases;\n\n    public Switch()\n    {\n        this.cases = new ArrayList&lt;Case&lt;T&gt;&gt;();\n    }\n\n    /**\n     * Register the Cases with the Switch\n     * @param c case to register\n     */\n    public void register(final Case&lt;T&gt; c) { this.cases.add(c); }\n\n    /**\n     * Run the switch logic on some input\n     * @param type input to Switch on\n     */\n    public void evaluate(final T type)\n    {\n        for (final Case&lt;T&gt; c : this.cases)\n        {\n            if (c.of(type)) { break; }\n        }\n    }\n\n    /**\n     * Generic Case condition\n     * @param &lt;T&gt; type to accept\n     */\n    public static interface Case&lt;T extends Comparable&lt;T&gt;&gt;\n    {\n        public boolean of(final T type);\n    }\n\n    public static abstract class AbstractCase&lt;T extends Comparable&lt;T&gt;&gt; implements Case&lt;T&gt;\n    {\n        protected final boolean breakOnCompletion;\n\n        protected AbstractCase()\n        {\n            this(true);\n        }\n\n        protected AbstractCase(final boolean breakOnCompletion)\n        {\n            this.breakOnCompletion = breakOnCompletion;\n        }\n    }\n\n    /**\n     * Example of standard \"equals\" case condition\n     * @param &lt;T&gt; type to accept\n     */\n    public static abstract class EqualsCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\n    {\n        private final T type;\n\n        public EqualsCase(final T type)\n        {\n            super();\n            this.type = type;\n        }\n\n        public EqualsCase(final T type, final boolean breakOnCompletion)\n        {\n            super(breakOnCompletion);\n            this.type = type;\n        }\n    }\n\n    /**\n     * Concrete example of an advanced Case conditional to match a Range of values\n     * @param &lt;T&gt; type of input\n     */\n    public static abstract class InRangeCase&lt;T extends Comparable&lt;T&gt;&gt; extends AbstractCase&lt;T&gt;\n    {\n        private final static int GREATER_THAN = 1;\n        private final static int EQUALS = 0;\n        private final static int LESS_THAN = -1;\n        protected final T start;\n        protected final T end;\n\n        public InRangeCase(final T start, final T end)\n        {\n            this.start = start;\n            this.end = end;\n        }\n\n        public InRangeCase(final T start, final T end, final boolean breakOnCompletion)\n        {\n            super(breakOnCompletion);\n            this.start = start;\n            this.end = end;\n        }\n\n        private boolean inRange(final T type)\n        {\n            return (type.compareTo(this.start) == EQUALS || type.compareTo(this.start) == GREATER_THAN) &amp;&amp;\n                    (type.compareTo(this.end) == EQUALS || type.compareTo(this.end) == LESS_THAN);\n        }\n    }\n\n    /**\n     * Show how to apply a Chain of Responsibility Pattern to implement a Switch/Case construct\n     *\n     * @param args command line arguments aren't used in this example\n     */\n    public static void main(final String[] args)\n    {\n        final Switch&lt;Integer&gt; integerSwitch = new Switch&lt;Integer&gt;();\n        final Case&lt;Integer&gt; case1 = new EqualsCase&lt;Integer&gt;(1)\n        {\n            @Override\n            public boolean of(final Integer type)\n            {\n                if (super.type.equals(type))\n                {\n                    System.out.format(\"Case %d, break = %s\\n\", type, super.breakOnCompletion);\n                    return super.breakOnCompletion;\n                }\n                else\n                {\n                    return false;\n                }\n            }\n        };\n        integerSwitch.register(case1);\n        // more instances for each matching pattern, granted this will get verbose with lots of options but is just\n        // and example of how to do standard \"switch/case\" logic with this pattern.\n        integerSwitch.evaluate(0);\n        integerSwitch.evaluate(1);\n        integerSwitch.evaluate(2);\n\n\n        final Switch&lt;Integer&gt; inRangeCaseSwitch = new Switch&lt;Integer&gt;();\n        final Case&lt;Integer&gt; rangeCase = new InRangeCase&lt;Integer&gt;(5, 100)\n        {\n            @Override\n            public boolean of(final Integer type)\n            {\n                if (super.inRange(type))\n                {\n                    System.out.format(\"Case %s is between %s and %s, break = %s\\n\", type, this.start, this.end, super.breakOnCompletion);\n                    return super.breakOnCompletion;\n                }\n                else\n                {\n                    return false;\n                }\n            }\n        };\n        inRangeCaseSwitch.register(rangeCase);\n        // run some examples\n        inRangeCaseSwitch.evaluate(0);\n        inRangeCaseSwitch.evaluate(10);\n        inRangeCaseSwitch.evaluate(200);\n\n        // combining both types of Case implementations\n        integerSwitch.register(rangeCase);\n        integerSwitch.evaluate(1);\n        integerSwitch.evaluate(10);\n\n    }\n}\n</code></pre>\n\n<p>This is just a quick straw man that I whipped up in a few minutes, a more sophisticated implementation might allow for some kind of <code>Command Pattern</code> to be injected into the <code>Case</code> implementations instances to make it more of a call back IoC style.</p>\n\n<p>Once nice thing about this approach is that Switch/Case statements are all about side affects, this encapsulates the side effects in Classes so they can be managed, and re-used better, it ends up being more like Pattern Matching in a Functional language and that isn't a bad thing.</p>\n\n<p>I will post any updates or enhancements to this <a href=\"http://www.vertigrated.com/blog/2011/02/a-generic-object-oriented-replacement-for-large-switch-case-and-if-else-statements-in-java/\" rel=\"noreferrer\">Gist</a> on Github.</p>\n"},{"comments":[{"owner":{"account_id":111379,"reputation":592,"user_id":294261,"accept_rate":100,"display_name":"Blaine Mucklow"},"score":69,"creation_date":1346430157,"post_id":5277741,"comment_id":16369982,"body_markdown":"The questioner said do this &quot;versus&quot; doing this.  He understands that what you listed is valid, he was trying to do the first thing INSTEAD of that.","body":"The questioner said do this &quot;versus&quot; doing this.  He understands that what you listed is valid, he was trying to do the first thing INSTEAD of that."},{"owner":{"account_id":89201,"reputation":54084,"user_id":246246,"accept_rate":96,"display_name":"animuson"},"score":64,"creation_date":1364081982,"post_id":5277741,"comment_id":22110600,"body_markdown":"I&#39;m sorry, but I don&#39;t see how listing out 95 cases in a row that go to the same thing is a solution to anything. If I encountered that in any code I would track them down, kidnap them, deliver them personally to GLaDOS, and hope she gives them the deadliest sequence of tests she can find.","body":"I&#39;m sorry, but I don&#39;t see how listing out 95 cases in a row that go to the same thing is a solution to anything. If I encountered that in any code I would track them down, kidnap them, deliver them personally to GLaDOS, and hope she gives them the deadliest sequence of tests she can find."},{"owner":{"account_id":5073215,"reputation":940,"user_id":4071413,"display_name":"killjoy"},"score":2,"creation_date":1539863335,"post_id":5277741,"comment_id":92660033,"body_markdown":"@animuson on top of which, he gets upvoted 60 times....go figure. I came here coz I didnt want to do the EXACT thing he answers","body":"@animuson on top of which, he gets upvoted 60 times....go figure. I came here coz I didnt want to do the EXACT thing he answers"},{"owner":{"account_id":2597187,"reputation":3096,"user_id":2250588,"display_name":"iheanyi"},"score":1,"creation_date":1544135482,"post_id":5277741,"comment_id":94179616,"body_markdown":"Downvoting as this does not answer the question. . .heck, apparently, the question wasn&#39;t even read in order to write this answer.","body":"Downvoting as this does not answer the question. . .heck, apparently, the question wasn&#39;t even read in order to write this answer."},{"owner":{"account_id":13437942,"reputation":740,"user_id":9695873,"display_name":"Elley"},"score":2,"creation_date":1661407932,"post_id":5277741,"comment_id":129765879,"body_markdown":"This is a nightmare, how can people upvote that that much ?","body":"This is a nightmare, how can people upvote that that much ?"},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":0,"creation_date":1684310891,"post_id":5277741,"comment_id":134498071,"body_markdown":"@Elley welcome to stackoverflow.. no one reads the questions (nor the answers it seems), they just rush in answering to get points","body":"@Elley welcome to stackoverflow.. no one reads the questions (nor the answers it seems), they just rush in answering to get points"}],"tags":[],"owner":{"account_id":720186,"reputation":1401,"user_id":655924,"display_name":"Dave"},"comment_count":6,"down_vote_count":40,"up_vote_count":148,"is_accepted":false,"score":108,"last_activity_date":1299873800,"creation_date":1299873800,"answer_id":5277741,"question_id":5086322,"body_markdown":"The second option is completely fine.  I&#39;m not sure why a responder said it was not possible.  This is fine, and I do this all the time:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java switch statement multiple cases","body":"<p>The second option is completely fine.  I'm not sure why a responder said it was not possible.  This is fine, and I do this all the time:</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":229347,"reputation":657,"user_id":2886839,"display_name":"kraxor"},"score":13,"creation_date":1404461537,"post_id":8664818,"comment_id":38057461,"body_markdown":"I wouldn&#39;t recommend this. If you just run through the code, you will have the intuition that `case 1` means `variable == 1`, which leads to confusion and a lot of pain in the long run. If you need to place comments in your code to make it readable, then you did something wrong IMHO.","body":"I wouldn&#39;t recommend this. If you just run through the code, you will have the intuition that <code>case 1</code> means <code>variable == 1</code>, which leads to confusion and a lot of pain in the long run. If you need to place comments in your code to make it readable, then you did something wrong IMHO."}],"tags":[],"owner":{"account_id":405218,"reputation":617,"user_id":773986,"display_name":"Santtu K&#228;hk&#246;nen"},"comment_count":1,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1473949163,"creation_date":1325141503,"answer_id":8664818,"question_id":5086322,"body_markdown":"Maybe not as elegant as some previous answers, but if you want to achieve switch cases with few large ranges, just combine ranges to a single case beforehand:\r\n\r\n    // make a switch variable so as not to change the original value\r\n    int switchVariable = variable;\r\n    \r\n    //combine range 1-100 to one single case in switch\r\n    if(1 &lt;= variable &amp;&amp; variable &lt;=100)\r\n        switchVariable = 1;\r\n    switch (switchVariable) \r\n    { \r\n        case 0:\r\n            break; \r\n        case 1:\r\n            // range 1-100\r\n            doSomething(); \r\n            break;\r\n        case 101: \r\n            doSomethingElse(); \r\n            break;\r\n        etc.\r\n    } ","title":"Java switch statement multiple cases","body":"<p>Maybe not as elegant as some previous answers, but if you want to achieve switch cases with few large ranges, just combine ranges to a single case beforehand:</p>\n\n<pre><code>// make a switch variable so as not to change the original value\nint switchVariable = variable;\n\n//combine range 1-100 to one single case in switch\nif(1 &lt;= variable &amp;&amp; variable &lt;=100)\n    switchVariable = 1;\nswitch (switchVariable) \n{ \n    case 0:\n        break; \n    case 1:\n        // range 1-100\n        doSomething(); \n        break;\n    case 101: \n        doSomethingElse(); \n        break;\n    etc.\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6530,"reputation":1194,"user_id":11026,"display_name":"Bdoserror"},"score":5,"creation_date":1358465874,"post_id":14288119,"comment_id":20018258,"body_markdown":"That is the same as the &quot;versus&quot; part of his question, which he wanted to avoid.","body":"That is the same as the &quot;versus&quot; part of his question, which he wanted to avoid."},{"owner":{"account_id":7024,"reputation":40236,"user_id":11995,"accept_rate":94,"display_name":"markus"},"score":3,"creation_date":1359322255,"post_id":14288119,"comment_id":20301378,"body_markdown":"Code only answers are almost as bad as link only answers. They&#39;re not really answers at all. A good answer contains explanations and reasoning and possibly some sources or authority.","body":"Code only answers are almost as bad as link only answers. They&#39;re not really answers at all. A good answer contains explanations and reasoning and possibly some sources or authority."},{"owner":{"account_id":2679825,"reputation":2595,"user_id":2315405,"accept_rate":84,"display_name":"D4rWiNS"},"score":3,"creation_date":1396130728,"post_id":14288119,"comment_id":34654947,"body_markdown":"It is better than nothing, some people take that as the best answer, simple and direct","body":"It is better than nothing, some people take that as the best answer, simple and direct"}],"tags":[],"owner":{"account_id":2234734,"reputation":979,"user_id":1971447,"accept_rate":100,"display_name":"P. Waksman"},"comment_count":3,"down_vote_count":5,"up_vote_count":72,"is_accepted":false,"score":67,"last_activity_date":1357945670,"creation_date":1357945670,"answer_id":14288119,"question_id":5086322,"body_markdown":"    public class SwitchTest {\r\n        public static void main(String[] args){\r\n            for(int i = 0;i&lt;10;i++){\r\n                switch(i){\r\n                    case 1: case 2: case 3: case 4: //First case\r\n                        System.out.println(&quot;First case&quot;);\r\n                        break;\r\n                    case 8: case 9: //Second case\r\n                        System.out.println(&quot;Second case&quot;);\r\n                        break;\r\n                    default: //Default case\r\n                        System.out.println(&quot;Default case&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOut:\r\n\r\n    Default case\r\n    First case\r\n    First case\r\n    First case\r\n    First case\r\n    Default case\r\n    Default case\r\n    Default case\r\n    Second case\r\n    Second case\r\n\r\nSrc: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Java switch statement multiple cases","body":"<pre><code>public class SwitchTest {\n    public static void main(String[] args){\n        for(int i = 0;i&lt;10;i++){\n            switch(i){\n                case 1: case 2: case 3: case 4: //First case\n                    System.out.println(\"First case\");\n                    break;\n                case 8: case 9: //Second case\n                    System.out.println(\"Second case\");\n                    break;\n                default: //Default case\n                    System.out.println(\"Default case\");\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>Default case\nFirst case\nFirst case\nFirst case\nFirst case\nDefault case\nDefault case\nDefault case\nSecond case\nSecond case\n</code></pre>\n\n<p>Src: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html</a></p>\n"},{"tags":[],"owner":{"account_id":2330568,"reputation":61,"user_id":2044107,"display_name":"Michael Kozakewich"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360085504,"creation_date":1360085504,"answer_id":14713424,"question_id":5086322,"body_markdown":"Basically:\r\n\r\n    if (variable &gt;= 5 &amp;&amp; variable &lt;= 100)\r\n    {\r\n        doSomething();\r\n    }\r\n\r\nIf you really needed to use a switch, it would be because you need to do various things for certain ranges. In that case, yes, you&#39;re going to have messy code, because things are getting complex and only things which follow patterns are going to compress well.\r\n\r\nThe only reason for a switch is to save on typing the variable name if you&#39;re just testing for numeric switching values. You aren&#39;t going to switch on 100 things, and they aren&#39;t going to be all doing the same thing. That sounds more like an &#39;if&#39; chunk.","title":"Java switch statement multiple cases","body":"<p>Basically:</p>\n\n<pre><code>if (variable &gt;= 5 &amp;&amp; variable &lt;= 100)\n{\n    doSomething();\n}\n</code></pre>\n\n<p>If you really needed to use a switch, it would be because you need to do various things for certain ranges. In that case, yes, you're going to have messy code, because things are getting complex and only things which follow patterns are going to compress well.</p>\n\n<p>The only reason for a switch is to save on typing the variable name if you're just testing for numeric switching values. You aren't going to switch on 100 things, and they aren't going to be all doing the same thing. That sounds more like an 'if' chunk.</p>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1472048817,"post_id":39123659,"comment_id":65597609,"body_markdown":"The question already offers this as a solution and asks if there&#39;s a way to specify a range *without* having to code every value in the range (OP would require 96 `case` statements!). I&#39;m afraid I agree with the accepted answer.","body":"The question already offers this as a solution and asks if there&#39;s a way to specify a range <i>without</i> having to code every value in the range (OP would require 96 <code>case</code> statements!). I&#39;m afraid I agree with the accepted answer."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1479826111,"post_id":39123659,"comment_id":68715307,"body_markdown":"Thanks for comment. See edit, maybe. I agree that it all depends on the scenario, and 5 vs 95 may not be the case.","body":"Thanks for comment. See edit, maybe. I agree that it all depends on the scenario, and 5 vs 95 may not be the case."}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1543481050,"creation_date":1472042530,"answer_id":39123659,"question_id":5086322,"body_markdown":"According to [this question][1], it&#39;s totally possible.\r\n\r\nJust put all cases that contain the same logic together, and don&#39;t put `break` behind them.\r\n\r\n    switch (var) {\r\n        case (value1):\r\n        case (value2):\r\n        case (value3):\r\n            //the same logic that applies to value1, value2 and value3\r\n            break;\r\n        case (value4):\r\n            //another logic\r\n            break;\r\n    }\r\n\r\nIt&#39;s because `case` without `break` will jump to another `case` until `break` or `return`. \r\n\r\n\r\nEDIT:\r\n\r\nReplying the comment, if we really have 95 values with the same logic, but a way smaller number of cases with different logic, we can do:\r\n\r\n    switch (var) {\r\n         case (96):\r\n         case (97):\r\n         case (98):\r\n         case (99):\r\n         case (100):\r\n             //your logic, opposite to what you put in default.\r\n             break;\r\n         default: \r\n             //your logic for 1 to 95. we enter default if nothing above is met. \r\n             break;\r\n    }\r\n\r\nIf you need finer control, `if-else` is the choice.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13774446/how-to-do-a-case-with-multiple-conditions#answer-13774469","title":"Java switch statement multiple cases","body":"<p>According to <a href=\"https://stackoverflow.com/questions/13774446/how-to-do-a-case-with-multiple-conditions#answer-13774469\">this question</a>, it's totally possible.</p>\n\n<p>Just put all cases that contain the same logic together, and don't put <code>break</code> behind them.</p>\n\n<pre><code>switch (var) {\n    case (value1):\n    case (value2):\n    case (value3):\n        //the same logic that applies to value1, value2 and value3\n        break;\n    case (value4):\n        //another logic\n        break;\n}\n</code></pre>\n\n<p>It's because <code>case</code> without <code>break</code> will jump to another <code>case</code> until <code>break</code> or <code>return</code>. </p>\n\n<p>EDIT:</p>\n\n<p>Replying the comment, if we really have 95 values with the same logic, but a way smaller number of cases with different logic, we can do:</p>\n\n<pre><code>switch (var) {\n     case (96):\n     case (97):\n     case (98):\n     case (99):\n     case (100):\n         //your logic, opposite to what you put in default.\n         break;\n     default: \n         //your logic for 1 to 95. we enter default if nothing above is met. \n         break;\n}\n</code></pre>\n\n<p>If you need finer control, <code>if-else</code> is the choice.</p>\n"},{"tags":[],"owner":{"account_id":1398005,"reputation":3053,"user_id":1327386,"accept_rate":100,"display_name":"hgrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505833845,"creation_date":1505833845,"answer_id":46303975,"question_id":5086322,"body_markdown":"It is possible to handle this using [Vavr][1] library\r\n\r\n    import static io.vavr.API.*;\r\n    import static io.vavr.Predicates.*;\r\n     \r\n    Match(variable).of(\r\n        Case($(isIn(5, 6, ... , 100)), () -&gt; doSomething()),\r\n        Case($(), () -&gt; handleCatchAllCase())\r\n    );\r\n\r\nThis is of course only slight improvement since all cases still need to be listed explicitly. But it is easy to define custom predicate:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; isInRange(T lower, T upper) {\r\n        return x -&gt; x.compareTo(lower) &gt;= 0 &amp;&amp; x.compareTo(upper) &lt;= 0;\r\n    }\r\n    \r\n    Match(variable).of(\r\n        Case($(isInRange(5, 100)), () -&gt; doSomething()),\r\n        Case($(), () -&gt; handleCatchAllCase())\r\n    );\r\n\r\nMatch is an expression so here it returns something like `Runnable` instance instead of invoking methods directly. After match is performed `Runnable` can be executed.\r\n\r\nFor further details please see [official documentation] [2].\r\n\r\n\r\n  [1]: http://www.vavr.io &quot;Vavr&quot;\r\n  [2]: http://www.vavr.io/vavr-docs/#_pattern_matching","title":"Java switch statement multiple cases","body":"<p>It is possible to handle this using <a href=\"http://www.vavr.io\" rel=\"nofollow noreferrer\" title=\"Vavr\">Vavr</a> library</p>\n\n<pre><code>import static io.vavr.API.*;\nimport static io.vavr.Predicates.*;\n\nMatch(variable).of(\n    Case($(isIn(5, 6, ... , 100)), () -&gt; doSomething()),\n    Case($(), () -&gt; handleCatchAllCase())\n);\n</code></pre>\n\n<p>This is of course only slight improvement since all cases still need to be listed explicitly. But it is easy to define custom predicate:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; isInRange(T lower, T upper) {\n    return x -&gt; x.compareTo(lower) &gt;= 0 &amp;&amp; x.compareTo(upper) &lt;= 0;\n}\n\nMatch(variable).of(\n    Case($(isInRange(5, 100)), () -&gt; doSomething()),\n    Case($(), () -&gt; handleCatchAllCase())\n);\n</code></pre>\n\n<p>Match is an expression so here it returns something like <code>Runnable</code> instance instead of invoking methods directly. After match is performed <code>Runnable</code> can be executed.</p>\n\n<p>For further details please see <a href=\"http://www.vavr.io/vavr-docs/#_pattern_matching\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":1925311,"reputation":1369,"user_id":1735921,"accept_rate":85,"display_name":"user1735921"},"score":0,"creation_date":1516340973,"post_id":46413373,"comment_id":83654740,"body_markdown":"The actual Answer which deserved thumbs up. Nice.","body":"The actual Answer which deserved thumbs up. Nice."}],"tags":[],"owner":{"account_id":10939969,"reputation":41,"user_id":8040195,"display_name":"Manoj Kumar Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506370039,"creation_date":1506370039,"answer_id":46413373,"question_id":5086322,"body_markdown":"\r\n    \r\n   // Noncompliant Code Example\r\n    \r\n    switch (i) {\r\n      case 1:\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      case 2:\r\n        doSomethingDifferent();\r\n        break;\r\n      case 3:  // Noncompliant; duplicates case 1&#39;s implementation\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      default:\r\n        doTheRest();\r\n    }\r\n    \r\n    if (a &gt;= 0 &amp;&amp; a &lt; 10) {\r\n      doFirstThing();\r\n\r\n      doTheThing();\r\n    }\r\n    else if (a &gt;= 10 &amp;&amp; a &lt; 20) {\r\n      doTheOtherThing();\r\n    }\r\n    else if (a &gt;= 20 &amp;&amp; a &lt; 50) {\r\n      doFirstThing();\r\n      doTheThing();  // Noncompliant; duplicates first condition\r\n    }\r\n    else {\r\n      doTheRest();\r\n    }\r\n    \r\n//Compliant Solution\r\n    \r\n    switch (i) {\r\n      case 1:\r\n      case 3:\r\n        doFirstThing();\r\n        doSomething();\r\n        break;\r\n      case 2:\r\n        doSomethingDifferent();\r\n        break;\r\n      default:\r\n        doTheRest();\r\n    }\r\n    \r\n    if ((a &gt;= 0 &amp;&amp; a &lt; 10) || (a &gt;= 20 &amp;&amp; a &lt; 50)) {\r\n      doFirstThing();\r\n      doTheThing();\r\n    }\r\n    else if (a &gt;= 10 &amp;&amp; a &lt; 20) {\r\n      doTheOtherThing();\r\n    }\r\n    else {\r\n      doTheRest();\r\n    }","title":"Java switch statement multiple cases","body":"<p>// Noncompliant Code Example</p>\n\n<pre><code>switch (i) {\n  case 1:\n    doFirstThing();\n    doSomething();\n    break;\n  case 2:\n    doSomethingDifferent();\n    break;\n  case 3:  // Noncompliant; duplicates case 1's implementation\n    doFirstThing();\n    doSomething();\n    break;\n  default:\n    doTheRest();\n}\n\nif (a &gt;= 0 &amp;&amp; a &lt; 10) {\n  doFirstThing();\n\n  doTheThing();\n}\nelse if (a &gt;= 10 &amp;&amp; a &lt; 20) {\n  doTheOtherThing();\n}\nelse if (a &gt;= 20 &amp;&amp; a &lt; 50) {\n  doFirstThing();\n  doTheThing();  // Noncompliant; duplicates first condition\n}\nelse {\n  doTheRest();\n}\n</code></pre>\n\n<p>//Compliant Solution</p>\n\n<pre><code>switch (i) {\n  case 1:\n  case 3:\n    doFirstThing();\n    doSomething();\n    break;\n  case 2:\n    doSomethingDifferent();\n    break;\n  default:\n    doTheRest();\n}\n\nif ((a &gt;= 0 &amp;&amp; a &lt; 10) || (a &gt;= 20 &amp;&amp; a &lt; 50)) {\n  doFirstThing();\n  doTheThing();\n}\nelse if (a &gt;= 10 &amp;&amp; a &lt; 20) {\n  doTheOtherThing();\n}\nelse {\n  doTheRest();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6590996,"reputation":141,"user_id":5092157,"display_name":"asok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526658711,"creation_date":1526658711,"answer_id":50415089,"question_id":5086322,"body_markdown":"for alternative you can use as below:\r\n\r\n\r\n\t\r\n\r\n    if (variable &gt;= 5 &amp;&amp; variable &lt;= 100) {\r\n    \t\tdoSomething();\r\n    \t\t\r\n    \t}\r\n\r\nor the following code also works\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }","title":"Java switch statement multiple cases","body":"<p>for alternative you can use as below:</p>\n\n<pre><code>if (variable &gt;= 5 &amp;&amp; variable &lt;= 100) {\n        doSomething();\n\n    }\n</code></pre>\n\n<p>or the following code also works</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1553718526,"creation_date":1553718526,"answer_id":55385918,"question_id":5086322,"body_markdown":"From the last java-12 release multiple constants in the same case label is available in [preview language feature](http://openjdk.java.net/jeps/12)\r\n\r\n&gt;It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.\r\n\r\nIt looks like:\r\n\r\n    switch(variable) {\r\n        case 1 -&gt; doSomething();\r\n        case 2, 3, 4 -&gt; doSomethingElse();\r\n    };\r\n\r\nSee more [JEP 325: Switch Expressions (Preview)](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8192963)","title":"Java switch statement multiple cases","body":"<p>From the last java-12 release multiple constants in the same case label is available in <a href=\"http://openjdk.java.net/jeps/12\" rel=\"noreferrer\">preview language feature</a></p>\n\n<blockquote>\n  <p>It is available in a JDK feature release to provoke developer feedback based on real world use; this may lead to it becoming permanent in a future Java SE Platform.</p>\n</blockquote>\n\n<p>It looks like:</p>\n\n<pre><code>switch(variable) {\n    case 1 -&gt; doSomething();\n    case 2, 3, 4 -&gt; doSomethingElse();\n};\n</code></pre>\n\n<p>See more <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8192963\" rel=\"noreferrer\">JEP 325: Switch Expressions (Preview)</a></p>\n"},{"tags":[],"owner":{"account_id":893749,"reputation":8510,"user_id":931511,"accept_rate":76,"display_name":"guilhebl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557809767,"creation_date":1557809767,"answer_id":56123237,"question_id":5086322,"body_markdown":"One alternative instead of using hard-coded values could be using range mappings on the the switch statement instead:\r\n\r\n\tprivate static final int RANGE_5_100 = 1;\r\n\tprivate static final int RANGE_101_1000 = 2;\r\n\tprivate static final int RANGE_1001_10000 = 3;\r\n\t\r\n\tpublic boolean handleRanges(int n) {\r\n\t\tint rangeCode = getRangeCode(n);\r\n\t\tswitch (rangeCode) {\r\n\t\t\tcase RANGE_5_100: // doSomething();\r\n\t\t\tcase RANGE_101_1000: // doSomething();\r\n\t\t\tcase RANGE_1001_10000: // doSomething();\r\n\t\t\tdefault: // invalid range\r\n\t\t}\r\n\t}\r\n\r\n\tprivate int getRangeCode(int n) {\r\n\t\tif (n &gt;= 5 &amp;&amp; n &lt;= 100) {\r\n\t\t\treturn RANGE_5_100;\r\n\t\t} else if (n &gt;= 101 &amp;&amp; n &lt;= 1000) {\r\n\t\t\treturn RANGE_101_1000;\r\n\t\t} else if (n &gt;= 1001 &amp;&amp; n &lt;= 10000) {\r\n\t\t\treturn RANGE_1001_10000;\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n","title":"Java switch statement multiple cases","body":"<p>One alternative instead of using hard-coded values could be using range mappings on the the switch statement instead:</p>\n\n<pre><code>private static final int RANGE_5_100 = 1;\nprivate static final int RANGE_101_1000 = 2;\nprivate static final int RANGE_1001_10000 = 3;\n\npublic boolean handleRanges(int n) {\n    int rangeCode = getRangeCode(n);\n    switch (rangeCode) {\n        case RANGE_5_100: // doSomething();\n        case RANGE_101_1000: // doSomething();\n        case RANGE_1001_10000: // doSomething();\n        default: // invalid range\n    }\n}\n\nprivate int getRangeCode(int n) {\n    if (n &gt;= 5 &amp;&amp; n &lt;= 100) {\n        return RANGE_5_100;\n    } else if (n &gt;= 101 &amp;&amp; n &lt;= 1000) {\n        return RANGE_101_1000;\n    } else if (n &gt;= 1001 &amp;&amp; n &lt;= 10000) {\n        return RANGE_1001_10000;\n    }\n\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4734827,"reputation":4157,"user_id":7109598,"display_name":"Iskuskov Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581245310,"creation_date":1581245310,"answer_id":60135810,"question_id":5086322,"body_markdown":"[**JEP 354: Switch Expressions (Preview)**](https://openjdk.java.net/jeps/354) in JDK-13 and [**JEP 361: Switch Expressions (Standard)**](https://openjdk.java.net/jeps/361) in JDK-14 will extend the _**switch statement**_ so it can be used as an _**expression**_. \r\n\r\nNow you can:\r\n\r\n - directly assign variable from _switch expression_, \r\n - use new form of switch label (`case L -&gt;`):\r\n   &gt; The code to the right of a &quot;case L -&gt;&quot; switch label is restricted to be an expression, a block, or (for convenience) a throw statement.\r\n - use multiple constants per case, separated by commas, \r\n - and also there are no more value _breaks_:\r\n   &gt; To yield a value from a switch expression, the `break` with value statement is dropped in favor of a `yield` statement.\r\n\r\nSwitch expression example:\r\n\r\n```java\r\npublic class SwitchExpression {\r\n\r\n  public static void main(String[] args) {\r\n      int month = 9;\r\n      int year = 2018;\r\n      int numDays = switch (month) {\r\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; 31;\r\n        case 4, 6, 9, 11 -&gt; 30;\r\n        case 2 -&gt; {\r\n          if (java.time.Year.of(year).isLeap()) {\r\n            System.out.println(&quot;Wow! It&#39;s leap year!&quot;);\r\n            yield 29;\r\n          } else {\r\n            yield 28;\r\n          }\r\n        }\r\n        default -&gt; {\r\n          System.out.println(&quot;Invalid month.&quot;);\r\n          yield 0;\r\n        }\r\n      };\r\n      System.out.println(&quot;Number of Days = &quot; + numDays);\r\n  }\r\n}\r\n\r\n```","title":"Java switch statement multiple cases","body":"<p><a href=\"https://openjdk.java.net/jeps/354\" rel=\"noreferrer\"><strong>JEP 354: Switch Expressions (Preview)</strong></a> in JDK-13 and <a href=\"https://openjdk.java.net/jeps/361\" rel=\"noreferrer\"><strong>JEP 361: Switch Expressions (Standard)</strong></a> in JDK-14 will extend the <em><strong>switch statement</strong></em> so it can be used as an <em><strong>expression</strong></em>. </p>\n\n<p>Now you can:</p>\n\n<ul>\n<li>directly assign variable from <em>switch expression</em>, </li>\n<li>use new form of switch label (<code>case L -&gt;</code>):\n\n<blockquote>\n  <p>The code to the right of a \"case L ->\" switch label is restricted to be an expression, a block, or (for convenience) a throw statement.</p>\n</blockquote></li>\n<li>use multiple constants per case, separated by commas, </li>\n<li>and also there are no more value <em>breaks</em>:\n\n<blockquote>\n  <p>To yield a value from a switch expression, the <code>break</code> with value statement is dropped in favor of a <code>yield</code> statement.</p>\n</blockquote></li>\n</ul>\n\n<p>Switch expression example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SwitchExpression {\n\n  public static void main(String[] args) {\n      int month = 9;\n      int year = 2018;\n      int numDays = switch (month) {\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; 31;\n        case 4, 6, 9, 11 -&gt; 30;\n        case 2 -&gt; {\n          if (java.time.Year.of(year).isLeap()) {\n            System.out.println(\"Wow! It's leap year!\");\n            yield 29;\n          } else {\n            yield 28;\n          }\n        }\n        default -&gt; {\n          System.out.println(\"Invalid month.\");\n          yield 0;\n        }\n      };\n      System.out.println(\"Number of Days = \" + numDays);\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1609747634,"creation_date":1609747634,"answer_id":65559444,"question_id":5086322,"body_markdown":"This is possible with switch enhancements in **Java 14**. Following is a fairly intuitive example of how the same can be achieved.\r\n\r\n    switch (month) {\r\n        case 1, 3, 5, 7, 8, 10, 12 -&gt; System.out.println(&quot;this month has 31 days&quot;);\r\n        case 4, 6, 9 -&gt; System.out.println(&quot;this month has 30 days&quot;);\r\n        case 2 -&gt; System.out.println(&quot;February can have 28 or 29 days&quot;);\r\n        default -&gt; System.out.println(&quot;invalid month&quot;);\r\n    }","title":"Java switch statement multiple cases","body":"<p>This is possible with switch enhancements in <strong>Java 14</strong>. Following is a fairly intuitive example of how the same can be achieved.</p>\n<pre><code>switch (month) {\n    case 1, 3, 5, 7, 8, 10, 12 -&gt; System.out.println(&quot;this month has 31 days&quot;);\n    case 4, 6, 9 -&gt; System.out.println(&quot;this month has 30 days&quot;);\n    case 2 -&gt; System.out.println(&quot;February can have 28 or 29 days&quot;);\n    default -&gt; System.out.println(&quot;invalid month&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4105113,"reputation":307,"user_id":7962741,"display_name":"Marko Zajc"},"score":2,"creation_date":1648414855,"post_id":70326241,"comment_id":126612244,"body_markdown":"Your solution uses three tenary operators and three switches for a problem that could be solved with an (ugly but arguably better) if-else chain.","body":"Your solution uses three tenary operators and three switches for a problem that could be solved with an (ugly but arguably better) if-else chain."}],"tags":[],"owner":{"account_id":11623405,"reputation":59,"user_id":8513973,"display_name":"Osama Hussain"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1639331896,"creation_date":1639331896,"answer_id":70326241,"question_id":5086322,"body_markdown":"I found a solution to this problem... We can use multiple conditions in switch cases in java.. but it require multiple switch cases..\r\n\r\n    public class MultiCSwitchTest {\r\n    public static void main(String[] args) {\r\n        int i = 209;\r\n        int a = 0;\r\n        switch (a = (i&gt;=1 &amp;&amp; i&lt;=100) ? 1 : a){    \r\n        case 1:\r\n            System.out.println (&quot;The Number is Between 1 to 100 ==&gt; &quot; + i);\r\n            break;\r\n        default:\r\n            switch (a = (i&gt;100 &amp;&amp; i&lt;=200) ? 2 : a) {\r\n                case 2:\r\n                    System.out.println(&quot;This Number is Between 101 to 200 ==&gt; &quot; + i);\r\n                    break;\r\n            \r\n                default:\r\n                    switch (a = (i&gt;200 &amp;&amp; i&lt;=300) ? 3 : a) {\r\n                        case 3:\r\n                            System.out.println(&quot;This Number is Between 201 to 300 ==&gt; &quot; + i);\r\n                            break;\r\n                    \r\n                        default:\r\n                            // You can make as many conditions as you want;\r\n                            break;\r\n                    }\r\n            }\r\n            \r\n        }\r\n    }\r\n    }","title":"Java switch statement multiple cases","body":"<p>I found a solution to this problem... We can use multiple conditions in switch cases in java.. but it require multiple switch cases..</p>\n<pre><code>public class MultiCSwitchTest {\npublic static void main(String[] args) {\n    int i = 209;\n    int a = 0;\n    switch (a = (i&gt;=1 &amp;&amp; i&lt;=100) ? 1 : a){    \n    case 1:\n        System.out.println (&quot;The Number is Between 1 to 100 ==&gt; &quot; + i);\n        break;\n    default:\n        switch (a = (i&gt;100 &amp;&amp; i&lt;=200) ? 2 : a) {\n            case 2:\n                System.out.println(&quot;This Number is Between 101 to 200 ==&gt; &quot; + i);\n                break;\n        \n            default:\n                switch (a = (i&gt;200 &amp;&amp; i&lt;=300) ? 3 : a) {\n                    case 3:\n                        System.out.println(&quot;This Number is Between 201 to 300 ==&gt; &quot; + i);\n                        break;\n                \n                    default:\n                        // You can make as many conditions as you want;\n                        break;\n                }\n        }\n        \n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678809290,"creation_date":1678783024,"answer_id":75730732,"question_id":5086322,"body_markdown":"[JEP 427: Pattern Matching for switch (Third Preview)][1] arrived as a preview feature in **Java 19**, and allows you to solve the problem with a so called &quot;guarded patten&quot;:\r\n\r\n\r\n    Integer variable = new Random().nextInt(200);\r\n    switch (variable) {\r\n         case Integer v when v &gt;= 5 &amp;&amp; v &lt;= 100\r\n                 -&gt; System.out.println(&quot;in my range&quot;);\r\n         default -&gt; System.out.println(&quot;out of range&quot;);\r\n    }\r\n\r\nHot to enable preview Features in your Java, see [this SO-Question][2].\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/427\r\n  [2]: https://stackoverflow.com/q/72083752/450812\r\n\r\nBy Java 20 or 21, this syntax will probably be available as a standard feature.","title":"Java switch statement multiple cases","body":"<p><a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\">JEP 427: Pattern Matching for switch (Third Preview)</a> arrived as a preview feature in <strong>Java 19</strong>, and allows you to solve the problem with a so called &quot;guarded patten&quot;:</p>\n<pre><code>Integer variable = new Random().nextInt(200);\nswitch (variable) {\n     case Integer v when v &gt;= 5 &amp;&amp; v &lt;= 100\n             -&gt; System.out.println(&quot;in my range&quot;);\n     default -&gt; System.out.println(&quot;out of range&quot;);\n}\n</code></pre>\n<p>Hot to enable preview Features in your Java, see <a href=\"https://stackoverflow.com/q/72083752/450812\">this SO-Question</a>.</p>\n<p>By Java 20 or 21, this syntax will probably be available as a standard feature.</p>\n"}],"owner":{"account_id":712241,"reputation":1561,"user_id":629427,"display_name":"FunJavaCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446644,"favorite_count":0,"down_vote_count":1,"up_vote_count":156,"accepted_answer_id":5086339,"answer_count":16,"score":155,"last_activity_date":1678809290,"creation_date":1298427442,"question_id":5086322,"body_markdown":"Just trying to figure out how to use many multiple cases for a Java switch statement. Here&#39;s an example of what I&#39;m trying to do:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5..100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\nversus having to do:\r\n\r\n    switch (variable)\r\n    {\r\n        case 5:\r\n        case 6:\r\n        etc.\r\n        case 100:\r\n            doSomething();\r\n        break;\r\n    }\r\n\r\nAny ideas if this possible, or what a good alternative is?","title":"Java switch statement multiple cases","body":"<p>Just trying to figure out how to use many multiple cases for a Java switch statement. Here's an example of what I'm trying to do:</p>\n\n<pre><code>switch (variable)\n{\n    case 5..100:\n        doSomething();\n    break;\n}\n</code></pre>\n\n<p>versus having to do:</p>\n\n<pre><code>switch (variable)\n{\n    case 5:\n    case 6:\n    etc.\n    case 100:\n        doSomething();\n    break;\n}\n</code></pre>\n\n<p>Any ideas if this possible, or what a good alternative is?</p>\n"},{"tags":["java","linux"],"owner":{"account_id":11631703,"reputation":21,"user_id":8835988,"display_name":"Mikhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678809275,"creation_date":1509004743,"question_id":46948799,"body_markdown":"I am writing JavaFX 8 application.\r\nI can successfully drag one or more files from my application and drop them into a file manager (Naitilus).\r\nHere is how I put the files to the dragboard:\r\n\r\n        private void dragDetected(MouseEvent mouseEvent,Thumbnail thumbnail) {\r\n            Dragboard dragboard = thumbnail.startDragAndDrop(TransferMode.COPY);\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            List&lt;File&gt; lstFileSelected = getListFileSelected();\r\n            clipboardContent.putFiles(lstFileSelected);\r\n            dragboard.setContent(clipboardContent);\r\n        \r\n            mouseEvent.consume();\r\n        }\r\n\r\nI can successfully copy a string from my application and paste it in an outer editor (gEdit).\r\nHere is how I put the string to the system clipboard:\r\n\r\n        private void copyToClipboard() {\r\n            Clipboard clipboard = Clipboard.getSystemClipboard();\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            clipboardContent.putString(&quot;Dummy&quot;);\r\n            clipboard.setContent(clipboardContent);\r\n        }\r\n\r\nBut when I try to copy one or more files from my application and to paste them into a file manger (Nautilus), into a folder with permissions==0777, I can&#39;t do this as a &#39;paste&#39; option in the file manager&#39;s menu is disabled.\r\nHere is how i put the files to the system clipboard:\r\n\r\n        private void copyToClipboard() {\r\n            Clipboard clipboard = Clipboard.getSystemClipboard();\r\n            ClipboardContent clipboardContent = new ClipboardContent();\r\n            List&lt;File&gt; lstFileSelected = getListFileSelected();\r\n            // lstFileSelected DOES HAVE all the selected files (one or more)\r\n            clipboardContent.putFiles(lstFileSelected);\r\n            clipboard.setContent(clipboardContent);\r\n        }\r\n\r\nMy environment:\r\n\r\n    Debian GNU/Linux 9 (stretch) 64-bit with Gnome 3.22.2\r\n    Java jdk-8u152-linux-x64\r\n    Eclipse SDK Oxygen.1a (4.7.1a)\r\n\r\nCan anybody help me to understand what is wrong.\r\nThank you, Mikhail.\r\n\r\n\r\n","title":"JavaFX 8 files drag and drop works but copy and paste doesn&#39;t","body":"<p>I am writing JavaFX 8 application.\nI can successfully drag one or more files from my application and drop them into a file manager (Naitilus).\nHere is how I put the files to the dragboard:</p>\n\n<pre><code>    private void dragDetected(MouseEvent mouseEvent,Thumbnail thumbnail) {\n        Dragboard dragboard = thumbnail.startDragAndDrop(TransferMode.COPY);\n        ClipboardContent clipboardContent = new ClipboardContent();\n        List&lt;File&gt; lstFileSelected = getListFileSelected();\n        clipboardContent.putFiles(lstFileSelected);\n        dragboard.setContent(clipboardContent);\n\n        mouseEvent.consume();\n    }\n</code></pre>\n\n<p>I can successfully copy a string from my application and paste it in an outer editor (gEdit).\nHere is how I put the string to the system clipboard:</p>\n\n<pre><code>    private void copyToClipboard() {\n        Clipboard clipboard = Clipboard.getSystemClipboard();\n        ClipboardContent clipboardContent = new ClipboardContent();\n        clipboardContent.putString(\"Dummy\");\n        clipboard.setContent(clipboardContent);\n    }\n</code></pre>\n\n<p>But when I try to copy one or more files from my application and to paste them into a file manger (Nautilus), into a folder with permissions==0777, I can't do this as a 'paste' option in the file manager's menu is disabled.\nHere is how i put the files to the system clipboard:</p>\n\n<pre><code>    private void copyToClipboard() {\n        Clipboard clipboard = Clipboard.getSystemClipboard();\n        ClipboardContent clipboardContent = new ClipboardContent();\n        List&lt;File&gt; lstFileSelected = getListFileSelected();\n        // lstFileSelected DOES HAVE all the selected files (one or more)\n        clipboardContent.putFiles(lstFileSelected);\n        clipboard.setContent(clipboardContent);\n    }\n</code></pre>\n\n<p>My environment:</p>\n\n<pre><code>Debian GNU/Linux 9 (stretch) 64-bit with Gnome 3.22.2\nJava jdk-8u152-linux-x64\nEclipse SDK Oxygen.1a (4.7.1a)\n</code></pre>\n\n<p>Can anybody help me to understand what is wrong.\nThank you, Mikhail.</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1608177148,"post_id":65235534,"comment_id":115505185,"body_markdown":"I think there is a problem in your code: You have `@Bean UserDetailsService userDetailsService()` vs. `@Service(&quot;userDetailsService&quot;) class UserDetailsServiceImpl`. It looks like there are two identically named ways to instantiate the service bean with two different types. The `@Bean` has the interface type and this is what gets created as a JDK proxy. In another place you explicitly declare the `@Service` to have an implementation type, which contradicts the bean factory method. I think you need to fix this inconsistency because it causes your problem, as the error message indicates.","body":"I think there is a problem in your code: You have <code>@Bean UserDetailsService userDetailsService()</code> vs. <code>@Service(&quot;userDetailsService&quot;) class UserDetailsServiceImpl</code>. It looks like there are two identically named ways to instantiate the service bean with two different types. The <code>@Bean</code> has the interface type and this is what gets created as a JDK proxy. In another place you explicitly declare the <code>@Service</code> to have an implementation type, which contradicts the bean factory method. I think you need to fix this inconsistency because it causes your problem, as the error message indicates."},{"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"score":0,"creation_date":1608203238,"post_id":65235534,"comment_id":115513832,"body_markdown":"@kriegaex Indeed this could be related to the problem. When I changed the return type of the `@Bean` to `UserDetailsServiceImpl` in `SecurityConfig` then it gave a clearer description of the error:\n`java.lang.IllegalStateException: @Bean method SecurityConfig.userDetailsService called as bean reference for type [com.intellivest.app.service.UserDetailsServiceImpl] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy330].`\nSpring advises that\n&gt; &quot;JDK dynamic proxies are preferred whenever you have a choice&quot;\nWhat solution do you propose keeping that in mind?","body":"@kriegaex Indeed this could be related to the problem. When I changed the return type of the <code>@Bean</code> to <code>UserDetailsServiceImpl</code> in <code>SecurityConfig</code> then it gave a clearer description of the error: <code>java.lang.IllegalStateException: @Bean method SecurityConfig.userDetailsService called as bean reference for type [com.intellivest.app.service.UserDetailsServiceImpl] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy330].</code> Spring advises that &gt; &quot;JDK dynamic proxies are preferred whenever you have a choice&quot; What solution do you propose keeping that in mind?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1608207337,"post_id":65235534,"comment_id":115515578,"body_markdown":"I am not a Spring user. But basically either you have to make sure everything is referenced to and instantiated as the interface type when using JDK proxies, which is the type created somewhere in your application as can be seen from the class name `com.sun.proxy.$Proxy330`. Maybe it is enough to add `@EnableAspectJAutoProxy` to your configuration class. Alternatively, you could enforce usage of CGLIB proxies via `@EnableAspectJAutoProxy(proxyTargetClass=true)`. I am too busy to copy all your classes into a new project and play around, if you have a GitHub project for me I can take a look.","body":"I am not a Spring user. But basically either you have to make sure everything is referenced to and instantiated as the interface type when using JDK proxies, which is the type created somewhere in your application as can be seen from the class name <code>com.sun.proxy.$Proxy330</code>. Maybe it is enough to add <code>@EnableAspectJAutoProxy</code> to your configuration class. Alternatively, you could enforce usage of CGLIB proxies via <code>@EnableAspectJAutoProxy(proxyTargetClass=true)</code>. I am too busy to copy all your classes into a new project and play around, if you have a GitHub project for me I can take a look."}],"answers":[{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678808838,"creation_date":1616604676,"answer_id":66785668,"question_id":65235534,"body_markdown":"**Solution 1 (Optimal)**\r\n\r\nThe methods used in the `@Service` class should all be declared in an interface that the `@Service` implements. Then the service can be referred to via its interface type everywhere (e.g. in `@Controller` class). This way Spring can continue to use JDK dynamic proxies (which are preferred over CGLIB). \r\n\r\nThis was especially important as an interface provided by Spring was implemented: `org.springframework.security.core.userdetails.UserDetailsService` which declared only 1 method but others were required too.  \r\nThis was rather a design problem than a simple coding issue.\r\n\r\nStep by step:\r\n\r\n    public interface CustomizedUserDetailsService extends UserDetailsService {\r\n    \tvoid add(User user);\r\n    }\r\n\r\nImplement the methods in the service:\r\n\r\n    @Service\r\n    public class UserDetailsServiceImpl implements CustomizedUserDetailsService{\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void add (User user) {\r\n    \t\t//...\r\n    \t}\r\n    }\r\n\r\n\r\nReference the bean through its interface type in the `@Configuration` **but return the implementation**:\r\n\r\n    @Bean\r\n    @Primary\r\n    public CustomizedUserDetailsService userDetailsService() {\r\n    \treturn new UserDetailsServiceImpl();\r\n    }\r\n\r\nWhile using the implementation inject the bean through a reference to its implemented interface:\r\n\r\n    @Controller\r\n    public class UserController {\r\n    \r\n    \tprivate CustomizedUserDetailsService userDetailsService;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic void setUsersService(CustomizedUserDetailsService customizedUserDetailsService) {\r\n    \t\tthis.userDetailsService = customizedUserDetailsService;\r\n    \t}\r\n    }\r\n\r\nMore details on proxies [here][1].\r\n\r\n**Solution 2**\r\n\r\nUse an annotation to enable CGLIB proxy on the service class.\r\nThis required spring-aop and aspectjweaver dependencies (not using Spring Boot).\r\n\r\n    @EnableAspectJAutoProxy(proxyTargetClass=true)\r\nThen the security configuration class can produce the bean like this:\r\n\r\n    @Bean\r\n    public UserDetailsServiceImpl userDetailsService() {\r\n    \treturn new UserDetailsServiceImpl();\r\n    }\r\n(The DAO layer should not be `@Transactional`, that should only be applied to the `@Service` class or specific methods of the latter class.)\r\n\r\n\r\n  [1]: https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring","title":"Spring error &quot;Bean named &#39;x&#39; is expected to be of type &#39;y&#39;, but was actually of type [com.sun.proxy.$Proxy]&quot;","body":"<p><strong>Solution 1 (Optimal)</strong></p>\n<p>The methods used in the <code>@Service</code> class should all be declared in an interface that the <code>@Service</code> implements. Then the service can be referred to via its interface type everywhere (e.g. in <code>@Controller</code> class). This way Spring can continue to use JDK dynamic proxies (which are preferred over CGLIB).</p>\n<p>This was especially important as an interface provided by Spring was implemented: <code>org.springframework.security.core.userdetails.UserDetailsService</code> which declared only 1 method but others were required too.<br />\nThis was rather a design problem than a simple coding issue.</p>\n<p>Step by step:</p>\n<pre><code>public interface CustomizedUserDetailsService extends UserDetailsService {\n    void add(User user);\n}\n</code></pre>\n<p>Implement the methods in the service:</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements CustomizedUserDetailsService{\n    @Override\n    @Transactional\n    public void add (User user) {\n        //...\n    }\n}\n</code></pre>\n<p>Reference the bean through its interface type in the <code>@Configuration</code> <strong>but return the implementation</strong>:</p>\n<pre><code>@Bean\n@Primary\npublic CustomizedUserDetailsService userDetailsService() {\n    return new UserDetailsServiceImpl();\n}\n</code></pre>\n<p>While using the implementation inject the bean through a reference to its implemented interface:</p>\n<pre><code>@Controller\npublic class UserController {\n\n    private CustomizedUserDetailsService userDetailsService;\n    \n    @Autowired\n    public void setUsersService(CustomizedUserDetailsService customizedUserDetailsService) {\n        this.userDetailsService = customizedUserDetailsService;\n    }\n}\n</code></pre>\n<p>More details on proxies <a href=\"https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Solution 2</strong></p>\n<p>Use an annotation to enable CGLIB proxy on the service class.\nThis required spring-aop and aspectjweaver dependencies (not using Spring Boot).</p>\n<pre><code>@EnableAspectJAutoProxy(proxyTargetClass=true)\n</code></pre>\n<p>Then the security configuration class can produce the bean like this:</p>\n<pre><code>@Bean\npublic UserDetailsServiceImpl userDetailsService() {\n    return new UserDetailsServiceImpl();\n}\n</code></pre>\n<p>(The DAO layer should not be <code>@Transactional</code>, that should only be applied to the <code>@Service</code> class or specific methods of the latter class.)</p>\n"}],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11293,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66785668,"answer_count":1,"score":3,"last_activity_date":1678808838,"creation_date":1607607205,"question_id":65235534,"body_markdown":"I am trying to implement a DAO based authentication in an application using Spring Security.\r\n\r\nWhen I tried to log in to the application with a user I got this error:\r\n\r\n    failed to lazily initialize a collection of role: com.example.app.dao.User.groups, could not initialize proxy - no Session\r\n\r\nLooking at @jcmwright80 &#39;s answer to [this question][1] I understood that I should ideally annotate `UserDetailsServiceImpl` class as `@Transactional`. After doing that I got an error during login:\r\n\r\n    Bean named &#39;userDetailsService&#39; is expected to be of type &#39;com.example.app.service.UserDetailsServiceImpl&#39; but was actually of type &#39;com.sun.proxy.$Proxy238&#39;&quot;}}\r\n\r\n**This seems to be an issue related to the proxy object created on UserDetailsServiceImpl - how can I fix this gracefully?**\r\n\r\n**CODE**\r\n\r\nRelevant part of the security configuration:\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.example.app.service&quot;)\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter  {\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService userDetailsService() {\r\n    \t\treturn new UserDetailsServiceImpl();\r\n    \t}\r\n    \t\r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n        \treturn new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n        \tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        \tauthProvider.setUserDetailsService(userDetailsService());\r\n        \tauthProvider.setPasswordEncoder(passwordEncoder());\r\n        \treturn authProvider;\r\n        }\r\n    \r\n    }\r\n\r\nUserDetailsServiceImpl.java\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserDetailsServiceImpl implements UserDetailsService{\r\n    \r\n    \tpublic UserDetailsServiceImpl () {};\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserDao userDao;\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \t\t\r\n    \t\tUser user = userDao.getUser(username);\r\n    \t\t\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException (&quot;User not found.&quot;);\r\n    \t\t}\r\n    \t\treturn new UserDetailsImpl(user);\r\n    \t}\r\n      }\r\n\r\nUser.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;,schema=&quot;sec&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;userGen&quot;)\r\n    \t@SequenceGenerator(name=&quot;userGen&quot;, sequenceName=&quot;user_id_seq&quot;, schema=&quot;sec&quot;)\r\n    \tprivate long id;\t\r\n\r\n        // Validation constraints on the fields ...\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate boolean enabled;\r\n    \t\r\n    \t@ManyToMany\r\n    \t@JoinTable(name=&quot;group_members&quot;, schema=&quot;sec&quot;, joinColumns= { @JoinColumn(name=&quot;user_id&quot;) }, inverseJoinColumns = { @JoinColumn(name=&quot;group_id&quot;) } )\r\n        private Set&lt;Group&gt; groups;\r\n\r\n     // Getters, Setters etc. ...\r\n     }\r\n\r\n(The alternative solution of using `@ManyToMany(fetch = FetchType.EAGER)` on collection type fields in `User` and `Group` classes works, though it could impact performance.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22821695/how-to-fix-hibernate-lazyinitializationexception-failed-to-lazily-initialize-a","title":"Spring error &quot;Bean named &#39;x&#39; is expected to be of type &#39;y&#39;, but was actually of type [com.sun.proxy.$Proxy]&quot;","body":"<p>I am trying to implement a DAO based authentication in an application using Spring Security.</p>\n<p>When I tried to log in to the application with a user I got this error:</p>\n<pre><code>failed to lazily initialize a collection of role: com.example.app.dao.User.groups, could not initialize proxy - no Session\n</code></pre>\n<p>Looking at @jcmwright80 's answer to <a href=\"https://stackoverflow.com/questions/22821695/how-to-fix-hibernate-lazyinitializationexception-failed-to-lazily-initialize-a\">this question</a> I understood that I should ideally annotate <code>UserDetailsServiceImpl</code> class as <code>@Transactional</code>. After doing that I got an error during login:</p>\n<pre><code>Bean named 'userDetailsService' is expected to be of type 'com.example.app.service.UserDetailsServiceImpl' but was actually of type 'com.sun.proxy.$Proxy238'&quot;}}\n</code></pre>\n<p><strong>This seems to be an issue related to the proxy object created on UserDetailsServiceImpl - how can I fix this gracefully?</strong></p>\n<p><strong>CODE</strong></p>\n<p>Relevant part of the security configuration:</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.example.app.service&quot;)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter  {\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsServiceImpl();\n    }\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n}\n</code></pre>\n<p>UserDetailsServiceImpl.java</p>\n<pre><code>@Service\n@Transactional\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n    public UserDetailsServiceImpl () {};\n    \n    @Autowired\n    private UserDao userDao;\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        \n        User user = userDao.getUser(username);\n        \n        if (user == null) {\n            throw new UsernameNotFoundException (&quot;User not found.&quot;);\n        }\n        return new UserDetailsImpl(user);\n    }\n  }\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;,schema=&quot;sec&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;userGen&quot;)\n    @SequenceGenerator(name=&quot;userGen&quot;, sequenceName=&quot;user_id_seq&quot;, schema=&quot;sec&quot;)\n    private long id;    \n\n    // Validation constraints on the fields ...\n    private String username;\n    private String password;\n    private boolean enabled;\n    \n    @ManyToMany\n    @JoinTable(name=&quot;group_members&quot;, schema=&quot;sec&quot;, joinColumns= { @JoinColumn(name=&quot;user_id&quot;) }, inverseJoinColumns = { @JoinColumn(name=&quot;group_id&quot;) } )\n    private Set&lt;Group&gt; groups;\n\n // Getters, Setters etc. ...\n }\n</code></pre>\n<p>(The alternative solution of using <code>@ManyToMany(fetch = FetchType.EAGER)</code> on collection type fields in <code>User</code> and <code>Group</code> classes works, though it could impact performance.)</p>\n"},{"tags":["java","math","logic","rounding"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1678808350,"post_id":75735208,"comment_id":133603187,"body_markdown":"162.75 * 100.0 will give you 1627.49999999 (see the duplicate answer).","body":"162.75 * 100.0 will give you 1627.49999999 (see the duplicate answer)."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678808851,"post_id":75735208,"comment_id":133603369,"body_markdown":"`System.out.printf(&quot;%.2f%n&quot;, 16.275);`","body":"<code>System.out.printf(&quot;%.2f%n&quot;, 16.275);</code>"},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678808918,"post_id":75735208,"comment_id":133603394,"body_markdown":"@Mureinik This is not a duplicate and that not reply the question about rounding.\nTo me, the question is about scientific rounding and HALF_EVEN method.","body":"@Mureinik This is not a duplicate and that not reply the question about rounding. To me, the question is about scientific rounding and HALF_EVEN method."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678808960,"post_id":75735208,"comment_id":133603408,"body_markdown":"If you want accuracy rather than speed, use `BigDecimal` class.","body":"If you want accuracy rather than speed, use <code>BigDecimal</code> class."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1678809062,"post_id":75735208,"comment_id":133603445,"body_markdown":"@bugsbuRny If you don&#39;t let Java calculate 16.275 * 100.0 but instead use `Math.round(1627.5)/100.0`, you&#39;ll get the expected 16.28. The issue here is with the multiplication, not rounding.","body":"@bugsbuRny If you don&#39;t let Java calculate 16.275 * 100.0 but instead use <code>Math.round(1627.5)&#47;100.0</code>, you&#39;ll get the expected 16.28. The issue here is with the multiplication, not rounding."},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678809828,"post_id":75735208,"comment_id":133603707,"body_markdown":"But it does not help the asker. You are hard-coding the number in the formula.","body":"But it does not help the asker. You are hard-coding the number in the formula."},{"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"score":0,"creation_date":1678809871,"post_id":75735208,"comment_id":133603722,"body_markdown":"@Emm\nTry this\n        BigDecimal bigd = new BigDecimal(16.27515, MathContext.DECIMAL32);\n        System.out.println(bigd.setScale(2, RoundingMode.HALF_EVEN ).doubleValue());\n\nChanging the RoundingMode will give you the liberty to decide about the rounding type.","body":"@Emm Try this         BigDecimal bigd = new BigDecimal(16.27515, MathContext.DECIMAL32);         System.out.println(bigd.setScale(2, RoundingMode.HALF_EVEN ).doubleValue());  Changing the RoundingMode will give you the liberty to decide about the rounding type."}],"owner":{"account_id":28015734,"reputation":11,"user_id":21397545,"display_name":"Emm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678808298,"answer_count":0,"score":0,"last_activity_date":1678807983,"creation_date":1678807837,"question_id":75735208,"body_markdown":"I am trying to round 16.275 to 2 decimal places in Java using Math.round(). It should be 16.28, but it keeps printing 16.27.\r\n\r\n\r\n```\r\ndouble x = 16.275; \r\nx = Math.round(x*100.0)/100.0;\r\nSystem.out.println(x);\r\n```\r\n\r\nCould someone explain what I need to change to get 16.28? Thank you!","title":"Why is Math.round() for Java not working for 16.275?","body":"<p>I am trying to round 16.275 to 2 decimal places in Java using Math.round(). It should be 16.28, but it keeps printing 16.27.</p>\n<pre><code>double x = 16.275; \nx = Math.round(x*100.0)/100.0;\nSystem.out.println(x);\n</code></pre>\n<p>Could someone explain what I need to change to get 16.28? Thank you!</p>\n"},{"tags":["java","algorithm","integer-overflow"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1678777404,"post_id":75729930,"comment_id":133594450,"body_markdown":"Provide example values. Keep in mind that a `long` data type can only hold a minimum value of `-9223372036854775808` (Long.MIN_VALUE) and a maximum value of `9223372036854775807` (Long.MAX_VALUE).","body":"Provide example values. Keep in mind that a <code>long</code> data type can only hold a minimum value of <code>-9223372036854775808</code> (Long.MIN_VALUE) and a maximum value of <code>9223372036854775807</code> (Long.MAX_VALUE)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678780946,"post_id":75729930,"comment_id":133595235,"body_markdown":"If you know the sum will not overflow, what happens if you just add the numbers, ignoring any overflow?","body":"If you know the sum will not overflow, what happens if you just add the numbers, ignoring any overflow?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1678783949,"post_id":75729930,"comment_id":133595946,"body_markdown":"You don&#39;t need to sort positive values and negative values. You just need to [partition the array](https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme) using 0 as the pivot. Then you need two indexes into the array, one for positive values, and the other for negative values. When the sum is positive, add a negative value. When the sum is negative, add a positive value. When you run out of either positive or negative values, you can safely add the rest of the unused values.","body":"You don&#39;t need to sort positive values and negative values. You just need to <a href=\"https://en.wikipedia.org/wiki/Quicksort#Hoare_partition_scheme\" rel=\"nofollow noreferrer\">partition the array</a> using 0 as the pivot. Then you need two indexes into the array, one for positive values, and the other for negative values. When the sum is positive, add a negative value. When the sum is negative, add a positive value. When you run out of either positive or negative values, you can safely add the rest of the unused values."}],"answers":[{"comments":[{"owner":{"account_id":136447,"reputation":3726,"user_id":339937,"display_name":"olegarch"},"score":0,"creation_date":1678857579,"post_id":75729948,"comment_id":133612683,"body_markdown":"Better way: Instead of adding pairs of (elm[0], elm[N]), elm([1], elm[N-1), etc - just check sign of accumulated result. If it is positive, add elm from begin of the array, if it is negative - add element from end of the array.","body":"Better way: Instead of adding pairs of (elm[0], elm[N]), elm([1], elm[N-1), etc - just check sign of accumulated result. If it is positive, add elm from begin of the array, if it is negative - add element from end of the array."},{"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"score":0,"creation_date":1678947847,"post_id":75729948,"comment_id":133632327,"body_markdown":"@olegarch I like your way of doing it as well :)","body":"@olegarch I like your way of doing it as well :)"}],"tags":[],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678777238,"creation_date":1678777238,"answer_id":75729948,"question_id":75729930,"body_markdown":"You could try sorting them first. Then add the first and last elements, 2nd and 2nd last elements, and so on., and get a sum of those numbers. ","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>You could try sorting them first. Then add the first and last elements, 2nd and 2nd last elements, and so on., and get a sum of those numbers.</p>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678781554,"creation_date":1678781554,"answer_id":75730509,"question_id":75729930,"body_markdown":"Since this is in Java, integer overflow has good mathematical properties, in particular: evaluating a sum with a `BigInteger` accumulator and then taking the lowest 64 bits of the result (ie converting it to a `long`), has the same result as working with a `long` the entire time, even if the sum sometimes overflows. That&#39;s a standard result from modular arithmetic.\r\n\r\nThat means that while you need to be careful to ensure that the result fits in a `long`, you already know that it will, so you can just let the sum overflow and you will still get the right result.","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>Since this is in Java, integer overflow has good mathematical properties, in particular: evaluating a sum with a <code>BigInteger</code> accumulator and then taking the lowest 64 bits of the result (ie converting it to a <code>long</code>), has the same result as working with a <code>long</code> the entire time, even if the sum sometimes overflows. That's a standard result from modular arithmetic.</p>\n<p>That means that while you need to be careful to ensure that the result fits in a <code>long</code>, you already know that it will, so you can just let the sum overflow and you will still get the right result.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1678807590,"creation_date":1678806508,"answer_id":75734955,"question_id":75729930,"body_markdown":"As stated in [Harold&#39;s](https://stackoverflow.com/users/555045/harold) answer [here](https://stackoverflow.com/a/75730509/1552534), the order of summing won&#39;t matter as long as the final sum fits in the designated type.\r\n\r\nThe following list of `ints` would certainly overflow at some point during the `int` summing process but the final sum would still fit in an int.   The long sum would clearly fit in a long with no overflow during the summing process.  But no matter how they are shuffled, the two sums are always the same.\r\n```\r\nList&lt;Integer&gt; listInt = new ArrayList&lt;&gt;(\r\n        List.of(Integer.MAX_VALUE / 2, Integer.MAX_VALUE / 2,\r\n                Integer.MAX_VALUE / 4, Integer.MIN_VALUE / 3,\r\n                Integer.MIN_VALUE / 3, Integer.MIN_VALUE / 3));\r\n\r\nfor (int i = 0; i &lt; 10000; i++) {\r\n    int intSum = listInt.stream().mapToInt(Integer::intValue).sum();\r\n    long longSum =listInt.stream().mapToLong(Long::valueOf).sum();\r\n    if(intSum != longSum) {\r\n        System.out.println(&quot;Problems with overflow.&quot;);\r\n    }\r\n    Collections.shuffle(listInt);\r\n}","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>As stated in <a href=\"https://stackoverflow.com/users/555045/harold\">Harold's</a> answer <a href=\"https://stackoverflow.com/a/75730509/1552534\">here</a>, the order of summing won't matter as long as the final sum fits in the designated type.</p>\n<p>The following list of <code>ints</code> would certainly overflow at some point during the <code>int</code> summing process but the final sum would still fit in an int.   The long sum would clearly fit in a long with no overflow during the summing process.  But no matter how they are shuffled, the two sums are always the same.</p>\n<pre><code>List&lt;Integer&gt; listInt = new ArrayList&lt;&gt;(\n        List.of(Integer.MAX_VALUE / 2, Integer.MAX_VALUE / 2,\n                Integer.MAX_VALUE / 4, Integer.MIN_VALUE / 3,\n                Integer.MIN_VALUE / 3, Integer.MIN_VALUE / 3));\n\nfor (int i = 0; i &lt; 10000; i++) {\n    int intSum = listInt.stream().mapToInt(Integer::intValue).sum();\n    long longSum =listInt.stream().mapToLong(Long::valueOf).sum();\n    if(intSum != longSum) {\n        System.out.println(&quot;Problems with overflow.&quot;);\n    }\n    Collections.shuffle(listInt);\n}\n</code></pre>\n"}],"owner":{"account_id":13380970,"reputation":25,"user_id":9656247,"display_name":"Jason Hapyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75730509,"answer_count":3,"score":1,"last_activity_date":1678807590,"creation_date":1678777047,"question_id":75729930,"body_markdown":"There are many long values, some are positive and some are negative, position and negative values exist at the same time and i have already know the sum of them will never orverflow.\r\n\r\nHow can i sum them without using BigInteger and get the right result?\r\n\r\nI have tried to add a positve value and then a negative value so that each sum will not overflow.\r\nBut I will have to sort positive value and negative values into two groups, so I don&#39;t think it is a good solution, what if all the values are generated by a source like EventSourcing?\r\n\r\n","title":"How to sum all long values without using BigInteger and overflow?","body":"<p>There are many long values, some are positive and some are negative, position and negative values exist at the same time and i have already know the sum of them will never orverflow.</p>\n<p>How can i sum them without using BigInteger and get the right result?</p>\n<p>I have tried to add a positve value and then a negative value so that each sum will not overflow.\nBut I will have to sort positive value and negative values into two groups, so I don't think it is a good solution, what if all the values are generated by a source like EventSourcing?</p>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678811060,"post_id":75735166,"comment_id":133604111,"body_markdown":"Try `javac -version`, `java` is your JRE (the runtime environment, not what compiles the code). Further, you should post your gradle file and ensure it is targetting at least JDK 11.","body":"Try <code>javac -version</code>, <code>java</code> is your JRE (the runtime environment, not what compiles the code). Further, you should post your gradle file and ensure it is targetting at least JDK 11."}],"owner":{"account_id":18645536,"reputation":33,"user_id":13590279,"display_name":"Ali Azizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678807569,"creation_date":1678807569,"question_id":75735166,"body_markdown":"I have developed an application with Flutter. I had to update the gradle version to install the sqflite package. After that, when running the program, I get the following error\r\n\r\n```\r\n\r\nFailed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the IDE settings.\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.\r\n```\r\njava -version result :\r\n```\r\njava version &quot;16.0.1&quot; 2021-04-20\r\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n```\r\nbut when run flutter doctor\r\nJava version is 1.8 !!!\r\n\r\n\r\n```\r\nhecking Android licenses is taking an unexpectedly long time...[✓] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n    • Android SDK at /Users/aliazizi/Library/Android/sdk\r\n    • Platform android-33, build-tools 30.0.3\r\n    • Java binary at: /Users/aliazizi/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/201.7199119/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)\r\n    • All Android licenses accepted.\r\n```\r\n\r\n[![my project structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MknpN.png","title":"how change java version","body":"<p>I have developed an application with Flutter. I had to update the gradle version to install the sqflite package. After that, when running the program, I get the following error</p>\n<pre><code>\nFailed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n</code></pre>\n<p>java -version result :</p>\n<pre><code>java version &quot;16.0.1&quot; 2021-04-20\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\n</code></pre>\n<p>but when run flutter doctor\nJava version is 1.8 !!!</p>\n<pre><code>hecking Android licenses is taking an unexpectedly long time...[✓] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n    • Android SDK at /Users/aliazizi/Library/Android/sdk\n    • Platform android-33, build-tools 30.0.3\n    • Java binary at: /Users/aliazizi/Library/Application Support/JetBrains/Toolbox/apps/AndroidStudio/ch-0/201.7199119/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6915495)\n    • All Android licenses accepted.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MknpN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MknpN.png\" alt=\"my project structure\" /></a></p>\n"},{"tags":["java","ssl","microservices","self-contained"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1633513246,"post_id":69459614,"comment_id":122777237,"body_markdown":"You didn&#39;t get the .pem file from GoDaddy, surely? In the beginning you must have had a private key, which you didn&#39;t get from GoDaddy, and didn&#39;t send to them. Show *all* the steps.","body":"You didn&#39;t get the .pem file from GoDaddy, surely? In the beginning you must have had a private key, which you didn&#39;t get from GoDaddy, and didn&#39;t send to them. Show <i>all</i> the steps."}],"answers":[{"comments":[{"owner":{"account_id":2586262,"reputation":333,"user_id":2241906,"display_name":"RDV"},"score":0,"creation_date":1633553150,"post_id":69460864,"comment_id":122793551,"body_markdown":"Thanks for helping !","body":"Thanks for helping !"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678807506,"creation_date":1633501945,"answer_id":69460864,"question_id":69459614,"body_markdown":"**Convert to PKC12/P12**\r\n\r\nIf the `my-file.pem` file is your private key (check the first line is 5 hyphens, BEGIN, optionally a word like RSA EC or ENCRYPTED, PRIVATE KEY, and 5 hyphens) then start with\r\n\r\n    openssl pkcs12 -export -in my-file.crt -inkey my-file.pem -certfile bundle-g2-g1.crt -out my.p12\r\n\r\nIf the `my-file.key` file is your private key, the run the command below:\r\n\r\n    openssl pkcs12 -export -in my-file.crt -inkey my-file.key -certfile bundle-g2-g1.crt -out my-file.p12\r\n\r\n**Note**:\r\n\r\nYou will be required to enter a password which you will need to save as it will be required by the application that wants to use the certificate.\r\n\r\n**Convert to JKS**\r\n\r\nNearly all java programs since 2018 can actually use a PKCS12 instead of JKS for a keystore, but if this code really does need a JKS then do\r\n\r\n    keytool -importkeystore -srckeystore my-file.p12 -destkeystore my-file.jks -deststoretype jks \r\n    # if using very old Java (below 8u40 or so) add -srcstoretype pkcs12\r\n\r\n**Re-convert to PKCS12 from JKS**\r\n\r\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using:\r\n\r\n    keytool -importkeystore -srckeystore my-file.jks -destkeystore my-file.p12 -deststoretype pkcs12\r\n\r\nMostly dupe (but somewhat updated from)  \r\nhttps://stackoverflow.com/questions/59179664/combined-pem-certificate-to-truststore-keystore-jsk  \r\nhttps://stackoverflow.com/questions/22296312/convert-certificate-from-pem-into-jks  \r\nhttps://stackoverflow.com/questions/51032763/how-do-i-generate-x-509-certificate-from-key-generated-by-openssl and more linked there  \r\nhttps://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore ","title":"How to create Java JKS file from GoDaddy SSL certificate","body":"<p><strong>Convert to PKC12/P12</strong></p>\n<p>If the <code>my-file.pem</code> file is your private key (check the first line is 5 hyphens, BEGIN, optionally a word like RSA EC or ENCRYPTED, PRIVATE KEY, and 5 hyphens) then start with</p>\n<pre><code>openssl pkcs12 -export -in my-file.crt -inkey my-file.pem -certfile bundle-g2-g1.crt -out my.p12\n</code></pre>\n<p>If the <code>my-file.key</code> file is your private key, the run the command below:</p>\n<pre><code>openssl pkcs12 -export -in my-file.crt -inkey my-file.key -certfile bundle-g2-g1.crt -out my-file.p12\n</code></pre>\n<p><strong>Note</strong>:</p>\n<p>You will be required to enter a password which you will need to save as it will be required by the application that wants to use the certificate.</p>\n<p><strong>Convert to JKS</strong></p>\n<p>Nearly all java programs since 2018 can actually use a PKCS12 instead of JKS for a keystore, but if this code really does need a JKS then do</p>\n<pre><code>keytool -importkeystore -srckeystore my-file.p12 -destkeystore my-file.jks -deststoretype jks \n# if using very old Java (below 8u40 or so) add -srcstoretype pkcs12\n</code></pre>\n<p><strong>Re-convert to PKCS12 from JKS</strong></p>\n<p>The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using:</p>\n<pre><code>keytool -importkeystore -srckeystore my-file.jks -destkeystore my-file.p12 -deststoretype pkcs12\n</code></pre>\n<p>Mostly dupe (but somewhat updated from)<br />\n<a href=\"https://stackoverflow.com/questions/59179664/combined-pem-certificate-to-truststore-keystore-jsk\">Combined .pem certificate to truststore/keystore.jsk</a><br />\n<a href=\"https://stackoverflow.com/questions/22296312/convert-certificate-from-pem-into-jks\">How to convert certificate from PEM to JKS?</a><br />\n<a href=\"https://stackoverflow.com/questions/51032763/how-do-i-generate-x-509-certificate-from-key-generated-by-openssl\">How do I generate X.509 certificate from key generated by openssl</a> and more linked there<br />\n<a href=\"https://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore\">https://serverfault.com/questions/483465/import-of-pem-certificate-chain-and-key-to-java-keystore</a></p>\n"}],"owner":{"account_id":2586262,"reputation":333,"user_id":2241906,"display_name":"RDV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69460864,"answer_count":1,"score":1,"last_activity_date":1678807506,"creation_date":1633492230,"question_id":69459614,"body_markdown":"I bought an SSL certificate in GoDaddy. I need to use it to start my Spark Java self-contained server through a secure connection. According to the documentation in http://sparkjava.com/documentation#examples-and-faq, I need to do the following:\r\n\r\n```\r\nString keyStoreLocation = &quot;deploy/keystore.jks&quot;;\r\nString keyStorePassword = &quot;password&quot;;\r\nsecure(keyStoreLocation, keyStorePassword, null, null);\r\n```\r\n\r\nBut when I download the certificate from GoDaddy I got the files:\r\n```\r\n11111.pem\r\n11111.crt\r\nbundle-g2-g1.crt\r\n```\r\n\r\nWhat do I need to do to convert these files is something compatible to use as the first parameter of  `secure(keyStoreLocation, keyStorePassword, null, null);`?","title":"How to create Java JKS file from GoDaddy SSL certificate","body":"<p>I bought an SSL certificate in GoDaddy. I need to use it to start my Spark Java self-contained server through a secure connection. According to the documentation in <a href=\"http://sparkjava.com/documentation#examples-and-faq\" rel=\"nofollow noreferrer\">http://sparkjava.com/documentation#examples-and-faq</a>, I need to do the following:</p>\n<pre><code>String keyStoreLocation = &quot;deploy/keystore.jks&quot;;\nString keyStorePassword = &quot;password&quot;;\nsecure(keyStoreLocation, keyStorePassword, null, null);\n</code></pre>\n<p>But when I download the certificate from GoDaddy I got the files:</p>\n<pre><code>11111.pem\n11111.crt\nbundle-g2-g1.crt\n</code></pre>\n<p>What do I need to do to convert these files is something compatible to use as the first parameter of  <code>secure(keyStoreLocation, keyStorePassword, null, null);</code>?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1612892725,"post_id":66124151,"comment_id":116905801,"body_markdown":"Why use `System.in`? Why not [`new Scanner(insert)`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#Scanner-java.io.InputStream-)? Or even `new Scanner(input)`?","body":"Why use <code>System.in</code>? Why not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#Scanner-java.io.InputStream-\" rel=\"nofollow noreferrer\"><code>new Scanner(insert)</code></a>? Or even <code>new Scanner(input)</code>?"},{"owner":{"account_id":19400144,"reputation":21,"user_id":14186893,"display_name":"SultanSalam"},"score":0,"creation_date":1612893269,"post_id":66124151,"comment_id":116906075,"body_markdown":"I edited the code to clarify. insert and input variables are in Junit while Scanner is in the method called by the Junit. The method does not contain inputs for such variables","body":"I edited the code to clarify. insert and input variables are in Junit while Scanner is in the method called by the Junit. The method does not contain inputs for such variables"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1612893383,"post_id":66124151,"comment_id":116906121,"body_markdown":"&quot;The method does not contain inputs for such variables&quot; can you add inputs so you can inject the dependency? This would be much more amenable to testing.","body":"&quot;The method does not contain inputs for such variables&quot; can you add inputs so you can inject the dependency? This would be much more amenable to testing."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1612893846,"post_id":66124151,"comment_id":116906350,"body_markdown":"Consider abstracting out system.in from your code in order to make it easier to test.","body":"Consider abstracting out system.in from your code in order to make it easier to test."}],"answers":[{"tags":[],"owner":{"account_id":20634253,"reputation":588,"user_id":15148356,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612902271,"creation_date":1612902271,"answer_id":66126564,"question_id":66124151,"body_markdown":"Here is a simple illustration. In the `add()` method, instead of `Scanner = new Scanner(System.in));` you can delegate to a simple factory method that can be overridden in the test.  Similarly, the output side abstracts away `System.out`:\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import java.util.Scanner;\r\n\r\n    public class ScanTest {\r\n\r\n      static class Calculator {\r\n        Scanner createScanner() {\r\n          return new Scanner(System.in);\r\n        }\r\n        public void add() {\r\n          Scanner scanner = createScanner();\r\n          int sum = 0;\r\n          while (scanner.hasNextLine()) {\r\n            String s = scanner.nextLine();\r\n            sum += Integer.parseInt(s);\r\n          }\r\n          print(String.valueOf(sum));\r\n        }\r\n        void print(String s) {\r\n          System.out.println(s);\r\n        }\r\n      }\r\n      @Test\r\n      public void testSum() {\r\n        String input = &quot;1\\n2\\n3\\n&quot;;\r\n        Scanner scanner123 = new Scanner(input);\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        Calculator calc = new Calculator() {\r\n          @Override Scanner createScanner() {\r\n            return scanner123;\r\n          }\r\n          @Override void print(String s) {\r\n            result.append(s);\r\n          }\r\n        };\r\n        calc.add();\r\n\r\n        Assert.assertEquals(&quot;6&quot;, result.toString());\r\n      }\r\n    }\r\n ","title":"How to System.In multiple lines in Java?","body":"<p>Here is a simple illustration. In the <code>add()</code> method, instead of <code>Scanner = new Scanner(System.in));</code> you can delegate to a simple factory method that can be overridden in the test.  Similarly, the output side abstracts away <code>System.out</code>:</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport java.util.Scanner;\n\npublic class ScanTest {\n\n  static class Calculator {\n    Scanner createScanner() {\n      return new Scanner(System.in);\n    }\n    public void add() {\n      Scanner scanner = createScanner();\n      int sum = 0;\n      while (scanner.hasNextLine()) {\n        String s = scanner.nextLine();\n        sum += Integer.parseInt(s);\n      }\n      print(String.valueOf(sum));\n    }\n    void print(String s) {\n      System.out.println(s);\n    }\n  }\n  @Test\n  public void testSum() {\n    String input = &quot;1\\n2\\n3\\n&quot;;\n    Scanner scanner123 = new Scanner(input);\n    StringBuilder result = new StringBuilder();\n\n    Calculator calc = new Calculator() {\n      @Override Scanner createScanner() {\n        return scanner123;\n      }\n      @Override void print(String s) {\n        result.append(s);\n      }\n    };\n    calc.add();\n\n    Assert.assertEquals(&quot;6&quot;, result.toString());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612903834,"creation_date":1612903834,"answer_id":66126934,"question_id":66124151,"body_markdown":"First you need to decide what it is you&#39;re testing.\r\n\r\nAre you testing whatever logic is using the input string, or are you testing the logic that prompts the user for that string.\r\n\r\nIf you answer &quot;both&quot;, then be aware that those are two different areas-of-responsibility, that should be tested separately, so if one fails it doesn&#39;t affect the testing status of the other.\r\n\r\n*Example Code Structure*\r\n\r\n```lang-java\r\nstatic String promptUserForInput(Scanner in) {\r\n    // logic here\r\n}\r\n\r\nstatic void doSomething(String input) {\r\n    // logic here\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    String input = promptUserForInput(in);\r\n    doSomething(input);\r\n}\r\n```\r\n\r\nWith that, you can now **unit** test each of the two pieces of logic separately.\r\n\r\nThis is referred to as [Separation-of-Concerns][1] (SoC).\r\n\r\nThe `main` method doesn&#39;t get unit tested.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Separation_of_concerns","title":"How to System.In multiple lines in Java?","body":"<p>First you need to decide what it is you're testing.</p>\n<p>Are you testing whatever logic is using the input string, or are you testing the logic that prompts the user for that string.</p>\n<p>If you answer &quot;both&quot;, then be aware that those are two different areas-of-responsibility, that should be tested separately, so if one fails it doesn't affect the testing status of the other.</p>\n<p><em>Example Code Structure</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>static String promptUserForInput(Scanner in) {\n    // logic here\n}\n\nstatic void doSomething(String input) {\n    // logic here\n}\n\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String input = promptUserForInput(in);\n    doSomething(input);\n}\n</code></pre>\n<p>With that, you can now <strong>unit</strong> test each of the two pieces of logic separately.</p>\n<p>This is referred to as <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation-of-Concerns</a> (SoC).</p>\n<p>The <code>main</code> method doesn't get unit tested.</p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612906935,"creation_date":1612906935,"answer_id":66127606,"question_id":66124151,"body_markdown":"You can use [System Lambda](https://github.com/stefanbirkner/system-lambda) for your test:\r\n\r\n```java\r\n@Test\r\nvoid Scanner_reads_text_from_System_in(\r\n) throws Exception {\r\n  withTextFromSystemIn(\r\n    &quot;GME to the MOON&quot;,\r\n    &quot;GME to the MOOON&quot;,\r\n    &quot;GME to the MOOOON&quot;\r\n  ).execute(() -&gt; {\r\n      Scanner scanner = new Scanner(System.in);\r\n      assertEquals(&quot;GME to the MOON&quot;, scanner.nextLine());\r\n      assertEquals(&quot;GME to the MOOON&quot;, scanner.nextLine());\r\n      assertEquals(&quot;GME to the MOOOON&quot;, scanner.nextLine());\r\n    });\r\n}\r\n```\r\n\r\nDisclaimer: I&#39;m the author of System Lambda.","title":"How to System.In multiple lines in Java?","body":"<p>You can use <a href=\"https://github.com/stefanbirkner/system-lambda\" rel=\"nofollow noreferrer\">System Lambda</a> for your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid Scanner_reads_text_from_System_in(\n) throws Exception {\n  withTextFromSystemIn(\n    &quot;GME to the MOON&quot;,\n    &quot;GME to the MOOON&quot;,\n    &quot;GME to the MOOOON&quot;\n  ).execute(() -&gt; {\n      Scanner scanner = new Scanner(System.in);\n      assertEquals(&quot;GME to the MOON&quot;, scanner.nextLine());\n      assertEquals(&quot;GME to the MOOON&quot;, scanner.nextLine());\n      assertEquals(&quot;GME to the MOOOON&quot;, scanner.nextLine());\n    });\n}\n</code></pre>\n<p>Disclaimer: I'm the author of System Lambda.</p>\n"},{"tags":[],"owner":{"account_id":2744961,"reputation":41,"user_id":8317677,"display_name":"Tonny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654856557,"creation_date":1654856557,"answer_id":72572712,"question_id":66124151,"body_markdown":"\r\nI found a simple method:\r\n\r\n1. Add function code\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class SimpleProgram004 {\r\n    public static void main(String[] args) {\r\n        try{\r\n            String c;\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n            do{\r\n                c = in.readLine();\r\n                System.out.println(c);\r\n                String d = c;\r\n            }while(!c.equals(&quot;q&quot;));\r\n        }catch(Exception e){\r\n            System.out.println(&quot;catch Exception&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n2. Add test code\r\n```\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.PrintStream;\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\n/**\r\n * Unit test for simple App. JUnit 4.x.\r\n */\r\npublic class SimpleProgram004Test {\r\n    private final InputStream systemIn = System.in;\r\n    private final PrintStream systemOut = System.out;\r\n\r\n    private ByteArrayInputStream testIn;\r\n    private ByteArrayOutputStream testOut;\r\n\r\n    @Before\r\n    public void setUpOutput() {\r\n        testOut = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(testOut));\r\n    }\r\n\r\n    private void setInput(String data) {\r\n        testIn = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(testIn);\r\n    }\r\n\r\n    private String getOutput() {\r\n        return testOut.toString();\r\n    }\r\n\r\n    @After\r\n    public void restoreSystemInputOutput() {\r\n        System.setIn(systemIn);\r\n        System.setOut(systemOut);\r\n    }\r\n\r\n    @Test // Multiply inputs\r\n    public void testCase1() {\r\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\r\n        setInput(testString);\r\n\r\n        SimpleProgram004.main(new String[0]);\r\n        // String a = getOutput();\r\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\r\n    }\r\n\r\n    @Test // Multiply inputs\r\n    public void testCase2() {\r\n        final String testString = &quot;Hello 1\\nHello 2\\nq\\nHello 3\\n&quot;;\r\n        setInput(testString);\r\n\r\n        SimpleProgram004.main(new String[0]);\r\n        String a = getOutput();\r\n        assertEquals(&quot;Hello 1\\r\\nHello 2\\r\\nq\\r\\n&quot;, getOutput());\r\n    }\r\n\r\n}\r\n```","title":"How to System.In multiple lines in Java?","body":"<p>I found a simple method:</p>\n<ol>\n<li>Add function code</li>\n</ol>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class SimpleProgram004 {\n    public static void main(String[] args) {\n        try{\n            String c;\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            do{\n                c = in.readLine();\n                System.out.println(c);\n                String d = c;\n            }while(!c.equals(&quot;q&quot;));\n        }catch(Exception e){\n            System.out.println(&quot;catch Exception&quot;);\n        }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Add test code</li>\n</ol>\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.io.PrintStream;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\n/**\n * Unit test for simple App. JUnit 4.x.\n */\npublic class SimpleProgram004Test {\n    private final InputStream systemIn = System.in;\n    private final PrintStream systemOut = System.out;\n\n    private ByteArrayInputStream testIn;\n    private ByteArrayOutputStream testOut;\n\n    @Before\n    public void setUpOutput() {\n        testOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(testOut));\n    }\n\n    private void setInput(String data) {\n        testIn = new ByteArrayInputStream(data.getBytes());\n        System.setIn(testIn);\n    }\n\n    private String getOutput() {\n        return testOut.toString();\n    }\n\n    @After\n    public void restoreSystemInputOutput() {\n        System.setIn(systemIn);\n        System.setOut(systemOut);\n    }\n\n    @Test // Multiply inputs\n    public void testCase1() {\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\n        setInput(testString);\n\n        SimpleProgram004.main(new String[0]);\n        // String a = getOutput();\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\n    }\n\n    @Test // Multiply inputs\n    public void testCase2() {\n        final String testString = &quot;Hello 1\\nHello 2\\nq\\nHello 3\\n&quot;;\n        setInput(testString);\n\n        SimpleProgram004.main(new String[0]);\n        String a = getOutput();\n        assertEquals(&quot;Hello 1\\r\\nHello 2\\r\\nq\\r\\n&quot;, getOutput());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4413602,"reputation":23,"user_id":3595831,"display_name":"user3595831"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265784,"creation_date":1668265784,"answer_id":74414074,"question_id":66124151,"body_markdown":"You can just simply add multiple lines \r\n\r\n    //JUnit code\r\n    String input = &quot;GME to the MOOON\\nSecond line\\nThird&quot;;\r\n    InputStream insert = new ByteArrayInputStream(input.getBytes());\r\n    System.setIn(insert);\r\n    \r\n    //Method called in test method\r\n    Scanner scannerObj = new Scanner(System.in);\r\n    String myString = scannerObj.nextLine();","title":"How to System.In multiple lines in Java?","body":"<p>You can just simply add multiple lines</p>\n<pre><code>//JUnit code\nString input = &quot;GME to the MOOON\\nSecond line\\nThird&quot;;\nInputStream insert = new ByteArrayInputStream(input.getBytes());\nSystem.setIn(insert);\n\n//Method called in test method\nScanner scannerObj = new Scanner(System.in);\nString myString = scannerObj.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807328,"creation_date":1678807328,"answer_id":75735119,"question_id":66124151,"body_markdown":"My advice is keep it simple, reuse one Scanner if possible. E.g. \r\n\r\n    import java.io.ByteArrayInputStream; \r\n    import java.util.Scanner;\r\n    \r\n    public class Mock_SystemIn_POJ { \r\n    \r\n      public static Scanner sc;\r\n    \r\n      public String getUser() { \r\n        System.out.print(&quot;Enter Username: &quot;); \r\n        System.out.flush(); \r\n          /// Make sure that username contains only a-Z, -, _ \r\n        while (!this.sc.hasNext(&quot;[[a-zA-Z0-9][\\n|\\r|\\r\\n|_|-|@|.]]+&quot;)) { \r\n            System.out.println(&quot; *** Invalid input. (Valid usernames contain only alphanumeric, @, ., - or _)&quot;);\r\n          System.out.print(&quot;Enter Username: &quot;); \r\n          System.out.flush(); \r\n          this.sc.next(); \r\n       }\r\n        return this.sc.next();   \t    \r\n       }\r\n    \r\n      public static void main(String[] args) {\r\n      Mock_SystemIn_POJ mspoj = new Mock_SystemIn_POJ();   \r\n      String inputVals = &quot;Valiant\\r\\nFury&quot;;  \r\n      try { \r\n        System.setIn(new ByteArrayInputStream(inputVals.getBytes()));\r\n        mspoj.sc = new Scanner(System.in); // has to be grabbed after  \r\n        System.out.println(mspoj.getUser());// outputs Enter Username: Valiant\r\n        System.out.println(mspoj.getUser());// outputs Enter Username: Fury\r\n    \t  } catch(Exception e) { e.printStackTrace(); } \r\n    } \r\n    }\r\n\r\nWhen you run this, you should get: \r\n\r\n    $&gt; java MockSystemIn_POJ \r\n    Enter Username: Valiant\r\n    Enter Username: Fury ","title":"How to System.In multiple lines in Java?","body":"<p>My advice is keep it simple, reuse one Scanner if possible. E.g.</p>\n<pre><code>import java.io.ByteArrayInputStream; \nimport java.util.Scanner;\n\npublic class Mock_SystemIn_POJ { \n\n  public static Scanner sc;\n\n  public String getUser() { \n    System.out.print(&quot;Enter Username: &quot;); \n    System.out.flush(); \n      /// Make sure that username contains only a-Z, -, _ \n    while (!this.sc.hasNext(&quot;[[a-zA-Z0-9][\\n|\\r|\\r\\n|_|-|@|.]]+&quot;)) { \n        System.out.println(&quot; *** Invalid input. (Valid usernames contain only alphanumeric, @, ., - or _)&quot;);\n      System.out.print(&quot;Enter Username: &quot;); \n      System.out.flush(); \n      this.sc.next(); \n   }\n    return this.sc.next();          \n   }\n\n  public static void main(String[] args) {\n  Mock_SystemIn_POJ mspoj = new Mock_SystemIn_POJ();   \n  String inputVals = &quot;Valiant\\r\\nFury&quot;;  \n  try { \n    System.setIn(new ByteArrayInputStream(inputVals.getBytes()));\n    mspoj.sc = new Scanner(System.in); // has to be grabbed after  \n    System.out.println(mspoj.getUser());// outputs Enter Username: Valiant\n    System.out.println(mspoj.getUser());// outputs Enter Username: Fury\n      } catch(Exception e) { e.printStackTrace(); } \n} \n}\n</code></pre>\n<p>When you run this, you should get:</p>\n<pre><code>$&gt; java MockSystemIn_POJ \nEnter Username: Valiant\nEnter Username: Fury \n</code></pre>\n"}],"owner":{"account_id":19400144,"reputation":21,"user_id":14186893,"display_name":"SultanSalam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1678807328,"creation_date":1612892429,"question_id":66124151,"body_markdown":"I want to System.In multiple lines of text since I use the .nextLine() method. I would copy paste the first 3 lines after every call of .nextLine() but I don&#39;t want to return to my JUnit every time. Is it possible?\r\n\r\n    //JUnit code\r\n    String input = &quot;GME to the MOOON&quot;;\r\n    InputStream insert = new ByteArrayInputStream(input.getBytes());\r\n    System.setIn(insert);\r\n    \r\n    //Method called in test method\r\n    Scanner scannerObj = new Scanner(System.in);\r\n    String myString = scannerObj.nextLine();\r\n\r\n","title":"How to System.In multiple lines in Java?","body":"<p>I want to System.In multiple lines of text since I use the .nextLine() method. I would copy paste the first 3 lines after every call of .nextLine() but I don't want to return to my JUnit every time. Is it possible?</p>\n<pre><code>//JUnit code\nString input = &quot;GME to the MOOON&quot;;\nInputStream insert = new ByteArrayInputStream(input.getBytes());\nSystem.setIn(insert);\n\n//Method called in test method\nScanner scannerObj = new Scanner(System.in);\nString myString = scannerObj.nextLine();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","http-request-parameters"],"comments":[{"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"score":0,"creation_date":1634989944,"post_id":69687817,"comment_id":123178390,"body_markdown":"Could you please elaborate or give an example with the fields I have listed here.","body":"Could you please elaborate or give an example with the fields I have listed here."},{"owner":{"account_id":5876312,"reputation":961,"user_id":4627040,"display_name":"Saeed Hassanvand"},"score":0,"creation_date":1634990308,"post_id":69687817,"comment_id":123178460,"body_markdown":"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","body":"<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":5876312,"reputation":961,"user_id":4627040,"display_name":"Saeed Hassanvand"},"score":1,"creation_date":1634991071,"post_id":69687817,"comment_id":123178613,"body_markdown":"Does this answer your question? [Filtering database rows with spring-data-jpa and spring-mvc](https://stackoverflow.com/questions/20280708/filtering-database-rows-with-spring-data-jpa-and-spring-mvc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20280708/filtering-database-rows-with-spring-data-jpa-and-spring-mvc\">Filtering database rows with spring-data-jpa and spring-mvc</a>"},{"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"score":0,"creation_date":1634991132,"post_id":69687817,"comment_id":123178624,"body_markdown":"Sorry,  but a newbie here! Can&#39;t get what exactly needs to do.","body":"Sorry,  but a newbie here! Can&#39;t get what exactly needs to do."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634995167,"creation_date":1634994356,"answer_id":69688440,"question_id":69687817,"body_markdown":"You should not write many condition and/or to call the function. It&#39;s hard to combine many condition. \r\n\r\nIn this case i often write the query which will append the condition if parameter is not null or if specify.\r\n\r\nHere is my way:\r\n\r\n    String query = &quot;select * from table where 1=1&quot;;\r\n    Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\n    if(filter1!=null){\r\n       query += &quot; and field1 = :filter1&quot;;\r\n       params.put(&quot;filter1&quot;,filter1);\r\n    }\r\n    if(filter2!=null){\r\n       query += &quot; and field2 = :filter2&quot;;\r\n       params.put(&quot;filter2&quot;,filter2);\r\n    }\r\n    dao.execute(query,params);\r\n\r\nThe condition null is not required, you can adapt it.\r\nIn case you don&#39;t want to have many arguments in your function.\r\nYou can create object/context/map to hold all filters.\r\n\r\nPS:\r\nI use String for readability, you should use StringBuilder. \r\n\r\nFor spring-jpa: \r\nExampleMatcher can do the same.\r\n \r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\r\n\r\n\r\n","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>You should not write many condition and/or to call the function. It's hard to combine many condition.</p>\n<p>In this case i often write the query which will append the condition if parameter is not null or if specify.</p>\n<p>Here is my way:</p>\n<pre><code>String query = &quot;select * from table where 1=1&quot;;\nMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nif(filter1!=null){\n   query += &quot; and field1 = :filter1&quot;;\n   params.put(&quot;filter1&quot;,filter1);\n}\nif(filter2!=null){\n   query += &quot; and field2 = :filter2&quot;;\n   params.put(&quot;filter2&quot;,filter2);\n}\ndao.execute(query,params);\n</code></pre>\n<p>The condition null is not required, you can adapt it.\nIn case you don't want to have many arguments in your function.\nYou can create object/context/map to hold all filters.</p>\n<p>PS:\nI use String for readability, you should use StringBuilder.</p>\n<p>For spring-jpa:\nExampleMatcher can do the same.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers</a></p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678807292,"creation_date":1634995497,"answer_id":69688578,"question_id":69687817,"body_markdown":"What you are looking for is a multi criteria query. You can use the very simple [Example API][1]\r\n\r\nYou will create an entity with the builder pattern. Lombok can help you in this step :\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @Column(name = &quot;age&quot;)\r\n        private int age;\r\n        // your other fields\r\n    \r\n    }\r\n\r\n\r\nThen you can call your method :\r\n \r\n\r\n    Employee employee = Employee\r\n        .builder()\r\n        .name(nameValue)\r\n        .age(ageValue)\r\n        .build();\r\n    \r\n    return repository.findAll(Example.of(employee));\r\n\r\n \r\nYou will find a full example [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Example.html\r\n  [2]: https://dimitr.im/writing-dynamic-queries-with-spring-data-jpa","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>What you are looking for is a multi criteria query. You can use the very simple <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Example.html\" rel=\"nofollow noreferrer\">Example API</a></p>\n<p>You will create an entity with the builder pattern. Lombok can help you in this step :</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;age&quot;)\n    private int age;\n    // your other fields\n\n}\n</code></pre>\n<p>Then you can call your method :</p>\n<pre><code>Employee employee = Employee\n    .builder()\n    .name(nameValue)\n    .age(ageValue)\n    .build();\n\nreturn repository.findAll(Example.of(employee));\n</code></pre>\n<p>You will find a full example <a href=\"https://dimitr.im/writing-dynamic-queries-with-spring-data-jpa\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634995981,"creation_date":1634995676,"answer_id":69688608,"question_id":69687817,"body_markdown":"A solution is to have a single method, and make parameters &quot;optional&quot; by managing null values in the query :\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n       select a from YourEntity a where\r\n       (?1 is null or a.name = ?1)\r\n       and (?2 is null or a.age= ?2)\r\n       and (?3 is null or a.salary = ?3)\r\n       and (?4 is null or a.description = ?4)\r\n       and (?5 is null or a.joiningDate = ?5)\r\n       and (?6 is null or a.gender = ?6)\r\n       &quot;&quot;&quot;)\r\nList&lt;YourEntity&gt; findFiltered(String name, Integer age, Float salary, String designation, LocalDateTime joiningDate, String gender)\r\n```","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>A solution is to have a single method, and make parameters &quot;optional&quot; by managing null values in the query :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n       select a from YourEntity a where\n       (?1 is null or a.name = ?1)\n       and (?2 is null or a.age= ?2)\n       and (?3 is null or a.salary = ?3)\n       and (?4 is null or a.description = ?4)\n       and (?5 is null or a.joiningDate = ?5)\n       and (?6 is null or a.gender = ?6)\n       &quot;&quot;&quot;)\nList&lt;YourEntity&gt; findFiltered(String name, Integer age, Float salary, String designation, LocalDateTime joiningDate, String gender)\n</code></pre>\n"}],"owner":{"account_id":22253460,"reputation":33,"user_id":16485967,"display_name":"Umang Kamdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678807292,"creation_date":1634989378,"question_id":69687817,"body_markdown":"Suppose I have an `Employee` class with multiple fields like `name`, `age`, `salary`, `designation`, `joiningDate`, `gender` and many more. Now, how could I apply filtering with many such parameters? There could be many combinations possible in such cases. (For Eg. if I want to have 6 filters, then there can be total of 6! = 720 combinations possible!!!)\r\n\r\nFor only 2, 3 parameters, like `age`, `salary`, `name`; then I could write multiple if cases like:\r\n\r\n```\r\nif(age!=null &amp;&amp; name==null &amp;&amp; salary==null)\r\n{\r\n    findByAge\r\n}\r\nif(age==null &amp;&amp; name!=null &amp;&amp; salary==null)\r\n{\r\n    findByName\r\n}\r\nif(age!=null &amp;&amp; name!=null &amp;&amp; salary==null)\r\n{\r\n    findByAgeAndName\r\n}\r\n``` \r\netc. like these with help of Spring Data JPA. But how to handle more parameters since combinations would increase with each RequestParams?\r\n\r\n ","title":"How to have filtering of multiple parameters passed as RequestParams in Spring Data Jpa?","body":"<p>Suppose I have an <code>Employee</code> class with multiple fields like <code>name</code>, <code>age</code>, <code>salary</code>, <code>designation</code>, <code>joiningDate</code>, <code>gender</code> and many more. Now, how could I apply filtering with many such parameters? There could be many combinations possible in such cases. (For Eg. if I want to have 6 filters, then there can be total of 6! = 720 combinations possible!!!)</p>\n<p>For only 2, 3 parameters, like <code>age</code>, <code>salary</code>, <code>name</code>; then I could write multiple if cases like:</p>\n<pre><code>if(age!=null &amp;&amp; name==null &amp;&amp; salary==null)\n{\n    findByAge\n}\nif(age==null &amp;&amp; name!=null &amp;&amp; salary==null)\n{\n    findByName\n}\nif(age!=null &amp;&amp; name!=null &amp;&amp; salary==null)\n{\n    findByAgeAndName\n}\n</code></pre>\n<p>etc. like these with help of Spring Data JPA. But how to handle more parameters since combinations would increase with each RequestParams?</p>\n"},{"tags":["java","spring","spring-thymeleaf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678775284,"post_id":75728779,"comment_id":133594059,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1678788330,"post_id":75728779,"comment_id":133597171,"body_markdown":"Don&#39;t use the username like this for anything security related. You shouldn&#39;t need to do this any way. The server should know the logged in user itself. There is no need to send the name to it.","body":"Don&#39;t use the username like this for anything security related. You shouldn&#39;t need to do this any way. The server should know the logged in user itself. There is no need to send the name to it."}],"answers":[{"comments":[{"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"score":0,"creation_date":1678808438,"post_id":75729986,"comment_id":133603218,"body_markdown":"@PostMapping(&quot;/{id}&quot;) //&quot;/{email}&quot;\n\tprivate String addnew(@ModelAttribute(&quot;fuser&quot;) UserDTO dto,@PathVariable String id)     now this is not working properly could you help.                                                                                           Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nTue Mar 14 10:37:37 CDT 2023\nThere was an unexpected error (type=Not Found, status=404).\nNo message available","body":"@PostMapping(&quot;/{id}&quot;) //&quot;/{email}&quot; \tprivate String addnew(@ModelAttribute(&quot;fuser&quot;) UserDTO dto,@PathVariable String id)     now this is not working properly could you help.                                                                                           Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.  Tue Mar 14 10:37:37 CDT 2023 There was an unexpected error (type=Not Found, status=404). No message available"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1678809486,"post_id":75729986,"comment_id":133603610,"body_markdown":"Please edit your question and post the controller mapping code there","body":"Please edit your question and post the controller mapping code there"},{"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"score":0,"creation_date":1678810349,"post_id":75729986,"comment_id":133603872,"body_markdown":"@PostMapping(&quot;/{id}&quot;) \n\tprivate String addnew@PathVariable(&quot;id&quot;) String id, @ModelAttribute(&quot;food&quot;) FoodDTO dto) {  \n\t\tfindByEmail(id);\n\t\treturn &quot;foods&quot;;\n\t}","body":"@PostMapping(&quot;/{id}&quot;)  \tprivate String addnew@PathVariable(&quot;id&quot;) String id, @ModelAttribute(&quot;food&quot;) FoodDTO dto) {   \t\tfindByEmail(id); \t\treturn &quot;foods&quot;; \t}"},{"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"score":0,"creation_date":1678810399,"post_id":75729986,"comment_id":133603890,"body_markdown":"this is what I am getting:  Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Tue Mar 14 10:37:37 CDT 2023 There was an unexpected error (type=Not Found, status=404). No message available","body":"this is what I am getting:  Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback. Tue Mar 14 10:37:37 CDT 2023 There was an unexpected error (type=Not Found, status=404). No message available"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1678817180,"post_id":75729986,"comment_id":133605801,"body_markdown":"Did you miss /hello in controller mapping","body":"Did you miss /hello in controller mapping"}],"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678807274,"creation_date":1678777506,"answer_id":75729986,"question_id":75728779,"body_markdown":"You can achieve it with &lt;br/&gt;&lt;br/&gt; ```&lt;form th:action=&quot;@{/hello/{id}/(id=${#authentication.getName()})}&quot;&gt;```\r\n&lt;br/&gt;&lt;br/&gt;\r\nThymeleafs [documentation](https://www.thymeleaf.org/doc/articles/standardurlsyntax.html) on standard url syntax explains how to add parameters as path variable or request parameters in pretty detailed manner. &lt;br/&gt;\r\n&lt;br/&gt; Added this answer only for learning purpose. You don&#39;t need to send username like this. Access it on server side from authentication principal.","title":"How to Build form action url with &#39;sec:authentication=&quot;name&quot;&#39; in thymeleaf","body":"<p>You can achieve it with <br/><br/> <code>&lt;form th:action=&quot;@{/hello/{id}/(id=${#authentication.getName()})}&quot;&gt;</code>\n<br/><br/>\nThymeleafs <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html\" rel=\"nofollow noreferrer\">documentation</a> on standard url syntax explains how to add parameters as path variable or request parameters in pretty detailed manner. <br/>\n<br/> Added this answer only for learning purpose. You don't need to send username like this. Access it on server side from authentication principal.</p>\n"}],"owner":{"account_id":15771494,"reputation":1,"user_id":11380416,"display_name":"Incanayable"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678807274,"creation_date":1678763480,"question_id":75728779,"body_markdown":"example: &lt;form th:action=&quot;@{/hello/${#authentication.username}}&quot; \r\n\r\ntry to pass authentication.username as a parameter to the controler","title":"How to Build form action url with &#39;sec:authentication=&quot;name&quot;&#39; in thymeleaf","body":"<p>example: &lt;form th:action=&quot;@{/hello/${#authentication.username}}&quot;</p>\n<p>try to pass authentication.username as a parameter to the controler</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9649,"page":576,"page_size":100}
