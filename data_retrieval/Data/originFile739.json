{"items":[{"tags":["java","swing","jpanel","jbutton"],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1673192464,"post_id":75046793,"comment_id":132438279,"body_markdown":"Why use two panels? A GridLayout can be configured for multiple rows and columns.","body":"Why use two panels? A GridLayout can be configured for multiple rows and columns."}],"tags":[],"owner":{"account_id":27403514,"reputation":11,"user_id":20904549,"display_name":"go-senca"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673200564,"creation_date":1673170990,"answer_id":75046793,"question_id":75046431,"body_markdown":"You shoud use GridLayout to arrange the components in a rectangular grid. \r\n\r\nFollowing example has GridLayout with two rows in one column.\r\nIt simply lays out buttons in a row since FlowLayout is the default layout manager for JPanel.   \r\n\r\n\r\n        JPanel row1Panel = new JPanel();\r\n        JPanel row2Panel = new JPanel();\r\n        mainPanel.setLayout(new GridLayout(2,1));\r\n        mainPanel.add(row1Panel);\r\n        mainPanel.add(row2Panel);\r\n\r\n        JButton age = new JButton(&quot;Age up&quot;);\r\n        row1Panel.add(age);\r\n        JButton character = new JButton(&quot;Character&quot;);\r\n        row1Panel.add(character);\r\n    \r\n        JButton jobs = new JButton(&quot;Jobs&quot;);\r\n        row2Panel.add(jobs);\r\n        JButton manegement = new JButton(&quot;Management&quot;);\r\n        row2Panel.add(manegement);\r\n\r\n\r\n","title":"How do I rearrange my JButtons to to be in two rows at the top","body":"<p>You shoud use GridLayout to arrange the components in a rectangular grid.</p>\n<p>Following example has GridLayout with two rows in one column.\nIt simply lays out buttons in a row since FlowLayout is the default layout manager for JPanel.</p>\n<pre><code>    JPanel row1Panel = new JPanel();\n    JPanel row2Panel = new JPanel();\n    mainPanel.setLayout(new GridLayout(2,1));\n    mainPanel.add(row1Panel);\n    mainPanel.add(row2Panel);\n\n    JButton age = new JButton(&quot;Age up&quot;);\n    row1Panel.add(age);\n    JButton character = new JButton(&quot;Character&quot;);\n    row1Panel.add(character);\n\n    JButton jobs = new JButton(&quot;Jobs&quot;);\n    row2Panel.add(jobs);\n    JButton manegement = new JButton(&quot;Management&quot;);\n    row2Panel.add(manegement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673215294,"creation_date":1673215294,"answer_id":75051586,"question_id":75046431,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nI rearranged your code and created the following GUI.\r\n\r\n[![buttons][1]][1]\r\n\r\nI used a `GridLayout` to create the `JButton` `JPanel`.\r\n\r\nI separated the creation of the `JFrame` from the creation of the `JPanel`.  This makes the code easier to read and understand and allows me to focus on one part of the GUI at a time.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Fantasyrpglifesim implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Fantasyrpglifesim());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createButtonPanel(), BorderLayout.NORTH);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 6, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tJButton age = new JButton(&quot;Age up&quot;);\r\n    \t\tpanel.add(age);\r\n    \t\tJButton character = new JButton(&quot;Character&quot;);\r\n    \t\tpanel.add(character);\r\n    \t\tJButton worldmap = new JButton(&quot;World map&quot;);\r\n    \t\tpanel.add(worldmap);\r\n    \t\tJButton setings = new JButton(&quot;Settings&quot;);\r\n    \t\tpanel.add(setings);\r\n    \t\tJButton jobs = new JButton(&quot;Jobs&quot;);\r\n    \t\tpanel.add(jobs);\r\n    \t\tJButton manegement = new JButton(&quot;Management&quot;);\r\n    \t\tpanel.add(manegement);\r\n    \t\tJButton family = new JButton(&quot;Relationships&quot;);\r\n    \t\tpanel.add(family);\r\n    \t\tJButton cfafting = new JButton(&quot;Crafting&quot;);\r\n    \t\tpanel.add(cfafting);\r\n    \t\tJButton newgame = new JButton(&quot;New game&quot;);\r\n    \t\tpanel.add(newgame);\r\n    \t\tJButton titorial = new JButton(&quot;tutorial&quot;);\r\n    \t\tpanel.add(titorial);\r\n    \t\tJButton log = new JButton(&quot;Log&quot;);\r\n    \t\tpanel.add(log);\r\n    \t\tJButton acheiments = new JButton(&quot;Achievements&quot;);\r\n    \t\tpanel.add(acheiments);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nQK0t.png\r\n","title":"How do I rearrange my JButtons to to be in two rows at the top","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>I rearranged your code and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/nQK0t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQK0t.png\" alt=\"buttons\" /></a></p>\n<p>I used a <code>GridLayout</code> to create the <code>JButton</code> <code>JPanel</code>.</p>\n<p>I separated the creation of the <code>JFrame</code> from the creation of the <code>JPanel</code>.  This makes the code easier to read and understand and allows me to focus on one part of the GUI at a time.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Fantasyrpglifesim implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Fantasyrpglifesim());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createButtonPanel(), BorderLayout.NORTH);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 6, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        JButton age = new JButton(&quot;Age up&quot;);\n        panel.add(age);\n        JButton character = new JButton(&quot;Character&quot;);\n        panel.add(character);\n        JButton worldmap = new JButton(&quot;World map&quot;);\n        panel.add(worldmap);\n        JButton setings = new JButton(&quot;Settings&quot;);\n        panel.add(setings);\n        JButton jobs = new JButton(&quot;Jobs&quot;);\n        panel.add(jobs);\n        JButton manegement = new JButton(&quot;Management&quot;);\n        panel.add(manegement);\n        JButton family = new JButton(&quot;Relationships&quot;);\n        panel.add(family);\n        JButton cfafting = new JButton(&quot;Crafting&quot;);\n        panel.add(cfafting);\n        JButton newgame = new JButton(&quot;New game&quot;);\n        panel.add(newgame);\n        JButton titorial = new JButton(&quot;tutorial&quot;);\n        panel.add(titorial);\n        JButton log = new JButton(&quot;Log&quot;);\n        panel.add(log);\n        JButton acheiments = new JButton(&quot;Achievements&quot;);\n        panel.add(acheiments);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24398237,"reputation":11,"user_id":18327297,"display_name":"berserker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673450918,"creation_date":1673166853,"question_id":75046431,"body_markdown":"My JButtons are in an asymmetrical row. I want them to be in 2 symmetrical rows at the top because I think that would look better. How would I do this? \r\n\r\nHere is my code:\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\nclass Fantasyrpglifesim {\r\n    private  static int count = 1;\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        JPanel mainPanel = new JPanel();\r\n        JPanel westPanel = new JPanel();\r\n        JPanel eastPanel = new JPanel();\r\n\r\n        JButton age = new JButton(&quot;Age up&quot;);\r\n        mainPanel.add(age);\r\n        JButton character = new JButton(&quot;Character&quot;);\r\n        mainPanel.add(character);\r\n        JButton worldmap = new JButton(&quot;World map&quot;);\r\n        mainPanel.add(worldmap);\r\n        JButton setings = new JButton(&quot;Settings&quot;);\r\n        mainPanel.add(setings);\r\n        JButton jobs = new JButton(&quot;Jobs&quot;);\r\n        westPanel.add(jobs);\r\n        JButton manegement = new JButton(&quot;Management&quot;);\r\n        westPanel.add(manegement);\r\n        JButton family = new JButton(&quot;Relationships&quot;);\r\n        westPanel.add(family);\r\n        JButton cfafting = new JButton(&quot;Crafting&quot;);\r\n        westPanel.add(cfafting);\r\n        JButton newgame = new JButton(&quot;New game&quot;);\r\n        eastPanel.add(newgame);\r\n        JButton titorial = new JButton(&quot;tutorial&quot;);\r\n        eastPanel.add(titorial);\r\n        JButton log = new JButton(&quot;Log&quot;);\r\n        eastPanel.add(log);\r\n        JButton acheiments = new JButton(&quot;Achievements&quot;);\r\n        eastPanel.add(acheiments);\r\n        for (int x=0; x&lt;14;x++){\r\n\r\n\r\n        }\r\n        westPanel.setVisible(true);\r\n        eastPanel.setVisible(true);\r\n        frame.getContentPane().add(BorderLayout.NORTH,mainPanel);\r\n        frame.getContentPane().add(BorderLayout.WEST,westPanel);\r\n        frame.getContentPane().add(BorderLayout.EAST,eastPanel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(1285, 678);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI have tried rearranging the JPanels, but that did not work. I just want them to be in two rows.","title":"How do I rearrange my JButtons to to be in two rows at the top","body":"<p>My JButtons are in an asymmetrical row. I want them to be in 2 symmetrical rows at the top because I think that would look better. How would I do this?</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\nclass Fantasyrpglifesim {\n    private  static int count = 1;\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        JPanel mainPanel = new JPanel();\n        JPanel westPanel = new JPanel();\n        JPanel eastPanel = new JPanel();\n\n        JButton age = new JButton(&quot;Age up&quot;);\n        mainPanel.add(age);\n        JButton character = new JButton(&quot;Character&quot;);\n        mainPanel.add(character);\n        JButton worldmap = new JButton(&quot;World map&quot;);\n        mainPanel.add(worldmap);\n        JButton setings = new JButton(&quot;Settings&quot;);\n        mainPanel.add(setings);\n        JButton jobs = new JButton(&quot;Jobs&quot;);\n        westPanel.add(jobs);\n        JButton manegement = new JButton(&quot;Management&quot;);\n        westPanel.add(manegement);\n        JButton family = new JButton(&quot;Relationships&quot;);\n        westPanel.add(family);\n        JButton cfafting = new JButton(&quot;Crafting&quot;);\n        westPanel.add(cfafting);\n        JButton newgame = new JButton(&quot;New game&quot;);\n        eastPanel.add(newgame);\n        JButton titorial = new JButton(&quot;tutorial&quot;);\n        eastPanel.add(titorial);\n        JButton log = new JButton(&quot;Log&quot;);\n        eastPanel.add(log);\n        JButton acheiments = new JButton(&quot;Achievements&quot;);\n        eastPanel.add(acheiments);\n        for (int x=0; x&lt;14;x++){\n\n\n        }\n        westPanel.setVisible(true);\n        eastPanel.setVisible(true);\n        frame.getContentPane().add(BorderLayout.NORTH,mainPanel);\n        frame.getContentPane().add(BorderLayout.WEST,westPanel);\n        frame.getContentPane().add(BorderLayout.EAST,eastPanel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(1285, 678);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>I have tried rearranging the JPanels, but that did not work. I just want them to be in two rows.</p>\n"},{"tags":["java","karate","karate-call-single"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1673450686,"post_id":75085326,"comment_id":132502669,"body_markdown":"closing as exact duplicate","body":"closing as exact duplicate"}],"owner":{"account_id":7281815,"reputation":168,"user_id":5551321,"display_name":"Ramath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673450651,"answer_count":0,"score":1,"last_activity_date":1673450576,"creation_date":1673450576,"question_id":75085326,"body_markdown":"I have run a test case against multiple servers, ie Dev, QA, and STAGING. How can I configure all the URLs in the Karate configuration?\r\n\r\nThese server names are passed to Karate from the command line, using -D option","title":"Configure multiple base url&#39;s in Karate","body":"<p>I have run a test case against multiple servers, ie Dev, QA, and STAGING. How can I configure all the URLs in the Karate configuration?</p>\n<p>These server names are passed to Karate from the command line, using -D option</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1673456225,"post_id":75085308,"comment_id":132504922,"body_markdown":"Please [edit] your question and add a [mcve]","body":"Please <a href=\"https://stackoverflow.com/posts/75085308/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":27251687,"reputation":3,"user_id":20776029,"display_name":"Haze0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673450498,"creation_date":1673450498,"question_id":75085308,"body_markdown":"I was just launching my app on an avd and this weird &quot;Failed to parse&quot; error is occurring again and again. This is what is popping up:\r\n`Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable`\r\n\r\nI tried to build the entire project again, but it gives the same output again and again. Can somebody help? Cheers :)","title":"Gradle build failing to parse and build while running the app","body":"<p>I was just launching my app on an avd and this weird &quot;Failed to parse&quot; error is occurring again and again. This is what is popping up:\n<code>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable</code></p>\n<p>I tried to build the entire project again, but it gives the same output again and again. Can somebody help? Cheers :)</p>\n"},{"tags":["java","jsp","footer","jspinclude"],"owner":{"account_id":25990094,"reputation":1,"user_id":20831052,"display_name":"Volodymyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673450453,"creation_date":1673450328,"question_id":75085269,"body_markdown":"devs. Here I have a problem with the speed of jsp footer loading\r\n\r\nI have my jsp page, where I include header.jsp, footer.jsp and navigation bar. header and navbar loads in a wink, but content of footer loads too slow (about 10-15 sec). But when I place \r\n```\r\n&lt;jsp:include page=&quot;/WEB-INF/fragments/footer.jsp&quot;/&gt; \r\n```\r\nin the the top of jsp page, it works normally. What is the reason of it?\r\n\r\n\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\r\n&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\r\n\r\n&lt;c:set var=&quot;language&quot;\r\n       value=&quot;${not empty param.language ? param.language : not empty language ? language : pageContext.request.locale}&quot;\r\n       scope=&quot;session&quot;/&gt;\r\n&lt;fmt:setLocale value=&quot;${language}&quot;/&gt;\r\n&lt;fmt:setBundle basename=&quot;resources&quot;/&gt;\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;${language}&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Conferences World&lt;/title&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://fonts.googleapis.com/css?family=Raleway&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&quot;&gt;\r\n    &lt;style&gt;\r\n        &lt;%@ include file=&quot;../../css/w3style.css&quot; %&gt;\r\n        body, h1, h2, h3, h4, h5, h6 {\r\n            font-family: &quot;Raleway&quot;, sans-serif\r\n        }\r\n\r\n        body, html {\r\n            height: 100%;\r\n            line-height: 1.8;\r\n        }\r\n\r\n        .w3-bar .w3-button {\r\n            padding: 16px;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;jsp:include page=&quot;/WEB-INF/fragments/header.jsp&quot;/&gt;\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;jsp:include page=&quot;/WEB-INF/fragments/role_bar.jsp&quot;/&gt;\r\n\r\n\r\n&lt;!-- Overlay effect when opening sidebar on small screens --&gt;\r\n\r\n&lt;!-- Main content: shift it to the right by 250 pixels when the sidebar is visible --&gt;\r\n&lt;div class=&quot;w3-main&quot; style=&quot;margin-left:250px&quot;&gt;\r\n    &lt;div class=&quot;w3-row w3-padding-64&quot;&gt;\r\n        &lt;div class=&quot;w3-twothird w3-container&quot;&gt;\r\n            &lt;h1 class=&quot;w3-text-teal&quot;&gt;WELCOME, ${user.email}, ${user.role} &lt;/h1&gt;\r\n            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et\r\n                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip\r\n                ex ea commodo consequat. Lorem ipsum\r\n                dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna\r\n                aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\r\n                consequat.&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;w3-third w3-container&quot;&gt;\r\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-32 w3-center&quot;&gt;AD&lt;/p&gt;\r\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-64 w3-center&quot;&gt;AD&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;w3-row&quot;&gt;\r\n        &lt;div class=&quot;w3-twothird w3-container&quot;&gt;\r\n            &lt;h1 class=&quot;w3-text-teal&quot;&gt;We miss you, ${user.email} &lt;/h1&gt;\r\n            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum\r\n                dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;w3-third w3-container&quot;&gt;\r\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-32 w3-center&quot;&gt;AD&lt;/p&gt;\r\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-64 w3-center&quot;&gt;AD&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;%--&lt;%@ include file=&quot;/WEB-INF/fragments/footer.jsp&quot; %&gt;--%&gt;\r\n&lt;jsp:include page=&quot;/WEB-INF/fragments/footer.jsp&quot;/&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve already tried to change &lt;jsp:include to &lt;%@ include file as my footer have no dynamic content, it doesn&#39;t work. The interesting moment is that, when I place my footer in the top, it loads instantly","title":"Too slow loading of jsp fragment","body":"<p>devs. Here I have a problem with the speed of jsp footer loading</p>\n<p>I have my jsp page, where I include header.jsp, footer.jsp and navigation bar. header and navbar loads in a wink, but content of footer loads too slow (about 10-15 sec). But when I place</p>\n<pre><code>&lt;jsp:include page=&quot;/WEB-INF/fragments/footer.jsp&quot;/&gt; \n</code></pre>\n<p>in the the top of jsp page, it works normally. What is the reason of it?</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\n&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\n\n&lt;c:set var=&quot;language&quot;\n       value=&quot;${not empty param.language ? param.language : not empty language ? language : pageContext.request.locale}&quot;\n       scope=&quot;session&quot;/&gt;\n&lt;fmt:setLocale value=&quot;${language}&quot;/&gt;\n&lt;fmt:setBundle basename=&quot;resources&quot;/&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;${language}&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Conferences World&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://fonts.googleapis.com/css?family=Raleway&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css&quot;&gt;\n    &lt;style&gt;\n        &lt;%@ include file=&quot;../../css/w3style.css&quot; %&gt;\n        body, h1, h2, h3, h4, h5, h6 {\n            font-family: &quot;Raleway&quot;, sans-serif\n        }\n\n        body, html {\n            height: 100%;\n            line-height: 1.8;\n        }\n\n        .w3-bar .w3-button {\n            padding: 16px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;jsp:include page=&quot;/WEB-INF/fragments/header.jsp&quot;/&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;jsp:include page=&quot;/WEB-INF/fragments/role_bar.jsp&quot;/&gt;\n\n\n&lt;!-- Overlay effect when opening sidebar on small screens --&gt;\n\n&lt;!-- Main content: shift it to the right by 250 pixels when the sidebar is visible --&gt;\n&lt;div class=&quot;w3-main&quot; style=&quot;margin-left:250px&quot;&gt;\n    &lt;div class=&quot;w3-row w3-padding-64&quot;&gt;\n        &lt;div class=&quot;w3-twothird w3-container&quot;&gt;\n            &lt;h1 class=&quot;w3-text-teal&quot;&gt;WELCOME, ${user.email}, ${user.role} &lt;/h1&gt;\n            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et\n                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip\n                ex ea commodo consequat. Lorem ipsum\n                dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna\n                aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\n                consequat.&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;w3-third w3-container&quot;&gt;\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-32 w3-center&quot;&gt;AD&lt;/p&gt;\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-64 w3-center&quot;&gt;AD&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;w3-row&quot;&gt;\n        &lt;div class=&quot;w3-twothird w3-container&quot;&gt;\n            &lt;h1 class=&quot;w3-text-teal&quot;&gt;We miss you, ${user.email} &lt;/h1&gt;\n            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum\n                dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;w3-third w3-container&quot;&gt;\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-32 w3-center&quot;&gt;AD&lt;/p&gt;\n            &lt;p class=&quot;w3-border w3-padding-large w3-padding-64 w3-center&quot;&gt;AD&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/div&gt;\n\n&lt;%--&lt;%@ include file=&quot;/WEB-INF/fragments/footer.jsp&quot; %&gt;--%&gt;\n&lt;jsp:include page=&quot;/WEB-INF/fragments/footer.jsp&quot;/&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've already tried to change &lt;jsp:include to &lt;%@ include file as my footer have no dynamic content, it doesn't work. The interesting moment is that, when I place my footer in the top, it loads instantly</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673450858,"post_id":75085288,"comment_id":132502737,"body_markdown":"No, just copy application.yaml and put it in the same directory as your-spring-boot-app.jar.","body":"No, just copy application.yaml and put it in the same directory as your-spring-boot-app.jar."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673451273,"post_id":75085288,"comment_id":132502907,"body_markdown":"There&#39;s a defined lookup order of application.yaml which means you could package one version as the default in your ja and if you provide one right next to your jar or even point to one via startup parameters that one will override the default. See [External Application Properties](https://docs.spring.io/spring-boot/docs/3.0.1/reference/htmlsingle/#features.external-config.files)","body":"There&#39;s a defined lookup order of application.yaml which means you could package one version as the default in your ja and if you provide one right next to your jar or even point to one via startup parameters that one will override the default. See <a href=\"https://docs.spring.io/spring-boot/docs/3.0.1/reference/htmlsingle/#features.external-config.files\" rel=\"nofollow noreferrer\">External Application Properties</a>"}],"owner":{"account_id":5358198,"reputation":33,"user_id":4270319,"display_name":"Guan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673450436,"creation_date":1673450436,"question_id":75085288,"body_markdown":"I have a Spring Boot Java application with property yaml files located under resources folder.\r\nI packaged it in maven using jar format. But the issue is whenever there&#39;s a change required in the yaml file I will have to redeploy the jar file.\r\n\r\nIs there any way to build the jar file with the reference to yaml files remain outside of the jar?","title":"Spring Boot JAR deployment","body":"<p>I have a Spring Boot Java application with property yaml files located under resources folder.\nI packaged it in maven using jar format. But the issue is whenever there's a change required in the yaml file I will have to redeploy the jar file.</p>\n<p>Is there any way to build the jar file with the reference to yaml files remain outside of the jar?</p>\n"},{"tags":["java","sdk","cordova-plugins","capacitor"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1673385707,"post_id":75074856,"comment_id":132486178,"body_markdown":"Welcome to stackoverflow. My crystal ball is not working today, so you&#39;ll have to [edit] the question and add more details. We really like a [mcve] here. Also, what is your question here? You just describe at a high level what your setup is. What problem are you facing? Please see [ask].","body":"Welcome to stackoverflow. My crystal ball is not working today, so you&#39;ll have to <a href=\"https://stackoverflow.com/posts/75074856/edit\">edit</a> the question and add more details. We really like a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here. Also, what is your question here? You just describe at a high level what your setup is. What problem are you facing? Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":27491950,"reputation":1,"user_id":20977145,"display_name":"user20977145"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673450405,"creation_date":1673378422,"question_id":75074856,"body_markdown":"My application itself is developed with Angular and Ionic 3, Ionic has a system for integrating features of devices such as Bluetooth, camera, network, among others, the name of this system is Cordova. The new versions of Ionic use a new system called Capacitor, but even this new system uses a lot of Cordova itself. The plugins for the readers are developed to be installed by Cordova and these plugins are developer systems on top of the SDK of the reader itself that are in Java.\r\n\r\nI try to use Android Studio, but it is not working. Can anyone help me?","title":"How to Create Cordova install","body":"<p>My application itself is developed with Angular and Ionic 3, Ionic has a system for integrating features of devices such as Bluetooth, camera, network, among others, the name of this system is Cordova. The new versions of Ionic use a new system called Capacitor, but even this new system uses a lot of Cordova itself. The plugins for the readers are developed to be installed by Cordova and these plugins are developer systems on top of the SDK of the reader itself that are in Java.</p>\n<p>I try to use Android Studio, but it is not working. Can anyone help me?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673441854,"post_id":75083343,"comment_id":132499195,"body_markdown":"question: what is the function of `enumMap`? (`enumMap.get(rec)` is basically the same result as `rec.getValue()` [ignoring the `rec==null`] case) || If you need multi-values, then maybe `value` should be a `List`, or some other Collection.","body":"question: what is the function of <code>enumMap</code>? (<code>enumMap.get(rec)</code> is basically the same result as <code>rec.getValue()</code> [ignoring the <code>rec==null</code>] case) || If you need multi-values, then maybe <code>value</code> should be a <code>List</code>, or some other Collection."},{"owner":{"account_id":6718742,"reputation":321,"user_id":5179636,"display_name":"colouredmirrorball"},"score":0,"creation_date":1673441901,"post_id":75083343,"comment_id":132499219,"body_markdown":"What is the datatype of TYPE_A, TYPE_B and TYPE_C? Are they Strings?","body":"What is the datatype of TYPE_A, TYPE_B and TYPE_C? Are they Strings?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673442209,"post_id":75083343,"comment_id":132499338,"body_markdown":"I would suggest hiding `enumMap` and providing just a method like `static Record map(String)` that does the lookup. You wouldn&#39;t want to allow tampering with the map from the outside.","body":"I would suggest hiding <code>enumMap</code> and providing just a method like <code>static Record map(String)</code> that does the lookup. You wouldn&#39;t want to allow tampering with the map from the outside."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1673442334,"post_id":75083343,"comment_id":132499376,"body_markdown":"What you&#39;re asking doesn&#39;t make sense.. When you have a variable of type `Record`, what do you want to assign it to when it&#39;s &quot;TYPE4_MULTI&quot;? It can&#39;t be of 3 types at the same time, right? Otherwise it&#39;s a one-to-many relationship and you&#39;d have to store a collection of `Record`s","body":"What you&#39;re asking doesn&#39;t make sense.. When you have a variable of type <code>Record</code>, what do you want to assign it to when it&#39;s &quot;TYPE4_MULTI&quot;? It can&#39;t be of 3 types at the same time, right? Otherwise it&#39;s a one-to-many relationship and you&#39;d have to store a collection of <code>Record</code>s"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1673442614,"post_id":75083461,"comment_id":132499489,"body_markdown":"but `enumMap` is a Map **from** Record **to** String - `optionalValueOf` is more like the reverse (from String to Record, which is reasonable)... (reason why I asked what is the intended function of `enumMap` )","body":"but <code>enumMap</code> is a Map <b>from</b> Record <b>to</b> String - <code>optionalValueOf</code> is more like the reverse (from String to Record, which is reasonable)... (reason why I asked what is the intended function of <code>enumMap</code> )"},{"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"score":0,"creation_date":1673442716,"post_id":75083461,"comment_id":132499539,"body_markdown":"You&#39;re right, I modify my answer, thanks.","body":"You&#39;re right, I modify my answer, thanks."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1673448890,"post_id":75083461,"comment_id":132501983,"body_markdown":"@Alexis, I am unfamiliar with &quot;String...&quot;. What is this? When was this introduced to java? Thanks","body":"@Alexis, I am unfamiliar with &quot;String...&quot;. What is this? When was this introduced to java? Thanks"},{"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"score":0,"creation_date":1673449280,"post_id":75083461,"comment_id":132502109,"body_markdown":"@Timothy Clotworthy This is called [varargs](https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html), it is similar to `String[]` but does not require an array parameter, you can pass any number of `String` parameters. So instead of writing `function(new String[] {&quot;foo&quot;, &quot;bar&quot;})` you can directly write `function(&quot;foo&quot;, &quot;bar&quot;)`.","body":"@Timothy Clotworthy This is called <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a>, it is similar to <code>String[]</code> but does not require an array parameter, you can pass any number of <code>String</code> parameters. So instead of writing <code>function(new String[] {&quot;foo&quot;, &quot;bar&quot;})</code> you can directly write <code>function(&quot;foo&quot;, &quot;bar&quot;)</code>."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1673449829,"post_id":75083461,"comment_id":132502331,"body_markdown":"@Alexis, ok, thanks for clarification. So, your solution acommodates the situation where I simply need to know whether a value (yes a String) presented is within the total values array and thus I can use your optionalValueOf method. However, the 4 types are used in a factory class to determine which of  4 subclasses I should instantiate, and I think your solution as presented prevents me from saying if String is TYPE_A or TYPE_B or TYPE_C, instatiate TYPE4_MULTI subclass. Perhaps another static public method could be added to perform this task? I&#39;ll update post to clarify.","body":"@Alexis, ok, thanks for clarification. So, your solution acommodates the situation where I simply need to know whether a value (yes a String) presented is within the total values array and thus I can use your optionalValueOf method. However, the 4 types are used in a factory class to determine which of  4 subclasses I should instantiate, and I think your solution as presented prevents me from saying if String is TYPE_A or TYPE_B or TYPE_C, instatiate TYPE4_MULTI subclass. Perhaps another static public method could be added to perform this task? I&#39;ll update post to clarify."},{"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"score":0,"creation_date":1673450221,"post_id":75083461,"comment_id":132502493,"body_markdown":"`optionalValueOf(&quot;TYPE_A&quot;)`, `optionalValueOf(&quot;TYPE_B&quot;)` and `optionalValueOf(&quot;TYPE_C&quot;)` will all return an `Optional` of `TYPE4_MULTI`. I don&#39;t get why you couldn&#39;t use it in your factory.","body":"<code>optionalValueOf(&quot;TYPE_A&quot;)</code>, <code>optionalValueOf(&quot;TYPE_B&quot;)</code> and <code>optionalValueOf(&quot;TYPE_C&quot;)</code> will all return an <code>Optional</code> of <code>TYPE4_MULTI</code>. I don&#39;t get why you couldn&#39;t use it in your factory."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1673450541,"post_id":75083461,"comment_id":132502621,"body_markdown":"@Alexis, I updated my post with the factory information","body":"@Alexis, I updated my post with the factory information"},{"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"score":0,"creation_date":1673451202,"post_id":75083461,"comment_id":132502881,"body_markdown":"Not sure if I understood properly, but you could change `processorCache` from `Map&lt;String, RecordProcessor&gt;` to `Map&lt;Record, RecordProcessor&gt;` and replace `processorCache.get(type)` by `processorCache.get(Record.optionalValueOf(type).orElse(null))`.","body":"Not sure if I understood properly, but you could change <code>processorCache</code> from <code>Map&lt;String, RecordProcessor&gt;</code> to <code>Map&lt;Record, RecordProcessor&gt;</code> and replace <code>processorCache.get(type)</code> by <code>processorCache.get(Record.optionalValueOf(type).orElse(null)&zwnj;&#8203;)</code>."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1673451999,"post_id":75083461,"comment_id":132503181,"body_markdown":"@Alexis, I think that will address the getSyncProcessor() method, but still not sure what to do about the constructor for RecordProcessorFactory. Thanks so much for all your help so far!","body":"@Alexis, I think that will address the getSyncProcessor() method, but still not sure what to do about the constructor for RecordProcessorFactory. Thanks so much for all your help so far!"},{"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"score":0,"creation_date":1673452108,"post_id":75083461,"comment_id":132503229,"body_markdown":"You could achieve the same, such as `processorCache.put(Record.optionalValueOf(recordProcessor.getType()).orElseThrow(), recordProcessor)`.","body":"You could achieve the same, such as <code>processorCache.put(Record.optionalValueOf(recordProcessor.ge&zwnj;&#8203;tType()).orElseThrow&zwnj;&#8203;(), recordProcessor)</code>."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1673456848,"post_id":75083461,"comment_id":132505149,"body_markdown":"@Alexis, thanks for all your help! All good thanks to you. I just had to tweak a couple of things:    \n    public Record getType() {\n        return Record.TYPE;  , and:  for (RecordProcessor recordProcessor : processors) {\n            processorCache.put(recordProcessor.getType(), recordProcessor);\n        }","body":"@Alexis, thanks for all your help! All good thanks to you. I just had to tweak a couple of things:         public Record getType() {         return Record.TYPE;  , and:  for (RecordProcessor recordProcessor : processors) {             processorCache.put(recordProcessor.getType(), recordProcessor);         }"}],"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673442785,"creation_date":1673442041,"answer_id":75083461,"question_id":75083343,"body_markdown":"You could use a String array to store multiple values, note that your logic may change with `enumMap` that way.\r\n\r\n```java\r\npublic enum Record {\r\n\tTYPE1(&quot;TYPE1&quot;),\r\n\tTYPE2(&quot;TYPE2&quot;),\r\n\tTYPE3(&quot;TYPE3&quot;),\r\n\tTYPE4_MULTI(&quot;TYPE_A&quot;, &quot;TYPE_B&quot;, &quot;TYPE_C&quot;);\r\n\r\n\tprivate final String[] values;\r\n\tpublic static final Map&lt;Record, String[]&gt; enumMap = new EnumMap&lt;Record, String[]&gt;(Record.class);\r\n\r\n\tstatic {\r\n\t\tfor (Record e : Record.values())\r\n\t\t\tenumMap.put(e, e.getValues());\r\n\t}\r\n\r\n\r\n\tRecord(String... values) {\r\n\t\tthis.values = values;\r\n\t}\r\n\r\n\tpublic String[] getValues() {\r\n\t\treturn values;\r\n\t}\r\n}\r\n```\r\n\r\nIn case you need to get the `Enum` from a `String` value, you could add this static method:\r\n```java\r\npublic static Optional&lt;Record&gt; optionalValueOf(final String value) {\r\n\tfor (Record record : values()) {\r\n\t\tfor (String recordValue : record.values) {\r\n\t\t\tif (null == value &amp;&amp; null == recordValue || value.equals(recordValue)) {\r\n\t\t\t\treturn Optional.of(record);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn Optional.empty();\r\n}\r\n```","title":"Java - enum where one variable can be multi-valued","body":"<p>You could use a String array to store multiple values, note that your logic may change with <code>enumMap</code> that way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Record {\n    TYPE1(&quot;TYPE1&quot;),\n    TYPE2(&quot;TYPE2&quot;),\n    TYPE3(&quot;TYPE3&quot;),\n    TYPE4_MULTI(&quot;TYPE_A&quot;, &quot;TYPE_B&quot;, &quot;TYPE_C&quot;);\n\n    private final String[] values;\n    public static final Map&lt;Record, String[]&gt; enumMap = new EnumMap&lt;Record, String[]&gt;(Record.class);\n\n    static {\n        for (Record e : Record.values())\n            enumMap.put(e, e.getValues());\n    }\n\n\n    Record(String... values) {\n        this.values = values;\n    }\n\n    public String[] getValues() {\n        return values;\n    }\n}\n</code></pre>\n<p>In case you need to get the <code>Enum</code> from a <code>String</code> value, you could add this static method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Optional&lt;Record&gt; optionalValueOf(final String value) {\n    for (Record record : values()) {\n        for (String recordValue : record.values) {\n            if (null == value &amp;&amp; null == recordValue || value.equals(recordValue)) {\n                return Optional.of(record);\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673443606,"creation_date":1673443285,"answer_id":75083728,"question_id":75083343,"body_markdown":"I think it&#39;s better to encapsulate values in the enum. It should be immutable (array is not immutable data storage).\r\n\r\n```java\r\n@lombok.Getter\r\npublic enum Record {\r\n    TYPE1(&quot;TYPE1&quot;),\r\n    TYPE2(&quot;TYPE2&quot;),\r\n    TYPE3(&quot;TYPE3&quot;),\r\n    TYPE4_MULTI(&quot;TYPE_A&quot;, &quot;TYPE_B&quot;, &quot;TYPE_C&quot;);\r\n\r\n    // immutable list\r\n    private final List&lt;String&gt; values;\r\n\r\n    Record(String... values) {\r\n        this.values = Arrays.stream(values)\r\n                            .collect(Collectors.toList());\r\n    }\r\n\r\n}\r\n```\r\n\r\n***P.S.** `Map&lt;Record, String&gt; enumMap` I think is useless, because you have a `Record` already and all you need just call `record.getValues()` instead of `Record.enumMaps.get(record)`. Also, this is breakes OOP encapsulation.*","title":"Java - enum where one variable can be multi-valued","body":"<p>I think it's better to encapsulate values in the enum. It should be immutable (array is not immutable data storage).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Getter\npublic enum Record {\n    TYPE1(&quot;TYPE1&quot;),\n    TYPE2(&quot;TYPE2&quot;),\n    TYPE3(&quot;TYPE3&quot;),\n    TYPE4_MULTI(&quot;TYPE_A&quot;, &quot;TYPE_B&quot;, &quot;TYPE_C&quot;);\n\n    // immutable list\n    private final List&lt;String&gt; values;\n\n    Record(String... values) {\n        this.values = Arrays.stream(values)\n                            .collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p><em><strong>P.S.</strong> <code>Map&lt;Record, String&gt; enumMap</code> I think is useless, because you have a <code>Record</code> already and all you need just call <code>record.getValues()</code> instead of <code>Record.enumMaps.get(record)</code>. Also, this is breakes OOP encapsulation.</em></p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75083461,"answer_count":2,"score":0,"last_activity_date":1673450307,"creation_date":1673441514,"question_id":75083343,"body_markdown":"I have an enum like below. Until recently, all variables were single-valued. However, now TYPE4 can have one of three acceptable values. I was hoping to simply modify this enum to accommodate for TYPE4, but thinking perhaps having only one type that is multi-valued means I need to use an object for mapping rather than an enum. I would be grateful for any insights. Thank you.\r\n\r\n    public enum Record {\r\n        TYPE1(&quot;TYPE1&quot;),\r\n        TYPE2(&quot;TYPE2&quot;),\r\n        TYPE3(&quot;TYPE3&quot;),\r\n        TYPE4_MULTI(TYPE_A or TYPE_B or TYPE_C); \r\n\r\n        private final String value;\r\n        public static final Map&lt;Record, String&gt; enumMap = new EnumMap&lt;Record, String&gt;(\r\n            Record.class);\r\n\r\n        static {\r\n            for (Record e : Record.values())\r\n                enumMap.put(e, e.getValue());\r\n        }\r\n\r\n        Record(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    }\r\n\r\nOperationally, I use this enum in a factory class to determine which of 4 types of subclasses I should instantiate. I do this by have each of the subclasses know its own type like this:\r\n\r\n    @Override\r\n    public String getType() {\r\n        return Record.TYPE1.getValue();\r\n    }\r\n\r\n,and then the factory class pre-builds a set of the subclasses like this:\r\n\r\n    @Component\r\n    public class RecordProcessorFactory {\r\n\r\n        @Autowired\r\n        public RecordProcessorFactory(List&lt;RecordProcessor&gt; processors) {\r\n            for (RecordProcessor recordProcessor : processors) {\r\n                processorCache.put(recordProcessor.getType(), recordProcessor);\r\n            }\r\n        }\r\n\r\n        private static final Map&lt;String, RecordProcessor&gt; processorCache = new HashMap&lt;String, RecordProcessor&gt;();\r\n\r\n        public RecordProcessor getSyncProcessor(String type) {\r\n            RecordProcessor service = processorCache.get(type);\r\n            if(service == null) throw new RuntimeException(&quot;Unknown service type: &quot; + type);\r\n            return service;\r\n        }\r\n    }","title":"Java - enum where one variable can be multi-valued","body":"<p>I have an enum like below. Until recently, all variables were single-valued. However, now TYPE4 can have one of three acceptable values. I was hoping to simply modify this enum to accommodate for TYPE4, but thinking perhaps having only one type that is multi-valued means I need to use an object for mapping rather than an enum. I would be grateful for any insights. Thank you.</p>\n<pre><code>public enum Record {\n    TYPE1(&quot;TYPE1&quot;),\n    TYPE2(&quot;TYPE2&quot;),\n    TYPE3(&quot;TYPE3&quot;),\n    TYPE4_MULTI(TYPE_A or TYPE_B or TYPE_C); \n\n    private final String value;\n    public static final Map&lt;Record, String&gt; enumMap = new EnumMap&lt;Record, String&gt;(\n        Record.class);\n\n    static {\n        for (Record e : Record.values())\n            enumMap.put(e, e.getValue());\n    }\n\n    Record(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>Operationally, I use this enum in a factory class to determine which of 4 types of subclasses I should instantiate. I do this by have each of the subclasses know its own type like this:</p>\n<pre><code>@Override\npublic String getType() {\n    return Record.TYPE1.getValue();\n}\n</code></pre>\n<p>,and then the factory class pre-builds a set of the subclasses like this:</p>\n<pre><code>@Component\npublic class RecordProcessorFactory {\n\n    @Autowired\n    public RecordProcessorFactory(List&lt;RecordProcessor&gt; processors) {\n        for (RecordProcessor recordProcessor : processors) {\n            processorCache.put(recordProcessor.getType(), recordProcessor);\n        }\n    }\n\n    private static final Map&lt;String, RecordProcessor&gt; processorCache = new HashMap&lt;String, RecordProcessor&gt;();\n\n    public RecordProcessor getSyncProcessor(String type) {\n        RecordProcessor service = processorCache.get(type);\n        if(service == null) throw new RuntimeException(&quot;Unknown service type: &quot; + type);\n        return service;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","xml","file","karate"],"answers":[{"comments":[{"owner":{"account_id":27324878,"reputation":55,"user_id":20838000,"display_name":"Cosmin C&#238;rstea"},"score":0,"creation_date":1673538651,"post_id":75085241,"comment_id":132526454,"body_markdown":"Thanks a lot!\nThis works brilliantly, with the temporary file.","body":"Thanks a lot! This works brilliantly, with the temporary file."},{"owner":{"account_id":27324878,"reputation":55,"user_id":20838000,"display_name":"Cosmin C&#238;rstea"},"score":0,"creation_date":1673539873,"post_id":75085241,"comment_id":132526975,"body_markdown":"it seems to somehow transform my xml into a json. Am I doing something wrong?\n\n   ` * def data = read(&#39;xmlFile.xml&#39;)    \n    * set data //fieldName = &#39;stuff to modify&#39;\n    * def file = karate.write(data, &#39;temp.xml&#39;)`","body":"it seems to somehow transform my xml into a json. Am I doing something wrong?     ` * def data = read(&#39;xmlFile.xml&#39;)         * set data //fieldName = &#39;stuff to modify&#39;     * def file = karate.write(data, &#39;temp.xml&#39;)`"},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1673576027,"post_id":75085241,"comment_id":132535896,"body_markdown":"@CosminC&#238;rstea read this: https://github.com/karatelabs/karate#type-conversion - so this should work: `* xmlstring dataString = data` and then save that","body":"@CosminC&#238;rstea read this: <a href=\"https://github.com/karatelabs/karate#type-conversion\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#type-conversion</a> - so this should work: <code>* xmlstring dataString = data</code> and then save that"},{"owner":{"account_id":27324878,"reputation":55,"user_id":20838000,"display_name":"Cosmin C&#238;rstea"},"score":1,"creation_date":1673594923,"post_id":75085241,"comment_id":132538570,"body_markdown":"Thanks, that is what I needed. You are right, I did not understand type conversion too well initially, but I took a more in depth look into it now.\n\nEverything works as expected. Thank you very much for the support and the great stuff in Karate!","body":"Thanks, that is what I needed. You are right, I did not understand type conversion too well initially, but I took a more in depth look into it now.  Everything works as expected. Thank you very much for the support and the great stuff in Karate!"}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673450175,"creation_date":1673450175,"answer_id":75085241,"question_id":75084593,"body_markdown":"First I would try to achieve what you eventually want to do without writing any file. As explained here: https://stackoverflow.com/a/54593057/143475\r\n\r\nBut you should be able to do this by saving a temp file:\r\n\r\n    * def data = &lt;foo&gt;bar&lt;/foo&gt;\r\n    * set data/bar = &#39;baz&#39;\r\n    * def file = karate.write(data, &#39;temp.xml&#39;)\r\n\r\nWon&#39;t that work ?  `karate.write()` returns a `java.io.File` instance.","title":"How can I dynamically modify a file before passing it to karate.toJavaFile?","body":"<p>First I would try to achieve what you eventually want to do without writing any file. As explained here: <a href=\"https://stackoverflow.com/a/54593057/143475\">https://stackoverflow.com/a/54593057/143475</a></p>\n<p>But you should be able to do this by saving a temp file:</p>\n<pre><code>* def data = &lt;foo&gt;bar&lt;/foo&gt;\n* set data/bar = 'baz'\n* def file = karate.write(data, 'temp.xml')\n</code></pre>\n<p>Won't that work ?  <code>karate.write()</code> returns a <code>java.io.File</code> instance.</p>\n"}],"owner":{"account_id":27324878,"reputation":55,"user_id":20838000,"display_name":"Cosmin C&#238;rstea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75085241,"answer_count":1,"score":1,"last_activity_date":1673450175,"creation_date":1673447255,"question_id":75084593,"body_markdown":"Seeing that karate.toJavaFile expects a path, is there any way I can modify a base file before providing it as parameter to the method?\r\n\r\nFor example, I have this xml in a file:\r\n\r\n`&lt;object&gt;\r\n   &lt;id&gt;123&lt;/id&gt;\r\n   &lt;name&gt;Bob&lt;/name&gt;\r\n&lt;/object&gt;`\r\n\r\nThing is, I need to replace the 123 in the id field with a real id which I get from another GET request before providing this file to the karate.toJavaFile. I&#39;m unfortunately bounded by a Java method.\r\n\r\nI tried reading the xml into a variable then modifying its content with * set, but that doesn&#39;t help since I need to provide a path and not a variable to karate.toJavaFile.","title":"How can I dynamically modify a file before passing it to karate.toJavaFile?","body":"<p>Seeing that karate.toJavaFile expects a path, is there any way I can modify a base file before providing it as parameter to the method?</p>\n<p>For example, I have this xml in a file:</p>\n<p><code>&lt;object&gt; &lt;id&gt;123&lt;/id&gt; &lt;name&gt;Bob&lt;/name&gt; &lt;/object&gt;</code></p>\n<p>Thing is, I need to replace the 123 in the id field with a real id which I get from another GET request before providing this file to the karate.toJavaFile. I'm unfortunately bounded by a Java method.</p>\n<p>I tried reading the xml into a variable then modifying its content with * set, but that doesn't help since I need to provide a path and not a variable to karate.toJavaFile.</p>\n"},{"tags":["java","android","imageswitcher"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673447078,"post_id":75084496,"comment_id":132501261,"body_markdown":"Can you please explain how is this question related to Firebase?","body":"Can you please explain how is this question related to Firebase?"}],"answers":[{"tags":[],"owner":{"account_id":19305363,"reputation":16,"user_id":14112289,"display_name":"Amine Chamkh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673447532,"creation_date":1673447532,"answer_id":75084660,"question_id":75084496,"body_markdown":"It seems that you are trying to parse a string of URLs, separated by commas, and convert each URL into a Uri object, then display it using ImageSwitcher in Android Studio.\r\n\r\nOne possible issue is that the URLs in the string you&#39;re passing into the getItemPhotos method may not be valid. You can try to log the URLs that you&#39;re trying to parse to make sure they&#39;re correct and that you have internet connection.\r\n\r\nIf you are still having trouble displaying the image, you can try using the setFactory() method along with the setImageResource() method on the ImageSwitcher. This will make sure that the ImageSwitcher has a ViewFactory to create the views that you want to set the images on.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    viewSliderPhotos.setFactory(new ViewSwitcher.ViewFactory() {\r\n                @Override\r\n                public View makeView() {\r\n                    ImageView myView = new ImageView(getApplicationContext());\r\n                    myView.setScaleType(ImageView.ScaleType.FIT_CENTER);\r\n                    myView.setLayoutParams(new ImageSwitcher.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\r\n                    return myView;\r\n                }\r\n            });\r\n    viewSliderPhotos.setImageResource(R.drawable.image_name);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nIf the problem still persists, please provide more context or error logs so that we can further investigate the issue.","title":"Convert or Parse String to Uri and show image using ImageSwitcher","body":"<p>It seems that you are trying to parse a string of URLs, separated by commas, and convert each URL into a Uri object, then display it using ImageSwitcher in Android Studio.</p>\n<p>One possible issue is that the URLs in the string you're passing into the getItemPhotos method may not be valid. You can try to log the URLs that you're trying to parse to make sure they're correct and that you have internet connection.</p>\n<p>If you are still having trouble displaying the image, you can try using the setFactory() method along with the setImageResource() method on the ImageSwitcher. This will make sure that the ImageSwitcher has a ViewFactory to create the views that you want to set the images on.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>viewSliderPhotos.setFactory(new ViewSwitcher.ViewFactory() {\n            @Override\n            public View makeView() {\n                ImageView myView = new ImageView(getApplicationContext());\n                myView.setScaleType(ImageView.ScaleType.FIT_CENTER);\n                myView.setLayoutParams(new ImageSwitcher.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\n                return myView;\n            }\n        });\nviewSliderPhotos.setImageResource(R.drawable.image_name);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If the problem still persists, please provide more context or error logs so that we can further investigate the issue.</p>\n"}],"owner":{"account_id":20540480,"reputation":25,"user_id":15075516,"display_name":"Me Compu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75084660,"answer_count":1,"score":0,"last_activity_date":1673450015,"creation_date":1673446819,"question_id":75084496,"body_markdown":"I would like to ask how to convert or parse below string and display it using ImageSwitcher on Android Studio. I tried parsing it with the Uri class parse Uri method but it did not work. Below is the code. \r\n      int i=0;\r\n\r\n    public void getItemPhotos(String str ) {\r\n\r\n        String[] arrOfStr = str.split(&quot;,&quot;, 3);\r\n        for (String a : arrOfStr){\r\n            Uri myUri = Uri.parse(a);\r\n            images.add(myUri);\r\n            i++;\r\n        }\r\n\r\nTried showing it with this line below.\r\n      viewSliderPhotos.setImageURI(images.get(i));\r\n\r\nSample of the string passed to the method above is the string below from firebase. \r\n```\r\n&quot;https://firebasestorage.googleapis.com/v0/b/dnd-1ee0c.appspot.com/o/defaultpic.jpg?alt=media&amp;token=224b6fdc-aae5-4dac-9576-53b3ab01262c&quot;\r\n```","title":"Convert or Parse String to Uri and show image using ImageSwitcher","body":"<p>I would like to ask how to convert or parse below string and display it using ImageSwitcher on Android Studio. I tried parsing it with the Uri class parse Uri method but it did not work. Below is the code.\nint i=0;</p>\n<pre><code>public void getItemPhotos(String str ) {\n\n    String[] arrOfStr = str.split(&quot;,&quot;, 3);\n    for (String a : arrOfStr){\n        Uri myUri = Uri.parse(a);\n        images.add(myUri);\n        i++;\n    }\n</code></pre>\n<p>Tried showing it with this line below.\nviewSliderPhotos.setImageURI(images.get(i));</p>\n<p>Sample of the string passed to the method above is the string below from firebase.</p>\n<pre><code>&quot;https://firebasestorage.googleapis.com/v0/b/dnd-1ee0c.appspot.com/o/defaultpic.jpg?alt=media&amp;token=224b6fdc-aae5-4dac-9576-53b3ab01262c&quot;\n</code></pre>\n"},{"tags":["java","generics","interface","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673463829,"post_id":75085065,"comment_id":132507296,"body_markdown":"That&#39;s odd; I don&#39;t see a way how your class&#39; constructor could throw an NPE","body":"That&#39;s odd; I don&#39;t see a way how your class&#39; constructor could throw an NPE"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673464168,"post_id":75085065,"comment_id":132507383,"body_markdown":"Also, I copied the code from your question and it compiles and runs just fine (JUnit 5.8.2, Mockito 4.5.1). No exceptions, all fields are initialized and the mock is properly injected. Perhaps one of the reasons outlined in [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968)","body":"Also, I copied the code from your question and it compiles and runs just fine (JUnit 5.8.2, Mockito 4.5.1). No exceptions, all fields are initialized and the mock is properly injected. Perhaps one of the reasons outlined in <a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a>"}],"owner":{"account_id":24579527,"reputation":1,"user_id":18484884,"display_name":"Shad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673449732,"creation_date":1673449401,"question_id":75085065,"body_markdown":"I Have the following structure of a class:\r\n\r\n```\r\npublic class MyClass &lt;T extends InterfaceA &amp; InterfaceB&gt; {\r\nprivate final T someOtherClass;\r\n\r\npublic MyClass(T someOtherClass){\r\n this.someOtherClass = someOtherClass;\r\n }\r\n}\r\n```\r\n\r\nNow I want to test this class and for that I need to mock the someOtherClass.\r\nHere is what I have for my tests:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyeTest {\r\n//NewClass implements both interfaces: InterfaceA and InterfaceB\r\n@Mock\r\nprivate NewClass newClass;\r\n\r\n@InjectMocks\r\nprivate MyClass&lt;NewClass&gt; myClass;\r\n\r\n@Test\r\nvoid someTest() {\r\n//...\r\n}\r\n```\r\nError Message that I get:\r\norg.mockito.exceptions.misusing.InjectMocksException:\r\nCannot instantiate @InjectMocks field named &#39;myClass&#39; of type MyClass.\r\nYou haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\nHowever the constructor or the initialization block threw an exception : null\r\n\r\n\r\nWithin test I tried to add a new empty interface that extends both InterfaceA and InterfaceB, and use it instead of a NewClass that implements both interfaces, like that:\r\n\r\n\r\n```\r\n@Mock\r\nprivate InterfaceAandB someName;\r\n@InjectMocks\r\nprivate MyClass&lt;InterfaceAandB&gt; myClass;\r\n```\r\nBut I still get the same error message.\r\n","title":"Mockito does not inject Mocks for Fields that are defined as Generics within the class that we want to inject in","body":"<p>I Have the following structure of a class:</p>\n<pre><code>public class MyClass &lt;T extends InterfaceA &amp; InterfaceB&gt; {\nprivate final T someOtherClass;\n\npublic MyClass(T someOtherClass){\n this.someOtherClass = someOtherClass;\n }\n}\n</code></pre>\n<p>Now I want to test this class and for that I need to mock the someOtherClass.\nHere is what I have for my tests:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyeTest {\n//NewClass implements both interfaces: InterfaceA and InterfaceB\n@Mock\nprivate NewClass newClass;\n\n@InjectMocks\nprivate MyClass&lt;NewClass&gt; myClass;\n\n@Test\nvoid someTest() {\n//...\n}\n</code></pre>\n<p>Error Message that I get:\norg.mockito.exceptions.misusing.InjectMocksException:\nCannot instantiate @InjectMocks field named 'myClass' of type MyClass.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nHowever the constructor or the initialization block threw an exception : null</p>\n<p>Within test I tried to add a new empty interface that extends both InterfaceA and InterfaceB, and use it instead of a NewClass that implements both interfaces, like that:</p>\n<pre><code>@Mock\nprivate InterfaceAandB someName;\n@InjectMocks\nprivate MyClass&lt;InterfaceAandB&gt; myClass;\n</code></pre>\n<p>But I still get the same error message.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673449359,"post_id":75085035,"comment_id":132502136,"body_markdown":"Class objects are different from instances, i.e. they are stored elsewhere (at least used to be). An instance of B will just be stored the same way as instances of A, i.e. it will take a block of memory that holds the value of `id` and the reference `name` (not the value).","body":"Class objects are different from instances, i.e. they are stored elsewhere (at least used to be). An instance of B will just be stored the same way as instances of A, i.e. it will take a block of memory that holds the value of <code>id</code> and the reference <code>name</code> (not the value)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673449380,"post_id":75085035,"comment_id":132502146,"body_markdown":"I&#39;m sure this is totally depending on the implementation of the JVM. Any reason you need that information?","body":"I&#39;m sure this is totally depending on the implementation of the JVM. Any reason you need that information?"}],"answers":[{"comments":[{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":0,"creation_date":1673450185,"post_id":75085097,"comment_id":132502472,"body_markdown":"My understanding is that multiple inheritance was disallowed in Java because the Diamond Problem causes such classes to be too complex to reason about, not (primarily) because of the resulting memory layout. (Though, disallowing it does indeed make the layout simpler.)","body":"My understanding is that multiple inheritance was disallowed in Java because the Diamond Problem causes such classes to be too complex to reason about, not (primarily) because of the resulting memory layout. (Though, disallowing it does indeed make the layout simpler.)"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1673451517,"post_id":75085097,"comment_id":132503008,"body_markdown":"When Java was invented, we already had multiple inheritance in C++, and a fair bit of experience demonstrating that it created classes that were indeed difficult to reason about... but &quot;reasoning about&quot; those classes included a lot of issues related to memory layout and pointer translation, and the consequences of that, because Java was intended to be a performant language.  Without performance concerns, it&#39;s not difficult to design a system for multiple inheritance that works reasonably.","body":"When Java was invented, we already had multiple inheritance in C++, and a fair bit of experience demonstrating that it created classes that were indeed difficult to reason about... but &quot;reasoning about&quot; those classes included a lot of issues related to memory layout and pointer translation, and the consequences of that, because Java was intended to be a performant language.  Without performance concerns, it&#39;s not difficult to design a system for multiple inheritance that works reasonably."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673449601,"creation_date":1673449601,"answer_id":75085097,"question_id":75085035,"body_markdown":"In memory, an instance of `class A` consists of:\r\n\r\n 1. An object header\r\n 2. values of the fields of `class A`, i.e., `int id;`\r\n\r\nIn memory, an instance of `class B` consists of:\r\n\r\n 1. An object header\r\n 2. values of the fields of `class A`\r\n 3. values of the additional fields of `class B`, i.e., `String name;`\r\n\r\nThis arrangement ensures that a reference to `class B`, which is a pointer to the object header in memory, is also a valid reference to `class A` -- the is-a relationship you declared with the `extends` keyword is implemented this way.\r\n\r\nThis is fundamentally why you can only have one base class.","title":"Memory allocation for inherited objects in JAVA","body":"<p>In memory, an instance of <code>class A</code> consists of:</p>\n<ol>\n<li>An object header</li>\n<li>values of the fields of <code>class A</code>, i.e., <code>int id;</code></li>\n</ol>\n<p>In memory, an instance of <code>class B</code> consists of:</p>\n<ol>\n<li>An object header</li>\n<li>values of the fields of <code>class A</code></li>\n<li>values of the additional fields of <code>class B</code>, i.e., <code>String name;</code></li>\n</ol>\n<p>This arrangement ensures that a reference to <code>class B</code>, which is a pointer to the object header in memory, is also a valid reference to <code>class A</code> -- the is-a relationship you declared with the <code>extends</code> keyword is implemented this way.</p>\n<p>This is fundamentally why you can only have one base class.</p>\n"}],"owner":{"account_id":27236183,"reputation":1,"user_id":20763058,"display_name":"Muhammadqodir Yusupov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1673450550,"answer_count":1,"score":-1,"last_activity_date":1673449601,"creation_date":1673449211,"question_id":75085035,"body_markdown":"I know how objects store in the **Heap**. But what about inherited objects \r\n\r\n```\r\npublic class A {\r\n  private int id;\r\n  public A(int id){\r\n    this.id=id;\r\n  }\r\n}\r\n\r\npublic class B extends A {\r\n  private String name;\r\n  public B(int id, String name){\r\n    super(id);\r\n    this.name=name;\r\n  }\r\n}\r\n```\r\n\r\nif we create an object like B b = new B(1, &quot;b&quot;); how this object store in the Heap.\r\n \r\n\r\nI mean JVM store object A class and B class also","title":"Memory allocation for inherited objects in JAVA","body":"<p>I know how objects store in the <strong>Heap</strong>. But what about inherited objects</p>\n<pre><code>public class A {\n  private int id;\n  public A(int id){\n    this.id=id;\n  }\n}\n\npublic class B extends A {\n  private String name;\n  public B(int id, String name){\n    super(id);\n    this.name=name;\n  }\n}\n</code></pre>\n<p>if we create an object like B b = new B(1, &quot;b&quot;); how this object store in the Heap.</p>\n<p>I mean JVM store object A class and B class also</p>\n"},{"tags":["java","swing","netbeans","jcombobox"],"answers":[{"comments":[{"owner":{"account_id":3320383,"reputation":1548,"user_id":2791703,"display_name":"dARKpRINCE"},"score":0,"creation_date":1401729983,"post_id":23724201,"comment_id":36987154,"body_markdown":"Correct me if wrong, but this implementation would not accept Windows L&amp;F. It would default to standard Look and Feel.","body":"Correct me if wrong, but this implementation would not accept Windows L&amp;F. It would default to standard Look and Feel."},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1434787692,"post_id":23724201,"comment_id":49937073,"body_markdown":"If you want the system L&amp;F to be honoured, you can get the initial cell renderer component from the old renderer. instead of using `super.getCellRendererComponent` use `oldRenderer.getCellRendererComponent`. You can get the old renderer by using `JComboBox#getRenderer`.","body":"If you want the system L&amp;F to be honoured, you can get the initial cell renderer component from the old renderer. instead of using <code>super.getCellRendererComponent</code> use <code>oldRenderer.getCellRendererComponent</code>. You can get the old renderer by using <code>JComboBox#getRenderer</code>."},{"owner":{"account_id":6169261,"reputation":405,"user_id":5649397,"display_name":"Pascal Schneider"},"score":0,"creation_date":1504514165,"post_id":23724201,"comment_id":79026206,"body_markdown":"If the `disableCheckBox` is not checked and you select e.g. **Item 4** and _then_ check the box, the item will still be selected. Be aware of this.","body":"If the <code>disableCheckBox</code> is not checked and you select e.g. <b>Item 4</b> and <i>then</i> check the box, the item will still be selected. Be aware of this."},{"owner":{"account_id":26658,"reputation":14163,"user_id":69585,"display_name":"Tomek Szpakowicz"},"score":0,"creation_date":1506630889,"post_id":23724201,"comment_id":79910875,"body_markdown":"This does not really solve the problem because ignoring an action event or showing error message from within it does not affect the selected value of the combo. The supposedly disabled value is still going to be selected. Seems like the only way to veto the change is within a combo box model. Something like https://stackoverflow.com/a/28344521/69585","body":"This does not really solve the problem because ignoring an action event or showing error message from within it does not affect the selected value of the combo. The supposedly disabled value is still going to be selected. Seems like the only way to veto the change is within a combo box model. Something like <a href=\"https://stackoverflow.com/a/28344521/69585\">stackoverflow.com/a/28344521/69585</a>"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1400469231,"creation_date":1400430394,"answer_id":23724201,"question_id":23722706,"body_markdown":"&lt;h2&gt;First of all...&lt;/h2&gt;\r\n\r\nThis is going to require some hand coding. The GUI Builder is not going to help you out here.\r\n\r\n&lt;h2&gt;As for the rendering...&lt;/h2&gt;\r\n\r\nYou can implement your own `BasicComboBoxRenderer`, where you pass to it a `ListSelectionModel`. Based on the model you pass to it, only the selected interval will get rendered with the standard renderer. The remaining indices will get rendered in a _disable_ fashion, by change the foreground color and it&#39;s selection background. \r\n\r\n&lt;sup&gt;**Note:** this is only going to affect the rendering of the items, not the actual selection events &lt;/sup&gt;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import javax.swing.JList;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.plaf.basic.BasicComboBoxRenderer;\r\n    \r\n    public class EnabledComboBoxRenderer extends BasicComboBoxRenderer {\r\n    \r\n    \tprivate ListSelectionModel enabledItems;\r\n    \r\n    \tprivate Color disabledColor = Color.lightGray;\r\n    \t\r\n    \tpublic EnabledComboBoxRenderer() {}\r\n    \r\n    \tpublic EnabledComboBoxRenderer(ListSelectionModel enabled) {\r\n    \t\tsuper();\r\n    \t\tthis.enabledItems = enabled;\r\n    \t}\r\n    \t\r\n    \tpublic void setEnabledItems(ListSelectionModel enabled) {\r\n    \t\tthis.enabledItems = enabled;\r\n    \t}\r\n    \r\n    \tpublic void setDisabledColor(Color disabledColor) {\r\n    \t\tthis.disabledColor = disabledColor;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Component getListCellRendererComponent(JList list, Object value,\r\n    \t\t\tint index, boolean isSelected, boolean cellHasFocus) {\r\n    \r\n    \t\tComponent c = super.getListCellRendererComponent(list, value, index,\r\n    \t\t\t\tisSelected, cellHasFocus);\r\n    \r\n    \t\tif (!enabledItems.isSelectedIndex(index)) {// not enabled\r\n    \t\t\tif (isSelected) {\r\n    \t\t\t\tc.setBackground(UIManager.getColor(&quot;ComboBox.background&quot;));\r\n    \t\t\t} else {\r\n    \t\t\t\tc.setBackground(super.getBackground());\r\n    \t\t\t}\r\n    \r\n    \t\t\tc.setForeground(disabledColor);\r\n    \r\n    \t\t} else {\r\n    \t\t\tc.setBackground(super.getBackground());\r\n    \t\t\tc.setForeground(super.getForeground());\r\n    \t\t}\r\n    \t\treturn c;\r\n    \t}\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n&lt;h2&gt;As for selecting items...&lt;/h2&gt;\r\n\r\nYou can use two separate listeners. One for when the items are enabled and one for when the items are disabled. When the items are enabled, you can **1.** Change the selection model **2.** Add the enabled listener **3.** Remove the disabled listener\r\n\r\n\tprivate class EnabledListener implements ActionListener {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tSystem.out.println(((JComboBox) e.getSource()).getSelectedItem());\r\n\t\t}\r\n\t}\r\n\r\n\tprivate class DisabledListener implements ActionListener {\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif (((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[0]\r\n\t\t\t\t\t&amp;&amp; ((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[1]) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null,\r\n\t\t\t\t\t\t&quot;You can&#39;t Select that Item&quot;, &quot;ERROR&quot;,\r\n\t\t\t\t\t\tJOptionPane.ERROR_MESSAGE);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(((JComboBox) e.getSource())\r\n\t\t\t\t\t\t.getSelectedItem());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    protected void enableItemsInComboBox() {\r\n\t    comboBox.removeActionListener(disabledListener);\r\n\t    comboBox.addActionListener(enabledListener);\r\n\t    model.setSelectionInterval(SELECTION_INTERVAL[0], comboBox.getModel()\r\n\t\t\t.getSize() - 1);\r\n    }\r\n\r\nAnd vice versa\r\n\r\n\tprotected void disableItemsInComboBox() {\r\n\t\tcomboBox.removeActionListener(enabledListener);\r\n\t\tcomboBox.addActionListener(disabledListener);\r\n\t\tmodel.setSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\r\n\t}\r\n\r\n![enter image description here][2]\r\n\r\nHere&#39;s a complete running example, using `EnabledComboBoxRenderer` from above\r\n\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    \r\n    import javax.swing.DefaultListSelectionModel;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ComboBoxDisabledItemsDemo {\r\n    \tprivate static final int[] SELECTION_INTERVAL = { 0, 1 };\r\n    \r\n    \tprivate JComboBox comboBox;\r\n    \tprivate JCheckBox disableCheckBox;\r\n    \tprivate DefaultListSelectionModel model = new DefaultListSelectionModel();\r\n    \tprivate EnabledComboBoxRenderer enableRenderer = new EnabledComboBoxRenderer();\r\n    \r\n    \tprivate EnabledListener enabledListener = new EnabledListener();\r\n    \tprivate DisabledListener disabledListener = new DisabledListener();\r\n    \r\n    \tpublic ComboBoxDisabledItemsDemo() {\r\n    \t\tcomboBox = createComboBox();\r\n    \r\n    \t\tdisableCheckBox = createCheckBox();\r\n    \t\tdisableCheckBox.setSelected(true); // this adds the action listener to\r\n    \t\t\t\t\t\t\t\t\t\t\t// the\r\n    \t\t\t\t\t\t\t\t\t\t\t// to the combo box\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;Disabled Combo Box Items&quot;);\r\n    \t\tframe.setLayout(new GridBagLayout());\r\n    \t\tframe.add(comboBox);\r\n    \t\tframe.add(disableCheckBox);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(300, 300);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JComboBox createComboBox() {\r\n    \t\tString[] list = { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot;,\r\n    \t\t\t\t&quot;Item 6&quot;, &quot;Item 7&quot; };\r\n    \t\tJComboBox cbox = new JComboBox(list);\r\n    \t\tmodel.addSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\r\n    \t\tenableRenderer.setEnabledItems(model);\r\n    \t\tcbox.setRenderer(enableRenderer);\r\n    \t\treturn cbox;\r\n    \t}\r\n    \r\n    \tprivate class EnabledListener implements ActionListener {\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tSystem.out.println(((JComboBox) e.getSource()).getSelectedItem());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate class DisabledListener implements ActionListener {\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tif (((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[0]\r\n    \t\t\t\t\t&amp;&amp; ((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[1]) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null,\r\n    \t\t\t\t\t\t&quot;You can&#39;t Select that Item&quot;, &quot;ERROR&quot;,\r\n    \t\t\t\t\t\tJOptionPane.ERROR_MESSAGE);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(((JComboBox) e.getSource())\r\n    \t\t\t\t\t\t.getSelectedItem());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected void disableItemsInComboBox() {\r\n    \t\tcomboBox.removeActionListener(enabledListener);\r\n    \t\tcomboBox.addActionListener(disabledListener);\r\n    \t\tmodel.setSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\r\n    \t}\r\n    \r\n    \tprotected void enableItemsInComboBox() {\r\n    \t\tcomboBox.removeActionListener(disabledListener);\r\n    \t\tcomboBox.addActionListener(enabledListener);\r\n    \t\tmodel.setSelectionInterval(SELECTION_INTERVAL[0], comboBox.getModel()\r\n    \t\t\t\t.getSize() - 1);\r\n    \t}\r\n    \r\n    \tprivate JCheckBox createCheckBox() {\r\n    \t\tJCheckBox checkBox = new JCheckBox(&quot;diabled&quot;);\r\n    \t\tcheckBox.addItemListener(new ItemListener() {\r\n    \t\t\tpublic void itemStateChanged(ItemEvent e) {\r\n    \t\t\t\tif (e.getStateChange() == ItemEvent.SELECTED) {\r\n    \t\t\t\t\tdisableItemsInComboBox();\r\n    \t\t\t\t} else if (e.getStateChange() == ItemEvent.DESELECTED) {\r\n    \t\t\t\t\tenableItemsInComboBox();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn checkBox;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew ComboBoxDisabledItemsDemo();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4thMU.png\r\n  [2]: http://i.stack.imgur.com/riIWM.png","title":"How to disable certain items in a JComboBox","body":"<h2>First of all...</h2>\n\n<p>This is going to require some hand coding. The GUI Builder is not going to help you out here.</p>\n\n<h2>As for the rendering...</h2>\n\n<p>You can implement your own <code>BasicComboBoxRenderer</code>, where you pass to it a <code>ListSelectionModel</code>. Based on the model you pass to it, only the selected interval will get rendered with the standard renderer. The remaining indices will get rendered in a <em>disable</em> fashion, by change the foreground color and it's selection background. </p>\n\n<p><sup><strong>Note:</strong> this is only going to affect the rendering of the items, not the actual selection events </sup></p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport javax.swing.JList;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.UIManager;\nimport javax.swing.plaf.basic.BasicComboBoxRenderer;\n\npublic class EnabledComboBoxRenderer extends BasicComboBoxRenderer {\n\n    private ListSelectionModel enabledItems;\n\n    private Color disabledColor = Color.lightGray;\n\n    public EnabledComboBoxRenderer() {}\n\n    public EnabledComboBoxRenderer(ListSelectionModel enabled) {\n        super();\n        this.enabledItems = enabled;\n    }\n\n    public void setEnabledItems(ListSelectionModel enabled) {\n        this.enabledItems = enabled;\n    }\n\n    public void setDisabledColor(Color disabledColor) {\n        this.disabledColor = disabledColor;\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList list, Object value,\n            int index, boolean isSelected, boolean cellHasFocus) {\n\n        Component c = super.getListCellRendererComponent(list, value, index,\n                isSelected, cellHasFocus);\n\n        if (!enabledItems.isSelectedIndex(index)) {// not enabled\n            if (isSelected) {\n                c.setBackground(UIManager.getColor(\"ComboBox.background\"));\n            } else {\n                c.setBackground(super.getBackground());\n            }\n\n            c.setForeground(disabledColor);\n\n        } else {\n            c.setBackground(super.getBackground());\n            c.setForeground(super.getForeground());\n        }\n        return c;\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/4thMU.png\" alt=\"enter image description here\"></p>\n\n<h2>As for selecting items...</h2>\n\n<p>You can use two separate listeners. One for when the items are enabled and one for when the items are disabled. When the items are enabled, you can <strong>1.</strong> Change the selection model <strong>2.</strong> Add the enabled listener <strong>3.</strong> Remove the disabled listener</p>\n\n<pre><code>private class EnabledListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(((JComboBox) e.getSource()).getSelectedItem());\n    }\n}\n\nprivate class DisabledListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[0]\n                &amp;&amp; ((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[1]) {\n            JOptionPane.showMessageDialog(null,\n                    \"You can't Select that Item\", \"ERROR\",\n                    JOptionPane.ERROR_MESSAGE);\n        } else {\n            System.out.println(((JComboBox) e.getSource())\n                    .getSelectedItem());\n        }\n    }\n}\n\nprotected void enableItemsInComboBox() {\n    comboBox.removeActionListener(disabledListener);\n    comboBox.addActionListener(enabledListener);\n    model.setSelectionInterval(SELECTION_INTERVAL[0], comboBox.getModel()\n        .getSize() - 1);\n}\n</code></pre>\n\n<p>And vice versa</p>\n\n<pre><code>protected void disableItemsInComboBox() {\n    comboBox.removeActionListener(enabledListener);\n    comboBox.addActionListener(disabledListener);\n    model.setSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/riIWM.png\" alt=\"enter image description here\"></p>\n\n<p>Here's a complete running example, using <code>EnabledComboBoxRenderer</code> from above</p>\n\n<pre><code>import java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\nimport javax.swing.DefaultListSelectionModel;\nimport javax.swing.JCheckBox;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.SwingUtilities;\n\npublic class ComboBoxDisabledItemsDemo {\n    private static final int[] SELECTION_INTERVAL = { 0, 1 };\n\n    private JComboBox comboBox;\n    private JCheckBox disableCheckBox;\n    private DefaultListSelectionModel model = new DefaultListSelectionModel();\n    private EnabledComboBoxRenderer enableRenderer = new EnabledComboBoxRenderer();\n\n    private EnabledListener enabledListener = new EnabledListener();\n    private DisabledListener disabledListener = new DisabledListener();\n\n    public ComboBoxDisabledItemsDemo() {\n        comboBox = createComboBox();\n\n        disableCheckBox = createCheckBox();\n        disableCheckBox.setSelected(true); // this adds the action listener to\n                                            // the\n                                            // to the combo box\n\n        JFrame frame = new JFrame(\"Disabled Combo Box Items\");\n        frame.setLayout(new GridBagLayout());\n        frame.add(comboBox);\n        frame.add(disableCheckBox);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(300, 300);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JComboBox createComboBox() {\n        String[] list = { \"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\", \"Item 5\",\n                \"Item 6\", \"Item 7\" };\n        JComboBox cbox = new JComboBox(list);\n        model.addSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\n        enableRenderer.setEnabledItems(model);\n        cbox.setRenderer(enableRenderer);\n        return cbox;\n    }\n\n    private class EnabledListener implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(((JComboBox) e.getSource()).getSelectedItem());\n        }\n    }\n\n    private class DisabledListener implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[0]\n                    &amp;&amp; ((JComboBox) e.getSource()).getSelectedIndex() != SELECTION_INTERVAL[1]) {\n                JOptionPane.showMessageDialog(null,\n                        \"You can't Select that Item\", \"ERROR\",\n                        JOptionPane.ERROR_MESSAGE);\n            } else {\n                System.out.println(((JComboBox) e.getSource())\n                        .getSelectedItem());\n            }\n        }\n    }\n\n    protected void disableItemsInComboBox() {\n        comboBox.removeActionListener(enabledListener);\n        comboBox.addActionListener(disabledListener);\n        model.setSelectionInterval(SELECTION_INTERVAL[0], SELECTION_INTERVAL[1]);\n    }\n\n    protected void enableItemsInComboBox() {\n        comboBox.removeActionListener(disabledListener);\n        comboBox.addActionListener(enabledListener);\n        model.setSelectionInterval(SELECTION_INTERVAL[0], comboBox.getModel()\n                .getSize() - 1);\n    }\n\n    private JCheckBox createCheckBox() {\n        JCheckBox checkBox = new JCheckBox(\"diabled\");\n        checkBox.addItemListener(new ItemListener() {\n            public void itemStateChanged(ItemEvent e) {\n                if (e.getStateChange() == ItemEvent.SELECTED) {\n                    disableItemsInComboBox();\n                } else if (e.getStateChange() == ItemEvent.DESELECTED) {\n                    enableItemsInComboBox();\n                }\n            }\n        });\n        return checkBox;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                new ComboBoxDisabledItemsDemo();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1521455741,"post_id":49345416,"comment_id":85721731,"body_markdown":"I missed that, apologies.","body":"I missed that, apologies."}],"tags":[],"owner":{"account_id":10281228,"reputation":261,"user_id":7586301,"display_name":"Paul Efford"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522525571,"creation_date":1521357364,"answer_id":49345416,"question_id":23722706,"body_markdown":"To solve @Samsotha &#39;s code &quot;problem&quot; where disabled items are still selectable, I found and adapted a code which works fine for this purpose. Here is a working example on how you can call it and use it in similar way to a JComboBox:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.ListCellRenderer;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.plaf.basic.BasicComboBoxRenderer;\r\n\r\n    /**\r\n     * Creates a util class to generate a JComboBox with enabled/disabled items.\r\n     * Strongly adapted from original post of Joris Van den Bogaert at http://esus.com/disabling-some-of-the-elements-in-a-jcombobox/\r\n     */\r\n\r\n    @SuppressWarnings({ &quot;unchecked&quot; })\r\n    public class MyComboBox extends JComboBox&lt;Object&gt; {\r\n\r\n\tprivate static final long serialVersionUID = 6975854742812751380L;\r\n\r\n\t/**************************************************\r\n\t * FOR TESTING:\r\n\t */\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\t // Way 1: load an array\r\n\t\t ConditionalItem[] arr = new ConditionalItem[] {\r\n\t\t\t new ConditionalItem(&quot;Item 0&quot;, false),\r\n\t\t\t new ConditionalItem(&quot;Item 1&quot;, false),\r\n\t\t\t new ConditionalItem(&quot;Item 2&quot;),\r\n\t\t\t new ConditionalItem(&quot;Item 3&quot;, false),\r\n\t\t\t new ConditionalItem(&quot;Item 4&quot;, true)\r\n\t\t };\r\n\t\t MyComboBox combo = new MyComboBox(arr);\r\n\t\t\r\n    //\t\t// Way 2: load oned by one (allows run-time modification)\r\n    //\t\tMyComboBox combo = new MyComboBox();\r\n    //\t\tcombo.addItem(&quot;sss&quot;, false);\r\n    //\t\tcombo.addItem(&quot;ddd&quot;, true);\r\n    //\t\tcombo.addItem(&quot;eeee&quot;);\r\n\r\n\t\t// Way 3: initial load and oned by one on run-time\r\n\t\tcombo.addItem(&quot;Item 5&quot;);\r\n\t\tcombo.addItem(&quot;Item 6&quot;, false);\r\n\t\tcombo.addItem(&quot;Item 7&quot;, true);\r\n\r\n\t\tJPanel panel = new JPanel(new FlowLayout());\r\n\t\tpanel.add(new JLabel(&quot;Test:&quot;));\r\n\t\tpanel.add(combo);\r\n\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setContentPane(panel);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\tThread.sleep(2*1000);\r\n\t\tcombo.setItem(&quot;Item 2&quot;, false);\r\n\t\t\r\n\t\tThread.sleep(2*1000);\r\n\t\tcombo.setItem(&quot;Item 8&quot;, false);\r\n\t}\r\n\r\n\t/**************************************************\r\n\t * CONSTRUCTORS:\r\n\t */\r\n\t\r\n\tActionListener listener;\r\n\r\n\tpublic MyComboBox() {\r\n\t\tthis.setRenderer(new ConditionalComboBoxRenderer());\r\n\t}\r\n\r\n\tpublic MyComboBox(ConditionalItem[] arr) {\r\n\t\tfor(ConditionalItem ci : arr) {\r\n\t\t\tthis.addItem(ci);\r\n\t\t}\r\n\t\tthis.setRenderer(new ConditionalComboBoxRenderer());\r\n\t\tlistener = new ConditionalComboBoxListener(this);\r\n\t\tthis.addActionListener(listener);\r\n\t}\r\n\t\r\n\tpublic void addItem(String str) {\r\n\t\taddItem(new ConditionalItem(str, true));\r\n\t}\r\n\r\n\tpublic void addItem(String str, boolean bool) {\r\n\t\taddItem(new ConditionalItem(str, bool));\r\n\t}\r\n\t\r\n\tpublic void addItem(Component ci) {\r\n\t\tthis.add(ci);\r\n\t\tthis.setRenderer(new ConditionalComboBoxRenderer());\r\n\t\tthis.addActionListener(new ConditionalComboBoxListener(this));\r\n\t}\r\n\r\n\t/** if combobox contains &quot;str&quot;, sets its state to &quot;bool&quot;; \r\n\t *  if it&#39;s not yet an item, ignores it; \r\n\t *  the method also re-sets the selected item to the first one \r\n\t *  shown in the list as &quot;true&quot;, and disables the listeners in this \r\n\t *  process to avoid firing an action when reorganizing the list. \r\n\t */\r\n\tpublic void setItem(String str, boolean bool) {\r\n\t\tint n = this.getItemCount();\r\n\t\tfor (int i=0; i&lt;n; i++) {\r\n\t\t\tif(this.getItemAt(i).toString().equals(str)) {\r\n\t\t\t\t\r\n\t\t\t\tthis.removeActionListener(listener);\r\n\t\t\t\tthis.removeItemAt(i);\r\n\t\t\t\tthis.insertItemAt(new ConditionalItem(str, bool), i);\r\n\t\t\t\tint k = this.firstTrueItem();\r\n\t\t\t\tif(k&lt;0) k=0; // default index 0 if no true item is shown as true\r\n\t\t\t\tthis.setSelectedIndex(k);\r\n\t\t\t\tthis.addActionListener(listener);\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.err.println(&quot;Warning: item &quot;+ str +&quot; is not a member of this combobox: ignoring it...&quot;);\r\n\t}\r\n\t\r\n\tpublic Object[] getItems() {\r\n\t\tint n = this.getItemCount();\r\n\t\tObject[] obj = new Object[n];\r\n\t\tfor (int i=0; i&lt;n; i++) {\r\n\t\t\tobj[i] = this.getItemAt(i);\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n\t\r\n\t/** @return -1 if no item is true */\r\n\tint firstTrueItem() {\r\n\t\tint i = 0;\r\n\t\tfor(Object obj : this.getItems()) {\r\n\t\t\tif(((ConditionalItem) obj).isEnabled()) return i;\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n    }\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    class ConditionalComboBoxRenderer extends BasicComboBoxRenderer implements ListCellRenderer {\r\n\r\n\tprivate static final long serialVersionUID = 8538079002036282063L;\r\n\r\n\t@Override\r\n\tpublic Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected,\r\n\t\t\tboolean cellHasFocus) {\r\n\t\tif (isSelected) {\r\n\t\t\tsetBackground(list.getSelectionBackground());\r\n\t\t\tsetForeground(list.getSelectionForeground());\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetBackground(list.getBackground());\r\n\t\t\tsetForeground(list.getForeground());\r\n\t\t}\r\n\r\n    try {\r\n\t\tif (value != null &amp;&amp; !((ConditionalItem) value).isEnabled()) {\r\n\t\t\tsetBackground(list.getBackground());\r\n\t\t\tsetForeground(UIManager.getColor(&quot;Label.disabledForeground&quot;));\r\n\t\t}\r\n    } catch(Exception e) {\r\n         e.printStackTrace();\r\n    }  finally {\r\n\t\tsetFont(list.getFont());\r\n\t\tsetText((value == null) ? &quot;&quot; : value.toString());\r\n    }\r\n\treturn this;\r\n\t}\r\n    }\r\n\r\n    class ConditionalComboBoxListener implements ActionListener {\r\n\r\n\tMyComboBox combobox;\r\n\tObject oldItem;\r\n\r\n\tConditionalComboBoxListener(MyComboBox combobox) {\r\n\t\tthis.combobox = combobox;\r\n\t\tcombobox.setSelectedIndex(combobox.firstTrueItem());\r\n\t\toldItem = combobox.getSelectedItem();\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tObject selectedItem = combobox.getSelectedItem();\r\n\t\tif (!((ConditionalItem) selectedItem).isEnabled()) {\r\n\t\t\tcombobox.setSelectedItem(oldItem);\r\n\t\t\tSystem.err.println(selectedItem.toString());\r\n\t\t} else {\r\n\t\t\toldItem = selectedItem;\r\n\t\t\tSystem.out.println(oldItem.toString());\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n    class ConditionalItem {\r\n\r\n\tObject object;\r\n\tboolean isEnabled;\r\n\r\n\tConditionalItem(Object object, boolean isEnabled) {\r\n\t\tthis.object = object;\r\n\t\tthis.isEnabled = isEnabled;\r\n\t}\r\n\r\n\tConditionalItem(Object object) {\r\n\t\tthis(object, true);\r\n\t}\r\n\r\n\tpublic boolean isEnabled() {\r\n\t\treturn isEnabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(boolean isEnabled) {\r\n\t\tthis.isEnabled = isEnabled;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn object.toString();\r\n\t}\r\n    }","title":"How to disable certain items in a JComboBox","body":"<p>To solve @Samsotha 's code \"problem\" where disabled items are still selectable, I found and adapted a code which works fine for this purpose. Here is a working example on how you can call it and use it in similar way to a JComboBox:</p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.UIManager;\nimport javax.swing.plaf.basic.BasicComboBoxRenderer;\n\n/**\n * Creates a util class to generate a JComboBox with enabled/disabled items.\n * Strongly adapted from original post of Joris Van den Bogaert at http://esus.com/disabling-some-of-the-elements-in-a-jcombobox/\n */\n\n@SuppressWarnings({ \"unchecked\" })\npublic class MyComboBox extends JComboBox&lt;Object&gt; {\n\nprivate static final long serialVersionUID = 6975854742812751380L;\n\n/**************************************************\n * FOR TESTING:\n */\n\npublic static void main(String[] args) throws Exception {\n\n     // Way 1: load an array\n     ConditionalItem[] arr = new ConditionalItem[] {\n         new ConditionalItem(\"Item 0\", false),\n         new ConditionalItem(\"Item 1\", false),\n         new ConditionalItem(\"Item 2\"),\n         new ConditionalItem(\"Item 3\", false),\n         new ConditionalItem(\"Item 4\", true)\n     };\n     MyComboBox combo = new MyComboBox(arr);\n\n//      // Way 2: load oned by one (allows run-time modification)\n//      MyComboBox combo = new MyComboBox();\n//      combo.addItem(\"sss\", false);\n//      combo.addItem(\"ddd\", true);\n//      combo.addItem(\"eeee\");\n\n    // Way 3: initial load and oned by one on run-time\n    combo.addItem(\"Item 5\");\n    combo.addItem(\"Item 6\", false);\n    combo.addItem(\"Item 7\", true);\n\n    JPanel panel = new JPanel(new FlowLayout());\n    panel.add(new JLabel(\"Test:\"));\n    panel.add(combo);\n\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setContentPane(panel);\n    frame.pack();\n    frame.setVisible(true);\n\n    Thread.sleep(2*1000);\n    combo.setItem(\"Item 2\", false);\n\n    Thread.sleep(2*1000);\n    combo.setItem(\"Item 8\", false);\n}\n\n/**************************************************\n * CONSTRUCTORS:\n */\n\nActionListener listener;\n\npublic MyComboBox() {\n    this.setRenderer(new ConditionalComboBoxRenderer());\n}\n\npublic MyComboBox(ConditionalItem[] arr) {\n    for(ConditionalItem ci : arr) {\n        this.addItem(ci);\n    }\n    this.setRenderer(new ConditionalComboBoxRenderer());\n    listener = new ConditionalComboBoxListener(this);\n    this.addActionListener(listener);\n}\n\npublic void addItem(String str) {\n    addItem(new ConditionalItem(str, true));\n}\n\npublic void addItem(String str, boolean bool) {\n    addItem(new ConditionalItem(str, bool));\n}\n\npublic void addItem(Component ci) {\n    this.add(ci);\n    this.setRenderer(new ConditionalComboBoxRenderer());\n    this.addActionListener(new ConditionalComboBoxListener(this));\n}\n\n/** if combobox contains \"str\", sets its state to \"bool\"; \n *  if it's not yet an item, ignores it; \n *  the method also re-sets the selected item to the first one \n *  shown in the list as \"true\", and disables the listeners in this \n *  process to avoid firing an action when reorganizing the list. \n */\npublic void setItem(String str, boolean bool) {\n    int n = this.getItemCount();\n    for (int i=0; i&lt;n; i++) {\n        if(this.getItemAt(i).toString().equals(str)) {\n\n            this.removeActionListener(listener);\n            this.removeItemAt(i);\n            this.insertItemAt(new ConditionalItem(str, bool), i);\n            int k = this.firstTrueItem();\n            if(k&lt;0) k=0; // default index 0 if no true item is shown as true\n            this.setSelectedIndex(k);\n            this.addActionListener(listener);\n\n            return;\n        }\n    }\n    System.err.println(\"Warning: item \"+ str +\" is not a member of this combobox: ignoring it...\");\n}\n\npublic Object[] getItems() {\n    int n = this.getItemCount();\n    Object[] obj = new Object[n];\n    for (int i=0; i&lt;n; i++) {\n        obj[i] = this.getItemAt(i);\n    }\n    return obj;\n}\n\n/** @return -1 if no item is true */\nint firstTrueItem() {\n    int i = 0;\n    for(Object obj : this.getItems()) {\n        if(((ConditionalItem) obj).isEnabled()) return i;\n        i++;\n    }\n    return -1;\n}\n}\n\n@SuppressWarnings(\"rawtypes\")\nclass ConditionalComboBoxRenderer extends BasicComboBoxRenderer implements ListCellRenderer {\n\nprivate static final long serialVersionUID = 8538079002036282063L;\n\n@Override\npublic Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected,\n        boolean cellHasFocus) {\n    if (isSelected) {\n        setBackground(list.getSelectionBackground());\n        setForeground(list.getSelectionForeground());\n\n    } else {\n        setBackground(list.getBackground());\n        setForeground(list.getForeground());\n    }\n\ntry {\n    if (value != null &amp;&amp; !((ConditionalItem) value).isEnabled()) {\n        setBackground(list.getBackground());\n        setForeground(UIManager.getColor(\"Label.disabledForeground\"));\n    }\n} catch(Exception e) {\n     e.printStackTrace();\n}  finally {\n    setFont(list.getFont());\n    setText((value == null) ? \"\" : value.toString());\n}\nreturn this;\n}\n}\n\nclass ConditionalComboBoxListener implements ActionListener {\n\nMyComboBox combobox;\nObject oldItem;\n\nConditionalComboBoxListener(MyComboBox combobox) {\n    this.combobox = combobox;\n    combobox.setSelectedIndex(combobox.firstTrueItem());\n    oldItem = combobox.getSelectedItem();\n}\n\npublic void actionPerformed(ActionEvent e) {\n\n    Object selectedItem = combobox.getSelectedItem();\n    if (!((ConditionalItem) selectedItem).isEnabled()) {\n        combobox.setSelectedItem(oldItem);\n        System.err.println(selectedItem.toString());\n    } else {\n        oldItem = selectedItem;\n        System.out.println(oldItem.toString());\n    }\n}\n}\n\nclass ConditionalItem {\n\nObject object;\nboolean isEnabled;\n\nConditionalItem(Object object, boolean isEnabled) {\n    this.object = object;\n    this.isEnabled = isEnabled;\n}\n\nConditionalItem(Object object) {\n    this(object, true);\n}\n\npublic boolean isEnabled() {\n    return isEnabled;\n}\n\npublic void setEnabled(boolean isEnabled) {\n    this.isEnabled = isEnabled;\n}\n\n@Override\npublic String toString() {\n    return object.toString();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061225,"reputation":180,"user_id":1612685,"display_name":"Alex Colomb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673449465,"creation_date":1673449465,"answer_id":75085074,"question_id":23722706,"body_markdown":"Extending the DefaultComboBoxModel and preventing items from being selected worked well for me. There are cases where you may want a disabled item to be set, and in those cases you&#39;ll need to call setAllowDisabledItemSelection(true) before setting that item.\r\n   \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class JComboBoxWithDisabledItems&lt;E&gt; extends JComboBox&lt;E&gt;\r\n    {\r\n        private final Set&lt;E&gt; disabledItems;\r\n    \r\n        private final DisabledItemComboBoxModel&lt;E&gt; model;\r\n    \r\n        private ListCellRenderer&lt;? super E&gt; renderer;\r\n    \r\n        public JComboBoxWithDisabledItems()\r\n        {\r\n            super();\r\n            model = new DisabledItemComboBoxModel&lt;&gt;();\r\n            setModel( model );\r\n            setRenderer( new DefaultListCellRenderer());\r\n    \r\n            disabledItems = new HashSet&lt;&gt;();\r\n            super.setRenderer( ( list, value, index, isSelected, cellHasFocus ) -&gt;\r\n            {\r\n                Component component = renderer.getListCellRendererComponent( list, value, index, isSelected, cellHasFocus );\r\n                Color foreground = component.getForeground();\r\n                Color background = component.getBackground();\r\n                if( disabledItems.contains( value ) )\r\n                {\r\n                    if( isSelected )\r\n                    {\r\n                        background = UIManager.getColor( &quot;ComboBox.background&quot; );\r\n                    }\r\n    \r\n                    foreground = Color.GRAY;\r\n                }\r\n    \r\n                component.setBackground( background );\r\n                component.setForeground( foreground );\r\n    \r\n                return component;\r\n            } );\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void setRenderer( ListCellRenderer&lt;? super E&gt; renderer )\r\n        {\r\n            this.renderer = renderer;\r\n        }\r\n    \r\n    \r\n        public void setDisabledItems( Set&lt;E&gt; disabledItems )\r\n        {\r\n            this.disabledItems.clear();\r\n            this.disabledItems.addAll( disabledItems );\r\n    \r\n            model.setDisabledItems( disabledItems );\r\n        }\r\n    \r\n    \r\n        public void setAllowDisabledItemSelection( boolean allowDisabledItemSelection )\r\n        {\r\n            model.setAllowDisabledItemSelection( allowDisabledItemSelection );\r\n        }\r\n    \r\n    \r\n        private static final class DisabledItemComboBoxModel&lt;E&gt; extends DefaultComboBoxModel&lt;E&gt;\r\n        {\r\n            private final Set&lt;E&gt; disabledItems;\r\n            private boolean allowDisabledItemSelection;\r\n            public DisabledItemComboBoxModel()\r\n            {\r\n                disabledItems = new HashSet&lt;&gt;();\r\n                allowDisabledItemSelection = false;\r\n            }\r\n    \r\n            @Override\r\n            public void setSelectedItem( Object anObject )\r\n            {\r\n                if( allowDisabledItemSelection || !disabledItems.contains( anObject ) )\r\n                    super.setSelectedItem( anObject );\r\n                else\r\n                    System.out.println( &quot;selection of item &quot; + anObject + &quot; disabled&quot; );\r\n            }\r\n    \r\n            public void setDisabledItems( Set&lt;E&gt; disabledItems )\r\n            {\r\n                this.disabledItems.clear();\r\n                this.disabledItems.addAll( disabledItems );\r\n            }\r\n    \r\n    \r\n            public void setAllowDisabledItemSelection( boolean allowDisabledItemSelection )\r\n            {\r\n                this.allowDisabledItemSelection = allowDisabledItemSelection;\r\n            }\r\n        }\r\n    }","title":"How to disable certain items in a JComboBox","body":"<p>Extending the DefaultComboBoxModel and preventing items from being selected worked well for me. There are cases where you may want a disabled item to be set, and in those cases you'll need to call setAllowDisabledItemSelection(true) before setting that item.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class JComboBoxWithDisabledItems&lt;E&gt; extends JComboBox&lt;E&gt;\n{\n    private final Set&lt;E&gt; disabledItems;\n\n    private final DisabledItemComboBoxModel&lt;E&gt; model;\n\n    private ListCellRenderer&lt;? super E&gt; renderer;\n\n    public JComboBoxWithDisabledItems()\n    {\n        super();\n        model = new DisabledItemComboBoxModel&lt;&gt;();\n        setModel( model );\n        setRenderer( new DefaultListCellRenderer());\n\n        disabledItems = new HashSet&lt;&gt;();\n        super.setRenderer( ( list, value, index, isSelected, cellHasFocus ) -&gt;\n        {\n            Component component = renderer.getListCellRendererComponent( list, value, index, isSelected, cellHasFocus );\n            Color foreground = component.getForeground();\n            Color background = component.getBackground();\n            if( disabledItems.contains( value ) )\n            {\n                if( isSelected )\n                {\n                    background = UIManager.getColor( &quot;ComboBox.background&quot; );\n                }\n\n                foreground = Color.GRAY;\n            }\n\n            component.setBackground( background );\n            component.setForeground( foreground );\n\n            return component;\n        } );\n    }\n\n\n    @Override\n    public void setRenderer( ListCellRenderer&lt;? super E&gt; renderer )\n    {\n        this.renderer = renderer;\n    }\n\n\n    public void setDisabledItems( Set&lt;E&gt; disabledItems )\n    {\n        this.disabledItems.clear();\n        this.disabledItems.addAll( disabledItems );\n\n        model.setDisabledItems( disabledItems );\n    }\n\n\n    public void setAllowDisabledItemSelection( boolean allowDisabledItemSelection )\n    {\n        model.setAllowDisabledItemSelection( allowDisabledItemSelection );\n    }\n\n\n    private static final class DisabledItemComboBoxModel&lt;E&gt; extends DefaultComboBoxModel&lt;E&gt;\n    {\n        private final Set&lt;E&gt; disabledItems;\n        private boolean allowDisabledItemSelection;\n        public DisabledItemComboBoxModel()\n        {\n            disabledItems = new HashSet&lt;&gt;();\n            allowDisabledItemSelection = false;\n        }\n\n        @Override\n        public void setSelectedItem( Object anObject )\n        {\n            if( allowDisabledItemSelection || !disabledItems.contains( anObject ) )\n                super.setSelectedItem( anObject );\n            else\n                System.out.println( &quot;selection of item &quot; + anObject + &quot; disabled&quot; );\n        }\n\n        public void setDisabledItems( Set&lt;E&gt; disabledItems )\n        {\n            this.disabledItems.clear();\n            this.disabledItems.addAll( disabledItems );\n        }\n\n\n        public void setAllowDisabledItemSelection( boolean allowDisabledItemSelection )\n        {\n            this.allowDisabledItemSelection = allowDisabledItemSelection;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3339622,"reputation":3025,"user_id":2806163,"accept_rate":61,"display_name":"Daksh Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673449465,"creation_date":1400421484,"question_id":23722706,"body_markdown":"I have a `ComboBox` in which I have 8 Items out of which I want to display all but on a certain condition, the user should only be able to select the first two of them, so I have programmed that if the condition is true and the user chooses any other option then it shows up a Message Box showing `&quot;You cannot choose this&quot;` and then selecting the default automatically. So far so good.\r\n\r\nBut now the thing is that the user cannot make out by seeing the options of `JComboBox` that which ones can he select, So what I want to do is that if the condition is true then all the options other than the first two should be disabled(or grey out or something) so that users can make out that you cannot select it, and if they still do then my Message Box should come up.\r\n\r\n**What I tried**: I tried looking up &lt;a href=&quot;https://stackoverflow.com/questions/11895822/disabling-individual-jcombobox-items&quot;&gt;this&lt;/a&gt; but I couldn&#39;t make out what was done in the question (it&#39;s answer is for no use for me) and I also tried other options but was unsuccessful.\r\n\r\n**Note**: I am using Netbeans GUI to create everything, and the code I am writing is on `JComboBoxActionPerformed` and I am a newbie so I couldn&#39;t figure out myself, apologies for that","title":"How to disable certain items in a JComboBox","body":"<p>I have a <code>ComboBox</code> in which I have 8 Items out of which I want to display all but on a certain condition, the user should only be able to select the first two of them, so I have programmed that if the condition is true and the user chooses any other option then it shows up a Message Box showing <code>\"You cannot choose this\"</code> and then selecting the default automatically. So far so good.</p>\n\n<p>But now the thing is that the user cannot make out by seeing the options of <code>JComboBox</code> that which ones can he select, So what I want to do is that if the condition is true then all the options other than the first two should be disabled(or grey out or something) so that users can make out that you cannot select it, and if they still do then my Message Box should come up.</p>\n\n<p><strong>What I tried</strong>: I tried looking up <a href=\"https://stackoverflow.com/questions/11895822/disabling-individual-jcombobox-items\">this</a> but I couldn't make out what was done in the question (it's answer is for no use for me) and I also tried other options but was unsuccessful.</p>\n\n<p><strong>Note</strong>: I am using Netbeans GUI to create everything, and the code I am writing is on <code>JComboBoxActionPerformed</code> and I am a newbie so I couldn't figure out myself, apologies for that</p>\n"},{"tags":["java","unit-testing","mockito","tdd"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673434135,"post_id":75081758,"comment_id":132496575,"body_markdown":"`Mockito.mock(EntityService.class, Mockito.CALLS_REAL_METHODS)` and then `Mockito.doReturn(&lt;your result&gt;).when(service).filterEntityByNameOrCode(&lt;your parameters&gt;);`","body":"<code>Mockito.mock(EntityService.class, Mockito.CALLS_REAL_METHODS)</code> and then <code>Mockito.doReturn(&lt;your result&gt;).when(service).filterEntityByNameOrCode(&lt;your parameters&gt;);</code>"},{"owner":{"account_id":9701861,"reputation":187,"user_id":9686211,"display_name":"avaros"},"score":0,"creation_date":1673438760,"post_id":75081758,"comment_id":132498215,"body_markdown":"@XtremeBaumer Thanks for your response. I get that can work, but by doing that I&#39;m mocking the class that is under testing. I want to avoid doing so as I wonder if that is a bad practice? This is what I want to clarify: what is the right way of testing a scenario like this? Not just the solution that works. Thank you.","body":"@XtremeBaumer Thanks for your response. I get that can work, but by doing that I&#39;m mocking the class that is under testing. I want to avoid doing so as I wonder if that is a bad practice? This is what I want to clarify: what is the right way of testing a scenario like this? Not just the solution that works. Thank you."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673439335,"post_id":75081758,"comment_id":132498391,"body_markdown":"A partial mock is what you need, which is what `Mockito.mock(EntityService.class, Mockito.CALLS_REAL_METHODS)` does. The docs state `This implementation can be helpful when working with legacy code.When this implementation is used, unstubbed methods will delegate to the real implementation.This is a way to create a partial mock object that calls real methods by default.` You basically mock the class, but still call the actual implementation for the unstubbed methods","body":"A partial mock is what you need, which is what <code>Mockito.mock(EntityService.class, Mockito.CALLS_REAL_METHODS)</code> does. The docs state <code>This implementation can be helpful when working with legacy code.When this implementation is used, unstubbed methods will delegate to the real implementation.This is a way to create a partial mock object that calls real methods by default.</code> You basically mock the class, but still call the actual implementation for the unstubbed methods"},{"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"score":0,"creation_date":1673499484,"post_id":75081758,"comment_id":132514195,"body_markdown":"You probably want to review Chapter 4 of _Working Effectively with Legacy Code_.","body":"You probably want to review Chapter 4 of <i>Working Effectively with Legacy Code</i>."},{"owner":{"account_id":9701861,"reputation":187,"user_id":9686211,"display_name":"avaros"},"score":0,"creation_date":1673515217,"post_id":75081758,"comment_id":132517981,"body_markdown":"Thanks for the responses but this is not legacy code. this is me trying to understand the principles of TDD and clean code and trying to learn how to do things the best way. I&#39;m not looking for a solution that works. I&#39;m trying to learn the correct way of doing things.","body":"Thanks for the responses but this is not legacy code. this is me trying to understand the principles of TDD and clean code and trying to learn how to do things the best way. I&#39;m not looking for a solution that works. I&#39;m trying to learn the correct way of doing things."}],"answers":[{"comments":[{"owner":{"account_id":9701861,"reputation":187,"user_id":9686211,"display_name":"avaros"},"score":1,"creation_date":1673515037,"post_id":75084362,"comment_id":132517916,"body_markdown":"I really like this. So the correct approach is to only mock the result of the persistence layer instead of trying to mock the result of the filter method? Also, in this case, does it make sense to test the scenarios of the filtering method separately and, then, test this possible scenarios on the create method (from the service class)?","body":"I really like this. So the correct approach is to only mock the result of the persistence layer instead of trying to mock the result of the filter method? Also, in this case, does it make sense to test the scenarios of the filtering method separately and, then, test this possible scenarios on the create method (from the service class)?"},{"owner":{"account_id":13354976,"reputation":28,"user_id":9638871,"display_name":"Rodrigo Concei&#231;&#227;o"},"score":0,"creation_date":1673525463,"post_id":75084362,"comment_id":132521498,"body_markdown":"Your analysis is correct @avaros. If you had a repository in your service, you would need a mock, so the same is applied to MemoryDatabase, right? \nYou can create both tests depending on confidence in your tests and considering futures reusabilities of it.","body":"Your analysis is correct @avaros. If you had a repository in your service, you would need a mock, so the same is applied to MemoryDatabase, right?  You can create both tests depending on confidence in your tests and considering futures reusabilities of it."}],"tags":[],"owner":{"account_id":13354976,"reputation":28,"user_id":9638871,"display_name":"Rodrigo Concei&#231;&#227;o"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673448926,"creation_date":1673446179,"answer_id":75084362,"question_id":75081758,"body_markdown":"I would apply an DI pattern in your service, in order to mock and control the db variable.\r\n\r\n    @Service\r\n    public class EntityService implements FilteringInterface {\r\n\r\n        private Persistence db;\r\n\r\n        public EntityService(Persistence db) {\r\n            this.db = db;\r\n        }\r\n    }\r\n\r\nAfter that, you will be able to add entities to `Set` accordingly to your scenarios\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class EntityServiceTest {\r\n    \r\n        @Mock\r\n        private Persistence persistence;\r\n    \r\n        @InjectMocks\r\n        private EntityService entityService;\r\n    \r\n        @BeforeEach\r\n        void before() {\r\n            final Set&lt;Entity&gt; existentEntity = Set.of(new Entity(1L,1L, &quot;name&quot;, &quot;code&quot;));\r\n            when(persistence.getEntities()).thenReturn(existentEntity);\r\n        }\r\n    \r\n        @Test\r\n        void shouldThrowWhenNameAlreadyExists() {\r\n            final EntityDTO dto = new EntityDTO(1L, &quot;name&quot;, &quot;anything&quot;);\r\n            assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\r\n        }\r\n    \r\n        @Test\r\n        void shouldThrowWhenCodeAlreadyExists() {\r\n            final EntityDTO dto = new EntityDTO(1L, &quot;anything&quot;, &quot;code&quot;);\r\n            assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\r\n        }\r\n    \r\n        @Test\r\n        void shouldThrowWhenNameAndCodeAlreadyExists() {\r\n            final EntityDTO dto = new EntityDTO(1L, &quot;name&quot;, &quot;code&quot;);\r\n            assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\r\n        }\r\n    \r\n        @Test\r\n        void shouldNotThrowWhenUnique() {\r\n            final EntityDTO dto = new EntityDTO(1L, &quot;diff&quot;, &quot;diff&quot;);\r\n            final EntityDTO entityDTO = entityService.create(dto);\r\n            assertNotNull(entityDTO);\r\n        }\r\n    }","title":"Right way of testing method that depends on other method calls","body":"<p>I would apply an DI pattern in your service, in order to mock and control the db variable.</p>\n<pre><code>@Service\npublic class EntityService implements FilteringInterface {\n\n    private Persistence db;\n\n    public EntityService(Persistence db) {\n        this.db = db;\n    }\n}\n</code></pre>\n<p>After that, you will be able to add entities to <code>Set</code> accordingly to your scenarios</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass EntityServiceTest {\n\n    @Mock\n    private Persistence persistence;\n\n    @InjectMocks\n    private EntityService entityService;\n\n    @BeforeEach\n    void before() {\n        final Set&lt;Entity&gt; existentEntity = Set.of(new Entity(1L,1L, &quot;name&quot;, &quot;code&quot;));\n        when(persistence.getEntities()).thenReturn(existentEntity);\n    }\n\n    @Test\n    void shouldThrowWhenNameAlreadyExists() {\n        final EntityDTO dto = new EntityDTO(1L, &quot;name&quot;, &quot;anything&quot;);\n        assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\n    }\n\n    @Test\n    void shouldThrowWhenCodeAlreadyExists() {\n        final EntityDTO dto = new EntityDTO(1L, &quot;anything&quot;, &quot;code&quot;);\n        assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\n    }\n\n    @Test\n    void shouldThrowWhenNameAndCodeAlreadyExists() {\n        final EntityDTO dto = new EntityDTO(1L, &quot;name&quot;, &quot;code&quot;);\n        assertThrows(RuntimeException.class, () -&gt; entityService.create(dto));\n    }\n\n    @Test\n    void shouldNotThrowWhenUnique() {\n        final EntityDTO dto = new EntityDTO(1L, &quot;diff&quot;, &quot;diff&quot;);\n        final EntityDTO entityDTO = entityService.create(dto);\n        assertNotNull(entityDTO);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9701861,"reputation":187,"user_id":9686211,"display_name":"avaros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75084362,"answer_count":1,"score":1,"last_activity_date":1673448926,"creation_date":1673433744,"question_id":75081758,"body_markdown":"Hi have read a lot about this but can&#39;t come to a conclusion about the best way to test a method that is dependent on other method call results to perform its actions. \r\n\r\nSome of the questions I&#39;ve read include:\r\n\r\n* https://stackoverflow.com/questions/41834255/testing-methods-that-depend-on-each-other\r\n* https://stackoverflow.com/questions/34595643/unit-testing-a-method-that-calls-other-methods\r\n* https://stackoverflow.com/questions/363596/unit-testing-a-method-that-calls-another-method\r\n\r\nSome of the answers sugest that we should only test the methods that perform only one action and then test the method that call this methods for conditional behaviuour (for example, verifying if a given method was called or not) and that&#39;s fine, I get it, but I&#39;m struggling with other scenario.\r\n\r\nI have a service with a REST api.\r\n\r\nThe controller has a create method that receives a DTO and calls the Service class create method with this argument (DTO).\r\n\r\nI&#39;m trying to practice TDD and for this I use this project I&#39;m building without a database.\r\n\r\nThe code is as follows:\r\n\r\n  \r\n\r\n```\r\n@Service\r\npublic class EntityService implements FilteringInterface {\r\n\r\n    private MemoryDatabase db = MemoryDatabase.getInstance();\r\n\r\n    //Create method called from controller: receives DTO to create a new \r\n    //Entity after validating that it&#39;s name and code parameters are unique\r\n    public EntityDTO create(EntityDTO dto) throws Exception {\r\n\r\n        validateUniqueFields(dto);\r\n       \r\n        Entity entity = Entity.toEntity(dto, &quot;id1&quot;); //maps DTO to Entity object\r\n        db.add(entity);\r\n\r\n        return new EntityDTO.Builder(entity);//maps entity to DTO\r\n    }\r\n\r\n    public void validateUniqueFields(EntityDTO dto) throws Exception {\r\n        Set&lt;Entity&gt; foundEntities = filterEntityByNameOrCode(dto.getName(),\r\n                dto.getCode(), db.getEntities());\r\n\r\n        if (!foundEntities.isEmpty()) {\r\n            throw new Exception(&quot;Already exists&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the interface with methods reused by other service classes:\r\n\r\n```\r\npublic interface FilteringInterface {\r\n\r\n    default Set&lt;Entity&gt; filterEntityByNameOrCode(String name, String code, Set&lt;Entity&gt; list) {\r\n        return list.stream().filter(e -&gt; e.getSiteId().equals(siteId)\r\n                &amp;&amp; (e.getName().equals(name)\r\n                || e.getCode().equals(code))).collect(Collectors.toSet());\r\n    }\r\n\r\n    default Optional&lt;Entity&gt; filterEntityById(String id, Set&lt;Entity&gt; list) {\r\n        return list.stream().filter(e -&gt; e.getId().equals(id)).findAny();\r\n    };\r\n}\r\n```\r\n\r\nSo, I&#39;m testing this service class and I need to test the create() method because it can have different behaviors:\r\n\r\n1. If the received DTO has a name that already exists on the list of entities -&gt; throws Exception\r\n2. If the received DTO has a code that already exists on the list of entities -&gt; throws Exception\r\n3. If the received DTO has a name and a code that already exists on the list of entities -&gt; throws Exception\r\n4. If name and code are different, than everything is ok, and creates the entity -&gt; adds the entity to the existing list - &gt; converts the entity to DTO and retrieves it.\r\n\r\nProblem:\r\nTo test any of the scenarios, suppose, scenario 1: I need to make the filterEntityByNameOrCode() method return a list with an Entity that has the same name as the Entity I&#39;m trying to create. This method is called inside validateUniqueFields() method.\r\n\r\nProblem is: I can&#39;t call mockito when() for any of this methods because, for that, I would have to mock the service class, which is the class that I&#39;m testing and, thus, it&#39;s wrong approach.\r\nI&#39;ve also read that using Spy for this is also wrong approach.\r\nSo, where thus that leaves me?\r\n\r\n***Also: if this code is not the correct aprocah, and thats why\r\nit can&#39;t be correctly tested, than, whats should the correct approach be?***\r\n\r\nThis service will have other methods (delete, update, etc.). All of this methods will make use of the FilteringInterface as well, so I will have the same problems. \r\nWhat is the correct way of testing a service class?","title":"Right way of testing method that depends on other method calls","body":"<p>Hi have read a lot about this but can't come to a conclusion about the best way to test a method that is dependent on other method call results to perform its actions.</p>\n<p>Some of the questions I've read include:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41834255/testing-methods-that-depend-on-each-other\">Testing methods that depend on each other</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34595643/unit-testing-a-method-that-calls-other-methods\">Unit testing a method that calls other methods</a></li>\n<li><a href=\"https://stackoverflow.com/questions/363596/unit-testing-a-method-that-calls-another-method\">Unit testing a method that calls another method</a></li>\n</ul>\n<p>Some of the answers sugest that we should only test the methods that perform only one action and then test the method that call this methods for conditional behaviuour (for example, verifying if a given method was called or not) and that's fine, I get it, but I'm struggling with other scenario.</p>\n<p>I have a service with a REST api.</p>\n<p>The controller has a create method that receives a DTO and calls the Service class create method with this argument (DTO).</p>\n<p>I'm trying to practice TDD and for this I use this project I'm building without a database.</p>\n<p>The code is as follows:</p>\n<pre><code>@Service\npublic class EntityService implements FilteringInterface {\n\n    private MemoryDatabase db = MemoryDatabase.getInstance();\n\n    //Create method called from controller: receives DTO to create a new \n    //Entity after validating that it's name and code parameters are unique\n    public EntityDTO create(EntityDTO dto) throws Exception {\n\n        validateUniqueFields(dto);\n       \n        Entity entity = Entity.toEntity(dto, &quot;id1&quot;); //maps DTO to Entity object\n        db.add(entity);\n\n        return new EntityDTO.Builder(entity);//maps entity to DTO\n    }\n\n    public void validateUniqueFields(EntityDTO dto) throws Exception {\n        Set&lt;Entity&gt; foundEntities = filterEntityByNameOrCode(dto.getName(),\n                dto.getCode(), db.getEntities());\n\n        if (!foundEntities.isEmpty()) {\n            throw new Exception(&quot;Already exists&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is the interface with methods reused by other service classes:</p>\n<pre><code>public interface FilteringInterface {\n\n    default Set&lt;Entity&gt; filterEntityByNameOrCode(String name, String code, Set&lt;Entity&gt; list) {\n        return list.stream().filter(e -&gt; e.getSiteId().equals(siteId)\n                &amp;&amp; (e.getName().equals(name)\n                || e.getCode().equals(code))).collect(Collectors.toSet());\n    }\n\n    default Optional&lt;Entity&gt; filterEntityById(String id, Set&lt;Entity&gt; list) {\n        return list.stream().filter(e -&gt; e.getId().equals(id)).findAny();\n    };\n}\n</code></pre>\n<p>So, I'm testing this service class and I need to test the create() method because it can have different behaviors:</p>\n<ol>\n<li>If the received DTO has a name that already exists on the list of entities -&gt; throws Exception</li>\n<li>If the received DTO has a code that already exists on the list of entities -&gt; throws Exception</li>\n<li>If the received DTO has a name and a code that already exists on the list of entities -&gt; throws Exception</li>\n<li>If name and code are different, than everything is ok, and creates the entity -&gt; adds the entity to the existing list - &gt; converts the entity to DTO and retrieves it.</li>\n</ol>\n<p>Problem:\nTo test any of the scenarios, suppose, scenario 1: I need to make the filterEntityByNameOrCode() method return a list with an Entity that has the same name as the Entity I'm trying to create. This method is called inside validateUniqueFields() method.</p>\n<p>Problem is: I can't call mockito when() for any of this methods because, for that, I would have to mock the service class, which is the class that I'm testing and, thus, it's wrong approach.\nI've also read that using Spy for this is also wrong approach.\nSo, where thus that leaves me?</p>\n<p><em><strong>Also: if this code is not the correct aprocah, and thats why\nit can't be correctly tested, than, whats should the correct approach be?</strong></em></p>\n<p>This service will have other methods (delete, update, etc.). All of this methods will make use of the FilteringInterface as well, so I will have the same problems.\nWhat is the correct way of testing a service class?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1673446196,"post_id":75082862,"comment_id":132500932,"body_markdown":"seems like the reason why its not working has to do with an older spring boot version.","body":"seems like the reason why its not working has to do with an older spring boot version."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673439119,"creation_date":1673439119,"answer_id":75082862,"question_id":75081596,"body_markdown":"You can configure the client used by Spring Data Elasticsearch by providing a configuration bean, this is described in the documentation at https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.restclient. Details for the client configuration are a little further down the docs: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration.\r\n\r\nThis gives you the possibility to configure authentication and ssl setup (there is also a `usingSsl` method taking a ssl context which can be customized further).\r\n\r\nI can&#39;t tell you which properties to set in the application configuration, this is a Spring Boot topic, Spring Data Elasticsearch does not read or use any configured values by itself.\r\n\r\n","title":"How to configure security in elasticsearch 8.5.3 using Starter Data Elasticsearch 3.0.1 in maven java springboot","body":"<p>You can configure the client used by Spring Data Elasticsearch by providing a configuration bean, this is described in the documentation at <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.restclient\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.restclient</a>. Details for the client configuration are a little further down the docs: <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration</a>.</p>\n<p>This gives you the possibility to configure authentication and ssl setup (there is also a <code>usingSsl</code> method taking a ssl context which can be customized further).</p>\n<p>I can't tell you which properties to set in the application configuration, this is a Spring Boot topic, Spring Data Elasticsearch does not read or use any configured values by itself.</p>\n"},{"comments":[{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1673442765,"post_id":75083512,"comment_id":132499558,"body_markdown":"Yes, but the issue just as I described in the other answer is that I am unable to import the ElasticsearchConfiguration, its not found at all, this is what threw me off and forced me to find alternatives in the first place, this is what I get everytime I attempt to extend ElasticsearchConfiguration:\nhttps://ibb.co/wC8PxXT\nhttps://ibb.co/XxdSsLh\n\nAnd as you can see in this picture: https://ibb.co/dkjMLCJ\nThe documentation says: \nimport org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration;\nbut as you can see from the picture there is no .elk package","body":"Yes, but the issue just as I described in the other answer is that I am unable to import the ElasticsearchConfiguration, its not found at all, this is what threw me off and forced me to find alternatives in the first place, this is what I get everytime I attempt to extend ElasticsearchConfiguration: <a href=\"https://ibb.co/wC8PxXT\" rel=\"nofollow noreferrer\">ibb.co/wC8PxXT</a> <a href=\"https://ibb.co/XxdSsLh\" rel=\"nofollow noreferrer\">ibb.co/XxdSsLh</a>  And as you can see in this picture: <a href=\"https://ibb.co/dkjMLCJ\" rel=\"nofollow noreferrer\">ibb.co/dkjMLCJ</a> The documentation says:  import org.springframework.data.elasticsearch.client.elc.Elasticsea&zwnj;&#8203;rchConfiguration; but as you can see from the picture there is no .elk package"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1673442998,"post_id":75083512,"comment_id":132499643,"body_markdown":"So there is something wrong with your maven/gradle setup. I use `spring-boot-starter-data-elasticsearch` and everything works for me. I use similiar configuration with integration tests with elastisearch docker container and I can connect to it using certificate.","body":"So there is something wrong with your maven/gradle setup. I use <code>spring-boot-starter-data-elasticsearch</code> and everything works for me. I use similiar configuration with integration tests with elastisearch docker container and I can connect to it using certificate."},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1673446164,"post_id":75083512,"comment_id":132500919,"body_markdown":"I discovered the issue, by analyzing pom.xml, apprently, the spring boot version where it is not working is old, version 2.6.3, so, the elasticsearch starter 3.0.1 was downloading an older version of spring data elasticsearch(version 4.3.1) which still uses High level rest client and Transport clients. I tested this theory by creating a new springboot project version 3.0.1 .\n\nHad to exclude the old version that is being downloaded, and I add the spring data elasticsearch 5.0.0 menually.","body":"I discovered the issue, by analyzing pom.xml, apprently, the spring boot version where it is not working is old, version 2.6.3, so, the elasticsearch starter 3.0.1 was downloading an older version of spring data elasticsearch(version 4.3.1) which still uses High level rest client and Transport clients. I tested this theory by creating a new springboot project version 3.0.1 .  Had to exclude the old version that is being downloaded, and I add the spring data elasticsearch 5.0.0 menually."},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1673513415,"post_id":75083512,"comment_id":132517345,"body_markdown":"I managed to make it work at last, but now I have another question, is there a more elegant way of creating an SSL certificate other than having to extract the http certificate, and then pasting it in the properties file.","body":"I managed to make it work at last, but now I have another question, is there a more elegant way of creating an SSL certificate other than having to extract the http certificate, and then pasting it in the properties file."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673711246,"post_id":75083512,"comment_id":132561028,"body_markdown":"Don&#39;t know how you set up your project, but for me a Spring Boot 3.0.1 setup pulls in Spring Data Elasticsearch 5.0.0 via it&#39;s starter.","body":"Don&#39;t know how you set up your project, but for me a Spring Boot 3.0.1 setup pulls in Spring Data Elasticsearch 5.0.0 via it&#39;s starter."},{"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"score":0,"creation_date":1673820873,"post_id":75083512,"comment_id":132577615,"body_markdown":"@P.J.Meisch Yes, I did an analysis on the maven dependencies, between two projects the 2nd one uses the most up to date spring boot, and I found out that, the starter was downloading an older version of Spring Data Elasticsearch, while I am under the impression that it was 5.0.0, it is now solved, thanks for the help. It&#39;s not functioning properly, and I can add data to it.","body":"@P.J.Meisch Yes, I did an analysis on the maven dependencies, between two projects the 2nd one uses the most up to date spring boot, and I found out that, the starter was downloading an older version of Spring Data Elasticsearch, while I am under the impression that it was 5.0.0, it is now solved, thanks for the help. It&#39;s not functioning properly, and I can add data to it."}],"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673448833,"creation_date":1673442234,"answer_id":75083512,"question_id":75081596,"body_markdown":"What you can do is to extend [`ElasticsearchConfiguration`](https://docs.spring.io/spring-data/elasticsearch/docs/current/api/org/springframework/data/elasticsearch/client/elc/ElasticsearchConfiguration.html) and override `clientConfiguration` method. There you can use `usingSsl` method and pass `SSLContext` :\r\n````\r\n@Configuration\r\nclass ElasitcSearchConfig extends ElasticsearchConfiguration {\r\n\r\n    @Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\r\n    private String certificateBase64;\r\n\r\n    @Override\r\n    ClientConfiguration clientConfiguration() {\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(&quot;localhost:9200&quot;)\r\n                .usingSsl(getSSLConetxt())\r\n                .withBasicAuth(&quot;elastic&quot;, &quot;changeme&quot;)\r\n                .build();\r\n        return clientConfiguration;\r\n    }\r\n\r\n    private SSLContext getSSLContext() {\r\n        byte[] decode = Base64.decoder.decode(certificateBase64)\r\n\r\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n        Certificate ca;\r\n        try (InputStream certificateInputStream = new ByteArrayInputStream(decode)) {\r\n            ca = cf.generateCertificate(certificateInputStream);\r\n        }\r\n\r\n        String keyStoreType = KeyStore.getDefaultType();\r\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n        keyStore.load(null, null);\r\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n\r\n        String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n        TrustManagerFactory tmf = \r\n   TrustManagerFactory.getInstance(tmfAlgorithm);\r\n        tmf.init(keyStore);\r\n\r\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n        context.init(null, tmf.getTrustManagers(), null);\r\n        return context;\r\n    }\r\n\r\n}\r\n````\r\n`certificateBase64` will hold elasticsearch certificate encoded in base64 format and can be injected through properties file or environment variable (name of the property `spring.elasticsearch.client.certificate`). The code to create ssl context was originally taken from [this answer](https://stackoverflow.com/a/74913210/4956907).","title":"How to configure security in elasticsearch 8.5.3 using Starter Data Elasticsearch 3.0.1 in maven java springboot","body":"<p>What you can do is to extend <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/api/org/springframework/data/elasticsearch/client/elc/ElasticsearchConfiguration.html\" rel=\"nofollow noreferrer\"><code>ElasticsearchConfiguration</code></a> and override <code>clientConfiguration</code> method. There you can use <code>usingSsl</code> method and pass <code>SSLContext</code> :</p>\n<pre><code>@Configuration\nclass ElasitcSearchConfig extends ElasticsearchConfiguration {\n\n    @Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\n    private String certificateBase64;\n\n    @Override\n    ClientConfiguration clientConfiguration() {\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(&quot;localhost:9200&quot;)\n                .usingSsl(getSSLConetxt())\n                .withBasicAuth(&quot;elastic&quot;, &quot;changeme&quot;)\n                .build();\n        return clientConfiguration;\n    }\n\n    private SSLContext getSSLContext() {\n        byte[] decode = Base64.decoder.decode(certificateBase64)\n\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate ca;\n        try (InputStream certificateInputStream = new ByteArrayInputStream(decode)) {\n            ca = cf.generateCertificate(certificateInputStream);\n        }\n\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n        String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n        TrustManagerFactory tmf = \n   TrustManagerFactory.getInstance(tmfAlgorithm);\n        tmf.init(keyStore);\n\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, tmf.getTrustManagers(), null);\n        return context;\n    }\n\n}\n</code></pre>\n<p><code>certificateBase64</code> will hold elasticsearch certificate encoded in base64 format and can be injected through properties file or environment variable (name of the property <code>spring.elasticsearch.client.certificate</code>). The code to create ssl context was originally taken from <a href=\"https://stackoverflow.com/a/74913210/4956907\">this answer</a>.</p>\n"}],"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75083512,"answer_count":2,"score":2,"last_activity_date":1673448833,"creation_date":1673432975,"question_id":75081596,"body_markdown":"I was able to create an elasticsearch 8.5.3 server as a docker image, but with security completely disabled, and in my springboot application I am using `ElasticsearchRepository` to perform insert,update, and delete and `ElasticsearchOperations` to perform selection and search, both of these classes/interfaces are included in the Spring Boot Starter Data Elasticsearch 3.0.1 dependency, and I am also using the following application.yaml property to tell both where the server is at\r\n\r\n    spring:\r\n     elasticsearch:\r\n      uris = \r\n       - http://localhost:9700\r\n    # username: elastic\r\n    # password: 123\r\n\r\n**Now, here is my issue:**\r\nI set up another elasticsearch server with complete security features to test my springboot code in a real life scenario, but I can&#39;t figure out how to change the application.yaml to add the certificate portion of the security options, I&#39;ve been stuck on this portion for a week now, I know it contains options like `spring.elasticsearch.username` and `spring.elasticsearch.password`, which aren&#39;t the issue, but where is the option for the certificate, and how can I make the certificate work on both `ElasticsearchRepository` and `ElasticsearchOperation`? I gathered from the majority of tutorials that I need to construct a `@configuration` class, however the point is that, most, if not all of the tutorials use deprecated methods(I am stuck in a &#39;This is deprecated&#39; loop), like for example High Level Rest Client. I&#39;m confused as to how to make ElasticsearchRepository and ElasticsearchOperation utilize the specified @Configuration, and what is the alternative to the High Level Rest Client\r\n(I think its `RestClient` based on what I read on the official documentations, but I cant figure out how to implement it with spring boot elasticsearch data starter)","title":"How to configure security in elasticsearch 8.5.3 using Starter Data Elasticsearch 3.0.1 in maven java springboot","body":"<p>I was able to create an elasticsearch 8.5.3 server as a docker image, but with security completely disabled, and in my springboot application I am using <code>ElasticsearchRepository</code> to perform insert,update, and delete and <code>ElasticsearchOperations</code> to perform selection and search, both of these classes/interfaces are included in the Spring Boot Starter Data Elasticsearch 3.0.1 dependency, and I am also using the following application.yaml property to tell both where the server is at</p>\n<pre><code>spring:\n elasticsearch:\n  uris = \n   - http://localhost:9700\n# username: elastic\n# password: 123\n</code></pre>\n<p><strong>Now, here is my issue:</strong>\nI set up another elasticsearch server with complete security features to test my springboot code in a real life scenario, but I can't figure out how to change the application.yaml to add the certificate portion of the security options, I've been stuck on this portion for a week now, I know it contains options like <code>spring.elasticsearch.username</code> and <code>spring.elasticsearch.password</code>, which aren't the issue, but where is the option for the certificate, and how can I make the certificate work on both <code>ElasticsearchRepository</code> and <code>ElasticsearchOperation</code>? I gathered from the majority of tutorials that I need to construct a <code>@configuration</code> class, however the point is that, most, if not all of the tutorials use deprecated methods(I am stuck in a 'This is deprecated' loop), like for example High Level Rest Client. I'm confused as to how to make ElasticsearchRepository and ElasticsearchOperation utilize the specified @Configuration, and what is the alternative to the High Level Rest Client\n(I think its <code>RestClient</code> based on what I read on the official documentations, but I cant figure out how to implement it with spring boot elasticsearch data starter)</p>\n"},{"tags":["java","eclipse","xsd","jaxb"],"comments":[{"owner":{"account_id":27488655,"reputation":1,"user_id":20974450,"display_name":"user20974450"},"score":0,"creation_date":1673365049,"post_id":75070840,"comment_id":132479461,"body_markdown":"Or else what tools I can use if eclipse is not working?","body":"Or else what tools I can use if eclipse is not working?"}],"answers":[{"comments":[{"owner":{"account_id":27488655,"reputation":1,"user_id":20974450,"display_name":"user20974450"},"score":0,"creation_date":1673360194,"post_id":75071071,"comment_id":132477609,"body_markdown":"But I have Java 1.7 everywhere according to eclipse. Tryed to remove and add the library in buildpath. Same effect","body":"But I have Java 1.7 everywhere according to eclipse. Tryed to remove and add the library in buildpath. Same effect"},{"owner":{"account_id":27488655,"reputation":1,"user_id":20974450,"display_name":"user20974450"},"score":0,"creation_date":1673360334,"post_id":75071071,"comment_id":132477660,"body_markdown":"And Plus if I add the main function to the class I still can compile this","body":"And Plus if I add the main function to the class I still can compile this"}],"tags":[],"owner":{"account_id":12379995,"reputation":43,"user_id":9026054,"display_name":"Barzou"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673359259,"creation_date":1673359259,"answer_id":75071071,"question_id":75070840,"body_markdown":"&gt; Unsupported major.minor version 52.0\r\n\r\nThis means Java8, as mentionned here:\r\nhttps://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\r\n\r\nBasically, it means you&#39;re compiling with a more recent version of java than what your code is running on.\r\nCheck the JDK used to build, not only the running one.","title":"Can&#39;t generate XSD schema for JAXB class","body":"<blockquote>\n<p>Unsupported major.minor version 52.0</p>\n</blockquote>\n<p>This means Java8, as mentionned here:\n<a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version</a></p>\n<p>Basically, it means you're compiling with a more recent version of java than what your code is running on.\nCheck the JDK used to build, not only the running one.</p>\n"},{"tags":[],"owner":{"account_id":2982248,"reputation":97,"user_id":2531976,"accept_rate":20,"display_name":"Bogdan Onyshenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673448383,"creation_date":1673448383,"answer_id":75084853,"question_id":75070840,"body_markdown":"Hello I had a same problem recently on the latest eclipse version to 2022.12 that is. Problem is actually comming not from your java application everythin fine with that but from eclipse itself during the schema generation. It is using some deprecated function for working with xml and JRE wich it is running on not a target JRE is not supporting them. But if you try to run eclipse on JRE 1.7 eclipse won&#39;t run because of missing dependencies. Only solution for me was to install JRE 1.6 and eclipse Indigo v3.7 and do the task there","title":"Can&#39;t generate XSD schema for JAXB class","body":"<p>Hello I had a same problem recently on the latest eclipse version to 2022.12 that is. Problem is actually comming not from your java application everythin fine with that but from eclipse itself during the schema generation. It is using some deprecated function for working with xml and JRE wich it is running on not a target JRE is not supporting them. But if you try to run eclipse on JRE 1.7 eclipse won't run because of missing dependencies. Only solution for me was to install JRE 1.6 and eclipse Indigo v3.7 and do the task there</p>\n"}],"owner":{"account_id":27488655,"reputation":1,"user_id":20974450,"display_name":"user20974450"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673448383,"creation_date":1673358129,"question_id":75070840,"body_markdown":"Hello I have a simple JAXB example class. But while I try to generate an xsd schema to it I am getting a folowing exception\r\n\r\n```\r\n`Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jpt/jaxb/core/schemagen/Main : Unsupported major.minor version 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n\r\n```\r\nThe steps I came to this error are: \r\nSimply created a JAXB project in eclipse\r\nImplemented the class below\r\n\r\n```\r\n`package com.prods;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlAttribute;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;product&quot;)\r\n\r\npublic class Product {\r\n    @XmlAttribute\r\n\r\n\tprotected int id; // необязательный\r\n\r\n\t    protected String name; // обов’язковий, не пустий рядок\r\n\r\n\t    protected double price; // &gt;= 0\r\n\r\n\t    protected String descr; // необязательный\r\n\r\n\t    protected String[] categories; // необов’язковий, якщо присутній, то не\r\n\r\n\r\n\r\n\t    protected char[] chars;// обов’язковий, можуть бути різними\r\n\r\n\r\n}\r\n`\r\nT\r\n```\r\nhen I try to add the xsd schema I am getting this exception. For a target I use java 1.7 mac os X JAXB v2.1. How can I fix this? If I rty to run the project adding main function to the class it is running normaly. The problem accurs when you try to add an xsd schema buy creating it with eclipse. Version of eclise is 2022-12 for Java enterprise.\r\n\r\n\r\n\r\nI tryed to change the Java version I am running to JDK 19 it didn&#39;t help ofcors. ","title":"Can&#39;t generate XSD schema for JAXB class","body":"<p>Hello I have a simple JAXB example class. But while I try to generate an xsd schema to it I am getting a folowing exception</p>\n<pre><code>`Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jpt/jaxb/core/schemagen/Main : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n\n</code></pre>\n<p>The steps I came to this error are:\nSimply created a JAXB project in eclipse\nImplemented the class below</p>\n<pre><code>`package com.prods;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;product&quot;)\n\npublic class Product {\n    @XmlAttribute\n\n    protected int id; // необязательный\n\n        protected String name; // обов’язковий, не пустий рядок\n\n        protected double price; // &gt;= 0\n\n        protected String descr; // необязательный\n\n        protected String[] categories; // необов’язковий, якщо присутній, то не\n\n\n\n        protected char[] chars;// обов’язковий, можуть бути різними\n\n\n}\n`\nT\n</code></pre>\n<p>hen I try to add the xsd schema I am getting this exception. For a target I use java 1.7 mac os X JAXB v2.1. How can I fix this? If I rty to run the project adding main function to the class it is running normaly. The problem accurs when you try to add an xsd schema buy creating it with eclipse. Version of eclise is 2022-12 for Java enterprise.</p>\n<p>I tryed to change the Java version I am running to JDK 19 it didn't help ofcors.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1680725365,"post_id":75084802,"comment_id":133948917,"body_markdown":"check out the OTel &quot;standalone library instrumentations&quot;: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md#libraries--frameworks","body":"check out the OTel &quot;standalone library instrumentations&quot;: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md#libraries--frameworks\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673448134,"creation_date":1673448134,"question_id":75084802,"body_markdown":"I&#39;m trying to use OpenTelemetry SDK to trace my java application. When I&#39;m using [auto configuration][1] with opentelemetry-javaagent.jar I see a lot of methods traced. But when I&#39;m using [manual config][2] I need to add spans for all methods I want to trace. How I can trace all methods and just filter some unnecessary ones with manual config? \r\n\r\n\r\n  [1]: https://opentelemetry.io/docs/instrumentation/java/automatic/\r\n  [2]: https://opentelemetry.io/docs/instrumentation/java/manual/","title":"How to trace all endpoints or methods with OpenTelemetry and manual configuring","body":"<p>I'm trying to use OpenTelemetry SDK to trace my java application. When I'm using <a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/\" rel=\"nofollow noreferrer\">auto configuration</a> with opentelemetry-javaagent.jar I see a lot of methods traced. But when I'm using <a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/\" rel=\"nofollow noreferrer\">manual config</a> I need to add spans for all methods I want to trace. How I can trace all methods and just filter some unnecessary ones with manual config?</p>\n"},{"tags":["java","jackson","xml-parsing","simple-framework","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671027567,"creation_date":1671027567,"answer_id":74799656,"question_id":74799381,"body_markdown":"There is no Jackson-alternative to @ElementListUnion, or workaround at the moment.","title":"Jackson-alternative to SimpleXML&#39;s @ElementListUnion","body":"<p>There is no Jackson-alternative to @ElementListUnion, or workaround at the moment.</p>\n"}],"owner":{"account_id":7779182,"reputation":374,"user_id":5886180,"accept_rate":25,"display_name":"Henrik Klev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74799656,"answer_count":1,"score":1,"last_activity_date":1673447952,"creation_date":1671026247,"question_id":74799381,"body_markdown":"Serializing a list that may contain elements with different types in Java using SimpleXML, you can you something such as \r\n\r\n```\r\nclass Root {\r\n  @ElementListUnion({\r\n    @ElementList(entry = &quot;Foo&quot;, type = Foo.class, inline = true),\r\n    @ElementList(entry = &quot;Bar&quot;, type = Bar.class, inline = true)\r\n  })\r\n  protected List&lt;Object&gt; fooOrBar;\r\n}\r\n```\r\nThis will end up being serialized to\r\n```\r\n&lt;Root&gt;\r\n  &lt;Foo&gt;\r\n    {correct Foo serialization}\r\n  &lt;/Foo&gt;\r\n  &lt;Bar&gt;\r\n    {correct Bar serialization}\r\n  &lt;/Bar&gt;\r\n&lt;/Root&gt;\r\n```\r\n\r\nIs there any Jackson-alterantive to `@ElementListUnion`, or a workaround? I could create a custom serializer - how would I go about creating a custom serializer that will only alter the name based on type?\r\n\r\nWhen using Jackson, I cannot seem to find a way that achieves the same thing. The closest I can get with using `@JacksonXmlElementWrapper` and/or `JacksonXmlProperty`, is a result similar to \r\n```\r\n&lt;Root&gt;\r\n  &lt;fooOrBar&gt;\r\n    {correct Foo serialization}\r\n  &lt;/fooOrBar&gt;\r\n  &lt;fooOrBar&gt;\r\n    {correct Bar serialization}\r\n  &lt;/fooOrBar&gt;\r\n&lt;/Root&gt;\r\n```\r\n","title":"Jackson-alternative to SimpleXML&#39;s @ElementListUnion","body":"<p>Serializing a list that may contain elements with different types in Java using SimpleXML, you can you something such as</p>\n<pre><code>class Root {\n  @ElementListUnion({\n    @ElementList(entry = &quot;Foo&quot;, type = Foo.class, inline = true),\n    @ElementList(entry = &quot;Bar&quot;, type = Bar.class, inline = true)\n  })\n  protected List&lt;Object&gt; fooOrBar;\n}\n</code></pre>\n<p>This will end up being serialized to</p>\n<pre><code>&lt;Root&gt;\n  &lt;Foo&gt;\n    {correct Foo serialization}\n  &lt;/Foo&gt;\n  &lt;Bar&gt;\n    {correct Bar serialization}\n  &lt;/Bar&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Is there any Jackson-alterantive to <code>@ElementListUnion</code>, or a workaround? I could create a custom serializer - how would I go about creating a custom serializer that will only alter the name based on type?</p>\n<p>When using Jackson, I cannot seem to find a way that achieves the same thing. The closest I can get with using <code>@JacksonXmlElementWrapper</code> and/or <code>JacksonXmlProperty</code>, is a result similar to</p>\n<pre><code>&lt;Root&gt;\n  &lt;fooOrBar&gt;\n    {correct Foo serialization}\n  &lt;/fooOrBar&gt;\n  &lt;fooOrBar&gt;\n    {correct Bar serialization}\n  &lt;/fooOrBar&gt;\n&lt;/Root&gt;\n</code></pre>\n"},{"tags":["java","spring-integration","spring-integration-dsl","spring-integration-sftp"],"answers":[{"comments":[{"owner":{"account_id":2654907,"reputation":440,"user_id":2295807,"accept_rate":76,"display_name":"kacpr"},"score":0,"creation_date":1673454668,"post_id":75084694,"comment_id":132504319,"body_markdown":"The transfer would be from SFTP to a local directory where another process will pick the file for other processing. The error comes from the server.\nCould you suggest a correct configuration for this use case? Still including the persistent filter, and the process to continue in case of errors, but skip the faulty file (until next polling period).","body":"The transfer would be from SFTP to a local directory where another process will pick the file for other processing. The error comes from the server. Could you suggest a correct configuration for this use case? Still including the persistent filter, and the process to continue in case of errors, but skip the faulty file (until next polling period)."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1673455255,"post_id":75084694,"comment_id":132504567,"body_markdown":"&quot;until next polling period&quot; - I believe this is exactly what happens by default: when error on fetching, we rollback the filter state and let the poller to pass for the next polling cycle. You may look into a `maxFetchSize(1)` option on the `Sftp.inboundAdapter()` to not rollback the whole fetched remaining batch, but just deal with one file as is.","body":"&quot;until next polling period&quot; - I believe this is exactly what happens by default: when error on fetching, we rollback the filter state and let the poller to pass for the next polling cycle. You may look into a <code>maxFetchSize(1)</code> option on the <code>Sftp.inboundAdapter()</code> to not rollback the whole fetched remaining batch, but just deal with one file as is."},{"owner":{"account_id":2654907,"reputation":440,"user_id":2295807,"accept_rate":76,"display_name":"kacpr"},"score":0,"creation_date":1673456465,"post_id":75084694,"comment_id":132505017,"body_markdown":"I have changed `maxFetchSize(1)` on the adapter but see no difference in my test - `sftpSource1.txt` transfers and reads from `out` channel. An error occurs during `sftpSource2.txt` transfer and then when reading the `out` Channel every time after - it returns `null`","body":"I have changed <code>maxFetchSize(1)</code> on the adapter but see no difference in my test - <code>sftpSource1.txt</code> transfers and reads from <code>out</code> channel. An error occurs during <code>sftpSource2.txt</code> transfer and then when reading the <code>out</code> Channel every time after - it returns <code>null</code>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1673457579,"post_id":75084694,"comment_id":132505377,"body_markdown":"Well, see the logic in the framework: https://github.com/spring-projects/spring-integration/blob/main/spring-integration-file/src/main/java/org/springframework/integration/file/remote/synchronizer/AbstractInboundFileSynchronizer.java#L396-L419. Perhaps it is time for you to share with us a simple project, so we can reproduce and see what else could be done to rollback failed file and come back to it later. Although it might be the problem of your `session` mock: you always throw an exception for that `sftpSource2.txt`. Therefore it might never go further for that `sftpSource3.txt`.","body":"Well, see the logic in the framework: <a href=\"https://github.com/spring-projects/spring-integration/blob/main/spring-integration-file/src/main/java/org/springframework/integration/file/remote/synchronizer/AbstractInboundFileSynchronizer.java#L396-L419\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/blob/main/&hellip;</a>. Perhaps it is time for you to share with us a simple project, so we can reproduce and see what else could be done to rollback failed file and come back to it later. Although it might be the problem of your <code>session</code> mock: you always throw an exception for that <code>sftpSource2.txt</code>. Therefore it might never go further for that <code>sftpSource3.txt</code>."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673447658,"creation_date":1673447658,"answer_id":75084694,"question_id":75081623,"body_markdown":"The `ExpressionEvaluatingRequestHandlerAdvice` is for consumer endpoints, not a source polling channel adapters. So, you cannot handle errors from the poller using that advice.\r\n\r\nIndeed you cannot have an `IntegrationFlow` just with a `SourcePollingChannelAdapter` - you need to add that `channel(out)` either way. \r\n\r\nNot clear by your current configuration where you transfer those files. So, probably you are talking about an error for handling those files, there that `ExpressionEvaluatingRequestHandlerAdvice` would make sense over there. This way indeed all your remote files would be transferred to the local dir and marked in the `SftpPersistentAcceptOnceFileListFilter` as watched. Just because you won&#39;t throw an exception from the handler back to the SFTP Inbound Channel Adapter.","title":"How to set up ExpressionEvaluatingRequestHandlerAdvice to stop task from being cancelled","body":"<p>The <code>ExpressionEvaluatingRequestHandlerAdvice</code> is for consumer endpoints, not a source polling channel adapters. So, you cannot handle errors from the poller using that advice.</p>\n<p>Indeed you cannot have an <code>IntegrationFlow</code> just with a <code>SourcePollingChannelAdapter</code> - you need to add that <code>channel(out)</code> either way.</p>\n<p>Not clear by your current configuration where you transfer those files. So, probably you are talking about an error for handling those files, there that <code>ExpressionEvaluatingRequestHandlerAdvice</code> would make sense over there. This way indeed all your remote files would be transferred to the local dir and marked in the <code>SftpPersistentAcceptOnceFileListFilter</code> as watched. Just because you won't throw an exception from the handler back to the SFTP Inbound Channel Adapter.</p>\n"}],"owner":{"account_id":2654907,"reputation":440,"user_id":2295807,"accept_rate":76,"display_name":"kacpr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673447658,"creation_date":1673433110,"question_id":75081623,"body_markdown":"I have a scenario which I&#39;m not sure if I am setting up correctly in Integration Flow.\r\nThe need is to:\r\n\r\n - Poll SFTP location for files\r\n - Transfer all that are new / have been changed and store that information with `SftpPersistentAcceptOnceFileListFilter`\r\n - On failure continue with the next available file\r\n\r\nFor the last point I have found in another [answer][1] that I could try an `ExpressionEvaluatingRequestHandlerAdvice`.\r\nI have came up with the following configuration, but adding the `Advice` has broken the flow completely (no message is flowing through)\r\n\r\n    ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\r\n    advice.setSuccessChannel(out);\r\n    advice.setFailureChannel(err);\r\n    advice.setTrapException(true);\r\n\r\n    IntegrationFlow integrationFlow = IntegrationFlows\r\n            .from(Sftp.inboundAdapter(cachingSessionFactory)\r\n            .remoteDirectory(&quot;sftpSource&quot;)\r\n            .deleteRemoteFiles(false)\r\n            .preserveTimestamp(true)\r\n            .localDirectory(getTargetLocalDirectory()), e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\r\n                    .poller(Pollers.fixedDelay(100)\r\n                            .maxMessagesPerPoll(3)\r\n                            .advice(advice)))\r\n            .channel(out)\r\n            .get();\r\n\r\nThe requirement for skipping a filed file transfer came out from a real world scenario, where our SFTP server refused to transfer an empty file. To simulate this I have added spies to the `SessionFactory`:\r\n\r\n    CachingSessionFactory&lt;ChannelSftp.LsEntry&gt; cachingSessionFactory = Mockito.spy(sessionFactory());\r\n    CachingSessionFactory.CachedSession session = (CachingSessionFactory.CachedSession) Mockito.spy(cachingSessionFactory.getSession());\r\n\r\n    doReturn(session).when(cachingSessionFactory).getSession();\r\n    doThrow(new RuntimeException(&quot;test exception&quot;)).when(session).read(contains(&quot;sftpSource2.txt&quot;), any(OutputStream.class));\r\n\r\nand the test code:\r\n\r\n    Message&lt;?&gt; message = out.receive(1000);\r\n    assertThat(message).isNotNull();\r\n    Object payload = message.getPayload();\r\n    assertThat(payload).isInstanceOf(File.class);\r\n    File file = (File) payload;\r\n    assertThat(file.getName()).isEqualTo(&quot; sftpSource1.txt&quot;);\r\n    assertThat(file.getAbsolutePath()).contains(&quot;localTarget&quot;);\r\n\r\n    message = out.receive(1000);\r\n    assertThat(message).isNull();\r\n\r\n    message = err.receive(1000);\r\n    System.out.println(&quot;error was:&quot; + message.getPayload());\r\n\r\n    message = out.receive(1000);\r\n    assertThat(message).isNotNull();\r\n    file = (File) message.getPayload();\r\n    assertThat(file.getName()).isIn(&quot;sftpSource3.txt&quot;);\r\n    assertThat(file.getAbsolutePath()).contains(&quot;localTarget&quot;);\r\n\r\nWhat I am confused about is - when I added the `advice` to the `Poller` should I remove `.errorChannel(err)` from the `Poller`? But if the advice is handling where the message ends up, shouldn&#39;t I also remove `.channel(out)` on the `integrationFlow`? Without it the IntegrationFlow doesn&#39;t build, with error `outputChannel is required`.\r\n\r\nMy second worry is - if `advice.setTrapException(true);` does it mean `SftpPersistentAcceptOnceFileListFilter` will mark the file as successfully processed? (the filter isn&#39;t present in the example code, but I will require it in real code).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73377044","title":"How to set up ExpressionEvaluatingRequestHandlerAdvice to stop task from being cancelled","body":"<p>I have a scenario which I'm not sure if I am setting up correctly in Integration Flow.\nThe need is to:</p>\n<ul>\n<li>Poll SFTP location for files</li>\n<li>Transfer all that are new / have been changed and store that information with <code>SftpPersistentAcceptOnceFileListFilter</code></li>\n<li>On failure continue with the next available file</li>\n</ul>\n<p>For the last point I have found in another <a href=\"https://stackoverflow.com/a/73377044\">answer</a> that I could try an <code>ExpressionEvaluatingRequestHandlerAdvice</code>.\nI have came up with the following configuration, but adding the <code>Advice</code> has broken the flow completely (no message is flowing through)</p>\n<pre><code>ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\nadvice.setSuccessChannel(out);\nadvice.setFailureChannel(err);\nadvice.setTrapException(true);\n\nIntegrationFlow integrationFlow = IntegrationFlows\n        .from(Sftp.inboundAdapter(cachingSessionFactory)\n        .remoteDirectory(&quot;sftpSource&quot;)\n        .deleteRemoteFiles(false)\n        .preserveTimestamp(true)\n        .localDirectory(getTargetLocalDirectory()), e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\n                .poller(Pollers.fixedDelay(100)\n                        .maxMessagesPerPoll(3)\n                        .advice(advice)))\n        .channel(out)\n        .get();\n</code></pre>\n<p>The requirement for skipping a filed file transfer came out from a real world scenario, where our SFTP server refused to transfer an empty file. To simulate this I have added spies to the <code>SessionFactory</code>:</p>\n<pre><code>CachingSessionFactory&lt;ChannelSftp.LsEntry&gt; cachingSessionFactory = Mockito.spy(sessionFactory());\nCachingSessionFactory.CachedSession session = (CachingSessionFactory.CachedSession) Mockito.spy(cachingSessionFactory.getSession());\n\ndoReturn(session).when(cachingSessionFactory).getSession();\ndoThrow(new RuntimeException(&quot;test exception&quot;)).when(session).read(contains(&quot;sftpSource2.txt&quot;), any(OutputStream.class));\n</code></pre>\n<p>and the test code:</p>\n<pre><code>Message&lt;?&gt; message = out.receive(1000);\nassertThat(message).isNotNull();\nObject payload = message.getPayload();\nassertThat(payload).isInstanceOf(File.class);\nFile file = (File) payload;\nassertThat(file.getName()).isEqualTo(&quot; sftpSource1.txt&quot;);\nassertThat(file.getAbsolutePath()).contains(&quot;localTarget&quot;);\n\nmessage = out.receive(1000);\nassertThat(message).isNull();\n\nmessage = err.receive(1000);\nSystem.out.println(&quot;error was:&quot; + message.getPayload());\n\nmessage = out.receive(1000);\nassertThat(message).isNotNull();\nfile = (File) message.getPayload();\nassertThat(file.getName()).isIn(&quot;sftpSource3.txt&quot;);\nassertThat(file.getAbsolutePath()).contains(&quot;localTarget&quot;);\n</code></pre>\n<p>What I am confused about is - when I added the <code>advice</code> to the <code>Poller</code> should I remove <code>.errorChannel(err)</code> from the <code>Poller</code>? But if the advice is handling where the message ends up, shouldn't I also remove <code>.channel(out)</code> on the <code>integrationFlow</code>? Without it the IntegrationFlow doesn't build, with error <code>outputChannel is required</code>.</p>\n<p>My second worry is - if <code>advice.setTrapException(true);</code> does it mean <code>SftpPersistentAcceptOnceFileListFilter</code> will mark the file as successfully processed? (the filter isn't present in the example code, but I will require it in real code).</p>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":3,"creation_date":1673448132,"post_id":75084364,"comment_id":132501705,"body_markdown":"this `public Customer buildCustomer()` in itself insures that the type of the object returned is `Customer` there is no need to test it.","body":"this <code>public Customer buildCustomer()</code> in itself insures that the type of the object returned is <code>Customer</code> there is no need to test it."}],"answers":[{"tags":[],"owner":{"account_id":177851,"reputation":42,"user_id":409454,"display_name":"Kristof DB"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673447340,"creation_date":1673447340,"answer_id":75084607,"question_id":75084364,"body_markdown":"When using Junit 5, you could do something like this :\r\n\r\n    @Test\r\n    void buildCustomerReturnsCustomer() {\r\n        var builderTest = new PersonenBuilder();\r\n        assertThat(builderTest.buildCustomer()).isInstanceOf(Customer.class)\r\n    }}","title":"How can i test the return value of a method, which builds an object?","body":"<p>When using Junit 5, you could do something like this :</p>\n<pre><code>@Test\nvoid buildCustomerReturnsCustomer() {\n    var builderTest = new PersonenBuilder();\n    assertThat(builderTest.buildCustomer()).isInstanceOf(Customer.class)\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16609455,"reputation":69,"user_id":12002933,"display_name":"Kasperds"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673447619,"creation_date":1673447619,"answer_id":75084683,"question_id":75084364,"body_markdown":"Depending on what you are testing for, it is good practice to test methods. If you want to test if it returns an instance of Customer, you can use Junit as mention by @Kristof DB, and instead use the &quot;asserEquals()&quot; method. \r\n\r\n    class PersonenBuilderTest {\r\n    @Test\r\n    void buildCustomerReturnsCustomer() {\r\n        var builderTest = new PersonenBuilder();\r\n        var customer = builderTest.buildCustomer();\r\n        assertEquals(customer.getClass(), Customer.class);\r\n    }\r\n}\r\n","title":"How can i test the return value of a method, which builds an object?","body":"<p>Depending on what you are testing for, it is good practice to test methods. If you want to test if it returns an instance of Customer, you can use Junit as mention by @Kristof DB, and instead use the &quot;asserEquals()&quot; method.</p>\n<pre><code>class PersonenBuilderTest {\n@Test\nvoid buildCustomerReturnsCustomer() {\n    var builderTest = new PersonenBuilder();\n    var customer = builderTest.buildCustomer();\n    assertEquals(customer.getClass(), Customer.class);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20744400,"reputation":99,"user_id":15233273,"display_name":"Onizuka92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75084607,"answer_count":2,"score":0,"last_activity_date":1673447619,"creation_date":1673446189,"question_id":75084364,"body_markdown":"Hello im currently testing this method:\r\n\r\n    public Customer buildCustomer() {\r\n        //Dinge f&#252;r die Personengenerierung\r\n        Customer customer = new Customer();\r\n        return customer;\r\n    }\r\n\r\nI build this test class:\r\n\r\n   \r\n\r\n    class PersonenBuilderTest {\r\n\r\n    @Test\r\n    void buildCustomerReturnsCustomer() {\r\n        var builderTest = new PersonenBuilder();\r\n        builderTest.buildCustomer()\r\n\r\n    }}\r\n\r\nWhat i want to test, is if the return value returns customer and not other things. \r\nHow can i do this? And is it even necessary to test such a thing?\r\n\r\n","title":"How can i test the return value of a method, which builds an object?","body":"<p>Hello im currently testing this method:</p>\n<pre><code>public Customer buildCustomer() {\n    //Dinge für die Personengenerierung\n    Customer customer = new Customer();\n    return customer;\n}\n</code></pre>\n<p>I build this test class:</p>\n<pre><code>class PersonenBuilderTest {\n\n@Test\nvoid buildCustomerReturnsCustomer() {\n    var builderTest = new PersonenBuilder();\n    builderTest.buildCustomer()\n\n}}\n</code></pre>\n<p>What i want to test, is if the return value returns customer and not other things.\nHow can i do this? And is it even necessary to test such a thing?</p>\n"},{"tags":["java","ajax","primefaces","liferay","commandbutton"],"comments":[{"owner":{"account_id":4141064,"reputation":1482,"user_id":3396363,"display_name":"Bonifacio"},"score":0,"creation_date":1453217618,"post_id":34866234,"comment_id":57499459,"body_markdown":"What is the button presenting the problem? Note that all the three &lt;p:commandButton&gt; are not ajax. &lt;p:commandButton&gt; is not ajax true by default, so if you want an ajax behavior on it you must manually set ajax=true on the desired button.","body":"What is the button presenting the problem? Note that all the three &lt;p:commandButton&gt; are not ajax. &lt;p:commandButton&gt; is not ajax true by default, so if you want an ajax behavior on it you must manually set ajax=true on the desired button."},{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":2,"creation_date":1453241502,"post_id":34866234,"comment_id":57514265,"body_markdown":"According to the primefaces show case ajax=true is the default value. http://www.primefaces.org/showcase/ui/button/commandButton.xhtml Anyway I also tried with ajax=true but the behavior is the same. Greetings.","body":"According to the primefaces show case ajax=true is the default value. <a href=\"http://www.primefaces.org/showcase/ui/button/commandButton.xhtml\" rel=\"nofollow noreferrer\">primefaces.org/showcase/ui/button/commandButton.xhtml</a> Anyway I also tried with ajax=true but the behavior is the same. Greetings."},{"owner":{"account_id":3380147,"reputation":4427,"user_id":2880970,"accept_rate":88,"display_name":"stiemannkj1"},"score":1,"creation_date":1453473165,"post_id":34866234,"comment_id":57629600,"body_markdown":"Your code has an error on line 5: `&lt;/p:form&gt;` should be `&lt;/h:form&gt;`","body":"Your code has an error on line 5: <code>&lt;&#47;p:form&gt;</code> should be <code>&lt;&#47;h:form&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":0,"creation_date":1453491248,"post_id":34949776,"comment_id":57640625,"body_markdown":"Hi, thanks for your answer, I just try it and the behavior is the same. But I realized of another thing, is not a blink what it does after showing the dialog is the whole page refreshing because even the url change it and appears with a lot of parameters like a GET petition. It is very weird because I try the same code in another clean project and it works. I don&#39;t know if is something with liferay or with my headers.","body":"Hi, thanks for your answer, I just try it and the behavior is the same. But I realized of another thing, is not a blink what it does after showing the dialog is the whole page refreshing because even the url change it and appears with a lot of parameters like a GET petition. It is very weird because I try the same code in another clean project and it works. I don&#39;t know if is something with liferay or with my headers."},{"owner":{"account_id":3380147,"reputation":4427,"user_id":2880970,"accept_rate":88,"display_name":"stiemannkj1"},"score":0,"creation_date":1453491850,"post_id":34949776,"comment_id":57640912,"body_markdown":"Is your `p:commandButton` `ajax=&quot;false&quot;`? You should make sure that the button is performing an ajax request. Also I would recommend `diff`-ing the config of your two projects (the working one and the failing one) to see if any config differs.","body":"Is your <code>p:commandButton</code> <code>ajax=&quot;false&quot;</code>? You should make sure that the button is performing an ajax request. Also I would recommend <code>diff</code>-ing the config of your two projects (the working one and the failing one) to see if any config differs."},{"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"score":0,"creation_date":1453756942,"post_id":34949776,"comment_id":57733316,"body_markdown":"No, is not ajax=&quot;false&quot; I also tried the comparison between the working and the not working code, but nothing.","body":"No, is not ajax=&quot;false&quot; I also tried the comparison between the working and the not working code, but nothing."}],"tags":[],"owner":{"account_id":3380147,"reputation":4427,"user_id":2880970,"accept_rate":88,"display_name":"stiemannkj1"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453482133,"creation_date":1453475159,"answer_id":34949776,"question_id":34866234,"body_markdown":"Your first `p:commandButton` is showing the dialog and then immediately hiding it again. This is also causing the page to blink, and I think you have mistaken this blinking for a non-ajax submit. When you click your the `p:commandButton`, `dialog.show()` is called and the dialog is shown. Then the `update=&quot;:dialogId&quot;` code runs* and sends an ajax request to the server to re-render the dialog. Since the server does not know that `dialog.show()` has been called on the client, the server thinks that the dialog should still be in its default state: hidden. So the partial response that comes back resets the dialog to its initial state and hides the dialog again.\r\n\r\n**The solution is to update the content of the dialog instead of the whole dialog.** For your particular example, you should add an `id` to your second `h:form` and update that from your *Asignar* button:\r\n\r\n    &lt;h:form&gt;\r\n        &lt;p:commandButton onclick=&quot;asignarUADlg.show()&quot; update=&quot;:dialogContent&quot;\r\n        title=&quot;Asignar&quot; value=&quot;Asignar&quot;&gt;\r\n    \r\n    &lt;!-- ... --&gt;\r\n    \r\n    &lt;p:dialog id=&quot;asignarUA&quot; widgetVar=&quot;asignarUADlg&quot; modal=&quot;true&quot;\r\n        header=&quot;Asignar Unidades Administrativas&quot; width=&quot;530&quot; showEffect=&quot;fade&quot; hideEffect=&quot;fade&quot;&gt;\r\n        &lt;h:form id=&quot;dialogContent&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    \r\n    &lt;!-- ... --&gt;\r\n\r\n*The `update` attribute causes the `p:commandButton` to render code to send an ajax request in its `onclick` attribute. So the ajax code is literally called right after `dialog.show()`.","title":"primefaces commandbutton ajax submit works as a non-ajax submit","body":"<p>Your first <code>p:commandButton</code> is showing the dialog and then immediately hiding it again. This is also causing the page to blink, and I think you have mistaken this blinking for a non-ajax submit. When you click your the <code>p:commandButton</code>, <code>dialog.show()</code> is called and the dialog is shown. Then the <code>update=\":dialogId\"</code> code runs* and sends an ajax request to the server to re-render the dialog. Since the server does not know that <code>dialog.show()</code> has been called on the client, the server thinks that the dialog should still be in its default state: hidden. So the partial response that comes back resets the dialog to its initial state and hides the dialog again.</p>\n\n<p><strong>The solution is to update the content of the dialog instead of the whole dialog.</strong> For your particular example, you should add an <code>id</code> to your second <code>h:form</code> and update that from your <em>Asignar</em> button:</p>\n\n<pre><code>&lt;h:form&gt;\n    &lt;p:commandButton onclick=\"asignarUADlg.show()\" update=\":dialogContent\"\n    title=\"Asignar\" value=\"Asignar\"&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;p:dialog id=\"asignarUA\" widgetVar=\"asignarUADlg\" modal=\"true\"\n    header=\"Asignar Unidades Administrativas\" width=\"530\" showEffect=\"fade\" hideEffect=\"fade\"&gt;\n    &lt;h:form id=\"dialogContent\" enctype=\"multipart/form-data\"&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>*The <code>update</code> attribute causes the <code>p:commandButton</code> to render code to send an ajax request in its <code>onclick</code> attribute. So the ajax code is literally called right after <code>dialog.show()</code>.</p>\n"},{"comments":[{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1453765890,"post_id":35002875,"comment_id":57737288,"body_markdown":"I would rather use `oncomplete` to make sure the dialog is shown after the ajax update.","body":"I would rather use <code>oncomplete</code> to make sure the dialog is shown after the ajax update."}],"tags":[],"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1453757853,"creation_date":1453757853,"answer_id":35002875,"question_id":34866234,"body_markdown":"I had to upgrade my PrimeFaces version to 5.3 and it works. The only thing that I had to change was the process attribute: \r\n    \r\n    &lt;p:commandButton process=&quot;@this :dialogContent&quot; update=&quot;:dialogContent&quot; onclick=&quot;PF(&#39;asignarUADlg&#39;).show()&quot; title=&quot;Asignar&quot; value=&quot;Asignar&quot;&gt;\r\n        &lt;f:setPropertyActionListener value=&quot;#{solicitud }&quot; target=&quot;#{mailboxView.solicitud}&quot;/&gt;\r\n    &lt;/p:commandButton&gt;","title":"primefaces commandbutton ajax submit works as a non-ajax submit","body":"<p>I had to upgrade my PrimeFaces version to 5.3 and it works. The only thing that I had to change was the process attribute: </p>\n\n<pre><code>&lt;p:commandButton process=\"@this :dialogContent\" update=\":dialogContent\" onclick=\"PF('asignarUADlg').show()\" title=\"Asignar\" value=\"Asignar\"&gt;\n    &lt;f:setPropertyActionListener value=\"#{solicitud }\" target=\"#{mailboxView.solicitud}\"/&gt;\n&lt;/p:commandButton&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27338776,"reputation":1,"user_id":20849790,"display_name":"Alejandro Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673447037,"creation_date":1673447037,"answer_id":75084543,"question_id":34866234,"body_markdown":"Try \r\n\r\n    &lt;p:commandButton onclick=&quot;asignarUADlg.show()&quot; update=&quot;:asignarUA:dialogContent&quot;\r\n    title=&quot;Asignar&quot; value=&quot;Asignar&quot;&gt;","title":"primefaces commandbutton ajax submit works as a non-ajax submit","body":"<p>Try</p>\n<pre><code>&lt;p:commandButton onclick=&quot;asignarUADlg.show()&quot; update=&quot;:asignarUA:dialogContent&quot;\ntitle=&quot;Asignar&quot; value=&quot;Asignar&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2660590,"reputation":125,"user_id":2300390,"display_name":"Carlos Marmolejo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35002875,"answer_count":3,"score":0,"last_activity_date":1673447037,"creation_date":1453161098,"question_id":34866234,"body_markdown":"I&#39;m using primefaces 3.5 and I want to update de value of an object using p:commandButton with ajax, but when I click on the p:commandButton the form submits entirely as a non-ajax submit. I tried with immediate=true, ajax=&quot;true&quot; (but I read that this option is the default) partial-submit=&quot;true&quot; but nothing, the button refresh all the page instead of just the asignarUA component. \r\n\r\nNote: this is a liferay (6.2 CE) portlet. \r\n\r\nThis is part of the code:\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;  \r\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;  \r\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;  \r\n    xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n\t&lt;h:head&gt;&lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    &lt;h:form&gt;\r\n        &lt;p:commandButton onclick=&quot;asignarUADlg.show()&quot; update=&quot;:asignarUA&quot; title=&quot;Asignar&quot; value=&quot;Asignar&quot;&gt;\r\n        &lt;f:setPropertyActionListener value=&quot;#{solicitud }&quot; target=&quot;#{mailboxView.solicitud}&quot;/&gt;\r\n        &lt;/p:commandButton&gt;                                                \r\n    &lt;/h:form&gt;\r\n\r\n\r\n    &lt;p:dialog id=&quot;asignarUA&quot; widgetVar=&quot;asignarUADlg&quot; modal=&quot;true&quot; header=&quot;Asignar Unidades Administrativas&quot; width=&quot;530&quot; showEffect=&quot;fade&quot; hideEffect=&quot;fade&quot;&gt;\r\n        &lt;h:form enctype=&quot;multipart/form-data&quot;&gt;\r\n            &lt;h:outputLabel for=&quot;dependencia&quot; value=&quot;Dependencia: &quot; /&gt;\r\n            &lt;h:outputText value=&quot;#{mailboxView.solicitud.nombreDependencia}&quot; rendered=&quot;#{not empty mailboxView.solicitud}&quot; /&gt;\r\n            &lt;p:separator /&gt;\r\n\r\n            &lt;p:commandButton value=&quot;Enviar&quot; ajax=&quot;false&quot; actionListener=&quot;#{mailboxView.asignar}&quot; update=&quot;:messages2&quot;/&gt;\r\n            &lt;p:commandButton value=&quot;Cancelar&quot; onclick=&quot;asignarUADlg.hide()&quot; type=&quot;button&quot;/&gt;\r\n        &lt;/h:form&gt;\r\n    &lt;/p:dialog&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;","title":"primefaces commandbutton ajax submit works as a non-ajax submit","body":"<p>I'm using primefaces 3.5 and I want to update de value of an object using p:commandButton with ajax, but when I click on the p:commandButton the form submits entirely as a non-ajax submit. I tried with immediate=true, ajax=\"true\" (but I read that this option is the default) partial-submit=\"true\" but nothing, the button refresh all the page instead of just the asignarUA component. </p>\n\n<p>Note: this is a liferay (6.2 CE) portlet. </p>\n\n<p>This is part of the code:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"  \nxmlns:h=\"http://java.sun.com/jsf/html\"  \nxmlns:f=\"http://java.sun.com/jsf/core\"  \nxmlns:p=\"http://primefaces.org/ui\"&gt;\n&lt;h:head&gt;&lt;/h:head&gt;\n&lt;h:body&gt;\n&lt;h:form&gt;\n    &lt;p:commandButton onclick=\"asignarUADlg.show()\" update=\":asignarUA\" title=\"Asignar\" value=\"Asignar\"&gt;\n    &lt;f:setPropertyActionListener value=\"#{solicitud }\" target=\"#{mailboxView.solicitud}\"/&gt;\n    &lt;/p:commandButton&gt;                                                \n&lt;/h:form&gt;\n\n\n&lt;p:dialog id=\"asignarUA\" widgetVar=\"asignarUADlg\" modal=\"true\" header=\"Asignar Unidades Administrativas\" width=\"530\" showEffect=\"fade\" hideEffect=\"fade\"&gt;\n    &lt;h:form enctype=\"multipart/form-data\"&gt;\n        &lt;h:outputLabel for=\"dependencia\" value=\"Dependencia: \" /&gt;\n        &lt;h:outputText value=\"#{mailboxView.solicitud.nombreDependencia}\" rendered=\"#{not empty mailboxView.solicitud}\" /&gt;\n        &lt;p:separator /&gt;\n\n        &lt;p:commandButton value=\"Enviar\" ajax=\"false\" actionListener=\"#{mailboxView.asignar}\" update=\":messages2\"/&gt;\n        &lt;p:commandButton value=\"Cancelar\" onclick=\"asignarUADlg.hide()\" type=\"button\"/&gt;\n    &lt;/h:form&gt;\n&lt;/p:dialog&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","dialog","android-jetpack-compose","android-alertdialog","legacy-code"],"answers":[{"comments":[{"owner":{"account_id":106052,"reputation":7496,"user_id":444761,"accept_rate":41,"display_name":"Mark"},"score":0,"creation_date":1674356917,"post_id":75084502,"comment_id":132696545,"body_markdown":"But what if you are converting legacy common code? For example, you might have a simple function that takes a `Context` and displays an `AlertDialog`. That could be called from any &#39;screen&#39;. It doesn&#39;t seem obvious how to migrate such functions.","body":"But what if you are converting legacy common code? For example, you might have a simple function that takes a <code>Context</code> and displays an <code>AlertDialog</code>. That could be called from any &#39;screen&#39;. It doesn&#39;t seem obvious how to migrate such functions."},{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":1,"creation_date":1674463176,"post_id":75084502,"comment_id":132711160,"body_markdown":"It is not obvious because `ComposeView` is a element for migrating the project. For example in the nav graph docs it is explained that navigation apprpach is an all or nothing, is either fragment way or compose way. You still can have something like that. Add the `ComposeView` in the underlying common `Activity` and then expose a `Flow` so other can trigger the dialog.","body":"It is not obvious because <code>ComposeView</code> is a element for migrating the project. For example in the nav graph docs it is explained that navigation apprpach is an all or nothing, is either fragment way or compose way. You still can have something like that. Add the <code>ComposeView</code> in the underlying common <code>Activity</code> and then expose a <code>Flow</code> so other can trigger the dialog."}],"tags":[],"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673446856,"creation_date":1673446856,"answer_id":75084502,"question_id":74458069,"body_markdown":"You have to use `ComposeView` as indicated in the other question, but make it irrelevant to the layout. Then use `setContent` to control the dialog.\r\n\r\n```\r\n        &lt;androidx.compose.ui.platform.ComposeView\r\n            android:id=&quot;@+id/yourComposeView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;/&gt;\r\n```\r\n\r\nThe trick is the width and height are zero, so it doesn&#39;t use space or break the layout.\r\n\r\n```\r\nsetContent {\r\n    val showDialog = //you need something here controlled from other place\r\n\r\n    if (showDialog) {\r\n        //show the compose dialog here\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou have to control the visibility with something else like a field in the fragment or in the view model.\r\n\r\n```\r\nval showDialog = MutabaleStateflow(false)\r\n```\r\n\r\nAnd inside the compose dialog, make that `showDialog.value = false` when you need to dismiss it.\r\n","title":"How to load Jetpack Compose Alert dialog in a fragment is written in Java code?","body":"<p>You have to use <code>ComposeView</code> as indicated in the other question, but make it irrelevant to the layout. Then use <code>setContent</code> to control the dialog.</p>\n<pre><code>        &lt;androidx.compose.ui.platform.ComposeView\n            android:id=&quot;@+id/yourComposeView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;/&gt;\n</code></pre>\n<p>The trick is the width and height are zero, so it doesn't use space or break the layout.</p>\n<pre><code>setContent {\n    val showDialog = //you need something here controlled from other place\n\n    if (showDialog) {\n        //show the compose dialog here\n    }\n\n}\n</code></pre>\n<p>You have to control the visibility with something else like a field in the fragment or in the view model.</p>\n<pre><code>val showDialog = MutabaleStateflow(false)\n</code></pre>\n<p>And inside the compose dialog, make that <code>showDialog.value = false</code> when you need to dismiss it.</p>\n"}],"owner":{"account_id":9303135,"reputation":687,"user_id":6907865,"display_name":"Sepideh Vatankhah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673446856,"creation_date":1668590997,"question_id":74458069,"body_markdown":"I know we can use **composeView** to have **compose code** in the **legacy code**, but is there any way to use **Jetpack Compose Dialog** inside **java code** (especially in a fragment)?\r\n\r\nI saw this post https://stackoverflow.com/questions/67423907/possible-to-use-layout-a-compose-view-in-and-activity-written-in-java but this is not answer of this question.\r\n\r\n\r\nI want to show a Jetpack Compose Dialog inside onActivityResult of a fragement in java code!","title":"How to load Jetpack Compose Alert dialog in a fragment is written in Java code?","body":"<p>I know we can use <strong>composeView</strong> to have <strong>compose code</strong> in the <strong>legacy code</strong>, but is there any way to use <strong>Jetpack Compose Dialog</strong> inside <strong>java code</strong> (especially in a fragment)?</p>\n<p>I saw this post <a href=\"https://stackoverflow.com/questions/67423907/possible-to-use-layout-a-compose-view-in-and-activity-written-in-java\">Possible to use/layout a compose view in and Activity written in Java?</a> but this is not answer of this question.</p>\n<p>I want to show a Jetpack Compose Dialog inside onActivityResult of a fragement in java code!</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673446779,"post_id":75084437,"comment_id":132501150,"body_markdown":"Incompatible versions. Spring Cloud 2020 is for Spring Boot 2.4/2.5 you need at least something in the 2021 range. Also remove the version from the `spring-boot-starter-cloud-connectors` as adding the version beats the purpose of the depenency management block.","body":"Incompatible versions. Spring Cloud 2020 is for Spring Boot 2.4/2.5 you need at least something in the 2021 range. Also remove the version from the <code>spring-boot-starter-cloud-connectors</code> as adding the version beats the purpose of the depenency management block."},{"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"score":0,"creation_date":1673448371,"post_id":75084437,"comment_id":132501799,"body_markdown":"@M.Deinum thanks but still same issue if i modify the version from 2.4/2.5 to \n   2021.0.3 for  spring cloud . Also i removed the version from spring-boot-starter- \n cloud-connectors getting error also asking for use the version tag. Here is the details\n  i used.\n     spring-cloud-azure-dependencies: \n   2021.0.3spring-cloud-azure-dependencies&lt;/artifactId&gt;\n   &lt;version&gt;6.0.0-beta.4&lt;/version&gt;\n   &lt;type&gt;pom&lt;/type&gt;\n   &lt;scope&gt;import&lt;/scope&gt;\n   &lt;/dependency&gt;","body":"@M.Deinum thanks but still same issue if i modify the version from 2.4/2.5 to     2021.0.3 for  spring cloud . Also i removed the version from spring-boot-starter-   cloud-connectors getting error also asking for use the version tag. Here is the details   i used.      spring-cloud-azure-dependencies:     2021.0.3spring-cloud-azure-dependencies&lt;/artifactId&gt;    &lt;version&gt;6.0.0-beta.4&lt;/version&gt;    &lt;type&gt;pom&lt;/type&gt;    &lt;scope&gt;import&lt;/scope&gt;    &lt;/dependency&gt;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673448702,"post_id":75084437,"comment_id":132501900,"body_markdown":"Please don&#39;t add code in comments that is unreadable. The error indicates your versions are incompatible, based on the information here that is your cloud dependency, could be if you have more there are more conflicting dependencies.","body":"Please don&#39;t add code in comments that is unreadable. The error indicates your versions are incompatible, based on the information here that is your cloud dependency, could be if you have more there are more conflicting dependencies."},{"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"score":0,"creation_date":1673449824,"post_id":75084437,"comment_id":132502329,"body_markdown":"@M.Deinum  Still same issue after modification of the version for the below dependencies\n**spring-cloud-dependencies** to 2021.0.3 \nAnd also i am using the dependency **spring-cloud-azure-dependencies** with the version 6.0.0-beta.4.  i removed the version tag for the dependency **Spring-boot-starter-cloud-connector** and then getting error i have to use the version here.\nNot able to find which version is fit for the spring boot project 2.7.1 \nAnother dependency:  **&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n   &lt;v&gt;6.0.0-beta.4&lt;/v&gt;**","body":"@M.Deinum  Still same issue after modification of the version for the below dependencies <b>spring-cloud-dependencies</b> to 2021.0.3  And also i am using the dependency <b>spring-cloud-azure-dependencies</b> with the version 6.0.0-beta.4.  i removed the version tag for the dependency <b>Spring-boot-starter-cloud-connector</b> and then getting error i have to use the version here. Not able to find which version is fit for the spring boot project 2.7.1  Another dependency:  <b>&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;    &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;    &lt;v&gt;6.0.0-beta.4&lt;/v&gt;</b>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673450228,"post_id":75084437,"comment_id":132502497,"body_markdown":"If you have the error, i keep repeating myself, you still have incompatible versions. Do a `mvn dependency:tree` and find the conflicting versions. Why are you even using some beta version? And as stated please don&#39;t add code as comments that is totally unreadable, edit your question instead.","body":"If you have the error, i keep repeating myself, you still have incompatible versions. Do a <code>mvn dependency:tree</code> and find the conflicting versions. Why are you even using some beta version? And as stated please don&#39;t add code as comments that is totally unreadable, edit your question instead."}],"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673446689,"creation_date":1673446570,"question_id":75084437,"body_markdown":"I have Spring boot project with the pom version 2.7.1 and while running getting below error.\r\nI am using spring cloud dependency. My pom dependency like\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt; org.springframework.boot &lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cloud-connectors&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\r\n    &lt;/dependency\r\n\r\ndependency Management:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2020.0.2&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n       &lt;scope&gt;import&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n   Error:\r\n   \r\n   [enter image description here](https://i.stack.imgur.com/KwhUP.png)\r\n\r\n   Error Message::\r\n\r\n   Caused by: java.lang.NoClassDefFoundError:          org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadat\r\n\r\n\r\n   I need this pom version(2.7.1) not lower than this. Any solution?","title":"While running spring boot project getting error like NoClassDefFoundError org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata","body":"<p>I have Spring boot project with the pom version 2.7.1 and while running getting below error.\nI am using spring cloud dependency. My pom dependency like\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.1\n</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt; org.springframework.boot &lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cloud-connectors&lt;/artifactId&gt;\n    &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\n&lt;/dependency\n</code></pre>\n<p>dependency Management:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;2020.0.2&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n   &lt;scope&gt;import&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n   \n   Error:\n   \n   [enter image description here](https://i.stack.imgur.com/KwhUP.png)\n<p>Error Message::</p>\n<p>Caused by: java.lang.NoClassDefFoundError:          org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadat</p>\n<p>I need this pom version(2.7.1) not lower than this. Any solution?</p>\n"},{"tags":["java","dependency-management"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673445090,"post_id":75077939,"comment_id":132500482,"body_markdown":"Does the JDK actually include mime4j?","body":"Does the JDK actually include mime4j?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673446340,"creation_date":1673445369,"answer_id":75084166,"question_id":75077939,"body_markdown":"Currently, you&#39;re looking at the dependencies of the `java.desktop` module. The _jline_ dependency is listed in the `jdk.internal.le` module: https://github.com/openjdk/jdk/tree/master/src/jdk.internal.le/share/legal, in other words you need to find **all** `share/legal` directories (i.e. for each module).\r\n\r\nFor example, by going to the [GitHub file finder of the (master) branch][1] and searching for `share/legal` (note it does a fuzzy search, so it also lists unrelated files).\r\n\r\nAs far as I&#39;m aware, the JDK doesn&#39;t depend on _mime4j_, which would explain why you can&#39;t find a declaration in any `share/legal` directory.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/find/master","title":"How to find the indirect dependency version of jdk?","body":"<p>Currently, you're looking at the dependencies of the <code>java.desktop</code> module. The <em>jline</em> dependency is listed in the <code>jdk.internal.le</code> module: <a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.internal.le/share/legal\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/tree/master/src/jdk.internal.le/share/legal</a>, in other words you need to find <strong>all</strong> <code>share/legal</code> directories (i.e. for each module).</p>\n<p>For example, by going to the <a href=\"https://github.com/openjdk/jdk/find/master\" rel=\"nofollow noreferrer\">GitHub file finder of the (master) branch</a> and searching for <code>share/legal</code> (note it does a fuzzy search, so it also lists unrelated files).</p>\n<p>As far as I'm aware, the JDK doesn't depend on <em>mime4j</em>, which would explain why you can't find a declaration in any <code>share/legal</code> directory.</p>\n"}],"owner":{"account_id":6074045,"reputation":63,"user_id":4741946,"display_name":"Gong Yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673446340,"creation_date":1673405986,"question_id":75077939,"body_markdown":"I want to get the version of indirect dependencies of jdk (requirement from my company), and after I did some research I find some of them on the openJDK github page:\r\nhttps://github.com/openjdk/jdk/tree/master/src/java.desktop/share/legal\r\n\r\nUnfortunately, not all the dependencies are listed on this page, for example jline, mime4j etc. Is there a place that list all the JDK&#39;s own dependencies? Thanks.\r\n","title":"How to find the indirect dependency version of jdk?","body":"<p>I want to get the version of indirect dependencies of jdk (requirement from my company), and after I did some research I find some of them on the openJDK github page:\n<a href=\"https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/legal\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/legal</a></p>\n<p>Unfortunately, not all the dependencies are listed on this page, for example jline, mime4j etc. Is there a place that list all the JDK's own dependencies? Thanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1507655,"reputation":1294,"user_id":1410657,"display_name":"user1410657"},"score":2,"creation_date":1373409847,"post_id":17559384,"comment_id":25544953,"body_markdown":"Can&#39;t you use jsonObject.get() and check result with instanceof?","body":"Can&#39;t you use jsonObject.get() and check result with instanceof?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1373420313,"creation_date":1373410625,"answer_id":17559685,"question_id":17559384,"body_markdown":"(I&#39;m assuming that the Android for the `org.json` package is that same as you can find on the json.org site ... [here][1].)\r\n\r\nThe only method on a `JSONObject` that will give you the underlying value ... without coercing it ... is `JSONObject.get(name)`.  If `name` is known, the result is the object that represents the value internally.  I haven&#39;t done a comprehensive trawl of the code, but I think it can only be one of the following types: \r\n\r\n      Boolean, Long, Double, String, JSONArray, JSONObject\r\n\r\nYou should be able to discriminate these using `instanceof`.\r\n\r\n----------------\r\n\r\nBut should be asking yourself if this is the right thing to do.  The *normal* way to deal with JSON object attributes via the `JSONObject` API is to use the methods that coerce them into the type that you expect.  In most cases, it doesn&#39;t matter if a number is sent as `42` or `42.0` or `&quot;42&quot;` ... and it is best not to be picky if the intent is easy to determine.\r\n\r\n  [1]: http://www.json.org/java/index.html","title":"Detect type of JSON attribute","body":"<p>(I'm assuming that the Android for the <code>org.json</code> package is that same as you can find on the json.org site ... <a href=\"http://www.json.org/java/index.html\" rel=\"nofollow\">here</a>.)</p>\n\n<p>The only method on a <code>JSONObject</code> that will give you the underlying value ... without coercing it ... is <code>JSONObject.get(name)</code>.  If <code>name</code> is known, the result is the object that represents the value internally.  I haven't done a comprehensive trawl of the code, but I think it can only be one of the following types: </p>\n\n<pre><code>  Boolean, Long, Double, String, JSONArray, JSONObject\n</code></pre>\n\n<p>You should be able to discriminate these using <code>instanceof</code>.</p>\n\n<hr>\n\n<p>But should be asking yourself if this is the right thing to do.  The <em>normal</em> way to deal with JSON object attributes via the <code>JSONObject</code> API is to use the methods that coerce them into the type that you expect.  In most cases, it doesn't matter if a number is sent as <code>42</code> or <code>42.0</code> or <code>\"42\"</code> ... and it is best not to be picky if the intent is easy to determine.</p>\n"},{"tags":[],"owner":{"account_id":10945390,"reputation":39,"user_id":8043710,"display_name":"Thiyan Arumugam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673445895,"creation_date":1673445895,"answer_id":75084296,"question_id":17559384,"body_markdown":"Another solution you can use the **jackson** library to do this,\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.github.fge.jackson.JsonLoader;\r\n    \r\n    //Defining the JSON object\r\n    JSON json = {&quot;attribute1&quot;:11, &quot;attribute2&quot;:&quot;string atribute&quot;};\r\n    \r\n    //Get the needed attribute\r\n    String value = json.get(&quot;attribute1&quot;);\r\n    \r\n    //Convert the attribute to JsonNode\r\n    JsonNode value = JsonLoader.fromString(value);\r\n    \r\n    //Then you can check type as below\r\n    value.isObject();\r\n    value.isArray();\r\n    value.isDouble();\r\n    value.isTextual();\r\n    value.isInt()","title":"Detect type of JSON attribute","body":"<p>Another solution you can use the <strong>jackson</strong> library to do this,</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.github.fge.jackson.JsonLoader;\n\n//Defining the JSON object\nJSON json = {&quot;attribute1&quot;:11, &quot;attribute2&quot;:&quot;string atribute&quot;};\n\n//Get the needed attribute\nString value = json.get(&quot;attribute1&quot;);\n\n//Convert the attribute to JsonNode\nJsonNode value = JsonLoader.fromString(value);\n\n//Then you can check type as below\nvalue.isObject();\nvalue.isArray();\nvalue.isDouble();\nvalue.isTextual();\nvalue.isInt()\n</code></pre>\n"}],"owner":{"account_id":126352,"reputation":5875,"user_id":322791,"accept_rate":85,"display_name":"knagode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17559685,"answer_count":2,"score":1,"last_activity_date":1673445895,"creation_date":1373408956,"question_id":17559384,"body_markdown":"JSON:\r\n\r\n    {&quot;attribute1&quot;:11, &quot;attribute2&quot;:&quot;string atribute&quot;}\r\n\r\nI want to detect what kind of type are attribute1 and attribute2:\r\n\r\n - attribute1 is integer\r\n - attribute2 is string\r\n\r\n\r\njsonObject.getAttributeType(&quot;attribute2&quot;); // should output: string/integer/boolean. \r\n\r\nIt was very easy to achieve in PHP or OBJC. Suggestions?","title":"Detect type of JSON attribute","body":"<p>JSON:</p>\n\n<pre><code>{\"attribute1\":11, \"attribute2\":\"string atribute\"}\n</code></pre>\n\n<p>I want to detect what kind of type are attribute1 and attribute2:</p>\n\n<ul>\n<li>attribute1 is integer</li>\n<li>attribute2 is string</li>\n</ul>\n\n<p>jsonObject.getAttributeType(\"attribute2\"); // should output: string/integer/boolean. </p>\n\n<p>It was very easy to achieve in PHP or OBJC. Suggestions?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657094372,"post_id":72879806,"comment_id":128724950,"body_markdown":"Make sure you are using the latest version of Spring.","body":"Make sure you are using the latest version of Spring."}],"answers":[{"tags":[],"owner":{"account_id":9969311,"reputation":1,"user_id":17962949,"display_name":"a00853c"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657172875,"creation_date":1657097122,"answer_id":72880425,"question_id":72879806,"body_markdown":"You can try importing the `JavaConfig.class` to the main class.   \r\nOr try declaring the main class as `TestJavaconfig extends JavaConfig` or `TestJavaconfig implements JavaConfig`.   \r\nI&#39;m new to Spring as well so let me know if any of it works as it will help me too.","title":"Spring application failing to start with the exception java.lang.IllegalStateException: Cannot load configuration class: SpringAnnotPckg.JavaConfig","body":"<p>You can try importing the <code>JavaConfig.class</code> to the main class.<br />\nOr try declaring the main class as <code>TestJavaconfig extends JavaConfig</code> or <code>TestJavaconfig implements JavaConfig</code>.<br />\nI'm new to Spring as well so let me know if any of it works as it will help me too.</p>\n"}],"owner":{"account_id":25738149,"reputation":1,"user_id":19492526,"display_name":"Hema Sireesha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673445751,"creation_date":1657094300,"question_id":72879806,"body_markdown":"I&#39;m a beginner in Spring. I have created a configuration and added component scanning in that class and trying to create spring context, it is throwing the below exception. Please help me.\r\n\r\nConfiguration class\r\n\r\n    package SpringAnnotPckg;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    @Configuration\r\n    @ComponentScan(&quot;SpringAnnotPckg&quot;)\r\n    public class JavaConfig {\r\n    \tpublic JavaConfig() {\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nmain class \r\n\r\n    package SpringAnnotPckg;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    public class TestJavaconfig {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(JavaConfig.class);\r\n    Car car=context.getBean(&quot;audiCar&quot;,Car.class);\r\n    car.print();\r\n    context.close();\r\n    \t}\r\n    }\r\n\r\nException\r\n\r\n```none\r\nJul 06, 2022 1:19:01 PM org.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\r\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@3fd7a715: startup date [Wed Jul 06 13:19:01 IST 2022]; root of context hierarchy\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Cannot load configuration class: SpringAnnotPckg.JavaConfig\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:249)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:525)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n\tat SpringAnnotPckg.TestJavaconfig.main(TestJavaconfig.java:9)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:393)\r\n\t... 7 more\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @641147d0\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n\tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n\tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n\tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n\tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n\tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n\t... 10 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @641147d0\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n\tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n\tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n\t... 22 more\r\n```\r\n","title":"Spring application failing to start with the exception java.lang.IllegalStateException: Cannot load configuration class: SpringAnnotPckg.JavaConfig","body":"<p>I'm a beginner in Spring. I have created a configuration and added component scanning in that class and trying to create spring context, it is throwing the below exception. Please help me.</p>\n<p>Configuration class</p>\n<pre><code>package SpringAnnotPckg;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\n@ComponentScan(&quot;SpringAnnotPckg&quot;)\npublic class JavaConfig {\n    public JavaConfig() {\n        \n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>package SpringAnnotPckg;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\npublic class TestJavaconfig {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\nAnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(JavaConfig.class);\nCar car=context.getBean(&quot;audiCar&quot;,Car.class);\ncar.print();\ncontext.close();\n    }\n}\n</code></pre>\n<p>Exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>Jul 06, 2022 1:19:01 PM org.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@3fd7a715: startup date [Wed Jul 06 13:19:01 IST 2022]; root of context hierarchy\nException in thread &quot;main&quot; java.lang.IllegalStateException: Cannot load configuration class: SpringAnnotPckg.JavaConfig\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:249)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:525)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\n    at SpringAnnotPckg.TestJavaconfig.main(TestJavaconfig.java:9)\nCaused by: java.lang.ExceptionInInitializerError\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:393)\n    ... 7 more\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @641147d0\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 10 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @641147d0\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n    ... 22 more\n</code></pre>\n"},{"tags":["java","web-services","soap","automation","soapui"],"owner":{"account_id":6343131,"reputation":15,"user_id":4924469,"display_name":"Dilip Pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673445223,"creation_date":1673445153,"question_id":75084115,"body_markdown":"    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;soapenv:Fault&gt;\r\n             &lt;faultcode&gt;soapenv:Server&lt;/faultcode&gt;\r\n             &lt;faultstring&gt;XXXException&lt;/faultstring&gt;\r\n             &lt;detail&gt;\r\n                &lt;XXXFault xmlns=&quot;http://services.webservices.xxxxxx.com/xsd&quot;&gt;\r\n                   &lt;exceptionName&gt;com.xxxxxx.common.exceptions.ValidationException&lt;/exceptionName&gt;\r\n                   &lt;message&gt;One or more Fields specified failed Validation:\r\n    \r\n    Last Name: Validation Exception: \r\n    A value was not specified for Required Field = &#39;Last Name&#39;\r\n    Salutation: Validation Exception: \r\n    A value was not specified for Required Field = &#39;Salutation&#39;\r\n    First Name: Validation Exception: \r\n    A value was not specified for Required Field = &#39;First Name&#39;\r\n    State: Validation Exception: \r\n    A value was not specified for Required Field = &#39;State&#39;&lt;/message&gt;\r\n                &lt;/XXXFault&gt;\r\n             &lt;/detail&gt;\r\n          &lt;/soapenv:Fault&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nThis is SOAP response for a SOAP request and I want to get all the error message [A value was not specified for Required Field = &#39;Last Name&#39; and A value was not specified for Required Field = &#39;Salutation&#39; and A value was not specified for Required Field = &#39;First Name&#39; and A value was not specified for Required Field = &#39;State&#39;].","title":"How can I extract all the error message from message tag","body":"<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;soapenv:Fault&gt;\n         &lt;faultcode&gt;soapenv:Server&lt;/faultcode&gt;\n         &lt;faultstring&gt;XXXException&lt;/faultstring&gt;\n         &lt;detail&gt;\n            &lt;XXXFault xmlns=&quot;http://services.webservices.xxxxxx.com/xsd&quot;&gt;\n               &lt;exceptionName&gt;com.xxxxxx.common.exceptions.ValidationException&lt;/exceptionName&gt;\n               &lt;message&gt;One or more Fields specified failed Validation:\n\nLast Name: Validation Exception: \nA value was not specified for Required Field = 'Last Name'\nSalutation: Validation Exception: \nA value was not specified for Required Field = 'Salutation'\nFirst Name: Validation Exception: \nA value was not specified for Required Field = 'First Name'\nState: Validation Exception: \nA value was not specified for Required Field = 'State'&lt;/message&gt;\n            &lt;/XXXFault&gt;\n         &lt;/detail&gt;\n      &lt;/soapenv:Fault&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>This is SOAP response for a SOAP request and I want to get all the error message [A value was not specified for Required Field = 'Last Name' and A value was not specified for Required Field = 'Salutation' and A value was not specified for Required Field = 'First Name' and A value was not specified for Required Field = 'State'].</p>\n"},{"tags":["java","data-structures","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1367981887,"post_id":16431931,"comment_id":23565623,"body_markdown":"I would think that `LinkedList` will start behaving weirdly if you store a number of items that is greater than `Integer.MAX_VALUE`.","body":"I would think that <code>LinkedList</code> will start behaving weirdly if you store a number of items that is greater than <code>Integer.MAX_VALUE</code>."},{"owner":{"account_id":1569101,"reputation":3689,"user_id":1457219,"accept_rate":86,"display_name":"Jeremy"},"score":0,"creation_date":1367981949,"post_id":16431931,"comment_id":23565635,"body_markdown":"@assylias Luckily, the number of nodes generally is less than 1 million, but technically if enough memory this program &quot;should&quot; be able to store more.","body":"@assylias Luckily, the number of nodes generally is less than 1 million, but technically if enough memory this program &quot;should&quot; be able to store more."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1367981974,"post_id":16431931,"comment_id":23565644,"body_markdown":"How many gigs is `3^64`?","body":"How many gigs is <code>3^64</code>?"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1367982006,"post_id":16431931,"comment_id":23565651,"body_markdown":"Three million million million million million (3 x 10^30) items is going to be a stretch :-)","body":"Three million million million million million (3 x 10^30) items is going to be a stretch :-)"},{"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"score":2,"creation_date":1367982034,"post_id":16431931,"comment_id":23565659,"body_markdown":"Dude, if you have to worry about keeping track of up to 3^64 nodes, you have bigger fish to fry than which collection type to use. At that size, you&#39;re going to have to worry about how to map and unmap memory from your address space, because you won&#39;t be able to fit everything at once.","body":"Dude, if you have to worry about keeping track of up to 3^64 nodes, you have bigger fish to fry than which collection type to use. At that size, you&#39;re going to have to worry about how to map and unmap memory from your address space, because you won&#39;t be able to fit everything at once."},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1367982064,"post_id":16431931,"comment_id":23565664,"body_markdown":"indeed, and at about 32+ bytes per Node instance, plus at least 32 bytes for the actual data, you are looking at a system with at least .... &gt; 190000000000000 ZETABYTES of memory","body":"indeed, and at about 32+ bytes per Node instance, plus at least 32 bytes for the actual data, you are looking at a system with at least .... &gt; 190000000000000 ZETABYTES of memory"},{"owner":{"account_id":1090911,"reputation":25332,"user_id":1085573,"accept_rate":80,"display_name":"Yuushi"},"score":0,"creation_date":1367982188,"post_id":16431931,"comment_id":23565687,"body_markdown":"`3^64` at 1 byte per node is (roughly) `2.9 x 10^12` exabytes. You aren&#39;t going to be storing that many nodes, ever.","body":"<code>3^64</code> at 1 byte per node is (roughly) <code>2.9 x 10^12</code> exabytes. You aren&#39;t going to be storing that many nodes, ever."},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1367982200,"post_id":16431931,"comment_id":23565691,"body_markdown":"Oh, and as a bonus, if you used an array instead of a Linked List, you could save yourself about 3Trillion dollars in your memory cost .... by reducing the Node memory footprint to just 8 bytes instead of 32","body":"Oh, and as a bonus, if you used an array instead of a Linked List, you could save yourself about 3Trillion dollars in your memory cost .... by reducing the Node memory footprint to just 8 bytes instead of 32"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1367982277,"post_id":16431931,"comment_id":23565707,"body_markdown":"@Yushi, that smacks of comments like &quot;640K should be enough for anyone&quot; (ascribed to BillyG but denied) and &quot;the worldwide market for computers will be about 5&quot; (ascribed to Tom J Watson Junior, IBM). &quot;Never&quot; is an awfully long time :-)","body":"@Yushi, that smacks of comments like &quot;640K should be enough for anyone&quot; (ascribed to BillyG but denied) and &quot;the worldwide market for computers will be about 5&quot; (ascribed to Tom J Watson Junior, IBM). &quot;Never&quot; is an awfully long time :-)"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367982359,"post_id":16431931,"comment_id":23565728,"body_markdown":"How do you find your Nodes?  If you don&#39;t need to find them somehow then any of the List objects should work just fine.  If you don&#39;t do insertions and removals, but just work on the ends, probably ArrayList is the most efficient.","body":"How do you find your Nodes?  If you don&#39;t need to find them somehow then any of the List objects should work just fine.  If you don&#39;t do insertions and removals, but just work on the ends, probably ArrayList is the most efficient."},{"owner":{"account_id":1569101,"reputation":3689,"user_id":1457219,"accept_rate":86,"display_name":"Jeremy"},"score":0,"creation_date":1367983521,"post_id":16431931,"comment_id":23565952,"body_markdown":"@HotLicks Currently the Nodes are removed from a LinkedList using pop() BUT the order which they are added or removed doesn&#39;t matter, you can remove the 54th element then the very next time remove the 1000th element, the same with adding. All that matters is the Nodes are being processed quickly (removed, evaluated, add new nodes (mutations from the original).","body":"@HotLicks Currently the Nodes are removed from a LinkedList using pop() BUT the order which they are added or removed doesn&#39;t matter, you can remove the 54th element then the very next time remove the 1000th element, the same with adding. All that matters is the Nodes are being processed quickly (removed, evaluated, add new nodes (mutations from the original)."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367983873,"post_id":16431931,"comment_id":23566013,"body_markdown":"Yeah, most efficient, in terms of storage and time, is probably ArrayList, if you always add/remove from the ends.","body":"Yeah, most efficient, in terms of storage and time, is probably ArrayList, if you always add/remove from the ends."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1367991620,"post_id":16431931,"comment_id":23567921,"body_markdown":"A the most efficient way to do some thing is often to do nothing at all.  You get faster remove-and-add if you just leave the node in the collection and update it.  Instead of changing the order, you could cycle the entries but iterating through them.  While 3^64 would require an unrealistic amount of memory it would also take a million trillion years to create once at a rate of one hundred million per second.","body":"A the most efficient way to do some thing is often to do nothing at all.  You get faster remove-and-add if you just leave the node in the collection and update it.  Instead of changing the order, you could cycle the entries but iterating through them.  While 3^64 would require an unrealistic amount of memory it would also take a million trillion years to create once at a rate of one hundred million per second."}],"answers":[{"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367982498,"post_id":16431985,"comment_id":23565759,"body_markdown":"The Set classes have overhead to make them searchable.  The OP has not specified how/if he finds the objects he&#39;s interested in.  Does he need the search capability?","body":"The Set classes have overhead to make them searchable.  The OP has not specified how/if he finds the objects he&#39;s interested in.  Does he need the search capability?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367982694,"post_id":16431985,"comment_id":23565800,"body_markdown":"(I would think he couldn&#39;t have more than `2^64` elements, much less `3^64`.)","body":"(I would think he couldn&#39;t have more than <code>2^64</code> elements, much less <code>3^64</code>.)"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1367982696,"post_id":16431985,"comment_id":23565802,"body_markdown":"@HotLicks- Any collection supporting insertion and deletion has to have some support for searching.  If the OP is inserting and deleting things a lot, they will either have to pay in time (linear search in a `LinkedList`) or space (a slight overhead in a `HashSet` or `TreeSet`).  That said, I don&#39;t believe there&#39;s much overhead in these structures, since they&#39;re very easy to traverse.  Are you sure that (a) the overhead exists and (b) it is significant enough to warrant not using them?","body":"@HotLicks- Any collection supporting insertion and deletion has to have some support for searching.  If the OP is inserting and deleting things a lot, they will either have to pay in time (linear search in a <code>LinkedList</code>) or space (a slight overhead in a <code>HashSet</code> or <code>TreeSet</code>).  That said, I don&#39;t believe there&#39;s much overhead in these structures, since they&#39;re very easy to traverse.  Are you sure that (a) the overhead exists and (b) it is significant enough to warrant not using them?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367982762,"post_id":16431985,"comment_id":23565812,"body_markdown":"@templatetypedef - He implies he just adds/removes at the ends.  But he&#39;s pretty vague.","body":"@templatetypedef - He implies he just adds/removes at the ends.  But he&#39;s pretty vague."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1367982966,"post_id":16431985,"comment_id":23565852,"body_markdown":"(I know the overhead exists.  &quot;Significant&quot; or not would imply that the OP had actually told us anything about what he&#39;d doing.)","body":"(I know the overhead exists.  &quot;Significant&quot; or not would imply that the OP had actually told us anything about what he&#39;d doing.)"},{"owner":{"account_id":1569101,"reputation":3689,"user_id":1457219,"accept_rate":86,"display_name":"Jeremy"},"score":0,"creation_date":1367983249,"post_id":16431985,"comment_id":23565901,"body_markdown":"@templatetypedef All of the nodes in the collection are added/removed at random, and the order by which they are added/removed has no impact as long as it is not ALWAYS the last element.","body":"@templatetypedef All of the nodes in the collection are added/removed at random, and the order by which they are added/removed has no impact as long as it is not ALWAYS the last element."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1367983382,"post_id":16431985,"comment_id":23565931,"body_markdown":"@JeremyQuick- Ah, I see.  If that&#39;s the case, you might find the data structure suggested in this older question useful (http://stackoverflow.com/questions/4565006/data-structure-for-choosing-random-elements).","body":"@JeremyQuick- Ah, I see.  If that&#39;s the case, you might find the data structure suggested in this older question useful (<a href=\"http://stackoverflow.com/questions/4565006/data-structure-for-choosing-random-elements\" title=\"data structure for choosing random elements\">stackoverflow.com/questions/4565006/&hellip;</a>)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1367991356,"post_id":16431985,"comment_id":23567827,"body_markdown":"amd64/x64 processors can only handle 48-bits of virtual memory or 256 TB.","body":"amd64/x64 processors can only handle 48-bits of virtual memory or 256 TB."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1367983438,"creation_date":1367982072,"answer_id":16431985,"question_id":16431931,"body_markdown":"The Java `HashSet` or `TreeSet` types might be good here, since they represent unordered collections of elements that support quick insertion and deletion of elements.  That said, you can&#39;t possibly hold 3&lt;sup&gt;64&lt;/sup&gt; values in memory, since that&#39;s appromately 3.4336838 &amp;times; 10&lt;sup&gt;30&lt;/sup&gt;, a number vastly bigger than any amount of RAM that I know of can hold.\r\n\r\n**EDIT**: Based on the described use case (support efficient insertion and removal of random elements), you might want to adopt the approach [described in this older question for building a data structure that does just that][1].  Intuitively, you would use an `ArrayList`, then remove elements by swapping them to the end of the `ArrayList` and removing them.  This gives O(1) insertion and O(1) removal with extremely low overhead.\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4565006/data-structure-for-choosing-random-elements","title":"Most efficient way to keep a collection in Java?","body":"<p>The Java <code>HashSet</code> or <code>TreeSet</code> types might be good here, since they represent unordered collections of elements that support quick insertion and deletion of elements.  That said, you can't possibly hold 3<sup>64</sup> values in memory, since that's appromately 3.4336838 &times; 10<sup>30</sup>, a number vastly bigger than any amount of RAM that I know of can hold.</p>\n\n<p><strong>EDIT</strong>: Based on the described use case (support efficient insertion and removal of random elements), you might want to adopt the approach <a href=\"https://stackoverflow.com/questions/4565006/data-structure-for-choosing-random-elements\">described in this older question for building a data structure that does just that</a>.  Intuitively, you would use an <code>ArrayList</code>, then remove elements by swapping them to the end of the <code>ArrayList</code> and removing them.  This gives O(1) insertion and O(1) removal with extremely low overhead.</p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":1569101,"reputation":3689,"user_id":1457219,"accept_rate":86,"display_name":"Jeremy"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16431985,"answer_count":1,"score":1,"last_activity_date":1673444726,"creation_date":1367981744,"question_id":16431931,"body_markdown":"Currently, I have a LinkedList which stores a custom Node class. The Nodes are currently removed in order and evaluated, which generally adds more Nodes back into the LinkedList, treating it like a Queue. \r\n\r\nBut in reality I don&#39;t care about maintaining the order of the Nodes because the order they are being added or removed doesn&#39;t matter. You can remove the 1st, 54th, or 1032nd Node from the List, it doesn&#39;t matter. All that matters is the Nodes are being processed quickly, which means one is removed (at random), mutated, then added back along with several variations of it (once again the order doesn&#39;t matter).\r\n\r\nSince I haven&#39;t been able to find a Java Bag implementation, what is the most efficient way to maintain this type of collection ?\r\n\r\nPS Out of laziness I have avoid using arrays because the collection of nodes could theoretically range from 1 Node to 3^64 Nodes in size, though it&#39;s more likely to stay under a million.\r\n\r\n","title":"Most efficient way to keep a collection in Java?","body":"<p>Currently, I have a LinkedList which stores a custom Node class. The Nodes are currently removed in order and evaluated, which generally adds more Nodes back into the LinkedList, treating it like a Queue.</p>\n<p>But in reality I don't care about maintaining the order of the Nodes because the order they are being added or removed doesn't matter. You can remove the 1st, 54th, or 1032nd Node from the List, it doesn't matter. All that matters is the Nodes are being processed quickly, which means one is removed (at random), mutated, then added back along with several variations of it (once again the order doesn't matter).</p>\n<p>Since I haven't been able to find a Java Bag implementation, what is the most efficient way to maintain this type of collection ?</p>\n<p>PS Out of laziness I have avoid using arrays because the collection of nodes could theoretically range from 1 Node to 3^64 Nodes in size, though it's more likely to stay under a million.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9624887,"reputation":436,"user_id":7144816,"display_name":"Raja Ramachandran"},"score":0,"creation_date":1673419019,"post_id":75076855,"comment_id":132491756,"body_markdown":"See this https://stackoverflow.com/questions/20063330/how-to-load-hibernate-cfg-xml-from-different-location","body":"See this <a href=\"https://stackoverflow.com/questions/20063330/how-to-load-hibernate-cfg-xml-from-different-location\" title=\"how to load hibernate cfg xml from different location\">stackoverflow.com/questions/20063330/&hellip;</a>"},{"owner":{"account_id":9624887,"reputation":436,"user_id":7144816,"display_name":"Raja Ramachandran"},"score":0,"creation_date":1673419090,"post_id":75076855,"comment_id":132491772,"body_markdown":"Does this answer your question? [How to load hibernate.cfg.xml from different location](https://stackoverflow.com/questions/20063330/how-to-load-hibernate-cfg-xml-from-different-location)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20063330/how-to-load-hibernate-cfg-xml-from-different-location\">How to load hibernate.cfg.xml from different location</a>"}],"owner":{"account_id":21462389,"reputation":23,"user_id":15812885,"display_name":"Adri&#225;n Heredia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673444530,"creation_date":1673392853,"question_id":75076855,"body_markdown":"I need to extract the configuration file from a folder external to the project(C:/Propertiesexample/hibernateexample.cfg.xml), but it doesn&#39;t work for me, this is what I currently have and it works perfect when the configuration file is in the src/main of the project, but it&#39;s not what I&#39;m looking for\r\n\r\n```java\r\npublic SessionFactory getSessionFactory() {\r\n\tif (sessionFactory == null) {\r\n\t\ttry {\r\n\t\t\t// Create registry\r\n\t\t\tregistry = new StandardServiceRegistryBuilder().configure(configFileName) .build();\r\n\r\n\t\t\t// Create MetadataSources\r\n\t\t\tMetadataSources sources = new MetadataSources(registry);\r\n\t\t\t\r\n\t\t\t// Create Metadata\r\n\t\t\tMetadata metadata = sources.getMetadataBuilder().build();\r\n\t\t\t// Create SessionFactory\r\n\t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\t\t\tsessionFactory.getStatistics().setStatisticsEnabled(true);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (registry != null) {\r\n\t\t\t\tStandardServiceRegistryBuilder.destroy(registry);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn sessionFactory;\r\n}\r\n```\r\n\r\nI implemented this, but it doesn&#39;t work:\r\n\r\n```java\r\nString hibernatePropsFilePath = &quot;C:/exampleFolder/example.cfg.xml&quot;;\r\n\r\nFile hibernatePropsFile = new File(hibernatePropsFilePath);\r\n\r\nConfiguration configuration = new Configuration(); \r\nconfiguration.configure(hibernatePropsFile);\r\n\r\nStandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n\r\nStandardServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\r\n// Create registry\r\n\r\n//Create MetadataSources\r\nMetadataSources sources = new MetadataSources(serviceRegistry);\r\n\r\n// Create Metadata\r\nMetadata metadata = sources.getMetadataBuilder().build();\r\n// Create SessionFactory\r\nsessionFactory = metadata.getSessionFactoryBuilder().build();\r\nsessionFactory.getStatistics().setStatisticsEnabled(true);\r\n```","title":"Read file Hibernate.cfg.xml","body":"<p>I need to extract the configuration file from a folder external to the project(C:/Propertiesexample/hibernateexample.cfg.xml), but it doesn't work for me, this is what I currently have and it works perfect when the configuration file is in the src/main of the project, but it's not what I'm looking for</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SessionFactory getSessionFactory() {\n    if (sessionFactory == null) {\n        try {\n            // Create registry\n            registry = new StandardServiceRegistryBuilder().configure(configFileName) .build();\n\n            // Create MetadataSources\n            MetadataSources sources = new MetadataSources(registry);\n            \n            // Create Metadata\n            Metadata metadata = sources.getMetadataBuilder().build();\n            // Create SessionFactory\n            sessionFactory = metadata.getSessionFactoryBuilder().build();\n            sessionFactory.getStatistics().setStatisticsEnabled(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n            if (registry != null) {\n                StandardServiceRegistryBuilder.destroy(registry);\n            }\n        }\n    }\n    return sessionFactory;\n}\n</code></pre>\n<p>I implemented this, but it doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hibernatePropsFilePath = &quot;C:/exampleFolder/example.cfg.xml&quot;;\n\nFile hibernatePropsFile = new File(hibernatePropsFilePath);\n\nConfiguration configuration = new Configuration(); \nconfiguration.configure(hibernatePropsFile);\n\nStandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n\nStandardServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\n// Create registry\n\n//Create MetadataSources\nMetadataSources sources = new MetadataSources(serviceRegistry);\n\n// Create Metadata\nMetadata metadata = sources.getMetadataBuilder().build();\n// Create SessionFactory\nsessionFactory = metadata.getSessionFactoryBuilder().build();\nsessionFactory.getStatistics().setStatisticsEnabled(true);\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673444291,"creation_date":1673444291,"answer_id":75083922,"question_id":75071430,"body_markdown":"I found the solution based on this [Tutorial][1]\r\n\r\n\r\n  [1]: https://www.ssaurel.com/blog/learn-to-create-a-paint-application-for-android/","title":"Android Studio Clear DrawView with a Button","body":"<p>I found the solution based on this <a href=\"https://www.ssaurel.com/blog/learn-to-create-a-paint-application-for-android/\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n"}],"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673444291,"creation_date":1673360872,"question_id":75071430,"body_markdown":"I&#39;ve setup a fragment with a custom View for drawing strokes. \r\nRight now I want to create a button for clearing the strokes, but this is not possible. \r\n\r\nI have two classes\r\n1. extending fragment class\r\n2. extending the view class\r\n\r\nTo clear the canvas I&#39;ve learned to do something like this:\r\n\r\n     canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\r\n\r\nThe problem is that the Canvas object is stuck inside the onDraw() method.\r\nBut I need the canvas object in the button.setOnClickListener the clear the canvas. \r\n\r\n\r\nHow can I do this?\r\n\r\n    import android.graphics.Color;\r\n    import android.graphics.PorterDuff;\r\n    import android.os.Bundle;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import com.app.ssl.R;\r\n    import com.app.ssl.databinding.FragmentDrawviewBinding;\r\n    \r\n    \r\n    public class DrawviewFragment extends Fragment {\r\n        private  FragmentDrawviewBinding binding;\r\n        private View root;\r\n        private View drawView;\r\n        private Button btnClear;\r\n        private Button btnSave;\r\n    \r\n        public View onCreateView(\r\n                @NonNull LayoutInflater inflater,\r\n                ViewGroup container,\r\n                Bundle savedInstanceStage) {\r\n            root = inflater.inflate(R.layout.fragment_drawview,container,false);\r\n            drawView = root.findViewById(R.id.DrawingView);\r\n            btnClear = root.findViewById(R.id.btnClean1);\r\n            btnSave = root.findViewById(R.id.btnSave);\r\n    \r\n            btnClear.setOnClickListener(new View.OnClickListener() {\r\n                @Override public void onClick(View v) {\r\n                   System.out.println(&quot;CLEAR&quot;);\r\n    \r\n                   //drawView.setBackgroundColor(Color.WHITE);\r\n    \r\n                    // CLEAR CANVAS\r\n                    //DrawView.canvas.drawColor(Color.WHITE);\r\n                    //DrawView.canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\r\n                    DrawView.canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.MULTIPLY);\r\n                    //DrawView.onDraw(new Canvas());\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            btnSave.setOnClickListener(new View.OnClickListener() {\r\n                @Override public void onClick(View v) {\r\n                    System.out.println(&quot;SAVE&quot;);\r\n                }\r\n            });\r\n            return root;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Path;\r\n    import android.util.AttributeSet;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    \r\n    \r\n    public class DrawView extends View {\r\n        private Paint drawPaint;\r\n        private Path path = new Path();\r\n        static Canvas canvas;\r\n    \r\n        public DrawView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            setFocusable(true);\r\n            setFocusableInTouchMode(true);\r\n            setupPaint();\r\n        }\r\n    \r\n        // Setup paint with color and stroke styles\r\n        private void setupPaint() {\r\n            drawPaint = new Paint();\r\n            drawPaint.setColor(Color.BLACK);\r\n            drawPaint.setAntiAlias(true);\r\n            drawPaint.setStrokeWidth(5);\r\n            drawPaint.setStyle(Paint.Style.STROKE); // draw with stroke\r\n            drawPaint.setStrokeJoin(Paint.Join.ROUND);\r\n            drawPaint.setStrokeCap(Paint.Cap.ROUND);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n            DrawView.canvas = canvas;\r\n            canvas.drawPath(path, drawPaint);\r\n        }\r\n    \r\n        // Get x and y and append them to the path\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n            float pointX = event.getX();\r\n            float pointY = event.getY();\r\n            // Checks for the event that occurs\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    // Starts a new line in the path\r\n                    path.moveTo(pointX, pointY);\r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    // Draws line between last point and this point\r\n                    path.lineTo(pointX, pointY);\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n            postInvalidate(); // Indicate view should be redrawn\r\n            return true; // Indicate we&#39;ve co\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Android Studio Clear DrawView with a Button","body":"<p>I've setup a fragment with a custom View for drawing strokes.\nRight now I want to create a button for clearing the strokes, but this is not possible.</p>\n<p>I have two classes</p>\n<ol>\n<li>extending fragment class</li>\n<li>extending the view class</li>\n</ol>\n<p>To clear the canvas I've learned to do something like this:</p>\n<pre><code> canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n</code></pre>\n<p>The problem is that the Canvas object is stuck inside the onDraw() method.\nBut I need the canvas object in the button.setOnClickListener the clear the canvas.</p>\n<p>How can I do this?</p>\n<pre><code>import android.graphics.Color;\nimport android.graphics.PorterDuff;\nimport android.os.Bundle;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport com.app.ssl.R;\nimport com.app.ssl.databinding.FragmentDrawviewBinding;\n\n\npublic class DrawviewFragment extends Fragment {\n    private  FragmentDrawviewBinding binding;\n    private View root;\n    private View drawView;\n    private Button btnClear;\n    private Button btnSave;\n\n    public View onCreateView(\n            @NonNull LayoutInflater inflater,\n            ViewGroup container,\n            Bundle savedInstanceStage) {\n        root = inflater.inflate(R.layout.fragment_drawview,container,false);\n        drawView = root.findViewById(R.id.DrawingView);\n        btnClear = root.findViewById(R.id.btnClean1);\n        btnSave = root.findViewById(R.id.btnSave);\n\n        btnClear.setOnClickListener(new View.OnClickListener() {\n            @Override public void onClick(View v) {\n               System.out.println(&quot;CLEAR&quot;);\n\n               //drawView.setBackgroundColor(Color.WHITE);\n\n                // CLEAR CANVAS\n                //DrawView.canvas.drawColor(Color.WHITE);\n                //DrawView.canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n                DrawView.canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.MULTIPLY);\n                //DrawView.onDraw(new Canvas());\n\n            }\n        });\n\n\n        btnSave.setOnClickListener(new View.OnClickListener() {\n            @Override public void onClick(View v) {\n                System.out.println(&quot;SAVE&quot;);\n            }\n        });\n        return root;\n    }\n}\n\n\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.util.AttributeSet;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n\npublic class DrawView extends View {\n    private Paint drawPaint;\n    private Path path = new Path();\n    static Canvas canvas;\n\n    public DrawView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        setFocusable(true);\n        setFocusableInTouchMode(true);\n        setupPaint();\n    }\n\n    // Setup paint with color and stroke styles\n    private void setupPaint() {\n        drawPaint = new Paint();\n        drawPaint.setColor(Color.BLACK);\n        drawPaint.setAntiAlias(true);\n        drawPaint.setStrokeWidth(5);\n        drawPaint.setStyle(Paint.Style.STROKE); // draw with stroke\n        drawPaint.setStrokeJoin(Paint.Join.ROUND);\n        drawPaint.setStrokeCap(Paint.Cap.ROUND);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        DrawView.canvas = canvas;\n        canvas.drawPath(path, drawPaint);\n    }\n\n    // Get x and y and append them to the path\n    public boolean onTouchEvent(MotionEvent event) {\n        float pointX = event.getX();\n        float pointY = event.getY();\n        // Checks for the event that occurs\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                // Starts a new line in the path\n                path.moveTo(pointX, pointY);\n                break;\n            case MotionEvent.ACTION_MOVE:\n                // Draws line between last point and this point\n                path.lineTo(pointX, pointY);\n                break;\n            default:\n                return false;\n        }\n        postInvalidate(); // Indicate view should be redrawn\n        return true; // Indicate we've co\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","spring-boot","performance","java-stream"],"comments":[{"owner":{"account_id":6718742,"reputation":321,"user_id":5179636,"display_name":"colouredmirrorball"},"score":0,"creation_date":1673440720,"post_id":75083011,"comment_id":132498778,"body_markdown":"What exactly is the issue? Is it that the map is not refreshed before fetching, or is it the performance issue?","body":"What exactly is the issue? Is it that the map is not refreshed before fetching, or is it the performance issue?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673440751,"post_id":75083011,"comment_id":132498783,"body_markdown":"@colouredmirrorball or supposed &quot;memory leak&quot;. Really unclear.","body":"@colouredmirrorball or supposed &quot;memory leak&quot;. Really unclear."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1673440893,"post_id":75083011,"comment_id":132498840,"body_markdown":"You haven&#39;t given enough info for anyone to help you, but `getMultiple` contains a check-then-act. It&#39;s not atomic. It might contain the key when doing `filter`, but not when doing `get`.","body":"You haven&#39;t given enough info for anyone to help you, but <code>getMultiple</code> contains a check-then-act. It&#39;s not atomic. It might contain the key when doing <code>filter</code>, but not when doing <code>get</code>."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1673441438,"post_id":75083011,"comment_id":132499057,"body_markdown":"@Michael Even worse than that - every single one of those chained method calls all have to be thread-safe.  And then what&#39;s apparently an underlying map of some type also has to be thread-safe.  All of that is in addition to the TOCTOU bug you pointed out.","body":"@Michael Even worse than that - every single one of those chained method calls all have to be thread-safe.  And then what&#39;s apparently an underlying map of some type also has to be thread-safe.  All of that is in addition to the TOCTOU bug you pointed out."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673441861,"post_id":75083011,"comment_id":132499199,"body_markdown":"@AndrewHenle Which chained calls? The stream operations? I don&#39;t see what would be unsafe about `Arrays.stream(values).map(tempMap::get).filter(Objects::nonNull).findFirst()`.","body":"@AndrewHenle Which chained calls? The stream operations? I don&#39;t see what would be unsafe about <code>Arrays.stream(values).map(tempMap::get).filter(Objects::nonN&zwnj;&#8203;ull).findFirst()</code>."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1673442096,"post_id":75083011,"comment_id":132499294,"body_markdown":"@Michael *I don&#39;t see what would be unsafe*  [Oh?](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-T:A-) &quot;The array, assumed to be unmodified during use.&quot;  The very first call in the chain isn&#39;t thread-safe.","body":"@Michael <i>I don&#39;t see what would be unsafe</i>  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-T:A-\" rel=\"nofollow noreferrer\">Oh?</a> &quot;The array, assumed to be unmodified during use.&quot;  The very first call in the chain isn&#39;t thread-safe."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673442398,"post_id":75083011,"comment_id":132499406,"body_markdown":"@AndrewHenle I&#39;ve seen no reason from the question to assume that the arrays are necessarily shared across threads. The instance used for lookup may be a different from the instance stored in the map. Provided they&#39;re thread-local, it&#39;s fine.","body":"@AndrewHenle I&#39;ve seen no reason from the question to assume that the arrays are necessarily shared across threads. The instance used for lookup may be a different from the instance stored in the map. Provided they&#39;re thread-local, it&#39;s fine."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1673442926,"post_id":75083011,"comment_id":132499612,"body_markdown":"@Michael  There&#39;s no evidence that is isn&#39;t being shared either.  Given the contents of the question, the posted code has the smell of a project where thread safety was not stringently enforced at all times.  The very first Javadoc lookup I did on the code revealed potential race conditions.  From what&#39;s been posted here so far, I believe everyone working on this project has a **HUGE** problem on their hands - they&#39;ve written a multithreaded high-performance application without actually accounting for thread safety at every step, on every single code line.  IMO the entire code base is suspect.","body":"@Michael  There&#39;s no evidence that is isn&#39;t being shared either.  Given the contents of the question, the posted code has the smell of a project where thread safety was not stringently enforced at all times.  The very first Javadoc lookup I did on the code revealed potential race conditions.  From what&#39;s been posted here so far, I believe everyone working on this project has a <b>HUGE</b> problem on their hands - they&#39;ve written a multithreaded high-performance application without actually accounting for thread safety at every step, on every single code line.  IMO the entire code base is suspect."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1673444163,"post_id":75083011,"comment_id":132500099,"body_markdown":"@Michael I&#39;m not making any assumptions.  Because it&#39;s never safe to assume anything in a complex multithreaded application - you never know when something that&#39;s only accessed by one thread at a time will suddenly be accessed by another.  Which is why I say everything **must** be thread-safe.  The questioner doesn&#39;t appear to know what&#39;s actually going on, and that&#39;s probably true for just about everyone working on this project.  They&#39;re all about to have a forced crash-course in writing thread-safe Java.","body":"@Michael I&#39;m not making any assumptions.  Because it&#39;s never safe to assume anything in a complex multithreaded application - you never know when something that&#39;s only accessed by one thread at a time will suddenly be accessed by another.  Which is why I say everything <b>must</b> be thread-safe.  The questioner doesn&#39;t appear to know what&#39;s actually going on, and that&#39;s probably true for just about everyone working on this project.  They&#39;re all about to have a forced crash-course in writing thread-safe Java."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1673444335,"post_id":75083011,"comment_id":132500168,"body_markdown":"(cont) The question is fundamentally backwards - we don&#39;t need to find the thread-**unsafe** code.  The questioner (and everyone on this project) needs to go through the entire code base and **prove** everything is thread-safe with no regard to performance.  Because if it&#39;s wrong, it doesn&#39;t matter how fast it is.  They&#39;ve likely coded themselves into a huge hole, and the only way out is to climb out one updated line of code at a time.  The sooner they get started, the sooner they&#39;ll be finished.  And if they think they can avoid that, they&#39;ll have bugs like this forever.","body":"(cont) The question is fundamentally backwards - we don&#39;t need to find the thread-<b>unsafe</b> code.  The questioner (and everyone on this project) needs to go through the entire code base and <b>prove</b> everything is thread-safe with no regard to performance.  Because if it&#39;s wrong, it doesn&#39;t matter how fast it is.  They&#39;ve likely coded themselves into a huge hole, and the only way out is to climb out one updated line of code at a time.  The sooner they get started, the sooner they&#39;ll be finished.  And if they think they can avoid that, they&#39;ll have bugs like this forever."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1673445719,"post_id":75083011,"comment_id":132500744,"body_markdown":"@Michael What about your *Which chained calls? The stream operations? I don&#39;t see what would be unsafe about `Arrays.stream(values)...`* You didn&#39;t even know `Arrays.stream()` isn&#39;t thread-safe. You&#39;re blindly assuming things are thread-safe, which is an *unsafe* assumption to make in a complex multithreaded application. I&#39;m not &quot;shitting on the entire team&quot;. The simple fact is the entire contents of the question - not just the code - are consistent with a lack of rigor in the development process. What&#39;s obnoxious is the questioner is probably a junior dev stuck with trying to fix this problem","body":"@Michael What about your <i>Which chained calls? The stream operations? I don&#39;t see what would be unsafe about <code>Arrays.stream(values)...</code></i> You didn&#39;t even know <code>Arrays.stream()</code> isn&#39;t thread-safe. You&#39;re blindly assuming things are thread-safe, which is an <i>unsafe</i> assumption to make in a complex multithreaded application. I&#39;m not &quot;shitting on the entire team&quot;. The simple fact is the entire contents of the question - not just the code - are consistent with a lack of rigor in the development process. What&#39;s obnoxious is the questioner is probably a junior dev stuck with trying to fix this problem"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1673445898,"post_id":75083011,"comment_id":132500814,"body_markdown":"(cont) Being a junior developer who has to come in and fix this problem in a large code base is more than a bit unfair to that developer.  This is most likely a problem the senior developers and system architects created, and there&#39;s no way a junior developer can fix individual race conditions in a code base that&#39;s fundamentally thread-**unsafe**, which the posted code sure has the characteristics of.","body":"(cont) Being a junior developer who has to come in and fix this problem in a large code base is more than a bit unfair to that developer.  This is most likely a problem the senior developers and system architects created, and there&#39;s no way a junior developer can fix individual race conditions in a code base that&#39;s fundamentally thread-<b>unsafe</b>, which the posted code sure has the characteristics of."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673459656,"post_id":75083011,"comment_id":132506036,"body_markdown":"At the beginning, you are suggesting that your code is not thread safe, in other words, *broken*. At the end, you are saying “*But that still impacts the performance*” as if your concern was performance all the time. You should first decide what your problem is. As a hint: *as long as your code is broken, performance is entirely irrelevant*","body":"At the beginning, you are suggesting that your code is not thread safe, in other words, <i>broken</i>. At the end, you are saying “<i>But that still impacts the performance</i>” as if your concern was performance all the time. You should first decide what your problem is. As a hint: <i>as long as your code is broken, performance is entirely irrelevant</i>"}],"owner":{"account_id":21534234,"reputation":31,"user_id":15873151,"display_name":"Zedark"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673443932,"creation_date":1673439899,"question_id":75083011,"body_markdown":"We have a Spring Boot application where we fetch data from a database and keep it in a concurrent Hashmap tempMap. Then we use it to fetch details based on the incoming keys. But keys are in the form of arrays. Now, once loaded we don&#39;t refresh the map until the scheduler hits. But we can see empty optional being returned but the map was never refreshed. The method is being accessed by many threads in the application. Seems some kind of memory leak is there. Please, anyone can help to point what might be the issue. \r\n\r\nThis is the function body accessed by many threads that throws No value present exception:\r\n\r\n```\r\nif (sender.length == 1) {\r\n\treturn getSingle(sender[0]).get();\r\n} else {\r\n\treturn getMultiple(sender).get();\r\n}\r\n```\r\n\r\nThese are the implementations for functions:\r\n\r\n```\r\nprivate Optional&lt;DummyClassEntity&gt; getSingle(String value) {\r\n\tOptional&lt;DummyClassEntity&gt; dummyClass;\r\n\tdummyClass = Optional.of(tempMap.get(value));\r\n\treturn dummyClass;\r\n}\r\n\r\nprivate Optional&lt;DummyClassEntity&gt; getMultiple(String[] values) {\r\n\treturn Arrays.stream(values)\r\n\t    .filter(value -&gt; tempMap.containsKey(value))\r\n\t\t.findFirst()\r\n\t\t.map(s -&gt; tempMap.get(s));\r\n}\r\n```\r\n\r\nI tried using synchronized block. But that still impacts the performance. And this part is being used for an high performance application.","title":"Why is the following block not thread safe?","body":"<p>We have a Spring Boot application where we fetch data from a database and keep it in a concurrent Hashmap tempMap. Then we use it to fetch details based on the incoming keys. But keys are in the form of arrays. Now, once loaded we don't refresh the map until the scheduler hits. But we can see empty optional being returned but the map was never refreshed. The method is being accessed by many threads in the application. Seems some kind of memory leak is there. Please, anyone can help to point what might be the issue.</p>\n<p>This is the function body accessed by many threads that throws No value present exception:</p>\n<pre><code>if (sender.length == 1) {\n    return getSingle(sender[0]).get();\n} else {\n    return getMultiple(sender).get();\n}\n</code></pre>\n<p>These are the implementations for functions:</p>\n<pre><code>private Optional&lt;DummyClassEntity&gt; getSingle(String value) {\n    Optional&lt;DummyClassEntity&gt; dummyClass;\n    dummyClass = Optional.of(tempMap.get(value));\n    return dummyClass;\n}\n\nprivate Optional&lt;DummyClassEntity&gt; getMultiple(String[] values) {\n    return Arrays.stream(values)\n        .filter(value -&gt; tempMap.containsKey(value))\n        .findFirst()\n        .map(s -&gt; tempMap.get(s));\n}\n</code></pre>\n<p>I tried using synchronized block. But that still impacts the performance. And this part is being used for an high performance application.</p>\n"},{"tags":["java","quarkus","build-time","quarkus-extension"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1673421152,"post_id":75072672,"comment_id":132492264,"body_markdown":"You likely simply need to make the beans of your extension discoverable. There are multiple ways to do this, but the easiest would be to add an empty `META-INF/beans.xml` file to `src/main/resources` of the `runtime` part of your extension.","body":"You likely simply need to make the beans of your extension discoverable. There are multiple ways to do this, but the easiest would be to add an empty <code>META-INF&#47;beans.xml</code> file to <code>src&#47;main&#47;resources</code> of the <code>runtime</code> part of your extension."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1673426154,"post_id":75072672,"comment_id":132493774,"body_markdown":"Simple as... That&#39;s it. Adding the beans via `AdditionalBeanBuildItem` apparently does not apply  `IfBuildProperty`. I still got to learn a lot about extensions... Thank you for your ubiquitousness :)","body":"Simple as... That&#39;s it. Adding the beans via <code>AdditionalBeanBuildItem</code> apparently does not apply  <code>IfBuildProperty</code>. I still got to learn a lot about extensions... Thank you for your ubiquitousness :)"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1673443837,"post_id":75072672,"comment_id":132499967,"body_markdown":"You are welcome :). I will add the comment as answer so future users can easily see it without having to read the comments.","body":"You are welcome :). I will add the comment as answer so future users can easily see it without having to read the comments."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673443857,"creation_date":1673443857,"answer_id":75083846,"question_id":75072672,"body_markdown":"You simply need to make the beans of your extension discoverable. There are multiple ways to do this, but the easiest would be to add an empty `META-INF/beans.xml` file to `src/main/resources` of the runtime part of your extension.","title":"Disable beans with build time property in my quarkus extension","body":"<p>You simply need to make the beans of your extension discoverable. There are multiple ways to do this, but the easiest would be to add an empty <code>META-INF/beans.xml</code> file to <code>src/main/resources</code> of the runtime part of your extension.</p>\n"}],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75083846,"answer_count":1,"score":0,"last_activity_date":1673443857,"creation_date":1673366627,"question_id":75072672,"body_markdown":"I am writing a quarkus extension. This extension includes a capability, which should be disableable by build property.\r\n\r\nI accordingly annotated the beans of this optional capability with `@IfBuildProperty(name = &quot;myProperty&quot;, stringValue = &quot;true&quot;)` \r\n\r\nIn my deployment `Processor` class, I am adding the beans via `AdditionalBeanBuildItem`.\r\n\r\nWhen using this extension in my project, the `ifBuildProperty` seems to be ignored, as the bean is still available even if `myProperty` is not set to `true`.\r\n\r\nHow can I disable a bean of a custom extension via build property? Can I somehow skip the whole build step that add the beans as `AdditionalBeanBuildItem`?\r\n\r\n\r\n","title":"Disable beans with build time property in my quarkus extension","body":"<p>I am writing a quarkus extension. This extension includes a capability, which should be disableable by build property.</p>\n<p>I accordingly annotated the beans of this optional capability with <code>@IfBuildProperty(name = &quot;myProperty&quot;, stringValue = &quot;true&quot;)</code></p>\n<p>In my deployment <code>Processor</code> class, I am adding the beans via <code>AdditionalBeanBuildItem</code>.</p>\n<p>When using this extension in my project, the <code>ifBuildProperty</code> seems to be ignored, as the bean is still available even if <code>myProperty</code> is not set to <code>true</code>.</p>\n<p>How can I disable a bean of a custom extension via build property? Can I somehow skip the whole build step that add the beans as <code>AdditionalBeanBuildItem</code>?</p>\n"},{"tags":["java","selenium","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1673343942,"post_id":75062048,"comment_id":132472118,"body_markdown":"Does your native language use commas in this location?","body":"Does your native language use commas in this location?"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673443527,"creation_date":1673443527,"answer_id":75083777,"question_id":75062048,"body_markdown":"Unfortunately there is no way to fix this other that surefire code change and re-build.\r\n\r\nThe string is formed using [this logic][1]. \r\n\r\n```java\r\nstatic String formatElapsedTime( double runTime )\r\n{\r\n    NumberFormat numberFormat = NumberFormat.getInstance( Locale.ENGLISH );\r\n    numberFormat.setGroupingUsed( true );\r\n    numberFormat.setMinimumFractionDigits( 0 );\r\n    numberFormat.setMaximumFractionDigits( 3 );\r\n    return numberFormat.format( runTime / MS_PER_SEC );\r\n}\r\n```\r\n\r\nSo no environmental settings would change this behavior. You can change `true` to false and rebuild your surefire classes to get what you need.\r\n\r\n  [1]: https://github.com/apache/maven-surefire/blob/61f03c6903ee19afd7d1e5f37c047dc77b3cf49f/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/ReporterUtils.java#L40","title":"Change time format for &quot;Time elapsed:&quot; in Maven Build Logs","body":"<p>Unfortunately there is no way to fix this other that surefire code change and re-build.</p>\n<p>The string is formed using <a href=\"https://github.com/apache/maven-surefire/blob/61f03c6903ee19afd7d1e5f37c047dc77b3cf49f/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/ReporterUtils.java#L40\" rel=\"nofollow noreferrer\">this logic</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String formatElapsedTime( double runTime )\n{\n    NumberFormat numberFormat = NumberFormat.getInstance( Locale.ENGLISH );\n    numberFormat.setGroupingUsed( true );\n    numberFormat.setMinimumFractionDigits( 0 );\n    numberFormat.setMaximumFractionDigits( 3 );\n    return numberFormat.format( runTime / MS_PER_SEC );\n}\n</code></pre>\n<p>So no environmental settings would change this behavior. You can change <code>true</code> to false and rebuild your surefire classes to get what you need.</p>\n"}],"owner":{"account_id":10455431,"reputation":35,"user_id":7707732,"display_name":"Sarayu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673443763,"creation_date":1673292244,"question_id":75062048,"body_markdown":"I have a long running test suite and once run is completed, maven build logs are available in console. The issue is it is not in proper decimal format. Is there anyway to make it decimal.\r\n\r\nCurrent log: `Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3,289.634 s - in TestSuite`\r\n\r\nDue to comma in time elapsed `3,289.634 s` facing issue. This is effecting in parsing xml `cvc-datatype-valid.1.2.1: &#39;3,289.634&#39; is not a valid value for &#39;decimal&#39;.`\r\n\r\nAppreciate any help here.\r\n\r\nThanks!\r\n\r\nDesire to change the time format.","title":"Change time format for &quot;Time elapsed:&quot; in Maven Build Logs","body":"<p>I have a long running test suite and once run is completed, maven build logs are available in console. The issue is it is not in proper decimal format. Is there anyway to make it decimal.</p>\n<p>Current log: <code>Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3,289.634 s - in TestSuite</code></p>\n<p>Due to comma in time elapsed <code>3,289.634 s</code> facing issue. This is effecting in parsing xml <code>cvc-datatype-valid.1.2.1: '3,289.634' is not a valid value for 'decimal'.</code></p>\n<p>Appreciate any help here.</p>\n<p>Thanks!</p>\n<p>Desire to change the time format.</p>\n"},{"tags":["java","maven","jar","pom.xml","maven-dependency"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673443937,"post_id":75083820,"comment_id":132500020,"body_markdown":"IntelliJ knows about the dependencies, and can link to them. A separate JAR file has a pom.xml file, but the JVM doesn&#39;t use that - it&#39;s a Maven only thing. A JAR file&#39;s MANIFEST.MF may include references to its dependencies, but those need to be copied with the JAR. An alternative is to create a so-called _fat JAR_, that includes not just your code but also all dependencies. You can use the Maven shade plugin for that.","body":"IntelliJ knows about the dependencies, and can link to them. A separate JAR file has a pom.xml file, but the JVM doesn&#39;t use that - it&#39;s a Maven only thing. A JAR file&#39;s MANIFEST.MF may include references to its dependencies, but those need to be copied with the JAR. An alternative is to create a so-called <i>fat JAR</i>, that includes not just your code but also all dependencies. You can use the Maven shade plugin for that."},{"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"score":0,"creation_date":1673444144,"post_id":75083820,"comment_id":132500095,"body_markdown":"@RobSpoor hey thank you for your answer. would you maybe have links to examples?","body":"@RobSpoor hey thank you for your answer. would you maybe have links to examples?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673444426,"post_id":75083820,"comment_id":132500213,"body_markdown":"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html","body":"<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>"}],"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673443741,"creation_date":1673443741,"question_id":75083820,"body_markdown":"So I added these maven dependencies in my project which will allow me to encode my logs in JSON. After doing this I reloaded maven on IntelliJ and I was able to run the Main class and use these dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n        &lt;version&gt;7.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nWhen I do `mvn clean install -DskipTests` and run the exported jar then I get this error:\r\n\r\n    2023-01-11 13:07:54 13:07:54,863 |-ERROR in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Could not create component [encoder] of type [net.logstash.logback.encoder.LogstashEncoder] java.lang.ClassNotFoundException: net.logstash.logback.encoder.LogstashEncoder\r\n\r\n\r\n\r\nWould someone know why the exported jar complains about not finding this dependency although when running the main class the dependency seems to be in use? Thanks in advance for the help","title":"Maven exported jar doesnt find maven dependency although I can run the main class with no problems","body":"<p>So I added these maven dependencies in my project which will allow me to encode my logs in JSON. After doing this I reloaded maven on IntelliJ and I was able to run the Main class and use these dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n    &lt;version&gt;7.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>When I do <code>mvn clean install -DskipTests</code> and run the exported jar then I get this error:</p>\n<pre><code>2023-01-11 13:07:54 13:07:54,863 |-ERROR in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Could not create component [encoder] of type [net.logstash.logback.encoder.LogstashEncoder] java.lang.ClassNotFoundException: net.logstash.logback.encoder.LogstashEncoder\n</code></pre>\n<p>Would someone know why the exported jar complains about not finding this dependency although when running the main class the dependency seems to be in use? Thanks in advance for the help</p>\n"},{"tags":["java","html"],"owner":{"account_id":21420599,"reputation":13,"user_id":15778967,"display_name":"Debendra Nath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673443226,"creation_date":1673415754,"question_id":75078758,"body_markdown":"From the URL of a page I want the &quot;name&quot; attribute to be displayed on the HTML page like let&#39;s say, `Welcome ${name}`\r\n\r\nFor example, `localhost:8080/index?name=dave`, then in the HTML page it should display as mentioned above.\r\n\r\nMain question is what is the syntax to pull it onto an HTML page? As in JSP, it is `${name}` but I don&#39;t know for HTML.\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpSession;\r\n\r\n@Controller\r\npublic class IndexController {\r\n\t\r\n\t@RequestMapping(&quot;index&quot;)\r\n\tpublic String index(HttpServletRequest req) {\r\n\t\t\r\n\t\tHttpSession session = req.getSession();\r\n\t\tString name = req.getParameter(&quot;name&quot;);\r\n\t\tif (name != null) {\r\n\t\t\tSystem.out.println(&quot;Hi! &quot; + name);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Hi&quot;);\r\n\t\t}\r\n\t\tsession.setAttribute(&quot;name&quot;, name);\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe console displays the text `name=&quot;Dave&quot;`, but in the page with URL `localhost:8080/index?name=Dave`, I have typed `Welcome ${name}`, but the name doesn&#39;t show up.","title":"pulling session attribute from url into webpage","body":"<p>From the URL of a page I want the &quot;name&quot; attribute to be displayed on the HTML page like let's say, <code>Welcome ${name}</code></p>\n<p>For example, <code>localhost:8080/index?name=dave</code>, then in the HTML page it should display as mentioned above.</p>\n<p>Main question is what is the syntax to pull it onto an HTML page? As in JSP, it is <code>${name}</code> but I don't know for HTML.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpSession;\n\n@Controller\npublic class IndexController {\n    \n    @RequestMapping(&quot;index&quot;)\n    public String index(HttpServletRequest req) {\n        \n        HttpSession session = req.getSession();\n        String name = req.getParameter(&quot;name&quot;);\n        if (name != null) {\n            System.out.println(&quot;Hi! &quot; + name);\n        } else {\n            System.out.println(&quot;Hi&quot;);\n        }\n        session.setAttribute(&quot;name&quot;, name);\n        return &quot;index&quot;;\n    }\n    \n}\n</code></pre>\n<p>The console displays the text <code>name=&quot;Dave&quot;</code>, but in the page with URL <code>localhost:8080/index?name=Dave</code>, I have typed <code>Welcome ${name}</code>, but the name doesn't show up.</p>\n"},{"tags":["javascript","java","selenium","drag-and-drop","action"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1673444180,"post_id":75083628,"comment_id":132500107,"body_markdown":"Update the question with the relevant text based HTML and your code trials.","body":"Update the question with the relevant text based HTML and your code trials."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673454441,"post_id":75083628,"comment_id":132504234,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27499021,"reputation":1,"user_id":20983094,"display_name":"RCS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673442812,"creation_date":1673442812,"question_id":75083628,"body_markdown":"I‘m trying to do drag and drop scenario in a list of elements.Currently I’m using Actions class to do the job, but it’s hang the process when trying to drop the element to the target position.\r\n\r\nI’ve tried following solutions so far,\r\n\r\n1. dragAndDrop(source,target)\r\n1. clickAndHold(source) , release(target) - here release not happened until manually do the mouse movement.\r\n3. Javascripts dragAndDrops not worked in the application\r\n4. Robot class - not getting the exact element position in the local machine plus in the servers.\r\n\r\nAs my guess best way to do this from actions class , Any solution for doing  clickAndHold and once release function called do the mouseMovement from automation.It will hang the process inside the release function. And moveToElement will not work as well.","title":"Selenium Actions class dragAndDrop process get stuck when try to element drop","body":"<p>I‘m trying to do drag and drop scenario in a list of elements.Currently I’m using Actions class to do the job, but it’s hang the process when trying to drop the element to the target position.</p>\n<p>I’ve tried following solutions so far,</p>\n<ol>\n<li>dragAndDrop(source,target)</li>\n<li>clickAndHold(source) , release(target) - here release not happened until manually do the mouse movement.</li>\n<li>Javascripts dragAndDrops not worked in the application</li>\n<li>Robot class - not getting the exact element position in the local machine plus in the servers.</li>\n</ol>\n<p>As my guess best way to do this from actions class , Any solution for doing  clickAndHold and once release function called do the mouseMovement from automation.It will hang the process inside the release function. And moveToElement will not work as well.</p>\n"},{"tags":["java","jackson","yaml","jackson-dataformat-yaml"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673442788,"creation_date":1673442788,"answer_id":75083622,"question_id":75081991,"body_markdown":"You&#39;re using the JSON Pointer `/formatting/template`. This is for nested mappings, as shown in your second YAML file. If you have a condensed key `formatting.template`, you&#39;ll need the JSON Pointer `/formatting.template` instead.\r\n\r\nYAML is perfectly able to read keys with a dot, it just does not do what you think it does. The dot is not a special character in YAML, just part of the content.\r\n\r\nYou may have worked with Spring which loads YAML files by rewriting them as Properties files, where `.` *is* a separator. Since the existing dots are not escaped, for YAML files used with Spring, a dot is the same as nested keys. However when you directly use a YAML loader, such as Jackson, that is not the case.","title":"YAMLMapper MismatchedInputException YAML key with periods","body":"<p>You're using the JSON Pointer <code>/formatting/template</code>. This is for nested mappings, as shown in your second YAML file. If you have a condensed key <code>formatting.template</code>, you'll need the JSON Pointer <code>/formatting.template</code> instead.</p>\n<p>YAML is perfectly able to read keys with a dot, it just does not do what you think it does. The dot is not a special character in YAML, just part of the content.</p>\n<p>You may have worked with Spring which loads YAML files by rewriting them as Properties files, where <code>.</code> <em>is</em> a separator. Since the existing dots are not escaped, for YAML files used with Spring, a dot is the same as nested keys. However when you directly use a YAML loader, such as Jackson, that is not the case.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75083622,"answer_count":1,"score":0,"last_activity_date":1673442788,"creation_date":1673434797,"question_id":75081991,"body_markdown":"Error: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n\r\nYaml file:\r\n\r\n    formatting.template:\r\n      fields:\r\n        - name: birthdate\r\n          type: java.lang.String\r\n          subType: java.util.Date\r\n          lenght: 10\r\n\r\nConfigurationProperties:\r\n\r\n    @Data\r\n    public class FormattingConfigurationProperties {\r\n    \r\n    \tprivate List&lt;Field&gt; fields;\r\n    \r\n    \t@Data\r\n    \tpublic static class Field {\r\n    \t\tprivate String name;\r\n    \t\tprivate String type;\r\n    \t\tprivate String subType;\r\n    \t\tprivate String lenght;\r\n    \t}\r\n\r\n    }\r\n\r\nMethod to read yaml\r\n\r\n    private static FormattingConfigurationProperties buildFormattingConfigurationProperties() throws IOException {\r\n\r\n        InputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application_formatting.yaml&quot;));\r\n\t\t\r\n\t\tYAMLMapper mapper = new YAMLMapper();\r\n\t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\t\tmapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n\r\n        return mapper.readerFor(FormattingConfigurationProperties.class)\r\n                     .at(/formatting/template)\r\n                     .readValue(inputStream);\r\n\r\n    }\r\n\r\nI actually solved it by changing the Yaml file, splitting formatting.template on separate lines:\r\n\r\n    formatting:\r\n      template:\r\n        fields:\r\n          - name: birthdate\r\n            type: java.lang.String\r\n            subType: java.util.Date\r\n            lenght: 10\r\n\r\nThis means that is not able to read key with dot (periods (.)).\r\nSomeone know how to avoid MismatchedInputException, when the prefix is on the same line separated by dot?","title":"YAMLMapper MismatchedInputException YAML key with periods","body":"<p>Error: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input</p>\n<p>Yaml file:</p>\n<pre><code>formatting.template:\n  fields:\n    - name: birthdate\n      type: java.lang.String\n      subType: java.util.Date\n      lenght: 10\n</code></pre>\n<p>ConfigurationProperties:</p>\n<pre><code>@Data\npublic class FormattingConfigurationProperties {\n\n    private List&lt;Field&gt; fields;\n\n    @Data\n    public static class Field {\n        private String name;\n        private String type;\n        private String subType;\n        private String lenght;\n    }\n\n}\n</code></pre>\n<p>Method to read yaml</p>\n<pre><code>private static FormattingConfigurationProperties buildFormattingConfigurationProperties() throws IOException {\n\n    InputStream inputStream = new FileInputStream(new File(&quot;./src/test/resources/&quot; + &quot;application_formatting.yaml&quot;));\n    \n    YAMLMapper mapper = new YAMLMapper();\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n    mapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n\n    return mapper.readerFor(FormattingConfigurationProperties.class)\n                 .at(/formatting/template)\n                 .readValue(inputStream);\n\n}\n</code></pre>\n<p>I actually solved it by changing the Yaml file, splitting formatting.template on separate lines:</p>\n<pre><code>formatting:\n  template:\n    fields:\n      - name: birthdate\n        type: java.lang.String\n        subType: java.util.Date\n        lenght: 10\n</code></pre>\n<p>This means that is not able to read key with dot (periods (.)).\nSomeone know how to avoid MismatchedInputException, when the prefix is on the same line separated by dot?</p>\n"},{"tags":["java","swing","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673442254,"creation_date":1673440961,"answer_id":75083236,"question_id":75080556,"body_markdown":"To move the scroll bar to the position of the `abc` text to be displayed  vertically in the middle of the [viewport][1] we have to first find the line number of the text and translate it to the view coordinates:\r\n\r\n    // Find the line number of the &quot;abc&quot; text\r\n    int lineNumber = ta.getLineOfOffset(testText.indexOf(&quot;abc&quot;));\r\n    // Translate the lineNumber to the view rectangle\r\n    Rectangle viewRect = ta.modelToView(ta.getLineStartOffset(lineNumber));\r\n\r\nNow, having the `viewRect` we can get the viewport size and calculate the position `Point` to scroll to\r\n\r\n    Dimension viewportSize = scrollPane.getViewport().getExtentSize();\r\n    // Calculate new view position to scroll to\r\n    Point scrollPoint = new Point(0, view.y - (viewportSize.height - view.height) / 2);\r\n\r\nSome explanation about calculating the `scrollPoint`. To calculate the y-coordinate at which the line should be centered, we use the following formula: `rect.y - (viewportSize.height - viewRect.height) / 2`.\r\nWe subtract the height of the line (`viewRect.height`) from the total viewport size (`viewportSize.height`) which gives the remaining space in the viewport above and below the line. Then we divide the remaining space by `2` to get the position of the line in the center of viewport.\r\n\r\nAnd as we want to vertically center the line in the viewport, we subtract the resulting value from the top y-coordinate of the line to get the new y-coordinate of the viewport.\r\n\r\nFinally, we can set the viewport to the calculated `scrollPoint` using [`JViewport::setViewPosition(Point)`][2]:\r\n\r\n```\r\npublic TestCenter() {\r\n    JFrame frame = new JFrame();\r\n    JTextArea ta = new JTextArea();\r\n    JScrollPane scrollPane = new JScrollPane(ta);\r\n\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setMinimumSize(new Dimension(800, 600));\r\n    frame.add(scrollPane);\r\n    frame.pack();\r\n    frame.setVisible(true);\r\n\r\n    var testText =\r\n        &quot;xxxxxxxxxxxxxxxxxxxx\\n&quot;.repeat(100) +\r\n        &quot;abc&quot; +\r\n        &quot;xxxxxxxxxxxxxxxxxxxx\\n&quot;.repeat(100);\r\n    ta.setText(testText.toString());\r\n\r\n    try {\r\n        // Find the line number of the &quot;abc&quot; text\r\n        int lineNumber = ta.getLineOfOffset(testText.indexOf(&quot;abc&quot;));\r\n        // Translate the lineNumber to the view rectangle\r\n        Rectangle viewRect = ta.modelToView(ta.getLineStartOffset(lineNumber));\r\n        // Get the size of the viewport\r\n        Dimension viewportSize = scrollPane.getViewport().getExtentSize();\r\n        // Calculate new view position to scroll to\r\n        Point scrollPoint = new Point(0, viewRect.y - (viewportSize.height - viewRect.height) / 2);\r\n        // Move the view to the new position\r\n        scrollPane.getViewport().setViewPosition(scrollPoint);\r\n    } catch (BadLocationException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JViewport.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JViewport.html#setViewPosition(java.awt.Point)\r\n  [3]: https://i.stack.imgur.com/XiI99.png","title":"How can I center a text vertically within a JTextArea?","body":"<p>To move the scroll bar to the position of the <code>abc</code> text to be displayed  vertically in the middle of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JViewport.html\" rel=\"nofollow noreferrer\">viewport</a> we have to first find the line number of the text and translate it to the view coordinates:</p>\n<pre><code>// Find the line number of the &quot;abc&quot; text\nint lineNumber = ta.getLineOfOffset(testText.indexOf(&quot;abc&quot;));\n// Translate the lineNumber to the view rectangle\nRectangle viewRect = ta.modelToView(ta.getLineStartOffset(lineNumber));\n</code></pre>\n<p>Now, having the <code>viewRect</code> we can get the viewport size and calculate the position <code>Point</code> to scroll to</p>\n<pre><code>Dimension viewportSize = scrollPane.getViewport().getExtentSize();\n// Calculate new view position to scroll to\nPoint scrollPoint = new Point(0, view.y - (viewportSize.height - view.height) / 2);\n</code></pre>\n<p>Some explanation about calculating the <code>scrollPoint</code>. To calculate the y-coordinate at which the line should be centered, we use the following formula: <code>rect.y - (viewportSize.height - viewRect.height) / 2</code>.\nWe subtract the height of the line (<code>viewRect.height</code>) from the total viewport size (<code>viewportSize.height</code>) which gives the remaining space in the viewport above and below the line. Then we divide the remaining space by <code>2</code> to get the position of the line in the center of viewport.</p>\n<p>And as we want to vertically center the line in the viewport, we subtract the resulting value from the top y-coordinate of the line to get the new y-coordinate of the viewport.</p>\n<p>Finally, we can set the viewport to the calculated <code>scrollPoint</code> using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JViewport.html#setViewPosition(java.awt.Point)\" rel=\"nofollow noreferrer\"><code>JViewport::setViewPosition(Point)</code></a>:</p>\n<pre><code>public TestCenter() {\n    JFrame frame = new JFrame();\n    JTextArea ta = new JTextArea();\n    JScrollPane scrollPane = new JScrollPane(ta);\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setMinimumSize(new Dimension(800, 600));\n    frame.add(scrollPane);\n    frame.pack();\n    frame.setVisible(true);\n\n    var testText =\n        &quot;xxxxxxxxxxxxxxxxxxxx\\n&quot;.repeat(100) +\n        &quot;abc&quot; +\n        &quot;xxxxxxxxxxxxxxxxxxxx\\n&quot;.repeat(100);\n    ta.setText(testText.toString());\n\n    try {\n        // Find the line number of the &quot;abc&quot; text\n        int lineNumber = ta.getLineOfOffset(testText.indexOf(&quot;abc&quot;));\n        // Translate the lineNumber to the view rectangle\n        Rectangle viewRect = ta.modelToView(ta.getLineStartOffset(lineNumber));\n        // Get the size of the viewport\n        Dimension viewportSize = scrollPane.getViewport().getExtentSize();\n        // Calculate new view position to scroll to\n        Point scrollPoint = new Point(0, viewRect.y - (viewportSize.height - viewRect.height) / 2);\n        // Move the view to the new position\n        scrollPane.getViewport().setViewPosition(scrollPoint);\n    } catch (BadLocationException e) {\n        throw new RuntimeException(e);\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XiI99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XiI99.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1134508,"reputation":669,"user_id":1119859,"accept_rate":50,"display_name":"user1119859"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75083236,"answer_count":1,"score":1,"last_activity_date":1673442254,"creation_date":1673427954,"question_id":75080556,"body_markdown":"I have a JTextArea with a long text. In the text there is the string &quot;abc&quot; that I want to be displayed in the middle (vertical) of the text area.\r\nI can use setCaretPosition to cause the ScrollPane to scroll enough for the string &quot;abc&quot; to scroll into view. The scrolling continues until the text &quot;abc&quot; becomes visible at the bottom of the text area (see example)\r\nHow can I get the scrollbar to scroll so far that the text &quot;abc&quot; is displayed in the middle (vertically) in the visible area?\r\n\r\n\r\nmany thanks for your help!\r\n\r\n    public class TestCenter {\r\n    \r\n        public TestCenter() {\r\n            JFrame frame = new JFrame();\r\n            JTextArea ta = new JTextArea();\r\n    \r\n            frame.setMinimumSize(new Dimension(800, 600));\r\n            frame.add(new JScrollPane(ta));\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n    \r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                StringBuilder testText = new StringBuilder();\r\n                for (int t = 0; t &lt; 100; t++) {\r\n                    testText.append(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\n&quot;);\r\n                }\r\n                testText.append(&quot;abc&quot;);\r\n                for (int t = 0; t &lt; 100; t++) {\r\n                    testText.append(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\n&quot;);\r\n                }\r\n                ta.setText(testText.toString());\r\n                ta.setCaretPosition(testText.indexOf(&quot;abc&quot;));\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new TestCenter();\r\n        }\r\n    \r\n    }\r\n\r\n   ","title":"How can I center a text vertically within a JTextArea?","body":"<p>I have a JTextArea with a long text. In the text there is the string &quot;abc&quot; that I want to be displayed in the middle (vertical) of the text area.\nI can use setCaretPosition to cause the ScrollPane to scroll enough for the string &quot;abc&quot; to scroll into view. The scrolling continues until the text &quot;abc&quot; becomes visible at the bottom of the text area (see example)\nHow can I get the scrollbar to scroll so far that the text &quot;abc&quot; is displayed in the middle (vertically) in the visible area?</p>\n<p>many thanks for your help!</p>\n<pre><code>public class TestCenter {\n\n    public TestCenter() {\n        JFrame frame = new JFrame();\n        JTextArea ta = new JTextArea();\n\n        frame.setMinimumSize(new Dimension(800, 600));\n        frame.add(new JScrollPane(ta));\n        frame.pack();\n        frame.setVisible(true);\n\n        SwingUtilities.invokeLater(() -&gt; {\n            StringBuilder testText = new StringBuilder();\n            for (int t = 0; t &lt; 100; t++) {\n                testText.append(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\n&quot;);\n            }\n            testText.append(&quot;abc&quot;);\n            for (int t = 0; t &lt; 100; t++) {\n                testText.append(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\n&quot;);\n            }\n            ta.setText(testText.toString());\n            ta.setCaretPosition(testText.indexOf(&quot;abc&quot;));\n        });\n    }\n\n    public static void main(String[] args) {\n        new TestCenter();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","c","gradle"],"comments":[{"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"score":0,"creation_date":1664555501,"post_id":73911416,"comment_id":130506362,"body_markdown":"@markspace I have a definition, the problem seems to be the building process. I already checked baeldung, but this specific snipped is for JNI not JNA","body":"@markspace I have a definition, the problem seems to be the building process. I already checked baeldung, but this specific snipped is for JNI not JNA"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664556138,"post_id":73911416,"comment_id":130506555,"body_markdown":"Ah, my mistake, sorry about that.","body":"Ah, my mistake, sorry about that."}],"answers":[{"tags":[],"owner":{"account_id":22752502,"reputation":11,"user_id":16912476,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673442202,"creation_date":1673442202,"answer_id":75083506,"question_id":73911416,"body_markdown":"Another solution path would be to try to create a small binary executable, which will call your method, which it is located, not in the executable, but in a shared library, so you could perhaps better target the cause of your problem which may not be related to JNA\r\n\r\nWe also use JNA with Java here, I will be happy to help you if you provide more example of c codes and compilation parameters","title":"Bridging from C/C++ to Java in Android App","body":"<p>Another solution path would be to try to create a small binary executable, which will call your method, which it is located, not in the executable, but in a shared library, so you could perhaps better target the cause of your problem which may not be related to JNA</p>\n<p>We also use JNA with Java here, I will be happy to help you if you provide more example of c codes and compilation parameters</p>\n"}],"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673442202,"creation_date":1664554188,"question_id":73911416,"body_markdown":"I want to call functions I implemented in c/c++ within my Java code using JNA.\r\nPath for my bridge file, which loads the library:\r\n```\r\nmain/java/com/identifier/projectname/BridgeFile.java\r\n```\r\nPath for my library I want to call:\r\n```\r\nmain/libs/lib1/functions.c and main/libs/lib1/functions.h\r\n```\r\nfrom my *functions.c* file I call functions from other libs contained within my *libs* folder (main/libs/lib2/, main/libs/lib3/). The files are more or less &quot;loose&quot; and I call them within my functions.c.\r\n\r\nI include jna within my build.gradle:\r\n```\r\ndependencies {\r\n   implementation &#39;net.java.dev.jna:jna:5.12.1&#39;\r\n}\r\n```\r\nMy Viewer (file where I load the library) looks like the following:\r\n```\r\npackage com.identifier.projectname;\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Platform;\r\n\r\npublic class Viewer extends SimpleViewManager&lt;TextureView&gt; {\r\n\r\n    public interface CLibrary extends Library {\r\n        CLibrary INSTANCE = (CLibrary) Native.loadLibrary(&quot;finder&quot;, CLibrary.class);\r\n        int testFunc();\r\n    }\r\n    // Calling it like this: int testval = CLibrary.INSTANCE.testFunc();\r\n}\r\n```\r\nThe native code of *testFunc* inside of my *functions.c* (declared in functions.h) looks like the following:\r\n```\r\nint testFunc(){\r\n    return 1;\r\n}\r\n```\r\nWhen I call my *testFunc()* within another Java file, my app crashes, because I don&#39;t know how to include the other files with my *make* file to my *functions.c* so JNA can find the methods or my lib can&#39;t be found under the name *finder*.\r\n\r\nIf all of the above code is correct, how do I build my c/c++ library so I can include the headers/source files (.c + .cpp) from the other lib folders and use the lib with JNA?","title":"Bridging from C/C++ to Java in Android App","body":"<p>I want to call functions I implemented in c/c++ within my Java code using JNA.\nPath for my bridge file, which loads the library:</p>\n<pre><code>main/java/com/identifier/projectname/BridgeFile.java\n</code></pre>\n<p>Path for my library I want to call:</p>\n<pre><code>main/libs/lib1/functions.c and main/libs/lib1/functions.h\n</code></pre>\n<p>from my <em>functions.c</em> file I call functions from other libs contained within my <em>libs</em> folder (main/libs/lib2/, main/libs/lib3/). The files are more or less &quot;loose&quot; and I call them within my functions.c.</p>\n<p>I include jna within my build.gradle:</p>\n<pre><code>dependencies {\n   implementation 'net.java.dev.jna:jna:5.12.1'\n}\n</code></pre>\n<p>My Viewer (file where I load the library) looks like the following:</p>\n<pre><code>package com.identifier.projectname;\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Platform;\n\npublic class Viewer extends SimpleViewManager&lt;TextureView&gt; {\n\n    public interface CLibrary extends Library {\n        CLibrary INSTANCE = (CLibrary) Native.loadLibrary(&quot;finder&quot;, CLibrary.class);\n        int testFunc();\n    }\n    // Calling it like this: int testval = CLibrary.INSTANCE.testFunc();\n}\n</code></pre>\n<p>The native code of <em>testFunc</em> inside of my <em>functions.c</em> (declared in functions.h) looks like the following:</p>\n<pre><code>int testFunc(){\n    return 1;\n}\n</code></pre>\n<p>When I call my <em>testFunc()</em> within another Java file, my app crashes, because I don't know how to include the other files with my <em>make</em> file to my <em>functions.c</em> so JNA can find the methods or my lib can't be found under the name <em>finder</em>.</p>\n<p>If all of the above code is correct, how do I build my c/c++ library so I can include the headers/source files (.c + .cpp) from the other lib folders and use the lib with JNA?</p>\n"},{"tags":["java","azure","proxy","amqp","azure-eventhub"],"owner":{"account_id":14128692,"reputation":1,"user_id":10207197,"display_name":"srinidhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673441659,"creation_date":1673441659,"question_id":75083376,"body_markdown":"\r\nI wanted to test my azure eventhub connection while using proxy options\r\nUsing a sample proxy server to test: http://103.199.139.174:80\r\nthis is my code \r\n\r\n```\r\n private static void setupProxy(EventHubClientBuilder eventHubClientBuilder) {\r\n    // replace with right proxy port\r\n    int proxyPort = 80;\r\n    String proxyHost = &quot;{hostname}&quot;;\r\n    Proxy proxyAddress = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyHost, proxyPort));\r\n\r\n    ProxyOptions proxyOptions = new ProxyOptions(ProxyAuthenticationType.NONE, proxy, null, null);\r\n\r\n    eventHubClientBuilder.proxyOptions(proxyOptions);\r\n    eventHubClientBuilder.transportType(AmqpTransportType.AMQP_WEB_SOCKETS);\r\n\r\n    EventHubConsumerClient consumer = eventHubClientBuilder.buildConsumerClient()\r\n    IterableStream&lt;String&gt; partitionIds = consumer.getPartitionIds();\r\n\r\n\r\n```\r\nconnection &#39;MF_64bd1b_1673439799445&#39; not opened within AmqpRetryOptions.tryTimeout(): PT1M, errorContext[NAMESPACE: 103.199.139.174. ERROR CONTEXT: N/A]\r\n\r\ncom.azure.core.amqp.exception.AmqpException: Connection &#39;MF_64bd1b_1673439799445&#39; not opened within AmqpRetryOptions.tryTimeout(): PT1M, errorContext[NAMESPACE: 103.199.139.174. ERROR CONTEXT: N/A]\r\n\r\ncan any one let me know if anything is wrong in the code or the proxy server which i am using?","title":"azure amqp EventHubClientBuilder proxyOptions testing","body":"<p>I wanted to test my azure eventhub connection while using proxy options\nUsing a sample proxy server to test: <a href=\"http://103.199.139.174:80\" rel=\"nofollow noreferrer\">http://103.199.139.174:80</a>\nthis is my code</p>\n<pre><code> private static void setupProxy(EventHubClientBuilder eventHubClientBuilder) {\n    // replace with right proxy port\n    int proxyPort = 80;\n    String proxyHost = &quot;{hostname}&quot;;\n    Proxy proxyAddress = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyHost, proxyPort));\n\n    ProxyOptions proxyOptions = new ProxyOptions(ProxyAuthenticationType.NONE, proxy, null, null);\n\n    eventHubClientBuilder.proxyOptions(proxyOptions);\n    eventHubClientBuilder.transportType(AmqpTransportType.AMQP_WEB_SOCKETS);\n\n    EventHubConsumerClient consumer = eventHubClientBuilder.buildConsumerClient()\n    IterableStream&lt;String&gt; partitionIds = consumer.getPartitionIds();\n\n\n</code></pre>\n<p>connection 'MF_64bd1b_1673439799445' not opened within AmqpRetryOptions.tryTimeout(): PT1M, errorContext[NAMESPACE: 103.199.139.174. ERROR CONTEXT: N/A]</p>\n<p>com.azure.core.amqp.exception.AmqpException: Connection 'MF_64bd1b_1673439799445' not opened within AmqpRetryOptions.tryTimeout(): PT1M, errorContext[NAMESPACE: 103.199.139.174. ERROR CONTEXT: N/A]</p>\n<p>can any one let me know if anything is wrong in the code or the proxy server which i am using?</p>\n"},{"tags":["java","android","kotlin","android-native-library"],"owner":{"account_id":15730571,"reputation":41,"user_id":11351022,"display_name":"Fahad Ammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673441245,"creation_date":1673438153,"question_id":75082656,"body_markdown":"These 2 callback methods\r\n * onPermissionsGranted\r\n * onPermissionsDenied\r\n\r\nAutomatically exeucted in the MainActivity without any permission dialog apperaing or any such of activity.\r\n\r\nThese 2 are executed when the user allows or denies the permission. But in my case when the user comes to the main activity these 2 methods automatically executed. Also providing me the issue showing the permission dialog, to allow the permissions through the settings, however the all permissions are allowed. This type of behaviour is coming in the Android 10.","title":"Easy Permissions Android - onPermissionGranted and Denied executes automaitcally","body":"<p>These 2 callback methods</p>\n<ul>\n<li>onPermissionsGranted</li>\n<li>onPermissionsDenied</li>\n</ul>\n<p>Automatically exeucted in the MainActivity without any permission dialog apperaing or any such of activity.</p>\n<p>These 2 are executed when the user allows or denies the permission. But in my case when the user comes to the main activity these 2 methods automatically executed. Also providing me the issue showing the permission dialog, to allow the permissions through the settings, however the all permissions are allowed. This type of behaviour is coming in the Android 10.</p>\n"},{"tags":["java","httpserver"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673441328,"post_id":75083265,"comment_id":132499012,"body_markdown":"You cannot pass a range. If you don&#39;t specify a port, the operating system will pick one for you. The only way of making sure that a range can be used is to use that workaround.","body":"You cannot pass a range. If you don&#39;t specify a port, the operating system will pick one for you. The only way of making sure that a range can be used is to use that workaround."}],"owner":{"account_id":10676097,"reputation":324,"user_id":7859546,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673441099,"creation_date":1673441099,"question_id":75083265,"body_markdown":"I am trying to create an http server using JDK&#39;s com.sun.net.httpserver. I am able to run the server with certain endpoints successfully. And it return some random ephemeral port ranging from 0 to 65536. \r\n\r\n    HttpServer server = HttpServer.create(new InetSocketAddress(0), 0);\r\n\r\nI was going through the documentation but I couldn&#39;t see a way to specify some range instead of specific port.\r\nIs there any way passing range can be achieved?\r\n\r\nOne hack to the solution is try for all ports in range and see whichever works as specified in the solution - https://stackoverflow.com/questions/2675362/how-to-find-an-available-port","title":"How to specify range of port while creating httpserver?","body":"<p>I am trying to create an http server using JDK's com.sun.net.httpserver. I am able to run the server with certain endpoints successfully. And it return some random ephemeral port ranging from 0 to 65536.</p>\n<pre><code>HttpServer server = HttpServer.create(new InetSocketAddress(0), 0);\n</code></pre>\n<p>I was going through the documentation but I couldn't see a way to specify some range instead of specific port.\nIs there any way passing range can be achieved?</p>\n<p>One hack to the solution is try for all ports in range and see whichever works as specified in the solution - <a href=\"https://stackoverflow.com/questions/2675362/how-to-find-an-available-port\">How to find an available port?</a></p>\n"},{"tags":["java","spring-boot","redis"],"answers":[{"tags":[],"owner":{"account_id":13379193,"reputation":31,"user_id":9655043,"display_name":"thiago-barbosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673441076,"creation_date":1673441076,"answer_id":75083262,"question_id":70358213,"body_markdown":"\r\nMaybe your best approach would be create a new variable composed by the other 2, like this:\r\n\r\n\r\n    private Long classId;\r\n\r\n    private Long studentId;\r\n\r\n    @Id\r\n    private Long id = &quot;$classId:$studentId&quot;;\r\n\r\n    private String studentName;\r\n\r\n    private String studentSurname;\r\n\r\n","title":"Custom Spring RedisHash with multiple IDs for a parametrized key","body":"<p>Maybe your best approach would be create a new variable composed by the other 2, like this:</p>\n<pre><code>private Long classId;\n\nprivate Long studentId;\n\n@Id\nprivate Long id = &quot;$classId:$studentId&quot;;\n\nprivate String studentName;\n\nprivate String studentSurname;\n</code></pre>\n"}],"owner":{"account_id":13370587,"reputation":29,"user_id":10436837,"display_name":"nastech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673441076,"creation_date":1639539798,"question_id":70358213,"body_markdown":"I have some Redis hash keys which are defined as ```Class:&lt;class_id&gt;:Student:&lt;student_id&gt;```. I&#39;m having trouble defining this parametrized RedisHash in Springboot for keys like this. So far I&#39;ve only been defining hashes like these which have no issue.\r\n\r\n```\r\n@RedisHash(value = &quot;Class&quot;)  // It becomes Redis key Class:1\r\npublic class Class implements Serializable {\r\n\r\n    @Id\r\n    private Long classId;\r\n    private String className;\r\n    private String classLeaderName;\r\n\r\n}\r\n```\r\n\r\nFor my required Redis hash, I want to define something like this:\r\n```\r\n@RedisHash(value = &quot;Class:&lt;class_id&gt;:Student:&lt;student_id&gt;&quot;)  // It becomes Redis key Class:1:Student:21\r\npublic class ClassStudent implements Serializable {\r\n\r\n    @Id\r\n    private Long classId;\r\n\r\n    @Id\r\n    private Long studentId;\r\n\r\n    private String studentName;\r\n    private String studentSurname;\r\n\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated.","title":"Custom Spring RedisHash with multiple IDs for a parametrized key","body":"<p>I have some Redis hash keys which are defined as <code>Class:&lt;class_id&gt;:Student:&lt;student_id&gt;</code>. I'm having trouble defining this parametrized RedisHash in Springboot for keys like this. So far I've only been defining hashes like these which have no issue.</p>\n<pre><code>@RedisHash(value = &quot;Class&quot;)  // It becomes Redis key Class:1\npublic class Class implements Serializable {\n\n    @Id\n    private Long classId;\n    private String className;\n    private String classLeaderName;\n\n}\n</code></pre>\n<p>For my required Redis hash, I want to define something like this:</p>\n<pre><code>@RedisHash(value = &quot;Class:&lt;class_id&gt;:Student:&lt;student_id&gt;&quot;)  // It becomes Redis key Class:1:Student:21\npublic class ClassStudent implements Serializable {\n\n    @Id\n    private Long classId;\n\n    @Id\n    private Long studentId;\n\n    private String studentName;\n    private String studentSurname;\n\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":5036272,"reputation":4492,"user_id":4044936,"display_name":"PeterClemmensen"},"score":0,"creation_date":1673440991,"post_id":75083224,"comment_id":132498880,"body_markdown":"Can you post your desired result?","body":"Can you post your desired result?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673441045,"post_id":75083224,"comment_id":132498898,"body_markdown":"What combo box? Why you need the id and which id should be used for the duplicate text values?","body":"What combo box? Why you need the id and which id should be used for the duplicate text values?"}],"answers":[{"tags":[],"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673441060,"creation_date":1673441060,"answer_id":75083255,"question_id":75083224,"body_markdown":"When the value of the id is not important you can use\r\n\r\n    SELECT min(id) as id, description as text FROM engine group by description WHERE description IS NOT NULL\r\n\r\n","title":"Eliminate Duplicate Values with different id but same text","body":"<p>When the value of the id is not important you can use</p>\n<pre><code>SELECT min(id) as id, description as text FROM engine group by description WHERE description IS NOT NULL\n</code></pre>\n"}],"owner":{"account_id":27498678,"reputation":1,"user_id":20982789,"display_name":"BlessPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673441060,"creation_date":1673440877,"question_id":75083224,"body_markdown":"i&#39;m currently working on a software which displays the text values of a table in a combobox.The software have already a logic, which write the SQL commands with help of a MappingRessource.properties. For this you need the id and the text value. The problem is that, there are duplicate text values with different ids. Can someone explain me, how i can get only one of the duplicate values in my combobox?\r\n\r\n[enter image description here](https://i.stack.imgur.com/PLoTF.png)\r\n\r\n\r\n\r\n\r\n```\r\nSELECT DISTINCT id as id, description as text FROM engine WHERE description IS NOT NULL\r\n```\r\n","title":"Eliminate Duplicate Values with different id but same text","body":"<p>i'm currently working on a software which displays the text values of a table in a combobox.The software have already a logic, which write the SQL commands with help of a MappingRessource.properties. For this you need the id and the text value. The problem is that, there are duplicate text values with different ids. Can someone explain me, how i can get only one of the duplicate values in my combobox?</p>\n<p><a href=\"https://i.stack.imgur.com/PLoTF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>SELECT DISTINCT id as id, description as text FROM engine WHERE description IS NOT NULL\n</code></pre>\n"},{"tags":["java","spring-boot","maven","migration"],"answers":[{"tags":[],"owner":{"account_id":2319380,"reputation":79,"user_id":2035599,"accept_rate":8,"display_name":"Student22b"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673440892,"creation_date":1673440892,"answer_id":75083225,"question_id":75071064,"body_markdown":"The issue is that the jasypt-spring-boot-starter 2.1.1 dependency is not compatible with SpringBoot 2.7.7. So the solution was to to update the dependency to 3.0.5\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"SpringBoot migration, failing to configure DataSource","body":"<p>The issue is that the jasypt-spring-boot-starter 2.1.1 dependency is not compatible with SpringBoot 2.7.7. So the solution was to to update the dependency to 3.0.5</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n   &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n   &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2319380,"reputation":79,"user_id":2035599,"accept_rate":8,"display_name":"Student22b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673440892,"creation_date":1673359223,"question_id":75071064,"body_markdown":"I am trying to migrate a SpringBoot app from version 2.1.5.RELEASE to 2.7.7. The project uses Maven and Java 8.\r\n\r\nAfter changes in pom.xml the app won&#39;t start:\r\n```\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n```\r\n\r\nHere is the old pom.xml that is working fine\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;properties&gt;\r\n      &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\r\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;demo.profiles.active&gt;local&lt;/demo.profiles.active&gt;\r\n      &lt;demo.build.skip.frontend&gt;true&lt;/demo.build.skip.frontend&gt;\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n      &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm Z&lt;/maven.build.timestamp.format&gt;\r\n      &lt;commons-lang3.version&gt;3.3.2&lt;/commons-lang3.version&gt;\r\n      &lt;jacoco-maven-plugin.version&gt;0.7.7.201606060606&lt;/jacoco-maven-plugin.version&gt;\r\n      &lt;aws-java-sdk.version&gt;1.12.60&lt;/aws-java-sdk.version&gt;\r\n      &lt;spring-integration-aws.version&gt;2.2.0.RELEASE&lt;/spring-integration-aws.version&gt;\r\n      &lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;\r\n      &lt;geda.core.version&gt;3.1.2&lt;/geda.core.version&gt;\r\n      &lt;springfox-swagger2.version&gt;2.7.0&lt;/springfox-swagger2.version&gt;\r\n      &lt;frontend-maven-plugin.nodeVersion&gt;v6.9.4&lt;/frontend-maven-plugin.nodeVersion&gt;\r\n      &lt;caffeine.version&gt;2.8.1&lt;/caffeine.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n     &lt;dependency&gt;    \r\n       &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\r\n       &lt;artifactId&gt;newrelic-api&lt;/artifactId&gt;\r\n       &lt;version&gt;3.42.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-file&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-aws&lt;/artifactId&gt;\r\n         &lt;version&gt;${spring-integration-aws.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n        &lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-sqs&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.inspire-software.lib.dto.geda&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geda.core&lt;/artifactId&gt;\r\n        &lt;version&gt;${geda.core.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.statemaczze&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-statemaczze-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;    \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;         \r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20170516&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.196&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;    \r\n&lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/conf&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.active}/&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources2&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/conf/${demo.profiles.include1}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.include1}/&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources3&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/conf/${demo.profiles.include2}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.include2}/&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-deploy&lt;/id&gt;\r\n                        &lt;phase&gt;deploy&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;deploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;static/**&lt;/include&gt;\r\n                    &lt;include&gt;db/**&lt;/include&gt;\r\n                    &lt;include&gt;testdata/**&lt;/include&gt;\r\n                    &lt;include&gt;bitsensor.properties&lt;/include&gt;\r\n                    &lt;include&gt;templates/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;conf/*&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;demo.profiles.active&gt;local&lt;/demo.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;conf/local/*&lt;/include&gt;\r\n                            &lt;include&gt;logback-spring.xml&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.3&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm run ng -- build --progress=false&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run prod&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;${frontend-maven-plugin.nodeVersion}&lt;/nodeVersion&gt;\r\n                            &lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHere are only the changes I did in pom.xml\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n...\r\n```\r\nAdded\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; \r\n   &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n   &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nChanged flyway dependency because we are using Mysql 5.6\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n  &lt;version&gt;5.2.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nReplaced Swagger with SpringDoc\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;1.6.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n  &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFrom db.properties file:\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/prod?useSSL=false&amp;serverTimezone=UTC\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.profiles.active=local\r\nspring.config.location=conf/local\r\n```\r\n\r\nFrom the MainClass:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableTransactionManagement\r\n@EnableAuthorizedFeignClients\r\n@EnableEncryptableProperties\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/application.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/poller.properties&quot;})\r\n@EncryptablePropertySource(&quot;classpath:${spring.config.location:conf/local}/db.properties&quot;)\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/s3.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/mail.properties&quot;})\r\n@EncryptablePropertySource({&quot;classpath:${spring.config.location:conf/local}/security.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/afm.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/pdf.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/authy.properties&quot;})\r\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/sqs.properties&quot;})\r\npublic class Application extends SpringBootServletInitializer {\r\n```\r\n\r\nThe app builds without errors and in the target folder the correct properties files are included with the correct data in both: target/conf/ and target/classes/conf/local/.\r\nHowever, when starting the app, I see that neither **local** is set as active profile and from the error I see that neither db url is picked from the property file.\r\n\r\nHere is the output when starting app\r\n```\r\n2023-01-10 14:14:18 [main] INFO  {com.demo.Application.logStarting:55} - Starting Application using Java 1.8.0_275 on MacBook-Pro.local with PID 44230 \r\n2023-01-10 14:14:18 [main] INFO  {com.demo.Application.logStartupProfileInfo:631} - No active profile set, falling back to 1 default profile: &quot;default&quot;  \r\n2023-01-10 14:14:22 [main] INFO  {o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn:132} - Bootstrapping Spring Data JPA repositories in DEFAULT mode.  \r\n2023-01-10 14:14:23 [main] INFO  {o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn:201} - Finished Spring Data repository scanning in 1171 ms. Found 290 JPA repository interfaces.  \r\n2023-01-10 14:14:24 [main] INFO  {o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor.info:292} - No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.  \r\n2023-01-10 14:14:24 [main] INFO  {o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor.info:292} - No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.  \r\n2023-01-10 14:14:24 [main] INFO  {o.s.cloud.context.scope.GenericScope.setSerializationId:283} - BeanFactory id=f01228a5-0c91-3af5-87a8-5de938b7d5f3  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory:50} - Post-processing PropertySource instances  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource cachedrandom [org.springframework.cloud.util.random.CachedRandomPropertySource] to EncryptablePropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource springCloudClientHostInfo [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/sqs.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/authy.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/pdf.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/afm.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/mail.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/s3.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/poller.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/application.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \r\n2023-01-10 14:14:24 [main] INFO  {c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2:31} - Property Filter custom Bean not found with name &#39;encryptablePropertyFilter&#39;. Initializing Default Property Filter  \r\n2023-01-10 14:14:25 [main] INFO  {c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2:31} - Property Resolver custom Bean not found with name &#39;encryptablePropertyResolver&#39;. Initializing Default Property Resolver  \r\n2023-01-10 14:14:25 [main] INFO  {c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2:30} - Property Detector custom Bean not found with name &#39;encryptablePropertyDetector&#39;. Initializing Default Property Detector  \r\n2023-01-10 14:14:25 [main] INFO  {o.s.b.w.e.tomcat.TomcatWebServer.initialize:108} - Tomcat initialized with port(s): 8080 (http)  \r\n2023-01-10 14:14:25 [main] INFO  {o.a.catalina.core.StandardService.log:173} - Starting service [Tomcat]  \r\n2023-01-10 14:14:25 [main] INFO  {o.a.catalina.core.StandardEngine.log:173} - Starting Servlet engine: [Apache Tomcat/9.0.70]  \r\n2023-01-10 14:14:25 [main] INFO  {o.a.c.c.C.[Tomcat].[localhost].[/].log:173} - Initializing Spring embedded WebApplicationContext  \r\n2023-01-10 14:14:25 [main] INFO  {o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext:292} - Root WebApplicationContext: initialization completed in 7169 ms  \r\n2023-01-10 14:14:26 [main] ERROR {o.s.b.w.e.tomcat.TomcatStarter.onStartup:61} - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourcePoolMetadataMeterBinder&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourcePoolMetadataMeterBinder&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class  \r\n2023-01-10 14:14:26 [main] INFO  {o.a.catalina.core.StandardService.log:173} - Stopping service [Tomcat]  \r\n2023-01-10 14:14:26 [main] WARN  {o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh:591} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat  \r\n2023-01-10 14:14:26 [main] INFO  {o.s.b.a.l.ConditionEvaluationReportLoggingListener.logMessage:136} - \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.  \r\n2023-01-10 14:14:26 [main] ERROR {o.s.b.d.LoggingFailureAnalysisReporter.report:40} - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n  \r\nDisconnected from the target VM, address: &#39;127.0.0.1:63663&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nIf active profiles and connection parameters are provided from the command line (-Dspring.profiles.active=local ...) the app creates a DataSource and &quot;local&quot; is set as active profile. \r\nAny help?","title":"SpringBoot migration, failing to configure DataSource","body":"<p>I am trying to migrate a SpringBoot app from version 2.1.5.RELEASE to 2.7.7. The project uses Maven and Java 8.</p>\n<p>After changes in pom.xml the app won't start:</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n</code></pre>\n<p>Here is the old pom.xml that is working fine</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.demo&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n      &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\n      &lt;demo.profiles.active&gt;local&lt;/demo.profiles.active&gt;\n      &lt;demo.build.skip.frontend&gt;true&lt;/demo.build.skip.frontend&gt;\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n      &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm Z&lt;/maven.build.timestamp.format&gt;\n      &lt;commons-lang3.version&gt;3.3.2&lt;/commons-lang3.version&gt;\n      &lt;jacoco-maven-plugin.version&gt;0.7.7.201606060606&lt;/jacoco-maven-plugin.version&gt;\n      &lt;aws-java-sdk.version&gt;1.12.60&lt;/aws-java-sdk.version&gt;\n      &lt;spring-integration-aws.version&gt;2.2.0.RELEASE&lt;/spring-integration-aws.version&gt;\n      &lt;jjwt.version&gt;0.7.0&lt;/jjwt.version&gt;\n      &lt;geda.core.version&gt;3.1.2&lt;/geda.core.version&gt;\n      &lt;springfox-swagger2.version&gt;2.7.0&lt;/springfox-swagger2.version&gt;\n      &lt;frontend-maven-plugin.nodeVersion&gt;v6.9.4&lt;/frontend-maven-plugin.nodeVersion&gt;\n      &lt;caffeine.version&gt;2.8.1&lt;/caffeine.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n     &lt;dependency&gt;    \n       &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n       &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\n       &lt;artifactId&gt;newrelic-api&lt;/artifactId&gt;\n       &lt;version&gt;3.42.0&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-file&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-aws&lt;/artifactId&gt;\n         &lt;version&gt;${spring-integration-aws.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;${jjwt.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n\n     &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-ses&lt;/artifactId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sqs&lt;/artifactId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.inspire-software.lib.dto.geda&lt;/groupId&gt;\n        &lt;artifactId&gt;geda.core&lt;/artifactId&gt;\n        &lt;version&gt;${geda.core.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.16.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.statemaczze&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-statemaczze-core&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;    \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;         \n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20170516&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.196&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;    \n&lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/conf&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.active}/&lt;/directory&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources2&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/conf/${demo.profiles.include1}&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.include1}/&lt;/directory&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources3&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/conf/${demo.profiles.include2}&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources/conf/${demo.profiles.include2}/&lt;/directory&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                                        &lt;include&gt;**/*.xml&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-deploy&lt;/id&gt;\n                        &lt;phase&gt;deploy&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;static/**&lt;/include&gt;\n                    &lt;include&gt;db/**&lt;/include&gt;\n                    &lt;include&gt;testdata/**&lt;/include&gt;\n                    &lt;include&gt;bitsensor.properties&lt;/include&gt;\n                    &lt;include&gt;templates/**&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;conf/*&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;demo.profiles.active&gt;local&lt;/demo.profiles.active&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;conf/local/*&lt;/include&gt;\n                            &lt;include&gt;logback-spring.xml&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.3&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run ng -- build --progress=false&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run prod&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;${frontend-maven-plugin.nodeVersion}&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Here are only the changes I did in pom.xml</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n...\n</code></pre>\n<p>Added</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; \n   &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n   &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Changed flyway dependency because we are using Mysql 5.6</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n  &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Replaced Swagger with SpringDoc</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n  &lt;version&gt;1.6.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n  &lt;version&gt;2.1.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>From db.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/prod?useSSL=false&amp;serverTimezone=UTC\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.username=root\nspring.datasource.password=password\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.profiles.active=local\nspring.config.location=conf/local\n</code></pre>\n<p>From the MainClass:</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement\n@EnableAuthorizedFeignClients\n@EnableEncryptableProperties\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/application.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/poller.properties&quot;})\n@EncryptablePropertySource(&quot;classpath:${spring.config.location:conf/local}/db.properties&quot;)\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/s3.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/mail.properties&quot;})\n@EncryptablePropertySource({&quot;classpath:${spring.config.location:conf/local}/security.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/afm.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/pdf.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/authy.properties&quot;})\n@PropertySource({&quot;classpath:${spring.config.location:conf/local}/sqs.properties&quot;})\npublic class Application extends SpringBootServletInitializer {\n</code></pre>\n<p>The app builds without errors and in the target folder the correct properties files are included with the correct data in both: target/conf/ and target/classes/conf/local/.\nHowever, when starting the app, I see that neither <strong>local</strong> is set as active profile and from the error I see that neither db url is picked from the property file.</p>\n<p>Here is the output when starting app</p>\n<pre><code>2023-01-10 14:14:18 [main] INFO  {com.demo.Application.logStarting:55} - Starting Application using Java 1.8.0_275 on MacBook-Pro.local with PID 44230 \n2023-01-10 14:14:18 [main] INFO  {com.demo.Application.logStartupProfileInfo:631} - No active profile set, falling back to 1 default profile: &quot;default&quot;  \n2023-01-10 14:14:22 [main] INFO  {o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn:132} - Bootstrapping Spring Data JPA repositories in DEFAULT mode.  \n2023-01-10 14:14:23 [main] INFO  {o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn:201} - Finished Spring Data repository scanning in 1171 ms. Found 290 JPA repository interfaces.  \n2023-01-10 14:14:24 [main] INFO  {o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor.info:292} - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.  \n2023-01-10 14:14:24 [main] INFO  {o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor.info:292} - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.  \n2023-01-10 14:14:24 [main] INFO  {o.s.cloud.context.scope.GenericScope.setSerializationId:283} - BeanFactory id=f01228a5-0c91-3af5-87a8-5de938b7d5f3  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.c.EnableEncryptablePropertiesBeanFactoryPostProcessor.postProcessBeanFactory:50} - Post-processing PropertySource instances  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource cachedrandom [org.springframework.cloud.util.random.CachedRandomPropertySource] to EncryptablePropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource springCloudClientHostInfo [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/sqs.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/authy.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/pdf.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/afm.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/mail.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/s3.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/poller.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.EncryptablePropertySourceConverter.makeEncryptable:39} - Converting PropertySource class path resource [conf/local/application.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper  \n2023-01-10 14:14:24 [main] INFO  {c.u.j.f.DefaultLazyPropertyFilter.lambda$null$2:31} - Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter  \n2023-01-10 14:14:25 [main] INFO  {c.u.j.r.DefaultLazyPropertyResolver.lambda$null$2:31} - Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver  \n2023-01-10 14:14:25 [main] INFO  {c.u.j.d.DefaultLazyPropertyDetector.lambda$null$2:30} - Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector  \n2023-01-10 14:14:25 [main] INFO  {o.s.b.w.e.tomcat.TomcatWebServer.initialize:108} - Tomcat initialized with port(s): 8080 (http)  \n2023-01-10 14:14:25 [main] INFO  {o.a.catalina.core.StandardService.log:173} - Starting service [Tomcat]  \n2023-01-10 14:14:25 [main] INFO  {o.a.catalina.core.StandardEngine.log:173} - Starting Servlet engine: [Apache Tomcat/9.0.70]  \n2023-01-10 14:14:25 [main] INFO  {o.a.c.c.C.[Tomcat].[localhost].[/].log:173} - Initializing Spring embedded WebApplicationContext  \n2023-01-10 14:14:25 [main] INFO  {o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext:292} - Root WebApplicationContext: initialization completed in 7169 ms  \n2023-01-10 14:14:26 [main] ERROR {o.s.b.w.e.tomcat.TomcatStarter.onStartup:61} - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class  \n2023-01-10 14:14:26 [main] INFO  {o.a.catalina.core.StandardService.log:173} - Stopping service [Tomcat]  \n2023-01-10 14:14:26 [main] WARN  {o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh:591} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat  \n2023-01-10 14:14:26 [main] INFO  {o.s.b.a.l.ConditionEvaluationReportLoggingListener.logMessage:136} - \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.  \n2023-01-10 14:14:26 [main] ERROR {o.s.b.d.LoggingFailureAnalysisReporter.report:40} - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n  \nDisconnected from the target VM, address: '127.0.0.1:63663', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>If active profiles and connection parameters are provided from the command line (-Dspring.profiles.active=local ...) the app creates a DataSource and &quot;local&quot; is set as active profile.\nAny help?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673438350,"post_id":75082669,"comment_id":132498110,"body_markdown":"That `FROM commission, affaire` is meant to be a cross-join, right? Did you try with `commission JOIN affaire` or something like this? You might also want to provide the Hibernate version you&#39;re using.","body":"That <code>FROM commission, affaire</code> is meant to be a cross-join, right? Did you try with <code>commission JOIN affaire</code> or something like this? You might also want to provide the Hibernate version you&#39;re using."},{"owner":{"account_id":17580471,"reputation":357,"user_id":12754407,"display_name":"Pandorque"},"score":0,"creation_date":1673440950,"post_id":75082669,"comment_id":132498867,"body_markdown":"It is indeed ! But using JOIN still generates an unwanted alias (&quot;FROM commission JOIN a1_0.affaire&quot;). I&#39;ve added the Hibernate version I&#39;m using","body":"It is indeed ! But using JOIN still generates an unwanted alias (&quot;FROM commission JOIN a1_0.affaire&quot;). I&#39;ve added the Hibernate version I&#39;m using"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673441615,"post_id":75082669,"comment_id":132499107,"body_markdown":"Can you maybe provide the complete query or, if it is complex, a [mcve]? Is there any column in the query that is called `affaire` which Hibernate might get confused with?","body":"Can you maybe provide the complete query or, if it is complex, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Is there any column in the query that is called <code>affaire</code> which Hibernate might get confused with?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675263158,"post_id":75082669,"comment_id":132891089,"body_markdown":"I would suggest you to rather use a separate query to fetch this data. Do you really want to execute such an expensive subquery for every apporteur row that you fetch? I don&#39;t think so. In fact, I&#39;m pretty sure that you only have a single place in your code where you actually need this information, so why not write a query for that place and run the query?","body":"I would suggest you to rather use a separate query to fetch this data. Do you really want to execute such an expensive subquery for every apporteur row that you fetch? I don&#39;t think so. In fact, I&#39;m pretty sure that you only have a single place in your code where you actually need this information, so why not write a query for that place and run the query?"}],"owner":{"account_id":17580471,"reputation":357,"user_id":12754407,"display_name":"Pandorque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673440848,"creation_date":1673438220,"question_id":75082669,"body_markdown":"When I give to the @Formula annotation this piece of code :\r\n\r\n    @Formula(&quot;(SELECT SUM(commission.montant) FROM commission, affaire)&quot;)\r\n    private Double totalCommissionsMCourant;\r\n\r\nHibernates executes this SQL request : \r\n\r\n    [...,(SELECT SUM(commission.montant) FROM commission, a1_0.affaire) ...]\r\n\r\nAs you can see, the &quot;FROM commission, affaire&quot; turns into &quot;FROM commission, a1_0.affaire&quot;, which makes the SQL request invalid. \r\n\r\n**Disclaimer :** I know that having this type of calculated field here does not make sense but this is a simplified version of what I&#39;d want to have.\r\n\r\nDo you have any idea on how to prevent this problem from happening ? \r\n\r\nHere is part of the Entity&#39;s code : \r\n\r\n    @Entity(name = &quot;Apporteur&quot;)\r\n    @Table(name = &quot;apporteur&quot;)\r\n    public class ApporteurEntity {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n\r\n      @Formula(&quot;(SELECT SUM(commission.montant) FROM commission, affaire)&quot;)\r\n      private Double totalCommissionsMCourant;\r\n\r\n    }\r\n\r\nHibernate version : 6.0.0","title":"Hibernate generates unwanted aliases when using @Formula annotation","body":"<p>When I give to the @Formula annotation this piece of code :</p>\n<pre><code>@Formula(&quot;(SELECT SUM(commission.montant) FROM commission, affaire)&quot;)\nprivate Double totalCommissionsMCourant;\n</code></pre>\n<p>Hibernates executes this SQL request :</p>\n<pre><code>[...,(SELECT SUM(commission.montant) FROM commission, a1_0.affaire) ...]\n</code></pre>\n<p>As you can see, the &quot;FROM commission, affaire&quot; turns into &quot;FROM commission, a1_0.affaire&quot;, which makes the SQL request invalid.</p>\n<p><strong>Disclaimer :</strong> I know that having this type of calculated field here does not make sense but this is a simplified version of what I'd want to have.</p>\n<p>Do you have any idea on how to prevent this problem from happening ?</p>\n<p>Here is part of the Entity's code :</p>\n<pre><code>@Entity(name = &quot;Apporteur&quot;)\n@Table(name = &quot;apporteur&quot;)\npublic class ApporteurEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Formula(&quot;(SELECT SUM(commission.montant) FROM commission, affaire)&quot;)\n  private Double totalCommissionsMCourant;\n\n}\n</code></pre>\n<p>Hibernate version : 6.0.0</p>\n"},{"tags":["java","function","wrapper"],"comments":[{"owner":{"account_id":19185251,"reputation":1995,"user_id":14016161,"display_name":"Julia"},"score":3,"creation_date":1673437417,"post_id":75082466,"comment_id":132497811,"body_markdown":"Please [edit] your question to provide a [mre] and tell us what you’ve already tried.","body":"Please <a href=\"https://stackoverflow.com/posts/75082466/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and tell us what you’ve already tried."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673438113,"creation_date":1673438113,"answer_id":75082648,"question_id":75082466,"body_markdown":"You can use `Function.compose` to convert the `Integer[]` argument to `int[]`.\r\n\r\n    Function&lt;int[], Boolean&gt; isNotEmpty = arr -&gt; arr.length &gt; 0;\r\n    Function&lt;Integer[], Boolean&gt; other = isNotEmpty.compose(\r\n        arr -&gt; Arrays.stream(arr).mapToInt(i -&gt; i).toArray()\r\n    );","title":"How to convert a Function&lt;int[], Boolean&gt; to Function&lt;Integer[], Boolean&gt;","body":"<p>You can use <code>Function.compose</code> to convert the <code>Integer[]</code> argument to <code>int[]</code>.</p>\n<pre><code>Function&lt;int[], Boolean&gt; isNotEmpty = arr -&gt; arr.length &gt; 0;\nFunction&lt;Integer[], Boolean&gt; other = isNotEmpty.compose(\n    arr -&gt; Arrays.stream(arr).mapToInt(i -&gt; i).toArray()\n);\n</code></pre>\n"}],"owner":{"account_id":27328591,"reputation":11,"user_id":20841130,"display_name":"Lenz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673443979,"answer_count":1,"score":0,"last_activity_date":1673440668,"creation_date":1673437235,"question_id":75082466,"body_markdown":"I have a method `convertFunction` that takes as a parameter a `Function&lt;int[], Boolean&gt;` and I want to return a Function of this type `Function&lt;Integer[], Boolean&gt;`. The logic within the function should be the same.\r\n```\r\npublic static Function&lt;Integer[], Boolean&gt; convertFunction(Function&lt;int[], Boolean&gt; f) {\r\n    // I don&#39;t know what to do here\r\n    return new Function;\r\n}\r\n```\r\nI know you have to use some kind of wrapper class but I don&#39;t know how.","title":"How to convert a Function&lt;int[], Boolean&gt; to Function&lt;Integer[], Boolean&gt;","body":"<p>I have a method <code>convertFunction</code> that takes as a parameter a <code>Function&lt;int[], Boolean&gt;</code> and I want to return a Function of this type <code>Function&lt;Integer[], Boolean&gt;</code>. The logic within the function should be the same.</p>\n<pre><code>public static Function&lt;Integer[], Boolean&gt; convertFunction(Function&lt;int[], Boolean&gt; f) {\n    // I don't know what to do here\n    return new Function;\n}\n</code></pre>\n<p>I know you have to use some kind of wrapper class but I don't know how.</p>\n"},{"tags":["java","spring-boot","apache-kafka","avro","confluent-platform"],"comments":[{"owner":{"account_id":19386913,"reputation":803,"user_id":14176456,"display_name":"Saurabh Nigam"},"score":0,"creation_date":1599057078,"post_id":63569470,"comment_id":112656391,"body_markdown":"Make sure your serializer and deserializer are using same date type object","body":"Make sure your serializer and deserializer are using same date type object"},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1599064757,"post_id":63569470,"comment_id":112660344,"body_markdown":"Yes, same date type object is used for serialization and deserialization.","body":"Yes, same date type object is used for serialization and deserialization."}],"answers":[{"comments":[{"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"score":0,"creation_date":1598548841,"post_id":63611576,"comment_id":112502456,"body_markdown":"Could you please provide your gradle build file? thank you.","body":"Could you please provide your gradle build file? thank you."},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598549031,"post_id":63611576,"comment_id":112502550,"body_markdown":"Thanks for your help. I am using com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0 which supports avro 1.9.0-1.9.2. Now, I have used gradle plugin , avro dependecy to match with confluent kafka avro deserializer 5.4.0. When I do ./gradlew dependencies --configuration compileClasspath. All avro dependencies are now at 1.9.1.  As you said, I have regenerated POJO and now BIRTH_DT column is showing as java.time.LocalDate. After running the error, I am still getting the class cast exception with this new type.","body":"Thanks for your help. I am using com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0 which supports avro 1.9.0-1.9.2. Now, I have used gradle plugin , avro dependecy to match with confluent kafka avro deserializer 5.4.0. When I do ./gradlew dependencies --configuration compileClasspath. All avro dependencies are now at 1.9.1.  As you said, I have regenerated POJO and now BIRTH_DT column is showing as java.time.LocalDate. After running the error, I am still getting the class cast exception with this new type."},{"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"score":0,"creation_date":1598550963,"post_id":63611576,"comment_id":112503470,"body_markdown":"Ok, got it, thank you. Could you please also let me know, how the record got serialized before sending to kafka ? Is it also avro 1.9.0 library used for record serialization ?","body":"Ok, got it, thank you. Could you please also let me know, how the record got serialized before sending to kafka ? Is it also avro 1.9.0 library used for record serialization ?"},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598551355,"post_id":63611576,"comment_id":112503658,"body_markdown":"I have updated question details with the new avro set up as you suggested. Also some output from gradle files are added. I have not investigated on how the records were writtent to kafka, I was thinking it should not matter as we have schemas. But let me check on that.","body":"I have updated question details with the new avro set up as you suggested. Also some output from gradle files are added. I have not investigated on how the records were writtent to kafka, I was thinking it should not matter as we have schemas. But let me check on that."},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598552176,"post_id":63611576,"comment_id":112504005,"body_markdown":"For serialization avro 1.8 is being used.","body":"For serialization avro 1.8 is being used."},{"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"score":0,"creation_date":1598554264,"post_id":63611576,"comment_id":112504866,"body_markdown":"I think, avro 1.8 does not support proper Local Date serialization as it has been added in 1.9.0. Is it possible to upgrade the record producer to avro 1.9?","body":"I think, avro 1.8 does not support proper Local Date serialization as it has been added in 1.9.0. Is it possible to upgrade the record producer to avro 1.9?"},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598555328,"post_id":63611576,"comment_id":112505307,"body_markdown":"Sorry, we can&#39;t upgrade the producer.","body":"Sorry, we can&#39;t upgrade the producer."},{"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"score":0,"creation_date":1598602024,"post_id":63611576,"comment_id":112518015,"body_markdown":"Sorry, could you please clarify then how your kafka consumer gets configured? Does it read schema from schema registry ? If yes, is it possible to check the schema stored in schema registry ? Thank you","body":"Sorry, could you please clarify then how your kafka consumer gets configured? Does it read schema from schema registry ? If yes, is it possible to check the schema stored in schema registry ? Thank you"},{"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"score":0,"creation_date":1598697284,"post_id":63611576,"comment_id":112547147,"body_markdown":"I&#39;ve setup a local consumer/producer and it was able to deserialize LocalDate without the issue. I think, the issue can be with the actual schema taken into account by kafka consumer. So please give a hint of how the kafka consumer gets configured and what it the schema version used ? Could you please provide the source code or it&#39;s not possible ? Thank you.","body":"I&#39;ve setup a local consumer/producer and it was able to deserialize LocalDate without the issue. I think, the issue can be with the actual schema taken into account by kafka consumer. So please give a hint of how the kafka consumer gets configured and what it the schema version used ? Could you please provide the source code or it&#39;s not possible ? Thank you."},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598743092,"post_id":63611576,"comment_id":112559163,"body_markdown":"Thanks Mikalai. Did you take a look at the question link that I have added at the end. What I am seeing is, If a field has logical type and null in it, while generating avro classes  ,avro do not put proper Conversions in the class and then I get ClassCastExceptions for such fields. But when i update such fields schema and removes the null, avro puts proper conversions in the class and everything works fine. For your question, I have checked the schema that is being tagged to the record while i am in debug mode, Schema is same as the one that I have used for avro class generation.","body":"Thanks Mikalai. Did you take a look at the question link that I have added at the end. What I am seeing is, If a field has logical type and null in it, while generating avro classes  ,avro do not put proper Conversions in the class and then I get ClassCastExceptions for such fields. But when i update such fields schema and removes the null, avro puts proper conversions in the class and everything works fine. For your question, I have checked the schema that is being tagged to the record while i am in debug mode, Schema is same as the one that I have used for avro class generation."},{"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"score":0,"creation_date":1598743669,"post_id":63611576,"comment_id":112559235,"body_markdown":"Schema that I am using for avro class generation is downloaded from same Schema registry which i have configured in consumer config. I have used the latest schema version while downloading the schema for avro class generation. I am not able to provide source code due to restrictions. Thanks again.","body":"Schema that I am using for avro class generation is downloaded from same Schema registry which i have configured in consumer config. I have used the latest schema version while downloading the schema for avro class generation. I am not able to provide source code due to restrictions. Thanks again."}],"tags":[],"owner":{"account_id":19237774,"reputation":1563,"user_id":14058374,"display_name":"Mikalai Lushchytski"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598523662,"creation_date":1598515047,"answer_id":63611576,"question_id":63569470,"body_markdown":"Could you please clarify what version of `avro-maven-plugin` are you using to generate the POJO ? As of avro version `1.9.0`, Joda-Time has been deprecated in favor of Java8 JSR310 and Java8 was set as default. See [Apache Avro 1.9.0 release notes][1].\r\n\r\nWhen I generate a POJO from scratch, I get `java.time.LocalDate BIRTH_DT` and not `org.joda.time.LocalDate BIRTH_DT`. \r\n\r\n```java\r\n   @Deprecated public java.time.LocalDate BIRTH_DT;\r\n```\r\n\r\nSo, in your case I think there is most likely an `avro` versions mismatch inside the classpath or a stale pojo. I would recommend verifying the avro version via `mvn dependency:tree -Dincludes=org.apache.avro:avro` call and regenerating POJO.\r\n\r\n\r\n  [1]: https://github.com/apache/avro/releases/tag/release-1.9.0","title":"Kafka Avro Deserializer is not able to deserialize the Kafka message to Specific Avro Record","body":"<p>Could you please clarify what version of <code>avro-maven-plugin</code> are you using to generate the POJO ? As of avro version <code>1.9.0</code>, Joda-Time has been deprecated in favor of Java8 JSR310 and Java8 was set as default. See <a href=\"https://github.com/apache/avro/releases/tag/release-1.9.0\" rel=\"nofollow noreferrer\">Apache Avro 1.9.0 release notes</a>.</p>\n<p>When I generate a POJO from scratch, I get <code>java.time.LocalDate BIRTH_DT</code> and not <code>org.joda.time.LocalDate BIRTH_DT</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Deprecated public java.time.LocalDate BIRTH_DT;\n</code></pre>\n<p>So, in your case I think there is most likely an <code>avro</code> versions mismatch inside the classpath or a stale pojo. I would recommend verifying the avro version via <code>mvn dependency:tree -Dincludes=org.apache.avro:avro</code> call and regenerating POJO.</p>\n"},{"comments":[{"owner":{"account_id":11283698,"reputation":909,"user_id":8275139,"display_name":"Luiscri"},"score":0,"creation_date":1690295827,"post_id":75083127,"comment_id":135331718,"body_markdown":"avro just released it&#39;s `1.11.2` version two weeks ago where that PR was merged. Maybe your issue was solved https://github.com/apache/avro/releases/tag/release-1.11.2","body":"avro just released it&#39;s <code>1.11.2</code> version two weeks ago where that PR was merged. Maybe your issue was solved <a href=\"https://github.com/apache/avro/releases/tag/release-1.11.2\" rel=\"nofollow noreferrer\">github.com/apache/avro/releases/tag/release-1.11.2</a>"}],"tags":[],"owner":{"account_id":1515890,"reputation":604,"user_id":1416903,"display_name":"Hanelore Ianoseck"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673440424,"creation_date":1673440424,"answer_id":75083127,"question_id":63569470,"body_markdown":"In case somebody still encounters this error, there is a problem with the converter for logical types in unions and I didn&#39;t find a working avro version as of this date. It looks like the issue might be fixed by: https://github.com/apache/avro/pull/1721, but a new version still needs to be released.\r\n\r\nI was able to fix my issue for the following field type\r\nby setting the conversion manually\r\n\r\nfield type:\r\n\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                {\r\n                  &quot;type&quot;: &quot;long&quot;,\r\n                  &quot;logicalType&quot;: &quot;timestamp-millis&quot;\r\n                }\r\n\r\nsetting the conversion:\r\n\r\n    ReflectData.get().addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\r\n\r\nand serialization/deserialization using the io.confluent.kafka.streams.serdes.avro.ReflectionAvroSerde\r\n","title":"Kafka Avro Deserializer is not able to deserialize the Kafka message to Specific Avro Record","body":"<p>In case somebody still encounters this error, there is a problem with the converter for logical types in unions and I didn't find a working avro version as of this date. It looks like the issue might be fixed by: <a href=\"https://github.com/apache/avro/pull/1721\" rel=\"nofollow noreferrer\">https://github.com/apache/avro/pull/1721</a>, but a new version still needs to be released.</p>\n<p>I was able to fix my issue for the following field type\nby setting the conversion manually</p>\n<p>field type:</p>\n<pre><code>          &quot;type&quot;: [\n            &quot;null&quot;,\n            {\n              &quot;type&quot;: &quot;long&quot;,\n              &quot;logicalType&quot;: &quot;timestamp-millis&quot;\n            }\n</code></pre>\n<p>setting the conversion:</p>\n<pre><code>ReflectData.get().addLogicalTypeConversion(new TimeConversions.TimestampMillisConversion());\n</code></pre>\n<p>and serialization/deserialization using the io.confluent.kafka.streams.serdes.avro.ReflectionAvroSerde</p>\n"}],"owner":{"account_id":5286197,"reputation":362,"user_id":4220132,"accept_rate":80,"display_name":"abb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8243,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673440424,"creation_date":1598307921,"question_id":63569470,"body_markdown":"I am trying to deserialize Avro messgaes that are in kafka to POJO generated from Avro Schema. I am using KafkaAvroDeserializer for this conversion.  \r\n\r\nI am able to see the `GenericRecord` in the `ConsumerRecord&lt;String, Data&gt;` record returned from kafka. But when I try to assign this record to generated POJO class object, It is failing for `date` type of POJO field with `ClassCastException`. When I checked the avro payload this date field is coming in as `integer`.\r\n\r\nSet up:\r\n**Avro** - 1.9.1\r\n**Confluent** - 5.4\r\n**commercehub gradle plugin** 0.20.0\r\n\r\n\r\nWhile trying to deserialze the Avro message, I am getting the error as -\r\n\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 66\r\n    Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.time.LocalDate\r\n    \tat com.sample.Data.put(Data.java:229) ~[main/:na]\r\n    \tat org.apache.avro.generic.GenericData.setField(GenericData.java:795) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:237) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:170) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:136) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:237) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:170) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:151) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:144) ~[avro-1.9.1.jar:1.9.1]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:287) ~[kafka-avro-serializer-5.4.0.jar:na]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:102) ~[kafka-avro-serializer-5.4.0.jar:na]\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:81) ~[kafka-avro-serializer-5.4.0.jar:na]\r\n    \tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-5.4.0.jar:na]\r\n    \tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1310) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.access$3500(Fetcher.java:128) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1541) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1377) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:677) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:632) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1290) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1248) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1216) ~[kafka-clients-2.5.0.jar:na]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1091) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1047) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:972) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_241]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_241]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_241]\r\n\r\nAvro Schema of the field for which conversion is failing with `ClassCastException`\r\n\r\n    {\r\n        &quot;name&quot;: &quot;BIRTH_DT&quot;,\r\n        &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n                &quot;type&quot;: &quot;int&quot;,\r\n                &quot;logicalType&quot;: &quot;date&quot;\r\n            }\r\n        ],\r\n        &quot;default&quot;: null\r\n    }\r\n\r\n\r\nCode Snippets from Generated POJO \r\n```java\r\n  @Deprecated public java.time.LocalDate BIRTH_DT;\r\n\r\n  // Used by DatumReader.  Applications should not call.\r\n  @SuppressWarnings(value=&quot;unchecked&quot;)\r\n  public void put(int field$, java.lang.Object value$) {\r\n    switch (field$) {\r\n    .\r\n    .\r\n    case 8: BIRTH_DT = (java.time.LocalDate)value$; break;\r\n    default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\r\n    }\r\n  }\r\n\r\n  public java.time.LocalDate getBIRTHDT() {\r\n    return BIRTH_DT;\r\n  }\r\n\r\n  public void setBIRTHDT(java.time.LocalDate value) {\r\n      this.BIRTH_DT = value;\r\n  }\r\n```\r\n\r\nKafka Consumer Method\r\n```java\r\n    @KafkaListener(topics = &quot;${spring.kafka.consumer.properties.topic}&quot;,\r\n                     groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\r\n    // Data is a POJO generated by Avro tools\r\n    public void consume(ConsumerRecord&lt;String, Data&gt; record,\r\n                        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) Integer partition,\r\n                        @Header(KafkaHeaders.OFFSET) Long offset, Acknowledgment ack) throws IOException {\r\n    \r\n        logger.info(String.format(&quot;#### -&gt; Consumed message -&gt; partiion: %s, offset: %s&quot;, partition, offset));\r\n        Data row = record.value();\r\n        ack.acknowledge();\r\n    }\r\n```\r\nbuild.gradle\r\n\r\n    buildscript {\r\n    \trepositories {\r\n    \t\tjcenter {\r\n    \t\t\turl &quot;https://nexus.abc.com:8443/content/repositories/jcenter/&quot;\r\n    \t\t}\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath &quot;com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0&quot;\r\n    \t}\r\n    }\r\n    \r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    \tid &#39;idea&#39;\r\n    \tid &#39;eclipse&#39;\r\n    }\r\n    \r\n    repositories {\r\n    \tmaven { url nexusPublicRepoURL }\r\n    \tmaven { url &quot;https://nexus.abc.com:8443/content/repositories/confluence.io-maven/&quot; }\r\n    \tjcenter()\r\n    \tmaven { url &quot;https://nexus.abc.com:8443/content/repositories/jcenter/&quot; }\r\n    }\r\n    \r\n    group = &#39;com.abc.cscm&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;8&#39;\r\n    targetCompatibility = &#39;8&#39;\r\n    \r\n    ext {\r\n    \tspringCloudVersion = &#39;Hoxton.SR6&#39;\r\n    \tconfluentVersion = &#39;5.4.0&#39;\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n    \r\n    \timplementation &quot;io.confluent:kafka-avro-serializer:${confluentVersion}&quot;\r\n    \r\n    \timplementation &#39;org.apache.avro:avro:1.9.1&#39;\r\n    \r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \ttestImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n    }\r\n    \r\n    springBoot {\r\n    \tbuildInfo()\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n    \r\n    wrapper {\r\n    \tdistributionUrl = &quot;https://nexus.abc.com:8443/service/local/repositories/thirdparty/content/org/gradle/gradle/6.5/gradle-6.5.zip&quot;\r\n    }\r\n    \r\n    apply plugin: &quot;com.commercehub.gradle.plugin.avro&quot;\r\n    apply plugin: &#39;idea&#39;\r\n\r\n./gradlew dependencies --configuration compileClasspath (Output)\r\n\r\n    &gt; Task :dependencies\r\n    \r\n    ------------------------------------------------------------\r\n    Root project\r\n    ------------------------------------------------------------\r\n    \r\n    compileClasspath - Compile classpath for source set &#39;main&#39;.\r\n                            ** omiting spring deps\r\n    +--- io.confluent:kafka-avro-serializer:5.4.0\r\n    |    +--- org.apache.avro:avro:1.9.1\r\n    |    |    +--- com.fasterxml.jackson.core:jackson-core:2.9.9 -&gt; 2.11.0\r\n    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.9.3 -&gt; 2.11.0 (*)\r\n    |    |    +--- org.apache.commons:commons-compress:1.19\r\n    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n    |    +--- io.confluent:kafka-schema-registry-client:5.4.0\r\n    |    |    +--- org.apache.kafka:kafka-clients:5.4.0-ccs -&gt; 2.5.0 (*)\r\n    |    |    +--- io.confluent:common-config:5.4.0\r\n    |    |    |    +--- io.confluent:common-utils:5.4.0\r\n    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.26 -&gt; 1.7.30\r\n    |    |    |    \\--- org.slf4j:slf4j-api:1.7.26 -&gt; 1.7.30\r\n    |    |    +--- org.apache.avro:avro:1.9.1 (*)\r\n    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.10.1 -&gt; 2.11.0 (*)\r\n    |    |    +--- io.swagger:swagger-annotations:1.5.22\r\n    |    |    +--- io.swagger:swagger-core:1.5.3\r\n    |    |    |    +--- org.apache.commons:commons-lang3:3.2.1 -&gt; 3.10\r\n    |    |    |    +--- org.slf4j:slf4j-api:1.6.3 -&gt; 1.7.30\r\n    |    |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.4.5 -&gt; 2.11.0\r\n    |    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.4.5 -&gt; 2.11.0 (*)\r\n    |    |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-joda:2.4.5 -&gt; 2.11.0\r\n    |    |    |    |    +--- com.fasterxml.jackson.core:jackson-core:2.11.0\r\n    |    |    |    |    \\--- joda-time:joda-time:2.9.9\r\n    |    |    |    +--- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.4.5 -&gt; 2.11.0\r\n    |    |    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.11.0 (*)\r\n    |    |    |    |    +--- org.yaml:snakeyaml:1.26\r\n    |    |    |    |    \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\r\n    |    |    |    +--- io.swagger:swagger-models:1.5.3\r\n    |    |    |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.4.5 -&gt; 2.11.0\r\n    |    |    |    |    +--- org.slf4j:slf4j-api:1.6.3 -&gt; 1.7.30\r\n    |    |    |    |    \\--- io.swagger:swagger-annotations:1.5.3 -&gt; 1.5.22\r\n    |    |    |    \\--- com.google.guava:guava:18.0 -&gt; 29.0-android\r\n    |    |    |         +--- com.google.guava:failureaccess:1.0.1\r\n    |    |    |         +--- com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava\r\n    |    |    |         +--- com.google.code.findbugs:jsr305:3.0.2\r\n    |    |    |         +--- org.checkerframework:checker-compat-qual:2.5.5\r\n    |    |    |         +--- com.google.errorprone:error_prone_annotations:2.3.4\r\n    |    |    |         \\--- com.google.j2objc:j2objc-annotations:1.3\r\n    |    |    \\--- io.confluent:common-utils:5.4.0 (*)\r\n    |    +--- io.confluent:common-config:5.4.0 (*)\r\n    |    \\--- io.confluent:common-utils:5.4.0 (*)\r\n    \\--- org.apache.avro:avro:1.9.1 (*)\r\n\r\n\r\n./gradlew buildEnvironment (Output)\r\n\r\n    classpath\r\n    +--- com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0\r\n    |    \\--- org.apache.avro:avro-compiler:1.9.2    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n    |         +--- org.apache.avro:avro:1.9.2\r\n    |         |    +--- com.fasterxml.jackson.core:jackson-core:2.10.2 -&gt; 2.11.0\r\n    |         |    +--- com.fasterxml.jackson.core:jackson-databind:2.10.2 -&gt; 2.11.0\r\n    |         |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.11.0\r\n    |         |    |    \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\r\n    |         |    +--- org.apache.commons:commons-compress:1.19\r\n    |         |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n    |         +--- org.apache.commons:commons-lang3:3.9 -&gt; 3.10\r\n    |         +--- org.apache.velocity:velocity-engine-core:2.2\r\n    |         |    +--- org.apache.commons:commons-lang3:3.9 -&gt; 3.10\r\n    |         |    \\--- org.slf4j:slf4j-api:1.7.30\r\n    |         +--- com.fasterxml.jackson.core:jackson-databind:2.10.2 -&gt; 2.11.0 (*)\r\n    |         +--- joda-time:joda-time:2.10.1\r\n    |         \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n\r\nI am not sure if I should be editing my generated POJO class or I am missing something.\r\n\r\nI was able to convert avro message into POJO by changing the schema as mentioned in below question. But I think it is hacky and problem is not yet solved. \r\n\r\nQuestion - [Avro is not able to deserialize Union with Logical Types in fields][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63642870/avro-is-not-able-to-deserialize-union-with-logical-types-in-fields","title":"Kafka Avro Deserializer is not able to deserialize the Kafka message to Specific Avro Record","body":"<p>I am trying to deserialize Avro messgaes that are in kafka to POJO generated from Avro Schema. I am using KafkaAvroDeserializer for this conversion.</p>\n<p>I am able to see the <code>GenericRecord</code> in the <code>ConsumerRecord&lt;String, Data&gt;</code> record returned from kafka. But when I try to assign this record to generated POJO class object, It is failing for <code>date</code> type of POJO field with <code>ClassCastException</code>. When I checked the avro payload this date field is coming in as <code>integer</code>.</p>\n<p>Set up:\n<strong>Avro</strong> - 1.9.1\n<strong>Confluent</strong> - 5.4\n<strong>commercehub gradle plugin</strong> 0.20.0</p>\n<p>While trying to deserialze the Avro message, I am getting the error as -</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 66\nCaused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.time.LocalDate\n    at com.sample.Data.put(Data.java:229) ~[main/:na]\n    at org.apache.avro.generic.GenericData.setField(GenericData.java:795) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:139) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:237) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:170) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:136) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:237) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:170) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:151) ~[avro-1.9.1.jar:1.9.1]\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:144) ~[avro-1.9.1.jar:1.9.1]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.read(AbstractKafkaAvroDeserializer.java:287) ~[kafka-avro-serializer-5.4.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:102) ~[kafka-avro-serializer-5.4.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:81) ~[kafka-avro-serializer-5.4.0.jar:na]\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-5.4.0.jar:na]\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1310) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3500(Fetcher.java:128) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1541) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1377) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:677) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:632) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1290) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1248) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1216) ~[kafka-clients-2.5.0.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1091) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1047) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:972) [spring-kafka-2.5.2.RELEASE.jar:2.5.2.RELEASE]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_241]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_241]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_241]\n</code></pre>\n<p>Avro Schema of the field for which conversion is failing with <code>ClassCastException</code></p>\n<pre><code>{\n    &quot;name&quot;: &quot;BIRTH_DT&quot;,\n    &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n            &quot;type&quot;: &quot;int&quot;,\n            &quot;logicalType&quot;: &quot;date&quot;\n        }\n    ],\n    &quot;default&quot;: null\n}\n</code></pre>\n<p>Code Snippets from Generated POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Deprecated public java.time.LocalDate BIRTH_DT;\n\n  // Used by DatumReader.  Applications should not call.\n  @SuppressWarnings(value=&quot;unchecked&quot;)\n  public void put(int field$, java.lang.Object value$) {\n    switch (field$) {\n    .\n    .\n    case 8: BIRTH_DT = (java.time.LocalDate)value$; break;\n    default: throw new org.apache.avro.AvroRuntimeException(&quot;Bad index&quot;);\n    }\n  }\n\n  public java.time.LocalDate getBIRTHDT() {\n    return BIRTH_DT;\n  }\n\n  public void setBIRTHDT(java.time.LocalDate value) {\n      this.BIRTH_DT = value;\n  }\n</code></pre>\n<p>Kafka Consumer Method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @KafkaListener(topics = &quot;${spring.kafka.consumer.properties.topic}&quot;,\n                     groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\n    // Data is a POJO generated by Avro tools\n    public void consume(ConsumerRecord&lt;String, Data&gt; record,\n                        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) Integer partition,\n                        @Header(KafkaHeaders.OFFSET) Long offset, Acknowledgment ack) throws IOException {\n    \n        logger.info(String.format(&quot;#### -&gt; Consumed message -&gt; partiion: %s, offset: %s&quot;, partition, offset));\n        Data row = record.value();\n        ack.acknowledge();\n    }\n</code></pre>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter {\n            url &quot;https://nexus.abc.com:8443/content/repositories/jcenter/&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0&quot;\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n    id 'idea'\n    id 'eclipse'\n}\n\nrepositories {\n    maven { url nexusPublicRepoURL }\n    maven { url &quot;https://nexus.abc.com:8443/content/repositories/confluence.io-maven/&quot; }\n    jcenter()\n    maven { url &quot;https://nexus.abc.com:8443/content/repositories/jcenter/&quot; }\n}\n\ngroup = 'com.abc.cscm'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '8'\ntargetCompatibility = '8'\n\next {\n    springCloudVersion = 'Hoxton.SR6'\n    confluentVersion = '5.4.0'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.kafka:spring-kafka'\n\n    implementation &quot;io.confluent:kafka-avro-serializer:${confluentVersion}&quot;\n\n    implementation 'org.apache.avro:avro:1.9.1'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n}\n\nspringBoot {\n    buildInfo()\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nwrapper {\n    distributionUrl = &quot;https://nexus.abc.com:8443/service/local/repositories/thirdparty/content/org/gradle/gradle/6.5/gradle-6.5.zip&quot;\n}\n\napply plugin: &quot;com.commercehub.gradle.plugin.avro&quot;\napply plugin: 'idea'\n</code></pre>\n<p>./gradlew dependencies --configuration compileClasspath (Output)</p>\n<pre><code>&gt; Task :dependencies\n\n------------------------------------------------------------\nRoot project\n------------------------------------------------------------\n\ncompileClasspath - Compile classpath for source set 'main'.\n                        ** omiting spring deps\n+--- io.confluent:kafka-avro-serializer:5.4.0\n|    +--- org.apache.avro:avro:1.9.1\n|    |    +--- com.fasterxml.jackson.core:jackson-core:2.9.9 -&gt; 2.11.0\n|    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.9.3 -&gt; 2.11.0 (*)\n|    |    +--- org.apache.commons:commons-compress:1.19\n|    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n|    +--- io.confluent:kafka-schema-registry-client:5.4.0\n|    |    +--- org.apache.kafka:kafka-clients:5.4.0-ccs -&gt; 2.5.0 (*)\n|    |    +--- io.confluent:common-config:5.4.0\n|    |    |    +--- io.confluent:common-utils:5.4.0\n|    |    |    |    \\--- org.slf4j:slf4j-api:1.7.26 -&gt; 1.7.30\n|    |    |    \\--- org.slf4j:slf4j-api:1.7.26 -&gt; 1.7.30\n|    |    +--- org.apache.avro:avro:1.9.1 (*)\n|    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.10.1 -&gt; 2.11.0 (*)\n|    |    +--- io.swagger:swagger-annotations:1.5.22\n|    |    +--- io.swagger:swagger-core:1.5.3\n|    |    |    +--- org.apache.commons:commons-lang3:3.2.1 -&gt; 3.10\n|    |    |    +--- org.slf4j:slf4j-api:1.6.3 -&gt; 1.7.30\n|    |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.4.5 -&gt; 2.11.0\n|    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.4.5 -&gt; 2.11.0 (*)\n|    |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-joda:2.4.5 -&gt; 2.11.0\n|    |    |    |    +--- com.fasterxml.jackson.core:jackson-core:2.11.0\n|    |    |    |    \\--- joda-time:joda-time:2.9.9\n|    |    |    +--- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.4.5 -&gt; 2.11.0\n|    |    |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.11.0 (*)\n|    |    |    |    +--- org.yaml:snakeyaml:1.26\n|    |    |    |    \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\n|    |    |    +--- io.swagger:swagger-models:1.5.3\n|    |    |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.4.5 -&gt; 2.11.0\n|    |    |    |    +--- org.slf4j:slf4j-api:1.6.3 -&gt; 1.7.30\n|    |    |    |    \\--- io.swagger:swagger-annotations:1.5.3 -&gt; 1.5.22\n|    |    |    \\--- com.google.guava:guava:18.0 -&gt; 29.0-android\n|    |    |         +--- com.google.guava:failureaccess:1.0.1\n|    |    |         +--- com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava\n|    |    |         +--- com.google.code.findbugs:jsr305:3.0.2\n|    |    |         +--- org.checkerframework:checker-compat-qual:2.5.5\n|    |    |         +--- com.google.errorprone:error_prone_annotations:2.3.4\n|    |    |         \\--- com.google.j2objc:j2objc-annotations:1.3\n|    |    \\--- io.confluent:common-utils:5.4.0 (*)\n|    +--- io.confluent:common-config:5.4.0 (*)\n|    \\--- io.confluent:common-utils:5.4.0 (*)\n\\--- org.apache.avro:avro:1.9.1 (*)\n</code></pre>\n<p>./gradlew buildEnvironment (Output)</p>\n<pre><code>classpath\n+--- com.commercehub.gradle.plugin:gradle-avro-plugin:0.20.0\n|    \\--- org.apache.avro:avro-compiler:1.9.2    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n|         +--- org.apache.avro:avro:1.9.2\n|         |    +--- com.fasterxml.jackson.core:jackson-core:2.10.2 -&gt; 2.11.0\n|         |    +--- com.fasterxml.jackson.core:jackson-databind:2.10.2 -&gt; 2.11.0\n|         |    |    +--- com.fasterxml.jackson.core:jackson-annotations:2.11.0\n|         |    |    \\--- com.fasterxml.jackson.core:jackson-core:2.11.0\n|         |    +--- org.apache.commons:commons-compress:1.19\n|         |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n|         +--- org.apache.commons:commons-lang3:3.9 -&gt; 3.10\n|         +--- org.apache.velocity:velocity-engine-core:2.2\n|         |    +--- org.apache.commons:commons-lang3:3.9 -&gt; 3.10\n|         |    \\--- org.slf4j:slf4j-api:1.7.30\n|         +--- com.fasterxml.jackson.core:jackson-databind:2.10.2 -&gt; 2.11.0 (*)\n|         +--- joda-time:joda-time:2.10.1\n|         \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n</code></pre>\n<p>I am not sure if I should be editing my generated POJO class or I am missing something.</p>\n<p>I was able to convert avro message into POJO by changing the schema as mentioned in below question. But I think it is hacky and problem is not yet solved.</p>\n<p>Question - <a href=\"https://stackoverflow.com/questions/63642870/avro-is-not-able-to-deserialize-union-with-logical-types-in-fields\">Avro is not able to deserialize Union with Logical Types in fields</a></p>\n"},{"tags":["java","spring","reactor-kafka"],"answers":[{"comments":[{"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":1,"creation_date":1673440216,"post_id":75083063,"comment_id":132498634,"body_markdown":"Yes, its true. `Map&lt;String, Object&gt; kafkaProperties` contains all classes :D thanks","body":"Yes, its true. <code>Map&lt;String, Object&gt; kafkaProperties</code> contains all classes :D thanks"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673440339,"creation_date":1673440128,"answer_id":75083063,"question_id":75082926,"body_markdown":"I&#39;m 99% sure that `Map&lt;String, Object&gt; kafkaProperties` is completely different from what you&#39;re expecting. It&#39;s not your `kafkaProperties` bean, but a map of *all* bean-names to their instances.\r\n\r\nChange it to `@Qualifier(&quot;kafkaProperties&quot;) Map&lt;String, Object&gt; kafkaProperties`.\r\n\r\nSpring lets you autowire collections. You can depend upon `List&lt;Foo&gt;`, and Spring will construct a List containing all beans extending/implementing `Foo`. That doesn&#39;t mean that an actual bean exists of type `List&lt;Foo&gt;`.\r\n\r\nYou&#39;re being stung by this feature in way that&#39;s contrary to what you&#39;re trying to express. \r\n\r\nFor this reason, I personally avoid registering any type of collection as a bean. It can sometimes be too ambiguous. I&#39;d create something like a `KafkaProperties` class, and register that as a bean instead of the Map.","title":"Spring circular dependency,","body":"<p>I'm 99% sure that <code>Map&lt;String, Object&gt; kafkaProperties</code> is completely different from what you're expecting. It's not your <code>kafkaProperties</code> bean, but a map of <em>all</em> bean-names to their instances.</p>\n<p>Change it to <code>@Qualifier(&quot;kafkaProperties&quot;) Map&lt;String, Object&gt; kafkaProperties</code>.</p>\n<p>Spring lets you autowire collections. You can depend upon <code>List&lt;Foo&gt;</code>, and Spring will construct a List containing all beans extending/implementing <code>Foo</code>. That doesn't mean that an actual bean exists of type <code>List&lt;Foo&gt;</code>.</p>\n<p>You're being stung by this feature in way that's contrary to what you're trying to express.</p>\n<p>For this reason, I personally avoid registering any type of collection as a bean. It can sometimes be too ambiguous. I'd create something like a <code>KafkaProperties</code> class, and register that as a bean instead of the Map.</p>\n"}],"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75083063,"answer_count":1,"score":2,"last_activity_date":1673440339,"creation_date":1673439441,"question_id":75082926,"body_markdown":"I have two beans:\r\n\r\n    @Configuration\r\n    public class KafkaConfiguration {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;spring.kafka.consumer&quot;)\r\n        public Map&lt;String, Object&gt; kafkaProperties() {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        @Bean\r\n        public ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions(Map&lt;String, Object&gt; kafkaProperties) {\r\n            return ReceiverOptions.create(kafkaProperties);\r\n        }\r\n    \r\n    }\r\n\r\nand second:\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class SpringReactorKafkaConsumer {\r\n    \r\n        private final ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions;\r\n    \r\n        public SpringReactorKafkaConsumer(ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions) {\r\n            this.kafkaReceiverOptions = kafkaReceiverOptions;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void consume() {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nAfter starting my program I have a log:\r\n\r\n    ┌─────┐\r\n        |  springReactorKafkaConsumer defined in file [...adapter/kafka/consumer/SpringReactorKafkaConsumer.class]\r\n    ↑     ↓\r\n    |  kafkaReceiverOptions defined in class path resource [...configuration/KafkaConfiguration.class]\r\n    └─────┘\r\n\r\nBut I don&#39;t really see why? KafkaReceiverOptions does not depend on SpringReactorKafkaConsumer","title":"Spring circular dependency,","body":"<p>I have two beans:</p>\n<pre><code>@Configuration\npublic class KafkaConfiguration {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.kafka.consumer&quot;)\n    public Map&lt;String, Object&gt; kafkaProperties() {\n        return new HashMap&lt;&gt;();\n    }\n\n    @Bean\n    public ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions(Map&lt;String, Object&gt; kafkaProperties) {\n        return ReceiverOptions.create(kafkaProperties);\n    }\n\n}\n</code></pre>\n<p>and second:</p>\n<pre><code>@Slf4j\n@Component\npublic class SpringReactorKafkaConsumer {\n\n    private final ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions;\n\n    public SpringReactorKafkaConsumer(ReceiverOptions&lt;String, Object&gt; kafkaReceiverOptions) {\n        this.kafkaReceiverOptions = kafkaReceiverOptions;\n    }\n\n    @PostConstruct\n    public void consume() {\n\n    }\n\n}\n</code></pre>\n<p>After starting my program I have a log:</p>\n<pre><code>┌─────┐\n    |  springReactorKafkaConsumer defined in file [...adapter/kafka/consumer/SpringReactorKafkaConsumer.class]\n↑     ↓\n|  kafkaReceiverOptions defined in class path resource [...configuration/KafkaConfiguration.class]\n└─────┘\n</code></pre>\n<p>But I don't really see why? KafkaReceiverOptions does not depend on SpringReactorKafkaConsumer</p>\n"},{"tags":["java","readwritelock","reentrantreadwritelock"],"owner":{"account_id":3883051,"reputation":398,"user_id":3215111,"display_name":"arunK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673439875,"creation_date":1673439875,"question_id":75083007,"body_markdown":"We are using stripe lock for one of our implementation. We take readlock on some final constant and a writelock on key. We noticed that we ran into a deadlock because hash code of two different keys turned out to be same. And hence it is like upgrading a read lock to write lock and we ran into deadlock. Below is the code used by Stripe library to generate a hashcode. What is the best way to handle this deadlock?\r\n\r\nStripe code:\r\n\r\n\tstatic int smear(int hashCode) \r\n\t{\r\n\t\thashCode ^= hashCode &gt;&gt;&gt; 20 ^ hashCode &gt;&gt;&gt; 12;\r\n\t\treturn hashCode ^ hashCode &gt;&gt;&gt; 7 ^ hashCode &gt;&gt;&gt; 4;\r\n\t}\r\n\t\r\n\tstatic final int indexFor(Object key) \r\n\t{\r\n\t\tint hash = smear(key.hashCode());\r\n\t\tint mask = ceilToPowerOfTwo(2003) -1;\r\n\t\treturn hash &amp; mask;\r\n\t}\r\n\t\r\n\tstatic int ceilToPowerOfTwo(int x) \r\n\t{\r\n\t\treturn 1 &lt;&lt; IntMath.log2(x, RoundingMode.CEILING);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString publicKey = &quot;$public&quot;;\r\n\t\tint hash = indexFor(publicKey );\r\n\t\t\r\n\t\tfor(int i=0;i&lt;1000;i++) {\r\n\t\t\tString key = &quot;key&quot;+i;\r\n\t\t\tif(indexFor(key) == hash) {\r\n\t\t\t\tSystem.out.println(&quot;Hash of &quot;+key + &quot; is same as hash of public&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t} \r\n\r\nOur Logic:\r\n\r\n    Take readLock on publicKey \r\n    Take writeLock on key\r\n    release the write lock\r\n    release the read lock\r\n\r\n","title":"Handle Hash Collison in Stripe Read Write lock","body":"<p>We are using stripe lock for one of our implementation. We take readlock on some final constant and a writelock on key. We noticed that we ran into a deadlock because hash code of two different keys turned out to be same. And hence it is like upgrading a read lock to write lock and we ran into deadlock. Below is the code used by Stripe library to generate a hashcode. What is the best way to handle this deadlock?</p>\n<p>Stripe code:</p>\n<pre><code>static int smear(int hashCode) \n{\n    hashCode ^= hashCode &gt;&gt;&gt; 20 ^ hashCode &gt;&gt;&gt; 12;\n    return hashCode ^ hashCode &gt;&gt;&gt; 7 ^ hashCode &gt;&gt;&gt; 4;\n}\n\nstatic final int indexFor(Object key) \n{\n    int hash = smear(key.hashCode());\n    int mask = ceilToPowerOfTwo(2003) -1;\n    return hash &amp; mask;\n}\n\nstatic int ceilToPowerOfTwo(int x) \n{\n    return 1 &lt;&lt; IntMath.log2(x, RoundingMode.CEILING);\n}\n\npublic static void main(String[] args) {\n    String publicKey = &quot;$public&quot;;\n    int hash = indexFor(publicKey );\n    \n    for(int i=0;i&lt;1000;i++) {\n        String key = &quot;key&quot;+i;\n        if(indexFor(key) == hash) {\n            System.out.println(&quot;Hash of &quot;+key + &quot; is same as hash of public&quot;);\n        }\n    }\n} \n</code></pre>\n<p>Our Logic:</p>\n<pre><code>Take readLock on publicKey \nTake writeLock on key\nrelease the write lock\nrelease the read lock\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","jpa"],"answers":[{"comments":[{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1673438926,"post_id":75082786,"comment_id":132498276,"body_markdown":"I do have that annotation .","body":"I do have that annotation ."},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":0,"creation_date":1673439215,"post_id":75082786,"comment_id":132498359,"body_markdown":"Are the Controller and the Repository in the scan path? I would also suggest to reload the project and mvn clean install...","body":"Are the Controller and the Repository in the scan path? I would also suggest to reload the project and mvn clean install..."},{"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"score":0,"creation_date":1673439519,"post_id":75082786,"comment_id":132498452,"body_markdown":"Glad to help :) Maybe you should make another post with the new issue","body":"Glad to help :) Maybe you should make another post with the new issue"}],"tags":[],"owner":{"account_id":24083109,"reputation":194,"user_id":18057525,"display_name":"Octavia"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673438783,"creation_date":1673438783,"answer_id":75082786,"question_id":75082629,"body_markdown":"Your error says &#180;&#180;No qualifying bean of type &#39;com.proj.my.repository.CloudProductRepository&#39; available&#180;&#180;. You should have your repository annotated with &#180;&#180;@Repository`` or extending a JpaRepository or so.","title":"Failed to load ApplicationContext for [WebMergedContextConfiguration@7f5614f9 testClass = com.proj.my.controller.OrderControllerTest,","body":"<p>Your error says ´´No qualifying bean of type 'com.proj.my.repository.CloudProductRepository' available´´. You should have your repository annotated with ´´@Repository`` or extending a JpaRepository or so.</p>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75082786,"answer_count":1,"score":0,"last_activity_date":1673439748,"creation_date":1673438036,"question_id":75082629,"body_markdown":"I had my first test working some days ago, and today I went to verify and complete them, and now it simply gives me this error.\r\nMy OrderControllerTest.java\r\n```\r\npackage com.proj.my.controller;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.mockito.Mockito.when;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ObjectWriter;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n\r\n@WebMvcTest(OrderController.class)\r\npublic class OrderControllerTest {\r\n\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private OrderService orderService;\r\n    @MockBean\r\n    private CloudProductService cloudProductService;\r\n    @MockBean\r\n    private UserService userService;\r\n    CloudProduct cloudProductOne;\r\n    ShoppingCart shoppingCartOne;\r\n    Order orderOne;\r\n    User user;\r\n    List&lt;ShoppingCart&gt; shoppingCartList= new ArrayList&lt;&gt;();\r\n    List&lt;Order&gt; orderList= new ArrayList&lt;&gt;();\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        cloudProductOne = new CloudProduct(1, &quot;Amazon&quot;,\r\n                (float) 232);\r\n        shoppingCartOne = new ShoppingCart(1, 2);\r\n        shoppingCartList.add(shoppingCartOne);\r\n        user = new User(&quot;Mariaaaa&quot;);\r\n        orderOne = new Order(user, LocalDate.now(), shoppingCartList);\r\n        orderList.add(orderOne);\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n    }\r\n\r\n\r\n    @Test\r\n    void testGetAllOrderDetails() throws Exception {\r\n        LocalDate today = LocalDate.now();\r\n        LocalDate yesterday = today.minusDays(1);\r\n        when(orderService.getAllOrderDetail(today)).thenReturn(orderList);\r\n        this.mockMvc.perform(get(&quot;/api/getOrder&quot;))\r\n                .andDo(print()).andExpect(status().isOk());\r\n    }   \r\n\r\n\r\n    @Test\r\n    void testPlaceOrder() throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\r\n        ObjectWriter ow = objectMapper.writer().withDefaultPrettyPrinter();\r\n        String requestJson=ow.writeValueAsString(orderOne);\r\n\r\n        when(orderService.saveOrder(orderOne)).thenReturn(orderOne);\r\n        this.mockMvc.perform(post(&quot;/api/placeOrder&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(requestJson))\r\n                .andDo(print()).andExpect(status().isOk());\r\n    } \r\n    \r\n}\r\n    \r\n```\r\nMy OrderController.java\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\r\n        ShoppingCart shoppingCart;\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()){\r\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n                if(amount &gt; 0){\r\n\r\n                    User user = new User(orderDTO.getuserEmail());\r\n                    \r\n                    Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                    if (userIdFromDb != null) {\r\n                        user.setUserId(userIdFromDb);\r\n                    }else{\r\n                        user = userService.createUser(user);\r\n                    }\r\n\r\n                    LocalDate createdAt = LocalDate.now(); \r\n\r\n                    Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                    order = orderService.saveOrder(order);\r\n\r\n                    responseOrderDTO.setAmount(amount);\r\n\r\n                    responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                    \r\n                    responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                    return ResponseEntity.ok(responseOrderDTO);\r\n                }\r\n                else{\r\n                    return new ResponseEntity&lt;&gt;(&quot;Can&#39;t create an order without products.&quot;, HttpStatus.OK);\r\n                }\r\n            }\r\n            else{\r\n                return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\r\n            }\r\n        }\r\n        return null;\r\n    }}\r\n```\r\nand my error \r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7f5614f9 testClass = com.proj.my.controller.OrderControllerTest, locations = [], classes = [com.proj.my.MyApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@480cbe2e key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6f44a157, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@17d88132, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@a564f78a, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@172b013, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@74bba8e8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@476a54ad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f5991f6, org.springframework.boot.test.context.SpringBootTestAnnotation@a378d012], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:249)\r\n at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n at java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\r\n at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\r\n at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\r\n at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(Unknown Source)\r\n at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Unknown Source)\r\n at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Unknown Source)\r\n at java.base/java.util.stream.ReferencePipeline$Head.forEach(Unknown Source)\r\n at java.base/java.util.Optional.orElseGet(Unknown Source)\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderController&#39;: Unsatisfied dependency expressed through field &#39;cloudProductRepository&#39;: No qualifying bean of type &#39;com.proj.my.repository.CloudProductRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)\r\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\r\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n ... 73 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.proj.my.repository.CloudProductRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\r\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\r\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n ... 98 more\r\n```\r\n\r\nBesides that, when everything about this error was okay, I was unable to test the second function there, because &quot;the order was null&quot;, and I don&#39;t get why !!\r\nSo, how can I solve this error ?\r\n\r\n","title":"Failed to load ApplicationContext for [WebMergedContextConfiguration@7f5614f9 testClass = com.proj.my.controller.OrderControllerTest,","body":"<p>I had my first test working some days ago, and today I went to verify and complete them, and now it simply gives me this error.\nMy OrderControllerTest.java</p>\n<pre><code>package com.proj.my.controller;\nimport org.junit.jupiter.api.Test;\n\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.model.User;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n\n@WebMvcTest(OrderController.class)\npublic class OrderControllerTest {\n\n\n    @Autowired\n    private MockMvc mockMvc;\n    @MockBean\n    private OrderService orderService;\n    @MockBean\n    private CloudProductService cloudProductService;\n    @MockBean\n    private UserService userService;\n    CloudProduct cloudProductOne;\n    ShoppingCart shoppingCartOne;\n    Order orderOne;\n    User user;\n    List&lt;ShoppingCart&gt; shoppingCartList= new ArrayList&lt;&gt;();\n    List&lt;Order&gt; orderList= new ArrayList&lt;&gt;();\n\n    @BeforeEach\n    void setUp() {\n        cloudProductOne = new CloudProduct(1, &quot;Amazon&quot;,\n                (float) 232);\n        shoppingCartOne = new ShoppingCart(1, 2);\n        shoppingCartList.add(shoppingCartOne);\n        user = new User(&quot;Mariaaaa&quot;);\n        orderOne = new Order(user, LocalDate.now(), shoppingCartList);\n        orderList.add(orderOne);\n    }\n\n    @AfterEach\n    void tearDown() {\n    }\n\n\n    @Test\n    void testGetAllOrderDetails() throws Exception {\n        LocalDate today = LocalDate.now();\n        LocalDate yesterday = today.minusDays(1);\n        when(orderService.getAllOrderDetail(today)).thenReturn(orderList);\n        this.mockMvc.perform(get(&quot;/api/getOrder&quot;))\n                .andDo(print()).andExpect(status().isOk());\n    }   \n\n\n    @Test\n    void testPlaceOrder() throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);\n        ObjectWriter ow = objectMapper.writer().withDefaultPrettyPrinter();\n        String requestJson=ow.writeValueAsString(orderOne);\n\n        when(orderService.saveOrder(orderOne)).thenReturn(orderOne);\n        this.mockMvc.perform(post(&quot;/api/placeOrder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(requestJson))\n                .andDo(print()).andExpect(status().isOk());\n    } \n    \n}\n    \n</code></pre>\n<p>My OrderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\n        ShoppingCart shoppingCart;\n        for (ShoppingCart cart : shoppingCartList) {\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()){\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\n                if(amount &gt; 0){\n\n                    User user = new User(orderDTO.getuserEmail());\n                    \n                    Integer userIdFromDb = userService.isUserPresent(user);\n\n                    if (userIdFromDb != null) {\n                        user.setUserId(userIdFromDb);\n                    }else{\n                        user = userService.createUser(user);\n                    }\n\n                    LocalDate createdAt = LocalDate.now(); \n\n                    Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                    order = orderService.saveOrder(order);\n\n                    responseOrderDTO.setAmount(amount);\n\n                    responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                    \n                    responseOrderDTO.setOrderId(order.getId());\n\n\n                    return ResponseEntity.ok(responseOrderDTO);\n                }\n                else{\n                    return new ResponseEntity&lt;&gt;(&quot;Can't create an order without products.&quot;, HttpStatus.OK);\n                }\n            }\n            else{\n                return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\n            }\n        }\n        return null;\n    }}\n</code></pre>\n<p>and my error</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7f5614f9 testClass = com.proj.my.controller.OrderControllerTest, locations = [], classes = [com.proj.my.MyApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@480cbe2e key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6f44a157, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@17d88132, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@a564f78a, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@172b013, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@74bba8e8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@476a54ad, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f5991f6, org.springframework.boot.test.context.SpringBootTestAnnotation@a378d012], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:141)\n at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:249)\n at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n at java.base/java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\n at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)\n at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(Unknown Source)\n at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Unknown Source)\n at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Unknown Source)\n at java.base/java.util.stream.ReferencePipeline$Head.forEach(Unknown Source)\n at java.base/java.util.Optional.orElseGet(Unknown Source)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\n\n at java.base/java.util.ArrayList.forEach(Unknown Source)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController': Unsatisfied dependency expressed through field 'cloudProductRepository': No qualifying bean of type 'com.proj.my.repository.CloudProductRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\n at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n ... 73 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.proj.my.repository.CloudProductRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n ... 98 more\n</code></pre>\n<p>Besides that, when everything about this error was okay, I was unable to test the second function there, because &quot;the order was null&quot;, and I don't get why !!\nSo, how can I solve this error ?</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673427402,"post_id":75080331,"comment_id":132494214,"body_markdown":"https://stackoverflow.com/questions/62208249/logback-spring-xml-creating-multiple-log-files-when-configured-with-springprofil\nYou can use this as a reference to get your solutions","body":"<a href=\"https://stackoverflow.com/questions/62208249/logback-spring-xml-creating-multiple-log-files-when-configured-with-springprofil\" title=\"logback spring xml creating multiple log files when configured with springprofil\">stackoverflow.com/questions/62208249/&hellip;</a> You can use this as a reference to get your solutions"}],"answers":[{"comments":[{"owner":{"display_name":"user20937564"},"score":0,"creation_date":1673428671,"post_id":75080663,"comment_id":132494629,"body_markdown":"yes, you can have more than one file appenders in your config.","body":"yes, you can have more than one file appenders in your config."},{"owner":{"account_id":19661739,"reputation":89,"user_id":14393024,"display_name":"nee nee"},"score":0,"creation_date":1673431528,"post_id":75080663,"comment_id":132495643,"body_markdown":"@Tomar thanks for the reply . But here also I am getting the error as :```Collisions detected with FileAppender/RollingAppender instances defined earlier. Aborting ```","body":"@Tomar thanks for the reply . But here also I am getting the error as :<code>Collisions detected with FileAppender&#47;RollingAppender instances defined earlier. Aborting </code>"},{"owner":{"display_name":"user19443549"},"score":0,"creation_date":1673438985,"post_id":75080663,"comment_id":132498293,"body_markdown":"Looks like you havent configured both appenders properly, specialy file and fileNamePattern must be different in both, I have updated my post with working blocks for your understanding.","body":"Looks like you havent configured both appenders properly, specialy file and fileNamePattern must be different in both, I have updated my post with working blocks for your understanding."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673439561,"creation_date":1673428571,"answer_id":75080663,"question_id":75080331,"body_markdown":"Its not possible to provide multiple file paths in same appender block but You can do that by adding multiple appender blocks in your config file like -\r\n\r\n    &lt;appender name=&quot;fileAppender&quot; ............&gt;\r\n    &lt;appender name=&quot;fileAppender1&quot; ............&gt;\r\n    .\r\n    .\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;fileAppender1&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\nyou can provide different file path in different appender blocks. While doing se make sure there is no collision in file. log file name and rolling file name must be different in both.\r\n\r\n\r\n    &lt;appender name=&quot;fileAppender&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;./application.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;application_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;1&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\r\n                %logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;fileAppender1&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;./application1.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;application1_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;1&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\r\n                %logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;","title":"How to write logs at multiple location in logback-spring.xml","body":"<p>Its not possible to provide multiple file paths in same appender block but You can do that by adding multiple appender blocks in your config file like -</p>\n<pre><code>&lt;appender name=&quot;fileAppender&quot; ............&gt;\n&lt;appender name=&quot;fileAppender1&quot; ............&gt;\n.\n.\n&lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;fileAppender1&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>you can provide different file path in different appender blocks. While doing se make sure there is no collision in file. log file name and rolling file name must be different in both.</p>\n<pre><code>&lt;appender name=&quot;fileAppender&quot;\n          class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;./application.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;application_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;maxHistory&gt;1&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\n            %logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;appender name=&quot;fileAppender1&quot;\n          class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;./application1.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;application1_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;maxHistory&gt;1&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\n            %logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":19661739,"reputation":89,"user_id":14393024,"display_name":"nee nee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673439561,"creation_date":1673426762,"question_id":75080331,"body_markdown":"Is is possible to create logs at multiple locations using logback-spring.xml ?\r\nI tried doing that but as soon as I give two locations it creates logs at default location .\r\nBelow is the mentioned logback-spring.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n\r\n\t&lt;property name=&quot;springAppName&quot; value=&quot;app-name&quot;/&gt;\r\n\t&lt;springProperty name=&quot;maxLogHistoryInDays&quot; source=&quot;log.maxLogHistoryInDays&quot;/&gt;\r\n \t&lt;springProperty name=&quot;logPath&quot; source=&quot;log.path&quot;/&gt;\r\n\t&lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;charset&gt;UTF-8&lt;/charset&gt;\r\n\t\t\t&lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %highlight(%level) [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}] \r\n\t\t\t\t%logger{0}.%M\\(%line\\) - %msg%n\r\n\t\t\t&lt;/pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;appender name=&quot;fileAppender&quot;\r\n\t\tclass=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${logPath}/${springAppName}/application.log&lt;/file&gt;\r\n\t\t&lt;file&gt;application.log&lt;/file&gt;\r\n\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;fileNamePattern&gt;application_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\r\n\t\t\t&lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n\t\t\t&lt;maxHistory&gt;${maxLogHistoryInDays}&lt;/maxHistory&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\r\n\t\t\t\t%logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t\r\n\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\nHere the logs are getting created at default location when two paths are given . And when only path is mentioned i.e., the first one it is working fine , logs are getting created at custom location.","title":"How to write logs at multiple location in logback-spring.xml","body":"<p>Is is possible to create logs at multiple locations using logback-spring.xml ?\nI tried doing that but as soon as I give two locations it creates logs at default location .\nBelow is the mentioned logback-spring.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\n\n    &lt;property name=&quot;springAppName&quot; value=&quot;app-name&quot;/&gt;\n    &lt;springProperty name=&quot;maxLogHistoryInDays&quot; source=&quot;log.maxLogHistoryInDays&quot;/&gt;\n    &lt;springProperty name=&quot;logPath&quot; source=&quot;log.path&quot;/&gt;\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %highlight(%level) [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}] \n                %logger{0}.%M\\(%line\\) - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;fileAppender&quot;\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${logPath}/${springAppName}/application.log&lt;/file&gt;\n        &lt;file&gt;application.log&lt;/file&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;application_%d{yyyy-MM-dd}_%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${maxLogHistoryInDays}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{dd MMM yyyy ;HH:mm:ss.SSS} %level [%thread] %property{HOSTNAME} ${springAppName:-} [%X{X-B3-TraceId}]\n                %logger{0}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    \n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Here the logs are getting created at default location when two paths are given . And when only path is mentioned i.e., the first one it is working fine , logs are getting created at custom location.</p>\n"},{"tags":["java","spring","mongodb","spring-data"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1672601804,"post_id":74976165,"comment_id":132311873,"body_markdown":"Not in a simple self actuating way, what you&#39;d have to do is create your own factory for repositories and then initialize them yourself.","body":"Not in a simple self actuating way, what you&#39;d have to do is create your own factory for repositories and then initialize them yourself."}],"answers":[{"tags":[],"owner":{"account_id":1410136,"reputation":223,"user_id":1336916,"accept_rate":38,"display_name":"Kirill Kazoolin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673439309,"creation_date":1673439309,"answer_id":75082905,"question_id":74976165,"body_markdown":"Spring Data definitely can be used without Springboot.\r\nYou need to define Configurations and Components Scan annotations for your project in order to tell Spring how to create the components.\r\n@SpringBootApplication annotation includes all these annotation, that is why it finds all the components.\r\n\r\n","title":"Is it possible to use MongoRepository without using Spring Boot? Just plain Java + MongoDB CRUD program","body":"<p>Spring Data definitely can be used without Springboot.\nYou need to define Configurations and Components Scan annotations for your project in order to tell Spring how to create the components.\n@SpringBootApplication annotation includes all these annotation, that is why it finds all the components.</p>\n"}],"owner":{"account_id":7031744,"reputation":143,"user_id":5387163,"display_name":"Joona Ritva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673439309,"creation_date":1672593784,"question_id":74976165,"body_markdown":"I get this error:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.mongodb.quickstart.ConnectToMongoDB.findByUserId(ConnectToMongoDB.java:49)\r\n    \tat com.mongodb.quickstart.ConnectToMongoDB.main(ConnectToMongoDB.java:41)\r\n\r\nEmployeeRepository.java\r\n\r\n    public interface EmployeeRepository extends MongoRepository&lt;Employee,String&gt;{\r\n    \r\n    \tEmployee findByUserId(String userId);\r\n    \tList&lt;Employee&gt; findByLocation(String location);\r\n    } \r\n\r\nAnd then I call it here:\r\n\r\n     public static boolean findByUserId(String userId) {\r\n        \t\r\n        \tOptional&lt;Employee&gt; employee = Optional.ofNullable(employeeRepository.findByUserId(userId));\r\n        \t\r\n        \treturn employee.isPresent()? true: false;\r\n        }\r\nHowever I get NPE Exception above.\r\n\r\nBut when I just do this:\r\n\r\n     public static void main( String[] args ) {\r\n            // Replace the placeholder with your MongoDB deployment&#39;s connection string\r\n            String uri = &quot;mongodb://localhost:27017&quot;;\r\n            try (MongoClient mongoClient = MongoClients.create(uri)) {\r\n                MongoDatabase database = mongoClient.getDatabase(&quot;testdb&quot;);\r\n                MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;employee&quot;);\r\n                Bson bsonFilter = Filters.eq(&quot;userId&quot;, &quot;1234567&quot;);\r\n                //FindIterable&lt;Document&gt; queryResult = collection.find(bsonFilter);\r\n                Document doc = collection.find(bsonFilter).first();\r\n               \r\n                if (doc != null) {\r\n                    System.out.println(doc.toJson());\r\n                } else {\r\n                    System.out.println(&quot;No matching documents found.&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\nI can fetch data from MongoDB and program works fine.","title":"Is it possible to use MongoRepository without using Spring Boot? Just plain Java + MongoDB CRUD program","body":"<p>I get this error:</p>\n<pre><code>java.lang.NullPointerException\n    at com.mongodb.quickstart.ConnectToMongoDB.findByUserId(ConnectToMongoDB.java:49)\n    at com.mongodb.quickstart.ConnectToMongoDB.main(ConnectToMongoDB.java:41)\n</code></pre>\n<p>EmployeeRepository.java</p>\n<pre><code>public interface EmployeeRepository extends MongoRepository&lt;Employee,String&gt;{\n\n    Employee findByUserId(String userId);\n    List&lt;Employee&gt; findByLocation(String location);\n} \n</code></pre>\n<p>And then I call it here:</p>\n<pre><code> public static boolean findByUserId(String userId) {\n        \n        Optional&lt;Employee&gt; employee = Optional.ofNullable(employeeRepository.findByUserId(userId));\n        \n        return employee.isPresent()? true: false;\n    }\n</code></pre>\n<p>However I get NPE Exception above.</p>\n<p>But when I just do this:</p>\n<pre><code> public static void main( String[] args ) {\n        // Replace the placeholder with your MongoDB deployment's connection string\n        String uri = &quot;mongodb://localhost:27017&quot;;\n        try (MongoClient mongoClient = MongoClients.create(uri)) {\n            MongoDatabase database = mongoClient.getDatabase(&quot;testdb&quot;);\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;employee&quot;);\n            Bson bsonFilter = Filters.eq(&quot;userId&quot;, &quot;1234567&quot;);\n            //FindIterable&lt;Document&gt; queryResult = collection.find(bsonFilter);\n            Document doc = collection.find(bsonFilter).first();\n           \n            if (doc != null) {\n                System.out.println(doc.toJson());\n            } else {\n                System.out.println(&quot;No matching documents found.&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>I can fetch data from MongoDB and program works fine.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1387814755,"post_id":1698913,"comment_id":31088804,"body_markdown":"Related question (for Linux): http://askubuntu.com/questions/154953/specify-jdk-for-tomcat7","body":"Related question (for Linux): <a href=\"http://askubuntu.com/questions/154953/specify-jdk-for-tomcat7\">askubuntu.com/questions/154953/specify-jdk-for-tomcat7</a>"}],"answers":[{"comments":[{"owner":{"account_id":5550,"reputation":78192,"user_id":8992,"display_name":"Ry4an Brase"},"score":1,"creation_date":1257740107,"post_id":1698940,"comment_id":1574718,"body_markdown":"Isn&#39;t the windows version supposed to differ from the unix version?  I&#39;m no batch guy, but I thought it was `set`, or am I dating myself?","body":"Isn&#39;t the windows version supposed to differ from the unix version?  I&#39;m no batch guy, but I thought it was <code>set</code>, or am I dating myself?"},{"owner":{"account_id":570589,"reputation":411,"user_id":206557,"display_name":"Chan Pye"},"score":1,"creation_date":1257741443,"post_id":1698940,"comment_id":1574769,"body_markdown":"I&#39;m using Windows XP and I have added line &quot;export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.6.0_12&quot; at the beginning of file Tomcat/bin/catalina.bat\nBut Tomcat can not start\nHerr is a part of my file\n\nrem Guess CATALINA_HOME if not defined\nexport JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.6.0_12&quot;\nset JAVA_OPTS=%JAVA_OPTS% -Xmx512m\nset CURRENT_DIR=%cd%\nif not &quot;%CATALINA_HOME%&quot; == &quot;&quot; goto gotHome\nset CATALINA_HOME=%CURRENT_DIR%\nif exist &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; goto okHome","body":"I&#39;m using Windows XP and I have added line &quot;export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.6.0_12&quot; at the beginning of file Tomcat/bin/catalina.bat But Tomcat can not start Herr is a part of my file  rem Guess CATALINA_HOME if not defined export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.6.0_12&quot; set JAVA_OPTS=%JAVA_OPTS% -Xmx512m set CURRENT_DIR=%cd% if not &quot;%CATALINA_HOME%&quot; == &quot;&quot; goto gotHome set CATALINA_HOME=%CURRENT_DIR% if exist &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; goto okHome"},{"owner":{"account_id":22601,"reputation":2275,"user_id":55913,"accept_rate":89,"display_name":"bogertron"},"score":0,"creation_date":1257746849,"post_id":1698940,"comment_id":1575036,"body_markdown":"Ah. Evil use of the copy paste! I did not mean to put export for the windows version. Ry4an was correct in that set is the correct command. Updating the answer.","body":"Ah. Evil use of the copy paste! I did not mean to put export for the windows version. Ry4an was correct in that set is the correct command. Updating the answer."},{"owner":{"account_id":570589,"reputation":411,"user_id":206557,"display_name":"Chan Pye"},"score":0,"creation_date":1257751669,"post_id":1698940,"comment_id":1575278,"body_markdown":"Thanks for your help, I have solved my poblem\nWe have to use set command and vaule of JAVA_HOME with be a String without &quot; character (set JAVA_HOME = C:\\Program Files\\Java\\jdk1.6.0_12 )","body":"Thanks for your help, I have solved my poblem We have to use set command and vaule of JAVA_HOME with be a String without &quot; character (set JAVA_HOME = C:\\Program Files\\Java\\jdk1.6.0_12 )"},{"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"score":6,"creation_date":1386138815,"post_id":1698940,"comment_id":30409097,"body_markdown":"Documnetation says that it should be done in **setenv**, not in **catalina**\nhttp://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt","body":"Documnetation says that it should be done in <b>setenv</b>, not in <b>catalina</b> <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a>"}],"tags":[],"owner":{"account_id":22601,"reputation":2275,"user_id":55913,"accept_rate":89,"display_name":"bogertron"},"comment_count":5,"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1257746862,"creation_date":1257736973,"answer_id":1698940,"question_id":1698913,"body_markdown":"One thing that you could do would be to modify the catalina.sh (Unix based) or the catalina.bat (windows based).\r\n\r\nWithin each of the scripts you can set certain variables which only processes created under the shell will inherit. So for catalina.sh, use the following line:\r\n\r\n    export JAVA_HOME=&quot;intented java home&quot;\r\n\r\nAnd for windows use\r\n\r\n    set JAVA_HOME=&quot;intented java home&quot;","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>One thing that you could do would be to modify the catalina.sh (Unix based) or the catalina.bat (windows based).</p>\n\n<p>Within each of the scripts you can set certain variables which only processes created under the shell will inherit. So for catalina.sh, use the following line:</p>\n\n<pre><code>export JAVA_HOME=\"intented java home\"\n</code></pre>\n\n<p>And for windows use</p>\n\n<pre><code>set JAVA_HOME=\"intented java home\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1346013,"reputation":81,"user_id":1286757,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1351254971,"creation_date":1332442789,"answer_id":9828764,"question_id":1698913,"body_markdown":"Also, note that there shouldn&#39;t be any space after `=`:\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_27","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Also, note that there shouldn't be any space after <code>=</code>:</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_27\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1504694,"reputation":39,"user_id":1408379,"display_name":"rafeeq"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337623349,"creation_date":1337618196,"answer_id":10689076,"question_id":1698913,"body_markdown":"In UNIX I had this problem, I edited `catalina.sh` manually and entered\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-6-sun-1.6.0.24\r\n    echo &quot;Using JAVA_HOME:       $JAVA_HOME&quot;\r\n\r\nas the first 2 lines. I tried setting the `JAVA_HOME` in `/etc/profile` but it did not help.\r\n\r\nThis worked finally.\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>In UNIX I had this problem, I edited <code>catalina.sh</code> manually and entered</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-6-sun-1.6.0.24\necho \"Using JAVA_HOME:       $JAVA_HOME\"\n</code></pre>\n\n<p>as the first 2 lines. I tried setting the <code>JAVA_HOME</code> in <code>/etc/profile</code> but it did not help.</p>\n\n<p>This worked finally.</p>\n"},{"tags":[],"owner":{"account_id":260305,"reputation":6538,"user_id":543770,"accept_rate":78,"display_name":"Doug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359829996,"creation_date":1359829996,"answer_id":14665103,"question_id":1698913,"body_markdown":"Just a note...\r\n\r\nIf you add that code to setclasspath.bat or setclasspath.sh, it will actually be used by all of Tomcat&#39;s scripts you could run, rather than just Catalina.\r\n\r\nThe method for setting the variable is as the other&#39;s have described.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Just a note...</p>\n\n<p>If you add that code to setclasspath.bat or setclasspath.sh, it will actually be used by all of Tomcat's scripts you could run, rather than just Catalina.</p>\n\n<p>The method for setting the variable is as the other's have described.</p>\n"},{"comments":[{"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"score":2,"creation_date":1386138681,"post_id":16056154,"comment_id":30409049,"body_markdown":"No need to add `JAVA_HOME` and `JRE_HOME`. _If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used._\nhttp://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt","body":"No need to add <code>JAVA_HOME</code> and <code>JRE_HOME</code>. <i>If both JRE_HOME and JAVA_HOME are specified, JRE_HOME is used.</i> <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a>"}],"tags":[],"owner":{"account_id":2647569,"reputation":471,"user_id":2289954,"display_name":"HowRude"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1366191200,"creation_date":1366190170,"answer_id":16056154,"question_id":1698913,"body_markdown":"place a setenv.sh in the the bin directory with\r\n\r\n    JAVA_HOME=/usr/java/jdk1.6.0_43/\r\n    JRE_HOME=/usr/java/jdk1.6.0_43/jre\r\n\r\nor an other version your running.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>place a setenv.sh in the the bin directory with</p>\n\n<pre><code>JAVA_HOME=/usr/java/jdk1.6.0_43/\nJRE_HOME=/usr/java/jdk1.6.0_43/jre\n</code></pre>\n\n<p>or an other version your running.</p>\n"},{"tags":[],"owner":{"account_id":244145,"reputation":9943,"user_id":516748,"accept_rate":86,"display_name":"KCD"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367202613,"creation_date":1367202613,"answer_id":16270407,"question_id":1698913,"body_markdown":"Linux based Tomcat6 should have **/etc/tomcat6/tomcat6.conf**\r\n\r\n\t# System-wide configuration file for tomcat6 services\r\n\t# This will be sourced by tomcat6 and any secondary service\r\n\t# Values will be overridden by service-specific configuration\r\n\t# files in /etc/sysconfig\r\n\t#\r\n\t# Use this one to change default values for all services\r\n\t# Change the service specific ones to affect only one service\r\n\t# (see, for instance, /etc/sysconfig/tomcat6)\r\n\t#\r\n\r\n\t# Where your java installation lives\r\n\t#JAVA_HOME=&quot;/usr/lib/jvm/java-1.5.0&quot;\r\n\r\n\t# Where your tomcat installation lives\r\n\tCATALINA_BASE=&quot;/usr/share/tomcat6&quot;\r\n\t...\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Linux based Tomcat6 should have <strong>/etc/tomcat6/tomcat6.conf</strong></p>\n\n<pre><code># System-wide configuration file for tomcat6 services\n# This will be sourced by tomcat6 and any secondary service\n# Values will be overridden by service-specific configuration\n# files in /etc/sysconfig\n#\n# Use this one to change default values for all services\n# Change the service specific ones to affect only one service\n# (see, for instance, /etc/sysconfig/tomcat6)\n#\n\n# Where your java installation lives\n#JAVA_HOME=\"/usr/lib/jvm/java-1.5.0\"\n\n# Where your tomcat installation lives\nCATALINA_BASE=\"/usr/share/tomcat6\"\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105552,"reputation":3270,"user_id":281600,"display_name":"St&#233;phane B."},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1394629416,"creation_date":1394629416,"answer_id":22352449,"question_id":1698913,"body_markdown":"If you are a **Windows** user, put the content below in a **setenv.bat** file that you must create in Tomcat **bin** directory.\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.x\r\n\r\nIf you are a **Linux** user, put the content below in a **setenv.sh** file that you must create in Tomcat **bin** directory.\r\n\r\n    JAVA_HOME=/usr/java/jdk1.6.x\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>If you are a <strong>Windows</strong> user, put the content below in a <strong>setenv.bat</strong> file that you must create in Tomcat <strong>bin</strong> directory.</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.x\n</code></pre>\n\n<p>If you are a <strong>Linux</strong> user, put the content below in a <strong>setenv.sh</strong> file that you must create in Tomcat <strong>bin</strong> directory.</p>\n\n<pre><code>JAVA_HOME=/usr/java/jdk1.6.x\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5204556,"reputation":21,"user_id":4162938,"display_name":"Tamil Selvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413826267,"creation_date":1413826267,"answer_id":26471485,"question_id":1698913,"body_markdown":"I had the same problem my OS is windows 8 and I am using Tomcat 8,\r\nI just edited the ***setclasspath.bat*** file in bin folder and set JAVA_HOME and JRE_HOME\r\nlike this...\r\n\r\n&gt;&lt;p&gt;\r\n@echo off&lt;br&gt;\r\n...&lt;br&gt;\r\n...&lt;br&gt;\r\nset &quot;JRE_HOME=%ProgramFiles%\\Java\\jre8&quot;&lt;br&gt;\r\nset &quot;JAVA_HOME=%ProgramFiles%\\Java\\jdk1.7.0_03&quot;&lt;br&gt;\r\n...&lt;br&gt;\r\n...&lt;br&gt;\r\n&lt;/p&gt;\r\n\r\nand it works fine for me now......","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I had the same problem my OS is windows 8 and I am using Tomcat 8,\nI just edited the <strong><em>setclasspath.bat</em></strong> file in bin folder and set JAVA_HOME and JRE_HOME\nlike this...</p>\n\n<blockquote>\n  <p>\n  @echo off<br>\n  ...<br>\n  ...<br>\n  set \"JRE_HOME=%ProgramFiles%\\Java\\jre8\"<br>\n  set \"JAVA_HOME=%ProgramFiles%\\Java\\jdk1.7.0_03\"<br>\n  ...<br>\n  ...<br>\n  </p>\n</blockquote>\n\n<p>and it works fine for me now......</p>\n"},{"tags":[],"owner":{"account_id":989107,"reputation":21888,"user_id":1006863,"accept_rate":69,"display_name":"Paulo Fidalgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415715636,"creation_date":1415715636,"answer_id":26867026,"question_id":1698913,"body_markdown":"You can add setenv.sh in the the bin directory with:\r\n\r\n&gt; export JAVA_HOME=$(readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;)\r\n\r\nand it will dynamically change when you update your packages.\r\n\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>You can add setenv.sh in the the bin directory with:</p>\n\n<blockquote>\n  <p>export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:bin/java::\")</p>\n</blockquote>\n\n<p>and it will dynamically change when you update your packages.</p>\n"},{"tags":[],"owner":{"account_id":1362735,"reputation":73,"user_id":1299789,"display_name":"Shinu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421906092,"creation_date":1421906092,"answer_id":28082091,"question_id":1698913,"body_markdown":"For Debian distro we can override the setting via defaults\r\n\r\n    /etc/default/tomcat6\r\n\r\nSet the `JAVA_HOME` pointing to the java version you want.\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>For Debian distro we can override the setting via defaults</p>\n\n<pre><code>/etc/default/tomcat6\n</code></pre>\n\n<p>Set the <code>JAVA_HOME</code> pointing to the java version you want.</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8159873,"reputation":213,"user_id":6144218,"display_name":"Le Nguyen"},"score":0,"creation_date":1684121830,"post_id":35632526,"comment_id":134465080,"body_markdown":"good solution. thanks @Rapha&#235;l Colantonio","body":"good solution. thanks @Rapha&#235;l Colantonio"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456416620,"creation_date":1456416620,"answer_id":35632526,"question_id":1698913,"body_markdown":"I think this is a best practice (You may be have many Tomcat instance in same computer, you want per Tomcat instance use other Java Runtime Environment):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is manual inside file: `catalina.sh`\r\n\r\n    #   JRE_HOME        Must point at your Java Runtime installation.\r\n    #                   Defaults to JAVA_HOME if empty. If JRE_HOME and JAVA_HOME\r\n    #                   are both set, JRE_HOME is used.\r\n\r\n  [1]: http://i.stack.imgur.com/UKEVm.jpg\r\n  [2]: http://i.stack.imgur.com/T4gWE.jpg\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I think this is a best practice (You may be have many Tomcat instance in same computer, you want per Tomcat instance use other Java Runtime Environment):</p>\n\n<p><a href=\"https://i.stack.imgur.com/UKEVm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UKEVm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/T4gWE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4gWE.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is manual inside file: <code>catalina.sh</code></p>\n\n<pre><code>#   JRE_HOME        Must point at your Java Runtime installation.\n#                   Defaults to JAVA_HOME if empty. If JRE_HOME and JAVA_HOME\n#                   are both set, JRE_HOME is used.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3495512,"reputation":1716,"user_id":2923872,"accept_rate":100,"display_name":"calraiden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438962,"creation_date":1673438962,"answer_id":75082823,"question_id":1698913,"body_markdown":"I think you only need add in startup.sh or startup.bat the `set JAVA_HOME=C:\\Program Files\\Java\\jdk-19`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter check...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4j0Q.png\r\n  [2]: https://i.stack.imgur.com/xlYQE.png","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I think you only need add in startup.sh or startup.bat the <code>set JAVA_HOME=C:\\Program Files\\Java\\jdk-19</code></p>\n<p><a href=\"https://i.stack.imgur.com/R4j0Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4j0Q.png\" alt=\"enter image description here\" /></a></p>\n<p>After check...</p>\n<p><a href=\"https://i.stack.imgur.com/xlYQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xlYQE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":570589,"reputation":411,"user_id":206557,"display_name":"Chan Pye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171170,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":12,"score":41,"last_activity_date":1673438962,"creation_date":1257736378,"question_id":1698913,"body_markdown":"I have 2 Java Web Projects. One runs on JDK 1.5 and the other runs on JDK 1.6. I want to run both of them on the same computer, but the JAVA_HOME environment variable can only have one value. I want to set JAVA_HOME for each Tomcat server.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I have 2 Java Web Projects. One runs on JDK 1.5 and the other runs on JDK 1.6. I want to run both of them on the same computer, but the JAVA_HOME environment variable can only have one value. I want to set JAVA_HOME for each Tomcat server.</p>\n"},{"tags":["java","oop","inheritance","upcasting"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1673435258,"post_id":75082053,"comment_id":132497017,"body_markdown":"Help us help you - instead of describing the issue, share a [mcve] that demonstrates it","body":"Help us help you - instead of describing the issue, share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates it"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1673435692,"post_id":75082053,"comment_id":132497170,"body_markdown":"When you call a method on a reference of `A`, say `a.doSomething();` the compiler will check whether that method is present in `A`. It doesn&#39;t matter if the object assigned is encapsulating that method, the check is done during compile time and the casting happens in runtime.","body":"When you call a method on a reference of <code>A</code>, say <code>a.doSomething();</code> the compiler will check whether that method is present in <code>A</code>. It doesn&#39;t matter if the object assigned is encapsulating that method, the check is done during compile time and the casting happens in runtime."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438749,"creation_date":1673436447,"answer_id":75082302,"question_id":75082053,"body_markdown":"Since the type of variable `a` is [class] `A`, the variable can only access members and methods of class `A` (depending on the access specifiers) &amp;ndash; even though the actual type of variable `a` is class `B`.\r\n\r\nRefer to method [paintComponent](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)), in class `javax.swing.JComponent`. The type of the method parameter is `Graphics` but the actual type of the parameter is [Graphics2D](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html) (which extends `Graphics`). However, in order to access the methods of `Graphics2D`, you must first cast the parameter, i.e.\r\n```java\r\nGraphics2D g2d = (Graphics2D) g;\r\n```\r\nThis is a fundamental aspect of the object-oriented paradigm.  \r\nRefer also to the [comment](https://stackoverflow.com/questions/75082053/java-accesing-properties-with-same-name-in-both-classes#comment132497170_75082053) to your question by @ArunSudhakaran\r\n\r\nSimilarly, if you want variable `a` to access the `w` member of class `B`, you need to cast `a`.\r\n```java\r\nA a = new B();\r\nif (a instanceof B) {\r\n    B b = (B) a;\r\n    System.out.println(b.w);\r\n}\r\n```\r\nIf you are using at least Java 14, you can use [Pattern Matching for the instanceof Operator](https://docs.oracle.com/en/java/javase/14/language/pattern-matching-instanceof-operator.html)\r\n```java\r\nA a = new B();\r\nif (a instanceof B b) {\r\n    System.out.println(b.w);\r\n}\r\n```\r\nAlso refer to the book [Effective Java](https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/) by Josh Bloch.\r\n","title":"Java accesing properties with same name in both classes","body":"<p>Since the type of variable <code>a</code> is [class] <code>A</code>, the variable can only access members and methods of class <code>A</code> (depending on the access specifiers) – even though the actual type of variable <code>a</code> is class <code>B</code>.</p>\n<p>Refer to method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent</a>, in class <code>javax.swing.JComponent</code>. The type of the method parameter is <code>Graphics</code> but the actual type of the parameter is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Graphics2D</a> (which extends <code>Graphics</code>). However, in order to access the methods of <code>Graphics2D</code>, you must first cast the parameter, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Graphics2D g2d = (Graphics2D) g;\n</code></pre>\n<p>This is a fundamental aspect of the object-oriented paradigm.<br />\nRefer also to the <a href=\"https://stackoverflow.com/questions/75082053/java-accesing-properties-with-same-name-in-both-classes#comment132497170_75082053\">comment</a> to your question by @ArunSudhakaran</p>\n<p>Similarly, if you want variable <code>a</code> to access the <code>w</code> member of class <code>B</code>, you need to cast <code>a</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new B();\nif (a instanceof B) {\n    B b = (B) a;\n    System.out.println(b.w);\n}\n</code></pre>\n<p>If you are using at least Java 14, you can use <a href=\"https://docs.oracle.com/en/java/javase/14/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">Pattern Matching for the instanceof Operator</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new B();\nif (a instanceof B b) {\n    System.out.println(b.w);\n}\n</code></pre>\n<p>Also refer to the book <a href=\"https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/\" rel=\"nofollow noreferrer\">Effective Java</a> by Josh Bloch.</p>\n"}],"owner":{"account_id":16610237,"reputation":25,"user_id":15787690,"display_name":"dudex198"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673438749,"creation_date":1673435137,"question_id":75082053,"body_markdown":"I have 2 classes, A and B which B inherits from A.\r\nBoth classes have a property of type int called w.\r\n\r\nIn class A w is public and in class B w is private.\r\n\r\nI made an object of type A using B constructor - A a = new B()\r\n\r\nYet when i tried to access B&#39;s properties i found out i can only access variables or methods from class A even though i made an object of type B.\r\n\r\nI thought that this was only relevant if both classes didnt have the same methods or variables.\r\nBut in this case both classes have a variable named w yet i can only access the value stored in the A class. Why is this so?\r\n\r\nclass A \r\n```\r\n\r\npublic class A {\r\n\tpublic int w;\r\n\tprivate static String str = &quot;K&quot;;\r\n\r\n\t\r\n\tpublic A() {\r\n\t\tstr+=&quot;B&quot;;\r\n\t\tw+=str.length();\r\n\t\tstr+=w;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn str.charAt(w-2)+&quot;P&quot;;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nclass B\r\n```\r\npublic class B extends A {\r\n\tpublic static int w = 2;\r\n\tprivate String str = &quot;W&quot;;\r\n\t\r\n\tpublic B(int x) {\r\n\t\tw+=super.w;\r\n\t\tstr+=super.toString()+w;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn super.toString() + str;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTesting class \r\n```\r\n\r\npublic class Q1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tA a = new A();\r\n\t\tA a2 = new B(1);\r\n\r\n\t\tSystem.out.println(a);\r\n\t\tSystem.out.println(a.w);\r\n\t\tSystem.out.println(a2);\r\n\t\tSystem.out.println(a2.w);\r\n\t\tB b = new B(2);\r\n\t\tSystem.out.println(b);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Java accesing properties with same name in both classes","body":"<p>I have 2 classes, A and B which B inherits from A.\nBoth classes have a property of type int called w.</p>\n<p>In class A w is public and in class B w is private.</p>\n<p>I made an object of type A using B constructor - A a = new B()</p>\n<p>Yet when i tried to access B's properties i found out i can only access variables or methods from class A even though i made an object of type B.</p>\n<p>I thought that this was only relevant if both classes didnt have the same methods or variables.\nBut in this case both classes have a variable named w yet i can only access the value stored in the A class. Why is this so?</p>\n<p>class A</p>\n<pre><code>\npublic class A {\n    public int w;\n    private static String str = &quot;K&quot;;\n\n    \n    public A() {\n        str+=&quot;B&quot;;\n        w+=str.length();\n        str+=w;\n    }\n    \n    @Override\n    public String toString() {\n        return str.charAt(w-2)+&quot;P&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>class B</p>\n<pre><code>public class B extends A {\n    public static int w = 2;\n    private String str = &quot;W&quot;;\n    \n    public B(int x) {\n        w+=super.w;\n        str+=super.toString()+w;\n    }\n    \n    @Override\n    public String toString() {\n        return super.toString() + str;\n    }\n}\n\n</code></pre>\n<p>Testing class</p>\n<pre><code>\npublic class Q1 {\n\n    public static void main(String[] args) {\n        A a = new A();\n        A a2 = new B(1);\n\n        System.out.println(a);\n        System.out.println(a.w);\n        System.out.println(a2);\n        System.out.println(a2.w);\n        B b = new B(2);\n        System.out.println(b);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14254979,"reputation":100,"user_id":10297510,"display_name":"Enos"},"score":0,"creation_date":1673434983,"post_id":75081310,"comment_id":132496914,"body_markdown":"Where Array was defined? what does it contain ?","body":"Where Array was defined? what does it contain ?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673436448,"post_id":75081310,"comment_id":132497474,"body_markdown":"array at start is initialised with 5 values (0,0,0,0,0).","body":"array at start is initialised with 5 values (0,0,0,0,0)."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438686,"creation_date":1673438686,"answer_id":75082760,"question_id":75081310,"body_markdown":"Since you have apparently already identified the highest votes counts you can test these for zero before trying to look up the corresponding name(s) in the parallel array.\r\n\r\n    if (0 != thirdScore) {\r\n      ... look up and print third place\r\n    }\r\n    if (0 != secondScore) {\r\n      ... look up and print second place\r\n    }\r\n\r\n","title":"Displaying text if it has votes in sort program","body":"<p>Since you have apparently already identified the highest votes counts you can test these for zero before trying to look up the corresponding name(s) in the parallel array.</p>\n<pre><code>if (0 != thirdScore) {\n  ... look up and print third place\n}\nif (0 != secondScore) {\n  ... look up and print second place\n}\n</code></pre>\n"}],"owner":{"display_name":"user20758216"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673438686,"creation_date":1673431666,"question_id":75081310,"body_markdown":"I have a voting program that works. The program will ask the user to enter the votes for a vote candidate, and then once ended the program will print a summary of the votes.\r\n\r\nCurrently i have the program printing First,Second, and Third. Even if Second and third are 0. I need the program to work so if second and third are zero, only the winner will be printed.\r\n\r\nI am little stuck with what i have currently, the concept i want works, but if i place the displayed text in the loop, it will loop multiple times. \r\n\r\nhere is the code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    System.out.print(&quot;\\nThird: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == thirdScore) {\r\n            System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n    System.out.print(&quot;Second: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == secondScore) {\r\n           System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n    System.out.print(&quot;Winner: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == firstScore) {\r\n          System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is the output i would get if the third place is 0\r\n\r\n    Third place:\r\n    \r\n    Second Place: Joey\r\n    \r\n    First Place: Miles\r\n\r\nI need the &quot;Third place:&quot; to not be displayed if 0 same with Second place\r\n","title":"Displaying text if it has votes in sort program","body":"<p>I have a voting program that works. The program will ask the user to enter the votes for a vote candidate, and then once ended the program will print a summary of the votes.</p>\n<p>Currently i have the program printing First,Second, and Third. Even if Second and third are 0. I need the program to work so if second and third are zero, only the winner will be printed.</p>\n<p>I am little stuck with what i have currently, the concept i want works, but if i place the displayed text in the loop, it will loop multiple times.</p>\n<p>here is the code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>System.out.print(\"\\nThird: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == thirdScore) {\n        System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");\n\nSystem.out.print(\"Second: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == secondScore) {\n       System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");\n\nSystem.out.print(\"Winner: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == firstScore) {\n      System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is the output i would get if the third place is 0</p>\n<pre><code>Third place:\n\nSecond Place: Joey\n\nFirst Place: Miles\n</code></pre>\n<p>I need the &quot;Third place:&quot; to not be displayed if 0 same with Second place</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1412588729,"post_id":26213615,"comment_id":41109259,"body_markdown":"Get the thread as explained here http://stackoverflow.com/questions/18224253/get-a-thread-by-id/18224488#18224488\n\nand interrupt it.","body":"Get the thread as explained here <a href=\"http://stackoverflow.com/questions/18224253/get-a-thread-by-id/18224488#18224488\" title=\"get a thread by id\">stackoverflow.com/questions/18224253/get-a-thread-by-id/&hellip;</a>  and interrupt it."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":1,"creation_date":1412589636,"post_id":26213615,"comment_id":41109727,"body_markdown":"just keep the references of your custom threads instead of ID and use `Thread.interrupt()`  to terminate the thread or maintain a `Map&lt;String,Thread&gt;` for each thread id.","body":"just keep the references of your custom threads instead of ID and use <code>Thread.interrupt()</code>  to terminate the thread or maintain a <code>Map&lt;String,Thread&gt;</code> for each thread id."}],"answers":[{"comments":[{"owner":{"account_id":5111418,"reputation":128,"user_id":4097877,"display_name":"Arun Ramakrishnan"},"score":0,"creation_date":1412590255,"post_id":26213743,"comment_id":41110024,"body_markdown":"Wouldn&#39;t synchronization be a more logic specific requirement? I mean, you don&#39;t really need to use synchronization right since each runnable is a separate instance on it&#39;s own thread.\nWhat did you have in mind for synchronization?","body":"Wouldn&#39;t synchronization be a more logic specific requirement? I mean, you don&#39;t really need to use synchronization right since each runnable is a separate instance on it&#39;s own thread. What did you have in mind for synchronization?"}],"tags":[],"owner":{"account_id":5111418,"reputation":128,"user_id":4097877,"display_name":"Arun Ramakrishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412589024,"creation_date":1412589024,"answer_id":26213743,"question_id":26213615,"body_markdown":"I would say a good way to do this is to create an implementation of java.lang.Runnable which has a stop() method. Like so:\r\n\r\n    public class Stoppable implements Runnable\r\n{\r\n    private boolean stopRequested = false;\r\n    \r\n    @Override\r\n    public void run()\r\n    {\r\n        // Thread code\r\n        if (stopRequested)\r\n        {\r\n            // Perform any tidy up activities and return from the run method\r\n            \r\n            return;\r\n        }\r\n    }\r\n    \r\n    public void stop()\r\n    {\r\n        stopRequested = true;\r\n    }\r\n}\r\n\r\nYou could instead use the java built in interrupt approach also. thread.interrupt(). Then in your runnable you would do a check on that. Thread.currentThread().isInterrupted() However I&#39;ve always preferred to use a separate variable and code, just gives me more control.\r\n\r\nIf you&#39;re on Java 7 onwards then try the executors http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\nThey provide a lot of useful features like return types and exception handling which has always been a little annoying with the traditional threads approach.","title":"Terminating thread using thread Id in java","body":"<p>I would say a good way to do this is to create an implementation of java.lang.Runnable which has a stop() method. Like so:</p>\n\n<pre><code>public class Stoppable implements Runnable\n</code></pre>\n\n<p>{\n    private boolean stopRequested = false;</p>\n\n<pre><code>@Override\npublic void run()\n{\n    // Thread code\n    if (stopRequested)\n    {\n        // Perform any tidy up activities and return from the run method\n\n        return;\n    }\n}\n\npublic void stop()\n{\n    stopRequested = true;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>You could instead use the java built in interrupt approach also. thread.interrupt(). Then in your runnable you would do a check on that. Thread.currentThread().isInterrupted() However I've always preferred to use a separate variable and code, just gives me more control.</p>\n\n<p>If you're on Java 7 onwards then try the executors <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html</a>\nThey provide a lot of useful features like return types and exception handling which has always been a little annoying with the traditional threads approach.</p>\n"},{"tags":[],"owner":{"account_id":2922411,"reputation":535,"user_id":2504380,"accept_rate":50,"display_name":"user2504380"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412589100,"creation_date":1412589100,"answer_id":26213768,"question_id":26213615,"body_markdown":"You can use [the answer in this post](https://stackoverflow.com/questions/18224253/get-a-thread-by-id) to get a thread by it&#39;s id and then interrupt it, however, as mentioned in comments, you should not do this. Use Thread-Object-References instead and handle the Threads directly.","title":"Terminating thread using thread Id in java","body":"<p>You can use <a href=\"https://stackoverflow.com/questions/18224253/get-a-thread-by-id\">the answer in this post</a> to get a thread by it's id and then interrupt it, however, as mentioned in comments, you should not do this. Use Thread-Object-References instead and handle the Threads directly.</p>\n"},{"comments":[{"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"score":1,"creation_date":1412590546,"post_id":26213826,"comment_id":41110169,"body_markdown":"The first real answer to the question, upvote! By the way, there&#39;s no need to cast `Set` to array in this case, you may just iterate on `setOfThread`","body":"The first real answer to the question, upvote! By the way, there&#39;s no need to cast <code>Set</code> to array in this case, you may just iterate on <code>setOfThread</code>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":6,"creation_date":1412592377,"post_id":26213826,"comment_id":41111043,"body_markdown":"Java 8: `setOfThread.stream().findAny(t-&gt;t.getId()==id).ifPresent(Thread::interrupt);`","body":"Java 8: <code>setOfThread.stream().findAny(t-&gt;t.getId()==id).ifPresent(Thr&zwnj;&#8203;ead::interrupt);</code>"}],"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1462194918,"creation_date":1412589354,"answer_id":26213826,"question_id":26213615,"body_markdown":"You can do it like this,\r\n\r\n    //Give you set of Threads\r\n    Set&lt;Thread&gt; setOfThread = Thread.getAllStackTraces().keySet();\r\n\t\r\n    //Iterate over set to find yours\r\n\tfor(Thread thread : setOfThread){\r\n\t\tif(thread.getId()==yourThread.getId()){\r\n\t\t\tthread.interrupt();\r\n\t\t}\r\n\t}","title":"Terminating thread using thread Id in java","body":"<p>You can do it like this,</p>\n\n<pre><code>//Give you set of Threads\nSet&lt;Thread&gt; setOfThread = Thread.getAllStackTraces().keySet();\n\n//Iterate over set to find yours\nfor(Thread thread : setOfThread){\n    if(thread.getId()==yourThread.getId()){\n        thread.interrupt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4981963,"reputation":2458,"user_id":4006620,"accept_rate":76,"display_name":"Vishvesh Phadnis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17236,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26213826,"answer_count":3,"score":13,"last_activity_date":1673438526,"creation_date":1412588520,"question_id":26213615,"body_markdown":"I want to terminate thread using it&#39;s Id.\r\n\r\nusing below statement  I&#39;m getting thread. this thread Id I&#39;m maintaining in `Hashtable`.\r\n\r\n    long threadId = Thread.currentThread().getId();\t\r\n\r\n\r\nHow can I achieve it ?","title":"Terminating thread using thread Id in java","body":"<p>I want to terminate thread using it's Id.</p>\n<p>using below statement  I'm getting thread. this thread Id I'm maintaining in <code>Hashtable</code>.</p>\n<pre><code>long threadId = Thread.currentThread().getId(); \n</code></pre>\n<p>How can I achieve it ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","deprecated"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1673389193,"post_id":75076409,"comment_id":132487086,"body_markdown":"Where would you download it in the first place? And have you then checked if they offer older versions as well?","body":"Where would you download it in the first place? And have you then checked if they offer older versions as well?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1673402516,"post_id":75076409,"comment_id":132489298,"body_markdown":"Are you using maven? If so you just have to change the version in the `pom.xml` file. Any version &lt; 3.0 should be fine for you I think like `2.7.7`","body":"Are you using maven? If so you just have to change the version in the <code>pom.xml</code> file. Any version &lt; 3.0 should be fine for you I think like <code>2.7.7</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673436983,"post_id":75076409,"comment_id":132497649,"body_markdown":"As far as I&#39;m aware, the Spring project doesn&#39;t even offer downloads other than through Maven. So just, configure your Maven (or Gradle) build file to use your desired version.","body":"As far as I&#39;m aware, the Spring project doesn&#39;t even offer downloads other than through Maven. So just, configure your Maven (or Gradle) build file to use your desired version."}],"answers":[{"tags":[],"owner":{"account_id":16362850,"reputation":102,"user_id":11818002,"display_name":"arellak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673389619,"creation_date":1673389619,"answer_id":75076506,"question_id":75076409,"body_markdown":"If you&#39;re using a build-system like Maven, you could easily replace the version in the pom.xml&lt;br&gt;\r\nOtherwise, you could look on websites like jar-download.com if spring-boot doesn&#39;t offer a download for the jar itself.","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>If you're using a build-system like Maven, you could easily replace the version in the pom.xml<br>\nOtherwise, you could look on websites like jar-download.com if spring-boot doesn't offer a download for the jar itself.</p>\n"},{"tags":[],"owner":{"account_id":27495315,"reputation":1,"user_id":20979921,"display_name":"Shivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437004,"creation_date":1673431458,"answer_id":75081275,"question_id":75076409,"body_markdown":"If you are using maven you can change the Spring boot version `&lt;version&gt;2.7.3&lt;/version&gt;` in the pom.xml file.\r\nTo use the Spring Security add the dependency \r\n\r\n```xml              \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.6.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>If you are using maven you can change the Spring boot version <code>&lt;version&gt;2.7.3&lt;/version&gt;</code> in the pom.xml file.\nTo use the Spring Security add the dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;version&gt;5.6.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25637651,"reputation":1,"user_id":19407023,"display_name":"java junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438291,"creation_date":1673438291,"answer_id":75082688,"question_id":75076409,"body_markdown":"First go to your pom.xml file and change your springboot version to any version below 2.7.0\r\nthen add the spring security dependency","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>First go to your pom.xml file and change your springboot version to any version below 2.7.0\nthen add the spring security dependency</p>\n"}],"owner":{"account_id":27493044,"reputation":29,"user_id":20978009,"display_name":"Rebecca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1673442984,"answer_count":3,"score":2,"last_activity_date":1673438291,"creation_date":1673388901,"question_id":75076409,"body_markdown":"I was trying to find a way to use or download a previous version of Spring Boot because I&#39;m going to use Spring Security, as you know WebSecurityConfigurerAdapter is deprecated right now\r\n\r\nI&#39;m sorry if there is an obvious answer to this, I&#39;m new in Spring Boot, and I don&#39;t know if there&#39;s a way to do the thing I&#39;m asking, and honestly I&#39;m a little confuse about the new implementations.\r\n","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>I was trying to find a way to use or download a previous version of Spring Boot because I'm going to use Spring Security, as you know WebSecurityConfigurerAdapter is deprecated right now</p>\n<p>I'm sorry if there is an obvious answer to this, I'm new in Spring Boot, and I don't know if there's a way to do the thing I'm asking, and honestly I'm a little confuse about the new implementations.</p>\n"},{"tags":["java","spring","sorting","configuration"],"answers":[{"comments":[{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":1,"creation_date":1559636506,"post_id":56408844,"comment_id":99473435,"body_markdown":"Then why am I able to place the order annotation on that method? There is nothing in the javadoc that states that you cannot use it for `@Bean` declarations though. Spring uses proxies and similar constructs on a lot of places, why not for that case? Sub-classing a bean class just to set the order feels wrong.","body":"Then why am I able to place the order annotation on that method? There is nothing in the javadoc that states that you cannot use it for <code>@Bean</code> declarations though. Spring uses proxies and similar constructs on a lot of places, why not for that case? Sub-classing a bean class just to set the order feels wrong."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":1,"creation_date":1559638346,"post_id":56408844,"comment_id":99474295,"body_markdown":"@ST-DDT you can use it, and during startup it is taken into account. But this is before you have the actual instance. In your test case it is not the Order that you are not using correctly it is the AnnotationAwareOrderComparator. You are expecting that it will work on an initialized instance while it is not. Accoridng to the documentation during startup the Order should be applied correctly. So if you place Autowire on a list of the interceptors in your test they should be ordered correctly.","body":"@ST-DDT you can use it, and during startup it is taken into account. But this is before you have the actual instance. In your test case it is not the Order that you are not using correctly it is the AnnotationAwareOrderComparator. You are expecting that it will work on an initialized instance while it is not. Accoridng to the documentation during startup the Order should be applied correctly. So if you place Autowire on a list of the interceptors in your test they should be ordered correctly."}],"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559410774,"creation_date":1559409352,"answer_id":56408844,"question_id":56331925,"body_markdown":" For your test case to work you need to use `Ordered` interface instead of the annotation.\r\nLets examine the source code of AnnotationAwareOrderComparator. Notice that you are passing directly the objects to the sort method. The  AnnotationAwareOrderComparator is using the `findOrder` upon the pased objects in order to find one of the three artifacts `@Priority` annotation `@Order` annotation or `@Ordered` interface. In your case you are passing the interceptor instances so the if check for Methidf and for Class will return false. You will hit the last if method: `if (obj != null)`\r\n\r\nin which case it will just check you object clas for @Order annotation which will be null in your case. Effectivly your test case is just wrong. Notice though that your testcase will behave as expected if you implement Ordered interface.    \r\n\r\n\r\n    public static void sort(List list) {\r\n    \t\tif (list.size() &gt; 1) {\r\n    \t\t\tCollections.sort(list, INSTANCE);\r\n    \t\t}\r\n    \t}\r\n\r\n    protected Integer findOrder(Object obj) {\r\n    \t\t// Check for regular Ordered interface\r\n    \t\tInteger order = super.findOrder(obj);\r\n    \t\tif (order != null) {\r\n    \t\t\treturn order;\r\n    \t\t}\r\n    \r\n    \t\t// Check for @Order and @Priority on various kinds of elements\r\n    \t\tif (obj instanceof Class) {\r\n    \t\t\treturn OrderUtils.getOrder((Class) obj);\r\n    \t\t}\r\n    \t\telse if (obj instanceof Method) {\r\n    \t\t\tOrder ann = AnnotationUtils.findAnnotation((Method) obj, Order.class);\r\n    \t\t\tif (ann != null) {\r\n    \t\t\t\treturn ann.value();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if (obj instanceof AnnotatedElement) {\r\n    \t\t\tOrder ann = AnnotationUtils.getAnnotation((AnnotatedElement) obj, Order.class);\r\n    \t\t\tif (ann != null) {\r\n    \t\t\t\treturn ann.value();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if (obj != null) {\r\n    \t\t\treturn OrderUtils.getOrder(obj.getClass());\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n\r\n","title":"Sort spring @Beans by method level @Order annotation","body":"<p>For your test case to work you need to use <code>Ordered</code> interface instead of the annotation.\nLets examine the source code of AnnotationAwareOrderComparator. Notice that you are passing directly the objects to the sort method. The  AnnotationAwareOrderComparator is using the <code>findOrder</code> upon the pased objects in order to find one of the three artifacts <code>@Priority</code> annotation <code>@Order</code> annotation or <code>@Ordered</code> interface. In your case you are passing the interceptor instances so the if check for Methidf and for Class will return false. You will hit the last if method: <code>if (obj != null)</code></p>\n\n<p>in which case it will just check you object clas for @Order annotation which will be null in your case. Effectivly your test case is just wrong. Notice though that your testcase will behave as expected if you implement Ordered interface.    </p>\n\n<pre><code>public static void sort(List list) {\n        if (list.size() &gt; 1) {\n            Collections.sort(list, INSTANCE);\n        }\n    }\n\nprotected Integer findOrder(Object obj) {\n        // Check for regular Ordered interface\n        Integer order = super.findOrder(obj);\n        if (order != null) {\n            return order;\n        }\n\n        // Check for @Order and @Priority on various kinds of elements\n        if (obj instanceof Class) {\n            return OrderUtils.getOrder((Class) obj);\n        }\n        else if (obj instanceof Method) {\n            Order ann = AnnotationUtils.findAnnotation((Method) obj, Order.class);\n            if (ann != null) {\n                return ann.value();\n            }\n        }\n        else if (obj instanceof AnnotatedElement) {\n            Order ann = AnnotationUtils.getAnnotation((AnnotatedElement) obj, Order.class);\n            if (ann != null) {\n                return ann.value();\n            }\n        }\n        else if (obj != null) {\n            return OrderUtils.getOrder(obj.getClass());\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438016,"creation_date":1673438016,"answer_id":75082623,"question_id":56331925,"body_markdown":"I found a way to access the annotions that are only present on the bean factory methods:\r\n\r\n````java\r\n    public static Comparator&lt;Object&gt; beanFactoryAwareOrderComparator(final ApplicationContext context,\r\n            final Class&lt;?&gt; beanType) {\r\n        final Map&lt;?, String&gt; beans = HashBiMap.create(context.getBeansOfType(beanType)).inverse();\r\n        return OrderComparator.INSTANCE.withSourceProvider(bean -&gt; {\r\n\r\n            // The AnnotationAwareOrderComparator does not have the &quot;withSourceProvider&quot; method\r\n            // The OrderComparator.withSourceProvider does not properly account for the annotations\r\n            final Integer priority = AnnotationAwareOrderComparator.INSTANCE.getPriority(bean);\r\n            if (priority != null) {\r\n                return (Ordered) () -&gt; priority;\r\n            }\r\n\r\n            // Consult the bean factory method for annotations\r\n            final String beanName = beans.get(bean);\r\n            if (beanName != null) {\r\n                final Order order = context.findAnnotationOnBean(beanName, Order.class);\r\n                if (order != null) {\r\n                    return (Ordered) order::value;\r\n                }\r\n            }\r\n\r\n            // Nothing present\r\n            return null;\r\n        });\r\n    }\r\n````\r\n\r\nSource: [yidongnan/grpc-spring-boot-starter/InterceptorOrder](https://github.com/yidongnan/grpc-spring-boot-starter/blob/fa5a7531c4a1b97eeb7cb43c5d518c675a953850/grpc-common-spring-boot/src/main/java/net/devh/boot/grpc/common/util/InterceptorOrder.java#L79-L103)","title":"Sort spring @Beans by method level @Order annotation","body":"<p>I found a way to access the annotions that are only present on the bean factory methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Comparator&lt;Object&gt; beanFactoryAwareOrderComparator(final ApplicationContext context,\n            final Class&lt;?&gt; beanType) {\n        final Map&lt;?, String&gt; beans = HashBiMap.create(context.getBeansOfType(beanType)).inverse();\n        return OrderComparator.INSTANCE.withSourceProvider(bean -&gt; {\n\n            // The AnnotationAwareOrderComparator does not have the &quot;withSourceProvider&quot; method\n            // The OrderComparator.withSourceProvider does not properly account for the annotations\n            final Integer priority = AnnotationAwareOrderComparator.INSTANCE.getPriority(bean);\n            if (priority != null) {\n                return (Ordered) () -&gt; priority;\n            }\n\n            // Consult the bean factory method for annotations\n            final String beanName = beans.get(bean);\n            if (beanName != null) {\n                final Order order = context.findAnnotationOnBean(beanName, Order.class);\n                if (order != null) {\n                    return (Ordered) order::value;\n                }\n            }\n\n            // Nothing present\n            return null;\n        });\n    }\n</code></pre>\n<p>Source: <a href=\"https://github.com/yidongnan/grpc-spring-boot-starter/blob/fa5a7531c4a1b97eeb7cb43c5d518c675a953850/grpc-common-spring-boot/src/main/java/net/devh/boot/grpc/common/util/InterceptorOrder.java#L79-L103\" rel=\"nofollow noreferrer\">yidongnan/grpc-spring-boot-starter/InterceptorOrder</a></p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56408844,"answer_count":2,"score":6,"last_activity_date":1673438016,"creation_date":1558987655,"question_id":56331925,"body_markdown":"My library has to deal with multiple beans (interceptors) that are specified in arbitrary order (because they are spread over multiple configuration files).\r\nBefore I can apply them I have to sort them by their priority. I use `AnnotationAwareOrderComparator.sort(beans)` for that. This works well as long as the `@Order` annotation is added on the class level of that interceptor.\r\nBut it does not work when I try to use it in @Configuration classes on @Bean methods:\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        @Order(1)\r\n        public ServerInterceptor exceptionTranslatingServerInterceptor() {\r\n            return ...;\r\n        }\r\n    \r\n        @Bean\r\n        @Order(2)\r\n        public ServerInterceptor authenticatingServerInterceptor() {\r\n            return ...;\r\n        }\r\n    \r\n        @Bean\r\n        @Order(3)\r\n        public ServerInterceptor authorizationCheckingServerInterceptor() {\r\n            return ...\r\n        }\r\n    \r\n    }\r\n\r\nBut if I add a test like this:\r\n\r\n    @Test\r\n    void testOrderingOfTheDefaultInterceptors() {\r\n        List&lt;ServerInterceptor&gt; expected = new ArrayList&lt;&gt;();\r\n        expected.add(applicationContext.getBean(ExceptionTranslatingServerInterceptor.class));\r\n        expected.add(applicationContext.getBean(AuthenticatingServerInterceptor.class));\r\n        expected.add(applicationContext.getBean(AuthorizationCheckingServerInterceptor.class));\r\n\r\n        List&lt;ServerInterceptor&gt; actual = new ArrayList&lt;&gt;(this.registry.getServerInterceptors());\r\n        assertEquals(expected, actual); // Accidentally passes\r\n        // System.out.println(actual);\r\n\r\n        Collections.shuffle(actual);\r\n        AnnotationAwareOrderComparator.sort(actual);\r\n        assertEquals(expected, actual); // Fails\r\n        // System.out.println(actual);\r\n    }\r\n\r\nThen the test will fail.\r\nFrom my debugging I know that `AnnotationAwareOrderComparator.findOrder(Object)` always returns null (unspecified) for the order of those beans. Probably because the bean instances aren&#39;t proxied and thus neither implement order nor have the order annotation on their class level. Is there a BeanPostProcessor or an config option that I have to enable?\r\n\r\n[![Controll-Flow][1]][1]\r\n\r\nHow do I tell spring to either preserve the annotated order or use the application context&#39;s bean definitions to sort the beans appropriately?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zd89Q.png","title":"Sort spring @Beans by method level @Order annotation","body":"<p>My library has to deal with multiple beans (interceptors) that are specified in arbitrary order (because they are spread over multiple configuration files).\nBefore I can apply them I have to sort them by their priority. I use <code>AnnotationAwareOrderComparator.sort(beans)</code> for that. This works well as long as the <code>@Order</code> annotation is added on the class level of that interceptor.\nBut it does not work when I try to use it in @Configuration classes on @Bean methods:</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    @Order(1)\n    public ServerInterceptor exceptionTranslatingServerInterceptor() {\n        return ...;\n    }\n\n    @Bean\n    @Order(2)\n    public ServerInterceptor authenticatingServerInterceptor() {\n        return ...;\n    }\n\n    @Bean\n    @Order(3)\n    public ServerInterceptor authorizationCheckingServerInterceptor() {\n        return ...\n    }\n\n}\n</code></pre>\n\n<p>But if I add a test like this:</p>\n\n<pre><code>@Test\nvoid testOrderingOfTheDefaultInterceptors() {\n    List&lt;ServerInterceptor&gt; expected = new ArrayList&lt;&gt;();\n    expected.add(applicationContext.getBean(ExceptionTranslatingServerInterceptor.class));\n    expected.add(applicationContext.getBean(AuthenticatingServerInterceptor.class));\n    expected.add(applicationContext.getBean(AuthorizationCheckingServerInterceptor.class));\n\n    List&lt;ServerInterceptor&gt; actual = new ArrayList&lt;&gt;(this.registry.getServerInterceptors());\n    assertEquals(expected, actual); // Accidentally passes\n    // System.out.println(actual);\n\n    Collections.shuffle(actual);\n    AnnotationAwareOrderComparator.sort(actual);\n    assertEquals(expected, actual); // Fails\n    // System.out.println(actual);\n}\n</code></pre>\n\n<p>Then the test will fail.\nFrom my debugging I know that <code>AnnotationAwareOrderComparator.findOrder(Object)</code> always returns null (unspecified) for the order of those beans. Probably because the bean instances aren't proxied and thus neither implement order nor have the order annotation on their class level. Is there a BeanPostProcessor or an config option that I have to enable?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zd89Q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Zd89Q.png\" alt=\"Controll-Flow\"></a></p>\n\n<p>How do I tell spring to either preserve the annotated order or use the application context's bean definitions to sort the beans appropriately?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673429917,"post_id":75074299,"comment_id":132495093,"body_markdown":"JDK version ? full pom.xml ? How to start your application ? java -jar xxx.jar ? Your Spring Boot Application class source ?","body":"JDK version ? full pom.xml ? How to start your application ? java -jar xxx.jar ? Your Spring Boot Application class source ?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673437498,"creation_date":1673437498,"answer_id":75082520,"question_id":75074299,"body_markdown":"You cannot deploy Spring Boot 2.7.x or lower to Tomcat 10, because Spring Boot 2.7 uses Jakarta EE 8, which uses the `javax.*` namespace, while Tomcat 10 is Jakarta EE 9 or higher, which uses the `jakarta.*` namespace. This is a big breaking change in the Java world, and you cannot just mix and match incompatible dependencies.\r\n\r\nYou either need to upgrade to Spring Boot 3, or you need to downgrade to Tomcat 9. \r\n\r\nAlso, in this case, you should let Spring Boot control the version of `tomcat-embed-core`, and not specify the version yourself. [Spring Boot 2.7.7][1] specifies `tomcat-embed-core` 9.0.70 (search for `tomcat-embed-core`), while [Spring Boot 3.0.1][2] specifies `tomcat-embed-core` 10.1.4. Don&#39;t try to change it yourself, especially not to incompatible version. Changing to different minor or patch versions will usually work, but should generally not be done either because it increases your maintenance overhead, where otherwise you&#39;ll only need to increase the Spring Boot version to receive new _compatible_ dependency versions.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/dependency-versions.html#appendix.dependency-versions","title":"Spring tool application failed to start","body":"<p>You cannot deploy Spring Boot 2.7.x or lower to Tomcat 10, because Spring Boot 2.7 uses Jakarta EE 8, which uses the <code>javax.*</code> namespace, while Tomcat 10 is Jakarta EE 9 or higher, which uses the <code>jakarta.*</code> namespace. This is a big breaking change in the Java world, and you cannot just mix and match incompatible dependencies.</p>\n<p>You either need to upgrade to Spring Boot 3, or you need to downgrade to Tomcat 9.</p>\n<p>Also, in this case, you should let Spring Boot control the version of <code>tomcat-embed-core</code>, and not specify the version yourself. <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring Boot 2.7.7</a> specifies <code>tomcat-embed-core</code> 9.0.70 (search for <code>tomcat-embed-core</code>), while <a href=\"https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring Boot 3.0.1</a> specifies <code>tomcat-embed-core</code> 10.1.4. Don't try to change it yourself, especially not to incompatible version. Changing to different minor or patch versions will usually work, but should generally not be done either because it increases your maintenance overhead, where otherwise you'll only need to increase the Spring Boot version to receive new <em>compatible</em> dependency versions.</p>\n"}],"owner":{"account_id":27483657,"reputation":11,"user_id":20970276,"display_name":"Janice Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673437807,"creation_date":1673375100,"question_id":75074299,"body_markdown":"Anyone know how to solve below issue? \r\n\r\n\r\n&gt; The following method did not exist:\r\n&gt; \r\n&gt; &#39;void\r\n&gt; org.apache.catalina.Context.addServletContainerInitializer(javax.servlet.ServletContainerInitializer,\r\n&gt; java.util.Set)&#39;\r\n&gt; \r\n&gt; The calling method&#39;s class,\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory,\r\n&gt; was loaded from the following location:\r\n&gt; \r\n&gt;     jar:file:/C:/Users/Janice/.m2/repository/org/springframework/boot/spring-boot/2.7.6/spring-boot-2.7.6.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\r\n&gt; \r\n&gt; The called method&#39;s class, org.apache.catalina.Context, is available\r\n&gt; from the following locations:\r\n&gt; \r\n&gt;     jar:file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar!/org/apache/catalina/Context.class\r\n&gt; \r\n&gt; The called method&#39;s class hierarchy was loaded from the following\r\n&gt; locations:\r\n&gt; \r\n&gt;     org.apache.catalina.Context: file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Correct the classpath of your application so that it contains\r\n&gt; compatible versions of the classes\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\r\n&gt; and org.apache.catalina.Context\r\n\r\nI expected to upgrade version for tomcat-embed-core to version 10.1.4\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring tool application failed to start","body":"<p>Anyone know how to solve below issue?</p>\n<blockquote>\n<p>The following method did not exist:</p>\n<p>'void\norg.apache.catalina.Context.addServletContainerInitializer(javax.servlet.ServletContainerInitializer,\njava.util.Set)'</p>\n<p>The calling method's class,\norg.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory,\nwas loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/Janice/.m2/repository/org/springframework/boot/spring-boot/2.7.6/spring-boot-2.7.6.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\n</code></pre>\n<p>The called method's class, org.apache.catalina.Context, is available\nfrom the following locations:</p>\n<pre><code>jar:file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar!/org/apache/catalina/Context.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following\nlocations:</p>\n<pre><code>org.apache.catalina.Context: file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains\ncompatible versions of the classes\norg.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\nand org.apache.catalina.Context</p>\n</blockquote>\n<p>I expected to upgrade version for tomcat-embed-core to version 10.1.4</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;10.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","many-to-many"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1672044712,"post_id":74905269,"comment_id":132211379,"body_markdown":"Try to add default value for `students` and `subjects`.\n`... = new HashSet&lt;&gt;();`. Also, avoid [using `@Data` on your entities](https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/)","body":"Try to add default value for <code>students</code> and <code>subjects</code>. <code>... = new HashSet&lt;&gt;();</code>. Also, avoid <a href=\"https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/\" rel=\"nofollow noreferrer\">using <code>@Data</code> on your entities</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1672243888,"post_id":74905269,"comment_id":132250458,"body_markdown":"What you posted isn&#39;t an error, it is just a query string- post the full error message and part of the stack as it will probably help you. Turn off Lombok and generate the accessors yourself and it should work. As https://stackoverflow.com/a/74905342/496099 hinted at, Lombok is likely using your relationships within the equals and hashcode methods (Lombok shouldn&#39;t be used without knowing what it generates!), and Set requires using them to populate - which causes it to traverse your object model recursively. You might also be able to switch to using List instead of set, but more could be wrong","body":"What you posted isn&#39;t an error, it is just a query string- post the full error message and part of the stack as it will probably help you. Turn off Lombok and generate the accessors yourself and it should work. As <a href=\"https://stackoverflow.com/a/74905342/496099\">stackoverflow.com/a/74905342/496099</a> hinted at, Lombok is likely using your relationships within the equals and hashcode methods (Lombok shouldn&#39;t be used without knowing what it generates!), and Set requires using them to populate - which causes it to traverse your object model recursively. You might also be able to switch to using List instead of set, but more could be wrong"}],"answers":[{"comments":[{"owner":{"account_id":18398353,"reputation":1,"user_id":20851027,"display_name":"eurocase"},"score":0,"creation_date":1671902267,"post_id":74905342,"comment_id":132195293,"body_markdown":"It &#180;s not work :(","body":"It &#180;s not work :("},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1672243735,"post_id":74905342,"comment_id":132250413,"body_markdown":"Because it isn&#39;t enough. You have multiple relationships in these entities, forcing any remaining to all be included in the equals and hashcode methods. Any not excluded will be accessed when ever equals/hashcode are called. As you have Set used within all entities, you should know that it requires calling hashcode to determine identity. So it is called on every entity within these collections as they are being built. And it&#39;ll be wrong as they are not immutable and the entities themselves might not be fully built. Don&#39;t have Lombok generate equals and hash at all.","body":"Because it isn&#39;t enough. You have multiple relationships in these entities, forcing any remaining to all be included in the equals and hashcode methods. Any not excluded will be accessed when ever equals/hashcode are called. As you have Set used within all entities, you should know that it requires calling hashcode to determine identity. So it is called on every entity within these collections as they are being built. And it&#39;ll be wrong as they are not immutable and the entities themselves might not be fully built. Don&#39;t have Lombok generate equals and hash at all."}],"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671850539,"creation_date":1671850539,"answer_id":74905342,"question_id":74905269,"body_markdown":"Try exclude `hash code` method auto generated by Lombok `@Data` annotation:\r\n```\r\n@EqualsAndHashCode(exclude = { &quot;subjects&quot; })\r\npublic class Student {\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n}\r\n\r\n@EqualsAndHashCode(exclude = { &quot;students&quot; })\r\npublic class Subject {\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n}\r\n```","title":"SPRING BOOT infinite recursion","body":"<p>Try exclude <code>hash code</code> method auto generated by Lombok <code>@Data</code> annotation:</p>\n<pre><code>@EqualsAndHashCode(exclude = { &quot;subjects&quot; })\npublic class Student {\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n}\n\n@EqualsAndHashCode(exclude = { &quot;students&quot; })\npublic class Subject {\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26862571,"reputation":1,"user_id":20445801,"display_name":"HIMANSHU RANJAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437774,"creation_date":1673437774,"answer_id":75082578,"question_id":74905269,"body_markdown":"You can use `@JsonIgnoreProperties({&lt;entity_class_name&gt;})` to skip the recursive call. \r\n\r\nOn student class\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@JsonIgnoreProperties({&quot;Subject&quot;})\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    public boolean addSubject(Subject subject){\r\n        return subjects.add(subject);\r\n    }\r\n}\r\n```\r\nand on subject class\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties({&quot;Student&quot;})\r\npublic class Subject {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n\r\n    @OneToMany(mappedBy=&quot;subject&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name=&quot;teacher_id&quot;)\r\n    @JsonIgnore\r\n    private Teacher teacher;\r\n\r\n    public boolean addStudent(Student student) {\r\n        return students.add(student);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"SPRING BOOT infinite recursion","body":"<p>You can use <code>@JsonIgnoreProperties({&lt;entity_class_name&gt;})</code> to skip the recursive call.</p>\n<p>On student class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@JsonIgnoreProperties({&quot;Subject&quot;})\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n\n    @ManyToMany(mappedBy=&quot;students&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    public boolean addSubject(Subject subject){\n        return subjects.add(subject);\n    }\n}\n</code></pre>\n<p>and on subject class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@JsonIgnoreProperties({&quot;Student&quot;})\npublic class Subject {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n\n    @OneToMany(mappedBy=&quot;subject&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;teacher_id&quot;)\n    @JsonIgnore\n    private Teacher teacher;\n\n    public boolean addStudent(Student student) {\n        return students.add(student);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18398353,"reputation":1,"user_id":20851027,"display_name":"eurocase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673437774,"creation_date":1671848662,"question_id":74905269,"body_markdown":"I have two entitys, Student and Subject. This two class have a many to many relationship. The thing is when i try to link a Subject with Student, not work give me a error. Looks like infinite recursion issue.\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    public boolean addSubject(Subject subject){\r\n        return subjects.add(subject);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class Subject {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n\r\n    @OneToMany(mappedBy=&quot;subject&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name=&quot;teacher_id&quot;)\r\n    @JsonIgnore\r\n    private Teacher teacher;\r\n\r\n    public boolean addStudent(Student student) {\r\n        return students.add(student);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nthe methodo i use int the service is:\r\n\r\n\r\n```\r\n@PostMapping(&quot;/{studentId}/subject/{subjectId}&quot;)\r\npublic ResponseEntity&lt;Student&gt; addSubject(@PathVariable Long studentId, @PathVariable Long subjectId ){\r\n    return studentService.addSubject(studentId,subjectId);\r\n}\r\n```\r\n\r\n\r\nAnd the error:\r\n\r\nHibernate: select subjects0_.student_id as student_2_4_0_, subjects0_.subject_id as subject_1_4_0_, subject1_.id as id1_3_1_, subject1_.name as name2_3_1_, subject1_.teacher_id as teacher_3_3_1_, teacher2_.id as id1_5_2_, teacher2_.name as name2_5_2_ from subjects_students subjects0_ inner join subject subject1_ on subjects0_.subject_id=subject1_.id left outer join teacher teacher2_ on subject1_.teacher_id=teacher2_.id where subjects0_.student_id=? \r\n\r\nPlease help me, this is driving creazy","title":"SPRING BOOT infinite recursion","body":"<p>I have two entitys, Student and Subject. This two class have a many to many relationship. The thing is when i try to link a Subject with Student, not work give me a error. Looks like infinite recursion issue.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n\n    @ManyToMany(mappedBy=&quot;students&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    public boolean addSubject(Subject subject){\n        return subjects.add(subject);\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class Subject {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n\n    @OneToMany(mappedBy=&quot;subject&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;teacher_id&quot;)\n    @JsonIgnore\n    private Teacher teacher;\n\n    public boolean addStudent(Student student) {\n        return students.add(student);\n    }\n}\n</code></pre>\n<p>the methodo i use int the service is:</p>\n<pre><code>@PostMapping(&quot;/{studentId}/subject/{subjectId}&quot;)\npublic ResponseEntity&lt;Student&gt; addSubject(@PathVariable Long studentId, @PathVariable Long subjectId ){\n    return studentService.addSubject(studentId,subjectId);\n}\n</code></pre>\n<p>And the error:</p>\n<p>Hibernate: select subjects0_.student_id as student_2_4_0_, subjects0_.subject_id as subject_1_4_0_, subject1_.id as id1_3_1_, subject1_.name as name2_3_1_, subject1_.teacher_id as teacher_3_3_1_, teacher2_.id as id1_5_2_, teacher2_.name as name2_5_2_ from subjects_students subjects0_ inner join subject subject1_ on subjects0_.subject_id=subject1_.id left outer join teacher teacher2_ on subject1_.teacher_id=teacher2_.id where subjects0_.student_id=?</p>\n<p>Please help me, this is driving creazy</p>\n"},{"tags":["java","swing","netbeans","jbutton"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1658513706,"post_id":73083936,"comment_id":129078740,"body_markdown":"`new JButton(String.valueOf(i))` or `new JButton(&quot;&quot;+i)`","body":"<code>new JButton(String.valueOf(i))</code> or <code>new JButton(&quot;&quot;+i)</code>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658532461,"post_id":73083936,"comment_id":129082991,"body_markdown":"what is a _JButton objectiv_?","body":"what is a <i>JButton objectiv</i>?"}],"answers":[{"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1673443591,"post_id":73084007,"comment_id":132499869,"body_markdown":"You can pass the text using `JButton` constructor: the body of the for-loop needs to be: `frame.add(new JButton(String.valueOf(i)));`","body":"You can pass the text using <code>JButton</code> constructor: the body of the for-loop needs to be: <code>frame.add(new JButton(String.valueOf(i)));</code>"}],"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658510738,"creation_date":1658510738,"answer_id":73084007,"question_id":73083936,"body_markdown":"Define the `JButton` object and add the text you want using `setText()` method\r\n\r\n```  \r\nfor (int i = 0; i &lt; 10; i++) {\r\n  JButton jButton = new JButton();\r\n  jButton.setText(String.valueOf(i));\r\n  frame.add(jButton);\r\n}\r\n```","title":"I want to increase JButton with for loop. How can I do?","body":"<p>Define the <code>JButton</code> object and add the text you want using <code>setText()</code> method</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n  JButton jButton = new JButton();\n  jButton.setText(String.valueOf(i));\n  frame.add(jButton);\n}\n</code></pre>\n"}],"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673437565,"creation_date":1658510397,"question_id":73083936,"body_markdown":"I want to increase JButton with for loop but this program output wrote just &quot;i&quot;. I want to write output &quot;1&quot;, &quot;2&quot;,....&quot;10&quot; in this program. So I understood that I don&#39;t write correct this `frame.add(new JButton(&quot;i&quot;));`.  \r\nWhat should I do?\r\n\r\n    public static void main(String[]args){\r\n       \r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(500,500);\r\n        frame.setLayout(new FlowLayout());\r\n        \r\n        for(int i = 0; i&lt;10;i++){\r\n            frame.add(new JButton(&quot;i&quot;));\r\n        }\r\n\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n\r\n","title":"I want to increase JButton with for loop. How can I do?","body":"<p>I want to increase JButton with for loop but this program output wrote just &quot;i&quot;. I want to write output &quot;1&quot;, &quot;2&quot;,....&quot;10&quot; in this program. So I understood that I don't write correct this <code>frame.add(new JButton(&quot;i&quot;));</code>.<br />\nWhat should I do?</p>\n<pre><code>public static void main(String[]args){\n   \n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(500,500);\n    frame.setLayout(new FlowLayout());\n    \n    for(int i = 0; i&lt;10;i++){\n        frame.add(new JButton(&quot;i&quot;));\n    }\n\n    frame.setVisible(true);\n    \n}\n</code></pre>\n"},{"tags":["java","android","geolocation"],"answers":[{"comments":[{"owner":{"account_id":307887,"reputation":1924,"user_id":619441,"accept_rate":90,"display_name":"Dray"},"score":0,"creation_date":1333709578,"post_id":2227299,"comment_id":12847260,"body_markdown":"will this works in emulator. did this code shows lati and longi in the emulator???????","body":"will this works in emulator. did this code shows lati and longi in the emulator???????"},{"owner":{"account_id":334731,"reputation":2647,"user_id":1951442,"accept_rate":68,"display_name":"Swifty McSwifterton"},"score":3,"creation_date":1380176595,"post_id":2227299,"comment_id":28104426,"body_markdown":"You should also be sure to remove the updates in onPause (or where needed) in order to stop getting updates you no longer want. -&gt; lm.removeUpdates(locationListener);","body":"You should also be sure to remove the updates in onPause (or where needed) in order to stop getting updates you no longer want. -&gt; lm.removeUpdates(locationListener);"},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1460835329,"post_id":2227299,"comment_id":60929354,"body_markdown":"How accurate is getLastLocation?","body":"How accurate is getLastLocation?"},{"owner":{"account_id":5068227,"reputation":711,"user_id":4067759,"accept_rate":60,"display_name":"therealprashant"},"score":0,"creation_date":1471760966,"post_id":2227299,"comment_id":65472133,"body_markdown":"Your link to LocationManager return 404","body":"Your link to LocationManager return 404"},{"owner":{"account_id":2007749,"reputation":1382,"user_id":1797127,"accept_rate":100,"display_name":"Hugo Allexis Cardona"},"score":2,"creation_date":1508022257,"post_id":2227299,"comment_id":80446296,"body_markdown":"If you&#39;re already using ACCESS_FINE_LOCATION permission, you implicitly have coarse location permission enabled:\n\n&quot;If you are using both NETWORK_PROVIDER and GPS_PROVIDER, then you need to request only the ACCESS_FINE_LOCATION permission, because it includes permission for both providers.&quot;\nhttps://developer.android.com/guide/topics/location/strategies.html","body":"If you&#39;re already using ACCESS_FINE_LOCATION permission, you implicitly have coarse location permission enabled:  &quot;If you are using both NETWORK_PROVIDER and GPS_PROVIDER, then you need to request only the ACCESS_FINE_LOCATION permission, because it includes permission for both providers.&quot; <a href=\"https://developer.android.com/guide/topics/location/strategies.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/location/strategies.html</a>"},{"owner":{"account_id":8472094,"reputation":135,"user_id":6354350,"display_name":"Sivaram Boina"},"score":0,"creation_date":1509000651,"post_id":2227299,"comment_id":80842294,"body_markdown":"is it necessary that mobile data should be enabled?","body":"is it necessary that mobile data should be enabled?"},{"owner":{"account_id":185847,"reputation":515,"user_id":422822,"accept_rate":71,"display_name":"Bahaa Salaheldin"},"score":1,"creation_date":1543188509,"post_id":2227299,"comment_id":93816536,"body_markdown":"I used this code and the nedded permissions but longitude and latitude are null..where is the error here?","body":"I used this code and the nedded permissions but longitude and latitude are null..where is the error here?"}],"tags":[],"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"comment_count":7,"down_vote_count":1,"up_vote_count":357,"is_accepted":false,"score":356,"last_activity_date":1505601528,"creation_date":1265698180,"answer_id":2227299,"question_id":2227292,"body_markdown":"Use the [`LocationManager`][1].\r\n\r\n    LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE); \r\n    Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n    double longitude = location.getLongitude();\r\n    double latitude = location.getLatitude();\r\n\r\nThe call to `getLastKnownLocation()` doesn&#39;t block - which means it will return `null` if no position is currently available - so you probably want to have a look at passing a [`LocationListener`][2] to the [`requestLocationUpdates()` method][3] instead, which will give you asynchronous updates of your location.\r\n\r\n    private final LocationListener locationListener = new LocationListener() {\r\n        public void onLocationChanged(Location location) {\r\n            longitude = location.getLongitude();\r\n            latitude = location.getLatitude();\r\n        }\r\n    }\r\n\r\n    lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 10, locationListener);\r\n\r\nYou&#39;ll need to give your application the [`ACCESS_FINE_LOCATION` permission][4] if you want to use GPS.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\nYou may also want to add the [`ACCESS_COARSE_LOCATION` permission][5] for when GPS isn&#39;t available and select your location provider with the [`getBestProvider()` method][6].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/location/LocationManager.html\r\n  [2]: https://developer.android.com/reference/android/location/LocationListener.html\r\n  [3]: https://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.app.PendingIntent)\r\n  [4]: https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION\r\n  [5]: https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_COARSE_LOCATION\r\n  [6]: https://developer.android.com/reference/android/location/LocationManager.html#getBestProvider(android.location.Criteria,%20boolean)","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Use the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html\" rel=\"noreferrer\"><code>LocationManager</code></a>.</p>\n\n<pre><code>LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE); \nLocation location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\ndouble longitude = location.getLongitude();\ndouble latitude = location.getLatitude();\n</code></pre>\n\n<p>The call to <code>getLastKnownLocation()</code> doesn't block - which means it will return <code>null</code> if no position is currently available - so you probably want to have a look at passing a <a href=\"https://developer.android.com/reference/android/location/LocationListener.html\" rel=\"noreferrer\"><code>LocationListener</code></a> to the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.app.PendingIntent)\" rel=\"noreferrer\"><code>requestLocationUpdates()</code> method</a> instead, which will give you asynchronous updates of your location.</p>\n\n<pre><code>private final LocationListener locationListener = new LocationListener() {\n    public void onLocationChanged(Location location) {\n        longitude = location.getLongitude();\n        latitude = location.getLatitude();\n    }\n}\n\nlm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 10, locationListener);\n</code></pre>\n\n<p>You'll need to give your application the <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION\" rel=\"noreferrer\"><code>ACCESS_FINE_LOCATION</code> permission</a> if you want to use GPS.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n\n<p>You may also want to add the <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_COARSE_LOCATION\" rel=\"noreferrer\"><code>ACCESS_COARSE_LOCATION</code> permission</a> for when GPS isn't available and select your location provider with the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html#getBestProvider(android.location.Criteria,%20boolean)\" rel=\"noreferrer\"><code>getBestProvider()</code> method</a>.</p>\n"},{"comments":[{"owner":{"account_id":307892,"reputation":3607,"user_id":2232148,"accept_rate":61,"display_name":"Nirav Dangi"},"score":0,"creation_date":1311074218,"post_id":6621161,"comment_id":7995425,"body_markdown":"nice work man..!!! above code was not working but your code is working fine,,!! Strange why people didn&#39;t what you!.. thnks","body":"nice work man..!!! above code was not working but your code is working fine,,!! Strange why people didn&#39;t what you!.. thnks"},{"owner":{"account_id":2361204,"reputation":2865,"user_id":2067853,"accept_rate":68,"display_name":"rupesh"},"score":25,"creation_date":1403864680,"post_id":6621161,"comment_id":37833602,"body_markdown":"@sandy this comment is aweomse \nToast.makeText(context, &quot; Yaha Tak AAya&quot;, Toast.LENGTH_LONG).show();\n\n+1","body":"@sandy this comment is aweomse  Toast.makeText(context, &quot; Yaha Tak AAya&quot;, Toast.LENGTH_LONG).show();  +1"},{"owner":{"account_id":2361204,"reputation":2865,"user_id":2067853,"accept_rate":68,"display_name":"rupesh"},"score":0,"creation_date":1403866883,"post_id":6621161,"comment_id":37834894,"body_markdown":"@sandy yeah. how to get the latitude and longitude from this. Sorry for this silly question","body":"@sandy yeah. how to get the latitude and longitude from this. Sorry for this silly question"},{"owner":{"account_id":3331598,"reputation":317,"user_id":2800425,"accept_rate":80,"display_name":"Jei"},"score":0,"creation_date":1503463975,"post_id":6621161,"comment_id":78619083,"body_markdown":"Finally found the best solution to my problem with getting the latitude and longitude from inside of gotLocation. Shared preferences solved it. Thank you!","body":"Finally found the best solution to my problem with getting the latitude and longitude from inside of gotLocation. Shared preferences solved it. Thank you!"},{"owner":{"account_id":11506911,"reputation":156,"user_id":8432877,"accept_rate":40,"display_name":"Uzair Qaiser"},"score":1,"creation_date":1537351175,"post_id":6621161,"comment_id":91750010,"body_markdown":"@rup35h You are missing something!  ( System.out.println(&quot;SHARE PREFERENCE ME PUT KAR DIYA.&quot;); ) +1","body":"@rup35h You are missing something!  ( System.out.println(&quot;SHARE PREFERENCE ME PUT KAR DIYA.&quot;); ) +1"}],"tags":[],"owner":{"account_id":378089,"reputation":3331,"user_id":730600,"accept_rate":59,"display_name":"sandy"},"comment_count":5,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1436894021,"creation_date":1310109332,"answer_id":6621161,"question_id":2227292,"body_markdown":"Here is the class `LocationFinder` to find the GPS location. This class will call `MyLocation`, which will do the business.\r\n\r\n**LocationFinder**\r\n\r\n    public class LocationFinder extends Activity {\r\n\r\n\t    int increment = 4;\r\n\t    MyLocation myLocation = new MyLocation();\r\n\r\n\t    // private ProgressDialog dialog;\r\n\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t\t    super.onCreate(savedInstanceState);\r\n\t\t    setContentView(R.layout.intermediat);\r\n\t\t    myLocation.getLocation(getApplicationContext(), locationResult);\r\n\r\n\t\t    boolean r = myLocation.getLocation(getApplicationContext(),\r\n\t\t\t\tlocationResult);\r\n\r\n\t\t    startActivity(new Intent(LocationFinder.this,\r\n\t\t    // Nearbyhotelfinder.class));\r\n\t\t\t\tGPSMyListView.class));\r\n\t\t    finish();\r\n\t    }\r\n\r\n\t    public LocationResult locationResult = new LocationResult() {\r\n\r\n\t\t    @Override\r\n\t\t    public void gotLocation(Location location) {\r\n\t\t\t    // TODO Auto-generated method stub\r\n\t\t\t    double Longitude = location.getLongitude();\r\n\t\t\t    double Latitude = location.getLatitude();\r\n\r\n\t\t\t    Toast.makeText(getApplicationContext(), &quot;Got Location&quot;,\r\n\t\t\t\t\tToast.LENGTH_LONG).show();\r\n\r\n\t\t\t    try {\r\n\t\t\t\t    SharedPreferences locationpref = getApplication()\r\n\t\t\t\t\t\t.getSharedPreferences(&quot;location&quot;, MODE_WORLD_READABLE);\r\n\t\t\t\t    SharedPreferences.Editor prefsEditor = locationpref.edit();\r\n\t\t\t\t    prefsEditor.putString(&quot;Longitude&quot;, Longitude + &quot;&quot;);\r\n\t\t\t\t    prefsEditor.putString(&quot;Latitude&quot;, Latitude + &quot;&quot;);\r\n\t\t\t\t    prefsEditor.commit();\r\n\t\t\t\t    System.out.println(&quot;SHARE PREFERENCE ME PUT KAR DIYA.&quot;);\r\n\t\t\t    } catch (Exception e) {\r\n\t\t\t\t    // TODO Auto-generated catch block\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t    }\r\n\t\t    }\r\n\t    };\r\n\r\n\t    // handler for the background updating\r\n\r\n    }\r\n\r\n**MyLocation**\r\n\r\n    public class MyLocation {\r\n\r\n        Timer timer1;\r\n        LocationManager lm;\r\n        LocationResult locationResult;\r\n        boolean gps_enabled=false;\r\n        boolean network_enabled=false;\r\n\r\n        public boolean getLocation(Context context, LocationResult result)\r\n        {\r\n            //I use LocationResult callback class to pass location value from MyLocation to user code.\r\n            locationResult=result;\r\n            if(lm==null)\r\n                lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n\r\n            //exceptions will be thrown if provider is not permitted.\r\n            try{gps_enabled=lm.isProviderEnabled(LocationManager.GPS_PROVIDER);}catch(Exception ex){}\r\n            try{network_enabled=lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);}catch(Exception ex){}\r\n        \r\n            //Toast.makeText(context, gps_enabled+&quot; &quot;+network_enabled,     Toast.LENGTH_LONG).show();\r\n        \r\n            //don&#39;t start listeners if no provider is enabled\r\n            if(!gps_enabled &amp;&amp; !network_enabled)\r\n                return false;\r\n\r\n            if(gps_enabled)\r\n                lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);\r\n            if(network_enabled)\r\n                lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);\r\n            timer1=new Timer();\r\n        \r\n      \r\n            timer1.schedule(new GetLastLocation(), 10000);\r\n        //    Toast.makeText(context, &quot; Yaha Tak AAya&quot;, Toast.LENGTH_LONG).show();\r\n            return true;\r\n        }\r\n\r\n        LocationListener locationListenerGps = new LocationListener() {\r\n            public void onLocationChanged(Location location) {\r\n                timer1.cancel();\r\n                locationResult.gotLocation(location);\r\n                lm.removeUpdates(this);\r\n                lm.removeUpdates(locationListenerNetwork);\r\n            }\r\n            public void onProviderDisabled(String provider) {}\r\n            public void onProviderEnabled(String provider) {}\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {}\r\n        };\r\n\r\n        LocationListener locationListenerNetwork = new LocationListener() {\r\n            public void onLocationChanged(Location location) {\r\n                timer1.cancel();\r\n                locationResult.gotLocation(location);\r\n                lm.removeUpdates(this);\r\n                lm.removeUpdates(locationListenerGps);\r\n            }\r\n            public void onProviderDisabled(String provider) {}\r\n            public void onProviderEnabled(String provider) {}\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {}\r\n        };\r\n\r\n        class GetLastLocation extends TimerTask {\r\n\t\t    @Override\r\n\r\n            public void run() {\r\n        \t\r\n\t\t\t    //Context context = getClass().getgetApplicationContext();\r\n                 Location net_loc=null, gps_loc=null;\r\n                 if(gps_enabled)\r\n                     gps_loc=lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n                 if(network_enabled)\r\n                     net_loc=lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n\r\n                 //if there are both values use the latest one\r\n                 if(gps_loc!=null &amp;&amp; net_loc!=null){\r\n                     if(gps_loc.getTime()&gt;net_loc.getTime())\r\n                         locationResult.gotLocation(gps_loc);\r\n                     else\r\n                         locationResult.gotLocation(net_loc);\r\n                     return;\r\n                 }\r\n\r\n                 if(gps_loc!=null){\r\n                     locationResult.gotLocation(gps_loc);\r\n                     return;\r\n                 }\r\n                 if(net_loc!=null){\r\n                     locationResult.gotLocation(net_loc);\r\n                     return;\r\n                 }\r\n                 locationResult.gotLocation(null);\r\n            }\r\n        }\r\n\r\n        public static abstract class LocationResult{\r\n            public abstract void gotLocation(Location location);\r\n        }\r\n    }","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Here is the class <code>LocationFinder</code> to find the GPS location. This class will call <code>MyLocation</code>, which will do the business.</p>\n\n<p><strong>LocationFinder</strong></p>\n\n<pre><code>public class LocationFinder extends Activity {\n\n    int increment = 4;\n    MyLocation myLocation = new MyLocation();\n\n    // private ProgressDialog dialog;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.intermediat);\n        myLocation.getLocation(getApplicationContext(), locationResult);\n\n        boolean r = myLocation.getLocation(getApplicationContext(),\n            locationResult);\n\n        startActivity(new Intent(LocationFinder.this,\n        // Nearbyhotelfinder.class));\n            GPSMyListView.class));\n        finish();\n    }\n\n    public LocationResult locationResult = new LocationResult() {\n\n        @Override\n        public void gotLocation(Location location) {\n            // TODO Auto-generated method stub\n            double Longitude = location.getLongitude();\n            double Latitude = location.getLatitude();\n\n            Toast.makeText(getApplicationContext(), \"Got Location\",\n                Toast.LENGTH_LONG).show();\n\n            try {\n                SharedPreferences locationpref = getApplication()\n                    .getSharedPreferences(\"location\", MODE_WORLD_READABLE);\n                SharedPreferences.Editor prefsEditor = locationpref.edit();\n                prefsEditor.putString(\"Longitude\", Longitude + \"\");\n                prefsEditor.putString(\"Latitude\", Latitude + \"\");\n                prefsEditor.commit();\n                System.out.println(\"SHARE PREFERENCE ME PUT KAR DIYA.\");\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    };\n\n    // handler for the background updating\n\n}\n</code></pre>\n\n<p><strong>MyLocation</strong></p>\n\n<pre><code>public class MyLocation {\n\n    Timer timer1;\n    LocationManager lm;\n    LocationResult locationResult;\n    boolean gps_enabled=false;\n    boolean network_enabled=false;\n\n    public boolean getLocation(Context context, LocationResult result)\n    {\n        //I use LocationResult callback class to pass location value from MyLocation to user code.\n        locationResult=result;\n        if(lm==null)\n            lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n\n        //exceptions will be thrown if provider is not permitted.\n        try{gps_enabled=lm.isProviderEnabled(LocationManager.GPS_PROVIDER);}catch(Exception ex){}\n        try{network_enabled=lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);}catch(Exception ex){}\n\n        //Toast.makeText(context, gps_enabled+\" \"+network_enabled,     Toast.LENGTH_LONG).show();\n\n        //don't start listeners if no provider is enabled\n        if(!gps_enabled &amp;&amp; !network_enabled)\n            return false;\n\n        if(gps_enabled)\n            lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);\n        if(network_enabled)\n            lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);\n        timer1=new Timer();\n\n\n        timer1.schedule(new GetLastLocation(), 10000);\n    //    Toast.makeText(context, \" Yaha Tak AAya\", Toast.LENGTH_LONG).show();\n        return true;\n    }\n\n    LocationListener locationListenerGps = new LocationListener() {\n        public void onLocationChanged(Location location) {\n            timer1.cancel();\n            locationResult.gotLocation(location);\n            lm.removeUpdates(this);\n            lm.removeUpdates(locationListenerNetwork);\n        }\n        public void onProviderDisabled(String provider) {}\n        public void onProviderEnabled(String provider) {}\n        public void onStatusChanged(String provider, int status, Bundle extras) {}\n    };\n\n    LocationListener locationListenerNetwork = new LocationListener() {\n        public void onLocationChanged(Location location) {\n            timer1.cancel();\n            locationResult.gotLocation(location);\n            lm.removeUpdates(this);\n            lm.removeUpdates(locationListenerGps);\n        }\n        public void onProviderDisabled(String provider) {}\n        public void onProviderEnabled(String provider) {}\n        public void onStatusChanged(String provider, int status, Bundle extras) {}\n    };\n\n    class GetLastLocation extends TimerTask {\n        @Override\n\n        public void run() {\n\n            //Context context = getClass().getgetApplicationContext();\n             Location net_loc=null, gps_loc=null;\n             if(gps_enabled)\n                 gps_loc=lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n             if(network_enabled)\n                 net_loc=lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n\n             //if there are both values use the latest one\n             if(gps_loc!=null &amp;&amp; net_loc!=null){\n                 if(gps_loc.getTime()&gt;net_loc.getTime())\n                     locationResult.gotLocation(gps_loc);\n                 else\n                     locationResult.gotLocation(net_loc);\n                 return;\n             }\n\n             if(gps_loc!=null){\n                 locationResult.gotLocation(gps_loc);\n                 return;\n             }\n             if(net_loc!=null){\n                 locationResult.gotLocation(net_loc);\n                 return;\n             }\n             locationResult.gotLocation(null);\n        }\n    }\n\n    public static abstract class LocationResult{\n        public abstract void gotLocation(Location location);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":290819,"reputation":988,"user_id":592590,"accept_rate":40,"display_name":"LarryBud"},"score":1,"creation_date":1553037520,"post_id":10595605,"comment_id":97235203,"body_markdown":"What names space are all of these classes in?","body":"What names space are all of these classes in?"}],"tags":[],"owner":{"account_id":164605,"reputation":467,"user_id":387466,"accept_rate":71,"display_name":"Datta Kunde"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337064908,"creation_date":1337064908,"answer_id":10595605,"question_id":2227292,"body_markdown":"Above solutions is also correct, but some time if location is null then it crash the app or not working properly. The best way to get Latitude and Longitude of android is:\r\n\r\n \r\n\r\n   \r\n\r\n     Geocoder geocoder;\r\n         String bestProvider;\r\n         List&lt;Address&gt; user = null;\r\n         double lat;\r\n         double lng;\r\n        \t\t\r\n        LocationManager lm = (LocationManager) activity.getSystemService(Context.LOCATION_SERVICE);\r\n            \r\n         Criteria criteria = new Criteria();\r\n         bestProvider = lm.getBestProvider(criteria, false);\r\n         Location location = lm.getLastKnownLocation(bestProvider);\r\n        \r\n         if (location == null){\r\n             Toast.makeText(activity,&quot;Location Not found&quot;,Toast.LENGTH_LONG).show();\r\n          }else{\r\n        \tgeocoder = new Geocoder(activity);\r\n        \ttry {\r\n        \t    user = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n        \tlat=(double)user.get(0).getLatitude();\r\n        \tlng=(double)user.get(0).getLongitude();\r\n        \tSystem.out.println(&quot; DDD lat: &quot; +lat+&quot;,  longitude: &quot;+lng);\r\n        \t\t\t\t\r\n        \t}catch (Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t}\r\n        }","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Above solutions is also correct, but some time if location is null then it crash the app or not working properly. The best way to get Latitude and Longitude of android is:</p>\n\n<pre><code> Geocoder geocoder;\n     String bestProvider;\n     List&lt;Address&gt; user = null;\n     double lat;\n     double lng;\n\n    LocationManager lm = (LocationManager) activity.getSystemService(Context.LOCATION_SERVICE);\n\n     Criteria criteria = new Criteria();\n     bestProvider = lm.getBestProvider(criteria, false);\n     Location location = lm.getLastKnownLocation(bestProvider);\n\n     if (location == null){\n         Toast.makeText(activity,\"Location Not found\",Toast.LENGTH_LONG).show();\n      }else{\n        geocoder = new Geocoder(activity);\n        try {\n            user = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n        lat=(double)user.get(0).getLatitude();\n        lng=(double)user.get(0).getLongitude();\n        System.out.println(\" DDD lat: \" +lat+\",  longitude: \"+lng);\n\n        }catch (Exception e) {\n                e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076789,"reputation":607,"user_id":2605915,"accept_rate":67,"display_name":"Muhammad Zahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1407587527,"creation_date":1407587527,"answer_id":25218609,"question_id":2227292,"body_markdown":"you can got Current latlng using this\r\n\r\n`\r\n      \r\n      public class MainActivity extends ActionBarActivity {\r\n      private LocationManager locationManager;\r\n      private String provider;\r\n\t  private MyLocationListener mylistener;\r\n\t  private Criteria criteria;\r\n\t@TargetApi(Build.VERSION_CODES.HONEYCOMB)\r\n\t@SuppressLint(&quot;NewApi&quot;)\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\r\n\t\t\t\t\r\n\t\t\t\t locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\t\t\t\t  // Define the criteria how to select the location provider\r\n\t\t\t\t  criteria = new Criteria();\r\n\t\t\t\t  criteria.setAccuracy(Criteria.ACCURACY_COARSE);\t//default\r\n\t\t\t\t  \r\n\t\t\t\t  // user defines the criteria\r\n\t\t\t\t \r\n\t\t\t\t  criteria.setCostAllowed(false); \r\n\t\t\t\t  // get the best provider depending on the criteria\r\n\t\t\t\t  provider = locationManager.getBestProvider(criteria, false);\r\n\t\t\t    \r\n\t\t\t\t  // the last known location of this provider\r\n\t\t\t\t  Location location = locationManager.getLastKnownLocation(provider);\r\n\r\n\t\t\t\t  mylistener = new MyLocationListener();\r\n\t\t\t\r\n\t\t\t\t  if (location != null) {\r\n\t\t\t\t\t  mylistener.onLocationChanged(location);\r\n\t\t\t\t  } else {\r\n\t\t\t\t\t  // leads to the settings because there is no last known location\r\n\t\t\t\t\t  Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n\t\t\t\t\t  startActivity(intent);\r\n\t\t\t\t  }\r\n\t\t\t\t  // location updates: at least 1 meter and 200millsecs change\r\n\t\t\t\t  locationManager.requestLocationUpdates(provider, 200, 1, mylistener);\r\n\t\t\t\tString a=&quot;&quot;+location.getLatitude();\r\n\t\t\t\tToast.makeText(getApplicationContext(), a, 222).show();\r\n\t\t\r\n\t}\r\n\t\t\t\t\r\n\tprivate class MyLocationListener implements LocationListener {\r\n\t\t\r\n\t\t  @Override\r\n\t\t  public void onLocationChanged(Location location) {\r\n\t\t\t// Initialize the location fields\r\n\r\n\r\n\t\t\t  \r\n\t\t\t  Toast.makeText(MainActivity.this,  &quot;&quot;+location.getLatitude()+location.getLongitude(),\r\n\t\t\t\t        Toast.LENGTH_SHORT).show()  \r\n\t\t\t  \r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\t\t\t  Toast.makeText(MainActivity.this, provider + &quot;&#39;s status changed to &quot;+status +&quot;!&quot;,\r\n\t\t\t\t        Toast.LENGTH_SHORT).show();\r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onProviderEnabled(String provider) {\r\n\t\t\t  Toast.makeText(MainActivity.this, &quot;Provider &quot; + provider + &quot; enabled!&quot;,\r\n\t\t        Toast.LENGTH_SHORT).show();\r\n\t\r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onProviderDisabled(String provider) {\r\n\t\t\t  Toast.makeText(MainActivity.this, &quot;Provider &quot; + provider + &quot; disabled!&quot;,\r\n\t\t        Toast.LENGTH_SHORT).show();\r\n\t\t  }\r\n\t  }\t\t\t\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n\r\n\r\n`","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>you can got Current latlng using this</p>\n\n<p>`</p>\n\n<pre><code>  public class MainActivity extends ActionBarActivity {\n  private LocationManager locationManager;\n  private String provider;\n  private MyLocationListener mylistener;\n  private Criteria criteria;\n@TargetApi(Build.VERSION_CODES.HONEYCOMB)\n@SuppressLint(\"NewApi\")\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n             locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n              // Define the criteria how to select the location provider\n              criteria = new Criteria();\n              criteria.setAccuracy(Criteria.ACCURACY_COARSE);   //default\n\n              // user defines the criteria\n\n              criteria.setCostAllowed(false); \n              // get the best provider depending on the criteria\n              provider = locationManager.getBestProvider(criteria, false);\n\n              // the last known location of this provider\n              Location location = locationManager.getLastKnownLocation(provider);\n\n              mylistener = new MyLocationListener();\n\n              if (location != null) {\n                  mylistener.onLocationChanged(location);\n              } else {\n                  // leads to the settings because there is no last known location\n                  Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\n                  startActivity(intent);\n              }\n              // location updates: at least 1 meter and 200millsecs change\n              locationManager.requestLocationUpdates(provider, 200, 1, mylistener);\n            String a=\"\"+location.getLatitude();\n            Toast.makeText(getApplicationContext(), a, 222).show();\n\n}\n\nprivate class MyLocationListener implements LocationListener {\n\n      @Override\n      public void onLocationChanged(Location location) {\n        // Initialize the location fields\n\n\n\n          Toast.makeText(MainActivity.this,  \"\"+location.getLatitude()+location.getLongitude(),\n                    Toast.LENGTH_SHORT).show()  \n\n      }\n\n      @Override\n      public void onStatusChanged(String provider, int status, Bundle extras) {\n          Toast.makeText(MainActivity.this, provider + \"'s status changed to \"+status +\"!\",\n                    Toast.LENGTH_SHORT).show();\n      }\n\n      @Override\n      public void onProviderEnabled(String provider) {\n          Toast.makeText(MainActivity.this, \"Provider \" + provider + \" enabled!\",\n            Toast.LENGTH_SHORT).show();\n\n      }\n\n      @Override\n      public void onProviderDisabled(String provider) {\n          Toast.makeText(MainActivity.this, \"Provider \" + provider + \" disabled!\",\n            Toast.LENGTH_SHORT).show();\n      }\n  }         \n</code></pre>\n\n<p>`</p>\n"},{"comments":[{"owner":{"account_id":4747811,"reputation":484,"user_id":3838663,"accept_rate":83,"display_name":"DAVIDBALAS1"},"score":1,"creation_date":1471392900,"post_id":36512926,"comment_id":65325303,"body_markdown":"And declare the Activity in AndroidManifest xml file","body":"And declare the Activity in AndroidManifest xml file"},{"owner":{"account_id":1507033,"reputation":23680,"user_id":1410185,"accept_rate":98,"display_name":"Mina Gabriel"},"score":4,"creation_date":1472233642,"post_id":36512926,"comment_id":65686310,"body_markdown":"@DAVIDBALAS1 Android Studio takes care of this step for you now.","body":"@DAVIDBALAS1 Android Studio takes care of this step for you now."},{"owner":{"account_id":13865891,"reputation":1762,"user_id":10010404,"display_name":"Luis Febro"},"score":0,"creation_date":1658238911,"post_id":36512926,"comment_id":128998693,"body_markdown":"startActivityForResult(intent,1); is depracated now","body":"startActivityForResult(intent,1); is depracated now"}],"tags":[],"owner":{"account_id":1507033,"reputation":23680,"user_id":1410185,"accept_rate":98,"display_name":"Mina Gabriel"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1593633670,"creation_date":1460177996,"answer_id":36512926,"question_id":2227292,"body_markdown":"With `google` things changes very often: non of the previous answers worked for me.\r\n\r\n\r\n\r\nbased on [this google training][1] here is how you do it using \r\n\r\n&gt; fused location provider \r\n\r\nthis requires Set Up Google Play Services\r\n\r\n**Activity class**\r\n\r\n    public class GPSTrackerActivity extends AppCompatActivity implements\r\n        GoogleApiClient.ConnectionCallbacks,     \r\n     GoogleApiClient.OnConnectionFailedListener {\r\n\r\n    private GoogleApiClient mGoogleApiClient;\r\n    Location mLastLocation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (mGoogleApiClient == null) {\r\n            mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(LocationServices.API)\r\n                    .build();\r\n        }\r\n\r\n    }\r\n\r\n    protected void onStart() {\r\n        mGoogleApiClient.connect();\r\n        super.onStart();\r\n    }\r\n\r\n    protected void onStop() {\r\n        mGoogleApiClient.disconnect();\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(Bundle bundle) {\r\n        try {\r\n\r\n            mLastLocation = LocationServices.FusedLocationApi.getLastLocation(\r\n                    mGoogleApiClient);\r\n            if (mLastLocation != null) {\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;Longitude&quot;, mLastLocation.getLongitude());\r\n                intent.putExtra(&quot;Latitude&quot;, mLastLocation.getLatitude());\r\n                setResult(1,intent);\r\n                finish();\r\n\r\n            }\r\n        } catch (SecurityException e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(ConnectionResult connectionResult) {\r\n\r\n    }\r\n    }\r\n\r\n\r\n**usage**\r\n\r\nin you activity\r\n\r\n     Intent intent = new Intent(context, GPSTrackerActivity.class);\r\n        startActivityForResult(intent,1);\r\n\r\nAnd this method\r\n\r\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 1){\r\n            Bundle extras = data.getExtras();\r\n            Double longitude = extras.getDouble(&quot;Longitude&quot;);\r\n            Double latitude = extras.getDouble(&quot;Latitude&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: http://developer.android.com/training/location/retrieve-current.html","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>With <code>google</code> things changes very often: non of the previous answers worked for me.</p>\n<p>based on <a href=\"http://developer.android.com/training/location/retrieve-current.html\" rel=\"nofollow noreferrer\">this google training</a> here is how you do it using</p>\n<blockquote>\n<p>fused location provider</p>\n</blockquote>\n<p>this requires Set Up Google Play Services</p>\n<p><strong>Activity class</strong></p>\n<pre><code>public class GPSTrackerActivity extends AppCompatActivity implements\n    GoogleApiClient.ConnectionCallbacks,     \n GoogleApiClient.OnConnectionFailedListener {\n\nprivate GoogleApiClient mGoogleApiClient;\nLocation mLastLocation;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    if (mGoogleApiClient == null) {\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(LocationServices.API)\n                .build();\n    }\n\n}\n\nprotected void onStart() {\n    mGoogleApiClient.connect();\n    super.onStart();\n}\n\nprotected void onStop() {\n    mGoogleApiClient.disconnect();\n    super.onStop();\n}\n\n@Override\npublic void onConnected(Bundle bundle) {\n    try {\n\n        mLastLocation = LocationServices.FusedLocationApi.getLastLocation(\n                mGoogleApiClient);\n        if (mLastLocation != null) {\n            Intent intent = new Intent();\n            intent.putExtra(&quot;Longitude&quot;, mLastLocation.getLongitude());\n            intent.putExtra(&quot;Latitude&quot;, mLastLocation.getLatitude());\n            setResult(1,intent);\n            finish();\n\n        }\n    } catch (SecurityException e) {\n\n    }\n\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onConnectionFailed(ConnectionResult connectionResult) {\n\n}\n}\n</code></pre>\n<p><strong>usage</strong></p>\n<p>in you activity</p>\n<pre><code> Intent intent = new Intent(context, GPSTrackerActivity.class);\n    startActivityForResult(intent,1);\n</code></pre>\n<p>And this method</p>\n<pre><code> protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == 1){\n        Bundle extras = data.getExtras();\n        Double longitude = extras.getDouble(&quot;Longitude&quot;);\n        Double latitude = extras.getDouble(&quot;Latitude&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7875352,"reputation":724,"user_id":5951310,"display_name":"Md. Rejaul Karim"},"score":0,"creation_date":1564819641,"post_id":55847283,"comment_id":101162291,"body_markdown":"Please share your internet and gps state checker function?","body":"Please share your internet and gps state checker function?"}],"tags":[],"owner":{"account_id":8154089,"reputation":201,"user_id":6140220,"accept_rate":73,"display_name":"Ahmad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556188470,"creation_date":1556188470,"answer_id":55847283,"question_id":2227292,"body_markdown":"**Best way is**\r\n\r\nAdd permission manifest file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\nThen you can get GPS location or if GPS location is not available then this function return NETWORK location\r\n\r\n        public static Location getLocationWithCheckNetworkAndGPS(Context mContext) {\r\n        LocationManager lm = (LocationManager)\r\n                mContext.getSystemService(Context.LOCATION_SERVICE);\r\n        assert lm != null;\r\n        isGpsEnabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n        isNetworkLocationEnabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n\r\n        Location networkLoacation = null, gpsLocation = null, finalLoc = null;\r\n        if (isGpsEnabled)\r\n            if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n             \r\n                return null;\r\n            }gpsLocation = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        if (isNetworkLocationEnabled)\r\n            networkLoacation = lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n\r\n        if (gpsLocation != null &amp;&amp; networkLoacation != null) {\r\n\r\n            //smaller the number more accurate result will\r\n            if (gpsLocation.getAccuracy() &gt; networkLoacation.getAccuracy())\r\n                return finalLoc = networkLoacation;\r\n            else\r\n                return finalLoc = gpsLocation;\r\n\r\n        } else {\r\n\r\n            if (gpsLocation != null) {\r\n                return finalLoc = gpsLocation;\r\n            } else if (networkLoacation != null) {\r\n                return finalLoc = networkLoacation;\r\n            }\r\n        }\r\n        return finalLoc;\r\n    }\r\n","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p><strong>Best way is</strong></p>\n\n<p>Add permission manifest file</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n</code></pre>\n\n<p>Then you can get GPS location or if GPS location is not available then this function return NETWORK location</p>\n\n<pre><code>    public static Location getLocationWithCheckNetworkAndGPS(Context mContext) {\n    LocationManager lm = (LocationManager)\n            mContext.getSystemService(Context.LOCATION_SERVICE);\n    assert lm != null;\n    isGpsEnabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\n    isNetworkLocationEnabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n    Location networkLoacation = null, gpsLocation = null, finalLoc = null;\n    if (isGpsEnabled)\n        if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return null;\n        }gpsLocation = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n    if (isNetworkLocationEnabled)\n        networkLoacation = lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n\n    if (gpsLocation != null &amp;&amp; networkLoacation != null) {\n\n        //smaller the number more accurate result will\n        if (gpsLocation.getAccuracy() &gt; networkLoacation.getAccuracy())\n            return finalLoc = networkLoacation;\n        else\n            return finalLoc = gpsLocation;\n\n    } else {\n\n        if (gpsLocation != null) {\n            return finalLoc = gpsLocation;\n        } else if (networkLoacation != null) {\n            return finalLoc = networkLoacation;\n        }\n    }\n    return finalLoc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7212699,"reputation":79,"user_id":5506204,"display_name":"Ferdousur Rahman Shajib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598130740,"creation_date":1598130740,"answer_id":63541158,"question_id":2227292,"body_markdown":"You can use **[FusedLocationProvider][1]**\r\n\r\nFor using Fused Location Provider in your project you will have to add the **google play services location** dependency in our app level **build.gradle** file\r\n\r\n    dependencies {\r\n       implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\t   ...\r\n\t   ...\r\n\t   ...\r\n       implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n    }\r\n\r\n\r\n \r\n \r\n\r\n**Permissions in Manifest**\r\n\r\nApps that use location services must request location permissions. Android offers two location permissions: *ACCESS_COARSE_LOCATION* and *ACCESS_FINE_LOCATION*.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n\r\n\r\nAs you may know that from Android 6.0 (Marshmallow) you must request permissions for important access in the runtime. Cause it’s a security issue where while installing an application, user may not clearly understand about an important permission of their device.\r\n\r\n    ActivityCompat.requestPermissions(\r\n        this,\r\n        arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION),\r\n        PERMISSION_ID\r\n    )\r\n\r\nThen you can use the FusedLocationProvider Client to get the updated location in your desired place.\r\n\r\n        mFusedLocationClient.lastLocation.addOnCompleteListener(this) { task -&gt;\r\n            var location: Location? = task.result\r\n            if (location == null) {\r\n                requestNewLocationData()\r\n            } else {\r\n                findViewById&lt;TextView&gt;(R.id.latTextView).text = location.latitude.toString()\r\n                findViewById&lt;TextView&gt;(R.id.lonTextView).text = location.longitude.toString()\r\n            }\r\n        }\r\n\r\n\r\nYou can also check certain configuration like if the device has location settings on or not. You can also check the article on [Detect Current Latitude &amp; Longitude using Kotlin in Android][2] for more functionality.\r\nIf there is no cache location then it will catch the current location using:\r\n\r\n    private fun requestNewLocationData() {\r\n        var mLocationRequest = LocationRequest()\r\n        mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n        mLocationRequest.interval = 0\r\n        mLocationRequest.fastestInterval = 0\r\n        mLocationRequest.numUpdates = 1\r\n\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\r\n        mFusedLocationClient!!.requestLocationUpdates(\r\n                mLocationRequest, mLocationCallback,\r\n                Looper.myLooper()\r\n        )\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\r\n  [2]: https://blog.frsarker.com/kotlin/detect-current-latitude-and-longitude-using-kotlin-in-android.html","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>You can use <strong><a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\">FusedLocationProvider</a></strong></p>\n<p>For using Fused Location Provider in your project you will have to add the <strong>google play services location</strong> dependency in our app level <strong>build.gradle</strong> file</p>\n<pre><code>dependencies {\n   implementation fileTree(dir: 'libs', include: ['*.jar'])\n   ...\n   ...\n   ...\n   implementation 'com.google.android.gms:play-services-location:17.0.0'\n}\n</code></pre>\n<p><strong>Permissions in Manifest</strong></p>\n<p>Apps that use location services must request location permissions. Android offers two location permissions: <em>ACCESS_COARSE_LOCATION</em> and <em>ACCESS_FINE_LOCATION</em>.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n<p>As you may know that from Android 6.0 (Marshmallow) you must request permissions for important access in the runtime. Cause it’s a security issue where while installing an application, user may not clearly understand about an important permission of their device.</p>\n<pre><code>ActivityCompat.requestPermissions(\n    this,\n    arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION),\n    PERMISSION_ID\n)\n</code></pre>\n<p>Then you can use the FusedLocationProvider Client to get the updated location in your desired place.</p>\n<pre><code>    mFusedLocationClient.lastLocation.addOnCompleteListener(this) { task -&gt;\n        var location: Location? = task.result\n        if (location == null) {\n            requestNewLocationData()\n        } else {\n            findViewById&lt;TextView&gt;(R.id.latTextView).text = location.latitude.toString()\n            findViewById&lt;TextView&gt;(R.id.lonTextView).text = location.longitude.toString()\n        }\n    }\n</code></pre>\n<p>You can also check certain configuration like if the device has location settings on or not. You can also check the article on <a href=\"https://blog.frsarker.com/kotlin/detect-current-latitude-and-longitude-using-kotlin-in-android.html\" rel=\"nofollow noreferrer\">Detect Current Latitude &amp; Longitude using Kotlin in Android</a> for more functionality.\nIf there is no cache location then it will catch the current location using:</p>\n<pre><code>private fun requestNewLocationData() {\n    var mLocationRequest = LocationRequest()\n    mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n    mLocationRequest.interval = 0\n    mLocationRequest.fastestInterval = 0\n    mLocationRequest.numUpdates = 1\n\n    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n    mFusedLocationClient!!.requestLocationUpdates(\n            mLocationRequest, mLocationCallback,\n            Looper.myLooper()\n    )\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8866530,"reputation":755,"user_id":6621537,"display_name":"Johan Albrectsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655497945,"creation_date":1655497945,"answer_id":72664531,"question_id":2227292,"body_markdown":"Plug and play location-manager that can be used both in XML-based projects and Jetpack Compose projects (personally using it in JetpackCompose)\r\n\r\n    class LocationManager(context: Context): LocationCallback() {\r\n\r\n    val context = context\r\n    var publicCompletion: ((Double, Double) -&gt; Unit)? = null\r\n\r\n    var fusedLocationProviderClient = FusedLocationProviderClient(\r\n        context\r\n    )\r\n\r\n    fun requestLocationPermission() {\r\n        val activity = context as Activity?\r\n        ActivityCompat.requestPermissions(\r\n            activity!!,\r\n            arrayOf(\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ),\r\n            101\r\n        )\r\n    }\r\n\r\n    fun checkIfLocationPermissionIsGranted(): Boolean {\r\n        return (ActivityCompat.checkSelfPermission(\r\n            context,\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n        ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\r\n            context,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION\r\n        ) != PackageManager.PERMISSION_GRANTED\r\n                )\r\n    }\r\n\r\n    fun getLatitudeLongitude(completion: (Double, Double) -&gt; Unit) {\r\n        publicCompletion = { latitude, longitude -&gt;\r\n            completion(latitude, longitude)\r\n        }\r\n\r\n        if (ActivityCompat.checkSelfPermission(\r\n                context,\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n        ) {\r\n            val activity = context as Activity?\r\n            fusedLocationProviderClient.lastLocation.addOnCompleteListener(activity!!) { task -&gt;\r\n                var location: Location? = task.result\r\n                if (location != null) {\r\n                    publicCompletion?.let { it(location!!.latitude, location!!.longitude) }\r\n                } else {\r\n                    requestLocationUpdates()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun requestLocationUpdates() {\r\n        var request = LocationRequest()\r\n        request.priority = com.google.android.gms.location.LocationRequest.PRIORITY_HIGH_ACCURACY\r\n        request.fastestInterval = 0\r\n        request.numUpdates = 1\r\n\r\n        if (ActivityCompat.checkSelfPermission(\r\n                context,\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n        ) {\r\n            fusedLocationProviderClient.requestLocationUpdates(\r\n                request, this, Looper.myLooper()\r\n            )\r\n        }\r\n    }\r\n\r\n    override fun onLocationResult(p0: LocationResult?) {\r\n        super.onLocationResult(p0)\r\n\r\n        publicCompletion?.let { it(p0!!.lastLocation!!.latitude, p0!!.lastLocation!!.longitude) }\r\n    }\r\n\r\n    override fun onLocationAvailability(p0: LocationAvailability?) {\r\n        super.onLocationAvailability(p0)\r\n    }\r\n    }\r\n\r\n","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Plug and play location-manager that can be used both in XML-based projects and Jetpack Compose projects (personally using it in JetpackCompose)</p>\n<pre><code>class LocationManager(context: Context): LocationCallback() {\n\nval context = context\nvar publicCompletion: ((Double, Double) -&gt; Unit)? = null\n\nvar fusedLocationProviderClient = FusedLocationProviderClient(\n    context\n)\n\nfun requestLocationPermission() {\n    val activity = context as Activity?\n    ActivityCompat.requestPermissions(\n        activity!!,\n        arrayOf(\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ),\n        101\n    )\n}\n\nfun checkIfLocationPermissionIsGranted(): Boolean {\n    return (ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_FINE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_COARSE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED\n            )\n}\n\nfun getLatitudeLongitude(completion: (Double, Double) -&gt; Unit) {\n    publicCompletion = { latitude, longitude -&gt;\n        completion(latitude, longitude)\n    }\n\n    if (ActivityCompat.checkSelfPermission(\n            context,\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ) == PackageManager.PERMISSION_GRANTED\n    ) {\n        val activity = context as Activity?\n        fusedLocationProviderClient.lastLocation.addOnCompleteListener(activity!!) { task -&gt;\n            var location: Location? = task.result\n            if (location != null) {\n                publicCompletion?.let { it(location!!.latitude, location!!.longitude) }\n            } else {\n                requestLocationUpdates()\n            }\n        }\n    }\n}\n\nfun requestLocationUpdates() {\n    var request = LocationRequest()\n    request.priority = com.google.android.gms.location.LocationRequest.PRIORITY_HIGH_ACCURACY\n    request.fastestInterval = 0\n    request.numUpdates = 1\n\n    if (ActivityCompat.checkSelfPermission(\n            context,\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ) == PackageManager.PERMISSION_GRANTED\n    ) {\n        fusedLocationProviderClient.requestLocationUpdates(\n            request, this, Looper.myLooper()\n        )\n    }\n}\n\noverride fun onLocationResult(p0: LocationResult?) {\n    super.onLocationResult(p0)\n\n    publicCompletion?.let { it(p0!!.lastLocation!!.latitude, p0!!.lastLocation!!.longitude) }\n}\n\noverride fun onLocationAvailability(p0: LocationAvailability?) {\n    super.onLocationAvailability(p0)\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437155,"creation_date":1673437155,"answer_id":75082455,"question_id":2227292,"body_markdown":"Just follow Google recommendation and prepared codes in kotlin: (Supports also Android 11 and 12):\r\n\r\nhttps://github.com/googlecodelabs/while-in-use-location\r\n\r\nand its step by step explanation:\r\nhttps://codelabs.developers.google.com/codelabs/while-in-use-location\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVlz4.png","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Just follow Google recommendation and prepared codes in kotlin: (Supports also Android 11 and 12):</p>\n<p><a href=\"https://github.com/googlecodelabs/while-in-use-location\" rel=\"nofollow noreferrer\">https://github.com/googlecodelabs/while-in-use-location</a></p>\n<p>and its step by step explanation:\n<a href=\"https://codelabs.developers.google.com/codelabs/while-in-use-location\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/while-in-use-location</a></p>\n<p><a href=\"https://i.stack.imgur.com/gVlz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVlz4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":879208,"reputation":8487,"user_id":217065,"accept_rate":48,"display_name":"deepthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346968,"favorite_count":0,"down_vote_count":7,"up_vote_count":205,"answer_count":9,"score":198,"last_activity_date":1673437155,"creation_date":1265698095,"question_id":2227292,"body_markdown":"How do I get the current Latitude and Longitude of the mobile device in android using location tools?","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>How do I get the current Latitude and Longitude of the mobile device in android using location tools?</p>\n"},{"tags":["java","amazon-web-services"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1673421807,"post_id":75079471,"comment_id":132492454,"body_markdown":"The first snippet will work out of the box on an EC2 machine because the credentials provider chain includes one provider for ec2 credentials. On local you should run the code either with explicit credentials set or with a AWS_PROFILE set.","body":"The first snippet will work out of the box on an EC2 machine because the credentials provider chain includes one provider for ec2 credentials. On local you should run the code either with explicit credentials set or with a AWS_PROFILE set."}],"answers":[{"tags":[],"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437140,"creation_date":1673437140,"answer_id":75082454,"question_id":75079471,"body_markdown":"Instead of using the BasicAwsCredentials provider use the [com.amazonaws.auth.DefaultAWSCredentialsProviderChain][1] to get the credentials instance. The DefaultAWSCredentialsProvider goes in the below order. \r\n\r\nAWS credentials provider chain that looks for credentials in this order:\r\n- Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY (RECOMMENDED since they are recognized by all the AWS SDKs and CLI except for .NET), or AWS_ACCESS_KEY and AWS_SECRET_KEY (only recognized by Java SDK)\r\n- Java System Properties - aws.accessKeyId and aws.secretKey\r\n- Web Identity Token credentials from the environment or container\r\n- Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI\r\n- Credentials delivered through the Amazon EC2 container service if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot; environment variable is set and security manager has permission to access the variable,\r\n- Instance profile credentials delivered through the Amazon EC2 metadata service\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html","title":"create a Java application, which will use an ec2 role to access the restricted s3 bucket on Local","body":"<p>Instead of using the BasicAwsCredentials provider use the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html\" rel=\"nofollow noreferrer\">com.amazonaws.auth.DefaultAWSCredentialsProviderChain</a> to get the credentials instance. The DefaultAWSCredentialsProvider goes in the below order.</p>\n<p>AWS credentials provider chain that looks for credentials in this order:</p>\n<ul>\n<li>Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY (RECOMMENDED since they are recognized by all the AWS SDKs and CLI except for .NET), or AWS_ACCESS_KEY and AWS_SECRET_KEY (only recognized by Java SDK)</li>\n<li>Java System Properties - aws.accessKeyId and aws.secretKey</li>\n<li>Web Identity Token credentials from the environment or container</li>\n<li>Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI</li>\n<li>Credentials delivered through the Amazon EC2 container service if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot; environment variable is set and security manager has permission to access the variable,</li>\n<li>Instance profile credentials delivered through the Amazon EC2 metadata service</li>\n</ul>\n"}],"owner":{"account_id":26088098,"reputation":1,"user_id":19785378,"display_name":"Charul Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673437140,"creation_date":1673421369,"question_id":75079471,"body_markdown":"      AmazonS3 s3;\r\n      s3  = AmazonS3ClientBuilder.standard().withRegion(region).build();\r\n      return s3;\r\nI am creating s3 client without providing any credentials now If I use any api using this s3 client it will throw an saying access denied .\r\n\r\n\r\n      AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n      return AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region).build();\r\n\r\nWith using this code it will work but I dont want to provide accessKey and accessSecret.\r\nI have created a role with s3bucket full access and ec2 full access . Now how to create a Java application, which will use an ec2 role to access the  restricted s3 bucket on Localwithout access key and secret key","title":"create a Java application, which will use an ec2 role to access the restricted s3 bucket on Local","body":"<pre><code>  AmazonS3 s3;\n  s3  = AmazonS3ClientBuilder.standard().withRegion(region).build();\n  return s3;\n</code></pre>\n<p>I am creating s3 client without providing any credentials now If I use any api using this s3 client it will throw an saying access denied .</p>\n<pre><code>  AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n  return AmazonS3ClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\n            .withRegion(region).build();\n</code></pre>\n<p>With using this code it will work but I dont want to provide accessKey and accessSecret.\nI have created a role with s3bucket full access and ec2 full access . Now how to create a Java application, which will use an ec2 role to access the  restricted s3 bucket on Localwithout access key and secret key</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673437069,"creation_date":1673437069,"answer_id":75082431,"question_id":74405355,"body_markdown":"So I figured out that in case you need to parse request parameters as I needed - you should implement [HandlerMethodArgumentResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html). It provides the ability to access a lot of different request data. In my case it could look like this (initially I&#39;ve forgot that request parameters may contain arrays of values, so `MyWeirdRequest` field types were changed to `Map&lt;String, String[]&gt;`):\r\n\r\n        public class TestArgumentResolver implements HandlerMethodArgumentResolver {\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().equals(MyWeirdRequest.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory)\r\n                throws Exception {\r\n            MyWeirdRequest result = new MyWeirdRequest();\r\n            Map&lt;String, String[]&gt; startsWithOne = new HashMap&lt;&gt;();\r\n            Map&lt;String, String[]&gt; anythingElse = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;String, String[]&gt; paramEntry : webRequest.getParameterMap().entrySet()) {\r\n                String[] swoValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; v.startsWith(&quot;1&quot;))\r\n                        .collect(Collectors.toList()).toArray(new String[0]);\r\n                if (swoValues.length &gt; 0) {\r\n                    startsWithOne.put(paramEntry.getKey(), swoValues);\r\n                }\r\n                \r\n                String[] aeValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; !v.startsWith(&quot;1&quot;))\r\n                        .collect(Collectors.toList()).toArray(new String[0]);\r\n                if (aeValues.length &gt; 0) {\r\n                    anythingElse.put(paramEntry.getKey(), aeValues);\r\n                }\r\n            }\r\n            result.setStartWithOne(startsWithOne);\r\n            result.setAnythingElse(anythingElse);\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nAfter that, I created a configuration to register my request resolver:\r\n\r\n    @Configuration\r\n    public class TestRequestConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new TestArgumentResolver());\r\n        }\r\n        \r\n    }\r\nAnd that&#39;s pretty much it!","title":"Spring Boot REST custom request parameters mapping for complex abstract entity","body":"<p>So I figured out that in case you need to parse request parameters as I needed - you should implement <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow noreferrer\">HandlerMethodArgumentResolver</a>. It provides the ability to access a lot of different request data. In my case it could look like this (initially I've forgot that request parameters may contain arrays of values, so <code>MyWeirdRequest</code> field types were changed to <code>Map&lt;String, String[]&gt;</code>):</p>\n<pre><code>    public class TestArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().equals(MyWeirdRequest.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory)\n            throws Exception {\n        MyWeirdRequest result = new MyWeirdRequest();\n        Map&lt;String, String[]&gt; startsWithOne = new HashMap&lt;&gt;();\n        Map&lt;String, String[]&gt; anythingElse = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, String[]&gt; paramEntry : webRequest.getParameterMap().entrySet()) {\n            String[] swoValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; v.startsWith(&quot;1&quot;))\n                    .collect(Collectors.toList()).toArray(new String[0]);\n            if (swoValues.length &gt; 0) {\n                startsWithOne.put(paramEntry.getKey(), swoValues);\n            }\n            \n            String[] aeValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; !v.startsWith(&quot;1&quot;))\n                    .collect(Collectors.toList()).toArray(new String[0]);\n            if (aeValues.length &gt; 0) {\n                anythingElse.put(paramEntry.getKey(), aeValues);\n            }\n        }\n        result.setStartWithOne(startsWithOne);\n        result.setAnythingElse(anythingElse);\n        return result;\n    }\n\n}\n</code></pre>\n<p>After that, I created a configuration to register my request resolver:</p>\n<pre><code>@Configuration\npublic class TestRequestConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new TestArgumentResolver());\n    }\n    \n}\n</code></pre>\n<p>And that's pretty much it!</p>\n"}],"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75082431,"answer_count":1,"score":0,"last_activity_date":1673437069,"creation_date":1668183461,"question_id":74405355,"body_markdown":"I&#39;m working on REST API for the application using SpringBoot 2 and I want to get a specific object as my request parameter. Assuming I have my endpoint declared like this:\r\n```\r\n@RestController(&quot;TestEndpoint&quot;)\r\n@RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class TestEndpoint {\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/test&quot;)\r\n    String getTest(MyWeirdRequest myRequest) {\r\n        return myRequest.toString();\r\n    }\r\n}\r\n```\r\nwhere MyWeirdRequest looks like this:\r\n```\r\npublic class MyWeirdRequest {\r\n    private Map&lt;String, String&gt; startWithOne;\r\n    private Map&lt;String, String&gt; anythingElse;\r\n\r\n    // setters and getters here \r\n}\r\n```\r\n\r\nand my GET request would look like this example:\r\n```\r\nhttp://localost:8088/test?first=aaa&amp;second=1bbb&amp;third=1ccc&amp;fourth=2ddd\r\n```\r\nList of parameters is not defined anywhere and so they can contain any keys.\r\nI want my endpoint to get ```MyWeirdRequest``` object where all the params with value starting with 1 to be in startWithOne map and the rest of params to be in anythingElse where key is request parameter name. So in case of request above I want the result where my endpoint receives a MyWeirdRequest containing\r\n```\r\nstartWithOne=[second:1bbb, third:1ccc]\r\nanythingElse=[first:aaa, fourth:2ddd]\r\n```\r\nI know I could use a Map as a ```getTest``` param and then do all the mapping inside this method, but ```MyWeirdRequest``` will be used as a param for multiple endpoints and I want to avoid working with Maps directly everywhere.\r\n\r\nI tried to create a custom PropertyEditor and register it in WebDataBinder, but it is only used if there is a @Requestparam annotation, but if I add it to ```getTest``` method - a parameter named myRequest becomes mandatory.\r\n\r\nHow do I handle the request like that?","title":"Spring Boot REST custom request parameters mapping for complex abstract entity","body":"<p>I'm working on REST API for the application using SpringBoot 2 and I want to get a specific object as my request parameter. Assuming I have my endpoint declared like this:</p>\n<pre><code>@RestController(&quot;TestEndpoint&quot;)\n@RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class TestEndpoint {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/test&quot;)\n    String getTest(MyWeirdRequest myRequest) {\n        return myRequest.toString();\n    }\n}\n</code></pre>\n<p>where MyWeirdRequest looks like this:</p>\n<pre><code>public class MyWeirdRequest {\n    private Map&lt;String, String&gt; startWithOne;\n    private Map&lt;String, String&gt; anythingElse;\n\n    // setters and getters here \n}\n</code></pre>\n<p>and my GET request would look like this example:</p>\n<pre><code>http://localost:8088/test?first=aaa&amp;second=1bbb&amp;third=1ccc&amp;fourth=2ddd\n</code></pre>\n<p>List of parameters is not defined anywhere and so they can contain any keys.\nI want my endpoint to get <code>MyWeirdRequest</code> object where all the params with value starting with 1 to be in startWithOne map and the rest of params to be in anythingElse where key is request parameter name. So in case of request above I want the result where my endpoint receives a MyWeirdRequest containing</p>\n<pre><code>startWithOne=[second:1bbb, third:1ccc]\nanythingElse=[first:aaa, fourth:2ddd]\n</code></pre>\n<p>I know I could use a Map as a <code>getTest</code> param and then do all the mapping inside this method, but <code>MyWeirdRequest</code> will be used as a param for multiple endpoints and I want to avoid working with Maps directly everywhere.</p>\n<p>I tried to create a custom PropertyEditor and register it in WebDataBinder, but it is only used if there is a @Requestparam annotation, but if I add it to <code>getTest</code> method - a parameter named myRequest becomes mandatory.</p>\n<p>How do I handle the request like that?</p>\n"},{"tags":["java","division","digits"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673435228,"post_id":75082045,"comment_id":132497002,"body_markdown":"So for example if you enter `123`, what is `a` going to be? And since `b = a / 10`, why would `b` be anything other than `0` (it&#39;s an `int` division!)?","body":"So for example if you enter <code>123</code>, what is <code>a</code> going to be? And since <code>b = a &#47; 10</code>, why would <code>b</code> be anything other than <code>0</code> (it&#39;s an <code>int</code> division!)?"}],"answers":[{"comments":[{"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"score":0,"creation_date":1673435601,"post_id":75082095,"comment_id":132497131,"body_markdown":"That is helpful. Thanks a lot, I got the idea","body":"That is helpful. Thanks a lot, I got the idea"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673435394,"creation_date":1673435394,"answer_id":75082095,"question_id":75082045,"body_markdown":"Anything modulo 10 will return a result in the range of 0 to 9, and (integer) dividing that by 10 will return 0. You need to reverse the order - first divide the 10 to remove the last digit, and then take the remainder from 10 to keep the middle digit:\r\n\r\n```java\r\nint b = (number / 10) % 10;\r\n```","title":"Separating numbers using %","body":"<p>Anything modulo 10 will return a result in the range of 0 to 9, and (integer) dividing that by 10 will return 0. You need to reverse the order - first divide the 10 to remove the last digit, and then take the remainder from 10 to keep the middle digit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int b = (number / 10) % 10;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"score":0,"creation_date":1673446183,"post_id":75082256,"comment_id":132500926,"body_markdown":"Actually I haven&#39;t got so far in Java, but thanks, I suppose I need to read more info about this statment","body":"Actually I haven&#39;t got so far in Java, but thanks, I suppose I need to read more info about this statment"},{"owner":{"account_id":15338684,"reputation":1217,"user_id":11066298,"display_name":"Jakhongir Anasov"},"score":0,"creation_date":1673452955,"post_id":75082256,"comment_id":132503594,"body_markdown":"Yeah you can execute it and see the result. I hope you know how to convert String or char to int. I would happy if my post helped you. So please upvote or accept:)","body":"Yeah you can execute it and see the result. I hope you know how to convert String or char to int. I would happy if my post helped you. So please upvote or accept:)"}],"tags":[],"owner":{"account_id":15338684,"reputation":1217,"user_id":11066298,"display_name":"Jakhongir Anasov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673436207,"creation_date":1673436207,"answer_id":75082256,"question_id":75082045,"body_markdown":"I suggest using this instead of %. Because you can split and get any digit of number using this code:\r\n\r\n      int x=158;\r\n      char[] xValueInString = Integer.toString(x).toCharArray();\r\n      for(int i=0; i&lt;xValueInString.length; i++){\r\n          System.out.println(xValueInString[i]);\r\n      }","title":"Separating numbers using %","body":"<p>I suggest using this instead of %. Because you can split and get any digit of number using this code:</p>\n<pre><code>  int x=158;\n  char[] xValueInString = Integer.toString(x).toCharArray();\n  for(int i=0; i&lt;xValueInString.length; i++){\n      System.out.println(xValueInString[i]);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"score":0,"creation_date":1673446127,"post_id":75082333,"comment_id":132500906,"body_markdown":"It&#39;s been there, in Main class, I just shared only method, not the whole class","body":"It&#39;s been there, in Main class, I just shared only method, not the whole class"},{"owner":{"account_id":25659735,"reputation":1,"user_id":19425620,"display_name":"Yashwant Panchal"},"score":0,"creation_date":1673452036,"post_id":75082333,"comment_id":132503196,"body_markdown":"I also changed logic for getting number a, b and c. It&#39;s working for me.","body":"I also changed logic for getting number a, b and c. It&#39;s working for me."}],"tags":[],"owner":{"account_id":25659735,"reputation":1,"user_id":19425620,"display_name":"Yashwant Panchal"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673436993,"creation_date":1673436574,"answer_id":75082333,"question_id":75082045,"body_markdown":"You missed scanner in your code, add Scanner before reading number, try this with little change   \r\n\r\n \r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Input the number&quot;);\r\n            Scanner read = new Scanner(System.in);\r\n            int number = read.nextInt();\r\n            int a = number%10;\r\n            int b = (number/10)%10; // the answer is always 0\r\n            int c = number/100;\r\n            System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n        }","title":"Separating numbers using %","body":"<p>You missed scanner in your code, add Scanner before reading number, try this with little change</p>\n<pre><code>    public static void main(String[] args) {\n        System.out.println(&quot;Input the number&quot;);\n        Scanner read = new Scanner(System.in);\n        int number = read.nextInt();\n        int a = number%10;\n        int b = (number/10)%10; // the answer is always 0\n        int c = number/100;\n        System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\n    }\n</code></pre>\n"}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673436993,"creation_date":1673435098,"question_id":75082045,"body_markdown":"I am trying to get 3 numbers separated by a space after user&#39;s input. I can get the first number and the last one dividing by 10, but I really have no idea how to get the middle number\r\n\r\nI tried to take the remainder of the first two numbers and then divide them by ten, but IDEA says that the answer is always zero\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Input the number&quot;);\r\n        int number = read.nextInt();\r\n        int a = number%10;\r\n        int b = (number%10)/10; // the answer is always 0\r\n        int c = number / 100;\r\n        System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n    }\r\n","title":"Separating numbers using %","body":"<p>I am trying to get 3 numbers separated by a space after user's input. I can get the first number and the last one dividing by 10, but I really have no idea how to get the middle number</p>\n<p>I tried to take the remainder of the first two numbers and then divide them by ten, but IDEA says that the answer is always zero</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Input the number&quot;);\n    int number = read.nextInt();\n    int a = number%10;\n    int b = (number%10)/10; // the answer is always 0\n    int c = number / 100;\n    System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71787,"reputation":4875,"user_id":207533,"accept_rate":75,"display_name":"Cameron McGrane"},"score":0,"creation_date":1314593443,"post_id":7226156,"comment_id":8687498,"body_markdown":"A quick search came up with this.. http://www.roseindia.net/java/beginners/DayYearToDayMonth.shtml","body":"A quick search came up with this.. <a href=\"http://www.roseindia.net/java/beginners/DayYearToDayMonth.shtml\" rel=\"nofollow noreferrer\">roseindia.net/java/beginners/DayYearToDayMonth.shtml</a>"}],"answers":[{"comments":[{"owner":{"account_id":439407,"reputation":3157,"user_id":828330,"accept_rate":66,"display_name":"yoshi24"},"score":1,"creation_date":1314595232,"post_id":7226186,"comment_id":8687732,"body_markdown":"Is there anyway to get this as a String?","body":"Is there anyway to get this as a String?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1565458835,"post_id":7226186,"comment_id":101364770,"body_markdown":"FYI, the troublesome date-time classes such as `java.util.Date`, `java.util.Calendar`, &amp; `java.text.SimpleDateFormat` are now legacy, supplanted by the [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes. Most *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android (&lt;26) in [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).","body":"FYI, the troublesome date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Most <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android (&lt;26) in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a>. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP…</i></a>."}],"tags":[],"owner":{"account_id":359025,"reputation":6336,"user_id":700180,"accept_rate":88,"display_name":"hooked82"},"comment_count":2,"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1314596022,"creation_date":1314593469,"answer_id":7226186,"question_id":7226156,"body_markdown":"You&#39;ll want to do get a Calendar instance and get it&#39;s day of month\r\n\r\n\tCalendar cal = Calendar.getInstance();\r\n\tint dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n    String dayOfMonthStr = String.valueOf(dayOfMonth);\r\n\r\nYou can also get DAY_OF_WEEK, DAY_OF_YEAR, DAY_OF_WEEK_IN_MONTH, etc.","title":"How to get day of the month?","body":"<p>You'll want to do get a Calendar instance and get it's day of month</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nint dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\n\nString dayOfMonthStr = String.valueOf(dayOfMonth);\n</code></pre>\n\n<p>You can also get DAY_OF_WEEK, DAY_OF_YEAR, DAY_OF_WEEK_IN_MONTH, etc.</p>\n"},{"tags":[],"owner":{"display_name":"user180100"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314593476,"creation_date":1314593476,"answer_id":7226187,"question_id":7226156,"body_markdown":"Take a look at [`GregorianCalendar`][1], something like:\r\n\r\n    final Calendar now = GregorianCalendar.getInstance()\r\n    final int dayNumber = now.get(Calendar.DAY_OF_MONTH);\r\n\r\n  [1]: http://developer.android.com/reference/java/util/GregorianCalendar.html","title":"How to get day of the month?","body":"<p>Take a look at <a href=\"http://developer.android.com/reference/java/util/GregorianCalendar.html\" rel=\"nofollow\"><code>GregorianCalendar</code></a>, something like:</p>\n\n<pre><code>final Calendar now = GregorianCalendar.getInstance()\nfinal int dayNumber = now.get(Calendar.DAY_OF_MONTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314593551,"creation_date":1314593551,"answer_id":7226199,"question_id":7226156,"body_markdown":"You could start by reading the documentation for [Date][1]. Then you realize that Date’s methods are all deprecated and turn to [Calender][2] instead.\r\n\r\n    Calendar now = Calendar.getInstance();\r\n    System.out.println(now.get(Calendar.DAY_OF_MONTH));\r\n\r\n[1]: http://download.oracle.com/javase/6/docs/api/java/util/Date.html\r\n[2]: http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html","title":"How to get day of the month?","body":"<p>You could start by reading the documentation for <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"nofollow\">Date</a>. Then you realize that Date’s methods are all deprecated and turn to <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"nofollow\">Calender</a> instead.</p>\n\n<pre><code>Calendar now = Calendar.getInstance();\nSystem.out.println(now.get(Calendar.DAY_OF_MONTH));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552199,"reputation":313,"user_id":917257,"display_name":"Gaurav Naugain"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1314622005,"creation_date":1314599069,"answer_id":7226820,"question_id":7226156,"body_markdown":"The following method would help you in finding day of any specified date :\r\n\t\r\n    public static int getDayOfMonth(Date aDate) {\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tcal.setTime(aDate);\r\n    \treturn cal.get(Calendar.DAY_OF_MONTH);\r\n    }","title":"How to get day of the month?","body":"<p>The following method would help you in finding day of any specified date :</p>\n\n<pre><code>public static int getDayOfMonth(Date aDate) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(aDate);\n    return cal.get(Calendar.DAY_OF_MONTH);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1565458943,"creation_date":1413912861,"answer_id":26492791,"question_id":7226156,"body_markdown":"# tl;dr\r\n\r\n    LocalDate           // Represent a date-only, without time-of-day and without time zone.\r\n    .now()              // Better to pass a `ZoneId` optional argument to `now` as shown below than rely implicitly on the JVM’s current default time zone.\r\n    .getDayOfMonth()    // Interrogate for the day of the month (1-31). \r\n\r\n# java.time \r\n\r\nThe modern approach is the `LocalDate` class to represent a date-only value. \r\n\r\nA time zone is crucial in determine the current date. For any given moment, the date varies around the globe by zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate ld = LocalDate.now( z ) ;\r\n    int dayOfMonth = ld.getDayOfMonth();\r\n\r\nYou can also get the day-of-week.\r\n\r\n    DayOfWeek dow = ld.getDayOfWeek();\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nUsing a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later, you may exchange *java.time* objects directly with your database. No need for strings nor java.sql.* classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\n**UPDATE:** The Joda-Time project is now in maintenance mode, and advises migration to the java.time classes. This section left intact for history.\r\n\r\nUsing the [Joda-Time](http://www.joda.org/joda-time/) 2.5 library rather than the notoriously troublesome java.util.Date and .Calendar classes. \r\n\r\nTime zone is crucial to determining a date. Better to specify the zone rather than rely implicitly on the JVM’s current default time zone being assigned.\r\n\r\n    DateTimeZone zone = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( zone ).withTimeAtStartOfDay();\r\n    int dayOfMonth = now.getDayOfMonth();\r\n\r\nOr use similar code with the `LocalDate` class that has no time-of-day portion.\r\n\r\n","title":"How to get day of the month?","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDate           // Represent a date-only, without time-of-day and without time zone.\n.now()              // Better to pass a `ZoneId` optional argument to `now` as shown below than rely implicitly on the JVM’s current default time zone.\n.getDayOfMonth()    // Interrogate for the day of the month (1-31). \n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The modern approach is the <code>LocalDate</code> class to represent a date-only value. </p>\n\n<p>A time zone is crucial in determine the current date. For any given moment, the date varies around the globe by zone.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate ld = LocalDate.now( z ) ;\nint dayOfMonth = ld.getDayOfMonth();\n</code></pre>\n\n<p>You can also get the day-of-week.</p>\n\n<pre><code>DayOfWeek dow = ld.getDayOfWeek();\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Using a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later, you may exchange <em>java.time</em> objects directly with your database. No need for strings nor java.sql.* classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p><strong>UPDATE:</strong> The Joda-Time project is now in maintenance mode, and advises migration to the java.time classes. This section left intact for history.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.5 library rather than the notoriously troublesome java.util.Date and .Calendar classes. </p>\n\n<p>Time zone is crucial to determining a date. Better to specify the zone rather than rely implicitly on the JVM’s current default time zone being assigned.</p>\n\n<pre><code>DateTimeZone zone = DateTimeZone.forID( \"America/Montreal\" );\nDateTime now = DateTime.now( zone ).withTimeAtStartOfDay();\nint dayOfMonth = now.getDayOfMonth();\n</code></pre>\n\n<p>Or use similar code with the <code>LocalDate</code> class that has no time-of-day portion.</p>\n"},{"comments":[{"owner":{"account_id":5806757,"reputation":3715,"user_id":4579155,"accept_rate":73,"display_name":"abarisone"},"score":0,"creation_date":1469601673,"post_id":38601892,"comment_id":64597914,"body_markdown":"Please edit with more information. Code-only and &quot;try this&quot; answers are discouraged, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;.","body":"Please edit with more information. Code-only and &quot;try this&quot; answers are discouraged, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;."},{"owner":{"account_id":6561862,"reputation":596,"user_id":5230044,"accept_rate":100,"display_name":"cammando"},"score":0,"creation_date":1493351191,"post_id":38601892,"comment_id":74389565,"body_markdown":"Please explain so that one could get more idea about what your code is doing.","body":"Please explain so that one could get more idea about what your code is doing."}],"tags":[],"owner":{"account_id":8433483,"reputation":131,"user_id":6328364,"accept_rate":0,"display_name":"curiousTester"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1469579145,"creation_date":1469579145,"answer_id":38601892,"question_id":7226156,"body_markdown":"    //This will get you the day of the month\r\n    String.valueOf((Calendar.getInstance()).get(Calendar.DAY_OF_MONTH))","title":"How to get day of the month?","body":"<pre><code>//This will get you the day of the month\nString.valueOf((Calendar.getInstance()).get(Calendar.DAY_OF_MONTH))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478950244,"creation_date":1478950244,"answer_id":40562411,"question_id":7226156,"body_markdown":"**Java 8 Update**\r\n\r\nJava 8 introduces the following packages for time and date manipulation.\r\n\r\n     \r\n    java.time.*;\r\n    java.time.format.*;\r\n\r\n    java.time.chono.*;    \r\n    java.time.temporal.*;\r\n    java.time.zone.*;\r\n\r\nThese are more organized and intuitive.\r\n\r\nWe need only top two packages for the discussion.   \r\nThere are 3 top level classes - `LocalDate`, `LocalTime`, `LocalDateTime` for describing Date, Time and DateTime respectively. Although, they are formatted properly in `toString()`, each class has format method which accepts `DateTimeFormatter` to format in customized way.\r\n\r\n`DateTimeFormatter` can also be used show the date given a day. It has few \r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    class DateTimeDemo{\r\n        public static void main(String...args){\r\n        \tLocalDateTime x = LocalDateTime.now();\r\n        \tSystem.out.println(x.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)));//Shows Day and Date.\r\n    \r\n        \tSystem.out.println(x.format(DateTimeFormatter.ofPattern(&quot;EE&quot;)));//Short Form\r\n            System.out.println(x.format(DateTimeFormatter.ofPattern(&quot;EEEE&quot;)));//Long Form\r\n\r\n        }\r\n    }\r\n\r\n`ofLocalizedTime` accepts `FormatStyle` which is an enumeration in `java.time.format`\r\n\r\n`ofPattern` accepts `String` with restricted pattern characters of restricted length. Here are the characters which can be passed into the `toPattern` method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can try different number of patterns to see how the output will be.\r\n\r\nCheck out more about Java 8 DateTime API [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mJYo8.png\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to get day of the month?","body":"<p><strong>Java 8 Update</strong></p>\n\n<p>Java 8 introduces the following packages for time and date manipulation.</p>\n\n<pre><code>java.time.*;\njava.time.format.*;\n\njava.time.chono.*;    \njava.time.temporal.*;\njava.time.zone.*;\n</code></pre>\n\n<p>These are more organized and intuitive.</p>\n\n<p>We need only top two packages for the discussion.<br>\nThere are 3 top level classes - <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code> for describing Date, Time and DateTime respectively. Although, they are formatted properly in <code>toString()</code>, each class has format method which accepts <code>DateTimeFormatter</code> to format in customized way.</p>\n\n<p><code>DateTimeFormatter</code> can also be used show the date given a day. It has few </p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\nclass DateTimeDemo{\n    public static void main(String...args){\n        LocalDateTime x = LocalDateTime.now();\n        System.out.println(x.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)));//Shows Day and Date.\n\n        System.out.println(x.format(DateTimeFormatter.ofPattern(\"EE\")));//Short Form\n        System.out.println(x.format(DateTimeFormatter.ofPattern(\"EEEE\")));//Long Form\n\n    }\n}\n</code></pre>\n\n<p><code>ofLocalizedTime</code> accepts <code>FormatStyle</code> which is an enumeration in <code>java.time.format</code></p>\n\n<p><code>ofPattern</code> accepts <code>String</code> with restricted pattern characters of restricted length. Here are the characters which can be passed into the <code>toPattern</code> method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mJYo8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mJYo8.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can try different number of patterns to see how the output will be.</p>\n\n<p>Check out more about Java 8 DateTime API <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589788762,"creation_date":1589788762,"answer_id":61864976,"question_id":7226156,"body_markdown":"It is simplified a lot in version Java 8. I have given some util methods below.\r\n\r\n&gt;To get the day of the month in the format of `int` for the given day, month, and year.\r\n```java\r\n    public static int findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.of(year, month, day).getDayOfMonth());\r\n        return LocalDate.of(year, month, day).getDayOfMonth();\r\n    }\r\n```\r\n&gt;To get current day of the month in the format of `int`.\r\n```java\r\n    public static int findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfMonth());\r\n        return LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfMonth();\r\n    }\r\n```\r\n&gt;To get the day of the week in the format of `String` for the given day, month, and year.\r\n```java\r\n    public static String findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.of(year, month, day).getDayOfWeek());\r\n        return LocalDate.of(year, month, day).getDayOfWeek().toString();\r\n    }\r\n```\r\n&gt;To get current day of the week in the format of `String`.\r\n```java\r\n    public static String findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;))..getDayOfWeek());\r\n        return LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek().toString();\r\n    }\r\n```","title":"How to get day of the month?","body":"<p>It is simplified a lot in version Java 8. I have given some util methods below.</p>\n\n<blockquote>\n  <p>To get the day of the month in the format of <code>int</code> for the given day, month, and year.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static int findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.of(year, month, day).getDayOfMonth());\n        return LocalDate.of(year, month, day).getDayOfMonth();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get current day of the month in the format of <code>int</code>.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static int findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfMonth());\n        return LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfMonth();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get the day of the week in the format of <code>String</code> for the given day, month, and year.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static String findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.of(year, month, day).getDayOfWeek());\n        return LocalDate.of(year, month, day).getDayOfWeek().toString();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get current day of the week in the format of <code>String</code>.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static String findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.now(ZoneId.of(\"Asia/Kolkata\"))..getDayOfWeek());\n        return LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfWeek().toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18046647,"reputation":39,"user_id":13117467,"display_name":"Sahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600203039,"creation_date":1600203039,"answer_id":63909691,"question_id":7226156,"body_markdown":"LocalDate date = new Date();\r\ndate.lengthOfMonth()\r\n\r\nor\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\r\n\r\nDateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MMM&quot;);\r\n\r\nString stringDate = formatter.format(date);\r\n\r\nString month = monthFormatter.format(date);","title":"How to get day of the month?","body":"<p>LocalDate date = new Date();\ndate.lengthOfMonth()</p>\n<p>or</p>\n<p>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);</p>\n<p>DateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MMM&quot;);</p>\n<p>String stringDate = formatter.format(date);</p>\n<p>String month = monthFormatter.format(date);</p>\n"},{"tags":[],"owner":{"account_id":21210535,"reputation":151,"user_id":15599248,"display_name":"cc01cc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673436951,"creation_date":1673436951,"answer_id":75082406,"question_id":7226156,"body_markdown":"You can try  the Java 8 [YearMonth][1] class.\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.time.YearMonth;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nString dateTest = &quot;08 29,2011&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM dd,yyyy&quot;);\r\nYearMonth yearMonth = YearMonth.parse(dateTest, formatter);\r\nint lengthOfMonth = yearMonth.lengthOfMonth();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html","title":"How to get day of the month?","body":"<p>You can try  the Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\">YearMonth</a> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\n\nString dateTest = &quot;08 29,2011&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM dd,yyyy&quot;);\nYearMonth yearMonth = YearMonth.parse(dateTest, formatter);\nint lengthOfMonth = yearMonth.lengthOfMonth();\n</code></pre>\n"}],"owner":{"account_id":439407,"reputation":3157,"user_id":828330,"accept_rate":66,"display_name":"yoshi24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197546,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":7226186,"answer_count":10,"score":60,"last_activity_date":1673436951,"creation_date":1314593168,"question_id":7226156,"body_markdown":"I am trying to retrieve which day of the month it is.\r\n\r\nSuch as today is August 29,2011.\r\n\r\nWhat i would like to do is just get the days number such as 29, or 30. Which ever day of the month it is. \r\n\r\nHow would i go about doing this?","title":"How to get day of the month?","body":"<p>I am trying to retrieve which day of the month it is.</p>\n\n<p>Such as today is August 29,2011.</p>\n\n<p>What i would like to do is just get the days number such as 29, or 30. Which ever day of the month it is. </p>\n\n<p>How would i go about doing this?</p>\n"},{"tags":["java","spring","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673436864,"creation_date":1673436864,"answer_id":75082379,"question_id":75081942,"body_markdown":"This is happening because you have used a STATELESS sessionCreationPolicy in your web security config. The stateless creation policy means that the logged-in user details are not maintained on the server side. This is why you are getting anonymousUser from the principal. The server authenticates the client for each and every single request and checks the authority of the user. This is generally used in situations when the authentication is done using tokens to increase the scalability of the application.\r\nThe default value of the sessionCreationPolicy attribute is `SessionCreationPolicy.IF_REQUIRED`. Using this should solve your problem. Let me know if it helps.","title":"SecurityContextHolder.getPrincipal() returns AnonimousUser after authentication using Spring Security","body":"<p>This is happening because you have used a STATELESS sessionCreationPolicy in your web security config. The stateless creation policy means that the logged-in user details are not maintained on the server side. This is why you are getting anonymousUser from the principal. The server authenticates the client for each and every single request and checks the authority of the user. This is generally used in situations when the authentication is done using tokens to increase the scalability of the application.\nThe default value of the sessionCreationPolicy attribute is <code>SessionCreationPolicy.IF_REQUIRED</code>. Using this should solve your problem. Let me know if it helps.</p>\n"}],"owner":{"account_id":27497691,"reputation":31,"user_id":20981958,"display_name":"Helen Barskaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75082379,"answer_count":1,"score":2,"last_activity_date":1673436864,"creation_date":1673434577,"question_id":75081942,"body_markdown":"I am writing authentication using Spring Security and faced the following problem: after entering my username and password, I am redirected to defaultSuccessUrl(&quot;/&quot;), however, the SecurityContextHolder.getContext() method.getAuthentication().getPrincipal().toString() returns anonimousUser. Why is this happening and how to fix it? I will be grateful for your help.\r\n\r\n\r\nHere is the code I wrote.\r\nMy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyStore&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MyStore&lt;/name&gt;\r\n    &lt;description&gt;MyStore&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nMy WebSecurityConfig:\r\n\r\n```\r\npackage com.example.mystore.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer;\r\nimport org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer;\r\nimport org.springframework.security.config.annotation.web.configurers.LogoutConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n    protected UserDetailsService userDetailsService;\r\n\r\n    public WebSecurityConfig(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    public static final String[] possiblePatterns = new String[]{\r\n            &quot;/&quot;,\r\n            &quot;/registration&quot;,\r\n            &quot;/category&quot;,\r\n            &quot;/style.css&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n//                .cors()\r\n//                .and()\r\n//                .csrf()\r\n//                .disable()\r\n\r\n                .authorizeHttpRequests(this::buildRequests)\r\n                .formLogin(this::formCustomizer)\r\n                .logout(LogoutConfigurer::permitAll)\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    protected AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\r\n    buildRequests(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry requests) {\r\n        return requests.requestMatchers(possiblePatterns)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .permitAll();\r\n    }\r\n\r\n    private FormLoginConfigurer&lt;HttpSecurity&gt; formCustomizer(FormLoginConfigurer&lt;HttpSecurity&gt; form) {\r\n        return form.loginPage(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .permitAll();\r\n    }\r\n}\r\n\r\n```\r\nUser:\r\n\r\n```\r\npackage com.example.mystore.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class User implements UserDetails, GrantedAuthority {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    protected int id;\r\n\r\n    @Column(name = &quot;username&quot;, nullable = false)\r\n    protected String username;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    protected String password;\r\n\r\n    @Column(name = &quot;role&quot;, nullable = false)\r\n    protected String role;\r\n\r\n    public User(String username, String password, String role) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                return Arrays.stream(this.getRole().split(&quot;,&quot;))\r\n                .map(SimpleGrantedAuthority::new)\r\n                .toList();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return getRole();\r\n    }\r\n}\r\n\r\n```\r\nUserRepository:\r\n\r\n```\r\npackage com.example.mystore.repository;\r\n\r\nimport com.example.mystore.model.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n}\r\n\r\n```\r\n\r\nUserService:\r\n\r\n```\r\npackage com.example.mystore.service;\r\n\r\nimport com.example.mystore.model.User;\r\nimport com.example.mystore.repository.UserRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserService {\r\n    UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public User saveUser(User user){\r\n        return userRepository.save(user);\r\n    }\r\n    public User getByUsername( String username)\r\n    {\r\n        Optional&lt;User&gt; optionalUser = userRepository.findByUsername(username);\r\n        return optionalUser.orElse(null);\r\n    }\r\n}\r\n\r\n```\r\nJpaUserDetailService:\r\n\r\n```\r\npackage com.example.mystore.service;\r\n\r\nimport com.example.mystore.model.User;\r\nimport com.example.mystore.repository.UserRepository;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class JpaUserDetailsService implements UserDetailsService {\r\n    UserRepository userRepository;\r\n\r\n    public JpaUserDetailsService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return userRepository\r\n                .findByUsername(username)\r\n                .map(this::userMapper)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found: &quot; + username));\r\n    }\r\n\r\n    protected User userMapper(User user) {\r\n        String password = user.getPassword();\r\n        user.setPassword(&quot;{noop}&quot; + password);\r\n\r\n        return user;\r\n    }\r\n}\r\n```","title":"SecurityContextHolder.getPrincipal() returns AnonimousUser after authentication using Spring Security","body":"<p>I am writing authentication using Spring Security and faced the following problem: after entering my username and password, I am redirected to defaultSuccessUrl(&quot;/&quot;), however, the SecurityContextHolder.getContext() method.getAuthentication().getPrincipal().toString() returns anonimousUser. Why is this happening and how to fix it? I will be grateful for your help.</p>\n<p>Here is the code I wrote.\nMy pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyStore&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MyStore&lt;/name&gt;\n    &lt;description&gt;MyStore&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My WebSecurityConfig:</p>\n<pre><code>package com.example.mystore.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer;\nimport org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer;\nimport org.springframework.security.config.annotation.web.configurers.LogoutConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\npublic class WebSecurityConfig {\n\n    protected UserDetailsService userDetailsService;\n\n    public WebSecurityConfig(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    public static final String[] possiblePatterns = new String[]{\n            &quot;/&quot;,\n            &quot;/registration&quot;,\n            &quot;/category&quot;,\n            &quot;/style.css&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n//                .cors()\n//                .and()\n//                .csrf()\n//                .disable()\n\n                .authorizeHttpRequests(this::buildRequests)\n                .formLogin(this::formCustomizer)\n                .logout(LogoutConfigurer::permitAll)\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return http.build();\n    }\n\n    protected AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\n    buildRequests(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry requests) {\n        return requests.requestMatchers(possiblePatterns)\n                .permitAll()\n                .anyRequest()\n                .permitAll();\n    }\n\n    private FormLoginConfigurer&lt;HttpSecurity&gt; formCustomizer(FormLoginConfigurer&lt;HttpSecurity&gt; form) {\n        return form.loginPage(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll();\n    }\n}\n\n</code></pre>\n<p>User:</p>\n<pre><code>package com.example.mystore.model;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;user&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class User implements UserDetails, GrantedAuthority {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    protected int id;\n\n    @Column(name = &quot;username&quot;, nullable = false)\n    protected String username;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    protected String password;\n\n    @Column(name = &quot;role&quot;, nullable = false)\n    protected String role;\n\n    public User(String username, String password, String role) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n                return Arrays.stream(this.getRole().split(&quot;,&quot;))\n                .map(SimpleGrantedAuthority::new)\n                .toList();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    @Override\n    public String getAuthority() {\n        return getRole();\n    }\n}\n\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>package com.example.mystore.repository;\n\nimport com.example.mystore.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.Optional;\n\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n\n</code></pre>\n<p>UserService:</p>\n<pre><code>package com.example.mystore.service;\n\nimport com.example.mystore.model.User;\nimport com.example.mystore.repository.UserRepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class UserService {\n    UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public User saveUser(User user){\n        return userRepository.save(user);\n    }\n    public User getByUsername( String username)\n    {\n        Optional&lt;User&gt; optionalUser = userRepository.findByUsername(username);\n        return optionalUser.orElse(null);\n    }\n}\n\n</code></pre>\n<p>JpaUserDetailService:</p>\n<pre><code>package com.example.mystore.service;\n\nimport com.example.mystore.model.User;\nimport com.example.mystore.repository.UserRepository;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class JpaUserDetailsService implements UserDetailsService {\n    UserRepository userRepository;\n\n    public JpaUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return userRepository\n                .findByUsername(username)\n                .map(this::userMapper)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found: &quot; + username));\n    }\n\n    protected User userMapper(User user) {\n        String password = user.getPassword();\n        user.setPassword(&quot;{noop}&quot; + password);\n\n        return user;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1673436820,"post_id":75082272,"comment_id":132497597,"body_markdown":"Thanks, that works. Really good detail to know.","body":"Thanks, that works. Really good detail to know."}],"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673436293,"creation_date":1673436293,"answer_id":75082272,"question_id":75082239,"body_markdown":"You should try adding `?allowMultiQueries=true` to your JDBC connection URL.\r\n\r\nExample:\r\n`jdbc:mysql://server-name:server-port/database-name?allowMultiQueries=true`","title":"Java JDBC MySQL multiple INSERTS in one executeUpdate()","body":"<p>You should try adding <code>?allowMultiQueries=true</code> to your JDBC connection URL.</p>\n<p>Example:\n<code>jdbc:mysql://server-name:server-port/database-name?allowMultiQueries=true</code></p>\n"}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673436444,"accepted_answer_id":75082272,"answer_count":1,"score":0,"last_activity_date":1673436293,"creation_date":1673436131,"question_id":75082239,"body_markdown":"I&#39;m using JDBC to make my Java application handle SQL statements to my MySQL database.\r\nFor some reason it can&#39;t do multiple insert statements in one executeUpdate() method.\r\n\r\nMy code looks like this:\r\n\r\n    PreparedStatement statement = connection().prepareStatement(sql);\r\n    boolean success = statement.executeUpdate() &gt; 0;\r\n\r\n    if (doClose)\r\n        closeConnection();\r\n    return success;\r\n\r\nwhere sql is a string of the SQL statement.\r\n\r\nIt tells me there is a sql syntax error, where the new insert statement begins.\r\n\r\nThe SQL looks like this:\r\n\r\n\tINSERT INTO subscriptions(user_id,`status`,subscription_type,offer_type,offer_expires,offer_effect,card_id) \r\n\tVALUES (18,&#39;ACCEPTED&#39;,&#39;FREEMIUM&#39;,NULL,NULL,NULL,NULL); \r\n\tINSERT INTO contact_informations(user_id,email,first_digits,phone_number,phone_is_mobile,street,floor,postal,city,country_title,country_indexes) \r\n\tVALUES (18,&#39;cool@gmail.com&#39;,45,57104998,false,&#39;N&#248;rrevang 15&#39;,&#39;5. th.&#39;,&#39;2528&#39;,&#39;Holb&#230;k&#39;,&#39;Tyskland&#39;,&#39;DE&#39;);\r\n\r\nIt works perfectly, when I split the two statement, but in my MySQL workbench editor, it handles the statement in one take.\r\n\r\nIs there a way to perform both in one JDBC statement?","title":"Java JDBC MySQL multiple INSERTS in one executeUpdate()","body":"<p>I'm using JDBC to make my Java application handle SQL statements to my MySQL database.\nFor some reason it can't do multiple insert statements in one executeUpdate() method.</p>\n<p>My code looks like this:</p>\n<pre><code>PreparedStatement statement = connection().prepareStatement(sql);\nboolean success = statement.executeUpdate() &gt; 0;\n\nif (doClose)\n    closeConnection();\nreturn success;\n</code></pre>\n<p>where sql is a string of the SQL statement.</p>\n<p>It tells me there is a sql syntax error, where the new insert statement begins.</p>\n<p>The SQL looks like this:</p>\n<pre><code>INSERT INTO subscriptions(user_id,`status`,subscription_type,offer_type,offer_expires,offer_effect,card_id) \nVALUES (18,'ACCEPTED','FREEMIUM',NULL,NULL,NULL,NULL); \nINSERT INTO contact_informations(user_id,email,first_digits,phone_number,phone_is_mobile,street,floor,postal,city,country_title,country_indexes) \nVALUES (18,'cool@gmail.com',45,57104998,false,'Nørrevang 15','5. th.','2528','Holbæk','Tyskland','DE');\n</code></pre>\n<p>It works perfectly, when I split the two statement, but in my MySQL workbench editor, it handles the statement in one take.</p>\n<p>Is there a way to perform both in one JDBC statement?</p>\n"},{"tags":["java",".net","docker","ip"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670706815,"post_id":74756501,"comment_id":131936839,"body_markdown":"Your containers are being created.  You can tell by the output.  They are just not talking to one another.  I am not the best at docker myself, but I believe that you need to open the 8899 port on your server.  And the ip address inside of docker will for sure be different in your containers then on your local/host computer.  BUT, looking at Socket, socket can also work by host name, and docker is quite good at working with host names.  Give that a try if you can instead of ip addresses.","body":"Your containers are being created.  You can tell by the output.  They are just not talking to one another.  I am not the best at docker myself, but I believe that you need to open the 8899 port on your server.  And the ip address inside of docker will for sure be different in your containers then on your local/host computer.  BUT, looking at Socket, socket can also work by host name, and docker is quite good at working with host names.  Give that a try if you can instead of ip addresses."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670707426,"post_id":74756501,"comment_id":131936925,"body_markdown":"Thanks! But then I got new questions. If my containers have been successfully created. Why using command &quot;docker ps&quot; I do not see them? Using command &quot;docker ps - a&quot; I can see that containers status are &quot;Exited&quot;. In server app code I use while(true) and the app have not  to be closed even if it doesn`t get eny messages from clients. It has to wait for messages.","body":"Thanks! But then I got new questions. If my containers have been successfully created. Why using command &quot;docker ps&quot; I do not see them? Using command &quot;docker ps - a&quot; I can see that containers status are &quot;Exited&quot;. In server app code I use while(true) and the app have not  to be closed even if it doesn`t get eny messages from clients. It has to wait for messages."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670707429,"post_id":74756501,"comment_id":131936927,"body_markdown":"And about port, is it port normally open or closed in docker container? Regarding IP, IP address I used only during testing apps on my local/host computer. For docker I changed code of clients, and tried to connect to server by service name &quot;appServer&quot;","body":"And about port, is it port normally open or closed in docker container? Regarding IP, IP address I used only during testing apps on my local/host computer. For docker I changed code of clients, and tried to connect to server by service name &quot;appServer&quot;"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670708322,"post_id":74756501,"comment_id":131937060,"body_markdown":"I am unsure why the server would be exiting, but the clients are exiting because they are throwing an exception that isn&#39;t caught and that causes the main method to exit.  If you put a catch statement with your client&#39;s try statement, they would keep running.","body":"I am unsure why the server would be exiting, but the clients are exiting because they are throwing an exception that isn&#39;t caught and that causes the main method to exit.  If you put a catch statement with your client&#39;s try statement, they would keep running."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670709445,"post_id":74756501,"comment_id":131937251,"body_markdown":"@hooknc I can check that. I edited the question and added update information. So, I deleted all rows connected with Soccets from my Clients classes. Now they do not have to throw exceptions. But I still have problems with creating containers. Please look to new information in my question.","body":"@hooknc I can check that. I edited the question and added update information. So, I deleted all rows connected with Soccets from my Clients classes. Now they do not have to throw exceptions. But I still have problems with creating containers. Please look to new information in my question."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670709613,"post_id":74756501,"comment_id":131937288,"body_markdown":"Also error log has a row &quot;docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found&quot;. And it bother me, why this command doesn`t work? Why &quot;not found&quot;. Is something bad in row witch CMD command?","body":"Also error log has a row &quot;docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found&quot;. And it bother me, why this command doesn`t work? Why &quot;not found&quot;. Is something bad in row witch CMD command?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670709672,"post_id":74756501,"comment_id":131937299,"body_markdown":"Looking closely at the second set of error messages, the server fails because it can&#39;t find java `/bin/sh: 1: [java,: not found`.  First and foremost, I would get that figured out.  Next, I would try just with one docker container, that being the server and see if you could have a client running on your host contact that docker hosted server.","body":"Looking closely at the second set of error messages, the server fails because it can&#39;t find java <code>&#47;bin&#47;sh: 1: [java,: not found</code>.  First and foremost, I would get that figured out.  Next, I would try just with one docker container, that being the server and see if you could have a client running on your host contact that docker hosted server."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670710003,"post_id":74756501,"comment_id":131937359,"body_markdown":"The `[java,` is usually a symptom that your CMD isn&#39;t actually a JSON array.  Double-check that you have the punctuation correct and that you have ordinary ASCII spaces U+0020 and double quotes U+0022 (what you have in the question seems right, but double-check locally).","body":"The <code>[java,</code> is usually a symptom that your CMD isn&#39;t actually a JSON array.  Double-check that you have the punctuation correct and that you have ordinary ASCII spaces U+0020 and double quotes U+0022 (what you have in the question seems right, but double-check locally)."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670718721,"post_id":74756501,"comment_id":131938628,"body_markdown":"I have been able to deploy (more or less the same) code on my local machine and I was able to get your applications to work together.  I was wrong on the port numbers in the docker-compose file.  The port numbers are only needed if you want external services to talk to your docker containers.","body":"I have been able to deploy (more or less the same) code on my local machine and I was able to get your applications to work together.  I was wrong on the port numbers in the docker-compose file.  The port numbers are only needed if you want external services to talk to your docker containers."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673435955,"creation_date":1670753703,"answer_id":74759917,"question_id":74756501,"body_markdown":"# SERVER - MYSERVER.java\r\n\r\n    package org.example;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class MYSERVER {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.out.println(&quot;Server was started!&quot;);\r\n            try (ServerSocket serverSocket = new ServerSocket(8899)) {\r\n                while (true) {\r\n                    try (Socket client = serverSocket.accept()) {\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                        String line = reader.readLine();\r\n                        System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Dops&quot;);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n# CLIENT - MYCLIENT.java\r\n\r\n    package org.example;\r\n    \r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Calendar;\r\n    \r\n    public class MYCLIENT {\r\n        public static void main(String[] args)  {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            String ip = &quot;localhost&quot;;\r\n            if (args.length &gt; 0) ip= args[0];\r\n            System.out.println(&quot;ip=&quot;+ip);\r\n            int no = 1;\r\n            if (args.length &gt; 1) no= Integer.parseInt(args[1]);\r\n            String whoami=&quot;client #&quot;+no;\r\n            System.out.println(&quot;whoami=&quot;+whoami);\r\n            while (true){\r\n                try (Socket socket = new Socket(ip, 8899)) {\r\n                    System.out.println(&quot;An attempt...&quot;);\r\n                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n                    String message = &quot;Hello from &quot;+whoami+&quot; at &quot;+ Calendar.getInstance().getTime() +&quot;\\n&quot;;\r\n                    writer.write(message);\r\n                    writer.flush();\r\n                    System.out.println(&quot;The package was sent!&quot;);\r\n                } catch (UnknownHostException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    Thread.sleep(10000);\r\n                }catch (InterruptedException e) {\r\n                     //do nothing\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n# BUILD JAVA TO EXECUTE JAR\r\n\r\n- MYCLIENT-1.0-SNAPSHOT.jar\r\n- MYSERVER-1.0-SNAPSHOT.jar\r\n\r\n# HOST TEST\r\n- Open Terminal 1: `java -jar MYSERVER-1.0-SNAPSHOT.jar`\r\n- Open Terminal 2: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 1`\r\n- Open Terminal 3: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 2`\r\n- Open Terminal 4: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 3`\r\n\r\n# MY_SERVER_CLIENT\r\n\r\n    ├── docker-compose.yml\r\n    ├── MYCLIENT\r\n    │&#160;&#160; ├── Dockerfile\r\n    │&#160;&#160; └── MYCLIENT-1.0-SNAPSHOT.jar\r\n    └── MYSERVER\r\n        ├── Dockerfile\r\n        └── MYSERVER-1.0-SNAPSHOT.jar\r\n\r\n## MYSERVER - Dockerfile\r\n\r\n    FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\r\n    EXPOSE 8899\r\n    WORKDIR /app\r\n    COPY MYSERVER-1.0-SNAPSHOT.jar /app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\n## MYSERVER - build command\r\n\r\n    docker build -t demoserver:1.0.0 .\r\n           \r\n    docker tag demoserver:1.0.0 demoserver:latest\r\n\r\n## MYCLIENT - Dockerfile\r\n\r\n    FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\r\n    WORKDIR /app\r\n    COPY MYCLIENT-1.0-SNAPSHOT.jar /app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\r\n    CMD [&quot;locahost&quot;,&quot;1&quot;]\r\n\r\n## MYCLIENT - build command\r\n\r\n    docker build -t democlient:1.0.0 .\r\n           \r\n    docker tag democlient:1.0.0 democlient:latest\r\n\r\n# TEST\r\n\r\n## Test Server - demoserver \r\n\r\n- Open terminal 1: `docker run -it demoserver`\r\n- Open terminal 2: `docker ps`\r\n- terminal 2: `docker inspect demoserver-container-id`\r\n\r\nGet container ip like `&quot;IPAddress&quot;: &quot;172.17.0.2&quot;`\r\n\r\n## Test Client - client \r\n\r\n- Open terminal 3: `docker run -it democlient 172.17.0.2 1`\r\n- Open terminal 4: `docker run -it democlient 172.17.0.2 2`\r\n- Open terminal 5: `docker run -it democlient 172.17.0.2 3`\r\n- Open terminal 6: `docker run -it democlient 172.17.0.2 4`\r\n\r\n## See Terminal 1\r\n\r\nFIND\r\n\r\n    $ docker run -it demoserver\r\n    Hello world!\r\n    Server was started!\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:47 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:57 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:02 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:07 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:12 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:17 GMT 2022\r\n    172.17.0.5 - Hello from client #3 at Sun Dec 11 10:08:17 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:22 GMT 2022\r\n\r\n# Last Step Create `docker-compose.yml`\r\n\r\n## docker-compose.yml\r\n\r\n    version: &#39;3.4&#39;\r\n    \r\n    services:\r\n      demoserver:\r\n        image: demoserver\r\n    \r\n      democlient1:\r\n        image: democlient\r\n        command: demoserver 1\r\n        depends_on:\r\n          - demoserver\r\n    \r\n      democlient2:\r\n        image: democlient\r\n        command: demoserver 2\r\n        depends_on:\r\n          - demoserver\r\n    \r\n      democlient3:\r\n        image: democlient\r\n        command: demoserver 3\r\n        depends_on:\r\n          - demoserver\r\n\r\n\r\n## Run docker compose\r\n\r\n- Open terminal: `docker compose up`\r\n\r\n    $ docker compose up\r\n    [+] Running 4/0\r\n     ⠿ Container my_server_client-demoserver-1   Created                       0.0s\r\n     ⠿ Container my_server_client-democlient3-1  Created                       0.0s\r\n     ⠿ Container my_server_client-democlient1-1  Created                       0.0s\r\n     ⠿ Container my_server_client-democlient2-1  Created                       0.0s\r\n    Attaching to my_server_client-democlient1-1, my_server_client-democlient2-1, my_server_client-democlient3-1, my_server_client-demoserver-1\r\n    my_server_client-demoserver-1   | Hello world!\r\n    my_server_client-demoserver-1   | Server was started!\r\n    my_server_client-democlient2-1  | Hello world!\r\n    my_server_client-democlient2-1  | ip=demoserver\r\n    my_server_client-democlient2-1  | whoami=client #2\r\n    my_server_client-democlient2-1  | An attempt...\r\n    my_server_client-democlient3-1  | Hello world!\r\n    my_server_client-democlient3-1  | ip=demoserver\r\n    my_server_client-democlient1-1  | Hello world!\r\n    my_server_client-democlient3-1  | whoami=client #3\r\n    my_server_client-democlient2-1  | The package was sent!\r\n    my_server_client-democlient1-1  | ip=demoserver\r\n    my_server_client-demoserver-1   | 172.18.0.3 - Hello from client #2 at Sun Dec 11 10:29:55 GMT 2022\r\n    my_server_client-democlient1-1  | whoami=client #1\r\n    my_server_client-democlient3-1  | An attempt...\r\n    my_server_client-democlient1-1  | An attempt...\r\n    my_server_client-democlient3-1  | The package was sent!\r\n    my_server_client-demoserver-1   | 172.18.0.4 - Hello from client #3 at Sun Dec 11 10:29:55 GMT 2022\r\n    my_server_client-democlient1-1  | The package was sent!\r\n    my_server_client-demoserver-1   | 172.18.0.5 - Hello from client #1 at Sun Dec 11 10:29:55 GMT 2022\r\n\r\n\r\n\r\n## Run docker compose again\r\n\r\n- Open terminal: `docker compose up --scale app_client1=10`\r\n\r\n# DIY\r\n\r\n    services:\r\n      demoserver:\r\n        image: demoserver\r\n    \r\n      democlient1:\r\n        image: democlient\r\n      ...\r\n\r\nChange `image` to `build` yourself.\r\n\r\n# Do one thing at a time\r\n\r\n- Step 1. test java part, server , client\r\n- Step 2. package server, client as execute jar\r\n- Step 3. test it on host, not on docker\r\n- Step 4. pack server to docker image\r\n- Step 5. test server use docker image, but test client on host\r\n- Step 6. pack client to docker image\r\n- Step 7. test server image and client image\r\n- Step 8. build `docker-compose.yml`\r\n- Step 9. test docker compose\r\n\r\nI am used to cutting the problem into many parts, then solving each part, testing each part, and finally combining each part\r\nBut each part has been tested, so I can know what the message is if an error occurs, which part is wrong, and how to deal with it.","title":"Why Docker (Java Server-Clients) doesn`t work?","body":"<h1>SERVER - MYSERVER.java</h1>\n<pre><code>package org.example;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class MYSERVER {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        System.out.println(&quot;Server was started!&quot;);\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\n            while (true) {\n                try (Socket client = serverSocket.accept()) {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\n                    String line = reader.readLine();\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\n                } catch (Exception e) {\n                    System.out.println(&quot;Dops&quot;);\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<h1>CLIENT - MYCLIENT.java</h1>\n<pre><code>package org.example;\n\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.Calendar;\n\npublic class MYCLIENT {\n    public static void main(String[] args)  {\n        System.out.println(&quot;Hello world!&quot;);\n        String ip = &quot;localhost&quot;;\n        if (args.length &gt; 0) ip= args[0];\n        System.out.println(&quot;ip=&quot;+ip);\n        int no = 1;\n        if (args.length &gt; 1) no= Integer.parseInt(args[1]);\n        String whoami=&quot;client #&quot;+no;\n        System.out.println(&quot;whoami=&quot;+whoami);\n        while (true){\n            try (Socket socket = new Socket(ip, 8899)) {\n                System.out.println(&quot;An attempt...&quot;);\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n                String message = &quot;Hello from &quot;+whoami+&quot; at &quot;+ Calendar.getInstance().getTime() +&quot;\\n&quot;;\n                writer.write(message);\n                writer.flush();\n                System.out.println(&quot;The package was sent!&quot;);\n            } catch (UnknownHostException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            try {\n                Thread.sleep(10000);\n            }catch (InterruptedException e) {\n                 //do nothing\n            }\n        }\n    }\n}\n</code></pre>\n<h1>BUILD JAVA TO EXECUTE JAR</h1>\n<ul>\n<li>MYCLIENT-1.0-SNAPSHOT.jar</li>\n<li>MYSERVER-1.0-SNAPSHOT.jar</li>\n</ul>\n<h1>HOST TEST</h1>\n<ul>\n<li>Open Terminal 1: <code>java -jar MYSERVER-1.0-SNAPSHOT.jar</code></li>\n<li>Open Terminal 2: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 1</code></li>\n<li>Open Terminal 3: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 2</code></li>\n<li>Open Terminal 4: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 3</code></li>\n</ul>\n<h1>MY_SERVER_CLIENT</h1>\n<pre><code>├── docker-compose.yml\n├── MYCLIENT\n│   ├── Dockerfile\n│   └── MYCLIENT-1.0-SNAPSHOT.jar\n└── MYSERVER\n    ├── Dockerfile\n    └── MYSERVER-1.0-SNAPSHOT.jar\n</code></pre>\n<h2>MYSERVER - Dockerfile</h2>\n<pre><code>FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\nEXPOSE 8899\nWORKDIR /app\nCOPY MYSERVER-1.0-SNAPSHOT.jar /app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<h2>MYSERVER - build command</h2>\n<pre><code>docker build -t demoserver:1.0.0 .\n       \ndocker tag demoserver:1.0.0 demoserver:latest\n</code></pre>\n<h2>MYCLIENT - Dockerfile</h2>\n<pre><code>FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\nWORKDIR /app\nCOPY MYCLIENT-1.0-SNAPSHOT.jar /app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\nCMD [&quot;locahost&quot;,&quot;1&quot;]\n</code></pre>\n<h2>MYCLIENT - build command</h2>\n<pre><code>docker build -t democlient:1.0.0 .\n       \ndocker tag democlient:1.0.0 democlient:latest\n</code></pre>\n<h1>TEST</h1>\n<h2>Test Server - demoserver</h2>\n<ul>\n<li>Open terminal 1: <code>docker run -it demoserver</code></li>\n<li>Open terminal 2: <code>docker ps</code></li>\n<li>terminal 2: <code>docker inspect demoserver-container-id</code></li>\n</ul>\n<p>Get container ip like <code>&quot;IPAddress&quot;: &quot;172.17.0.2&quot;</code></p>\n<h2>Test Client - client</h2>\n<ul>\n<li>Open terminal 3: <code>docker run -it democlient 172.17.0.2 1</code></li>\n<li>Open terminal 4: <code>docker run -it democlient 172.17.0.2 2</code></li>\n<li>Open terminal 5: <code>docker run -it democlient 172.17.0.2 3</code></li>\n<li>Open terminal 6: <code>docker run -it democlient 172.17.0.2 4</code></li>\n</ul>\n<h2>See Terminal 1</h2>\n<p>FIND</p>\n<pre><code>$ docker run -it demoserver\nHello world!\nServer was started!\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:47 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:57 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:02 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:07 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:12 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:17 GMT 2022\n172.17.0.5 - Hello from client #3 at Sun Dec 11 10:08:17 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:22 GMT 2022\n</code></pre>\n<h1>Last Step Create <code>docker-compose.yml</code></h1>\n<h2>docker-compose.yml</h2>\n<pre><code>version: '3.4'\n\nservices:\n  demoserver:\n    image: demoserver\n\n  democlient1:\n    image: democlient\n    command: demoserver 1\n    depends_on:\n      - demoserver\n\n  democlient2:\n    image: democlient\n    command: demoserver 2\n    depends_on:\n      - demoserver\n\n  democlient3:\n    image: democlient\n    command: demoserver 3\n    depends_on:\n      - demoserver\n</code></pre>\n<h2>Run docker compose</h2>\n<ul>\n<li><p>Open terminal: <code>docker compose up</code></p>\n<p>$ docker compose up\n[+] Running 4/0\n⠿ Container my_server_client-demoserver-1   Created                       0.0s\n⠿ Container my_server_client-democlient3-1  Created                       0.0s\n⠿ Container my_server_client-democlient1-1  Created                       0.0s\n⠿ Container my_server_client-democlient2-1  Created                       0.0s\nAttaching to my_server_client-democlient1-1, my_server_client-democlient2-1, my_server_client-democlient3-1, my_server_client-demoserver-1\nmy_server_client-demoserver-1   | Hello world!\nmy_server_client-demoserver-1   | Server was started!\nmy_server_client-democlient2-1  | Hello world!\nmy_server_client-democlient2-1  | ip=demoserver\nmy_server_client-democlient2-1  | whoami=client #2\nmy_server_client-democlient2-1  | An attempt...\nmy_server_client-democlient3-1  | Hello world!\nmy_server_client-democlient3-1  | ip=demoserver\nmy_server_client-democlient1-1  | Hello world!\nmy_server_client-democlient3-1  | whoami=client #3\nmy_server_client-democlient2-1  | The package was sent!\nmy_server_client-democlient1-1  | ip=demoserver\nmy_server_client-demoserver-1   | 172.18.0.3 - Hello from client #2 at Sun Dec 11 10:29:55 GMT 2022\nmy_server_client-democlient1-1  | whoami=client #1\nmy_server_client-democlient3-1  | An attempt...\nmy_server_client-democlient1-1  | An attempt...\nmy_server_client-democlient3-1  | The package was sent!\nmy_server_client-demoserver-1   | 172.18.0.4 - Hello from client #3 at Sun Dec 11 10:29:55 GMT 2022\nmy_server_client-democlient1-1  | The package was sent!\nmy_server_client-demoserver-1   | 172.18.0.5 - Hello from client #1 at Sun Dec 11 10:29:55 GMT 2022</p>\n</li>\n</ul>\n<h2>Run docker compose again</h2>\n<ul>\n<li>Open terminal: <code>docker compose up --scale app_client1=10</code></li>\n</ul>\n<h1>DIY</h1>\n<pre><code>services:\n  demoserver:\n    image: demoserver\n\n  democlient1:\n    image: democlient\n  ...\n</code></pre>\n<p>Change <code>image</code> to <code>build</code> yourself.</p>\n<h1>Do one thing at a time</h1>\n<ul>\n<li>Step 1. test java part, server , client</li>\n<li>Step 2. package server, client as execute jar</li>\n<li>Step 3. test it on host, not on docker</li>\n<li>Step 4. pack server to docker image</li>\n<li>Step 5. test server use docker image, but test client on host</li>\n<li>Step 6. pack client to docker image</li>\n<li>Step 7. test server image and client image</li>\n<li>Step 8. build <code>docker-compose.yml</code></li>\n<li>Step 9. test docker compose</li>\n</ul>\n<p>I am used to cutting the problem into many parts, then solving each part, testing each part, and finally combining each part\nBut each part has been tested, so I can know what the message is if an error occurs, which part is wrong, and how to deal with it.</p>\n"}],"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74759917,"answer_count":1,"score":0,"last_activity_date":1673435955,"creation_date":1670706090,"question_id":74756501,"body_markdown":"I am learning Docker now. And i have faced with a problem: I have been practiced Docker Compose and got a problem with creating containers. The task: \r\nThere is a Server (Java). The server is very simple. It is just waiting messages from clients and printing them. There are not any threads or something like that. It is not what this app about. The code of the server:\r\n\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\nclass Server {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(&quot;Server was started!&quot;);\r\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\r\n            while (true) {\r\n                try (Socket client = serverSocket.accept()) {\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                    String line = reader.readLine();\r\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Dops&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThere are two clients. Also Java language. They are also very simple:\r\n\r\n\r\n```\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.Socket;\r\n\r\n\r\nclass Client {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n           \r\n        \r\n        String ip = &quot;app_server&quot;;\r\n        while (true){\r\n        try (Socket socket = new Socket(ip, 8899)) {\r\n            System.out.println(&quot;An attempt...&quot;);\r\n            Thread.sleep(10000);\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            String message = &quot;Hello from client_1\\n&quot;;\r\n            writer.write(message);\r\n            writer.flush();\r\n            System.out.println(&quot;The package was sent!&quot;);\r\n        }\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe second client is totaly the same, but the message is &quot;Hello from client_2\\n&quot;.\r\n\r\nSo the idea is to create 3 containers (Server, Client#1, Client#2). And clients have to send a message to the server every 10 seconds. I have tried that on my computer and everithing was fine. It worked perfectly. But I used definite IP 192.168.7.121 in Client app code. \r\n\r\n\r\n\r\n\r\nSo I created folders:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/b4vhr.png)](https://i.stack.imgur.com/b4vhr.png)\r\n\r\nDockerfile from Client 1:\r\n\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_client1\r\n\r\nCOPY . .\r\n\r\nRUN javac Client.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\r\n```\r\n\r\n\r\n\r\nDockerfile from Client 2:\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_client2\r\n\r\nCOPY . .\r\n\r\nRUN javac Client.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\r\n```\r\n\r\n\r\nDocker file from Server\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_server\r\n\r\nCOPY . .\r\n\r\nRUN javac Server.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Server&quot; ]\r\n```\r\n\r\n\r\n\r\ndocker-compose:\r\n\r\n\r\n\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  app_server:\r\n    build: ./app_server\r\n  app_client1:\r\n    build: ./app_client1  \r\n  app_client2:\r\n    build: ./app_client2 \r\n```\r\n\r\n\r\nAnd after i had typed the comand &quot;docker-compose up&quot; to terminal, a got this:\r\n\r\n\r\n```\r\nPS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\r\n[+] Running 3/3\r\n - Container docker-compose-app-app_server-1   Cr...                                             0.6s\r\n - Container docker-compose-app-app_client2-1  C...                                              0.6s\r\n - Container docker-compose-app-app_client1-1  C...                                              0.6s\r\nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\r\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\r\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\r\ndocker-compose-app-app_client1-1 exited with code 1\r\ndocker-compose-app-app_server-1 exited with code 127\r\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\r\ndocker-compose-app-app_client2-1 exited with code 1\r\n```\r\n\r\n\r\n\r\nAnd now there are two questions:\r\n\r\n1) Can I change Server IP address by the service name &quot;app_server&quot;. Regarding youtube tutorials it is probably possible. If I can`t use that How I suposse to know IP address of the Server before containers creating?\r\n\r\n2) I do not understand why i can not create containers. Where is mistake and what is wrong? What I have done wrong?\r\n\r\nI will be very gratefull for you help! \r\n\r\n\r\n-----------------------\r\nupdate:\r\n\r\nAccording to advice in comments bellow, I changed code in both Clients to avoid possible exceptions. Now they look like:\r\n\r\n\r\n    import java.io.IOException;\r\n    \r\n    \r\n    class Client {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            System.out.println(&quot;TEST&quot;);\r\n            \r\n        }\r\n    }\r\n\r\nBut I still have error:\r\n\r\n\r\n    PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\r\n    [+] Running 3/0\r\n     - Container docker-compose-app-app_client2-1  C...                                              0.0s \r\n     - Container docker-compose-app-app_server-1   Cr...                                             0.0s \r\n     - Container docker-compose-app-app_client1-1  C...                                              0.0s \r\n    Attaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\r\n    docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\r\n    docker-compose-app-app_server-1 exited with code 127\r\n    docker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n    docker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\n    docker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\r\n    docker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\r\n    docker-compose-app-app_client1-1 exited with code 1\r\n    docker-compose-app-app_client2-1 exited with code 1\r\n\r\n","title":"Why Docker (Java Server-Clients) doesn`t work?","body":"<p>I am learning Docker now. And i have faced with a problem: I have been practiced Docker Compose and got a problem with creating containers. The task:\nThere is a Server (Java). The server is very simple. It is just waiting messages from clients and printing them. There are not any threads or something like that. It is not what this app about. The code of the server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nclass Server {\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;Server was started!&quot;);\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\n            while (true) {\n                try (Socket client = serverSocket.accept()) {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\n                    String line = reader.readLine();\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\n                } catch (Exception e) {\n                    System.out.println(&quot;Dops&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>There are two clients. Also Java language. They are also very simple:</p>\n<pre><code>import java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\n\n\nclass Client {\n    public static void main(String[] args) throws IOException, InterruptedException {\n           \n        \n        String ip = &quot;app_server&quot;;\n        while (true){\n        try (Socket socket = new Socket(ip, 8899)) {\n            System.out.println(&quot;An attempt...&quot;);\n            Thread.sleep(10000);\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            String message = &quot;Hello from client_1\\n&quot;;\n            writer.write(message);\n            writer.flush();\n            System.out.println(&quot;The package was sent!&quot;);\n        }\n        }\n        \n    }\n}\n\n</code></pre>\n<p>The second client is totaly the same, but the message is &quot;Hello from client_2\\n&quot;.</p>\n<p>So the idea is to create 3 containers (Server, Client#1, Client#2). And clients have to send a message to the server every 10 seconds. I have tried that on my computer and everithing was fine. It worked perfectly. But I used definite IP 192.168.7.121 in Client app code.</p>\n<p>So I created folders:</p>\n<p><a href=\"https://i.stack.imgur.com/b4vhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4vhr.png\" alt=\"enter image description here\" /></a></p>\n<p>Dockerfile from Client 1:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_client1\n\nCOPY . .\n\nRUN javac Client.java\n\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\n</code></pre>\n<p>Dockerfile from Client 2:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_client2\n\nCOPY . .\n\nRUN javac Client.java\n\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\n</code></pre>\n<p>Docker file from Server</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_server\n\nCOPY . .\n\nRUN javac Server.java\n\nCMD [ &quot;java&quot;, &quot;Server&quot; ]\n</code></pre>\n<p>docker-compose:</p>\n<pre><code>version: '3'\n\nservices:\n  app_server:\n    build: ./app_server\n  app_client1:\n    build: ./app_client1  \n  app_client2:\n    build: ./app_client2 \n</code></pre>\n<p>And after i had typed the comand &quot;docker-compose up&quot; to terminal, a got this:</p>\n<pre><code>PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\n[+] Running 3/3\n - Container docker-compose-app-app_server-1   Cr...                                             0.6s\n - Container docker-compose-app-app_client2-1  C...                                              0.6s\n - Container docker-compose-app-app_client1-1  C...                                              0.6s\nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\ndocker-compose-app-app_client1-1 exited with code 1\ndocker-compose-app-app_server-1 exited with code 127\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client2-1 exited with code 1\n</code></pre>\n<p>And now there are two questions:</p>\n<ol>\n<li><p>Can I change Server IP address by the service name &quot;app_server&quot;. Regarding youtube tutorials it is probably possible. If I can`t use that How I suposse to know IP address of the Server before containers creating?</p>\n</li>\n<li><p>I do not understand why i can not create containers. Where is mistake and what is wrong? What I have done wrong?</p>\n</li>\n</ol>\n<p>I will be very gratefull for you help!</p>\n<hr />\n<p>update:</p>\n<p>According to advice in comments bellow, I changed code in both Clients to avoid possible exceptions. Now they look like:</p>\n<pre><code>import java.io.IOException;\n\n\nclass Client {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        System.out.println(&quot;TEST&quot;);\n        \n    }\n}\n</code></pre>\n<p>But I still have error:</p>\n<pre><code>PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\n[+] Running 3/0\n - Container docker-compose-app-app_client2-1  C...                                              0.0s \n - Container docker-compose-app-app_server-1   Cr...                                             0.0s \n - Container docker-compose-app-app_client1-1  C...                                              0.0s \nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\ndocker-compose-app-app_server-1 exited with code 127\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client1-1 exited with code 1\ndocker-compose-app-app_client2-1 exited with code 1\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673435688,"creation_date":1673435688,"question_id":75082148,"body_markdown":"I&#39;m reading data from access file with mdb extension after that I&#39;m saving this data into Mongo Database, now what I want is not to use the while loop while saving the data I just want to save the whole result obtained and dump it into mongodb if data present I want to override the existing data, using while loop takes much time so what I figure out may be I should dump the whole resultset obtained and at the second upload it should ovewrite the data if exists.\r\n\r\nwhat I&#39;m having right now\r\n\r\n```\r\n@Autowired\r\n\tprivate CustomerRepository customerRepository;\r\n\r\n@Async\r\n\tpublic void processData(Path filepath, String basename) throws IOException {\r\n\r\n\r\ntry {\r\n\t\t\r\n\t\t\tString msAccDB = &quot;jdbc:ucanaccess://&quot; + filepath;\r\n\t\t\tConnection conn = DriverManager.getConnection(msAccDB);\r\n\t\t\t\r\n\t\t\t// Fetching Patient Visits\r\n\t\t\tStatement customers = conn.createStatement();\r\n\t\t        ResultSet result = customers .executeQuery(&quot;SELECT * FROM customers&quot;);\r\n\t\t\t\r\n\t\t\twhile(result.next()) {\r\n\t\t\tCustomer customer = new Customer();\r\n\t\t\tcustomer.setCustomerId(result.getString(1));\r\n\t\t\tcustomer.setCustomerDate(result.getString(2));\r\n\t\t\tcustomer.setWeight(result.getString(3));\r\n\t\t\tcustomer.setCustomerCode(result.getString(9));\r\n\t\t\tcustomer.setDateAdded(LocalDateTime.now());\r\n\t\t\tcustomer.setFacilityName(basename); \r\n\t\t\tcustomerRepository.save(customer );\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t}\r\n}\r\n\t\t\tresult.close();\r\n\t\t\tvisits.close();\r\n```\r\n\r\nAlso I want to check if data exists in database it should be overwitten, any help ","title":"How to dump ResultSet into mongodb obtained from microsoft access file","body":"<p>I'm reading data from access file with mdb extension after that I'm saving this data into Mongo Database, now what I want is not to use the while loop while saving the data I just want to save the whole result obtained and dump it into mongodb if data present I want to override the existing data, using while loop takes much time so what I figure out may be I should dump the whole resultset obtained and at the second upload it should ovewrite the data if exists.</p>\n<p>what I'm having right now</p>\n<pre><code>@Autowired\n    private CustomerRepository customerRepository;\n\n@Async\n    public void processData(Path filepath, String basename) throws IOException {\n\n\ntry {\n        \n            String msAccDB = &quot;jdbc:ucanaccess://&quot; + filepath;\n            Connection conn = DriverManager.getConnection(msAccDB);\n            \n            // Fetching Patient Visits\n            Statement customers = conn.createStatement();\n                ResultSet result = customers .executeQuery(&quot;SELECT * FROM customers&quot;);\n            \n            while(result.next()) {\n            Customer customer = new Customer();\n            customer.setCustomerId(result.getString(1));\n            customer.setCustomerDate(result.getString(2));\n            customer.setWeight(result.getString(3));\n            customer.setCustomerCode(result.getString(9));\n            customer.setDateAdded(LocalDateTime.now());\n            customer.setFacilityName(basename); \n            customerRepository.save(customer );     \n            }\n            \n\n            }\n}\n            result.close();\n            visits.close();\n</code></pre>\n<p>Also I want to check if data exists in database it should be overwitten, any help</p>\n"},{"tags":["java","http-status-code-404","rapidclipse"],"comments":[{"owner":{"account_id":2813946,"reputation":155,"user_id":4342729,"display_name":"Prashant Kumar"},"score":0,"creation_date":1627050798,"post_id":68378217,"comment_id":121061518,"body_markdown":"Try with Tomcat 9","body":"Try with Tomcat 9"}],"answers":[{"comments":[{"owner":{"account_id":7098651,"reputation":1,"user_id":5431163,"display_name":"Public Joe62"},"score":0,"creation_date":1627463968,"post_id":68451065,"comment_id":121160998,"body_markdown":"Thx. We will see what happen. At the moment there is no answer there.","body":"Thx. We will see what happen. At the moment there is no answer there."}],"tags":[],"owner":{"account_id":16890663,"reputation":141,"user_id":12214448,"display_name":"Manuel St&#246;r"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626765969,"creation_date":1626765969,"answer_id":68451065,"question_id":68378217,"body_markdown":"This should definitely work, same thing happens when I try with Tomcat 10. I opened an issue for this. https://xdevsoftware.atlassian.net/browse/XWS-2002","title":"Rapidclipse X 10.4 Error 404 within demo project","body":"<p>This should definitely work, same thing happens when I try with Tomcat 10. I opened an issue for this. <a href=\"https://xdevsoftware.atlassian.net/browse/XWS-2002\" rel=\"nofollow noreferrer\">https://xdevsoftware.atlassian.net/browse/XWS-2002</a></p>\n"}],"owner":{"account_id":7098651,"reputation":1,"user_id":5431163,"display_name":"Public Joe62"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673435610,"creation_date":1626266100,"question_id":68378217,"body_markdown":"I installed RapidClipse X 10.4 and created the &quot;Demo1&quot; project.\r\n\r\n[Demo 1 Project][1]\r\n\r\nWhen I start it under &quot;Tomcat 10&quot;, the page is not found and the message &quot;HTTP Status 404&quot; appears.\r\n\r\n[Start &quot;Demo1 with Tomcat 10.0][2]\r\n\r\n[Http 404][3]\r\n\r\nAny ideas? I would be happy if I got an answer.\r\n\r\nGreetings\r\nHannes\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7K4ov.png\r\n  [2]: https://i.stack.imgur.com/uzPZj.png\r\n  [3]: https://i.stack.imgur.com/xvm5X.png","title":"Rapidclipse X 10.4 Error 404 within demo project","body":"<p>I installed RapidClipse X 10.4 and created the &quot;Demo1&quot; project.</p>\n<p><a href=\"https://i.stack.imgur.com/7K4ov.png\" rel=\"nofollow noreferrer\">Demo 1 Project</a></p>\n<p>When I start it under &quot;Tomcat 10&quot;, the page is not found and the message &quot;HTTP Status 404&quot; appears.</p>\n<p><a href=\"https://i.stack.imgur.com/uzPZj.png\" rel=\"nofollow noreferrer\">Start &quot;Demo1 with Tomcat 10.0</a></p>\n<p><a href=\"https://i.stack.imgur.com/xvm5X.png\" rel=\"nofollow noreferrer\">Http 404</a></p>\n<p>Any ideas? I would be happy if I got an answer.</p>\n<p>Greetings\nHannes</p>\n"},{"tags":["java","json"],"owner":{"account_id":25786817,"reputation":1,"user_id":19531471,"display_name":"anupriya gola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673587749,"answer_count":0,"score":0,"last_activity_date":1673434705,"creation_date":1673434705,"question_id":75081973,"body_markdown":"I am using AbstractMT getsequence(&lt;SequenceName&gt;) method of prowider to get sequence 15A of my swift message.\r\nAfter converting into JSON using toJson(). It is giving me below output.\r\n\r\n`{\r\n\t&quot;tags&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;15A&quot;,\r\n\t\t\t&quot;value&quot;: &quot;&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;27&quot;,\r\n\t\t\t&quot;value&quot;: &quot;1/1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;22A&quot;,\r\n\t\t\t&quot;value&quot;: &quot;ISCO&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;72Z&quot;,\r\n\t\t\t&quot;value&quot;: &quot;ISSUANCE OF ADVANCE PAYMENT GUARANTEE&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;23X&quot;,\r\n\t\t\t&quot;value&quot;: &quot;FACT/MT760&quot;\r\n\t\t}\r\n\t]\r\n}`\r\n\r\nInstead, I want JSON as below:\r\n\r\n`{\r\n        &quot;tags&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;15A&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;number&quot;: &quot;1&quot;,\r\n\t\t\t\t&quot;total&quot;: &quot;1&quot;,\r\n\t\t\t\t&quot;name&quot;: &quot;27&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;22A&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;ISCO&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;narrative&quot;: &quot;ISSUANCE OF ADVANCE PAYMENT GUARANTEE&quot;,\r\n\t\t\t\t&quot;name&quot;: &quot;72Z&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;code&quot;: &quot;FACT&quot;,\r\n\t\t\t\t&quot;fileNameOrReference&quot;: &quot;MT760&quot;,\r\n\t\t\t\t&quot;name&quot;: &quot;23X&quot;\r\n\t\t\t}\r\n         ]\r\n}`","title":"SwiftTagListBlock to readable JSON with TAGNAMES","body":"<p>I am using AbstractMT getsequence() method of prowider to get sequence 15A of my swift message.\nAfter converting into JSON using toJson(). It is giving me below output.</p>\n<p><code>{ &quot;tags&quot;: [ { &quot;name&quot;: &quot;15A&quot;, &quot;value&quot;: &quot;&quot; }, { &quot;name&quot;: &quot;27&quot;, &quot;value&quot;: &quot;1/1&quot; }, { &quot;name&quot;: &quot;22A&quot;, &quot;value&quot;: &quot;ISCO&quot; }, { &quot;name&quot;: &quot;72Z&quot;, &quot;value&quot;: &quot;ISSUANCE OF ADVANCE PAYMENT GUARANTEE&quot; }, { &quot;name&quot;: &quot;23X&quot;, &quot;value&quot;: &quot;FACT/MT760&quot; } ] }</code></p>\n<p>Instead, I want JSON as below:</p>\n<p><code>{ &quot;tags&quot;: [ { &quot;name&quot;: &quot;15A&quot; }, { &quot;number&quot;: &quot;1&quot;, &quot;total&quot;: &quot;1&quot;, &quot;name&quot;: &quot;27&quot; }, { &quot;name&quot;: &quot;22A&quot;, &quot;type&quot;: &quot;ISCO&quot; }, { &quot;narrative&quot;: &quot;ISSUANCE OF ADVANCE PAYMENT GUARANTEE&quot;, &quot;name&quot;: &quot;72Z&quot; }, { &quot;code&quot;: &quot;FACT&quot;, &quot;fileNameOrReference&quot;: &quot;MT760&quot;, &quot;name&quot;: &quot;23X&quot; } ] }</code></p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1505995975,"post_id":46343560,"comment_id":79646993,"body_markdown":"Add a qualifier to spell out which bean you intend to inject.","body":"Add a qualifier to spell out which bean you intend to inject."}],"answers":[{"comments":[{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1655445649,"post_id":46343634,"comment_id":128338583,"body_markdown":"How can i call service of my choice based on some condition?","body":"How can i call service of my choice based on some condition?"},{"owner":{"account_id":3137124,"reputation":1970,"user_id":2653420,"display_name":"Leffchik"},"score":0,"creation_date":1655454501,"post_id":46343634,"comment_id":128341148,"body_markdown":"@AakashPatel, you can inject all of them using Qualifier annotation with a name of the bean as value. Then use any of them based on your condition","body":"@AakashPatel, you can inject all of them using Qualifier annotation with a name of the bean as value. Then use any of them based on your condition"}],"tags":[],"owner":{"account_id":3137124,"reputation":1970,"user_id":2653420,"display_name":"Leffchik"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1505995984,"creation_date":1505995984,"answer_id":46343634,"question_id":46343560,"body_markdown":"Since you&#39;re using java config you should mark config method with `@Primary` annotation, and not a class:\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n        @Bean\r\n        public SmtpkMailSender getSmtpkMailSender(){\r\n            return new SmtpkMailSender();\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public MockMailSender getMockMailSender(){\r\n            return new MockMailSender();\r\n        }\r\n    }","title":"class required a single bean, but 2 were found:","body":"<p>Since you're using java config you should mark config method with <code>@Primary</code> annotation, and not a class:</p>\n\n<pre><code>@Configuration\npublic class MailConfig {\n    @Bean\n    public SmtpkMailSender getSmtpkMailSender(){\n        return new SmtpkMailSender();\n    }\n\n    @Bean\n    @Primary\n    public MockMailSender getMockMailSender(){\n        return new MockMailSender();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1565091890,"post_id":46344494,"comment_id":101234990,"body_markdown":"is it possible to make the qualifier value configurable?","body":"is it possible to make the qualifier value configurable?"},{"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"score":0,"creation_date":1565187346,"post_id":46344494,"comment_id":101274662,"body_markdown":"it is possible, follow below link  \n                       https://stackoverflow.com/questions/7812745/spring-qualifier-and-property-placeholder","body":"it is possible, follow below link                          <a href=\"https://stackoverflow.com/questions/7812745/spring-qualifier-and-property-placeholder\" title=\"spring qualifier and property placeholder\">stackoverflow.com/questions/7812745/&hellip;</a>"}],"tags":[],"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1589547342,"creation_date":1505998421,"answer_id":46344494,"question_id":46343560,"body_markdown":"You can use @Qualifier annotation for specify which specific type of your implementation, you want to autowire.\r\n\r\n  \r\n\r\n    @RestController\r\n    public class MailController {\r\n\r\n       @Autowired\r\n       @Qualifier(&quot;smtpkMailSender&quot;)\r\n       private MailSender smtpkMailSender;\r\n\r\n       @RequestMapping(&quot;/send&quot;)\r\n       public String send(){\r\n          smtpkMailSender.sender(&quot;Person&quot;, &quot;Important&quot;, &quot;Take Care&quot;);\r\n          return &quot;mail is sent&quot;;\r\n      }\r\n}","title":"class required a single bean, but 2 were found:","body":"<p>You can use @Qualifier annotation for specify which specific type of your implementation, you want to autowire.</p>\n\n<pre><code>@RestController\npublic class MailController {\n\n   @Autowired\n   @Qualifier(\"smtpkMailSender\")\n   private MailSender smtpkMailSender;\n\n   @RequestMapping(\"/send\")\n   public String send(){\n      smtpkMailSender.sender(\"Person\", \"Important\", \"Take Care\");\n      return \"mail is sent\";\n  }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589446415,"creation_date":1589446415,"answer_id":61793175,"question_id":46343560,"body_markdown":"You may simply name your bean using\r\n\r\n```\r\n@Bean(name=&quot;mockMailSender&quot;)\r\npublic MockMailSender getMockMailSender() { }\r\n```\r\n\r\nand then decorate the autowired field with \r\n\r\n```\r\n@Autowired\r\n@Qualifier(&quot;mockMailSender&quot;)\r\nprivate MailSender smtpkMailSender;\r\n```","title":"class required a single bean, but 2 were found:","body":"<p>You may simply name your bean using</p>\n\n<pre><code>@Bean(name=\"mockMailSender\")\npublic MockMailSender getMockMailSender() { }\n</code></pre>\n\n<p>and then decorate the autowired field with </p>\n\n<pre><code>@Autowired\n@Qualifier(\"mockMailSender\")\nprivate MailSender smtpkMailSender;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673434601,"creation_date":1673434601,"answer_id":75081949,"question_id":46343560,"body_markdown":"Another solution for this error is to `exclude` the Bean that is not used (*the duplicated bean*), from the `autoconfiguration` stage within &quot;***application.yml***&quot; file, as explained in this thread: [How to exclude AutoConfiguration classes in Spring Boot JUnit tests?][1]\r\n```yaml\r\nspring:\r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration \r\n      - org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis is applicable if the error appears after you added a new Maven/Gradle dependency, which duplicates an existing bean that you are using. For example, when both beans come from external JARs, so the source code cannot be updated with `@Primary` or `@Qualifier` annotations to solve the error.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26698071/how-to-exclude-autoconfiguration-classes-in-spring-boot-junit-tests","title":"class required a single bean, but 2 were found:","body":"<p>Another solution for this error is to <code>exclude</code> the Bean that is not used (<em>the duplicated bean</em>), from the <code>autoconfiguration</code> stage within &quot;<em><strong>application.yml</strong></em>&quot; file, as explained in this thread: <a href=\"https://stackoverflow.com/questions/26698071/how-to-exclude-autoconfiguration-classes-in-spring-boot-junit-tests\">How to exclude AutoConfiguration classes in Spring Boot JUnit tests?</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration \n      - org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration\n</code></pre>\n<hr />\n<p>This is applicable if the error appears after you added a new Maven/Gradle dependency, which duplicates an existing bean that you are using. For example, when both beans come from external JARs, so the source code cannot be updated with <code>@Primary</code> or <code>@Qualifier</code> annotations to solve the error.</p>\n"}],"owner":{"account_id":2763820,"reputation":7847,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95608,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46343634,"answer_count":4,"score":21,"last_activity_date":1673434601,"creation_date":1505995770,"question_id":46343560,"body_markdown":"I have the below interface:\r\n\r\n    public interface MailSender {\r\n    \tvoid sender(String to, String subject,String body);\r\n    }\r\n\r\nWith 2 imlementation of it:\r\n\r\n    public class SmtpkMailSender implements MailSender   {\r\n    \t\r\n    \tstatic Log log=LogFactory.getLog(MailSender.class); \r\n    \t\r\n    \tpublic void sender(String to, String subject,String body){\r\n    \t\tlog.info(&quot;SMTP To: &quot;+to);\r\n    \t\tlog.info(&quot;SMTP Subjecy: &quot;+subject);\r\n    \t\tlog.info(&quot;SMTP body: &quot;+body);\r\n    \t}\r\n    \r\n    }\r\nand the second one is:\r\n\r\n    @Primary\r\n    public class MockMailSender implements MailSender   {\r\n    \t\r\n    \tstatic Log log=LogFactory.getLog(MailSender.class); \r\n    \t\r\n    \tpublic void sender(String to, String subject,String body){\r\n    \t\tlog.info(&quot;To: &quot;+to);\r\n    \t\tlog.info(&quot;Subject: &quot;+subject);\r\n    \t\tlog.info(&quot;body: &quot;+body);\r\n    \t}\r\n    \r\n    }\r\n\r\nI used the dependency injection into the controller class which is as following:\r\n\r\n    @RestController\r\n    public class MailController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MailSender smtpkMailSender;\r\n    \t\r\n    \t@RequestMapping(&quot;/send&quot;)\r\n    \tpublic String send(){\r\n    \t\tsmtpkMailSender.sender(&quot;Person&quot;, &quot;Important&quot;, &quot;Take Care&quot;);\r\n    \t    return &quot;mail is sent&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nAt the end i have a configuration class which contains my Beans:\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n    \t\r\n    \t@Bean\r\n    \tpublic SmtpkMailSender getSmtpkMailSender(){\r\n    \t\treturn new SmtpkMailSender();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic MockMailSender getMockMailSender(){\r\n    \t\treturn new MockMailSender();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nUnfortunatly, when i run my application it complains with:\r\n\r\n    Description:\r\n    \r\n    Field smtpkMailSender in com.example.demo.MailController required a single bean, but 2 were found:\r\n    \t- getSmtpkMailSender: defined by method &#39;getSmtpkMailSender&#39; in class path resource [com/example/mail/MailConfig.class]\r\n    \t- getMockMailSender: defined by method &#39;getMockMailSender&#39; in class path resource [com/example/mail/MailConfig.class]\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nAs you see, although i have specified the `MockMailSender` as Primary the spring still complains, and cannot identify it\r\n\r\n\r\n","title":"class required a single bean, but 2 were found:","body":"<p>I have the below interface:</p>\n\n<pre><code>public interface MailSender {\n    void sender(String to, String subject,String body);\n}\n</code></pre>\n\n<p>With 2 imlementation of it:</p>\n\n<pre><code>public class SmtpkMailSender implements MailSender   {\n\n    static Log log=LogFactory.getLog(MailSender.class); \n\n    public void sender(String to, String subject,String body){\n        log.info(\"SMTP To: \"+to);\n        log.info(\"SMTP Subjecy: \"+subject);\n        log.info(\"SMTP body: \"+body);\n    }\n\n}\n</code></pre>\n\n<p>and the second one is:</p>\n\n<pre><code>@Primary\npublic class MockMailSender implements MailSender   {\n\n    static Log log=LogFactory.getLog(MailSender.class); \n\n    public void sender(String to, String subject,String body){\n        log.info(\"To: \"+to);\n        log.info(\"Subject: \"+subject);\n        log.info(\"body: \"+body);\n    }\n\n}\n</code></pre>\n\n<p>I used the dependency injection into the controller class which is as following:</p>\n\n<pre><code>@RestController\npublic class MailController {\n\n    @Autowired\n    private MailSender smtpkMailSender;\n\n    @RequestMapping(\"/send\")\n    public String send(){\n        smtpkMailSender.sender(\"Person\", \"Important\", \"Take Care\");\n        return \"mail is sent\";\n    }\n}\n</code></pre>\n\n<p>At the end i have a configuration class which contains my Beans:</p>\n\n<pre><code>@Configuration\npublic class MailConfig {\n\n    @Bean\n    public SmtpkMailSender getSmtpkMailSender(){\n        return new SmtpkMailSender();\n    }\n\n    @Bean\n    public MockMailSender getMockMailSender(){\n        return new MockMailSender();\n    }\n\n}\n</code></pre>\n\n<p>Unfortunatly, when i run my application it complains with:</p>\n\n<pre><code>Description:\n\nField smtpkMailSender in com.example.demo.MailController required a single bean, but 2 were found:\n    - getSmtpkMailSender: defined by method 'getSmtpkMailSender' in class path resource [com/example/mail/MailConfig.class]\n    - getMockMailSender: defined by method 'getMockMailSender' in class path resource [com/example/mail/MailConfig.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n\n<p>As you see, although i have specified the <code>MockMailSender</code> as Primary the spring still complains, and cannot identify it</p>\n"},{"tags":["java","hibernate","spring-data-jpa","partition"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592377039,"creation_date":1592377039,"answer_id":62423138,"question_id":62421593,"body_markdown":"You can&#39;t do this with the Criteria API since it basically creates JPQL put the partition clause is part of SQL and there is no equivalent in JPQL.\r\n\r\nSince you seem to require to create the query dynamically I&#39;d suggest you look into Querydsl and jOOQ to see if they support the partition clause or alternatively construct the SQL yourself using String concatenation. \r\nIn that case you have to take care that you don&#39;t create a SQL injection vulnerability.\r\n\r\nIf all you need is actually pagination, that can be combined with with native `@Query` annotations just fine.\r\n\r\n","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>You can't do this with the Criteria API since it basically creates JPQL put the partition clause is part of SQL and there is no equivalent in JPQL.</p>\n\n<p>Since you seem to require to create the query dynamically I'd suggest you look into Querydsl and jOOQ to see if they support the partition clause or alternatively construct the SQL yourself using String concatenation. \nIn that case you have to take care that you don't create a SQL injection vulnerability.</p>\n\n<p>If all you need is actually pagination, that can be combined with with native <code>@Query</code> annotations just fine.</p>\n"},{"tags":[],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592547345,"creation_date":1592547345,"answer_id":62464371,"question_id":62421593,"body_markdown":"I finally found a way to do this.\r\n\r\nNeed to create an interceptor to intercept all SQL queries and edit it as per requirement.\r\n\r\n    @Component\r\n    public class MyInterceptor extends EmptyInterceptor {\r\n    \r\n    \tprivate static final long serialVersionUID = 1;\r\n    \t@Autowired\r\n    \t@Qualifier(&quot;PartitionContext&quot;)\r\n    \tprivate ThreadLocal&lt;String&gt; partitionContext;\r\n    \r\n    \t@Override\r\n    \tpublic String onPrepareStatement(String sql) {\r\n    \t\tString partition = partitionContext.get();\r\n    \t\tif (partition != null) {\r\n    \t\t\tStringBuilder sb = new StringBuilder(sql);\r\n    \t\t\tsql = sb.insert(sql.indexOf(&quot; where&quot;), partition).toString();\r\n    \t\t\tpartitionContext.remove();\r\n    \t\t}\r\n    \t\treturn super.onPrepareStatement(sql);\r\n    \t}\r\n    }\r\n\r\n \r\nWe also need to register the interceptor like this.\r\n\r\n    Component\r\n    public class MyInterceptorRegistration implements HibernatePropertiesCustomizer {\r\n    \r\n    \t@Autowired\r\n        private MyInterceptor myInterceptor;\r\n    \t\r\n    \t@Override\r\n    \tpublic void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n    \t\thibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, myInterceptor);\r\n    \t}\r\n    }","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>I finally found a way to do this.</p>\n\n<p>Need to create an interceptor to intercept all SQL queries and edit it as per requirement.</p>\n\n<pre><code>@Component\npublic class MyInterceptor extends EmptyInterceptor {\n\n    private static final long serialVersionUID = 1;\n    @Autowired\n    @Qualifier(\"PartitionContext\")\n    private ThreadLocal&lt;String&gt; partitionContext;\n\n    @Override\n    public String onPrepareStatement(String sql) {\n        String partition = partitionContext.get();\n        if (partition != null) {\n            StringBuilder sb = new StringBuilder(sql);\n            sql = sb.insert(sql.indexOf(\" where\"), partition).toString();\n            partitionContext.remove();\n        }\n        return super.onPrepareStatement(sql);\n    }\n}\n</code></pre>\n\n<p>We also need to register the interceptor like this.</p>\n\n<pre><code>Component\npublic class MyInterceptorRegistration implements HibernatePropertiesCustomizer {\n\n    @Autowired\n    private MyInterceptor myInterceptor;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(\"hibernate.session_factory.interceptor\", myInterceptor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673434299,"creation_date":1592368680,"question_id":62421593,"body_markdown":"take the example of the below SQL query\r\n\r\nSELECT * FROM employees **PARTITION (p0)** WHERE name =&#39;John&#39;;\r\n\r\nThe above example can easily be written without &quot;PARTITION (p0)&quot; in Spring data JPA.\r\nIt gets a lot difficult when I need to add a partition.\r\n\r\nOne possible solution is to use native SQL. But, that is not an option for me because I have to use PaginationAndSorting and Criteriabuilder.\r\nAny suggestions would be great. Thanks.\r\n\r\n ","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>take the example of the below SQL query</p>\n\n<p>SELECT * FROM employees <strong>PARTITION (p0)</strong> WHERE name ='John';</p>\n\n<p>The above example can easily be written without \"PARTITION (p0)\" in Spring data JPA.\nIt gets a lot difficult when I need to add a partition.</p>\n\n<p>One possible solution is to use native SQL. But, that is not an option for me because I have to use PaginationAndSorting and Criteriabuilder.\nAny suggestions would be great. Thanks.</p>\n"},{"tags":["java","android","kotlin","android-layout","android-activity"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1673435866,"post_id":75081875,"comment_id":132497240,"body_markdown":"personally I&#39;ve never found a solution for that... ended up with building two separated APKs (flavors), with `horizontal` and `vertical` orientation set for all activities in manifest, just for that reason... Looks like `Activity` will always start in fixed or physical device orientation (sensor), you can&#39;t decide programmatically before it is actually launched...","body":"personally I&#39;ve never found a solution for that... ended up with building two separated APKs (flavors), with <code>horizontal</code> and <code>vertical</code> orientation set for all activities in manifest, just for that reason... Looks like <code>Activity</code> will always start in fixed or physical device orientation (sensor), you can&#39;t decide programmatically before it is actually launched..."},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673452414,"post_id":75081875,"comment_id":132503354,"body_markdown":"so Manifest decides always afaik... btw. never tried solution with `Settings.System`, does it work? my app will get needed perm for sure","body":"so Manifest decides always afaik... btw. never tried solution with <code>Settings.System</code>, does it work? my app will get needed perm for sure"},{"owner":{"account_id":23732435,"reputation":107,"user_id":17751489,"display_name":"Cuyer"},"score":0,"creation_date":1673481112,"post_id":75081875,"comment_id":132511799,"body_markdown":"I mean it did work for me, but I might have different scenario thank Yours. I&#39;ve added writing permission in manifest and in application settings and it worked. In my case, if rotation is turned on, everything works as expected and the screen doesnt flicker","body":"I mean it did work for me, but I might have different scenario thank Yours. I&#39;ve added writing permission in manifest and in application settings and it worked. In my case, if rotation is turned on, everything works as expected and the screen doesnt flicker"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673521242,"post_id":75081875,"comment_id":132520093,"body_markdown":"but this `Setting` is setting rotation fixed for &quot;whole device&quot;? so if user leave app and moves to other (which e.g. support sensor) then this other won&#39;t change orientation even when device&#39;s will be opposite? (well, this might be detected, do have an idea, switching in runtime)","body":"but this <code>Setting</code> is setting rotation fixed for &quot;whole device&quot;? so if user leave app and moves to other (which e.g. support sensor) then this other won&#39;t change orientation even when device&#39;s will be opposite? (well, this might be detected, do have an idea, switching in runtime)"}],"owner":{"account_id":23732435,"reputation":107,"user_id":17751489,"display_name":"Cuyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673434290,"creation_date":1673434290,"question_id":75081875,"body_markdown":"I have set orientation programmatically to landscape for tablets and portrait for phones.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Uv4I4.png)](https://i.stack.imgur.com/Uv4I4.png)\r\n\r\nThe issue is that when navigating on **tablet** from one activity to another, with **auto-rotation disabled** and **in portrait mode** the screen is flickering. First, it navigates to the new activity in portrait mode and then changes to landscape which is not the output I would want. \r\n\r\nI&#39;ve tried adding to the manifest \r\n\r\n```\r\nandroid:screenOrientation=&quot;locked&quot;\r\nandroid:screenOrientation=&quot;nosensor&quot;\r\nandroid:screenOrientation=&quot;sensor&quot;\r\n```\r\n\r\nand in activity for tablets I&#39;ve set \r\n```\r\nsetRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\r\n```\r\n\r\nWhich doesn&#39;t flicker, but still its not what I want.\r\n\r\n\r\n\r\nExpected outcome is for phones to stay as portrait mode and tablet as landscape. I think that the main issue is with system auto-rotate setting as disabled, because when it&#39;s enabled and I try to navigate from one activity to another, the screens doesn&#39;t flick and just stay as either portrait or landscape.\r\n\r\n\r\nI think I could use \r\n```\r\nSettings.System.putInt(context.getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, 1);\r\n```\r\nbut then I need settings write permissions, which should be enabled by the user and I want to know if somehow I can omit that","title":"Android screen flickering when navigating to the new activity with auto-rotation disabled","body":"<p>I have set orientation programmatically to landscape for tablets and portrait for phones.</p>\n<p><a href=\"https://i.stack.imgur.com/Uv4I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uv4I4.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that when navigating on <strong>tablet</strong> from one activity to another, with <strong>auto-rotation disabled</strong> and <strong>in portrait mode</strong> the screen is flickering. First, it navigates to the new activity in portrait mode and then changes to landscape which is not the output I would want.</p>\n<p>I've tried adding to the manifest</p>\n<pre><code>android:screenOrientation=&quot;locked&quot;\nandroid:screenOrientation=&quot;nosensor&quot;\nandroid:screenOrientation=&quot;sensor&quot;\n</code></pre>\n<p>and in activity for tablets I've set</p>\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\n</code></pre>\n<p>Which doesn't flicker, but still its not what I want.</p>\n<p>Expected outcome is for phones to stay as portrait mode and tablet as landscape. I think that the main issue is with system auto-rotate setting as disabled, because when it's enabled and I try to navigate from one activity to another, the screens doesn't flick and just stay as either portrait or landscape.</p>\n<p>I think I could use</p>\n<pre><code>Settings.System.putInt(context.getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, 1);\n</code></pre>\n<p>but then I need settings write permissions, which should be enabled by the user and I want to know if somehow I can omit that</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1673432765,"post_id":75081327,"comment_id":132496069,"body_markdown":"This code works for me successfully. Specify which versions of spring, hibernate, mysql driver are used and how you enable ddl generation","body":"This code works for me successfully. Specify which versions of spring, hibernate, mysql driver are used and how you enable ddl generation"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673432842,"post_id":75081327,"comment_id":132496095,"body_markdown":"When using hibernate, you can use the hibernate specific `@ColumnDefault` annotation to only specify the default value. That way you don&#39;t have a hassle with the data type","body":"When using hibernate, you can use the hibernate specific <code>@ColumnDefault</code> annotation to only specify the default value. That way you don&#39;t have a hassle with the data type"},{"owner":{"account_id":27497453,"reputation":1,"user_id":20981765,"display_name":"Jasper Houben"},"score":0,"creation_date":1673434291,"post_id":75081327,"comment_id":132496643,"body_markdown":"Thanks for your replies! As stated in my Edit, I found the solution :)","body":"Thanks for your replies! As stated in my Edit, I found the solution :)"}],"answers":[{"comments":[{"owner":{"account_id":27497453,"reputation":1,"user_id":20981765,"display_name":"Jasper Houben"},"score":0,"creation_date":1673432270,"post_id":75081432,"comment_id":132495900,"body_markdown":"Should&#39;ve mentioned – I already did that and it is working fine that way. I am just trying to figure out how to use the columnDefinition attribute at this point.","body":"Should&#39;ve mentioned – I already did that and it is working fine that way. I am just trying to figure out how to use the columnDefinition attribute at this point."},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673437062,"post_id":75081432,"comment_id":132497678,"body_markdown":"@Column(columnDefinition=&quot;BOOLEAN DEFAULT false&quot;) will work for many databases include PostgreSQL","body":"@Column(columnDefinition=&quot;BOOLEAN DEFAULT false&quot;) will work for many databases include PostgreSQL"},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673437257,"post_id":75081432,"comment_id":132497753,"body_markdown":"@Column(columnDefinition=&quot;bit default 0&quot;)\n    private Boolean active;                                                                                                                      this will work with sql","body":"@Column(columnDefinition=&quot;bit default 0&quot;)     private Boolean active;                                                                                                                      this will work with sql"}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432183,"creation_date":1673432183,"answer_id":75081432,"question_id":75081327,"body_markdown":" if you want to set the default value of the example to be false then you can write it like this and remove columnDefintion from there \r\n\r\n   private Boolean example=false;","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>if you want to set the default value of the example to be false then you can write it like this and remove columnDefintion from there</p>\n<p>private Boolean example=false;</p>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673434227,"creation_date":1673434227,"answer_id":75081860,"question_id":75081327,"body_markdown":"Disable quotes by adding `spring.jpa.properties.hibernate.globally_quoted_identifiers=false` to `application.properties` file\r\n\r\nBut after disabling, you will not be able to use column and table names that match mysql keywords (eg `desc`). Workaround by adding an underscore:\r\n\r\n    @Column(name = &quot;desc_&quot;)\r\n    String desc;","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>Disable quotes by adding <code>spring.jpa.properties.hibernate.globally_quoted_identifiers=false</code> to <code>application.properties</code> file</p>\n<p>But after disabling, you will not be able to use column and table names that match mysql keywords (eg <code>desc</code>). Workaround by adding an underscore:</p>\n<pre><code>@Column(name = &quot;desc_&quot;)\nString desc;\n</code></pre>\n"}],"owner":{"account_id":27497453,"reputation":1,"user_id":20981765,"display_name":"Jasper Houben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673434272,"creation_date":1673431713,"question_id":75081327,"body_markdown":"I am using Springboot JPAs to generate a MySql8 table. It works fine unless I try to use the columndefinition in the Column annotation.\r\n\r\n\r\n```\r\n @Column(columnDefinition = &quot;boolean default false&quot;)\r\n    private Boolean example;\r\n```\r\nI tried replacing boolean with TINYINT but MySql8 should support boolean as far as I am aware.\r\n\r\nI get an error during the table generation:\r\n&gt; Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;`boolean default false` at line 5\r\n\r\nTo me it looks like the generated SQL Syntax has additional quotation marks but I am unsure how to fix the issue.\r\n\r\n```\r\n create table `exampleTable` (\r\n       `id` bigint not null auto_increment,\r\n        `example` `boolean default false`,\r\n        primary key (`id`)\r\n    )\r\n```\r\n\r\nEDIT:\r\nI found my Issue in this question:\r\nhttps://stackoverflow.com/questions/60087403/spring-jpa-globally-quoted-identifiers-incorrectly-quoting-column-type-text","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>I am using Springboot JPAs to generate a MySql8 table. It works fine unless I try to use the columndefinition in the Column annotation.</p>\n<pre><code> @Column(columnDefinition = &quot;boolean default false&quot;)\n    private Boolean example;\n</code></pre>\n<p>I tried replacing boolean with TINYINT but MySql8 should support boolean as far as I am aware.</p>\n<p>I get an error during the table generation:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '<code>boolean default false</code> at line 5</p>\n</blockquote>\n<p>To me it looks like the generated SQL Syntax has additional quotation marks but I am unsure how to fix the issue.</p>\n<pre><code> create table `exampleTable` (\n       `id` bigint not null auto_increment,\n        `example` `boolean default false`,\n        primary key (`id`)\n    )\n</code></pre>\n<p>EDIT:\nI found my Issue in this question:\n<a href=\"https://stackoverflow.com/questions/60087403/spring-jpa-globally-quoted-identifiers-incorrectly-quoting-column-type-text\">Spring JPA globally_quoted_identifiers incorrectly quoting column type TEXT</a></p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":8298782,"reputation":107,"user_id":7281448,"accept_rate":50,"display_name":"Aleksei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624397736,"creation_date":1624397316,"answer_id":68090900,"question_id":68087692,"body_markdown":"Seems like I found a solution with a uriBuilderFactory override. \r\n\r\nFirstly we need an additional class:\r\n\r\n    public class QueryParamsUriBuilderFactory extends DefaultUriBuilderFactory {\r\n    \r\n        private final MultiValueMap&lt;String, String&gt; queryParams;\r\n    \r\n        public QueryParamsUriBuilderFactory(String baseUrl, MultiValueMap&lt;String, String&gt; queryParams) {\r\n            super(baseUrl);\r\n            this.queryParams = queryParams;\r\n        }\r\n    \r\n        @Override\r\n        public UriBuilder builder() {\r\n            return super.builder().queryParams(queryParams);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe next step is to update a configuration:\r\n\r\n    @Configuration\r\n    public class IConnectionConfiguration {\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String baseUrl;\r\n    \r\n        @Bean\r\n        public WebClient webClient(UriBuilderFactory uriBuilderFactoryWithAuthenticationToken) {\r\n            return WebClient.builder()\r\n                .uriBuilderFactory(uriBuilderFactoryWithAuthenticationToken)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public UriBuilderFactory uriBuilderFactoryWithAuthenticationToken() {\r\n            MultiValueMap&lt;String, String&gt; tokenQueryParam = new LinkedMultiValueMap&lt;&gt;();\r\n            tokenQueryParam.add(&quot;token&quot;, apiKey);\r\n    \r\n            return new QueryParamsUriBuilderFactory(baseUrl, tokenQueryParam);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow it will automatically add token query param if we use `uri(Function&lt;UriBuilder, URI&gt; var1)` function to setup uri. Unfortunately it does not work for `uri(URI var1)` but we can override all methods related to uri in our new `QueryParamsUriBuilderFactory` to fix it for all possible methods for uri setup. ","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Seems like I found a solution with a uriBuilderFactory override.</p>\n<p>Firstly we need an additional class:</p>\n<pre><code>public class QueryParamsUriBuilderFactory extends DefaultUriBuilderFactory {\n\n    private final MultiValueMap&lt;String, String&gt; queryParams;\n\n    public QueryParamsUriBuilderFactory(String baseUrl, MultiValueMap&lt;String, String&gt; queryParams) {\n        super(baseUrl);\n        this.queryParams = queryParams;\n    }\n\n    @Override\n    public UriBuilder builder() {\n        return super.builder().queryParams(queryParams);\n    }\n\n}\n</code></pre>\n<p>The next step is to update a configuration:</p>\n<pre><code>@Configuration\npublic class IConnectionConfiguration {\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String baseUrl;\n\n    @Bean\n    public WebClient webClient(UriBuilderFactory uriBuilderFactoryWithAuthenticationToken) {\n        return WebClient.builder()\n            .uriBuilderFactory(uriBuilderFactoryWithAuthenticationToken)\n                .build();\n    }\n\n    @Bean\n    public UriBuilderFactory uriBuilderFactoryWithAuthenticationToken() {\n        MultiValueMap&lt;String, String&gt; tokenQueryParam = new LinkedMultiValueMap&lt;&gt;();\n        tokenQueryParam.add(&quot;token&quot;, apiKey);\n\n        return new QueryParamsUriBuilderFactory(baseUrl, tokenQueryParam);\n    }\n\n}\n</code></pre>\n<p>Now it will automatically add token query param if we use <code>uri(Function&lt;UriBuilder, URI&gt; var1)</code> function to setup uri. Unfortunately it does not work for <code>uri(URI var1)</code> but we can override all methods related to uri in our new <code>QueryParamsUriBuilderFactory</code> to fix it for all possible methods for uri setup.</p>\n"},{"comments":[{"owner":{"account_id":22106462,"reputation":11,"user_id":16362008,"display_name":"igavryus"},"score":0,"creation_date":1625185689,"post_id":68218270,"comment_id":120567001,"body_markdown":"Just ignore the last curly bracket, copy/paste error :-)","body":"Just ignore the last curly bracket, copy/paste error :-)"}],"tags":[],"owner":{"account_id":22106462,"reputation":11,"user_id":16362008,"display_name":"igavryus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625185558,"creation_date":1625185558,"answer_id":68218270,"question_id":68087692,"body_markdown":"I found another way, without custom UriBuilderFactory:\r\n\r\n```\r\n        this.client = WebClient.builder().baseUrl(url)\r\n            .filter((request, next) -&gt; {\r\n                URI reqUri = request.url()\r\n                URI newUri = new URI(reqUri.getScheme()\r\n                                , reqUri.getAuthority(), reqUri.getPath()\r\n                                , reqUri.getQuery() + &quot;&amp;key=${apiKey}&quot;\r\n                                , null)\r\n                ClientRequest filtered = ClientRequest.from(request)\r\n                    .url(newUri)\r\n                    .build()\r\n                next.exchange(filtered)\r\n            }).build();\r\n    }\r\n```\r\nThis is groovy code but you get the gist, I am sure.\r\n","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>I found another way, without custom UriBuilderFactory:</p>\n<pre><code>        this.client = WebClient.builder().baseUrl(url)\n            .filter((request, next) -&gt; {\n                URI reqUri = request.url()\n                URI newUri = new URI(reqUri.getScheme()\n                                , reqUri.getAuthority(), reqUri.getPath()\n                                , reqUri.getQuery() + &quot;&amp;key=${apiKey}&quot;\n                                , null)\n                ClientRequest filtered = ClientRequest.from(request)\n                    .url(newUri)\n                    .build()\n                next.exchange(filtered)\n            }).build();\n    }\n</code></pre>\n<p>This is groovy code but you get the gist, I am sure.</p>\n"},{"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673432470,"post_id":68835171,"comment_id":132495975,"body_markdown":"Neat, but does not work well if supplying a uri using `webClient.get().uri(...)` for example. In that case the uriBuilderFactory supplied here is not used at all.","body":"Neat, but does not work well if supplying a uri using <code>webClient.get().uri(...)</code> for example. In that case the uriBuilderFactory supplied here is not used at all."}],"tags":[],"owner":{"account_id":2035452,"reputation":1815,"user_id":1817908,"accept_rate":40,"display_name":"meberhard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629300177,"creation_date":1629300177,"answer_id":68835171,"question_id":68087692,"body_markdown":"Another possibility that does not require overriding or using filter: Use `UriComponentsBuilder` with the query parameter that should be used for all requests. This instance of `UriComponentsBuilder` can than be used to instantiate a `DefaultUriBuilderFactory` for the `WebClient`.\r\n\r\nBased on the code of the question:\r\n\r\n    public class IConnectionConfiguration {\r\n    \r\n        private static final String TOKEN_QUERY_PARAMETER = &quot;TOKEN&quot;;\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String url;\r\n    \r\n        @Bean\r\n        public WebClient webClient() {\r\n            DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory(uriComponentsBuilder());\r\n            return WebClient.builder()\r\n                    .uriBuilderFactory(defaultUriBuilderFactory)\r\n                    .build();\r\n        }\r\n    \r\n        private UriComponentsBuilder uriComponentsBuilder() {\r\n            return UriComponentsBuilder.fromHttpUrl(url)\r\n                    .queryParam(TOKEN_QUERY_PARAMETER, apiKey);\r\n        }\r\n    \r\n    }\r\n\r\nThe token will now be attached to every request that is issued by the WebClient.","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Another possibility that does not require overriding or using filter: Use <code>UriComponentsBuilder</code> with the query parameter that should be used for all requests. This instance of <code>UriComponentsBuilder</code> can than be used to instantiate a <code>DefaultUriBuilderFactory</code> for the <code>WebClient</code>.</p>\n<p>Based on the code of the question:</p>\n<pre><code>public class IConnectionConfiguration {\n\n    private static final String TOKEN_QUERY_PARAMETER = &quot;TOKEN&quot;;\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String url;\n\n    @Bean\n    public WebClient webClient() {\n        DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory(uriComponentsBuilder());\n        return WebClient.builder()\n                .uriBuilderFactory(defaultUriBuilderFactory)\n                .build();\n    }\n\n    private UriComponentsBuilder uriComponentsBuilder() {\n        return UriComponentsBuilder.fromHttpUrl(url)\n                .queryParam(TOKEN_QUERY_PARAMETER, apiKey);\n    }\n\n}\n</code></pre>\n<p>The token will now be attached to every request that is issued by the WebClient.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673433228,"creation_date":1673433228,"answer_id":75081655,"question_id":68087692,"body_markdown":"Although this is an older question, this is the solution I went with myself in the end:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n\t\t\t\t\t\t\t.filter(ExchangeFilterFunction.ofRequestProcessor(\r\n\t\t\t\t\t\t\t\treq -&gt; \r\n\t\t\t\t\t\t\t\t\tMono.just(ClientRequest.from(req).url(\r\n\t\t\t\t\t\t\t\t\t\tUriComponentsBuilder.fromUri(req.url())\r\n\t\t\t\t\t\t\t\t\t\t\t.queryParam(&quot;apiKey&quot;, &quot;...&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.build(true)\r\n\t\t\t\t\t\t\t\t\t\t\t.toUri()\r\n\t\t\t\t\t\t\t\t).build()))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.build();\r\n\r\nThis has the following advantages (depending on use case):\r\n\r\n - It is applied on *all* requests, whereas the answers using `UriBuilderFactory` does not work when supplying a new uri template such as when using `webClient.get().uri(String uri, Function &lt;UriBuilder, URI&gt; uriFunction)`\r\n - It uses `UriComponentsBuilder` for a cleaner way of modifying the URI.\r\n\r\nNote that as per its documentation, `UriComponentsBuilder` created from an existing URI stores query params in `raw` form, which means that they are already fully encoded. Any new parameters added must also be added in fully encoded form, and in the end `build(true)` must be called with the `true` arguments to avoid double encoding.","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Although this is an older question, this is the solution I went with myself in the end:</p>\n<pre><code>WebClient webClient = WebClient.builder()\n                        .filter(ExchangeFilterFunction.ofRequestProcessor(\n                            req -&gt; \n                                Mono.just(ClientRequest.from(req).url(\n                                    UriComponentsBuilder.fromUri(req.url())\n                                        .queryParam(&quot;apiKey&quot;, &quot;...&quot;)\n                                        .build(true)\n                                        .toUri()\n                            ).build()))\n                        )\n                        .build();\n</code></pre>\n<p>This has the following advantages (depending on use case):</p>\n<ul>\n<li>It is applied on <em>all</em> requests, whereas the answers using <code>UriBuilderFactory</code> does not work when supplying a new uri template such as when using <code>webClient.get().uri(String uri, Function &lt;UriBuilder, URI&gt; uriFunction)</code></li>\n<li>It uses <code>UriComponentsBuilder</code> for a cleaner way of modifying the URI.</li>\n</ul>\n<p>Note that as per its documentation, <code>UriComponentsBuilder</code> created from an existing URI stores query params in <code>raw</code> form, which means that they are already fully encoded. Any new parameters added must also be added in fully encoded form, and in the end <code>build(true)</code> must be called with the <code>true</code> arguments to avoid double encoding.</p>\n"}],"owner":{"account_id":8298782,"reputation":107,"user_id":7281448,"accept_rate":50,"display_name":"Aleksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1673433228,"creation_date":1624380434,"question_id":68087692,"body_markdown":"How can I put query params into all requests in spring webflux avoiding code duplication in all places where I open http connection? \r\n\r\nI try to make a configuration for a WebClient bean with a filter that should put a query param in URL every time when I do http call but I cannot find a way how to do it. Is it possible? \r\n\r\nConfiguration class:\r\n\r\n    @Configuration\r\n    public class IConnectionConfiguration {\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String url;\r\n    \r\n        @Bean\r\n        public WebClient webClient(@Autowired ExchangeFilterFunction tokenFilter) {\r\n            return WebClient.builder().baseUrl(url)\r\n                    .filters(exchangeFilterFunctions -&gt; {\r\n                        exchangeFilterFunctions.add(tokenFilter);\r\n                    })\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public ExchangeFilterFunction tokenFilter() {\r\n            return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n                //todo put token into request as a query param\r\n                return Mono.just(clientRequest);\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nApi calls layer: \r\n\r\n    @Service\r\n    public class Client {\r\n    \r\n        @Autowired\r\n        private WebClient client;\r\n    \r\n        //todo test method\r\n        public void testConnection() {\r\n            String s = client.get()\r\n                    .uri(uriBuilder -&gt;\r\n                            uriBuilder.path(&quot;/something/{val}/something&quot;)\r\n                                  //todo line which I&#39;m trying to avoid\r\n                                  //.queryParam(&quot;token&quot;, &quot;token_value&quot;)\r\n                                    .build(&quot;123-test&quot;))\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();\r\n    \r\n            System.out.println(s);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>How can I put query params into all requests in spring webflux avoiding code duplication in all places where I open http connection?</p>\n<p>I try to make a configuration for a WebClient bean with a filter that should put a query param in URL every time when I do http call but I cannot find a way how to do it. Is it possible?</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\npublic class IConnectionConfiguration {\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String url;\n\n    @Bean\n    public WebClient webClient(@Autowired ExchangeFilterFunction tokenFilter) {\n        return WebClient.builder().baseUrl(url)\n                .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(tokenFilter);\n                })\n                .build();\n    }\n\n    @Bean\n    public ExchangeFilterFunction tokenFilter() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            //todo put token into request as a query param\n            return Mono.just(clientRequest);\n        });\n    }\n\n}\n</code></pre>\n<p>Api calls layer:</p>\n<pre><code>@Service\npublic class Client {\n\n    @Autowired\n    private WebClient client;\n\n    //todo test method\n    public void testConnection() {\n        String s = client.get()\n                .uri(uriBuilder -&gt;\n                        uriBuilder.path(&quot;/something/{val}/something&quot;)\n                              //todo line which I'm trying to avoid\n                              //.queryParam(&quot;token&quot;, &quot;token_value&quot;)\n                                .build(&quot;123-test&quot;))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n        System.out.println(s);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","influxdb"],"answers":[{"tags":[],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432934,"creation_date":1673432934,"answer_id":75081586,"question_id":75068851,"body_markdown":"You can also use the `@Column` annotation for tags, simply include `tag = true` in the annotation, for example: \r\n\r\n    @Column(tag = true)\r\n        String location;\r\n\r\nSource: https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x\r\n","title":"Java InfluxDB: Map tags as well as fields in POJO from query","body":"<p>You can also use the <code>@Column</code> annotation for tags, simply include <code>tag = true</code> in the annotation, for example:</p>\n<pre><code>@Column(tag = true)\n    String location;\n</code></pre>\n<p>Source: <a href=\"https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x\" rel=\"nofollow noreferrer\">https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x</a></p>\n"}],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673432934,"creation_date":1673347776,"question_id":75068851,"body_markdown":"Using the influxdb library in Java I&#39;m trying to map the results of a query formed using the `QueryReactiveAPI` query builder to a POJO so I can store them for processing. I get that you need to use the `@Measurement` annotation on the class definition and the `@Column` annotation on class variables to map fields but is there the equivalent for tags?\r\n\r\nThanks.","title":"Java InfluxDB: Map tags as well as fields in POJO from query","body":"<p>Using the influxdb library in Java I'm trying to map the results of a query formed using the <code>QueryReactiveAPI</code> query builder to a POJO so I can store them for processing. I get that you need to use the <code>@Measurement</code> annotation on the class definition and the <code>@Column</code> annotation on class variables to map fields but is there the equivalent for tags?</p>\n<p>Thanks.</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":3231850,"reputation":438,"user_id":2726925,"display_name":"Bruno Marotta"},"score":2,"creation_date":1673425060,"post_id":75080021,"comment_id":132493390,"body_markdown":"If they are strings you can just get the biggest one: `Collections.max(dates)`","body":"If they are strings you can just get the biggest one: <code>Collections.max(dates)</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1673425081,"post_id":75080021,"comment_id":132493399,"body_markdown":"Please don&#39;t use `SimpleDateFormat`.","body":"Please don&#39;t use <code>SimpleDateFormat</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673425118,"post_id":75080021,"comment_id":132493411,"body_markdown":"`System.out.println(Collections.max(temp))` will use the `toString()` of `java.util.Date`, which doesn&#39;t use your desired format.","body":"<code>System.out.println(Collections.max(temp))</code> will use the <code>toString()</code> of <code>java.util.Date</code>, which doesn&#39;t use your desired format."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673425151,"creation_date":1673425151,"answer_id":75080059,"question_id":75080021,"body_markdown":"Assuming you want to display the max date in the same original format as the list, you need not convert to a bona fide date, assuming the date strings are always in the format `yyyyMM`.  In this case, the strings will sort properly as dates, and we can simply use `Collections#max` directly:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;); \r\n    System.out.println(Collections.max(dates));  // 202301","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Assuming you want to display the max date in the same original format as the list, you need not convert to a bona fide date, assuming the date strings are always in the format <code>yyyyMM</code>.  In this case, the strings will sort properly as dates, and we can simply use <code>Collections#max</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;); \nSystem.out.println(Collections.max(dates));  // 202301\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673425183,"creation_date":1673425183,"answer_id":75080062,"question_id":75080021,"body_markdown":"Since the array is of String type, you can simply find largest string in chronological order and use that. Your current logic to find the max will still work or you can use some `Collection` to do that for you.\r\n\r\nIt will give you correct result since your format is `yyyyMM` which means a later year will always be larger than string value of a smaller year.\r\n\r\nE.g. &quot;202210&quot; will always be less than &quot;202211&quot; or &quot;202301&quot;\r\n\r\nTreating them as String will also save you computational time to parse them into `Date` object.","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Since the array is of String type, you can simply find largest string in chronological order and use that. Your current logic to find the max will still work or you can use some <code>Collection</code> to do that for you.</p>\n<p>It will give you correct result since your format is <code>yyyyMM</code> which means a later year will always be larger than string value of a smaller year.</p>\n<p>E.g. &quot;202210&quot; will always be less than &quot;202211&quot; or &quot;202301&quot;</p>\n<p>Treating them as String will also save you computational time to parse them into <code>Date</code> object.</p>\n"},{"tags":[],"owner":{"account_id":13730022,"reputation":309,"user_id":9907751,"display_name":"Firok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425505,"creation_date":1673425505,"answer_id":75080110,"question_id":75080021,"body_markdown":"Just replace the last line `System.out.println(Collections.max(temp));` to `System.out.println(sdf.format(Collections.max(temp)));`","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Just replace the last line <code>System.out.println(Collections.max(temp));</code> to <code>System.out.println(sdf.format(Collections.max(temp)));</code></p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1673427755,"post_id":75080143,"comment_id":132494320,"body_markdown":"I recommend using the modern date-time API as suggested in this answer. @deHaaar - Simplify it as `YearMonth maxYearMonth = Arrays.stream(monthsWithYears)\n                                       .map(s -&gt; YearMonth.parse(s, dtf))\n                                       .max(YearMonth::compareTo)\n                                       .get();` i.e. you need not first collect it and then find the max value. Also, add one more step. `String strMaxYm = dtf.format(maxYearMonth);`. This step is important so that the OP can get the desired value in the input form.","body":"I recommend using the modern date-time API as suggested in this answer. @deHaaar - Simplify it as <code>YearMonth maxYearMonth = Arrays.stream(monthsWithYears)                                        .map(s -&gt; YearMonth.parse(s, dtf))                                        .max(YearMonth::compareTo)                                        .get();</code> i.e. you need not first collect it and then find the max value. Also, add one more step. <code>String strMaxYm = dtf.format(maxYearMonth);</code>. This step is important so that the OP can get the desired value in the input form."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1673427988,"post_id":75080143,"comment_id":132494387,"body_markdown":"Totally right, my example can be simplified! Thanks, @ArvindKumarAvinash","body":"Totally right, my example can be simplified! Thanks, @ArvindKumarAvinash"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673459725,"post_id":75080143,"comment_id":132506065,"body_markdown":"Much more beautiful than the other suggestions. The OP should use the correct type as shown here Even better keep `YearMonth` objects rather than strings in the list. For getting output in the desired format use `maxYearMonth.format(dtf)`.","body":"Much more beautiful than the other suggestions. The OP should use the correct type as shown here Even better keep <code>YearMonth</code> objects rather than strings in the list. For getting output in the desired format use <code>maxYearMonth.format(dtf)</code>."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673432865,"creation_date":1673425654,"answer_id":75080143,"question_id":75080021,"body_markdown":"You can — of course — sort the `String`s and get the last value, but if you want to use something comparable that represents a month in a year, use a `java.time.YearMonth`, e.g.\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    // example values\r\n    String[] monthsWithYears = { &quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot; };\r\n    // formatter capable of the String format\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM&quot;);\r\n    // map to list of YearMonth and find the maximum\r\n\tYearMonth maxYearMonth = Arrays.stream(monthsWithYears)\r\n                               \t   .map(s -&gt; YearMonth.parse(s, dtf))\r\n\t\t\t\t\t\t\t       .max(YearMonth::compareTo)\r\n\t\t\t\t\t\t\t       .get();\r\n\t// print it(s toString() method implicitly)\r\n\tSystem.out.println(&quot;Max year month is &quot; + maxYearMonth);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nMax year month is 2023-01\r\n```","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>You can — of course — sort the <code>String</code>s and get the last value, but if you want to use something comparable that represents a month in a year, use a <code>java.time.YearMonth</code>, e.g.</p>\n<pre><code>public static void main(String[] args) {\n    // example values\n    String[] monthsWithYears = { &quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot; };\n    // formatter capable of the String format\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM&quot;);\n    // map to list of YearMonth and find the maximum\n    YearMonth maxYearMonth = Arrays.stream(monthsWithYears)\n                                   .map(s -&gt; YearMonth.parse(s, dtf))\n                                   .max(YearMonth::compareTo)\n                                   .get();\n    // print it(s toString() method implicitly)\n    System.out.println(&quot;Max year month is &quot; + maxYearMonth);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Max year month is 2023-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017855,"reputation":1558,"user_id":4032222,"accept_rate":67,"display_name":"henrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426438,"creation_date":1673426438,"answer_id":75080283,"question_id":75080021,"body_markdown":"An alternative solution using only a simple for-loop to determine the largest value with string comparison:\r\n\r\n```java\r\nList&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;);\r\nString max = &quot;000000&quot;;\r\nfor (int i = 0; i &lt; dates.size(); i++) {\r\n    if (dates.get(i).compareTo(max) &gt; 0) {\r\n        max = dates.get(i);\r\n    }\r\n}\r\n\r\nSystem.out.println(&quot;Max date is: &quot; + max); //Max date is: 202301\r\n```","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>An alternative solution using only a simple for-loop to determine the largest value with string comparison:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;);\nString max = &quot;000000&quot;;\nfor (int i = 0; i &lt; dates.size(); i++) {\n    if (dates.get(i).compareTo(max) &gt; 0) {\n        max = dates.get(i);\n    }\n}\n\nSystem.out.println(&quot;Max date is: &quot; + max); //Max date is: 202301\n</code></pre>\n"}],"owner":{"display_name":"user20980801"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75080062,"answer_count":5,"score":4,"last_activity_date":1673432865,"creation_date":1673424938,"question_id":75080021,"body_markdown":"I want to find out the largest date from an array of dates in `yyyyMM` format. For example, suppose my arraylist of dates are:\r\n```\r\n[&quot;202210&quot;, &quot;202211&quot;, &quot;202212&quot;, &quot;202301&quot;]\r\n```\r\nthen the correct value should be `202301`\r\n\r\nI tried using the `SimpleDateFormat` class and then parse the dates and then find the max date, like this:\r\n```\r\nList&lt;String&gt; dates = Arrays.asList(&quot;202210&quot;, &quot;202211&quot; ,&quot;202212&quot;, &quot;202301&quot;);  \r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMM&quot;, Locale.getDefault());\r\nList&lt;Date&gt; temp = new ArrayList&lt;&gt;();\r\ntry {\r\n    for (String date: dates) {\r\n        temp.add(sdf.parse(date));\r\n    }\r\n} catch (ParseException e) {\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(Collections.max(temp)); //shows Sun Jan 01 00:00:00 GMT 2023\r\n```\r\n\r\nHow do I convert the `Sun Jan 01 00:00:00 GMT 2023` to `202301`?","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>I want to find out the largest date from an array of dates in <code>yyyyMM</code> format. For example, suppose my arraylist of dates are:</p>\n<pre><code>[&quot;202210&quot;, &quot;202211&quot;, &quot;202212&quot;, &quot;202301&quot;]\n</code></pre>\n<p>then the correct value should be <code>202301</code></p>\n<p>I tried using the <code>SimpleDateFormat</code> class and then parse the dates and then find the max date, like this:</p>\n<pre><code>List&lt;String&gt; dates = Arrays.asList(&quot;202210&quot;, &quot;202211&quot; ,&quot;202212&quot;, &quot;202301&quot;);  \nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMM&quot;, Locale.getDefault());\nList&lt;Date&gt; temp = new ArrayList&lt;&gt;();\ntry {\n    for (String date: dates) {\n        temp.add(sdf.parse(date));\n    }\n} catch (ParseException e) {\n    e.printStackTrace();\n}\nSystem.out.println(Collections.max(temp)); //shows Sun Jan 01 00:00:00 GMT 2023\n</code></pre>\n<p>How do I convert the <code>Sun Jan 01 00:00:00 GMT 2023</code> to <code>202301</code>?</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673303140,"post_id":75063557,"comment_id":132464767,"body_markdown":"Please include relevant code/config as code-formatted text in the question itself.","body":"Please include relevant code/config as code-formatted text in the question itself."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673303164,"post_id":75063557,"comment_id":132464774,"body_markdown":"what exactly is your `Content-Type`? It needs to be `application/json`.","body":"what exactly is your <code>Content-Type</code>? It needs to be <code>application&#47;json</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673303230,"post_id":75063557,"comment_id":132464792,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673303610,"post_id":75063557,"comment_id":132464869,"body_markdown":"Please don&#39;t paste links to [images of code](https://meta.stackoverflow.com/a/285557). Please edit your code to match the [Stack Overflow guidelines](https://stackoverflow.com/help/how-to-ask) for asking a good question.  Feel free to peruse the site to get a better idea of other&#39;s questions, and also search the site to ensure your question isn&#39;t a duplicate of a question someone else has asked previously.","body":"Please don&#39;t paste links to <a href=\"https://meta.stackoverflow.com/a/285557\">images of code</a>. Please edit your code to match the <a href=\"https://stackoverflow.com/help/how-to-ask\">Stack Overflow guidelines</a> for asking a good question.  Feel free to peruse the site to get a better idea of other&#39;s questions, and also search the site to ensure your question isn&#39;t a duplicate of a question someone else has asked previously."},{"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"score":0,"creation_date":1673303803,"post_id":75063557,"comment_id":132464905,"body_markdown":"I&#39;ve already changed the post","body":"I&#39;ve already changed the post"}],"answers":[{"comments":[{"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"score":0,"creation_date":1673305731,"post_id":75063766,"comment_id":132465289,"body_markdown":"I already have that Content-Type","body":"I already have that Content-Type"},{"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"score":0,"creation_date":1673306980,"post_id":75063766,"comment_id":132465477,"body_markdown":"But in response I have txt","body":"But in response I have txt"}],"tags":[],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673304727,"creation_date":1673304727,"answer_id":75063766,"question_id":75063557,"body_markdown":"The request is not being handled by your controller. HTTP 415 means &quot;Unsupported Media Type&quot;.\r\n\r\n&gt; The HTTP 415 Unsupported Media Type client error response code indicates that the server refuses to accept the request because the payload format is in an unsupported format.\r\n&gt;\r\n&gt; The format problem might be due to the request&#39;s indicated Content-Type or Content-Encoding, or as a result of inspecting the data directly. \r\n\r\nTry adding the **header `&quot;Content-Type&quot;`** with value `&quot;application/json&quot;` to your postman request.\r\n\r\nThe search engine in Stack Overflow is quite powerful. These questions might also provide helpful info:\r\n- https://stackoverflow.com/questions/11492325/post-json-fails-with-415-unsupported-media-type-spring-3-mvc?rq=1\r\n- https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json?rq=1\r\n- https://stackoverflow.com/questions/53316147/415-unsupported-media-type-in-spring?rq=1","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>The request is not being handled by your controller. HTTP 415 means &quot;Unsupported Media Type&quot;.</p>\n<blockquote>\n<p>The HTTP 415 Unsupported Media Type client error response code indicates that the server refuses to accept the request because the payload format is in an unsupported format.</p>\n<p>The format problem might be due to the request's indicated Content-Type or Content-Encoding, or as a result of inspecting the data directly.</p>\n</blockquote>\n<p>Try adding the <strong>header <code>&quot;Content-Type&quot;</code></strong> with value <code>&quot;application/json&quot;</code> to your postman request.</p>\n<p>The search engine in Stack Overflow is quite powerful. These questions might also provide helpful info:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11492325/post-json-fails-with-415-unsupported-media-type-spring-3-mvc?rq=1\">POST JSON fails with 415 Unsupported media type, Spring 3 mvc</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json?rq=1\">Http 415 Unsupported Media type error with JSON</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53316147/415-unsupported-media-type-in-spring?rq=1\">415--Unsupported Media Type in Spring</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27098396,"reputation":1,"user_id":20645311,"display_name":"ABHISHEK PANDEY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673327448,"creation_date":1673326952,"answer_id":75065665,"question_id":75063557,"body_markdown":"​​The error 415-The unsupported file format error occurs when server refuses to accept the request because the payload format is in an unsupported format of file type. \r\n\r\n1.Ensure that you are sending the proper Content-Type header value.\r\n\r\n2.Verify that your server is able to process the value defined in the **Content-Type header**.\r\n\r\n3.Check the Accept header to verify what the server is actually willing to process.\r\n\r\n\r\n* To resolve this issue, explicitly set the content type under the request headers as **Post**\r\n\r\n* Make sure to change body **&quot;Text&quot; to &quot;JSON&quot;**\r\n\r\n\r\n","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>​​The error 415-The unsupported file format error occurs when server refuses to accept the request because the payload format is in an unsupported format of file type.</p>\n<p>1.Ensure that you are sending the proper Content-Type header value.</p>\n<p>2.Verify that your server is able to process the value defined in the <strong>Content-Type header</strong>.</p>\n<p>3.Check the Accept header to verify what the server is actually willing to process.</p>\n<ul>\n<li><p>To resolve this issue, explicitly set the content type under the request headers as <strong>Post</strong></p>\n</li>\n<li><p>Make sure to change body <strong>&quot;Text&quot; to &quot;JSON&quot;</strong></p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673509525,"post_id":75081502,"comment_id":132516237,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75081502/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27431373,"reputation":21,"user_id":20928015,"display_name":"Ravi Teja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432531,"creation_date":1673432531,"answer_id":75081502,"question_id":75063557,"body_markdown":"I have also faced the issue  even after changing the Content-type to application/JSON \r\n\r\n - to resolve it I have created a DTO to take the input from the JSON file \r\n - and then passed the values to the entity object through the DTO","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>I have also faced the issue  even after changing the Content-type to application/JSON</p>\n<ul>\n<li>to resolve it I have created a DTO to take the input from the JSON file</li>\n<li>and then passed the values to the entity object through the DTO</li>\n</ul>\n"}],"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1644,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75063766,"answer_count":3,"score":0,"last_activity_date":1673432531,"creation_date":1673302808,"question_id":75063557,"body_markdown":"I&#39;m making SpringMVC webapp. I have a Controller:\r\n\r\n```java   \r\n@RestController\r\n@RequestMapping(value =&quot;/certificate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class GiftCertificateController {\r\n    private final GiftCertificateService gcs;\r\n    \r\n    @Autowired\r\n    public GiftCertificateController(GiftCertificateService gcs) {\r\n        this.gcs = gcs;\r\n    }\r\n    \r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; createCertificate(@RequestBody GiftCertificate gc) throws Exception {\r\n        gcs.createCertificate(gc);\r\n        return new ResponseEntity&lt;&gt;(Map.of(&quot;status&quot;, HttpStatus.CREATED), HttpStatus.CREATED);\r\n    }\r\n    \r\n    // some GetMapping and DeleteMapping functions\r\n    // omitted for simplicity\r\n}\r\n```\r\n\r\nAnd I am trying to make a POST in Postman to create a certificate with JSON:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;sas&quot;,\r\n    &quot;description&quot;: &quot;sasasas&quot;,\r\n    &quot;price&quot;: 12,\r\n    &quot;duration&quot;: 12\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to change my Content-type to application/json, but it still isn&#39;t work.","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>I'm making SpringMVC webapp. I have a Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value =&quot;/certificate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class GiftCertificateController {\n    private final GiftCertificateService gcs;\n    \n    @Autowired\n    public GiftCertificateController(GiftCertificateService gcs) {\n        this.gcs = gcs;\n    }\n    \n    @PostMapping\n    public ResponseEntity&lt;?&gt; createCertificate(@RequestBody GiftCertificate gc) throws Exception {\n        gcs.createCertificate(gc);\n        return new ResponseEntity&lt;&gt;(Map.of(&quot;status&quot;, HttpStatus.CREATED), HttpStatus.CREATED);\n    }\n    \n    // some GetMapping and DeleteMapping functions\n    // omitted for simplicity\n}\n</code></pre>\n<p>And I am trying to make a POST in Postman to create a certificate with JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;sas&quot;,\n    &quot;description&quot;: &quot;sasasas&quot;,\n    &quot;price&quot;: 12,\n    &quot;duration&quot;: 12\n}\n</code></pre>\n<p>I tried to change my Content-type to application/json, but it still isn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1673240843,"post_id":75053278,"comment_id":132445806,"body_markdown":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this.\nIf you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor...","body":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this. If you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor..."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673259799,"post_id":75053278,"comment_id":132450186,"body_markdown":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at \nQuartz Job Scheduler","body":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at  Quartz Job Scheduler"},{"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"score":0,"creation_date":1673317874,"post_id":75053278,"comment_id":132466919,"body_markdown":"@ThomasW. do i need to set the `threadPoolTaskScheduler ` as static variable?","body":"@ThomasW. do i need to set the <code>threadPoolTaskScheduler </code> as static variable?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673362283,"post_id":75053278,"comment_id":132478461,"body_markdown":"@RepinsStar please see the solution below…if it helped, feel free to mark it as solved. If not, let me know what is missing","body":"@RepinsStar please see the solution below…if it helped, feel free to mark it as solved. If not, let me know what is missing"}],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673350878,"creation_date":1673346962,"answer_id":75068716,"question_id":75053278,"body_markdown":"There are couple of things to mention...\r\n\r\nFirst of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\r\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the [Quartz Job Scheduler][1].\r\n\r\nSecond, your Cron job is not daily and weekly, but minutely and hourly.\r\nAccording to the [docu][2], daily is `0 0 0 * * *` and weekly `0 0 0 * * 0`\r\n\r\nFinally, your code works. There is no need to flag the `ThreadPoolTaskScheduler` as static. Of course you could turn your `ThreadPoolTaskScheduler` into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n        \r\n    public class MyClass {\r\n    \r\n        private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\r\n    \r\n        public static ThreadPoolTaskScheduler getInstance () {\r\n            if (THREAD_POOL_TASK_SCHEDULER == null) {\r\n                THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\r\n                THREAD_POOL_TASK_SCHEDULER.initialize();\r\n            }\r\n            return THREAD_POOL_TASK_SCHEDULER;\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n    \r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nOr you could just use the scheduler as a class variable...\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class MyClass {\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n    \r\n        public MyClass() {\r\n            threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n\r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nBoth examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.\r\n\r\n  [1]: http://www.quartz-scheduler.org\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>There are couple of things to mention...</p>\n<p>First of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the <a href=\"http://www.quartz-scheduler.org\" rel=\"nofollow noreferrer\">Quartz Job Scheduler</a>.</p>\n<p>Second, your Cron job is not daily and weekly, but minutely and hourly.\nAccording to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">docu</a>, daily is <code>0 0 0 * * *</code> and weekly <code>0 0 0 * * 0</code></p>\n<p>Finally, your code works. There is no need to flag the <code>ThreadPoolTaskScheduler</code> as static. Of course you could turn your <code>ThreadPoolTaskScheduler</code> into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n    \npublic class MyClass {\n\n    private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\n\n    public static ThreadPoolTaskScheduler getInstance () {\n        if (THREAD_POOL_TASK_SCHEDULER == null) {\n            THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\n            THREAD_POOL_TASK_SCHEDULER.initialize();\n        }\n        return THREAD_POOL_TASK_SCHEDULER;\n    }\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Or you could just use the scheduler as a class variable...</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n\npublic class MyClass {\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\n\n    public MyClass() {\n        threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.initialize();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Both examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351572,"creation_date":1673350435,"answer_id":75069371,"question_id":75053278,"body_markdown":"If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\r\n[ScheduledExecutorService][1] interface and its implementation: [ScheduledThreadPoolExecutor][2]. Also look at class [Executors][3] and its method [public static ScheduledExecutorService newSingleThreadScheduledExecutor()][4]. &lt;br&gt;&lt;br&gt;\r\nAlso, as far as 3d parties go I wrote my own scheduler. Look at [Javadoc][5]. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github [here][6] and an example can be seen [here][7]. Also, the library can be obtained as Maven artifacts from Maven central [here][8]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\r\n  [5]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases\r\n  [7]: https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\r\n  [8]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> interface and its implementation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a>. Also look at class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a> and its method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\" rel=\"nofollow noreferrer\">public static ScheduledExecutorService newSingleThreadScheduledExecutor()</a>. <br><br>\nAlso, as far as 3d parties go I wrote my own scheduler. Look at <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a>. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a> and an example can be seen <a href=\"https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\" rel=\"nofollow noreferrer\">here</a>. Also, the library can be obtained as Maven artifacts from Maven central <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75068716,"answer_count":2,"score":1,"last_activity_date":1673432458,"creation_date":1673239647,"question_id":75053278,"body_markdown":"I am trying to use `ThreadPoolTaskScheduler` to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.\r\n\r\nSo, far here is what i tried:\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n        public static void main(String args[]) {\r\n           MyClass mc = new MyClass();\r\n           mc.runTaskScheduler();\r\n        }\r\n\r\n        private void runTaskScheduler() {\r\n            Runnable dailyScheduler = this::processDaily;\r\n            Runnable weeklyScheduler = this::processWeekly;\r\n\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\r\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\r\n        \r\n        }\r\n\r\n        private void processDaily() {\r\n           // some code\r\n        }\r\n\r\n        private void processWeekly() {\r\n          // some code\r\n        }\r\n\r\n    }\r\n```\r\nI am not sure if should i need to make `ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();` static variable?\r\n\r\n\r\nI tried to make a main class but not sure if I did it correct.","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>I am trying to use <code>ThreadPoolTaskScheduler</code> to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.</p>\n<p>So, far here is what i tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n        public static void main(String args[]) {\n           MyClass mc = new MyClass();\n           mc.runTaskScheduler();\n        }\n\n        private void runTaskScheduler() {\n            Runnable dailyScheduler = this::processDaily;\n            Runnable weeklyScheduler = this::processWeekly;\n\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n            threadPoolTaskScheduler.initialize();\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\n        \n        }\n\n        private void processDaily() {\n           // some code\n        }\n\n        private void processWeekly() {\n          // some code\n        }\n\n    }\n</code></pre>\n<p>I am not sure if should i need to make <code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();</code> static variable?</p>\n<p>I tried to make a main class but not sure if I did it correct.</p>\n"},{"tags":["java","spring","jsp","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673251627,"post_id":75026728,"comment_id":132447740,"body_markdown":"Check that you can access the Tomcat welcome page(*http://localhost:8080/*) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log.","body":"Check that you can access the Tomcat welcome page(<i><a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a></i>) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log."},{"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"score":0,"creation_date":1673263848,"post_id":75026728,"comment_id":132451508,"body_markdown":"i can access the tomcat welcome page(localhost:8080).\nthere is no problem running Tomcat.\nno other error logs other than 404.\ncontroller&#39;s system.out.println is not logged.","body":"i can access the tomcat welcome page(localhost:8080). there is no problem running Tomcat. no other error logs other than 404. controller&#39;s system.out.println is not logged."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673343086,"post_id":75026728,"comment_id":132471841,"body_markdown":"Check tomcat logs and web.xml configuration.","body":"Check tomcat logs and web.xml configuration."}],"answers":[{"tags":[],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432288,"creation_date":1673432288,"answer_id":75081453,"question_id":75026728,"body_markdown":"I solved it.\r\n\r\n1. When you work on maven, the maven project task line is created at the bottom left of vscode.\r\n2. If you click the task line, the maven projects in the workspace appear as a list.\r\n3. Among them, right-click the directory you want to operate, and select &#39;package&#39; from the list that appears.\r\n4. A maven-war-plugin version error occurred.\r\n6. Added maven-war-plugin 3.2.2 in pom.xml.\r\n7. If you select &#39;package&#39; again, a war file is created in the target folder.\r\n8. Add the war file created in the tomcat server.\r\n9. If you do show in browser, the maven project works normally.\r\n10. You must click &#39;package&#39; every time you edit the code.","title":"spring unable jsp file in vscode","body":"<p>I solved it.</p>\n<ol>\n<li>When you work on maven, the maven project task line is created at the bottom left of vscode.</li>\n<li>If you click the task line, the maven projects in the workspace appear as a list.</li>\n<li>Among them, right-click the directory you want to operate, and select 'package' from the list that appears.</li>\n<li>A maven-war-plugin version error occurred.</li>\n<li>Added maven-war-plugin 3.2.2 in pom.xml.</li>\n<li>If you select 'package' again, a war file is created in the target folder.</li>\n<li>Add the war file created in the tomcat server.</li>\n<li>If you do show in browser, the maven project works normally.</li>\n<li>You must click 'package' every time you edit the code.</li>\n</ol>\n"}],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673432288,"creation_date":1672976654,"question_id":75026728,"body_markdown":"My IDE is VSCODE\r\n\r\ntomcat server is connected normally\r\nbut controller not working\r\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\r\nThe controller&#39;s println does not work, so the console does not see log\r\n\r\nWhen i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported\r\n\r\n\r\n----------\r\n\r\n\r\n**workspace tree:**\r\n```\r\nSP5-CHAP09\r\n|   pom.xml\r\n|\r\n+---src\r\n|   \\---main\r\n|       +---java\r\n|       |   +---chap09\r\n|       |   |       HelloController.java\r\n|       |   |\r\n|       |   \\---config\r\n|       |           ControllerConfig.java\r\n|       |           MvcConfig.java\r\n|       |\r\n|       +---resources\r\n|       \\---webapp\r\n|           \\---WEB-INF\r\n|               |   web.xml\r\n|               |\r\n|               \\---view\r\n|                       hello.jsp\r\n|\r\n\\---target\r\n    +---classes\r\n    |   +---chap09\r\n    |   |       HelloController.class\r\n    |   |\r\n    |   \\---config\r\n    |           ControllerConfig.class\r\n    |           MvcConfig.class\r\n    |\r\n    +---generated-sources\r\n    |   \\---annotations\r\n    +---maven-archiver\r\n    |       pom.properties\r\n    |\r\n    +---maven-status\r\n    |   \\---maven-compiler-plugin\r\n    |       \\---compile\r\n    |           \\---default-compile\r\n    |                   createdFiles.lst\r\n    |                   inputFiles.lst\r\n    |\r\n    \\---test-classes\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**controller:**\r\n```\r\npackage chap09;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class HelloController {\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(Model model,\r\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\r\n\r\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**config file:**\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport chap09.HelloController;\r\n\r\n@Configuration\r\npublic class ControllerConfig {\r\n    @Bean\r\n    public HelloController helloController(){\r\n        return new HelloController();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MvcConfig implements WebMvcConfigurer{\r\n    @Override\r\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\r\n        configurer.enable();\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry){\r\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**pom.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n\t\thttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;sp5&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2-b02&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;utf-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**web.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\tversion=&quot;3.1&quot;&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;\r\n\t\t\torg.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\torg.springframework.web.context.support.AnnotationConfigWebApplicationContext\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\tconfig.MvcConfig\r\n\t\t\t\tconfig.ControllerConfig\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;\r\n\t\t\torg.springframework.web.filter.CharacterEncodingFilter\r\n\t\t&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**view file:**\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hello&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        greeting: ${greeting}\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nI searched, but there was no solution that fits me\r\nI can&#39;t guess","title":"spring unable jsp file in vscode","body":"<p>My IDE is VSCODE</p>\n<p>tomcat server is connected normally\nbut controller not working\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\nThe controller's println does not work, so the console does not see log</p>\n<p>When i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported</p>\n<hr />\n<p><strong>workspace tree:</strong></p>\n<pre><code>SP5-CHAP09\n|   pom.xml\n|\n+---src\n|   \\---main\n|       +---java\n|       |   +---chap09\n|       |   |       HelloController.java\n|       |   |\n|       |   \\---config\n|       |           ControllerConfig.java\n|       |           MvcConfig.java\n|       |\n|       +---resources\n|       \\---webapp\n|           \\---WEB-INF\n|               |   web.xml\n|               |\n|               \\---view\n|                       hello.jsp\n|\n\\---target\n    +---classes\n    |   +---chap09\n    |   |       HelloController.class\n    |   |\n    |   \\---config\n    |           ControllerConfig.class\n    |           MvcConfig.class\n    |\n    +---generated-sources\n    |   \\---annotations\n    +---maven-archiver\n    |       pom.properties\n    |\n    +---maven-status\n    |   \\---maven-compiler-plugin\n    |       \\---compile\n    |           \\---default-compile\n    |                   createdFiles.lst\n    |                   inputFiles.lst\n    |\n    \\---test-classes\n</code></pre>\n<hr />\n<p><strong>controller:</strong></p>\n<pre><code>package chap09;\n\nimport java.time.LocalDateTime;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class HelloController {\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(Model model,\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\n\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\n\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>config file:</strong></p>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport chap09.HelloController;\n\n@Configuration\npublic class ControllerConfig {\n    @Bean\n    public HelloController helloController(){\n        return new HelloController();\n    }\n}\n</code></pre>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer{\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\n        configurer.enable();\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry){\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sp5&lt;/groupId&gt;\n    &lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2-b02&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;utf-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    version=&quot;3.1&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;\n                org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;\n                config.MvcConfig\n                config.ControllerConfig\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.springframework.web.filter.CharacterEncodingFilter\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<hr />\n<p><strong>view file:</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        greeting: ${greeting}\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p>I searched, but there was no solution that fits me\nI can't guess</p>\n"},{"tags":["java","sql","database","derby"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673204105,"post_id":75050442,"comment_id":132440769,"body_markdown":"`&quot;User1&quot;,&quot;1234&quot;` - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid.","body":"<code>&quot;User1&quot;,&quot;1234&quot;</code> - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid."},{"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"score":0,"creation_date":1673210275,"post_id":75050442,"comment_id":132441860,"body_markdown":"@rzwitserloot so what you mean with „The database probably isn&#39;t lying to you“ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I can’t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance","body":"@rzwitserloot so what you mean with „The database probably isn&#39;t lying to you“ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I can’t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673215057,"post_id":75050442,"comment_id":132442728,"body_markdown":"The derby DB documentation would cover that.","body":"The derby DB documentation would cover that."}],"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673432267,"creation_date":1673203757,"question_id":75050442,"body_markdown":"So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\r\nrun:\r\n\r\n```\r\n\tat java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\r\n\tat org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\r\n\tat supermarket1.Seller$1.mouseClicked(Seller.java:111)\r\n\tat java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.\r\n\tat org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\r\n\tat org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\r\n\tat org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\r\n\tat org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\r\n\tat org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\r\n\tat org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\r\n\tat org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\r\n\tat org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\r\n\tat org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\r\n```\r\n\r\nFirst sentence of error message means:&#39;Connection could not be authenticated. Reason: user ID or password invalid. &#39;\r\nI don&#39;t know where to type in user id or password and the program doesn&#39;t ask me to as well.\r\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\r\nSince im a total programming noob and im doing this after a yt-tutorial (https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s    timestamp: 1:26:00), there might be an easy answer to this problem.\r\n\r\n\r\n```java\r\npackage supermarket1;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Seller extends javax.swing.JFrame {\r\n\r\n    \r\n    public Seller() {\r\n        initComponents();\r\n    }\r\nConnection Con = null;\r\nStatement St = null;\r\nResultSet Rs = null;\r\npublic void SelectSeller()\r\n{\r\n        try {\r\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n            St = Con.createStatement();\r\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\r\n            SellerTable.setModel(null);\r\n            \r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n        }\r\n}\r\n    \r\n    \r\n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \r\n    \r\n\r\n                               \r\n\r\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        \r\n    }                                         \r\n\r\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        \r\n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\r\n        }\r\n        else{\r\n        try{\r\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\r\n    \r\n            add.setInt(1, Integer.valueOf(SellId.getText()));\r\n            add.setString(2, SellName.getText());\r\n            add.setString(3, SellPas.getText());\r\n            add.setString(4, GenderCb.getSelectedItem().toString());\r\n            int row = add.executeUpdate();\r\n            JOptionPane.showMessageDialog(this, &quot;Verk&#228;ufer erfolgreich hinzugef&#252;gt!&quot;);\r\n            \r\n        }catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    }                                   \r\n\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Seller().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton AddBtn;\r\n    private javax.swing.JButton ClearBtn;\r\n    private javax.swing.JButton DeleteBtn;\r\n    private javax.swing.JButton EditBtn;\r\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\r\n    private javax.swing.JTextField SellId;\r\n    private javax.swing.JTextField SellName;\r\n    private javax.swing.JTextField SellPas;\r\n    private javax.swing.JTable SellerTable;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JLabel jLabel8;\r\n    private javax.swing.JLabel jLabel9;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nI tried everything but since im not an expert I don&#39;t know where to start.","title":"I have this problem: java.sql.SQLNonTransientConnectionException: Connection could not be authenticated. Reason: User ID or password invalid","body":"<p>So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\nrun:</p>\n<pre><code>    at java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungültig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\n    at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\n    at supermarket1.Seller$1.mouseClicked(Seller.java:111)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungültig.\n    at org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\n    at org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\n    at org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\n    at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\n    at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\n    at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\n    at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\n    at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\n    at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\n</code></pre>\n<p>First sentence of error message means:'Connection could not be authenticated. Reason: user ID or password invalid. '\nI don't know where to type in user id or password and the program doesn't ask me to as well.\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\nSince im a total programming noob and im doing this after a yt-tutorial (<a href=\"https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s</a>    timestamp: 1:26:00), there might be an easy answer to this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package supermarket1;\n\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\n\npublic class Seller extends javax.swing.JFrame {\n\n    \n    public Seller() {\n        initComponents();\n    }\nConnection Con = null;\nStatement St = null;\nResultSet Rs = null;\npublic void SelectSeller()\n{\n        try {\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n            St = Con.createStatement();\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\n            SellerTable.setModel(null);\n            \n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n}\n    \n    \n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \n    \n\n                               \n\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        \n    }                                         \n\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \n        \n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\n        {\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\n        }\n        else{\n        try{\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\n    \n            add.setInt(1, Integer.valueOf(SellId.getText()));\n            add.setString(2, SellName.getText());\n            add.setString(3, SellPas.getText());\n            add.setString(4, GenderCb.getSelectedItem().toString());\n            int row = add.executeUpdate();\n            JOptionPane.showMessageDialog(this, &quot;Verkäufer erfolgreich hinzugefügt!&quot;);\n            \n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        }\n    }                                   \n\n    \n    public static void main(String args[]) {\n        \n        \n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Seller().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton AddBtn;\n    private javax.swing.JButton ClearBtn;\n    private javax.swing.JButton DeleteBtn;\n    private javax.swing.JButton EditBtn;\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\n    private javax.swing.JTextField SellId;\n    private javax.swing.JTextField SellName;\n    private javax.swing.JTextField SellPas;\n    private javax.swing.JTable SellerTable;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JLabel jLabel8;\n    private javax.swing.JLabel jLabel9;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JScrollPane jScrollPane1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I tried everything but since im not an expert I don't know where to start.</p>\n"},{"tags":["java","algorithm","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672928399,"creation_date":1672928399,"answer_id":75019868,"question_id":75019505,"body_markdown":"You would need a second swap function:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        // ... ...\r\n        // ... ...\r\n\r\n        sort(voteNumArray, voteNameArray); // Pass the second array too\r\n        displaySortedItems(voteNumArray);\r\n     }\r\n     public static void sort(int[] array, String[] names){\r\n        for (int i = 0; i &lt; (array.length-1);i++){\r\n            for(int j = 0; j &lt; (array.length - i -1);j++){\r\n                if(array[j] &lt; array[j+1]){\r\n                    swapInts(array,j);\r\n                    swapStrings(names,j); // Swap in second array too\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void swapInts(int[] array, int index){\r\n        int temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n    public static void swapStrings(String[] array, int index){ // Extra swap function\r\n        String temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n```","title":"Implementing a swap method in a bubble sort","body":"<p>You would need a second swap function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        // ... ...\n        // ... ...\n\n        sort(voteNumArray, voteNameArray); // Pass the second array too\n        displaySortedItems(voteNumArray);\n     }\n     public static void sort(int[] array, String[] names){\n        for (int i = 0; i &lt; (array.length-1);i++){\n            for(int j = 0; j &lt; (array.length - i -1);j++){\n                if(array[j] &lt; array[j+1]){\n                    swapInts(array,j);\n                    swapStrings(names,j); // Swap in second array too\n                }\n            }\n        }\n    }\n    public static void swapInts(int[] array, int index){\n        int temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n    public static void swapStrings(String[] array, int index){ // Extra swap function\n        String temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672932893,"post_id":75020024,"comment_id":132388712,"body_markdown":"okay, thanks for that, i understand better. In my code i have the variables i and j, what would you say is best to name them? so they have a better meaning.","body":"okay, thanks for that, i understand better. In my code i have the variables i and j, what would you say is best to name them? so they have a better meaning."},{"owner":{"display_name":"user19443549"},"score":0,"creation_date":1672936066,"post_id":75020024,"comment_id":132389995,"body_markdown":"Variable naming you can have as per your choice, even i and j also not bad and you will find same variable names mostly everywhere for bubble sort implementation. However if you want to change you can replace i -&gt; pass and j -&gt; index as i represents pass number and j represents index of array to access value.","body":"Variable naming you can have as per your choice, even i and j also not bad and you will find same variable names mostly everywhere for bubble sort implementation. However if you want to change you can replace i -&gt; pass and j -&gt; index as i represents pass number and j represents index of array to access value."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672929166,"creation_date":1672929166,"answer_id":75020024,"question_id":75019505,"body_markdown":"Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.\r\n \r\nlet assume your array is having below values and you are sorting in ascending order - \r\n\r\n    2,5,1,7,4\r\n\r\nIn First pass, `i = 0` -\r\n1. It will compare 2,5 and 5 is greater than 2, so no swap.\r\n2. then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -\r\n\r\n    2,1,5,7,4\r\n\r\n3. compare 5,7 and no swap as 7 is greater.\r\n4. compare 7,4 and swap as 4 is smaller and your array will become -\r\n\r\n    2,5,1,4,7\r\n\r\nAfter second pass, `i = 1` -\r\n\r\n    2,1,4,5,7\r\n\r\nAfter third pass, `i = 2` -\r\n\r\n    1,2,4,5,7\r\n\r\nYour array is sorted now, but still it will complete rest 2 passes but wont do any swap.\r\n\r\nIn every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing `j &lt; array.length - i -1`, because you just need to sort remaining array.","title":"Implementing a swap method in a bubble sort","body":"<p>Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.</p>\n<p>let assume your array is having below values and you are sorting in ascending order -</p>\n<pre><code>2,5,1,7,4\n</code></pre>\n<p>In First pass, <code>i = 0</code> -</p>\n<ol>\n<li><p>It will compare 2,5 and 5 is greater than 2, so no swap.</p>\n</li>\n<li><p>then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -</p>\n<p>2,1,5,7,4</p>\n</li>\n<li><p>compare 5,7 and no swap as 7 is greater.</p>\n</li>\n<li><p>compare 7,4 and swap as 4 is smaller and your array will become -</p>\n<p>2,5,1,4,7</p>\n</li>\n</ol>\n<p>After second pass, <code>i = 1</code> -</p>\n<pre><code>2,1,4,5,7\n</code></pre>\n<p>After third pass, <code>i = 2</code> -</p>\n<pre><code>1,2,4,5,7\n</code></pre>\n<p>Your array is sorted now, but still it will complete rest 2 passes but wont do any swap.</p>\n<p>In every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing <code>j &lt; array.length - i -1</code>, because you just need to sort remaining array.</p>\n"}],"owner":{"display_name":"user20758216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75020024,"answer_count":2,"score":2,"last_activity_date":1673432208,"creation_date":1672926854,"question_id":75019505,"body_markdown":"I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)\r\n\r\n- 0 - Ahmed\r\n- 1 - Boo\r\n- 2 - Celine\r\n- 3 - Didi\r\n- 4 - Elaine\r\n\r\n*(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).*\r\n\r\n*(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.*\r\n\r\nI have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in **future**.\r\nCan anyone help with this? Below is my code:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            int[] NumArray = new int[5];\r\n            final int EXIT_CODE = -1;\r\n            displayInitialText();\r\n            int userInput = input.nextInt();\r\n            while (userInput != EXIT_CODE) {\r\n                if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\r\n                    voteNumArray[userInput] = voteNumArray[userInput] + 1;\r\n                } else {\r\n                    System.out.println(&quot;\\n-----------------------&quot;);\r\n                    System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\r\n                    System.out.println(&quot;-----------------------\\n&quot;);\r\n                }\r\n        \r\n                userInput = input.nextInt();\r\n            }\r\n            sort(voteNumArray);\r\n            displaySortedItems(voteNumArray);\r\n        }\r\n ","title":"Implementing a swap method in a bubble sort","body":"<p>I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)</p>\n<ul>\n<li>0 - Ahmed</li>\n<li>1 - Boo</li>\n<li>2 - Celine</li>\n<li>3 - Didi</li>\n<li>4 - Elaine</li>\n</ul>\n<p><em>(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).</em></p>\n<p><em>(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.</em></p>\n<p>I have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in <strong>future</strong>.\nCan anyone help with this? Below is my code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        int[] NumArray = new int[5];\n        final int EXIT_CODE = -1;\n        displayInitialText();\n        int userInput = input.nextInt();\n        while (userInput != EXIT_CODE) {\n            if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\n                voteNumArray[userInput] = voteNumArray[userInput] + 1;\n            } else {\n                System.out.println(&quot;\\n-----------------------&quot;);\n                System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\n                System.out.println(&quot;-----------------------\\n&quot;);\n            }\n    \n            userInput = input.nextInt();\n        }\n        sort(voteNumArray);\n        displaySortedItems(voteNumArray);\n    }\n</code></pre>\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431891,"creation_date":1673431891,"answer_id":75081375,"question_id":74796677,"body_markdown":"It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.\r\n* https://zetcode.com/spring/requestmapping/","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.</p>\n<ul>\n<li><a href=\"https://zetcode.com/spring/requestmapping/\" rel=\"nofollow noreferrer\">https://zetcode.com/spring/requestmapping/</a></li>\n</ul>\n"}],"owner":{"account_id":9609508,"reputation":1,"user_id":7134371,"display_name":"PatrikI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673431891,"creation_date":1671013067,"question_id":74796677,"body_markdown":"I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular. \r\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers. \r\n\r\nIs it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another &#174;RequestMapping for subfolders like &quot;/products&quot; and simular.\r\n\r\nI have tried to solve this, but I cant make it function. \r\n\r\n\r\n```\r\n\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class CommonApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(CommonApplication.class, args);\r\n   }\r\n}\r\n```\r\n```\r\n\r\n\r\n```\r\n```\r\n@RestController\r\n@RequestMapping()\r\npublic class ProductController {\r\n\r\n    private ProductService productService;\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String getProducts()\r\n    {\r\n        return &quot;Hello from getProducts 12&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n\r\n```\r\n\r\n\r\nI want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular.\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers.</p>\n<p>Is it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another ®RequestMapping for subfolders like &quot;/products&quot; and simular.</p>\n<p>I have tried to solve this, but I cant make it function.</p>\n<pre><code>\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class CommonApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(CommonApplication.class, args);\n   }\n}\n</code></pre>\n<pre><code>\n\n</code></pre>\n<pre><code>@RestController\n@RequestMapping()\npublic class ProductController {\n\n    private ProductService productService;\n\n    @GetMapping(&quot;/products&quot;)\n    public String getProducts()\n    {\n        return &quot;Hello from getProducts 12&quot;;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>I want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.</p>\n"},{"tags":["java","eclipse","egit","jgit"],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1300346137,"post_id":5335941,"comment_id":6023966,"body_markdown":"Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse.","body":"Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300347115,"post_id":5335941,"comment_id":6024109,"body_markdown":"so just because it is hosted on eclipse.org does not mean it has something to do with Eclipse?","body":"so just because it is hosted on eclipse.org does not mean it has something to do with Eclipse?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1300347467,"post_id":5335941,"comment_id":6024163,"body_markdown":"@Jus12 @Thorbj&#248;rn: I have added some elements to illustrates the role of Egit for the Eclipse projects.","body":"@Jus12 @Thorbj&#248;rn: I have added some elements to illustrates the role of Egit for the Eclipse projects."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300348041,"post_id":5335941,"comment_id":6024243,"body_markdown":"I agree that JavaGit is quite old, and I was only looking at it in case JGit turns out to be too complicated to use.","body":"I agree that JavaGit is quite old, and I was only looking at it in case JGit turns out to be too complicated to use."},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":1,"creation_date":1300349098,"post_id":5335941,"comment_id":6024413,"body_markdown":"@Jus12: Jetty HTTP server is now also hosted on Eclipse.org (http://www.eclipse.org/jetty/), and it has nothing to do with Eclipse IDE itself. Jetty can be used standalone or embedded into other, not Eclipse related projects.","body":"@Jus12: Jetty HTTP server is now also hosted on Eclipse.org (<a href=\"http://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">eclipse.org/jetty</a>), and it has nothing to do with Eclipse IDE itself. Jetty can be used standalone or embedded into other, not Eclipse related projects."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300350200,"post_id":5335941,"comment_id":6024579,"body_markdown":"@Peter Stibrany, thanks for the clarification. Actually, this was the single most confusing part about JGit. Intuitively, if it is hosted on eclipse.org, it must have something to do with Eclipse :-) Maybe they should consider renaming it. I don&#39;t see the rationale here.","body":"@Peter Stibrany, thanks for the clarification. Actually, this was the single most confusing part about JGit. Intuitively, if it is hosted on eclipse.org, it must have something to do with Eclipse :-) Maybe they should consider renaming it. I don&#39;t see the rationale here."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":6,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1357579979,"creation_date":1300345792,"answer_id":5335941,"question_id":5335804,"body_markdown":"You can use JGit as standalone library, but, as mentioned in the [JGit Homepage][1]:\r\n\r\n&gt;JGit can be found within:  \r\n* EGit, Eclipse team provider for Git\r\n\r\nIn that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.  \r\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:\r\n\r\n- JavaGit isn&#39;t updated for quite some time (2008)\r\n- Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).\r\n\r\n-----\r\n\r\n[Thorbj&#248;rn Ravn Andersen][2] comments:\r\n\r\n&gt; Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse\r\n\r\nThe migration of Eclipse projects [from CVS to Git is in progress][3], and [has been reported here][4] (by Chris Aniszczyk).  \r\n\r\n&gt; I’ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.  \r\nMost developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learnin’ as they figure out how to say productive in the new environment.\r\n\r\n&gt; Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. “Is EGit ready for primetime?” is often the question that bounced around\r\n\r\nThe official bug illustrated Eclipse commitment to provide &quot;adequate tooling support&quot; for all Eclipse projects now on Git repo is the [bug 293192][5].\r\n\r\n&gt; In order to deprecate old VCS in favour of git ([bug 270854][6]), adequate tooling\r\nshould be available.  This bug is created to track that.  \r\n\\[...\\] I opened/linked relevant **EGit bugs** in order to have a better visibility/tracking\r\nof what&#39;s missing.\r\n\r\nSo Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.\r\n\r\n([bug 270854][7] is about **Deprecate old VCS tools**, which includes essentially CVS.)\r\n\r\n----\r\n\r\nJust in (March 17th, 2001): **[The State of Git at Eclipse – Early 2011][8]** ([Chris Aniszczyk][9]):\r\n\r\n&gt; I’m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.\r\n\r\n![EGit installation rate][10]\r\n\r\n&gt; So what’s next? In terms of tooling, we’re getting closer to our 1.0 release (which is planned for the Indigo release).  \r\nThe git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent **[EGit User Guide][11]**.\r\n\r\n&gt; If you’re an `eclipse.org` project, please consider starting the process to move your project repository to Git. **[There are a lot of eclipse.org projects already on Git][12]**.  \r\nIt would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.\r\n\r\n\r\n  [1]: http://www.eclipse.org/jgit/\r\n  [2]: https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\r\n  [3]: http://wiki.eclipse.org/Git/Migrating_to_Git\r\n  [4]: http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\r\n  [5]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\r\n  [6]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [7]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [8]: http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\r\n  [9]: http://aniszczyk.org/about/\r\n  [10]: http://i.stack.imgur.com/JbK9L.png\r\n  [11]: http://wiki.eclipse.org/EGit/User_Guide\r\n  [12]: http://git.eclipse.org/c/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>You can use JGit as standalone library, but, as mentioned in the <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit Homepage</a>:</p>\n\n<blockquote>\n  <p>JGit can be found within:<br>\n  * EGit, Eclipse team provider for Git</p>\n</blockquote>\n\n<p>In that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.<br>\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:</p>\n\n<ul>\n<li>JavaGit isn't updated for quite some time (2008)</li>\n<li>Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).</li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\">Thorbjørn Ravn Andersen</a> comments:</p>\n\n<blockquote>\n  <p>Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse</p>\n</blockquote>\n\n<p>The migration of Eclipse projects <a href=\"http://wiki.eclipse.org/Git/Migrating_to_Git\" rel=\"noreferrer\">from CVS to Git is in progress</a>, and <a href=\"http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\" rel=\"noreferrer\">has been reported here</a> (by Chris Aniszczyk).  </p>\n\n<blockquote>\n  <p>I’ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.<br>\n  Most developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learnin’ as they figure out how to say productive in the new environment.</p>\n  \n  <p>Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. “Is EGit ready for primetime?” is often the question that bounced around</p>\n</blockquote>\n\n<p>The official bug illustrated Eclipse commitment to provide \"adequate tooling support\" for all Eclipse projects now on Git repo is the <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\" rel=\"noreferrer\">bug 293192</a>.</p>\n\n<blockquote>\n  <p>In order to deprecate old VCS in favour of git (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a>), adequate tooling\n  should be available.  This bug is created to track that.<br>\n  [...] I opened/linked relevant <strong>EGit bugs</strong> in order to have a better visibility/tracking\n  of what's missing.</p>\n</blockquote>\n\n<p>So Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.</p>\n\n<p>(<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a> is about <strong>Deprecate old VCS tools</strong>, which includes essentially CVS.)</p>\n\n<hr>\n\n<p>Just in (March 17th, 2001): <strong><a href=\"http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\" rel=\"noreferrer\">The State of Git at Eclipse – Early 2011</a></strong> (<a href=\"http://aniszczyk.org/about/\" rel=\"noreferrer\">Chris Aniszczyk</a>):</p>\n\n<blockquote>\n  <p>I’m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/JbK9L.png\" alt=\"EGit installation rate\"></p>\n\n<blockquote>\n  <p>So what’s next? In terms of tooling, we’re getting closer to our 1.0 release (which is planned for the Indigo release).<br>\n  The git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent <strong><a href=\"http://wiki.eclipse.org/EGit/User_Guide\" rel=\"noreferrer\">EGit User Guide</a></strong>.</p>\n  \n  <p>If you’re an <code>eclipse.org</code> project, please consider starting the process to move your project repository to Git. <strong><a href=\"http://git.eclipse.org/c/\" rel=\"noreferrer\">There are a lot of eclipse.org projects already on Git</a></strong>.<br>\n  It would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":241650,"reputation":2461,"user_id":512605,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301338701,"creation_date":1301338701,"answer_id":5463711,"question_id":5335804,"body_markdown":"Just to chime in, as I just stumbled on this this question just now.  \r\n\r\nThere is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its &quot;roots&quot; in the IDE. \r\n\r\nSo in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.\r\n\r\nPersonally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>Just to chime in, as I just stumbled on this this question just now.  </p>\n\n<p>There is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its \"roots\" in the IDE. </p>\n\n<p>So in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.</p>\n\n<p>Personally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.</p>\n"},{"tags":[],"owner":{"account_id":274741,"reputation":648,"user_id":567158,"display_name":"Chris Aniszczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1311262449,"creation_date":1311262449,"answer_id":6778687,"question_id":5335804,"body_markdown":"As one of the authors of JGit and EGit, sorry for the confusion.\r\n\r\n[JGit][1] is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. [EGit][2] embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn&#39;t support the git-bundle command but you&#39;re welcome to contribute support, it shouldn&#39;t be that hard, please see our contributor guide.\r\n\r\n\r\n  [1]: http://eclipse.org/jgit\r\n  [2]: http://eclipse.org/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>As one of the authors of JGit and EGit, sorry for the confusion.</p>\n\n<p><a href=\"http://eclipse.org/jgit\">JGit</a> is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. <a href=\"http://eclipse.org/egit\">EGit</a> embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn't support the git-bundle command but you're welcome to contribute support, it shouldn't be that hard, please see our contributor guide.</p>\n"},{"tags":[],"owner":{"account_id":1020818,"reputation":19988,"user_id":1031218,"accept_rate":53,"display_name":"linquize"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345992689,"creation_date":1345992689,"answer_id":12131077,"question_id":5335804,"body_markdown":"JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.\r\n\r\nIf you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.\r\n\r\nNote, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.\r\n\r\nJavaGit: not actively maintained?","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.</p>\n\n<p>If you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.</p>\n\n<p>Note, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.</p>\n\n<p>JavaGit: not actively maintained?</p>\n"},{"tags":[],"owner":{"account_id":698484,"reputation":264,"user_id":584937,"display_name":"Matthias Sohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673431676,"creation_date":1346489872,"answer_id":12226383,"question_id":5335804,"body_markdown":"JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it&#39;s calling the native git command line).\r\n\r\nEGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.\r\n\r\nIn the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that&#39;s the reason why the companies backing these projects put money into that). See the project pages ([\\[1\\]][1], [\\[2\\]][2])  and [ohloh][3] if you want to get some insight who is contributing.\r\n\r\n\r\n  [1]: http://www.eclipse.org/projects/project.php?id=technology.jgit\r\n  [2]: http://www.eclipse.org/projects/project.php?id=technology.egit\r\n  [3]: https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it's calling the native git command line).</p>\n<p>EGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.</p>\n<p>In the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that's the reason why the companies backing these projects put money into that). See the project pages (<a href=\"http://www.eclipse.org/projects/project.php?id=technology.jgit\" rel=\"nofollow noreferrer\">[1]</a>, <a href=\"http://www.eclipse.org/projects/project.php?id=technology.egit\" rel=\"nofollow noreferrer\">[2]</a>)  and <a href=\"https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit\" rel=\"nofollow noreferrer\">ohloh</a> if you want to get some insight who is contributing.</p>\n"},{"tags":[],"owner":{"account_id":2221746,"reputation":1285,"user_id":1960964,"accept_rate":77,"display_name":"chammu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479443194,"creation_date":1479443194,"answer_id":40669373,"question_id":5335804,"body_markdown":"JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\r\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\r\nJGit doesn&#39;t depend on EGit, but EGit does depend on JGit.\r\n\r\nFrom: https://www.eclipse.org/forums/index.php/t/273443/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\nJGit doesn't depend on EGit, but EGit does depend on JGit.</p>\n\n<p>From: <a href=\"https://www.eclipse.org/forums/index.php/t/273443/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/273443/</a></p>\n"}],"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47836,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":5335941,"answer_count":6,"score":87,"last_activity_date":1673431676,"creation_date":1300344741,"question_id":5335804,"body_markdown":"I am making a Java application that uses Git. I found that there is something called\r\n[JavaGit][1], [EGit][2] and [JGit][3].\r\n\r\nI know that JavaGit and EGit/JGit are different. What I don&#39;t understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. \r\n\r\nI don&#39;t use Eclipse and I don&#39;t plan to, so I really don&#39;t care much about &quot;Eclipse integration&quot;. \r\n\r\nIs JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the [documentation][4] of JGit also has a lot of &quot;eclipse&quot; keywords inside)\r\n\r\n\r\nOut of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  \r\n\r\nI would prefer a standalone Git library (i.e., without depending on a local Git installation)\r\n\r\nEDIT: One more question:\r\n\r\n- Does JGit support [Git bundle command][5]? \r\n\r\nEDIT: I found the answer -- it does (haven&#39;t tried it yet). It is in `transport` package in a class called `BundleWriter`\r\n\r\n  [1]: http://javagit.sourceforge.net/\r\n  [2]: http://eclipse.org/egit/\r\n  [3]: http://www.eclipse.org/jgit/\r\n  [4]: http://wiki.eclipse.org/JGit/User_Guide\r\n  [5]: ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>I am making a Java application that uses Git. I found that there is something called\n<a href=\"http://javagit.sourceforge.net/\" rel=\"noreferrer\">JavaGit</a>, <a href=\"http://eclipse.org/egit/\" rel=\"noreferrer\">EGit</a> and <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit</a>.</p>\n\n<p>I know that JavaGit and EGit/JGit are different. What I don't understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. </p>\n\n<p>I don't use Eclipse and I don't plan to, so I really don't care much about \"Eclipse integration\". </p>\n\n<p>Is JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the <a href=\"http://wiki.eclipse.org/JGit/User_Guide\" rel=\"noreferrer\">documentation</a> of JGit also has a lot of \"eclipse\" keywords inside)</p>\n\n<p>Out of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  </p>\n\n<p>I would prefer a standalone Git library (i.e., without depending on a local Git installation)</p>\n\n<p>EDIT: One more question:</p>\n\n<ul>\n<li>Does JGit support <a href=\"ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html\" rel=\"noreferrer\">Git bundle command</a>? </li>\n</ul>\n\n<p>EDIT: I found the answer -- it does (haven't tried it yet). It is in <code>transport</code> package in a class called <code>BundleWriter</code></p>\n"},{"tags":["java","android","zip"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413873562,"post_id":25594792,"comment_id":41596799,"body_markdown":"I guess you should call `stream.flush();` before closing the stream.","body":"I guess you should call <code>stream.flush();</code> before closing the stream."},{"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"score":0,"creation_date":1413873725,"post_id":25594792,"comment_id":41596870,"body_markdown":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes.","body":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413884651,"post_id":25594792,"comment_id":41602229,"body_markdown":"Is it possible to ge an example of such corrupted zip file?","body":"Is it possible to ge an example of such corrupted zip file?"}],"answers":[{"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413664083,"creation_date":1413664083,"answer_id":26444235,"question_id":25594792,"body_markdown":"You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413852002,"creation_date":1413850702,"answer_id":26477023,"question_id":25594792,"body_markdown":"Here&#39;s some code to zip a directory into a file using only the java standard classes. With this you can just call: \r\n\r\n    ZipUtils.zip(sourceDirectory, targetFile);\r\n    ZipUtils.unzip(sourceFile, targetDirectory);\r\n\r\nCode:\r\n\r\n\tpackage com.my.project.utils.zip;\r\n\r\n\timport java.io.IOException;\r\n\timport java.nio.file.FileVisitResult;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.SimpleFileVisitor;\r\n\timport java.nio.file.attribute.BasicFileAttributes;\r\n\timport java.util.zip.ZipEntry;\r\n\timport java.util.zip.ZipOutputStream;\r\n\r\n\tpublic class ZipUtils {\r\n\r\n\t\tpublic static void unzip(Path sourceFile, Path targetPath) throws IOException {\r\n\t\t\ttry (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\r\n\t\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\tFiles.createDirectories(targetPath);\r\n\r\n\t\t\t\tZipEntry entry = null;\r\n\r\n\t\t\t\twhile ((entry = zipInStream.getNextEntry()) != null){\r\n\t\t\t\t\tPath entryPath = targetPath.resolve(entry.getName());\r\n\t\t\t\t\tFiles.createDirectories(entryPath.getParent());\r\n\t\t\t\t\tFiles.copy(zipInStream, entryPath);\r\n\t\t\t\t\tzipInStream.closeEntry();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\tpublic static void zip(Path sourcePath, Path targetFile) throws IOException {\r\n\t\t\ttry (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\r\n\t\t\t\tif (Files.isDirectory(sourcePath)){\r\n\t\t\t\t\tzipDirectory(zipOutStream, sourcePath);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateZipEntry(zipOutStream, sourcePath, sourcePath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\r\n\t\t\tFiles.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}    \t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\tcreateZipEntry(zip, source, path);\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}    \r\n\r\n\t\tprivate static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\r\n\t\t\tZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\r\n\t\t\tzip.putNextEntry(entry);\r\n\t\t\tFiles.copy(path,zip);\r\n\t\t\tzip.closeEntry();\r\n\t\t}\r\n\t}\r\n","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>Here's some code to zip a directory into a file using only the java standard classes. With this you can just call: </p>\n\n<pre><code>ZipUtils.zip(sourceDirectory, targetFile);\nZipUtils.unzip(sourceFile, targetDirectory);\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package com.my.project.utils.zip;\n\nimport java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipUtils {\n\n    public static void unzip(Path sourceFile, Path targetPath) throws IOException {\n        try (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\n            byte[] buffer = new byte[1024];\n            Files.createDirectories(targetPath);\n\n            ZipEntry entry = null;\n\n            while ((entry = zipInStream.getNextEntry()) != null){\n                Path entryPath = targetPath.resolve(entry.getName());\n                Files.createDirectories(entryPath.getParent());\n                Files.copy(zipInStream, entryPath);\n                zipInStream.closeEntry();\n            }\n        }\n    } \n\n    public static void zip(Path sourcePath, Path targetFile) throws IOException {\n        try (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\n            if (Files.isDirectory(sourcePath)){\n                zipDirectory(zipOutStream, sourcePath);\n            } else {\n                createZipEntry(zipOutStream, sourcePath, sourcePath);\n            }\n        }\n    }\n\n    private static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\n        Files.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n                return FileVisitResult.CONTINUE;\n            }           \n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n                createZipEntry(zip, source, path);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }    \n\n    private static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\n        ZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\n        zip.putNextEntry(entry);\n        Files.copy(path,zip);\n        zip.closeEntry();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7560629,"reputation":1,"user_id":5738371,"display_name":"Will Yuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431415,"creation_date":1673431372,"answer_id":75081255,"question_id":25594792,"body_markdown":"some file that is certain length, will make that problem.\r\nto solve that, before finish() and close(), you should call flush().","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>some file that is certain length, will make that problem.\nto solve that, before finish() and close(), you should call flush().</p>\n"}],"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26444235,"answer_count":3,"score":4,"last_activity_date":1673431415,"creation_date":1409508358,"question_id":25594792,"body_markdown":"I&#39;ve implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. \r\n\r\nTo restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. \r\n\r\nSome of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).\r\n\r\nHere is code that compresses all files to zip file:\r\n\r\n    \r\n   \r\n\r\n    public void backup(String filename) {\r\n        File file = new File(getBackupDirectory(), filename);\r\n        FileOutputStream fileOutputStream = null;\r\n        ZipOutputStream stream = null;\r\n        try {\r\n            String settingsMD5 = null;\r\n            String databaseMD5 = null;\r\n            if (file.exists())\r\n                file.delete();\r\n            fileOutputStream = new FileOutputStream(file);\r\n            stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\r\n            File database = getDatabasePath(databaseFileName);\r\n            File dataDirectory = getFilesDir();\r\n            if (dataDirectory != null) {\r\n                File settings = new File(dataDirectory.getParentFile(), &quot;/shared_prefs/&quot; + PREFERENCES_FILENAME);\r\n                settingsMD5 = zipFile(&quot;preferences&quot;, stream, settings);\r\n            }\r\n            databaseMD5 = zipFile(&quot;database.db&quot;, stream, database);\r\n    \r\n            JSONObject jsonObject = new JSONObject();\r\n            try {\r\n                jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\r\n                jsonObject.put(META_DATABASE, databaseMD5);\r\n                jsonObject.put(META_SHARED_PREFS, settingsMD5);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(&quot;UTF-8&quot;));\r\n            zipInputStream(stream, metadata, new ZipEntry(&quot;metadata&quot;));\r\n            stream.finish();\r\n            stream.close();\r\n            stream = null;\r\n            return file;\r\n        } catch (FileNotFoundException e) {\r\n         //handling errrors\r\n        } catch (IOException e) {\r\n         //handling errrors\r\n        } \r\n    }\r\n\r\n    private String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\r\n            ZipEntry zipEntry = new ZipEntry(name);\r\n            return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\r\n        }\r\n    \r\n    private String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\r\n        InputStream inputStream = new BufferedInputStream(fileInputStream);\r\n        MessageDigest messageDigest = null;\r\n        try {\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            if (messageDigest != null)\r\n                inputStream = new DigestInputStream(inputStream, messageDigest);\r\n        } catch (NoSuchAlgorithmException e) {\r\n        }\r\n    \r\n        zipStream.putNextEntry(zipEntry);\r\n        inputToOutput(inputStream, zipStream);\r\n        zipStream.closeEntry();\r\n        inputStream.close();\r\n    \r\n        if (messageDigest != null) {\r\n            return getDigestString(messageDigest.digest());\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private String getDigestString(byte[] digest) {\r\n        StringBuffer hexString = new StringBuffer();\r\n        for (int i = 0; i &lt; digest.length; i++) {\r\n            String hex = Integer.toHexString(0xFF &amp; digest[i]);\r\n            if (hex.length() == 1) {\r\n                hex = new StringBuilder(&quot;0&quot;).append(hex).toString();\r\n            }\r\n            hexString.append(hex);\r\n        }\r\n        return hexString.toString();\r\n    }\r\n\r\n    private void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\r\n        byte[] buffer = new byte[BUFFER];\r\n        int count = 0;\r\n        while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\r\n            outputStream.write(buffer, 0, count);\r\n        }\r\n    }","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>I've implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. </p>\n\n<p>To restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. </p>\n\n<p>Some of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).</p>\n\n<p>Here is code that compresses all files to zip file:</p>\n\n<pre><code>public void backup(String filename) {\n    File file = new File(getBackupDirectory(), filename);\n    FileOutputStream fileOutputStream = null;\n    ZipOutputStream stream = null;\n    try {\n        String settingsMD5 = null;\n        String databaseMD5 = null;\n        if (file.exists())\n            file.delete();\n        fileOutputStream = new FileOutputStream(file);\n        stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\n        File database = getDatabasePath(databaseFileName);\n        File dataDirectory = getFilesDir();\n        if (dataDirectory != null) {\n            File settings = new File(dataDirectory.getParentFile(), \"/shared_prefs/\" + PREFERENCES_FILENAME);\n            settingsMD5 = zipFile(\"preferences\", stream, settings);\n        }\n        databaseMD5 = zipFile(\"database.db\", stream, database);\n\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\n            jsonObject.put(META_DATABASE, databaseMD5);\n            jsonObject.put(META_SHARED_PREFS, settingsMD5);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(\"UTF-8\"));\n        zipInputStream(stream, metadata, new ZipEntry(\"metadata\"));\n        stream.finish();\n        stream.close();\n        stream = null;\n        return file;\n    } catch (FileNotFoundException e) {\n     //handling errrors\n    } catch (IOException e) {\n     //handling errrors\n    } \n}\n\nprivate String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\n        ZipEntry zipEntry = new ZipEntry(name);\n        return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\n    }\n\nprivate String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\n    InputStream inputStream = new BufferedInputStream(fileInputStream);\n    MessageDigest messageDigest = null;\n    try {\n        messageDigest = MessageDigest.getInstance(\"MD5\");\n        if (messageDigest != null)\n            inputStream = new DigestInputStream(inputStream, messageDigest);\n    } catch (NoSuchAlgorithmException e) {\n    }\n\n    zipStream.putNextEntry(zipEntry);\n    inputToOutput(inputStream, zipStream);\n    zipStream.closeEntry();\n    inputStream.close();\n\n    if (messageDigest != null) {\n        return getDigestString(messageDigest.digest());\n    }\n    return null;\n}\n\nprivate String getDigestString(byte[] digest) {\n    StringBuffer hexString = new StringBuffer();\n    for (int i = 0; i &lt; digest.length; i++) {\n        String hex = Integer.toHexString(0xFF &amp; digest[i]);\n        if (hex.length() == 1) {\n            hex = new StringBuilder(\"0\").append(hex).toString();\n        }\n        hexString.append(hex);\n    }\n    return hexString.toString();\n}\n\nprivate void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\n    byte[] buffer = new byte[BUFFER];\n    int count = 0;\n    while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\n        outputStream.write(buffer, 0, count);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","persistence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673114301,"post_id":75037530,"comment_id":132427237,"body_markdown":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set.","body":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set."}],"owner":{"account_id":11558508,"reputation":21,"user_id":8468940,"display_name":"Tiago Aleff da Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673431223,"creation_date":1673055183,"question_id":75037530,"body_markdown":"I have these two Entities:\r\n\r\n```\r\n@SequenceGenerator(...)\r\n@Entity\r\nclass A {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\r\n    private Integer id;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\r\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\r\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\r\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\r\n    })\r\n    private B b;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\nclass B {\r\n    @EmbeddedId\r\n    private BPk id;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\nclass BPk {\r\n    private Integer aaa;\r\n    private Integer bbb;\r\n    private Integer ccc;\r\n    private Integer ddd;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\nIn my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.\r\n\r\nIf I try to persist the new A object and when B doesn&#39;t exist in database the hibernate don&#39;t make the insert of B entity throwing the following error:\r\n\r\n&gt; integrity constraint (\\[FK NAME\\]) violated - parent key not found\r\n\r\nI think it&#39;s happening because my B object has the non null PK so hibernate didn&#39;t make the insert thinking that B entity exists. How can I fix this?\r\n\r\nI have found the following solution for spring boot (example: 54), but it doesn&#39;t work for CascadeType.PERSIST. By the way, it was what I noticed.\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites.\r\n\r\nI would like something that when I persist the A entity also persist a new B entity if it&#39;s a new row in database.","title":"Hibernate CascadeType.PERSIST for non null key [parent key not found]","body":"<p>I have these two Entities:</p>\n<pre><code>@SequenceGenerator(...)\n@Entity\nclass A {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\n    private Integer id;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumns({\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\n    })\n    private B b;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Entity\nclass B {\n    @EmbeddedId\n    private BPk id;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Embeddable\nclass BPk {\n    private Integer aaa;\n    private Integer bbb;\n    private Integer ccc;\n    private Integer ddd;\n    \n    // ... getters and setters\n}\n</code></pre>\n<p>In my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.</p>\n<p>If I try to persist the new A object and when B doesn't exist in database the hibernate don't make the insert of B entity throwing the following error:</p>\n<blockquote>\n<p>integrity constraint ([FK NAME]) violated - parent key not found</p>\n</blockquote>\n<p>I think it's happening because my B object has the non null PK so hibernate didn't make the insert thinking that B entity exists. How can I fix this?</p>\n<p>I have found the following solution for spring boot (example: 54), but it doesn't work for CascadeType.PERSIST. By the way, it was what I noticed.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites</a>.</p>\n<p>I would like something that when I persist the A entity also persist a new B entity if it's a new row in database.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"comments":[{"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"score":0,"creation_date":1673455302,"post_id":75081175,"comment_id":132504579,"body_markdown":"No its not working (as AppCompatActivity) is showing error","body":"No its not working (as AppCompatActivity) is showing error"}],"tags":[],"owner":{"account_id":20343290,"reputation":41,"user_id":14921964,"display_name":"Hetvi Gohil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430966,"creation_date":1673430966,"answer_id":75081175,"question_id":75075586,"body_markdown":"&gt; # Hi RIZWAN ALI Please Use this code\r\n\r\n    val updateRoomFragment = CreateEventBottomsheet()\r\n                updateRoomFragment.show(\r\n                    (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\r\n                    updateRoomFragment.getTag()\r\n                )\r\n\r\n","title":"open fragment from adapter model class","body":"<blockquote>\n<h1>Hi RIZWAN ALI Please Use this code</h1>\n</blockquote>\n<pre><code>val updateRoomFragment = CreateEventBottomsheet()\n            updateRoomFragment.show(\n                (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\n                updateRoomFragment.getTag()\n            )\n</code></pre>\n"}],"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673430966,"creation_date":1673383166,"question_id":75075586,"body_markdown":"I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.\r\n\r\nBut now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.\r\n\r\nHere is my adapter class code:\r\n\r\n    public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\r\n    \r\n    \r\n        public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\r\n            holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\r\n            holder.description.setText(&quot;Description: &quot;+model.getDescription());\r\n            holder.ac.setText(&quot;AC: &quot;+model.getAC());\r\n            holder.rent.setText(&quot;Rent: &quot;+model.getRent());\r\n            holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\r\n            Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\r\n            holder.edit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\r\n                    updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\r\n            return new updateRoomAdapter.myViewHolder(view);\r\n        }\r\n    \r\n        class myViewHolder extends RecyclerView.ViewHolder {\r\n            CircleImageView img;\r\n            ImageView edit;\r\n            TextView id,description,rent,ac,nob;\r\n            public myViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                img=(CircleImageView) itemView.findViewById(R.id.img1);\r\n                id=(TextView) itemView.findViewById(R.id.nametext);\r\n                description=(TextView) itemView.findViewById(R.id.coursetext);\r\n                rent=(TextView) itemView.findViewById(R.id.rent);\r\n                ac=(TextView) itemView.findViewById(R.id.ac);\r\n                nob=(TextView) itemView.findViewById(R.id.bed);\r\n                edit=(ImageView)itemView.findViewById(R.id.imageView2);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHow to solve this issue?\r\n","title":"open fragment from adapter model class","body":"<p>I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.</p>\n<p>But now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.</p>\n<p>Here is my adapter class code:</p>\n<pre><code>public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\n\n\n    public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\n        holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\n        holder.description.setText(&quot;Description: &quot;+model.getDescription());\n        holder.ac.setText(&quot;AC: &quot;+model.getAC());\n        holder.rent.setText(&quot;Rent: &quot;+model.getRent());\n        holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\n        Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\n        holder.edit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\n                updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\n            }\n        });\n\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\n        return new updateRoomAdapter.myViewHolder(view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder {\n        CircleImageView img;\n        ImageView edit;\n        TextView id,description,rent,ac,nob;\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img=(CircleImageView) itemView.findViewById(R.id.img1);\n            id=(TextView) itemView.findViewById(R.id.nametext);\n            description=(TextView) itemView.findViewById(R.id.coursetext);\n            rent=(TextView) itemView.findViewById(R.id.rent);\n            ac=(TextView) itemView.findViewById(R.id.ac);\n            nob=(TextView) itemView.findViewById(R.id.bed);\n            edit=(ImageView)itemView.findViewById(R.id.imageView2);\n\n        }\n    }\n}\n</code></pre>\n<p>How to solve this issue?</p>\n"},{"tags":["java","logback","mdc"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1673424987,"post_id":75079765,"comment_id":132493366,"body_markdown":"Shouldn&#39;t you use `&lt;layout&gt;` instead of `&lt;encoder&gt;&#39;?","body":"Shouldn&#39;t you use <code>&lt;layout&gt;</code> instead of `&lt;encoder&gt;&#39;?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1673426069,"post_id":75079765,"comment_id":132493737,"body_markdown":"Could you detail where you put your parameters in the `MDC`?","body":"Could you detail where you put your parameters in the <code>MDC</code>?"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427181,"post_id":75079765,"comment_id":132494132,"body_markdown":"@Faith Im putting values in controller","body":"@Faith Im putting values in controller"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427367,"post_id":75079765,"comment_id":132494202,"body_markdown":"@Aakash layout is also not working","body":"@Aakash layout is also not working"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430898,"creation_date":1673430898,"answer_id":75081158,"question_id":75079765,"body_markdown":"It looks like you should use layout\r\nhttps://logback.qos.ch/manual/mdc.html\r\n \r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \r\n      &lt;layout&gt;\r\n        &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\r\n      &lt;/layout&gt; \r\n    &lt;/appender&gt;","title":"MDC Put not showing values in log","body":"<p>It looks like you should use layout\n<a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/mdc.html</a></p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n  &lt;layout&gt;\n    &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\n  &lt;/layout&gt; \n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673430898,"creation_date":1673423346,"question_id":75079765,"body_markdown":"`MDC.put` is not inserting values in the logs.\r\n\r\nlogback.xml\r\n\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\nCode :\r\n\r\n    MDC.put(&quot;ApigeeId&quot;, apigeeId);\r\n    MDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\r\n\r\nLogs :\r\n\r\n    2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: &#39;HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12&#39;\r\n\r\nGetting blank fields.\r\n\r\n\r\nTried to check whether values are setting properly by `MDC.get()`, it prints properly.\r\n\r\n\r\n\r\n\r\n","title":"MDC Put not showing values in log","body":"<p><code>MDC.put</code> is not inserting values in the logs.</p>\n<p>logback.xml</p>\n<pre><code>&lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Code :</p>\n<pre><code>MDC.put(&quot;ApigeeId&quot;, apigeeId);\nMDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\n</code></pre>\n<p>Logs :</p>\n<pre><code>2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: 'HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12'\n</code></pre>\n<p>Getting blank fields.</p>\n<p>Tried to check whether values are setting properly by <code>MDC.get()</code>, it prints properly.</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673431058,"post_id":75081153,"comment_id":132495481,"body_markdown":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return [Read also](https://www.baeldung.com/java-spring-mockito-mock-mockbean)","body":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">Read also</a>"},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673431299,"post_id":75081153,"comment_id":132495567,"body_markdown":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor","body":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1673432050,"post_id":75081153,"comment_id":132495816,"body_markdown":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers. \nhttps://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\n\nAlso you could just create a setter for the connection field and make it non final, inject a mock that way.","body":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers.  <a href=\"https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\" title=\"unit testing with mockito for constructors\">stackoverflow.com/questions/11214136/&hellip;</a>  Also you could just create a setter for the connection field and make it non final, inject a mock that way."},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673433512,"post_id":75081153,"comment_id":132496332,"body_markdown":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy.","body":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy."}],"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673436855,"answer_count":0,"score":0,"last_activity_date":1673430850,"creation_date":1673430850,"question_id":75081153,"body_markdown":"Here is what I want to achieve.\r\n```\r\npublic class A {\r\n    protected final Config config;\r\n    protected final Connection connection;\r\n\r\n    public A(Config config) {\r\n        this.config = config;\r\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\r\n    }\r\n    \r\n    public void someMethod() {\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to test some underlying methods for the class A, I would want to mock the **connection** object creation. How can I do that, I have tried all possible ways but didn&#39;t find any luck.","title":"How do I mock a object creation inside the contructor in Mockito","body":"<p>Here is what I want to achieve.</p>\n<pre><code>public class A {\n    protected final Config config;\n    protected final Connection connection;\n\n    public A(Config config) {\n        this.config = config;\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\n    }\n    \n    public void someMethod() {\n    }\n}\n</code></pre>\n<p>When I try to test some underlying methods for the class A, I would want to mock the <strong>connection</strong> object creation. How can I do that, I have tried all possible ways but didn't find any luck.</p>\n"},{"tags":["java","android","position","ontouchlistener","android-photoview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673452649,"post_id":75081117,"comment_id":132503451,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27477442,"reputation":1,"user_id":20965184,"display_name":"INGETTI RICCARDO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673430679,"creation_date":1673430679,"question_id":75081117,"body_markdown":"I&#39;m using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\r\nThe main problem is if I use fhese methods, I can&#39;t zoom anymore, what can I do?\r\nI thinked to create a new class from the PhotoView one, but there isn&#39;t any easier way?","title":"setOnTouchListener in PhotoView library in Android Studio","body":"<p>I'm using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\nThe main problem is if I use fhese methods, I can't zoom anymore, what can I do?\nI thinked to create a new class from the PhotoView one, but there isn't any easier way?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1673383089,"post_id":75075424,"comment_id":132485400,"body_markdown":"It looks like `License` is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want `orphanRemoval=true` in that annotation.","body":"It looks like <code>License</code> is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want <code>orphanRemoval=true</code> in that annotation."}],"answers":[{"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673418180,"creation_date":1673417790,"answer_id":75078985,"question_id":75075424,"body_markdown":"So here as i can see you have a parent class *User* and a child class *License* with a OneToMany Bi-Directional mapping. \r\n\r\nHere in the Many side means in your License entity side, as long as you don&#39;t use the *CascadeType.REMOVE*, if you delete a license object it wont delete the user object.\r\n\r\nso you can directly delete the license entry.\r\nIt will look something like this:\r\n\r\nlicenseRepositoryObject.delete(licenseObjectToBeDeleted);\r\n\r\n","title":"How to remove ManyToOne JPA object","body":"<p>So here as i can see you have a parent class <em>User</em> and a child class <em>License</em> with a OneToMany Bi-Directional mapping.</p>\n<p>Here in the Many side means in your License entity side, as long as you don't use the <em>CascadeType.REMOVE</em>, if you delete a license object it wont delete the user object.</p>\n<p>so you can directly delete the license entry.\nIt will look something like this:</p>\n<p>licenseRepositoryObject.delete(licenseObjectToBeDeleted);</p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418239,"creation_date":1673418239,"answer_id":75079045,"question_id":75075424,"body_markdown":"Before deleting the child class using\r\n\r\n    \r\n      @Transactional\r\n       public void delete(License license) {\r\n       license.setUser(null);\r\n      licenseRepository.delete(license);\r\n        }\r\n\r\n\r\nSo that all relations between parent and child are removed\r\n","title":"How to remove ManyToOne JPA object","body":"<p>Before deleting the child class using</p>\n<pre><code>  @Transactional\n   public void delete(License license) {\n   license.setUser(null);\n  licenseRepository.delete(license);\n    }\n</code></pre>\n<p>So that all relations between parent and child are removed</p>\n"}],"owner":{"account_id":19269357,"reputation":479,"user_id":20240865,"display_name":"GOLDProFA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673430219,"creation_date":1673382141,"question_id":75075424,"body_markdown":"I&#39;m trying to remove object of child class without calling parent class so there&#39;s no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.\r\n\r\nParent class:\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;License&gt; licenses;\r\n\r\nChild class:\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person user;\r\n\r\nTrying to delete:\r\n\r\n    @Transactional\r\n    public void delete(License license) {\r\n        licenseRepository.delete(license);\r\n    }\r\n\r\nIf I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database","title":"How to remove ManyToOne JPA object","body":"<p>I'm trying to remove object of child class without calling parent class so there's no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.</p>\n<p>Parent class:</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\nprivate List&lt;License&gt; licenses;\n</code></pre>\n<p>Child class:</p>\n<pre><code>@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Person user;\n</code></pre>\n<p>Trying to delete:</p>\n<pre><code>@Transactional\npublic void delete(License license) {\n    licenseRepository.delete(license);\n}\n</code></pre>\n<p>If I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database</p>\n"},{"tags":["java","android","autocompletetextview","exposeddropdownmenu"],"owner":{"account_id":27497096,"reputation":1,"user_id":20981453,"display_name":"user20981453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673429697,"creation_date":1673429697,"question_id":75080905,"body_markdown":"  @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                //Define city spinner but we will populate the option through the selected state\r\n                policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\r\n\r\n                // Obtain the selected district\r\n\r\n                 selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\r\n\r\n\r\n                Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\r\n\r\n              //  int parentId = parent.getId();\r\n\r\n                if (parent.getId() == R.id.districtAutoCompleteText)\r\n\r\ngetSelectedItem() is showing error??\r\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.","title":"Dependent dropdown using Exposed Drop-Down Menu and AutoCompleteTextView","body":"<p>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {</p>\n<pre><code>            //Define city spinner but we will populate the option through the selected state\n            policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\n\n            // Obtain the selected district\n\n             selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\n\n\n            Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\n\n          //  int parentId = parent.getId();\n\n            if (parent.getId() == R.id.districtAutoCompleteText)\n</code></pre>\n<p>getSelectedItem() is showing error??\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.</p>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673424386,"post_id":75079904,"comment_id":132493180,"body_markdown":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code.","body":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424587,"post_id":75079904,"comment_id":132493246,"body_markdown":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder.","body":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424706,"post_id":75079904,"comment_id":132493283,"body_markdown":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input.","body":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673425138,"post_id":75079904,"comment_id":132493418,"body_markdown":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know.","body":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427066,"post_id":75079904,"comment_id":132494083,"body_markdown":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it.","body":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427145,"post_id":75079904,"comment_id":132494122,"body_markdown":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case.","body":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673427452,"post_id":75079904,"comment_id":132494228,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673429340,"creation_date":1673429340,"answer_id":75080839,"question_id":75079904,"body_markdown":"The link you are using contains the folder id, the folder should also be readable by everyone.\r\n\r\nIn this instance you can use the files.list method from the Google drive api and access it using &#39;folderid&#39; in parents which will return a list of all of the files within that folder.\r\n\r\nFor this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat. ","title":"How to download files from publicly available google drive URL using Java?","body":"<p>The link you are using contains the folder id, the folder should also be readable by everyone.</p>\n<p>In this instance you can use the files.list method from the Google drive api and access it using 'folderid' in parents which will return a list of all of the files within that folder.</p>\n<p>For this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat.</p>\n"}],"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75080839,"answer_count":1,"score":2,"last_activity_date":1673429340,"creation_date":1673424215,"question_id":75079904,"body_markdown":"I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.\r\n\r\nAlso, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.\r\n\r\n\r\n    URL url;\r\n    URLConnection con;\r\n    DataInputStream dis;\r\n    FileOutputStream fos;\r\n    byte[] fileData;\r\n    try {\r\n        url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\r\n        con = url.openConnection(); // open the url connection.\r\n        dis = new DataInputStream(con.getInputStream());\r\n        fileData = new byte[con.getContentLength()];\r\n        for (int q = 0; q &lt; fileData.length; q++) {\r\n            fileData[q] = dis.readByte();\r\n        }\r\n        dis.close(); // close the data input stream\r\n        fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\r\n        fos.write(fileData);  // write out the file we want to save.\r\n        fos.close(); // close the output stream writer\r\n    }\r\n    catch(Exception m) {\r\n       System.out.println(m);\r\n    }\r\n\r\n\r\nKindly suggest the solution please.","title":"How to download files from publicly available google drive URL using Java?","body":"<p>I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.</p>\n<p>Also, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.</p>\n<pre><code>URL url;\nURLConnection con;\nDataInputStream dis;\nFileOutputStream fos;\nbyte[] fileData;\ntry {\n    url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\n    con = url.openConnection(); // open the url connection.\n    dis = new DataInputStream(con.getInputStream());\n    fileData = new byte[con.getContentLength()];\n    for (int q = 0; q &lt; fileData.length; q++) {\n        fileData[q] = dis.readByte();\n    }\n    dis.close(); // close the data input stream\n    fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\n    fos.write(fileData);  // write out the file we want to save.\n    fos.close(); // close the output stream writer\n}\ncatch(Exception m) {\n   System.out.println(m);\n}\n</code></pre>\n<p>Kindly suggest the solution please.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1673378068,"post_id":75074750,"comment_id":132483891,"body_markdown":"You could change the `toString` method in your `Node` class so that it doesn&#39;t print the comma if there&#39;s no `next` element.  In fact, you could even change it so that it calls the `toString` method on `next` recursively; and that way, you wouldn&#39;t need a loop in `printList`.","body":"You could change the <code>toString</code> method in your <code>Node</code> class so that it doesn&#39;t print the comma if there&#39;s no <code>next</code> element.  In fact, you could even change it so that it calls the <code>toString</code> method on <code>next</code> recursively; and that way, you wouldn&#39;t need a loop in <code>printList</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1673378179,"post_id":75074750,"comment_id":132483937,"body_markdown":"You can research similar questions - for example: [Avoid printing the last comma](https://stackoverflow.com/q/9991799/12567365) or [any of these](https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com) for more ideas which can be adapted to your specific situation.","body":"You can research similar questions - for example: <a href=\"https://stackoverflow.com/q/9991799/12567365\">Avoid printing the last comma</a> or <a href=\"https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com\" rel=\"nofollow noreferrer\">any of these</a> for more ideas which can be adapted to your specific situation."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1673378363,"post_id":75074750,"comment_id":132483996,"body_markdown":"*&quot;so the output is 10,20,30,40,50, &quot;*: eh, not it isn&#39;t. There is no comma output in your code.","body":"<i>&quot;so the output is 10,20,30,40,50, &quot;</i>: eh, not it isn&#39;t. There is no comma output in your code."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673378645,"post_id":75074750,"comment_id":132484106,"body_markdown":"@trincot not with the code shown. The question is incomplete as it does not include a [mre]. `Node`, or whatever type `Node#data` is, could add the comma in their `toString()` method.","body":"@trincot not with the code shown. The question is incomplete as it does not include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <code>Node</code>, or whatever type <code>Node#data</code> is, could add the comma in their <code>toString()</code> method."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1673378687,"post_id":75074750,"comment_id":132484115,"body_markdown":"@knittl, the question is to the OP.","body":"@knittl, the question is to the OP."}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673391313,"post_id":75075170,"comment_id":132487577,"body_markdown":"I assume `curr-&gt;next` is a typo caused by too much exposure to C++?","body":"I assume <code>curr-&gt;next</code> is a typo caused by too much exposure to C++?"}],"tags":[],"owner":{"account_id":25958789,"reputation":3,"user_id":19675746,"display_name":"Izza Mujeeb Ahmad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673429325,"creation_date":1673380458,"answer_id":75075170,"question_id":75074750,"body_markdown":"The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.\r\n\r\n     public static void printList(Node head) {\r\n            Node curr = head;\r\n    \r\n            while (curr != null) {\r\n    \r\n                System.out.print(curr.data);\r\n    \r\n                if(curr.next != null)\r\n                    System.out.print(&quot;,&quot;);\r\n               \r\n                curr = curr.next;\r\n            }\r\n        }\r\n\r\nThis condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.\r\n\r\nP.S Upvote if it helped!","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<p>The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.</p>\n<pre><code> public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n\n            System.out.print(curr.data);\n\n            if(curr.next != null)\n                System.out.print(&quot;,&quot;);\n           \n            curr = curr.next;\n        }\n    }\n</code></pre>\n<p>This condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.</p>\n<p>P.S Upvote if it helped!</p>\n"}],"owner":{"account_id":17586702,"reputation":1,"user_id":17578580,"display_name":"Ankit Kumar Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673450709,"answer_count":1,"score":0,"last_activity_date":1673429325,"creation_date":1673377839,"question_id":75074750,"body_markdown":"```java\r\npublic class Traverse {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tNode head = new Node(10);\r\n\t\thead.next = new Node(20);\r\n\t\thead.next.next = new Node(30);\r\n\t\thead.next.next.next = new Node(40);\r\n\t\thead.next.next.next.next = new Node(50);\r\n\t\tprintList(head);\r\n\t}\r\n\r\n\tpublic static void printList(Node head) {\r\n\t\tNode curr = head;\r\n\r\n\t\twhile (curr != null) {\r\n\t\t\tSystem.out.print(curr.data);\r\n\t\t\tcurr = curr.next;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe output is: \r\n\r\n     10,20,30,40,50, \r\n\r\nI don&#39;t want the last commma (`,`).\r\n\r\nI am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it&#39;s lame but a blunder so the output should be:\r\n\r\n    10,20,30,40,50","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Traverse {\n\n    public static void main(String[] args) {\n        Node head = new Node(10);\n        head.next = new Node(20);\n        head.next.next = new Node(30);\n        head.next.next.next = new Node(40);\n        head.next.next.next.next = new Node(50);\n        printList(head);\n    }\n\n    public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n            System.out.print(curr.data);\n            curr = curr.next;\n        }\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code> 10,20,30,40,50, \n</code></pre>\n<p>I don't want the last commma (<code>,</code>).</p>\n<p>I am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it's lame but a blunder so the output should be:</p>\n<pre><code>10,20,30,40,50\n</code></pre>\n"},{"tags":["java","annotations","guava","encapsulation","jetbrains-ide"],"answers":[{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689805921,"post_id":67208479,"comment_id":135267407,"body_markdown":"This is slightly inaccurate; they do have different meanings and the JetBrains annotations project even has both annotations `@VisibleForTesting` and `@TestOnly`; see @benjam&#237;n-valero&#39;s answer for the difference.","body":"This is slightly inaccurate; they do have different meanings and the JetBrains annotations project even has both annotations <code>@VisibleForTesting</code> and <code>@TestOnly</code>; see @benjam&#237;n-valero&#39;s answer for the difference."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619075682,"creation_date":1619075682,"answer_id":67208479,"question_id":67207970,"body_markdown":"The first big difference is obviously that it&#39;s provided by different projects.\r\n\r\n`@VisibleForTesting` is part of the [Google Guava libraries][1] and `@TestOnly` is part of [JetBrains annotations][2] which are associated with JetBrains, the makers of IntelliJ IDEA, among others.\r\n\r\nComparing the JavaDoc of the two shows that they serve basically identical goals: [`@TestOnly`][3] and [`@VisibleForTesting`][4].\r\n\r\nNote that the documentation of **both** annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.\r\n\r\n**tl;dr** They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.\r\n\r\n\r\n  [1]: https://guava.dev/\r\n  [2]: https://www.jetbrains.com/help/idea/annotating-source-code.html\r\n  [3]: https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\r\n  [4]: https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>The first big difference is obviously that it's provided by different projects.</p>\n<p><code>@VisibleForTesting</code> is part of the <a href=\"https://guava.dev/\" rel=\"noreferrer\">Google Guava libraries</a> and <code>@TestOnly</code> is part of <a href=\"https://www.jetbrains.com/help/idea/annotating-source-code.html\" rel=\"noreferrer\">JetBrains annotations</a> which are associated with JetBrains, the makers of IntelliJ IDEA, among others.</p>\n<p>Comparing the JavaDoc of the two shows that they serve basically identical goals: <a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"noreferrer\"><code>@TestOnly</code></a> and <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html\" rel=\"noreferrer\"><code>@VisibleForTesting</code></a>.</p>\n<p>Note that the documentation of <strong>both</strong> annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.</p>\n<p><strong>tl;dr</strong> They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.</p>\n"},{"tags":[],"owner":{"account_id":1317517,"reputation":314,"user_id":1264066,"display_name":"Benjam&#237;n Valero"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1673428757,"creation_date":1673428757,"answer_id":75080703,"question_id":67207970,"body_markdown":"They are **not** for the same thing.\r\n\r\n[`@VisibleForTesting`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html) is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.\r\n\r\n[`@TestOnly`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html) is used for a method that can **only** be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won&#39;t prevent that.\r\n\r\nBy the way, JetBrains provide both annotations, so they can be used in the same project.","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>They are <strong>not</strong> for the same thing.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"nofollow noreferrer\"><code>@TestOnly</code></a> is used for a method that can <strong>only</strong> be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won't prevent that.</p>\n<p>By the way, JetBrains provide both annotations, so they can be used in the same project.</p>\n"}],"owner":{"account_id":2693858,"reputation":85,"user_id":2326451,"display_name":"Sampath Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3215,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75080703,"answer_count":2,"score":3,"last_activity_date":1673428757,"creation_date":1619073391,"question_id":67207970,"body_markdown":"As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing\r\n\r\n@VisibleForTesting - com.google.common.annotations.VisibleForTesting  \r\n@TestOnly - org.jetbrains.annotations.TestOnly   ","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing</p>\n<p>@VisibleForTesting - com.google.common.annotations.VisibleForTesting<br />\n@TestOnly - org.jetbrains.annotations.TestOnly</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673179196,"post_id":75047520,"comment_id":132435715,"body_markdown":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error","body":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error"}],"answers":[{"comments":[{"owner":{"account_id":25772225,"reputation":3,"user_id":19520571,"display_name":"Eray Naccarlı"},"score":0,"creation_date":1673383255,"post_id":75062045,"comment_id":132485451,"body_markdown":"Thank you very much for your advice. I followed your advice but still getting the same error @PJ.Meisch","body":"Thank you very much for your advice. I followed your advice but still getting the same error @PJ.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673470018,"post_id":75062045,"comment_id":132509200,"body_markdown":"Can you connect for example with `curl https://localhost:9200`?","body":"Can you connect for example with <code>curl https:&#47;&#47;localhost:9200</code>?"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292200,"creation_date":1673292200,"answer_id":75062045,"question_id":75047520,"body_markdown":"You get a Connection closed error, that means Elasticsearch does not accept the connection from your application. \r\n\r\nHave a look at https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode, you&#39;ll need to make your Java application accept the certifivate for the HTTPS TLS connectio\r\n\r\nFor a local enviroment (and only for that!) you might want to disable the security, there&#39;s some informaiton here: https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617","title":"Why am I getting Error creating bean with name?","body":"<p>You get a Connection closed error, that means Elasticsearch does not accept the connection from your application.</p>\n<p>Have a look at <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode</a>, you'll need to make your Java application accept the certifivate for the HTTPS TLS connectio</p>\n<p>For a local enviroment (and only for that!) you might want to disable the security, there's some informaiton here: <a href=\"https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617</a></p>\n"},{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673428732,"creation_date":1673428732,"answer_id":75080698,"question_id":75047520,"body_markdown":"Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ProductService {\r\n        \r\n        @Autowired\r\n        private ProductEsRepository productEsRepository;\r\n        @Autowired        \r\n        private ProductRepository productRepository;\r\n        @Autowired\r\n        private ProductPriceService productPriceService;\r\n        @Autowired\r\n        private ProductDeliveryService productDeliveryService;\r\n        @Autowired\r\n        private ProductAmountService productAmountService;\r\n        @Autowired\r\n        private ProductImageService productImageService;\r\n    \r\n        public Flux&lt;ProductResponse&gt; getAll() {\r\n            return this.productEsRepository.findAll().map(this::mapToDto);\r\n        }\r\n   \r\n        private ProductResponse mapToDto(ProductEs item) {\r\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n           return ProductResponse.builder()\r\n                    .price(productPrice)\r\n                    .name(item.getName())\r\n                    .features(item.getFeatures())\r\n                    .id(item.getId())\r\n                    .description(item.getDescription())\r\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                    .categoryId(item.getCategory().getId())\r\n                    .available(this.productAmountService.getByProductId(item.getId()))\r\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                    .moneyType(MoneyTypes.USD)\r\n                    .image(this.productImageService.getProductMainImage(item.getId()))\r\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                    .build();\r\n    \r\n        }\r\n    }\r\nLet me know if this helps.","title":"Why am I getting Error creating bean with name?","body":"<p>Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@NoArgsConstructor\npublic class ProductService {\n    \n    @Autowired\n    private ProductEsRepository productEsRepository;\n    @Autowired        \n    private ProductRepository productRepository;\n    @Autowired\n    private ProductPriceService productPriceService;\n    @Autowired\n    private ProductDeliveryService productDeliveryService;\n    @Autowired\n    private ProductAmountService productAmountService;\n    @Autowired\n    private ProductImageService productImageService;\n\n    public Flux&lt;ProductResponse&gt; getAll() {\n        return this.productEsRepository.findAll().map(this::mapToDto);\n    }\n\n    private ProductResponse mapToDto(ProductEs item) {\n        BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n       return ProductResponse.builder()\n                .price(productPrice)\n                .name(item.getName())\n                .features(item.getFeatures())\n                .id(item.getId())\n                .description(item.getDescription())\n                .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                .categoryId(item.getCategory().getId())\n                .available(this.productAmountService.getByProductId(item.getId()))\n                .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                .moneyType(MoneyTypes.USD)\n                .image(this.productImageService.getProductMainImage(item.getId()))\n                .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                .build();\n\n    }\n}\n</code></pre>\n<p>Let me know if this helps.</p>\n"}],"owner":{"account_id":25772225,"reputation":3,"user_id":19520571,"display_name":"Eray Naccarlı"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673428732,"creation_date":1673178753,"question_id":75047520,"body_markdown":"    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productApi&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 49 common frames omitted\r\n    Caused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\r\n    \tat co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\r\n    \tat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: java.lang.RuntimeException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \t... 12 common frames omitted\r\n\r\n\r\n\r\n\r\nRepository\r\n\r\n       public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\r\n    }\r\n\r\nController\r\n   \r\n     @RestController\r\n        @RequestMapping(&quot;/products&quot;)\r\n        @RequiredArgsConstructor\r\n        public class ProductApi {\r\n            private final ProductService productService;\r\n            @GetMapping\r\n            public Flux&lt;ProductResponse&gt; getAllProducts(){\r\n                return this.productService.getAll();\r\n            }\r\n        }\r\n\r\n\r\nProduct Service\r\n \r\n\r\n       @Service\r\n        @RequiredArgsConstructor\r\n        public class ProductService {\r\n        \r\n            private final ProductEsRepository productEsRepository;\r\n            private final ProductRepository productRepository;\r\n            private final ProductPriceService productPriceService;\r\n            private final ProductDeliveryService productDeliveryService;\r\n            private final ProductAmountService productAmountService;\r\n            private final ProductImageService productImageService;\r\n        \r\n            public Flux&lt;ProductResponse&gt; getAll() {\r\n                return this.productEsRepository.findAll().map(this::mapToDto);\r\n            }\r\n       \r\n            private ProductResponse mapToDto(ProductEs item) {\r\n                BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n               return ProductResponse.builder()\r\n                        .price(productPrice)\r\n                        .name(item.getName())\r\n                        .features(item.getFeatures())\r\n                        .id(item.getId())\r\n                        .description(item.getDescription())\r\n                        .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                        .categoryId(item.getCategory().getId())\r\n                        .available(this.productAmountService.getByProductId(item.getId()))\r\n                        .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                        .moneyType(MoneyTypes.USD)\r\n                        .image(this.productImageService.getProductMainImage(item.getId()))\r\n                        .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                        .build();\r\n        \r\n            }\r\n        }\r\n\r\nDependency\r\n\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.eray&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;shopping-app&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n\r\nDocker compose\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      mongo:\r\n        image: mongo\r\n        restart: always\r\n        ports:\r\n        -  27017:27017\r\n        environment:\r\n           MONGO_INITDB_ROOT_USERNAME: root\r\n           MONGO_INITDB_ROOT_PASSWORD: eray123\r\n      elasticsearch:\r\n        image: elasticsearch:8.5.0\r\n        ports:\r\n        - 9200:9200\r\n        - 9300:9300\r\n        environment:\r\n           discovery.type: single-node\r\n\r\nDescription\r\nI added @Repository annotation but it didn&#39;t work, I changed elasticsearch version but it still didn&#39;t work \r\n\r\nwhen i remove final keyword only this error remains \r\n\r\n    Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n\r\ni don&#39;t know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists","title":"Why am I getting Error creating bean with name?","body":"<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productApi' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 49 common frames omitted\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\n    at org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: java.lang.RuntimeException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    ... 26 common frames omitted\nCaused by: org.apache.http.ConnectionClosedException: Connection is closed\n    ... 12 common frames omitted\n</code></pre>\n<p>Repository</p>\n<pre><code>   public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\n}\n</code></pre>\n<p>Controller</p>\n<pre><code> @RestController\n    @RequestMapping(&quot;/products&quot;)\n    @RequiredArgsConstructor\n    public class ProductApi {\n        private final ProductService productService;\n        @GetMapping\n        public Flux&lt;ProductResponse&gt; getAllProducts(){\n            return this.productService.getAll();\n        }\n    }\n</code></pre>\n<p>Product Service</p>\n<pre><code>   @Service\n    @RequiredArgsConstructor\n    public class ProductService {\n    \n        private final ProductEsRepository productEsRepository;\n        private final ProductRepository productRepository;\n        private final ProductPriceService productPriceService;\n        private final ProductDeliveryService productDeliveryService;\n        private final ProductAmountService productAmountService;\n        private final ProductImageService productImageService;\n    \n        public Flux&lt;ProductResponse&gt; getAll() {\n            return this.productEsRepository.findAll().map(this::mapToDto);\n        }\n   \n        private ProductResponse mapToDto(ProductEs item) {\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n           return ProductResponse.builder()\n                    .price(productPrice)\n                    .name(item.getName())\n                    .features(item.getFeatures())\n                    .id(item.getId())\n                    .description(item.getDescription())\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                    .categoryId(item.getCategory().getId())\n                    .available(this.productAmountService.getByProductId(item.getId()))\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                    .moneyType(MoneyTypes.USD)\n                    .image(this.productImageService.getProductMainImage(item.getId()))\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                    .build();\n    \n        }\n    }\n</code></pre>\n<p>Dependency</p>\n<pre><code> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.eray&lt;/groupId&gt;\n        &lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;shopping-app&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n</code></pre>\n<p>Docker compose</p>\n<pre><code>version: '3.1'\nservices:\n  mongo:\n    image: mongo\n    restart: always\n    ports:\n    -  27017:27017\n    environment:\n       MONGO_INITDB_ROOT_USERNAME: root\n       MONGO_INITDB_ROOT_PASSWORD: eray123\n  elasticsearch:\n    image: elasticsearch:8.5.0\n    ports:\n    - 9200:9200\n    - 9300:9300\n    environment:\n       discovery.type: single-node\n</code></pre>\n<p>Description\nI added @Repository annotation but it didn't work, I changed elasticsearch version but it still didn't work</p>\n<p>when i remove final keyword only this error remains</p>\n<pre><code>Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n</code></pre>\n<p>i don't know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673428649,"creation_date":1588775339,"answer_id":61637769,"question_id":61636504,"body_markdown":"here you can read about `subscribeOn` and `publishOn`.\r\n\r\n[publishOn vs subscribeOn][1]\r\n\r\n basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have **anywhere** a `subscribeOn` in the chain the entire call will use this scheduler. So it doesn&#39;t matter where `subscribeOn`is placed.\r\n\r\nYou can see that in the logs, its starts out, with the call getting placed on the `subscribeOn` scheduler.\r\n\r\nthe `publishOn` on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.\r\n\r\nYour logs show that when the inner Flux is emitting it is emitting on the `publishOn` scheduler.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>here you can read about <code>subscribeOn</code> and <code>publishOn</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3\">publishOn vs subscribeOn</a></p>\n<p>basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have <strong>anywhere</strong> a <code>subscribeOn</code> in the chain the entire call will use this scheduler. So it doesn't matter where <code>subscribeOn</code>is placed.</p>\n<p>You can see that in the logs, its starts out, with the call getting placed on the <code>subscribeOn</code> scheduler.</p>\n<p>the <code>publishOn</code> on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.</p>\n<p>Your logs show that when the inner Flux is emitting it is emitting on the <code>publishOn</code> scheduler.</p>\n"}],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61637769,"answer_count":1,"score":1,"last_activity_date":1673428649,"creation_date":1588771889,"question_id":61636504,"body_markdown":"simple example to understand the thread flow.\r\n\r\n 1. [**gshp subscribedOn-1**] INFO **reactor.Flux.FlatMap.1** -onSubscribe(**FluxFlatMap.FlatMapMain**)\r\n\r\n 2. [**gshp publishOn-7**] INFO **reactor.Flux.FlatMap.1** - onNext(6)\r\n       \r\nHere **reactor.Flux.FlatMap.1** is common for both **gshp subscribedOn-1**, **gshp publishOn-7** \r\n\r\n When we run java, it starts with main thread after that what happens, will it creating **gshp subscribedOn-1** or **reactor.Flux.FlatMap.1**?\r\n\r\n\r\n\r\n      @Test\r\n\t  public void setUpTestTest() {\r\n\t\t  Scheduler scheduler1 = Schedulers.newParallel(&quot;gshp subscribedOn&quot;, 3);\r\n\t\t  Scheduler scheduler2 = Schedulers.newParallel(&quot;gshp publishOn&quot;, 6);\r\n\t\t  Flux&lt;String&gt; flux = Flux.range(1, 200)\r\n\t\t\t\t                  .flatMap(s-&gt; Flux.just(&quot;&quot;+s)\r\n                                                   .publishOn(scheduler2)\r\n                                                   .concatMap(d-&gt;processMessagefluxpause(d, &quot;test&quot;)))\r\n                                                   .log()\r\n\t\t\t\t                  .subscribeOn(scheduler1);\r\n\r\n\t\tStepVerifier.create(flux).expectNextCount(20).verifyComplete();\r\n\t}\r\n    \r\nWhat it means, how the flow goes?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sH1tz.png","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>simple example to understand the thread flow.</p>\n\n<ol>\n<li><p>[<strong>gshp subscribedOn-1</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> -onSubscribe(<strong>FluxFlatMap.FlatMapMain</strong>)</p></li>\n<li><p>[<strong>gshp publishOn-7</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> - onNext(6)</p></li>\n</ol>\n\n<p>Here <strong>reactor.Flux.FlatMap.1</strong> is common for both <strong>gshp subscribedOn-1</strong>, <strong>gshp publishOn-7</strong> </p>\n\n<p>When we run java, it starts with main thread after that what happens, will it creating <strong>gshp subscribedOn-1</strong> or <strong>reactor.Flux.FlatMap.1</strong>?</p>\n\n<pre><code>  @Test\n  public void setUpTestTest() {\n      Scheduler scheduler1 = Schedulers.newParallel(\"gshp subscribedOn\", 3);\n      Scheduler scheduler2 = Schedulers.newParallel(\"gshp publishOn\", 6);\n      Flux&lt;String&gt; flux = Flux.range(1, 200)\n                              .flatMap(s-&gt; Flux.just(\"\"+s)\n                                               .publishOn(scheduler2)\n                                               .concatMap(d-&gt;processMessagefluxpause(d, \"test\")))\n                                               .log()\n                              .subscribeOn(scheduler1);\n\n    StepVerifier.create(flux).expectNextCount(20).verifyComplete();\n}\n</code></pre>\n\n<p>What it means, how the flow goes?\n<a href=\"https://i.stack.imgur.com/sH1tz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sH1tz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1673345416,"post_id":75068322,"comment_id":132472602,"body_markdown":"You seem to have a misconception in the first snippet: you print `(alertTimeInMillis - now)` as the time to alert but only pass `alertTimeInMillis` to `schedule(...)`. If you read the JavaDoc on `Calendar.getTimeInMillis()` you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old `java.util.Date` API.","body":"You seem to have a misconception in the first snippet: you print <code>(alertTimeInMillis - now)</code> as the time to alert but only pass <code>alertTimeInMillis</code> to <code>schedule(...)</code>. If you read the JavaDoc on <code>Calendar.getTimeInMillis()</code> you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old <code>java.util.Date</code> API."},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1673354362,"post_id":75068322,"comment_id":132475405,"body_markdown":"I understand, thanks ! The reason I use the old `Date` is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:).","body":"I understand, thanks ! The reason I use the old <code>Date</code> is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1673361188,"post_id":75068322,"comment_id":132478029,"body_markdown":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated `Date`, `Calendar`, `SimpleDateFormat` and `TimZone` classes.","body":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code> and <code>TimZone</code> classes."}],"answers":[{"comments":[{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1673425728,"post_id":75076209,"comment_id":132493627,"body_markdown":"Thanks so much for the detailed answer and teaching me out of scope like awaiting termination! Few questions: 1) You said it&#39;s weird I&#39;m mixing legacy code with modern code, but `TimeZone#getTimeZone` accepts `ZoneId`, isn&#39;t it mixed by design then? 2) I&#39;m confused about the prints, since the user input is `14:30` but it goes off at `22:30` your time. Is it a time zone issue? Thanks again!","body":"Thanks so much for the detailed answer and teaching me out of scope like awaiting termination! Few questions: 1) You said it&#39;s weird I&#39;m mixing legacy code with modern code, but <code>TimeZone#getTimeZone</code> accepts <code>ZoneId</code>, isn&#39;t it mixed by design then? 2) I&#39;m confused about the prints, since the user input is <code>14:30</code> but it goes off at <code>22:30</code> your time. Is it a time zone issue? Thanks again!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673427165,"post_id":75076209,"comment_id":132494128,"body_markdown":"@Nom1fan New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to *java.time*. `TimeZone.getTimeZone( ZoneId )` is one such conversion method.","body":"@Nom1fan New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to <i>java.time</i>. <code>TimeZone.getTimeZone( ZoneId )</code> is one such conversion method."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673427391,"post_id":75076209,"comment_id":132494208,"body_markdown":"My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in `America/Los_Angeles` is 8 hours behind UTC, so adding 8 hours brings you to 22:30 in UTC.","body":"My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in <code>America&#47;Los_Angeles</code> is 8 hours behind UTC, so adding 8 hours brings you to 22:30 in UTC."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673428562,"creation_date":1673387353,"answer_id":75076209,"question_id":75068322,"body_markdown":"# Debugging legacy code\r\n\r\n&gt;`ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);`\r\n\r\nNo need for that `Thread::new`. Use empty parens, no arguments needed.\r\n\r\n&gt;`TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());`\r\n\r\nWeird. You are mixing the legacy `TimeZone` class with its replacement `ZoneId` from *java.time*. Use only *java.time*; never use the terribly flawed legacy date-time classes.\r\n\r\n    ZoneId z = ZoneId.sytemDefault() ;\r\n\r\nNew conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.\r\n\r\nAlso, be aware that the JVM’s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-[roulette][1] at runtime.\r\n\r\n&gt;`new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n\r\nYour formatting code uses `hh` in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for `02:00:00`, we cannot know if they meant 2 AM or 2 PM. I will change this to `HH` for 24-hour clock in example code below.\r\n\r\n&gt;`SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n&gt;`Date date = sdf.parse(dateStr);`\r\n\r\nBe aware that `SimpleDateFormat` is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVM’s current default time zone in the interim.\r\n\r\n&gt;`ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);`\r\n\r\n&#128073; This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC — decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.\r\n\r\nYour code:\r\n\r\n    long alertTimeInMillis = calendar.getTimeInMillis();\r\n\r\n… calls the [`Calendar#getTimeInMillis`][2] method. Javadoc says:\r\n\r\n&gt;Returns: the current time as UTC milliseconds from the epoch.\r\n\r\nWhat you meant to do is what you *did* do in your `System.out.println`: Calculate time to elapse between the current moment and that target moment.\r\n\r\n    (alertTimeInMillis - now)\r\n\r\nTip: Generally best to log *existing* values, rather than *generating* a value to log.\r\n\r\n# Modern solution: *java.time*\r\n\r\nBut enough of struggling with the terribly flawed legacy date-time classes. Never use `Calendar`, `Date`, or `SimpleDateFormat`. Always use *java.time* classes.\r\n\r\nFirstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on [`ExecutorService`][3] Javadoc. Here is a slightly modified version. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is complete example code.\r\n\r\nLet&#39;s break up your long code into a few separate methods, each with a specific goal.\r\n\r\nTo represent a span of time not attached to the timeline, use [`Duration`][4] class. \r\n\r\nNotice how we minimized the use of `LocalDateTime`. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling `LocalDateTime.now` is optimal. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        ZonedDateTime then = this.gatherInput();\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\r\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\r\n\r\n        this.runTask( delayUntilTaskRuns );\r\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\r\n    }\r\n\r\n    private ZonedDateTime gatherInput ( )\r\n    {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\r\n        String userInput = startOfNextMinute.format( f );\r\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\r\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \r\n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\r\n        ZonedDateTime zdt = ldt.atZone( zoneId );\r\n\r\n        return zdt;\r\n    }\r\n\r\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\r\n    {\r\n        Instant now = Instant.now();\r\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\r\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask ( Duration delay )\r\n    {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\r\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\r\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere run:\r\n\r\n```none\r\nDEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\r\nDEBUG userInput = 10-01-2023 14:30:00\r\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\r\nDone running task at 2023-01-10T22:30:00.012244Z\r\nDemo done at 2023-01-10T22:30:00.024242Z\r\n```\r\n\r\nMy example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC — same moment, different wall-clock time.  \r\n\r\nIn other words… Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in [Reykjav&#237;k][5]. As Bob answers the call, he notices [his own clock on the wall][6] reads 10:30 PM (22:30). Same moment, different wall-clock time. \r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, be aware that lines sent to `System.out.println` across threads may *not* appear in the console in chronological order. Always include a timestamp such as `Instant.now()`. If you care about sequence, study those timestamps. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Roulette\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\r\n  [5]: https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\r\n  [6]: https://en.m.wikipedia.org/wiki/Time_in_Iceland","title":"ScheduledExecutorService schedule not triggering","body":"<h1>Debugging legacy code</h1>\n<blockquote>\n<p><code>ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);</code></p>\n</blockquote>\n<p>No need for that <code>Thread::new</code>. Use empty parens, no arguments needed.</p>\n<blockquote>\n<p><code>TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());</code></p>\n</blockquote>\n<p>Weird. You are mixing the legacy <code>TimeZone</code> class with its replacement <code>ZoneId</code> from <em>java.time</em>. Use only <em>java.time</em>; never use the terribly flawed legacy date-time classes.</p>\n<pre><code>ZoneId z = ZoneId.sytemDefault() ;\n</code></pre>\n<p>New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.</p>\n<p>Also, be aware that the JVM’s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-<a href=\"https://en.m.wikipedia.org/wiki/Roulette\" rel=\"nofollow noreferrer\">roulette</a> at runtime.</p>\n<blockquote>\n<p><code>new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code></p>\n</blockquote>\n<p>Your formatting code uses <code>hh</code> in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for <code>02:00:00</code>, we cannot know if they meant 2 AM or 2 PM. I will change this to <code>HH</code> for 24-hour clock in example code below.</p>\n<blockquote>\n<p><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code>\n<code>Date date = sdf.parse(dateStr);</code></p>\n</blockquote>\n<p>Be aware that <code>SimpleDateFormat</code> is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVM’s current default time zone in the interim.</p>\n<blockquote>\n<p><code>ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);</code></p>\n</blockquote>\n<p>👉 This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC — decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.</p>\n<p>Your code:</p>\n<pre><code>long alertTimeInMillis = calendar.getTimeInMillis();\n</code></pre>\n<p>… calls the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\" rel=\"nofollow noreferrer\"><code>Calendar#getTimeInMillis</code></a> method. Javadoc says:</p>\n<blockquote>\n<p>Returns: the current time as UTC milliseconds from the epoch.</p>\n</blockquote>\n<p>What you meant to do is what you <em>did</em> do in your <code>System.out.println</code>: Calculate time to elapse between the current moment and that target moment.</p>\n<pre><code>(alertTimeInMillis - now)\n</code></pre>\n<p>Tip: Generally best to log <em>existing</em> values, rather than <em>generating</em> a value to log.</p>\n<h1>Modern solution: <em>java.time</em></h1>\n<p>But enough of struggling with the terribly flawed legacy date-time classes. Never use <code>Calendar</code>, <code>Date</code>, or <code>SimpleDateFormat</code>. Always use <em>java.time</em> classes.</p>\n<p>Firstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> Javadoc. Here is a slightly modified version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Here is complete example code.</p>\n<p>Let's break up your long code into a few separate methods, each with a specific goal.</p>\n<p>To represent a span of time not attached to the timeline, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> class.</p>\n<p>Notice how we minimized the use of <code>LocalDateTime</code>. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling <code>LocalDateTime.now</code> is optimal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        ZonedDateTime then = this.gatherInput();\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\n\n        this.runTask( delayUntilTaskRuns );\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\n    }\n\n    private ZonedDateTime gatherInput ( )\n    {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\n        String userInput = startOfNextMinute.format( f );\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\n        ZonedDateTime zdt = ldt.atZone( zoneId );\n\n        return zdt;\n    }\n\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\n    {\n        Instant now = Instant.now();\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask ( Duration delay )\n    {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Where run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\nDEBUG userInput = 10-01-2023 14:30:00\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\nDone running task at 2023-01-10T22:30:00.012244Z\nDemo done at 2023-01-10T22:30:00.024242Z\n</code></pre>\n<p>My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC — same moment, different wall-clock time.</p>\n<p>In other words… Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in <a href=\"https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\" rel=\"nofollow noreferrer\">Reykjavík</a>. As Bob answers the call, he notices <a href=\"https://en.m.wikipedia.org/wiki/Time_in_Iceland\" rel=\"nofollow noreferrer\">his own clock on the wall</a> reads 10:30 PM (22:30). Same moment, different wall-clock time.</p>\n<hr />\n<p>By the way, be aware that lines sent to <code>System.out.println</code> across threads may <em>not</em> appear in the console in chronological order. Always include a timestamp such as <code>Instant.now()</code>. If you care about sequence, study those timestamps.</p>\n"},{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673427414,"creation_date":1673427414,"answer_id":75080463,"question_id":75068322,"body_markdown":"I modified Basil&#39;s modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I&#39;ve done something wrong.\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo {\r\n    public static void main(String[] args) {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo() {\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\r\n        ZonedDateTime then = this.gatherInput(now, zoneId);\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\r\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\r\n\r\n        this.runTask(delayUntilTaskRuns, zoneId);\r\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\r\n    }\r\n\r\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\r\n        String userInput = startOfNextMinute.format(f);\r\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\r\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\r\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\r\n\r\n        return ldt.atZone(zoneId);\r\n    }\r\n\r\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\r\n        Duration delayUntilTaskRuns = Duration.between(now, then);\r\n        if (delayUntilTaskRuns.isNegative()) {\r\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\r\n        }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask(Duration delay, ZoneId zoneId) {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\r\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\r\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try {\r\n            // Wait a while for existing tasks to terminate\r\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\r\n                }\r\n            }\r\n        } catch (InterruptedException ex) {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nDEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\r\nDEBUG userInput = 11-01-2023 10:55:00\r\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\r\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\r\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\r\n```","title":"ScheduledExecutorService schedule not triggering","body":"<p>I modified Basil's modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I've done something wrong.</p>\n<pre><code>import java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo {\n    public static void main(String[] args) {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo() {\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\n        ZonedDateTime then = this.gatherInput(now, zoneId);\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\n\n        this.runTask(delayUntilTaskRuns, zoneId);\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\n    }\n\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\n        String userInput = startOfNextMinute.format(f);\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\n\n        return ldt.atZone(zoneId);\n    }\n\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\n        Duration delayUntilTaskRuns = Duration.between(now, then);\n        if (delayUntilTaskRuns.isNegative()) {\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\n        }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask(Duration delay, ZoneId zoneId) {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try {\n            // Wait a while for existing tasks to terminate\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\n                }\n            }\n        } catch (InterruptedException ex) {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>DEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\nDEBUG userInput = 11-01-2023 10:55:00\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\n</code></pre>\n"}],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75076209,"answer_count":2,"score":2,"last_activity_date":1673428562,"creation_date":1673344993,"question_id":75068322,"body_markdown":"The following code block does not work for me (alert is not being triggered):\r\n\r\n    public static void main(String[] args) throws InterruptedException, ParseException {        \r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\r\n        Calendar calendar = Calendar.getInstance(timeZone);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;The time now is: &quot; + calendar.getTime());\r\n        System.out.println(&quot;Enter alert date time: &quot;);\r\n        String dateStr = scanner.nextLine();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\r\n        Date date = sdf.parse(dateStr);\r\n        calendar.setTime(date);\r\n        long alertTimeInMillis = calendar.getTimeInMillis();\r\n        long now = Calendar.getInstance(timeZone).getTimeInMillis();\r\n        System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\r\n\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\r\n                , alertTimeInMillis, TimeUnit.MILLISECONDS);\r\n        \r\n        while (!scheduledFuture.isDone()) {\r\n            System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\r\n            System.out.println(&quot;Expected alert time: &quot; + date);\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nWhile this code block does work:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\r\n                System.out.println(&quot;alert!&quot;),\r\n                LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\r\n\r\n        while (!scheduledFuture.isDone()) {\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nI don&#39;t understand the difference, or what exactly is wrong with the first block that I&#39;m missing.","title":"ScheduledExecutorService schedule not triggering","body":"<p>The following code block does not work for me (alert is not being triggered):</p>\n<pre><code>public static void main(String[] args) throws InterruptedException, ParseException {        \n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\n    Calendar calendar = Calendar.getInstance(timeZone);\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;The time now is: &quot; + calendar.getTime());\n    System.out.println(&quot;Enter alert date time: &quot;);\n    String dateStr = scanner.nextLine();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\n    Date date = sdf.parse(dateStr);\n    calendar.setTime(date);\n    long alertTimeInMillis = calendar.getTimeInMillis();\n    long now = Calendar.getInstance(timeZone).getTimeInMillis();\n    System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\n\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\n            , alertTimeInMillis, TimeUnit.MILLISECONDS);\n    \n    while (!scheduledFuture.isDone()) {\n        System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\n        System.out.println(&quot;Expected alert time: &quot; + date);\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>While this code block does work:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\n            System.out.println(&quot;alert!&quot;),\n            LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\n\n    while (!scheduledFuture.isDone()) {\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>I don't understand the difference, or what exactly is wrong with the first block that I'm missing.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9484,"page":739,"page_size":100}
