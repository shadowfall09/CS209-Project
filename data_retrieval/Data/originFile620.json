{"items":[{"tags":["java","android","kotlin","box2d","drawrect"],"comments":[{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1677339864,"post_id":75566125,"comment_id":133320246,"body_markdown":"It looks like the radius is scaled twice. First be `canvas.scale()`, and second by the way `bw` and `bh` are calculated. Since the rectangle has a fixed size before scaling, I would also expect that the radius has a fixed dimension. Please create a complete example so we can investigate if further.","body":"It looks like the radius is scaled twice. First be <code>canvas.scale()</code>, and second by the way <code>bw</code> and <code>bh</code> are calculated. Since the rectangle has a fixed size before scaling, I would also expect that the radius has a fixed dimension. Please create a complete example so we can investigate if further."},{"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"score":0,"creation_date":1677406078,"post_id":75566125,"comment_id":133328043,"body_markdown":"It&#39;s a scale() method problem. I thought the same value of height gave the same corner. ;-( Thanks.","body":"It&#39;s a scale() method problem. I thought the same value of height gave the same corner. ;-( Thanks."}],"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677337340,"creation_date":1677335882,"question_id":75566125,"body_markdown":"The rounded Rectangles created with the same height and corner radius, but it seems that the x radius became longer and longer as the rectangle became wider.\r\n\r\nThe orners are not curves as I expected (blue stroke one).\r\n\r\nDid I miss something on setting the canvas?\r\n\r\n        canvas.save()\r\n        canvas.translate(body.position.x * mDpm, body.position.y * mDpm)\r\n        canvas.scale(bw * mDpm, bh * mDpm)\r\n        canvas.rotate(getScreenRotate(body.angle))\r\n        mPaint.style = Paint.Style.FILL\r\n        mPaint.color = mColorFill\r\n        val rect = RectF(-1f, -1f, 1f, 1f)\r\n        canvas.drawRoundRect(rect, bh*2, bh*2, mPaint)\r\n        canvas.restore()\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uTnFX.jpg","title":"Cannot draw corners round enough","body":"<p>The rounded Rectangles created with the same height and corner radius, but it seems that the x radius became longer and longer as the rectangle became wider.</p>\n<p>The orners are not curves as I expected (blue stroke one).</p>\n<p>Did I miss something on setting the canvas?</p>\n<pre><code>    canvas.save()\n    canvas.translate(body.position.x * mDpm, body.position.y * mDpm)\n    canvas.scale(bw * mDpm, bh * mDpm)\n    canvas.rotate(getScreenRotate(body.angle))\n    mPaint.style = Paint.Style.FILL\n    mPaint.color = mColorFill\n    val rect = RectF(-1f, -1f, 1f, 1f)\n    canvas.drawRoundRect(rect, bh*2, bh*2, mPaint)\n    canvas.restore()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uTnFX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTnFX.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","lombok"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1529682945,"post_id":50991619,"comment_id":88977902,"body_markdown":"Lombok is not working. Which IDE are you using?","body":"Lombok is not working. Which IDE are you using?"},{"owner":{"account_id":7380246,"reputation":111,"user_id":5617201,"display_name":"renjeesh n"},"score":0,"creation_date":1529683106,"post_id":50991619,"comment_id":88977999,"body_markdown":"@Builder added in BuilderExample","body":"@Builder added in BuilderExample"},{"owner":{"account_id":7380246,"reputation":111,"user_id":5617201,"display_name":"renjeesh n"},"score":0,"creation_date":1529683173,"post_id":50991619,"comment_id":88978044,"body_markdown":"https://stackoverflow.com/questions/36909672/how-to-use-lombok-builder-annotation-on-methods","body":"<a href=\"https://stackoverflow.com/questions/36909672/how-to-use-lombok-builder-annotation-on-methods\" title=\"how to use lombok builder annotation on methods\">stackoverflow.com/questions/36909672/&hellip;</a>"},{"owner":{"account_id":7380246,"reputation":111,"user_id":5617201,"display_name":"renjeesh n"},"score":0,"creation_date":1529683357,"post_id":50991619,"comment_id":88978145,"body_markdown":"I&#39;m using Eclipse Java EE IDE Version: Oxygen.3a Release (4.7.3a)","body":"I&#39;m using Eclipse Java EE IDE Version: Oxygen.3a Release (4.7.3a)"}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530630780,"creation_date":1530630780,"answer_id":51157917,"question_id":50991619,"body_markdown":"If you are using Eclipse, make sure lombok is installed correctly. You can verify that in the Eclipse About dialog, as described at [the lombok website][1].\r\n\r\n\r\n  [1]: https://projectlombok.org/setup/eclipse","title":"The method builder() is undefined for the type BuilderExample","body":"<p>If you are using Eclipse, make sure lombok is installed correctly. You can verify that in the Eclipse About dialog, as described at <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">the lombok website</a>.</p>\n"},{"comments":[{"owner":{"account_id":3898304,"reputation":69,"user_id":3226726,"display_name":"Sachin"},"score":0,"creation_date":1624005701,"post_id":57293017,"comment_id":120244308,"body_markdown":"It works for me, just added STS path to Lombok jar, thank you","body":"It works for me, just added STS path to Lombok jar, thank you"}],"tags":[],"owner":{"account_id":3209918,"reputation":1203,"user_id":2710112,"accept_rate":92,"display_name":"Tamil"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1564582870,"creation_date":1564582870,"answer_id":57293017,"question_id":50991619,"body_markdown":"Follow the below steps for eclipse/STS \r\n\r\n1. Close your IDE \r\n2. Download the Lombok jar from the https://projectlombok.org/download \r\n3. Double click the jar \r\n4. Follow the steps mentioned in the https://projectlombok.org/setup/eclipse \r\n5. Open your IDE\r\n\r\nIf it is still not resolved then close your project and open again. \r\n\r\nHope it works.","title":"The method builder() is undefined for the type BuilderExample","body":"<p>Follow the below steps for eclipse/STS </p>\n\n<ol>\n<li>Close your IDE </li>\n<li>Download the Lombok jar from the <a href=\"https://projectlombok.org/download\" rel=\"noreferrer\">https://projectlombok.org/download</a> </li>\n<li>Double click the jar </li>\n<li>Follow the steps mentioned in the <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"noreferrer\">https://projectlombok.org/setup/eclipse</a> </li>\n<li>Open your IDE</li>\n</ol>\n\n<p>If it is still not resolved then close your project and open again. </p>\n\n<p>Hope it works.</p>\n"},{"tags":[],"owner":{"account_id":8809108,"reputation":1004,"user_id":6582677,"display_name":"Srikanth Avadhanula"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595849550,"creation_date":1595849550,"answer_id":63114416,"question_id":50991619,"body_markdown":"I faced the issue in both Intellij and eclipse \r\nJust by installing the lombok, we can simply erradicate the issue \r\n\r\nInfact I have followed the answers in this question to solve the issue, but making it even more clear and understandable for layman also \r\n\r\n**Step 1:** \r\n\r\nClose your IDE.\r\n\r\n**Step 2:** \r\n\r\nDownload lombox jar =&gt; https://projectlombok.org/download\r\n\r\n**Step 3:** \r\n\r\nRun the jar. To run the jar, Open command prompt in the jar location and enter below command\r\n\r\n    java -jar lombok.jar\r\n\r\nAfter giving this command It will prompt you something like this \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**If your IDE is not there is in default locations, you will encounter such issues\r\nClick OK and specify the path of your IDE ex: Eclipse** \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**After Specifying the path, the plugin will the installed**\r\n\r\n[![enter code here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bVFZY.png\r\n  [2]: https://i.stack.imgur.com/hW8Z0.png\r\n  [3]: https://i.stack.imgur.com/K5IjO.png\r\n\r\n**Step 4 :** \r\n\r\nOpen your IDE and ReBuild your project \r\n\r\nNow you won&#39;t face any issue.","title":"The method builder() is undefined for the type BuilderExample","body":"<p>I faced the issue in both Intellij and eclipse\nJust by installing the lombok, we can simply erradicate the issue</p>\n<p>Infact I have followed the answers in this question to solve the issue, but making it even more clear and understandable for layman also</p>\n<p><strong>Step 1:</strong></p>\n<p>Close your IDE.</p>\n<p><strong>Step 2:</strong></p>\n<p>Download lombox jar =&gt; <a href=\"https://projectlombok.org/download\" rel=\"noreferrer\">https://projectlombok.org/download</a></p>\n<p><strong>Step 3:</strong></p>\n<p>Run the jar. To run the jar, Open command prompt in the jar location and enter below command</p>\n<pre><code>java -jar lombok.jar\n</code></pre>\n<p>After giving this command It will prompt you something like this</p>\n<p><a href=\"https://i.stack.imgur.com/bVFZY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bVFZY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>If your IDE is not there is in default locations, you will encounter such issues\nClick OK and specify the path of your IDE ex: Eclipse</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hW8Z0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hW8Z0.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After Specifying the path, the plugin will the installed</strong></p>\n<p><a href=\"https://i.stack.imgur.com/K5IjO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/K5IjO.png\" alt=\"enter code here\" /></a></p>\n<p><strong>Step 4 :</strong></p>\n<p>Open your IDE and ReBuild your project</p>\n<p>Now you won't face any issue.</p>\n"},{"tags":[],"owner":{"account_id":10520312,"reputation":1097,"user_id":7753089,"accept_rate":67,"display_name":"ARNON"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633552713,"creation_date":1633552713,"answer_id":69472402,"question_id":50991619,"body_markdown":"For Visual Studio Code users, the solution is add the following dependency to `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;version&gt;1.18.20&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\nSources:\r\n- https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok\r\n- https://projectlombok.org/setup/maven\r\n- https://projectlombok.org/setup/gradle","title":"The method builder() is undefined for the type BuilderExample","body":"<p>For Visual Studio Code users, the solution is add the following dependency to <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n    &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok</a></li>\n<li><a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></li>\n<li><a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15076433,"reputation":129,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636268093,"creation_date":1636268093,"answer_id":69870367,"question_id":50991619,"body_markdown":"Error: The method builder() is undefined for the type BuilderExample in vs code.\r\n\r\nMy Soln: For VS Code and press Ctrl + Shift + X to open extension manager. Type lombok and click install. Reload VS Code when asked.\r\n\r\nThen add the following dependency to pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**Sources:**\r\n\r\nhttps://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok","title":"The method builder() is undefined for the type BuilderExample","body":"<p>Error: The method builder() is undefined for the type BuilderExample in vs code.</p>\n<p>My Soln: For VS Code and press Ctrl + Shift + X to open extension manager. Type lombok and click install. Reload VS Code when asked.</p>\n<p>Then add the following dependency to pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n    &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Sources:</strong></p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok</a></p>\n"},{"tags":[],"owner":{"account_id":24367878,"reputation":31,"user_id":18301333,"display_name":"Prateek Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654020086,"creation_date":1654020086,"answer_id":72452285,"question_id":50991619,"body_markdown":"For Spring Boot starters, using VS Code, just install Lombok extension. The dependencies are already added in pom.xml file [Thanks Siddharth.][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69870367/18301333","title":"The method builder() is undefined for the type BuilderExample","body":"<p>For Spring Boot starters, using VS Code, just install Lombok extension. The dependencies are already added in pom.xml file <a href=\"https://stackoverflow.com/a/69870367/18301333\">Thanks Siddharth.</a>.</p>\n"},{"tags":[],"owner":{"account_id":14635181,"reputation":469,"user_id":10569588,"display_name":"Faseela Thayattuchira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661324415,"creation_date":1661324415,"answer_id":73468725,"question_id":50991619,"body_markdown":"Install lombok in your eclipse.\r\nDo the following steps\r\n\r\n 1. Help-&gt;install new software\r\n 2. Type https://projectlombok.org/p2\r\n 3. Add and finish.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FxUq5.png","title":"The method builder() is undefined for the type BuilderExample","body":"<p>Install lombok in your eclipse.\nDo the following steps</p>\n<ol>\n<li>Help-&gt;install new software</li>\n<li>Type <a href=\"https://projectlombok.org/p2\" rel=\"nofollow noreferrer\">https://projectlombok.org/p2</a></li>\n<li>Add and finish.\n<a href=\"https://i.stack.imgur.com/FxUq5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FxUq5.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27543573,"reputation":21,"user_id":21019926,"display_name":"Noe Viveros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677337201,"creation_date":1677337201,"answer_id":75566267,"question_id":50991619,"body_markdown":"What worked for me was to import all of lombok.\r\n\r\n    import lombok.*;\r\n","title":"The method builder() is undefined for the type BuilderExample","body":"<p>What worked for me was to import all of lombok.</p>\n<pre><code>import lombok.*;\n</code></pre>\n"}],"owner":{"account_id":7380246,"reputation":111,"user_id":5617201,"display_name":"renjeesh n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38093,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":8,"score":10,"last_activity_date":1677337201,"creation_date":1529682836,"question_id":50991619,"body_markdown":"    package ee;\r\n    import lombok.Builder;\r\n    @Builder\r\n    public class BuilderExample {\r\n            public String foo;\r\n            public String ha;\r\n    }\r\n    \r\n    package ee;\r\n    import ee.BuilderExample ;\r\n    public class Main{\r\n    public static void main(String a[]){\r\n    BuilderExample b=BuilderExample.builder().foo(&quot;hi&quot;).ha(&quot;anything&quot;).build();\r\n    }}\r\nIn this code it shows an error The method builder() is undefined for the type BuilderExample\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe method builder() is undefined for the type BuilderExample\r\nshowing an error like this why?  \r\n \r\n\r\n\r\n\r\n","title":"The method builder() is undefined for the type BuilderExample","body":"<pre><code>package ee;\nimport lombok.Builder;\n@Builder\npublic class BuilderExample {\n        public String foo;\n        public String ha;\n}\n\npackage ee;\nimport ee.BuilderExample ;\npublic class Main{\npublic static void main(String a[]){\nBuilderExample b=BuilderExample.builder().foo(\"hi\").ha(\"anything\").build();\n}}\n</code></pre>\n\n<p>In this code it shows an error The method builder() is undefined for the type BuilderExample\nException in thread \"main\" java.lang.Error: Unresolved compilation problem: \n    The method builder() is undefined for the type BuilderExample\nshowing an error like this why?  </p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":9038969,"reputation":513,"user_id":6733836,"display_name":"Vyshak Puthusseri"},"score":1,"creation_date":1677336614,"post_id":75566177,"comment_id":133319715,"body_markdown":"It works. \nHave a questions. Does this affect the performance of matcher.?","body":"It works.  Have a questions. Does this affect the performance of matcher.?"},{"owner":{"account_id":10753943,"reputation":90,"user_id":7912422,"display_name":"Sreeragh M"},"score":1,"creation_date":1677337148,"post_id":75566177,"comment_id":133319808,"body_markdown":"Regarding the performance of the regex, \nthe more steps a regex needs to find a match, the slower the performance is. \nSo it depends on your input string. And I does not mean this will cause a catastrophic backtracking","body":"Regarding the performance of the regex,  the more steps a regex needs to find a match, the slower the performance is.  So it depends on your input string. And I does not mean this will cause a catastrophic backtracking"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":2,"creation_date":1677337149,"post_id":75566177,"comment_id":133319809,"body_markdown":"@VyshakPuthusseri Looking at the amount of steps on regex101 selecting pcre (note that this is a different flavor) this pattern with the capture group `ticket=(?&lt;!\\bmyticket=)([0-9]+)\\b` seems to take the least amount of steps. But if you are looking for the fastest pattern, you can benchmark it to get a realistic estimate for different texts (like longer texts or different number occurrences of the word ticket in it)","body":"@VyshakPuthusseri Looking at the amount of steps on regex101 selecting pcre (note that this is a different flavor) this pattern with the capture group <code>ticket=(?&lt;!\\bmyticket=)([0-9]+)\\b</code> seems to take the least amount of steps. But if you are looking for the fastest pattern, you can benchmark it to get a realistic estimate for different texts (like longer texts or different number occurrences of the word ticket in it)"},{"owner":{"account_id":9038969,"reputation":513,"user_id":6733836,"display_name":"Vyshak Puthusseri"},"score":0,"creation_date":1677337483,"post_id":75566177,"comment_id":133319883,"body_markdown":"My input data will be large and the regex I am using will be a combination of many lookbehinds and the regex given in the question is one among them. \nRight now, the regex engine was able to complete the matching in approximately 700ms.","body":"My input data will be large and the regex I am using will be a combination of many lookbehinds and the regex given in the question is one among them.  Right now, the regex engine was able to complete the matching in approximately 700ms."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1677337780,"post_id":75566177,"comment_id":133319926,"body_markdown":"@VyshakPuthusseri What does the full regex look like? Can you use capture groups to after process it, or do you only want to get the direct matches?","body":"@VyshakPuthusseri What does the full regex look like? Can you use capture groups to after process it, or do you only want to get the direct matches?"},{"owner":{"account_id":9038969,"reputation":513,"user_id":6733836,"display_name":"Vyshak Puthusseri"},"score":0,"creation_date":1677338353,"post_id":75566177,"comment_id":133320040,"body_markdown":"Full regex will be multiple positive lookbehings\nFor eg: just adding one more part\n(?&lt;=nginxid)|(?&lt;=ticket)=[0-9]+\nAnd more expressions will be used.","body":"Full regex will be multiple positive lookbehings For eg: just adding one more part (?&lt;=nginxid)|(?&lt;=ticket)=[0-9]+ And more expressions will be used."},{"owner":{"account_id":9038969,"reputation":513,"user_id":6733836,"display_name":"Vyshak Puthusseri"},"score":0,"creation_date":1677338798,"post_id":75566177,"comment_id":133320106,"body_markdown":"I was using this regex to replace the matched content,\nWhich means, I will use this matched content and will use the java.util.regex.Pattern.replaceAll() method to mask those ids.\nDoes this approach is wrong.\nOr is there any better way to do.","body":"I was using this regex to replace the matched content, Which means, I will use this matched content and will use the java.util.regex.Pattern.replaceAll() method to mask those ids. Does this approach is wrong. Or is there any better way to do."}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677336978,"creation_date":1677336388,"answer_id":75566177,"question_id":75566133,"body_markdown":"You can add a nested negative lookbehind asserting not `my` before `ticket`\r\n\r\n    (?&lt;=(?&lt;!\\bmy)ticket=)[0-9]+\r\n\r\n[Regex demo](https://regex101.com/r/EZkzz8/1)\r\n\r\nAnother option using a capture group:\r\n\r\n    ticket=(?&lt;!\\bmyticket=)([0-9]+)\\b\r\n\r\n[Regex demo](https://regex101.com/r/9CjAWF/1)\r\n\r\nOr with and a negative lookahead:\r\n\r\n    \\b(?!my)\\w*ticket=([0-9]+)\r\n\r\n[Regex demo](https://regex101.com/r/ltlWU3/1)\r\n\r\n","title":"Match only the value of ticket and not the value of myticket","body":"<p>You can add a nested negative lookbehind asserting not <code>my</code> before <code>ticket</code></p>\n<pre><code>(?&lt;=(?&lt;!\\bmy)ticket=)[0-9]+\n</code></pre>\n<p><a href=\"https://regex101.com/r/EZkzz8/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Another option using a capture group:</p>\n<pre><code>ticket=(?&lt;!\\bmyticket=)([0-9]+)\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/9CjAWF/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Or with and a negative lookahead:</p>\n<pre><code>\\b(?!my)\\w*ticket=([0-9]+)\n</code></pre>\n<p><a href=\"https://regex101.com/r/ltlWU3/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1677336659,"post_id":75566189,"comment_id":133319724,"body_markdown":"But that would also not match `thatismyticket=10000000`","body":"But that would also not match <code>thatismyticket=10000000</code>"}],"tags":[],"owner":{"account_id":5381866,"reputation":12874,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677336490,"creation_date":1677336490,"answer_id":75566189,"question_id":75566133,"body_markdown":"You can do it as follows :\r\n\r\n    (?&lt;=[^my]ticket=)[0-9]+","title":"Match only the value of ticket and not the value of myticket","body":"<p>You can do it as follows :</p>\n<pre><code>(?&lt;=[^my]ticket=)[0-9]+\n</code></pre>\n"}],"owner":{"account_id":9038969,"reputation":513,"user_id":6733836,"display_name":"Vyshak Puthusseri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75566177,"answer_count":2,"score":0,"last_activity_date":1677336978,"creation_date":1677335966,"question_id":75566133,"body_markdown":"I have a regex which match the value just after the string &quot;ticket=&quot;\r\nThe current regex used for that is \r\n\r\n    (?&lt;=ticket=)[0-9]+\r\n\r\nWe had used positive lookbehind for this usecase.\r\nHow can we exclude a particular pre string before the current expression.\r\nFor eg:\r\nIf my string is\r\n\r\n    number of ticket=00000000001 \r\n    but number of myticket=10000000\r\n    I also have the number of my sistersticket=9999\r\nThis regex will have 3 matches as follows\r\n[![Regex matched response][1]][1]\r\n\r\nBut how can I exclude the value of &quot;myticket=&quot;?\r\nWhich means I only need 2 matches \r\n\r\n    00000000001\r\n    9999\r\n\r\nOr in other words, I don&#39;t want to match if my string starts with &quot;myticket=&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AGbTO.png\r\n\r\n","title":"Match only the value of ticket and not the value of myticket","body":"<p>I have a regex which match the value just after the string &quot;ticket=&quot;\nThe current regex used for that is</p>\n<pre><code>(?&lt;=ticket=)[0-9]+\n</code></pre>\n<p>We had used positive lookbehind for this usecase.\nHow can we exclude a particular pre string before the current expression.\nFor eg:\nIf my string is</p>\n<pre><code>number of ticket=00000000001 \nbut number of myticket=10000000\nI also have the number of my sistersticket=9999\n</code></pre>\n<p>This regex will have 3 matches as follows\n<a href=\"https://i.stack.imgur.com/AGbTO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AGbTO.png\" alt=\"Regex matched response\" /></a></p>\n<p>But how can I exclude the value of &quot;myticket=&quot;?\nWhich means I only need 2 matches</p>\n<pre><code>00000000001\n9999\n</code></pre>\n<p>Or in other words, I don't want to match if my string starts with &quot;myticket=&quot;</p>\n"},{"tags":["java","spring-boot","api","rest","tomcat"],"comments":[{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1598847544,"post_id":63664671,"comment_id":112579518,"body_markdown":"Can you post your **pom.xml** ?","body":"Can you post your <b>pom.xml</b> ?"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1598847557,"post_id":63664671,"comment_id":112579520,"body_markdown":"did you set any context path for your application?\nAdd: if your program runs successfully, check your log, you may see the whole base link for your app excluding your controller&#39;s path","body":"did you set any context path for your application? Add: if your program runs successfully, check your log, you may see the whole base link for your app excluding your controller&#39;s path"},{"owner":{"account_id":14064601,"reputation":470,"user_id":10159806,"display_name":"Sahit"},"score":0,"creation_date":1598858810,"post_id":63664671,"comment_id":112582747,"body_markdown":"@Brain Bytes Can you add the logs. It would be easy to identify the problem with logs","body":"@Brain Bytes Can you add the logs. It would be easy to identify the problem with logs"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1598879864,"post_id":63664671,"comment_id":112592250,"body_markdown":"@AvijitBarua I posted it sorry","body":"@AvijitBarua I posted it sorry"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1598880205,"post_id":63664671,"comment_id":112592419,"body_markdown":"@Sahit I posted them all I have","body":"@Sahit I posted them all I have"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1598880257,"post_id":63664671,"comment_id":112592449,"body_markdown":"@user404 I cannot see it, I can only see that it has been hit and it&#39;s returning a not found error\n\nThis is what happen when I send the request 2020-08-31 08:20:21.905  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms","body":"@user404 I cannot see it, I can only see that it has been hit and it&#39;s returning a not found error  This is what happen when I send the request 2020-08-31 08:20:21.905  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598880813,"post_id":63664671,"comment_id":112592702,"body_markdown":"Let me guess the controller you added is in a package not covered by the `@SpringBootApplication` annotated class.","body":"Let me guess the controller you added is in a package not covered by the <code>@SpringBootApplication</code> annotated class."},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1598880984,"post_id":63664671,"comment_id":112592796,"body_markdown":"@BrainBytes, seems ok. don&#39;t know other config though. Can you please provide link of your actual project you are trying to run in your ide if not yet resolved?","body":"@BrainBytes, seems ok. don&#39;t know other config though. Can you please provide link of your actual project you are trying to run in your ide if not yet resolved?"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1598883068,"post_id":63664671,"comment_id":112593852,"body_markdown":"@BrainBytes can you please give a screenshot of your project structure ?","body":"@BrainBytes can you please give a screenshot of your project structure ?"},{"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"score":0,"creation_date":1598885447,"post_id":63664671,"comment_id":112594997,"body_markdown":"Notice this on MainController &quot;@RequestMapping(path=&quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path)&quot;","body":"Notice this on MainController &quot;@RequestMapping(path=&quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path)&quot;"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1598894085,"post_id":63664671,"comment_id":112598839,"body_markdown":"@javaguy so http://localhost:8080/demo/greeting","body":"@javaguy so <a href=\"http://localhost:8080/demo/greeting\" rel=\"nofollow noreferrer\">localhost:8080/demo/greeting</a>"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1598894106,"post_id":63664671,"comment_id":112598844,"body_markdown":"@javaguy I tried all of them nothing same thing","body":"@javaguy I tried all of them nothing same thing"},{"owner":{"account_id":14064601,"reputation":470,"user_id":10159806,"display_name":"Sahit"},"score":0,"creation_date":1598956855,"post_id":63664671,"comment_id":112618045,"body_markdown":"@BrainBytes Since this is a sample project, push it to a github repo and share the link. Then people might understand what is going wrong.","body":"@BrainBytes Since this is a sample project, push it to a github repo and share the link. Then people might understand what is going wrong."},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599025178,"post_id":63664671,"comment_id":112641338,"body_markdown":"@Sahit This is a modified project, it reflects the same as the example above, I am not putting it on github","body":"@Sahit This is a modified project, it reflects the same as the example above, I am not putting it on github"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599025197,"post_id":63664671,"comment_id":112641347,"body_markdown":"@javaguy that does not work","body":"@javaguy that does not work"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599311144,"post_id":63664671,"comment_id":112738978,"body_markdown":"@M.Deinum how do I know that?","body":"@M.Deinum how do I know that?"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599312581,"post_id":63664671,"comment_id":112739368,"body_markdown":"@javaguy this works if I do this https://github.com/BraintoByte/Test_App_Stack/tree/master/demo","body":"@javaguy this works if I do this <a href=\"https://github.com/BraintoByte/Test_App_Stack/tree/master/demo\" rel=\"nofollow noreferrer\">github.com/BraintoByte/Test_App_Stack/tree/master/demo</a>"},{"owner":{"account_id":16577739,"reputation":140,"user_id":11979120,"display_name":"Yevhen Kalashnykov"},"score":0,"creation_date":1599467649,"post_id":63664671,"comment_id":112773511,"body_markdown":"show please your project structure","body":"show please your project structure"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599579415,"post_id":63664671,"comment_id":112814023,"body_markdown":"@EvgeniyKalashnikov I posted the structure","body":"@EvgeniyKalashnikov I posted the structure"},{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599579431,"post_id":63664671,"comment_id":112814034,"body_markdown":"@javaguy I posted the project structure","body":"@javaguy I posted the project structure"}],"answers":[{"comments":[{"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"score":0,"creation_date":1599578844,"post_id":63755911,"comment_id":112813762,"body_markdown":"I did, package com.braintobytes.finance;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class FinanceMicroserviceApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(FinanceMicroserviceApplication.class, args);\n\t}\n}","body":"I did, package com.braintobytes.finance;  import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication&zwnj;&#8203;;  @SpringBootApplication public class FinanceMicroserviceApplication {  \tpublic static void main(String[] args) { \t\tSpringApplication.run(FinanceMicroserviceApplication.class&zwnj;&#8203;, args); \t} }"},{"owner":{"account_id":8985073,"reputation":391,"user_id":6698873,"display_name":"Deepak Muthekar"},"score":0,"creation_date":1599583443,"post_id":63755911,"comment_id":112815693,"body_markdown":"@BrainBytes replace &quot;package com.braintobytes.finance; &quot; with &quot;package com.example;&quot;  then com.example package will become your root package in hierarchy and component scan will work out of box.","body":"@BrainBytes replace &quot;package com.braintobytes.finance; &quot; with &quot;package com.example;&quot;  then com.example package will become your root package in hierarchy and component scan will work out of box."}],"tags":[],"owner":{"account_id":8985073,"reputation":391,"user_id":6698873,"display_name":"Deepak Muthekar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599331283,"creation_date":1599321784,"answer_id":63755911,"question_id":63664671,"body_markdown":"Your controller is in package - com.example.accessingdatamysql\r\n\r\nSpring boot startup log shows your main application class c.b.f.FinanceMicroserviceApplication is in another non related package hierarchy.\r\n\r\nSpring boot recommends to locate main application class in a root package above other classes so that the component scan works out of box.\r\n\r\nIf you keep package com.example as root package and move your main application class FinanceMicroserviceApplication to it then everything should work as expected.\r\n\r\nIf you don&#39;t follow Spring boot recommendation for package hierarchy then you need to explicitly specify packages to scan with @SpringBootApplication annotation.\r\n\r\n","title":"Java controller always return a 404 no matter what I do","body":"<p>Your controller is in package - com.example.accessingdatamysql</p>\n<p>Spring boot startup log shows your main application class c.b.f.FinanceMicroserviceApplication is in another non related package hierarchy.</p>\n<p>Spring boot recommends to locate main application class in a root package above other classes so that the component scan works out of box.</p>\n<p>If you keep package com.example as root package and move your main application class FinanceMicroserviceApplication to it then everything should work as expected.</p>\n<p>If you don't follow Spring boot recommendation for package hierarchy then you need to explicitly specify packages to scan with @SpringBootApplication annotation.</p>\n"},{"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1599584392,"post_id":63798343,"comment_id":112816075,"body_markdown":"I am happy to hear that at least the answers help you to find the solution.","body":"I am happy to hear that at least the answers help you to find the solution."}],"tags":[],"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1599583917,"creation_date":1599583917,"answer_id":63798343,"question_id":63664671,"body_markdown":"Alright so none of the suggestions above worked, we were on the right path though.\r\n\r\nChanging the structure as so worked:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dt9Ol.png\r\n\r\nThere was also a pathing problem in the application.properties and thus I changed as so:\r\n\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}\r\n\r\nTo:\r\n\r\njdbc:mysql://localhost\r\n\r\nAnd finally:\r\n\r\n    package com.braintobytes.finance.data.repository;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import com.braintobytes.finance.data.Currency;\r\n    \r\n    public interface CurrencyRepository extends CrudRepository&lt;Currency, Integer&gt; {\r\n    \r\n    }\r\n\r\nWoah!","title":"Java controller always return a 404 no matter what I do","body":"<p>Alright so none of the suggestions above worked, we were on the right path though.</p>\n<p>Changing the structure as so worked:</p>\n<p><a href=\"https://i.stack.imgur.com/dt9Ol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dt9Ol.png\" alt=\"enter image description here\" /></a></p>\n<p>There was also a pathing problem in the application.properties and thus I changed as so:</p>\n<p>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}</p>\n<p>To:</p>\n<p>jdbc:mysql://localhost</p>\n<p>And finally:</p>\n<pre><code>package com.braintobytes.finance.data.repository;\n\nimport org.springframework.data.repository.CrudRepository;\n\nimport com.braintobytes.finance.data.Currency;\n\npublic interface CurrencyRepository extends CrudRepository&lt;Currency, Integer&gt; {\n\n}\n</code></pre>\n<p>Woah!</p>\n"},{"tags":[],"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677336801,"creation_date":1677336801,"answer_id":75566224,"question_id":63664671,"body_markdown":"For anyone whom facing this wired issue, just move the main class of spring boot to become in the main package of the application, something like that, my main class named, Demo2Application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5j9KJ.png","title":"Java controller always return a 404 no matter what I do","body":"<p>For anyone whom facing this wired issue, just move the main class of spring boot to become in the main package of the application, something like that, my main class named, Demo2Application</p>\n<p><a href=\"https://i.stack.imgur.com/5j9KJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5j9KJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10843070,"reputation":121,"user_id":7973641,"display_name":"Brain Bytes"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63798343,"answer_count":3,"score":1,"last_activity_date":1677336801,"creation_date":1598846917,"question_id":63664671,"body_markdown":"I was following an example from the spring boot documentation and the java controller always returns a 404 for some reason\r\n\r\nThis is what I tried\r\n\r\n    package com.example.accessingdatamysql;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller // This means that this class is a Controller\r\n    @RequestMapping(path=&quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path)\r\n    public class MainController {\r\n      @Autowired // This means to get the bean called userRepository\r\n             // Which is auto-generated by Spring, we will use it to handle the data\r\n      private UserRepository userRepository;\r\n    \r\n      @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\r\n      public @ResponseBody String addNewUser (@RequestParam String name\r\n          , @RequestParam String email) {\r\n        // @ResponseBody means the returned String is the response, not a view name\r\n        // @RequestParam means it is a parameter from the GET or POST request\r\n    \r\n        User n = new User();\r\n        n.setName(name);\r\n        n.setEmail(email);\r\n        userRepository.save(n);\r\n        return &quot;Saved&quot;;\r\n      }\r\n    \r\n      @GetMapping(path=&quot;/all&quot;)\r\n      public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\r\n        // This returns a JSON or XML with the users\r\n        return userRepository.findAll();\r\n      }\r\n    }\r\n\r\nwhich is the example given by spring boot here https://spring.io/guides/gs/accessing-data-mysql/\r\n\r\nThen I also tried\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/demo&quot;)\r\n    public class GreetingClass {\r\n\r\n    \t@GetMapping(&quot;/greeting&quot;)\r\n    \tpublic String getGreeting() {\r\n    \t\treturn &quot;hello&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\n.pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.braintobytes&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Finance_microservice&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Finance_microservice&lt;/name&gt;\r\n    \t&lt;description&gt;Finance service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI know this is weird, I set up everything as instructed on the page but apparently nothing works, and I also checked other questions similar to this none of them answer my question.\r\n\r\n\r\nIt does seem that the tomcat server is hit, because it says when I make a call\r\n\r\n    o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms\r\n\r\nbut then I get with this call curl &#39;http://localhost:8080/demo/greeting&#39; and with &#39;http://localhost:8080/demo/all&#39;\r\n\r\ncurl : The remote server returned an error: (404) Not Found.\r\n\r\n\r\nLogs (the file path is removed on the first line):\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.3.2.RELEASE)\r\n    \r\n    2020-08-31 08:19:16.508  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : Starting FinanceMicroserviceApplication on DESKTOP-A65224I with PID 20708 ()\r\n    2020-08-31 08:19:16.510  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : No active profile set, falling back to default profiles: default\r\n    2020-08-31 08:19:17.096  INFO 20708 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-08-31 08:19:17.101  INFO 20708 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-08-31 08:19:17.101  INFO 20708 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\r\n    2020-08-31 08:19:17.150  INFO 20708 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-08-31 08:19:17.150  INFO 20708 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 618 ms\r\n    2020-08-31 08:19:17.465  INFO 20708 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-08-31 08:19:17.675  INFO 20708 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2020-08-31 08:19:17.681  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : Started FinanceMicroserviceApplication in 1.328 seconds (JVM running for 1.835)\r\n    2020-08-31 08:20:21.893  INFO 20708 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2020-08-31 08:20:21.893  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2020-08-31 08:20:21.905  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms\r\n\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2020-08-31T13:20:21.930+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/demo/greeting&quot;\r\n    }\r\n\r\n\r\nThis works if I do this:\r\n\r\nhttps://github.com/BraintoByte/Test_App_Stack/tree/master/demo\r\n\r\n\r\n\r\n**Different example:**\r\n\r\nI have attached a different example with hirarchy exactly the same but business logic omitted:\r\n\r\nCode in controller:\r\n\r\n    package com.braintobytes.controllers;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.braintobytes.data.Currency;\r\n    import com.braintobytes.data.repository.CurrencyRepository;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/demo&quot;)\r\n    public class CurrencyController {\r\n    \t@Autowired\r\n    \tprivate CurrencyRepository currencyRepository;\r\n    \t\r\n    \t@GetMapping(&quot;/currency&quot;)\r\n    \tpublic String getCurrency() {\r\n    \t\treturn &quot;currency&quot;;\r\n    \t}\r\n    }\r\n\r\nProject hierarchy:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDtLh.png\r\n\r\n\r\nSame exact pom and in application.properties:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mydatabase\r\n    spring.datasource.username=myusername\r\n    spring.datasource.password=mypassword\r\n\r\n","title":"Java controller always return a 404 no matter what I do","body":"<p>I was following an example from the spring boot documentation and the java controller always returns a 404 for some reason</p>\n<p>This is what I tried</p>\n<pre><code>package com.example.accessingdatamysql;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller // This means that this class is a Controller\n@RequestMapping(path=&quot;/demo&quot;) // This means URL's start with /demo (after Application path)\npublic class MainController {\n  @Autowired // This means to get the bean called userRepository\n         // Which is auto-generated by Spring, we will use it to handle the data\n  private UserRepository userRepository;\n\n  @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\n  public @ResponseBody String addNewUser (@RequestParam String name\n      , @RequestParam String email) {\n    // @ResponseBody means the returned String is the response, not a view name\n    // @RequestParam means it is a parameter from the GET or POST request\n\n    User n = new User();\n    n.setName(name);\n    n.setEmail(email);\n    userRepository.save(n);\n    return &quot;Saved&quot;;\n  }\n\n  @GetMapping(path=&quot;/all&quot;)\n  public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\n    // This returns a JSON or XML with the users\n    return userRepository.findAll();\n  }\n}\n</code></pre>\n<p>which is the example given by spring boot here <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mysql/</a></p>\n<p>Then I also tried</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/demo&quot;)\npublic class GreetingClass {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String getGreeting() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>.pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.braintobytes&lt;/groupId&gt;\n    &lt;artifactId&gt;Finance_microservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Finance_microservice&lt;/name&gt;\n    &lt;description&gt;Finance service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I know this is weird, I set up everything as instructed on the page but apparently nothing works, and I also checked other questions similar to this none of them answer my question.</p>\n<p>It does seem that the tomcat server is hit, because it says when I make a call</p>\n<pre><code>o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms\n</code></pre>\n<p>but then I get with this call curl 'http://localhost:8080/demo/greeting' and with 'http://localhost:8080/demo/all'</p>\n<p>curl : The remote server returned an error: (404) Not Found.</p>\n<p>Logs (the file path is removed on the first line):</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.2.RELEASE)\n\n2020-08-31 08:19:16.508  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : Starting FinanceMicroserviceApplication on DESKTOP-A65224I with PID 20708 ()\n2020-08-31 08:19:16.510  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : No active profile set, falling back to default profiles: default\n2020-08-31 08:19:17.096  INFO 20708 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-08-31 08:19:17.101  INFO 20708 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-08-31 08:19:17.101  INFO 20708 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\n2020-08-31 08:19:17.150  INFO 20708 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-08-31 08:19:17.150  INFO 20708 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 618 ms\n2020-08-31 08:19:17.465  INFO 20708 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-08-31 08:19:17.675  INFO 20708 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2020-08-31 08:19:17.681  INFO 20708 --- [           main] c.b.f.FinanceMicroserviceApplication     : Started FinanceMicroserviceApplication in 1.328 seconds (JVM running for 1.835)\n2020-08-31 08:20:21.893  INFO 20708 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2020-08-31 08:20:21.893  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2020-08-31 08:20:21.905  INFO 20708 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2020-08-31T13:20:21.930+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/demo/greeting&quot;\n}\n</code></pre>\n<p>This works if I do this:</p>\n<p><a href=\"https://github.com/BraintoByte/Test_App_Stack/tree/master/demo\" rel=\"nofollow noreferrer\">https://github.com/BraintoByte/Test_App_Stack/tree/master/demo</a></p>\n<p><strong>Different example:</strong></p>\n<p>I have attached a different example with hirarchy exactly the same but business logic omitted:</p>\n<p>Code in controller:</p>\n<pre><code>package com.braintobytes.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.braintobytes.data.Currency;\nimport com.braintobytes.data.repository.CurrencyRepository;\n\n@RestController\n@RequestMapping(&quot;/demo&quot;)\npublic class CurrencyController {\n    @Autowired\n    private CurrencyRepository currencyRepository;\n    \n    @GetMapping(&quot;/currency&quot;)\n    public String getCurrency() {\n        return &quot;currency&quot;;\n    }\n}\n</code></pre>\n<p>Project hierarchy:</p>\n<p><a href=\"https://i.stack.imgur.com/gDtLh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDtLh.png\" alt=\"enter image description here\" /></a></p>\n<p>Same exact pom and in application.properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mydatabase\nspring.datasource.username=myusername\nspring.datasource.password=mypassword\n</code></pre>\n"},{"tags":["java","android","android-studio","call-recording"],"owner":{"account_id":14054840,"reputation":25,"user_id":10152518,"display_name":"Abdul Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677334451,"creation_date":1677334451,"question_id":75565982,"body_markdown":"Basically I&#39;m trying to make a call recorder for Android that record every single incoming or outgoing call but my code isn&#39;t working.\r\nEveytime I make a call, it doesn&#39;t show anything or not even record the call.\r\n\r\nHere&#39;s my code:\r\n\r\nMainActivity.java:\r\n\r\n    public class MainActivity extends Activity {\r\n    private static final String[] PERMISSIONS = {Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.MANAGE_EXTERNAL_STORAGE};\r\n    private static final int REQUEST_CODE = 0;\r\n    private DevicePolicyManager mDPM;\r\n    private ComponentName mAdminName;\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions();\r\n        }\r\n\r\n        try {\r\n            // Initiate DevicePolicyManager.\r\n            mDPM = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n            mAdminName = new ComponentName(this, DeviceAdminDemo.class);\r\n\r\n            if (!mDPM.isAdminActive(mAdminName)) {\r\n                Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\r\n                intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, mAdminName);\r\n                intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Click on Activate button to secure your application.&quot;);\r\n                startActivityForResult(intent, REQUEST_CODE);\r\n            } else {\r\n                // mDPM.lockNow();\r\n                // Intent intent = new Intent(MainActivity.this,\r\n                // TrackDeviceService.class);\r\n                // startService(intent);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    private void requestPermissions() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                || ActivityCompat.checkSelfPermission(this, Manifest.permission.MANAGE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, 1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                File myAppDir = new File(getExternalFilesDir(&quot;com.hof.callrecorder&quot;), &quot;MyAppData&quot;);\r\n            //  File sampleDir = new File(Environment.getExternalStorageDirectory(), &quot;/CallRecording&quot;);\r\n                if (!myAppDir.exists()) {\r\n                    myAppDir.mkdirs();\r\n                    Toast.makeText(MainActivity.this, Environment.getExternalStorageDirectory().toString(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (REQUEST_CODE == requestCode) {\r\n            Intent intent = new Intent(MainActivity.this, TService.class);\r\n            startService(intent);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nDeviceAdminDemo.java:\r\n\r\n    public class DeviceAdminDemo extends DeviceAdminReceiver {\r\n       @Override\r\n       public void onReceive(Context context, Intent intent) {\r\n           super.onReceive(context, intent);\r\n       }\r\n\r\n       public void onEnabled(Context context, Intent intent) {\r\n       };\r\n\r\n       public void onDisabled(Context context, Intent intent) {\r\n       };\r\n    }\r\n\r\n\r\nTService.java:\r\n\r\n    public class TService extends Service {\r\n\r\n    MediaRecorder recorder;\r\n    File audiofile;\r\n    String name, phonenumber;\r\n    String audio_format;\r\n    public String Audio_Type;\r\n    int audioSource;\r\n    Context context;\r\n    private Handler handler;\r\n    Timer timer;\r\n    Boolean offHook = false, ringing = false;\r\n    Toast toast;\r\n    Boolean isOffHook = false;\r\n    private boolean recordstarted = false;\r\n\r\n    private static final String ACTION_IN = &quot;android.intent.action.PHONE_STATE&quot;;\r\n    private static final String ACTION_OUT = &quot;android.intent.action.NEW_OUTGOING_CALL&quot;;\r\n    private CallBr br_call;\r\n\r\n\r\n    @Override\r\n    public IBinder onBind(Intent arg0) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.d(&quot;service&quot;, &quot;destroy&quot;);\r\n\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        final IntentFilter filter = new IntentFilter();\r\n        filter.addAction(ACTION_OUT);\r\n        filter.addAction(ACTION_IN);\r\n        this.br_call = new CallBr();\r\n        this.registerReceiver(this.br_call, filter);\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    public class CallBr extends BroadcastReceiver {\r\n        Bundle bundle;\r\n        String state;\r\n        String inCall, outCall;\r\n        public boolean wasRinging = false;\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(ACTION_IN)) {\r\n                if ((bundle = intent.getExtras()) != null) {\r\n                    state = bundle.getString(TelephonyManager.EXTRA_STATE);\r\n                    if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\r\n                        inCall = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\r\n                        wasRinging = true;\r\n                        Toast.makeText(context, &quot;IN : &quot; + inCall, Toast.LENGTH_LONG).show();\r\n                    } else if (state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) {\r\n                        if (wasRinging == true) {\r\n\r\n                            Toast.makeText(context, &quot;ANSWERED&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                            String out = new SimpleDateFormat(&quot;dd-MM-yyyy hh-mm-ss&quot;).format(new Date());\r\n                            File sampleDir = new File(getExternalFilesDir(&quot;com.hof.callrecorder&quot;), &quot;MyAppData&quot;);\r\n                          //File sampleDir = new File(Environment.getExternalStorageDirectory(), &quot;/TestRecordingDasa1&quot;);\r\n                            if (!sampleDir.exists()) {\r\n                                sampleDir.mkdirs();\r\n                            }\r\n                            String file_name = &quot;Record&quot;;\r\n                            try {\r\n                                audiofile = File.createTempFile(file_name, &quot;.amr&quot;, sampleDir);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            String path = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n\r\n                            recorder = new MediaRecorder();\r\n                          //recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL);\r\n\r\n                            recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\r\n                            recorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\r\n                            recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n                            recorder.setOutputFile(audiofile.getAbsolutePath());\r\n                            try {\r\n                                recorder.prepare();\r\n                            } catch (IllegalStateException e) {\r\n                                e.printStackTrace();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            recorder.start();\r\n                            recordstarted = true;\r\n                        }\r\n                    } else if (state.equals(TelephonyManager.EXTRA_STATE_IDLE)) {\r\n                        wasRinging = false;\r\n                        Toast.makeText(context, &quot;REJECT || DISCO&quot;, Toast.LENGTH_LONG).show();\r\n                        if (recordstarted) {\r\n                            recorder.stop();\r\n                            recordstarted = false;\r\n                        }\r\n                    }\r\n                }\r\n            } else if (intent.getAction().equals(ACTION_OUT)) {\r\n                if ((bundle = intent.getExtras()) != null) {\r\n                    outCall = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);\r\n                    Toast.makeText(context, &quot;OUT : &quot; + outCall, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nmy_admin.xml:\r\n\r\n    &lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n        &lt;uses-policies&gt;\r\n            &lt;force-lock /&gt;\r\n        &lt;/uses-policies&gt;\r\n    &lt;/device-admin&gt;\r\n\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CallRecorder&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;com.hof.callrecorder.DeviceAdminDemo&quot;\r\n            android:label=&quot;Receiver&quot;\r\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.device_admin&quot;\r\n                android:resource=&quot;@xml/my_admin&quot; /&gt;\r\n\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLE_REQUESTED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;service android:name=&quot;.TService&quot; &gt;\r\n        &lt;/service&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Call Recording in Android. Code isn&#39;t working","body":"<p>Basically I'm trying to make a call recorder for Android that record every single incoming or outgoing call but my code isn't working.\nEveytime I make a call, it doesn't show anything or not even record the call.</p>\n<p>Here's my code:</p>\n<p>MainActivity.java:</p>\n<pre><code>public class MainActivity extends Activity {\nprivate static final String[] PERMISSIONS = {Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.MANAGE_EXTERNAL_STORAGE};\nprivate static final int REQUEST_CODE = 0;\nprivate DevicePolicyManager mDPM;\nprivate ComponentName mAdminName;\n@Override\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        requestPermissions();\n    }\n\n    try {\n        // Initiate DevicePolicyManager.\n        mDPM = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n        mAdminName = new ComponentName(this, DeviceAdminDemo.class);\n\n        if (!mDPM.isAdminActive(mAdminName)) {\n            Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\n            intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, mAdminName);\n            intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;Click on Activate button to secure your application.&quot;);\n            startActivityForResult(intent, REQUEST_CODE);\n        } else {\n            // mDPM.lockNow();\n            // Intent intent = new Intent(MainActivity.this,\n            // TrackDeviceService.class);\n            // startService(intent);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\nprivate void requestPermissions() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n            || ActivityCompat.checkSelfPermission(this, Manifest.permission.MANAGE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, PERMISSIONS, 1);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 1) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            File myAppDir = new File(getExternalFilesDir(&quot;com.hof.callrecorder&quot;), &quot;MyAppData&quot;);\n        //  File sampleDir = new File(Environment.getExternalStorageDirectory(), &quot;/CallRecording&quot;);\n            if (!myAppDir.exists()) {\n                myAppDir.mkdirs();\n                Toast.makeText(MainActivity.this, Environment.getExternalStorageDirectory().toString(), Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (REQUEST_CODE == requestCode) {\n        Intent intent = new Intent(MainActivity.this, TService.class);\n        startService(intent);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>DeviceAdminDemo.java:</p>\n<pre><code>public class DeviceAdminDemo extends DeviceAdminReceiver {\n   @Override\n   public void onReceive(Context context, Intent intent) {\n       super.onReceive(context, intent);\n   }\n\n   public void onEnabled(Context context, Intent intent) {\n   };\n\n   public void onDisabled(Context context, Intent intent) {\n   };\n}\n</code></pre>\n<p>TService.java:</p>\n<pre><code>public class TService extends Service {\n\nMediaRecorder recorder;\nFile audiofile;\nString name, phonenumber;\nString audio_format;\npublic String Audio_Type;\nint audioSource;\nContext context;\nprivate Handler handler;\nTimer timer;\nBoolean offHook = false, ringing = false;\nToast toast;\nBoolean isOffHook = false;\nprivate boolean recordstarted = false;\n\nprivate static final String ACTION_IN = &quot;android.intent.action.PHONE_STATE&quot;;\nprivate static final String ACTION_OUT = &quot;android.intent.action.NEW_OUTGOING_CALL&quot;;\nprivate CallBr br_call;\n\n\n@Override\npublic IBinder onBind(Intent arg0) {\n    // TODO Auto-generated method stub\n    return null;\n}\n\n@Override\npublic void onDestroy() {\n    Log.d(&quot;service&quot;, &quot;destroy&quot;);\n\n    super.onDestroy();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n\n    final IntentFilter filter = new IntentFilter();\n    filter.addAction(ACTION_OUT);\n    filter.addAction(ACTION_IN);\n    this.br_call = new CallBr();\n    this.registerReceiver(this.br_call, filter);\n    return START_NOT_STICKY;\n}\n\npublic class CallBr extends BroadcastReceiver {\n    Bundle bundle;\n    String state;\n    String inCall, outCall;\n    public boolean wasRinging = false;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(ACTION_IN)) {\n            if ((bundle = intent.getExtras()) != null) {\n                state = bundle.getString(TelephonyManager.EXTRA_STATE);\n                if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\n                    inCall = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\n                    wasRinging = true;\n                    Toast.makeText(context, &quot;IN : &quot; + inCall, Toast.LENGTH_LONG).show();\n                } else if (state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) {\n                    if (wasRinging == true) {\n\n                        Toast.makeText(context, &quot;ANSWERED&quot;, Toast.LENGTH_LONG).show();\n\n                        String out = new SimpleDateFormat(&quot;dd-MM-yyyy hh-mm-ss&quot;).format(new Date());\n                        File sampleDir = new File(getExternalFilesDir(&quot;com.hof.callrecorder&quot;), &quot;MyAppData&quot;);\n                      //File sampleDir = new File(Environment.getExternalStorageDirectory(), &quot;/TestRecordingDasa1&quot;);\n                        if (!sampleDir.exists()) {\n                            sampleDir.mkdirs();\n                        }\n                        String file_name = &quot;Record&quot;;\n                        try {\n                            audiofile = File.createTempFile(file_name, &quot;.amr&quot;, sampleDir);\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                        String path = Environment.getExternalStorageDirectory().getAbsolutePath();\n\n                        recorder = new MediaRecorder();\n                      //recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_CALL);\n\n                        recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\n                        recorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\n                        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n                        recorder.setOutputFile(audiofile.getAbsolutePath());\n                        try {\n                            recorder.prepare();\n                        } catch (IllegalStateException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                        recorder.start();\n                        recordstarted = true;\n                    }\n                } else if (state.equals(TelephonyManager.EXTRA_STATE_IDLE)) {\n                    wasRinging = false;\n                    Toast.makeText(context, &quot;REJECT || DISCO&quot;, Toast.LENGTH_LONG).show();\n                    if (recordstarted) {\n                        recorder.stop();\n                        recordstarted = false;\n                    }\n                }\n            }\n        } else if (intent.getAction().equals(ACTION_OUT)) {\n            if ((bundle = intent.getExtras()) != null) {\n                outCall = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);\n                Toast.makeText(context, &quot;OUT : &quot; + outCall, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>my_admin.xml:</p>\n<pre><code>&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n    &lt;uses-policies&gt;\n        &lt;force-lock /&gt;\n    &lt;/uses-policies&gt;\n&lt;/device-admin&gt;\n</code></pre>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.STORAGE&quot; /&gt;\n\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.CallRecorder&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;receiver\n        android:name=&quot;com.hof.callrecorder.DeviceAdminDemo&quot;\n        android:label=&quot;Receiver&quot;\n        android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.app.device_admin&quot;\n            android:resource=&quot;@xml/my_admin&quot; /&gt;\n\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLED&quot; /&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLE_REQUESTED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;service android:name=&quot;.TService&quot; &gt;\n    &lt;/service&gt;\n&lt;/application&gt;\n</code></pre>\n\n"},{"tags":["java","spring-boot","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":20234440,"reputation":91,"user_id":14840052,"display_name":"GloWorm"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1608327565,"creation_date":1608327565,"answer_id":65364251,"question_id":65331547,"body_markdown":"So, it would seem that when solely relying on OpenApiCustomiser for creating the OpenAPI, the scanned components are ignored, or at least overwritten with just the components specified in the customizer (I could have also programmatically added all of my schemas, but this would have been very cumbersome to maintain).\r\n\r\nChanging my config to the following resolved my issue:\r\n\r\n    @Bean\r\n    public OpenAPI customOpenAPI() {\r\n        final String securitySchemeName = &quot;Access Token&quot;;\r\n        return new OpenAPI()\r\n                .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n                .components(new Components().addSecuritySchemes(securitySchemeName, new SecurityScheme()\r\n                        .type(SecurityScheme.Type.APIKEY)\r\n                        .in(SecurityScheme.In.HEADER)\r\n                        .name(HttpHeaders.AUTHORIZATION)))\r\n                .info(apiInfo());\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi apiV1() {\r\n        String[] paths = {&quot;/v1/**&quot;};\r\n        String[] packagesToScan = {&quot;com.test.controller&quot;};\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;v1&quot;)\r\n                .packagesToScan(packagesToScan)\r\n                .pathsToMatch(paths)\r\n                .addOpenApiCustomiser(buildV1OpenAPI())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi apiV2() {\r\n        String[] paths = {&quot;/v2/**&quot;};\r\n        String[] packagesToScan = {&quot;com.test.controller&quot;};\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;v2&quot;)\r\n                .packagesToScan(packagesToScan)\r\n                .pathsToMatch(paths)\r\n                .addOpenApiCustomiser(buildV2OpenAPI())\r\n                .build();\r\n    }\r\n\r\n    public OpenApiCustomiser buildV1OpenAPI() {\r\n        return openApi -&gt; openApi.info(openApi.getInfo().version(&quot;v1&quot;));\r\n    }\r\n\r\n    public OpenApiCustomiser buildV2OpenAPI() {\r\n        return openApi -&gt; openApi.info(openApi.getInfo().version(&quot;v2&quot;));\r\n    }\r\n\r\n    // Describe the apis\r\n    private Info apiInfo() {\r\n        return new Info()\r\n                .title(&quot;Title&quot;)\r\n                .description(&quot;API Description.&quot;);\r\n    }\r\n\r\nWhile this technically does also add the Authorize button and security scheme to the v1 group, it can be ignored because those API endpoints are not secured anyway (internal API and they should be going away soon anyway).\r\n\r\nProbably a better solution anyway as the Info is basically identical between the groups.","title":"Schemas disappear from components when programmatically adding security scheme","body":"<p>So, it would seem that when solely relying on OpenApiCustomiser for creating the OpenAPI, the scanned components are ignored, or at least overwritten with just the components specified in the customizer (I could have also programmatically added all of my schemas, but this would have been very cumbersome to maintain).</p>\n<p>Changing my config to the following resolved my issue:</p>\n<pre><code>@Bean\npublic OpenAPI customOpenAPI() {\n    final String securitySchemeName = &quot;Access Token&quot;;\n    return new OpenAPI()\n            .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n            .components(new Components().addSecuritySchemes(securitySchemeName, new SecurityScheme()\n                    .type(SecurityScheme.Type.APIKEY)\n                    .in(SecurityScheme.In.HEADER)\n                    .name(HttpHeaders.AUTHORIZATION)))\n            .info(apiInfo());\n}\n\n@Bean\npublic GroupedOpenApi apiV1() {\n    String[] paths = {&quot;/v1/**&quot;};\n    String[] packagesToScan = {&quot;com.test.controller&quot;};\n    return GroupedOpenApi.builder()\n            .group(&quot;v1&quot;)\n            .packagesToScan(packagesToScan)\n            .pathsToMatch(paths)\n            .addOpenApiCustomiser(buildV1OpenAPI())\n            .build();\n}\n\n@Bean\npublic GroupedOpenApi apiV2() {\n    String[] paths = {&quot;/v2/**&quot;};\n    String[] packagesToScan = {&quot;com.test.controller&quot;};\n    return GroupedOpenApi.builder()\n            .group(&quot;v2&quot;)\n            .packagesToScan(packagesToScan)\n            .pathsToMatch(paths)\n            .addOpenApiCustomiser(buildV2OpenAPI())\n            .build();\n}\n\npublic OpenApiCustomiser buildV1OpenAPI() {\n    return openApi -&gt; openApi.info(openApi.getInfo().version(&quot;v1&quot;));\n}\n\npublic OpenApiCustomiser buildV2OpenAPI() {\n    return openApi -&gt; openApi.info(openApi.getInfo().version(&quot;v2&quot;));\n}\n\n// Describe the apis\nprivate Info apiInfo() {\n    return new Info()\n            .title(&quot;Title&quot;)\n            .description(&quot;API Description.&quot;);\n}\n</code></pre>\n<p>While this technically does also add the Authorize button and security scheme to the v1 group, it can be ignored because those API endpoints are not secured anyway (internal API and they should be going away soon anyway).</p>\n<p>Probably a better solution anyway as the Info is basically identical between the groups.</p>\n"},{"tags":[],"owner":{"account_id":8732530,"reputation":51,"user_id":6532097,"display_name":"Vadim Kraus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619615174,"creation_date":1619615174,"answer_id":67300839,"question_id":65331547,"body_markdown":"Instead of creating new Components you should just modify them:\r\n\r\n    public OpenApiCustomiser buildV2OpenAPI() {\r\n        final String securitySchemeName = &quot;Access Token&quot;;\r\n        return openApi -&gt; {\r\n            openApi.info(apiInfo().version(&quot;v2&quot;))\r\n                .addSecurityItem(new SecurityRequirement().addList(securitySchemeName));\r\n            \r\n            openApi.getComponents().addSecuritySchemes(securitySchemeName, new SecurityScheme()\r\n                .type(SecurityScheme.Type.APIKEY)\r\n                .in(SecurityScheme.In.HEADER)\r\n                .name(HttpHeaders.AUTHORIZATION));\r\n\r\n            return openApi;\r\n        \r\n        };\r\n    }","title":"Schemas disappear from components when programmatically adding security scheme","body":"<p>Instead of creating new Components you should just modify them:</p>\n<pre><code>public OpenApiCustomiser buildV2OpenAPI() {\n    final String securitySchemeName = &quot;Access Token&quot;;\n    return openApi -&gt; {\n        openApi.info(apiInfo().version(&quot;v2&quot;))\n            .addSecurityItem(new SecurityRequirement().addList(securitySchemeName));\n        \n        openApi.getComponents().addSecuritySchemes(securitySchemeName, new SecurityScheme()\n            .type(SecurityScheme.Type.APIKEY)\n            .in(SecurityScheme.In.HEADER)\n            .name(HttpHeaders.AUTHORIZATION));\n\n        return openApi;\n    \n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13728965,"reputation":11,"user_id":16843422,"display_name":"sunil maurya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677334328,"creation_date":1677333369,"answer_id":75565887,"question_id":65331547,"body_markdown":"Fixed the issue without creating new components object, \r\nTried with kotlin.\r\n\r\n```\r\n  @Bean\r\n  fun publicApiV1(): GroupedOpenApi = GroupedOpenApi.builder()\r\n    .group(&quot;service-name&quot;)\r\n    .pathsToMatch(&quot;/v1/**&quot;)\r\n    .addOpenApiCustomiser(publicApiCustomizer(&quot;v1&quot;))\r\n    .build()\r\n\r\n  fun publicApiCustomizer(version: String): OpenApiCustomiser? {\r\n    return OpenApiCustomiser { openApi: OpenAPI -&gt;\r\n      openApi.addSecurityItem(SecurityRequirement().addList(SECURITY_SCHEME_NAME))\r\n        .info(Info().title(&quot;title name&quot;).version(version))\r\n        .also {\r\n          it.components.addSecuritySchemes(\r\n            SECURITY_SCHEME_NAME,\r\n            SecurityScheme()\r\n              .`in`(HEADER)\r\n              .type(HTTP)\r\n              .scheme(SCHEME)\r\n              .name(SECURITY_SCHEME_NAME)\r\n              .bearerFormat(BEARER_FORMAT)\r\n          )\r\n        }\r\n    }\r\n  }\r\n\r\n  companion object {\r\n    private const val SECURITY_SCHEME_NAME = &quot;bearerAuth&quot;\r\n    private const val SCHEME = &quot;bearer&quot;\r\n    private const val BEARER_FORMAT = &quot;JWT&quot;\r\n  }\r\n```","title":"Schemas disappear from components when programmatically adding security scheme","body":"<p>Fixed the issue without creating new components object,\nTried with kotlin.</p>\n<pre><code>  @Bean\n  fun publicApiV1(): GroupedOpenApi = GroupedOpenApi.builder()\n    .group(&quot;service-name&quot;)\n    .pathsToMatch(&quot;/v1/**&quot;)\n    .addOpenApiCustomiser(publicApiCustomizer(&quot;v1&quot;))\n    .build()\n\n  fun publicApiCustomizer(version: String): OpenApiCustomiser? {\n    return OpenApiCustomiser { openApi: OpenAPI -&gt;\n      openApi.addSecurityItem(SecurityRequirement().addList(SECURITY_SCHEME_NAME))\n        .info(Info().title(&quot;title name&quot;).version(version))\n        .also {\n          it.components.addSecuritySchemes(\n            SECURITY_SCHEME_NAME,\n            SecurityScheme()\n              .`in`(HEADER)\n              .type(HTTP)\n              .scheme(SCHEME)\n              .name(SECURITY_SCHEME_NAME)\n              .bearerFormat(BEARER_FORMAT)\n          )\n        }\n    }\n  }\n\n  companion object {\n    private const val SECURITY_SCHEME_NAME = &quot;bearerAuth&quot;\n    private const val SCHEME = &quot;bearer&quot;\n    private const val BEARER_FORMAT = &quot;JWT&quot;\n  }\n</code></pre>\n"}],"owner":{"account_id":20234440,"reputation":91,"user_id":14840052,"display_name":"GloWorm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65364251,"answer_count":3,"score":5,"last_activity_date":1677334328,"creation_date":1608155006,"question_id":65331547,"body_markdown":"I&#39;ve recently converted from Springfox to Springdoc-openapi for generating my OpenAPI for my Spring Boot Rest API service.\r\n\r\nEverything was working perfectly until I added a security scheme.  Once I did that, my schemes no longer appear and an error appears on the SwaggerUI page: \r\n\r\n    Could not resolve reference: Could not resolve pointer: /components/schemas/Ping does not exist in document\r\n\r\nI am setting up my configuration programmatically, and have 2 groups.\r\n\r\nI&#39;m using Spring Boot v2.4.0 with springdoc-openapi-ui v1.5.1\r\n\r\nSnippet of my pom.xml:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-hateoas&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nSnippet from configuration:\r\n\r\n        @Bean\r\n    public GroupedOpenApi apiV1() {\r\n        String[] paths = {&quot;/v1/**&quot;};\r\n        String[] packagesToScan = {&quot;com.test.controller&quot;};\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;v1&quot;)\r\n                .packagesToScan(packagesToScan)\r\n                .pathsToMatch(paths)\r\n                .addOpenApiCustomiser(buildV1OpenAPI())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi apiV2() {\r\n        String[] paths = {&quot;/v2/**&quot;};\r\n        String[] packagesToScan = {&quot;com.test.controller&quot;};\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;v2&quot;)\r\n                .packagesToScan(packagesToScan)\r\n                .pathsToMatch(paths)\r\n                .addOpenApiCustomiser(buildV2OpenAPI())\r\n                .build();\r\n    }\r\n\r\n    public OpenApiCustomiser buildV1OpenAPI() {\r\n        return openApi -&gt; openApi.info(apiInfo().version(&quot;v1&quot;));\r\n    }\r\n\r\n    public OpenApiCustomiser buildV2OpenAPI() {\r\n        final String securitySchemeName = &quot;Access Token&quot;;\r\n        return openApi -&gt; openApi.info(apiInfo().version(&quot;v2&quot;))\r\n                .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n                .components(new Components().addSecuritySchemes(securitySchemeName, new SecurityScheme()\r\n                        .type(SecurityScheme.Type.APIKEY)\r\n                        .in(SecurityScheme.In.HEADER)\r\n                        .name(HttpHeaders.AUTHORIZATION)));\r\n    }\r\n\r\n    // Describe the apis\r\n    private Info apiInfo() {\r\n        return new Info()\r\n                .title(&quot;Title&quot;)\r\n                .description(&quot;API Description&quot;);\r\n    }\r\n\r\nFor my v1 group, everything works fine.  My Schemas appear on the Swagger UI page and I see them in the components section of the generated api-doc.\r\n\r\n        &quot;components&quot;: {\r\n        &quot;schemas&quot;: {\r\n            &quot;ApplicationErrorResponse&quot;: {\r\n                ...\r\n                }\r\n            },\r\n            &quot;Ping&quot;: {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nFor my v2 group, the Schemas are not generated.\r\n\r\n        &quot;components&quot;: {\r\n        &quot;securitySchemes&quot;: {\r\n            &quot;Access Token&quot;: {\r\n                &quot;type&quot;: &quot;apiKey&quot;,\r\n                &quot;name&quot;: &quot;Authorization&quot;,\r\n                &quot;in&quot;: &quot;header&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nAny idea why my Schemas are not automatically scanned and added when adding the security scheme to the OpenAPI components programmatically?  Am I missing something in my config?\r\n\r\nHere&#39;s my request mapping in my controller.\r\n\r\n    @Operation(summary = &quot;Verify API and backend connectivity&quot;,\r\n            description = &quot;Confirm connectivity to the backend, as well and verify API service is running.&quot;)\r\n    @OkResponse\r\n    @GetMapping(value = API_VERSION_2 + &quot;/ping&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Ping&gt; getPingV2(HttpServletRequest request) {\r\n...\r\n}\r\n\r\nAnd here&#39;s my @OkResponse annotation:\r\n\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    @Documented\r\n    @ApiResponse(responseCode = HTTP_200,\r\n            description = HTTP_200_OK,\r\n            headers = {\r\n                    @Header(name = CONTENT_VERSION_HEADER, description = CONTENT_VERSION_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;)),\r\n                    @Header(name = DEPRECATION_MESSAGE_HEADER, description = DEPRECATION_MESSAGE_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;)),\r\n                    @Header(name = DESCRIPTION_HEADER, description = DESCRIPTION_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;))\r\n            })\r\n    public @interface OkResponse {\r\n    }\r\n\r\nMy v1 mappings are defined similarly.","title":"Schemas disappear from components when programmatically adding security scheme","body":"<p>I've recently converted from Springfox to Springdoc-openapi for generating my OpenAPI for my Spring Boot Rest API service.</p>\n<p>Everything was working perfectly until I added a security scheme.  Once I did that, my schemes no longer appear and an error appears on the SwaggerUI page:</p>\n<pre><code>Could not resolve reference: Could not resolve pointer: /components/schemas/Ping does not exist in document\n</code></pre>\n<p>I am setting up my configuration programmatically, and have 2 groups.</p>\n<p>I'm using Spring Boot v2.4.0 with springdoc-openapi-ui v1.5.1</p>\n<p>Snippet of my pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Snippet from configuration:</p>\n<pre><code>    @Bean\npublic GroupedOpenApi apiV1() {\n    String[] paths = {&quot;/v1/**&quot;};\n    String[] packagesToScan = {&quot;com.test.controller&quot;};\n    return GroupedOpenApi.builder()\n            .group(&quot;v1&quot;)\n            .packagesToScan(packagesToScan)\n            .pathsToMatch(paths)\n            .addOpenApiCustomiser(buildV1OpenAPI())\n            .build();\n}\n\n@Bean\npublic GroupedOpenApi apiV2() {\n    String[] paths = {&quot;/v2/**&quot;};\n    String[] packagesToScan = {&quot;com.test.controller&quot;};\n    return GroupedOpenApi.builder()\n            .group(&quot;v2&quot;)\n            .packagesToScan(packagesToScan)\n            .pathsToMatch(paths)\n            .addOpenApiCustomiser(buildV2OpenAPI())\n            .build();\n}\n\npublic OpenApiCustomiser buildV1OpenAPI() {\n    return openApi -&gt; openApi.info(apiInfo().version(&quot;v1&quot;));\n}\n\npublic OpenApiCustomiser buildV2OpenAPI() {\n    final String securitySchemeName = &quot;Access Token&quot;;\n    return openApi -&gt; openApi.info(apiInfo().version(&quot;v2&quot;))\n            .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n            .components(new Components().addSecuritySchemes(securitySchemeName, new SecurityScheme()\n                    .type(SecurityScheme.Type.APIKEY)\n                    .in(SecurityScheme.In.HEADER)\n                    .name(HttpHeaders.AUTHORIZATION)));\n}\n\n// Describe the apis\nprivate Info apiInfo() {\n    return new Info()\n            .title(&quot;Title&quot;)\n            .description(&quot;API Description&quot;);\n}\n</code></pre>\n<p>For my v1 group, everything works fine.  My Schemas appear on the Swagger UI page and I see them in the components section of the generated api-doc.</p>\n<pre><code>    &quot;components&quot;: {\n    &quot;schemas&quot;: {\n        &quot;ApplicationErrorResponse&quot;: {\n            ...\n            }\n        },\n        &quot;Ping&quot;: {\n            ...\n        }\n    }\n}\n</code></pre>\n<p>For my v2 group, the Schemas are not generated.</p>\n<pre><code>    &quot;components&quot;: {\n    &quot;securitySchemes&quot;: {\n        &quot;Access Token&quot;: {\n            &quot;type&quot;: &quot;apiKey&quot;,\n            &quot;name&quot;: &quot;Authorization&quot;,\n            &quot;in&quot;: &quot;header&quot;\n        }\n    }\n}\n</code></pre>\n<p>Any idea why my Schemas are not automatically scanned and added when adding the security scheme to the OpenAPI components programmatically?  Am I missing something in my config?</p>\n<p>Here's my request mapping in my controller.</p>\n<pre><code>@Operation(summary = &quot;Verify API and backend connectivity&quot;,\n        description = &quot;Confirm connectivity to the backend, as well and verify API service is running.&quot;)\n@OkResponse\n@GetMapping(value = API_VERSION_2 + &quot;/ping&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Ping&gt; getPingV2(HttpServletRequest request) {\n</code></pre>\n<p>...\n}</p>\n<p>And here's my @OkResponse annotation:</p>\n<pre><code>    @Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Documented\n@ApiResponse(responseCode = HTTP_200,\n        description = HTTP_200_OK,\n        headers = {\n                @Header(name = CONTENT_VERSION_HEADER, description = CONTENT_VERSION_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;)),\n                @Header(name = DEPRECATION_MESSAGE_HEADER, description = DEPRECATION_MESSAGE_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;)),\n                @Header(name = DESCRIPTION_HEADER, description = DESCRIPTION_HEADER_DESCRIPTION, schema = @Schema(type = &quot;string&quot;))\n        })\npublic @interface OkResponse {\n}\n</code></pre>\n<p>My v1 mappings are defined similarly.</p>\n"},{"tags":["java","mysql","sql","jooq"],"answers":[{"comments":[{"owner":{"account_id":27859072,"reputation":25,"user_id":21271985,"display_name":"Vipul"},"score":0,"creation_date":1677260796,"post_id":75554469,"comment_id":133309277,"body_markdown":"I am trying to create a table using the data from the nested query and then use that Table data to run further opertaion.\n**Output of nested table** :-  Table with columns master_id, transaction_id, api_status, organsiation_name.\nRun the `select organisation_name, sum(api_status = &#39;COMPLETED&#39;) as success_count, sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failure_count, count(distinct transaction_id) as &#39;total&#39;` on the previously derived table.\nHow can this be done.","body":"I am trying to create a table using the data from the nested query and then use that Table data to run further opertaion. <b>Output of nested table</b> :-  Table with columns master_id, transaction_id, api_status, organsiation_name. Run the <code>select organisation_name, sum(api_status = &#39;COMPLETED&#39;) as success_count, sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failure_count, count(distinct transaction_id) as &#39;total&#39;</code> on the previously derived table. How can this be done."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1677312897,"post_id":75554469,"comment_id":133316429,"body_markdown":"@VipulRaj: *&quot;How can this be done&quot;* isn&#39;t really a new question. The manual explains it, my answer explains it. It seems that you&#39;re still running into a *very specific* problem (you mentioned a `NullPointerException` elsewhere). In order to see what that problem could be, you&#39;ll have to provide an *exact example* that reproduces the problem. Otherwise, I can just make assumptions and we&#39;ll turn in circles, and you won&#39;t get a good answer. Here are some useful hints by Stack Overflow, regarding the creation of a minimal example: https://stackoverflow.com/help/minimal-reproducible-example","body":"@VipulRaj: <i>&quot;How can this be done&quot;</i> isn&#39;t really a new question. The manual explains it, my answer explains it. It seems that you&#39;re still running into a <i>very specific</i> problem (you mentioned a <code>NullPointerException</code> elsewhere). In order to see what that problem could be, you&#39;ll have to provide an <i>exact example</i> that reproduces the problem. Otherwise, I can just make assumptions and we&#39;ll turn in circles, and you won&#39;t get a good answer. Here are some useful hints by Stack Overflow, regarding the creation of a minimal example: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1677484422,"post_id":75554469,"comment_id":133339490,"body_markdown":"@VipulRaj: I think I&#39;ve answered all the questions now? I&#39;m sorry, I don&#39;t see what isn&#39;t clear about my answers so far.","body":"@VipulRaj: I think I&#39;ve answered all the questions now? I&#39;m sorry, I don&#39;t see what isn&#39;t clear about my answers so far."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677230499,"creation_date":1677229043,"answer_id":75554469,"question_id":75547771,"body_markdown":"## Simplifying the query first\r\n\r\nYour particular query doesn&#39;t require a derived table. I&#39;d rewrite it to this:\r\n\r\n```sql\r\nselect \r\n  organisation_name, \r\n  sum(api_status = &#39;COMPLETED&#39;) as success_count, \r\n  sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failure_count,\r\n  count(distinct transaction_id) as &#39;total&#39;\r\nfrom test_master_table \r\n  left join organsiations_table \r\n    on test_master_table.organisation_id = organsiations_table.organisation_id \r\n  left join upload_table \r\n    on test_master_table.master_id = upload_table.master_id\r\n  left join request_table \r\n    on test_master_table.request_id = request_table.id\r\nwhere (test_master_table.organisation_id = &#39;1&#39; \r\n  and (created_date &gt;= current_timestamp())\r\ngroup by test_master_table.master_id;\r\n```\r\n\r\nYou&#39;ll lose absolutely nothing in terms of semantics, and it will be easier to translate to jOOQ. This is a frequent topic. A lot of times when people struggle creating derived tables in jOOQ, the problem could be circumvented this way. So frequent, I decided to write a [blog post about this on the jOOQ blog][1].\r\n\r\n## Translating derived tables to jOOQ\r\n\r\nThe [jOOQ manual section about derived tables][2] shows how to do it. You have to assign the derived table to a local variable first:\r\n\r\n```java\r\nTable&lt;?&gt; nested = select(...).from(...).groupBy(...).asTable(&quot;nested&quot;);\r\n```\r\n\r\nAnd then dereference columns from it, e.g.:\r\n\r\n```java\r\n// If your field is an expression:\r\nnested.field(&quot;field_name&quot;);\r\n\r\n// If your field is from generated code, in case of which\r\n// columns are matched by name:\r\nnested.field(TABLE.COLUMN);\r\n``` \r\n\r\n## How to do it specifically\r\n\r\nI&#39;m aware you have a [*more specific* question][3] about this. I&#39;ll explain the specific problem there.\r\n\r\n\r\n  [1]: https://blog.jooq.org/how-to-write-a-derived-table-in-jooq/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/\r\n  [3]: https://stackoverflow.com/q/75543314/521799","title":"How to write nested sql query in jooq with SUM operation in SELECT","body":"<h2>Simplifying the query first</h2>\n<p>Your particular query doesn't require a derived table. I'd rewrite it to this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select \n  organisation_name, \n  sum(api_status = 'COMPLETED') as success_count, \n  sum(api_status &lt;&gt; 'COMPLETED') as failure_count,\n  count(distinct transaction_id) as 'total'\nfrom test_master_table \n  left join organsiations_table \n    on test_master_table.organisation_id = organsiations_table.organisation_id \n  left join upload_table \n    on test_master_table.master_id = upload_table.master_id\n  left join request_table \n    on test_master_table.request_id = request_table.id\nwhere (test_master_table.organisation_id = '1' \n  and (created_date &gt;= current_timestamp())\ngroup by test_master_table.master_id;\n</code></pre>\n<p>You'll lose absolutely nothing in terms of semantics, and it will be easier to translate to jOOQ. This is a frequent topic. A lot of times when people struggle creating derived tables in jOOQ, the problem could be circumvented this way. So frequent, I decided to write a <a href=\"https://blog.jooq.org/how-to-write-a-derived-table-in-jooq/\" rel=\"nofollow noreferrer\">blog post about this on the jOOQ blog</a>.</p>\n<h2>Translating derived tables to jOOQ</h2>\n<p>The <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/\" rel=\"nofollow noreferrer\">jOOQ manual section about derived tables</a> shows how to do it. You have to assign the derived table to a local variable first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Table&lt;?&gt; nested = select(...).from(...).groupBy(...).asTable(&quot;nested&quot;);\n</code></pre>\n<p>And then dereference columns from it, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// If your field is an expression:\nnested.field(&quot;field_name&quot;);\n\n// If your field is from generated code, in case of which\n// columns are matched by name:\nnested.field(TABLE.COLUMN);\n</code></pre>\n<h2>How to do it specifically</h2>\n<p>I'm aware you have a <a href=\"https://stackoverflow.com/q/75543314/521799\"><em>more specific</em> question</a> about this. I'll explain the specific problem there.</p>\n"}],"owner":{"account_id":27859072,"reputation":25,"user_id":21271985,"display_name":"Vipul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75554469,"answer_count":1,"score":1,"last_activity_date":1677334325,"creation_date":1677170474,"question_id":75547771,"body_markdown":"I have a nested sql query and I want to write that query in jooq. \r\n\r\n\r\n```\r\nselect organisation_name, sum(api_status = &#39;COMPLETED&#39;) as success_count, sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failure_count, count(distinct transaction_id) as &#39;total&#39;\r\nfrom (\r\nselect test_master_table.master_id, test_master_table.transaction_id, test_master_table.api_status, organsiations_table.organisation_name\r\nfrom test_master_table \r\nleft join organsiations_table on test_master_table.organisation_id = organsiations_table.organisation_id \r\nleft join upload_table on test_master_table.master_id = upload_table.master_id\r\nwhere (test_master_table.organisation_id = &#39;1&#39; AND (created_date &gt;= current_timestamp()))\r\ngroup by test_master_table.master_id) as test;\r\n```\r\n\r\nHow can this be done in JOOQ?\r\n\r\n\r\nHere is the sample SQL query which can be used to replicate the desired output.If executed the given query below with the table data attached, the nested query provide a different result than the one suggested(query for which has been attached as well).\r\n```\r\nCREATE TABLE test_master_table (\r\n    master_id INTEGER PRIMARY KEY,\r\n    transaction_id TEXT NOT NULL,\r\n    api_status TEXT,\r\n    organsiation_id INTEGER Not NULL\r\n  );\r\n\r\nCREATE TABLE organisation_table (\r\n    organsiation_id INTEGER not NULL,\r\n    organisation_name TEXT not null\r\n);\r\n\r\nCREATE TABLE upload_table (\r\n    master_id INTEGER NOT NULL,\r\n    statement_id TEXT PRIMARY KEY,\r\n    file_status TEXT,\r\n    type TEXT\r\n);\r\n\r\nINSERT INTO test_master_table values (1, &#39;txn-1&#39;, &#39;ERROR&#39;, 1);\r\nINSERT INTO test_master_table values(2, &#39;txn-2&#39;, &#39;ERROR&#39;, 1);\r\nINSERT INTO test_master_table values (3, &#39;txn-3&#39;, &#39;COMPLETED&#39;, 1);\r\nINSERT INTO test_master_table values (4, &#39;txn-4&#39;, &#39;COMPLETED&#39;, 1);\r\n\r\nINSERT INTO organisation_table values (1,&#39;org-1&#39;);\r\nINSERT INTO organisation_table values (2,&#39;org-2&#39;);\r\nINSERT INTO organisation_table values (3,&#39;org-3&#39;);\r\n\r\nINSERT INTO upload_table values (1, &#39;stmt-1&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\nINSERT INTO upload_table values (1, &#39;stmt-2&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\nINSERT INTO upload_table values (1, &#39;stmt-3&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\nINSERT INTO upload_table values (2, &#39;stmt-4&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\nINSERT INTO upload_table values (2, &#39;stmt-5&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\nINSERT INTO upload_table values (2, &#39;stmt-6&#39;, &#39;COMPLETED&#39;, &#39;type-1&#39;);\r\n\r\n\r\n-- Query to get the desired output\r\n\r\nselect organisation_name, sum(api_status = &#39;COMPLETED&#39;) as successCount, sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failureCount, count(distinct master_id)\r\nfrom (\r\nselect test_master_table.master_id, test_master_table.transaction_id, test_master_table.api_status, organisation_table.organisation_name\r\nfrom test_master_table\r\nleft join organisation_table on test_master_table.organsiation_id = organisation_table.organsiation_id\r\nleft join upload_table on test_master_table.master_id = upload_table.master_id\r\nwhere organisation_table.organsiation_id = &#39;1&#39; and type = &#39;type-1&#39;\r\ngroup by test_master_table.master_id\r\n) as test;\r\n\r\n\r\n-- Query suggested (does not reproduce the desired result) \r\n\r\n/*select organisation_table.organisation_name, sum(api_status = &#39;COMPLETED&#39;) as successCount, sum(api_status &lt;&gt; &#39;COMPLETED&#39;) as failureCount, count(distinct test_master_table.master_id)\r\nfrom test_master_table\r\nleft join organisation_table on test_master_table.organsiation_id = organisation_table.organsiation_id\r\nleft join upload_table on test_master_table.master_id = upload_table.master_id\r\nwhere organisation_table.organsiation_id = &#39;1&#39; and type = &#39;type-1&#39;\r\ngroup by test_master_table.master_id;*/\r\n\r\n```","title":"How to write nested sql query in jooq with SUM operation in SELECT","body":"<p>I have a nested sql query and I want to write that query in jooq.</p>\n<pre><code>select organisation_name, sum(api_status = 'COMPLETED') as success_count, sum(api_status &lt;&gt; 'COMPLETED') as failure_count, count(distinct transaction_id) as 'total'\nfrom (\nselect test_master_table.master_id, test_master_table.transaction_id, test_master_table.api_status, organsiations_table.organisation_name\nfrom test_master_table \nleft join organsiations_table on test_master_table.organisation_id = organsiations_table.organisation_id \nleft join upload_table on test_master_table.master_id = upload_table.master_id\nwhere (test_master_table.organisation_id = '1' AND (created_date &gt;= current_timestamp()))\ngroup by test_master_table.master_id) as test;\n</code></pre>\n<p>How can this be done in JOOQ?</p>\n<p>Here is the sample SQL query which can be used to replicate the desired output.If executed the given query below with the table data attached, the nested query provide a different result than the one suggested(query for which has been attached as well).</p>\n<pre><code>CREATE TABLE test_master_table (\n    master_id INTEGER PRIMARY KEY,\n    transaction_id TEXT NOT NULL,\n    api_status TEXT,\n    organsiation_id INTEGER Not NULL\n  );\n\nCREATE TABLE organisation_table (\n    organsiation_id INTEGER not NULL,\n    organisation_name TEXT not null\n);\n\nCREATE TABLE upload_table (\n    master_id INTEGER NOT NULL,\n    statement_id TEXT PRIMARY KEY,\n    file_status TEXT,\n    type TEXT\n);\n\nINSERT INTO test_master_table values (1, 'txn-1', 'ERROR', 1);\nINSERT INTO test_master_table values(2, 'txn-2', 'ERROR', 1);\nINSERT INTO test_master_table values (3, 'txn-3', 'COMPLETED', 1);\nINSERT INTO test_master_table values (4, 'txn-4', 'COMPLETED', 1);\n\nINSERT INTO organisation_table values (1,'org-1');\nINSERT INTO organisation_table values (2,'org-2');\nINSERT INTO organisation_table values (3,'org-3');\n\nINSERT INTO upload_table values (1, 'stmt-1', 'COMPLETED', 'type-1');\nINSERT INTO upload_table values (1, 'stmt-2', 'COMPLETED', 'type-1');\nINSERT INTO upload_table values (1, 'stmt-3', 'COMPLETED', 'type-1');\nINSERT INTO upload_table values (2, 'stmt-4', 'COMPLETED', 'type-1');\nINSERT INTO upload_table values (2, 'stmt-5', 'COMPLETED', 'type-1');\nINSERT INTO upload_table values (2, 'stmt-6', 'COMPLETED', 'type-1');\n\n\n-- Query to get the desired output\n\nselect organisation_name, sum(api_status = 'COMPLETED') as successCount, sum(api_status &lt;&gt; 'COMPLETED') as failureCount, count(distinct master_id)\nfrom (\nselect test_master_table.master_id, test_master_table.transaction_id, test_master_table.api_status, organisation_table.organisation_name\nfrom test_master_table\nleft join organisation_table on test_master_table.organsiation_id = organisation_table.organsiation_id\nleft join upload_table on test_master_table.master_id = upload_table.master_id\nwhere organisation_table.organsiation_id = '1' and type = 'type-1'\ngroup by test_master_table.master_id\n) as test;\n\n\n-- Query suggested (does not reproduce the desired result) \n\n/*select organisation_table.organisation_name, sum(api_status = 'COMPLETED') as successCount, sum(api_status &lt;&gt; 'COMPLETED') as failureCount, count(distinct test_master_table.master_id)\nfrom test_master_table\nleft join organisation_table on test_master_table.organsiation_id = organisation_table.organsiation_id\nleft join upload_table on test_master_table.master_id = upload_table.master_id\nwhere organisation_table.organsiation_id = '1' and type = 'type-1'\ngroup by test_master_table.master_id;*/\n\n</code></pre>\n"},{"tags":["java","batch-file","classnotfoundexception"],"comments":[{"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"score":0,"creation_date":1677496364,"post_id":75565590,"comment_id":133342495,"body_markdown":"Hi @kerbermeister .... Did someone delete the other answer that was helpful that was there yesterday? Thanks","body":"Hi @kerbermeister .... Did someone delete the other answer that was helpful that was there yesterday? Thanks"},{"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"score":0,"creation_date":1677496521,"post_id":75565590,"comment_id":133342532,"body_markdown":"Hi @Compo I see that yesterday you edited my question and then replied with advice to help which I was applying but today it seems to have been deleted or taken away ... Is everything okay?","body":"Hi @Compo I see that yesterday you edited my question and then replied with advice to help which I was applying but today it seems to have been deleted or taken away ... Is everything okay?"},{"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"score":0,"creation_date":1677496625,"post_id":75565590,"comment_id":133342564,"body_markdown":"@kerbermeister - what do you want to know to assist ? It depends on what details you are asking for as well? I just am asking for assistance thanks","body":"@kerbermeister - what do you want to know to assist ? It depends on what details you are asking for as well? I just am asking for assistance thanks"},{"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"score":0,"creation_date":1677497649,"post_id":75565590,"comment_id":133342823,"body_markdown":"@kerbermeister - error message when I click run.bat : Error: Could not find or load main class and Caused by: java.lang.ClassNotFoundException:","body":"@kerbermeister - error message when I click run.bat : Error: Could not find or load main class and Caused by: java.lang.ClassNotFoundException:"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677498223,"post_id":75565590,"comment_id":133342943,"body_markdown":"we have no idea what your main class is, what your app is, how your code looks like, how you compiled it and etc. How do you want us to understand your problem?","body":"we have no idea what your main class is, what your app is, how your code looks like, how you compiled it and etc. How do you want us to understand your problem?"},{"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"score":0,"creation_date":1677501024,"post_id":75565590,"comment_id":133343692,"body_markdown":"@kerbermeister okay ... I understand what you are saying. I dont feel comfortable/scared to post all that no offense. Sorry. Please understand. Appreciate your feedback though. Thanks a lot. Regards Jessica","body":"@kerbermeister okay ... I understand what you are saying. I dont feel comfortable/scared to post all that no offense. Sorry. Please understand. Appreciate your feedback though. Thanks a lot. Regards Jessica"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677501714,"post_id":75565590,"comment_id":133343857,"body_markdown":"Jessica, actually I don&#39;t really understand your reaction. The error you got literally means what it says - the main class could not be found. And that&#39;s all what we can say here, seeing what you have posted and described in your question. What I wanted to convey you is that we need to see your project structure, your main class, your pom.xml and information how you compiled your project. Didn&#39;t mean to offend you at all. Just provide more information, so that we can help you. Peace.","body":"Jessica, actually I don&#39;t really understand your reaction. The error you got literally means what it says - the main class could not be found. And that&#39;s all what we can say here, seeing what you have posted and described in your question. What I wanted to convey you is that we need to see your project structure, your main class, your pom.xml and information how you compiled your project. Didn&#39;t mean to offend you at all. Just provide more information, so that we can help you. Peace."}],"owner":{"account_id":27507840,"reputation":1,"user_id":20990306,"display_name":"Jessica Gardner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677334287,"creation_date":1677329970,"question_id":75565590,"body_markdown":"Error message when I click the `run.bat`\r\n\r\n```none\r\nC:\\Users\\Jessica\\Pictures\\2023\\Roger\\scraper\\scraper&gt;echo off\r\n\r\nC:\\Users\\Jessica\\Pictures\\2023\\Roger\\scraper\\scraper&gt;java -cp scrape-shopify-products-1.0-SNAPSHOT-jar-with-dependencies.jar;. org.play.ScrapeShopifyProducts  1&gt;output_02_1451.csv\r\nError: Could not find or load main class org.play.ScrapeShopifyProducts\r\nCaused by: java.lang.ClassNotFoundException: org.play.ScrapeShopifyProducts\r\n```\r\n\r\nOutput is blank\r\n\r\nGot a small program written, then the code changed and I had to make another `.jar` file. I was and told to download Maven, and chocolatey, which I did. I updated Maven and Java, and eventually Maven worked.\r\n\r\nWe are running it through Windows Command Prompt, which I want to still do.\r\n\r\nI was told to run it with the `run.bat` file that we were using, but I got errors. I changed the name of the .jar file in the `run.bat` file using Notepad, but got errors again or no output.","title":"run.bat file results in .jar program errors","body":"<p>Error message when I click the <code>run.bat</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Jessica\\Pictures\\2023\\Roger\\scraper\\scraper&gt;echo off\n\nC:\\Users\\Jessica\\Pictures\\2023\\Roger\\scraper\\scraper&gt;java -cp scrape-shopify-products-1.0-SNAPSHOT-jar-with-dependencies.jar;. org.play.ScrapeShopifyProducts  1&gt;output_02_1451.csv\nError: Could not find or load main class org.play.ScrapeShopifyProducts\nCaused by: java.lang.ClassNotFoundException: org.play.ScrapeShopifyProducts\n</code></pre>\n<p>Output is blank</p>\n<p>Got a small program written, then the code changed and I had to make another <code>.jar</code> file. I was and told to download Maven, and chocolatey, which I did. I updated Maven and Java, and eventually Maven worked.</p>\n<p>We are running it through Windows Command Prompt, which I want to still do.</p>\n<p>I was told to run it with the <code>run.bat</code> file that we were using, but I got errors. I changed the name of the .jar file in the <code>run.bat</code> file using Notepad, but got errors again or no output.</p>\n"},{"tags":["java","groovy","geb"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677227488,"post_id":75551894,"comment_id":133299908,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1677248658,"post_id":75551894,"comment_id":133305837,"body_markdown":"The error message indicates that the version of `io.github.bonigarcia.wdm.ChromeDriverManager` that you are using does not have a no-arg method named `clearResolutionCache`.","body":"The error message indicates that the version of <code>io.github.bonigarcia.wdm.ChromeDriverManager</code> that you are using does not have a no-arg method named <code>clearResolutionCache</code>."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1677310634,"post_id":75563197,"comment_id":133316185,"body_markdown":"Yes, it seems to have changed between 3.x and 4.x, because in [3.8.1](https://javadoc.io/static/io.github.bonigarcia/webdrivermanager/3.8.1/io/github/bonigarcia/wdm/ChromeDriverManager.html) it is still in the old package. You can also see that in the source code when e.g. switching between release tags 3.8.1 and 4.0.0 in the [GitHub repository](https://github.com/bonigarcia/webdrivermanager).","body":"Yes, it seems to have changed between 3.x and 4.x, because in <a href=\"https://javadoc.io/static/io.github.bonigarcia/webdrivermanager/3.8.1/io/github/bonigarcia/wdm/ChromeDriverManager.html\" rel=\"nofollow noreferrer\">3.8.1</a> it is still in the old package. You can also see that in the source code when e.g. switching between release tags 3.8.1 and 4.0.0 in the <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">GitHub repository</a>."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1677334310,"post_id":75563197,"comment_id":133319309,"body_markdown":"@kriegaex Yep thanks for pointing that out.  I was bothered by the fact it said MissingMethodException and not ClassNotFoundException, and you pinpointed it.","body":"@kriegaex Yep thanks for pointing that out.  I was bothered by the fact it said MissingMethodException and not ClassNotFoundException, and you pinpointed it."},{"owner":{"account_id":27865309,"reputation":11,"user_id":21276910,"display_name":"Anil Kumar"},"score":0,"creation_date":1678117457,"post_id":75563197,"comment_id":133466740,"body_markdown":"Thank you. let me try the updated version","body":"Thank you. let me try the updated version"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677334243,"creation_date":1677297319,"answer_id":75563197,"question_id":75551894,"body_markdown":"It looks like you are trying to call a method from a newer version of the library.  `clearResolutionCache()` does NOT exist in versions prior to 4.0.0, and given the package name you posted it seems like you are on version 3.8.1 or earlier.\r\n\r\nIt looks like ChromeDriverManager is in a different package than the one you listed.  Here is the latest API:\r\n\r\nhttps://javadoc.io/static/io.github.bonigarcia/webdrivermanager/5.2.3/io/github/bonigarcia/wdm/managers/ChromeDriverManager.html\r\n\r\nNotice the package is:\r\n\r\nio.github.bonigarcia.wdm.managers.ChromeDriverManager\r\n\r\nYou have:\r\n\r\nio.github.bonigarcia.wdm.ChromeDriverManager\r\n\r\nHere are the docs from 3.8.1 and you can see `clearResolutionCache` does not exist:\r\n\r\nhttps://javadoc.io/doc/io.github.bonigarcia/webdrivermanager/3.8.1/index.html\r\n\r\nIf you want to use `clearResolutionCache()` you&#39;ll have to upgrade your driver to 4.0.0+","title":"Groovy issue &quot;groovy.lang.MissingMethodException&quot;","body":"<p>It looks like you are trying to call a method from a newer version of the library.  <code>clearResolutionCache()</code> does NOT exist in versions prior to 4.0.0, and given the package name you posted it seems like you are on version 3.8.1 or earlier.</p>\n<p>It looks like ChromeDriverManager is in a different package than the one you listed.  Here is the latest API:</p>\n<p><a href=\"https://javadoc.io/static/io.github.bonigarcia/webdrivermanager/5.2.3/io/github/bonigarcia/wdm/managers/ChromeDriverManager.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/io.github.bonigarcia/webdrivermanager/5.2.3/io/github/bonigarcia/wdm/managers/ChromeDriverManager.html</a></p>\n<p>Notice the package is:</p>\n<p>io.github.bonigarcia.wdm.managers.ChromeDriverManager</p>\n<p>You have:</p>\n<p>io.github.bonigarcia.wdm.ChromeDriverManager</p>\n<p>Here are the docs from 3.8.1 and you can see <code>clearResolutionCache</code> does not exist:</p>\n<p><a href=\"https://javadoc.io/doc/io.github.bonigarcia/webdrivermanager/3.8.1/index.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/io.github.bonigarcia/webdrivermanager/3.8.1/index.html</a></p>\n<p>If you want to use <code>clearResolutionCache()</code> you'll have to upgrade your driver to 4.0.0+</p>\n"}],"owner":{"account_id":27865309,"reputation":11,"user_id":21276910,"display_name":"Anil Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677334243,"creation_date":1677202693,"question_id":75551894,"body_markdown":"Recently I am facing the below issue with one of my job executions.\r\n\r\nBelow is the exception msg:\r\n```\r\ngroovy.lang.MissingMethodException: No signature of method: io.github.bonigarcia.wdm.ChromeDriverManager.clearResolutionCache() is applicable for argument types: () values: []\r\n\tat script1677201791728558065883.run_closure1$_closure3(script1677201791728558065883.groovy:20)\r\n\tat script1677201791728558065883.run_closure1$_closure3(script1677201791728558065883.groovy)\r\n\tat groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:242)\r\n\tat groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\r\n\tat groovy.lang.Script.invokeMethod(Script.java:80)\r\n\tat script1677201791728558065883.run_closure1(script1677201791728558065883.groovy:16)\r\n\tat script1677201791728558065883.run_closure1(script1677201791728558065883.groovy)\r\n\tat groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:225)\r\n\tat script1677201791728558065883.run(script1677201791728558065883.groovy:14)\r\n\tat groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:270)\r\n\tat groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:288)\r\n\tat groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:162)\r\n\tat groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:151)\r\n\tat geb.ConfigurationLoader.loadRawConfig(ConfigurationLoader.groovy:303)\r\n```\r\n\r\nIt is working previously. Now my scripts are running but only 40% of them are running.\r\nand few are failing with \r\n\r\n &gt; classMethod FAILED\r\n    geb.error.UnableToLoadException: Unable to load configuration @ &#39;file:/C:/Users/&lt;user&gt;/B2B-AUTO/QA1/build/resources/test/GebConfig.groovy&#39; (with environment: chrome)\r\n        at geb.ConfigurationLoader.loadRawConfig(ConfigurationLoader.groovy:293)\r\n\r\n\r\nHow to fix this issue. let me know if you need more detail. please share your thoughts","title":"Groovy issue &quot;groovy.lang.MissingMethodException&quot;","body":"<p>Recently I am facing the below issue with one of my job executions.</p>\n<p>Below is the exception msg:</p>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: io.github.bonigarcia.wdm.ChromeDriverManager.clearResolutionCache() is applicable for argument types: () values: []\n    at script1677201791728558065883.run_closure1$_closure3(script1677201791728558065883.groovy:20)\n    at script1677201791728558065883.run_closure1$_closure3(script1677201791728558065883.groovy)\n    at groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:242)\n    at groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\n    at groovy.lang.Script.invokeMethod(Script.java:80)\n    at script1677201791728558065883.run_closure1(script1677201791728558065883.groovy:16)\n    at script1677201791728558065883.run_closure1(script1677201791728558065883.groovy)\n    at groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:225)\n    at script1677201791728558065883.run(script1677201791728558065883.groovy:14)\n    at groovy.util.ConfigSlurper.parse_closure5(ConfigSlurper.groovy:270)\n    at groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:288)\n    at groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:162)\n    at groovy.util.ConfigSlurper.parse(ConfigSlurper.groovy:151)\n    at geb.ConfigurationLoader.loadRawConfig(ConfigurationLoader.groovy:303)\n</code></pre>\n<p>It is working previously. Now my scripts are running but only 40% of them are running.\nand few are failing with</p>\n<blockquote>\n<p>classMethod FAILED\ngeb.error.UnableToLoadException: Unable to load configuration @ 'file:/C:/Users//B2B-AUTO/QA1/build/resources/test/GebConfig.groovy' (with environment: chrome)\nat geb.ConfigurationLoader.loadRawConfig(ConfigurationLoader.groovy:293)</p>\n</blockquote>\n<p>How to fix this issue. let me know if you need more detail. please share your thoughts</p>\n"},{"tags":["java","gradle","jar","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677333393,"creation_date":1677332887,"answer_id":75565843,"question_id":75563934,"body_markdown":"you don&#39;t need to do anything.\r\n\r\n```\r\ngradle clean build\r\n```\r\n\r\ngoto sub directory `build/distributions`\r\n\r\nyou can find `DemoApp-1.0-SNAPSHOT.tar` and `DemoApp-1.0-SNAPSHOT.zip`\r\n\r\nunzip DemoApp-1.0-SNAPSHOT.tar\r\n\r\ngoto directory `DemoApp-1.0-SNAPSHOT`\r\n\r\ngoto `bin`, run command `./DemoApp`\r\n\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;com.pi4j:pi4j-core:2.3.0&#39;\r\n    implementation(&quot;com.pi4j:pi4j-plugin-raspberrypi:2.2.1&quot;)\r\n    implementation(&quot;com.pi4j:pi4j-plugin-pigpio:2.2.1&quot;)\r\n    \r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;org.example.Main&#39;\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nunzip DemoApp-1.0-SNAPSHOT.tar or DemoApp-1.0-SNAPSHOT.zip\r\n\r\n\r\nFile Structure\r\n\r\n```\r\nDemoApp-1.0-SNAPSHOT\r\n bin\r\n&#160;&#160;  DemoApp\r\n&#160;&#160;  DemoApp.bat\r\n lib\r\n     checker-qual-3.12.0.jar\r\n     DemoApp-1.0-SNAPSHOT.jar\r\n     error_prone_annotations-2.11.0.jar\r\n     failureaccess-1.0.1.jar\r\n     guava-31.1-jre.jar\r\n     j2objc-annotations-1.3.jar\r\n     jsr305-3.0.2.jar\r\n     listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar\r\n     pi4j-core-2.3.0.jar\r\n     pi4j-library-pigpio-2.2.1.jar\r\n     pi4j-plugin-pigpio-2.2.1.jar\r\n     pi4j-plugin-raspberrypi-2.2.1.jar\r\n     slf4j-api-1.7.32.jar\r\n```\r\n\r\ngradle `application` will create Run Script like `DemoApp` or `DemoApp.bat`\r\n\r\nyour dependencies implementation jar will put in `lib`.","title":"Build Jar file that download its dependencies automatically","body":"<p>you don't need to do anything.</p>\n<pre><code>gradle clean build\n</code></pre>\n<p>goto sub directory <code>build/distributions</code></p>\n<p>you can find <code>DemoApp-1.0-SNAPSHOT.tar</code> and <code>DemoApp-1.0-SNAPSHOT.zip</code></p>\n<p>unzip DemoApp-1.0-SNAPSHOT.tar</p>\n<p>goto directory <code>DemoApp-1.0-SNAPSHOT</code></p>\n<p>goto <code>bin</code>, run command <code>./DemoApp</code></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'com.pi4j:pi4j-core:2.3.0'\n    implementation(&quot;com.pi4j:pi4j-plugin-raspberrypi:2.2.1&quot;)\n    implementation(&quot;com.pi4j:pi4j-plugin-pigpio:2.2.1&quot;)\n    \n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\napplication {\n    mainClass = 'org.example.Main'\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>unzip DemoApp-1.0-SNAPSHOT.tar or DemoApp-1.0-SNAPSHOT.zip</p>\n<p>File Structure</p>\n<pre><code>DemoApp-1.0-SNAPSHOT\n bin\n  DemoApp\n  DemoApp.bat\n lib\n     checker-qual-3.12.0.jar\n     DemoApp-1.0-SNAPSHOT.jar\n     error_prone_annotations-2.11.0.jar\n     failureaccess-1.0.1.jar\n     guava-31.1-jre.jar\n     j2objc-annotations-1.3.jar\n     jsr305-3.0.2.jar\n     listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar\n     pi4j-core-2.3.0.jar\n     pi4j-library-pigpio-2.2.1.jar\n     pi4j-plugin-pigpio-2.2.1.jar\n     pi4j-plugin-raspberrypi-2.2.1.jar\n     slf4j-api-1.7.32.jar\n</code></pre>\n<p>gradle <code>application</code> will create Run Script like <code>DemoApp</code> or <code>DemoApp.bat</code></p>\n<p>your dependencies implementation jar will put in <code>lib</code>.</p>\n"}],"owner":{"account_id":19502206,"reputation":1,"user_id":14267978,"display_name":"Chirag Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677333393,"creation_date":1677310356,"question_id":75563934,"body_markdown":"I am trying to build a Java project that I am going to eventually build into an executable Jar file. \r\nMy Java project has some dependencies which are not packed inside my Jar file. So how can I make it so, so that when I run my jar file it will automatically download all the dependencies needed for it in order to run properly.\r\n\r\nI dont want my jar file to be a fat jar file.\r\n\r\nMy Current build.gradle file looks like this:\r\n\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java application project to get you started.\r\n * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/8.0.1/userguide/building_java_projects.html\r\n */\r\n\r\n\r\n\r\nplugins {\r\n    // Apply the application plugin to add support for building a CLI application in Java.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;com.pi4j:pi4j-core:2.3.0&#39;\r\n    // implementation &#39;com.pi4j:pi4j-ktx:2.3.0&#39; // Kotlin DSL\r\n    implementation(&quot;com.pi4j:pi4j-plugin-raspberrypi:2.2.1&quot;)\r\n    implementation(&quot;com.pi4j:pi4j-plugin-pigpio:2.2.1&quot;)\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;new_folder.App&#39;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: application.mainClass\r\n    }\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n","title":"Build Jar file that download its dependencies automatically","body":"<p>I am trying to build a Java project that I am going to eventually build into an executable Jar file.\nMy Java project has some dependencies which are not packed inside my Jar file. So how can I make it so, so that when I run my jar file it will automatically download all the dependencies needed for it in order to run properly.</p>\n<p>I dont want my jar file to be a fat jar file.</p>\n<p>My Current build.gradle file looks like this:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/8.0.1/userguide/building_java_projects.html\n */\n\n\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'com.pi4j:pi4j-core:2.3.0'\n    // implementation 'com.pi4j:pi4j-ktx:2.3.0' // Kotlin DSL\n    implementation(&quot;com.pi4j:pi4j-plugin-raspberrypi:2.2.1&quot;)\n    implementation(&quot;com.pi4j:pi4j-plugin-pigpio:2.2.1&quot;)\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'new_folder.App'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': application.mainClass\n    }\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","solid-principles"],"owner":{"account_id":20001488,"reputation":11,"user_id":14660357,"display_name":"alias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677332462,"creation_date":1677332462,"question_id":75565800,"body_markdown":"if i have the following service implementation:\r\n\r\n`    @Service\r\n     @Slf4j\r\n    public class ServiceImpl implements Service {\r\n    private final FeignClient feignClient;\r\n\r\n\r\n     @Autowired\r\n     public ServiceImpl ( AnyClient implements ) {\r\n        this.anyClient= feignClient;\r\n    }\r\n\r\n\r\n @Override\r\n    public Page&lt;Service&gt; getServices(String applicationId) {\r\n\r\n        Application application = anyClient.getApplicationById(applicationId);\r\n        return application;\r\n    }\r\n\r\n`\r\n\r\n\r\ncurrently anyClient is a feign client, i am in the process of merging two microservices into one and in doing so i want to replace the feign client (private final &quot;FeignClient&quot; anyClient;) with method invocation so without changing the ( &quot;anyClient&quot; in &quot;anyClient.getApplicationById(applicationId);&quot; ) i want to be able to achieve the dependency injection.\r\n\r\ni tried searching to understand dependency injection and foudn that the @autowired is the part that helps achieve the dependency injection, but i dont know if i replaced the FeignClient would be right or what should i do to be able to achieve dependency injection and replace the feign client with method invocation","title":"how to achieve dependency injection in replacing feign client in a spring boot application","body":"<p>if i have the following service implementation:</p>\n<p>`    @Service\n@Slf4j\npublic class ServiceImpl implements Service {\nprivate final FeignClient feignClient;</p>\n<pre><code> @Autowired\n public ServiceImpl ( AnyClient implements ) {\n    this.anyClient= feignClient;\n}\n</code></pre>\n<p>@Override\npublic Page getServices(String applicationId) {</p>\n<pre><code>    Application application = anyClient.getApplicationById(applicationId);\n    return application;\n}\n</code></pre>\n<p>`</p>\n<p>currently anyClient is a feign client, i am in the process of merging two microservices into one and in doing so i want to replace the feign client (private final &quot;FeignClient&quot; anyClient;) with method invocation so without changing the ( &quot;anyClient&quot; in &quot;anyClient.getApplicationById(applicationId);&quot; ) i want to be able to achieve the dependency injection.</p>\n<p>i tried searching to understand dependency injection and foudn that the @autowired is the part that helps achieve the dependency injection, but i dont know if i replaced the FeignClient would be right or what should i do to be able to achieve dependency injection and replace the feign client with method invocation</p>\n"},{"tags":["java","redis","quarkus","uuid"],"comments":[{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1677330081,"post_id":75564903,"comment_id":133318616,"body_markdown":"Redis has no idea on UUID, you need to serialize `java.util.UUID` to string before setting it to Redis.","body":"Redis has no idea on UUID, you need to serialize <code>java.util.UUID</code> to string before setting it to Redis."}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677331875,"creation_date":1677322560,"question_id":75564903,"body_markdown":"Hello i&#39;m having an issue with the `java.util.UUID` object in a redis cache. I have a cache defined as follows\r\n\r\n```java\r\n    private final ValueCommands&lt;UUID, String&gt; commands;\r\n\r\n    public Cache(RedisDataSource ds) {\r\n        this.commands = ds.value(UUID.class, String.class);\r\n    }\r\n\r\n    public String get(UUID key) {\r\n        var value = commands.get(key);\r\n    }    \r\n```\r\n\r\nThis does not work. the get command is unable to find any values with that key.\r\n\r\nSo my question is, is UUID not supported? Should I always prefer the string key value pair?\r\n\r\n```java\r\n    private final ValueCommands&lt;String, String&gt; commands;\r\n\r\n    public Cache(RedisDataSource ds) {\r\n        this.commands = ds.value(String.class, String.class);\r\n    }\r\n\r\n    public String get(String key) {\r\n        var value = commands.get(key);\r\n    }    \r\n```\r\n\r\ndoing it like this works. \r\n\r\nI&#39;m testing this by connecting to the redis CLI and inputing a value with\r\n\r\n`SET 38e8598b-e700-440c-b92f-b2d078d6fb5f &quot;hello&quot;`\r\n\r\nthen calling `cache.get` and this does not work with UUID as shown above but this work with String\r\n\r\n\r\nEDIT based on comment based on @for_stack\r\n\r\nThe issue seems to be coming from if the key is not set by the quarkus application for example this works with UUID\r\n\r\n```java\r\n  @GET\r\n  @Produces(MediaType.APPLICATION_XML)\r\n  public String getFromRedis() {\r\n    cache.set(\r\n      UUID.fromString(&quot;32e8598b-e700-440c-b92f-b2d078d6fb5f&quot;),\r\n      &quot;hello-world&quot;\r\n    );\r\n    return cache.get(UUID.fromString(&quot;32e8598b-e700-440c-b92f-b2d078d6fb5f&quot;));\r\n  }\r\n```\r\n\r\nbut if i use the CLI to set the key to 32e8598b-e700-440c-b92f-b2d078d6fb5f it will not work\r\n\r\nEDIT 2\r\n\r\nThe string key value from the CLI is different from the one set from quarkus\r\n\r\n`&quot;\\&quot;12e8598b-e700-440c-b92f-b2d078d6fb5f\\&quot;&quot;` is the one quarkus set with UUID\r\n\r\nand when you set it from CLI its `&quot;12e8598b-e700-440c-b92f-b2d078d6fb5f&quot;`","title":"Java Quarkus using Redis as a Cache with UUID keys","body":"<p>Hello i'm having an issue with the <code>java.util.UUID</code> object in a redis cache. I have a cache defined as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final ValueCommands&lt;UUID, String&gt; commands;\n\n    public Cache(RedisDataSource ds) {\n        this.commands = ds.value(UUID.class, String.class);\n    }\n\n    public String get(UUID key) {\n        var value = commands.get(key);\n    }    \n</code></pre>\n<p>This does not work. the get command is unable to find any values with that key.</p>\n<p>So my question is, is UUID not supported? Should I always prefer the string key value pair?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final ValueCommands&lt;String, String&gt; commands;\n\n    public Cache(RedisDataSource ds) {\n        this.commands = ds.value(String.class, String.class);\n    }\n\n    public String get(String key) {\n        var value = commands.get(key);\n    }    \n</code></pre>\n<p>doing it like this works.</p>\n<p>I'm testing this by connecting to the redis CLI and inputing a value with</p>\n<p><code>SET 38e8598b-e700-440c-b92f-b2d078d6fb5f &quot;hello&quot;</code></p>\n<p>then calling <code>cache.get</code> and this does not work with UUID as shown above but this work with String</p>\n<p>EDIT based on comment based on @for_stack</p>\n<p>The issue seems to be coming from if the key is not set by the quarkus application for example this works with UUID</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GET\n  @Produces(MediaType.APPLICATION_XML)\n  public String getFromRedis() {\n    cache.set(\n      UUID.fromString(&quot;32e8598b-e700-440c-b92f-b2d078d6fb5f&quot;),\n      &quot;hello-world&quot;\n    );\n    return cache.get(UUID.fromString(&quot;32e8598b-e700-440c-b92f-b2d078d6fb5f&quot;));\n  }\n</code></pre>\n<p>but if i use the CLI to set the key to 32e8598b-e700-440c-b92f-b2d078d6fb5f it will not work</p>\n<p>EDIT 2</p>\n<p>The string key value from the CLI is different from the one set from quarkus</p>\n<p><code>&quot;\\&quot;12e8598b-e700-440c-b92f-b2d078d6fb5f\\&quot;&quot;</code> is the one quarkus set with UUID</p>\n<p>and when you set it from CLI its <code>&quot;12e8598b-e700-440c-b92f-b2d078d6fb5f&quot;</code></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362934939,"creation_date":1362934939,"answer_id":15324938,"question_id":15324925,"body_markdown":"As follows\r\n \r\n\r\n    String value = list.get(0).get(0);","title":"How do I call .get() on a 2d ArrayList","body":"<p>As follows</p>\n\n<pre><code>String value = list.get(0).get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1362934949,"creation_date":1362934949,"answer_id":15324940,"question_id":15324925,"body_markdown":"Java doesn&#39;t have 2d lists (or arrays, for that matter). Use something like this:\r\n\r\n    list.get(0).get(0)\r\n\r\nNote that arrays have a similar issue. You do not do this:\r\n\r\n    array[0,0]  // WRONG! This isn&#39;t Fortran!\r\n\r\nInstead you do this:\r\n\r\n    array[0][0]","title":"How do I call .get() on a 2d ArrayList","body":"<p>Java doesn't have 2d lists (or arrays, for that matter). Use something like this:</p>\n\n<pre><code>list.get(0).get(0)\n</code></pre>\n\n<p>Note that arrays have a similar issue. You do not do this:</p>\n\n<pre><code>array[0,0]  // WRONG! This isn't Fortran!\n</code></pre>\n\n<p>Instead you do this:</p>\n\n<pre><code>array[0][0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132328,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1362934954,"creation_date":1362934954,"answer_id":15324941,"question_id":15324925,"body_markdown":"You must use\r\n\r\n    list.get(0).get(0)\r\n\r\nsince you are not using a real 2-dimensional `List` but a `List` of `Lists`.","title":"How do I call .get() on a 2d ArrayList","body":"<p>You must use</p>\n\n<pre><code>list.get(0).get(0)\n</code></pre>\n\n<p>since you are not using a real 2-dimensional <code>List</code> but a <code>List</code> of <code>Lists</code>.</p>\n"},{"tags":[],"owner":{"account_id":1229114,"reputation":6049,"user_id":1194067,"accept_rate":73,"display_name":"Jeevan Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362935519,"creation_date":1362935043,"answer_id":15324972,"question_id":15324925,"body_markdown":"It being List of List, you try :   \r\n\r\n    String val = list.get(0).get(0);","title":"How do I call .get() on a 2d ArrayList","body":"<p>It being List of List, you try :   </p>\n\n<pre><code>String val = list.get(0).get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10484208,"reputation":686,"user_id":7728305,"display_name":"Aravinth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499801533,"creation_date":1499801533,"answer_id":45043080,"question_id":15324925,"body_markdown":"&lt;p&gt;This is a program to traverse the 2D-ArrayList. In this program instead of &lt;b&gt;LineX&lt;/b&gt; your can get item in the list (i , j ) &lt;b&gt;:-)&lt;/b&gt;&lt;/p&gt;\r\n&lt;p&gt;&lt;i&gt;PROGRAM:&lt;/i&gt;&lt;/p&gt;\r\n\r\n    Scanner scan = new Scanner(System.in);  \r\n    int no_of_rows = scan.nextInt();         //Number of rows \r\n    int no_of_columns = scan.nextInt();      //Number of columns \r\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; no_of_rows; i++) {      \r\n        list.add(new ArrayList&lt;&gt;());      //For every instance of row create an Arraylist\r\n        for (int j = 0; j &lt; no_of_columns; j++) {\r\n            list.get(i).add(scan.next());        //Specify values for each indices\r\n        }\r\n    }\r\n    //ArrayList Travesal\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        for (int j = 0; j &lt; list.get(i).size(); j++) {\r\n            System.out.print(list.get(i).get(j)+&quot; &quot;);   //LineX\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n*OUTPUT:*\r\n\r\n    2 3 \r\n    1 2 3 4 5 6 \r\n    1 2 3 \r\n    4 5 6\r\n\r\n ","title":"How do I call .get() on a 2d ArrayList","body":"<p>This is a program to traverse the 2D-ArrayList. In this program instead of <b>LineX</b> your can get item in the list (i , j ) <b>:-)</b></p>\n\n<p><i>PROGRAM:</i></p>\n\n<pre><code>Scanner scan = new Scanner(System.in);  \nint no_of_rows = scan.nextInt();         //Number of rows \nint no_of_columns = scan.nextInt();      //Number of columns \nArrayList&lt;ArrayList&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; no_of_rows; i++) {      \n    list.add(new ArrayList&lt;&gt;());      //For every instance of row create an Arraylist\n    for (int j = 0; j &lt; no_of_columns; j++) {\n        list.get(i).add(scan.next());        //Specify values for each indices\n    }\n}\n//ArrayList Travesal\nfor (int i = 0; i &lt; list.size(); i++) {\n    for (int j = 0; j &lt; list.get(i).size(); j++) {\n        System.out.print(list.get(i).get(j)+\" \");   //LineX\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p><em>OUTPUT:</em></p>\n\n<pre><code>2 3 \n1 2 3 4 5 6 \n1 2 3 \n4 5 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11402779,"reputation":1,"user_id":8359207,"display_name":"NIKHIL UPADHYAY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626072352,"creation_date":1626072352,"answer_id":68342975,"question_id":15324925,"body_markdown":"We can use below syntex to fullfill our requirement:\r\narrIJ=arr.get(i).get(j);\r\n\r\nI have to find the diagonal difference for the 2D list, where I use the above syntax:\r\n\r\nCode of Diagonal Difference in list:\r\n\r\n    public static int diagonalDifference(**List&lt;List&lt;Integer&gt;&gt; arr**) {\r\n            int size=arr.size();\r\n            int forwardDiagonal=0;\r\n            int backwardDiagonal=0;\r\n            \r\n            for(int i=0;i&lt;size;i++){\r\n                for(int j=0;j&lt;size;j++){\r\n                    if(i==j){\r\n                        forwardDiagonal=forwardDiagonal+**arr.get(i).get(j)**;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            for(int i=size-1;i&gt;=0;i--){\r\n                for(int j=0;j&lt;size;j++){\r\n                    if(i+j==size-1){\r\n                        backwardDiagonal=backwardDiagonal+**arr.get(i).get(j)**;\r\n                    }\r\n                }\r\n            }\r\n            return Math.abs(forwardDiagonal-backwardDiagonal);\r\n    \r\n        }","title":"How do I call .get() on a 2d ArrayList","body":"<p>We can use below syntex to fullfill our requirement:\narrIJ=arr.get(i).get(j);</p>\n<p>I have to find the diagonal difference for the 2D list, where I use the above syntax:</p>\n<p>Code of Diagonal Difference in list:</p>\n<pre><code>public static int diagonalDifference(**List&lt;List&lt;Integer&gt;&gt; arr**) {\n        int size=arr.size();\n        int forwardDiagonal=0;\n        int backwardDiagonal=0;\n        \n        for(int i=0;i&lt;size;i++){\n            for(int j=0;j&lt;size;j++){\n                if(i==j){\n                    forwardDiagonal=forwardDiagonal+**arr.get(i).get(j)**;\n                }\n            }\n        }\n        \n        for(int i=size-1;i&gt;=0;i--){\n            for(int j=0;j&lt;size;j++){\n                if(i+j==size-1){\n                    backwardDiagonal=backwardDiagonal+**arr.get(i).get(j)**;\n                }\n            }\n        }\n        return Math.abs(forwardDiagonal-backwardDiagonal);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":2147946,"reputation":1438,"user_id":1905900,"accept_rate":73,"display_name":"papercuts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48553,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":6,"score":5,"last_activity_date":1677331747,"creation_date":1362934870,"question_id":15324925,"body_markdown":"I have a 2d ArrayList\r\n   \r\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; list = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\nI want to get the item at say (0,0). \r\n\r\nI&#39;m looking for something like:\r\n\r\n    list.get(0,0)\r\n\r\n\r\nThanks!","title":"How do I call .get() on a 2d ArrayList","body":"<p>I have a 2d ArrayList</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;String&gt;&gt; list = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n</code></pre>\n\n<p>I want to get the item at say (0,0). </p>\n\n<p>I'm looking for something like:</p>\n\n<pre><code>list.get(0,0)\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1677421251,"post_id":75565403,"comment_id":133330454,"body_markdown":"Set seed in random, so it becomes deterministic for debugging purposes, then step through the code, after everything runs fine you can remove the seed again.","body":"Set seed in random, so it becomes deterministic for debugging purposes, then step through the code, after everything runs fine you can remove the seed again."}],"owner":{"account_id":24955760,"reputation":11,"user_id":18820159,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677331248,"creation_date":1677327945,"question_id":75565403,"body_markdown":"am trying to implement A* algorithm on a random 2D array.The output should be the 2D array with the path between the start and end point, but it only returns one or tow steps and stops(the path should be -1 until the end point). this is my code:\r\n\r\n    public class Matrix {\r\n\tRandom rand = new Random();\r\n\tint min = 2, max = 8;\r\n\tint a = (int)(Math.random() * (max - min + 1)) + min;\r\n\tint row_start = rand.nextInt(a);\r\n\tint col_start = rand.nextInt(a);\r\n\tint row_end = rand.nextInt(a);\r\n\tint col_end = rand.nextInt(a);\r\n\tint current_row;\r\n\tint current_col;\r\n\tint nx=0;\r\n\tint ny=0;\r\n\tint [][] M = new int [a][a];\r\n\t//*****************************************************************************\r\n\tpublic void create() {\r\n\t\tif(row_start == row_end &amp;&amp; col_start == col_end) {\r\n\t\t\tSystem.out.println(&quot;row_start: &quot; + row_start);\r\n\t\t\tSystem.out.println(&quot;col_start: &quot; + col_start);\r\n\t\t\tSystem.out.println(&quot;row_end: &quot; + row_end);\r\n\t\t\tSystem.out.println(&quot;col_end: &quot; + col_end);            \r\n\t \t\tSystem.out.println(&quot;Restart the programe please the starting point is the ending point.&quot;);\r\n\t \t\tSystem.exit(0);\r\n\t\t}\r\n\t\t//empty: 0; grass: 1; sand: 2; water: 3; wall: 4.\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tM[i][j] =  rand.nextInt(5);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tif(row_start == i &amp;&amp; col_start == j) {\r\n\t                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\r\n\t            } else if(row_end == i &amp;&amp; col_end == j) {\r\n\t                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\r\n\t            } else {\r\n\t                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\r\n\t            }\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t}\r\n\t}\r\n\t//*****************************************************************************\r\n\tpublic int manhattendistance(int x1, int y1, int x2, int y2) {\r\n\t\treturn Math.abs(x1 - x2) + Math.abs(y1 - y2) ;\r\n\t}\r\n\t//*****************************************************************************\r\n\t//distance between S and current point.\r\n\tpublic int g(int x, int y) {\r\n\t \treturn manhattendistance(row_start, col_start, x, y);\r\n\t}\r\n\t//*****************************************************************************\r\n\t//distance between E and current point.\t\r\n\tpublic int h(int x, int y) {\r\n\t \treturn manhattendistance(row_end, col_end, x, y);\r\n\t}\r\n\t//*****************************************************************************\r\n\t//sum of g and h.\t\t\r\n\tpublic int f(int x, int y) {\r\n\t\treturn g(x, y) + h(x, y) + M[x][y];\r\n\t}\r\n\t//*****************************************************************************\r\n\tpublic void move(int x, int y) {\r\n\t\tint min=0 ;\r\n\t\t//int nx=0;\r\n\t\t//int ny=0;\r\n\t\t//move up\r\n\t\tif(x &gt; 0) {\r\n\t\t\tmin = f(x-1, y);\r\n\t\t\tnx = x-1;\r\n\t\t\tny = y;\r\n\t\t}\r\n\t\t//move down.\r\n\t\tif(x &lt; (a - 1)) {\r\n\t\t\tif(f(x+1,y) &lt; min) {\r\n\t\t\t\tmin = f(x+1,y);\r\n\t\t\t\tnx = x+1;\r\n\t\t\t\tny = y;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//move left.\r\n\t\tif(y &gt; 0 ){\r\n\t\t\tif(f(x,y-1) &lt; min) {\r\n\t\t\t\tmin = f(x,y-1);\r\n\t\t\t\tnx = x;\r\n\t\t\t\tny = y-1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//move right.\r\n\t\tif(y &lt; (a - 1)) {\r\n\t\t\tif(f(x,y+1) &lt; min) {\r\n\t\t\t\tmin =  f(x,y+1);\r\n\t\t\t\tnx = x;\r\n\t\t\t\tny = y+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//the one with the lowest f value becomes -1.\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tif(nx == i &amp;&amp; ny == j) {\r\n\t                M[nx][ny] = -1;\t            \t\r\n\t            }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//**********************************************\r\n\t//A* algorithm.\r\n\tpublic void A_star() {\r\n\t\tint k=0;\r\n\t\tnx = row_start;\r\n\t\tny = col_start;\r\n    \twhile(nx != row_end || ny != col_end){\r\n\t\t\tk++;\r\n\t\t\tmove(nx, ny);\t\r\n\t\t\tif(k==100) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n    \t\r\n\t\tSystem.out.print(&quot;\\n---------the path looks like this:---------\\n\\n&quot;);\t\t\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tif(row_start == i &amp;&amp; col_start == j) {\r\n\t                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\r\n\t            }else if(row_end == i &amp;&amp; col_end == j) {\r\n\t                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\t            \t\r\n\t            }else {\r\n\t                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\r\n\t            }\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nthe output is something like this(changes every time i run the code):\r\n\r\n---------the path looks like this:---------\r\n\r\n 1\t 0\t E\t 4\t 3\t 3  \r\n 0\t 1\t 1\t 2\t -1\t 1  \r\n 1\t 0\t 2\t 3\t -1\t 4  \r\n 3\t 0\t 3\t 4\t S\t 2  \r\n 3\t 2\t 2\t 3\t 1\t 2  \r\n 1\t 3\t 4\t 1\t 4\t 4  \r\n\r\nHelp me to make it run right because i don&#39;t even know what the problem is.\r\n","title":"A* pathfinding algorithm implementation on 2d array","body":"<p>am trying to implement A* algorithm on a random 2D array.The output should be the 2D array with the path between the start and end point, but it only returns one or tow steps and stops(the path should be -1 until the end point). this is my code:</p>\n<pre><code>public class Matrix {\nRandom rand = new Random();\nint min = 2, max = 8;\nint a = (int)(Math.random() * (max - min + 1)) + min;\nint row_start = rand.nextInt(a);\nint col_start = rand.nextInt(a);\nint row_end = rand.nextInt(a);\nint col_end = rand.nextInt(a);\nint current_row;\nint current_col;\nint nx=0;\nint ny=0;\nint [][] M = new int [a][a];\n//*****************************************************************************\npublic void create() {\n    if(row_start == row_end &amp;&amp; col_start == col_end) {\n        System.out.println(&quot;row_start: &quot; + row_start);\n        System.out.println(&quot;col_start: &quot; + col_start);\n        System.out.println(&quot;row_end: &quot; + row_end);\n        System.out.println(&quot;col_end: &quot; + col_end);            \n        System.out.println(&quot;Restart the programe please the starting point is the ending point.&quot;);\n        System.exit(0);\n    }\n    //empty: 0; grass: 1; sand: 2; water: 3; wall: 4.\n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            M[i][j] =  rand.nextInt(5);\n        }\n    }\n    \n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            if(row_start == i &amp;&amp; col_start == j) {\n                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\n            } else if(row_end == i &amp;&amp; col_end == j) {\n                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\n            } else {\n                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\n            }\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n}\n//*****************************************************************************\npublic int manhattendistance(int x1, int y1, int x2, int y2) {\n    return Math.abs(x1 - x2) + Math.abs(y1 - y2) ;\n}\n//*****************************************************************************\n//distance between S and current point.\npublic int g(int x, int y) {\n    return manhattendistance(row_start, col_start, x, y);\n}\n//*****************************************************************************\n//distance between E and current point. \npublic int h(int x, int y) {\n    return manhattendistance(row_end, col_end, x, y);\n}\n//*****************************************************************************\n//sum of g and h.       \npublic int f(int x, int y) {\n    return g(x, y) + h(x, y) + M[x][y];\n}\n//*****************************************************************************\npublic void move(int x, int y) {\n    int min=0 ;\n    //int nx=0;\n    //int ny=0;\n    //move up\n    if(x &gt; 0) {\n        min = f(x-1, y);\n        nx = x-1;\n        ny = y;\n    }\n    //move down.\n    if(x &lt; (a - 1)) {\n        if(f(x+1,y) &lt; min) {\n            min = f(x+1,y);\n            nx = x+1;\n            ny = y;\n        }\n    }\n    //move left.\n    if(y &gt; 0 ){\n        if(f(x,y-1) &lt; min) {\n            min = f(x,y-1);\n            nx = x;\n            ny = y-1;\n        }\n    }\n    //move right.\n    if(y &lt; (a - 1)) {\n        if(f(x,y+1) &lt; min) {\n            min =  f(x,y+1);\n            nx = x;\n            ny = y+1;\n        }\n    }\n    //the one with the lowest f value becomes -1.\n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            if(nx == i &amp;&amp; ny == j) {\n                M[nx][ny] = -1;                 \n            }\n        }\n    }\n}\n//**********************************************\n//A* algorithm.\npublic void A_star() {\n    int k=0;\n    nx = row_start;\n    ny = col_start;\n    while(nx != row_end || ny != col_end){\n        k++;\n        move(nx, ny);   \n        if(k==100) {\n            break;\n        }\n    }\n    \n    System.out.print(&quot;\\n---------the path looks like this:---------\\n\\n&quot;);      \n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            if(row_start == i &amp;&amp; col_start == j) {\n                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\n            }else if(row_end == i &amp;&amp; col_end == j) {\n                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);                 \n            }else {\n                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\n            }\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>the output is something like this(changes every time i run the code):</p>\n<p>---------the path looks like this:---------</p>\n<p>1   0   E   4   3   3<br />\n0   1   1   2   -1  1<br />\n1   0   2   3   -1  4<br />\n3   0   3   4   S   2<br />\n3   2   2   3   1   2<br />\n1   3   4   1   4   4</p>\n<p>Help me to make it run right because i don't even know what the problem is.</p>\n"},{"tags":["java","spring-boot","spring-security","saml-2.0","spring-saml"],"owner":{"account_id":4560615,"reputation":41,"user_id":3703071,"display_name":"user3703071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677330576,"creation_date":1676320775,"question_id":75440946,"body_markdown":"I&#39;ve developed a small Java application as Service Provider to test the SAML authentication.\r\n\r\nThe archtecture is: front-end managed by apache (for Angular FE but now is not important) exposed on port 81, back-end managed by wildfly with spring boot + spring security application deployed into exposed on port 8080.\r\n\r\nI used okta as Identity Provider\r\n\r\nThis is my SecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Autowired\r\n\tprivate RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\r\n\t\r\n    @Value(&quot;${spring.websecurity.debug:false}&quot;)\r\n    boolean webSecurityDebug;\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.debug(webSecurityDebug);\r\n    }\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t    \t.authorizeRequests(authorize -&gt; \r\n\t    \t\tauthorize.antMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated()\r\n\t        ).saml2Login();\r\n\r\n\t\t// add auto-generation of ServiceProvider Metadata\r\n\t\tConverter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(relyingPartyRegistrationRepository);\r\n\t\tSaml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\t\thttp.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n\t}\r\n\t\r\n\r\n\t@Bean\r\n\tprotected RelyingPartyRegistrationRepository relyingPartyRegistrations2() throws Exception {\r\n\t\tFile verificationKey = new File(&quot;/somethingpath/okta.cert&quot;);\r\n\t    X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\r\n\t    Saml2X509Credential credential = Saml2X509Credential.verification(certificate);\r\n\t    RelyingPartyRegistration registration = RelyingPartyRegistration\r\n\t            .withRegistrationId(&quot;okta-saml&quot;)\r\n\t            .assertingPartyDetails(party -&gt; party\r\n\t                .entityId(&quot;http://www.okta.com/exk8bcocg4Dq....&quot;) //oktaid\r\n\t                .singleSignOnServiceLocation(&quot;https://dev-659....okta.com/app/dev-65946316_my_app/exk8bcocg.../sso/saml&quot;)\r\n\t                .wantAuthnRequestsSigned(false)\r\n\t                .verificationX509Credentials(c -&gt; c.add(credential))\r\n\t            ).build();\r\n\t    return new InMemoryRelyingPartyRegistrationRepository(registration);\r\n\t}\r\n\r\nIf I configure okta to use General Single Sign On URL/Recipient URL/Destination URL\r\n\r\nas     http://hostname:8080/contextroot/login/saml2/sso/okta-saml\r\n\r\nand the Audience Restriction (the endpoint of my SP metadata)\r\nas http://hostname:8080/contextroot/saml2/service-provider-metadata/okta-saml\r\n\r\nall works. I send the request to okta and after login my SP receive and parse the Response Assertion.\r\n\r\nMy SP metadata is this\r\n\r\n   \r\n\r\n     &lt;EntityDescriptor entityID=&quot;http://hostname:8080/contextroot/saml2/service-provider-metadata/okta-saml&quot;&gt;\r\n    &lt;md:SPSSODescriptor WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n    &lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;**http://hostname:8080/contextroot/login/saml2/sso/okta-saml**&quot; index=&quot;1&quot;/&gt;\r\n    &lt;/md:SPSSODescriptor&gt;\r\n    &lt;/EntityDescriptor&gt;\r\n\r\nBut I have a requirement: the redirect must not point to wildfly port but to apache port.\r\n\r\nSo, I configured apache with a reverse proxy in this way\r\n\r\n        ProxyPass           /PORTCAN/api/ http://hostname:8080/contextroot/ timeout=300\r\n    ProxyPassReverse    /PORTCAN/api/ http://hostname:8080/contextroot/ timeout=300\r\n\r\nand the     General Single Sign On URL/Recipient URL/Destination URL\r\n\r\nas     http://hostname:81/PORTCAN/api/login/saml2/sso/okta-saml\r\n\r\nIn this way I have an error when the response incoming after the login is parsed.\r\nI enabled the spring security log but they are not exaustive\r\n\r\n&gt; 2023-02-13 17:36:19,174 DEBUG\r\n&gt; [org.springframework.security.web.FilterChainProxy] (default task-21)\r\n&gt; Securing POST /login/saml2/sso/okta-saml 2023-02-13 17:36:19,175 DEBUG\r\n&gt; [org.springframework.security.web.context.SecurityContextPersistenceFilter]\r\n&gt; (default task-21) Set SecurityContextHolder to empty SecurityContext\r\n&gt; 2023-02-13 17:36:19,189 DEBUG\r\n&gt; [org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\r\n&gt; (default task-21) Processing SAML response from\r\n&gt; http://www.okta.com/exk8bcocg... 2023-02-13 17:36:19,206 DEBUG\r\n&gt; [org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\r\n&gt; (default task-21) Validating 1 assertions 2023-02-13 17:36:19,209\r\n&gt; DEBUG\r\n&gt; **[org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\r\n&gt; (default task-21) Found 2 validation errors in SAML response\r\n&gt; [id151023229724481221794016439]** 2023-02-13 17:36:19,209 DEBUG\r\n&gt; [org.springframework.security.authentication.DefaultAuthenticationEventPublisher]\r\n&gt; (default task-21) No event was found for the exception\r\n&gt; org.springframework.security.saml2.provider.service.authentication.Saml2AuthenticationException\r\n&gt; 2023-02-13 17:36:19,210 DEBUG\r\n&gt; [org.springframework.security.web.DefaultRedirectStrategy] (default\r\n&gt; task-21) Redirecting to /contexroot/login?error\r\n\r\n\r\nMy suspect is that he finds some kind of conflict with the new sp metadata\r\nbecause the &quot;Location&quot; attribute is different by the real General Single Sign On URL/Recipient URL/Destination URL\r\n\r\nOne is http://hostname:8080/contextroot/login/saml2/sso/okta-saml (SP)\r\nthe other is http://hostname:81/PORTCAN/api/login/saml2/sso/okta-saml (on OKTA)\r\n\r\nThe metadata is autogenerated and I don&#39;t know how to change programmatically the location attribute even supposing that this is the cause.\r\n\r\nAny suggest?\r\n\r\nThanks in advance","title":"Troubles configuring SAML authentication using reverse proxy","body":"<p>I've developed a small Java application as Service Provider to test the SAML authentication.</p>\n<p>The archtecture is: front-end managed by apache (for Angular FE but now is not important) exposed on port 81, back-end managed by wildfly with spring boot + spring security application deployed into exposed on port 8080.</p>\n<p>I used okta as Identity Provider</p>\n<p>This is my SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\n\n@Value(&quot;${spring.websecurity.debug:false}&quot;)\nboolean webSecurityDebug;\n\n@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.debug(webSecurityDebug);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests(authorize -&gt; \n            authorize.antMatchers(&quot;/&quot;).permitAll().anyRequest().authenticated()\n        ).saml2Login();\n\n    // add auto-generation of ServiceProvider Metadata\n    Converter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(relyingPartyRegistrationRepository);\n    Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n    http.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n}\n\n\n@Bean\nprotected RelyingPartyRegistrationRepository relyingPartyRegistrations2() throws Exception {\n    File verificationKey = new File(&quot;/somethingpath/okta.cert&quot;);\n    X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\n    Saml2X509Credential credential = Saml2X509Credential.verification(certificate);\n    RelyingPartyRegistration registration = RelyingPartyRegistration\n            .withRegistrationId(&quot;okta-saml&quot;)\n            .assertingPartyDetails(party -&gt; party\n                .entityId(&quot;http://www.okta.com/exk8bcocg4Dq....&quot;) //oktaid\n                .singleSignOnServiceLocation(&quot;https://dev-659....okta.com/app/dev-65946316_my_app/exk8bcocg.../sso/saml&quot;)\n                .wantAuthnRequestsSigned(false)\n                .verificationX509Credentials(c -&gt; c.add(credential))\n            ).build();\n    return new InMemoryRelyingPartyRegistrationRepository(registration);\n}\n</code></pre>\n<p>If I configure okta to use General Single Sign On URL/Recipient URL/Destination URL</p>\n<p>as     http://hostname:8080/contextroot/login/saml2/sso/okta-saml</p>\n<p>and the Audience Restriction (the endpoint of my SP metadata)\nas http://hostname:8080/contextroot/saml2/service-provider-metadata/okta-saml</p>\n<p>all works. I send the request to okta and after login my SP receive and parse the Response Assertion.</p>\n<p>My SP metadata is this</p>\n<pre><code> &lt;EntityDescriptor entityID=&quot;http://hostname:8080/contextroot/saml2/service-provider-metadata/okta-saml&quot;&gt;\n&lt;md:SPSSODescriptor WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\n&lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;**http://hostname:8080/contextroot/login/saml2/sso/okta-saml**&quot; index=&quot;1&quot;/&gt;\n&lt;/md:SPSSODescriptor&gt;\n&lt;/EntityDescriptor&gt;\n</code></pre>\n<p>But I have a requirement: the redirect must not point to wildfly port but to apache port.</p>\n<p>So, I configured apache with a reverse proxy in this way</p>\n<pre><code>    ProxyPass           /PORTCAN/api/ http://hostname:8080/contextroot/ timeout=300\nProxyPassReverse    /PORTCAN/api/ http://hostname:8080/contextroot/ timeout=300\n</code></pre>\n<p>and the     General Single Sign On URL/Recipient URL/Destination URL</p>\n<p>as     http://hostname:81/PORTCAN/api/login/saml2/sso/okta-saml</p>\n<p>In this way I have an error when the response incoming after the login is parsed.\nI enabled the spring security log but they are not exaustive</p>\n<blockquote>\n<p>2023-02-13 17:36:19,174 DEBUG\n[org.springframework.security.web.FilterChainProxy] (default task-21)\nSecuring POST /login/saml2/sso/okta-saml 2023-02-13 17:36:19,175 DEBUG\n[org.springframework.security.web.context.SecurityContextPersistenceFilter]\n(default task-21) Set SecurityContextHolder to empty SecurityContext\n2023-02-13 17:36:19,189 DEBUG\n[org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\n(default task-21) Processing SAML response from\n<a href=\"http://www.okta.com/exk8bcocg..\" rel=\"nofollow noreferrer\">http://www.okta.com/exk8bcocg..</a>. 2023-02-13 17:36:19,206 DEBUG\n[org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\n(default task-21) Validating 1 assertions 2023-02-13 17:36:19,209\nDEBUG\n<strong>[org.springframework.security.saml2.provider.service.authentication.OpenSamlAuthenticationProvider]\n(default task-21) Found 2 validation errors in SAML response\n[id151023229724481221794016439]</strong> 2023-02-13 17:36:19,209 DEBUG\n[org.springframework.security.authentication.DefaultAuthenticationEventPublisher]\n(default task-21) No event was found for the exception\norg.springframework.security.saml2.provider.service.authentication.Saml2AuthenticationException\n2023-02-13 17:36:19,210 DEBUG\n[org.springframework.security.web.DefaultRedirectStrategy] (default\ntask-21) Redirecting to /contexroot/login?error</p>\n</blockquote>\n<p>My suspect is that he finds some kind of conflict with the new sp metadata\nbecause the &quot;Location&quot; attribute is different by the real General Single Sign On URL/Recipient URL/Destination URL</p>\n<p>One is http://hostname:8080/contextroot/login/saml2/sso/okta-saml (SP)\nthe other is http://hostname:81/PORTCAN/api/login/saml2/sso/okta-saml (on OKTA)</p>\n<p>The metadata is autogenerated and I don't know how to change programmatically the location attribute even supposing that this is the cause.</p>\n<p>Any suggest?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","swing","date","jtextfield"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":4,"creation_date":1348947358,"post_id":12655811,"comment_id":17072726,"body_markdown":"Have a look at [JFormattedTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html).","body":"Have a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a>."},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":2,"creation_date":1348954736,"post_id":12655811,"comment_id":17074412,"body_markdown":"Or use a more modern UI component like the [`JXDatePicker`](http://www.javalobby.org/java/forums/t45447.html)","body":"Or use a more modern UI component like the <a href=\"http://www.javalobby.org/java/forums/t45447.html\" rel=\"nofollow noreferrer\"><code>JXDatePicker</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1348947530,"creation_date":1348947530,"answer_id":12655856,"question_id":12655811,"body_markdown":"You should take a look at\r\n\r\n - [How to Use Formatted Text Fields](http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html) (in [particular](http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#format) with an [example](http://www.exampledepot.com/egs/javax.swing.text/formtext_FormTextDate.html) and [another](https://stackoverflow.com/questions/4252257/jformattedtextfield-with-maskformatter))\r\n - [How to use Spinners](http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html) (in [particular](http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html#standard))\r\n\r\nFor starters...\r\n","title":"how to make a jtextfield having a fixed date format?","body":"<p>You should take a look at</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">How to Use Formatted Text Fields</a> (in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#format\" rel=\"nofollow noreferrer\">particular</a> with an <a href=\"http://www.exampledepot.com/egs/javax.swing.text/formtext_FormTextDate.html\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://stackoverflow.com/questions/4252257/jformattedtextfield-with-maskformatter\">another</a>)</li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">How to use Spinners</a> (in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html#standard\" rel=\"nofollow noreferrer\">particular</a>)</li>\n</ul>\n\n<p>For starters...</p>\n"},{"tags":[],"owner":{"account_id":1468618,"reputation":466,"user_id":1380776,"accept_rate":73,"display_name":"joval"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1348947572,"creation_date":1348947572,"answer_id":12655863,"question_id":12655811,"body_markdown":"You can use JFormattedTextField with &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html&quot;&gt;SimpleDateFormat&lt;/a&gt;\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;your_format&quot;);\r\n    JFormattedTextField dateTextField = new JFormattedTextField(format);","title":"how to make a jtextfield having a fixed date format?","body":"<p>You can use JFormattedTextField with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\">SimpleDateFormat</a></p>\n\n<pre><code>DateFormat format = new SimpleDateFormat(\"your_format\");\nJFormattedTextField dateTextField = new JFormattedTextField(format);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":4,"creation_date":1371459655,"post_id":17143092,"comment_id":24812914,"body_markdown":"well ... there are some issues with your answer: the code snippet a) doesn&#39;t relate to your description b) it won&#39;t compile (even with thinking the dots as full-fledged code :-) c) doesn&#39;t comply with java naming conventions d) the logic is upside-down (assuming txtData is the formattedTextField) e) nothing new compared to the other answers ...","body":"well ... there are some issues with your answer: the code snippet a) doesn&#39;t relate to your description b) it won&#39;t compile (even with thinking the dots as full-fledged code :-) c) doesn&#39;t comply with java naming conventions d) the logic is upside-down (assuming txtData is the formattedTextField) e) nothing new compared to the other answers ..."}],"tags":[],"owner":{"account_id":2878346,"reputation":21,"user_id":2469754,"display_name":"Tyran Xavier Winchester"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1371456959,"creation_date":1371456959,"answer_id":17143092,"question_id":12655811,"body_markdown":"I think the best is using the JFormatedTextField.\r\n\r\nI have this code try this one:\r\n\r\n    package your_package;\r\n\r\n    import java.util.Date;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n\r\n    public class.....{\r\n\r\n    private String getdate(){\r\n          DateFormat format = new SimpleDateFormat(&quot;MM/DD/YYYY&quot;); //display your format.\r\n          Date date = new Date();//puts the date in variable.\r\n          return dateformat.format(date); //returns the format to the date variable.\r\n    }\r\n\r\n    public your_app{\r\n         .....\r\n         String date = new getdate();\r\n         txtDate.setvalue(date);\r\n    }\r\n    }\r\n\r\nHope this will give you an idea and helps... :)","title":"how to make a jtextfield having a fixed date format?","body":"<p>I think the best is using the JFormatedTextField.</p>\n\n<p>I have this code try this one:</p>\n\n<pre><code>package your_package;\n\nimport java.util.Date;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\n\npublic class.....{\n\nprivate String getdate(){\n      DateFormat format = new SimpleDateFormat(\"MM/DD/YYYY\"); //display your format.\n      Date date = new Date();//puts the date in variable.\n      return dateformat.format(date); //returns the format to the date variable.\n}\n\npublic your_app{\n     .....\n     String date = new getdate();\n     txtDate.setvalue(date);\n}\n}\n</code></pre>\n\n<p>Hope this will give you an idea and helps... :)</p>\n"},{"tags":[],"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427055523,"creation_date":1427055523,"answer_id":29199386,"question_id":12655811,"body_markdown":"If you&#39;re using Swing, add a JFormattedTextField to your JFrame.  In the Properties, click on formatterFactory.  In the dialog, choose the Date Category and then select a Format.  Now your format will be enforced.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kHixU.png","title":"how to make a jtextfield having a fixed date format?","body":"<p>If you're using Swing, add a JFormattedTextField to your JFrame.  In the Properties, click on formatterFactory.  In the dialog, choose the Date Category and then select a Format.  Now your format will be enforced.</p>\n\n<p><img src=\"https://i.stack.imgur.com/kHixU.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":15029735,"reputation":85,"user_id":10848253,"display_name":"Chauncey Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569852328,"creation_date":1569852328,"answer_id":58169579,"question_id":12655811,"body_markdown":"my solution in Netbeans is : select the date from JDateChooser component ,then one unfocusable jtextfield get the date from the selected date in JDateChooser:\r\n(1)in order to make fixed date format, in the properties of JDateChooser ,for example we set the date format :yyyy-MM-dd ;\r\n(2)make  &quot;jtextfield.setFocusable(false)&quot;, this is for avoiding input wrong date format or unwanted characters\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W2zlU.png\r\n  [2]: https://i.stack.imgur.com/QHH9G.png\r\n  [3]: https://i.stack.imgur.com/KNeIj.png\r\n  [4]: https://i.stack.imgur.com/RCPsk.png","title":"how to make a jtextfield having a fixed date format?","body":"<p>my solution in Netbeans is : select the date from JDateChooser component ,then one unfocusable jtextfield get the date from the selected date in JDateChooser:\n(1)in order to make fixed date format, in the properties of JDateChooser ,for example we set the date format :yyyy-MM-dd ;\n(2)make  \"jtextfield.setFocusable(false)\", this is for avoiding input wrong date format or unwanted characters</p>\n\n<p><a href=\"https://i.stack.imgur.com/W2zlU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2zlU.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/QHH9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QHH9G.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KNeIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KNeIj.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/RCPsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RCPsk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588009641,"creation_date":1587927557,"answer_id":61446403,"question_id":12655811,"body_markdown":"As has been said in the comments, you may prefer to look into a date picker component instead of a text field. A date picker component will save the user from struggling with date syntax.\r\n\r\n## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work. So for anyone preferring a text field for a date, I did a small experiment with using a `JFormattedTextField` in conjunction with the `LocalDate` class from java.time. For the text field I found it nicest to write a little subclass specifying that the type of object we get from a date field is `LocalDate`:\r\n\r\n    public class DateField extends JFormattedTextField {\r\n    \r\n    \tprivate static final long serialVersionUID = -4070878851012651987L;\r\n     \r\n    \tpublic DateField(DateTimeFormatter dateFormatter) {\r\n    \t\tsuper(dateFormatter.toFormat(LocalDate::from));\r\n    \t\tsetPreferredSize(new Dimension(100, 26));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic LocalDate getValue() {\r\n    \t\treturn (LocalDate) super.getValue();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nA `JFormattedTextField` accepts a `java.text.Format` object for formatting and parsing values. `DateTimeFormatter` from java.time has a couple of overloaded `toFormat` methods that give us `java.text.Format`. Even one where we can specify the type of object we get from the `Format`.\r\n\r\nTo try this date field class out:\r\n\r\n    public class TestFrame extends JFrame {\r\n    \r\n    \tpublic TestFrame() {\r\n    \t\tsuper(&quot;Test&quot;);\r\n    \t\tsetLayout(new FlowLayout());\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM)\r\n    \t\t\t\t.withLocale(Locale.forLanguageTag(&quot;es&quot;));\r\n    \t\tDateField dateField = new DateField(dateFormatter);\r\n    \t\tadd(dateField);\r\n    \t\tdateField.setValue(LocalDate.now(ZoneId.systemDefault()));\r\n    \t\t\r\n    \t\tJButton okButton = new JButton(&quot;OK&quot;);\r\n    \t\tokButton.addActionListener(ev -&gt; JOptionPane.showMessageDialog(TestFrame.this,\r\n    \t\t\t\t&quot;Date entered is &quot; + dateField.getValue()));\r\n    \t\tadd(okButton );\r\n    \t\t\r\n    \t\tpack();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew TestFrame().setVisible(true);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI specified Spanish format just to demonstrate clearly that formatting and parsing is going on. This is where you can specify yourself which format *your* users prefer. For example `DateTimeFormatter.ofLocalizedDate(FormatStyle.SHORT)` or `DateTimeFormatter.ofPattern(&quot;dd/MM/uu&quot;)`. Consider a short format since most users dont like typing more than necessary.\r\n\r\nNow the `JFrame` came up looking like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInstead of todays date I entered `11 ago. 2020` and clicked OK:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j2JVF.png\r\n  [2]: https://i.stack.imgur.com/AeLnH.png\r\n\r\n","title":"how to make a jtextfield having a fixed date format?","body":"<p>As has been said in the comments, you may prefer to look into a date picker component instead of a text field. A date picker component will save the user from struggling with date syntax.</p>\n\n<h2>java.time</h2>\n\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work. So for anyone preferring a text field for a date, I did a small experiment with using a <code>JFormattedTextField</code> in conjunction with the <code>LocalDate</code> class from java.time. For the text field I found it nicest to write a little subclass specifying that the type of object we get from a date field is <code>LocalDate</code>:</p>\n\n<pre><code>public class DateField extends JFormattedTextField {\n\n    private static final long serialVersionUID = -4070878851012651987L;\n\n    public DateField(DateTimeFormatter dateFormatter) {\n        super(dateFormatter.toFormat(LocalDate::from));\n        setPreferredSize(new Dimension(100, 26));\n    }\n\n    @Override\n    public LocalDate getValue() {\n        return (LocalDate) super.getValue();\n    }\n\n}\n</code></pre>\n\n<p>A <code>JFormattedTextField</code> accepts a <code>java.text.Format</code> object for formatting and parsing values. <code>DateTimeFormatter</code> from java.time has a couple of overloaded <code>toFormat</code> methods that give us <code>java.text.Format</code>. Even one where we can specify the type of object we get from the <code>Format</code>.</p>\n\n<p>To try this date field class out:</p>\n\n<pre><code>public class TestFrame extends JFrame {\n\n    public TestFrame() {\n        super(\"Test\");\n        setLayout(new FlowLayout());\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM)\n                .withLocale(Locale.forLanguageTag(\"es\"));\n        DateField dateField = new DateField(dateFormatter);\n        add(dateField);\n        dateField.setValue(LocalDate.now(ZoneId.systemDefault()));\n\n        JButton okButton = new JButton(\"OK\");\n        okButton.addActionListener(ev -&gt; JOptionPane.showMessageDialog(TestFrame.this,\n                \"Date entered is \" + dateField.getValue()));\n        add(okButton );\n\n        pack();\n    }\n\n    public static void main(String[] args) {\n        new TestFrame().setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>I specified Spanish format just to demonstrate clearly that formatting and parsing is going on. This is where you can specify yourself which format <em>your</em> users prefer. For example <code>DateTimeFormatter.ofLocalizedDate(FormatStyle.SHORT)</code> or <code>DateTimeFormatter.ofPattern(\"dd/MM/uu\")</code>. Consider a short format since most users dont like typing more than necessary.</p>\n\n<p>Now the <code>JFrame</code> came up looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j2JVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j2JVF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Instead of todays date I entered <code>11 ago. 2020</code> and clicked OK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AeLnH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AeLnH.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Link</h2>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677337755,"post_id":75565624,"comment_id":133319922,"body_markdown":"Where are you finding this formatterFactory? Which tool are you using?","body":"Where are you finding this formatterFactory? Which tool are you using?"}],"tags":[],"owner":{"account_id":25292658,"reputation":11,"user_id":19118408,"display_name":"  "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677330453,"creation_date":1677330453,"answer_id":75565624,"question_id":12655811,"body_markdown":"Use property formatterFactory and select format.[![like this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cDLZj.png","title":"how to make a jtextfield having a fixed date format?","body":"<p>Use property formatterFactory and select format.<a href=\"https://i.stack.imgur.com/cDLZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDLZj.png\" alt=\"like this\" /></a></p>\n"}],"owner":{"account_id":1890550,"reputation":81,"user_id":1708757,"display_name":"Janpol Seda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56382,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1677330453,"creation_date":1348947245,"question_id":12655811,"body_markdown":"I&#39;m having trouble creating a fixed date format using `JTextField`.  Is there a way for `JTextField` to have a fixed date format ?","title":"how to make a jtextfield having a fixed date format?","body":"<p>I'm having trouble creating a fixed date format using <code>JTextField</code>.  Is there a way for <code>JTextField</code> to have a fixed date format ?</p>\n"},{"tags":["java","sockets","ttl"],"owner":{"account_id":27000921,"reputation":86,"user_id":20562209,"display_name":"Benjamin Tenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677329550,"creation_date":1677329550,"question_id":75565550,"body_markdown":"I want to change IP_TTL value of a TCP socket to 65 for example. Before connecting it to a host on a port.\r\n\r\n\r\n```\r\npackage tls_ttl;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport javax.net.ssl.*;\r\n\r\npublic class TlsTtl {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Create a socket\r\n            Socket s = new Socket();\r\n            \r\n            // Set TTL\r\n            // I stuck here\r\n            s.setOption(SocketOptions.IP_TTL, 65);\r\n            \r\n            // Create an SSL context and wrap the socket in it\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, null, null);\r\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n            SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(s, &quot;www.google.com&quot;, 443, true);\r\n            \r\n            // Enable all supported cipher suites\r\n            String[] cipherSuites = sslSocket.getSupportedCipherSuites();\r\n            sslSocket.setEnabledCipherSuites(cipherSuites);\r\n            \r\n            // Connect to the server\r\n            sslSocket.startHandshake();\r\n            \r\n            // Send the GET request\r\n            String request = &quot;GET / HTTP/1.1\\r\\nHost: www.google.com\\r\\n\\r\\n&quot;;\r\n            PrintWriter out = new PrintWriter(new OutputStreamWriter(sslSocket.getOutputStream()));\r\n            out.print(request);\r\n            out.flush();\r\n            \r\n            // Receive the response\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(sslSocket.getInputStream()));\r\n            String line;\r\n            while ((line = in.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n            \r\n            // Clean up\r\n            sslSocket.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nThis is my code example.\r\nInitializing a socket and trying to set TTL value to 65 before connecting to &quot;www.google.com&quot; on port 443.\r\nMake a TLS handshake. Then receiving content of the page on &quot;/&quot; path with a get request.\r\nI am new in Java.","title":"How to set TTL(IP_TTL) field of a TCP socket before the connection happens?","body":"<p>I want to change IP_TTL value of a TCP socket to 65 for example. Before connecting it to a host on a port.</p>\n<pre><code>package tls_ttl;\n\nimport java.io.*;\nimport java.net.*;\nimport javax.net.ssl.*;\n\npublic class TlsTtl {\n\n    public static void main(String[] args) {\n        try {\n            // Create a socket\n            Socket s = new Socket();\n            \n            // Set TTL\n            // I stuck here\n            s.setOption(SocketOptions.IP_TTL, 65);\n            \n            // Create an SSL context and wrap the socket in it\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(null, null, null);\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n            SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(s, &quot;www.google.com&quot;, 443, true);\n            \n            // Enable all supported cipher suites\n            String[] cipherSuites = sslSocket.getSupportedCipherSuites();\n            sslSocket.setEnabledCipherSuites(cipherSuites);\n            \n            // Connect to the server\n            sslSocket.startHandshake();\n            \n            // Send the GET request\n            String request = &quot;GET / HTTP/1.1\\r\\nHost: www.google.com\\r\\n\\r\\n&quot;;\n            PrintWriter out = new PrintWriter(new OutputStreamWriter(sslSocket.getOutputStream()));\n            out.print(request);\n            out.flush();\n            \n            // Receive the response\n            BufferedReader in = new BufferedReader(new InputStreamReader(sslSocket.getInputStream()));\n            String line;\n            while ((line = in.readLine()) != null) {\n                System.out.println(line);\n            }\n            \n            // Clean up\n            sslSocket.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>This is my code example.\nInitializing a socket and trying to set TTL value to 65 before connecting to &quot;www.google.com&quot; on port 443.\nMake a TLS handshake. Then receiving content of the page on &quot;/&quot; path with a get request.\nI am new in Java.</p>\n"},{"tags":["java","spring","spring-boot","file","digital-signature"],"comments":[{"owner":{"account_id":8641254,"reputation":149,"user_id":6469880,"display_name":"angcap"},"score":0,"creation_date":1677594792,"post_id":75565523,"comment_id":133366221,"body_markdown":"Hi, i&#39;m using Tika.detect API and some p7m files are detected as application/x-dbf","body":"Hi, i&#39;m using Tika.detect API and some p7m files are detected as application/x-dbf"},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1679313035,"post_id":75565523,"comment_id":133693317,"body_markdown":"yes, that was the problem, can&#39;t show the code but solved with some walkaround","body":"yes, that was the problem, can&#39;t show the code but solved with some walkaround"},{"owner":{"account_id":8641254,"reputation":149,"user_id":6469880,"display_name":"angcap"},"score":0,"creation_date":1679650050,"post_id":75565523,"comment_id":133762599,"body_markdown":"can you share somerhing useful?","body":"can you share somerhing useful?"},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1679739098,"post_id":75565523,"comment_id":133777251,"body_markdown":"What do u need? Anyway, I found a sign removal method (aka return the original document binaries) that can be used to check the triplet (application/content, magic number and extension) of the p7m as pdf (original binaries have to give back a. pdf) then checked signature through BouncyCastle libraries","body":"What do u need? Anyway, I found a sign removal method (aka return the original document binaries) that can be used to check the triplet (application/content, magic number and extension) of the p7m as pdf (original binaries have to give back a. pdf) then checked signature through BouncyCastle libraries"},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1679739191,"post_id":75565523,"comment_id":133777261,"body_markdown":"For the detection used Tika","body":"For the detection used Tika"}],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677329228,"creation_date":1677329228,"question_id":75565523,"body_markdown":"Trying to detect a signed file doesn&#39;t gives back the right extension and content type:\r\n\r\n```java\r\n    byte[] content = parameters.getBytes();\r\n\r\n    TikaConfig config = TikaConfig.getDefaultConfig();\r\n    Metadata metadata = new Metadata();\r\n\r\n    try {\r\n\r\n        InputStream stream = TikaInputStream.get(content, metadata);\r\n        MediaType mediaType = config.getMimeRepository().detect(stream, metadata);\r\n\r\n        MimeType mimeType = config.getMimeRepository().forName(mediaType.toString());\r\n        String extension = mimeType.getExtension();\r\n\r\n    } catch (IOException | MimeTypeException e) { return false; }\r\n``` \r\nWhile doing that through tika API there&#39;s no problem with files such as ```PDF``` or ```JPG```,\r\nwas easy to find the magic number in order to check the autenticity of the file, there&#39;s no much documentation around ```P7M``` and can&#39;t find it&#39;s magic number.\r\n\r\nSome attempts on the right file that i needed to test gave back a ```.dbf``` instead of a ```.p7m``` and others on example files on the internet were detected as ```application/pkcs7-signature``` with the ```.p7s``` extension, but that wasn&#39;t right.\r\n\r\nShall i use other libraries (even though i would rather use either ```Tika``` or ```BouncyCastle```)?\r\n\r\nDid i messed up something on the code?","title":"How to detect a .p7m file content-type, magic number and extension","body":"<p>Trying to detect a signed file doesn't gives back the right extension and content type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    byte[] content = parameters.getBytes();\n\n    TikaConfig config = TikaConfig.getDefaultConfig();\n    Metadata metadata = new Metadata();\n\n    try {\n\n        InputStream stream = TikaInputStream.get(content, metadata);\n        MediaType mediaType = config.getMimeRepository().detect(stream, metadata);\n\n        MimeType mimeType = config.getMimeRepository().forName(mediaType.toString());\n        String extension = mimeType.getExtension();\n\n    } catch (IOException | MimeTypeException e) { return false; }\n</code></pre>\n<p>While doing that through tika API there's no problem with files such as <code>PDF</code> or <code>JPG</code>,\nwas easy to find the magic number in order to check the autenticity of the file, there's no much documentation around <code>P7M</code> and can't find it's magic number.</p>\n<p>Some attempts on the right file that i needed to test gave back a <code>.dbf</code> instead of a <code>.p7m</code> and others on example files on the internet were detected as <code>application/pkcs7-signature</code> with the <code>.p7s</code> extension, but that wasn't right.</p>\n<p>Shall i use other libraries (even though i would rather use either <code>Tika</code> or <code>BouncyCastle</code>)?</p>\n<p>Did i messed up something on the code?</p>\n"},{"tags":["java","spring","spring-boot","properties-file","spring-shell"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677329491,"post_id":75565458,"comment_id":133318519,"body_markdown":"Can you try `java -Dspring.config.location=application.yaml -jar ovh-email-creator.jar`?","body":"Can you try <code>java -Dspring.config.location=application.yaml -jar ovh-email-creator.jar</code>?"}],"owner":{"account_id":23985353,"reputation":1,"user_id":17972232,"display_name":"hx84"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677328891,"creation_date":1677328406,"question_id":75565458,"body_markdown":"how can I set another properties file location in Spring Shell?\r\n\r\nWhen I try\r\n\r\n```bash\r\njava -jar ovh-email-creator.jar --spring.config.location=application.yaml\r\n```\r\n\r\nI got a\r\n\r\n```bash\r\nNo command found for &#39;--spring.config.location=application.yaml&#39;\r\n```\r\n\r\nerror because spring try to invoke that command and it is does not exists.\r\n\r\nHow can I set another properties file location in Spring Shell?","title":"Spring Shell another properties location","body":"<p>how can I set another properties file location in Spring Shell?</p>\n<p>When I try</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar ovh-email-creator.jar --spring.config.location=application.yaml\n</code></pre>\n<p>I got a</p>\n<pre class=\"lang-bash prettyprint-override\"><code>No command found for '--spring.config.location=application.yaml'\n</code></pre>\n<p>error because spring try to invoke that command and it is does not exists.</p>\n<p>How can I set another properties file location in Spring Shell?</p>\n"},{"tags":["java","spring-integration","multipart"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677260137,"creation_date":1677260137,"answer_id":75559697,"question_id":75553155,"body_markdown":"You don&#39;t need to create a file object and you cannot without a real operation system handler. You need to create a `MultiValueMap` as a payload of key which is going to be essentially a file name and your content as a value. Then a `FormHttpMessageConverter` of the `RestTemplate` will do the trick to transfer such a request to the service.\r\n\r\nI believe same can be applied for your bulk load.","title":"How to send message object to the API accepting Multipart file object?","body":"<p>You don't need to create a file object and you cannot without a real operation system handler. You need to create a <code>MultiValueMap</code> as a payload of key which is going to be essentially a file name and your content as a value. Then a <code>FormHttpMessageConverter</code> of the <code>RestTemplate</code> will do the trick to transfer such a request to the service.</p>\n<p>I believe same can be applied for your bulk load.</p>\n"},{"tags":[],"owner":{"account_id":11911846,"reputation":98,"user_id":10353601,"display_name":"Kiryl Valiushka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677328876,"creation_date":1677328876,"answer_id":75565495,"question_id":75553155,"body_markdown":"You can use smth like this:\r\n\r\n        var headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;file&quot;, new ByteArrayResource(dataString.getBytes()) {\r\n            @Override\r\n            public String getFilename() {\r\n                return &quot;file&quot;;\r\n            }\r\n        });\r\n\r\n        var request = new HttpEntity&lt;&gt;(body, headers);\r\n        return restTemplate.postForEntity(&quot;http://localhost:8080/receiveFile&quot;, request, String.class);","title":"How to send message object to the API accepting Multipart file object?","body":"<p>You can use smth like this:</p>\n<pre><code>    var headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;file&quot;, new ByteArrayResource(dataString.getBytes()) {\n        @Override\n        public String getFilename() {\n            return &quot;file&quot;;\n        }\n    });\n\n    var request = new HttpEntity&lt;&gt;(body, headers);\n    return restTemplate.postForEntity(&quot;http://localhost:8080/receiveFile&quot;, request, String.class);\n</code></pre>\n"}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677328876,"creation_date":1677219184,"question_id":75553155,"body_markdown":"I want to be able to send file to the api below, without physically creating the file\r\n\r\n     @PostMapping(value = &quot;/receiveFile&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;String&gt; receiveFile(@RequestParam(&quot;file&quot;) MultipartFile file\r\n                                               ){\r\n    }\r\n\r\n\r\nUsing Spring Integration - \r\n\r\nI  have below JDBC inbound channel adapater\r\n\r\n    &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n                                          channel=&quot;inputChannel&quot;\r\n                                          data-source=&quot;dataSource&quot;\r\n                                          query=&quot;SELECT * FROM Products&quot;\r\n                                          row-mapper=&quot;productRowMapper&quot;&gt;\r\n                                        \r\n            &lt;int:poller fixed-delay=&quot;3600&quot; time-units=&quot;SECONDS&quot;/&gt;\r\n        &lt;/int-jdbc:inbound-channel-adapter&gt;\r\n\r\nchannel &quot;inputChannel&quot; does processing, and generates a row in form of a string for each product below\r\n\r\n    public class Product{\r\n       String type;\r\n       int price;\r\n       String technology;\r\n      // getters and setters\r\n    }\r\n    \r\n    Product p = new Product();\r\n    p.setType(&quot;ABC&quot;);\r\n    p.setPrice(10000);\r\n    p.setTechnology(&quot;X&quot;);\r\n\r\nMessage&lt;String&gt; message  = new GenericMessage&lt;String&gt;(p.toString());\r\n\r\n    // Above message obj looks like as -&gt; GenericMessage[payload=ABC 10000 X] and each message there is a header &quot;fileName&quot;\r\n\r\n These messages are sent to an aggregator. The rows are grouped based on the file Name in this aggregator. The output of this is file-outbound-channel-adapter, which writes out file to a disk \r\n\r\n\r\ninstead of creating a file on disk and writing this row to it, it is possible to create a file object (but not creating a file on disk) and send this data to API above?\r\n\r\nAnother challenge is , the data is going to be polled through out the day, and at a specific time, I need send all the rows created to the API, there could be 10,000 such rows generated say between 8 AM to 8 PM. I have a rest API, which when invoked should send all these rows to the API, but as file.\r\n\r\n","title":"How to send message object to the API accepting Multipart file object?","body":"<p>I want to be able to send file to the api below, without physically creating the file</p>\n<pre><code> @PostMapping(value = &quot;/receiveFile&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;String&gt; receiveFile(@RequestParam(&quot;file&quot;) MultipartFile file\n                                           ){\n}\n</code></pre>\n<p>Using Spring Integration -</p>\n<p>I  have below JDBC inbound channel adapater</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n                                      channel=&quot;inputChannel&quot;\n                                      data-source=&quot;dataSource&quot;\n                                      query=&quot;SELECT * FROM Products&quot;\n                                      row-mapper=&quot;productRowMapper&quot;&gt;\n                                    \n        &lt;int:poller fixed-delay=&quot;3600&quot; time-units=&quot;SECONDS&quot;/&gt;\n    &lt;/int-jdbc:inbound-channel-adapter&gt;\n</code></pre>\n<p>channel &quot;inputChannel&quot; does processing, and generates a row in form of a string for each product below</p>\n<pre><code>public class Product{\n   String type;\n   int price;\n   String technology;\n  // getters and setters\n}\n\nProduct p = new Product();\np.setType(&quot;ABC&quot;);\np.setPrice(10000);\np.setTechnology(&quot;X&quot;);\n</code></pre>\n<p>Message message  = new GenericMessage(p.toString());</p>\n<pre><code>// Above message obj looks like as -&gt; GenericMessage[payload=ABC 10000 X] and each message there is a header &quot;fileName&quot;\n</code></pre>\n<p>These messages are sent to an aggregator. The rows are grouped based on the file Name in this aggregator. The output of this is file-outbound-channel-adapter, which writes out file to a disk</p>\n<p>instead of creating a file on disk and writing this row to it, it is possible to create a file object (but not creating a file on disk) and send this data to API above?</p>\n<p>Another challenge is , the data is going to be polled through out the day, and at a specific time, I need send all the rows created to the API, there could be 10,000 such rows generated say between 8 AM to 8 PM. I have a rest API, which when invoked should send all these rows to the API, but as file.</p>\n"},{"tags":["java","android","listview","google-cloud-firestore","popupmenu"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1677357503,"post_id":75565470,"comment_id":133323265,"body_markdown":"You need to add `onDataChanged` so that your list is reloaded everytime the data changes in the database.","body":"You need to add <code>onDataChanged</code> so that your list is reloaded everytime the data changes in the database."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677401552,"post_id":75565470,"comment_id":133327547,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677401585,"post_id":75565470,"comment_id":133327550,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or even this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) might help.","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> or even this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">resource</a> might help."}],"owner":{"account_id":27767459,"reputation":3,"user_id":21198507,"display_name":"Alma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677328736,"creation_date":1677328539,"question_id":75565470,"body_markdown":"in my adapter I added OnLongClickListener() and it opens a popup menu that when you press deletes that item from the listview and the firestore but I didn&#39;t succeed in refreshing my listview so when I delete the item will disappear. \r\n\r\nI used notifyDataSetChanged() and it works when I add a new item but when I delete an item it doesn&#39;t work\r\n\r\nMy ListView: \r\npublic class NotesLV extends AppCompatActivity {\r\n\r\n    private ArrayList&lt;String&gt; notes = new ArrayList&lt;String&gt;();\r\n    private ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    private ListView listView;\r\n    private FirebaseFirestore db;\r\n    private static final String TAG=&quot;ALMA&quot;;\r\n    private ArrayList&lt;Notes&gt; allNotes;\r\n\r\n    private ArrayList&lt;Notes&gt; noNotes= new ArrayList&lt;&gt;();\r\n    private String mail;\r\n    private FloatingActionButton floatingbtn;\r\n\r\n    private NotesLVAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_notes_lv);\r\n\r\n        listView = (ListView) findViewById(R.id.listView);\r\n\r\n        floatingbtn = (FloatingActionButton) findViewById(R.id.floatingActionButton);\r\n        floatingbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(NotesLV.this, CreateNote.class);\r\n                startActivity(intent);\r\n                /*Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();*/\r\n            }\r\n        });\r\n\r\n\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        mail = user.getEmail().toString();\r\n\r\n        //notes.add(&quot;Example Note&quot;);\r\n        //arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, notes);\r\n        allNotes = new ArrayList&lt;&gt;();\r\n        db = FirebaseFirestore.getInstance();\r\n        listView.setAdapter(arrayAdapter);\r\n        Log.d(TAG, &quot;listview&quot;);\r\n        adapter = new NotesLVAdapter(NotesLV.this, allNotes);\r\n        listView.setAdapter(adapter);\r\n        //loadNotesToListView();\r\n    }\r\n\r\n\r\n    public void loadNotesToListView(){\r\n        allNotes.clear();\r\n        adapter.notifyDataSetChanged();\r\n        Log.d(TAG,&quot;loading&quot;);\r\n        db.collection(&quot;Folder&quot;).document(mail).collection(&quot;Notes&quot;).orderBy(&quot;date&quot;,Query.Direction.DESCENDING).get()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                // after getting the data we are calling on success method\r\n                // and inside this method we are checking if the received\r\n                // query snapshot is empty or not.\r\n                if (!queryDocumentSnapshots.isEmpty())\r\n                {\r\n                    // if the snapshot is not empty we are hiding\r\n                    // our progress bar and adding our data in a list.\r\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                    Log.d(TAG, &quot;List size: &quot; + list.size());\r\n                    for (DocumentSnapshot d : list) {\r\n                        // after getting this list we are passing\r\n                        // that list to our object class.\r\n                        Notes notes = d.toObject(Notes.class);\r\n                        //Log.d(&quot;TOSTRING&quot;, &quot;&quot;+notes.getDate());\r\n                        d.getId();\r\n                        // after getting data from Firebase we are\r\n                        // storing that data in our array list\r\n                        allNotes.add(notes);\r\n                        Log.d(TAG, &quot;added&quot;);\r\n                    }\r\n                    // after that we are passing our array list to our adapter class.\r\n                    adapter = new NotesLVAdapter(NotesLV.this, allNotes);\r\n\r\n                    // after passing this array list to our adapter\r\n                    // class we are setting our adapter to our list view.\r\n                    listView.setAdapter(adapter);\r\n                    Log.d(TAG, &quot;adapter was set&quot;);\r\n\r\n                }\r\n                else\r\n                {\r\n                    Log.d(TAG,&quot;No data found in query&quot;);\r\n                    // if the snapshot is empty we are displaying a toast message.\r\n                    Toast.makeText(NotesLV.this, &quot;No data found in Database&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                // we are displaying a toast message\r\n                // when we get any error from Firebase.\r\n                Toast.makeText(NotesLV.this, &quot;Fail to load data..&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        adapter.notifyDataSetChanged();\r\n        loadNotesToListView();\r\n    }\r\n\r\n}\r\n\r\nmy adapter:\r\npublic class NotesLVAdapter extends ArrayAdapter&lt;Notes&gt; {\r\n\r\n    private FirebaseFirestore db;\r\n    private String mail;\r\n\r\n    public NotesLVAdapter(Context context, ArrayList&lt;Notes&gt; notes) {\r\n        super(context, 0, notes);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View listItemView = convertView;\r\n\r\n        if (listItemView==null) {\r\n            listItemView = LayoutInflater.from(getContext()).inflate(R.layout.activity_notes_d,parent, false);\r\n        }\r\n\r\n        Notes notes = getItem(position);\r\n        db= FirebaseFirestore.getInstance();\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        mail= user.getEmail().toString();\r\n        TextView tvNTitle = (TextView) listItemView.findViewById(R.id.tvNoteName);\r\n        tvNTitle.setText(notes.getNoteName());\r\n        TextView tvNDate = (TextView) listItemView.findViewById(R.id.tvDate);\r\n        tvNDate.setText(notes.getSavedDate());\r\n        ImageView imageBoss=(ImageView)listItemView.findViewById(R.id.imgBoss);\r\n        String pic=&quot;&quot;;\r\n        listItemView.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(&quot;ALMA&quot;,&quot;clicked&quot;);\r\n                Intent intent = new Intent(view.getContext(), CreateNote.class);\r\n                intent.putExtra(&quot;title&quot;,tvNTitle.getText().toString());\r\n                intent.putExtra(&quot;content&quot;,notes.getContent().toString());\r\n                intent.putExtra(&quot;reminder&quot;,notes.needReminder());\r\n                intent.putExtra(&quot;saved date&quot;,notes.getSavedDate().toString());\r\n                intent.putExtra(&quot;date&quot;,notes.getDate().toString());\r\n                view.getContext().startActivity(intent);\r\n            }\r\n        });\r\n\r\n        listItemView.setOnLongClickListener(new AdapterView.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View view) {\r\n                PopupMenu popupMenu=new PopupMenu(view.getContext(), view);\r\n                popupMenu.setGravity(Gravity.END);\r\n                popupMenu.getMenuInflater().inflate(R.menu.notes_popup_menu,popupMenu.getMenu());\r\n                popupMenu.show();\r\n                popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener(){\r\n\r\n                    @Override\r\n                    public boolean onMenuItemClick(MenuItem menuItem) {\r\n                        int id=menuItem.getItemId();\r\n\r\n                        if(id==R.id.menu_edit) {\r\n                            Intent intent = new Intent(view.getContext(), CreateNote.class);\r\n                            intent.putExtra(&quot;title&quot;,tvNTitle.getText().toString());\r\n                            intent.putExtra(&quot;content&quot;,notes.getContent().toString());\r\n                            intent.putExtra(&quot;reminder&quot;,notes.needReminder());\r\n                            intent.putExtra(&quot;date&quot;,notes.getDate().toString());\r\n                            view.getContext().startActivity(intent);\r\n                        }\r\n                        if(id==R.id.menu_delete){\r\n                            // below line is for getting the collection\r\n                            // where we are storing our courses.\r\n                            db.collection(&quot;Folder&quot;).document(mail).collection(&quot;Notes&quot;).document(notes.getNoteName()+&quot;, &quot;+notes.getSavedDate()).delete()\r\n                                    // after deleting call on complete listener\r\n                                    // method to delete this data.\r\n                                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                            // inside on complete method we are checking\r\n                                            // if the task is success or not.\r\n                                            if (task.isSuccessful()) {\r\n                                                // this method is called when the task is success\r\n                                                // after deleting we are starting our MainActivity.\r\n                                                Log.d(&quot;ALMA&quot;,&quot;deleted&quot;);\r\n                                            } else {\r\n                                                // if the delete operation is failed\r\n                                                // we are displaying a toast message.\r\n                                                Log.d(&quot;ALMA&quot;,&quot;didnt delete&quot;);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                        }\r\n                        return true;\r\n                    }\r\n                });\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return listItemView;\r\n    }\r\n\r\n\r\n}","title":"how to refresh listview after deleting item in the adapter","body":"<p>in my adapter I added OnLongClickListener() and it opens a popup menu that when you press deletes that item from the listview and the firestore but I didn't succeed in refreshing my listview so when I delete the item will disappear.</p>\n<p>I used notifyDataSetChanged() and it works when I add a new item but when I delete an item it doesn't work</p>\n<p>My ListView:\npublic class NotesLV extends AppCompatActivity {</p>\n<pre><code>private ArrayList&lt;String&gt; notes = new ArrayList&lt;String&gt;();\nprivate ArrayAdapter&lt;String&gt; arrayAdapter;\n\nprivate ListView listView;\nprivate FirebaseFirestore db;\nprivate static final String TAG=&quot;ALMA&quot;;\nprivate ArrayList&lt;Notes&gt; allNotes;\n\nprivate ArrayList&lt;Notes&gt; noNotes= new ArrayList&lt;&gt;();\nprivate String mail;\nprivate FloatingActionButton floatingbtn;\n\nprivate NotesLVAdapter adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_notes_lv);\n\n    listView = (ListView) findViewById(R.id.listView);\n\n    floatingbtn = (FloatingActionButton) findViewById(R.id.floatingActionButton);\n    floatingbtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(NotesLV.this, CreateNote.class);\n            startActivity(intent);\n            /*Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                    .setAction(&quot;Action&quot;, null).show();*/\n        }\n    });\n\n\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    mail = user.getEmail().toString();\n\n    //notes.add(&quot;Example Note&quot;);\n    //arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, notes);\n    allNotes = new ArrayList&lt;&gt;();\n    db = FirebaseFirestore.getInstance();\n    listView.setAdapter(arrayAdapter);\n    Log.d(TAG, &quot;listview&quot;);\n    adapter = new NotesLVAdapter(NotesLV.this, allNotes);\n    listView.setAdapter(adapter);\n    //loadNotesToListView();\n}\n\n\npublic void loadNotesToListView(){\n    allNotes.clear();\n    adapter.notifyDataSetChanged();\n    Log.d(TAG,&quot;loading&quot;);\n    db.collection(&quot;Folder&quot;).document(mail).collection(&quot;Notes&quot;).orderBy(&quot;date&quot;,Query.Direction.DESCENDING).get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n            // after getting the data we are calling on success method\n            // and inside this method we are checking if the received\n            // query snapshot is empty or not.\n            if (!queryDocumentSnapshots.isEmpty())\n            {\n                // if the snapshot is not empty we are hiding\n                // our progress bar and adding our data in a list.\n                List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                Log.d(TAG, &quot;List size: &quot; + list.size());\n                for (DocumentSnapshot d : list) {\n                    // after getting this list we are passing\n                    // that list to our object class.\n                    Notes notes = d.toObject(Notes.class);\n                    //Log.d(&quot;TOSTRING&quot;, &quot;&quot;+notes.getDate());\n                    d.getId();\n                    // after getting data from Firebase we are\n                    // storing that data in our array list\n                    allNotes.add(notes);\n                    Log.d(TAG, &quot;added&quot;);\n                }\n                // after that we are passing our array list to our adapter class.\n                adapter = new NotesLVAdapter(NotesLV.this, allNotes);\n\n                // after passing this array list to our adapter\n                // class we are setting our adapter to our list view.\n                listView.setAdapter(adapter);\n                Log.d(TAG, &quot;adapter was set&quot;);\n\n            }\n            else\n            {\n                Log.d(TAG,&quot;No data found in query&quot;);\n                // if the snapshot is empty we are displaying a toast message.\n                Toast.makeText(NotesLV.this, &quot;No data found in Database&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            // we are displaying a toast message\n            // when we get any error from Firebase.\n            Toast.makeText(NotesLV.this, &quot;Fail to load data..&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n}\n@Override\nprotected void onResume() {\n    super.onResume();\n    adapter.notifyDataSetChanged();\n    loadNotesToListView();\n}\n</code></pre>\n<p>}</p>\n<p>my adapter:\npublic class NotesLVAdapter extends ArrayAdapter {</p>\n<pre><code>private FirebaseFirestore db;\nprivate String mail;\n\npublic NotesLVAdapter(Context context, ArrayList&lt;Notes&gt; notes) {\n    super(context, 0, notes);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View listItemView = convertView;\n\n    if (listItemView==null) {\n        listItemView = LayoutInflater.from(getContext()).inflate(R.layout.activity_notes_d,parent, false);\n    }\n\n    Notes notes = getItem(position);\n    db= FirebaseFirestore.getInstance();\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    mail= user.getEmail().toString();\n    TextView tvNTitle = (TextView) listItemView.findViewById(R.id.tvNoteName);\n    tvNTitle.setText(notes.getNoteName());\n    TextView tvNDate = (TextView) listItemView.findViewById(R.id.tvDate);\n    tvNDate.setText(notes.getSavedDate());\n    ImageView imageBoss=(ImageView)listItemView.findViewById(R.id.imgBoss);\n    String pic=&quot;&quot;;\n    listItemView.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view) {\n            Log.d(&quot;ALMA&quot;,&quot;clicked&quot;);\n            Intent intent = new Intent(view.getContext(), CreateNote.class);\n            intent.putExtra(&quot;title&quot;,tvNTitle.getText().toString());\n            intent.putExtra(&quot;content&quot;,notes.getContent().toString());\n            intent.putExtra(&quot;reminder&quot;,notes.needReminder());\n            intent.putExtra(&quot;saved date&quot;,notes.getSavedDate().toString());\n            intent.putExtra(&quot;date&quot;,notes.getDate().toString());\n            view.getContext().startActivity(intent);\n        }\n    });\n\n    listItemView.setOnLongClickListener(new AdapterView.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View view) {\n            PopupMenu popupMenu=new PopupMenu(view.getContext(), view);\n            popupMenu.setGravity(Gravity.END);\n            popupMenu.getMenuInflater().inflate(R.menu.notes_popup_menu,popupMenu.getMenu());\n            popupMenu.show();\n            popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener(){\n\n                @Override\n                public boolean onMenuItemClick(MenuItem menuItem) {\n                    int id=menuItem.getItemId();\n\n                    if(id==R.id.menu_edit) {\n                        Intent intent = new Intent(view.getContext(), CreateNote.class);\n                        intent.putExtra(&quot;title&quot;,tvNTitle.getText().toString());\n                        intent.putExtra(&quot;content&quot;,notes.getContent().toString());\n                        intent.putExtra(&quot;reminder&quot;,notes.needReminder());\n                        intent.putExtra(&quot;date&quot;,notes.getDate().toString());\n                        view.getContext().startActivity(intent);\n                    }\n                    if(id==R.id.menu_delete){\n                        // below line is for getting the collection\n                        // where we are storing our courses.\n                        db.collection(&quot;Folder&quot;).document(mail).collection(&quot;Notes&quot;).document(notes.getNoteName()+&quot;, &quot;+notes.getSavedDate()).delete()\n                                // after deleting call on complete listener\n                                // method to delete this data.\n                                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                        // inside on complete method we are checking\n                                        // if the task is success or not.\n                                        if (task.isSuccessful()) {\n                                            // this method is called when the task is success\n                                            // after deleting we are starting our MainActivity.\n                                            Log.d(&quot;ALMA&quot;,&quot;deleted&quot;);\n                                        } else {\n                                            // if the delete operation is failed\n                                            // we are displaying a toast message.\n                                            Log.d(&quot;ALMA&quot;,&quot;didnt delete&quot;);\n                                        }\n                                    }\n                                });\n                    }\n                    return true;\n                }\n            });\n            return true;\n        }\n    });\n\n    return listItemView;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","apache-flink","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677328352,"creation_date":1677328352,"answer_id":75565452,"question_id":75565192,"body_markdown":"You mustnt close the response in an interceptor. If you do, the response will be unreadable to the code that made the request.","title":"When should I close response for Interceptor?","body":"<p>You mustnt close the response in an interceptor. If you do, the response will be unreadable to the code that made the request.</p>\n"}],"owner":{"account_id":4595021,"reputation":683,"user_id":3727346,"display_name":"strider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75565452,"answer_count":1,"score":1,"last_activity_date":1677328352,"creation_date":1677325738,"question_id":75565192,"body_markdown":"I have a Flink Job that is making a POST Request and an Interceptor that&#39;s handling `429` error code. \r\n\r\nSomehow I&#39;m wondering if I need to close the response in the Interceptor.\r\nSometimes I&#39;m facing a warning about closing the response, and I want to ensure that the code is working correctly. \r\n\r\nHere&#39;s my Interceptor Class:\r\n\r\n```java\r\npublic Response intercept(Chain chain) throws IOException {\r\n\r\n    Response response = chain.proceed(chain.request());\r\n\r\n    if (!response.isSuccessful() &amp;&amp; response.code() == 429) {\r\n        LOG.error(&quot;Rate limit exceeded. Waiting 20 seconds.&quot;);\r\n        try {\r\n            Thread.sleep(20000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        response = chain.proceed(chain.request());\r\n    }\r\n    return response;\r\n}\r\n```\r\n\r\nShould it be enough if I close it before the return? Like the following\r\n\r\n```java\r\nresponse.body().close();\r\nreturn response;\r\n```\r\n\r\nThanks!\r\n\r\n\r\n","title":"When should I close response for Interceptor?","body":"<p>I have a Flink Job that is making a POST Request and an Interceptor that's handling <code>429</code> error code.</p>\n<p>Somehow I'm wondering if I need to close the response in the Interceptor.\nSometimes I'm facing a warning about closing the response, and I want to ensure that the code is working correctly.</p>\n<p>Here's my Interceptor Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response intercept(Chain chain) throws IOException {\n\n    Response response = chain.proceed(chain.request());\n\n    if (!response.isSuccessful() &amp;&amp; response.code() == 429) {\n        LOG.error(&quot;Rate limit exceeded. Waiting 20 seconds.&quot;);\n        try {\n            Thread.sleep(20000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        response = chain.proceed(chain.request());\n    }\n    return response;\n}\n</code></pre>\n<p>Should it be enough if I close it before the return? Like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.body().close();\nreturn response;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","spring-tool-suite","dbeaver"],"answers":[{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1495361899,"creation_date":1495361899,"answer_id":44095666,"question_id":44095665,"body_markdown":"If you installed ***zip*** archive or ***tar.gz*** archive of the ***dbeaver*** then\r\n\r\n - Go to dbeaver directory (Directory created after extraction of archive)\r\n - open dbeaver.ini in a text editor\r\n - Type the following at the top of that file\r\n\r\n        -vm\r\n        copy &amp; paste your java path here (up to bin)\r\n        \r\n        eg:\r\n        -vm\r\n        /home/admin/jdk1.8.0_131/bin\r\n\r\n - Save the file\r\n\r\n - Done\r\n\r\n     \r\n","title":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Dbeaver. No Java virtual machine","body":"<p>If you installed <strong><em>zip</em></strong> archive or <strong><em>tar.gz</em></strong> archive of the <strong><em>dbeaver</em></strong> then</p>\n\n<ul>\n<li>Go to dbeaver directory (Directory created after extraction of archive)</li>\n<li>open dbeaver.ini in a text editor</li>\n<li><p>Type the following at the top of that file</p>\n\n<pre><code>-vm\ncopy &amp; paste your java path here (up to bin)\n\neg:\n-vm\n/home/admin/jdk1.8.0_131/bin\n</code></pre></li>\n<li><p>Save the file</p></li>\n<li><p>Done</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9507059,"reputation":1,"user_id":7066202,"display_name":"Vishu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614662465,"creation_date":1614662465,"answer_id":66433742,"question_id":44095665,"body_markdown":"Found an article which shows the right sequence of vm argument in case it is not available in ini file.\r\nIssue with MacOS BigSur:-\r\nhttps://www.programmersought.com/article/20306372102/\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gkp8h.png","title":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Dbeaver. No Java virtual machine","body":"<p>Found an article which shows the right sequence of vm argument in case it is not available in ini file.\nIssue with MacOS BigSur:-\n<a href=\"https://www.programmersought.com/article/20306372102/\" rel=\"nofollow noreferrer\">https://www.programmersought.com/article/20306372102/</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gkp8h.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640680211,"creation_date":1640680211,"answer_id":70504509,"question_id":44095665,"body_markdown":"I have the same issue in windows 10 when I try to update DBeaver. I manage to solve it by downloading the `Windows 64 bit (installer)` in the official website and install it.","title":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Dbeaver. No Java virtual machine","body":"<p>I have the same issue in windows 10 when I try to update DBeaver. I manage to solve it by downloading the <code>Windows 64 bit (installer)</code> in the official website and install it.</p>\n"},{"tags":[],"owner":{"account_id":21046467,"reputation":21,"user_id":15467707,"display_name":"Engin &#199;ELK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677328078,"creation_date":1677328078,"answer_id":75565421,"question_id":44095665,"body_markdown":"I solved the problem by uninstalling dbaver and install again. If you have still problem with it try to solution what I did.","title":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Dbeaver. No Java virtual machine","body":"<p>I solved the problem by uninstalling dbaver and install again. If you have still problem with it try to solution what I did.</p>\n"}],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18759,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44095666,"answer_count":4,"score":4,"last_activity_date":1677328078,"creation_date":1495361899,"question_id":44095665,"body_markdown":"Java Virtual Machine not found while installing dbeaver tool in the system. What will do to recover from it ?.","title":"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Dbeaver. No Java virtual machine","body":"<p>Java Virtual Machine not found while installing dbeaver tool in the system. What will do to recover from it ?.</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1677294800,"post_id":75563022,"comment_id":133314898,"body_markdown":"JavaDocs stated `Files (or directories) are deleted in the reverse order that they are registered.`. So if you call clean root with deleteOnExit() at last, it will execute first.","body":"JavaDocs stated <code>Files (or directories) are deleted in the reverse order that they are registered.</code>. So if you call clean root with deleteOnExit() at last, it will execute first."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1677295221,"post_id":75563022,"comment_id":133314929,"body_markdown":"To fix that, put the `path.deleteOnExit();` before doing the recursion.","body":"To fix that, put the <code>path.deleteOnExit();</code> before doing the recursion."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1677296816,"post_id":75563022,"comment_id":133315076,"body_markdown":"@PeterMmm Hm so I can imagine the deleting order behaving like a stack. You have any idea they make it work in reverse order?","body":"@PeterMmm Hm so I can imagine the deleting order behaving like a stack. You have any idea they make it work in reverse order?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1677312734,"post_id":75563022,"comment_id":133316412,"body_markdown":"Probably this method is meant for temporary files and directories: you create a directory and immediately mark it as `deleteOnExit()`. Then you create a file in that directory and also immediately mark it as `deleteOnExit()`. For this case deleting them in reverse order is the correct way to do.","body":"Probably this method is meant for temporary files and directories: you create a directory and immediately mark it as <code>deleteOnExit()</code>. Then you create a file in that directory and also immediately mark it as <code>deleteOnExit()</code>. For this case deleting them in reverse order is the correct way to do."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677326985,"post_id":75563022,"comment_id":133318155,"body_markdown":"You should avoid using `deleteOnExit()` and delete the files immediately after use instead. And use NIO instead of this old API, as [`Files.delete(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)) will tell you about the reason when it fails.","body":"You should avoid using <code>deleteOnExit()</code> and delete the files immediately after use instead. And use NIO instead of this old API, as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.delete(Path)</code></a> will tell you about the reason when it fails."}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677327030,"creation_date":1677293712,"question_id":75563022,"body_markdown":"I am learning how to use `deleteOnExit()` to delete a directory. As far as I know, it can only delete a folder when it is empty. So below is the method that recursively wiping the child files / folders, then eventually the root.\r\n\r\n```\r\nstatic void deleteFile(File path){\r\n    if (!path.exists()) return;\r\n    path.deleteOnExit();\r\n}\r\n\r\n\r\nstatic void deleteFolder(File path){\r\n    if (!path.exists()) return;\r\n\r\n    //clean children\r\n    for (File f : path.listFiles()){\r\n        if (f.isDirectory()){\r\n            deleteFolder(f);\r\n        }\r\n        else{\r\n            deleteFile(f);\r\n        }\r\n    }\r\n\r\n    //clean root\r\n    path.deleteOnExit();\r\n}\r\n```\r\nAnd this is a folder sample structure &amp; how I call the method\r\n```\r\n//folder structure\r\nparent_folder\r\n|---child_folder\r\n    |---child2_file\r\n|--child_file\r\n\r\n//calling method\r\nPath path = Path.of(&quot;src/p - Copy&quot;);\r\ndeleteFolder(path.toFile());\r\n\r\n```\r\nThe sample structure result is below. I seems to me that only child files get deleted. Note that if I re-run the code for several times, `child_folder` eventually get deleted (since this time `child2_folder` is removed), then `parent_folder`.\r\n```\r\nparent_folder\r\n|---child_folder\r\n```\r\nNevertheless inside `deleteFolder` method, if I swap the two section as &lt;clean root&gt; first, then &lt;clean children&gt;. The whole directory `parent_folder` is wiped out as desired. \r\n```\r\n//clean root\r\npath.deleteOnExit();\r\n\r\n//clean children\r\nfor (File f : path.listFiles()){\r\n    if (f.isDirectory()){\r\n        deleteFolder(f);\r\n    }\r\n    else{\r\n        deleteFile(f);\r\n    }\r\n}\r\n```\r\nWhat caused this method to behave in such a reversed order? \r\n\r\nThank you in advanced. ","title":"Java - Delete directory using File.deleteOnExit()","body":"<p>I am learning how to use <code>deleteOnExit()</code> to delete a directory. As far as I know, it can only delete a folder when it is empty. So below is the method that recursively wiping the child files / folders, then eventually the root.</p>\n<pre><code>static void deleteFile(File path){\n    if (!path.exists()) return;\n    path.deleteOnExit();\n}\n\n\nstatic void deleteFolder(File path){\n    if (!path.exists()) return;\n\n    //clean children\n    for (File f : path.listFiles()){\n        if (f.isDirectory()){\n            deleteFolder(f);\n        }\n        else{\n            deleteFile(f);\n        }\n    }\n\n    //clean root\n    path.deleteOnExit();\n}\n</code></pre>\n<p>And this is a folder sample structure &amp; how I call the method</p>\n<pre><code>//folder structure\nparent_folder\n|---child_folder\n    |---child2_file\n|--child_file\n\n//calling method\nPath path = Path.of(&quot;src/p - Copy&quot;);\ndeleteFolder(path.toFile());\n\n</code></pre>\n<p>The sample structure result is below. I seems to me that only child files get deleted. Note that if I re-run the code for several times, <code>child_folder</code> eventually get deleted (since this time <code>child2_folder</code> is removed), then <code>parent_folder</code>.</p>\n<pre><code>parent_folder\n|---child_folder\n</code></pre>\n<p>Nevertheless inside <code>deleteFolder</code> method, if I swap the two section as  first, then . The whole directory <code>parent_folder</code> is wiped out as desired.</p>\n<pre><code>//clean root\npath.deleteOnExit();\n\n//clean children\nfor (File f : path.listFiles()){\n    if (f.isDirectory()){\n        deleteFolder(f);\n    }\n    else{\n        deleteFile(f);\n    }\n}\n</code></pre>\n<p>What caused this method to behave in such a reversed order?</p>\n<p>Thank you in advanced.</p>\n"},{"tags":["java","xml","api","post"],"answers":[{"comments":[{"owner":{"account_id":26142402,"reputation":29,"user_id":19831588,"display_name":"Ron"},"score":0,"creation_date":1677323373,"post_id":75564539,"comment_id":133317627,"body_markdown":"Thanks a lot for you answer, \nwhen i replace to con.GetErrorStream() i get error of undefined, do you know to tell me how can i handle that?","body":"Thanks a lot for you answer,  when i replace to con.GetErrorStream() i get error of undefined, do you know to tell me how can i handle that?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677326444,"post_id":75564539,"comment_id":133318072,"body_markdown":"You need to spell the method name correctly: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#getErrorStream--","body":"You need to spell the method name correctly: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#getErrorStream--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/net/&hellip;</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677326497,"creation_date":1677318322,"answer_id":75564539,"question_id":75564310,"body_markdown":"&gt; What is the meaning of Internal Server Error ...\r\n\r\nIt is an HTTP response status code:\r\n\r\n&gt; *&quot;The HyperText Transfer Protocol (HTTP) 500 Internal Server Error server error response code indicates that the server encountered an unexpected condition that prevented it from fulfilling the request.&quot;*\r\n\r\n[Source][1]\r\n\r\n\r\n&gt; in JAVA ...\r\n\r\nIt is not a Java error.  It is a response code returned by the server that you talking to.  And that server is not necessarily implemented in Java.\r\n\r\n&gt; and how to fix that?\r\n\r\nThis is the tricky part.  There are three approaches you could take:\r\n\r\n  1.  An HTTP response typically has a body.  For an error response (4xx or 5xx) the response body *may* contain information that will help you to figure out what the problem is.\r\n\r\n      Try reading `con.getErrorStream()` instead of `con.getOutputStream()`.\r\n\r\n  2.  If you own / manage the server, you should check the server log files.  They may contain error messages, stack traces and so on that will help you figure out what the problem is.\r\n\r\n  3.  If you don&#39;t have access to the server logs, you could try contacting the site managers.\r\n\r\nOnce you understand the cause you may be able to either fix the server-side bug, or work out how to avoid it.  For example, maybe you triggered the bug by sending a malformed request.  But we can&#39;t tell you what the problem is or how to fix it without seeing the diagnostics.\r\n\r\nHaving said that ... is there some reason why you are double-escaping the `&quot;`s in this line (for example):\r\n\r\n      &quot;&lt;?xml version=\\\\\\&quot;1.0\\\\\\&quot; encoding=\\\\\\&quot;utf-8\\\\\\&quot;?&gt;&quot; +\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500","title":"How to send soap xml request and read response","body":"<blockquote>\n<p>What is the meaning of Internal Server Error ...</p>\n</blockquote>\n<p>It is an HTTP response status code:</p>\n<blockquote>\n<p><em>&quot;The HyperText Transfer Protocol (HTTP) 500 Internal Server Error server error response code indicates that the server encountered an unexpected condition that prevented it from fulfilling the request.&quot;</em></p>\n</blockquote>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500\" rel=\"nofollow noreferrer\">Source</a></p>\n<blockquote>\n<p>in JAVA ...</p>\n</blockquote>\n<p>It is not a Java error.  It is a response code returned by the server that you talking to.  And that server is not necessarily implemented in Java.</p>\n<blockquote>\n<p>and how to fix that?</p>\n</blockquote>\n<p>This is the tricky part.  There are three approaches you could take:</p>\n<ol>\n<li><p>An HTTP response typically has a body.  For an error response (4xx or 5xx) the response body <em>may</em> contain information that will help you to figure out what the problem is.</p>\n<p>Try reading <code>con.getErrorStream()</code> instead of <code>con.getOutputStream()</code>.</p>\n</li>\n<li><p>If you own / manage the server, you should check the server log files.  They may contain error messages, stack traces and so on that will help you figure out what the problem is.</p>\n</li>\n<li><p>If you don't have access to the server logs, you could try contacting the site managers.</p>\n</li>\n</ol>\n<p>Once you understand the cause you may be able to either fix the server-side bug, or work out how to avoid it.  For example, maybe you triggered the bug by sending a malformed request.  But we can't tell you what the problem is or how to fix it without seeing the diagnostics.</p>\n<p>Having said that ... is there some reason why you are double-escaping the <code>&quot;</code>s in this line (for example):</p>\n<pre><code>  &quot;&lt;?xml version=\\\\\\&quot;1.0\\\\\\&quot; encoding=\\\\\\&quot;utf-8\\\\\\&quot;?&gt;&quot; +\n</code></pre>\n"}],"owner":{"account_id":26142402,"reputation":29,"user_id":19831588,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677326497,"creation_date":1677315385,"question_id":75564310,"body_markdown":"I created code with java which send soap xml request and and should read response but i received these errors\r\nInternal Server Error:\r\n\r\njava.io.IOException: Server returned HTTP response code: 500 for URL: https://test.api.system.simplyclub.co.il/TerminalService.asmx?op=UserAccountLogin.\r\n\r\n what could be the issue?\r\n\r\n     package com.test.com;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class Send_Xml {\r\n    \t\r\n     public static void main(String[] args) {\r\n    \t\r\n    \r\n    \t try {\r\n    \t\t String url = &quot;https://test.api.system.simplyclub.co.il/TerminalService.asmx?op=UserAccountLogin&quot;;\r\n    \t\t URL obj = new URL(url);\r\n    \t\t HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    \t\t con.setRequestMethod(&quot;POST&quot;);\r\n    \t\t con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml; charset=utf-8&quot;);\r\n    \t\t String xml = \r\n    \t\t &quot;&lt;?xml version=\\\\\\&quot;1.0\\\\\\&quot; encoding=\\\\\\&quot;utf-8\\\\\\&quot;?&gt;&quot;+\r\n    \t\t &quot;&lt;soap:Envelope xmlns:xsi=\\\\\\&quot;http://www.w3.org/2001/XMLSchema-instance\\\\\\&quot; xmlns:xsd=\\\\\\&quot;http://www.w3.org/2001/XMLSchema\\\\\\&quot; xmlns:soap=\\\\\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\\\\\&quot;&gt;&quot;+\r\n    \t\t &quot;&lt;soap:Body&gt;&quot;+\r\n    \t\t &quot;&lt;UserAccountLogin xmlns=\\\\\\&quot;http://tempuri.org/\\\\\\&quot;&gt;&quot;+\r\n    \t\t &quot;&lt;account&gt;&quot;+\r\n    \t\t &quot;&lt;VendorApiKey&gt;string&lt;/VendorApiKey&gt;&quot;+\r\n    \t\t &quot;&lt;User&gt;string&lt;/User&gt;&quot;+\r\n    \t\t &quot;&lt;Password&gt;string&lt;/Password&gt;&quot;+\r\n    \t\t &quot;&lt;/account&gt;&quot;+\r\n    \t\t &quot;&lt;additionalInfo&gt;&quot;+\r\n    \t\t &quot;&lt;FieldData&gt;&quot;+\r\n    \t\t &quot;&lt;FieldId&gt;string&lt;/FieldId&gt;&quot;+\r\n    \t\t &quot;&lt;FieldValue&gt;string&lt;/FieldValue&gt;&quot;+\r\n    \t\t &quot;&lt;/FieldData&gt;&quot;+\r\n    \t\t &quot;&lt;FieldData&gt;&quot;+\r\n    \t\t &quot;&lt;FieldId&gt;string&lt;/FieldId&gt;&quot;+\r\n    \t\t &quot;&lt;FieldValue&gt;string&lt;/FieldValue&gt;&quot;+\r\n    \t\t &quot;&lt;/FieldData&gt;&quot;+\r\n    \t\t &quot;&lt;/additionalInfo&gt;&quot;+\r\n    \t\t &quot;&lt;/UserAccountLogin&gt;&quot;+\r\n    \t\t &quot;&lt;/soap:Body&gt;&quot;+\r\n    \t\t &quot;&lt;/soap:Envelope&gt;&quot;;\r\n    \t\t con.setDoOutput(true);\r\n    \t\t DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n    \t\t wr.writeBytes(xml);\r\n    \t\t wr.flush();\r\n    \t\t wr.close();\r\n    \t\t String responseStatus = con.getResponseMessage();\r\n    \t\t System.out.println(responseStatus);\r\n    \t\t BufferedReader in = new BufferedReader(new InputStreamReader(\r\n    \t\t con.getInputStream()));\r\n    \t\t String inputLine;\r\n    \t\t StringBuffer response = new StringBuffer();\r\n    \t\t while ((inputLine = in.readLine()) != null) {\r\n    \t\t response.append(inputLine);\r\n    \t\t }\r\n    \t\t in.close();\r\n    \t\t System.out.println(&quot;response:&quot; + response.toString());\r\n    \t\t } catch (Exception e) {\r\n    \t\t System.out.println(e);\r\n    \t\t }\r\n    \t\t }\r\n    \t\t}","title":"How to send soap xml request and read response","body":"<p>I created code with java which send soap xml request and and should read response but i received these errors\nInternal Server Error:</p>\n<p>java.io.IOException: Server returned HTTP response code: 500 for URL: <a href=\"https://test.api.system.simplyclub.co.il/TerminalService.asmx?op=UserAccountLogin\" rel=\"nofollow noreferrer\">https://test.api.system.simplyclub.co.il/TerminalService.asmx?op=UserAccountLogin</a>.</p>\n<p>what could be the issue?</p>\n<pre><code> package com.test.com;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class Send_Xml {\n    \n public static void main(String[] args) {\n    \n\n     try {\n         String url = &quot;https://test.api.system.simplyclub.co.il/TerminalService.asmx?op=UserAccountLogin&quot;;\n         URL obj = new URL(url);\n         HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n         con.setRequestMethod(&quot;POST&quot;);\n         con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml; charset=utf-8&quot;);\n         String xml = \n         &quot;&lt;?xml version=\\\\\\&quot;1.0\\\\\\&quot; encoding=\\\\\\&quot;utf-8\\\\\\&quot;?&gt;&quot;+\n         &quot;&lt;soap:Envelope xmlns:xsi=\\\\\\&quot;http://www.w3.org/2001/XMLSchema-instance\\\\\\&quot; xmlns:xsd=\\\\\\&quot;http://www.w3.org/2001/XMLSchema\\\\\\&quot; xmlns:soap=\\\\\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\\\\\&quot;&gt;&quot;+\n         &quot;&lt;soap:Body&gt;&quot;+\n         &quot;&lt;UserAccountLogin xmlns=\\\\\\&quot;http://tempuri.org/\\\\\\&quot;&gt;&quot;+\n         &quot;&lt;account&gt;&quot;+\n         &quot;&lt;VendorApiKey&gt;string&lt;/VendorApiKey&gt;&quot;+\n         &quot;&lt;User&gt;string&lt;/User&gt;&quot;+\n         &quot;&lt;Password&gt;string&lt;/Password&gt;&quot;+\n         &quot;&lt;/account&gt;&quot;+\n         &quot;&lt;additionalInfo&gt;&quot;+\n         &quot;&lt;FieldData&gt;&quot;+\n         &quot;&lt;FieldId&gt;string&lt;/FieldId&gt;&quot;+\n         &quot;&lt;FieldValue&gt;string&lt;/FieldValue&gt;&quot;+\n         &quot;&lt;/FieldData&gt;&quot;+\n         &quot;&lt;FieldData&gt;&quot;+\n         &quot;&lt;FieldId&gt;string&lt;/FieldId&gt;&quot;+\n         &quot;&lt;FieldValue&gt;string&lt;/FieldValue&gt;&quot;+\n         &quot;&lt;/FieldData&gt;&quot;+\n         &quot;&lt;/additionalInfo&gt;&quot;+\n         &quot;&lt;/UserAccountLogin&gt;&quot;+\n         &quot;&lt;/soap:Body&gt;&quot;+\n         &quot;&lt;/soap:Envelope&gt;&quot;;\n         con.setDoOutput(true);\n         DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n         wr.writeBytes(xml);\n         wr.flush();\n         wr.close();\n         String responseStatus = con.getResponseMessage();\n         System.out.println(responseStatus);\n         BufferedReader in = new BufferedReader(new InputStreamReader(\n         con.getInputStream()));\n         String inputLine;\n         StringBuffer response = new StringBuffer();\n         while ((inputLine = in.readLine()) != null) {\n         response.append(inputLine);\n         }\n         in.close();\n         System.out.println(&quot;response:&quot; + response.toString());\n         } catch (Exception e) {\n         System.out.println(e);\n         }\n         }\n        }\n</code></pre>\n"},{"tags":["java","dataweave","anypoint-studio","mule4","mule-connector"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677313256,"creation_date":1677310264,"answer_id":75563933,"question_id":75563887,"body_markdown":"First, your attachment data is encoded in base64 (should be the MIME base64 encoding system), so would need to be obtained from the message mail &quot;Part&quot; object and decoded to a byte array or String as allowable of the final output used data type.\r\nIn short, a MessagePart object of a mail message object is simply a cohesive part holder marking and containing the data required for it&#39;s Part type, Not the underlying byte data holder object type inside, so it cannot directly cast it. You must obtain it&#39;s data first from a method of the object that will retrieve that value.\r\n\r\nThe &quot;initial mime bodypart object&quot; should been &quot;set to MultiPart&quot; &quot;this&quot; so a MultiPart object requires using it&#39;s getCount() method to find the number of bodypart. Use the addBodyPart(. ) method of MultiPart to add message parts.\r\n\r\nOn the mail Part.ATTACHMENT Part use getContent() returns an Object and can be cast to it&#39;s corresponding  content-type (usually String) and use Base64.Encoder.getMimeEncoder().decode(String)\r\n\r\nIf you get a bytearrayinputstream it should read into a byte[] reference. Use new String(byte[]) to obtain the base64 string but a base64 decoder method can take a byte[] array as argument, but usually returns a byte[] of decoded bytes.","title":"bytearrayinputstream to string in Mule 4 using Java invoke static","body":"<p>First, your attachment data is encoded in base64 (should be the MIME base64 encoding system), so would need to be obtained from the message mail &quot;Part&quot; object and decoded to a byte array or String as allowable of the final output used data type.\nIn short, a MessagePart object of a mail message object is simply a cohesive part holder marking and containing the data required for it's Part type, Not the underlying byte data holder object type inside, so it cannot directly cast it. You must obtain it's data first from a method of the object that will retrieve that value.</p>\n<p>The &quot;initial mime bodypart object&quot; should been &quot;set to MultiPart&quot; &quot;this&quot; so a MultiPart object requires using it's getCount() method to find the number of bodypart. Use the addBodyPart(. ) method of MultiPart to add message parts.</p>\n<p>On the mail Part.ATTACHMENT Part use getContent() returns an Object and can be cast to it's corresponding  content-type (usually String) and use Base64.Encoder.getMimeEncoder().decode(String)</p>\n<p>If you get a bytearrayinputstream it should read into a byte[] reference. Use new String(byte[]) to obtain the base64 string but a base64 decoder method can take a byte[] array as argument, but usually returns a byte[] of decoded bytes.</p>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677326109,"creation_date":1677326109,"answer_id":75565225,"question_id":75563887,"body_markdown":"As @Samuel Marchant mentioned the input is in base64. You can use the DataWeave Binaries module function `fromBase64()` to decode it before calling the Java method.\r\n\r\nAssuming the input is in the payload (replace with whatever source you have) you replace the expression with the call to `fromBase64()`:\r\n``` lang-js\r\n{\r\n   s: dw::core::Binaries::fromBase64(payload)\r\n}\r\n```","title":"bytearrayinputstream to string in Mule 4 using Java invoke static","body":"<p>As @Samuel Marchant mentioned the input is in base64. You can use the DataWeave Binaries module function <code>fromBase64()</code> to decode it before calling the Java method.</p>\n<p>Assuming the input is in the payload (replace with whatever source you have) you replace the expression with the call to <code>fromBase64()</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n   s: dw::core::Binaries::fromBase64(payload)\n}\n</code></pre>\n"}],"owner":{"account_id":27875001,"reputation":11,"user_id":21284674,"display_name":"techie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677326109,"creation_date":1677309607,"question_id":75563887,"body_markdown":"I want to get elements from an `.eml` file in Mule 4 using the Java Module invoke static operation, but it gives this error \r\n```\r\nInvocation of static Method &#39;Text(java.lang.String)&#39; from Class &#39;testattach.Test&#39; with arguments [org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider arg0] resulted in an error.\r\nExpected arguments are [java.lang.String s].\r\nCause: java.lang.ClassCastException - javax.mail.util.SharedByteArrayInputStream cannot be cast to javax.mail.Multipart&quot;\r\n```\r\n\r\n```\r\n&lt;java:invoke-static doc:name=&quot;Invoke static&quot; doc:id=&quot;b668dd2d-c519-48e9-8293-a4725e19685d&quot; class=&quot;testattach.Test&quot; method=&quot;Text(java.lang.String)&quot;&gt;\r\n\t\t\t&lt;java:args &gt;&lt;![CDATA[#[{\r\n\ts : &quot;UmVjZWl2ZWQ6IGZyb20gQ0gwUFIxM01CNTIxOC5uYW1wcmQxMy5wcm9kLm91dGxvb2suY29tICgyNjAzOjEwYjY6NjEwOmY4OjoyMSkNCiBieSBTSjBQUjEzTUI1Nzg3Lm5hbXByZDEzLnByb2Qub3V0bG9vay5jb20gd2l0aCBIVFRQUzsgRnJpLCAyNCBGZWIgMjAyMw0KIDA2OjIwOjM5ICswMDAwDQpBUkMtU2VhbDogaT0yOyBhPXJzYS1zaGEyNTY7IHM9YXJjc2VsZWN0b3I5OTAxOyBkPW1pY3Jvc29mdC5jb207IGN2PXBhc3M7DQogYj1KbERHWWR2QWJmL2hDNmhZUkFIN0JRc3ZxelIzM3I0aFZPTUJBSDZ2Y0RodTMvZk1RU0V1Y2lFME1PZXphYVA1dmpzbURJWDBMUEVGQUJ1clhEOEliUmUzdCt6SFVJd0p4SXc5R254ZjhZcDRpVUN1UGtMTGltNGdjQUxEaEJBaTk1OW9XNU94Y1crek5qdDBKdGg2Tjl4NmhzQytPOHpmekcra0ZFQWEySllFT1NkY0V6dWc1UWhFUStIeGR2Y0hydEUyNkJyUWVCZjlKTVdNZzltSFRZeE5KWlhtalllbkgwbGd1UUNNL2QzM0lrNC9maWg2MWpiNEM2Y29MWHRHZ3NvWTFnM0lqTUJPUlZDNWUzdVMvOVh0dzlJam81dXJtYkUzRENsNHVQT2FQbkVoNmVyN0hPT1k5VFEzdzBtWU84Zzhnd3M4VXVmVnpGVjFQYW1lNlE9PQ0KQVJDLU1lc3NhZ2UtU2lnbmF0dXJlOiBpPTI7IGE9cnNhLXNoYTI1NjsgYz1yZWxheGVkL3JlbGF4ZWQ7IGQ9bWljcm9zb2Z0LmNvbTsNCiBzPWFyY3NlbGVjdG9yOTkwMTsNCiBoPUZyb206RGF0ZTpTdWJqZWN0Ok1lc3NhZ2UtSUQ6Q29udGVudC1UeXBlOk1JTUUtVmVyc2lvbjpYLU1TLUV4Y2hhbmdlLUFudGlTcGFtLU1lc3NhZ2VEYXRhLUNodW5rQ291bnQ6WC1NUy1FeGNoYW5nZS1BbnRpU3BhbS1NZXNzYWdlRGF0YS0wOlgtTVMtRXhjaGFuZ2UtQW50aVNwYW0tTWVzc2FnZURhdGEtMTsNCiBiaD1YSzN2NW1aYWdWS0JBUDJOaloyQ2xyRVlFTHlIZXBvcU5UVGtCMTZGcGs4PTsNCiBiPUZPWHRPM3lnVytOdU12UTdnT1VwbkhHT3ZLaHp0djh5N09BaTN1ckRCd3ZTemt3M2NJNHRSOHIxM2VQZWhqdEk3QzdlVVJsb242WUM4NVR5UmIxS1pvblRhOHJVZWgzUGFJTXB4cG44bHdWMis1c2JOZ2hIMDhaZjE1b1NuR0t2NHRSUXU0UDBHcFNlblVtcGNrV1VQUFBPSFpOSXVNOHN4TisyYk5uc3JraGhhdmdpd2oxc1NBU3JISS80dEk0MHh3MFB4WkZNYU5yNW1ybXR3dDhzTkJhTDZoVnpnNi9CbDloOXd0WG42Q2ovRi80TlRlQWlVV1BGZElJT1BVbHMzY3FTUWYxNnhiUnU0QWVGelJsYTJGaERKZXNnVkRKeTFRNWk5S1E0dlR3TXJvTUtDaFZ5R1o0dC9vNVRMenE5VkZ3NEhjTVZVYk1LTzhSSFRhYWw1Zz09DQpBUkMtQXV0aGVudGljYXRpb24tUmVzdWx0czogaT0yOyBteC5taWNyb3NvZnQuY29tIDE7IHNwZj1zb2Z0ZmFpbCAoc2VuZGVyIGlwDQogaXMgMjA3LjIxMS4zMS44MSkgc210cC5yY3B0dG9kb21haW49Z29sZHN0YXJwZW5zLmNvbQ0KIHNtdHAubWFpbGZyb209YXBpc2Vyby5jb207IGRtYXJjPWZhaWwgKHA9bm9uZSBzcD1ub25lIHBjdD0xMDApIGFjdGlvbj1ub25lDQogaGVhZGVyLmZyb209YXBpc2Vyby5jb207IGRraW09ZmFpbCAoYm9keSBoYXNoIGRpZCBub3QgdmVyaWZ5KQ0KIGhlYWRlci5kPWFwaXNlcm8uY29tOyBhcmM9cGFzcyAoMCBvZGE9MCBsdGRpPTAgOTMpDQpSZWNlaXZlZDogZnJvbSBETTZQUjA4Q0EwMDU4Lm5hbXByZDA4LnByb2Qub3V0bG9vay5jb20gKDI2MDM6MTBiNjo1OjFlMDo6MzIpDQogYnkgQ0gwUFIxM01CNTIxOC5uYW1wcmQxMy5wcm9kLm91dGxvb2suY29tICgyNjAzOjEwYjY6NjEwOmY4OjoyMSkgd2l0aA0KIE1pY3Jvc29mdCBTTVRQIFNlcnZlciAodmVyc2lvbj1UTFMxXzIsDQogY2lwaGVyPVRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQpIGlkIDE1LjIwLjYxMTEuMjE7IEZyaSwgMjQgRmViDQogMjAyMyAwNjoyMDozNiArMDAwMA0KUmVjZWl2ZWQ6IGZyb20gRE02TkFNMTFGVDExNS5lb3AtbmFtMTEucHJvZC5wcm90ZWN0aW9uLm91dGxvb2suY29tDQogKDI2MDM6MTBiNjo1OjFlMDpjYWZlOjpjNCkgYnkgRE02UFIwOENBMDA1OC5vdXRsb29rLm9mZmljZTM2NS5jb20NCiAoMjYwMzoxMGI2OjU6MWUwOjozMikgd2l0aCBNaWNyb3NvZnQgU01UUCBTZXJ2ZXIgKHZlcnNpb249VExTMV8yLA0KIGNpcGhlcj1UTFNfRUNESEVfUlNBX1dJVEhfQUVTXzI1Nl9HQ01fU0hBMzg0KSBpZCAxNS4yMC42MTM0LjI0IHZpYSBGcm9udGVuZA0KIFRyYW5zcG9ydDsgRnJpLCAyNCBGZWIgMjAyMyAwNjoyMDozNiArMDAwMA0KQXV0aGVudGljYXRpb24tUmVzdWx0czogc3BmPXNvZnRmYWlsIChzZW5kZXIgSVAgaXMgMjA3LjIxMS4zMS44MSkNCiBzbXRwLm1haWxmcm9tPWFwaXNlcm8uY29tOyBka2ltPWZhaWwgKGJvZHkgaGFzaCBkaWQgbm90IHZlcmlmeSkNCiBoZWFkZXIuZD1hcGlzZXJvLmNvbTtkbWFyYz1mYWlsIGFjdGlvbj1ub25lDQogaGVhZGVyLmZyb209YXBpc2Vyby5jb207Y29tcGF1dGg9c29mdHBhc3MgcmVhc29uPTIwMQ0KUmVjZWl2ZWQtU1BGOiBTb2Z0RmFpbCAocHJvdGVjdGlvbi5vdXRsb29rLmNvbTogZG9tYWluIG9mIHRyYW5zaXRpb25pbmcNCiBhcGlzZXJvLmNvbSBkaXNjb3VyYWdlcyB1c2Ugb2YgMjA3LjIxMS4zMS44MSBhcyBwZXJtaXR0ZWQgc2VuZGVyKQ0KUmVjZWl2ZWQ6IGZyb20gdXMtc210cC0xLm1pbWVjYXN0LmNvbSAoMjA3LjIxMS4zMS44MSkgYnkNCiBETTZOQU0xMUZUMTE1Lm1haWwucHJvdGVjdGlvbi5vdXRsb29rLmNvbSAoMTAuMTMuMTczLjMzKSB3aXRoIE1pY3Jvc29mdCBTTVRQDQogU2VydmVyICh2ZXJzaW9uPVRMUzFfMiwgY2lwaGVyPVRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQpIGlkDQogMTUuMjAuNjEzNC4yNCB2aWEgRnJvbnRlbmQgVHJhbnNwb3J0OyBGcmksIDI0IEZlYiAyMDIzIDA2OjIwOjM1ICswMDAwDQpBUkMtTWVzc2FnZS1TaWduYXR1cmU6IGk9MTsgYT1yc2Etc2hhMjU2OyBjPXJlbGF4ZWQvcmVsYXhlZDsNCglkPWRraW0ubWltZWNhc3QuY29tOyBzPTIwMTkwMzsgdD0xNjc3MjE5NjM1Ow0KCWg9ZnJvbTpmcm9tOnJlcGx5LXRvOnN1YmplY3Q6c3ViamVjdDpkYXRlOmRhdGU6bWVzc2FnZS1pZDptZXNzYWdlLWlkOg0KCSB0bzp0bzpjYzptaW1lLXZlcnNpb246bWltZS12ZXJzaW9uOmNvbnRlbnQtdHlwZTpjb250ZW50LXR5cGU6DQoJIGRraW0tc2lnbmF0dXJlOyBiaD1YSzN2NW1aYWdWS0JBUDJOaloyQ2xyRVlFTHlIZXBvcU5UVGtCMTZGcGs4PTsNCgliPWJjT0JtY1c4OHAxUzlCdHpKdGpGSWFPRHAyb2lPT3BWSldHTU5qM2ZQS21LYVdzaG95UTdlanE2c0thSXd6OVQ2WVJiLzANCglpZGNGQlh5QnJJTTVld3F3aXR3R2NVVkpYMm1KVVN0aEl4RU9MV0s4OTRxUUNyZW5Odk9JZTVEV3gyRWg2MkFYK1ExTkExDQoJenBJekpqTG1IVnp3NTl4c2phT0NaQzAzQkw3a2JXYVhzVjJwNWc2d3NPRmcxN2l4MmpmTmlUYkxGRlNiYXdIdG52UTY0TQ0KCUV1dUNaK2RPdE94NzA3VnRYZzlrWHoxS1RZcUNOVGw3Mk9mZk1PdDRjOFhKUDB6dXQ0aCtGM3hMeS9wWmZEbHJUUFJjT2sNCglXcUgvejVPcFVBSkU4dE9HN1A4SG1xUHBxOVF6TER0YW5FeXV2NXorR25SUDhRWWltUmFPMWc3cUd2c043Zz09DQpBUkMtU2VhbDogaT0xOyBzPTIwMTkwMzsgZD1ka2ltLm1pbWVjYXN0LmNvbTsgdD0xNjc3MjE5NjM1OyBhPXJzYS1zaGEyNTY7DQoJY3Y9bm9uZTsNCgliPWkveFJFRFJJUHNhNXdwOFFKT1JZS2dJMmNFVHpCK3FQS2xob0FxRWFtU3NpTFN1S0owczNUd3AvQ2JraGNwVXVGRXIwSW8NCglTUkhjWGtTdWxua0NKYzJQQW1CSm5xa24xSnFBNG5sMnVSMERXRU5MVTdWNk9xb3BmdjRiNnRwZTcvNHNZS0VLVWdPREV6DQoJdktHMWxRUE9Dc2VaUmdRQjBHNTRHTGJITHQrcmdwUHIwUU9hY0JRUXk4c1BPelBqYStzTnNJVTRFZ1NOcHhuZ3EzbnVMUg0KCU5rTjVydExYWlVCdXA4dEhlak1sN3Y2c1lDcTlNOGNVbTZSczRibXI4ZXFaZnZRVzlHMkoyRWFpNEFNWnREalRjRU9RRmMNCglDa1dSRnhHM3EzejBLak50YzY1bFNjS0p3WXh1d2VLRDJlN01XcU5ZUUJ6a0hMZjBhRGdhbG5SMGxKcWNtQT09DQpBUkMtQXV0aGVudGljYXRpb24tUmVzdWx0czogaT0xOw0KCXJlbGF5Lm1pbWVjYXN0LmNvbTsNCglka2ltPXBhc3MgaGVhZGVyLmQ9YXBpc2Vyby5jb20gaGVhZGVyLnM9Z29vZ2xlIGhlYWRlci5iPSJNLzFVaXJUOSI7DQoJZG1hcmM9cGFzcyAocG9saWN5PW5vbmUpIGhlYWRlci5mcm9tPWFwaXNlcm8uY29tOw0KCXNwZj1zb2Z0ZmFpbCAocmVsYXkubWltZWNhc3QuY29tOiAyMDkuODUuMjEwLjE3NCBpcyBuZWl0aGVyIHBlcm1pdHRlZCBub3IgZGVuaWVkIGJ5IGRvbWFpbiBvZiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSkgc210cC5tYWlsZnJvbT1uYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbQ0KUmVjZWl2ZWQ6IGZyb20gbWFpbC1wZjEtZjE3NC5nb29nbGUuY29tIChtYWlsLXBmMS1mMTc0Lmdvb2dsZS5jb20NCiBbMjA5Ljg1LjIxMC4xNzRdKSBieSByZWxheS5taW1lY2FzdC5jb20gd2l0aCBFU01UUCB3aXRoIFNUQVJUVExTDQogKHZlcnNpb249VExTdjEuMywgY2lwaGVyPVRMU19BRVNfMTI4X0dDTV9TSEEyNTYpIGlkDQogdXMtbXRhLTQ5Ny1tbW9lZF9ZMk13MjF5SnV1NnhwRnVBLTE7IEZyaSwgMjQgRmViIDIwMjMgMDE6MjA6MzIgLTA1MDANClgtTUMtVW5pcXVlOiBtbW9lZF9ZMk13MjF5SnV1NnhwRnVBLTENClJlY2VpdmVkOiBieSBtYWlsLXBmMS1mMTc0Lmdvb2dsZS5jb20gd2l0aCBTTVRQIGlkIG4yc28xNTg1OTMxcGZvLjEyDQogICAgICAgIGZvciA8dGVzdC5tdWxlc29mdEBwZW5zLmNvbT47IFRodSwgMjMgRmViIDIwMjMgMjI6MjA6MzIgLTA4MDAgKFBTVCkNCkRLSU0tU2lnbmF0dXJlOiB2PTE7IGE9cnNhLXNoYTI1NjsgYz1yZWxheGVkL3JlbGF4ZWQ7DQogICAgICAgIGQ9YXBpc2Vyby5jb207IHM9Z29vZ2xlOw0KICAgICAgICBoPXRvOnN1YmplY3Q6bWVzc2FnZS1pZDpkYXRlOmZyb206bWltZS12ZXJzaW9uOmZyb206dG86Y2M6c3ViamVjdA0KICAgICAgICAgOmRhdGU6bWVzc2FnZS1pZDpyZXBseS10bzsNCiAgICAgICAgYmg9WkdZc3dEcng4TTRUWjFtekJEUmVpL2ZSbTI1YVJTWi90Z3ZKQ2cwUWV0VT07DQogICAgICAgIGI9TS8xVWlyVDlWMTI3NzRScGZnODNCdWZ0QVdYSDA3MnJ6clMwc2RySEx1eW1yUHlkTExCUFRXc0F6WXJOWEZ6aUNGDQogICAgICAgICBWRm84KzJrdDdCci9BRWhITURGKzgycUlCNXhmL0VCcWZ5UVRXeVlHSzJGc1RYQzlQWDcvRTNhWG9BeVhNOWdCaU1JNg0KICAgICAgICAgazFvbTRUS2h3aUNiMjNSYktzeXdLZHVhYVMrby9mZjZJQnQxaHU4NHdobHI0Z2QrRjRUSU1hOUJPWXM5MnRkcEZhd2ENCiAgICAgICAgIEUxWlZha0ZpTHpQNmpHeDVhYTFOZThWR2lzdUhYVWNMbC9KNW5lZy82MWtPcmk2ejA1NDZ6cE9aSi8wVDg5SWdLR2tVDQogICAgICAgICBuaHRlWGwxRTEvN1cwcFd5b2grRXFiMjJHcC85MTRBTHUwcnRNNzhrS21LY051Q1RvN0tSQTE1aDBrNUdPaE9RY0hwdQ0KICAgICAgICAgV0Z5dz09DQpYLUdvb2dsZS1ES0lNLVNpZ25hdHVyZTogdj0xOyBhPXJzYS1zaGEyNTY7IGM9cmVsYXhlZC9yZWxheGVkOw0KICAgICAgICBkPTFlMTAwLm5ldDsgcz0yMDIxMDExMjsNCiAgICAgICAgaD10bzpzdWJqZWN0Om1lc3NhZ2UtaWQ6ZGF0ZTpmcm9tOm1pbWUtdmVyc2lvbjp4LWdtLW1lc3NhZ2Utc3RhdGUNCiAgICAgICAgIDpmcm9tOnRvOmNjOnN1YmplY3Q6ZGF0ZTptZXNzYWdlLWlkOnJlcGx5LXRvOw0KICAgICAgICBiaD1aR1lzd0RyeDhNNFRaMW16QkRSZWkvZlJtMjVhUlNaL3RndkpDZzBRZXRVPTsNCiAgICAgICAgYj15dEVVTys2ZHlpTlNha2FXZjdzeVVyTGFJaHBXZEhROUJ2alZHQkJxcnJRa0hBWUhqdTRubFRpbWxZMGJEOFdEWjUNCiAgICAgICAgIHdtWHh6eVFUbnZqWlNCTGpJSkRpLzNTd2VxTm5tUmVlK1U2RGlGMllvZnBZMWNPQjVjL3NIUTZyeFBXdnZ4ZXJ0RC9MDQogICAgICAgICBsaDV0TG9wdEdTNmtiT0dkYnp1S0lJM1BwRzlOL2pUbk9LakdWUDNvdlQ5ZkcxNUY2T2lpcFFJUEZhM0RKSS9LSFFNWQ0KICAgICAgICAgaHlTWEdxR21MNklodnlVOWI2T2htK1JPT2RHb3kwZjd3ZkYwRlZZMko1MGVldmNSS2dTNWc4bnhLaDR0OHM2S0FqQi8NCiAgICAgICAgIFJ5WVM5L3krdlBjbVpmTnRpQWxBWXAwYnVXa2xHaTQrZ2gycllFSXJRSTNrN08zSlBIOEMzakVyMnh3YTRZbkY1Y0FuDQogICAgICAgICB0djZBPT0NClgtR20tTWVzc2FnZS1TdGF0ZTogQU8weVVLVUkweWZVZWRrNmlzSGxpdlJMU0ErMXc1SjhKLzRVMzNzSU9oMU9zNjd0UFAwc3Fndk0NCglaMHZ2NmlJSzg5S0szc1pMNXIvVXA3Z0ZwLzF5dm02YlZnbkhmbVVGY3RPZWhMTlNwQT09DQpYLUdvb2dsZS1TbXRwLVNvdXJjZTogQUs3c2V0OTBITk5SVjF4cUpQTGE2ZUZlb295Um56ZisyRnJvUVdKTUlrMllzNUVvK3RpUXlxOVRVd1hNMUhoTXlaTXBiNUZwNEdudzlKN3Z0YWVFdjVrM1hWdz0NClgtUmVjZWl2ZWQ6IGJ5IDIwMDI6YTYzOjM2NDc6MDpiMDo0ZmE6YjcxYTo5M2JiIHdpdGggU01UUCBpZA0KIGQ2OC0yMDAyMGE2MzM2NDcwMDAwMDBiMDA0ZmFiNzFhOTNiYm1yMjU5MDA2MHBnYS4wLjE2NzcyMTk2MzEwNzg7IFRodSwgMjMgRmViDQogMjAyMyAyMjoyMDozMSAtMDgwMCAoUFNUKQ0KRnJvbTogQmFsYSBOYWdlc3dhcmFyYW8gR2lkdXR1cmkgPG5hZ2Vzd2FyYXJhby5zLmdpZHV0dXJpQGFwaXNlcm8uY29tPg0KRGF0ZTogRnJpLCAyNCBGZWIgMjAyMyAxMTo1MDoyMyArMDUzMA0KTWVzc2FnZS1JRDogPENBTz1UdzVXVkRPPW51eU1DVFdYQU1YM01wNnE4cnNQeHlDU0hlUlRVR2RKeGd6bk5tUUBtYWlsLmdtYWlsLmNvbT4NClN1YmplY3Q6IENWVi05OTkNClRvOiB0ZXN0Lm11bGVzb2Z0QHBlbnMuY29tDQpBdXRoZW50aWNhdGlvbi1SZXN1bHRzLU9yaWdpbmFsOiByZWxheS5taW1lY2FzdC5jb207CWRraW09cGFzcw0KIGhlYWRlci5kPWFwaXNlcm8uY29tIGhlYWRlci5zPWdvb2dsZSBoZWFkZXIuYj0iTS8xVWlyVDkiOwlkbWFyYz1wYXNzDQogKHBvbGljeT1ub25lKSBoZWFkZXIuZnJvbT1hcGlzZXJvLmNvbTsJc3BmPXNvZnRmYWlsIChyZWxheS5taW1lY2FzdC5jb206DQogMjA5Ljg1LjIxMC4xNzQgaXMgbmVpdGhlciBwZXJtaXR0ZWQgbm9yIGRlbmllZCBieSBkb21haW4gb2YNCiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSkNCiBzbXRwLm1haWxmcm9tPW5hZ2Vzd2FyYXJhby5zLmdpZHV0dXJpQGFwaXNlcm8uY29tDQpYLU1pbWVjYXN0LVNwYW0tU2NvcmU6IDENCkNvbnRlbnQtVHlwZTogbXVsdGlwYXJ0L2FsdGVybmF0aXZlOyBib3VuZGFyeT0iMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0NyINClJldHVybi1QYXRoOiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbQ0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tRXhwaXJhdGlvblN0YXJ0VGltZTogMjQgRmViIDIwMjMgMDY6MjA6MzUuODU5Ng0KIChVVEMpDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1FeHBpcmF0aW9uU3RhcnRUaW1lUmVhc29uOiBPcmlnaW5hbFN1Ym1pdA0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tRXhwaXJhdGlvbkludGVydmFsOiAxOjAwOjAwOjAwLjAwMDAwMDANClgtTVMtRXhjaGFuZ2UtT3JnYW5pemF0aW9uLUV4cGlyYXRpb25JbnRlcnZhbFJlYXNvbjogT3JpZ2luYWxTdWJtaXQNClgtTVMtRXhjaGFuZ2UtT3JnYW5pemF0aW9uLU5ldHdvcmstTWVzc2FnZS1JZDoNCiA1Zjk0MzIzNC1kOGZkLTRlNjYtMjY2Mi0wOGRiMTYyZjNkYzQNClgtRU9QQXR0cmlidXRlZE1lc3NhZ2U6IDANClgtRU9QVGVuYW50QXR0cmlidXRlZE1lc3NhZ2U6IGMyNDQ4MTlhLTdhYWEtNDVmNi05ZjM3LTFmODExOTJkNTIyYjowDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1NZXNzYWdlRGlyZWN0aW9uYWxpdHk6IEluY29taW5nDQpYLU1TLVB1YmxpY1RyYWZmaWNUeXBlOiBFbWFpbA0KWC1NUy1UcmFmZmljVHlwZURpYWdub3N0aWM6IERNNk5BTTExRlQxMTU6RUVffENIMFBSMTNNQjUyMTg6RUVfDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1BdXRoU291cmNlOg0KIERNNk5BTTExRlQxMTUuZW9wLW5hbTExLnByb2QucHJvdGVjdGlvbi5vdXRsb29rLmNvbQ0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tQXV0aEFzOiBBbm9ueW1vdXMNClgtTVMtT2ZmaWNlMzY1LUZpbHRlcmluZy1Db3JyZWxhdGlvbi1JZDogNWY5NDMyMzQtZDhmZC00ZTY2LTI2NjItMDhkYjE2MmYzZGM0DQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1TQ0w6IDENClgtTWljcm9zb2Z0LUFudGlzcGFtOiBCQ0w6MDsNClgtRm9yZWZyb250LUFudGlzcGFtLVJlcG9ydDoNCiBDSVA6MjA3LjIxMS4zMS44MTtDVFJZOlVTO0xBTkc6ZW47U0NMOjE7U1JWOjtJUFY6TkxJO1NGVjpOU1BNO0g6dXMtc210cC0xLm1pbWVjYXN0LmNvbTtQVFI6dXMtc210cC0yLm1pbWVjYXN0LmNvbTtDQVQ6Tk9ORTtTRlM6KDEzMjMwMDI1KSgxNjkwNzk5MDExKSg0NTExOTkwMTgpKDY2NjYwMDQpKDM0MjA2MDAyKSgxMDk2MDAzKSg4Njc2MDAyKSg0MjE4NjAwNikoMzM5NjQwMDQpKDk2ODYwMDMpKDI2MDA1KSgxNTk3NDg2NTAwMikoNTU0NDYwMDIpKDg2MzYyMDAxKSg1NjYwMzAwMDAyKSg3NjM2MDAzKSgxNjYwMDIpKDM1NjAwNSkoMzM2MDEyKTtESVI6SU5COw0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1PcmlnaW5hbEFycml2YWxUaW1lOiAyNCBGZWIgMjAyMyAwNjoyMDozNS43MDMzDQogKFVUQykNClgtTVMtRXhjaGFuZ2UtQ3Jvc3NUZW5hbnQtTmV0d29yay1NZXNzYWdlLUlkOiA1Zjk0MzIzNC1kOGZkLTRlNjYtMjY2Mi0wOGRiMTYyZjNkYzQNClgtTVMtRXhjaGFuZ2UtQ3Jvc3NUZW5hbnQtSWQ6IGMyNDQ4MTlhLTdhYWEtNDVmNi05ZjM3LTFmODExOTJkNTIyYg0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1BdXRoU291cmNlOg0KIERNNk5BTTExRlQxMTUuZW9wLW5hbTExLnByb2QucHJvdGVjdGlvbi5vdXRsb29rLmNvbQ0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1BdXRoQXM6IEFub255bW91cw0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1Gcm9tRW50aXR5SGVhZGVyOiBJbnRlcm5ldA0KWC1NUy1FeGNoYW5nZS1UcmFuc3BvcnQtQ3Jvc3NUZW5hbnRIZWFkZXJzU3RhbXBlZDogQ0gwUFIxM01CNTIxOA0KWC1NUy1FeGNoYW5nZS1UcmFuc3BvcnQtRW5kVG9FbmRMYXRlbmN5OiAwMDowMDowMy40NTM2MjQ5DQpYLU1TLUV4Y2hhbmdlLVByb2Nlc3NlZC1CeS1CY2NGb2xkZXJpbmc6IDE1LjIwLjYxMzQuMDI0DQpYLU1pY3Jvc29mdC1BbnRpc3BhbS1NYWlsYm94LURlbGl2ZXJ5Og0KCXVjZjowO2ptcjowO2F1dGg6MDtkZXN0Okk7RU5HOig5MTAwMDEpKDk0NDUwNjQ3OCkoOTQ0NjI2NjA0KSg5MjAwOTcpKDkzMDA5Nyk7DQpYLU1pY3Jvc29mdC1BbnRpc3BhbS1NZXNzYWdlLUluZm86DQoJPT91dGYtOD9CP1JYTTNMMmxZUVZCQlMwbGpVM0JNY0hkeFltZFJiMHRQZVdvdmNsTTBjWEJ1TVVSU1JVcHBWV1pJTTFFdj89DQogPT91dGYtOD9CP1VWVjFWeXRRVkZCeWF5OVBSbEk1YVc1c1pGTnJNak5ZTDNSSFZuaHdRWE42VkVvMFdrOVRiSEZwUWtveT89DQogPT91dGYtOD9CP2MxQkVVRXhRVjJsNVFqTmxNVE0xYlM4eU1ta3dSVFZUVWk5a1puWktkbkl2U2xadlNGTkliUzl6WlV0Tj89DQogPT91dGYtOD9CP1QxcENiaXMyTTNjMVZGZFlja3BuTkVwUlluSnZaVVJEVldWTFQzaFVXbWhOZUN0clJVSTRXRkZqSzFnMz89DQogPT91dGYtOD9CP2QzbzBOV3hDUmtkMFVYWk5iR05CVjBVeFIxaHdZM0p5YXpka1NXdHNPRkZuTmpOYVVVOU5RMVo2ZFZwcj89DQogPT91dGYtOD9CP2IxUktjV1p2YlcxNmExTlFMMVV4TjJ4TmFVdzRVMHA1VjA1WlJVY3pkV1ZRVTBGc1JqVjJjbEpCVG5wMT89DQogPT91dGYtOD9CP2NUWXJjelpTZWxKblRtcDBSek5TYWpGU1pWWTFOWGs0UWpSS2IwRlhOV2hqVjBaM1IySndNVmgwZVROeT89DQogPT91dGYtOD9CP1pXaGFkamhHYkRkamIydERlWFE0TjNaQ1oxUk5PR2xMTDJaYVJXRXdVVzQzTkZGdVQwZHZUVEJ3YTB3NT89DQogPT91dGYtOD9CP1VHaHJaVE4zTkVSUkt6Wm9LMmMxTm5oWVMwVnZlRU5LZUhkT0swTmtkMGhTUVRWSlprUTRTREpvZFdzMz89DQogPT91dGYtOD9CP2JraENaVWhGV0hBdlFTODFjMjFhYUdsdlVHZHZlWEJKWmt4dGNEbE1lbEp4Y3pOUFoySXlaWEZXWVZGdD89DQogPT91dGYtOD9CP2MyVmFXa0prVTI5S1JsUlpiMmwyYkVsT1pURnRVREoxUlZkT0x6SnBWemwwUkdoVFdVZG5jMk5EYURBMT89DQogPT91dGYtOD9CP2NEZHdhbm9yTjNsQ1RVWnlPVEpOTkZGb2QwYzRVblF2TkVGb1lXdDFTVFpSYUhkNFVVbEtPWEYwYlVZdz89DQogPT91dGYtOD9CP2MxSkNSREpxZDNKWlVYUlpaRVprVUhCT2RGQkZjMlpPU1VSYVZtaGlNalZPZHpsT01UZFNOVko2TUZwbz89DQogPT91dGYtOD9CP1RVVmFWMkpOWjJ0cU5tcEZNRTl6ZGtzd2NVeHdWVUYxWldneWEzQm9TbWRRVFhKTWJVOW5SMmxuZG0xUz89DQogPT91dGYtOD9CP2FHRjRiRUYxYzI5NWQydFhPVE5CY1N0bk5rZzNPVUZ6VnpCR1ZFNTBiRTFYTjJ4YVZFNDVSbFF2V1U5UT89DQogPT91dGYtOD9CP00yVTBNa1ZaYlRFemRGSnNjWFZIVnpBM01XNVZURFJsYlZKTFpqRTFNV1ptUjBaaVIxRmxjM0ZvU0hKUz89DQogPT91dGYtOD9CP1oyRm1VMFZFTUc4MGRuVm1WMmwxV205UGMxVlNXVlZ3UjJ4WGIwMVRVMlpPVTJKS2RUWjZaRzlpUjA0ej89DQogPT91dGYtOD9CP05YSnlPRTVTWlZOUlN5dHNVbWxPYTJ4RGFHbGhNMWhqWlhaaWNrRjVka28zU1hKWE1XaElNbEZQVFVOcj89DQogPT91dGYtOD9CP1NYWXpXRXB1TkdjNU5pdGhkRzVIUjNKc1R6ZElRbG93TTA1U04xZHNUVE5zVTFWbFlqSndkMWQ0VERSWD89DQogPT91dGYtOD9CP1dIWndUalpLVDJkUWJraDFlRWhIUmxoMGNISndSMmN6Um05aWRUTmFSREF5VW05cVRUWmxTVWRYZURZdz89DQogPT91dGYtOD9CP1lXcElNbXQyVjJOaEwybGtSbmwwYjFCd2F5dFVORXhOUWs1bVdYaFdOSEJuY0ZrMWFURnRka3RXZG1FMz89DQogPT91dGYtOD9CP1RFOUdPSGdyVm5wNVNpOUpkbWhHUTFZMU1WZ3hXbGhHWm1keVNqa3hkMUkzVTBSNk5scHdUU3Q1U21OUD89DQogPT91dGYtOD9CP1N6VkJiRzgzVkhoMWNrVnBXa3RrZHpkdmFEWmlWaTkwZEUwcmQzZHBiRVJyU1VkMlJHUTNibUZwUWtaVj89DQogPT91dGYtOD9CP00yOUhURUk0UzFRMmRtSlNXVkJaVW1vMWVWZFdNWFJ3UVU5emJFSnRaVzR6VWpGT1Rta3hUbGN2VlVkaT89DQogPT91dGYtOD9CP0wxcE5URkZMTTFJeVNsRk9RbTVZZGpZeGFFOHpSM1J6TVUxaE5FVkxVallyUmxSU2IwSm5hMEZXVmtaUz89DQogPT91dGYtOD9CP2RWQnlkM05QUW0xSU1HUTBWWGQyUTNBNGVGbHhUMnR6TTNNMk5WRlNhV3RXZWxKSFluTlpRVnBEWTB0Rz89DQogPT91dGYtOD9CP2VUUkNjbEJ2Y1VsNFpVNHdhRVJFWWpWdlpqZDVSekpVYkhvMmVIcFJVV1psUW01ME0zcHFiRmN2Y0dsaj89DQogPT91dGYtOD9CP1YweFJTalJpWW1sV2NqWkdZekZaY0ZOdE9FcGlRUzlhZG1waFUwOTFSWFZHU21kNmJTdDVWa1JxZDFCYT89DQogPT91dGYtOD9CP1dqUnRiRkpxWVZaaFFtWlNlVWQyZVdkdU4wTldNazV5V0U1ekswRTFZVEV2WlU0eWRtTmFVekF6ZERGTz89DQogPT91dGYtOD9CP0syTlpZblpYTUV0ME5sRlZSR2hRTHpaSE9HWTJURWg0VDJSU2IyNW5kbFZ0VVhGTkszRlBaelJKUTA1dT89DQogPT91dGYtOD9CP1EySnZOVU5UWWtORk4wZHJjWHAyUjAxUGJEbHJZM1V6UkROaksyOXZhVEpaYWpaWmNFTk5ORUk1UTJVcj89DQogPT91dGYtOD9CP2NrbGhja1ozYjFwWmEwVnZWR2szWkdaWlJUZGhkbkk0WTFsTFpXVTVXbEZOZHpKQlJVbFJiVk4zZEVOND89DQogPT91dGYtOD9CP2RXMW9USEI0Vmt0TlVHMUNNbmRaUTFaSkwzTXhSVXRXYVRWM2RYUk5XVUpoUkZOVk9IaGFaamxyYXpsUj89DQogPT91dGYtOD9CP1dFaG9hblV3ZHpsS1NqUlVTMEowVVZSQ2VqaGxiRGhEU2tjM2RTdFBibEpFWkhCcWNVZzFaa2x3VWtNeD89DQogPT91dGYtOD9CP1RqSlJiWGRHUWpKNGRHMXRTMGRPYm1oNlVFSnlMelpGV0d4WU1tRlhUVU0wTTBwdFdtSkhTVGRXUmxGeT89DQogPT91dGYtOD9CP1QxTkZjVzF0VlRGdmRtOW9Na3hQVFdJelVDOVZlVEJMV1RKRGVHaEliREpPUTFKVGFpOVZOVXA1Y1VoWj89DQogPT91dGYtOD9CP1NubFJVblYzY0RGcGMxUmpRazU0Y25oUVUxRllVbGt4VVVobFRIUjVZaXRsVFdoc1NXRlZNMk5JV21FMj89DQogPT91dGYtOD9CP1kzbHJLMnBGVTFORFJVSTJNMGxzVEdKeVRtVm5QVDA9Pz0NCk1JTUUtVmVyc2lvbjogMS4wDQoNCi0tMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0Nw0KQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PSJ1dGYtOCINCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IHF1b3RlZC1wcmludGFibGUNCg0KQ0FVVElPTjogVGhpcyBlbWFpbCBvcmlnaW5hdGVkIGZyb20gb3V0c2lkZSBvZiB0aGUgb3JnYW5pemF0aW9uLiBEbyBub3QgY2xpPQ0KY2sgbGlua3Mgb3Igb3BlbiBhdHRhY2htZW50cyB1bmxlc3MgeW91IHJlY29nbml6ZSB0aGUgc2VuZGVyIGFuZCBrbm93IHRoZSBjPQ0Kb250ZW50IGlzIHNhZmUuDQoNCg0KDQotLQ0KDQpbaHR0cHM6Ly9saDYuZ29vZ2xldXNlcmNvbnRlbnQuY29tLzRESUhpYmEyWW1Ma2x0MHdIRTN3OVdfeXBpOTlBTC01TllZLVVnYmw9DQpQbWZzSEZmZ3FYbWVjMmUxcjRoRE5FYkQyS29WNERQbEJwWERqbzZpV2lTLWsxc3hjR1BKaTJfelp6Nm53ZHJ2UEdaUVluS3daeC09DQpDQWcxd1lzeE1BZ3pQQTlsWjd6WFNjZG45ZDk1aUxOWmJZTmJtMGdPSThXNDNNeE1kMUxDMGhUc3p2bjFMcm91bzV2XzJXTFM3cEE9DQpdDQoNCkJhbGEgTmFnZXN3YXJhcmFvIEdpZHV0dXJpDQoNClNvZnR3YXJlIEVuZ2luZWVyDQoNCkFwaXNlcm8NCg0KDQoNCg0KbTogODA3NDYwNjA5OQ0KDQplOiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbTxtYWlsdG86bmFnZXN3YXJhcmFvLnMuZ2lkdXR1cmlAYXBpc2U9DQpyby5jb20+DQoNCnc6IHd3dy5hcGlzZXJvLmNvbTxodHRwczovL3Byb3RlY3QtdXMubWltZWNhc3QuY29tL3MvejZpLUNSNjhXakZ5NGxOTUY5bTBaMD0NCj9kb21haW49M0RhcGlzZXJvLmNvbT4NCg0KDQo9RTI9ODA9OUMNCg0KLS0wMDAwMDAwMDAwMDA1MjM1OTQwNWY1NmMyMDQ3DQpDb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD1VVEYtOA0KQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogcXVvdGVkLXByaW50YWJsZQ0KDQo8aHRtbD48aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9M0QiQ29udGVudC1UeXBlIiBjb250ZW50PTNEInRleHQvaHRtbDsgY2hhcnNldD0zRHV0Zi04Ij4NCjwvaGVhZD4NCjxib2R5Pg0KPHA+PC9wPg0KPGRpdiBzdHlsZT0zRCJiYWNrZ3JvdW5kLWNvbG9yOiNGRkVCOUM7IHdpZHRoOjEwMCU7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvPQ0KcmRlci1jb2xvcjojOUM2NTAwOyBib3JkZXItd2lkdGg6MXB0OyBwYWRkaW5nOjJwdDsgZm9udC1zaXplOjEwcHQ7IGxpbmUtaGVpPQ0KZ2h0OjEycHQ7IGZvbnQtZmFtaWx5OidDYWxpYnJpJzsgY29sb3I6QmxhY2s7IHRleHQtYWxpZ246IGxlZnQ7Ij4NCjxzcGFuIHN0eWxlPTNEImNvbG9yOiM5QzY1MDAiIDs9M0QiIiBmb250LXdlaWdodDpib2xkOz0zRCIiPkNBVVRJT046PC9zcGFuPj0NCiBUaGlzIGVtYWlsIG9yaWdpbmF0ZWQgZnJvbSBvdXRzaWRlIG9mIHRoZSBvcmdhbml6YXRpb24uIERvIG5vdCBjbGljayBsaW5rcz0NCiBvciBvcGVuIGF0dGFjaG1lbnRzIHVubGVzcyB5b3UgcmVjb2duaXplIHRoZSBzZW5kZXIgYW5kIGtub3cgdGhlIGNvbnRlbnQgaT0NCnMgc2FmZS48L2Rpdj4NCjxicj4NCjxwPjwvcD4NCjxkaXY+DQo8ZGl2IGRpcj0zRCJsdHIiPjxiciBjbGVhcj0zRCJhbGwiPg0KPGRpdj48YnI+DQo8L2Rpdj4NCi0tIDxicj4NCjxkaXYgZGlyPTNEImx0ciIgY2xhc3M9M0QiZ21haWxfc2lnbmF0dXJlIiBkYXRhLXNtYXJ0bWFpbD0zRCJnbWFpbF9zaWduYXR1cj0NCmUiPg0KPGRpdiBkaXI9M0QibHRyIj48c3Bhbj4NCjxkaXYgZGlyPTNEImx0ciIgc3R5bGU9M0QibWFyZ2luLWxlZnQ6MHB0IiBhbGlnbj0zRCJsZWZ0Ij4NCjx0YWJsZSBzdHlsZT0zRCJib3JkZXI6bm9uZTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2UiPg0KPGNvbGdyb3VwPjxjb2wgd2lkdGg9M0QiMjU5Ij48Y29sIHdpZHRoPTNEIjE2NCI+PC9jb2xncm91cD4NCjx0Ym9keT4NCjx0ciBzdHlsZT0zRCJoZWlnaHQ6MTExcHQiPg0KPHRkIHN0eWxlPTNEImJvcmRlci1yaWdodDoyLjI1cHQgc29saWQgcmdiKDI0OCwxNDgsMjgpO3ZlcnRpY2FsLWFsaWduOnRvcDtwPQ0KYWRkaW5nOjBwdCA2cHQgMHB0IDBwdDtvdmVyZmxvdzpoaWRkZW4iPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMCwwLDApO2JhY2tncm91bmQtPQ0KY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPjxzcGFuIHN0eWxlPQ0KPTNEImJvcmRlcjpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO292ZXJmbG93OmhpZGRlbjt3aWR0aDoyMzhweDtoZWlnaHQ6NjRwPQ0KeCI+PGltZyBzcmM9M0QiaHR0cHM6Ly9saDYuZ29vZ2xldXNlcmNvbnRlbnQuY29tLzRESUhpYmEyWW1Ma2x0MHdIRTN3OVdfeXBpPQ0KOTlBTC01TllZLVVnYmxQbWZzSEZmZ3FYbWVjMmUxcjRoRE5FYkQyS29WNERQbEJwWERqbzZpV2lTLWsxc3hjR1BKaTJfelp6Nm53PQ0KZHJ2UEdaUVluS3daeC1DQWcxd1lzeE1BZ3pQQTlsWjd6WFNjZG45ZDk1aUxOWmJZTmJtMGdPSThXNDNNeE1kMUxDMGhUc3p2bjFMPQ0Kcm91bzV2XzJXTFM3cEEiIHdpZHRoPTNEIjIzOCIgaGVpZ2h0PTNEIjY0IiBzdHlsZT0zRCJtYXJnaW4tbGVmdDowcHg7bWFyZ2luPQ0KLXRvcDowcHgiPjwvc3Bhbj48L3NwYW4+PC9wPg0KPC90ZD4NCjx0ZCBzdHlsZT0zRCJib3JkZXItbGVmdDoyLjI1cHQgc29saWQgcmdiKDI0OCwxNDgsMjgpO3ZlcnRpY2FsLWFsaWduOnRvcDtwYT0NCmRkaW5nOjBwdCAwcHQgMHB0IDZwdDtvdmVyZmxvdzpoaWRkZW4iPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPGZvbnQgY29sb3I9M0QiIzIyMjIyMiIgZmFjZT0zRCJBcmlhbCI+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjEwLjY2NjdweDt3PQ0KaGl0ZS1zcGFjZTpwcmUtd3JhcCI+QmFsYSBOYWdlc3dhcmFyYW8gR2lkdXR1cmk8L3NwYW4+PC9mb250PjwvcD4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDM0LDM0LDM0KTtiYWNrZ3JvdT0NCm5kLWNvbG9yOnRyYW5zcGFyZW50O2ZvbnQtd2VpZ2h0OjcwMDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcj0NCmUtd3JhcCI+U29mdHdhcmUgRW5naW5lZXI8L3NwYW4+PC9wPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMzQsMzQsMzQpO2JhY2tncm91PQ0KbmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPkFwaXNlcm88PQ0KL3NwYW4+PC9wPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4yO21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij48PQ0Kc3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigzNCwzNCwzNCk7YmFja2dyb3VuPQ0KZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+Jm5ic3A7PC9zPQ0KcGFuPjwvcD4NCjxicj4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE3MSwxNzEsMTcxKTtiYWNrZz0NCnJvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj5tOiA4MD0NCjc0NjA2MDk5PC9zcGFuPjwvcD4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE1MywxNTMsMTUzKTtiYWNrZz0NCnJvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj5lOjwvcz0NCnBhbj48c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigzNCwzNCwzNCk7YmFjaz0NCmdyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+DQo8L3NwYW4+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW49DQpzcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj48Zm9udCBjb2xvcj0zRCIjMTE1NWM9DQpjIj48YSBocmVmPTNEIm1haWx0bzpuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSIgdGFyZ2V0PTNEIl9ibGFuayI9DQo+bmFnZXN3YXJhcmFvLnMuZ2lkdXR1cmlAYXBpc2Vyby5jb208L2E+PC9mb250Pjwvc3Bhbj48L3A+DQo8cCBkaXI9M0QibHRyIiBzdHlsZT0zRCJsaW5lLWhlaWdodDoxLjM4O21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij49DQo8c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigxNTMsMTUzLDE1Myk7YmFja2c9DQpyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+dzo8L3M9DQpwYW4+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMzQsMzQsMzQpO2JhY2s9DQpncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPg0KPC9zcGFuPjxhIGhyZWY9M0QiaHR0cHM6Ly9wcm90ZWN0LXVzLm1pbWVjYXN0LmNvbS9zL3o2aS1DUjY4V2pGeTRsTk1GOW0wWjA/PQ0KZG9tYWluPTNEYXBpc2Vyby5jb20iIHRhcmdldD0zRCJfYmxhbmsiPjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mPQ0KYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE3LDg1LDIwNCk7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnPQ0KbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+d3d3LmFwaXNlcm8uY29tPC9zcGFuPjwvYT48L3A+DQo8YnI+DQo8cCBkaXI9M0QibHRyIiBzdHlsZT0zRCJsaW5lLWhlaWdodDoxLjM4O21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij49DQo8c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigxNyw4NSwyMDQpO2JhY2tncm89DQp1bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPj1FMj04MD0NCj05QyZuYnNwOzwvc3Bhbj48L3A+DQo8L3RkPg0KPC90cj4NCjwvdGJvZHk+DQo8L3RhYmxlPg0KPC9kaXY+DQo8L3NwYW4+PC9kaXY+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2JvZHk+DQo8L2h0bWw+DQoNCi0tMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0Ny0tDQo=&quot;\r\n}]]]&gt;&lt;/java:args&gt;\r\n\t\t&lt;/java:invoke-static&gt;\r\n```","title":"bytearrayinputstream to string in Mule 4 using Java invoke static","body":"<p>I want to get elements from an <code>.eml</code> file in Mule 4 using the Java Module invoke static operation, but it gives this error</p>\n<pre><code>Invocation of static Method 'Text(java.lang.String)' from Class 'testattach.Test' with arguments [org.mule.runtime.core.internal.streaming.bytes.ManagedCursorStreamProvider arg0] resulted in an error.\nExpected arguments are [java.lang.String s].\nCause: java.lang.ClassCastException - javax.mail.util.SharedByteArrayInputStream cannot be cast to javax.mail.Multipart&quot;\n</code></pre>\n<pre><code>&lt;java:invoke-static doc:name=&quot;Invoke static&quot; doc:id=&quot;b668dd2d-c519-48e9-8293-a4725e19685d&quot; class=&quot;testattach.Test&quot; method=&quot;Text(java.lang.String)&quot;&gt;\n            &lt;java:args &gt;&lt;![CDATA[#[{\n    s : &quot;UmVjZWl2ZWQ6IGZyb20gQ0gwUFIxM01CNTIxOC5uYW1wcmQxMy5wcm9kLm91dGxvb2suY29tICgyNjAzOjEwYjY6NjEwOmY4OjoyMSkNCiBieSBTSjBQUjEzTUI1Nzg3Lm5hbXByZDEzLnByb2Qub3V0bG9vay5jb20gd2l0aCBIVFRQUzsgRnJpLCAyNCBGZWIgMjAyMw0KIDA2OjIwOjM5ICswMDAwDQpBUkMtU2VhbDogaT0yOyBhPXJzYS1zaGEyNTY7IHM9YXJjc2VsZWN0b3I5OTAxOyBkPW1pY3Jvc29mdC5jb207IGN2PXBhc3M7DQogYj1KbERHWWR2QWJmL2hDNmhZUkFIN0JRc3ZxelIzM3I0aFZPTUJBSDZ2Y0RodTMvZk1RU0V1Y2lFME1PZXphYVA1dmpzbURJWDBMUEVGQUJ1clhEOEliUmUzdCt6SFVJd0p4SXc5R254ZjhZcDRpVUN1UGtMTGltNGdjQUxEaEJBaTk1OW9XNU94Y1crek5qdDBKdGg2Tjl4NmhzQytPOHpmekcra0ZFQWEySllFT1NkY0V6dWc1UWhFUStIeGR2Y0hydEUyNkJyUWVCZjlKTVdNZzltSFRZeE5KWlhtalllbkgwbGd1UUNNL2QzM0lrNC9maWg2MWpiNEM2Y29MWHRHZ3NvWTFnM0lqTUJPUlZDNWUzdVMvOVh0dzlJam81dXJtYkUzRENsNHVQT2FQbkVoNmVyN0hPT1k5VFEzdzBtWU84Zzhnd3M4VXVmVnpGVjFQYW1lNlE9PQ0KQVJDLU1lc3NhZ2UtU2lnbmF0dXJlOiBpPTI7IGE9cnNhLXNoYTI1NjsgYz1yZWxheGVkL3JlbGF4ZWQ7IGQ9bWljcm9zb2Z0LmNvbTsNCiBzPWFyY3NlbGVjdG9yOTkwMTsNCiBoPUZyb206RGF0ZTpTdWJqZWN0Ok1lc3NhZ2UtSUQ6Q29udGVudC1UeXBlOk1JTUUtVmVyc2lvbjpYLU1TLUV4Y2hhbmdlLUFudGlTcGFtLU1lc3NhZ2VEYXRhLUNodW5rQ291bnQ6WC1NUy1FeGNoYW5nZS1BbnRpU3BhbS1NZXNzYWdlRGF0YS0wOlgtTVMtRXhjaGFuZ2UtQW50aVNwYW0tTWVzc2FnZURhdGEtMTsNCiBiaD1YSzN2NW1aYWdWS0JBUDJOaloyQ2xyRVlFTHlIZXBvcU5UVGtCMTZGcGs4PTsNCiBiPUZPWHRPM3lnVytOdU12UTdnT1VwbkhHT3ZLaHp0djh5N09BaTN1ckRCd3ZTemt3M2NJNHRSOHIxM2VQZWhqdEk3QzdlVVJsb242WUM4NVR5UmIxS1pvblRhOHJVZWgzUGFJTXB4cG44bHdWMis1c2JOZ2hIMDhaZjE1b1NuR0t2NHRSUXU0UDBHcFNlblVtcGNrV1VQUFBPSFpOSXVNOHN4TisyYk5uc3JraGhhdmdpd2oxc1NBU3JISS80dEk0MHh3MFB4WkZNYU5yNW1ybXR3dDhzTkJhTDZoVnpnNi9CbDloOXd0WG42Q2ovRi80TlRlQWlVV1BGZElJT1BVbHMzY3FTUWYxNnhiUnU0QWVGelJsYTJGaERKZXNnVkRKeTFRNWk5S1E0dlR3TXJvTUtDaFZ5R1o0dC9vNVRMenE5VkZ3NEhjTVZVYk1LTzhSSFRhYWw1Zz09DQpBUkMtQXV0aGVudGljYXRpb24tUmVzdWx0czogaT0yOyBteC5taWNyb3NvZnQuY29tIDE7IHNwZj1zb2Z0ZmFpbCAoc2VuZGVyIGlwDQogaXMgMjA3LjIxMS4zMS44MSkgc210cC5yY3B0dG9kb21haW49Z29sZHN0YXJwZW5zLmNvbQ0KIHNtdHAubWFpbGZyb209YXBpc2Vyby5jb207IGRtYXJjPWZhaWwgKHA9bm9uZSBzcD1ub25lIHBjdD0xMDApIGFjdGlvbj1ub25lDQogaGVhZGVyLmZyb209YXBpc2Vyby5jb207IGRraW09ZmFpbCAoYm9keSBoYXNoIGRpZCBub3QgdmVyaWZ5KQ0KIGhlYWRlci5kPWFwaXNlcm8uY29tOyBhcmM9cGFzcyAoMCBvZGE9MCBsdGRpPTAgOTMpDQpSZWNlaXZlZDogZnJvbSBETTZQUjA4Q0EwMDU4Lm5hbXByZDA4LnByb2Qub3V0bG9vay5jb20gKDI2MDM6MTBiNjo1OjFlMDo6MzIpDQogYnkgQ0gwUFIxM01CNTIxOC5uYW1wcmQxMy5wcm9kLm91dGxvb2suY29tICgyNjAzOjEwYjY6NjEwOmY4OjoyMSkgd2l0aA0KIE1pY3Jvc29mdCBTTVRQIFNlcnZlciAodmVyc2lvbj1UTFMxXzIsDQogY2lwaGVyPVRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQpIGlkIDE1LjIwLjYxMTEuMjE7IEZyaSwgMjQgRmViDQogMjAyMyAwNjoyMDozNiArMDAwMA0KUmVjZWl2ZWQ6IGZyb20gRE02TkFNMTFGVDExNS5lb3AtbmFtMTEucHJvZC5wcm90ZWN0aW9uLm91dGxvb2suY29tDQogKDI2MDM6MTBiNjo1OjFlMDpjYWZlOjpjNCkgYnkgRE02UFIwOENBMDA1OC5vdXRsb29rLm9mZmljZTM2NS5jb20NCiAoMjYwMzoxMGI2OjU6MWUwOjozMikgd2l0aCBNaWNyb3NvZnQgU01UUCBTZXJ2ZXIgKHZlcnNpb249VExTMV8yLA0KIGNpcGhlcj1UTFNfRUNESEVfUlNBX1dJVEhfQUVTXzI1Nl9HQ01fU0hBMzg0KSBpZCAxNS4yMC42MTM0LjI0IHZpYSBGcm9udGVuZA0KIFRyYW5zcG9ydDsgRnJpLCAyNCBGZWIgMjAyMyAwNjoyMDozNiArMDAwMA0KQXV0aGVudGljYXRpb24tUmVzdWx0czogc3BmPXNvZnRmYWlsIChzZW5kZXIgSVAgaXMgMjA3LjIxMS4zMS44MSkNCiBzbXRwLm1haWxmcm9tPWFwaXNlcm8uY29tOyBka2ltPWZhaWwgKGJvZHkgaGFzaCBkaWQgbm90IHZlcmlmeSkNCiBoZWFkZXIuZD1hcGlzZXJvLmNvbTtkbWFyYz1mYWlsIGFjdGlvbj1ub25lDQogaGVhZGVyLmZyb209YXBpc2Vyby5jb207Y29tcGF1dGg9c29mdHBhc3MgcmVhc29uPTIwMQ0KUmVjZWl2ZWQtU1BGOiBTb2Z0RmFpbCAocHJvdGVjdGlvbi5vdXRsb29rLmNvbTogZG9tYWluIG9mIHRyYW5zaXRpb25pbmcNCiBhcGlzZXJvLmNvbSBkaXNjb3VyYWdlcyB1c2Ugb2YgMjA3LjIxMS4zMS44MSBhcyBwZXJtaXR0ZWQgc2VuZGVyKQ0KUmVjZWl2ZWQ6IGZyb20gdXMtc210cC0xLm1pbWVjYXN0LmNvbSAoMjA3LjIxMS4zMS44MSkgYnkNCiBETTZOQU0xMUZUMTE1Lm1haWwucHJvdGVjdGlvbi5vdXRsb29rLmNvbSAoMTAuMTMuMTczLjMzKSB3aXRoIE1pY3Jvc29mdCBTTVRQDQogU2VydmVyICh2ZXJzaW9uPVRMUzFfMiwgY2lwaGVyPVRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQpIGlkDQogMTUuMjAuNjEzNC4yNCB2aWEgRnJvbnRlbmQgVHJhbnNwb3J0OyBGcmksIDI0IEZlYiAyMDIzIDA2OjIwOjM1ICswMDAwDQpBUkMtTWVzc2FnZS1TaWduYXR1cmU6IGk9MTsgYT1yc2Etc2hhMjU2OyBjPXJlbGF4ZWQvcmVsYXhlZDsNCglkPWRraW0ubWltZWNhc3QuY29tOyBzPTIwMTkwMzsgdD0xNjc3MjE5NjM1Ow0KCWg9ZnJvbTpmcm9tOnJlcGx5LXRvOnN1YmplY3Q6c3ViamVjdDpkYXRlOmRhdGU6bWVzc2FnZS1pZDptZXNzYWdlLWlkOg0KCSB0bzp0bzpjYzptaW1lLXZlcnNpb246bWltZS12ZXJzaW9uOmNvbnRlbnQtdHlwZTpjb250ZW50LXR5cGU6DQoJIGRraW0tc2lnbmF0dXJlOyBiaD1YSzN2NW1aYWdWS0JBUDJOaloyQ2xyRVlFTHlIZXBvcU5UVGtCMTZGcGs4PTsNCgliPWJjT0JtY1c4OHAxUzlCdHpKdGpGSWFPRHAyb2lPT3BWSldHTU5qM2ZQS21LYVdzaG95UTdlanE2c0thSXd6OVQ2WVJiLzANCglpZGNGQlh5QnJJTTVld3F3aXR3R2NVVkpYMm1KVVN0aEl4RU9MV0s4OTRxUUNyZW5Odk9JZTVEV3gyRWg2MkFYK1ExTkExDQoJenBJekpqTG1IVnp3NTl4c2phT0NaQzAzQkw3a2JXYVhzVjJwNWc2d3NPRmcxN2l4MmpmTmlUYkxGRlNiYXdIdG52UTY0TQ0KCUV1dUNaK2RPdE94NzA3VnRYZzlrWHoxS1RZcUNOVGw3Mk9mZk1PdDRjOFhKUDB6dXQ0aCtGM3hMeS9wWmZEbHJUUFJjT2sNCglXcUgvejVPcFVBSkU4dE9HN1A4SG1xUHBxOVF6TER0YW5FeXV2NXorR25SUDhRWWltUmFPMWc3cUd2c043Zz09DQpBUkMtU2VhbDogaT0xOyBzPTIwMTkwMzsgZD1ka2ltLm1pbWVjYXN0LmNvbTsgdD0xNjc3MjE5NjM1OyBhPXJzYS1zaGEyNTY7DQoJY3Y9bm9uZTsNCgliPWkveFJFRFJJUHNhNXdwOFFKT1JZS2dJMmNFVHpCK3FQS2xob0FxRWFtU3NpTFN1S0owczNUd3AvQ2JraGNwVXVGRXIwSW8NCglTUkhjWGtTdWxua0NKYzJQQW1CSm5xa24xSnFBNG5sMnVSMERXRU5MVTdWNk9xb3BmdjRiNnRwZTcvNHNZS0VLVWdPREV6DQoJdktHMWxRUE9Dc2VaUmdRQjBHNTRHTGJITHQrcmdwUHIwUU9hY0JRUXk4c1BPelBqYStzTnNJVTRFZ1NOcHhuZ3EzbnVMUg0KCU5rTjVydExYWlVCdXA4dEhlak1sN3Y2c1lDcTlNOGNVbTZSczRibXI4ZXFaZnZRVzlHMkoyRWFpNEFNWnREalRjRU9RRmMNCglDa1dSRnhHM3EzejBLak50YzY1bFNjS0p3WXh1d2VLRDJlN01XcU5ZUUJ6a0hMZjBhRGdhbG5SMGxKcWNtQT09DQpBUkMtQXV0aGVudGljYXRpb24tUmVzdWx0czogaT0xOw0KCXJlbGF5Lm1pbWVjYXN0LmNvbTsNCglka2ltPXBhc3MgaGVhZGVyLmQ9YXBpc2Vyby5jb20gaGVhZGVyLnM9Z29vZ2xlIGhlYWRlci5iPSJNLzFVaXJUOSI7DQoJZG1hcmM9cGFzcyAocG9saWN5PW5vbmUpIGhlYWRlci5mcm9tPWFwaXNlcm8uY29tOw0KCXNwZj1zb2Z0ZmFpbCAocmVsYXkubWltZWNhc3QuY29tOiAyMDkuODUuMjEwLjE3NCBpcyBuZWl0aGVyIHBlcm1pdHRlZCBub3IgZGVuaWVkIGJ5IGRvbWFpbiBvZiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSkgc210cC5tYWlsZnJvbT1uYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbQ0KUmVjZWl2ZWQ6IGZyb20gbWFpbC1wZjEtZjE3NC5nb29nbGUuY29tIChtYWlsLXBmMS1mMTc0Lmdvb2dsZS5jb20NCiBbMjA5Ljg1LjIxMC4xNzRdKSBieSByZWxheS5taW1lY2FzdC5jb20gd2l0aCBFU01UUCB3aXRoIFNUQVJUVExTDQogKHZlcnNpb249VExTdjEuMywgY2lwaGVyPVRMU19BRVNfMTI4X0dDTV9TSEEyNTYpIGlkDQogdXMtbXRhLTQ5Ny1tbW9lZF9ZMk13MjF5SnV1NnhwRnVBLTE7IEZyaSwgMjQgRmViIDIwMjMgMDE6MjA6MzIgLTA1MDANClgtTUMtVW5pcXVlOiBtbW9lZF9ZMk13MjF5SnV1NnhwRnVBLTENClJlY2VpdmVkOiBieSBtYWlsLXBmMS1mMTc0Lmdvb2dsZS5jb20gd2l0aCBTTVRQIGlkIG4yc28xNTg1OTMxcGZvLjEyDQogICAgICAgIGZvciA8dGVzdC5tdWxlc29mdEBwZW5zLmNvbT47IFRodSwgMjMgRmViIDIwMjMgMjI6MjA6MzIgLTA4MDAgKFBTVCkNCkRLSU0tU2lnbmF0dXJlOiB2PTE7IGE9cnNhLXNoYTI1NjsgYz1yZWxheGVkL3JlbGF4ZWQ7DQogICAgICAgIGQ9YXBpc2Vyby5jb207IHM9Z29vZ2xlOw0KICAgICAgICBoPXRvOnN1YmplY3Q6bWVzc2FnZS1pZDpkYXRlOmZyb206bWltZS12ZXJzaW9uOmZyb206dG86Y2M6c3ViamVjdA0KICAgICAgICAgOmRhdGU6bWVzc2FnZS1pZDpyZXBseS10bzsNCiAgICAgICAgYmg9WkdZc3dEcng4TTRUWjFtekJEUmVpL2ZSbTI1YVJTWi90Z3ZKQ2cwUWV0VT07DQogICAgICAgIGI9TS8xVWlyVDlWMTI3NzRScGZnODNCdWZ0QVdYSDA3MnJ6clMwc2RySEx1eW1yUHlkTExCUFRXc0F6WXJOWEZ6aUNGDQogICAgICAgICBWRm84KzJrdDdCci9BRWhITURGKzgycUlCNXhmL0VCcWZ5UVRXeVlHSzJGc1RYQzlQWDcvRTNhWG9BeVhNOWdCaU1JNg0KICAgICAgICAgazFvbTRUS2h3aUNiMjNSYktzeXdLZHVhYVMrby9mZjZJQnQxaHU4NHdobHI0Z2QrRjRUSU1hOUJPWXM5MnRkcEZhd2ENCiAgICAgICAgIEUxWlZha0ZpTHpQNmpHeDVhYTFOZThWR2lzdUhYVWNMbC9KNW5lZy82MWtPcmk2ejA1NDZ6cE9aSi8wVDg5SWdLR2tVDQogICAgICAgICBuaHRlWGwxRTEvN1cwcFd5b2grRXFiMjJHcC85MTRBTHUwcnRNNzhrS21LY051Q1RvN0tSQTE1aDBrNUdPaE9RY0hwdQ0KICAgICAgICAgV0Z5dz09DQpYLUdvb2dsZS1ES0lNLVNpZ25hdHVyZTogdj0xOyBhPXJzYS1zaGEyNTY7IGM9cmVsYXhlZC9yZWxheGVkOw0KICAgICAgICBkPTFlMTAwLm5ldDsgcz0yMDIxMDExMjsNCiAgICAgICAgaD10bzpzdWJqZWN0Om1lc3NhZ2UtaWQ6ZGF0ZTpmcm9tOm1pbWUtdmVyc2lvbjp4LWdtLW1lc3NhZ2Utc3RhdGUNCiAgICAgICAgIDpmcm9tOnRvOmNjOnN1YmplY3Q6ZGF0ZTptZXNzYWdlLWlkOnJlcGx5LXRvOw0KICAgICAgICBiaD1aR1lzd0RyeDhNNFRaMW16QkRSZWkvZlJtMjVhUlNaL3RndkpDZzBRZXRVPTsNCiAgICAgICAgYj15dEVVTys2ZHlpTlNha2FXZjdzeVVyTGFJaHBXZEhROUJ2alZHQkJxcnJRa0hBWUhqdTRubFRpbWxZMGJEOFdEWjUNCiAgICAgICAgIHdtWHh6eVFUbnZqWlNCTGpJSkRpLzNTd2VxTm5tUmVlK1U2RGlGMllvZnBZMWNPQjVjL3NIUTZyeFBXdnZ4ZXJ0RC9MDQogICAgICAgICBsaDV0TG9wdEdTNmtiT0dkYnp1S0lJM1BwRzlOL2pUbk9LakdWUDNvdlQ5ZkcxNUY2T2lpcFFJUEZhM0RKSS9LSFFNWQ0KICAgICAgICAgaHlTWEdxR21MNklodnlVOWI2T2htK1JPT2RHb3kwZjd3ZkYwRlZZMko1MGVldmNSS2dTNWc4bnhLaDR0OHM2S0FqQi8NCiAgICAgICAgIFJ5WVM5L3krdlBjbVpmTnRpQWxBWXAwYnVXa2xHaTQrZ2gycllFSXJRSTNrN08zSlBIOEMzakVyMnh3YTRZbkY1Y0FuDQogICAgICAgICB0djZBPT0NClgtR20tTWVzc2FnZS1TdGF0ZTogQU8weVVLVUkweWZVZWRrNmlzSGxpdlJMU0ErMXc1SjhKLzRVMzNzSU9oMU9zNjd0UFAwc3Fndk0NCglaMHZ2NmlJSzg5S0szc1pMNXIvVXA3Z0ZwLzF5dm02YlZnbkhmbVVGY3RPZWhMTlNwQT09DQpYLUdvb2dsZS1TbXRwLVNvdXJjZTogQUs3c2V0OTBITk5SVjF4cUpQTGE2ZUZlb295Um56ZisyRnJvUVdKTUlrMllzNUVvK3RpUXlxOVRVd1hNMUhoTXlaTXBiNUZwNEdudzlKN3Z0YWVFdjVrM1hWdz0NClgtUmVjZWl2ZWQ6IGJ5IDIwMDI6YTYzOjM2NDc6MDpiMDo0ZmE6YjcxYTo5M2JiIHdpdGggU01UUCBpZA0KIGQ2OC0yMDAyMGE2MzM2NDcwMDAwMDBiMDA0ZmFiNzFhOTNiYm1yMjU5MDA2MHBnYS4wLjE2NzcyMTk2MzEwNzg7IFRodSwgMjMgRmViDQogMjAyMyAyMjoyMDozMSAtMDgwMCAoUFNUKQ0KRnJvbTogQmFsYSBOYWdlc3dhcmFyYW8gR2lkdXR1cmkgPG5hZ2Vzd2FyYXJhby5zLmdpZHV0dXJpQGFwaXNlcm8uY29tPg0KRGF0ZTogRnJpLCAyNCBGZWIgMjAyMyAxMTo1MDoyMyArMDUzMA0KTWVzc2FnZS1JRDogPENBTz1UdzVXVkRPPW51eU1DVFdYQU1YM01wNnE4cnNQeHlDU0hlUlRVR2RKeGd6bk5tUUBtYWlsLmdtYWlsLmNvbT4NClN1YmplY3Q6IENWVi05OTkNClRvOiB0ZXN0Lm11bGVzb2Z0QHBlbnMuY29tDQpBdXRoZW50aWNhdGlvbi1SZXN1bHRzLU9yaWdpbmFsOiByZWxheS5taW1lY2FzdC5jb207CWRraW09cGFzcw0KIGhlYWRlci5kPWFwaXNlcm8uY29tIGhlYWRlci5zPWdvb2dsZSBoZWFkZXIuYj0iTS8xVWlyVDkiOwlkbWFyYz1wYXNzDQogKHBvbGljeT1ub25lKSBoZWFkZXIuZnJvbT1hcGlzZXJvLmNvbTsJc3BmPXNvZnRmYWlsIChyZWxheS5taW1lY2FzdC5jb206DQogMjA5Ljg1LjIxMC4xNzQgaXMgbmVpdGhlciBwZXJtaXR0ZWQgbm9yIGRlbmllZCBieSBkb21haW4gb2YNCiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSkNCiBzbXRwLm1haWxmcm9tPW5hZ2Vzd2FyYXJhby5zLmdpZHV0dXJpQGFwaXNlcm8uY29tDQpYLU1pbWVjYXN0LVNwYW0tU2NvcmU6IDENCkNvbnRlbnQtVHlwZTogbXVsdGlwYXJ0L2FsdGVybmF0aXZlOyBib3VuZGFyeT0iMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0NyINClJldHVybi1QYXRoOiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbQ0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tRXhwaXJhdGlvblN0YXJ0VGltZTogMjQgRmViIDIwMjMgMDY6MjA6MzUuODU5Ng0KIChVVEMpDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1FeHBpcmF0aW9uU3RhcnRUaW1lUmVhc29uOiBPcmlnaW5hbFN1Ym1pdA0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tRXhwaXJhdGlvbkludGVydmFsOiAxOjAwOjAwOjAwLjAwMDAwMDANClgtTVMtRXhjaGFuZ2UtT3JnYW5pemF0aW9uLUV4cGlyYXRpb25JbnRlcnZhbFJlYXNvbjogT3JpZ2luYWxTdWJtaXQNClgtTVMtRXhjaGFuZ2UtT3JnYW5pemF0aW9uLU5ldHdvcmstTWVzc2FnZS1JZDoNCiA1Zjk0MzIzNC1kOGZkLTRlNjYtMjY2Mi0wOGRiMTYyZjNkYzQNClgtRU9QQXR0cmlidXRlZE1lc3NhZ2U6IDANClgtRU9QVGVuYW50QXR0cmlidXRlZE1lc3NhZ2U6IGMyNDQ4MTlhLTdhYWEtNDVmNi05ZjM3LTFmODExOTJkNTIyYjowDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1NZXNzYWdlRGlyZWN0aW9uYWxpdHk6IEluY29taW5nDQpYLU1TLVB1YmxpY1RyYWZmaWNUeXBlOiBFbWFpbA0KWC1NUy1UcmFmZmljVHlwZURpYWdub3N0aWM6IERNNk5BTTExRlQxMTU6RUVffENIMFBSMTNNQjUyMTg6RUVfDQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1BdXRoU291cmNlOg0KIERNNk5BTTExRlQxMTUuZW9wLW5hbTExLnByb2QucHJvdGVjdGlvbi5vdXRsb29rLmNvbQ0KWC1NUy1FeGNoYW5nZS1Pcmdhbml6YXRpb24tQXV0aEFzOiBBbm9ueW1vdXMNClgtTVMtT2ZmaWNlMzY1LUZpbHRlcmluZy1Db3JyZWxhdGlvbi1JZDogNWY5NDMyMzQtZDhmZC00ZTY2LTI2NjItMDhkYjE2MmYzZGM0DQpYLU1TLUV4Y2hhbmdlLU9yZ2FuaXphdGlvbi1TQ0w6IDENClgtTWljcm9zb2Z0LUFudGlzcGFtOiBCQ0w6MDsNClgtRm9yZWZyb250LUFudGlzcGFtLVJlcG9ydDoNCiBDSVA6MjA3LjIxMS4zMS44MTtDVFJZOlVTO0xBTkc6ZW47U0NMOjE7U1JWOjtJUFY6TkxJO1NGVjpOU1BNO0g6dXMtc210cC0xLm1pbWVjYXN0LmNvbTtQVFI6dXMtc210cC0yLm1pbWVjYXN0LmNvbTtDQVQ6Tk9ORTtTRlM6KDEzMjMwMDI1KSgxNjkwNzk5MDExKSg0NTExOTkwMTgpKDY2NjYwMDQpKDM0MjA2MDAyKSgxMDk2MDAzKSg4Njc2MDAyKSg0MjE4NjAwNikoMzM5NjQwMDQpKDk2ODYwMDMpKDI2MDA1KSgxNTk3NDg2NTAwMikoNTU0NDYwMDIpKDg2MzYyMDAxKSg1NjYwMzAwMDAyKSg3NjM2MDAzKSgxNjYwMDIpKDM1NjAwNSkoMzM2MDEyKTtESVI6SU5COw0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1PcmlnaW5hbEFycml2YWxUaW1lOiAyNCBGZWIgMjAyMyAwNjoyMDozNS43MDMzDQogKFVUQykNClgtTVMtRXhjaGFuZ2UtQ3Jvc3NUZW5hbnQtTmV0d29yay1NZXNzYWdlLUlkOiA1Zjk0MzIzNC1kOGZkLTRlNjYtMjY2Mi0wOGRiMTYyZjNkYzQNClgtTVMtRXhjaGFuZ2UtQ3Jvc3NUZW5hbnQtSWQ6IGMyNDQ4MTlhLTdhYWEtNDVmNi05ZjM3LTFmODExOTJkNTIyYg0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1BdXRoU291cmNlOg0KIERNNk5BTTExRlQxMTUuZW9wLW5hbTExLnByb2QucHJvdGVjdGlvbi5vdXRsb29rLmNvbQ0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1BdXRoQXM6IEFub255bW91cw0KWC1NUy1FeGNoYW5nZS1Dcm9zc1RlbmFudC1Gcm9tRW50aXR5SGVhZGVyOiBJbnRlcm5ldA0KWC1NUy1FeGNoYW5nZS1UcmFuc3BvcnQtQ3Jvc3NUZW5hbnRIZWFkZXJzU3RhbXBlZDogQ0gwUFIxM01CNTIxOA0KWC1NUy1FeGNoYW5nZS1UcmFuc3BvcnQtRW5kVG9FbmRMYXRlbmN5OiAwMDowMDowMy40NTM2MjQ5DQpYLU1TLUV4Y2hhbmdlLVByb2Nlc3NlZC1CeS1CY2NGb2xkZXJpbmc6IDE1LjIwLjYxMzQuMDI0DQpYLU1pY3Jvc29mdC1BbnRpc3BhbS1NYWlsYm94LURlbGl2ZXJ5Og0KCXVjZjowO2ptcjowO2F1dGg6MDtkZXN0Okk7RU5HOig5MTAwMDEpKDk0NDUwNjQ3OCkoOTQ0NjI2NjA0KSg5MjAwOTcpKDkzMDA5Nyk7DQpYLU1pY3Jvc29mdC1BbnRpc3BhbS1NZXNzYWdlLUluZm86DQoJPT91dGYtOD9CP1JYTTNMMmxZUVZCQlMwbGpVM0JNY0hkeFltZFJiMHRQZVdvdmNsTTBjWEJ1TVVSU1JVcHBWV1pJTTFFdj89DQogPT91dGYtOD9CP1VWVjFWeXRRVkZCeWF5OVBSbEk1YVc1c1pGTnJNak5ZTDNSSFZuaHdRWE42VkVvMFdrOVRiSEZwUWtveT89DQogPT91dGYtOD9CP2MxQkVVRXhRVjJsNVFqTmxNVE0xYlM4eU1ta3dSVFZUVWk5a1puWktkbkl2U2xadlNGTkliUzl6WlV0Tj89DQogPT91dGYtOD9CP1QxcENiaXMyTTNjMVZGZFlja3BuTkVwUlluSnZaVVJEVldWTFQzaFVXbWhOZUN0clJVSTRXRkZqSzFnMz89DQogPT91dGYtOD9CP2QzbzBOV3hDUmtkMFVYWk5iR05CVjBVeFIxaHdZM0p5YXpka1NXdHNPRkZuTmpOYVVVOU5RMVo2ZFZwcj89DQogPT91dGYtOD9CP2IxUktjV1p2YlcxNmExTlFMMVV4TjJ4TmFVdzRVMHA1VjA1WlJVY3pkV1ZRVTBGc1JqVjJjbEpCVG5wMT89DQogPT91dGYtOD9CP2NUWXJjelpTZWxKblRtcDBSek5TYWpGU1pWWTFOWGs0UWpSS2IwRlhOV2hqVjBaM1IySndNVmgwZVROeT89DQogPT91dGYtOD9CP1pXaGFkamhHYkRkamIydERlWFE0TjNaQ1oxUk5PR2xMTDJaYVJXRXdVVzQzTkZGdVQwZHZUVEJ3YTB3NT89DQogPT91dGYtOD9CP1VHaHJaVE4zTkVSUkt6Wm9LMmMxTm5oWVMwVnZlRU5LZUhkT0swTmtkMGhTUVRWSlprUTRTREpvZFdzMz89DQogPT91dGYtOD9CP2JraENaVWhGV0hBdlFTODFjMjFhYUdsdlVHZHZlWEJKWmt4dGNEbE1lbEp4Y3pOUFoySXlaWEZXWVZGdD89DQogPT91dGYtOD9CP2MyVmFXa0prVTI5S1JsUlpiMmwyYkVsT1pURnRVREoxUlZkT0x6SnBWemwwUkdoVFdVZG5jMk5EYURBMT89DQogPT91dGYtOD9CP2NEZHdhbm9yTjNsQ1RVWnlPVEpOTkZGb2QwYzRVblF2TkVGb1lXdDFTVFpSYUhkNFVVbEtPWEYwYlVZdz89DQogPT91dGYtOD9CP2MxSkNSREpxZDNKWlVYUlpaRVprVUhCT2RGQkZjMlpPU1VSYVZtaGlNalZPZHpsT01UZFNOVko2TUZwbz89DQogPT91dGYtOD9CP1RVVmFWMkpOWjJ0cU5tcEZNRTl6ZGtzd2NVeHdWVUYxWldneWEzQm9TbWRRVFhKTWJVOW5SMmxuZG0xUz89DQogPT91dGYtOD9CP2FHRjRiRUYxYzI5NWQydFhPVE5CY1N0bk5rZzNPVUZ6VnpCR1ZFNTBiRTFYTjJ4YVZFNDVSbFF2V1U5UT89DQogPT91dGYtOD9CP00yVTBNa1ZaYlRFemRGSnNjWFZIVnpBM01XNVZURFJsYlZKTFpqRTFNV1ptUjBaaVIxRmxjM0ZvU0hKUz89DQogPT91dGYtOD9CP1oyRm1VMFZFTUc4MGRuVm1WMmwxV205UGMxVlNXVlZ3UjJ4WGIwMVRVMlpPVTJKS2RUWjZaRzlpUjA0ej89DQogPT91dGYtOD9CP05YSnlPRTVTWlZOUlN5dHNVbWxPYTJ4RGFHbGhNMWhqWlhaaWNrRjVka28zU1hKWE1XaElNbEZQVFVOcj89DQogPT91dGYtOD9CP1NYWXpXRXB1TkdjNU5pdGhkRzVIUjNKc1R6ZElRbG93TTA1U04xZHNUVE5zVTFWbFlqSndkMWQ0VERSWD89DQogPT91dGYtOD9CP1dIWndUalpLVDJkUWJraDFlRWhIUmxoMGNISndSMmN6Um05aWRUTmFSREF5VW05cVRUWmxTVWRYZURZdz89DQogPT91dGYtOD9CP1lXcElNbXQyVjJOaEwybGtSbmwwYjFCd2F5dFVORXhOUWs1bVdYaFdOSEJuY0ZrMWFURnRka3RXZG1FMz89DQogPT91dGYtOD9CP1RFOUdPSGdyVm5wNVNpOUpkbWhHUTFZMU1WZ3hXbGhHWm1keVNqa3hkMUkzVTBSNk5scHdUU3Q1U21OUD89DQogPT91dGYtOD9CP1N6VkJiRzgzVkhoMWNrVnBXa3RrZHpkdmFEWmlWaTkwZEUwcmQzZHBiRVJyU1VkMlJHUTNibUZwUWtaVj89DQogPT91dGYtOD9CP00yOUhURUk0UzFRMmRtSlNXVkJaVW1vMWVWZFdNWFJ3UVU5emJFSnRaVzR6VWpGT1Rta3hUbGN2VlVkaT89DQogPT91dGYtOD9CP0wxcE5URkZMTTFJeVNsRk9RbTVZZGpZeGFFOHpSM1J6TVUxaE5FVkxVallyUmxSU2IwSm5hMEZXVmtaUz89DQogPT91dGYtOD9CP2RWQnlkM05QUW0xSU1HUTBWWGQyUTNBNGVGbHhUMnR6TTNNMk5WRlNhV3RXZWxKSFluTlpRVnBEWTB0Rz89DQogPT91dGYtOD9CP2VUUkNjbEJ2Y1VsNFpVNHdhRVJFWWpWdlpqZDVSekpVYkhvMmVIcFJVV1psUW01ME0zcHFiRmN2Y0dsaj89DQogPT91dGYtOD9CP1YweFJTalJpWW1sV2NqWkdZekZaY0ZOdE9FcGlRUzlhZG1waFUwOTFSWFZHU21kNmJTdDVWa1JxZDFCYT89DQogPT91dGYtOD9CP1dqUnRiRkpxWVZaaFFtWlNlVWQyZVdkdU4wTldNazV5V0U1ekswRTFZVEV2WlU0eWRtTmFVekF6ZERGTz89DQogPT91dGYtOD9CP0syTlpZblpYTUV0ME5sRlZSR2hRTHpaSE9HWTJURWg0VDJSU2IyNW5kbFZ0VVhGTkszRlBaelJKUTA1dT89DQogPT91dGYtOD9CP1EySnZOVU5UWWtORk4wZHJjWHAyUjAxUGJEbHJZM1V6UkROaksyOXZhVEpaYWpaWmNFTk5ORUk1UTJVcj89DQogPT91dGYtOD9CP2NrbGhja1ozYjFwWmEwVnZWR2szWkdaWlJUZGhkbkk0WTFsTFpXVTVXbEZOZHpKQlJVbFJiVk4zZEVOND89DQogPT91dGYtOD9CP2RXMW9USEI0Vmt0TlVHMUNNbmRaUTFaSkwzTXhSVXRXYVRWM2RYUk5XVUpoUkZOVk9IaGFaamxyYXpsUj89DQogPT91dGYtOD9CP1dFaG9hblV3ZHpsS1NqUlVTMEowVVZSQ2VqaGxiRGhEU2tjM2RTdFBibEpFWkhCcWNVZzFaa2x3VWtNeD89DQogPT91dGYtOD9CP1RqSlJiWGRHUWpKNGRHMXRTMGRPYm1oNlVFSnlMelpGV0d4WU1tRlhUVU0wTTBwdFdtSkhTVGRXUmxGeT89DQogPT91dGYtOD9CP1QxTkZjVzF0VlRGdmRtOW9Na3hQVFdJelVDOVZlVEJMV1RKRGVHaEliREpPUTFKVGFpOVZOVXA1Y1VoWj89DQogPT91dGYtOD9CP1NubFJVblYzY0RGcGMxUmpRazU0Y25oUVUxRllVbGt4VVVobFRIUjVZaXRsVFdoc1NXRlZNMk5JV21FMj89DQogPT91dGYtOD9CP1kzbHJLMnBGVTFORFJVSTJNMGxzVEdKeVRtVm5QVDA9Pz0NCk1JTUUtVmVyc2lvbjogMS4wDQoNCi0tMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0Nw0KQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PSJ1dGYtOCINCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IHF1b3RlZC1wcmludGFibGUNCg0KQ0FVVElPTjogVGhpcyBlbWFpbCBvcmlnaW5hdGVkIGZyb20gb3V0c2lkZSBvZiB0aGUgb3JnYW5pemF0aW9uLiBEbyBub3QgY2xpPQ0KY2sgbGlua3Mgb3Igb3BlbiBhdHRhY2htZW50cyB1bmxlc3MgeW91IHJlY29nbml6ZSB0aGUgc2VuZGVyIGFuZCBrbm93IHRoZSBjPQ0Kb250ZW50IGlzIHNhZmUuDQoNCg0KDQotLQ0KDQpbaHR0cHM6Ly9saDYuZ29vZ2xldXNlcmNvbnRlbnQuY29tLzRESUhpYmEyWW1Ma2x0MHdIRTN3OVdfeXBpOTlBTC01TllZLVVnYmw9DQpQbWZzSEZmZ3FYbWVjMmUxcjRoRE5FYkQyS29WNERQbEJwWERqbzZpV2lTLWsxc3hjR1BKaTJfelp6Nm53ZHJ2UEdaUVluS3daeC09DQpDQWcxd1lzeE1BZ3pQQTlsWjd6WFNjZG45ZDk1aUxOWmJZTmJtMGdPSThXNDNNeE1kMUxDMGhUc3p2bjFMcm91bzV2XzJXTFM3cEE9DQpdDQoNCkJhbGEgTmFnZXN3YXJhcmFvIEdpZHV0dXJpDQoNClNvZnR3YXJlIEVuZ2luZWVyDQoNCkFwaXNlcm8NCg0KDQoNCg0KbTogODA3NDYwNjA5OQ0KDQplOiBuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbTxtYWlsdG86bmFnZXN3YXJhcmFvLnMuZ2lkdXR1cmlAYXBpc2U9DQpyby5jb20+DQoNCnc6IHd3dy5hcGlzZXJvLmNvbTxodHRwczovL3Byb3RlY3QtdXMubWltZWNhc3QuY29tL3MvejZpLUNSNjhXakZ5NGxOTUY5bTBaMD0NCj9kb21haW49M0RhcGlzZXJvLmNvbT4NCg0KDQo9RTI9ODA9OUMNCg0KLS0wMDAwMDAwMDAwMDA1MjM1OTQwNWY1NmMyMDQ3DQpDb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD1VVEYtOA0KQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogcXVvdGVkLXByaW50YWJsZQ0KDQo8aHRtbD48aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9M0QiQ29udGVudC1UeXBlIiBjb250ZW50PTNEInRleHQvaHRtbDsgY2hhcnNldD0zRHV0Zi04Ij4NCjwvaGVhZD4NCjxib2R5Pg0KPHA+PC9wPg0KPGRpdiBzdHlsZT0zRCJiYWNrZ3JvdW5kLWNvbG9yOiNGRkVCOUM7IHdpZHRoOjEwMCU7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvPQ0KcmRlci1jb2xvcjojOUM2NTAwOyBib3JkZXItd2lkdGg6MXB0OyBwYWRkaW5nOjJwdDsgZm9udC1zaXplOjEwcHQ7IGxpbmUtaGVpPQ0KZ2h0OjEycHQ7IGZvbnQtZmFtaWx5OidDYWxpYnJpJzsgY29sb3I6QmxhY2s7IHRleHQtYWxpZ246IGxlZnQ7Ij4NCjxzcGFuIHN0eWxlPTNEImNvbG9yOiM5QzY1MDAiIDs9M0QiIiBmb250LXdlaWdodDpib2xkOz0zRCIiPkNBVVRJT046PC9zcGFuPj0NCiBUaGlzIGVtYWlsIG9yaWdpbmF0ZWQgZnJvbSBvdXRzaWRlIG9mIHRoZSBvcmdhbml6YXRpb24uIERvIG5vdCBjbGljayBsaW5rcz0NCiBvciBvcGVuIGF0dGFjaG1lbnRzIHVubGVzcyB5b3UgcmVjb2duaXplIHRoZSBzZW5kZXIgYW5kIGtub3cgdGhlIGNvbnRlbnQgaT0NCnMgc2FmZS48L2Rpdj4NCjxicj4NCjxwPjwvcD4NCjxkaXY+DQo8ZGl2IGRpcj0zRCJsdHIiPjxiciBjbGVhcj0zRCJhbGwiPg0KPGRpdj48YnI+DQo8L2Rpdj4NCi0tIDxicj4NCjxkaXYgZGlyPTNEImx0ciIgY2xhc3M9M0QiZ21haWxfc2lnbmF0dXJlIiBkYXRhLXNtYXJ0bWFpbD0zRCJnbWFpbF9zaWduYXR1cj0NCmUiPg0KPGRpdiBkaXI9M0QibHRyIj48c3Bhbj4NCjxkaXYgZGlyPTNEImx0ciIgc3R5bGU9M0QibWFyZ2luLWxlZnQ6MHB0IiBhbGlnbj0zRCJsZWZ0Ij4NCjx0YWJsZSBzdHlsZT0zRCJib3JkZXI6bm9uZTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2UiPg0KPGNvbGdyb3VwPjxjb2wgd2lkdGg9M0QiMjU5Ij48Y29sIHdpZHRoPTNEIjE2NCI+PC9jb2xncm91cD4NCjx0Ym9keT4NCjx0ciBzdHlsZT0zRCJoZWlnaHQ6MTExcHQiPg0KPHRkIHN0eWxlPTNEImJvcmRlci1yaWdodDoyLjI1cHQgc29saWQgcmdiKDI0OCwxNDgsMjgpO3ZlcnRpY2FsLWFsaWduOnRvcDtwPQ0KYWRkaW5nOjBwdCA2cHQgMHB0IDBwdDtvdmVyZmxvdzpoaWRkZW4iPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMCwwLDApO2JhY2tncm91bmQtPQ0KY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPjxzcGFuIHN0eWxlPQ0KPTNEImJvcmRlcjpub25lO2Rpc3BsYXk6aW5saW5lLWJsb2NrO292ZXJmbG93OmhpZGRlbjt3aWR0aDoyMzhweDtoZWlnaHQ6NjRwPQ0KeCI+PGltZyBzcmM9M0QiaHR0cHM6Ly9saDYuZ29vZ2xldXNlcmNvbnRlbnQuY29tLzRESUhpYmEyWW1Ma2x0MHdIRTN3OVdfeXBpPQ0KOTlBTC01TllZLVVnYmxQbWZzSEZmZ3FYbWVjMmUxcjRoRE5FYkQyS29WNERQbEJwWERqbzZpV2lTLWsxc3hjR1BKaTJfelp6Nm53PQ0KZHJ2UEdaUVluS3daeC1DQWcxd1lzeE1BZ3pQQTlsWjd6WFNjZG45ZDk1aUxOWmJZTmJtMGdPSThXNDNNeE1kMUxDMGhUc3p2bjFMPQ0Kcm91bzV2XzJXTFM3cEEiIHdpZHRoPTNEIjIzOCIgaGVpZ2h0PTNEIjY0IiBzdHlsZT0zRCJtYXJnaW4tbGVmdDowcHg7bWFyZ2luPQ0KLXRvcDowcHgiPjwvc3Bhbj48L3NwYW4+PC9wPg0KPC90ZD4NCjx0ZCBzdHlsZT0zRCJib3JkZXItbGVmdDoyLjI1cHQgc29saWQgcmdiKDI0OCwxNDgsMjgpO3ZlcnRpY2FsLWFsaWduOnRvcDtwYT0NCmRkaW5nOjBwdCAwcHQgMHB0IDZwdDtvdmVyZmxvdzpoaWRkZW4iPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPGZvbnQgY29sb3I9M0QiIzIyMjIyMiIgZmFjZT0zRCJBcmlhbCI+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjEwLjY2NjdweDt3PQ0KaGl0ZS1zcGFjZTpwcmUtd3JhcCI+QmFsYSBOYWdlc3dhcmFyYW8gR2lkdXR1cmk8L3NwYW4+PC9mb250PjwvcD4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDM0LDM0LDM0KTtiYWNrZ3JvdT0NCm5kLWNvbG9yOnRyYW5zcGFyZW50O2ZvbnQtd2VpZ2h0OjcwMDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcj0NCmUtd3JhcCI+U29mdHdhcmUgRW5naW5lZXI8L3NwYW4+PC9wPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4zODttYXJnaW4tdG9wOjBwdDttYXJnaW4tYm90dG9tOjBwdCI+PQ0KPHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMzQsMzQsMzQpO2JhY2tncm91PQ0KbmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPkFwaXNlcm88PQ0KL3NwYW4+PC9wPg0KPHAgZGlyPTNEImx0ciIgc3R5bGU9M0QibGluZS1oZWlnaHQ6MS4yO21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij48PQ0Kc3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigzNCwzNCwzNCk7YmFja2dyb3VuPQ0KZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+Jm5ic3A7PC9zPQ0KcGFuPjwvcD4NCjxicj4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE3MSwxNzEsMTcxKTtiYWNrZz0NCnJvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj5tOiA4MD0NCjc0NjA2MDk5PC9zcGFuPjwvcD4NCjxwIGRpcj0zRCJsdHIiIHN0eWxlPTNEImxpbmUtaGVpZ2h0OjEuMzg7bWFyZ2luLXRvcDowcHQ7bWFyZ2luLWJvdHRvbTowcHQiPj0NCjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE1MywxNTMsMTUzKTtiYWNrZz0NCnJvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj5lOjwvcz0NCnBhbj48c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigzNCwzNCwzNCk7YmFjaz0NCmdyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+DQo8L3NwYW4+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW49DQpzcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO3doaXRlLXNwYWNlOnByZS13cmFwIj48Zm9udCBjb2xvcj0zRCIjMTE1NWM9DQpjIj48YSBocmVmPTNEIm1haWx0bzpuYWdlc3dhcmFyYW8ucy5naWR1dHVyaUBhcGlzZXJvLmNvbSIgdGFyZ2V0PTNEIl9ibGFuayI9DQo+bmFnZXN3YXJhcmFvLnMuZ2lkdXR1cmlAYXBpc2Vyby5jb208L2E+PC9mb250Pjwvc3Bhbj48L3A+DQo8cCBkaXI9M0QibHRyIiBzdHlsZT0zRCJsaW5lLWhlaWdodDoxLjM4O21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij49DQo8c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigxNTMsMTUzLDE1Myk7YmFja2c9DQpyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+dzo8L3M9DQpwYW4+PHNwYW4gc3R5bGU9M0QiZm9udC1zaXplOjhwdDtmb250LWZhbWlseTpBcmlhbDtjb2xvcjpyZ2IoMzQsMzQsMzQpO2JhY2s9DQpncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPg0KPC9zcGFuPjxhIGhyZWY9M0QiaHR0cHM6Ly9wcm90ZWN0LXVzLm1pbWVjYXN0LmNvbS9zL3o2aS1DUjY4V2pGeTRsTk1GOW0wWjA/PQ0KZG9tYWluPTNEYXBpc2Vyby5jb20iIHRhcmdldD0zRCJfYmxhbmsiPjxzcGFuIHN0eWxlPTNEImZvbnQtc2l6ZTo4cHQ7Zm9udC1mPQ0KYW1pbHk6QXJpYWw7Y29sb3I6cmdiKDE3LDg1LDIwNCk7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnPQ0KbjpiYXNlbGluZTt3aGl0ZS1zcGFjZTpwcmUtd3JhcCI+d3d3LmFwaXNlcm8uY29tPC9zcGFuPjwvYT48L3A+DQo8YnI+DQo8cCBkaXI9M0QibHRyIiBzdHlsZT0zRCJsaW5lLWhlaWdodDoxLjM4O21hcmdpbi10b3A6MHB0O21hcmdpbi1ib3R0b206MHB0Ij49DQo8c3BhbiBzdHlsZT0zRCJmb250LXNpemU6OHB0O2ZvbnQtZmFtaWx5OkFyaWFsO2NvbG9yOnJnYigxNyw4NSwyMDQpO2JhY2tncm89DQp1bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXAiPj1FMj04MD0NCj05QyZuYnNwOzwvc3Bhbj48L3A+DQo8L3RkPg0KPC90cj4NCjwvdGJvZHk+DQo8L3RhYmxlPg0KPC9kaXY+DQo8L3NwYW4+PC9kaXY+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2JvZHk+DQo8L2h0bWw+DQoNCi0tMDAwMDAwMDAwMDAwNTIzNTk0MDVmNTZjMjA0Ny0tDQo=&quot;\n}]]]&gt;&lt;/java:args&gt;\n        &lt;/java:invoke-static&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1559139153,"post_id":56362553,"comment_id":99328552,"body_markdown":"you can use a temporary file.\n`File tempFile = File. createTempFile(&quot;hello&quot;, &quot;.tmp&quot;);`\nplease have a look at https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-","body":"you can use a temporary file. <code>File tempFile = File. createTempFile(&quot;hello&quot;, &quot;.tmp&quot;);</code> please have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createTempFile-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":15859142,"reputation":881,"user_id":11442735,"display_name":"guest"},"score":0,"creation_date":1559141295,"post_id":56362553,"comment_id":99329810,"body_markdown":"How are you producing the PDF file? Are you doing the conversion to `byte[]` on your own (ie, by passing `ByteArrayOutputStream`), or does the library do that?","body":"How are you producing the PDF file? Are you doing the conversion to <code>byte[]</code> on your own (ie, by passing <code>ByteArrayOutputStream</code>), or does the library do that?"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1559139468,"creation_date":1559139468,"answer_id":56362727,"question_id":56362553,"body_markdown":"The SDK offers method that take `InputStream` and `ObjectMetadata` instead of `File`. For example there is [`putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)`][1]. \r\n\r\nUse one of the provided methods and supply `ByteArrayInputStream` if you don&#39;t want to create files.\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-","title":"Store byte contents in S3","body":"<p>The SDK offers method that take <code>InputStream</code> and <code>ObjectMetadata</code> instead of <code>File</code>. For example there is <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-\" rel=\"noreferrer\"><code>putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)</code></a>. </p>\n\n<p>Use one of the provided methods and supply <code>ByteArrayInputStream</code> if you don't want to create files.</p>\n"},{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677325563,"creation_date":1559139591,"answer_id":56362765,"question_id":56362553,"body_markdown":"You can use the following method for aws file storage.\r\n```\r\nPutObjectResult\t        putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)\r\n```\r\nAws also provides the following overloaded method to use based upon the suitability.\r\n```\r\nPutObjectResult\t        putObject(PutObjectRequest putObjectRequest)\r\nPutObjectResult\t        putObject(String bucketName, String key, File file)\r\nPutObjectResult\t        putObject(String bucketName, String key, String content)\r\n```\r\nYou can convert byte[] to InputStream and you can pass in the above method. Refer below the javadocs for aws:\r\n\r\n[Amazon S3](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html)\r\n\r\n[PutObjectRequest](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html)\r\n","title":"Store byte contents in S3","body":"<p>You can use the following method for aws file storage.</p>\n<pre><code>PutObjectResult         putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)\n</code></pre>\n<p>Aws also provides the following overloaded method to use based upon the suitability.</p>\n<pre><code>PutObjectResult         putObject(PutObjectRequest putObjectRequest)\nPutObjectResult         putObject(String bucketName, String key, File file)\nPutObjectResult         putObject(String bucketName, String key, String content)\n</code></pre>\n<p>You can convert byte[] to InputStream and you can pass in the above method. Refer below the javadocs for aws:</p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html\" rel=\"nofollow noreferrer\">Amazon S3</a></p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html\" rel=\"nofollow noreferrer\">PutObjectRequest</a></p>\n"}],"owner":{"account_id":1992813,"reputation":1423,"user_id":1786442,"accept_rate":50,"display_name":"hopsey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4720,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56362727,"answer_count":2,"score":4,"last_activity_date":1677325563,"creation_date":1559138974,"question_id":56362553,"body_markdown":"I need to save binary (`byte[]`) contents (PDF file) to S3. \r\n\r\nI don&#39;t want to have a hard copy existing in HDD, pdf is being generated in the fly and then it needs to be sent to S3.\r\n\r\nJava AWS SDK `AmazonS3.putObject()` requires `File` type in method signature, how can I pass my binary contents directly without saving it to hard drive?","title":"Store byte contents in S3","body":"<p>I need to save binary (<code>byte[]</code>) contents (PDF file) to S3. </p>\n\n<p>I don't want to have a hard copy existing in HDD, pdf is being generated in the fly and then it needs to be sent to S3.</p>\n\n<p>Java AWS SDK <code>AmazonS3.putObject()</code> requires <code>File</code> type in method signature, how can I pass my binary contents directly without saving it to hard drive?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677266278,"post_id":75559992,"comment_id":133310578,"body_markdown":"In your title, what is &quot;line ising&quot;? What kind of `ItemReader` are you using? One supplied by Spring Batch (e.g. `FlatFileItemReader`) or a custom one? If it&#39;s the latter, how did you implement the `read()` method? Finally, the way you have presented the examples: are the spaces supposed to be new lines? (I think so, because the incorrectly formatted block of lines (surround by back ticks) suggests this.)","body":"In your title, what is &quot;line ising&quot;? What kind of <code>ItemReader</code> are you using? One supplied by Spring Batch (e.g. <code>FlatFileItemReader</code>) or a custom one? If it&#39;s the latter, how did you implement the <code>read()</code> method? Finally, the way you have presented the examples: are the spaces supposed to be new lines? (I think so, because the incorrectly formatted block of lines (surround by back ticks) suggests this.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677268739,"post_id":75559992,"comment_id":133311123,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677325308,"creation_date":1677325308,"answer_id":75565144,"question_id":75559992,"body_markdown":"By default, the `FlatFileItemReader` considers lines starting `#` to be comments and does not parse them.\r\n\r\nYou can override this by passing a suitable String array to `FlatFileItemReader::setComments`. The array should contain all prefixes of lines that should be considered as comments. If your input does not contain any comments, you can set it to an empty array.","title":"While reading the line using item reader, when the line starts with token the file is not read","body":"<p>By default, the <code>FlatFileItemReader</code> considers lines starting <code>#</code> to be comments and does not parse them.</p>\n<p>You can override this by passing a suitable String array to <code>FlatFileItemReader::setComments</code>. The array should contain all prefixes of lines that should be considered as comments. If your input does not contain any comments, you can set it to an empty array.</p>\n"}],"owner":{"account_id":27871668,"reputation":3,"user_id":21282051,"display_name":"Srikaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75565144,"answer_count":1,"score":-1,"last_activity_date":1677325417,"creation_date":1677262062,"question_id":75559992,"body_markdown":"I&#39;m using spring batch item reader and delimited tokeniser to read a file and map the tokens to Java objects, when the line starts with token the file is not read.\r\n\r\n    #123#456#789#\r\n    #647#847#938#\r\n    #737#938#737#\r\n\r\nBelow file works.\r\n\r\n    123#124#647#648#\r\n    123#737#747#747#\r\n    272#848#848#838#\r\n\r\nBelow file doesn&#39;t work. How to read the below file. \r\n\r\n    #123#456#789#\r\n    #647#847#938#\r\n    #737#938#737#","title":"While reading the line using item reader, when the line starts with token the file is not read","body":"<p>I'm using spring batch item reader and delimited tokeniser to read a file and map the tokens to Java objects, when the line starts with token the file is not read.</p>\n<pre><code>#123#456#789#\n#647#847#938#\n#737#938#737#\n</code></pre>\n<p>Below file works.</p>\n<pre><code>123#124#647#648#\n123#737#747#747#\n272#848#848#838#\n</code></pre>\n<p>Below file doesn't work. How to read the below file.</p>\n<pre><code>#123#456#789#\n#647#847#938#\n#737#938#737#\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-ec2"],"answers":[{"comments":[{"owner":{"account_id":17490252,"reputation":3,"user_id":12737462,"display_name":"LuciannoDev"},"score":0,"creation_date":1677325369,"post_id":75565064,"comment_id":133317910,"body_markdown":"Hummm i undestand , Thanks, I&#39;ve been trying to get it to work for a while. Any solution to get it to run that way every time I start the instance?","body":"Hummm i undestand , Thanks, I&#39;ve been trying to get it to work for a while. Any solution to get it to run that way every time I start the instance?"},{"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"score":0,"creation_date":1677325474,"post_id":75565064,"comment_id":133317926,"body_markdown":"Theres tons of approaches on how to launch a script on startup on Linux, heres some examples: https://askubuntu.com/questions/814/how-to-run-scripts-on-start-up","body":"Theres tons of approaches on how to launch a script on startup on Linux, heres some examples: <a href=\"https://askubuntu.com/questions/814/how-to-run-scripts-on-start-up\" title=\"how to run scripts on start up\">askubuntu.com/questions/814/how-to-run-scripts-on-start-up</a>"}],"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677325367,"creation_date":1677324311,"answer_id":75565064,"question_id":75564963,"body_markdown":"User Data script are executed **only on the very first boot**: it seems you expect that the script will be executed at every reboot.","title":"EC2 User-data script is not starting my Java application","body":"<p>User Data script are executed <strong>only on the very first boot</strong>: it seems you expect that the script will be executed at every reboot.</p>\n"}],"owner":{"account_id":17490252,"reputation":3,"user_id":12737462,"display_name":"LuciannoDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75565064,"answer_count":1,"score":0,"last_activity_date":1677325367,"creation_date":1677323338,"question_id":75564963,"body_markdown":"I need to start my java application with a script,\r\nbut User Data are not working: if I start the application manually, it works.&lt;br/&gt;\r\n\r\nMy EC2 instance has Ubuntu\r\n\r\nHeres the snippet of the User Data Im using:\r\n\r\n```\r\n#!/bin/bash\r\ncd /home/ubuntu\r\nsudo su\r\njava -jar HelpDesk-0.0.1-SNAPSHOT.jar\r\n```","title":"EC2 User-data script is not starting my Java application","body":"<p>I need to start my java application with a script,\nbut User Data are not working: if I start the application manually, it works.<br/></p>\n<p>My EC2 instance has Ubuntu</p>\n<p>Heres the snippet of the User Data Im using:</p>\n<pre><code>#!/bin/bash\ncd /home/ubuntu\nsudo su\njava -jar HelpDesk-0.0.1-SNAPSHOT.jar\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","hibernate-6.x"],"answers":[{"comments":[{"owner":{"account_id":140310,"reputation":599,"user_id":346534,"display_name":"stephan f"},"score":0,"creation_date":1681313127,"post_id":68958671,"comment_id":134037027,"body_markdown":"When can we use Hib 6 with Panache?","body":"When can we use Hib 6 with Panache?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":2,"creation_date":1681361535,"post_id":68958671,"comment_id":134044661,"body_markdown":"It will be available in Quarkus 3 which will be released very soon","body":"It will be available in Quarkus 3 which will be released very soon"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677325246,"creation_date":1630093497,"answer_id":68958671,"question_id":68956970,"body_markdown":"You can&#39;t use Hibernate 6 with Quarkus.\r\nWe will bump to that version sometime in the future, but for now we are on 5.x.\r\n\r\nIf that issue is very important to you, I propose you ask the Hibernate team to backport the fix to the 5.x line\r\n\r\n**Update** \r\n\r\nQuarkus will switch to Hibernate 6 in Quarkus 3.0 (the switch had already been made in the main branch)","title":"How can I use Hibernate 6 with Quarkus","body":"<p>You can't use Hibernate 6 with Quarkus.\nWe will bump to that version sometime in the future, but for now we are on 5.x.</p>\n<p>If that issue is very important to you, I propose you ask the Hibernate team to backport the fix to the 5.x line</p>\n<p><strong>Update</strong></p>\n<p>Quarkus will switch to Hibernate 6 in Quarkus 3.0 (the switch had already been made in the main branch)</p>\n"}],"owner":{"account_id":15295373,"reputation":73,"user_id":11035653,"display_name":"Mar&#237;lia Portela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68958671,"answer_count":1,"score":5,"last_activity_date":1677325246,"creation_date":1630083255,"question_id":68956970,"body_markdown":"I need to use Hibernate version 6.0.0.Alpha7, since they have solved the following issue:\r\nhttps://hibernate.atlassian.net/browse/HHH-1050\r\n\r\nHibernate dependency is declared using quarkus extension:\r\n\r\n    &lt;quarkus.platform.version&gt;2.1.4.Final&lt;/quarkus.platform.version&gt;\r\n    (...)\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n           &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI think this is still using Hibernate 5.5.6.Final. How can I use Hibernate 6.0.0.Alpha7?","title":"How can I use Hibernate 6 with Quarkus","body":"<p>I need to use Hibernate version 6.0.0.Alpha7, since they have solved the following issue:\n<a href=\"https://hibernate.atlassian.net/browse/HHH-1050\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-1050</a></p>\n<p>Hibernate dependency is declared using quarkus extension:</p>\n<pre><code>&lt;quarkus.platform.version&gt;2.1.4.Final&lt;/quarkus.platform.version&gt;\n(...)\n&lt;dependency&gt;\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n       &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I think this is still using Hibernate 5.5.6.Final. How can I use Hibernate 6.0.0.Alpha7?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"comments":[{"owner":{"display_name":"user7514788"},"score":0,"creation_date":1657193829,"post_id":72880873,"comment_id":128755341,"body_markdown":"it works really close to what I have expected. Button is functional. But problem is when I trigger anchor event , browser directly downloads a corrupted text file name &quot;f.txt&quot;  which is not present in the server and not expected file . Do you have any suggestions as to what problem could be?","body":"it works really close to what I have expected. Button is functional. But problem is when I trigger anchor event , browser directly downloads a corrupted text file name &quot;f.txt&quot;  which is not present in the server and not expected file . Do you have any suggestions as to what problem could be?"},{"owner":{"account_id":6845383,"reputation":234,"user_id":5264368,"display_name":"nailer_boxer"},"score":1,"creation_date":1657222005,"post_id":72880873,"comment_id":128766106,"body_markdown":"You&#39;re right, @MEDO . I didn&#39;t test it very well (I tested with a `FileInputStream`), but was able to reproduce the same behaviour. The problem was that the `anchor` was removed too early. The `StreamResource` removes the resource whenever the `anchor` is detached. After that the browser didn&#39;t have access to the resource. I changed the js code to use a`Promise` when triggering the `click` event in order to remove the `anchor` whenever it&#39;s ready. Therefore the `StreamResource` is able to generate the temporary `URL` and the browser is able to reach it. I updated the answer.","body":"You&#39;re right, @MEDO . I didn&#39;t test it very well (I tested with a <code>FileInputStream</code>), but was able to reproduce the same behaviour. The problem was that the <code>anchor</code> was removed too early. The <code>StreamResource</code> removes the resource whenever the <code>anchor</code> is detached. After that the browser didn&#39;t have access to the resource. I changed the js code to use a<code>Promise</code> when triggering the <code>click</code> event in order to remove the <code>anchor</code> whenever it&#39;s ready. Therefore the <code>StreamResource</code> is able to generate the temporary <code>URL</code> and the browser is able to reach it. I updated the answer."}],"tags":[],"owner":{"account_id":6845383,"reputation":234,"user_id":5264368,"display_name":"nailer_boxer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657220725,"creation_date":1657099091,"answer_id":72880873,"question_id":72833568,"body_markdown":"Just adjust your `fileDownloadRequestListener` to this and it should work:\r\n\r\n```\r\n    private ComponentEventListener&lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt; fileDownloadRequestListener() {\r\n        return selectedFile -&gt; {\r\n            StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\r\n                    () -&gt; fileInputHandlerService.fileInput(selectedFile.getItem().get()));\r\n            anchor = new Anchor(resource, &quot;a&quot;);\r\n            Element element = anchor.getElement();\r\n            element.setAttribute(&quot;download&quot;, true);\r\n            // Hide the anchor from the user\r\n            element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\r\n            add(anchor);\r\n            // Trigger click and remove when ready\r\n          element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(anchor));\r\n    }\r\n```","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<p>Just adjust your <code>fileDownloadRequestListener</code> to this and it should work:</p>\n<pre><code>    private ComponentEventListener&lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt; fileDownloadRequestListener() {\n        return selectedFile -&gt; {\n            StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\n                    () -&gt; fileInputHandlerService.fileInput(selectedFile.getItem().get()));\n            anchor = new Anchor(resource, &quot;a&quot;);\n            Element element = anchor.getElement();\n            element.setAttribute(&quot;download&quot;, true);\n            // Hide the anchor from the user\n            element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\n            add(anchor);\n            // Trigger click and remove when ready\n          element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(anchor));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20589757,"reputation":1,"user_id":15113736,"display_name":"Anh Tu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677325150,"creation_date":1677325150,"answer_id":75565129,"question_id":72833568,"body_markdown":"    Anchor download = new Anchor();\r\n    download.add(downloadButton);\r\n    download.getElement().setAttribute(&quot;download&quot;, &quot;Hscodelistdownload.xlsx&quot;);\r\n    downloadButton.addClickListener(e -&gt; {\r\n    \t\t\t\t  \r\n    \t\t\t\t StreamResource resource = new StreamResource(&quot;Hscodelistdownload&quot;+System.currentTimeMillis()+&quot;.xlsx&quot;, Exporter.exportAsExcel(grid));\r\n    \t\t\t\t   download.setHref(resource);\r\n    \t\t\t\t   Element element = download.getElement();\r\n    \t\t\t\t   element.setAttribute(&quot;download&quot;, true);\r\n    \t\t\t\t   element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\r\n    \t\t\t\t   element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(download));\r\n    \t\t\t\t   StreamRegistration regn = VaadinSession.getCurrent().getResourceRegistry().registerResource(resource);\r\n    \t\t\t\t   UI.getCurrent().getPage().open(regn.getResourceUri().toString());\r\n    \t\t   \r\n    \t\t\t});\r\n    add(downloadButton);\r\n\r\n","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<pre><code>Anchor download = new Anchor();\ndownload.add(downloadButton);\ndownload.getElement().setAttribute(&quot;download&quot;, &quot;Hscodelistdownload.xlsx&quot;);\ndownloadButton.addClickListener(e -&gt; {\n                  \n                 StreamResource resource = new StreamResource(&quot;Hscodelistdownload&quot;+System.currentTimeMillis()+&quot;.xlsx&quot;, Exporter.exportAsExcel(grid));\n                   download.setHref(resource);\n                   Element element = download.getElement();\n                   element.setAttribute(&quot;download&quot;, true);\n                   element.getStyle().set(&quot;display&quot;, &quot;none&quot;);\n                   element.executeJs(&quot;return new Promise(resolve =&gt;{this.click(); setTimeout(() =&gt; resolve(true), 150)})&quot;, element).then(jsonValue -&gt; remove(download));\n                   StreamRegistration regn = VaadinSession.getCurrent().getResourceRegistry().registerResource(resource);\n                   UI.getCurrent().getPage().open(regn.getResourceUri().toString());\n           \n            });\nadd(downloadButton);\n</code></pre>\n"}],"owner":{"display_name":"user7514788"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72880873,"answer_count":2,"score":1,"last_activity_date":1677325150,"creation_date":1656701675,"question_id":72833568,"body_markdown":"I am able to use Upload Component to upload file from page to my file system like below.\r\n\r\n              return (MultiFileReceiver) (String fileName, String mimeType) -&gt; {\r\n              try {\r\n                  File file = new File(uploadFileDirectory,fileName);\r\n                  return fileOutputHandlerService.fileOutput(file);\r\n              } catch (Exception e) {\r\n                  throw new RuntimeException(e);\r\n              }\r\n          };\r\nBut when it comes to download that file with given path I can&#39;t accomplish that.\r\nOnly explanation to do that is using Anchor element. but I want to use ContextMenu component to trigger a download . \r\nI have a contextmenu Component derived from a Grid\r\n\r\n     fileListContext = grid.addContextMenu();\r\n     fileListContext.addItem(&quot;Download&quot;,uiListener.fileDownloadRequestListener());\r\n\r\nI implemented that context menu listener like below. I want to click that context menu pop up and prompt browser to open save location for user to start download.\r\n\r\n            private  ComponentEventListener &lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt;  fileDownloadRequestListener(){\r\n          //created stream user and anchor element. how to trigger download attribute of anchor?\r\n          return selectedFile-&gt; {\r\n              StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\r\n                      ()-&gt;fileInputHandlerService.fileInput(selectedFile.getItem().get()));\r\n              anchor = new Anchor(resource,&quot;a&quot;);\r\n              anchor.getElement().setAttribute(&quot;download&quot;,true);\r\n              anchor.setVisible(true);\r\n              add(anchor);\r\n          };\r\n        }","title":"How to mimic click event of anchor tag in Vaadin flow?","body":"<p>I am able to use Upload Component to upload file from page to my file system like below.</p>\n<pre><code>          return (MultiFileReceiver) (String fileName, String mimeType) -&gt; {\n          try {\n              File file = new File(uploadFileDirectory,fileName);\n              return fileOutputHandlerService.fileOutput(file);\n          } catch (Exception e) {\n              throw new RuntimeException(e);\n          }\n      };\n</code></pre>\n<p>But when it comes to download that file with given path I can't accomplish that.\nOnly explanation to do that is using Anchor element. but I want to use ContextMenu component to trigger a download .\nI have a contextmenu Component derived from a Grid</p>\n<pre><code> fileListContext = grid.addContextMenu();\n fileListContext.addItem(&quot;Download&quot;,uiListener.fileDownloadRequestListener());\n</code></pre>\n<p>I implemented that context menu listener like below. I want to click that context menu pop up and prompt browser to open save location for user to start download.</p>\n<pre><code>        private  ComponentEventListener &lt;GridContextMenu.GridContextMenuItemClickEvent&lt;FileEntity&gt;&gt;  fileDownloadRequestListener(){\n      //created stream user and anchor element. how to trigger download attribute of anchor?\n      return selectedFile-&gt; {\n          StreamResource resource = new StreamResource(selectedFile.getItem().get().getFileName(),\n                  ()-&gt;fileInputHandlerService.fileInput(selectedFile.getItem().get()));\n          anchor = new Anchor(resource,&quot;a&quot;);\n          anchor.getElement().setAttribute(&quot;download&quot;,true);\n          anchor.setVisible(true);\n          add(anchor);\n      };\n    }\n</code></pre>\n"},{"tags":["java","sonarqube","pull-request","sonarqube-scan"],"comments":[{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":3,"creation_date":1676046769,"post_id":75413392,"comment_id":133065101,"body_markdown":"Regardless of how Sonar analyses code, compiling the code seems to be the first check any CI pipeline should do, then unit tests, then static code analysis.","body":"Regardless of how Sonar analyses code, compiling the code seems to be the first check any CI pipeline should do, then unit tests, then static code analysis."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676046771,"post_id":75413392,"comment_id":133065102,"body_markdown":"The page about pull request analysis that you link states: _To decorate pull requests, a SonarQube analysis needs to be run on your code_ And to run a SonarQube analysis the linked page about source code analysis states: _Compiled .class files are required._ What is unclear about these statements? And if you want code coverage then you not only need compiled .class files, you must run your unit tests too.","body":"The page about pull request analysis that you link states: <i>To decorate pull requests, a SonarQube analysis needs to be run on your code</i> And to run a SonarQube analysis the linked page about source code analysis states: <i>Compiled .class files are required.</i> What is unclear about these statements? And if you want code coverage then you not only need compiled .class files, you must run your unit tests too."},{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":1,"creation_date":1676046885,"post_id":75413392,"comment_id":133065143,"body_markdown":"If the problem is that it takes too much to compile the whole project... the solution might be breaking it down in modules and having a artifact repository (local maven cache, nexus, Artifactory, etc) to consume the compiled versions of them.","body":"If the problem is that it takes too much to compile the whole project... the solution might be breaking it down in modules and having a artifact repository (local maven cache, nexus, Artifactory, etc) to consume the compiled versions of them."},{"owner":{"account_id":2237707,"reputation":167,"user_id":1973574,"accept_rate":50,"display_name":"nnay84"},"score":0,"creation_date":1676049070,"post_id":75413392,"comment_id":133065868,"body_markdown":"Thanks @GonzaloMatheu- yes compiling the code is taking a long time.","body":"Thanks @GonzaloMatheu- yes compiling the code is taking a long time."}],"answers":[{"tags":[],"owner":{"account_id":11299201,"reputation":1458,"user_id":8285732,"display_name":"milbrandt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677324555,"creation_date":1677324555,"answer_id":75565081,"question_id":75413392,"body_markdown":"Generally speaking, no. SonarQube requires byte code class files to analyze Java projects. The class files can either be provided by the buld (Maven, Gradle) or manually.\r\n\r\nOnly in the specific case, that you have only ONE Java file, the class file can be omitted for Sonarqube, see also the [Java analyzer docs](https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/).\r\n","title":"does sonarqube pull request analysis needs compiled java code","body":"<p>Generally speaking, no. SonarQube requires byte code class files to analyze Java projects. The class files can either be provided by the buld (Maven, Gradle) or manually.</p>\n<p>Only in the specific case, that you have only ONE Java file, the class file can be omitted for Sonarqube, see also the <a href=\"https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">Java analyzer docs</a>.</p>\n"}],"owner":{"account_id":2237707,"reputation":167,"user_id":1973574,"accept_rate":50,"display_name":"nnay84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677324555,"creation_date":1676044609,"question_id":75413392,"body_markdown":"I am working on a Java project and looking to deploy SonarQube on every PR also on our feature branches (not just main) as part of our shift-left strategy. However, we don&#39;t want to have to compile Java code every time. **Is it possible to run Sonarqube pull request analysis without having compiled java code?** \r\n\r\n\r\nI looked at SQ docs and could not find specifics on how pull request analysis works: https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/\r\n\r\nAlso, looking at other docs, Sonarqube says (https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/) \r\n\r\n    Java analysis and bytecode Compiled .class files are required for java projects with more than one java file. If not provided properly, analysis will fail with the message:\r\n    \r\n    Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.","title":"does sonarqube pull request analysis needs compiled java code","body":"<p>I am working on a Java project and looking to deploy SonarQube on every PR also on our feature branches (not just main) as part of our shift-left strategy. However, we don't want to have to compile Java code every time. <strong>Is it possible to run Sonarqube pull request analysis without having compiled java code?</strong></p>\n<p>I looked at SQ docs and could not find specifics on how pull request analysis works: <a href=\"https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/9.7/analyzing-source-code/pull-request-analysis/</a></p>\n<p>Also, looking at other docs, Sonarqube says (<a href=\"https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/analyzing-source-code/languages/java/</a>)</p>\n<pre><code>Java analysis and bytecode Compiled .class files are required for java projects with more than one java file. If not provided properly, analysis will fail with the message:\n\nYour project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property.\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","caching"],"comments":[{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":0,"creation_date":1677316315,"post_id":75564245,"comment_id":133316807,"body_markdown":"hey Kreuzzes, what exactly do you need to log? I just wanted to mention that the databases produce and write their own log messages. In spring and hibernate it is also possible to log the produced and executed sql-queries.","body":"hey Kreuzzes, what exactly do you need to log? I just wanted to mention that the databases produce and write their own log messages. In spring and hibernate it is also possible to log the produced and executed sql-queries."},{"owner":{"account_id":27289698,"reputation":1,"user_id":20808313,"display_name":"Kreuzzes"},"score":0,"creation_date":1677317194,"post_id":75564245,"comment_id":133316926,"body_markdown":"@EiriniGraonidou I&#39;m logging various Debug Messages and info Messages created by Components, Services, Schedulers etc. of my Program. Also Exceptions get logged. Database Updates aren&#39;t logged its something custom","body":"@EiriniGraonidou I&#39;m logging various Debug Messages and info Messages created by Components, Services, Schedulers etc. of my Program. Also Exceptions get logged. Database Updates aren&#39;t logged its something custom"}],"answers":[{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677324416,"creation_date":1677324416,"answer_id":75565070,"question_id":75564245,"body_markdown":"Maybe you could use the [JPA callbacks for the different lifecycle events][1] `(PrePersist, PostPersist, etc...)`\r\n\r\nAssuming you have implemented an entity and repository for managing books, you could define a service that utilizes the above mentioned events.\r\n\r\nyour entity:\r\n\r\n    @Entity\r\n    @EntityListeners(BookLoggingService.class)\r\n    class Book {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String title;\r\n\t\r\n\tprivate String isbn;\r\n    \r\n    public Book() {}\r\n\r\n\tpublic Book(String title, String isbn) {\r\n\t\tthis.title = title;\r\n\t\tthis.isbn = isbn;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic String getIsbn() {\r\n\t\treturn isbn;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, isbn=&quot; + isbn + &quot;]&quot;;\r\n\t}\r\n    }\r\n\r\nYour repository:\r\n\r\n    interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\r\n\r\n    }\r\n\r\n\r\nyour logging logic:\r\n\r\n\r\n    class BookLoggingService {\r\n\r\n    private static final Log log = LogFactory.getLog(BookLoggingService.class);\r\n    \r\n\t@PrePersist\r\n\tvoid actOnPrePersist(Book book) {\r\n\t\t// implement your logging\r\n\t\tlog.info(&quot;on pre persist of book: &quot; + book);\r\n\t}\r\n\t\r\n\t@PostPersist\r\n\tvoid actOnPostPersist(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the after persist: &quot; + book.toString());\r\n\t}\r\n\t\r\n\t@PreRemove\r\n\tvoid actOnPreRemove(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the before removed: &quot; + book.toString());\r\n\t}\r\n\t\r\n\t@PostRemove\r\n\tvoid actOnPostRemove(Book book) {\r\n\t\t// implement your logging logic\r\n\t\tlog.info(&quot;the after removed: &quot; + book.toString());\r\n\t}\r\n  }\r\n\r\nThen you could see something like: \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/9/apidocs/\r\n  [2]: https://i.stack.imgur.com/ArpPB.png","title":"Spring Boot Repository how to cache X Entities until saving to Database","body":"<p>Maybe you could use the <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/\" rel=\"nofollow noreferrer\">JPA callbacks for the different lifecycle events</a> <code>(PrePersist, PostPersist, etc...)</code></p>\n<p>Assuming you have implemented an entity and repository for managing books, you could define a service that utilizes the above mentioned events.</p>\n<p>your entity:</p>\n<pre><code>@Entity\n@EntityListeners(BookLoggingService.class)\nclass Book {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\nprivate Long id;\n\nprivate String title;\n\nprivate String isbn;\n\npublic Book() {}\n\npublic Book(String title, String isbn) {\n    this.title = title;\n    this.isbn = isbn;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic String getIsbn() {\n    return isbn;\n}\n\n@Override\npublic String toString() {\n    return &quot;Book [id=&quot; + id + &quot;, title=&quot; + title + &quot;, isbn=&quot; + isbn + &quot;]&quot;;\n}\n}\n</code></pre>\n<p>Your repository:</p>\n<pre><code>interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\n\n}\n</code></pre>\n<p>your logging logic:</p>\n<pre><code>class BookLoggingService {\n\nprivate static final Log log = LogFactory.getLog(BookLoggingService.class);\n\n@PrePersist\nvoid actOnPrePersist(Book book) {\n    // implement your logging\n    log.info(&quot;on pre persist of book: &quot; + book);\n}\n\n@PostPersist\nvoid actOnPostPersist(Book book) {\n    // implement your logging logic\n    log.info(&quot;the after persist: &quot; + book.toString());\n}\n\n@PreRemove\nvoid actOnPreRemove(Book book) {\n    // implement your logging logic\n    log.info(&quot;the before removed: &quot; + book.toString());\n}\n\n@PostRemove\nvoid actOnPostRemove(Book book) {\n    // implement your logging logic\n    log.info(&quot;the after removed: &quot; + book.toString());\n}\n</code></pre>\n<p>}</p>\n<p>Then you could see something like:\n<a href=\"https://i.stack.imgur.com/ArpPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ArpPB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27289698,"reputation":1,"user_id":20808313,"display_name":"Kreuzzes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677324416,"creation_date":1677314539,"question_id":75564245,"body_markdown":"I am currently implementing a Database based Logger for my SpringBoot Application. Since there can be hundreds of Logs in a short period of time, I&#39;m looking for a method to store a specific Amount of Logs before they get saved in the Database. \r\n\r\nI tried to override the save() Method of a custom Repository like someone told in a different Article but I ended up with bean errors and it didn&#39;t do what it should have done at all. I also tried to implement it directly in my Logger but since the PrimaryKey ID is only set after using the Repository.save() method my Logs where mixed up afterwards. ","title":"Spring Boot Repository how to cache X Entities until saving to Database","body":"<p>I am currently implementing a Database based Logger for my SpringBoot Application. Since there can be hundreds of Logs in a short period of time, I'm looking for a method to store a specific Amount of Logs before they get saved in the Database.</p>\n<p>I tried to override the save() Method of a custom Repository like someone told in a different Article but I ended up with bean errors and it didn't do what it should have done at all. I also tried to implement it directly in my Logger but since the PrimaryKey ID is only set after using the Repository.save() method my Logs where mixed up afterwards.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":73822,"reputation":21711,"user_id":212384,"accept_rate":93,"display_name":"Bertrand Marron"},"score":0,"creation_date":1280432456,"post_id":3366281,"comment_id":3496885,"body_markdown":"http://java.sun.com/developer/technicalArticles/Programming/stringtokenizer/","body":"<a href=\"http://java.sun.com/developer/technicalArticles/Programming/stringtokenizer/\" rel=\"nofollow noreferrer\">java.sun.com/developer/technicalArticles/Programming/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9008,"reputation":6997,"user_id":16460,"accept_rate":88,"display_name":"Andrew Garrison"},"score":0,"creation_date":1280432422,"post_id":3366304,"comment_id":3496875,"body_markdown":"for his example that would work, but that wouldn&#39;t solve this scenario:\none two three &quot;four five six&quot; seven eight nine &quot;ten&quot;","body":"for his example that would work, but that wouldn&#39;t solve this scenario: one two three &quot;four five six&quot; seven eight nine &quot;ten&quot;"}],"tags":[],"owner":{"account_id":66672,"reputation":1449,"user_id":195489,"accept_rate":91,"display_name":"Nikolaos"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1280432347,"creation_date":1280432347,"answer_id":3366304,"question_id":3366281,"body_markdown":"The example you have here would just have to be split by the double quote character.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>The example you have here would just have to be split by the double quote character.</p>\n"},{"comments":[{"owner":{"account_id":142935,"reputation":1274,"user_id":350951,"accept_rate":90,"display_name":"danyim"},"score":0,"creation_date":1280433492,"post_id":3366318,"comment_id":3497030,"body_markdown":"Yes, this answer is incorrect. I am working on a new solution. This is an interesting problem.","body":"Yes, this answer is incorrect. I am working on a new solution. This is an interesting problem."}],"tags":[],"owner":{"account_id":142935,"reputation":1274,"user_id":350951,"accept_rate":90,"display_name":"danyim"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280434150,"creation_date":1280432478,"answer_id":3366318,"question_id":3366281,"body_markdown":"Try this:\r\n\r\n    String str = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n    String strArr[] = str.split(&quot;\\&quot;|\\s&quot;);\r\n\r\nIt&#39;s kind of tricky because you need to escape the double quotes. This regular expression should tokenize the string using either a whitespace (\\s) or a double quote.\r\n\r\nYou should use String&#39;s `split` method because it accepts regular expressions, whereas the constructor argument for delimiter in `StringTokenizer` doesn&#39;t. At the end of what I provided above, you can just add the following:\r\n\r\n    String s;\r\n    for(String k : strArr) {\r\n         s += k;\r\n    }\r\n    StringTokenizer strTok = new StringTokenizer(s);\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Try this:</p>\n\n<pre><code>String str = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\nString strArr[] = str.split(\"\\\"|\\s\");\n</code></pre>\n\n<p>It's kind of tricky because you need to escape the double quotes. This regular expression should tokenize the string using either a whitespace (\\s) or a double quote.</p>\n\n<p>You should use String's <code>split</code> method because it accepts regular expressions, whereas the constructor argument for delimiter in <code>StringTokenizer</code> doesn't. At the end of what I provided above, you can just add the following:</p>\n\n<pre><code>String s;\nfor(String k : strArr) {\n     s += k;\n}\nStringTokenizer strTok = new StringTokenizer(s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":175810,"reputation":427,"user_id":406091,"accept_rate":43,"display_name":"Ploo"},"score":0,"creation_date":1280433817,"post_id":3366410,"comment_id":3497087,"body_markdown":"It returns &quot;One two&quot; instead of &quot;One and &quot;two&quot;.","body":"It returns &quot;One two&quot; instead of &quot;One and &quot;two&quot;."}],"tags":[],"owner":{"account_id":169732,"reputation":4967,"user_id":395975,"accept_rate":79,"display_name":"smp7d"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280433132,"creation_date":1280433132,"answer_id":3366410,"question_id":3366281,"body_markdown":"try this:\r\n\r\n    String str = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n    String[] strings = str.split(&quot;[ ]?\\&quot;[ ]?&quot;);","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>try this:</p>\n\n<pre><code>String str = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\nString[] strings = str.split(\"[ ]?\\\"[ ]?\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6338472,"reputation":3901,"user_id":4921205,"accept_rate":88,"display_name":"Aurasphere"},"score":0,"creation_date":1492254156,"post_id":3366509,"comment_id":73908564,"body_markdown":"This does not provide an answer to the post. It may be a comment but it shouldn&#39;t be an answer.","body":"This does not provide an answer to the post. It may be a comment but it shouldn&#39;t be an answer."}],"tags":[],"owner":{"account_id":156881,"reputation":1838,"user_id":374449,"accept_rate":80,"display_name":"Kiersten Arnold"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1280434037,"creation_date":1280434037,"answer_id":3366509,"question_id":3366281,"body_markdown":"I don&#39;t know the context of what your trying to do, but it looks like your trying to parse command line arguments.  In general, this is pretty tricky with all the escaping issues; if this is your goal I&#39;d personally look at something like JCommander.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>I don't know the context of what your trying to do, but it looks like your trying to parse command line arguments.  In general, this is pretty tricky with all the escaping issues; if this is your goal I'd personally look at something like JCommander.</p>\n"},{"comments":[{"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1280436211,"post_id":3366544,"comment_id":3497430,"body_markdown":"Ditto. I&#39;ve written simple parsers lke this a bazillion times. Sure, you can find some open source library to do it, or come up with a clever regex, but then you&#39;ve added more complexity. Why not solve simple problems with simple tools? When I need to put in a screw, I use a screwdriver, I don&#39;t search for a solar-powered fully automated screw-putter-inner robot.","body":"Ditto. I&#39;ve written simple parsers lke this a bazillion times. Sure, you can find some open source library to do it, or come up with a clever regex, but then you&#39;ve added more complexity. Why not solve simple problems with simple tools? When I need to put in a screw, I use a screwdriver, I don&#39;t search for a solar-powered fully automated screw-putter-inner robot."},{"owner":{"account_id":3494879,"reputation":329,"user_id":2923447,"accept_rate":80,"display_name":"deadfire19"},"score":0,"creation_date":1472311790,"post_id":3366544,"comment_id":65707015,"body_markdown":"FYI For people reading this in the future. I created an FSM for this in another response here.","body":"FYI For people reading this in the future. I created an FSM for this in another response here."}],"tags":[],"owner":{"account_id":52432,"reputation":3416,"user_id":156671,"accept_rate":100,"display_name":"GrandmasterB"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280434284,"creation_date":1280434284,"answer_id":3366544,"question_id":3366281,"body_markdown":"Do it the old fashioned way.  Make a function that looks at each character in a for loop.  If the character is a space, take everything up to that (excluding the space) and add it as an entry to the array.  Note the position, and do the same again, adding that next part to the array after a space.  When a double quote is encountered, mark a boolean named &#39;inQuote&#39; as true, and ignore spaces when inQuote is true.  When you hit quotes when inQuote is true, flag it as false and go back to breaking things up when a space is encountered.  You can then extend this as necessary to support escape chars, etc.\r\n\r\nCould this be done with a regex?  I dont know, I guess.  But the whole function would take less to write than this reply did.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Do it the old fashioned way.  Make a function that looks at each character in a for loop.  If the character is a space, take everything up to that (excluding the space) and add it as an entry to the array.  Note the position, and do the same again, adding that next part to the array after a space.  When a double quote is encountered, mark a boolean named 'inQuote' as true, and ignore spaces when inQuote is true.  When you hit quotes when inQuote is true, flag it as false and go back to breaking things up when a space is encountered.  You can then extend this as necessary to support escape chars, etc.</p>\n\n<p>Could this be done with a regex?  I dont know, I guess.  But the whole function would take less to write than this reply did.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487512230,"creation_date":1280434828,"answer_id":3366603,"question_id":3366281,"body_markdown":"In an old fashioned way:\r\n\r\n\r\n\tpublic static String[] split(String str) {\r\n\t\tstr += &quot; &quot;; // To detect last token when not quoted...\r\n\t\tArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\t\tboolean inQuote = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tchar c = str.charAt(i);\r\n\t\t\tif (c == &#39;&quot;&#39; || c == &#39; &#39; &amp;&amp; !inQuote) {\r\n\t\t\t\tif (c == &#39;&quot;&#39;)\r\n\t\t\t\t\tinQuote = !inQuote;\r\n\t\t\t\tif (!inQuote &amp;&amp; sb.length() &gt; 0) {\r\n\t\t\t\t\tstrings.add(sb.toString());\r\n\t\t\t\t\tsb.delete(0, sb.length());\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\tsb.append(c);\r\n\t\t}\r\n\t\treturn strings.toArray(new String[strings.size()]);\r\n\t}\r\n\r\nI assume that nested quotes are illegal, and also that empty tokens can be omitted.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>In an old fashioned way:</p>\n\n<pre><code>public static String[] split(String str) {\n    str += \" \"; // To detect last token when not quoted...\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n    boolean inQuote = false;\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; str.length(); i++) {\n        char c = str.charAt(i);\n        if (c == '\"' || c == ' ' &amp;&amp; !inQuote) {\n            if (c == '\"')\n                inQuote = !inQuote;\n            if (!inQuote &amp;&amp; sb.length() &gt; 0) {\n                strings.add(sb.toString());\n                sb.delete(0, sb.length());\n            }\n        } else\n            sb.append(c);\n    }\n    return strings.toArray(new String[strings.size()]);\n}\n</code></pre>\n\n<p>I assume that nested quotes are illegal, and also that empty tokens can be omitted.</p>\n"},{"comments":[{"owner":{"account_id":175810,"reputation":427,"user_id":406091,"accept_rate":43,"display_name":"Ploo"},"score":0,"creation_date":1280435345,"post_id":3366634,"comment_id":3497290,"body_markdown":"We have a winner! :)\n\nThanks so much, works perfectly. Thanks for everyone else&#39;s input too, I just find this most suitable. :)","body":"We have a winner! :)  Thanks so much, works perfectly. Thanks for everyone else&#39;s input too, I just find this most suitable. :)"},{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":0,"creation_date":1280435444,"post_id":3366634,"comment_id":3497306,"body_markdown":"If I&#39;d have asked the question that would be the answer I would accept. Thanks for this, I knew there must be some better than old-fashioned way!","body":"If I&#39;d have asked the question that would be the answer I would accept. Thanks for this, I knew there must be some better than old-fashioned way!"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1280437115,"post_id":3366634,"comment_id":3497569,"body_markdown":"@Ploo: An example of another pattern that may be of interest: `&quot;([^&quot;]*)&quot;|&#39;([^&#39;]*)&#39;|([^&quot;&#39; ]+)` http://www.rubular.com/r/cjzuqus7oa : i.e. double quoted (group 1) or single quoted (group 2) or just plain (group 3). No quote escaping.","body":"@Ploo: An example of another pattern that may be of interest: <code>&quot;([^&quot;]*)&quot;|&#39;([^&#39;]*)&#39;|([^&quot;&#39; ]+)</code> <a href=\"http://www.rubular.com/r/cjzuqus7oa\" rel=\"nofollow noreferrer\">rubular.com/r/cjzuqus7oa</a> : i.e. double quoted (group 1) or single quoted (group 2) or just plain (group 3). No quote escaping."},{"owner":{"account_id":49462,"reputation":3715,"user_id":147265,"accept_rate":95,"display_name":"Adam"},"score":0,"creation_date":1280437586,"post_id":3366634,"comment_id":3497644,"body_markdown":"TBH I was just browsing recent questions, but I had to +1 for such a well written and comprehensive answer!","body":"TBH I was just browsing recent questions, but I had to +1 for such a well written and comprehensive answer!"},{"owner":{"account_id":4339914,"reputation":6758,"user_id":3543437,"accept_rate":81,"display_name":"kayleeFrye_onDeck"},"score":0,"creation_date":1537495312,"post_id":3366634,"comment_id":91814605,"body_markdown":"@polygenelubricants if you don&#39;t mind stripping quotes ad-hoc, you can simplify the regex down to one capture group like so: `(&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;|[^&quot;&#39; ]+)` -- then you can decide whether or not you want to keep or nix captured quotes, depending on your requirements.","body":"@polygenelubricants if you don&#39;t mind stripping quotes ad-hoc, you can simplify the regex down to one capture group like so: <code>(&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;|[^&quot;&#39; ]+)</code> -- then you can decide whether or not you want to keep or nix captured quotes, depending on your requirements."},{"owner":{"account_id":9865,"reputation":1110,"user_id":18390,"accept_rate":74,"display_name":"Sid Datta"},"score":0,"creation_date":1542411372,"post_id":3366634,"comment_id":93572328,"body_markdown":"Great answer. Readers beware: This does not work for the use case ` !cmd var=&quot;value string&quot;`, ie if the quote is allowed to start inside a string. OP did not have this condition.","body":"Great answer. Readers beware: This does not work for the use case ` !cmd var=&quot;value string&quot;`, ie if the quote is allowed to start inside a string. OP did not have this condition."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":6,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1280436450,"creation_date":1280435054,"answer_id":3366634,"question_id":3366281,"body_markdown":"It&#39;s much easier to use a [`java.util.regex.Matcher`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html) and do a `find()` rather than any kind of `split` in these kinds of scenario.\r\n\r\nThat is, instead of defining the pattern for the _delimiter_ between the tokens, you define the pattern for _the tokens themselves_.\r\n\r\nHere&#39;s an example:\r\n\r\n\t\tString text = &quot;1 2 \\&quot;333 4\\&quot; 55 6    \\&quot;77\\&quot; 8 999&quot;;\r\n\t\t// 1 2 &quot;333 4&quot; 55 6    &quot;77&quot; 8 999\r\n\r\n\t\tString regex = &quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\S+)&quot;;\r\n\r\n\t\tMatcher m = Pattern.compile(regex).matcher(text);\r\n\t\twhile (m.find()) {\r\n\t\t\tif (m.group(1) != null) {\r\n\t\t\t\tSystem.out.println(&quot;Quoted [&quot; + m.group(1) + &quot;]&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Plain [&quot; + m.group(2) + &quot;]&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe above prints ([as seen on ideone.com](http://ideone.com/OXsUp)):\r\n\r\n    Plain [1]\r\n    Plain [2]\r\n    Quoted [333 4]\r\n    Plain [55]\r\n    Plain [6]\r\n    Quoted [77]\r\n    Plain [8]\r\n    Plain [999]\r\n\r\nThe pattern is essentially:\r\n\r\n    &quot;([^&quot;]*)&quot;|(\\S+)\r\n     \\_____/  \\___/\r\n        1       2\r\n\r\nThere are 2 alternates:\r\n\r\n* The first alternate matches the opening double quote, a sequence of anything but double quote (captured in group 1), then the closing double quote\r\n* The second alternate matches any sequence of non-whitespace characters, captured in group 2\r\n* The order of the alternates matter in this pattern\r\n\r\nNote that this does not handle escaped double quotes within quoted segments. If you need to do this, then the pattern becomes more complicated, but the `Matcher` solution still works.\r\n\r\n### References\r\n\r\n* [regular-expressions.info/Brackets for Grouping and Capturing](http://www.regular-expressions.info/brackets.html), [Alternation with Vertical Bar](http://www.regular-expressions.info/alternation.html), [Character Class](http://www.regular-expressions.info/charclass.html), [Repetition with Star and Plus](http://www.regular-expressions.info/repeat.html)\r\n\r\n### See also\r\n\r\n* [regular-expressions.info/Examples - Programmer - Strings](http://www.regular-expressions.info/examplesprogrammer.html) - for pattern with escaped quotes\r\n\r\n---\r\n\r\n### Appendix\r\n\r\nNote that [`StringTokenizer`](http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html) is a _legacy class_. It&#39;s recommended to use [`java.util.Scanner`](http://java.sun.com/javase/6/docs/api/java/util/Scanner.html) or [`String.split`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29), or of course [`java.util.regex.Matcher`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html) for most flexibility.\r\n\r\n### Related questions\r\n\r\n* [Difference between a Deprecated and Legacy API?](https://stackoverflow.com/questions/2873254/difference-between-a-deprecated-and-legacy-api)\r\n* [Scanner vs. StringTokenizer vs. String.Split](https://stackoverflow.com/questions/691184/scanner-vs-stringtokenizer-vs-string-split)\r\n* [Validating input using java.util.Scanner](https://stackoverflow.com/questions/3059333/validating-input-using-java-util-scanner/) - has many examples","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>It's much easier to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\"><code>java.util.regex.Matcher</code></a> and do a <code>find()</code> rather than any kind of <code>split</code> in these kinds of scenario.</p>\n\n<p>That is, instead of defining the pattern for the <em>delimiter</em> between the tokens, you define the pattern for <em>the tokens themselves</em>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>    String text = \"1 2 \\\"333 4\\\" 55 6    \\\"77\\\" 8 999\";\n    // 1 2 \"333 4\" 55 6    \"77\" 8 999\n\n    String regex = \"\\\"([^\\\"]*)\\\"|(\\\\S+)\";\n\n    Matcher m = Pattern.compile(regex).matcher(text);\n    while (m.find()) {\n        if (m.group(1) != null) {\n            System.out.println(\"Quoted [\" + m.group(1) + \"]\");\n        } else {\n            System.out.println(\"Plain [\" + m.group(2) + \"]\");\n        }\n    }\n</code></pre>\n\n<p>The above prints (<a href=\"http://ideone.com/OXsUp\" rel=\"noreferrer\">as seen on ideone.com</a>):</p>\n\n<pre><code>Plain [1]\nPlain [2]\nQuoted [333 4]\nPlain [55]\nPlain [6]\nQuoted [77]\nPlain [8]\nPlain [999]\n</code></pre>\n\n<p>The pattern is essentially:</p>\n\n<pre><code>\"([^\"]*)\"|(\\S+)\n \\_____/  \\___/\n    1       2\n</code></pre>\n\n<p>There are 2 alternates:</p>\n\n<ul>\n<li>The first alternate matches the opening double quote, a sequence of anything but double quote (captured in group 1), then the closing double quote</li>\n<li>The second alternate matches any sequence of non-whitespace characters, captured in group 2</li>\n<li>The order of the alternates matter in this pattern</li>\n</ul>\n\n<p>Note that this does not handle escaped double quotes within quoted segments. If you need to do this, then the pattern becomes more complicated, but the <code>Matcher</code> solution still works.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"noreferrer\">regular-expressions.info/Brackets for Grouping and Capturing</a>, <a href=\"http://www.regular-expressions.info/alternation.html\" rel=\"noreferrer\">Alternation with Vertical Bar</a>, <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"noreferrer\">Character Class</a>, <a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"noreferrer\">Repetition with Star and Plus</a></li>\n</ul>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/examplesprogrammer.html\" rel=\"noreferrer\">regular-expressions.info/Examples - Programmer - Strings</a> - for pattern with escaped quotes</li>\n</ul>\n\n<hr>\n\n<h3>Appendix</h3>\n\n<p>Note that <a href=\"http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\" rel=\"noreferrer\"><code>StringTokenizer</code></a> is a <em>legacy class</em>. It's recommended to use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"noreferrer\"><code>java.util.Scanner</code></a> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\"><code>String.split</code></a>, or of course <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\"><code>java.util.regex.Matcher</code></a> for most flexibility.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2873254/difference-between-a-deprecated-and-legacy-api\">Difference between a Deprecated and Legacy API?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/691184/scanner-vs-stringtokenizer-vs-string-split\">Scanner vs. StringTokenizer vs. String.Split</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3059333/validating-input-using-java-util-scanner/\">Validating input using java.util.Scanner</a> - has many examples</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3494879,"reputation":329,"user_id":2923447,"accept_rate":80,"display_name":"deadfire19"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472311637,"creation_date":1472311637,"answer_id":39182754,"question_id":3366281,"body_markdown":"This is an old question, however this was my solution as a finite state machine.\r\n\r\nEfficient, predictable and no fancy tricks.\r\n\r\n100% coverage on tests.\r\n\r\nDrag and drop into your code.\r\n\r\n    /**\r\n     * Splits a command on whitespaces. Preserves whitespace in quotes. Trims excess whitespace between chunks. Supports quote\r\n     * escape within quotes. Failed escape will preserve escape char.\r\n     *\r\n     * @return List of split commands\r\n     */\r\n    static List&lt;String&gt; splitCommand(String inputString) {\r\n        List&lt;String&gt; matchList = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;Character&gt; charList = inputString.chars()\r\n                .mapToObj(i -&gt; (char) i)\r\n                .collect(Collectors.toCollection(LinkedList::new));\r\n\r\n        // Finite-State Automaton for parsing.\r\n\r\n        CommandSplitterState state = CommandSplitterState.BeginningChunk;\r\n        LinkedList&lt;Character&gt; chunkBuffer = new LinkedList&lt;&gt;();\r\n\r\n        for (Character currentChar : charList) {\r\n            switch (state) {\r\n                case BeginningChunk:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            break;\r\n                        case &#39; &#39;:\r\n                            break;\r\n                        default:\r\n                            state = CommandSplitterState.ParsingWord;\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case ParsingWord:\r\n                    switch (currentChar) {\r\n                        case &#39; &#39;:\r\n                            state = CommandSplitterState.BeginningChunk;\r\n                            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n                            matchList.add(newWord);\r\n                            chunkBuffer = new LinkedList&lt;&gt;();\r\n                            break;\r\n                        default:\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case ParsingQuote:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;:\r\n                            state = CommandSplitterState.BeginningChunk;\r\n                            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n                            matchList.add(newWord);\r\n                            chunkBuffer = new LinkedList&lt;&gt;();\r\n                            break;\r\n                        case &#39;\\\\&#39;:\r\n                            state = CommandSplitterState.EscapeChar;\r\n                            break;\r\n                        default:\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n                    break;\r\n                case EscapeChar:\r\n                    switch (currentChar) {\r\n                        case &#39;&quot;&#39;: // Intentional fall through\r\n                        case &#39;\\\\&#39;:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            chunkBuffer.add(currentChar);\r\n                            break;\r\n                        default:\r\n                            state = CommandSplitterState.ParsingQuote;\r\n                            chunkBuffer.add(&#39;\\\\&#39;);\r\n                            chunkBuffer.add(currentChar);\r\n                    }\r\n            }\r\n        }\r\n\r\n        if (state != CommandSplitterState.BeginningChunk) {\r\n            String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\r\n            matchList.add(newWord);\r\n        }\r\n        return matchList;\r\n    }\r\n\r\n    private enum CommandSplitterState {\r\n        BeginningChunk, ParsingWord, ParsingQuote, EscapeChar\r\n    }","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>This is an old question, however this was my solution as a finite state machine.</p>\n\n<p>Efficient, predictable and no fancy tricks.</p>\n\n<p>100% coverage on tests.</p>\n\n<p>Drag and drop into your code.</p>\n\n<pre><code>/**\n * Splits a command on whitespaces. Preserves whitespace in quotes. Trims excess whitespace between chunks. Supports quote\n * escape within quotes. Failed escape will preserve escape char.\n *\n * @return List of split commands\n */\nstatic List&lt;String&gt; splitCommand(String inputString) {\n    List&lt;String&gt; matchList = new LinkedList&lt;&gt;();\n    LinkedList&lt;Character&gt; charList = inputString.chars()\n            .mapToObj(i -&gt; (char) i)\n            .collect(Collectors.toCollection(LinkedList::new));\n\n    // Finite-State Automaton for parsing.\n\n    CommandSplitterState state = CommandSplitterState.BeginningChunk;\n    LinkedList&lt;Character&gt; chunkBuffer = new LinkedList&lt;&gt;();\n\n    for (Character currentChar : charList) {\n        switch (state) {\n            case BeginningChunk:\n                switch (currentChar) {\n                    case '\"':\n                        state = CommandSplitterState.ParsingQuote;\n                        break;\n                    case ' ':\n                        break;\n                    default:\n                        state = CommandSplitterState.ParsingWord;\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case ParsingWord:\n                switch (currentChar) {\n                    case ' ':\n                        state = CommandSplitterState.BeginningChunk;\n                        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n                        matchList.add(newWord);\n                        chunkBuffer = new LinkedList&lt;&gt;();\n                        break;\n                    default:\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case ParsingQuote:\n                switch (currentChar) {\n                    case '\"':\n                        state = CommandSplitterState.BeginningChunk;\n                        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n                        matchList.add(newWord);\n                        chunkBuffer = new LinkedList&lt;&gt;();\n                        break;\n                    case '\\\\':\n                        state = CommandSplitterState.EscapeChar;\n                        break;\n                    default:\n                        chunkBuffer.add(currentChar);\n                }\n                break;\n            case EscapeChar:\n                switch (currentChar) {\n                    case '\"': // Intentional fall through\n                    case '\\\\':\n                        state = CommandSplitterState.ParsingQuote;\n                        chunkBuffer.add(currentChar);\n                        break;\n                    default:\n                        state = CommandSplitterState.ParsingQuote;\n                        chunkBuffer.add('\\\\');\n                        chunkBuffer.add(currentChar);\n                }\n        }\n    }\n\n    if (state != CommandSplitterState.BeginningChunk) {\n        String newWord = chunkBuffer.stream().map(Object::toString).collect(Collectors.joining());\n        matchList.add(newWord);\n    }\n    return matchList;\n}\n\nprivate enum CommandSplitterState {\n    BeginningChunk, ParsingWord, ParsingQuote, EscapeChar\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1529336243,"post_id":49845863,"comment_id":88826104,"body_markdown":"How would one go about changing the syntax from `&quot;&quot;&quot;` to `\\&quot;` for quotation marks within strings? Currently my hack is running `s.replaceAll( &quot;\\\\\\\\\\&quot;&quot;, &quot;\\&quot;\\&quot;\\&quot;&quot; )` but seems it should be configurable some how...","body":"How would one go about changing the syntax from <code>&quot;&quot;&quot;</code> to <code>\\&quot;</code> for quotation marks within strings? Currently my hack is running <code>s.replaceAll( &quot;\\\\\\\\\\&quot;&quot;, &quot;\\&quot;\\&quot;\\&quot;&quot; )</code> but seems it should be configurable some how..."}],"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677324041,"creation_date":1523819963,"answer_id":49845863,"question_id":3366281,"body_markdown":"Apache Commons to the rescue!\r\n\r\n    import org.apache.commons.text.StringTokenizer\r\n    import org.apache.commons.text.matcher.StringMatcher\r\n    import org.apache.commons.text.matcher.StringMatcherFactory\r\n    @Grab(group=&#39;org.apache.commons&#39;, module=&#39;commons-text&#39;, version=&#39;1.3&#39;)\r\n    \r\n    def str = /is this   &#39;completely &quot;impossible&quot;&#39; or &quot;&quot;&quot;slightly&quot;&quot; impossible&quot; to parse?/\r\n    \r\n    StringTokenizer st = new StringTokenizer( str )\r\n    StringMatcher sm = StringMatcherFactory.INSTANCE.quoteMatcher()\r\n    st.setQuoteMatcher( sm )\r\n    \r\n    println st.tokenList\r\n\r\nOutput:\r\n\r\n&gt; [is, this, completely &quot;impossible&quot;, or, &quot;slightly&quot; impossible, to, parse?]\r\n\r\nA few notes:&lt;br&gt;\r\n\r\n 1. this is written in Groovy... it is in fact a Groovy script.  The\r\n    `@Grab` line gives a clue to the sort of dependency line you need\r\n    (e.g. in `build.gradle`) ... or just include the .jar in your\r\n    classpath of course\r\n 2. `StringTokenizer` here is **NOT**\r\n    `java.util.StringTokenizer` ... as the `import` line shows it is\r\n    `org.apache.commons.text.StringTokenizer`\r\n 3. the `def str = ...`\r\n    line is a way to produce a `String` in Groovy which contains both\r\n    single quotes and double quotes without having to go in for escaping\r\n 4. `StringMatcherFactory` in apache commons-text 1.3 can be found\r\n    [here][1]: as you can see, the `INSTANCE` can provide you with a\r\n    bunch of different `StringMatcher`s.  You could even roll your own:\r\n    but you&#39;d need to examine the `StringMatcherFactory` source code to\r\n    see how it&#39;s done.\r\n 5. YES! You can not only include the &quot;other type of quote&quot; and it is correctly interpreted as not being a token boundary ... but you can even ***escape the actual quote which is being used to turn off tokenising***, by doubling the quote within the tokenisation-protected bit of the String! Try implementing that with a few lines of code ... or rather don&#39;t!\r\n\r\nPS why is it better to use Apache Commons than any other solution?\r\nApart from the fact that there is no point re-inventing the wheel, I can think of at least two reasons:\r\n\r\n  1. The Apache engineers can be counted on to have anticipated all the gotchas and developed robust, comprehensively tested, reliable code\r\n  2. It means you don&#39;t clutter up your beautiful code with stoopid utility methods - you just have a nice, clean bit of code which does exactly what it says on the tin, leaving you to get on with the, um, interesting stuff...\r\n\r\nPPS Nothing obliges you to look on the Apache code as mysterious &quot;black boxes&quot;. [The source][2] is open, and written in usually perfectly &quot;accessible&quot; Java.  Consequently you are free to examine how things are done to your heart&#39;s content.  It&#39;s often quite instructive to do so.\r\n\r\n***later***\r\n\r\nSufficiently intrigued by ArtB&#39;s question I had a look at the source:\r\n\r\nin StringMatcherFactory.java we see: \r\n\r\n    private static final AbstractStringMatcher.CharSetMatcher QUOTE_MATCHER = new AbstractStringMatcher.CharSetMatcher(\r\n                &quot;&#39;\\&quot;&quot;.toCharArray());\r\n\r\n... rather dull ... \r\n\r\nso that leads one to look at StringTokenizer.java: \r\n\r\n    public StringTokenizer setQuoteMatcher(final StringMatcher quote) {\r\n            if (quote != null) {\r\n                this.quoteMatcher = quote;\r\n            }\r\n            return this;\r\n    }\r\n\r\nOK... and then, in the same java file:\r\n\r\n    private int readWithQuotes(final char[] srcChars ...\r\n\r\nwhich contains the comment: \r\n\r\n    // If we&#39;ve found a quote character, see if it&#39;s followed by a second quote. If so, then we need to actually put the quote character into the token rather than end the token.\r\n\r\n... I can&#39;t be bothered to follow the clues any further. You have a choice: either your &quot;hackish&quot; solution, where you systematically pre-process your strings before submitting them for tokenising, turning |\\\\\\\\\\&quot;|s into |\\&quot;\\&quot;|s... (i.e. where you replace each |**\\&quot;**| with |**&quot;&quot;**|)... &lt;br&gt;\r\nOr... you examine org.apache.commons.text.StringTokenizer.java to figure out how to tweak the code.  It&#39;s a small file. I don&#39;t think it would be that difficult.  Then you compile, essentially making a fork of the Apache code. \r\n\r\nI don&#39;t think it can be configured. But if you found a code-tweak solution which made sense you might submit it to Apache and then it might be accepted for the next iteration of the code, and your name would figure at least in the &quot;features request&quot; part of Apache: this could be a form of [kleos][3] through which you achieve programming immortality... \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/matcher/StringMatcherFactory.html\r\n  [2]: https://commons.apache.org/proper/commons-text/apidocs/src-html/org/apache/commons/text/StringTokenizer.html\r\n  [3]: https://en.wikipedia.org/wiki/Kleos","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Apache Commons to the rescue!</p>\n<pre><code>import org.apache.commons.text.StringTokenizer\nimport org.apache.commons.text.matcher.StringMatcher\nimport org.apache.commons.text.matcher.StringMatcherFactory\n@Grab(group='org.apache.commons', module='commons-text', version='1.3')\n\ndef str = /is this   'completely &quot;impossible&quot;' or &quot;&quot;&quot;slightly&quot;&quot; impossible&quot; to parse?/\n\nStringTokenizer st = new StringTokenizer( str )\nStringMatcher sm = StringMatcherFactory.INSTANCE.quoteMatcher()\nst.setQuoteMatcher( sm )\n\nprintln st.tokenList\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>[is, this, completely &quot;impossible&quot;, or, &quot;slightly&quot; impossible, to, parse?]</p>\n</blockquote>\n<p>A few notes:<br></p>\n<ol>\n<li>this is written in Groovy... it is in fact a Groovy script.  The\n<code>@Grab</code> line gives a clue to the sort of dependency line you need\n(e.g. in <code>build.gradle</code>) ... or just include the .jar in your\nclasspath of course</li>\n<li><code>StringTokenizer</code> here is <strong>NOT</strong>\n<code>java.util.StringTokenizer</code> ... as the <code>import</code> line shows it is\n<code>org.apache.commons.text.StringTokenizer</code></li>\n<li>the <code>def str = ...</code>\nline is a way to produce a <code>String</code> in Groovy which contains both\nsingle quotes and double quotes without having to go in for escaping</li>\n<li><code>StringMatcherFactory</code> in apache commons-text 1.3 can be found\n<a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/matcher/StringMatcherFactory.html\" rel=\"nofollow noreferrer\">here</a>: as you can see, the <code>INSTANCE</code> can provide you with a\nbunch of different <code>StringMatcher</code>s.  You could even roll your own:\nbut you'd need to examine the <code>StringMatcherFactory</code> source code to\nsee how it's done.</li>\n<li>YES! You can not only include the &quot;other type of quote&quot; and it is correctly interpreted as not being a token boundary ... but you can even <em><strong>escape the actual quote which is being used to turn off tokenising</strong></em>, by doubling the quote within the tokenisation-protected bit of the String! Try implementing that with a few lines of code ... or rather don't!</li>\n</ol>\n<p>PS why is it better to use Apache Commons than any other solution?\nApart from the fact that there is no point re-inventing the wheel, I can think of at least two reasons:</p>\n<ol>\n<li>The Apache engineers can be counted on to have anticipated all the gotchas and developed robust, comprehensively tested, reliable code</li>\n<li>It means you don't clutter up your beautiful code with stoopid utility methods - you just have a nice, clean bit of code which does exactly what it says on the tin, leaving you to get on with the, um, interesting stuff...</li>\n</ol>\n<p>PPS Nothing obliges you to look on the Apache code as mysterious &quot;black boxes&quot;. <a href=\"https://commons.apache.org/proper/commons-text/apidocs/src-html/org/apache/commons/text/StringTokenizer.html\" rel=\"nofollow noreferrer\">The source</a> is open, and written in usually perfectly &quot;accessible&quot; Java.  Consequently you are free to examine how things are done to your heart's content.  It's often quite instructive to do so.</p>\n<p><em><strong>later</strong></em></p>\n<p>Sufficiently intrigued by ArtB's question I had a look at the source:</p>\n<p>in StringMatcherFactory.java we see:</p>\n<pre><code>private static final AbstractStringMatcher.CharSetMatcher QUOTE_MATCHER = new AbstractStringMatcher.CharSetMatcher(\n            &quot;'\\&quot;&quot;.toCharArray());\n</code></pre>\n<p>... rather dull ...</p>\n<p>so that leads one to look at StringTokenizer.java:</p>\n<pre><code>public StringTokenizer setQuoteMatcher(final StringMatcher quote) {\n        if (quote != null) {\n            this.quoteMatcher = quote;\n        }\n        return this;\n}\n</code></pre>\n<p>OK... and then, in the same java file:</p>\n<pre><code>private int readWithQuotes(final char[] srcChars ...\n</code></pre>\n<p>which contains the comment:</p>\n<pre><code>// If we've found a quote character, see if it's followed by a second quote. If so, then we need to actually put the quote character into the token rather than end the token.\n</code></pre>\n<p>... I can't be bothered to follow the clues any further. You have a choice: either your &quot;hackish&quot; solution, where you systematically pre-process your strings before submitting them for tokenising, turning |\\\\&quot;|s into |&quot;&quot;|s... (i.e. where you replace each |<strong>&quot;</strong>| with |<strong>&quot;&quot;</strong>|)... <br>\nOr... you examine org.apache.commons.text.StringTokenizer.java to figure out how to tweak the code.  It's a small file. I don't think it would be that difficult.  Then you compile, essentially making a fork of the Apache code.</p>\n<p>I don't think it can be configured. But if you found a code-tweak solution which made sense you might submit it to Apache and then it might be accepted for the next iteration of the code, and your name would figure at least in the &quot;features request&quot; part of Apache: this could be a form of <a href=\"https://en.wikipedia.org/wiki/Kleos\" rel=\"nofollow noreferrer\">kleos</a> through which you achieve programming immortality...</p>\n"},{"tags":[],"owner":{"account_id":2582505,"reputation":1356,"user_id":2238859,"accept_rate":6,"display_name":"hemantvsn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529347178,"creation_date":1529347178,"answer_id":50915611,"question_id":3366281,"body_markdown":"Another old school way is :\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tString text = &quot;One two \\&quot;three four\\&quot; five \\&quot;six seven eight\\&quot; nine \\&quot;ten\\&quot;&quot;;\r\n\t\tString[] splits = text.split(&quot; &quot;);\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\tString token = null;\r\n\t\tfor(String s : splits) {\r\n\t\t\t\r\n\t\t\tif(s.startsWith(&quot;\\&quot;&quot;) ) {\r\n\t\t\t\ttoken = &quot;&quot; + s; \r\n\t\t\t} else if (s.endsWith(&quot;\\&quot;&quot;)) {\r\n\t\t\t\ttoken = token + &quot; &quot;+ s;\r\n\t\t\t\tlist.add(token);\r\n\t\t\t\ttoken = null;\r\n\t\t\t} else {\r\n\t\t\t\tif (token != null) {\r\n\t\t\t\t\ttoken = token + &quot; &quot; + s;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlist.add(s);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t}\r\n\r\nOutput : - [One, two, &quot;three four&quot;, five, &quot;six seven eight&quot;, nine]","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Another old school way is :</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String text = \"One two \\\"three four\\\" five \\\"six seven eight\\\" nine \\\"ten\\\"\";\n    String[] splits = text.split(\" \");\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    String token = null;\n    for(String s : splits) {\n\n        if(s.startsWith(\"\\\"\") ) {\n            token = \"\" + s; \n        } else if (s.endsWith(\"\\\"\")) {\n            token = token + \" \"+ s;\n            list.add(token);\n            token = null;\n        } else {\n            if (token != null) {\n                token = token + \" \" + s;\n            } else {\n                list.add(s);\n            }\n        }\n    }\n    System.out.println(list);\n}\n</code></pre>\n\n<p>Output : - [One, two, \"three four\", five, \"six seven eight\", nine]</p>\n"},{"tags":[],"owner":{"account_id":10105963,"reputation":1331,"user_id":7468538,"display_name":"HariUserX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554188455,"creation_date":1554188455,"answer_id":55468731,"question_id":3366281,"body_markdown":"Recently faced a similar question where command line arguments must be split ignoring quotes [link](https://stackoverflow.com/questions/55467810/how-can-i-split-a-string-except-inside-quotes-using-java#55467810).\r\n\r\nOne possible case: \r\n&gt; &quot;/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\\&quot;&quot;\r\n\r\nThis had to be split to \r\n```text\r\n/opt/jboss-eap/bin/jboss-cli.sh\r\n--connect\r\n--controller=localhost:9990\r\n-c\r\ncommand=&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force&quot;\r\n```\r\n\r\nJust to add to @polygenelubricants&#39;s answer, having any non-space character before and after the quote matcher can work out.\r\n\r\n`&quot;\\\\S*\\&quot;([^\\&quot;]*)\\&quot;\\\\S*|(\\\\S+)&quot;`\r\n\r\nExample:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Tokenizer {\r\n\r\n    public static void main(String[] args){\r\n\r\n        String a = &quot;/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\&quot;deploy &quot; +\r\n                &quot;/app/jboss-eap-7.1/standalone/updates/sample.war --force\\&quot;&quot;;\r\n        String b = &quot;Hello \\&quot;Stack Overflow\\&quot;&quot;;\r\n        String c = &quot;cmd=\\&quot;abcd efgh ijkl mnop\\&quot; \\&quot;apple\\&quot; banana mango&quot;;\r\n        String d = &quot;abcd ef=\\&quot;ghij klmn\\&quot;op qrst&quot;;\r\n        String e = &quot;1 2 \\&quot;333 4\\&quot; 55 6    \\&quot;77\\&quot; 8 999&quot;;\r\n\r\n        List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\n        Pattern regex = Pattern.compile(&quot;\\\\S*\\&quot;([^\\&quot;]*)\\&quot;\\\\S*|(\\\\S+)&quot;);\r\n        Matcher regexMatcher = regex.matcher(a);\r\n        while (regexMatcher.find()) {\r\n            matchList.add(regexMatcher.group());\r\n        }\r\n        System.out.println(&quot;matchList=&quot;+matchList);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n&gt;matchList=[/opt/jboss-eap/bin/jboss-cli.sh, --connect, --controller=localhost:9990, -c, command=&quot;deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force&quot;]\r\n\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>Recently faced a similar question where command line arguments must be split ignoring quotes <a href=\"https://stackoverflow.com/questions/55467810/how-can-i-split-a-string-except-inside-quotes-using-java#55467810\">link</a>.</p>\n\n<p>One possible case: </p>\n\n<blockquote>\n  <p>\"/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\\\"\"</p>\n</blockquote>\n\n<p>This had to be split to </p>\n\n<pre><code>/opt/jboss-eap/bin/jboss-cli.sh\n--connect\n--controller=localhost:9990\n-c\ncommand=\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\"\n</code></pre>\n\n<p>Just to add to @polygenelubricants's answer, having any non-space character before and after the quote matcher can work out.</p>\n\n<p><code>\"\\\\S*\\\"([^\\\"]*)\\\"\\\\S*|(\\\\S+)\"</code></p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Tokenizer {\n\n    public static void main(String[] args){\n\n        String a = \"/opt/jboss-eap/bin/jboss-cli.sh --connect --controller=localhost:9990 -c command=\\\"deploy \" +\n                \"/app/jboss-eap-7.1/standalone/updates/sample.war --force\\\"\";\n        String b = \"Hello \\\"Stack Overflow\\\"\";\n        String c = \"cmd=\\\"abcd efgh ijkl mnop\\\" \\\"apple\\\" banana mango\";\n        String d = \"abcd ef=\\\"ghij klmn\\\"op qrst\";\n        String e = \"1 2 \\\"333 4\\\" 55 6    \\\"77\\\" 8 999\";\n\n        List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\n        Pattern regex = Pattern.compile(\"\\\\S*\\\"([^\\\"]*)\\\"\\\\S*|(\\\\S+)\");\n        Matcher regexMatcher = regex.matcher(a);\n        while (regexMatcher.find()) {\n            matchList.add(regexMatcher.group());\n        }\n        System.out.println(\"matchList=\"+matchList);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>matchList=[/opt/jboss-eap/bin/jboss-cli.sh, --connect, --controller=localhost:9990, -c, command=\"deploy /app/jboss-eap-7.1/standalone/updates/sample.war --force\"]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18334491,"reputation":1,"user_id":13352192,"display_name":"Puneet Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587274756,"creation_date":1587274756,"answer_id":61300025,"question_id":3366281,"body_markdown":"    private static void findWords(String str) {\r\n\t\tboolean flag = false;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor(int i=0;i&lt;str.length();i++) {\r\n\t\t\tif(str.charAt(i)!=&#39; &#39; &amp;&amp; str.charAt(i)!=&#39;&quot;&#39;) {\r\n\t\t\t\tsb.append(str.charAt(i));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(sb.toString());\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\tif(str.charAt(i)==&#39; &#39; &amp;&amp; !flag)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\telse if(str.charAt(i)==&#39;&quot;&#39;) {\r\n\t\t\t\t\tif(!flag) {\r\n\t\t\t\t\t\tflag=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\twhile(i&lt;str.length() &amp;&amp; str.charAt(i)!=&#39;&quot;&#39;) {\r\n\t\t\t\t\t\tsb.append(str.charAt(i));\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tflag=false;\r\n\t\t\t\t\tSystem.out.println(sb.toString());\r\n\t\t\t\t\tsb = new StringBuilder();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<pre><code>private static void findWords(String str) {\n    boolean flag = false;\n    StringBuilder sb = new StringBuilder();\n    for(int i=0;i&lt;str.length();i++) {\n        if(str.charAt(i)!=' ' &amp;&amp; str.charAt(i)!='\"') {\n            sb.append(str.charAt(i));\n        }\n        else {\n            System.out.println(sb.toString());\n            sb = new StringBuilder();\n            if(str.charAt(i)==' ' &amp;&amp; !flag)\n                continue;\n            else if(str.charAt(i)=='\"') {\n                if(!flag) {\n                    flag=true;\n                }\n                i++;\n                while(i&lt;str.length() &amp;&amp; str.charAt(i)!='\"') {\n                    sb.append(str.charAt(i));\n                    i++;\n                }\n                flag=false;\n                System.out.println(sb.toString());\n                sb = new StringBuilder();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8115738,"reputation":211,"user_id":6114308,"display_name":"Sxtanna"},"score":0,"creation_date":1633089606,"post_id":65057991,"comment_id":122673726,"body_markdown":"Perfect solution to my exact problem. Much Thanks.","body":"Perfect solution to my exact problem. Much Thanks."}],"tags":[],"owner":{"account_id":20086921,"reputation":41,"user_id":14728274,"display_name":"Herman S."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606635721,"creation_date":1606635721,"answer_id":65057991,"question_id":3366281,"body_markdown":"This is what I myself use for splitting arguments in command line and things like that.\r\n\r\nIt&#39;s easily adjustible for multiple delimiters and quotes, it can process quotes within the words (like `al&#39; &#39;pha`), it supports escaping (quotes as well as spaces) and it&#39;s really lenient.\r\n\r\n    public final class StringUtilities {\r\n        private static final List&lt;Character&gt; WORD_DELIMITERS = Arrays.asList(&#39; &#39;, &#39;\\t&#39;);\r\n        private static final List&lt;Character&gt; QUOTE_CHARACTERS = Arrays.asList(&#39;&quot;&#39;, &#39;\\&#39;&#39;);\r\n        private static final char ESCAPE_CHARACTER = &#39;\\\\&#39;;\r\n    \r\n        private StringUtilities() {\r\n    \r\n        }\r\n    \r\n        public static String[] splitWords(String string) {\r\n            StringBuilder wordBuilder = new StringBuilder();\r\n            List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n            char quote = 0;\r\n    \r\n            for (int i = 0; i &lt; string.length(); i++) {\r\n                char c = string.charAt(i);\r\n    \r\n                if (c == ESCAPE_CHARACTER &amp;&amp; i + 1 &lt; string.length()) {\r\n                    wordBuilder.append(string.charAt(++i));\r\n                } else if (WORD_DELIMITERS.contains(c) &amp;&amp; quote == 0) {\r\n                    words.add(wordBuilder.toString());\r\n                    wordBuilder.setLength(0);\r\n                } else if (quote == 0 &amp;&amp; QUOTE_CHARACTERS.contains(c)) {\r\n                    quote = c;\r\n                } else if (quote == c) {\r\n                    quote = 0;\r\n                } else {\r\n                    wordBuilder.append(c);\r\n                }\r\n            }\r\n\r\n            if (wordBuilder.length() &gt; 0) {\r\n                words.add(wordBuilder.toString());\r\n            }\r\n\r\n            return words.toArray(new String[0]);\r\n        }\r\n    }","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>This is what I myself use for splitting arguments in command line and things like that.</p>\n<p>It's easily adjustible for multiple delimiters and quotes, it can process quotes within the words (like <code>al' 'pha</code>), it supports escaping (quotes as well as spaces) and it's really lenient.</p>\n<pre><code>public final class StringUtilities {\n    private static final List&lt;Character&gt; WORD_DELIMITERS = Arrays.asList(' ', '\\t');\n    private static final List&lt;Character&gt; QUOTE_CHARACTERS = Arrays.asList('&quot;', '\\'');\n    private static final char ESCAPE_CHARACTER = '\\\\';\n\n    private StringUtilities() {\n\n    }\n\n    public static String[] splitWords(String string) {\n        StringBuilder wordBuilder = new StringBuilder();\n        List&lt;String&gt; words = new ArrayList&lt;&gt;();\n        char quote = 0;\n\n        for (int i = 0; i &lt; string.length(); i++) {\n            char c = string.charAt(i);\n\n            if (c == ESCAPE_CHARACTER &amp;&amp; i + 1 &lt; string.length()) {\n                wordBuilder.append(string.charAt(++i));\n            } else if (WORD_DELIMITERS.contains(c) &amp;&amp; quote == 0) {\n                words.add(wordBuilder.toString());\n                wordBuilder.setLength(0);\n            } else if (quote == 0 &amp;&amp; QUOTE_CHARACTERS.contains(c)) {\n                quote = c;\n            } else if (quote == c) {\n                quote = 0;\n            } else {\n                wordBuilder.append(c);\n            }\n        }\n\n        if (wordBuilder.length() &gt; 0) {\n            words.add(wordBuilder.toString());\n        }\n\n        return words.toArray(new String[0]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668761901,"creation_date":1668761567,"answer_id":74487079,"question_id":3366281,"body_markdown":"In my case I had a string that includes key=&quot;value&quot; . Check this out:\r\n\r\n    String perfLogString = &quot;2022-11-10 08:35:00,470               PLV=REQ CIP=902.68.5.11 CMID=canonaustr CMN=\\&quot;Yanon Australia Pty Ltd\\&quot;&quot;;\r\n            \r\n    // and this came to my rescue :\r\n    \r\n    String[] str1= perfLogString.split(&quot;\\\\s(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)\\\\s*&quot;);\r\n        System.out.println(Arrays.toString(str1));\r\n\r\nThis regex matches spaces ONLY if it is followed by even number of double quotes. \r\nOn split I get :\r\n\r\n    [2022-11-10, 08:35:00,470, PLV=REQ, CIP=902.68.5.11, CMID=canonaustr, CMN=&quot;Yanon Australia Pty Ltd&quot;]\r\n","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>In my case I had a string that includes key=&quot;value&quot; . Check this out:</p>\n<pre><code>String perfLogString = &quot;2022-11-10 08:35:00,470               PLV=REQ CIP=902.68.5.11 CMID=canonaustr CMN=\\&quot;Yanon Australia Pty Ltd\\&quot;&quot;;\n        \n// and this came to my rescue :\n\nString[] str1= perfLogString.split(&quot;\\\\s(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)\\\\s*&quot;);\n    System.out.println(Arrays.toString(str1));\n</code></pre>\n<p>This regex matches spaces ONLY if it is followed by even number of double quotes.\nOn split I get :</p>\n<pre><code>[2022-11-10, 08:35:00,470, PLV=REQ, CIP=902.68.5.11, CMID=canonaustr, CMN=&quot;Yanon Australia Pty Ltd&quot;]\n</code></pre>\n"}],"owner":{"account_id":175810,"reputation":427,"user_id":406091,"accept_rate":43,"display_name":"Ploo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32651,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3366634,"answer_count":14,"score":29,"last_activity_date":1677324041,"creation_date":1280432061,"question_id":3366281,"body_markdown":"I wish to have have the following String\r\n\r\n    !cmd 45 90 &quot;An argument&quot; Another AndAnother &quot;Another one in quotes&quot;\r\n\r\nto become an array of the following\r\n\r\n    { &quot;!cmd&quot;, &quot;45&quot;, &quot;90&quot;, &quot;An argument&quot;, &quot;Another&quot;, &quot;AndAnother&quot;, &quot;Another one in quotes&quot; }\r\n\r\nI tried\r\n\r\n    new StringTokenizer(cmd, &quot;\\&quot;&quot;)\r\n\r\nbut this would return &quot;Another&quot; and &quot;AndAnother as &quot;Another AndAnother&quot; which is not the desired effect.\r\n\r\nThanks.\r\n\r\nEDIT:\r\nI have changed the example yet again, this time I believe it explains the situation best although it is no different than the second example.","title":"Tokenizing a String but ignoring delimiters within quotes","body":"<p>I wish to have have the following String</p>\n\n<pre><code>!cmd 45 90 \"An argument\" Another AndAnother \"Another one in quotes\"\n</code></pre>\n\n<p>to become an array of the following</p>\n\n<pre><code>{ \"!cmd\", \"45\", \"90\", \"An argument\", \"Another\", \"AndAnother\", \"Another one in quotes\" }\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>new StringTokenizer(cmd, \"\\\"\")\n</code></pre>\n\n<p>but this would return \"Another\" and \"AndAnother as \"Another AndAnother\" which is not the desired effect.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT:\nI have changed the example yet again, this time I believe it explains the situation best although it is no different than the second example.</p>\n"},{"tags":["java","url-encoding"],"comments":[{"owner":{"account_id":15628,"reputation":244161,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":0,"creation_date":1236532055,"post_id":623861,"comment_id":436772,"body_markdown":"Just to be pedantic, there is no such thing as &quot;normal unicode&quot;. UTF8 is one of several ways to represent unicode text. But there is no &quot;true&quot; canonical representation.","body":"Just to be pedantic, there is no such thing as &quot;normal unicode&quot;. UTF8 is one of several ways to represent unicode text. But there is no &quot;true&quot; canonical representation."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1236577728,"post_id":623861,"comment_id":437922,"body_markdown":"As Jon and ng said, this has nothing to do with Unicode or UTF-8.  You might want to change the title.","body":"As Jon and ng said, this has nothing to do with Unicode or UTF-8.  You might want to change the title."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1609884184,"post_id":623861,"comment_id":115960605,"body_markdown":"The answer marked as correct now it is clearly wrong and should be removed.","body":"The answer marked as correct now it is clearly wrong and should be removed."}],"answers":[{"comments":[{"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"score":51,"creation_date":1239588934,"post_id":624002,"comment_id":554420,"body_markdown":"That method is deprecated. Use URLDecoder.decode(location,&quot;UTF-8&quot;);","body":"That method is deprecated. Use URLDecoder.decode(location,&quot;UTF-8&quot;);"}],"tags":[],"owner":{"account_id":11372,"reputation":7119,"user_id":21896,"accept_rate":40,"display_name":"ng."},"comment_count":1,"down_vote_count":3,"up_vote_count":70,"is_accepted":true,"score":67,"last_activity_date":1236534739,"creation_date":1236534739,"answer_id":624002,"question_id":623861,"body_markdown":"This is not unescaped XML, this is URL encoded text. Looks to me like you want to use the following on the URL strings.\r\n\r\n    URLDecoder.decode(url);\r\n\r\nThis will give you the correct text. The result of decoding the like you provided is this.\r\n\r\n    http://cliveg.bu.edu/people/sganguly/player/ Rang De Basanti - Tu Bin Bataye.mp3\r\n\r\nThe %20 is an escaped space character. To get the above I used the URLDecoder object.","title":"How do you unescape URLs in Java?","body":"<p>This is not unescaped XML, this is URL encoded text. Looks to me like you want to use the following on the URL strings.</p>\n\n<pre><code>URLDecoder.decode(url);\n</code></pre>\n\n<p>This will give you the correct text. The result of decoding the like you provided is this.</p>\n\n<pre><code>http://cliveg.bu.edu/people/sganguly/player/ Rang De Basanti - Tu Bin Bataye.mp3\n</code></pre>\n\n<p>The %20 is an escaped space character. To get the above I used the URLDecoder object.</p>\n"},{"tags":[],"owner":{"account_id":706051,"reputation":9,"user_id":610103,"display_name":"Mario"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1297269945,"creation_date":1297269945,"answer_id":4947872,"question_id":623861,"body_markdown":"I&#39;m having problems using this method when I have special characters like `&#225;`, `&#233;`, `&#237;`, etc. My (probably wild) guess is widechars are not being encoded properly... well, at least I was expecting to see sequences like `%uC2BF` instead of `%C2%BF`.\r\n\r\nEdited: My bad, this post explains the difference between URL encoding and JavaScript&#39;s escape sequences: https://stackoverflow.com/questions/2280863/uri-encoding-in-unicode-for-apache-httpclient-4","title":"How do you unescape URLs in Java?","body":"<p>I'm having problems using this method when I have special characters like <code></code>, <code></code>, <code></code>, etc. My (probably wild) guess is widechars are not being encoded properly... well, at least I was expecting to see sequences like <code>%uC2BF</code> instead of <code>%C2%BF</code>.</p>\n\n<p>Edited: My bad, this post explains the difference between URL encoding and JavaScript's escape sequences: <a href=\"https://stackoverflow.com/questions/2280863/uri-encoding-in-unicode-for-apache-httpclient-4\">URI encoding in UNICODE for apache httpclient 4</a></p>\n"},{"comments":[{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":1,"creation_date":1635163982,"post_id":47513586,"comment_id":123214093,"body_markdown":"for Java 8 &amp; 9 Use `URLDecoder.decode(s, &quot;UTF-8&quot;);`","body":"for Java 8 &amp; 9 Use <code>URLDecoder.decode(s, &quot;UTF-8&quot;);</code>"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1635165139,"post_id":47513586,"comment_id":123214627,"body_markdown":"Since Java 7 [StandardCharsets](https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/nio/charset/StandardCharsets.java#L52). Am I wrong?","body":"Since Java 7 <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/nio/charset/StandardCharsets.java#L52\" rel=\"nofollow noreferrer\">StandardCharsets</a>. Am I wrong?"},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":1,"creation_date":1635165959,"post_id":47513586,"comment_id":123214995,"body_markdown":"yes, but the URLDecoder method `decode` only takes (String, String) in Java 8","body":"yes, but the URLDecoder method <code>decode</code> only takes (String, String) in Java 8"},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":0,"creation_date":1635200347,"post_id":47513586,"comment_id":123228272,"body_markdown":"@user16320675 I&#39;d considered that - but will it work with the underscore rather than hyphen in &quot;UTF-8&quot; ?","body":"@user16320675 I&#39;d considered that - but will it work with the underscore rather than hyphen in &quot;UTF-8&quot; ?"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1651235450,"post_id":47513586,"comment_id":127321948,"body_markdown":"Thank you to share.  I never knew about this handy method before I read this answer! \n One cool feature of `URLDecoder.decode()` vs `new URI().getPath()`: The `URI` ctor will reject decoded URLs!  `URLDecoder.decode()` will accept both encoded and decoded URLs, e.g., (decoded) `/path/to/here and there` and (encoded) `/path/to/here%20and%20there`.","body":"Thank you to share.  I never knew about this handy method before I read this answer!   One cool feature of <code>URLDecoder.decode()</code> vs <code>new URI().getPath()</code>: The <code>URI</code> ctor will reject decoded URLs!  <code>URLDecoder.decode()</code> will accept both encoded and decoded URLs, e.g., (decoded) <code>&#47;path&#47;to&#47;here and there</code> and (encoded) <code>&#47;path&#47;to&#47;here%20and%20there</code>."}],"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1635207564,"creation_date":1511793796,"answer_id":47513586,"question_id":623861,"body_markdown":"\r\n# Starting from Java 11 use\r\n# [`URLDecoder.decode(url, StandardCharsets.UTF_8)`][1].\nfor Java 7/8/9 use [`URLDecoder.decode(url, &quot;UTF-8&quot;)`][3].\r\n\r\n`URLDecoder.decode(String s)` has been deprecated since **Java 5**\r\n\r\nRegarding the chosen encoding:\r\n\r\n&gt; Note: The [World Wide Web Consortium Recommendation][2] states that **UTF-8** should be used. Not doing so may introduce incompatibilites.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html#decode(java.lang.String,java.nio.charset.Charset)\r\n  [2]: http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars\n\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html#decode-java.lang.String-java.lang.String-","title":"How do you unescape URLs in Java?","body":"<h1>Starting from Java 11 use</h1>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html#decode(java.lang.String,java.nio.charset.Charset)\" rel=\"noreferrer\"><code>URLDecoder.decode(url, StandardCharsets.UTF_8)</code></a>.</h1>\n<p>for Java 7/8/9 use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html#decode-java.lang.String-java.lang.String-\" rel=\"noreferrer\"><code>URLDecoder.decode(url, &quot;UTF-8&quot;)</code></a>.</p>\n<p><code>URLDecoder.decode(String s)</code> has been deprecated since <strong>Java 5</strong></p>\n<p>Regarding the chosen encoding:</p>\n<blockquote>\n<p>Note: The <a href=\"http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars\" rel=\"noreferrer\">World Wide Web Consortium Recommendation</a> states that <strong>UTF-8</strong> should be used. Not doing so may introduce incompatibilites.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24990152,"reputation":26,"user_id":18851443,"display_name":"Alexander V."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677323878,"creation_date":1677323878,"answer_id":75565013,"question_id":623861,"body_markdown":"In my case the URL contained escaped html entities, so `StringEscapeUtils.unescapeHtml4()` from apache-commons did the trick","title":"How do you unescape URLs in Java?","body":"<p>In my case the URL contained escaped html entities, so <code>StringEscapeUtils.unescapeHtml4()</code> from apache-commons did the trick</p>\n"}],"owner":{"account_id":28240,"reputation":1165,"user_id":75268,"accept_rate":44,"display_name":"Penchant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44965,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":624002,"answer_count":4,"score":39,"last_activity_date":1677323878,"creation_date":1236530786,"question_id":623861,"body_markdown":"When I read the xml through a URL&#39;s InputStream, and then cut out everything except the url, I get &quot;http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3&quot;. \r\n\r\n\r\nAs you can see, there are a lot of &quot;%20&quot;s.\r\n\r\nI want the url to be unescaped.\r\n\r\nIs there any way to do this in Java, without using a third-party library?","title":"How do you unescape URLs in Java?","body":"<p>When I read the xml through a URL's InputStream, and then cut out everything except the url, I get \"<a href=\"http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3\" rel=\"noreferrer\">http://cliveg.bu.edu/people/sganguly/player/%20Rang%20De%20Basanti%20-%20Tu%20Bin%20Bataye.mp3</a>\". </p>\n\n<p>As you can see, there are a lot of \"%20\"s.</p>\n\n<p>I want the url to be unescaped.</p>\n\n<p>Is there any way to do this in Java, without using a third-party library?</p>\n"},{"tags":["java","tomcat","servlets","cors","http-headers"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677296224,"post_id":75563058,"comment_id":133315011,"body_markdown":"`resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8081&quot;);` or `resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8080&quot;);`","body":"<code>resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http:&#47;&#47;localhost:8081&quot;);</code> or <code>resp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http:&#47;&#47;localhost:8080&quot;);</code>"},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1677298358,"post_id":75563058,"comment_id":133315190,"body_markdown":"@life888888 It worked for my `GET` that is already working but no for my `POST`.","body":"@life888888 It worked for my <code>GET</code> that is already working but no for my <code>POST</code>."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677307653,"post_id":75563058,"comment_id":133315960,"body_markdown":"doGet and doPost are servlet &quot;RECEIVER&quot; methods , if you are trying to use a response of a servlet to make a request to an external machine then use java.net.UrlConnection and java.net.HttpUrlConnection or WSDL web Services connection. XMLHttpRequest as I remember it is .js code for stateful javaScript client side request AJAX","body":"doGet and doPost are servlet &quot;RECEIVER&quot; methods , if you are trying to use a response of a servlet to make a request to an external machine then use java.net.UrlConnection and java.net.HttpUrlConnection or WSDL web Services connection. XMLHttpRequest as I remember it is .js code for stateful javaScript client side request AJAX"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677308285,"post_id":75563058,"comment_id":133316004,"body_markdown":"Note, CORS headers must be correct for their intent. Cross origin request for content is similar if not the same as &quot;portals&quot; and is extremely restricted for security reasons of both content ownership and attacks similar to cookie parameter site origin declaration security.","body":"Note, CORS headers must be correct for their intent. Cross origin request for content is similar if not the same as &quot;portals&quot; and is extremely restricted for security reasons of both content ownership and attacks similar to cookie parameter site origin declaration security."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677309633,"post_id":75563058,"comment_id":133316116,"body_markdown":"Note: XMLHttpRequest can be set as a POST,  it appears you need to set this with Access-Control-Allow-Origin on the AJAX connection. That may not be possible without a proper external site to call just as with registered TLS certificates. Anyhow, the should be in a client page (is it part of the JSON) , but the way you seem to be doing that is what &quot;portal&quot; coding API and framework is for.","body":"Note: XMLHttpRequest can be set as a POST,  it appears you need to set this with Access-Control-Allow-Origin on the AJAX connection. That may not be possible without a proper external site to call just as with registered TLS certificates. Anyhow, the should be in a client page (is it part of the JSON) , but the way you seem to be doing that is what &quot;portal&quot; coding API and framework is for."},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1677319085,"post_id":75563058,"comment_id":133317117,"body_markdown":"Preflight requests use the `OPTIONS` method. Your server doesn&#39;t handle them correctly and CORS preflight fails.","body":"Preflight requests use the <code>OPTIONS</code> method. Your server doesn&#39;t handle them correctly and CORS preflight fails."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1677323847,"post_id":75563058,"comment_id":133317690,"body_markdown":"@SamuelMarchant Thanks for giving me that perspective, it helps me to find the answer now it&#39;s working!!","body":"@SamuelMarchant Thanks for giving me that perspective, it helps me to find the answer now it&#39;s working!!"}],"answers":[{"tags":[],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677323647,"creation_date":1677322965,"answer_id":75564936,"question_id":75563058,"body_markdown":"This is related to the application server, in this case [Tomcat 10][1], **but it looks like that is the same for a lot of versions of Tomcat.**\r\n\r\nFirst, you need to create where ever you want inside your `Source root` your `CorsFilter` class implementing `Filter`, in my case the path is `projectName/src/main/java/servlet/CorsFilter.java`, code of the file (you can copy it, just be careful to change the `package` name and to import the servlet with `java` instead of `jakarta` if you aren&#39;t using it) is:\r\n\r\n    package servlet;\r\n    \r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CorsFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            // No initialization required\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Authorization&quot;);\r\n            filterChain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            // No cleanup required\r\n        }\r\n    }\r\n\r\nThe second step is to go inside your `web.xml` file which is inside tomcat, in my case the path is `~/Documents/apache-tomcat-10.1.5/conf/web.xml`, you open the file and add the following code in `web.xml` next to where `&lt;filter&gt;` is commented inside the file, just edit the path of your `CorsFilter.java` in my case is `servlet.CorsFilter`, because you need to add the path from the `Source root`:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;servlet.CorsFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nAnd the last step is to stop running your project and re-run it.\r\n\r\nIn addition I&#39;ll leave this image as a visual reference:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html\r\n  [2]: https://i.stack.imgur.com/uG4MT.png","title":"How to allow CORS in JavaEE Servlets using Tomcat?","body":"<p>This is related to the application server, in this case <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html\" rel=\"nofollow noreferrer\">Tomcat 10</a>, <strong>but it looks like that is the same for a lot of versions of Tomcat.</strong></p>\n<p>First, you need to create where ever you want inside your <code>Source root</code> your <code>CorsFilter</code> class implementing <code>Filter</code>, in my case the path is <code>projectName/src/main/java/servlet/CorsFilter.java</code>, code of the file (you can copy it, just be careful to change the <code>package</code> name and to import the servlet with <code>java</code> instead of <code>jakarta</code> if you aren't using it) is:</p>\n<pre><code>package servlet;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\n\npublic class CorsFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // No initialization required\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Authorization&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n        // No cleanup required\n    }\n}\n</code></pre>\n<p>The second step is to go inside your <code>web.xml</code> file which is inside tomcat, in my case the path is <code>~/Documents/apache-tomcat-10.1.5/conf/web.xml</code>, you open the file and add the following code in <code>web.xml</code> next to where <code>&lt;filter&gt;</code> is commented inside the file, just edit the path of your <code>CorsFilter.java</code> in my case is <code>servlet.CorsFilter</code>, because you need to add the path from the <code>Source root</code>:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;servlet.CorsFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CORSFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>And the last step is to stop running your project and re-run it.</p>\n<p>In addition I'll leave this image as a visual reference:</p>\n<p><a href=\"https://i.stack.imgur.com/uG4MT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uG4MT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564936,"answer_count":1,"score":0,"last_activity_date":1677323647,"creation_date":1677294636,"question_id":75563058,"body_markdown":"I&#39;ve already installed the Access Control plugin and It didn&#39;t help, and I&#39;m using `servlets` with `gson`, my http methods work if I use an API platform (hoppscotch), my method `GET` is working with `axios` but when I try to send a `POST` from my `vue.js` project using `axios` I get the following `CORS` error:\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8080/demo5_war_exploded/client&#39; \r\n    from origin &#39;http://localhost:8081&#39; has been blocked by CORS policy: \r\n    Response to preflight request doesn&#39;t pass access control check: \r\n    No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nA also this one:\r\n\r\n    xhr.js:233\r\n    POST http://localhost:8080/demo5_war_exploded/client net::ERR_FAILED\r\n\r\nHere is my Java code and I&#39;m using the `headers`, with my `doGet` is working but not with my `doPost`.\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException {\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        JsonReader jsonReader = Json.createReader(request.getReader());\r\n        JsonObject jsonObject = jsonReader.readObject();\r\n        jsonReader.close();\r\n\r\n        // extract the fields from the JSON object\r\n        String name = jsonObject.getString(&quot;name&quot;);\r\n        String email = jsonObject.getString(&quot;email&quot;);\r\n\r\n        // create the Client object\r\n        Client client = new Client(name, email);\r\n\r\n        // insert the client into the database\r\n        try {\r\n            clientDao.insert(client);\r\n            response.setStatus(HttpServletResponse.SC_CREATED);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n        }\r\n\r\n    }\r\n\r\nThis in my `doGet`, which is working.\r\n    \r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws IOException, ServletException {\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\r\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        String idString = request.getParameter(&quot;id&quot;);\r\n        if (idString != null) {\r\n            // get the client with the specified id\r\n            int id = Integer.parseInt(idString);\r\n            try {\r\n                Client client = clientDao.buscarPorId(id);\r\n                if (client != null) {\r\n                    JsonObjectBuilder builder = Json.createObjectBuilder();\r\n                    builder.add(&quot;name&quot;, client.getName());\r\n                    builder.add(&quot;email&quot;, client.getEmail());\r\n                    JsonObject jsonObject = builder.build();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    PrintWriter out = response.getWriter();\r\n                    out.print(jsonObject);\r\n                    out.flush();\r\n                } else {\r\n                    response.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n            }\r\n        } else {\r\n            // get all the client\r\n            try {\r\n                // a different way to get the json and simpler TBH\r\n                List&lt;Client&gt; client = clientDao.list();\r\n\r\n                Gson gson = new Gson();\r\n                String clientJSON = gson.toJson(client);\r\n\r\n                PrintWriter printWriter = response.getWriter();\r\n                response.setContentType(&quot;application/json&quot;);\r\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n                printWriter.write(clientJSON);\r\n                printWriter.close();\r\n\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n                response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    }","title":"How to allow CORS in JavaEE Servlets using Tomcat?","body":"<p>I've already installed the Access Control plugin and It didn't help, and I'm using <code>servlets</code> with <code>gson</code>, my http methods work if I use an API platform (hoppscotch), my method <code>GET</code> is working with <code>axios</code> but when I try to send a <code>POST</code> from my <code>vue.js</code> project using <code>axios</code> I get the following <code>CORS</code> error:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/demo5_war_exploded/client' \nfrom origin 'http://localhost:8081' has been blocked by CORS policy: \nResponse to preflight request doesn't pass access control check: \nNo 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>A also this one:</p>\n<pre><code>xhr.js:233\nPOST http://localhost:8080/demo5_war_exploded/client net::ERR_FAILED\n</code></pre>\n<p>Here is my Java code and I'm using the <code>headers</code>, with my <code>doGet</code> is working but not with my <code>doPost</code>.</p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws IOException {\n\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n    response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    JsonReader jsonReader = Json.createReader(request.getReader());\n    JsonObject jsonObject = jsonReader.readObject();\n    jsonReader.close();\n\n    // extract the fields from the JSON object\n    String name = jsonObject.getString(&quot;name&quot;);\n    String email = jsonObject.getString(&quot;email&quot;);\n\n    // create the Client object\n    Client client = new Client(name, email);\n\n    // insert the client into the database\n    try {\n        clientDao.insert(client);\n        response.setStatus(HttpServletResponse.SC_CREATED);\n    } catch (SQLException e) {\n        e.printStackTrace();\n        response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p>This in my <code>doGet</code>, which is working.</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws IOException, ServletException {\n\n    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;86400&quot;);\n    response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    String idString = request.getParameter(&quot;id&quot;);\n    if (idString != null) {\n        // get the client with the specified id\n        int id = Integer.parseInt(idString);\n        try {\n            Client client = clientDao.buscarPorId(id);\n            if (client != null) {\n                JsonObjectBuilder builder = Json.createObjectBuilder();\n                builder.add(&quot;name&quot;, client.getName());\n                builder.add(&quot;email&quot;, client.getEmail());\n                JsonObject jsonObject = builder.build();\n                response.setContentType(&quot;application/json&quot;);\n                PrintWriter out = response.getWriter();\n                out.print(jsonObject);\n                out.flush();\n            } else {\n                response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        }\n    } else {\n        // get all the client\n        try {\n            // a different way to get the json and simpler TBH\n            List&lt;Client&gt; client = clientDao.list();\n\n            Gson gson = new Gson();\n            String clientJSON = gson.toJson(client);\n\n            PrintWriter printWriter = response.getWriter();\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\n            printWriter.write(clientJSON);\n            printWriter.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","email","sendmail"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":2,"creation_date":1677321672,"post_id":75564607,"comment_id":133317430,"body_markdown":"Welcome! Please post code instead of images! It is easier to review. A minimal, reproducible example MRE (https://stackoverflow.com/help/minimal-reproducible-example)  would be nice.","body":"Welcome! Please post code instead of images! It is easier to review. A minimal, reproducible example MRE (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)  would be nice."}],"answers":[{"tags":[],"owner":{"account_id":16566385,"reputation":96,"user_id":11970824,"display_name":"Vipul Krishna Mathuria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677323064,"creation_date":1677323064,"answer_id":75564944,"question_id":75564607,"body_markdown":"Put service code in try catch block and find out which line is causing the problem and run this code into debug mode to evaluate expressions that are written in line `simpleMessage.setTo()`.","title":"Could you please look at the null error of sending the Java spring boot email?","body":"<p>Put service code in try catch block and find out which line is causing the problem and run this code into debug mode to evaluate expressions that are written in line <code>simpleMessage.setTo()</code>.</p>\n"}],"owner":{"account_id":27875791,"reputation":13,"user_id":21285320,"display_name":"Guin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677498030,"accepted_answer_id":75564944,"answer_count":1,"score":0,"last_activity_date":1677323064,"creation_date":1677319057,"question_id":75564607,"body_markdown":"Creating an email source with a spring boot!\r\n\r\nnaver is a Korean portal, but there is no difference between Google and mail delivery.\r\n\r\nI finished setting up naver mail, and I matched it neatly with my port, my mail, and my password.\r\n\r\nI have experimented with many sources such as Google, github, and YouTube since yesterday, and this source also has a null error.\r\n\r\nCan you take a look?\r\n\r\napplication properties\r\n\r\n[enter image description here](https://i.stack.imgur.com/hQa6H.png)\r\n\r\ncontroller\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZOjSF.png)\r\n\r\najax\r\n\r\n[enter image description here](https://i.stack.imgur.com/AXQH7.png)\r\n\r\nportal(naver) setup\r\n[enter image description here](https://i.stack.imgur.com/DPm7K.png)\r\n\r\nbuild gradle file\r\n[enter image description here](https://i.stack.imgur.com/HqzLh.png)\r\n\r\n\r\n EmailSenderService\r\n[enter image description here](https://i.stack.imgur.com/4CskP.png)\r\n\r\nThe email received from Ajax was not sent to Controller &gt; Service for now.\r\n\r\nThe service has hardcoded the destination and should be sent.\r\n\r\nIf the shipment to my email is successful, I will try to fix the logic a little bit then.\r\n\r\nThis is an error code!\r\n\r\ncome in!\r\n\r\nto=test@naver.com, subject=subject Here!, message=message Here!\r\n [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\r\njava.lang.NullPointerException: null\r\n\r\nat com.example.INSPACE.userController.UserController.doCheckMail(UserController.java:115) ~[main/:na]\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\r\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\ncome in!\r\n\r\nto=test@naver.com, subject=subject Here!, message=message Here!\r\n\r\nIt arrived by controller.\r\n\r\nThe code that calls the service to send mail to the .service seems to have an error.\r\n\r\nCan you take a look?\r\n\r\n\r\n\r\nSince yesterday, I have continued to learn and run a lot of code through YouTube, GitHub, and Google.","title":"Could you please look at the null error of sending the Java spring boot email?","body":"<p>Creating an email source with a spring boot!</p>\n<p>naver is a Korean portal, but there is no difference between Google and mail delivery.</p>\n<p>I finished setting up naver mail, and I matched it neatly with my port, my mail, and my password.</p>\n<p>I have experimented with many sources such as Google, github, and YouTube since yesterday, and this source also has a null error.</p>\n<p>Can you take a look?</p>\n<p>application properties</p>\n<p><a href=\"https://i.stack.imgur.com/hQa6H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>controller</p>\n<p><a href=\"https://i.stack.imgur.com/ZOjSF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ajax</p>\n<p><a href=\"https://i.stack.imgur.com/AXQH7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>portal(naver) setup\n<a href=\"https://i.stack.imgur.com/DPm7K.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>build gradle file\n<a href=\"https://i.stack.imgur.com/HqzLh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>EmailSenderService\n<a href=\"https://i.stack.imgur.com/4CskP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The email received from Ajax was not sent to Controller &gt; Service for now.</p>\n<p>The service has hardcoded the destination and should be sent.</p>\n<p>If the shipment to my email is successful, I will try to fix the logic a little bit then.</p>\n<p>This is an error code!</p>\n<p>come in!</p>\n<p>to=test@naver.com, subject=subject Here!, message=message Here!\n[Request processing failed; nested exception is java.lang.NullPointerException] with root cause</p>\n<p>java.lang.NullPointerException: null</p>\n<p>at com.example.INSPACE.userController.UserController.doCheckMail(UserController.java:115) ~[main/:na]</p>\n<p>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]</p>\n<p>at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]</p>\n<p>at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]</p>\n<p>at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]</p>\n<p>at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]</p>\n<p>at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]</p>\n<p>at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]</p>\n<p>come in!</p>\n<p>to=test@naver.com, subject=subject Here!, message=message Here!</p>\n<p>It arrived by controller.</p>\n<p>The code that calls the service to send mail to the .service seems to have an error.</p>\n<p>Can you take a look?</p>\n<p>Since yesterday, I have continued to learn and run a lot of code through YouTube, GitHub, and Google.</p>\n"},{"tags":["java","spring","spring-boot","validation","dto"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677337196,"post_id":75564851,"comment_id":133319819,"body_markdown":"Thanks a lot, it sounds good. Bot I am looking a more professional way that is dedicated to this purpose like `MessageSource`. As far as I see after some search, it also support intrenationalization. I use @ControllerAdvice and Global Exception handler in my project, but this time I am looking for a specific and more elegant solution for this issue.","body":"Thanks a lot, it sounds good. Bot I am looking a more professional way that is dedicated to this purpose like <code>MessageSource</code>. As far as I see after some search, it also support intrenationalization. I use @ControllerAdvice and Global Exception handler in my project, but this time I am looking for a specific and more elegant solution for this issue."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677337224,"post_id":75564851,"comment_id":133319824,"body_markdown":"By the way, I cannot vote up as I have not enough repo. Would you consider any vote up pls?","body":"By the way, I cannot vote up as I have not enough repo. Would you consider any vote up pls?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677337261,"post_id":75564851,"comment_id":133319830,"body_markdown":"And do you have any idea about MessageSource? Would you suggest to use it for this scenario?","body":"And do you have any idea about MessageSource? Would you suggest to use it for this scenario?"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1677343693,"post_id":75564851,"comment_id":133320894,"body_markdown":"Check [bernie&#39;s answer](https://stackoverflow.com/a/36344999/10231374), it should be useful if you want localized messages and field names.","body":"Check <a href=\"https://stackoverflow.com/a/36344999/10231374\">bernie&#39;s answer</a>, it should be useful if you want localized messages and field names."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677358132,"post_id":75564851,"comment_id":133323370,"body_markdown":"Thanks a lot, but MessageSource seems to be clearer than that approach. Nevertheless, I opened a new question about that. Could you have a look at that? &gt;&gt;&gt; https://stackoverflow.com/questions/75568330/custom-validation-message-in-spring-boot-with-internationalization","body":"Thanks a lot, but MessageSource seems to be clearer than that approach. Nevertheless, I opened a new question about that. Could you have a look at that? &gt;&gt;&gt; <a href=\"https://stackoverflow.com/questions/75568330/custom-validation-message-in-spring-boot-with-internationalization\" title=\"custom validation message in spring boot with internationalization\">stackoverflow.com/questions/75568330/&hellip;</a>"}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677322007,"creation_date":1677322007,"answer_id":75564851,"question_id":75563968,"body_markdown":"The better way is to handle it in a `RestControllerAdvice`, where you can easily append a property name to a message. For example, you can define a `RestControllerAdvice` as shown below:\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n  @ExceptionHandler(MethodArgumentNotValidException.class)\r\n  public ResponseEntity&lt;List&lt;String&gt;&gt; handleValidationErrors(MethodArgumentNotValidException ex) {\r\n    List&lt;String&gt; errors =\r\n        ex.getBindingResult().getFieldErrors().stream()\r\n            .map(i -&gt; i.getField() + &quot; &quot; + i.getDefaultMessage())\r\n            .collect(Collectors.toList());\r\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```\r\n\r\nThe response for the field marked as `@NotBlank` would be `[&quot;title must not be blank&quot;]`, and if you want to add a custom message `@NotBlank(message=&quot;field cannot be empty&quot;)` the response would be `[&quot;title field cannot be empty&quot;]`.\r\n\r\n","title":"Formatting validation message in javax.validation annotations (@NotBlank)?","body":"<p>The better way is to handle it in a <code>RestControllerAdvice</code>, where you can easily append a property name to a message. For example, you can define a <code>RestControllerAdvice</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n  @ExceptionHandler(MethodArgumentNotValidException.class)\n  public ResponseEntity&lt;List&lt;String&gt;&gt; handleValidationErrors(MethodArgumentNotValidException ex) {\n    List&lt;String&gt; errors =\n        ex.getBindingResult().getFieldErrors().stream()\n            .map(i -&gt; i.getField() + &quot; &quot; + i.getDefaultMessage())\n            .collect(Collectors.toList());\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n<p>The response for the field marked as <code>@NotBlank</code> would be <code>[&quot;title must not be blank&quot;]</code>, and if you want to add a custom message <code>@NotBlank(message=&quot;field cannot be empty&quot;)</code> the response would be <code>[&quot;title field cannot be empty&quot;]</code>.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677322007,"creation_date":1677310826,"question_id":75563968,"body_markdown":"I am trying to add message to the `javax.validation` annotations in my Spring Boot app as shown below:\r\n\r\n\r\n```\r\npublic static final String CANNOT_EMPTY = &quot;%s field cannot be empty&quot;;\r\n\r\n\r\n@Value\r\npublic class CreatePostRequest {\r\n\r\n    @NotBlank(message = String.format(CANNOT_EMPTY, title))\r\n    private String title;\r\n\r\n    // other fields\r\n}\r\n```\r\n\r\nI am getting &quot;Attribute value must be constant&quot; error for the `format()` method. So, how should I properly set messages for the `javax.validation` annotations in my API requests? I do not want to add text to all of the fields and instead try to manage them in a Constant class and add the constant text variables to that annotations (for now, no need internationalization). \r\n\r\nSo, is there a better way? Any help would be appreciated.","title":"Formatting validation message in javax.validation annotations (@NotBlank)?","body":"<p>I am trying to add message to the <code>javax.validation</code> annotations in my Spring Boot app as shown below:</p>\n<pre><code>public static final String CANNOT_EMPTY = &quot;%s field cannot be empty&quot;;\n\n\n@Value\npublic class CreatePostRequest {\n\n    @NotBlank(message = String.format(CANNOT_EMPTY, title))\n    private String title;\n\n    // other fields\n}\n</code></pre>\n<p>I am getting &quot;Attribute value must be constant&quot; error for the <code>format()</code> method. So, how should I properly set messages for the <code>javax.validation</code> annotations in my API requests? I do not want to add text to all of the fields and instead try to manage them in a Constant class and add the constant text variables to that annotations (for now, no need internationalization).</p>\n<p>So, is there a better way? Any help would be appreciated.</p>\n"},{"tags":["java","spring","calendar","modelattribute","java.util.calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677321315,"post_id":75555262,"comment_id":133317385,"body_markdown":"I strongly recommend you dont use `Calendar`. That class is poorly designed, cumbersome to work with and long outdated. Assuming that for your date of birth you neither need time zone nor time of day, use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you dont use <code>Calendar</code>. That class is poorly designed, cumbersome to work with and long outdated. Assuming that for your date of birth you neither need time zone nor time of day, use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677321341,"creation_date":1677233681,"question_id":75555262,"body_markdown":"I&#39;m passing the date in formDate as ISO date string `yyyy-mm-ddThh:mm:ss.uuuZ`\r\n```java\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void create(@Valid @ModelAttribute PersonRequest request, BindingResult bindingResult) {\r\n        for( FieldError fieldError : bindingResult.getFieldErrors() )\r\n            System.out.println(fieldError.getField() +&quot; : &quot;+fieldError.getDefaultMessage());\r\n        personService.create(request);\r\n    }\r\n```\r\nmy PersonRequest class looks like this\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\npublic class PersonRequest {\r\n\r\n    private MultipartFile photo\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private Calendar dateOfBirth;\r\n```\r\n\r\nAs I&#39;m using Files I can&#39;t use `RequestBody` which did parse the date correctly","title":"Spring @ModelAttribute calendar type mismatch","body":"<p>I'm passing the date in formDate as ISO date string <code>yyyy-mm-ddThh:mm:ss.uuuZ</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void create(@Valid @ModelAttribute PersonRequest request, BindingResult bindingResult) {\n        for( FieldError fieldError : bindingResult.getFieldErrors() )\n            System.out.println(fieldError.getField() +&quot; : &quot;+fieldError.getDefaultMessage());\n        personService.create(request);\n    }\n</code></pre>\n<p>my PersonRequest class looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder\npublic class PersonRequest {\n\n    private MultipartFile photo\n\n    private String firstName;\n    private String lastName;\n    private Calendar dateOfBirth;\n</code></pre>\n<p>As I'm using Files I can't use <code>RequestBody</code> which did parse the date correctly</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1667601568,"post_id":74323609,"comment_id":131213491,"body_markdown":"and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct. Where does the dba1f5ce part come from? How are the tests run? Does it copy the compiled classes to another directory, and perhaps skips the text file?","body":"and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct. Where does the dba1f5ce part come from? How are the tests run? Does it copy the compiled classes to another directory, and perhaps skips the text file?"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667602518,"post_id":74323609,"comment_id":131213660,"body_markdown":"@TimMoore now that i properly look at the absolute path &quot;Application Support/Code/User/workspaceStorage/a18f9fb460a8e5c9aaa19c99e70743cd/redhat.java/jdt_ws/filePathTesting_dba1f5ce/.&quot; its going through what I think is the VS code cache and not the actual directory of the project in my folders which could potentially be whats causing the issue","body":"@TimMoore now that i properly look at the absolute path &quot;Application Support/Code/User/workspaceStorage/a18f9fb460a8e5c9aaa19c99e&zwnj;&#8203;70743cd/redhat.java/&zwnj;&#8203;jdt_ws/filePathTesti&zwnj;&#8203;ng_dba1f5ce/.&quot; its going through what I think is the VS code cache and not the actual directory of the project in my folders which could potentially be whats causing the issue"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667603292,"post_id":74323609,"comment_id":131213779,"body_markdown":"Managed to find that folder and the only contents of it are an empty bin folder which I&#39;m guessing is the issues, but I can&#39;t find how to change the path to go through where the actual project is saved in my documents as opposed to this way","body":"Managed to find that folder and the only contents of it are an empty bin folder which I&#39;m guessing is the issues, but I can&#39;t find how to change the path to go through where the actual project is saved in my documents as opposed to this way"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667605003,"post_id":74323609,"comment_id":131214055,"body_markdown":"Sorry, I havent used VS Code with Java, but now that you have tracked down that issue it would be a good idea to rewrite the question with a focused title and appropriate tags. Something like How can I configure the working directory when running JUnit tests in VS Code?","body":"Sorry, I havent used VS Code with Java, but now that you have tracked down that issue it would be a good idea to rewrite the question with a focused title and appropriate tags. Something like How can I configure the working directory when running JUnit tests in VS Code?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667644487,"post_id":74323609,"comment_id":131218677,"body_markdown":"Please - no images of text. They are not searchable, we cannot copy-paste. Always copy-paste the text and format it properly.\nThe command `tree filePathTesting` followed by a copy and paste *as source code* here will help you and us much more. You will get on better if you load your pack file as a resource, so `try (BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(packLocation)))){` passing in a correct resource path (which is *not* a file path). Unfortunately I can&#39;t give you that path as I&#39;m still not clear what your project/package structure is","body":"Please - no images of text. They are not searchable, we cannot copy-paste. Always copy-paste the text and format it properly. The command <code>tree filePathTesting</code> followed by a copy and paste <i>as source code</i> here will help you and us much more. You will get on better if you load your pack file as a resource, so <code>try (BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(packLocatio&zwnj;&#8203;n)))){</code> passing in a correct resource path (which is <i>not</i> a file path). Unfortunately I can&#39;t give you that path as I&#39;m still not clear what your project/package structure is"},{"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"score":0,"creation_date":1667653411,"post_id":74323609,"comment_id":131220219,"body_markdown":"@TimMoore you are a life saver, turns out JUnit was using a different working directory for the tests than the working directory for actually running the classes. Thank you so much","body":"@TimMoore you are a life saver, turns out JUnit was using a different working directory for the tests than the working directory for actually running the classes. Thank you so much"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667653863,"post_id":74323609,"comment_id":131220307,"body_markdown":"You wouldn&#39;t need to do that if you used the classpath","body":"You wouldn&#39;t need to do that if you used the classpath"}],"answers":[{"tags":[],"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667653518,"creation_date":1667653518,"answer_id":74327935,"question_id":74323609,"body_markdown":"Problem was that JUnit was using a different working directory to the directory actually used by the classes when they&#39;re run. Massive thanks to @TimMoore for the help.\r\nThe solution was changing the working directory for java.test.config in settings.json","title":"Java file not found even though file exists","body":"<p>Problem was that JUnit was using a different working directory to the directory actually used by the classes when they're run. Massive thanks to @TimMoore for the help.\nThe solution was changing the working directory for java.test.config in settings.json</p>\n"}],"owner":{"account_id":19861688,"reputation":1,"user_id":14655976,"display_name":"Bahkbar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74327935,"answer_count":1,"score":0,"last_activity_date":1677320476,"creation_date":1667601228,"question_id":74323609,"body_markdown":"Have a method that takes in a file path and then checks the contents of that file.\r\nFile structure of the project is:\r\n\r\n```\r\n    filePathTesting\r\n     &#128230;test\r\n       &#128220;TestCard.java\r\n       &#128220;TestCardGame.java\r\n       &#128220;valid5PlayersPack.txt\r\n     &#128230;src\r\n        &#128220;App.java\r\n        &#128220;Card.java\r\n        &#128220;CardGame.java\r\n```\r\n\r\nmethod within src/CardGame.java\r\n\r\n\r\n```\r\npublic static boolean isValidPackFile(String packLocation, int numPlayers)\r\n    {\r\n        File file = new File(packLocation);\r\n        if (file.exists() &amp;&amp; file.isFile()){\r\n            try (BufferedReader reader=new BufferedReader(new FileReader(packLocation))){\r\n                String line;\r\n                int lineCount = 0;\r\n                while((line=reader.readLine())!=null){\r\n                    try {\r\n                        int num = Integer.parseInt(line);\r\n                        if (num&lt;=0){\r\n                            System.out.println(&quot;ERROR: Pack file contains a non-positive integer&quot;);\r\n                            return false;\r\n                        }\r\n                        lineCount++;\r\n                    } catch (NumberFormatException e) {\r\n                        System.out.println(&quot;ERROR: Pack file contains a non-integer&quot;);\r\n                        return false;\r\n                    }\r\n                }\r\n                if(lineCount==numPlayers*8){\r\n                    return true;\r\n                }else{\r\n                    System.out.println(&quot;ERROR: There are not &quot; + 8*numPlayers + &quot; cards in the pack file&quot;);\r\n                    return false;\r\n                }\r\n            }catch(IOException e){\r\n                System.out.println(&quot;ERROR: Could not read pack file&quot;);\r\n                return false;\r\n            }\r\n        }\r\n        else { \r\n            System.out.println(&quot;ERROR: Pack file does not exist&quot;);\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nTest method within test/TestCardGame.java\r\n\r\n```\r\n@Test\r\n    public void testIsValidPackFileValidFile() throws IOException{\r\n        int numPlayers=5;\r\n        String filePath=&quot;valid5PlayersPack.txt&quot;;\r\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n        assertTrue(&quot;Valid file not recognised as valid&quot;, CardGame.isValidPackFile(filePath, numPlayers));\r\n    }\r\n```\r\n\r\nWhen running CardGame.java, passing in &quot;test/valid5PlayersPack.txt&quot; as the file path works as expected and no errors are encountered.\r\n\r\nWhen using JUnit to test the method and passing in the exact same file path, no file is found.\r\nHave also tried passing in:  \r\n```\r\nvalid5PlayersPack.txt  \r\n../test/valid5PlayersPack.txt  \r\n../valid5PlayersPack.txt  \r\nsrc/test/valid5PlayersPack.txt  \r\n../test/valid5PlayersPack.txt  \r\n```\r\nyet each time it says no file was found\r\n\r\nI&#39;ve tried passing in the file path relative to the TestCardGame and CardGame but can never get a valid file path.\r\n\r\nI also used:\r\n\r\n```\r\nSystem.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n```\r\n\r\nand the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct\r\n\r\nAny help would be immensely appreciated.","title":"Java file not found even though file exists","body":"<p>Have a method that takes in a file path and then checks the contents of that file.\nFile structure of the project is:</p>\n<pre><code>    filePathTesting\n     test\n       TestCard.java\n       TestCardGame.java\n       valid5PlayersPack.txt\n     src\n        App.java\n        Card.java\n        CardGame.java\n</code></pre>\n<p>method within src/CardGame.java</p>\n<pre><code>public static boolean isValidPackFile(String packLocation, int numPlayers)\n    {\n        File file = new File(packLocation);\n        if (file.exists() &amp;&amp; file.isFile()){\n            try (BufferedReader reader=new BufferedReader(new FileReader(packLocation))){\n                String line;\n                int lineCount = 0;\n                while((line=reader.readLine())!=null){\n                    try {\n                        int num = Integer.parseInt(line);\n                        if (num&lt;=0){\n                            System.out.println(&quot;ERROR: Pack file contains a non-positive integer&quot;);\n                            return false;\n                        }\n                        lineCount++;\n                    } catch (NumberFormatException e) {\n                        System.out.println(&quot;ERROR: Pack file contains a non-integer&quot;);\n                        return false;\n                    }\n                }\n                if(lineCount==numPlayers*8){\n                    return true;\n                }else{\n                    System.out.println(&quot;ERROR: There are not &quot; + 8*numPlayers + &quot; cards in the pack file&quot;);\n                    return false;\n                }\n            }catch(IOException e){\n                System.out.println(&quot;ERROR: Could not read pack file&quot;);\n                return false;\n            }\n        }\n        else { \n            System.out.println(&quot;ERROR: Pack file does not exist&quot;);\n            return false;\n        }\n    }\n</code></pre>\n<p>Test method within test/TestCardGame.java</p>\n<pre><code>@Test\n    public void testIsValidPackFileValidFile() throws IOException{\n        int numPlayers=5;\n        String filePath=&quot;valid5PlayersPack.txt&quot;;\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n        assertTrue(&quot;Valid file not recognised as valid&quot;, CardGame.isValidPackFile(filePath, numPlayers));\n    }\n</code></pre>\n<p>When running CardGame.java, passing in &quot;test/valid5PlayersPack.txt&quot; as the file path works as expected and no errors are encountered.</p>\n<p>When using JUnit to test the method and passing in the exact same file path, no file is found.\nHave also tried passing in:</p>\n<pre><code>valid5PlayersPack.txt  \n../test/valid5PlayersPack.txt  \n../valid5PlayersPack.txt  \nsrc/test/valid5PlayersPack.txt  \n../test/valid5PlayersPack.txt  \n</code></pre>\n<p>yet each time it says no file was found</p>\n<p>I've tried passing in the file path relative to the TestCardGame and CardGame but can never get a valid file path.</p>\n<p>I also used:</p>\n<pre><code>System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n</code></pre>\n<p>and the last bit of the path is the &quot;filePathTesting_dba1f5ce/.&quot; which all seems correct</p>\n<p>Any help would be immensely appreciated.</p>\n"},{"tags":["java","image","label","icons"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1677491057,"post_id":75564701,"comment_id":133341133,"body_markdown":"Just a guess, but have you tried using a base size that is a multiple of 4 in both dimensions, like 108x84? This will avoid rounding errors (ie. 83*1.75 isn&#39;t exactly 145, but 145.25).","body":"Just a guess, but have you tried using a base size that is a multiple of 4 in both dimensions, like 108x84? This will avoid rounding errors (ie. 83*1.75 isn&#39;t exactly 145, but 145.25)."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677611973,"post_id":75564701,"comment_id":133371411,"body_markdown":"Interesting idea! I&#39;ll give it a try and update here asap. Cheers","body":"Interesting idea! I&#39;ll give it a try and update here asap. Cheers"},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677660860,"post_id":75564701,"comment_id":133379849,"body_markdown":"@HaraldK Okay. I think I managed to get it: I ended up adding 2 pixels to my base highres image, and setting my 100% one to 110x84. From that, calculated that base number * 125%, 150%, 175% .... If one of them gave me a fraction (i.e. 110x84 * 125% = 137.5/105), I ended rounding UP + adding a pixel: 139x106. \n\nThis happened to 125% and 175% obviously... What a pain in the as!@?% to fix!!! I got them all to 300%. If someone zooms their damn screen beyond that, they need to stop using computers! lol\n\nAnyhow, thanks for putting me in the right direction :)","body":"@HaraldK Okay. I think I managed to get it: I ended up adding 2 pixels to my base highres image, and setting my 100% one to 110x84. From that, calculated that base number * 125%, 150%, 175% .... If one of them gave me a fraction (i.e. 110x84 * 125% = 137.5/105), I ended rounding UP + adding a pixel: 139x106.   This happened to 125% and 175% obviously... What a pain in the as!@?% to fix!!! I got them all to 300%. If someone zooms their damn screen beyond that, they need to stop using computers! lol  Anyhow, thanks for putting me in the right direction :)"}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677320256,"creation_date":1677320256,"question_id":75564701,"body_markdown":"I have a small app that displays a random image. I&#39;ve noticed that the image became blurry on Windows desktops with up-scaled text size from this settings:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, I read about using BaseMultiResolutionImage and tried implementing that: my image is no longer blurry, but becomes &quot;scratchy&quot; when I get over 150% scale... For example, on a Windows scaling of 175%:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLeft: Java app is scratchy\r\nRight: Actual Image file is smooth.\r\n\r\nHere&#39;s a full code example:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BaseMultiResolutionImage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.io.IOException;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\npublic class Test extends JFrame {\r\n\r\n   public static void main(String[] args) {\r\n      Test app = new Test();\r\n      app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      app.setVisible(true);\r\n   }\r\n\r\n   public Test(){\r\n      super(&quot;Test App&quot;);\r\n\r\n      JPanel panel = new JPanel(new GridBagLayout());\r\n      GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n      JLabel lblImage = new JLabel();\r\n      lblImage.setIcon(this.getNoteIcon());\r\n      lblImage.setHorizontalAlignment(JLabel.CENTER);\r\n      gbc.gridx = 0;\r\n      gbc.gridy = 0;\r\n      gbc.insets = new Insets(20, 20, 20, 20);\r\n      panel.add(lblImage, gbc);\r\n\r\n      getContentPane().add(panel);\r\n\t\tpack();\r\n   }\r\n\r\n\tImageIcon getNoteIcon(){\r\n\t\ttry {\r\n\t\t\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\t\t\t/* all images are width = 108 height = 83 */\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_100.png&quot;))); // 100% - 108x83\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_125.png&quot;))); // 125% - 135x104\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_150.png&quot;))); // 150% - 162x124\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_175.png&quot;))); // 175% - 189x145\r\n\t\t\timgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_200.png&quot;))); // 200% - 216x166\r\n\r\n\t\t\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\t\t\treturn new ImageIcon(multiResolutionImage);\r\n\t\t} catch(IOException ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n  }\r\n}\r\n```\r\n\r\nWhat I did is that I created one image file per scales, i.e.:\r\n\r\nimage @ 100% = 108x83 &lt;br&gt;\r\n... &lt;br&gt;\r\nimage @ 175% = 189x145 (108x83 * 175%)\r\n\r\nand then added one after the other into the ArrayList of images. From these, created the BaseMultiResolutionImage...\r\n\r\nAm I doing anything wrong here? If so, what please? I don&#39;t understand how to fix this.\r\n\r\nI&#39;m also including the test image files:\r\n\r\n[![scale 100][3]][3]\r\n[![scale 125][4]][4]\r\n[![scale 150][5]][5]\r\n[![scale 175][6]][6]\r\n[![scale 200][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EqJas.png\r\n  [2]: https://i.stack.imgur.com/fdHES.png\r\n  [3]: https://i.stack.imgur.com/pt4hF.png\r\n  [4]: https://i.stack.imgur.com/70vZE.png\r\n  [5]: https://i.stack.imgur.com/BO0eX.png\r\n  [6]: https://i.stack.imgur.com/JesS3.png\r\n  [7]: https://i.stack.imgur.com/ZL4Ow.png\r\n\r\nMuch thanks for your help.\r\n","title":"Misunderstanding or usage of BaseMultiResolutionImage: upscaled images are &quot;scratchy&quot;","body":"<p>I have a small app that displays a random image. I've noticed that the image became blurry on Windows desktops with up-scaled text size from this settings:</p>\n<p><a href=\"https://i.stack.imgur.com/EqJas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqJas.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I read about using BaseMultiResolutionImage and tried implementing that: my image is no longer blurry, but becomes &quot;scratchy&quot; when I get over 150% scale... For example, on a Windows scaling of 175%:</p>\n<p><a href=\"https://i.stack.imgur.com/fdHES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdHES.png\" alt=\"enter image description here\" /></a></p>\n<p>Left: Java app is scratchy\nRight: Actual Image file is smooth.</p>\n<p>Here's a full code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BaseMultiResolutionImage;\n\nimport javax.imageio.ImageIO;\nimport java.io.IOException;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class Test extends JFrame {\n\n   public static void main(String[] args) {\n      Test app = new Test();\n      app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      app.setVisible(true);\n   }\n\n   public Test(){\n      super(&quot;Test App&quot;);\n\n      JPanel panel = new JPanel(new GridBagLayout());\n      GridBagConstraints gbc = new GridBagConstraints();\n\n      JLabel lblImage = new JLabel();\n      lblImage.setIcon(this.getNoteIcon());\n      lblImage.setHorizontalAlignment(JLabel.CENTER);\n      gbc.gridx = 0;\n      gbc.gridy = 0;\n      gbc.insets = new Insets(20, 20, 20, 20);\n      panel.add(lblImage, gbc);\n\n      getContentPane().add(panel);\n        pack();\n   }\n\n    ImageIcon getNoteIcon(){\n        try {\n            List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n            /* all images are width = 108 height = 83 */\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_100.png&quot;))); // 100% - 108x83\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_125.png&quot;))); // 125% - 135x104\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_150.png&quot;))); // 150% - 162x124\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_175.png&quot;))); // 175% - 189x145\n            imgList.add(ImageIO.read(getClass().getResource(&quot;images/scale_200.png&quot;))); // 200% - 216x166\n\n            BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n            return new ImageIcon(multiResolutionImage);\n        } catch(IOException ex){\n            ex.printStackTrace();\n            return null;\n        }\n  }\n}\n</code></pre>\n<p>What I did is that I created one image file per scales, i.e.:</p>\n<p>image @ 100% = 108x83 <br>\n... <br>\nimage @ 175% = 189x145 (108x83 * 175%)</p>\n<p>and then added one after the other into the ArrayList of images. From these, created the BaseMultiResolutionImage...</p>\n<p>Am I doing anything wrong here? If so, what please? I don't understand how to fix this.</p>\n<p>I'm also including the test image files:</p>\n<p><a href=\"https://i.stack.imgur.com/pt4hF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pt4hF.png\" alt=\"scale 100\" /></a>\n<a href=\"https://i.stack.imgur.com/70vZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70vZE.png\" alt=\"scale 125\" /></a>\n<a href=\"https://i.stack.imgur.com/BO0eX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BO0eX.png\" alt=\"scale 150\" /></a>\n<a href=\"https://i.stack.imgur.com/JesS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JesS3.png\" alt=\"scale 175\" /></a>\n<a href=\"https://i.stack.imgur.com/ZL4Ow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZL4Ow.png\" alt=\"scale 200\" /></a></p>\n<p>Much thanks for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672669055,"post_id":74983473,"comment_id":132323449,"body_markdown":"*I don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.* What *is* the encoding?","body":"<i>I don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.</i> What <i>is</i> the encoding?"},{"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"score":0,"creation_date":1672669234,"post_id":74983473,"comment_id":132323494,"body_markdown":"It is UTF-8 in local","body":"It is UTF-8 in local"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672669981,"post_id":74983473,"comment_id":132323701,"body_markdown":"Right. Something like [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/CharsetEncoder.html#canEncode(char)) should do it","body":"Right. Something like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/CharsetEncoder.html#canEncode(char)\" rel=\"nofollow noreferrer\">this</a> should do it"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672677148,"post_id":74984801,"comment_id":132325688,"body_markdown":"That won&#39;t cut it. Take as one case ``. The codepoint of that is U+2122 yet is part of the WIndows-1252 charset. That of course, is beyond your loop end, which cuts off a significant part of the charset. What made you stop it there?","body":"That won&#39;t cut it. Take as one case <code></code>. The codepoint of that is U+2122 yet is part of the WIndows-1252 charset. That of course, is beyond your loop end, which cuts off a significant part of the charset. What made you stop it there?"},{"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"score":0,"creation_date":1672677929,"post_id":74984801,"comment_id":132325907,"body_markdown":"Okay, let me explain it deeply: The Windows 1252 character set, also known as Windows Western. The range of characters can be: 0x00 to 0x1F: Control characters, 0x20 to 0x7E: Printable ASCII characters, 0x80 to 0x9F: Control characters (in the C1 range) and 0xA0 to 0xFF: Extended characters. \n\nMaybe you need to include the Extended chars.","body":"Okay, let me explain it deeply: The Windows 1252 character set, also known as Windows Western. The range of characters can be: 0x00 to 0x1F: Control characters, 0x20 to 0x7E: Printable ASCII characters, 0x80 to 0x9F: Control characters (in the C1 range) and 0xA0 to 0xFF: Extended characters.   Maybe you need to include the Extended chars."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672678313,"post_id":74984801,"comment_id":132326008,"body_markdown":"Feel free to rewrite the code. The input data might, say, include a en dash in an address - part of the Windows-1252 charset","body":"Feel free to rewrite the code. The input data might, say, include a en dash in an address - part of the Windows-1252 charset"},{"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"score":0,"creation_date":1672678510,"post_id":74984801,"comment_id":132326061,"body_markdown":"Already done :) - Just a &amp;&amp; increment with the extended chars list.","body":"Already done :) - Just a &amp;&amp; increment with the extended chars list."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672679506,"post_id":74984801,"comment_id":132326342,"body_markdown":"For my last example, it would throw an exception with a false message for en dash (0x2013)","body":"For my last example, it would throw an exception with a false message for en dash (0x2013)"},{"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"score":0,"creation_date":1672679787,"post_id":74984801,"comment_id":132326410,"body_markdown":"Just updated the code to handle the dash. You can keep including any character at the if statement.","body":"Just updated the code to handle the dash. You can keep including any character at the if statement."},{"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"score":0,"creation_date":1672679899,"post_id":74984801,"comment_id":132326436,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250792/discussion-between-methark-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250792/discussion-between-methark-and-g00se\">continue this discussion in chat</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1672682542,"post_id":74984801,"comment_id":132327160,"body_markdown":"Do you want parentheses around `code &gt; 0xFF &amp;&amp; c != &#39;\\u2013&#39;`?","body":"Do you want parentheses around <code>code &gt; 0xFF &amp;&amp; c != &#39;\\u2013&#39;</code>?"},{"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"score":0,"creation_date":1672683019,"post_id":74984801,"comment_id":132327309,"body_markdown":"The code is working like a charm here. There was I typo on the variables names but I just fixed.","body":"The code is working like a charm here. There was I typo on the variables names but I just fixed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672685738,"post_id":74984801,"comment_id":132327913,"body_markdown":"26 others to do, in addition to the En Dash","body":"26 others to do, in addition to the En Dash"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1679400787,"post_id":74984801,"comment_id":133711619,"body_markdown":"Problem that this is conflating bytes and characters. You should encode to bytes, and then perform the ops.","body":"Problem that this is conflating bytes and characters. You should encode to bytes, and then perform the ops."}],"tags":[],"owner":{"account_id":8950298,"reputation":95,"user_id":6676512,"display_name":"Methark"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672682982,"creation_date":1672676787,"answer_id":74984801,"question_id":74983473,"body_markdown":"You need to check if its Unicode code point is outside the range of 0x20 to 0x7E AND 0xA0 to 0xFF, which covers all of the printable ASCII characters and the extended characters in the Windows 1252 character set, excluding the EN dash. Something like this:\r\n\r\n    String input = &quot;any text goes here&quot;;\r\n    \r\n    for (int i = 0; i &lt; input.length(); i++)\r\n    {\r\n        char c = input.charAt(i);\r\n        if (c &lt; 0x20 || (c &gt; 0x7E &amp;&amp; c &lt; 0xA0) || c &gt; 0xFF &amp;&amp; c != &#39;\\u2013&#39;) \r\n        {\r\n            throw new IllegalArgumentException(&quot;Character at index &quot; + i + &quot; does not belong to the Windows 1252 character set: &quot; + c);\r\n        }\r\n    }\r\n\r\n","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>You need to check if its Unicode code point is outside the range of 0x20 to 0x7E AND 0xA0 to 0xFF, which covers all of the printable ASCII characters and the extended characters in the Windows 1252 character set, excluding the EN dash. Something like this:</p>\n<pre><code>String input = &quot;any text goes here&quot;;\n\nfor (int i = 0; i &lt; input.length(); i++)\n{\n    char c = input.charAt(i);\n    if (c &lt; 0x20 || (c &gt; 0x7E &amp;&amp; c &lt; 0xA0) || c &gt; 0xFF &amp;&amp; c != '\\u2013') \n    {\n        throw new IllegalArgumentException(&quot;Character at index &quot; + i + &quot; does not belong to the Windows 1252 character set: &quot; + c);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"score":0,"creation_date":1672731714,"post_id":74985966,"comment_id":132335446,"body_markdown":"Thank you for the heated discussion. This seems to be the neater of the proposed solutions since it is easy to read and maintainable. As I said, I was going with a regex since I don&#39;t have much experience with encoding initially, so, this is a huge leap :).","body":"Thank you for the heated discussion. This seems to be the neater of the proposed solutions since it is easy to read and maintainable. As I said, I was going with a regex since I don&#39;t have much experience with encoding initially, so, this is a huge leap :)."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672684902,"creation_date":1672684902,"answer_id":74985966,"question_id":74983473,"body_markdown":"My suggestion as code:\r\n\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetEncoder;\r\n    \r\n    public class Windows1252Tester {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Can we encode the incoming UTF-8 (per OP) as Windows-1252?\r\n                Charset cs = Charset.forName(&quot;Windows-1252&quot;);\r\n                CharsetEncoder enc = cs.newEncoder();\r\n                System.out.printf(&quot;Can charset %s encode sequence %s? %b%n&quot;, cs, args[0], enc.canEncode(args[0]));\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>My suggestion as code:</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.charset.CharsetEncoder;\n\npublic class Windows1252Tester {\n    public static void main(String[] args) {\n        try {\n            // Can we encode the incoming UTF-8 (per OP) as Windows-1252?\n            Charset cs = Charset.forName(&quot;Windows-1252&quot;);\n            CharsetEncoder enc = cs.newEncoder();\n            System.out.printf(&quot;Can charset %s encode sequence %s? %b%n&quot;, cs, args[0], enc.canEncode(args[0]));\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74985966,"answer_count":2,"score":1,"last_activity_date":1677319866,"creation_date":1672668972,"question_id":74983473,"body_markdown":"I have a service that receives free text, such as name, surname, address, etc. and I want to throw an error if one of the characters sent doesn&#39;t belong to the windows 1252 character set but I don&#39;t know how to do so in a proper way. What I was thinking about is a regex, but not sure if that is the best option.\r\n\r\nThe regex would be the [letters from cp1252][1] with any other letter `\\\\w`, so, something like this:\r\n\r\n    String test = &quot;&#192;&#193;&#194;&#195; &#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221; &#222;&#223;&#224;&#225;&#226;&#227;&#228;&#229;&#230;&#231;&#232;&#233;&#234;&#235;&#236;&#237;&#238;&#239;&#240; &#241;&#242;&#243;&#244;&#245;&#246;&#248;&#249;&#250;&#251;&#252;&#253;&#254;&#255; asvsdf QWESA 1234 &#220;&#252;&#203;&#235;&#196;&#228;&#214;&#246;&quot;;\r\n    System.out.println(test.matches(&quot;[&#192;&#193;&#194;&#195;&#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221;&#222;&#223;&#224;&#225;&#226;&#227;&#228;&#229;&#230;&#231;&#232;&#233;&#234;&#235;&#236;&#237;&#238;&#239;&#240;&#241;&#242;&#243;&#244;&#245;&#246;&#248;&#249;&#250;&#251;&#252;&#253;&#254;&#255;\\\\w&quot;\r\n            + &quot;\\\\d\\\\s\\\\.]+&quot;));\r\n\r\n\r\nI don&#39;t need to detect the encoding itself, only if it doesn&#39;t belong to the charset.\r\n\r\n\r\n  [1]: https://www.systutorials.com/docs/linux/man/7-cp1252/","title":"Best way to detect characters not belonging to Windows-1252","body":"<p>I have a service that receives free text, such as name, surname, address, etc. and I want to throw an error if one of the characters sent doesn't belong to the windows 1252 character set but I don't know how to do so in a proper way. What I was thinking about is a regex, but not sure if that is the best option.</p>\n<p>The regex would be the <a href=\"https://www.systutorials.com/docs/linux/man/7-cp1252/\" rel=\"nofollow noreferrer\">letters from cp1252</a> with any other letter <code>\\\\w</code>, so, something like this:</p>\n<pre><code>String test = &quot;    asvsdf QWESA 1234 &quot;;\nSystem.out.println(test.matches(&quot;[\\\\w&quot;\n        + &quot;\\\\d\\\\s\\\\.]+&quot;));\n</code></pre>\n<p>I don't need to detect the encoding itself, only if it doesn't belong to the charset.</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672818053,"creation_date":1672818053,"answer_id":75002272,"question_id":74961341,"body_markdown":"I solved it by replacing `maven-assembly-plugin` with `spring-boot-maven-plugin` like below:\r\n\r\n```\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n``` \r\n\r\nmaybe it will help someone :-)","title":"Swagger springdoc-openapi-ui doesn&#39;t work when SpringBoot run in JAR","body":"<p>I solved it by replacing <code>maven-assembly-plugin</code> with <code>spring-boot-maven-plugin</code> like below:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;\n                            &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>maybe it will help someone :-)</p>\n"}],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75002272,"answer_count":1,"score":0,"last_activity_date":1677319824,"creation_date":1672401907,"question_id":74961341,"body_markdown":"Swagger-UI works generally fine when I run SpringBoot application directly in the IDE (by clicking run on main class) or via maven spring-boot:run plugin. Anyway it&#39;s broken when I run SpringBoot as JAR file trough `java -jar` command in CLI. \r\n\r\n\r\n\r\nHow the app is built (modules):\r\n\r\n1. root (no parent):\r\n\r\n   a. core (no parent)\r\n\r\n   b. rest-api (root as parent) \r\n\r\n   - + spring boot 2.7.7 as BOM dependency \r\n\r\n   - + main SpringBoot class \r\n\r\n   - + spring security (JWT token)\r\n\r\n   - + dependency to core\r\n\r\nrest-api -\\&gt; pom.xml fragment:\r\n\r\n```\r\n\r\n    &lt;dependencies&gt;\r\n                &lt;!-- MORE dependencies --&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.2&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n```\r\n\r\nmain app class:\r\n\r\n```\r\n\r\npackage example.package;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\n\r\n@OpenAPIDefinition\r\n@SpringBootApplication\r\npublic class MainBootApplication {\r\n\r\n    public static void main(String[] args) {\r\n    \tSpringApplication.run(BastKundApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tested following URLs:\r\n\r\na) http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config (works when it run with maven)\r\n\r\nb) http://localhost:8080/swagger-ui/index.html (works when it run with maven)\r\n\r\nc) http://localhost:8080/swagger-ui.html\r\n\r\nI build my app with `mvn clean package` command and it assembled a JAR with all dependencies (see rest-api/pom.xml content) and later `java -jar /path/to/file.jar` . The application works fine and I can call my REST end-points properly but Swagger-UI is broken. When I run app trough main class with IDE Swagger works fine.\r\n\r\nI can see a log info when the app starts directly trough IDE that SpringDoc initializes properly (after I call the URL) .\r\n\r\n`[2m2022-12-30 13:03:39.722[0;39m [32m INFO[0;39m [35m23776[0;39m [2m---[0;39m [2m[nio-8080-exec-8][0;39m [36mo.springdoc.api.AbstractOpenApiResource [0;39m [2m:[0;39m Init duration for springdoc-openapi is: 330 ms`\r\n\r\n This log doesn&#39;t appear when I run trough JAR file:\r\n\r\nAny ideas?","title":"Swagger springdoc-openapi-ui doesn&#39;t work when SpringBoot run in JAR","body":"<p>Swagger-UI works generally fine when I run SpringBoot application directly in the IDE (by clicking run on main class) or via maven spring-boot:run plugin. Anyway it's broken when I run SpringBoot as JAR file trough <code>java -jar</code> command in CLI.</p>\n<p>How the app is built (modules):</p>\n<ol>\n<li><p>root (no parent):</p>\n<p>a. core (no parent)</p>\n<p>b. rest-api (root as parent)</p>\n<ul>\n<li>\n<ul>\n<li>spring boot 2.7.7 as BOM dependency</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>main SpringBoot class</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>spring security (JWT token)</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>dependency to core</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>rest-api -&gt; pom.xml fragment:</p>\n<pre><code>\n    &lt;dependencies&gt;\n                &lt;!-- MORE dependencies --&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    \n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.7.7&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;example.package.MainBootApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>main app class:</p>\n<pre><code>\npackage example.package;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\n\n@OpenAPIDefinition\n@SpringBootApplication\npublic class MainBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BastKundApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I tested following URLs:</p>\n<p>a) http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config (works when it run with maven)</p>\n<p>b) http://localhost:8080/swagger-ui/index.html (works when it run with maven)</p>\n<p>c) http://localhost:8080/swagger-ui.html</p>\n<p>I build my app with <code>mvn clean package</code> command and it assembled a JAR with all dependencies (see rest-api/pom.xml content) and later <code>java -jar /path/to/file.jar</code> . The application works fine and I can call my REST end-points properly but Swagger-UI is broken. When I run app trough main class with IDE Swagger works fine.</p>\n<p>I can see a log info when the app starts directly trough IDE that SpringDoc initializes properly (after I call the URL) .</p>\n<p><code>[2m2022-12-30 13:03:39.722[0;39m [32m INFO[0;39m [35m23776[0;39m [2m---[0;39m [2m[nio-8080-exec-8][0;39m [36mo.springdoc.api.AbstractOpenApiResource [0;39m [2m:[0;39m Init duration for springdoc-openapi is: 330 ms</code></p>\n<p>This log doesn't appear when I run trough JAR file:</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","javafx","fxml"],"answers":[{"comments":[{"owner":{"account_id":9698098,"reputation":11,"user_id":10995600,"display_name":"Andi"},"score":0,"creation_date":1548969799,"post_id":54463879,"comment_id":95746698,"body_markdown":"Thank you very much, this cured my problem :)","body":"Thank you very much, this cured my problem :)"}],"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548948321,"creation_date":1548948321,"answer_id":54463879,"question_id":54461979,"body_markdown":"You don&#39;t implement [`InitializingBean`][1], so `afterPropertiesSet` is never invoked. Implementing this interface should fix the issue:\r\n\r\n    public abstract class FXMLController implements Initializable, InitializingBean {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            loadFXML();\r\n        }\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>You don't implement <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"nofollow noreferrer\"><code>InitializingBean</code></a>, so <code>afterPropertiesSet</code> is never invoked. Implementing this interface should fix the issue:</p>\n\n<pre><code>public abstract class FXMLController implements Initializable, InitializingBean {\n\n    ...\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        loadFXML();\n    }\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17745040,"reputation":11,"user_id":12884499,"display_name":"adk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677318329,"creation_date":1677291747,"answer_id":75562920,"question_id":54461979,"body_markdown":"Everything else looks fine here for you except the folder structure. For it to read the controller.fxml files, those should be in resource directory following the same structure as your controller.java. For ex: java/com.example.project.controller/MainController.java\r\nresources/com.example.project.controller/MainController.fxml\r\n\r\nIf you do not have this folder structure, you would need to explicitly provide the path to your controller file as @FxmlView//(&quot;&lt;PATH&gt;/Controller.fxml&quot;). This would work in the IDE but when you package it, this may not work. So I would suggest to change the folder structure. \r\n\r\nAlso try using spring boot which would make it much easier.\r\n\r\nAlso look at below for reference. \r\nhttps://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>Everything else looks fine here for you except the folder structure. For it to read the controller.fxml files, those should be in resource directory following the same structure as your controller.java. For ex: java/com.example.project.controller/MainController.java\nresources/com.example.project.controller/MainController.fxml</p>\n<p>If you do not have this folder structure, you would need to explicitly provide the path to your controller file as @FxmlView//(&quot;/Controller.fxml&quot;). This would work in the IDE but when you package it, this may not work. So I would suggest to change the folder structure.</p>\n<p>Also try using spring boot which would make it much easier.</p>\n<p>Also look at below for reference.\n<a href=\"https://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945\" rel=\"nofollow noreferrer\">https://github.com/rgielen/javafx-weaver/issues/12#issuecomment-803475945</a></p>\n"}],"owner":{"account_id":9698098,"reputation":11,"user_id":10995600,"display_name":"Andi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677318329,"creation_date":1548942265,"question_id":54461979,"body_markdown":"I want to contruct a controller for my JavaFX application, which automatically loads the FXML file &quot;view.fxml&quot; into the member &quot;Parent root&quot; and takes constructor arguments (in this example &quot;String message&quot;).\r\n\r\nI made it work just fine, but then I tried to instantiate a DemoController instance using Spring and I receive a &quot;NullPointerException: Root cannot be null&quot;. This irritates me, because the instantiation of the bean using Spring seems to be working just fine and yet it doesn&#39;t load the FXML correctly. My only guess is that the directory structure might be messed up, but I cannot fix it and I would be very greatful for any help :)\r\n\r\nMain.java\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Main extends Application {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \t    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n    \t    DemoController myController = (DemoController) context.getBean(&quot;myController&quot;);\r\n    \t      \r\n            primaryStage.setScene(new Scene(myController.getRoot()));\r\n            primaryStage.setTitle(&quot;Game of Life&quot;);\r\n            primaryStage.show();\t\r\n            \r\n            ((ClassPathXmlApplicationContext) context).close();\r\n    \t}\r\n    }\r\n\r\nFXMLController.java\r\n\r\n    import java.io.IOException;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n\r\n\r\n    public abstract class FXMLController implements Initializable {\r\n\r\n    \tprotected Parent root;\r\n\r\n    \tprotected String fxmlFilePath;\r\n\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tloadFXML();\r\n    \t}\r\n\r\n    \tprotected final void loadFXML() throws IOException {\t\r\n    \t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFilePath));\r\n    \t\tloader.setController(this);\r\n    \t\tthis.root = loader.load();\r\n    \t}\r\n\r\n    \tpublic Parent getRoot() {\r\n    \t\treturn root;\r\n    \t}\r\n    \t\r\n    \tpublic void setFxmlFilePath(String fxmlFilePath) {\r\n    \t\tthis.fxmlFilePath = fxmlFilePath;\r\n    \t}\r\n    }\r\n\r\nDemoController.java\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n\r\n    public class DemoController extends FXMLController {\r\n\t\r\n\t    public DemoController(String message) {\r\n\t   \t     System.out.println(message);\r\n    \t}\r\n\r\n\t    @Override\r\n\t    public void initialize(URL arg0, ResourceBundle arg1) {\r\n\t    \tSystem.out.println(&quot;initializing&quot;);\t\t\r\n\t   }\r\n   }\r\n\r\nBeans.xml\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n       &lt;bean id = &quot;myController&quot; class = &quot;DemoController&quot;&gt;\r\n          &lt;constructor-arg value = &quot;message&quot;/&gt;\r\n          &lt;property name = &quot;fxmlFilePath&quot; value = &quot;/view.fxml&quot;/&gt;\r\n       &lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nview.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;!-- TODO Add Nodes --&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\ndirectory structure\r\n\r\n- src\r\n    - Beans.xml\r\n    - view.fxml\r\n    - (default package)\r\n        - DemoController.java\r\n        - FXMLController.java\r\n        - Main.java\r\n\r\nconsole output\r\n\r\n    message\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NullPointerException: Root cannot be null\r\n    \tat javafx.scene.Scene.&lt;init&gt;(Scene.java:336)\r\n    \tat javafx.scene.Scene.&lt;init&gt;(Scene.java:194)\r\n    \tat Main.start(Main.java:21)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\r\n    \t... 1 more\r\n    Exception running application Main\r\n\r\nA brief overview over the code:\r\n\r\n- The main sets up the JavaFX environment and uses Spring to instantiate a DemoController. It displayes the scene graph given by the controller.\r\n- The FXMLController is an abstract class, which encapuslates the loading of the FXML file and supplies a getter methods for the scene graph (getRoot()).\r\n- The DemoController extends FXMLController and doesn&#39;t add much.\r\n- Beans.xml supplies Spring with the necessary configuration information for the controller.\r\n- view.fxml has only an AnchorPane and is essentially empty.","title":"NullPointerException loading scene graph from FXML, integrated with Spring","body":"<p>I want to contruct a controller for my JavaFX application, which automatically loads the FXML file \"view.fxml\" into the member \"Parent root\" and takes constructor arguments (in this example \"String message\").</p>\n\n<p>I made it work just fine, but then I tried to instantiate a DemoController instance using Spring and I receive a \"NullPointerException: Root cannot be null\". This irritates me, because the instantiation of the bean using Spring seems to be working just fine and yet it doesn't load the FXML correctly. My only guess is that the directory structure might be messed up, but I cannot fix it and I would be very greatful for any help :)</p>\n\n<p>Main.java</p>\n\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"Beans.xml\");\n        DemoController myController = (DemoController) context.getBean(\"myController\");\n\n        primaryStage.setScene(new Scene(myController.getRoot()));\n        primaryStage.setTitle(\"Game of Life\");\n        primaryStage.show();    \n\n        ((ClassPathXmlApplicationContext) context).close();\n    }\n}\n</code></pre>\n\n<p>FXMLController.java</p>\n\n<pre><code>import java.io.IOException;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\n\n\npublic abstract class FXMLController implements Initializable {\n\n    protected Parent root;\n\n    protected String fxmlFilePath;\n\n    public void afterPropertiesSet() throws Exception {\n        loadFXML();\n    }\n\n    protected final void loadFXML() throws IOException {    \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFilePath));\n        loader.setController(this);\n        this.root = loader.load();\n    }\n\n    public Parent getRoot() {\n        return root;\n    }\n\n    public void setFxmlFilePath(String fxmlFilePath) {\n        this.fxmlFilePath = fxmlFilePath;\n    }\n}\n</code></pre>\n\n<p>DemoController.java</p>\n\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class DemoController extends FXMLController {\n\n    public DemoController(String message) {\n         System.out.println(message);\n    }\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        System.out.println(\"initializing\");     \n   }\n</code></pre>\n\n<p>}</p>\n\n<p>Beans.xml</p>\n\n<pre><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n\n&lt;beans xmlns = \"http://www.springframework.org/schema/beans\"\n   xmlns:xsi = \"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation = \"http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n   &lt;bean id = \"myController\" class = \"DemoController\"&gt;\n      &lt;constructor-arg value = \"message\"/&gt;\n      &lt;property name = \"fxmlFilePath\" value = \"/view.fxml\"/&gt;\n   &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>view.fxml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n    &lt;!-- TODO Add Nodes --&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>directory structure</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>Beans.xml</li>\n<li>view.fxml</li>\n<li>(default package)\n\n<ul>\n<li>DemoController.java</li>\n<li>FXMLController.java</li>\n<li>Main.java</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>console output</p>\n\n<pre><code>message\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NullPointerException: Root cannot be null\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:336)\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:194)\n    at Main.start(Main.java:21)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\n    ... 1 more\nException running application Main\n</code></pre>\n\n<p>A brief overview over the code:</p>\n\n<ul>\n<li>The main sets up the JavaFX environment and uses Spring to instantiate a DemoController. It displayes the scene graph given by the controller.</li>\n<li>The FXMLController is an abstract class, which encapuslates the loading of the FXML file and supplies a getter methods for the scene graph (getRoot()).</li>\n<li>The DemoController extends FXMLController and doesn't add much.</li>\n<li>Beans.xml supplies Spring with the necessary configuration information for the controller.</li>\n<li>view.fxml has only an AnchorPane and is essentially empty.</li>\n</ul>\n"},{"tags":["java","android","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677317902,"creation_date":1677317902,"answer_id":75564493,"question_id":75535186,"body_markdown":"You can not make it with only one model class. Because listitem array accepts objects not strings. So, you need to create listitem objects which includes itemcode string. Here is how you achieve it:\r\n\r\n\r\n```\r\ndata class User(\r\n    val aktif_sampai: String,\r\n    val is_mobile: String,\r\n    val listitem: List&lt;Listitem&gt;,\r\n    val pesan: String,\r\n    val status: Boolean,\r\n    val username: String\r\n)\r\n```\r\n\r\nAnd class for the listitem:\r\n\r\n```\r\ndata class Listitem(\r\n    val itemcode: String\r\n)\r\n```\r\n\r\nNow you can create a list with items of listitem.","title":"Retrofit Android - How to save Response API Json into String-Array","body":"<p>You can not make it with only one model class. Because listitem array accepts objects not strings. So, you need to create listitem objects which includes itemcode string. Here is how you achieve it:</p>\n<pre><code>data class User(\n    val aktif_sampai: String,\n    val is_mobile: String,\n    val listitem: List&lt;Listitem&gt;,\n    val pesan: String,\n    val status: Boolean,\n    val username: String\n)\n</code></pre>\n<p>And class for the listitem:</p>\n<pre><code>data class Listitem(\n    val itemcode: String\n)\n</code></pre>\n<p>Now you can create a list with items of listitem.</p>\n"}],"owner":{"account_id":27570191,"reputation":3,"user_id":21041543,"display_name":"ZeeiDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564493,"answer_count":1,"score":0,"last_activity_date":1677317902,"creation_date":1677081289,"question_id":75535186,"body_markdown":"Can anybody help me?\r\n\r\nMy response API :\r\n```\r\n{\r\n    &quot;status&quot;: true,\r\n    &quot;pesan&quot;: &quot;Berhasil&quot;,\r\n    &quot;username&quot;: &quot;user&quot;,\r\n    &quot;aktif_sampai&quot;: &quot;2024-01-31&quot;,\r\n    &quot;is_mobile&quot;: &quot;1&quot;,\r\n    &quot;listitem&quot;: [\r\n        {\r\n            &quot;itemcode&quot;: &quot;item00001&quot;\r\n        },\r\n        {\r\n            &quot;itemcode&quot;: &quot;item00002&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI have created Retrofit ApiService class for the connection and have created the interface.\r\n\r\nBut I don&#39;t know how to make a model to store *itemcode* data into string-array into usable variable\r\n\r\nThanks for your help \r\n\r\nstore itemcode data into string-array into usable variable","title":"Retrofit Android - How to save Response API Json into String-Array","body":"<p>Can anybody help me?</p>\n<p>My response API :</p>\n<pre><code>{\n    &quot;status&quot;: true,\n    &quot;pesan&quot;: &quot;Berhasil&quot;,\n    &quot;username&quot;: &quot;user&quot;,\n    &quot;aktif_sampai&quot;: &quot;2024-01-31&quot;,\n    &quot;is_mobile&quot;: &quot;1&quot;,\n    &quot;listitem&quot;: [\n        {\n            &quot;itemcode&quot;: &quot;item00001&quot;\n        },\n        {\n            &quot;itemcode&quot;: &quot;item00002&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I have created Retrofit ApiService class for the connection and have created the interface.</p>\n<p>But I don't know how to make a model to store <em>itemcode</em> data into string-array into usable variable</p>\n<p>Thanks for your help</p>\n<p>store itemcode data into string-array into usable variable</p>\n"},{"tags":["java","groovy","async-await","completable-future"],"comments":[{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1677223592,"post_id":75553240,"comment_id":133299039,"body_markdown":"It&#39;s not even working when I do wait for them all to resolve...","body":"It&#39;s not even working when I do wait for them all to resolve..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677229590,"post_id":75553240,"comment_id":133300461,"body_markdown":"Do you have the same problem when you write the same logic with plain Java? The type `Closure&lt;T&gt;` implements `Callable&lt;T&gt;` *and* `Runnable`, so which `submit` method has been invoked?  But whats the purpose of this `AsyncUtils` class anyway? Why create extra code, just to be able to write `AsyncUtils.AwaitResult(promise)` instead of `promise.get()`?  The lazy initialization in `GetThreadPool()` is not thread safe and obsolete anyway; just declaring `private static final ExecutorService threadPool  = Executors.newCachedThreadPool();` would be lazily initialized *and* thread safe.","body":"Do you have the same problem when you write the same logic with plain Java? The type <code>Closure&lt;T&gt;</code> implements <code>Callable&lt;T&gt;</code> <i>and</i> <code>Runnable</code>, so which <code>submit</code> method has been invoked?  But whats the purpose of this <code>AsyncUtils</code> class anyway? Why create extra code, just to be able to write <code>AsyncUtils.AwaitResult(promise)</code> instead of <code>promise.get()</code>?  The lazy initialization in <code>GetThreadPool()</code> is not thread safe and obsolete anyway; just declaring <code>private static final ExecutorService threadPool  = Executors.newCachedThreadPool();</code> would be lazily initialized <i>and</i> thread safe."},{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1677243296,"post_id":75553240,"comment_id":133304242,"body_markdown":"It should be obvious... The point of `AsyncUtils` is to abstract out the details related to asynchronous programming. Namely, I want my asynchronous programming in Groovy, to work like asynchronous programming work in JavaScript. Also, switching to Java is not an option for me. The rest of my codebase is in Groovy","body":"It should be obvious... The point of <code>AsyncUtils</code> is to abstract out the details related to asynchronous programming. Namely, I want my asynchronous programming in Groovy, to work like asynchronous programming work in JavaScript. Also, switching to Java is not an option for me. The rest of my codebase is in Groovy"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677250980,"post_id":75553240,"comment_id":133306500,"body_markdown":"There is nothing obvious here. First, calling a static method is not an abstraction. Second, making programming language X to work like programming language Y is not a useful goal. In the end, your own answer acknowledges that using Groovys built-in facilities makes more sense than trying to make it work like JavaScript. And I did never suggest to switch to Java. I only asked whether a Java equivalent exhibits the same behavior, which is a straight-forward method to find out, whether the problem is Groovy related or not.","body":"There is nothing obvious here. First, calling a static method is not an abstraction. Second, making programming language X to work like programming language Y is not a useful goal. In the end, your own answer acknowledges that using Groovys built-in facilities makes more sense than trying to make it work like JavaScript. And I did never suggest to switch to Java. I only asked whether a Java equivalent exhibits the same behavior, which is a straight-forward method to find out, whether the problem is Groovy related or not."}],"answers":[{"comments":[{"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1677246130,"post_id":75557191,"comment_id":133305026,"body_markdown":"I like it. I was able to get this problem solved parallel to this ( I discovered the `CompletableFuture.supplyAsync` and `CompletableFuture.thenApplyAsync` methods ), but this one is definitely getting the thumbs up","body":"I like it. I was able to get this problem solved parallel to this ( I discovered the <code>CompletableFuture.supplyAsync</code> and <code>CompletableFuture.thenApplyAsync</code> methods ), but this one is definitely getting the thumbs up"}],"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677245660,"creation_date":1677245660,"answer_id":75557191,"question_id":75553240,"body_markdown":"groovy [Closure][1] implements both - Runnable and Callable.\r\n\r\n```\r\ndef c={&#39;world&#39;}\r\n\r\nprintln c.call()  // ==&gt; prints world\r\nprintln c.run()   // ==&gt; prints null\r\n```\r\n\r\n\r\nwhen you are calling `ExecutorService.submit(Closure)` compiler chooses Runnable interface of the closure.\r\n\r\nCasting `Closure` to `Callable` solves the issue\r\n\r\n```lang-java\r\nimport java.util.concurrent.ExecutorService\r\nimport java.util.concurrent.Executors\r\nimport java.util.concurrent.Future\r\nimport java.util.concurrent.Callable\r\n\r\n@groovy.transform.CompileStatic\r\npublic final class AsyncUtils {\r\n    private static ExecutorService threadPool;\r\n    \r\n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n        return this.GetThreadPool()\r\n            .submit((Callable)onTask);  // &lt;&lt;== the only effective change\r\n    }\r\n    \r\n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \r\n        return future.get();\r\n    }\r\n    \r\n    public static ExecutorService GetThreadPool() { \r\n        if (!this.threadPool)\r\n            this.threadPool = Executors.newCachedThreadPool();\r\n        \r\n        return this.threadPool;\r\n    }\r\n}\r\n\r\ndef future = AsyncUtils.StartAsyncTask{\r\n     Thread.sleep(1000)\r\n     return &quot;world&quot;\r\n}\r\n\r\nassert AsyncUtils.AwaitResult(future)==&#39;world&#39;\r\n```\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html","title":"Groovy future.get() returns null","body":"<p>groovy <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/lang/Closure.html\" rel=\"nofollow noreferrer\">Closure</a> implements both - Runnable and Callable.</p>\n<pre><code>def c={'world'}\n\nprintln c.call()  // ==&gt; prints world\nprintln c.run()   // ==&gt; prints null\n</code></pre>\n<p>when you are calling <code>ExecutorService.submit(Closure)</code> compiler chooses Runnable interface of the closure.</p>\n<p>Casting <code>Closure</code> to <code>Callable</code> solves the issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ExecutorService\nimport java.util.concurrent.Executors\nimport java.util.concurrent.Future\nimport java.util.concurrent.Callable\n\n@groovy.transform.CompileStatic\npublic final class AsyncUtils {\n    private static ExecutorService threadPool;\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return this.GetThreadPool()\n            .submit((Callable)onTask);  // &lt;&lt;== the only effective change\n    }\n    \n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \n        return future.get();\n    }\n    \n    public static ExecutorService GetThreadPool() { \n        if (!this.threadPool)\n            this.threadPool = Executors.newCachedThreadPool();\n        \n        return this.threadPool;\n    }\n}\n\ndef future = AsyncUtils.StartAsyncTask{\n     Thread.sleep(1000)\n     return &quot;world&quot;\n}\n\nassert AsyncUtils.AwaitResult(future)=='world'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677246664,"creation_date":1677246512,"answer_id":75557338,"question_id":75553240,"body_markdown":"Turns out that I didn&#39;t need to create new thread pool or the equivalent of JS&#39;s `async`/`await` keywords. Just treat these `Future`s as the thennables...\r\n\r\n\r\n - I don&#39;t need thread pool explicitly\r\n - I don&#39;t need the `async`/`await` equivalent. It wouldn&#39;t work efficiently anyways. We want the first thennable that resolves, not to resolve them all in the order they&#39;re supplied.\r\n\r\nI just change my util class to :\r\n\r\n```\r\npublic final class AsyncUtils {\r\n\t\r\n\tpublic static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n\t\treturn CompletableFuture.supplyAsync(onTask)\r\n\t}\r\n}\r\n```\r\n\r\nand then my test case, understanding (and simulating) the problem a bit more, to: \r\n\r\n```\r\n@Test\r\n\tvoid testStartAsyncTask() { \r\n\t\tfinal List&lt;CompletableFuture&gt; promises = [\r\n           {\r\n        \t   Thread.sleep(100);\r\n        \t   return &quot;hello&quot;;\r\n           },\r\n           {\r\n        \t   Thread.sleep(50);\r\n        \t   return &quot;world&quot;;\r\n           },\r\n       ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\r\n\r\n\t   promises.eachWithIndex { promise, int idx -&gt; \r\n\t\t   promise.thenApplyAsync { String str -&gt;\r\n\t\t\t   if (idx == 0) { \r\n\t\t\t\t   assert str.equals(&#39;world&#39;)\r\n\t\t\t\t   return\r\n\t\t\t   }\r\n\t\t\t   assert str.equals(&#39;hello&#39;)\r\n\t\t   }\r\n\t   }\r\n\t}\r\n```\r\n\r\nand all is well!","title":"Groovy future.get() returns null","body":"<p>Turns out that I didn't need to create new thread pool or the equivalent of JS's <code>async</code>/<code>await</code> keywords. Just treat these <code>Future</code>s as the thennables...</p>\n<ul>\n<li>I don't need thread pool explicitly</li>\n<li>I don't need the <code>async</code>/<code>await</code> equivalent. It wouldn't work efficiently anyways. We want the first thennable that resolves, not to resolve them all in the order they're supplied.</li>\n</ul>\n<p>I just change my util class to :</p>\n<pre><code>public final class AsyncUtils {\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return CompletableFuture.supplyAsync(onTask)\n    }\n}\n</code></pre>\n<p>and then my test case, understanding (and simulating) the problem a bit more, to:</p>\n<pre><code>@Test\n    void testStartAsyncTask() { \n        final List&lt;CompletableFuture&gt; promises = [\n           {\n               Thread.sleep(100);\n               return &quot;hello&quot;;\n           },\n           {\n               Thread.sleep(50);\n               return &quot;world&quot;;\n           },\n       ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\n\n       promises.eachWithIndex { promise, int idx -&gt; \n           promise.thenApplyAsync { String str -&gt;\n               if (idx == 0) { \n                   assert str.equals('world')\n                   return\n               }\n               assert str.equals('hello')\n           }\n       }\n    }\n</code></pre>\n<p>and all is well!</p>\n"}],"owner":{"account_id":2309337,"reputation":3776,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677317876,"creation_date":1677220086,"question_id":75553240,"body_markdown":"I am working on a Groovy project to merge Sheets, but faced an issue over my async utils. I narrowed it down to that. \r\n\r\nHere is the `AsyncUtils`: \r\n\r\n```\r\npackage com.signaturemd.sposZohoMergeScript.utils\r\n\r\nimport java.util.concurrent.ExecutorService\r\nimport java.util.concurrent.Executors\r\nimport java.util.concurrent.Future\r\n\r\npublic final class AsyncUtils {\r\n\tprivate static ExecutorService threadPool;\r\n\t\r\n\tpublic static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \r\n\t\treturn this.GetThreadPool()\r\n\t\t\t.submit(onTask);\r\n\t}\r\n\t\r\n\tpublic static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \r\n\t\treturn future.get();\r\n\t}\r\n\t\r\n\tpublic static ExecutorService GetThreadPool() { \r\n\t\tif (!this.threadPool)\r\n\t\t\tthis.threadPool = Executors.newCachedThreadPool();\r\n\t\t\r\n\t\treturn this.threadPool;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTo try to resolve it, I write JUnit test case simulating my use case in the real project codebase: \r\n\r\n```\r\npackage com.signaturemd.sposZohoMergeScript.utils;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass AsyncUtilsTest {\r\n\r\n\t@Test\r\n\tvoid testAwaitResult() {\r\n\t\tfinal List promises = [\r\n\t\t\t{\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t\treturn &quot;hello&quot;;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tThread.sleep(50);\r\n\t\t\t\treturn &quot;world&quot;;\r\n\t\t\t},\r\n\t\t].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\r\n\t\t\r\n\t\tpromises.each { promise -&gt; \r\n\t\t\tfinal String result = AsyncUtils.AwaitResult(promise);\r\n\t\t\t\r\n\t\t\tassert result != null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe assertion is failing, as `result` is somehow `null` after awaiting the result... \r\n\r\nWhat is causing this to happen, and does this mean I should wait on all promises (Futures) to resolve before starting unit of work (in my case merging)?\r\n\r\nDISCLAIMER: I&#39;m on Java 17","title":"Groovy future.get() returns null","body":"<p>I am working on a Groovy project to merge Sheets, but faced an issue over my async utils. I narrowed it down to that.</p>\n<p>Here is the <code>AsyncUtils</code>:</p>\n<pre><code>package com.signaturemd.sposZohoMergeScript.utils\n\nimport java.util.concurrent.ExecutorService\nimport java.util.concurrent.Executors\nimport java.util.concurrent.Future\n\npublic final class AsyncUtils {\n    private static ExecutorService threadPool;\n    \n    public static &lt;T&gt; Future&lt;T&gt; StartAsyncTask(Closure&lt;T&gt; onTask) { \n        return this.GetThreadPool()\n            .submit(onTask);\n    }\n    \n    public static &lt;T&gt; T AwaitResult(Future&lt;T&gt; future) {  \n        return future.get();\n    }\n    \n    public static ExecutorService GetThreadPool() { \n        if (!this.threadPool)\n            this.threadPool = Executors.newCachedThreadPool();\n        \n        return this.threadPool;\n    }\n}\n\n</code></pre>\n<p>To try to resolve it, I write JUnit test case simulating my use case in the real project codebase:</p>\n<pre><code>package com.signaturemd.sposZohoMergeScript.utils;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass AsyncUtilsTest {\n\n    @Test\n    void testAwaitResult() {\n        final List promises = [\n            {\n                Thread.sleep(100);\n                return &quot;hello&quot;;\n            },\n            {\n                Thread.sleep(50);\n                return &quot;world&quot;;\n            },\n        ].collect { Closure onTask -&gt; return AsyncUtils.StartAsyncTask(onTask) }\n        \n        promises.each { promise -&gt; \n            final String result = AsyncUtils.AwaitResult(promise);\n            \n            assert result != null;\n        }\n    }\n\n}\n\n</code></pre>\n<p>The assertion is failing, as <code>result</code> is somehow <code>null</code> after awaiting the result...</p>\n<p>What is causing this to happen, and does this mean I should wait on all promises (Futures) to resolve before starting unit of work (in my case merging)?</p>\n<p>DISCLAIMER: I'm on Java 17</p>\n"},{"tags":["java","intellij-idea","flutter"],"answers":[{"tags":[],"owner":{"account_id":488094,"reputation":111918,"user_id":1463116,"accept_rate":40,"display_name":"Collin Jackson"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1496154703,"creation_date":1496154703,"answer_id":44265120,"question_id":44256784,"body_markdown":"It sounds like IntelliJ is configured to run as a Dart command line app instead of a Flutter app. Edit configurations and remove any configurations that look like &quot;Dart Command Line App&quot;. Then create a new one for a Flutter app.","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>It sounds like IntelliJ is configured to run as a Dart command line app instead of a Flutter app. Edit configurations and remove any configurations that look like \"Dart Command Line App\". Then create a new one for a Flutter app.</p>\n"},{"comments":[{"owner":{"account_id":7525035,"reputation":2156,"user_id":5715546,"accept_rate":75,"display_name":"eyoeldefare"},"score":0,"creation_date":1532100185,"post_id":45131992,"comment_id":89861752,"body_markdown":"So you create a new project every time?","body":"So you create a new project every time?"},{"owner":{"account_id":2983258,"reputation":2564,"user_id":2532763,"accept_rate":60,"display_name":"lordvcs"},"score":0,"creation_date":1532192307,"post_id":45131992,"comment_id":89885918,"body_markdown":"@EyoelD This may not be the best option, but it worked for me, and this was when flutter was still in beta.","body":"@EyoelD This may not be the best option, but it worked for me, and this was when flutter was still in beta."}],"tags":[],"owner":{"account_id":2983258,"reputation":2564,"user_id":2532763,"accept_rate":60,"display_name":"lordvcs"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500229443,"creation_date":1500229443,"answer_id":45131992,"question_id":44256784,"body_markdown":"When i encountered this issue, I fixed the error by simply by closing the current project and creating a new project. Now when i tried to run the app from the new project, it worked!. Hope it helps someone.","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>When i encountered this issue, I fixed the error by simply by closing the current project and creating a new project. Now when i tried to run the app from the new project, it worked!. Hope it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":390261,"reputation":2375,"user_id":750208,"accept_rate":91,"display_name":"Tony"},"score":0,"creation_date":1546764971,"post_id":49538511,"comment_id":94953499,"body_markdown":"Searching for ages, and this was the answer... thanks!","body":"Searching for ages, and this was the answer... thanks!"}],"tags":[],"owner":{"account_id":13182776,"reputation":63,"user_id":9521684,"display_name":"Kathryn Newbould"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522250923,"creation_date":1522250923,"answer_id":49538511,"question_id":44256784,"body_markdown":"Click the name of the test, and choose &quot;Edit configurations&quot;\r\nYou&#39;ll (probably) notice that the run config is under &#39;dart&#39; rather than &#39;flutter test&#39;\r\n\r\nDelete this one, create a new one (using the plus button) under &#39;Flutter Test&#39; and choose / run this manually.\r\n\r\n(Also, you need to have the tests in a folder called &#39;test&#39; at the same level (e.g. as a sister to) the lib folder, and follow the naming convention &#39;*_test.dart&#39; for all tests.)\r\n\r\nHappy coding!","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>Click the name of the test, and choose \"Edit configurations\"\nYou'll (probably) notice that the run config is under 'dart' rather than 'flutter test'</p>\n\n<p>Delete this one, create a new one (using the plus button) under 'Flutter Test' and choose / run this manually.</p>\n\n<p>(Also, you need to have the tests in a folder called 'test' at the same level (e.g. as a sister to) the lib folder, and follow the naming convention '*_test.dart' for all tests.)</p>\n\n<p>Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":1327328,"reputation":3529,"user_id":1271891,"accept_rate":0,"display_name":"Raj008"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530518311,"creation_date":1530518311,"answer_id":51131469,"question_id":44256784,"body_markdown":"Your setup looks good! I think IntelliJ is trying to run your app as if it was a command-line dart app, not a Flutter one. There are some settings in IntelliJ to allow you to manage your launch configs. I would:\r\ndelete the dart command-line one\r\ncreate a flutter one for your app (or confirm that one exists)\r\nThen, from the launch config drop-down, select the flutter launch config for your app and hit run.\r\n\r\nThere are some docs here: https://flutter.io/intellij-ide/#running-and-debugging, though they don&#39;t cover creating a launch config.\r\n\r\nRefer[enter link description here][1]\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/flutter-dev/_LYG0GBFFsE","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>Your setup looks good! I think IntelliJ is trying to run your app as if it was a command-line dart app, not a Flutter one. There are some settings in IntelliJ to allow you to manage your launch configs. I would:\ndelete the dart command-line one\ncreate a flutter one for your app (or confirm that one exists)\nThen, from the launch config drop-down, select the flutter launch config for your app and hit run.</p>\n\n<p>There are some docs here: <a href=\"https://flutter.io/intellij-ide/#running-and-debugging\" rel=\"nofollow noreferrer\">https://flutter.io/intellij-ide/#running-and-debugging</a>, though they don't cover creating a launch config.</p>\n\n<p>Refer<a href=\"https://groups.google.com/forum/#!topic/flutter-dev/_LYG0GBFFsE\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":924714,"reputation":1687,"user_id":955719,"accept_rate":39,"display_name":"Mahmoud_Mehri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641133595,"creation_date":1641133595,"answer_id":70556783,"question_id":44256784,"body_markdown":"I had same issue on Android Studio and I find out that its related to the file (configuration) selected here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first one is Dart Command Line App and the second one is Flutter App which should be selected\r\n\r\n  [1]: https://i.stack.imgur.com/Gtvbp.png","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I had same issue on Android Studio and I find out that its related to the file (configuration) selected here:</p>\n<p><a href=\"https://i.stack.imgur.com/Gtvbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gtvbp.png\" alt=\"enter image description here\" /></a></p>\n<p>The first one is Dart Command Line App and the second one is Flutter App which should be selected</p>\n"},{"tags":[],"owner":{"account_id":18886482,"reputation":1,"user_id":13777794,"display_name":"collins omwoyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677317867,"creation_date":1677317867,"answer_id":75564490,"question_id":44256784,"body_markdown":"I ran into this issue on VS Code and the solution is: If you are using VS Code then instead of hitting Run (Ctrl+Alt+N) go to Debug -&gt; Start Debugging option or simply press F5 and errors will be gone","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I ran into this issue on VS Code and the solution is: If you are using VS Code then instead of hitting Run (Ctrl+Alt+N) go to Debug -&gt; Start Debugging option or simply press F5 and errors will be gone</p>\n"}],"owner":{"account_id":2694740,"reputation":49,"user_id":3501815,"accept_rate":100,"display_name":"Naveen Cherian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3028,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44265120,"answer_count":6,"score":2,"last_activity_date":1677317867,"creation_date":1496131530,"question_id":44256784,"body_markdown":"I installed IntelliJ IDEA, downloaded both the flutter and dart plugins, Installed android studio and jdk . \r\nI opened configured IntelliJ IDEA to point at the android sdk and jdk.   \r\nI opened up IntelliJ IDEA and created new project-&gt;flutter. I clicked on build and got an error message. \r\n\r\nI am using Ubuntu 16.04 64 bit system\r\n\r\nI ran Flutter Doctor and confirmed that i got nothing new or missing installation. The message at debugger is as shown\r\n\r\n    The built-in library &#39;dart:ui&#39; is not available on the stand-alone VM. \r\n    library handler failed export &#39;dart:ui&#39; show Locale\r\n    Process finished with exit code 254 Failed to connect to the VM observatory service: java.io.IOException: Failed to connect: ws://127.0.0.1:46579/ws Caused by: de.roderick.weberknecht.WebSocketException: error while creating socket to ws://127.0.0.1:46579/ws Caused by: java.net.ConnectException: Connection refused\r\n\r\n[Standard new flutter project code with output][1]\r\n\r\n[Debugger output which i copy pasted][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JwxH7.png\r\n  [2]: https://i.stack.imgur.com/mzY4X.png\r\n","title":"Unable to run new flutter sample code in IntelliJ IDEA","body":"<p>I installed IntelliJ IDEA, downloaded both the flutter and dart plugins, Installed android studio and jdk . \nI opened configured IntelliJ IDEA to point at the android sdk and jdk.<br>\nI opened up IntelliJ IDEA and created new project->flutter. I clicked on build and got an error message. </p>\n\n<p>I am using Ubuntu 16.04 64 bit system</p>\n\n<p>I ran Flutter Doctor and confirmed that i got nothing new or missing installation. The message at debugger is as shown</p>\n\n<pre><code>The built-in library 'dart:ui' is not available on the stand-alone VM. \nlibrary handler failed export 'dart:ui' show Locale\nProcess finished with exit code 254 Failed to connect to the VM observatory service: java.io.IOException: Failed to connect: ws://127.0.0.1:46579/ws Caused by: de.roderick.weberknecht.WebSocketException: error while creating socket to ws://127.0.0.1:46579/ws Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JwxH7.png\" rel=\"nofollow noreferrer\">Standard new flutter project code with output</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mzY4X.png\" rel=\"nofollow noreferrer\">Debugger output which i copy pasted</a></p>\n"},{"tags":["java","json","pact","pact-jvm"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607141696,"creation_date":1607141696,"answer_id":65153720,"question_id":65136335,"body_markdown":"Have you tried just passing it an empty object? Pact is generally accepting of objects having keys that weren&#39;t in the expected response, it only fails if keys that were expected are not present in the actual API.\r\n\r\nSo passing an empty object is essentially saying what you want. ","title":"generating pact contract: how to create PactDslJsonBody that matches anything","body":"<p>Have you tried just passing it an empty object? Pact is generally accepting of objects having keys that weren't in the expected response, it only fails if keys that were expected are not present in the actual API.</p>\n<p>So passing an empty object is essentially saying what you want.</p>\n"}],"owner":{"account_id":11077445,"reputation":503,"user_id":8133719,"accept_rate":50,"display_name":"zero_yu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65153720,"answer_count":1,"score":0,"last_activity_date":1677316747,"creation_date":1607042524,"question_id":65136335,"body_markdown":"I am using Java to generate the Pact contract as a consumer. Here is an example of the response body that I would like the provider to verify\r\n\r\n    {\r\n      &quot;metadata&quot;: {\r\n        &quot;href&quot;: &quot;${host}&quot;,\r\n        &quot;id&quot;: 40964176,\r\n        &quot;updated_at&quot;: {}\r\n      },\r\n      &quot;record&quot;: {\r\n         //Anything...\r\n      },\r\n      &quot;id&quot;: &quot;40964176&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;record_number&quot;: 40964176\r\n    }\r\n\r\nThe value of `record` can be anything. I want the verification to pass as long as the value of `record` is an object. How should I do that? ","title":"generating pact contract: how to create PactDslJsonBody that matches anything","body":"<p>I am using Java to generate the Pact contract as a consumer. Here is an example of the response body that I would like the provider to verify</p>\n<pre><code>{\n  &quot;metadata&quot;: {\n    &quot;href&quot;: &quot;${host}&quot;,\n    &quot;id&quot;: 40964176,\n    &quot;updated_at&quot;: {}\n  },\n  &quot;record&quot;: {\n     //Anything...\n  },\n  &quot;id&quot;: &quot;40964176&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;record_number&quot;: 40964176\n}\n</code></pre>\n<p>The value of <code>record</code> can be anything. I want the verification to pass as long as the value of <code>record</code> is an object. How should I do that?</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1532776220,"post_id":51570749,"comment_id":90107581,"body_markdown":"You can convert it to bitmap before uploading to firebase","body":"You can convert it to bitmap before uploading to firebase"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776269,"post_id":51570749,"comment_id":90107597,"body_markdown":"can you tell me how ??","body":"can you tell me how ??"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776284,"post_id":51570749,"comment_id":90107601,"body_markdown":"i am totally new to this","body":"i am totally new to this"},{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1532776564,"post_id":51570749,"comment_id":90107682,"body_markdown":"Sure. Wait for my answer","body":"Sure. Wait for my answer"},{"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"score":0,"creation_date":1532776595,"post_id":51570749,"comment_id":90107686,"body_markdown":"okay .. thanks in advance","body":"okay .. thanks in advance"},{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1540631892,"post_id":51570749,"comment_id":92943166,"body_markdown":"If the answer I provided helped to solve the problem,  kindly mark it as answer To Help the community and people looking for similar solution. Thanks.","body":"If the answer I provided helped to solve the problem,  kindly mark it as answer To Help the community and people looking for similar solution. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1532777439,"post_id":51570881,"comment_id":90107907,"body_markdown":"`thumb_download_url ` get the returned url of the image from firebase.","body":"<code>thumb_download_url </code> get the returned url of the image from firebase."},{"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"score":0,"creation_date":1536331275,"post_id":51570881,"comment_id":91398760,"body_markdown":"If provided answer solved your problem, you can simply mark as answer to help others looking for similar solution","body":"If provided answer solved your problem, you can simply mark as answer to help others looking for similar solution"},{"owner":{"account_id":12599480,"reputation":111,"user_id":9162733,"display_name":"Priyavrat Talyan"},"score":0,"creation_date":1677219874,"post_id":51570881,"comment_id":133298377,"body_markdown":"Library for new Compressor(this)..??","body":"Library for new Compressor(this)..??"}],"tags":[],"owner":{"account_id":5784521,"reputation":971,"user_id":4564200,"accept_rate":100,"display_name":"olajide"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532777781,"creation_date":1532776800,"answer_id":51570881,"question_id":51570749,"body_markdown":"        byte[] thumb_byte_data;\r\n        Uri resultUri = ImageUri;\r\n\r\n        //getting imageUri and store in file. and compress to bitmap\r\n        File file_path = new File(resultUri.getPath());\r\n        try {\r\n            Bitmap thumb_bitmap = new Compressor(this)\r\n                    .setMaxHeight(200)\r\n                    .setMaxWidth(200)\r\n                    .setQuality(75)\r\n                    .compressToBitmap(file_path);\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            thumb_bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\r\n            thumb_byte_data = baos.toByteArray();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nYou can then upload to firebase with the this code:\r\n\r\n  \r\n\r\n     final UploadTask uploadTask = bytepath.putBytes(thumb_byte_data);\r\n\r\n                            uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                                    uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                                        @Override\r\n                                        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                                            if (!task.isSuccessful()) {\r\n                                                throw task.getException();\r\n                                            }\r\n                                            // Continue with the task to get the download URL\r\n                                            return filepath.getDownloadUrl();\r\n\r\n                                        }\r\n                                    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                thumb_download_url = task.getResult().toString();\r\n\r\n                                            }\r\n                                        }\r\n                                    });\r\n\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                }\r\n                            });","title":"How to compress image while uploading to the firebase?","body":"<pre><code>    byte[] thumb_byte_data;\n    Uri resultUri = ImageUri;\n\n    //getting imageUri and store in file. and compress to bitmap\n    File file_path = new File(resultUri.getPath());\n    try {\n        Bitmap thumb_bitmap = new Compressor(this)\n                .setMaxHeight(200)\n                .setMaxWidth(200)\n                .setQuality(75)\n                .compressToBitmap(file_path);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        thumb_bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);\n        thumb_byte_data = baos.toByteArray();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>You can then upload to firebase with the this code:</p>\n\n<pre><code> final UploadTask uploadTask = bytepath.putBytes(thumb_byte_data);\n\n                        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                                uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                                    @Override\n                                    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                                        if (!task.isSuccessful()) {\n                                            throw task.getException();\n                                        }\n                                        // Continue with the task to get the download URL\n                                        return filepath.getDownloadUrl();\n\n                                    }\n                                }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            thumb_download_url = task.getResult().toString();\n\n                                        }\n                                    }\n                                });\n\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                            }\n                        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12980152,"reputation":1561,"user_id":9382870,"display_name":"Gourango Sutradhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532777583,"creation_date":1532776834,"answer_id":51570888,"question_id":51570749,"body_markdown":"You can create bitmap with captured image as below:\r\n\r\n    Bitmap bitmap = Bitmap.createScaledBitmap(yourimageuri, width, height, true);// the uri you got from onactivityresults\r\n\r\nYou can also view this thirdparty lib to compress your image [Click Here][1]\r\n\r\n\r\n  [1]: https://github.com/zetbaitsu/Compressor","title":"How to compress image while uploading to the firebase?","body":"<p>You can create bitmap with captured image as below:</p>\n\n<pre><code>Bitmap bitmap = Bitmap.createScaledBitmap(yourimageuri, width, height, true);// the uri you got from onactivityresults\n</code></pre>\n\n<p>You can also view this thirdparty lib to compress your image <a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">Click Here</a></p>\n"},{"tags":[],"owner":{"account_id":18274892,"reputation":717,"user_id":13304913,"display_name":"Emon Hossain Munna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601632508,"creation_date":1601632508,"answer_id":64169608,"question_id":51570749,"body_markdown":"\r\n\r\n&gt; //declear local variable first\r\n\r\nBitmap bitmap;\r\nUri imageUri;\r\n\r\n\r\n&gt; //button action to call Image picker method\r\n\r\n    companyImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;Pick Comapany Image&quot;),GALLERY_REQ_CODE);\r\n            }\r\n        });\r\n\r\n&gt; //get bitmap from onActivityResult\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == GALLERY_REQ_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            imageUri = data.getData();\r\n            try {\r\n                bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            imageView.setImageURI(imageUri);\r\n        }\r\n    }\r\n\r\n&gt; //compress image first then upload to firebase\r\n\r\n        public void postImage() {\r\n        StorageReference storageReference = mStorageRef.child(&quot;Images/&quot; + //imageName);\r\n        databaseReference = \r\n        FirebaseDatabase.getInstance().getReference().child(&quot;Jobs&quot;).child(//imageName);\r\n\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 20, bytes);\r\n        String path = MediaStore.Images.Media.insertImage(SaveJobActivity.this.getContentResolver(),bitmap,//imageName,null);\r\n\r\n        Uri uri = Uri.parse(path);\r\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                taskSnapshot.getStorage().getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                        final String downloadUrl = task.getResult().toString();\r\n\r\n                        if (task.isSuccessful()){\r\n                            Map&lt;String, Object&gt; update_hashMap = new HashMap&lt;&gt;();\r\n\r\n\t            //assign download url in hashmap to upadate database reference\r\n\r\n                            update_hashMap.put(&quot;Image&quot;,downloadUrl);\r\n\r\n\t            //update database children here\r\n\r\n                            databaseReference.updateChildren(update_hashMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()){\r\n                                        //do what you want\r\n                                    }else {\r\n                                        //show exception\r\n                                    }\r\n                                }\r\n                            });\r\n                        }else{\r\n                            //show exception\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }","title":"How to compress image while uploading to the firebase?","body":"<blockquote>\n<p>//declear local variable first</p>\n</blockquote>\n<p>Bitmap bitmap;\nUri imageUri;</p>\n<blockquote>\n<p>//button action to call Image picker method</p>\n</blockquote>\n<pre><code>companyImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent,&quot;Pick Comapany Image&quot;),GALLERY_REQ_CODE);\n        }\n    });\n</code></pre>\n<blockquote>\n<p>//get bitmap from onActivityResult</p>\n</blockquote>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == GALLERY_REQ_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n        imageUri = data.getData();\n        try {\n            bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        imageView.setImageURI(imageUri);\n    }\n}\n</code></pre>\n<blockquote>\n<p>//compress image first then upload to firebase</p>\n</blockquote>\n<pre><code>    public void postImage() {\n    StorageReference storageReference = mStorageRef.child(&quot;Images/&quot; + //imageName);\n    databaseReference = \n    FirebaseDatabase.getInstance().getReference().child(&quot;Jobs&quot;).child(//imageName);\n\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 20, bytes);\n    String path = MediaStore.Images.Media.insertImage(SaveJobActivity.this.getContentResolver(),bitmap,//imageName,null);\n\n    Uri uri = Uri.parse(path);\n    storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n            taskSnapshot.getStorage().getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    final String downloadUrl = task.getResult().toString();\n\n                    if (task.isSuccessful()){\n                        Map&lt;String, Object&gt; update_hashMap = new HashMap&lt;&gt;();\n\n            //assign download url in hashmap to upadate database reference\n\n                        update_hashMap.put(&quot;Image&quot;,downloadUrl);\n\n            //update database children here\n\n                        databaseReference.updateChildren(update_hashMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                if (task.isSuccessful()){\n                                    //do what you want\n                                }else {\n                                    //show exception\n                                }\n                            }\n                        });\n                    }else{\n                        //show exception\n                    }\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12599480,"reputation":111,"user_id":9162733,"display_name":"Priyavrat Talyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677316390,"creation_date":1677316390,"answer_id":75564382,"question_id":51570749,"body_markdown":"After days of hard work and debugging. I have found a working solution.\r\n\r\n    private void decodeFile(Uri filePath) {\r\n\r\n        // Use bitmap factory to load bitmap from path\r\n        Bitmap bmp =null;\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        \r\n        baos = new ByteArrayOutputStream();\r\n\r\n        bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\r\n        byte[] fileInBytes = baos.toByteArray();*/\r\n\r\n        try {\r\n            ParcelFileDescriptor parcelFileDescriptor =\r\n                    getContentResolver().openFileDescriptor(filePath, &quot;r&quot;);\r\n            FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\r\n            bmp = BitmapFactory.decodeFileDescriptor(fileDescriptor);\r\n\r\n            parcelFileDescriptor.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        baos = new ByteArrayOutputStream();\r\n        bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\r\n        byte[] fileInBytes = baos.toByteArray();\r\n\t\t\r\n\t\t// For uploading to firebase storage\r\n\t\tUploadTask uploadTask = reference.putBytes(fileInBytes);\r\n\r\n    }","title":"How to compress image while uploading to the firebase?","body":"<p>After days of hard work and debugging. I have found a working solution.</p>\n<pre><code>private void decodeFile(Uri filePath) {\n\n    // Use bitmap factory to load bitmap from path\n    Bitmap bmp =null;\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    \n    baos = new ByteArrayOutputStream();\n\n    bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\n    byte[] fileInBytes = baos.toByteArray();*/\n\n    try {\n        ParcelFileDescriptor parcelFileDescriptor =\n                getContentResolver().openFileDescriptor(filePath, &quot;r&quot;);\n        FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\n        bmp = BitmapFactory.decodeFileDescriptor(fileDescriptor);\n\n        parcelFileDescriptor.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    baos = new ByteArrayOutputStream();\n    bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos);\n    byte[] fileInBytes = baos.toByteArray();\n    \n    // For uploading to firebase storage\n    UploadTask uploadTask = reference.putBytes(fileInBytes);\n\n}\n</code></pre>\n"}],"owner":{"account_id":12785441,"reputation":87,"user_id":9251863,"display_name":"mezohn adhikari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4866,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1677316390,"creation_date":1532775884,"question_id":51570749,"body_markdown":"i am working on the a social app where the user can upload their image on their feeds but when the user is picking up the image ,the image less than 2 mb are getting picked up and are successfully uploaded to the firebase but when the user uploads the image more than 2mb the app crashes. what can be done to compress the image  ..\r\n\r\n**postactivity.java**\r\n\r\n     private Toolbar mToolbar;\r\n        private ImageButton SelectPostImage;\r\n        private Button UpdatePostButton;\r\n        private ProgressDialog loadingBar;\r\n        private EditText PostDescription;\r\n        private static  final  int Gallery_pick = 1;\r\n        private Uri ImageUri;\r\n        private  String Description;\r\n        private StorageReference PostsImagesReference;\r\n        private DatabaseReference usersRef, PostsRef;\r\n        private  FirebaseAuth mAuth;\r\n        private  String saveCurrentDate, saveCurrentTime,current_user_id, postRandomName, downloadUrl;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_post);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            current_user_id = mAuth.getCurrentUser().getUid();\r\n            PostsImagesReference = FirebaseStorage.getInstance().getReference();\r\n                usersRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n                PostsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Posts&quot;);\r\n            SelectPostImage = (ImageButton)findViewById(R.id.select_post_image);\r\n            UpdatePostButton = (Button) findViewById(R.id.update_post_button);\r\n            PostDescription = (EditText)findViewById(R.id.post_description);\r\n            loadingBar = new ProgressDialog(this);\r\n    \r\n    \r\n            mToolbar = (Toolbar) findViewById(R.id.update_post_page_toolbar);\r\n            setSupportActionBar(mToolbar);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n            getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n            getSupportActionBar().setTitle(&quot;Update Post&quot;);\r\n            \r\n            SelectPostImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    OpenGallery();\r\n                }\r\n            });\r\n            \r\n            UpdatePostButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ValidatePostInfo();\r\n                    \r\n                }\r\n            });\r\n            \r\n    \r\n        }\r\n    \r\n        private void ValidatePostInfo() {\r\n             Description = PostDescription.getText().toString();\r\n            if (ImageUri == null){\r\n                Toast.makeText(this, &quot;Please select the image&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n            if (TextUtils.isEmpty(Description)){\r\n                Toast.makeText(this,&quot;Please write something here&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n            }else {\r\n    \r\n                loadingBar.setTitle(&quot; Add New Post&quot;);\r\n                loadingBar.setMessage(&quot;Please wait, while we updating your new post&quot;);\r\n                loadingBar.show();\r\n                loadingBar.setCanceledOnTouchOutside(true);\r\n                StoringImageToFirebaseStorage();\r\n                \r\n            }\r\n        }\r\n    \r\n        private void StoringImageToFirebaseStorage() {\r\n            Calendar calForDate = Calendar.getInstance();\r\n            SimpleDateFormat currentDate = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\r\n    saveCurrentDate = currentDate.format(calForDate.getTime());\r\n            Calendar calFordTime = Calendar.getInstance();\r\n            SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH: mm&quot;);\r\n            saveCurrentTime = currentTime.format(calForDate.getTime());\r\n         postRandomName = saveCurrentDate + saveCurrentTime;\r\n    \r\n            StorageReference filePath = PostsImagesReference.child(&quot;Post Images&quot;).child(ImageUri.getLastPathSegment() + postRandomName + &quot;.jpg&quot;);\r\n                filePath.putFile(ImageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            downloadUrl = task.getResult().getDownloadUrl().toString();\r\n                            Toast.makeText(PostActivity.this,&quot;Image is sucessfully uploaded to storage&quot;,Toast.LENGTH_LONG).show();\r\n                            SavingPostInformationToDatabase();\r\n                            \r\n                        }else{\r\n                            String message = task.getException().getMessage();\r\n                            Toast.makeText(PostActivity.this,&quot;Error Occured:&quot; + message,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    \r\n        }\r\n    \r\n        private void SavingPostInformationToDatabase() {\r\n            usersRef.child(current_user_id).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()){\r\n                        String userfullname = dataSnapshot.child(&quot;fullname&quot;).getValue().toString();\r\n                        String userProfileImage  = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n                        HashMap postsMap = new HashMap();\r\n                        postsMap.put(&quot;uid&quot;,current_user_id);\r\n                        postsMap.put(&quot;date&quot;,saveCurrentDate);\r\n    \r\n                        postsMap.put(&quot;time&quot;,saveCurrentTime);\r\n    \r\n                        postsMap.put(&quot;description&quot;,Description);\r\n    \r\n                        postsMap.put(&quot;postimage&quot;,downloadUrl);\r\n                        postsMap.put(&quot;profileimage&quot;,userProfileImage);\r\n                        postsMap.put(&quot;fullname&quot;,userfullname);\r\n                        PostsRef.child(current_user_id + postRandomName).updateChildren(postsMap)\r\n                                .addOnCompleteListener(new OnCompleteListener() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task task) {\r\n                                        if (task.isSuccessful()){\r\n                                            SendUserToMainActivity();\r\n                                            Toast.makeText(PostActivity.this,&quot;Your New Post is Updated Sucessfully&quot;,Toast.LENGTH_SHORT).show();\r\n                                            loadingBar.dismiss();\r\n                                        }else{\r\n                                            Toast.makeText(PostActivity.this,&quot;Error Occured while updating your post .please try again &quot;,Toast.LENGTH_LONG).show();\r\n                                        loadingBar.dismiss();\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n    \r\n    \r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void OpenGallery() {\r\n    \r\n            Intent galleryIntent = new Intent();\r\n            galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\r\n            galleryIntent.setType(&quot;image/*&quot;);\r\n            startActivityForResult(galleryIntent, Gallery_pick);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == Gallery_pick &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\r\n           ImageUri = data.getData();\r\n           SelectPostImage.setImageURI(ImageUri);\r\n        }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n            if (id == android.R.id.home){\r\n                SendUserToMainActivity();\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        private void SendUserToMainActivity() {\r\n            Intent mainintent  =  new Intent(PostActivity.this,MainActivity.class);\r\n            startActivity(mainintent);\r\n        }\r\n    }\r\n\r\n","title":"How to compress image while uploading to the firebase?","body":"<p>i am working on the a social app where the user can upload their image on their feeds but when the user is picking up the image ,the image less than 2 mb are getting picked up and are successfully uploaded to the firebase but when the user uploads the image more than 2mb the app crashes. what can be done to compress the image  ..</p>\n\n<p><strong>postactivity.java</strong></p>\n\n<pre><code> private Toolbar mToolbar;\n    private ImageButton SelectPostImage;\n    private Button UpdatePostButton;\n    private ProgressDialog loadingBar;\n    private EditText PostDescription;\n    private static  final  int Gallery_pick = 1;\n    private Uri ImageUri;\n    private  String Description;\n    private StorageReference PostsImagesReference;\n    private DatabaseReference usersRef, PostsRef;\n    private  FirebaseAuth mAuth;\n    private  String saveCurrentDate, saveCurrentTime,current_user_id, postRandomName, downloadUrl;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_post);\n        mAuth = FirebaseAuth.getInstance();\n        current_user_id = mAuth.getCurrentUser().getUid();\n        PostsImagesReference = FirebaseStorage.getInstance().getReference();\n            usersRef = FirebaseDatabase.getInstance().getReference().child(\"Users\");\n            PostsRef = FirebaseDatabase.getInstance().getReference().child(\"Posts\");\n        SelectPostImage = (ImageButton)findViewById(R.id.select_post_image);\n        UpdatePostButton = (Button) findViewById(R.id.update_post_button);\n        PostDescription = (EditText)findViewById(R.id.post_description);\n        loadingBar = new ProgressDialog(this);\n\n\n        mToolbar = (Toolbar) findViewById(R.id.update_post_page_toolbar);\n        setSupportActionBar(mToolbar);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        getSupportActionBar().setTitle(\"Update Post\");\n\n        SelectPostImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                OpenGallery();\n            }\n        });\n\n        UpdatePostButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ValidatePostInfo();\n\n            }\n        });\n\n\n    }\n\n    private void ValidatePostInfo() {\n         Description = PostDescription.getText().toString();\n        if (ImageUri == null){\n            Toast.makeText(this, \"Please select the image\", Toast.LENGTH_SHORT).show();\n\n        }\n        if (TextUtils.isEmpty(Description)){\n            Toast.makeText(this,\"Please write something here\",Toast.LENGTH_SHORT).show();\n\n        }else {\n\n            loadingBar.setTitle(\" Add New Post\");\n            loadingBar.setMessage(\"Please wait, while we updating your new post\");\n            loadingBar.show();\n            loadingBar.setCanceledOnTouchOutside(true);\n            StoringImageToFirebaseStorage();\n\n        }\n    }\n\n    private void StoringImageToFirebaseStorage() {\n        Calendar calForDate = Calendar.getInstance();\n        SimpleDateFormat currentDate = new SimpleDateFormat(\"dd-MMMM-yyyy\");\nsaveCurrentDate = currentDate.format(calForDate.getTime());\n        Calendar calFordTime = Calendar.getInstance();\n        SimpleDateFormat currentTime = new SimpleDateFormat(\"HH: mm\");\n        saveCurrentTime = currentTime.format(calForDate.getTime());\n     postRandomName = saveCurrentDate + saveCurrentTime;\n\n        StorageReference filePath = PostsImagesReference.child(\"Post Images\").child(ImageUri.getLastPathSegment() + postRandomName + \".jpg\");\n            filePath.putFile(ImageUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                    if (task.isSuccessful()){\n                        downloadUrl = task.getResult().getDownloadUrl().toString();\n                        Toast.makeText(PostActivity.this,\"Image is sucessfully uploaded to storage\",Toast.LENGTH_LONG).show();\n                        SavingPostInformationToDatabase();\n\n                    }else{\n                        String message = task.getException().getMessage();\n                        Toast.makeText(PostActivity.this,\"Error Occured:\" + message,Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n    }\n\n    private void SavingPostInformationToDatabase() {\n        usersRef.child(current_user_id).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()){\n                    String userfullname = dataSnapshot.child(\"fullname\").getValue().toString();\n                    String userProfileImage  = dataSnapshot.child(\"profileimage\").getValue().toString();\n                    HashMap postsMap = new HashMap();\n                    postsMap.put(\"uid\",current_user_id);\n                    postsMap.put(\"date\",saveCurrentDate);\n\n                    postsMap.put(\"time\",saveCurrentTime);\n\n                    postsMap.put(\"description\",Description);\n\n                    postsMap.put(\"postimage\",downloadUrl);\n                    postsMap.put(\"profileimage\",userProfileImage);\n                    postsMap.put(\"fullname\",userfullname);\n                    PostsRef.child(current_user_id + postRandomName).updateChildren(postsMap)\n                            .addOnCompleteListener(new OnCompleteListener() {\n                                @Override\n                                public void onComplete(@NonNull Task task) {\n                                    if (task.isSuccessful()){\n                                        SendUserToMainActivity();\n                                        Toast.makeText(PostActivity.this,\"Your New Post is Updated Sucessfully\",Toast.LENGTH_SHORT).show();\n                                        loadingBar.dismiss();\n                                    }else{\n                                        Toast.makeText(PostActivity.this,\"Error Occured while updating your post .please try again \",Toast.LENGTH_LONG).show();\n                                    loadingBar.dismiss();\n                                    }\n                                }\n                            });\n\n\n\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n\n    }\n\n    private void OpenGallery() {\n\n        Intent galleryIntent = new Intent();\n        galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\n        galleryIntent.setType(\"image/*\");\n        startActivityForResult(galleryIntent, Gallery_pick);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == Gallery_pick &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\n       ImageUri = data.getData();\n       SelectPostImage.setImageURI(ImageUri);\n    }\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == android.R.id.home){\n            SendUserToMainActivity();\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void SendUserToMainActivity() {\n        Intent mainintent  =  new Intent(PostActivity.this,MainActivity.class);\n        startActivity(mainintent);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1510711584,"post_id":47298042,"comment_id":81547983,"body_markdown":"The window decorations change based on the `resizable` property - this is a known side effect.  You could attempt to re `pack` the window.  Also, you can use `JFrame#setLocationRelativeTo` and pass it `null` and it will centre the window, generally better then using `Toolkit.getScreenSize`","body":"The window decorations change based on the <code>resizable</code> property - this is a known side effect.  You could attempt to re <code>pack</code> the window.  Also, you can use <code>JFrame#setLocationRelativeTo</code> and pass it <code>null</code> and it will centre the window, generally better then using <code>Toolkit.getScreenSize</code>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1510711805,"post_id":47298042,"comment_id":81548026,"body_markdown":"Wow... a question with a real [mcve].  Congratulations on an excellent first question.","body":"Wow... a question with a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Congratulations on an excellent first question."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1510711887,"post_id":47298042,"comment_id":81548049,"body_markdown":"@MadProgrammer that should be an answer, no?","body":"@MadProgrammer that should be an answer, no?"},{"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"score":0,"creation_date":1510712440,"post_id":47298042,"comment_id":81548164,"body_markdown":"repacking does not help. already tried.","body":"repacking does not help. already tried."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1510712768,"post_id":47298042,"comment_id":81548229,"body_markdown":"Since I&#39;m on Mac, I didn&#39;t get the issue, from experience, call `pack` AFTER calling `setResizable` should re-pack the window around the contents","body":"Since I&#39;m on Mac, I didn&#39;t get the issue, from experience, call <code>pack</code> AFTER calling <code>setResizable</code> should re-pack the window around the contents"},{"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"score":0,"creation_date":1510714850,"post_id":47298042,"comment_id":81548725,"body_markdown":"yep, that&#39;s how I originally had it.... tried pack before and after (as a wtf check), but stripped.  After doesn&#39;t make sense, tho. The frame, once set to no-resize, will not change size as the result of a pack, even if inner panels are downsized.","body":"yep, that&#39;s how I originally had it.... tried pack before and after (as a wtf check), but stripped.  After doesn&#39;t make sense, tho. The frame, once set to no-resize, will not change size as the result of a pack, even if inner panels are downsized."}],"answers":[{"tags":[],"owner":{"display_name":"user3832429"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517745804,"creation_date":1517745804,"answer_id":48607834,"question_id":47298042,"body_markdown":"If you set your JFrame on setResizable(false) when first creating it, the problem will not occur.\r\n\r\n        JFrame myFrame = new JFrame(appTitle);\r\n        myFrame.setResizable(false);","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>If you set your JFrame on setResizable(false) when first creating it, the problem will not occur.</p>\n\n<pre><code>    JFrame myFrame = new JFrame(appTitle);\n    myFrame.setResizable(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25644711,"reputation":11,"user_id":19412969,"display_name":"CODERZ"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677315826,"creation_date":1677315826,"answer_id":75564343,"question_id":47298042,"body_markdown":"I think the problem is coming where you are putting the `.pack()`. This command automatically sets all the children components to their preferable sizes. So you can either put the `.setResizable(false)` before the `.pack()` command or remove it. But remember, after removing it you have to manually resize all of the children components using alternatives like `.setBounds` or `.setSize()`  ","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>I think the problem is coming where you are putting the <code>.pack()</code>. This command automatically sets all the children components to their preferable sizes. So you can either put the <code>.setResizable(false)</code> before the <code>.pack()</code> command or remove it. But remember, after removing it you have to manually resize all of the children components using alternatives like <code>.setBounds</code> or <code>.setSize()</code></p>\n"}],"owner":{"account_id":12156461,"reputation":45,"user_id":8875305,"display_name":"mipatriot"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48607834,"answer_count":2,"score":4,"last_activity_date":1677315826,"creation_date":1510709840,"question_id":47298042,"body_markdown":"Have built a small test SWING app with three panels.  A main JPanel, that contains two smaller ones.  One on the left (board panel), the other on the right (side panel).  Both inner panels are set to a requested specific size by calling min,preferred, and max size methods.  A button in the right panel sets the parent JFrame to not re-sizable. Everything looks great until the parent frame is set to non-resizable, which causes(?!) a resize of the frame and main panel, which get larger.\r\n\r\nLooking for why the resize occurs, and what can be done to keep the main panel and frame sized to enclose just the two inner panels, and no more, once the frame is frozen.\r\n\r\nHave highlighted panel borders and added paint event logging to debug sizing issues. \r\n\r\nThanks for the help and insight! \r\n\r\nedit:\r\nAppears this issue is in JRE 8. In JRE 9 it goes away, but introduces a scaling problem.  The whole application gets scaled up on my 4k monitor, running Windows 10.\r\n\r\n\tpackage org.fubar;\r\n\t\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.BoxLayout;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.SwingUtilities;\r\n\t\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Toolkit;\r\n\timport java.awt.Window;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\t\r\n\tpublic class PanelTest {\r\n\t\r\n\t\tprivate static final String appTitle\t= &quot;JPanel Test by Fubar.org(c)&quot;;\r\n\t\t\r\n\t\tpublic static JFrame myFrame\t\t\t\t\t= null;\r\n\t\tpublic static JPanel mainPanel\t\t\t\t\t= null;\r\n\t\tpublic static JPanel boardPanel\t\t\t\t\t= null;\r\n\t\tpublic static JPanel sidePanel\t\t\t\t\t= null;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t        SwingUtilities.invokeLater(new Runnable() {\r\n\t            public void run() {\r\n\t                createAndShowGUI();\r\n\t            }\r\n\t        });\r\n\t\t}\r\n\t\r\n\t\tprivate static void createAndShowGUI() {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Create and show GUI&quot;);\r\n\t\t\t\r\n\t        JFrame myFrame = new JFrame(appTitle);\r\n\t        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t        mainPanel = new MainPanel();\r\n\t        myFrame.add(mainPanel);\r\n\t\r\n\t        myFrame.pack();\r\n\t        centreWindow(myFrame);\r\n\t        myFrame.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void centreWindow(Window frame) {\r\n\t\t    Dimension dimension = Toolkit.getDefaultToolkit().getScreenSize();\r\n\t\t    int x = (int) ((dimension.getWidth() - frame.getWidth()) / 2);\r\n\t\t    int y = (int) ((dimension.getHeight() - frame.getHeight()) / 2);\r\n\t\t    frame.setLocation(x, y);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void barfSize(JPanel panel, String panelName) {\r\n\t\t\tDimension panelSize = panel.getSize();\r\n\t\t\tSystem.out.println(String.format(&quot;%s size:(%d,%d);&quot;,panelName,panelSize.width,panelSize.height));\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tclass MainPanel extends JPanel {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic MainPanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.green));\r\n\t\r\n\t        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\r\n\t        \r\n\t        PanelTest.boardPanel = new BoardPanel();\r\n\t        PanelTest.boardPanel.setAlignmentY(TOP_ALIGNMENT);\r\n\t        add(PanelTest.boardPanel);\r\n\t\r\n\t        PanelTest.sidePanel = new SidePanel();\r\n\t        PanelTest.sidePanel.setAlignmentY(TOP_ALIGNMENT);\r\n\t        add(PanelTest.sidePanel);\r\n\t        \r\n\t    }\r\n\t\t\r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Main Panel&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tclass BoardPanel extends JPanel {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic BoardPanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.red));\r\n\t\t\t\r\n\t\t\tDimension mySize = new Dimension(400,200);\r\n\t\t\tsetMinimumSize(mySize);\r\n\t\t\tsetPreferredSize(mySize);\r\n\t\t\tsetMaximumSize(mySize);\r\n\t\t\t\r\n\t\t\tJLabel lblText = new JLabel(&quot;Board Panel&quot;);\r\n\t\t\tadd(lblText);\r\n\t\r\n\t\t}\r\n\t\r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Board Panel&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass SidePanel extends JPanel implements ActionListener {\r\n\t\t\r\n\t\tstatic final long serialVersionUID = 1;\r\n\t\r\n\t\tpublic SidePanel() {\r\n\t\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.blue));\r\n\t\t\t\r\n\t\t\tDimension mySize = new Dimension(200,200);\r\n\t\t\tsetMinimumSize(mySize);\r\n\t\t\tsetPreferredSize(mySize);\r\n\t\t\tsetMaximumSize(mySize);\r\n\t\t\t\r\n\t\t\tJLabel lblText = new JLabel(&quot;Side Panel&quot;);\r\n\t\t\tadd(lblText);\r\n\t\t\t\r\n\t    \tJButton btnFreeze = new JButton(&quot;Freeze&quot;);\r\n\t    \tbtnFreeze.setActionCommand(&quot;Freeze&quot;);      \r\n\t    \tbtnFreeze.setToolTipText(&quot;Click me to freeze frame&quot;);\r\n\t    \tbtnFreeze.setBorderPainted(true);\r\n\t    \tbtnFreeze.setEnabled(true);\r\n\t    \tbtnFreeze.addActionListener(this);\r\n\t        add(btnFreeze);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void actionPerformed(ActionEvent action) {\r\n\t\t\tString command = action.getActionCommand();\r\n\t\t\tif ( command == &quot;Freeze&quot;) {\r\n\t\t\t\tfreezeFrame();\r\n\t\t\t\tSystem.out.println(&quot;Froze frame.&quot;);\r\n\t    \t}\r\n\t\t\tDimension panelSize = getSize();\r\n\t\t\tSystem.out.println(String.format(&quot;Side Panel size:(%d,%d);&quot;,panelSize.width,panelSize.height));\r\n\t\t}\r\n\t\t \r\n\t\tpublic void paintComponent(Graphics gooey) {\r\n\t\t\tsuper.paintComponent(gooey);\r\n\t\t\tPanelTest.barfSize(this, &quot;Side Panel&quot;);\r\n\t\t}\r\n\t\r\n\t\tpublic void freezeFrame() {\r\n\t\t\tJFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n\t\t\tDimension parentSize = this.getParent().getSize();\r\n\t\t\ttopFrame.setMaximumSize(parentSize);\r\n\t\t\ttopFrame.setResizable(false);\r\n\t    }\r\n\t    \r\n\t}\r\n\r\nScreen cap 1:&lt;br&gt;\r\n[App before frame resize disabled][1]\r\n\r\nScreen cap 2:&lt;br&gt;\r\n[App after frame resize disabled][2]\r\n\r\n  [1]: https://i.stack.imgur.com/fO5fC.png\r\n  [2]: https://i.stack.imgur.com/RQ815.jpg\r\n\r\nRun Log\r\n\r\n\tCreate and show GUI\r\n\tMain Panel size:(602,202);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tMain Panel size:(602,202);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tFroze frame.\r\n\tSide Panel size:(200,200);\r\n\tMain Panel size:(618,218);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);\r\n\tMain Panel size:(618,218);\r\n\tSide Panel size:(200,200);\r\n\tBoard Panel size:(400,200);","title":"JPanel resizes when parent frame is set to not resizable","body":"<p>Have built a small test SWING app with three panels.  A main JPanel, that contains two smaller ones.  One on the left (board panel), the other on the right (side panel).  Both inner panels are set to a requested specific size by calling min,preferred, and max size methods.  A button in the right panel sets the parent JFrame to not re-sizable. Everything looks great until the parent frame is set to non-resizable, which causes(?!) a resize of the frame and main panel, which get larger.</p>\n\n<p>Looking for why the resize occurs, and what can be done to keep the main panel and frame sized to enclose just the two inner panels, and no more, once the frame is frozen.</p>\n\n<p>Have highlighted panel borders and added paint event logging to debug sizing issues. </p>\n\n<p>Thanks for the help and insight! </p>\n\n<p>edit:\nAppears this issue is in JRE 8. In JRE 9 it goes away, but introduces a scaling problem.  The whole application gets scaled up on my 4k monitor, running Windows 10.</p>\n\n<pre><code>package org.fubar;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Toolkit;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class PanelTest {\n\n    private static final String appTitle    = \"JPanel Test by Fubar.org(c)\";\n\n    public static JFrame myFrame                    = null;\n    public static JPanel mainPanel                  = null;\n    public static JPanel boardPanel                 = null;\n    public static JPanel sidePanel                  = null;\n\n    public static void main(String[] args) {\n\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n\n        System.out.println(\"Create and show GUI\");\n\n        JFrame myFrame = new JFrame(appTitle);\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainPanel = new MainPanel();\n        myFrame.add(mainPanel);\n\n        myFrame.pack();\n        centreWindow(myFrame);\n        myFrame.setVisible(true);\n    }\n\n    public static void centreWindow(Window frame) {\n        Dimension dimension = Toolkit.getDefaultToolkit().getScreenSize();\n        int x = (int) ((dimension.getWidth() - frame.getWidth()) / 2);\n        int y = (int) ((dimension.getHeight() - frame.getHeight()) / 2);\n        frame.setLocation(x, y);\n    }\n\n    public static void barfSize(JPanel panel, String panelName) {\n        Dimension panelSize = panel.getSize();\n        System.out.println(String.format(\"%s size:(%d,%d);\",panelName,panelSize.width,panelSize.height));\n    }\n\n}\n\nclass MainPanel extends JPanel {\n\n    static final long serialVersionUID = 1;\n\n    public MainPanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.green));\n\n        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));\n\n        PanelTest.boardPanel = new BoardPanel();\n        PanelTest.boardPanel.setAlignmentY(TOP_ALIGNMENT);\n        add(PanelTest.boardPanel);\n\n        PanelTest.sidePanel = new SidePanel();\n        PanelTest.sidePanel.setAlignmentY(TOP_ALIGNMENT);\n        add(PanelTest.sidePanel);\n\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Main Panel\");\n    }\n\n}\n\nclass BoardPanel extends JPanel {\n\n    static final long serialVersionUID = 1;\n\n    public BoardPanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.red));\n\n        Dimension mySize = new Dimension(400,200);\n        setMinimumSize(mySize);\n        setPreferredSize(mySize);\n        setMaximumSize(mySize);\n\n        JLabel lblText = new JLabel(\"Board Panel\");\n        add(lblText);\n\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Board Panel\");\n    }\n}\n\nclass SidePanel extends JPanel implements ActionListener {\n\n    static final long serialVersionUID = 1;\n\n    public SidePanel() {\n\n        setBorder(BorderFactory.createLineBorder(Color.blue));\n\n        Dimension mySize = new Dimension(200,200);\n        setMinimumSize(mySize);\n        setPreferredSize(mySize);\n        setMaximumSize(mySize);\n\n        JLabel lblText = new JLabel(\"Side Panel\");\n        add(lblText);\n\n        JButton btnFreeze = new JButton(\"Freeze\");\n        btnFreeze.setActionCommand(\"Freeze\");      \n        btnFreeze.setToolTipText(\"Click me to freeze frame\");\n        btnFreeze.setBorderPainted(true);\n        btnFreeze.setEnabled(true);\n        btnFreeze.addActionListener(this);\n        add(btnFreeze);\n\n    }\n\n    public void actionPerformed(ActionEvent action) {\n        String command = action.getActionCommand();\n        if ( command == \"Freeze\") {\n            freezeFrame();\n            System.out.println(\"Froze frame.\");\n        }\n        Dimension panelSize = getSize();\n        System.out.println(String.format(\"Side Panel size:(%d,%d);\",panelSize.width,panelSize.height));\n    }\n\n    public void paintComponent(Graphics gooey) {\n        super.paintComponent(gooey);\n        PanelTest.barfSize(this, \"Side Panel\");\n    }\n\n    public void freezeFrame() {\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n        Dimension parentSize = this.getParent().getSize();\n        topFrame.setMaximumSize(parentSize);\n        topFrame.setResizable(false);\n    }\n\n}\n</code></pre>\n\n<p>Screen cap 1:<br>\n<a href=\"https://i.stack.imgur.com/fO5fC.png\" rel=\"nofollow noreferrer\">App before frame resize disabled</a></p>\n\n<p>Screen cap 2:<br>\n<a href=\"https://i.stack.imgur.com/RQ815.jpg\" rel=\"nofollow noreferrer\">App after frame resize disabled</a></p>\n\n<p>Run Log</p>\n\n<pre><code>Create and show GUI\nMain Panel size:(602,202);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nMain Panel size:(602,202);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nFroze frame.\nSide Panel size:(200,200);\nMain Panel size:(618,218);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\nMain Panel size:(618,218);\nSide Panel size:(200,200);\nBoard Panel size:(400,200);\n</code></pre>\n"},{"tags":["java","function","processing","draw"],"answers":[{"comments":[{"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"score":0,"creation_date":1677318759,"post_id":75564284,"comment_id":133317090,"body_markdown":"TY SO MUCH KING OF HELPING &lt;3","body":"TY SO MUCH KING OF HELPING &lt;3"},{"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"score":0,"creation_date":1677320608,"post_id":75564284,"comment_id":133317278,"body_markdown":"ok so i did what you said it works when i click each one once but when i  click a button the second time Its recalculating the data again and making the dots go off the grid","body":"ok so i did what you said it works when i click each one once but when i  click a button the second time Its recalculating the data again and making the dots go off the grid"},{"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"score":0,"creation_date":1677343670,"post_id":75564284,"comment_id":133320886,"body_markdown":"i solved it by resetting the variables back to 0 at begining of the functinons","body":"i solved it by resetting the variables back to 0 at begining of the functinons"}],"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677315086,"creation_date":1677315086,"answer_id":75564284,"question_id":75562991,"body_markdown":"If you want to draw a new graph with the push of each button you would first of all need to remove the noLoop(); from setup().  The draw() loop is needed to change the different graphs.  To remove the previous graph you need to &#39;erase&#39; it by redrawing the background and all the controls.  Code such as the following should help you achieve the desired effect:\r\n```\r\nvoid loadLabelsAndButtons() {\r\n  background(20);\r\n  fill (200);\r\n  textAlign(CENTER);\r\n  textSize(24);\r\n  \r\n  //region labels\r\n  countryNames(&quot;Asia&quot;, 050, 550);\r\n  countryNames(&quot;E. Europe&quot;, 150, 550);\r\n  countryNames(&quot;N. Africa&quot;, 250, 550);\r\n  countryNames(&quot;LAmericaCarib&quot;, 350, 550);\r\n  countryNames(&quot;Oceania&quot;, 450, 550);\r\n  countryNames(&quot;Baltics&quot;, 550, 550);\r\n  countryNames(&quot;E. Asia&quot;, 650, 550);\r\n  countryNames(&quot;Sub sahara&quot;, 750, 550);\r\n  countryNames(&quot;W. Euope&quot;, 850, 550);\r\n\r\n  //buttons\r\n  textSize(14);\r\n  fill(245, 245, 245);\r\n\r\n  rect(750, 100, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;GDP Graph&quot;, 820, 120);\r\n\r\n  fill(245, 245, 245);\r\n  rect(750, 140, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Health Graph&quot;, 820, 160);\r\n\r\n  fill(245, 245, 245);\r\n  rect(750, 180, 150, 30, 18);\r\n  fill(0, 0, 0);\r\n  text(&quot;Population Graph&quot;, 820, 200);\r\n}\r\n\r\nvoid setup() {\r\n  size(900, 600);\r\n  loadTable1();   //data of individual countries\r\n  loadLabelsAndButtons();\r\n}\r\n\r\nvoid draw() {\r\n}\r\n\r\n//buttons clicked activate other graphs\r\nvoid mousePressed() {\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;GDP Graph&quot;, 450, 100);\r\n    drawIncomeGraph();\r\n  }\r\n\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;Health Graph&quot;, 450, 100);\r\n    drawHealthGraph();\r\n  }\r\n\r\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\r\n    loadLabelsAndButtons();\r\n    title(&quot;Population Graph&quot;, 450, 100);\r\n    drawPopulationGraph();\r\n  }\r\n}\r\n\r\n\r\n```","title":"Calling Function when i click the button on processing","body":"<p>If you want to draw a new graph with the push of each button you would first of all need to remove the noLoop(); from setup().  The draw() loop is needed to change the different graphs.  To remove the previous graph you need to 'erase' it by redrawing the background and all the controls.  Code such as the following should help you achieve the desired effect:</p>\n<pre><code>void loadLabelsAndButtons() {\n  background(20);\n  fill (200);\n  textAlign(CENTER);\n  textSize(24);\n  \n  //region labels\n  countryNames(&quot;Asia&quot;, 050, 550);\n  countryNames(&quot;E. Europe&quot;, 150, 550);\n  countryNames(&quot;N. Africa&quot;, 250, 550);\n  countryNames(&quot;LAmericaCarib&quot;, 350, 550);\n  countryNames(&quot;Oceania&quot;, 450, 550);\n  countryNames(&quot;Baltics&quot;, 550, 550);\n  countryNames(&quot;E. Asia&quot;, 650, 550);\n  countryNames(&quot;Sub sahara&quot;, 750, 550);\n  countryNames(&quot;W. Euope&quot;, 850, 550);\n\n  //buttons\n  textSize(14);\n  fill(245, 245, 245);\n\n  rect(750, 100, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;GDP Graph&quot;, 820, 120);\n\n  fill(245, 245, 245);\n  rect(750, 140, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Health Graph&quot;, 820, 160);\n\n  fill(245, 245, 245);\n  rect(750, 180, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Population Graph&quot;, 820, 200);\n}\n\nvoid setup() {\n  size(900, 600);\n  loadTable1();   //data of individual countries\n  loadLabelsAndButtons();\n}\n\nvoid draw() {\n}\n\n//buttons clicked activate other graphs\nvoid mousePressed() {\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\n    loadLabelsAndButtons();\n    title(&quot;GDP Graph&quot;, 450, 100);\n    drawIncomeGraph();\n  }\n\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\n    loadLabelsAndButtons();\n    title(&quot;Health Graph&quot;, 450, 100);\n    drawHealthGraph();\n  }\n\n  if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\n    loadLabelsAndButtons();\n    title(&quot;Population Graph&quot;, 450, 100);\n    drawPopulationGraph();\n  }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":27873970,"reputation":3,"user_id":21283843,"display_name":"Aaaa Aa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564284,"answer_count":1,"score":0,"last_activity_date":1677315086,"creation_date":1677293150,"question_id":75562991,"body_markdown":"I so Im making this graphing application. Its with an application called processing. Im pretty sure it uses java but it might be slightly different then java. Anyways So when you open the application (i think you need to have processing downloaded and open it from the right folder).\r\n\r\nWhen you open it you see my graph with no data points and three buttons on each side. I have my buttons all linked to the functions and in the console they are showing they are working when I click them. But i just cant figure out how to display the graphs(the functions i made) with all the graph points and title etc when I click the button. Can anyone help thanks\r\n\r\n&gt; ``` So basically the three functions   drawIncomeGraph();\r\n&gt; drawHealthGraph(); rawPopulationGraph(); ```\r\n&gt; \r\n&gt; they all work and if I put them all in the draw function they all show\r\n&gt; up Its just I need to click it and then when I click the next one the\r\n&gt; first one should go away and the second one should come up \r\n&gt; \r\n&gt;     String name;\r\n&gt;     String title;\r\n&gt; \r\n&gt;     void setup()\r\n&gt;     {\r\n&gt;       size(900, 600);\r\n&gt;       loadTable1();   //data of individual countries\r\n&gt;       noLoop();\r\n&gt;       background(20);\r\n&gt;       fill (200);\r\n&gt;       textAlign(CENTER);\r\n&gt;       textSize(24);\r\n&gt;     \r\n&gt;     //region labels\r\n&gt;       countryNames(&quot;Asia&quot;, 050, 550);\r\n&gt;       countryNames(&quot;E. Europe&quot;, 150, 550);\r\n&gt;       countryNames(&quot;N. Africa&quot;, 250, 550);\r\n&gt;       countryNames(&quot;LAmericaCarib&quot;, 350, 550);\r\n&gt;       countryNames(&quot;Oceania&quot;, 450, 550);\r\n&gt;       countryNames(&quot;Baltics&quot;, 550, 550);\r\n&gt;       countryNames(&quot;E. Asia&quot;, 650, 550);\r\n&gt;       countryNames(&quot;Sub sahara&quot;, 750, 550);\r\n&gt;       countryNames(&quot;W. Euope&quot;, 850, 550);\r\n&gt;     \r\n&gt;     \r\n&gt;     //buttons\r\n&gt;       textSize(14);\r\n&gt;       fill(245, 245, 245);\r\n&gt;     \r\n&gt;       rect(750, 100, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;GDP Graph&quot;, 820, 120);\r\n&gt;       \r\n&gt;     \r\n&gt;       fill(245, 245, 245);\r\n&gt;       rect(750, 140, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;Health Graph&quot;, 820, 160);\r\n&gt;     \r\n&gt;       fill(245, 245, 245);\r\n&gt;       rect(750, 180, 150, 30, 18);\r\n&gt;       fill(0, 0, 0);\r\n&gt;       text(&quot;Population Graph&quot;, 820, 200);\r\n&gt;     }\r\n&gt;     \r\n&gt;     void draw()\r\n&gt;     {\r\n&gt;     \r\n&gt;     \r\n&gt;           \r\n&gt;     \r\n&gt;     }\r\n&gt;     \r\n&gt;     //butttons clicked activate otger graphs\r\n&gt;     void mousePressed() {\r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\r\n&gt;         title(&quot;GDP Graph&quot;, 450, 100);\r\n&gt;         drawIncomeGraph();\r\n&gt;       }\r\n&gt;     \r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\r\n&gt;         fill (255);\r\n&gt;         title(&quot;Health Graph&quot;, 450, 100);\r\n&gt;         drawHealthGraph();\r\n&gt;       }\r\n&gt;       if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\r\n&gt;         background (255);\r\n&gt;         textSize(14);\r\n&gt;     \r\n&gt;         title(&quot;Population Graph&quot;, 450, 100);\r\n&gt;         drawPopulationGraph();\r\n&gt;       }\r\n&gt;     }\r\n\r\n\r\n    Table table1;\r\n    String[] c;\r\n    String[] r;\r\n    float[] income;\r\n    float[] health;\r\n    float[] population;\r\n    int N;\r\n    \r\n    //parse data\r\n    void loadTable1()\r\n    {\r\n      table1 = loadTable(&quot;health-income.csv&quot;, &quot;header&quot;);\r\n    \r\n      N = table1.getRowCount();\r\n      c = new String[N];\r\n      r = new String[N];\r\n      income = new float[N];\r\n      health = new float[N];\r\n      population = new float[N];\r\n    \r\n      N = table1.getRowCount();\r\n      for (int i=0; i&lt;N; i++)\r\n      {\r\n        TableRow row = table1.getRow(i);\r\n        c[i] = row.getString(&quot;country&quot;);\r\n        r[i] = row.getString(&quot;region&quot;);\r\n        income[i] = row.getFloat(&quot;income&quot;);\r\n        health[i] = row.getFloat(&quot;health&quot;);\r\n        population[i] = row.getFloat(&quot;population&quot;);\r\n      }\r\n    }\r\n    \r\n    \r\n    float newIncome;\r\n    float averageIncome;\r\n    float g;\r\n    \r\n    //calculates income graph\r\n    void incomeSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newIncome = (income[i] + newIncome);\r\n          g++;\r\n        }\r\n        averageIncome=(newIncome/3500);\r\n      }\r\n      println(averageIncome);\r\n    }\r\n    \r\n    //draws income graph\r\n    void drawIncomeGraph() {\r\n      textAlign(CENTER);\r\n    \r\n      fill(255, 255, 255);\r\n      title(&quot;GDP Graph&quot;, 450, 100);\r\n    \r\n    \r\n      incomeSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, 600-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, 650-averageIncome, 15, 15);\r\n    \r\n    \r\n      incomeSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      textSize(14);\r\n    \r\n      fill(143, 182, 171);\r\n      rect(750, 100, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      text(&quot;GDP Graph&quot;, 820, 120);\r\n    }\r\n    \r\n    //calculaties health graph\r\n    ///health graphing sorter data\r\n    float newHealth;\r\n    float averageHealth;\r\n    float h;\r\n    \r\n    void healthSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newHealth = (health[i] + newHealth);\r\n          h++;\r\n        }\r\n        averageHealth=(newHealth/h*5);\r\n      }\r\n      println(&quot;hi&quot; + averageHealth);\r\n    }\r\n    \r\n    //draws population graph\r\n    void drawHealthGraph() {\r\n      \r\n      textAlign(CENTER);\r\n    \r\n      fill(204, 204, 204);\r\n      title(&quot;Health Graph&quot;, 450, 100);\r\n    \r\n      healthSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, averageHealth, 15, 15);\r\n    \r\n      healthSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, averageHealth, 15, 15);\r\n    \r\n    \r\n      healthSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      drawDots(850, averageHealth, 15, 15);\r\n      textSize(14);\r\n      fill(143, 182, 171);\r\n      rect(750, 140, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      text(&quot;Health Graph&quot;, 820, 160);\r\n    }\r\n    \r\n    float newPopulation;\r\n    float averagePopulation;\r\n    float f;\r\n    \r\n    //calculates population graph\r\n    void populationSorter(String region) {\r\n      for (int i=0; i&lt;N; i++) {\r\n        if (r[i].equals(region)) {\r\n          newPopulation = (population[i] + newPopulation);\r\n          f++;\r\n        }\r\n        averagePopulation = (newPopulation/f/165000);\r\n      }\r\n      println(&quot;hey&quot; + averagePopulation);\r\n    }\r\n    //draws population graph\r\n    void drawPopulationGraph() {\r\n      textAlign(CENTER);\r\n    \r\n      title(&quot;Population Graph&quot;, 450, 100);\r\n    \r\n      populationSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\r\n      drawDots(50, averagePopulation-1000, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;EASTERN EUROPE                     &quot;);\r\n      drawDots(150, 800-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;NORTHERN AFRICA                    &quot;);\r\n      drawDots(250, 800-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\r\n      drawDots(350, 650-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;OCEANIA                            &quot;);\r\n      drawDots(450, 650-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;BALTICS                            &quot;);\r\n      drawDots(550, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;NEAR EAST                          &quot;);\r\n      drawDots(650, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\r\n      drawDots(750, 750-averagePopulation, 15, 15);\r\n    \r\n    \r\n      populationSorter(&quot;WESTERN EUROPE                     &quot;);\r\n      drawDots(850, 750-averagePopulation, 15, 15);\r\n    \r\n      fill(143, 182, 171);\r\n      rect(750, 180, 150, 30, 18);\r\n      fill(0, 0, 0);\r\n      textSize(14);\r\n    \r\n      text(&quot;Population Graph&quot;, 820, 200);\r\n    }\r\n    \r\n    //Function for the name headings\r\n    int w;\r\n    int v;\r\n    void countryNames(String name, int w, int v) {\r\n      textSize(14);\r\n      text(name, w, v);\r\n    }\r\n    int startX;\r\n    int whatData;\r\n    int sizeCircle;\r\n    int sizeCircle2;\r\n    \r\n    void drawDots (int startX, float whatData, int sizeCircle, int sizeCircle2) {\r\n      fill(204, 204, 204);\r\n      ellipse(startX, whatData, sizeCircle, sizeCircle2);\r\n    }\r\n    \r\n    \r\n    void title(String title, int r, int q) {\r\n      textSize(24);\r\n      text(title, r, q);\r\n    }\r\n\r\n\r\n","title":"Calling Function when i click the button on processing","body":"<p>I so Im making this graphing application. Its with an application called processing. Im pretty sure it uses java but it might be slightly different then java. Anyways So when you open the application (i think you need to have processing downloaded and open it from the right folder).</p>\n<p>When you open it you see my graph with no data points and three buttons on each side. I have my buttons all linked to the functions and in the console they are showing they are working when I click them. But i just cant figure out how to display the graphs(the functions i made) with all the graph points and title etc when I click the button. Can anyone help thanks</p>\n<blockquote>\n<pre><code>drawHealthGraph(); rawPopulationGraph(); ```\n\nthey all work and if I put them all in the draw function they all show\nup Its just I need to click it and then when I click the next one the\nfirst one should go away and the second one should come up \n\n    String name;\n    String title;\n\n    void setup()\n    {\n      size(900, 600);\n      loadTable1();   //data of individual countries\n      noLoop();\n      background(20);\n      fill (200);\n      textAlign(CENTER);\n      textSize(24);\n    \n    //region labels\n      countryNames(&quot;Asia&quot;, 050, 550);\n      countryNames(&quot;E. Europe&quot;, 150, 550);\n      countryNames(&quot;N. Africa&quot;, 250, 550);\n      countryNames(&quot;LAmericaCarib&quot;, 350, 550);\n      countryNames(&quot;Oceania&quot;, 450, 550);\n      countryNames(&quot;Baltics&quot;, 550, 550);\n      countryNames(&quot;E. Asia&quot;, 650, 550);\n      countryNames(&quot;Sub sahara&quot;, 750, 550);\n      countryNames(&quot;W. Euope&quot;, 850, 550);\n    \n    \n    //buttons\n      textSize(14);\n      fill(245, 245, 245);\n    \n      rect(750, 100, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;GDP Graph&quot;, 820, 120);\n      \n    \n      fill(245, 245, 245);\n      rect(750, 140, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;Health Graph&quot;, 820, 160);\n    \n      fill(245, 245, 245);\n      rect(750, 180, 150, 30, 18);\n      fill(0, 0, 0);\n      text(&quot;Population Graph&quot;, 820, 200);\n    }\n    \n    void draw()\n    {\n    \n    \n          \n    \n    }\n    \n    //butttons clicked activate otger graphs\n    void mousePressed() {\n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;100 &amp;&amp;mouseY&lt;130) {\n        title(&quot;GDP Graph&quot;, 450, 100);\n        drawIncomeGraph();\n      }\n    \n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;140 &amp;&amp;mouseY&lt;170) {\n        fill (255);\n        title(&quot;Health Graph&quot;, 450, 100);\n        drawHealthGraph();\n      }\n      if (mouseX&gt;750 &amp;&amp; mouseX&lt;900 &amp;&amp; mouseY&gt;180 &amp;&amp;mouseY&lt;210) {\n        background (255);\n        textSize(14);\n    \n        title(&quot;Population Graph&quot;, 450, 100);\n        drawPopulationGraph();\n      }\n    }\n</code></pre>\n</blockquote>\n<pre><code>Table table1;\nString[] c;\nString[] r;\nfloat[] income;\nfloat[] health;\nfloat[] population;\nint N;\n\n//parse data\nvoid loadTable1()\n{\n  table1 = loadTable(&quot;health-income.csv&quot;, &quot;header&quot;);\n\n  N = table1.getRowCount();\n  c = new String[N];\n  r = new String[N];\n  income = new float[N];\n  health = new float[N];\n  population = new float[N];\n\n  N = table1.getRowCount();\n  for (int i=0; i&lt;N; i++)\n  {\n    TableRow row = table1.getRow(i);\n    c[i] = row.getString(&quot;country&quot;);\n    r[i] = row.getString(&quot;region&quot;);\n    income[i] = row.getFloat(&quot;income&quot;);\n    health[i] = row.getFloat(&quot;health&quot;);\n    population[i] = row.getFloat(&quot;population&quot;);\n  }\n}\n\n\nfloat newIncome;\nfloat averageIncome;\nfloat g;\n\n//calculates income graph\nvoid incomeSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newIncome = (income[i] + newIncome);\n      g++;\n    }\n    averageIncome=(newIncome/3500);\n  }\n  println(averageIncome);\n}\n\n//draws income graph\nvoid drawIncomeGraph() {\n  textAlign(CENTER);\n\n  fill(255, 255, 255);\n  title(&quot;GDP Graph&quot;, 450, 100);\n\n\n  incomeSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, 600-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, 650-averageIncome, 15, 15);\n\n\n  incomeSorter(&quot;WESTERN EUROPE                     &quot;);\n  textSize(14);\n\n  fill(143, 182, 171);\n  rect(750, 100, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;GDP Graph&quot;, 820, 120);\n}\n\n//calculaties health graph\n///health graphing sorter data\nfloat newHealth;\nfloat averageHealth;\nfloat h;\n\nvoid healthSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newHealth = (health[i] + newHealth);\n      h++;\n    }\n    averageHealth=(newHealth/h*5);\n  }\n  println(&quot;hi&quot; + averageHealth);\n}\n\n//draws population graph\nvoid drawHealthGraph() {\n  \n  textAlign(CENTER);\n\n  fill(204, 204, 204);\n  title(&quot;Health Graph&quot;, 450, 100);\n\n  healthSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, averageHealth, 15, 15);\n\n  healthSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, averageHealth, 15, 15);\n\n\n  healthSorter(&quot;WESTERN EUROPE                     &quot;);\n  drawDots(850, averageHealth, 15, 15);\n  textSize(14);\n  fill(143, 182, 171);\n  rect(750, 140, 150, 30, 18);\n  fill(0, 0, 0);\n  text(&quot;Health Graph&quot;, 820, 160);\n}\n\nfloat newPopulation;\nfloat averagePopulation;\nfloat f;\n\n//calculates population graph\nvoid populationSorter(String region) {\n  for (int i=0; i&lt;N; i++) {\n    if (r[i].equals(region)) {\n      newPopulation = (population[i] + newPopulation);\n      f++;\n    }\n    averagePopulation = (newPopulation/f/165000);\n  }\n  println(&quot;hey&quot; + averagePopulation);\n}\n//draws population graph\nvoid drawPopulationGraph() {\n  textAlign(CENTER);\n\n  title(&quot;Population Graph&quot;, 450, 100);\n\n  populationSorter(&quot;ASIA (EX. NEAR EAST)         &quot;);\n  drawDots(50, averagePopulation-1000, 15, 15);\n\n\n  populationSorter(&quot;EASTERN EUROPE                     &quot;);\n  drawDots(150, 800-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;NORTHERN AFRICA                    &quot;);\n  drawDots(250, 800-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;LATIN AMER. &amp; CARIB    &quot;);\n  drawDots(350, 650-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;OCEANIA                            &quot;);\n  drawDots(450, 650-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;BALTICS                            &quot;);\n  drawDots(550, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;NEAR EAST                          &quot;);\n  drawDots(650, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;SUB-SAHARAN AFRICA                 &quot;);\n  drawDots(750, 750-averagePopulation, 15, 15);\n\n\n  populationSorter(&quot;WESTERN EUROPE                     &quot;);\n  drawDots(850, 750-averagePopulation, 15, 15);\n\n  fill(143, 182, 171);\n  rect(750, 180, 150, 30, 18);\n  fill(0, 0, 0);\n  textSize(14);\n\n  text(&quot;Population Graph&quot;, 820, 200);\n}\n\n//Function for the name headings\nint w;\nint v;\nvoid countryNames(String name, int w, int v) {\n  textSize(14);\n  text(name, w, v);\n}\nint startX;\nint whatData;\nint sizeCircle;\nint sizeCircle2;\n\nvoid drawDots (int startX, float whatData, int sizeCircle, int sizeCircle2) {\n  fill(204, 204, 204);\n  ellipse(startX, whatData, sizeCircle, sizeCircle2);\n}\n\n\nvoid title(String title, int r, int q) {\n  textSize(24);\n  text(title, r, q);\n}\n</code></pre>\n"},{"tags":["java","json","data-structures","parent-child"],"owner":{"account_id":22125310,"reputation":43,"user_id":16377789,"display_name":"micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677313597,"creation_date":1677306952,"question_id":75563713,"body_markdown":"I have a flat [JSON Structure][1] like this, I Want a hierarchical JSON Structure like,\r\n\r\n    {\r\n      &quot;root&quot;:{\r\n        &quot;name&quot;: &quot;world&quot;,\r\n        &quot;children&quot;:[\r\n          {\r\n            &quot;name&quot;: &quot;Asia&quot;,\r\n            &quot;children&quot;:[\r\n              {\r\n                &quot;name&quot;: &quot;India&quot;,\r\n                &quot;children&quot;:[\r\n                  {\r\n                    &quot;name&quot;: &quot;WB&quot;,\r\n                    &quot;...//multiple nested children can be present&quot;\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;Pakistan&quot;,\r\n                &quot;children&quot;:[\r\n                  &quot;...//multiple nested children can be present&quot;\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Europe&quot;,\r\n            &quot;children&quot;:[\r\n              {\r\n                &quot;name&quot;: &quot;Italy&quot;,\r\n                &quot;children&quot;:[\r\n                  {\r\n                    &quot;name&quot;:&quot;...\r\n    \t\t\t\t\t\t\t\t...//multiple nested children can be present&quot;\r\n                  }\r\n                ]\r\n              },\r\n              &quot;...//multiple nested children can be present&quot;\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nLike the above structure, there is a scenario where the Root element has no parent ID In the flat JSON structure, and multiple nested children can be present inside every parent.\r\n\r\nI have written a code but it doesn&#39;t seem to have the exact logic and I can&#39;t find the logic, here is the code,\r\n\r\n    package jsonflattener;\r\n    \r\n    import org.apache.activemq.artemis.utils.json.JSONArray;\r\n    import org.apache.activemq.artemis.utils.json.JSONException;\r\n    \r\n        import org.apache.activemq.artemis.utils.json.JSONObject;\r\n        \r\n        import java.util.HashMap;\r\n        import java.util.Iterator;\r\n        import java.util.Map;\r\n        import java.util.Set;\r\n        \r\n        public class JSONMapTest {\r\n            public static void main(String[] args) throws JSONException {\r\n                JSONArray rootJsonArray = makeJSON();\r\n                Map&lt;String, JSONObject&gt; idNameMap = new HashMap&lt;&gt;();\r\n                Map&lt;String, Object&gt; idNameMap2 = new HashMap&lt;&gt;();\r\n                JSONObject idNameMap3 = new JSONObject();\r\n                for (int i = 0; i &lt; rootJsonArray.length(); i++) {\r\n                    JSONObject data = (JSONObject) rootJsonArray.get(i);\r\n        \r\n                    idNameMap.put(data.getString(&quot;id&quot;), data);\r\n        \r\n                    Set&lt;String&gt; idSet = idNameMap.keySet();\r\n                    for (String id : idSet) {\r\n                        JSONObject value = idNameMap.get(id);\r\n                        for (Iterator keys = value.keys(); keys.hasNext(); ) {\r\n                            String key = (String) keys.next();\r\n                            Object pid = value.get(&quot;pid&quot;);\r\n                            if (pid.equals(&quot;&quot;)) {\r\n                                idNameMap2.put(&quot;root&quot;, value.get(&quot;name&quot;));\r\n                            } else if (pid.toString().equals(value.getString(id))) {\r\n        \t\t\t\t\t\t//Insert in this point\r\n                                System.out.println(pid + &quot;:&quot; + key);\r\n                            }\r\n                        }\r\n        \r\n                        Object pid = value.get(&quot;pid&quot;);\r\n        \r\n        \r\n                    }\r\n        \r\n                }\r\n                System.out.println(idNameMap2);\r\n            }\r\n        }\r\n\r\nIn the code, I have taken one id-Name Map and by iterating each parent ID of the map with the key of the id-Name map I can get the JSON Structure. But I am not able to do that because I don&#39;t understand where to insert the values exactly.\r\n \r\nPlease guide me on how I can get the required hierarchical structure using/without using recursion.\r\n\r\n  [1]: https://www.dropbox.com/s/a60hkyji0dtql3k/parent-child.json?dl=0","title":"Convert flat JSON to Parent-Child Hierarchical Structure based on Parent_ID in Java","body":"<p>I have a flat <a href=\"https://www.dropbox.com/s/a60hkyji0dtql3k/parent-child.json?dl=0\" rel=\"nofollow noreferrer\">JSON Structure</a> like this, I Want a hierarchical JSON Structure like,</p>\n<pre><code>{\n  &quot;root&quot;:{\n    &quot;name&quot;: &quot;world&quot;,\n    &quot;children&quot;:[\n      {\n        &quot;name&quot;: &quot;Asia&quot;,\n        &quot;children&quot;:[\n          {\n            &quot;name&quot;: &quot;India&quot;,\n            &quot;children&quot;:[\n              {\n                &quot;name&quot;: &quot;WB&quot;,\n                &quot;...//multiple nested children can be present&quot;\n              }\n            ]\n          },\n          {\n            &quot;name&quot;: &quot;Pakistan&quot;,\n            &quot;children&quot;:[\n              &quot;...//multiple nested children can be present&quot;\n            ]\n          }\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;Europe&quot;,\n        &quot;children&quot;:[\n          {\n            &quot;name&quot;: &quot;Italy&quot;,\n            &quot;children&quot;:[\n              {\n                &quot;name&quot;:&quot;...\n                                ...//multiple nested children can be present&quot;\n              }\n            ]\n          },\n          &quot;...//multiple nested children can be present&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Like the above structure, there is a scenario where the Root element has no parent ID In the flat JSON structure, and multiple nested children can be present inside every parent.</p>\n<p>I have written a code but it doesn't seem to have the exact logic and I can't find the logic, here is the code,</p>\n<pre><code>package jsonflattener;\n\nimport org.apache.activemq.artemis.utils.json.JSONArray;\nimport org.apache.activemq.artemis.utils.json.JSONException;\n\n    import org.apache.activemq.artemis.utils.json.JSONObject;\n    \n    import java.util.HashMap;\n    import java.util.Iterator;\n    import java.util.Map;\n    import java.util.Set;\n    \n    public class JSONMapTest {\n        public static void main(String[] args) throws JSONException {\n            JSONArray rootJsonArray = makeJSON();\n            Map&lt;String, JSONObject&gt; idNameMap = new HashMap&lt;&gt;();\n            Map&lt;String, Object&gt; idNameMap2 = new HashMap&lt;&gt;();\n            JSONObject idNameMap3 = new JSONObject();\n            for (int i = 0; i &lt; rootJsonArray.length(); i++) {\n                JSONObject data = (JSONObject) rootJsonArray.get(i);\n    \n                idNameMap.put(data.getString(&quot;id&quot;), data);\n    \n                Set&lt;String&gt; idSet = idNameMap.keySet();\n                for (String id : idSet) {\n                    JSONObject value = idNameMap.get(id);\n                    for (Iterator keys = value.keys(); keys.hasNext(); ) {\n                        String key = (String) keys.next();\n                        Object pid = value.get(&quot;pid&quot;);\n                        if (pid.equals(&quot;&quot;)) {\n                            idNameMap2.put(&quot;root&quot;, value.get(&quot;name&quot;));\n                        } else if (pid.toString().equals(value.getString(id))) {\n                            //Insert in this point\n                            System.out.println(pid + &quot;:&quot; + key);\n                        }\n                    }\n    \n                    Object pid = value.get(&quot;pid&quot;);\n    \n    \n                }\n    \n            }\n            System.out.println(idNameMap2);\n        }\n    }\n</code></pre>\n<p>In the code, I have taken one id-Name Map and by iterating each parent ID of the map with the key of the id-Name map I can get the JSON Structure. But I am not able to do that because I don't understand where to insert the values exactly.</p>\n<p>Please guide me on how I can get the required hierarchical structure using/without using recursion.</p>\n"},{"tags":["java","quarkus","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1674033678,"post_id":75151436,"comment_id":132626364,"body_markdown":"Try with `AssertSubscriber&lt;User&gt; subscriber` . Also, you should use `awaitFailure()` before `assertFailedWith` (if the failure is emitted asynchronously).","body":"Try with <code>AssertSubscriber&lt;User&gt; subscriber</code> . Also, you should use <code>awaitFailure()</code> before <code>assertFailedWith</code> (if the failure is emitted asynchronously)."}],"answers":[{"comments":[{"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"score":0,"creation_date":1674045158,"post_id":75158807,"comment_id":132630033,"body_markdown":"Now I realize the error was that I was trying to use `AssertSubscriber` rather than `UniAssertSubscriber`.","body":"Now I realize the error was that I was trying to use <code>AssertSubscriber</code> rather than <code>UniAssertSubscriber</code>."}],"tags":[],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674042563,"creation_date":1674042563,"answer_id":75158807,"question_id":75151436,"body_markdown":"Removing the `AssertSubscriber` assignment fixed the type error, and now the test is working as expected.\r\n\r\n```java\r\n        @Test\r\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\r\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\r\n\r\n            service.searchUser(new ObjectId())\r\n                    .subscribe()\r\n                    .withSubscriber(UniAssertSubscriber.create())\r\n                    .assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\r\n        }\r\n```","title":"How to assert that an Uni throws a given error?","body":"<p>Removing the <code>AssertSubscriber</code> assignment fixed the type error, and now the test is working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Test\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\n\n            service.searchUser(new ObjectId())\n                    .subscribe()\n                    .withSubscriber(UniAssertSubscriber.create())\n                    .assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677313417,"creation_date":1673984063,"question_id":75151436,"body_markdown":"I have a reactive Quarkus project and I&#39;m trying to test a method that returns `Uni&lt;User&gt;`. The method looks like this:\r\n\r\n```java\r\npublic Uni&lt;User&gt; searchUser(ObjectId userId) {\r\n        return userRepository\r\n            .findById(userId)\r\n            .map(user -&gt; {\r\n                if (user != null) {\r\n                    return user;\r\n                } else {\r\n                    throw new BusinessException(&quot;Could not find an user with the given id.&quot;);\r\n                }\r\n            });\r\n```\r\n\r\nSo far, so good. Now I&#39;m trying to test a method asserting that an error is thrown when the repository returns `null` on `findById`. According to [mutiny&#39;s documentation](https://smallrye.io/smallrye-mutiny/1.7.0/guides/testing/), this is how you assert that an Uni throws an error:\r\n```java\r\nMulti&lt;Object&gt; multi = Multi.createFrom().failure(() -&gt; new IOException(&quot;Boom&quot;));\r\n\r\nAssertSubscriber&lt;Object&gt; subscriber = multi\r\n        .subscribe().withSubscriber(AssertSubscriber.create(10));\r\n\r\nsubscriber.assertFailedWith(IOException.class, &quot;Boom&quot;);\r\n```\r\n\r\nThis is my adapted version:\r\n```java\r\n        @Test\r\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\r\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\r\n\r\n            AssertSubscriber subscriber = service.searchUser(new ObjectId()).subscribe().withSubscriber(AssertSubscriber.create());\r\n\r\n            subscriber.assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\r\n        }\r\n```\r\n\r\nBut it doesn&#39;t build. I get this error on the \r\n\r\n&gt; .subscribe().withSubscriber()` call: `Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should implement &#39;io.smallrye.mutiny.subscription.UniSubscriber&lt;? super br.com\r\n\r\nHow can I fix this? Or is there another way to write such a test?","title":"How to assert that an Uni throws a given error?","body":"<p>I have a reactive Quarkus project and I'm trying to test a method that returns <code>Uni&lt;User&gt;</code>. The method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Uni&lt;User&gt; searchUser(ObjectId userId) {\n        return userRepository\n            .findById(userId)\n            .map(user -&gt; {\n                if (user != null) {\n                    return user;\n                } else {\n                    throw new BusinessException(&quot;Could not find an user with the given id.&quot;);\n                }\n            });\n</code></pre>\n<p>So far, so good. Now I'm trying to test a method asserting that an error is thrown when the repository returns <code>null</code> on <code>findById</code>. According to <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/testing/\" rel=\"nofollow noreferrer\">mutiny's documentation</a>, this is how you assert that an Uni throws an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Object&gt; multi = Multi.createFrom().failure(() -&gt; new IOException(&quot;Boom&quot;));\n\nAssertSubscriber&lt;Object&gt; subscriber = multi\n        .subscribe().withSubscriber(AssertSubscriber.create(10));\n\nsubscriber.assertFailedWith(IOException.class, &quot;Boom&quot;);\n</code></pre>\n<p>This is my adapted version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Test\n        public void shouldThrowAnErrorWhenUserIsNotFound() {\n            Mockito.when(userRepository.findById(Mockito.any())).thenReturn(Uni.createFrom().nullItem());\n\n            AssertSubscriber subscriber = service.searchUser(new ObjectId()).subscribe().withSubscriber(AssertSubscriber.create());\n\n            subscriber.assertFailedWith(BusinessException.class, &quot;Could not find an user with the given id.&quot;);\n        }\n</code></pre>\n<p>But it doesn't build. I get this error on the</p>\n<blockquote>\n<p>.subscribe().withSubscriber()<code>call:</code>Inferred type 'S' for type parameter 'S' is not within its bound; should implement 'io.smallrye.mutiny.subscription.UniSubscriber&lt;? super br.com</p>\n</blockquote>\n<p>How can I fix this? Or is there another way to write such a test?</p>\n"},{"tags":["java","sockets","networking","tcp"],"answers":[{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677313049,"creation_date":1677313049,"answer_id":75564120,"question_id":75556267,"body_markdown":"It seems my initial assumption, it is a timing issue, was correct.\r\n\r\nThe following article deals with the so-called `TIME-WAIT` State:&lt;br&gt;\r\n[Coping with the TCP TIME-WAIT state on busy Linux servers][1]\r\n\r\nOne takeaway is:&lt;br&gt;\r\n*&quot;Moreover, when designing protocols, dont let clients close first. Clients wont have to deal with the TIME-WAIT state pushing the responsibility to servers which are better suited to handle this.&quot;*\r\n\r\nFor my load test, I just need to make sure that I don&#39;t cycle through all available Ports in less than the 2 Minute latency specified in the Standard. Right now my System has 16,263 Ports available, which means under constant fire, I need to limit it to minimum 7.4 ms between Connections.\r\n\r\n\r\n  [1]: https://vincent.bernat.ch/en/blog/2014-tcp-time-wait-state-linux","title":"java.net.BindException Client-side after thousands of quick-fire Socket connections to Server","body":"<p>It seems my initial assumption, it is a timing issue, was correct.</p>\n<p>The following article deals with the so-called <code>TIME-WAIT</code> State:<br>\n<a href=\"https://vincent.bernat.ch/en/blog/2014-tcp-time-wait-state-linux\" rel=\"nofollow noreferrer\">Coping with the TCP TIME-WAIT state on busy Linux servers</a></p>\n<p>One takeaway is:<br>\n<em>&quot;Moreover, when designing protocols, dont let clients close first. Clients wont have to deal with the TIME-WAIT state pushing the responsibility to servers which are better suited to handle this.&quot;</em></p>\n<p>For my load test, I just need to make sure that I don't cycle through all available Ports in less than the 2 Minute latency specified in the Standard. Right now my System has 16,263 Ports available, which means under constant fire, I need to limit it to minimum 7.4 ms between Connections.</p>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564120,"answer_count":1,"score":0,"last_activity_date":1677313049,"creation_date":1677239520,"question_id":75556267,"body_markdown":"My Platform is Windows 10 Enterprise with JDK 17.\r\n\r\nAnyone know why the following Client crashes with a java.net.BindException after many thousand connections?\r\n\r\n(it seems to be timing-related because, with a 10ms sleep between executions, it just runs and runs and runs...)\r\n\r\n    import java.io.*;\r\n    import java.net.Socket;\r\n    \r\n    public class Client {\r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \r\n    \t\tfinal byte[] readBuffer = new byte[8192];\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\ttry (\tfinal Socket                socket  = new Socket(&quot;localhost&quot;, 1972);\r\n    \t\t\t\t\tfinal InputStream           ist     = socket.getInputStream();\r\n    \t\t\t\t\tfinal OutputStream          ost     = socket.getOutputStream();\r\n    \t\t\t\t\tfinal ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\r\n    \t\t\t{\r\n    \t\t\t\tost.write(&quot;Hello!&quot;.getBytes());\r\n    \t\t\t\tsocket.shutdownOutput();\r\n    \r\n    \t\t\t\tint    readCount;\r\n    \t\t\t\twhile((readCount = ist.read(readBuffer)) != -1) {\r\n    \t\t\t\t\tistBAOS.write(readBuffer, 0, readCount);\r\n    \t\t\t\t}\r\n    \t\t\t\tfinal byte[] istBytes = istBAOS.toByteArray();\r\n    \r\n    \t\t\t\tsocket.shutdownInput();\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Client.: &quot; + socket + &quot; &lt;- &quot; + new String(istBytes));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the Server, which seems to be fine:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class Server {\r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \r\n    \t\tfinal byte[] readBuffer = new byte[8192];\r\n    \r\n    \t\ttry (\t\t\tfinal ServerSocket          server  = new ServerSocket(1972)) {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\ttry (\tfinal Socket                socket  = server.accept();\r\n    \t\t\t\t\t\tfinal InputStream           ist     = socket.getInputStream();\r\n    \t\t\t\t\t\tfinal OutputStream          ost     = socket.getOutputStream();\r\n    \t\t\t\t\t\tfinal ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tint    readCount;\r\n    \t\t\t\t\twhile((readCount = ist.read(readBuffer)) != -1) {\r\n    \t\t\t\t\t\tistBAOS.write(readBuffer, 0, readCount);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfinal byte[] istBytes = istBAOS.toByteArray();\r\n    \r\n    \t\t\t\t\tsocket.shutdownInput();\r\n    \t\t\t\t\tost.write(istBytes);\r\n    \t\t\t\t\tsocket.shutdownOutput();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (final IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    //\t\t\t\ttry {Thread.sleep(10);} catch (final InterruptedException e) {}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"java.net.BindException Client-side after thousands of quick-fire Socket connections to Server","body":"<p>My Platform is Windows 10 Enterprise with JDK 17.</p>\n<p>Anyone know why the following Client crashes with a java.net.BindException after many thousand connections?</p>\n<p>(it seems to be timing-related because, with a 10ms sleep between executions, it just runs and runs and runs...)</p>\n<pre><code>import java.io.*;\nimport java.net.Socket;\n\npublic class Client {\n\n    public static void main(final String[] args) throws IOException {\n\n        final byte[] readBuffer = new byte[8192];\n\n        while (true) {\n            try (   final Socket                socket  = new Socket(&quot;localhost&quot;, 1972);\n                    final InputStream           ist     = socket.getInputStream();\n                    final OutputStream          ost     = socket.getOutputStream();\n                    final ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\n            {\n                ost.write(&quot;Hello!&quot;.getBytes());\n                socket.shutdownOutput();\n\n                int    readCount;\n                while((readCount = ist.read(readBuffer)) != -1) {\n                    istBAOS.write(readBuffer, 0, readCount);\n                }\n                final byte[] istBytes = istBAOS.toByteArray();\n\n                socket.shutdownInput();\n\n                System.out.println(&quot;Client.: &quot; + socket + &quot; &lt;- &quot; + new String(istBytes));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here's the Server, which seems to be fine:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Server {\n\n    public static void main(final String[] args) throws IOException {\n\n        final byte[] readBuffer = new byte[8192];\n\n        try (           final ServerSocket          server  = new ServerSocket(1972)) {\n            while (true) {\n                try (   final Socket                socket  = server.accept();\n                        final InputStream           ist     = socket.getInputStream();\n                        final OutputStream          ost     = socket.getOutputStream();\n                        final ByteArrayOutputStream istBAOS = new ByteArrayOutputStream())\n                {\n                    int    readCount;\n                    while((readCount = ist.read(readBuffer)) != -1) {\n                        istBAOS.write(readBuffer, 0, readCount);\n                    }\n                    final byte[] istBytes = istBAOS.toByteArray();\n\n                    socket.shutdownInput();\n                    ost.write(istBytes);\n                    socket.shutdownOutput();\n                }\n                catch (final IOException e) {\n                    e.printStackTrace();\n                }\n//              try {Thread.sleep(10);} catch (final InterruptedException e) {}\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"score":0,"creation_date":1677545105,"post_id":75564064,"comment_id":133355425,"body_markdown":"Hopefully they fixed it by now, we&#39;re now using JDK 19.\n\nHowever, I might try turning of java2d.metal like you suggest and see if our app renders correctly.\n\nOur current jvm launcher does indeed turn java2d.metal on\n\nappendJvmOption(&amp;extraJvmOptions, &quot;-Dsun.java2d.metal=true&quot;, NULL);","body":"Hopefully they fixed it by now, we&#39;re now using JDK 19.  However, I might try turning of java2d.metal like you suggest and see if our app renders correctly.  Our current jvm launcher does indeed turn java2d.metal on  appendJvmOption(&amp;extraJvmOptions, &quot;-Dsun.java2d.metal=true&quot;, NULL);"}],"tags":[],"owner":{"account_id":27875242,"reputation":1,"user_id":21284883,"display_name":"mickleness"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677312052,"creation_date":1677312052,"answer_id":75564064,"question_id":70202193,"body_markdown":"I don&#39;t understand the error well, but you can probably prevent it (or at least get a different error) with this argument:\r\n\r\n`java -Dsun.java2d.metal=false`\r\n\r\nThe Metal pipeline is the default on Mac as of a few years ago, and if you toggle it off you can switch to the older OpenGL pipeline.\r\n\r\n\r\n(I&#39;m exploring a similar-but-different crash that includes `Java_sun_java2d_metal_MTLRenderQueue_flushBuffer`, although the rest of our stacktraces differ.)\r\n\r\n\r\nSee also:\r\n\r\nhttps://youtrack.jetbrains.com/issue/JBR-4718\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8284381","title":"Java 17/Mac OS Java2D Queue Flusher Crash","body":"<p>I don't understand the error well, but you can probably prevent it (or at least get a different error) with this argument:</p>\n<p><code>java -Dsun.java2d.metal=false</code></p>\n<p>The Metal pipeline is the default on Mac as of a few years ago, and if you toggle it off you can switch to the older OpenGL pipeline.</p>\n<p>(I'm exploring a similar-but-different crash that includes <code>Java_sun_java2d_metal_MTLRenderQueue_flushBuffer</code>, although the rest of our stacktraces differ.)</p>\n<p>See also:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/JBR-4718\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/JBR-4718</a></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8284381\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8284381</a></p>\n"}],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677312052,"creation_date":1638458958,"question_id":70202193,"body_markdown":"Anybody else having this crash on macOS + JDK17?\r\n\r\nOS Version:            macOS 11.6 (20G165)\r\nJRE version: OpenJDK Runtime Environment (17.0+35) (build 17+35-2724)\r\n\r\n```\r\nThread 23 Crashed:: Java: Java2D Queue Flusher\r\n0   libsystem_kernel.dylib        \t0x00007fff2040392e __pthread_kill + 10\r\n1   libsystem_pthread.dylib       \t0x00007fff204325bd pthread_kill + 263\r\n2   libsystem_c.dylib             \t0x00007fff20387406 abort + 125\r\n3   libjvm.dylib                  \t0x00000001058d13e1 os::abort(bool, void*, void const*) + 49\r\n4   libjvm.dylib                  \t0x0000000105aabecc VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) + 2908\r\n5   libjvm.dylib                  \t0x0000000105aab345 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) + 149\r\n6   libjvm.dylib                  \t0x0000000105aabf61 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) + 33\r\n7   libjvm.dylib                  \t0x000000010597a07b JVM_handle_bsd_signal + 363\r\n8   libsystem_platform.dylib      \t0x00007fff20477d7d _sigtramp + 29\r\n9   ???                           \t0x00007ffffffffff8 0 + 140737488355320\r\n10  com.apple.AMDRadeonX5000MTLDriver\t0x000000012ad40801 void amdMtl_HWL_SetTexture&lt;(AMDMtl_SqttMode)0&gt;(GFX9_RenderCmdEncoderMembersRec*, unsigned int, id&lt;MTLTexture&gt;, unsigned int, unsigned int) + 91\r\n11  libawt_lwawt.dylib            \t0x000000011b2ecf91 MTLVertexCache_FlushGlyphVertexCache + 81\r\n12  libawt_lwawt.dylib            \t0x000000011b2ea406 MTLTR_DrawGlyphList + 4022\r\n13  libawt_lwawt.dylib            \t0x000000011b2e4cc4 Java_sun_java2d_metal_MTLRenderQueue_flushBuffer + 5236\r\n14  ???                           \t0x00000001119111d5 0 + 4589687253\r\n15  ???                           \t0x0000000111cf628c 0 + 4593771148\r\n```\r\n\r\nany clue what can be causing this and how to avert it?","title":"Java 17/Mac OS Java2D Queue Flusher Crash","body":"<p>Anybody else having this crash on macOS + JDK17?</p>\n<p>OS Version:            macOS 11.6 (20G165)\nJRE version: OpenJDK Runtime Environment (17.0+35) (build 17+35-2724)</p>\n<pre><code>Thread 23 Crashed:: Java: Java2D Queue Flusher\n0   libsystem_kernel.dylib          0x00007fff2040392e __pthread_kill + 10\n1   libsystem_pthread.dylib         0x00007fff204325bd pthread_kill + 263\n2   libsystem_c.dylib               0x00007fff20387406 abort + 125\n3   libjvm.dylib                    0x00000001058d13e1 os::abort(bool, void*, void const*) + 49\n4   libjvm.dylib                    0x0000000105aabecc VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) + 2908\n5   libjvm.dylib                    0x0000000105aab345 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) + 149\n6   libjvm.dylib                    0x0000000105aabf61 VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) + 33\n7   libjvm.dylib                    0x000000010597a07b JVM_handle_bsd_signal + 363\n8   libsystem_platform.dylib        0x00007fff20477d7d _sigtramp + 29\n9   ???                             0x00007ffffffffff8 0 + 140737488355320\n10  com.apple.AMDRadeonX5000MTLDriver   0x000000012ad40801 void amdMtl_HWL_SetTexture&lt;(AMDMtl_SqttMode)0&gt;(GFX9_RenderCmdEncoderMembersRec*, unsigned int, id&lt;MTLTexture&gt;, unsigned int, unsigned int) + 91\n11  libawt_lwawt.dylib              0x000000011b2ecf91 MTLVertexCache_FlushGlyphVertexCache + 81\n12  libawt_lwawt.dylib              0x000000011b2ea406 MTLTR_DrawGlyphList + 4022\n13  libawt_lwawt.dylib              0x000000011b2e4cc4 Java_sun_java2d_metal_MTLRenderQueue_flushBuffer + 5236\n14  ???                             0x00000001119111d5 0 + 4589687253\n15  ???                             0x0000000111cf628c 0 + 4593771148\n</code></pre>\n<p>any clue what can be causing this and how to avert it?</p>\n"},{"tags":["java","powermock","powermockito","javassist"],"comments":[{"owner":{"account_id":1961212,"reputation":319,"user_id":1762734,"display_name":"Denis Rodin"},"score":0,"creation_date":1633701266,"post_id":69410371,"comment_id":122837186,"body_markdown":"could you post your pom.xml? I don&#39;t get this error with your code","body":"could you post your pom.xml? I don&#39;t get this error with your code"},{"owner":{"account_id":14888174,"reputation":61,"user_id":10750739,"display_name":"Beginner"},"score":0,"creation_date":1633801984,"post_id":69410371,"comment_id":122859799,"body_markdown":"Which javassist version you were using? Mine is 3.18.1-GA. The error goes away with higher versions. My question was more about how a sorted() call can cause it to fail?","body":"Which javassist version you were using? Mine is 3.18.1-GA. The error goes away with higher versions. My question was more about how a sorted() call can cause it to fail?"},{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1633823931,"post_id":69410371,"comment_id":122863567,"body_markdown":"try to use custom comparator instead  :  .sorted((e1,e2) -&gt; e1.getKey().compareTo(e2.getKey()))","body":"try to use custom comparator instead  :  .sorted((e1,e2) -&gt; e1.getKey().compareTo(e2.getKey()))"}],"owner":{"account_id":14888174,"reputation":61,"user_id":10750739,"display_name":"Beginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677311383,"creation_date":1633112128,"question_id":69410371,"body_markdown":"I have a class(TempClass) containing a map that uses a static method of another class(UtilClass) to generate a list using this map.\r\nFor mocking the static method(can&#39;t avoid using the static method), I&#39;m using Powermockito. However, I&#39;m getting this exception when I try to run the test. \r\n\r\n**javassist version used: 3.18.1-GA**\r\n\r\n    java.lang.IllegalStateException: Failed to transform class with name somepackage.UtilClass. Reason: javassist.bytecode.InterfaceMethodrefInfo cannot be cast to javassist.bytecode.MethodrefInfo\r\n\r\nit disappears when I remove a `sorted` call from the static method\r\n\r\nI know it can be resolved by dependency changes mentioned [here][1]. But I don&#39;t want to change the dependency. My question is more around why is this happening?\r\n\r\nThis is a simplified example of a code that I&#39;m using.\r\n\r\nTempClass.java\r\n\r\n    import com.google.common.collect.Lists;\r\n    import com.google.common.collect.Maps;\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class TempClass {\r\n\r\n        public void execute(){\r\n            List&lt;Integer&gt; integerList1 = Lists.newArrayList();\r\n            List&lt;Integer&gt; integerList2 = Lists.newArrayList();\r\n            integerList1.add(10);\r\n            integerList1.add(1);\r\n            integerList1.add(4);\r\n\r\n            integerList2.add(10);\r\n            integerList2.add(20);\r\n            integerList2.add(30);\r\n\r\n            Map&lt;String, List&lt;Integer&gt;&gt; stringListMap = Maps.newHashMap();\r\n            stringListMap.put(&quot;AA&quot;, integerList1);\r\n            stringListMap.put(&quot;AB&quot;, integerList2);\r\n\r\n            List&lt;Integer&gt; sortedList = UtilClass.getSomeList(stringListMap);\r\n        }\r\n\r\n    }\r\n\r\nUtilClass.java\r\n\r\n    \r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class UtilClass {\r\n\r\n      public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\r\n        return inputs.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByKey())\r\n            .map(Map.Entry::getValue)\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\nTempClassTest.java\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({\r\n        UtilClass.class\r\n    })\r\n    public class TempClassTest {\r\n\r\n        @Test\r\n        public void dummy(){\r\n            Assert.assertEquals(1, 1);\r\n        }\r\n    }\r\n\r\n\r\n**The exception disappears and the test runs fine when I remove the `sorted` call from the method.**\r\n\r\n\r\n    \r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class UtilClass {\r\n\r\n      public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\r\n        return inputs.entrySet().stream()\r\n            .map(Map.Entry::getValue)\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n\r\n \r\n\r\n  [1]: https://stackoverflow.com/questions/31189086/powermock-and-java-8-issue-interfacemethodrefinfo-cannot-be-cast-to-methodrefin","title":"PowerMock @PrepareForTest throws exception for a class containing a sorted call [JAVA 8]","body":"<p>I have a class(TempClass) containing a map that uses a static method of another class(UtilClass) to generate a list using this map.\nFor mocking the static method(can't avoid using the static method), I'm using Powermockito. However, I'm getting this exception when I try to run the test.</p>\n<p><strong>javassist version used: 3.18.1-GA</strong></p>\n<pre><code>java.lang.IllegalStateException: Failed to transform class with name somepackage.UtilClass. Reason: javassist.bytecode.InterfaceMethodrefInfo cannot be cast to javassist.bytecode.MethodrefInfo\n</code></pre>\n<p>it disappears when I remove a <code>sorted</code> call from the static method</p>\n<p>I know it can be resolved by dependency changes mentioned <a href=\"https://stackoverflow.com/questions/31189086/powermock-and-java-8-issue-interfacemethodrefinfo-cannot-be-cast-to-methodrefin\">here</a>. But I don't want to change the dependency. My question is more around why is this happening?</p>\n<p>This is a simplified example of a code that I'm using.</p>\n<p>TempClass.java</p>\n<pre><code>import com.google.common.collect.Lists;\nimport com.google.common.collect.Maps;\n\nimport java.util.List;\nimport java.util.Map;\n\npublic class TempClass {\n\n    public void execute(){\n        List&lt;Integer&gt; integerList1 = Lists.newArrayList();\n        List&lt;Integer&gt; integerList2 = Lists.newArrayList();\n        integerList1.add(10);\n        integerList1.add(1);\n        integerList1.add(4);\n\n        integerList2.add(10);\n        integerList2.add(20);\n        integerList2.add(30);\n\n        Map&lt;String, List&lt;Integer&gt;&gt; stringListMap = Maps.newHashMap();\n        stringListMap.put(&quot;AA&quot;, integerList1);\n        stringListMap.put(&quot;AB&quot;, integerList2);\n\n        List&lt;Integer&gt; sortedList = UtilClass.getSomeList(stringListMap);\n    }\n\n}\n</code></pre>\n<p>UtilClass.java</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class UtilClass {\n\n  public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\n    return inputs.entrySet().stream()\n        .sorted(Map.Entry.comparingByKey())\n        .map(Map.Entry::getValue)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>TempClassTest.java</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({\n    UtilClass.class\n})\npublic class TempClassTest {\n\n    @Test\n    public void dummy(){\n        Assert.assertEquals(1, 1);\n    }\n}\n</code></pre>\n<p><strong>The exception disappears and the test runs fine when I remove the <code>sorted</code> call from the method.</strong></p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class UtilClass {\n\n  public static List&lt;Integer&gt; getSomeList(Map&lt;String, List&lt;Integer&gt;&gt; inputs) {\n    return inputs.entrySet().stream()\n        .map(Map.Entry::getValue)\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677308570,"post_id":75563811,"comment_id":133316018,"body_markdown":"No. You would need to do the dispatching of `someMethod` manually.","body":"No. You would need to do the dispatching of <code>someMethod</code> manually."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1677308812,"post_id":75563811,"comment_id":133316040,"body_markdown":"You cannot actually do this, really.","body":"You cannot actually do this, really."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677309743,"post_id":75563811,"comment_id":133316121,"body_markdown":"Overloaded methods are resolved at compile time. They are essentially completely different methods that happen to share a name.","body":"Overloaded methods are resolved at compile time. They are essentially completely different methods that happen to share a name."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677317209,"post_id":75563811,"comment_id":133316929,"body_markdown":"If `input` cannot be `null`, you are not going to need the `Class&lt;T&gt;` parameter since you can always do `input.getClass()` inside your method to get the concrete runtime type.","body":"If <code>input</code> cannot be <code>null</code>, you are not going to need the <code>Class&lt;T&gt;</code> parameter since you can always do <code>input.getClass()</code> inside your method to get the concrete runtime type."}],"answers":[{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677311332,"post_id":75563921,"comment_id":133316251,"body_markdown":"Haha, we arrive at very similar solutions from very different paths!","body":"Haha, we arrive at very similar solutions from very different paths!"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1677312448,"post_id":75563921,"comment_id":133316387,"body_markdown":"@Sweeper Well ... OOP sometimes is a straight path. :-) Seriously: This conceptual thinking is a very important learning step.","body":"@Sweeper Well ... OOP sometimes is a straight path. :-) Seriously: This conceptual thinking is a very important learning step."}],"tags":[],"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677310955,"creation_date":1677310073,"answer_id":75563921,"question_id":75563811,"body_markdown":"**First (and quick) &quot;solution&quot;**\r\n\r\nActually, there is no Java built-in mechanism that handles this dispatching for you. That means, you have to do it yourself.\r\n\r\nBut ... to avoid a longer if-else chain, you can use a mapping that maps the type to the consuming method you want to call. Example:\r\n\r\n    private final Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;&gt; dispatcher = new HashMap&lt;&gt;();\r\n\r\n    {\r\n        dispatcher.put(String.class, (String value) -&gt; someMethod(value));\r\n        dispatcher.put(Integer.class, (Integer value) -&gt; someMethod(value));\r\n    }\r\n\r\nNow you can do the following:\r\n\r\n    public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\r\n        Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) dispatcher.get(clazz);\r\n        if (consumer != null) consumer.accept(input);\r\n    }\r\n\r\nBe careful when building the dispatcher map. Any mistake there will result in a  runtime error when calling the method `doSomething`. There is even a compiler warning for this.\r\n\r\nNot perfect, but maybe a way to go ...\r\n\r\n**Further considerations**\r\n\r\nThis manual dispatching is a great hint for you that there might be more OOP like solution. Usually, there is a _type_ lurking behind your thoughts ...\r\n\r\nSo first create an interface for that type:\r\n\r\n    interface SomethingDoable {\r\n        void someMethod();\r\n    }\r\n\r\nNote, that the generic type is also eliminated here. Now you can create some classes for that:\r\n\r\n    class StringDoable implements SomethingDoable {\r\n        private final String value;\r\n        public StringDoable(String value) { this.value = value; }\r\n        @Override public void doSomething() { /* your code here using the string value */ }\r\n    }\r\n\r\n    class IntegerDoable implements SomethingDoable {\r\n        private final Integer value;\r\n        public IntegerDoable(Integer value) { this.value = value; }\r\n        @Override public void doSomething() { /* your code here using the integer value */ }\r\n    }\r\n\r\nWith that preparation, you can simplify your public method:\r\n\r\n    public void doSomething(SomethingDoable somethingDoable) {\r\n        somethingDoable.doSomething();\r\n    }\r\n\r\nUsing it is as simple as this:\r\n\r\n    doSomething(new StringDoable(&quot;42&quot;));\r\n    doSomething(new IntegerDoable(42));\r\n\r\nThe main advantage with this approach is ... Extending this simply means to add another concrete class. No need to change anything else.","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p><strong>First (and quick) &quot;solution&quot;</strong></p>\n<p>Actually, there is no Java built-in mechanism that handles this dispatching for you. That means, you have to do it yourself.</p>\n<p>But ... to avoid a longer if-else chain, you can use a mapping that maps the type to the consuming method you want to call. Example:</p>\n<pre><code>private final Map&lt;Class&lt;?&gt;, Consumer&lt;?&gt;&gt; dispatcher = new HashMap&lt;&gt;();\n\n{\n    dispatcher.put(String.class, (String value) -&gt; someMethod(value));\n    dispatcher.put(Integer.class, (Integer value) -&gt; someMethod(value));\n}\n</code></pre>\n<p>Now you can do the following:</p>\n<pre><code>public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\n    Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) dispatcher.get(clazz);\n    if (consumer != null) consumer.accept(input);\n}\n</code></pre>\n<p>Be careful when building the dispatcher map. Any mistake there will result in a  runtime error when calling the method <code>doSomething</code>. There is even a compiler warning for this.</p>\n<p>Not perfect, but maybe a way to go ...</p>\n<p><strong>Further considerations</strong></p>\n<p>This manual dispatching is a great hint for you that there might be more OOP like solution. Usually, there is a <em>type</em> lurking behind your thoughts ...</p>\n<p>So first create an interface for that type:</p>\n<pre><code>interface SomethingDoable {\n    void someMethod();\n}\n</code></pre>\n<p>Note, that the generic type is also eliminated here. Now you can create some classes for that:</p>\n<pre><code>class StringDoable implements SomethingDoable {\n    private final String value;\n    public StringDoable(String value) { this.value = value; }\n    @Override public void doSomething() { /* your code here using the string value */ }\n}\n\nclass IntegerDoable implements SomethingDoable {\n    private final Integer value;\n    public IntegerDoable(Integer value) { this.value = value; }\n    @Override public void doSomething() { /* your code here using the integer value */ }\n}\n</code></pre>\n<p>With that preparation, you can simplify your public method:</p>\n<pre><code>public void doSomething(SomethingDoable somethingDoable) {\n    somethingDoable.doSomething();\n}\n</code></pre>\n<p>Using it is as simple as this:</p>\n<pre><code>doSomething(new StringDoable(&quot;42&quot;));\ndoSomething(new IntegerDoable(42));\n</code></pre>\n<p>The main advantage with this approach is ... Extending this simply means to add another concrete class. No need to change anything else.</p>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677310472,"creation_date":1677310472,"answer_id":75563938,"question_id":75563811,"body_markdown":"You can use reflection API to achieve that.\r\n\r\n    public &lt;T&gt; void someMethod(Object value, Class&lt;T&gt; clazz) {\r\n        try {\r\n            getClass().getDeclaredMethod(&quot;someMethod&quot;, clazz).invoke(this, value);\r\n        } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>You can use reflection API to achieve that.</p>\n<pre><code>public &lt;T&gt; void someMethod(Object value, Class&lt;T&gt; clazz) {\n    try {\n        getClass().getDeclaredMethod(&quot;someMethod&quot;, clazz).invoke(this, value);\n    } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1677311598,"post_id":75563997,"comment_id":133316288,"body_markdown":"Yeah ... very nice. :-)","body":"Yeah ... very nice. :-)"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677311197,"creation_date":1677311197,"answer_id":75563997,"question_id":75563811,"body_markdown":"At runtime, Java dynamically dispatches methods only based on the object on which you called the method, i.e. `this` from the callee&#39;s perspective, aka the &quot;receiver parameter&quot;, or whatever you call this part of the call:\r\n\r\n    animal.eat(food);\r\n    ^^^^^^\r\n\r\n    this.someMethod(input);\r\n    ^^^^\r\n\r\nWhich method is chosen at runtime solely depends on that part. If `foo` at runtime stores an instance of `Dog`, then `Dog.eat` is called. If it stores an instance of `Cat`, then `Cat.eat` is called.\r\n\r\nHowever, what you want to do here seems to be dynamic dispatch based on what type `food` stores at runtime. Since Java doesn&#39;t do that, you either have to dispatch it manually with a chain of if-else-ifs, or change the call so that `food` is the receiver:\r\n\r\n    food.getsEatenBy(animal);\r\n\r\n    input.someMethod(this); // not sure if your someMethod needs &quot;this&quot; or not...\r\n\r\nSince the parameters in your case are `String` and `Integer`, you need to write wrapper classes for them in order to be able to add methods to them.\r\n\r\n```\r\n// let&#39;s also introduce an interface that all the inputs of someMethod implements\r\npublic interface SomeMethodInput {\r\n    // SomeMethodClass is the class where someMethod originally was\r\n    void someMethod(SomeMethodClass self);\r\n}\r\n\r\npublic class StringInput implements SomeMethodInput {\r\n\r\n    private String value;\r\n\r\n    public StringInput(String string) {\r\n        this.value = string;\r\n    }\r\n\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void someMethod(SomeMethodClass self) {\r\n        // do string things...\r\n    }\r\n}\r\n\r\npublic class IntegerInput implements SomeMethodInput {\r\n\r\n    private Integer value;\r\n\r\n    public IntegerInput(Integer integer) {\r\n        this.value = integer;\r\n    }\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void someMethod(SomeMethodClass self) {\r\n        // do integer things...\r\n    }\r\n}\r\n```\r\n\r\nNow `doSomething` just needs to take a `SomeMethodInput`:\r\n\r\n```\r\npublic void doSomething(SomeMethodInput input) {\r\n    input.someMethod(this);\r\n}\r\n```\r\n\r\nYou might notice some similarities between this and the visitor pattern, and you&#39;d be right - this is exactly how the visitor pattern achieves double dispatch, on both `this`, and the parameter. What I have shown here is not quite that yet, because it only dispatches on the parameter.","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>At runtime, Java dynamically dispatches methods only based on the object on which you called the method, i.e. <code>this</code> from the callee's perspective, aka the &quot;receiver parameter&quot;, or whatever you call this part of the call:</p>\n<pre><code>animal.eat(food);\n^^^^^^\n\nthis.someMethod(input);\n^^^^\n</code></pre>\n<p>Which method is chosen at runtime solely depends on that part. If <code>foo</code> at runtime stores an instance of <code>Dog</code>, then <code>Dog.eat</code> is called. If it stores an instance of <code>Cat</code>, then <code>Cat.eat</code> is called.</p>\n<p>However, what you want to do here seems to be dynamic dispatch based on what type <code>food</code> stores at runtime. Since Java doesn't do that, you either have to dispatch it manually with a chain of if-else-ifs, or change the call so that <code>food</code> is the receiver:</p>\n<pre><code>food.getsEatenBy(animal);\n\ninput.someMethod(this); // not sure if your someMethod needs &quot;this&quot; or not...\n</code></pre>\n<p>Since the parameters in your case are <code>String</code> and <code>Integer</code>, you need to write wrapper classes for them in order to be able to add methods to them.</p>\n<pre><code>// let's also introduce an interface that all the inputs of someMethod implements\npublic interface SomeMethodInput {\n    // SomeMethodClass is the class where someMethod originally was\n    void someMethod(SomeMethodClass self);\n}\n\npublic class StringInput implements SomeMethodInput {\n\n    private String value;\n\n    public StringInput(String string) {\n        this.value = string;\n    }\n\n\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public void someMethod(SomeMethodClass self) {\n        // do string things...\n    }\n}\n\npublic class IntegerInput implements SomeMethodInput {\n\n    private Integer value;\n\n    public IntegerInput(Integer integer) {\n        this.value = integer;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    @Override\n    public void someMethod(SomeMethodClass self) {\n        // do integer things...\n    }\n}\n</code></pre>\n<p>Now <code>doSomething</code> just needs to take a <code>SomeMethodInput</code>:</p>\n<pre><code>public void doSomething(SomeMethodInput input) {\n    input.someMethod(this);\n}\n</code></pre>\n<p>You might notice some similarities between this and the visitor pattern, and you'd be right - this is exactly how the visitor pattern achieves double dispatch, on both <code>this</code>, and the parameter. What I have shown here is not quite that yet, because it only dispatches on the parameter.</p>\n"}],"owner":{"account_id":4897658,"reputation":1526,"user_id":3946706,"accept_rate":100,"display_name":"Kim Gentes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75563938,"answer_count":3,"score":2,"last_activity_date":1677311197,"creation_date":1677308413,"question_id":75563811,"body_markdown":"Given\r\n\r\n```java\r\nprivate someMethod(String value) {\r\n // do string things\r\n}\r\n\r\nprivate someMethod(Integer value) {\r\n // do number things\r\n}\r\n```\r\n\r\nWould the following work to call the proper `someMethod` depending on the type of `clazz` and the value of `input` ?\r\n\r\n```java\r\npublic &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\r\n    // Cast the input to the type specified by clazz\r\n    // Call a method that expects a parameter of the type specified by clazz\r\n    someMethod(clazz.cast(input));\r\n}\r\n```\r\n\r\nif it can&#39;t be done this way, what is the best way to do this without getting into a long if/else of hard checks on static typed constants?","title":"Java: Convert Generic typed (T) object to a fully typed object that is recognized by a typed call signature?","body":"<p>Given</p>\n<pre class=\"lang-java prettyprint-override\"><code>private someMethod(String value) {\n // do string things\n}\n\nprivate someMethod(Integer value) {\n // do number things\n}\n</code></pre>\n<p>Would the following work to call the proper <code>someMethod</code> depending on the type of <code>clazz</code> and the value of <code>input</code> ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; void doSomething(T input, Class&lt;T&gt; clazz) {\n    // Cast the input to the type specified by clazz\n    // Call a method that expects a parameter of the type specified by clazz\n    someMethod(clazz.cast(input));\n}\n</code></pre>\n<p>if it can't be done this way, what is the best way to do this without getting into a long if/else of hard checks on static typed constants?</p>\n"},{"tags":["java","spring","aop","xml-configuration","load-time-weaving"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677245593,"post_id":75556387,"comment_id":133304880,"body_markdown":"Did you forget to add `-javaagent:/path/to/aspectjweaver-1.9.19.jar` or similar?","body":"Did you forget to add <code>-javaagent:&#47;path&#47;to&#47;aspectjweaver-1.9.19.jar</code> or similar?"},{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigejevs"},"score":0,"creation_date":1677247249,"post_id":75556387,"comment_id":133305405,"body_markdown":"Nothing changes if I add it. As well as isn&#39;t it already used through IntelliJ -javaagent? (Well, aspectjweaver is specified in -classpath, but IntelliJ idea_rt.jar in -javaagent)","body":"Nothing changes if I add it. As well as isn&#39;t it already used through IntelliJ -javaagent? (Well, aspectjweaver is specified in -classpath, but IntelliJ idea_rt.jar in -javaagent)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677310387,"post_id":75556387,"comment_id":133316166,"body_markdown":"The IntelliJ javaagent is completely unrelated to AspectJ, you really do need the AspectJ weaver on the JVM command line as a Java agent, not just on the classpath.","body":"The IntelliJ javaagent is completely unrelated to AspectJ, you really do need the AspectJ weaver on the JVM command line as a Java agent, not just on the classpath."}],"answers":[{"comments":[{"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigejevs"},"score":0,"creation_date":1677325971,"post_id":75563930,"comment_id":133318000,"body_markdown":"Well, no, I added it to JVM arguments. But in the end the culprit is this JVM argument: ```-Dorg.aspectj.weaver.loadtime.configuration=trace ```. It prevented crosscutting functionality from working.","body":"Well, no, I added it to JVM arguments. But in the end the culprit is this JVM argument: <code>-Dorg.aspectj.weaver.loadtime.configuration=trace </code>. It prevented crosscutting functionality from working."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1677340800,"post_id":75563930,"comment_id":133320415,"body_markdown":"OMG, why would you use an exotic setting and not even mention it? Can you not start simple instead of complicated? I feel like I wasted a lot of time, cloning your project, trying to reproduce your problem, writing here and making extra screenshots for you. &#128533; Please learn how to ask questions.","body":"OMG, why would you use an exotic setting and not even mention it? Can you not start simple instead of complicated? I feel like I wasted a lot of time, cloning your project, trying to reproduce your problem, writing here and making extra screenshots for you.  Please learn how to ask questions."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677310240,"creation_date":1677310240,"answer_id":75563930,"question_id":75556387,"body_markdown":"Did you accidentally add the `-javaagent` option to the program arguments instead of VM arguments? For me, your project works nicely.\r\n\r\n[![IntelliJ IDEA: select VM options][1]][1]\r\n\r\n[![IntelliJ IDEA: show added VM options][2]][2]\r\n\r\nRunning the program yields:\r\n\r\n```none\r\n[AppClassLoader@1d44bcfa] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\r\n[AppClassLoader@1d44bcfa] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\r\n[AppClassLoader@1d44bcfa] info using configuration .../target/classes/META-INF/aop.xml\r\n[AppClassLoader@1d44bcfa] info register aspect com.sj.aspects.MonitoringAspect\r\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -javaagent:src/main/resources/aspectjweaver-1.9.19.jar, -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=56248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\bin, -Dfile.encoding=UTF-8]\r\n...\r\n[AppClassLoader@1d44bcfa] weaveinfo Join point &#39;method-execution(void com.sj.utilities.Watch.sleeping(long))&#39; in Type &#39;com.sj.utilities.Watch&#39; (Watch.java:9) advised by around advice from &#39;com.sj.aspects.MonitoringAspect&#39; (MonitoringAspect.java)\r\nBefore void com.sj.utilities.Watch.sleeping(long) execution!\r\nSlept 3000 ms\r\nMethod&#39;s execution time:\r\n\t3010467900 ns\r\n\t3010467 s\r\n\t3010 ms\r\n\t3 s\r\nAfter void com.sj.utilities.Watch.sleeping(long) execution!\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/z4QpN.png\r\n  [2]: https://i.stack.imgur.com/jAKON.png","title":"Spring AOP LTW doesn&#39;t work, weaving doesn&#39;t happening","body":"<p>Did you accidentally add the <code>-javaagent</code> option to the program arguments instead of VM arguments? For me, your project works nicely.</p>\n<p><a href=\"https://i.stack.imgur.com/z4QpN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z4QpN.png\" alt=\"IntelliJ IDEA: select VM options\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jAKON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAKON.png\" alt=\"IntelliJ IDEA: show added VM options\" /></a></p>\n<p>Running the program yields:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[AppClassLoader@1d44bcfa] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\n[AppClassLoader@1d44bcfa] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa\n[AppClassLoader@1d44bcfa] info using configuration .../target/classes/META-INF/aop.xml\n[AppClassLoader@1d44bcfa] info register aspect com.sj.aspects.MonitoringAspect\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -javaagent:src/main/resources/aspectjweaver-1.9.19.jar, -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\lib\\idea_rt.jar=56248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1.3\\bin, -Dfile.encoding=UTF-8]\n...\n[AppClassLoader@1d44bcfa] weaveinfo Join point 'method-execution(void com.sj.utilities.Watch.sleeping(long))' in Type 'com.sj.utilities.Watch' (Watch.java:9) advised by around advice from 'com.sj.aspects.MonitoringAspect' (MonitoringAspect.java)\nBefore void com.sj.utilities.Watch.sleeping(long) execution!\nSlept 3000 ms\nMethod's execution time:\n    3010467900 ns\n    3010467 s\n    3010 ms\n    3 s\nAfter void com.sj.utilities.Watch.sleeping(long) execution!\n</code></pre>\n"}],"owner":{"account_id":27825602,"reputation":1,"user_id":21245102,"display_name":"Sergejs Jevstigejevs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677310240,"creation_date":1677240494,"question_id":75556387,"body_markdown":"I&#39;m creating simple experimental program, which use LTW to weave aspect into a class, however aspect load-time weaving doesn&#39;t happening. You can check and use code, which I will describe later, in [GitHub](https://github.com/SergejsJevstignejevs/spring-aop-ltw). I&#39;m using Java 17 and IntelliJ IDE.\r\n\r\nUsed aspect:\r\n```java\r\n\r\n@Aspect\r\n@Component\r\npublic class MonitoringAspect {\r\n\r\n    @Pointcut(&quot;execution(* com.sj.utilities.Watch.*(..))&quot;)\r\n    public void monitoringOperation(){}\r\n\r\n    @Around(&quot;monitoringOperation()&quot;)\r\n    public Object aroundAdvice(ProceedingJoinPoint pjp)\r\n            throws Throwable {\r\n        System.out.println(&quot;Before &quot; + pjp.getSignature() + &quot; execution!&quot;);\r\n\r\n        long startTime = System.nanoTime();\r\n        Object retVal = pjp.proceed();\r\n        long endTime = System.nanoTime();\r\n        long executingTime = endTime - startTime;\r\n        System.out.println(&quot;Method&#39;s execution time:\\n&quot;\r\n                + &quot;\\t&quot; + executingTime + &quot; ns\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000) + &quot; s\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000000) + &quot; ms\\n&quot;\r\n                + &quot;\\t&quot; + (executingTime / 1000000000) + &quot; s&quot;);\r\n        System.out.println(&quot;After &quot; + pjp.getSignature() + &quot; execution!&quot;);\r\n\r\n        return retVal;\r\n    }\r\n\r\n}\r\n```\r\nI tried to remove @Component, because aspect bean is not required, however it changed nothing.\r\n\r\nAdvised by aspect is simple method _sleeping_ of _Watch_ class, with implementation of FictiveWatch interface (Interface exists only for Spring to use JDK dynamic proxies).\r\n\r\nCreated Java annotation config:\r\n```java\r\n@Configuration\r\n//@EnableAspectJAutoProxy\r\n@EnableLoadTimeWeaving(aspectjWeaving = AspectJWeaving.ENABLED)\r\n@ComponentScan(&quot;com.sj&quot;)\r\npublic class AOPConfig implements LoadTimeWeavingConfigurer {\r\n\r\n    @Override\r\n    public LoadTimeWeaver getLoadTimeWeaver() {\r\n        return new InstrumentationLoadTimeWeaver();\r\n    }\r\n\r\n    @Bean\r\n    public InstrumentationLoadTimeWeaver loadTimeWeaver()  throws Throwable {\r\n        return new InstrumentationLoadTimeWeaver();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs well as xml config:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans &lt;!-- namespaces ...--&gt;\r\n\r\n    &lt;!-- this switches on the load-time weaving --&gt;\r\n    &lt;context:load-time-weaver\r\n        weaver-class=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot;/&gt;\r\n\r\n    &lt;!-- this switches on the spring aop autoproxy --&gt;\r\n    &lt;!--&lt;aop:aspectj-autoproxy/&gt;--&gt;\r\n\r\n    &lt;!-- a service object; we will be profiling its methods --&gt;\r\n    &lt;bean id=&quot;watch&quot;\r\n          class=&quot;com.sj.utilities.Watch&quot;/&gt;\r\n    &lt;bean id=&quot;monitoringAspect&quot;\r\n          class=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nTo use weave aspect I use this META-INF/aop.xml file:\r\n```xml\r\n&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n&lt;aspectj&gt;\r\n    &lt;weaver\r\n            options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n        &lt;!-- only weave classes in our application-specific packages --&gt;\r\n        &lt;include within=&quot;com.sj..*&quot;/&gt;\r\n    &lt;/weaver&gt;\r\n    &lt;aspects&gt;\r\n        &lt;!-- weave in just this aspect --&gt;\r\n        &lt;aspect name=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\r\n    &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nDriver class:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        //Check used JVM arguments\r\n        System.out.println(ManagementFactory.getRuntimeMXBean().getInputArguments());\r\n\r\n        //Java class LTW config\r\n        //ApplicationContext context = new AnnotationConfigApplicationContext(AOPConfig.class);\r\n\r\n        //XML LTW config\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;config/aop-xml-conf.xml&quot;);\r\n        Watch watch = context.getBean(Watch.class);\r\n        watch.sleeping(3000);\r\n    }\r\n}\r\n```\r\n\r\nIn the driver class, I use AnnotationConfig or XMLConfig to use LTW, but weaving isn&#39;t happening, so crosscutting functionality isn&#39;t applied. As well as I print used by JVM arguments.\r\n\r\nThe only thing I see, when using AnnotationConfig or XMLConfig, is JVM arguments that I use:\r\n```\r\n[--add-opens=java.base/java.lang=ALL-UNNAMED, -Dspring.aop.proxy-target-class=false, -Dorg.aspectj.weaver.loadtime.configuration=trace, -Dorg.aspectj.weaver.loadtime.verbose=true, -javaagent:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\lib\\idea_rt.jar=55606:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\bin, -Dfile.encoding=UTF-8]\r\n```\r\n\r\nAs well as result of _Watch_ class _sleeping_ method:\r\n```\r\nSlept 3000 ms\r\n```\r\n\r\nWhy weaving is not happening, which part of written code is not right? As per [Spring documentation](https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#aop-aj-ltw) on LTW, as well as   other answers on questions for LTW topic everything should be alright, or I&#39;m missing something?","title":"Spring AOP LTW doesn&#39;t work, weaving doesn&#39;t happening","body":"<p>I'm creating simple experimental program, which use LTW to weave aspect into a class, however aspect load-time weaving doesn't happening. You can check and use code, which I will describe later, in <a href=\"https://github.com/SergejsJevstignejevs/spring-aop-ltw\" rel=\"nofollow noreferrer\">GitHub</a>. I'm using Java 17 and IntelliJ IDE.</p>\n<p>Used aspect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Aspect\n@Component\npublic class MonitoringAspect {\n\n    @Pointcut(&quot;execution(* com.sj.utilities.Watch.*(..))&quot;)\n    public void monitoringOperation(){}\n\n    @Around(&quot;monitoringOperation()&quot;)\n    public Object aroundAdvice(ProceedingJoinPoint pjp)\n            throws Throwable {\n        System.out.println(&quot;Before &quot; + pjp.getSignature() + &quot; execution!&quot;);\n\n        long startTime = System.nanoTime();\n        Object retVal = pjp.proceed();\n        long endTime = System.nanoTime();\n        long executingTime = endTime - startTime;\n        System.out.println(&quot;Method's execution time:\\n&quot;\n                + &quot;\\t&quot; + executingTime + &quot; ns\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000) + &quot; s\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000000) + &quot; ms\\n&quot;\n                + &quot;\\t&quot; + (executingTime / 1000000000) + &quot; s&quot;);\n        System.out.println(&quot;After &quot; + pjp.getSignature() + &quot; execution!&quot;);\n\n        return retVal;\n    }\n\n}\n</code></pre>\n<p>I tried to remove @Component, because aspect bean is not required, however it changed nothing.</p>\n<p>Advised by aspect is simple method <em>sleeping</em> of <em>Watch</em> class, with implementation of FictiveWatch interface (Interface exists only for Spring to use JDK dynamic proxies).</p>\n<p>Created Java annotation config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n//@EnableAspectJAutoProxy\n@EnableLoadTimeWeaving(aspectjWeaving = AspectJWeaving.ENABLED)\n@ComponentScan(&quot;com.sj&quot;)\npublic class AOPConfig implements LoadTimeWeavingConfigurer {\n\n    @Override\n    public LoadTimeWeaver getLoadTimeWeaver() {\n        return new InstrumentationLoadTimeWeaver();\n    }\n\n    @Bean\n    public InstrumentationLoadTimeWeaver loadTimeWeaver()  throws Throwable {\n        return new InstrumentationLoadTimeWeaver();\n    }\n\n}\n</code></pre>\n<p>As well as xml config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans &lt;!-- namespaces ...--&gt;\n\n    &lt;!-- this switches on the load-time weaving --&gt;\n    &lt;context:load-time-weaver\n        weaver-class=&quot;org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver&quot;/&gt;\n\n    &lt;!-- this switches on the spring aop autoproxy --&gt;\n    &lt;!--&lt;aop:aspectj-autoproxy/&gt;--&gt;\n\n    &lt;!-- a service object; we will be profiling its methods --&gt;\n    &lt;bean id=&quot;watch&quot;\n          class=&quot;com.sj.utilities.Watch&quot;/&gt;\n    &lt;bean id=&quot;monitoringAspect&quot;\n          class=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>To use weave aspect I use this META-INF/aop.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n    &lt;weaver\n            options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;!-- only weave classes in our application-specific packages --&gt;\n        &lt;include within=&quot;com.sj..*&quot;/&gt;\n    &lt;/weaver&gt;\n    &lt;aspects&gt;\n        &lt;!-- weave in just this aspect --&gt;\n        &lt;aspect name=&quot;com.sj.aspects.MonitoringAspect&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>Driver class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        //Check used JVM arguments\n        System.out.println(ManagementFactory.getRuntimeMXBean().getInputArguments());\n\n        //Java class LTW config\n        //ApplicationContext context = new AnnotationConfigApplicationContext(AOPConfig.class);\n\n        //XML LTW config\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;config/aop-xml-conf.xml&quot;);\n        Watch watch = context.getBean(Watch.class);\n        watch.sleeping(3000);\n    }\n}\n</code></pre>\n<p>In the driver class, I use AnnotationConfig or XMLConfig to use LTW, but weaving isn't happening, so crosscutting functionality isn't applied. As well as I print used by JVM arguments.</p>\n<p>The only thing I see, when using AnnotationConfig or XMLConfig, is JVM arguments that I use:</p>\n<pre><code>[--add-opens=java.base/java.lang=ALL-UNNAMED, -Dspring.aop.proxy-target-class=false, -Dorg.aspectj.weaver.loadtime.configuration=trace, -Dorg.aspectj.weaver.loadtime.verbose=true, -javaagent:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\lib\\idea_rt.jar=55606:E:\\intelliJIdea_dir\\IntelliJ IDEA Community Edition 2022.2.1\\bin, -Dfile.encoding=UTF-8]\n</code></pre>\n<p>As well as result of <em>Watch</em> class <em>sleeping</em> method:</p>\n<pre><code>Slept 3000 ms\n</code></pre>\n<p>Why weaving is not happening, which part of written code is not right? As per <a href=\"https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">Spring documentation</a> on LTW, as well as   other answers on questions for LTW topic everything should be alright, or I'm missing something?</p>\n"},{"tags":["java","maven","jar","package","javaagents"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1677040881,"post_id":75528320,"comment_id":133257109,"body_markdown":"Check the class has been added into the jar after compile, if it is compiled packaged and inserted among other jars, check the contents has compiled and been inserted in such a process also.","body":"Check the class has been added into the jar after compile, if it is compiled packaged and inserted among other jars, check the contents has compiled and been inserted in such a process also."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041073,"post_id":75528320,"comment_id":133257122,"body_markdown":"If a jar has a main class, it must be specified according rules syntax of MANIFEST.MF for a main class.","body":"If a jar has a main class, it must be specified according rules syntax of MANIFEST.MF for a main class."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677041155,"post_id":75528320,"comment_id":133257133,"body_markdown":"In rare  instances, file permission of the jar and contents may need to be set executable for the jar and contents to the OS properties tab","body":"In rare  instances, file permission of the jar and contents may need to be set executable for the jar and contents to the OS properties tab"},{"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"score":0,"creation_date":1677073871,"post_id":75528320,"comment_id":133265225,"body_markdown":"I have checked the compiled jar package, he does exist in the main class","body":"I have checked the compiled jar package, he does exist in the main class"},{"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"score":0,"creation_date":1677073943,"post_id":75528320,"comment_id":133265251,"body_markdown":"At the same time, I also see that the MANIFEST.MF file in the jar package specifies the Main-Class","body":"At the same time, I also see that the MANIFEST.MF file in the jar package specifies the Main-Class"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677220538,"creation_date":1677220538,"answer_id":75553283,"question_id":75528320,"body_markdown":"I&#39;d say you are issuing the wrong command syntax on your terminal or prompt.\r\nFirst problem, there is no -jar flag for the &quot;java&quot; command\r\nIf you type onto your console the command **java -h** you will be given all the -flags you can use with the command java.\r\nSecond to put a package into a jar , create a jar you use the &quot;jar&quot; command\r\n\r\nTo run an executable jar that has a main class, \r\nopen a prompt or terminal into the &quot;working folder&quot; the jar is inside.\r\n\r\nissue the command &quot;example&quot;\r\n\r\n**cd /home/myprojects/jarprojects/proj1**\r\n \r\n**java -64 Detail-RASP-Agent.jar**\r\n\r\nor\r\n\r\n**java -64 -classpath &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar**\r\n\r\nor\r\n \r\n**java -64 -cp &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar**","title":"Error: can not find or load main class com.briar.Agent","body":"<p>I'd say you are issuing the wrong command syntax on your terminal or prompt.\nFirst problem, there is no -jar flag for the &quot;java&quot; command\nIf you type onto your console the command <strong>java -h</strong> you will be given all the -flags you can use with the command java.\nSecond to put a package into a jar , create a jar you use the &quot;jar&quot; command</p>\n<p>To run an executable jar that has a main class,\nopen a prompt or terminal into the &quot;working folder&quot; the jar is inside.</p>\n<p>issue the command &quot;example&quot;</p>\n<p><strong>cd /home/myprojects/jarprojects/proj1</strong></p>\n<p><strong>java -64 Detail-RASP-Agent.jar</strong></p>\n<p>or</p>\n<p><strong>java -64 -classpath &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar</strong></p>\n<p>or</p>\n<p><strong>java -64 -cp &quot;/home/myprojects/jarprojects/proj1&quot; Detail-RASP-Agent.jar</strong></p>\n"},{"tags":[],"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677310026,"creation_date":1677310026,"answer_id":75563915,"question_id":75528320,"body_markdown":"I know what&#39;s wrong.My manifest.mf file is wrong.After removing the classpath attribute, it runs successfully.\r\n","title":"Error: can not find or load main class com.briar.Agent","body":"<p>I know what's wrong.My manifest.mf file is wrong.After removing the classpath attribute, it runs successfully.</p>\n"}],"owner":{"account_id":27847370,"reputation":11,"user_id":21262561,"display_name":"xuyong li"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75563915,"answer_count":2,"score":1,"last_activity_date":1677310026,"creation_date":1677040610,"question_id":75528320,"body_markdown":"My project structure is as follows\r\n---Detail-RASP---src\r\n\r\nMy maven pom file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.briar&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Detail-RASP&lt;/artifactId&gt;\r\n  &lt;name&gt;Detail-RASP&lt;/name&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;Detail-RASP-Agent&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n          &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n          &lt;encoding&gt;${maven.compiler.encoding}&lt;/encoding&gt;\r\n          &lt;skip&gt;true&lt;/skip&gt;\r\n          &lt;compilerArguments&gt;\r\n            &lt;bootclasspath&gt;${java.home}/lib/rt.jar&lt;/bootclasspath&gt;\r\n          &lt;/compilerArguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;filters&gt;\r\n                &lt;filter&gt;\r\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;META-INF/maven/&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/filter&gt;\r\n              &lt;/filters&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer&gt;\r\n                  &lt;manifestEntries&gt;\r\n                    &lt;Premain-Class&gt;com.briar.Agent&lt;/Premain-Class&gt;\r\n                    &lt;Agent-Class&gt;com.briar.Agent&lt;/Agent-Class&gt;\r\n                    &lt;Can-Redefine-Classes&gt;true&lt;/Can-Redefine-Classes&gt;\r\n                    &lt;Can-Retransform-Classes&gt;true&lt;/Can-Retransform-Classes&gt;\r\n                    &lt;Main-Class&gt;com.briar.Agent&lt;/Main-Class&gt;\r\n                    &lt;Class-Path&gt;. ${java.home}\\..\\lib\\tools.jar ${build.finalName}.jar&lt;/Class-Path&gt;\r\n                    &lt;Can-Set-Native-Method-Prefix&gt;true&lt;/Can-Set-Native-Method-Prefix&gt;\r\n                  &lt;/manifestEntries&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n              &lt;relocations&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;org.yaml&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;com.briar.org.yaml&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n                &lt;relocation&gt;\r\n                  &lt;pattern&gt;javassist&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;com.briar.org.javassist&lt;/shadedPattern&gt;\r\n                &lt;/relocation&gt;\r\n              &lt;/relocations&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;${tools.version}&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;jdk.version&gt;8&lt;/jdk.version&gt;\r\n    &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\r\n    &lt;tools.version&gt;1.8.0&lt;/tools.version&gt;\r\n    &lt;maven.compiler.version&gt;3.1&lt;/maven.compiler.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\r\n  &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nI click clean and packagethen &quot;cd&quot; to target, `java -jar Detail-RASP-Agent.jar`,I get the error;\r\n`Error: can not find or load main class com.briar.Agent`\r\nI check the the MANIFEST.MF file and I see that Main-Class has been added.But still there is this error.\r\n\r\n\r\n\r\nI tried adding . to the classpath of MANIFEST.MF, but it doesn&#39;t work.At the same time, I checked the entire project and the MANIFEST.MF file and there is no problem\r\n\r\nI add -Xdiag parameter to see the details, the details are as follows:\r\n\r\n```\r\nError: can not find or load main class com.briar.Agent\r\njava.lang.ClassNotFoundException: com.briar.Agent\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GwjL3.png","title":"Error: can not find or load main class com.briar.Agent","body":"<p>My project structure is as follows\n---Detail-RASP---src</p>\n<p>My maven pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.briar&lt;/groupId&gt;\n  &lt;artifactId&gt;Detail-RASP&lt;/artifactId&gt;\n  &lt;name&gt;Detail-RASP&lt;/name&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;Detail-RASP-Agent&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${jdk.version}&lt;/source&gt;\n          &lt;target&gt;${jdk.version}&lt;/target&gt;\n          &lt;encoding&gt;${maven.compiler.encoding}&lt;/encoding&gt;\n          &lt;skip&gt;true&lt;/skip&gt;\n          &lt;compilerArguments&gt;\n            &lt;bootclasspath&gt;${java.home}/lib/rt.jar&lt;/bootclasspath&gt;\n          &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;filters&gt;\n                &lt;filter&gt;\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;META-INF/maven/&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/filter&gt;\n              &lt;/filters&gt;\n              &lt;transformers&gt;\n                &lt;transformer&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Premain-Class&gt;com.briar.Agent&lt;/Premain-Class&gt;\n                    &lt;Agent-Class&gt;com.briar.Agent&lt;/Agent-Class&gt;\n                    &lt;Can-Redefine-Classes&gt;true&lt;/Can-Redefine-Classes&gt;\n                    &lt;Can-Retransform-Classes&gt;true&lt;/Can-Retransform-Classes&gt;\n                    &lt;Main-Class&gt;com.briar.Agent&lt;/Main-Class&gt;\n                    &lt;Class-Path&gt;. ${java.home}\\..\\lib\\tools.jar ${build.finalName}.jar&lt;/Class-Path&gt;\n                    &lt;Can-Set-Native-Method-Prefix&gt;true&lt;/Can-Set-Native-Method-Prefix&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n              &lt;relocations&gt;\n                &lt;relocation&gt;\n                  &lt;pattern&gt;org.yaml&lt;/pattern&gt;\n                  &lt;shadedPattern&gt;com.briar.org.yaml&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                  &lt;pattern&gt;javassist&lt;/pattern&gt;\n                  &lt;shadedPattern&gt;com.briar.org.javassist&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n              &lt;/relocations&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\n      &lt;version&gt;${tools.version}&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;properties&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;jdk.version&gt;8&lt;/jdk.version&gt;\n    &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\n    &lt;tools.version&gt;1.8.0&lt;/tools.version&gt;\n    &lt;maven.compiler.version&gt;3.1&lt;/maven.compiler.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;3.8.1&lt;/junit.version&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I click clean and packagethen &quot;cd&quot; to target, <code>java -jar Detail-RASP-Agent.jar</code>,I get the error;\n<code>Error: can not find or load main class com.briar.Agent</code>\nI check the the MANIFEST.MF file and I see that Main-Class has been added.But still there is this error.</p>\n<p>I tried adding . to the classpath of MANIFEST.MF, but it doesn't work.At the same time, I checked the entire project and the MANIFEST.MF file and there is no problem</p>\n<p>I add -Xdiag parameter to see the details, the details are as follows:</p>\n<pre><code>Error: can not find or load main class com.briar.Agent\njava.lang.ClassNotFoundException: com.briar.Agent\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n\n</code></pre>\n"},{"tags":["java","android","gson","jcenter"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1677307539,"post_id":75563727,"comment_id":133315952,"body_markdown":"try using maven central instead. if you use gradle then you can try `implementation &#39;com.google.code.gson:gson:2.10&#39;` in `dependencies` and `mavenCentral()` in `repositories` . No need to replace gson with anything else, it&#39;s an issue with dependency resolution","body":"try using maven central instead. if you use gradle then you can try <code>implementation &#39;com.google.code.gson:gson:2.10&#39;</code> in <code>dependencies</code> and <code>mavenCentral()</code> in <code>repositories</code> . No need to replace gson with anything else, it&#39;s an issue with dependency resolution"}],"answers":[{"comments":[{"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"score":0,"creation_date":1678706706,"post_id":75563785,"comment_id":133579474,"body_markdown":"Appreciate me by upvoting this answer if this helps you","body":"Appreciate me by upvoting this answer if this helps you"}],"tags":[],"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677308065,"creation_date":1677308065,"answer_id":75563785,"question_id":75563727,"body_markdown":"Don&#39;t include the ```jcenter()``` repository in your build config to avoid getting outdated dependencies. according to the official documentation https://developer.android.com/studio/build/jcenter-migration\r\n\r\nYou can use ```mavenCentral()```, in your project level ```build.gradle``` add ```repositories {\r\n        google()  // Google&#39;s Maven repository\r\n        mavenCentral()  // Maven Central repository\r\n    }``` and in app level ```build.gradle``` add ```\r\nimplementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.10&#39;```","title":"What is the alternative to Gson in android studios","body":"<p>Don't include the <code>jcenter()</code> repository in your build config to avoid getting outdated dependencies. according to the official documentation <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/jcenter-migration</a></p>\n<p>You can use <code>mavenCentral()</code>, in your project level <code>build.gradle</code> add <code>repositories { google()  // Google's Maven repository mavenCentral()  // Maven Central repository }</code> and in app level <code>build.gradle</code> add <code> implementation group: 'com.google.code.gson', name: 'gson', version: '2.10'</code></p>\n"}],"owner":{"account_id":22409571,"reputation":5,"user_id":16618561,"display_name":"Srujan Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75563785,"answer_count":1,"score":0,"last_activity_date":1677309375,"creation_date":1677307169,"question_id":75563727,"body_markdown":"[here is the screenshot][1] I am developing an android application for my college project and I ran into an error; &quot; Cannot resolve symbol Gson&quot;.\r\n\r\nI tried adding the `jcenter()` repository in my build config to resolve the problem....but still it&#39;s not working. Later I came to know that `jcenter()` had been deprecated...Now how do I resolve my problem?? Any advice would be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oIJaC.png","title":"What is the alternative to Gson in android studios","body":"<p><a href=\"https://i.stack.imgur.com/oIJaC.png\" rel=\"nofollow noreferrer\">here is the screenshot</a> I am developing an android application for my college project and I ran into an error; &quot; Cannot resolve symbol Gson&quot;.</p>\n<p>I tried adding the <code>jcenter()</code> repository in my build config to resolve the problem....but still it's not working. Later I came to know that <code>jcenter()</code> had been deprecated...Now how do I resolve my problem?? Any advice would be appreciated</p>\n"},{"tags":["java","maven","exception","plugins"],"comments":[{"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"score":0,"creation_date":1580390715,"post_id":59986900,"comment_id":106087387,"body_markdown":"I saw similar questions and nevertheless I opened this topic because  existing answers didn&#39;t solve my problem","body":"I saw similar questions and nevertheless I opened this topic because  existing answers didn&#39;t solve my problem"},{"owner":{"account_id":881430,"reputation":290,"user_id":263597,"display_name":"gbuys"},"score":0,"creation_date":1580391265,"post_id":59986900,"comment_id":106087711,"body_markdown":"Most likely an incompatibility between jacoco version and the JDK version that&#39;s running your maven project.  Try to google on &#39;NoSuchFieldException: $jacocoAccess&#39; and you&#39;ll find a few useful hits","body":"Most likely an incompatibility between jacoco version and the JDK version that&#39;s running your maven project.  Try to google on &#39;NoSuchFieldException: $jacocoAccess&#39; and you&#39;ll find a few useful hits"}],"answers":[{"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1591698321,"post_id":59987807,"comment_id":110147560,"body_markdown":"Upgrading Jacoco is what resolved the issue for me after upgrading to Java 11","body":"Upgrading Jacoco is what resolved the issue for me after upgrading to Java 11"}],"tags":[],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1605726084,"creation_date":1580393135,"answer_id":59987807,"question_id":59986900,"body_markdown":"The answer below helped. For me it was a problem between Jacoco version and my JDK. \r\n\r\nThere are two options to solve this:\r\n\r\n 1. Make sure that there is an appropriate version for your JDK and upgrade jacoco\r\n 2. Use an older JDK\r\n","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>The answer below helped. For me it was a problem between Jacoco version and my JDK.</p>\n<p>There are two options to solve this:</p>\n<ol>\n<li>Make sure that there is an appropriate version for your JDK and upgrade jacoco</li>\n<li>Use an older JDK</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":2,"creation_date":1612822235,"post_id":61028211,"comment_id":116882163,"body_markdown":"Also -- if this doesn&#39;t help and you are using Gradle (too?) -- make sure the (Settings&gt;Build&gt;Tools&gt;)Gradle page shows the &quot;Gradle JVM&quot; setting is also 1.8 (same as the project SDK above)","body":"Also -- if this doesn&#39;t help and you are using Gradle (too?) -- make sure the (Settings&gt;Build&gt;Tools&gt;)Gradle page shows the &quot;Gradle JVM&quot; setting is also 1.8 (same as the project SDK above)"}],"tags":[],"owner":{"account_id":7372308,"reputation":782,"user_id":5612132,"display_name":"Abdoulie Kassama"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586004000,"creation_date":1586004000,"answer_id":61028211,"question_id":59986900,"body_markdown":"Just to add to the given answer. My issue was due to the fact that I was using Java 14. JaCoCo needed an older version. So I downloaded and installed JDK 1.8.0. Now in IntelliJ:\r\n\r\nGo to `project structure` (top right)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nClick on `Project` under `Project Settings`\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen select JDK 1.8\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l1eJK.png\r\n  [2]: https://i.stack.imgur.com/GkzH5.png\r\n  [3]: https://i.stack.imgur.com/Jqo0b.png","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>Just to add to the given answer. My issue was due to the fact that I was using Java 14. JaCoCo needed an older version. So I downloaded and installed JDK 1.8.0. Now in IntelliJ:</p>\n\n<p>Go to <code>project structure</code> (top right)</p>\n\n<p><a href=\"https://i.stack.imgur.com/l1eJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1eJK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click on <code>Project</code> under <code>Project Settings</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/GkzH5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkzH5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then select JDK 1.8</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jqo0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jqo0b.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677308859,"creation_date":1677308859,"answer_id":75563843,"question_id":59986900,"body_markdown":"If you are using gradle and failing `test with coverage`\r\ntry changing Gradle JVM\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsymL.png\r\n\r\nthen it worked for me","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>If you are using gradle and failing <code>test with coverage</code>\ntry changing Gradle JVM\n<a href=\"https://i.stack.imgur.com/gsymL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsymL.png\" alt=\"enter image description here\" /></a></p>\n<p>then it worked for me</p>\n"}],"owner":{"account_id":17323136,"reputation":175,"user_id":12548037,"display_name":"Eugen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12869,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":59987807,"answer_count":3,"score":2,"last_activity_date":1677308859,"creation_date":1580390127,"question_id":59986900,"body_markdown":"I&#39;m trying to install maven project but facing an \r\n\r\n&gt; exception: Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test\r\n&gt; (default-test)\r\n\r\nThere are test failures.\r\n\r\nWhen I looked at the .dump file I see this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n    \r\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\n    \r\n    Caused by: java.lang.RuntimeException: Class java/lang/UnknownError could not be instrumented.\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\r\n    \r\n    \tat org.jacoco.agent.rt.internal_c13123e.PreMain.createRuntime(PreMain.java:55)\r\n    \r\n    \tat org.jacoco.agent.rt.internal_c13123e.PreMain.premain(PreMain.java:47)\r\n    \r\n    Caused by: java.lang.NoSuchFieldException: $jacocoAccess\r\n    \r\n    \tat java.base/java.lang.Class.getField(Class.java:1999)\r\n    \r\n    org.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\r\n    \r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at  line: 422\r\n\r\nI&#39;m pretty sure there is no any problems in the code as it works well on other computers. Skipping tests is not an option because it is an integration-tests module\r\n","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException while installing maven project","body":"<p>I'm trying to install maven project but facing an </p>\n\n<blockquote>\n  <p>exception: Failed to execute goal\n  org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test\n  (default-test)</p>\n</blockquote>\n\n<p>There are test failures.</p>\n\n<p>When I looked at the .dump file I see this:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.reflect.InvocationTargetException\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n\nat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\n\nCaused by: java.lang.RuntimeException: Class java/lang/UnknownError could not be instrumented.\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\n\n    at org.jacoco.agent.rt.internal_c13123e.PreMain.createRuntime(PreMain.java:55)\n\n    at org.jacoco.agent.rt.internal_c13123e.PreMain.premain(PreMain.java:47)\n\nCaused by: java.lang.NoSuchFieldException: $jacocoAccess\n\n    at java.base/java.lang.Class.getField(Class.java:1999)\n\norg.jacoco.agent.rt.internal_c13123e.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\n\n*** java.lang.instrument ASSERTION FAILED ***: \"result\" with message agent load/premain call failed at  line: 422\n</code></pre>\n\n<p>I'm pretty sure there is no any problems in the code as it works well on other computers. Skipping tests is not an option because it is an integration-tests module</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"comments":[{"owner":{"account_id":1852467,"reputation":7655,"user_id":1678718,"accept_rate":64,"display_name":"Rarw"},"score":0,"creation_date":1416967432,"post_id":21221016,"comment_id":42777965,"body_markdown":"Great point. This helped me find a careless error of using a double loop with a cursor. Pure havoc.","body":"Great point. This helped me find a careless error of using a double loop with a cursor. Pure havoc."},{"owner":{"account_id":217395,"reputation":682,"user_id":473180,"accept_rate":100,"display_name":"themarketka"},"score":0,"creation_date":1423956336,"post_id":21221016,"comment_id":45359509,"body_markdown":"This happens to me as well, but it reads `Open Cursors=2`, and I only query for a new cursor when the old one reports false from `isClosed()`&#160;which is weird then.","body":"This happens to me as well, but it reads <code>Open Cursors=2</code>, and I only query for a new cursor when the old one reports false from <code>isClosed()</code> which is weird then."},{"owner":{"account_id":1878599,"reputation":681,"user_id":1699253,"accept_rate":20,"display_name":"Sivakumar S"},"score":1,"creation_date":1466415728,"post_id":21221016,"comment_id":63289193,"body_markdown":"The same issue happens to me and i could see `Open Cursors =1`. Any hints from anyone?","body":"The same issue happens to me and i could see <code>Open Cursors =1</code>. Any hints from anyone?"},{"owner":{"account_id":292950,"reputation":1933,"user_id":596013,"accept_rate":67,"display_name":"manfcas"},"score":0,"creation_date":1544104273,"post_id":21221016,"comment_id":94164068,"body_markdown":"Maybe some sort of `OutOfMemoryError`?","body":"Maybe some sort of <code>OutOfMemoryError</code>?"},{"owner":{"account_id":3208882,"reputation":810,"user_id":2709298,"display_name":"Kishita Variya"},"score":0,"creation_date":1554268020,"post_id":21221016,"comment_id":97683273,"body_markdown":"How can we close cursor in case of queryBuilder.query(); ?","body":"How can we close cursor in case of queryBuilder.query(); ?"}],"tags":[],"owner":{"account_id":2104561,"reputation":8300,"user_id":1871207,"display_name":"NigelK"},"comment_count":5,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1390157100,"creation_date":1390157100,"answer_id":21221016,"question_id":21219039,"body_markdown":"This error is nearly always due to not closing a cursor when it&#39;s finished with. Every time you open a cursor, memory is required to map the data that cursor represents and that memory cannot be released until the cursor is closed. There is a limit to the amount of memory available for this purpose so if cursors are not closed and an application continues to open new ones, this error is likely to occur at some point.\r\n\r\nI recommend you examine your code to make sure that all cursors created are being closed at some point. Also take care with any code that opens a cursor within a loop - your error message says &#39;open Cursors=736&#39; which suggests a lot of cursor activity within a loop of some sort.","title":"android.database.CursorWindowAllocationException when moving a Cursor","body":"<p>This error is nearly always due to not closing a cursor when it's finished with. Every time you open a cursor, memory is required to map the data that cursor represents and that memory cannot be released until the cursor is closed. There is a limit to the amount of memory available for this purpose so if cursors are not closed and an application continues to open new ones, this error is likely to occur at some point.</p>\n\n<p>I recommend you examine your code to make sure that all cursors created are being closed at some point. Also take care with any code that opens a cursor within a loop - your error message says 'open Cursors=736' which suggests a lot of cursor activity within a loop of some sort.</p>\n"}],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19164,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":21221016,"answer_count":1,"score":17,"last_activity_date":1677306719,"creation_date":1390147063,"question_id":21219039,"body_markdown":"I&#39;am using an SQLite database and I regularly get runtime errors I can&#39;t find the origin of. After a query, I use `moveToFirst` to point on the first record retrieved and this sometimes triggers an `android.database.CursorWindowAllocationException` exception. Added to this exception is the following sentence : &quot;Cursor window allocation of 2048kb failed.# open Cursors=736 (#cursors opendby this proc=736)&quot;.\r\n \r\nIn the Android documentation, I haven&#39;t found anything related to this exception yet. Does anyone know it&#39;s cause and a way to avoid it?","title":"android.database.CursorWindowAllocationException when moving a Cursor","body":"<p>I'am using an SQLite database and I regularly get runtime errors I can't find the origin of. After a query, I use <code>moveToFirst</code> to point on the first record retrieved and this sometimes triggers an <code>android.database.CursorWindowAllocationException</code> exception. Added to this exception is the following sentence : \"Cursor window allocation of 2048kb failed.# open Cursors=736 (#cursors opendby this proc=736)\".</p>\n\n<p>In the Android documentation, I haven't found anything related to this exception yet. Does anyone know it's cause and a way to avoid it?</p>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676667597,"post_id":75488776,"comment_id":133190879,"body_markdown":"What version of RESTEasy are you using?","body":"What version of RESTEasy are you using?"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676672225,"post_id":75488776,"comment_id":133191758,"body_markdown":"RedHat Quarkus ships with RESTEasy 4.7.7.","body":"RedHat Quarkus ships with RESTEasy 4.7.7."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676672534,"post_id":75488776,"comment_id":133191813,"body_markdown":"If you use the MP REST Client it extends `AutoCloseable` and allows the connection to be closed. That seems like a reasonable feature request in RESTEasy to me.","body":"If you use the MP REST Client it extends <code>AutoCloseable</code> and allows the connection to be closed. That seems like a reasonable feature request in RESTEasy to me."},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676673890,"post_id":75488776,"comment_id":133192062,"body_markdown":"Hhh, that seems like a really valuable hint, thanks. Sorry, this is all so new to me that I first had to figure out what &quot;MP&quot; stands for. I checked the docs at https://docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/MicroProfile_Rest_Client.html; currently analyzing how to potentially migrate our code base. What is e.g. the MP equivalent to this: `ClientBuilder.newBuilder().build().target(urlBuilder.build()).register(MyClientRequestFilter(appName, tokenProvider))`?","body":"Hhh, that seems like a really valuable hint, thanks. Sorry, this is all so new to me that I first had to figure out what &quot;MP&quot; stands for. I checked the docs at <a href=\"https://docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/MicroProfile_Rest_Client.html\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/4.7.7.Final/userguide/html/&hellip;</a>; currently analyzing how to potentially migrate our code base. What is e.g. the MP equivalent to this: <code>ClientBuilder.newBuilder().build().target(urlBuilder.build()&zwnj;&#8203;).register(MyClientR&zwnj;&#8203;equestFilter(appName&zwnj;&#8203;, tokenProvider))</code>?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676908440,"post_id":75488776,"comment_id":133227356,"body_markdown":"Something like this `RestClientBuilder.newBuilder()\n        .baseUri(urlBuilder.build())\n        .register(yClientRequestFilter(appName, tokenProvider))\n        .build(MoviesResource.class);`. You can also just inject it with CDI.","body":"Something like this <code>RestClientBuilder.newBuilder()         .baseUri(urlBuilder.build())         .register(yClientRequestFilter(appName, tokenProvider))         .build(MoviesResource.class);</code>. You can also just inject it with CDI."},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676968046,"post_id":75488776,"comment_id":133238558,"body_markdown":"Thanks James. I was bit stuck on your earlier statement: &quot;use the MP REST Client it extends `AutoCloseable`&quot;. Looking at `RestClientDelegateBean.destroy()` and the `CloseableClientTest` you recently added, isn&#39;t it more like &quot;let the proxy interface extend `AutoCloseable` such that MP RESTEasy can close it&quot;?","body":"Thanks James. I was bit stuck on your earlier statement: &quot;use the MP REST Client it extends <code>AutoCloseable</code>&quot;. Looking at <code>RestClientDelegateBean.destroy()</code> and the <code>CloseableClientTest</code> you recently added, isn&#39;t it more like &quot;let the proxy interface extend <code>AutoCloseable</code> such that MP RESTEasy can close it&quot;?"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1676993412,"post_id":75488776,"comment_id":133246745,"body_markdown":"That is to say that I didn&#39;t find any code that would support the claim that MP `RestClientBuilder.build()` would automatically create an `AutoCloseable` proxy. Btw, I&#39;m working with Quarkus which ships with its own almost-copy of that builder (`QuarkusRestClientBuilder`).","body":"That is to say that I didn&#39;t find any code that would support the claim that MP <code>RestClientBuilder.build()</code> would automatically create an <code>AutoCloseable</code> proxy. Btw, I&#39;m working with Quarkus which ships with its own almost-copy of that builder (<code>QuarkusRestClientBuilder</code>)."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676993738,"post_id":75488776,"comment_id":133246851,"body_markdown":"Yes, sorry that I was&#39;t clear. The MP spec requires the proxy extend `Closeable` or `AutoCloseable` if the interface does not already extend one of them https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#lifecycle. With CDI it automatically closes the proxy when the proxy is destroyed.","body":"Yes, sorry that I was&#39;t clear. The MP spec requires the proxy extend <code>Closeable</code> or <code>AutoCloseable</code> if the interface does not already extend one of them <a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#lifecycle\" rel=\"nofollow noreferrer\">download.eclipse.org/microprofile/microprofile-rest-client-3&zwnj;&#8203;.0/&hellip;</a>. With CDI it automatically closes the proxy when the proxy is destroyed."}],"answers":[{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677306521,"creation_date":1677077010,"answer_id":75534315,"question_id":75488776,"body_markdown":"Thanks to all the feedback from @james-r-perkins I eventually I arrived at the following (Kotlin) code:\r\n\r\n```kotlin\r\nfinal inline fun &lt;reified T : AutoCloseable&gt; createServiceProxy(\r\n    serviceName: String\r\n): T = RestClientBuilder.newBuilder()\r\n    .baseUri(createServiceUriBuilder(serviceName).build())\r\n    .register(MyClientRequestFilter(appName, tokenProvider))\r\n    .build(T::class.java)\r\n```\r\n\r\nContrary to my earlier comment both the [RESTEasy MP `RestClientBuilderImpl`][1] and the [Quarkus `QuarkusRestClientBuilder`][2] DO create proxies that _also_ implement `Closeable` (which extends `AutoCloseable`). Just as James said...\r\n\r\nHowever, we see value in enforcing that our client interfaces extend `AutoCloseable` directly. Sure, it&#39;s a few extra characters in the source code but on the plus-side it&#39;s type information the compiler can use to allow us to simplify code elsewhere. Hence, it&#39;s crucial here that the generics declaration is `T : AutoCloseable` rather than `T : Any`.\r\n\r\n\r\n  [1]: https://github.com/resteasy/resteasy-microprofile/blob/main/rest-client-base/src/main/java/org/jboss/resteasy/microprofile/client/RestClientBuilderImpl.java#L385\r\n  [2]: https://github.com/quarkusio/quarkus/blob/main/extensions/resteasy-classic/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/QuarkusRestClientBuilder.java#L362","title":"How to close a proxied RESTEasy WebTarget","body":"<p>Thanks to all the feedback from @james-r-perkins I eventually I arrived at the following (Kotlin) code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>final inline fun &lt;reified T : AutoCloseable&gt; createServiceProxy(\n    serviceName: String\n): T = RestClientBuilder.newBuilder()\n    .baseUri(createServiceUriBuilder(serviceName).build())\n    .register(MyClientRequestFilter(appName, tokenProvider))\n    .build(T::class.java)\n</code></pre>\n<p>Contrary to my earlier comment both the <a href=\"https://github.com/resteasy/resteasy-microprofile/blob/main/rest-client-base/src/main/java/org/jboss/resteasy/microprofile/client/RestClientBuilderImpl.java#L385\" rel=\"nofollow noreferrer\">RESTEasy MP <code>RestClientBuilderImpl</code></a> and the <a href=\"https://github.com/quarkusio/quarkus/blob/main/extensions/resteasy-classic/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/QuarkusRestClientBuilder.java#L362\" rel=\"nofollow noreferrer\">Quarkus <code>QuarkusRestClientBuilder</code></a> DO create proxies that <em>also</em> implement <code>Closeable</code> (which extends <code>AutoCloseable</code>). Just as James said...</p>\n<p>However, we see value in enforcing that our client interfaces extend <code>AutoCloseable</code> directly. Sure, it's a few extra characters in the source code but on the plus-side it's type information the compiler can use to allow us to simplify code elsewhere. Hence, it's crucial here that the generics declaration is <code>T : AutoCloseable</code> rather than <code>T : Any</code>.</p>\n"}],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75534315,"answer_count":1,"score":0,"last_activity_date":1677306521,"creation_date":1676664145,"question_id":75488776,"body_markdown":"Given the following RESTEasy snippet\r\n\r\n    UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\r\n\r\n    ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\r\n    ResteasyWebTarget target = client.target(FULL_PATH);\r\n    MoviesResource proxy = target.proxy(MoviesResource.class);\r\n\r\n    Movie movie = proxy.movieById(someId);\r\n\r\nI could/can/should close `WebTarget` or `Client` to free resources I allocated*.\r\n\r\nHowever, what do I do if the creation of the proxy object and everything it depends on is handed off to a separate class like so:\r\n\r\n    public class Foo {\r\n        private UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\r\n    \r\n        public MoviesResource getMoviesApi() {\r\n            ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\r\n            ResteasyWebTarget target = client.target(FULL_PATH);\r\n            return target.proxy(MoviesResource.class);\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    MoviesResource proxy = myFoo.getMoviesApi();\r\n    Movie movie = proxy.movieById(someId);\r\n    // A) how to clean up here?\r\n\r\nHow do I close the `WebTarget` or `Client` or their underlying resources? I can&#39;t get access to either of them through the proxied instance.\r\nIf I do *not* close them I get this dreaded warning\r\n\r\n&gt;  RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself.\r\n\r\nHence, RESTEasy does clean up for me but that&#39;s of course not what I should rely on.\r\n\r\n*there are discussions in a number of places eg. https://stackoverflow.com/q/33097230/131929 and https://stackoverflow.com/q/24700798/131929 about what is reusable and what not","title":"How to close a proxied RESTEasy WebTarget","body":"<p>Given the following RESTEasy snippet</p>\n<pre><code>UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\n\nResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\nResteasyWebTarget target = client.target(FULL_PATH);\nMoviesResource proxy = target.proxy(MoviesResource.class);\n\nMovie movie = proxy.movieById(someId);\n</code></pre>\n<p>I could/can/should close <code>WebTarget</code> or <code>Client</code> to free resources I allocated*.</p>\n<p>However, what do I do if the creation of the proxy object and everything it depends on is handed off to a separate class like so:</p>\n<pre><code>public class Foo {\n    private UriBuilder FULL_PATH = UriBuilder.fromPath(&quot;http://127.0.0.1:8080/movies&quot;);\n\n    public MoviesResource getMoviesApi() {\n        ResteasyClient client = (ResteasyClient)ClientBuilder.newClient();\n        ResteasyWebTarget target = client.target(FULL_PATH);\n        return target.proxy(MoviesResource.class);\n    }\n}\n\n...\n\nMoviesResource proxy = myFoo.getMoviesApi();\nMovie movie = proxy.movieById(someId);\n// A) how to clean up here?\n</code></pre>\n<p>How do I close the <code>WebTarget</code> or <code>Client</code> or their underlying resources? I can't get access to either of them through the proxied instance.\nIf I do <em>not</em> close them I get this dreaded warning</p>\n<blockquote>\n<p>RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself.</p>\n</blockquote>\n<p>Hence, RESTEasy does clean up for me but that's of course not what I should rely on.</p>\n<p>*there are discussions in a number of places eg. <a href=\"https://stackoverflow.com/q/33097230/131929\">Reusing JAX RS Client in multi-threaded environment (with resteasy)</a> and <a href=\"https://stackoverflow.com/q/24700798/131929\">Is JAX-RS Client Thread Safe</a> about what is reusable and what not</p>\n"},{"tags":["java","flutter","android-studio","kotlin","android-gradle-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677323297,"post_id":75563616,"comment_id":133317610,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26377046,"reputation":1,"user_id":20030844,"display_name":"Chala Geta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677305649,"creation_date":1677305649,"question_id":75563616,"body_markdown":" Gradle threw an error while downloading artifacts from the network. \r\n\r\nI tried to correct it by changing its version but it can not run successfully","title":"Gradle threw an error while downloading artifacts from the network. Retrying Gradle Build:","body":"<p>Gradle threw an error while downloading artifacts from the network.</p>\n<p>I tried to correct it by changing its version but it can not run successfully</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1646076604,"post_id":71300043,"comment_id":126030699,"body_markdown":"When it comes to save() Optional means an object may exist and does not focus on db constraints.  For delete() JPA returns void","body":"When it comes to save() Optional means an object may exist and does not focus on db constraints.  For delete() JPA returns void"},{"owner":{"account_id":5282291,"reputation":109,"user_id":4217240,"display_name":"Atul Kumar"},"score":0,"creation_date":1646077589,"post_id":71300043,"comment_id":126031017,"body_markdown":"Did you try this,  @Override\n public Optional&lt;Employee&gt; saveEmployee(Employee employee) {\n     return Optional.ofNullable(employeeRepository.save(employee));\n }","body":"Did you try this,  @Override  public Optional&lt;Employee&gt; saveEmployee(Employee employee) {      return Optional.ofNullable(employeeRepository.save(employee));  }"},{"owner":{"account_id":22617161,"reputation":158,"user_id":16796536,"display_name":"Simon Oelerich"},"score":1,"creation_date":1646153552,"post_id":71300043,"comment_id":126051047,"body_markdown":"For the last question, if that&#39;s something people do: I do not bother about it. When your entity cannot be persisted an error will be thrown. In your last example you catch the exception and produce a response status 500, but that is what Spring would do on its own anyways, when the exception is not handled by your code. There are situations where you really want to handle exceptions, for a simple REST controller I don&#39;t see a benefit. (Except you want to produce a &quot;readable&quot; error message for any reason).","body":"For the last question, if that&#39;s something people do: I do not bother about it. When your entity cannot be persisted an error will be thrown. In your last example you catch the exception and produce a response status 500, but that is what Spring would do on its own anyways, when the exception is not handled by your code. There are situations where you really want to handle exceptions, for a simple REST controller I don&#39;t see a benefit. (Except you want to produce a &quot;readable&quot; error message for any reason)."},{"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"score":0,"creation_date":1646154116,"post_id":71300043,"comment_id":126051278,"body_markdown":"@SimonOelerich thx for your comment! So, would you suggest to just go with the second last example, just as it was originally? In this case, am I not returning an http status of 200 every time, even if a DataAccessException occurs (due to the ResponseEntity.ok()) ?","body":"@SimonOelerich thx for your comment! So, would you suggest to just go with the second last example, just as it was originally? In this case, am I not returning an http status of 200 every time, even if a DataAccessException occurs (due to the ResponseEntity.ok()) ?"},{"owner":{"account_id":22617161,"reputation":158,"user_id":16796536,"display_name":"Simon Oelerich"},"score":0,"creation_date":1646176221,"post_id":71300043,"comment_id":126057907,"body_markdown":"Yes, simply returning `ResponseEntity.ok(emplyeeRepo.findById(id))` is sufficient. For all save/find/delete it is fine. And most likely you won&#39;t need the service in addition to the repository. You can directly call the JpaRepository methods, as the exception handling is done by spring independent of its origin. You would only need it if there is additional business logic beyond simple bean validation.","body":"Yes, simply returning <code>ResponseEntity.ok(emplyeeRepo.findById(id))</code> is sufficient. For all save/find/delete it is fine. And most likely you won&#39;t need the service in addition to the repository. You can directly call the JpaRepository methods, as the exception handling is done by spring independent of its origin. You would only need it if there is additional business logic beyond simple bean validation."}],"answers":[{"comments":[{"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"score":0,"creation_date":1646081419,"post_id":71300434,"comment_id":126032156,"body_markdown":"Is it a `DataAccessException` that I would have to catch? Would you recommend to do this?","body":"Is it a <code>DataAccessException</code> that I would have to catch? Would you recommend to do this?"},{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1646082843,"post_id":71300434,"comment_id":126032554,"body_markdown":"I always simply use &quot;catch (exception e)&quot;. But I&#39;ve also read that all the JPA exceptions will be converted to DataAccessException. You can catch the DataAccessException in the first catch &quot;catch (exception e1)&quot; and if anything else is thrown, catch in in a second catch &quot;catch (exception e2)&quot; as a tolerance.","body":"I always simply use &quot;catch (exception e)&quot;. But I&#39;ve also read that all the JPA exceptions will be converted to DataAccessException. You can catch the DataAccessException in the first catch &quot;catch (exception e1)&quot; and if anything else is thrown, catch in in a second catch &quot;catch (exception e2)&quot; as a tolerance."},{"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"score":0,"creation_date":1646152534,"post_id":71300434,"comment_id":126050619,"body_markdown":"allright, thx a lot, once again! I have updated my question, could you please take a look and let me know if that is what you had in mind?","body":"allright, thx a lot, once again! I have updated my question, could you please take a look and let me know if that is what you had in mind?"},{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1646164921,"post_id":71300434,"comment_id":126054768,"body_markdown":"Considering that an exception occurs if anything goes anything wrong during delete method in repository class, You will never enter &quot;else&quot; in your deleteEmployee of  the controller. I suggest you to refactor the part in your service layer  to the following code and then remove try-catch block in your controller:","body":"Considering that an exception occurs if anything goes anything wrong during delete method in repository class, You will never enter &quot;else&quot; in your deleteEmployee of  the controller. I suggest you to refactor the part in your service layer  to the following code and then remove try-catch block in your controller:"},{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1646165028,"post_id":71300434,"comment_id":126054804,"body_markdown":"public Long deleteEmployeeIU(Long id) {\n        try {\n            userRepository.deleteById(id);\n            return id;\n        } catch (DataAccessException e) {\n            return Long.valueOf(0);\n        }\n    }","body":"public Long deleteEmployeeIU(Long id) {         try {             userRepository.deleteById(id);             return id;         } catch (DataAccessException e) {             return Long.valueOf(0);         }     }"}],"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646078153,"creation_date":1646078153,"answer_id":71300434,"question_id":71300043,"body_markdown":"The method &quot;save&quot; always returns you the same object you are going to save. Only by checking the &quot;id&quot;, you can see if the object is saved or not. But if an error occurs in the database, an exception will be thrown and you can catch it by putting &quot;employeeRepository.save(employee)&quot; in a try-catch block. The same way you can do for deleteById","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>The method &quot;save&quot; always returns you the same object you are going to save. Only by checking the &quot;id&quot;, you can see if the object is saved or not. But if an error occurs in the database, an exception will be thrown and you can catch it by putting &quot;employeeRepository.save(employee)&quot; in a try-catch block. The same way you can do for deleteById</p>\n"},{"tags":[],"owner":{"account_id":8921796,"reputation":21,"user_id":6658040,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677305260,"creation_date":1677280862,"answer_id":75562239,"question_id":71300043,"body_markdown":"I had a similar problem, I wanted to capture any error that might occur while inserting, updating or deleting data. I have adapted my code as indicated by Azadi Yazdani, I implemented the exception in the services layer and it worked as I wanted, thanks Azadi Yazdani.\r\n    \r\n    @Service\r\n    public class UsuarioServiceImpl implements UsuarioService {\r\n        @Autowired\r\n        UsuarioRepository repository;\r\n        @Override\r\n        public long grabar(Usuario usuario) {\r\n            long result =0;\r\n            try {\r\n                Usuario u=repository.save(usuario);\r\n                result=u.getId_usuario();\r\n            }catch (DataAccessException e){\r\n                result=-1;\r\n            }\r\n            return result;\r\n        }\r\n    }","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>I had a similar problem, I wanted to capture any error that might occur while inserting, updating or deleting data. I have adapted my code as indicated by Azadi Yazdani, I implemented the exception in the services layer and it worked as I wanted, thanks Azadi Yazdani.</p>\n<pre><code>@Service\npublic class UsuarioServiceImpl implements UsuarioService {\n    @Autowired\n    UsuarioRepository repository;\n    @Override\n    public long grabar(Usuario usuario) {\n        long result =0;\n        try {\n            Usuario u=repository.save(usuario);\n            result=u.getId_usuario();\n        }catch (DataAccessException e){\n            result=-1;\n        }\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677305260,"creation_date":1646076105,"question_id":71300043,"body_markdown":"I am using Spring Data JPA to process database calls. For this purpose, I have created: \r\n\r\n1. An EmployeeRepository interface, which extends a `JpaRepository&lt;Employee, Long&gt;`\r\n2. An EmployeeService, which defines three methods: \r\n\r\n        Employee saveEmployee(Employee employee);\r\n        Optional&lt;Employee&gt; getEmployee(Long id);\r\n        Long deleteEmployee(Long id);\r\n    \r\n\r\n3. An implementation of the EmployeeService: \r\n\r\n\t    @Override\r\n\t    public Employee saveEmployee(Employee employee) {\r\n\t\t    return employeeRepository.save(employee);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Optional&lt;Employee&gt; getEmployee(Long id) {\r\n\t\t    return employeeRepository.findEmployeeById(id);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Long deleteEmployee(Long id) {\r\n\t\t    employeeRepository.deleteById(id);\r\n\t\t    return id;\r\n\t    } \r\n\r\nThe issue is the following: \r\n\r\nThe get-methods work fine and can return an optional. The save-method, on the other hand, cannot return an optional. Apparently the JpaRepository returns an instance of the saved object upon calling save(). I would rather return an optional, since something could go wrong when saving the employee and in that case, I would like to throw an error - i.e. whenever the optional is not present, I throw an error. \r\n\r\nThe same holds for the delete-operation: What, for example, if I ask to delete an employee and pass in an id, which does not exist? I would like to catch this error and only then return the passed in id, if the delete operation was successfull. Which error would I have to catch for this purpose? Can someone explain this to me?\r\n\r\n\r\n=================================================\r\n\r\nupdate: \r\n\r\n- I have fixed the problem with the delete-call by simply checking if the given employee-id exists before calling `deleteById(id); if it doesn&#39;t, the service returns null, if it does, it return the id. The controller looks like this: \r\n\r\n\t    @DeleteMapping(&quot;/{id}&quot;)\r\n\t    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\r\n\t\t    Long deletedEmployeeId = employeeService.deleteEmployee(id);\r\n\t\t    if (deletedEmployeeId != null) {\r\n\t\t\t    return ResponseEntity.ok(deletedEmployeeId);\r\n\t\t} else {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\r\nI am missing the DataAccessException, however. So, can it be that I would actually have to do the following: \r\n\r\n\t    @DeleteMapping(&quot;/{id}&quot;)\r\n\t    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\r\n            try {\r\n\t\t        Long deletedEmployeeId = employeeService.deleteEmployee(id);\r\n\t\t        if (deletedEmployeeId != null) {\r\n\t\t\t        return ResponseEntity.ok(deletedEmployeeId);\r\n\t\t        } else {\r\n                    return ResponseEntity.status(HttpStatus.BAD_REQUEST);\r\n\t\t        }\r\n             } catch (DataAccessException e) {\r\n                 return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n             }\r\n\r\nThis looks a bit like an over-kill to be honest.\r\n\r\n- I am still a bit unsure how to deal with the save-call. Before I posted this question, my controller was simply doing the following: \r\n\r\n\t    @PostMapping\r\n\t    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\t    return ResponseEntity.ok(employeeService.saveEmployee(employee));\r\n\t    }\r\n\r\nWhat happens, if `employeeService.saveEmployee(employee)` throws a DataAccessException? Am I still returning a HTTP-status-code of 200, as I wrap the response in an `ResponseEntity.ok()` ? \r\n\r\nIf so, I would suggest to do the following: \r\n\r\n\r\n\t    @PostMapping\r\n\t    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\t    try {\r\n                Employee savedEmployee = employeeService.saveEmployee(employee);\r\n                return ResponseEntity.ok(savedEmployee);\r\n            } catch (DataAccessException e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n\t    }\r\n\r\nIs this something people do? Or are DataAccessExceptions usually neglected as they are not expected? \r\n","title":"Spring Data JPA - how to implement proper exception handling?","body":"<p>I am using Spring Data JPA to process database calls. For this purpose, I have created:</p>\n<ol>\n<li><p>An EmployeeRepository interface, which extends a <code>JpaRepository&lt;Employee, Long&gt;</code></p>\n</li>\n<li><p>An EmployeeService, which defines three methods:</p>\n<pre><code> Employee saveEmployee(Employee employee);\n Optional&lt;Employee&gt; getEmployee(Long id);\n Long deleteEmployee(Long id);\n</code></pre>\n</li>\n<li><p>An implementation of the EmployeeService:</p>\n<pre><code> @Override\n public Employee saveEmployee(Employee employee) {\n     return employeeRepository.save(employee);\n }\n\n @Override\n public Optional&lt;Employee&gt; getEmployee(Long id) {\n     return employeeRepository.findEmployeeById(id);\n }\n\n @Override\n public Long deleteEmployee(Long id) {\n     employeeRepository.deleteById(id);\n     return id;\n } \n</code></pre>\n</li>\n</ol>\n<p>The issue is the following:</p>\n<p>The get-methods work fine and can return an optional. The save-method, on the other hand, cannot return an optional. Apparently the JpaRepository returns an instance of the saved object upon calling save(). I would rather return an optional, since something could go wrong when saving the employee and in that case, I would like to throw an error - i.e. whenever the optional is not present, I throw an error.</p>\n<p>The same holds for the delete-operation: What, for example, if I ask to delete an employee and pass in an id, which does not exist? I would like to catch this error and only then return the passed in id, if the delete operation was successfull. Which error would I have to catch for this purpose? Can someone explain this to me?</p>\n<p>=================================================</p>\n<p>update:</p>\n<ul>\n<li><p>I have fixed the problem with the delete-call by simply checking if the given employee-id exists before calling `deleteById(id); if it doesn't, the service returns null, if it does, it return the id. The controller looks like this:</p>\n<pre><code>  @DeleteMapping(&quot;/{id}&quot;)\n  public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\n      Long deletedEmployeeId = employeeService.deleteEmployee(id);\n      if (deletedEmployeeId != null) {\n          return ResponseEntity.ok(deletedEmployeeId);\n  } else {\n      return ResponseEntity.status(HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n</li>\n</ul>\n<p>I am missing the DataAccessException, however. So, can it be that I would actually have to do the following:</p>\n<pre><code>    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Long&gt; deleteEmployee(@PathVariable Long id) {\n        try {\n            Long deletedEmployeeId = employeeService.deleteEmployee(id);\n            if (deletedEmployeeId != null) {\n                return ResponseEntity.ok(deletedEmployeeId);\n            } else {\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST);\n            }\n         } catch (DataAccessException e) {\n             return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n         }\n</code></pre>\n<p>This looks a bit like an over-kill to be honest.</p>\n<ul>\n<li><p>I am still a bit unsure how to deal with the save-call. Before I posted this question, my controller was simply doing the following:</p>\n<pre><code>  @PostMapping\n  public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n      return ResponseEntity.ok(employeeService.saveEmployee(employee));\n  }\n</code></pre>\n</li>\n</ul>\n<p>What happens, if <code>employeeService.saveEmployee(employee)</code> throws a DataAccessException? Am I still returning a HTTP-status-code of 200, as I wrap the response in an <code>ResponseEntity.ok()</code> ?</p>\n<p>If so, I would suggest to do the following:</p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n        try {\n            Employee savedEmployee = employeeService.saveEmployee(employee);\n            return ResponseEntity.ok(savedEmployee);\n        } catch (DataAccessException e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>Is this something people do? Or are DataAccessExceptions usually neglected as they are not expected?</p>\n"},{"tags":["java","multidimensional-array","2d"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677289498,"post_id":75562605,"comment_id":133314453,"body_markdown":"What do the first 5 lines of ELEVATIONS.TXT look like? Also, to debug this, temporarily change `SIZE = 10` or maybe even 3. Place a breakpoint on the `count++` line and inspect your 2d array. This way you will see what is going on. Finally, note that in `elevations[count][0] = fileInput.nextInt();` you are not incrementing the second dimension. It&#39;s always `0`.","body":"What do the first 5 lines of ELEVATIONS.TXT look like? Also, to debug this, temporarily change <code>SIZE = 10</code> or maybe even 3. Place a breakpoint on the <code>count++</code> line and inspect your 2d array. This way you will see what is going on. Finally, note that in <code>elevations[count][0] = fileInput.nextInt();</code> you are not incrementing the second dimension. It&#39;s always <code>0</code>."},{"owner":{"account_id":27873487,"reputation":1,"user_id":21283457,"display_name":"Andrew Hayes"},"score":0,"creation_date":1677291327,"post_id":75562605,"comment_id":133314628,"body_markdown":"The first 5 lines looks like:\n30155 77655 30054 40100 20690 42850 87875 36904 92785 77712 46938 36564 etc...\n\nIf i change size to 10 it just shows me the count as 99 (array if size 100)","body":"The first 5 lines looks like: 30155 77655 30054 40100 20690 42850 87875 36904 92785 77712 46938 36564 etc...  If i change size to 10 it just shows me the count as 99 (array if size 100)"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677338704,"post_id":75562605,"comment_id":133320096,"body_markdown":"Sorry for being imprecise in my request. Please put lines in your question, in a code block. I&#39;m trying figure out how you are supposed to get a 2d array out of the data. Are there two numbers on each line, only two lines in the file, or ...? Show the first few lines of the data file in you question. Use the triple back tick formatting that is used for code blocks. Also, did you run the code and inspect the value of `elevations` at the breakpoint on `count++`? You should realize there&#39;s a flaw in your thinking by stepping through the code at that point.","body":"Sorry for being imprecise in my request. Please put lines in your question, in a code block. I&#39;m trying figure out how you are supposed to get a 2d array out of the data. Are there two numbers on each line, only two lines in the file, or ...? Show the first few lines of the data file in you question. Use the triple back tick formatting that is used for code blocks. Also, did you run the code and inspect the value of <code>elevations</code> at the breakpoint on <code>count++</code>? You should realize there&#39;s a flaw in your thinking by stepping through the code at that point."}],"owner":{"account_id":27873487,"reputation":1,"user_id":21283457,"display_name":"Andrew Hayes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677304199,"creation_date":1677285978,"question_id":75562605,"body_markdown":"I&#39;m working on a data structures and algorithms problem for a class I am taking.\r\n\r\nI am asked to put the contents of a .txt file into a 2d array and find the lowest value and the number of times it appears in the array. The .txt file contains a large number of sets of numbers ranging from 20000-120000. \r\n\r\n29432, 113244, 96324...etc..    \r\n  \r\nHere is the code I have.\r\n\r\n```\r\nclass A1_Part1 {\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        final int SIZE = 10000; \r\n        int count = 0;\r\n        int[][] elevations = new int[SIZE][SIZE];\r\n\r\n        final String filename = &quot;src/ELEVATIONS.TXT&quot;;\r\n        File file= new File(filename);\r\n        Scanner fileInput = new Scanner(file);\r\n\r\n        while (fileInput.hasNextLine() &amp;&amp; count &lt; elevations.length) {\r\n            elevations[count][0] = fileInput.nextInt();\r\n//            System.out.println(Arrays.deepToString(elevations));\r\n            count++;\r\n        }\r\n\r\n        int[][] numbers = Arrays.copyOf(elevations, count); \r\n        fileInput.close();\r\n\r\n            int[] result = getMin(numbers);\r\n            System.out.printf(&quot;%d is the lowest elevation and appears %d times&quot;,\r\n                    +result[0], result[1]);\r\n\r\n        }\r\n\r\n    public static int[] getMin(int[][] numbers) {\r\n        int minValue = numbers[0][0];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            for (int j = 0; j &lt; numbers[i].length ; j++) {\r\n                if (numbers[i][j] &lt; minValue)\r\n                    minValue = numbers[i][j];\r\n                else if (numbers[i][j] == minValue)\r\n                    count++;\r\n            }\r\n        }return new int[]{minValue, count};\r\n\r\n\r\n    }\r\n```\r\n\r\nWhen I run the program,  I get the answers 0 and 999999999.\r\nI realize that I am only getting the result of min value as 0 because when I print the array using the Arrays.deepToString method I get nothing but millions of 0&#39;s.  It looks like the code is just making a blank array full of 100 million 0s.  \r\n\r\nI&#39;ve been trying a ton of different things to solve this but I cannot get the contents of the file into the array for processing with the getMin method.  I thought that the while loop would step through the array and add the values of the .txt file to the elevations array but its not doing that.\r\n\r\nI am not allowed to use ArrayList for this problem, hence why I have count and arrays.copyOf in the main method to get the actual size of the array. \r\n\r\nWhat am I missing?  ","title":"Can&#39;t figure out how to put contents of txt file into 2d array","body":"<p>I'm working on a data structures and algorithms problem for a class I am taking.</p>\n<p>I am asked to put the contents of a .txt file into a 2d array and find the lowest value and the number of times it appears in the array. The .txt file contains a large number of sets of numbers ranging from 20000-120000.</p>\n<p>29432, 113244, 96324...etc..</p>\n<p>Here is the code I have.</p>\n<pre><code>class A1_Part1 {\n    public static void main(String[] args) throws FileNotFoundException {\n        final int SIZE = 10000; \n        int count = 0;\n        int[][] elevations = new int[SIZE][SIZE];\n\n        final String filename = &quot;src/ELEVATIONS.TXT&quot;;\n        File file= new File(filename);\n        Scanner fileInput = new Scanner(file);\n\n        while (fileInput.hasNextLine() &amp;&amp; count &lt; elevations.length) {\n            elevations[count][0] = fileInput.nextInt();\n//            System.out.println(Arrays.deepToString(elevations));\n            count++;\n        }\n\n        int[][] numbers = Arrays.copyOf(elevations, count); \n        fileInput.close();\n\n            int[] result = getMin(numbers);\n            System.out.printf(&quot;%d is the lowest elevation and appears %d times&quot;,\n                    +result[0], result[1]);\n\n        }\n\n    public static int[] getMin(int[][] numbers) {\n        int minValue = numbers[0][0];\n        int count = 0;\n        for (int i = 0; i &lt; numbers.length; i++) {\n            for (int j = 0; j &lt; numbers[i].length ; j++) {\n                if (numbers[i][j] &lt; minValue)\n                    minValue = numbers[i][j];\n                else if (numbers[i][j] == minValue)\n                    count++;\n            }\n        }return new int[]{minValue, count};\n\n\n    }\n</code></pre>\n<p>When I run the program,  I get the answers 0 and 999999999.\nI realize that I am only getting the result of min value as 0 because when I print the array using the Arrays.deepToString method I get nothing but millions of 0's.  It looks like the code is just making a blank array full of 100 million 0s.</p>\n<p>I've been trying a ton of different things to solve this but I cannot get the contents of the file into the array for processing with the getMin method.  I thought that the while loop would step through the array and add the values of the .txt file to the elevations array but its not doing that.</p>\n<p>I am not allowed to use ArrayList for this problem, hence why I have count and arrays.copyOf in the main method to get the actual size of the array.</p>\n<p>What am I missing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17824966,"reputation":325,"user_id":12946395,"display_name":"printf"},"score":2,"creation_date":1677303638,"post_id":75563502,"comment_id":133315614,"body_markdown":"`yourHand` and `computerHand`  have you declared those variables?","body":"<code>yourHand</code> and <code>computerHand</code>  have you declared those variables?"}],"answers":[{"comments":[{"owner":{"account_id":27874491,"reputation":3,"user_id":21284256,"display_name":"mofnezz"},"score":0,"creation_date":1677350046,"post_id":75563536,"comment_id":133322014,"body_markdown":"thank you so much!!! program works just as expected now :)","body":"thank you so much!!! program works just as expected now :)"}],"tags":[],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677303998,"creation_date":1677303998,"answer_id":75563536,"question_id":75563502,"body_markdown":"Java is different from Python in that you need to declare the type when declaring a variable. Add &#39;int&#39; in front of &#39;yourHand&#39; and &#39;computerHand&#39;.\r\n\r\nYour last &#39;system.out.println&#39; also needs to be capitalized (&quot;System.out.println&quot;). Otherwise it seems to work as intended with these modifications. Wish you the best in learning Java!","title":"Rock Paper Scissors program giving me errors.. not sure how to fix","body":"<p>Java is different from Python in that you need to declare the type when declaring a variable. Add 'int' in front of 'yourHand' and 'computerHand'.</p>\n<p>Your last 'system.out.println' also needs to be capitalized (&quot;System.out.println&quot;). Otherwise it seems to work as intended with these modifications. Wish you the best in learning Java!</p>\n"}],"owner":{"account_id":27874491,"reputation":3,"user_id":21284256,"display_name":"mofnezz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677700285,"accepted_answer_id":75563536,"answer_count":1,"score":-1,"last_activity_date":1677303998,"creation_date":1677303399,"question_id":75563502,"body_markdown":"my program keeps giving me the same symbol not found error`your text` and I can&#39;t figure out what&#39;s wrong! i&#39;m fairly new to using java, so any help would be greatly appreciated, thank you!\r\n\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {  \r\n    Scanner in = new Scanner(System.in);\r\n    System.out.println(&quot;\\tMenu\\n\\n(1) Rock\\n(2) Paper\\n(3) Scissors&quot; + &quot;\\n\\nEnter Your Hand (1, 2, or 3): &quot;);\r\n    yourHand = in.nextInt();\r\n    computerHand = ((int)(Math.random() * 100) % 3 + 1);\r\n    // rock = 1\r\n    // paper = 2\r\n    // scissors = 3 (this is all for me so i remember)\r\n    if (yourHand == 1 &amp;&amp; computerHand == 3) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    if (yourHand == 2 &amp;&amp; computerHand == 1) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    if (yourHand == 3 &amp;&amp; computerHand == 2) {\r\n        System.out.println(&quot;omg yay you win&quot;);\r\n    }\r\n    \r\n    \r\n    if (yourHand == 3 &amp;&amp; computerHand == 1) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    }\r\n    if (yourHand == 1 &amp;&amp; computerHand == 2) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    }\r\n    if (yourHand == 2 &amp;&amp; computerHand == 3) {\r\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\r\n    } else {\r\n        system.out.println(&quot;tie? idk maybe lol&quot;);\r\n    }\r\n}\r\n}\r\n```\r\n","title":"Rock Paper Scissors program giving me errors.. not sure how to fix","body":"<p>my program keeps giving me the same symbol not found error<code>your text</code> and I can't figure out what's wrong! i'm fairly new to using java, so any help would be greatly appreciated, thank you!</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) {  \n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;\\tMenu\\n\\n(1) Rock\\n(2) Paper\\n(3) Scissors&quot; + &quot;\\n\\nEnter Your Hand (1, 2, or 3): &quot;);\n    yourHand = in.nextInt();\n    computerHand = ((int)(Math.random() * 100) % 3 + 1);\n    // rock = 1\n    // paper = 2\n    // scissors = 3 (this is all for me so i remember)\n    if (yourHand == 1 &amp;&amp; computerHand == 3) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    if (yourHand == 2 &amp;&amp; computerHand == 1) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    if (yourHand == 3 &amp;&amp; computerHand == 2) {\n        System.out.println(&quot;omg yay you win&quot;);\n    }\n    \n    \n    if (yourHand == 3 &amp;&amp; computerHand == 1) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    }\n    if (yourHand == 1 &amp;&amp; computerHand == 2) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    }\n    if (yourHand == 2 &amp;&amp; computerHand == 3) {\n        System.out.println(&quot;imagine losing.. embarrassing&quot;);\n    } else {\n        system.out.println(&quot;tie? idk maybe lol&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","validation","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1538644155,"post_id":52642873,"comment_id":92218205,"body_markdown":"You could create an extra class that validates your constraints as shown [here](https://www.journaldev.com/2668/spring-validation-example-mvc-validator)... There is even an interface for validators: `org.springframework.validation.Validator;`","body":"You could create an extra class that validates your constraints as shown <a href=\"https://www.journaldev.com/2668/spring-validation-example-mvc-validator\" rel=\"nofollow noreferrer\">here</a>... There is even an interface for validators: <code>org.springframework.validation.Validator;</code>"},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":0,"creation_date":1538645116,"post_id":52642873,"comment_id":92218776,"body_markdown":"Try hibernate validator refer https://www.tutorialspoint.com/springmvc/springmvc_hibernate_validator.htm. You can define validation in model class itself.","body":"Try hibernate validator refer <a href=\"https://www.tutorialspoint.com/springmvc/springmvc_hibernate_validator.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/springmvc/springmvc_hibernate_validator.h&zwnj;&#8203;tm</a>. You can define validation in model class itself."},{"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"score":0,"creation_date":1538647626,"post_id":52642873,"comment_id":92220297,"body_markdown":"Why don&#39;t you validate in the service class instead, that&#39;s where this logic should be, the controllers should just control data flow in and out of the application.","body":"Why don&#39;t you validate in the service class instead, that&#39;s where this logic should be, the controllers should just control data flow in and out of the application."},{"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"score":0,"creation_date":1538647958,"post_id":52642873,"comment_id":92220464,"body_markdown":"@AmanJ because having validation annotations over the Customer properties(eg. NotNull over the name property), when I map in the Controller  the DTO recieved to a new Customer object (customerDTO -&gt; newCustomer), if the title is missing in the DTO the error is thrown","body":"@AmanJ because having validation annotations over the Customer properties(eg. NotNull over the name property), when I map in the Controller  the DTO recieved to a new Customer object (customerDTO -&gt; newCustomer), if the title is missing in the DTO the error is thrown"},{"owner":{"account_id":4804320,"reputation":452,"user_id":3879941,"display_name":"Aman J"},"score":0,"creation_date":1538648092,"post_id":52642873,"comment_id":92220537,"body_markdown":"@AdrianBrad Recieve the CustomerDTO in the service class and do the conversion there","body":"@AdrianBrad Recieve the CustomerDTO in the service class and do the conversion there"},{"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"score":0,"creation_date":1538648457,"post_id":52642873,"comment_id":92220742,"body_markdown":"@AmanJ service is in the business logic layer and should not have any idea about the objects used for representation. Eg. I can have multiple representations for the Customer like CustomerDTO, CustomerAndOrdersDTO and my service only accepts Customer as the input for it&#39;s CRUD functions. So, those representations should be converted to domain models(Customer) in the Controller and then sent to the service. We also can have different Controllers for different Views but they all should use the same service layer.","body":"@AmanJ service is in the business logic layer and should not have any idea about the objects used for representation. Eg. I can have multiple representations for the Customer like CustomerDTO, CustomerAndOrdersDTO and my service only accepts Customer as the input for it&#39;s CRUD functions. So, those representations should be converted to domain models(Customer) in the Controller and then sent to the service. We also can have different Controllers for different Views but they all should use the same service layer."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538683719,"post_id":52642873,"comment_id":92240206,"body_markdown":"You don&#39;t need the extra DTO class, Just use the entity for this reason. Entities only have a single, data storage responsibility without any business logic.","body":"You don&#39;t need the extra DTO class, Just use the entity for this reason. Entities only have a single, data storage responsibility without any business logic."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538683894,"post_id":52642873,"comment_id":92240278,"body_markdown":"You can use an exception handler AOP aspect.","body":"You can use an exception handler AOP aspect."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1538684049,"post_id":52642873,"comment_id":92240341,"body_markdown":"You have to use the `@valid` Spring annotation on controller method parameters to perform the validation process.","body":"You have to use the <code>@valid</code> Spring annotation on controller method parameters to perform the validation process."}],"answers":[{"tags":[],"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1541147063,"creation_date":1541147063,"answer_id":53114988,"question_id":52642873,"body_markdown":"Looking more into this, I came to the following conclusion. Validation for persisting an object should happen as soon as possible and at property level, as you don&#39;t want your persistence layer or any mappers that you might be using deal with **null** when it is not expected. Everything that goes past **property validation**, shall be approached from a [contextual validation perspective][1], and be passed to methods that hold logic for a given context.\r\n\r\n&gt;  Is this order valid to be filled, is this customer valid to check in to the hotel. So rather than have methods like isValid have methods like isValidForCheckIn.\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/ContextualValidation.html","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>Looking more into this, I came to the following conclusion. Validation for persisting an object should happen as soon as possible and at property level, as you don't want your persistence layer or any mappers that you might be using deal with <strong>null</strong> when it is not expected. Everything that goes past <strong>property validation</strong>, shall be approached from a <a href=\"https://martinfowler.com/bliki/ContextualValidation.html\" rel=\"nofollow noreferrer\">contextual validation perspective</a>, and be passed to methods that hold logic for a given context.</p>\n\n<blockquote>\n  <p>Is this order valid to be filled, is this customer valid to check in to the hotel. So rather than have methods like isValid have methods like isValidForCheckIn.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":1,"creation_date":1677303980,"post_id":75562736,"comment_id":133315638,"body_markdown":"I notice that you&#39;ve posted 3 answers recently that promote one of your libraries. While a few answers that do so are permitted, I would suggest slowing down with these answers. If a large-ish proportion of your answers promote your own content that can be considered as spam on this site.","body":"I notice that you&#39;ve posted 3 answers recently that promote one of your libraries. While a few answers that do so are permitted, I would suggest slowing down with these answers. If a large-ish proportion of your answers promote your own content that can be considered as spam on this site."}],"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677303848,"creation_date":1677287927,"answer_id":75562736,"question_id":52642873,"body_markdown":"I&#39;m the author of [SmartConstraints][1], an annotation processor that allows you to reuse validation annotations from your entities to your DTOs without rewriting them. I think it could solve your problem gracefully.\r\n\r\nAfter enabling SmartConstraints, just annotate your DTO like :\r\n```java\r\npublic class CustmerDTO{\r\n    @ValidName\r\n    private String name;\r\n}\r\n```\r\n\r\nAnd enable validation at controller level with (at class level) :\r\n```java\r\n@Validated\r\n```\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>I'm the author of <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a>, an annotation processor that allows you to reuse validation annotations from your entities to your DTOs without rewriting them. I think it could solve your problem gracefully.</p>\n<p>After enabling SmartConstraints, just annotate your DTO like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustmerDTO{\n    @ValidName\n    private String name;\n}\n</code></pre>\n<p>And enable validation at controller level with (at class level) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\n</code></pre>\n"}],"owner":{"account_id":9818803,"reputation":958,"user_id":7274408,"display_name":"Brad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53114988,"answer_count":2,"score":1,"last_activity_date":1677303848,"creation_date":1538643625,"question_id":52642873,"body_markdown":"The following is just an exmaple for context not the actual implementation. Using Spring MVC, I have the following **Model** which has validation based on annotations.\r\n\r\n    @Entity\r\n    public class Customer {\r\n       @Id private int id;\r\n       @NotNull private String name;\r\n    }\r\n\r\nAnd the following **DTO** used to map the data received in the request&#39;s body in the **Controller&#39;s** `createNewCustomer` function.\r\n\r\n    public class CustmerDTO{\r\n        private String name;\r\n    }\r\n\r\nIn my **Controller** I am using the `modelMapper` to convert the `customerDTO` to a new domain model **Customer** object. Based on the *@NotNull* annotation, if the **name** property of the recieved object (`customerDTO`) is empty the *ConstraintViolationException* is thrown.\r\n\r\n\r\n    public class CustomerController {\r\n        @Autowired private CustomerService customerService;\r\n        @Autowired private ModelMapper modelMapper;\r\n\r\n        @PostMapping(value = &quot;/customer&quot;)\r\n        public Customer createNewCustomer (@RequestBody CustomerDTO customerDTO) {\r\n            try {\r\n                Customer newCustomer = modelMapper.map(customerDTO, Customer.class);\r\n                return customerService.saveCustomer(newCustomer);\r\n            }\r\n            catch (ConstraintViolationException e) {\r\n                throw new CustomerMissingInformation();\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see here I handle validation for the **Customer** in the **Controller**, which by definition is not a good habit, as **Controllers** in **MVC** are part of the **presentation layer**, and should have no clue about how to perform data validation, also I want to keep my controllers as light as possible.\r\n\r\nCan I keep this design or is there any good approach to move my validation in the **Service** layer while keeping validation annotations and also allowing the **Controller** to be able to receive representation objects(`DTOs`) and convert them to domain models?","title":"MVC design - Can I have domain model validation in the Controller class?","body":"<p>The following is just an exmaple for context not the actual implementation. Using Spring MVC, I have the following <strong>Model</strong> which has validation based on annotations.</p>\n\n<pre><code>@Entity\npublic class Customer {\n   @Id private int id;\n   @NotNull private String name;\n}\n</code></pre>\n\n<p>And the following <strong>DTO</strong> used to map the data received in the request's body in the <strong>Controller's</strong> <code>createNewCustomer</code> function.</p>\n\n<pre><code>public class CustmerDTO{\n    private String name;\n}\n</code></pre>\n\n<p>In my <strong>Controller</strong> I am using the <code>modelMapper</code> to convert the <code>customerDTO</code> to a new domain model <strong>Customer</strong> object. Based on the <em>@NotNull</em> annotation, if the <strong>name</strong> property of the recieved object (<code>customerDTO</code>) is empty the <em>ConstraintViolationException</em> is thrown.</p>\n\n<pre><code>public class CustomerController {\n    @Autowired private CustomerService customerService;\n    @Autowired private ModelMapper modelMapper;\n\n    @PostMapping(value = \"/customer\")\n    public Customer createNewCustomer (@RequestBody CustomerDTO customerDTO) {\n        try {\n            Customer newCustomer = modelMapper.map(customerDTO, Customer.class);\n            return customerService.saveCustomer(newCustomer);\n        }\n        catch (ConstraintViolationException e) {\n            throw new CustomerMissingInformation();\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see here I handle validation for the <strong>Customer</strong> in the <strong>Controller</strong>, which by definition is not a good habit, as <strong>Controllers</strong> in <strong>MVC</strong> are part of the <strong>presentation layer</strong>, and should have no clue about how to perform data validation, also I want to keep my controllers as light as possible.</p>\n\n<p>Can I keep this design or is there any good approach to move my validation in the <strong>Service</strong> layer while keeping validation annotations and also allowing the <strong>Controller</strong> to be able to receive representation objects(<code>DTOs</code>) and convert them to domain models?</p>\n"},{"tags":["java","spring","controller","swagger"],"answers":[{"tags":[],"owner":{"account_id":22333780,"reputation":51,"user_id":16563183,"display_name":"PxlCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652475929,"creation_date":1652475929,"answer_id":72235421,"question_id":70342105,"body_markdown":"More info of your project would be helpful, but maybe your interfaces are not inside the right package. I was facing this once...\r\n\r\n**Here is an example.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/3BMHP.png\r\n\r\n**Notice that all sub-packages are on the same level as the @SpringBootApplication.**","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>More info of your project would be helpful, but maybe your interfaces are not inside the right package. I was facing this once...</p>\n<p><strong>Here is an example.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3BMHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BMHP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Notice that all sub-packages are on the same level as the @SpringBootApplication.</strong></p>\n"},{"tags":[],"owner":{"account_id":17258889,"reputation":53,"user_id":12497350,"display_name":"trk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677303818,"creation_date":1677303818,"answer_id":75563527,"question_id":70342105,"body_markdown":"If your Spring Boot project folder name contains a space and/or your project path contains a space, Spring Data JPA may not be able to find your repository interfaces. \r\n\r\nFor example, if your project is under a folder named `/My Project` and your project path is `User/username/Project/My Project/myproject`, Spring Data JPA may not find your repository interfaces and produce the &quot;Found 0 JPA repository interfaces&quot; message.\r\n\r\nTo avoid this issue, you should avoid using spaces in your project folder names or project paths. Instead, use hyphens or underscores to separate words in folder names and project paths.","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>If your Spring Boot project folder name contains a space and/or your project path contains a space, Spring Data JPA may not be able to find your repository interfaces.</p>\n<p>For example, if your project is under a folder named <code>/My Project</code> and your project path is <code>User/username/Project/My Project/myproject</code>, Spring Data JPA may not find your repository interfaces and produce the &quot;Found 0 JPA repository interfaces&quot; message.</p>\n<p>To avoid this issue, you should avoid using spaces in your project folder names or project paths. Instead, use hyphens or underscores to separate words in folder names and project paths.</p>\n"}],"owner":{"account_id":23621366,"reputation":11,"user_id":17654590,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677303818,"creation_date":1639438299,"question_id":70342105,"body_markdown":"I have created a Bootstrap project in which I have 3 repositories. When I compile the project I do not receive any errors but unfortunately I can not see my controllers in Swagger!!!\r\nI have found out that line 4 says: \r\n\r\n&gt; Finished Spring Data repository scanning in 4 ms. Found 0 JPA\r\n&gt; repository interfaces.\r\n\r\nI think this the reason that I can not see the controllers. Any idea to solve this? Thank you in advance.\r\n\r\n    2021-12-14 00:26:13.768  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication     \r\n\r\n        : No active profile set, falling back to default profiles: default\r\n    2021-12-14 00:26:14.648  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-12-14 00:26:14.661  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : ***Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.***\r\n    2021-12-14 00:26:15.592  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2021-12-14 00:26:15.609  INFO 5472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2021-12-14 00:26:15.609  INFO 5472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\r\n    2021-12-14 00:26:15.718  INFO 5472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-12-14 00:26:15.718  INFO 5472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms\r\n    2021-12-14 00:26:15.975  INFO 5472 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-12-14 00:26:16.051  INFO 5472 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n    2021-12-14 00:26:16.226  INFO 5472 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-12-14 00:26:16.356  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2021-12-14 00:26:16.562  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2021-12-14 00:26:16.580  INFO 5472 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\r\n    2021-12-14 00:26:16.856  INFO 5472 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2021-12-14 00:26:16.866  INFO 5472 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-12-14 00:26:17.090  WARN 5472 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-12-14 00:26:17.225  INFO 5472 --- [           main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]\r\n    2021-12-14 00:26:17.490  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2021-12-14 00:26:17.491  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed\r\n    2021-12-14 00:26:17.511  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)\r\n    2021-12-14 00:26:17.544  INFO 5472 --- [           main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references\r\n    2021-12-14 00:26:17.698  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication         : Started RotabApplication in 4.468 seconds (JVM running for 4.958)\r\n\r\n","title":"why I see this when compiling my project in bootstrap? &quot;Found 0 JPA repository interfaces.&quot;","body":"<p>I have created a Bootstrap project in which I have 3 repositories. When I compile the project I do not receive any errors but unfortunately I can not see my controllers in Swagger!!!\nI have found out that line 4 says:</p>\n<blockquote>\n<p>Finished Spring Data repository scanning in 4 ms. Found 0 JPA\nrepository interfaces.</p>\n</blockquote>\n<p>I think this the reason that I can not see the controllers. Any idea to solve this? Thank you in advance.</p>\n<pre><code>2021-12-14 00:26:13.768  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication     \n\n    : No active profile set, falling back to default profiles: default\n2021-12-14 00:26:14.648  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-12-14 00:26:14.661  INFO 5472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : ***Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.***\n2021-12-14 00:26:15.592  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-12-14 00:26:15.609  INFO 5472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-12-14 00:26:15.609  INFO 5472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.54]\n2021-12-14 00:26:15.718  INFO 5472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-12-14 00:26:15.718  INFO 5472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1885 ms\n2021-12-14 00:26:15.975  INFO 5472 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-12-14 00:26:16.051  INFO 5472 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2021-12-14 00:26:16.226  INFO 5472 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-12-14 00:26:16.356  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-12-14 00:26:16.562  INFO 5472 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-12-14 00:26:16.580  INFO 5472 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\n2021-12-14 00:26:16.856  INFO 5472 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-12-14 00:26:16.866  INFO 5472 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-12-14 00:26:17.090  WARN 5472 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-12-14 00:26:17.225  INFO 5472 --- [           main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]\n2021-12-14 00:26:17.490  INFO 5472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-12-14 00:26:17.491  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed\n2021-12-14 00:26:17.511  INFO 5472 --- [           main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)\n2021-12-14 00:26:17.544  INFO 5472 --- [           main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references\n2021-12-14 00:26:17.698  INFO 5472 --- [           main] WBSthesis.rotab.RotabApplication         : Started RotabApplication in 4.468 seconds (JVM running for 4.958)\n</code></pre>\n"},{"tags":["java","validation","spring-mvc","jpa","bean-validation"],"comments":[{"owner":{"account_id":1189940,"reputation":100,"user_id":1162991,"display_name":"codeimust"},"score":0,"creation_date":1668535733,"post_id":62225487,"comment_id":131427568,"body_markdown":"This is a very good question. I am dealing with the same situation right now. I have all validation in the DTOs and none in the Entities. This avoids having to duplicate validations but there is still a risk, like you mentioned, that a developer can directly create and entity in an invalid state. Code reviews, for now, help with this. I am interested in hearing about how other people approach this.","body":"This is a very good question. I am dealing with the same situation right now. I have all validation in the DTOs and none in the Entities. This avoids having to duplicate validations but there is still a risk, like you mentioned, that a developer can directly create and entity in an invalid state. Code reviews, for now, help with this. I am interested in hearing about how other people approach this."}],"answers":[{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591410667,"creation_date":1591410667,"answer_id":62226633,"question_id":62225487,"body_markdown":"You said\r\n\r\n&gt; Should entities correspond to the table in the database at all? That\r\n&gt; is, for example, if I have a `NOT NULL` constraint in the table for a\r\n&gt; field, should I also put the `@NotNull` annotation over this field in\r\n&gt; the entity?\r\n\r\n\r\n[Bean Validation][1]&#39;s purpose is to be used for validating beans. So, for cases where you are not validating the entity, there is clearly no point of placing an unused annotation.\r\n\r\n&lt;br/&gt;\r\nYou said\r\n\r\n&gt; I&#39;m validating the DTO, but this probably doesn&#39;t guarantee complete.\r\n&gt; data protection\r\n\r\n[`JPA`][2] annotations serve this purpose. For example, in the `NOT NULL` scenario you mentioned, you can use [`@Column`][3] as:\r\n\r\n```lang-java\r\n@Column(nullable = false)\r\n```\r\n\r\n\r\n  [1]: https://beanvalidation.org/\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\r\n  [3]: https://javaee.github.io/javaee-spec/javadocs/index.html?javax/persistence/Column.html","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>You said</p>\n\n<blockquote>\n  <p>Should entities correspond to the table in the database at all? That\n  is, for example, if I have a <code>NOT NULL</code> constraint in the table for a\n  field, should I also put the <code>@NotNull</code> annotation over this field in\n  the entity?</p>\n</blockquote>\n\n<p><a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">Bean Validation</a>'s purpose is to be used for validating beans. So, for cases where you are not validating the entity, there is clearly no point of placing an unused annotation.</p>\n\n<p><br/>\nYou said</p>\n\n<blockquote>\n  <p>I'm validating the DTO, but this probably doesn't guarantee complete.\n  data protection</p>\n</blockquote>\n\n<p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\"><code>JPA</code></a> annotations serve this purpose. For example, in the <code>NOT NULL</code> scenario you mentioned, you can use <a href=\"https://javaee.github.io/javaee-spec/javadocs/index.html?javax/persistence/Column.html\" rel=\"nofollow noreferrer\"><code>@Column</code></a> as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Column(nullable = false)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":1,"creation_date":1681042628,"post_id":75562769,"comment_id":133992412,"body_markdown":"Very interesting concept for clean architecture. When do u plan for a first &quot;release&quot; ?","body":"Very interesting concept for clean architecture. When do u plan for a first &quot;release&quot; ?"},{"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"score":0,"creation_date":1681218736,"post_id":75562769,"comment_id":134018215,"body_markdown":"Hi @Tristan, thanks for you interest :-) You can use SmartConstraints with those maven coordinates :\n`eu.aronnax.smartconstraints:smartconstraints-annotation:0.4.0` (as a provided dependency) and `eu.aronnax.smartconstraints:smartconstraints-annotationprocessor:0.4.0` (as an annotation processor)\nLet me know if you need any assistance.","body":"Hi @Tristan, thanks for you interest :-) You can use SmartConstraints with those maven coordinates : <code>eu.aronnax.smartconstraints:smartconstraints-annotation:0.4.&zwnj;&#8203;0</code> (as a provided dependency) and <code>eu.aronnax.smartconstraints:smartconstraints-annotationproce&zwnj;&#8203;ssor:0.4.0</code> (as an annotation processor) Let me know if you need any assistance."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":1,"creation_date":1681221320,"post_id":75562769,"comment_id":134019063,"body_markdown":"Oh ok, maybe I misread &quot; Stay tuned for incoming release&quot;, I thought u were planning for a 1.0.0 and this was considered as &quot;beta&quot; or &quot;alpha&quot; (source : https://github.com/jruillier/smartconstraints).","body":"Oh ok, maybe I misread &quot; Stay tuned for incoming release&quot;, I thought u were planning for a 1.0.0 and this was considered as &quot;beta&quot; or &quot;alpha&quot; (source : <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">github.com/jruillier/smartconstraints</a>)."},{"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"score":0,"creation_date":1681347267,"post_id":75562769,"comment_id":134043296,"body_markdown":"You&#39;re right, I&#39;ll try to clarify that README on GitHub, and add a roadmap for incoming changes.","body":"You&#39;re right, I&#39;ll try to clarify that README on GitHub, and add a roadmap for incoming changes."},{"owner":{"account_id":10516436,"reputation":653,"user_id":7752551,"display_name":"Adrien H"},"score":1,"creation_date":1685792596,"post_id":75562769,"comment_id":134712710,"body_markdown":"@jruillier Not a bad idea, but I would have gone a bit further. I&#39;d image an annotation on the DTO that links to the entity, and a library would copy all validation annotations from the entity to the DTO based on matching field names.","body":"@jruillier Not a bad idea, but I would have gone a bit further. I&#39;d image an annotation on the DTO that links to the entity, and a library would copy all validation annotations from the entity to the DTO based on matching field names."}],"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677303593,"creation_date":1677288547,"answer_id":75562769,"question_id":62225487,"body_markdown":"You could use [SmartConstraints][1] (I&#39;m the author) to validate both Entity and DTO.\r\n\r\nAfter annotating your entity (e.g with `@NotNull` on `description` property, which is usefull for JPA), you could use `@ValidDescription` in you DTO on `description` property.\r\n\r\nUsing SmartConstraints, you avoid risks of constraints de-synchronisations between your Entity and your DTO.\r\n\r\nSometimes, on multiple operations, you&#39;ll have to use multiple DTOs to carry data intended to update your entity. You could reuse `@ValidXXX`, for the appropriate fields.\r\n\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>You could use <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a> (I'm the author) to validate both Entity and DTO.</p>\n<p>After annotating your entity (e.g with <code>@NotNull</code> on <code>description</code> property, which is usefull for JPA), you could use <code>@ValidDescription</code> in you DTO on <code>description</code> property.</p>\n<p>Using SmartConstraints, you avoid risks of constraints de-synchronisations between your Entity and your DTO.</p>\n<p>Sometimes, on multiple operations, you'll have to use multiple DTOs to carry data intended to update your entity. You could reuse <code>@ValidXXX</code>, for the appropriate fields.</p>\n"}],"owner":{"account_id":16620868,"reputation":415,"user_id":13061383,"display_name":"NarasuOo "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62226633,"answer_count":2,"score":4,"last_activity_date":1677303593,"creation_date":1591399501,"question_id":62225487,"body_markdown":"I had a little misunderstanding. Let&#39;s say I have such an entity:\r\n\r\n    @Entity\r\n    public class Item {\r\n        private String description;\r\n    }\r\n\r\nAs well as DTO to this entity:\r\n\r\n    public class ItemDto {\r\n        private String description;\r\n    }\r\n\r\nAs you already understand, all controllers work only with the DTO, that is, I get the DTO from the client part, and then convert it into an entity, and so on.So, I decided to validate the DTO:\r\n\r\n   \r\n\r\n     public class ItemDto {\r\n          @Max(value = 100, message = &quot;Description must not exceed 100 characters&quot;)\r\n          private String description;\r\n     }\r\n   \r\nValidation works well, but I have a question: do I need to validate entities as well? I always thought that annotations for validation in entity are useless because you still create the necessary tables yourself and set the necessary restrictions. But then the question arises, should entities correspond to the table in the database at all? That is, for example, if I have a `NOT NULL` constraint in the table for a field, should I also put the `@NotNull` annotation over this field in the entity? The DTO is also not clear. I&#39;m validating the DTO, but this probably doesn&#39;t guarantee complete data protection.in other words, in theory, some programmer might decide to do something directly with the entity, but it isn&#39;t validated. All this will lead to an error. Or there may be a situation where restrictions are set in the table in the database, but there are no restrictions in the entity.in other words, you can assign any value to the entity, but an error occurs when adding it to the database. Help me deal with the situation. I&#39;m sorry if I didn&#39;t explain it very well.","title":"Do I need to validate entities if I have already validated the DTO?","body":"<p>I had a little misunderstanding. Let's say I have such an entity:</p>\n\n<pre><code>@Entity\npublic class Item {\n    private String description;\n}\n</code></pre>\n\n<p>As well as DTO to this entity:</p>\n\n<pre><code>public class ItemDto {\n    private String description;\n}\n</code></pre>\n\n<p>As you already understand, all controllers work only with the DTO, that is, I get the DTO from the client part, and then convert it into an entity, and so on.So, I decided to validate the DTO:</p>\n\n<pre><code> public class ItemDto {\n      @Max(value = 100, message = \"Description must not exceed 100 characters\")\n      private String description;\n }\n</code></pre>\n\n<p>Validation works well, but I have a question: do I need to validate entities as well? I always thought that annotations for validation in entity are useless because you still create the necessary tables yourself and set the necessary restrictions. But then the question arises, should entities correspond to the table in the database at all? That is, for example, if I have a <code>NOT NULL</code> constraint in the table for a field, should I also put the <code>@NotNull</code> annotation over this field in the entity? The DTO is also not clear. I'm validating the DTO, but this probably doesn't guarantee complete data protection.in other words, in theory, some programmer might decide to do something directly with the entity, but it isn't validated. All this will lead to an error. Or there may be a situation where restrictions are set in the table in the database, but there are no restrictions in the entity.in other words, you can assign any value to the entity, but an error occurs when adding it to the database. Help me deal with the situation. I'm sorry if I didn't explain it very well.</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1383737653,"post_id":19810856,"comment_id":29453447,"body_markdown":"Good question, maybe they thought that the validation provided by other frameworks (like JSF) is enough.","body":"Good question, maybe they thought that the validation provided by other frameworks (like JSF) is enough."}],"answers":[{"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1383741917,"post_id":19811937,"comment_id":29455819,"body_markdown":"`@AssertTrue` on a single method does not allow for a specific field validation messages (i.e. you can not build your own constraint violations). `@ScriptAssert` is not acceptable alternative. But I see other solution reading your answer - create custom `@BusinessValid` annotation with all the custom validator references inside `validatedBy`. The correct validator would be then chosen during runtime.","body":"<code>@AssertTrue</code> on a single method does not allow for a specific field validation messages (i.e. you can not build your own constraint violations). <code>@ScriptAssert</code> is not acceptable alternative. But I see other solution reading your answer - create custom <code>@BusinessValid</code> annotation with all the custom validator references inside <code>validatedBy</code>. The correct validator would be then chosen during runtime."},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1383743022,"post_id":19811937,"comment_id":29456473,"body_markdown":"Btw. I understand your answer that you guys did not discuss this use-case in detail (took me a minute to realize you are involved :))? Is the approach described in my previous comment (`@BusinessValid`) correct according to bean-validation principles?","body":"Btw. I understand your answer that you guys did not discuss this use-case in detail (took me a minute to realize you are involved :))? Is the approach described in my previous comment (<code>@BusinessValid</code>) correct according to bean-validation principles?"},{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":1,"creation_date":1383758861,"post_id":19811937,"comment_id":29466910,"body_markdown":"I think I&#39;d need some more details about your particular requirements to better understand what you&#39;re actually after. If the idea is to create a class-level constraint `@BusinessValid` and provide a validator for each entity of your domain, yes that would be the way to go in Bean Validation.","body":"I think I&#39;d need some more details about your particular requirements to better understand what you&#39;re actually after. If the idea is to create a class-level constraint <code>@BusinessValid</code> and provide a validator for each entity of your domain, yes that would be the way to go in Bean Validation."}],"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383740249,"creation_date":1383740249,"answer_id":19811937,"question_id":19810856,"body_markdown":"One of the core principles of Bean Validation is type-safety. Specific constraint annotations such as `@Max`, `@Size` allow to specify and access custom attributes such as the allowed maximum value in a type-safe safe manner.\r\n\r\nThe chosen approach also allows the validation engine to select the right validator implementation based on the annotated element&#39;s type instead of requiring the user to specify the validator class. So in a way this shifts complexity a bit from the constraint _user_ to the constraint _author_.\r\n\r\nAs you say, implementing this as a custom constraint should not be difficult. Note though that this disables compile time checking of constraint correctness e.g. via the [annotation processor][1] provided by Hibernate Validator. While this could detect an erronously specified `@Past` constraint on a string property, it couldn&#39;t detect a non-matching validator type specified via `@ValidatedBy`.\r\n\r\nIf your requirement is about custom validation logic for complete beans (class-level validation), you might consider to implement that in a method of that bean as this:\r\n\r\n    @AssertTrue\r\n    public boolean isValid() {\r\n        //custom validation logic\r\n    }\r\n\r\nOr you might leverage the [@ScriptAssert](http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-defineconstraints-hv-constraints) constraint provided by Hibernate Validator.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-annotation-processor","title":"Delegating (generic) constraint definition annotation","body":"<p>One of the core principles of Bean Validation is type-safety. Specific constraint annotations such as <code>@Max</code>, <code>@Size</code> allow to specify and access custom attributes such as the allowed maximum value in a type-safe safe manner.</p>\n\n<p>The chosen approach also allows the validation engine to select the right validator implementation based on the annotated element's type instead of requiring the user to specify the validator class. So in a way this shifts complexity a bit from the constraint <em>user</em> to the constraint <em>author</em>.</p>\n\n<p>As you say, implementing this as a custom constraint should not be difficult. Note though that this disables compile time checking of constraint correctness e.g. via the <a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-annotation-processor\" rel=\"nofollow\">annotation processor</a> provided by Hibernate Validator. While this could detect an erronously specified <code>@Past</code> constraint on a string property, it couldn't detect a non-matching validator type specified via <code>@ValidatedBy</code>.</p>\n\n<p>If your requirement is about custom validation logic for complete beans (class-level validation), you might consider to implement that in a method of that bean as this:</p>\n\n<pre><code>@AssertTrue\npublic boolean isValid() {\n    //custom validation logic\n}\n</code></pre>\n\n<p>Or you might leverage the <a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-defineconstraints-hv-constraints\" rel=\"nofollow\">@ScriptAssert</a> constraint provided by Hibernate Validator.</p>\n"},{"tags":[],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383768341,"creation_date":1383768341,"answer_id":19821709,"question_id":19810856,"body_markdown":"Sometimes you need to ask the question to realize how to solve &quot;the problem&quot; yourself. Based on Gunnar&#39;s answer and comments:\r\n\r\nYou can create `@MyDomainModelValid` constriant definition for the custom domain model with all the necessary validators:\r\n\r\n    @Target({TYPE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy={\r\n            MyFirstEntityValidator.class, MySecondEntityValidator.class,\r\n            MyThirdEntityValidator.class, EtCetera.class})\r\n    public @interface MyDomainModelValid {\r\n        String message() default &quot;entity.notValid&quot;;\r\n        Class&lt;?&gt;[] groups() default { };\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\nJSR-303 implementation will make sure that a correct validator is called for a specific entity. So there is no need for previously proposed `@ValidatedBy` annotation.","title":"Delegating (generic) constraint definition annotation","body":"<p>Sometimes you need to ask the question to realize how to solve \"the problem\" yourself. Based on Gunnar's answer and comments:</p>\n\n<p>You can create <code>@MyDomainModelValid</code> constriant definition for the custom domain model with all the necessary validators:</p>\n\n<pre><code>@Target({TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy={\n        MyFirstEntityValidator.class, MySecondEntityValidator.class,\n        MyThirdEntityValidator.class, EtCetera.class})\npublic @interface MyDomainModelValid {\n    String message() default \"entity.notValid\";\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>JSR-303 implementation will make sure that a correct validator is called for a specific entity. So there is no need for previously proposed <code>@ValidatedBy</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":43784,"reputation":365,"user_id":128151,"accept_rate":33,"display_name":"jruillier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677303511,"creation_date":1677289145,"answer_id":75562799,"question_id":19810856,"body_markdown":"Maybe another way to reduce boilerplate code is by using [SmartConstraints][1] (I&#39;m the author).\r\n\r\nYou could annotate your domain entities fields with regular JSR-303 annotations, and SmartConstraints annotation processor would automatically generate matching `@ValidMyField` annotations that you would reuse in your DTOs.\r\n\r\n\r\n\r\n  [1]: https://github.com/jruillier/smartconstraints","title":"Delegating (generic) constraint definition annotation","body":"<p>Maybe another way to reduce boilerplate code is by using <a href=\"https://github.com/jruillier/smartconstraints\" rel=\"nofollow noreferrer\">SmartConstraints</a> (I'm the author).</p>\n<p>You could annotate your domain entities fields with regular JSR-303 annotations, and SmartConstraints annotation processor would automatically generate matching <code>@ValidMyField</code> annotations that you would reuse in your DTOs.</p>\n"}],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2839,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":19821709,"answer_count":3,"score":1,"last_activity_date":1677303511,"creation_date":1383737190,"question_id":19810856,"body_markdown":"In JSR-303 (Bean Validation) you need to define a special annotation for each constraint validator you write. This makes perfect sense if you are creating reusable constraint validators (like the standard `@Max`, `@NotNull`, etc). \r\n\r\nHowever in real life every validated bean requires its own validator to do more complex business validations. With vanilla JSR-303 implementations you have to create a separate annotation for every validator. This forces developer to write one-time-only annotations and makes the overall concept of bean validation look stupid. The necessity for one-time-only annotations can be avoided if JSR-303 offers some sort of delegating constraint annotation: `@ValidateBy(validator=my.custom.Validator)`.\r\n\r\nNow to my question:\r\n\r\n * Why doesn&#39;t JSR-303 include such use-case? \r\n * Is there any official discussion related to this (I was not able to find anything)?\r\n * Do any JSR-303 library offer such functionality (not that it would be hard to implement that)?\r\n\r\n---\r\n\r\n**UPDATE 1** - Specific use-case (which led to this question)\r\n\r\nWe have a moderate enterprise application with pretty rich business model (40 manageable entities, 20 embeddable entities, 25 read-only entities). This means that we have a lots of HTML forms. Each form is backed by a designated form bean (70 form beans) with JSR-303 annotations. Some forms require custom non-trivial validation (e.g. if *delivery type is email* then a *contact email must be set*, ...). With JSR-303 we have 33 form-bean specific validators with 33 (unnecessary one-time-only) annotations.\r\n\r\nWith the number of Java classes (entities, controllers, DAOs, DTOs, mappers, validators, etc... right now this makes 800 `.java` files) I don&#39;t like having any boilerplate code around.","title":"Delegating (generic) constraint definition annotation","body":"<p>In JSR-303 (Bean Validation) you need to define a special annotation for each constraint validator you write. This makes perfect sense if you are creating reusable constraint validators (like the standard <code>@Max</code>, <code>@NotNull</code>, etc). </p>\n\n<p>However in real life every validated bean requires its own validator to do more complex business validations. With vanilla JSR-303 implementations you have to create a separate annotation for every validator. This forces developer to write one-time-only annotations and makes the overall concept of bean validation look stupid. The necessity for one-time-only annotations can be avoided if JSR-303 offers some sort of delegating constraint annotation: <code>@ValidateBy(validator=my.custom.Validator)</code>.</p>\n\n<p>Now to my question:</p>\n\n<ul>\n<li>Why doesn't JSR-303 include such use-case? </li>\n<li>Is there any official discussion related to this (I was not able to find anything)?</li>\n<li>Do any JSR-303 library offer such functionality (not that it would be hard to implement that)?</li>\n</ul>\n\n<hr>\n\n<p><strong>UPDATE 1</strong> - Specific use-case (which led to this question)</p>\n\n<p>We have a moderate enterprise application with pretty rich business model (40 manageable entities, 20 embeddable entities, 25 read-only entities). This means that we have a lots of HTML forms. Each form is backed by a designated form bean (70 form beans) with JSR-303 annotations. Some forms require custom non-trivial validation (e.g. if <em>delivery type is email</em> then a <em>contact email must be set</em>, ...). With JSR-303 we have 33 form-bean specific validators with 33 (unnecessary one-time-only) annotations.</p>\n\n<p>With the number of Java classes (entities, controllers, DAOs, DTOs, mappers, validators, etc... right now this makes 800 <code>.java</code> files) I don't like having any boilerplate code around.</p>\n"},{"tags":["java","android","filesystems"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1677303996,"post_id":75563484,"comment_id":133315641,"body_markdown":"Your error message says `Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1 at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)` but you&#39;ve haven&#39;t included your `GenerateWindow` method in your `MainActivity`.","body":"Your error message says <code>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1 at com.example.myapplication.MainActivity.GenerateWindow(MainAc&zwnj;&#8203;tivity.java:1320)</code> but you&#39;ve haven&#39;t included your <code>GenerateWindow</code> method in your <code>MainActivity</code>."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677304412,"post_id":75563484,"comment_id":133315674,"body_markdown":"seems wrong. GenerateWIndow is added on MainActivity java. 100%. What about folders? They&#39;re still no adding.","body":"seems wrong. GenerateWIndow is added on MainActivity java. 100%. What about folders? They&#39;re still no adding."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677306205,"post_id":75563484,"comment_id":133315841,"body_markdown":"You need to also test the directory for canRead() canWrite() and canExecute() before attempting to write into the folder. Also, use only one of mkDirs() not both or there will be a collision (although it does not show). If any of those tests fail , there are setReadable setWritable and setExecutable methods also in File class","body":"You need to also test the directory for canRead() canWrite() and canExecute() before attempting to write into the folder. Also, use only one of mkDirs() not both or there will be a collision (although it does not show). If any of those tests fail , there are setReadable setWritable and setExecutable methods also in File class"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677306722,"post_id":75563484,"comment_id":133315888,"body_markdown":"If the directory exists then you should skip over the mkDirs() also.","body":"If the directory exists then you should skip over the mkDirs() also."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677306748,"post_id":75563484,"comment_id":133315890,"body_markdown":"```\nString fullPath_item=Environment.getExternalStorageDirectory().toString()+path;\n\n        String final_path=fullPath_item+&quot;/&quot;+name;\n        File theDir1 = new File(final_path);\n        theDir1.setReadable(true);\n        theDir1.setExecutable(true);\n        theDir1.setWritable(true);\n```\nDoes not help. Application still report that directory and root exist, but `File filesList[] = directoryPath.listFiles(textFilefilter);` still return null.\n\nInteresting thing that init folders are created and shown correctly, but i cannot add new folders.","body":"``` String fullPath_item=Environment.getExternalStorageDirectory().toSt&zwnj;&#8203;ring()+path;          String final_path=fullPath_item+&quot;/&quot;+name;         File theDir1 = new File(final_path);         theDir1.setReadable(true);         theDir1.setExecutable(true);         theDir1.setWritable(true); ``` Does not help. Application still report that directory and root exist, but <code>File filesList[] = directoryPath.listFiles(textFilefilter);</code> still return null.  Interesting thing that init folders are created and shown correctly, but i cannot add new folders."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677348126,"post_id":75563484,"comment_id":133321687,"body_markdown":"solved problem by using flat adress for item creation and absolute cacheDir() path in item reading.","body":"solved problem by using flat adress for item creation and absolute cacheDir() path in item reading."}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677303148,"creation_date":1677303148,"question_id":75563484,"body_markdown":"Im trying to make a custom file system\r\n\r\nim adding new directory by next code:\r\n\r\n```\r\npublic String CreateFolder (String path,String name, String style){\r\n\r\n\r\n\r\n        String fullPath_item=Environment.getExternalStorageDirectory().toString();\r\n\r\n        String final_path=fullPath_item+path+&quot;/&quot;+name;\r\n        File theDir1 = new File(final_path);\r\n        if (!theDir1.exists()){\r\n            boolean check = theDir1.mkdirs();\r\n            boolean check2=theDir1.mkdir();\r\n            //openDirectory(final_path,123);;\r\n            writeStringAsFile(final_path,&quot;root.txt&quot;,style);            //System.out.println(theDir1.mkdir());\r\n            //System.out.println(theDir1.mkdirs());\r\n        }\r\n\r\n\r\n        File theDir2 = new File(final_path+&quot;/root.txt&quot;);\r\n        if (theDir1.exists() &amp; theDir2.exists()){\r\n            Toast.makeText(this, &quot;Folder exist: &quot;+final_path, Toast.LENGTH_LONG).show();\r\n        }\r\n        return final_path;\r\n\r\n    }\r\n```\r\n\r\nupon `theDir1.exists() &amp; theDir2.exists()` checker it says that both directory and root file are beign made.\r\n\r\nextracting subderectories with\r\n\r\n```\r\nFile directoryPath = new File(CurrentFolder);\r\n            FileFilter textFilefilter = new FileFilter(){\r\n                public boolean accept(File file) {\r\n                    boolean isFile = file.isFile();\r\n                    if (isFile) {\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                }\r\n            };\r\n            File filesList[] = directoryPath.listFiles(textFilefilter);\r\n```\r\n\r\nThis code returns null, even if directories were made by previous code\r\n\r\n\r\nI managed to have \r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n```\r\n\r\nWhich mean i probably have permission to create directories. \r\n\r\nI thought it is something about new directories were made and i need permission to access them, tried Intent with ACTION_CREATE_DOCUMENT, but it throws exception\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 14260\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\r\n        at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:1612)\r\n        at android.app.Activity.performCreate(Activity.java:7994)\r\n        at android.app.Activity.performCreate(Activity.java:7978)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\nSpent whole night to figure out what is happening, tryied a lot of different solutions, but directory still does not create, or, by some reason, newly made directories are invisible.","title":"new directory made from File not added","body":"<p>Im trying to make a custom file system</p>\n<p>im adding new directory by next code:</p>\n<pre><code>public String CreateFolder (String path,String name, String style){\n\n\n\n        String fullPath_item=Environment.getExternalStorageDirectory().toString();\n\n        String final_path=fullPath_item+path+&quot;/&quot;+name;\n        File theDir1 = new File(final_path);\n        if (!theDir1.exists()){\n            boolean check = theDir1.mkdirs();\n            boolean check2=theDir1.mkdir();\n            //openDirectory(final_path,123);;\n            writeStringAsFile(final_path,&quot;root.txt&quot;,style);            //System.out.println(theDir1.mkdir());\n            //System.out.println(theDir1.mkdirs());\n        }\n\n\n        File theDir2 = new File(final_path+&quot;/root.txt&quot;);\n        if (theDir1.exists() &amp; theDir2.exists()){\n            Toast.makeText(this, &quot;Folder exist: &quot;+final_path, Toast.LENGTH_LONG).show();\n        }\n        return final_path;\n\n    }\n</code></pre>\n<p>upon <code>theDir1.exists() &amp; theDir2.exists()</code> checker it says that both directory and root file are beign made.</p>\n<p>extracting subderectories with</p>\n<pre><code>File directoryPath = new File(CurrentFolder);\n            FileFilter textFilefilter = new FileFilter(){\n                public boolean accept(File file) {\n                    boolean isFile = file.isFile();\n                    if (isFile) {\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }\n            };\n            File filesList[] = directoryPath.listFiles(textFilefilter);\n</code></pre>\n<p>This code returns null, even if directories were made by previous code</p>\n<p>I managed to have</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n\n</code></pre>\n<p>Which mean i probably have permission to create directories.</p>\n<p>I thought it is something about new directories were made and i need permission to access them, tried Intent with ACTION_CREATE_DOCUMENT, but it throws exception</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 14260\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\n        at com.example.myapplication.MainActivity.GenerateWindow(MainActivity.java:1320)\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:1612)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>Spent whole night to figure out what is happening, tryied a lot of different solutions, but directory still does not create, or, by some reason, newly made directories are invisible.</p>\n"},{"tags":["java","java.util.scanner","time-limiting"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1340623725,"post_id":11187747,"comment_id":14683241,"body_markdown":"Wrap System.in in a suitable BufferedInputSomething?","body":"Wrap System.in in a suitable BufferedInputSomething?"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1340625546,"post_id":11187747,"comment_id":14684015,"body_markdown":"What error / exception do you get?","body":"What error / exception do you get?"},{"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"score":0,"creation_date":1340627048,"post_id":11187747,"comment_id":14684655,"body_markdown":"No exception or error, looks like the loop never ends or the program waits for input forever.","body":"No exception or error, looks like the loop never ends or the program waits for input forever."},{"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"score":0,"creation_date":1340627481,"post_id":11187747,"comment_id":14684822,"body_markdown":"But it works with the inputs shown in this link, and matches the outputs: https://www.jutge.org/problems/P72986_en (ignore security warning, university SSL is not verified)\n\nThe problem is with the inputs that are not shown, they are more challenging.","body":"But it works with the inputs shown in this link, and matches the outputs: <a href=\"https://www.jutge.org/problems/P72986_en\" rel=\"nofollow noreferrer\">jutge.org/problems/P72986_en</a> (ignore security warning, university SSL is not verified)  The problem is with the inputs that are not shown, they are more challenging."}],"answers":[{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390417558,"creation_date":1390417558,"answer_id":21291717,"question_id":11187747,"body_markdown":"You have to Wrap your System.in, like\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    in = new Scanner(br);\r\n\r\n\r\ninstead,\r\n\r\n    in = new Scanner(System.in);\r\n\r\n","title":"Time limit exceeded using Scanner - Java","body":"<p>You have to Wrap your System.in, like</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nin = new Scanner(br);\n</code></pre>\n\n<p>instead,</p>\n\n<pre><code>in = new Scanner(System.in);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27295667,"reputation":1,"user_id":20813336,"display_name":"Tom Ming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677300868,"creation_date":1677300868,"answer_id":75563380,"question_id":11187747,"body_markdown":"You can create a Reader class by yourself, here is my Reader class code.\r\n```Java\r\n/** Reader Class */\r\nstatic class Reader {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    StringTokenizer tokenizer = new StringTokenizer(&quot;&quot;);\r\n\r\n    /** Get next line text */\r\n    String next() throws IOException {\r\n        while (!tokenizer.hasMoreTokens()) {\r\n            tokenizer = new StringTokenizer(reader.readLine());\r\n        }\r\n        return tokenizer.nextToken();\r\n    }\r\n\r\n    int nextInt() throws IOException {\r\n        return Integer.parseInt(next());\r\n    }\r\n\r\n    double nextDouble() throws IOException {\r\n        return Double.parseDouble(next());\r\n    }\r\n}\r\n```\r\nTo use this class, you need to create an object(assume it named reader).\r\nTo get a int number, you should `reader.nextInt()`.\r\nTo get a Double number, you should `reader.nextDouble`.","title":"Time limit exceeded using Scanner - Java","body":"<p>You can create a Reader class by yourself, here is my Reader class code.</p>\n<pre><code>/** Reader Class */\nstatic class Reader {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    StringTokenizer tokenizer = new StringTokenizer(&quot;&quot;);\n\n    /** Get next line text */\n    String next() throws IOException {\n        while (!tokenizer.hasMoreTokens()) {\n            tokenizer = new StringTokenizer(reader.readLine());\n        }\n        return tokenizer.nextToken();\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    double nextDouble() throws IOException {\n        return Double.parseDouble(next());\n    }\n}\n</code></pre>\n<p>To use this class, you need to create an object(assume it named reader).\nTo get a int number, you should <code>reader.nextInt()</code>.\nTo get a Double number, you should <code>reader.nextDouble</code>.</p>\n"}],"owner":{"account_id":1598024,"reputation":21,"user_id":1479665,"display_name":"FullAdder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677300868,"creation_date":1340620779,"question_id":11187747,"body_markdown":"I&#39;m testing this code in Java with a [problem from a programming Judge][1] and I get a &quot;time limit&quot; error. I guess the *scanner.hasNextDouble()* thingy is not working somehow. \r\n\r\nIt works with the public inputs shown in the link but it throws this time limit error with the privates. \r\n\r\nAny idea to solve this issue?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Scanner;\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n     \r\n    class Main /*AvalPoli2*/ {\r\n        public static void main(String[] args) {\r\n            NumberFormat nf = NumberFormat.getNumberInstance(Locale.US); // dot sep.\r\n            nf.setGroupingUsed(false); // don&#39;t group in groups of 3 \r\n            nf.setMaximumFractionDigits(4); \r\n            nf.setMinimumFractionDigits(4);\r\n            Scanner scanner = new Scanner(System.in);\r\n            scanner.useLocale(Locale.US); // read doubles with dot separator\r\n            double sum = 0.0000;\r\n            double x = 0;\r\n            if (scanner.hasNextDouble()) x = scanner.nextDouble();\r\n            while (scanner.hasNextDouble()) {\r\n                sum *= x;\r\n                sum += scanner.nextDouble();\r\n            }\r\n            System.out.println(nf.format(sum));\r\n        }\r\n    }\r\n\r\nThank you very much! ^_^\r\n\r\n[1]: https://www.jutge.org/problems/P72986_en","title":"Time limit exceeded using Scanner - Java","body":"<p>I'm testing this code in Java with a <a href=\"https://www.jutge.org/problems/P72986_en\" rel=\"nofollow\">problem from a programming Judge</a> and I get a \"time limit\" error. I guess the <em>scanner.hasNextDouble()</em> thingy is not working somehow. </p>\n\n<p>It works with the public inputs shown in the link but it throws this time limit error with the privates. </p>\n\n<p>Any idea to solve this issue?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\nclass Main /*AvalPoli2*/ {\n    public static void main(String[] args) {\n        NumberFormat nf = NumberFormat.getNumberInstance(Locale.US); // dot sep.\n        nf.setGroupingUsed(false); // don't group in groups of 3 \n        nf.setMaximumFractionDigits(4); \n        nf.setMinimumFractionDigits(4);\n        Scanner scanner = new Scanner(System.in);\n        scanner.useLocale(Locale.US); // read doubles with dot separator\n        double sum = 0.0000;\n        double x = 0;\n        if (scanner.hasNextDouble()) x = scanner.nextDouble();\n        while (scanner.hasNextDouble()) {\n            sum *= x;\n            sum += scanner.nextDouble();\n        }\n        System.out.println(nf.format(sum));\n    }\n}\n</code></pre>\n\n<p>Thank you very much! ^_^</p>\n"},{"tags":["java","spring","spring-boot","outputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1628496081,"post_id":68708640,"comment_id":121426275,"body_markdown":"You should see a fix suggested by IntelliJ - `output.toString(StandardCharsets.UTF_8)`.","body":"You should see a fix suggested by IntelliJ - <code>output.toString(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1628496797,"post_id":68708640,"comment_id":121426505,"body_markdown":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me.","body":"@Sweeper Thanks a lot. I am not sure how I missed seeing that. Thanks a lot for the response. This worked for me."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677300469,"creation_date":1628503562,"answer_id":68710250,"question_id":68708640,"body_markdown":"The explanation for this warning is that \r\n\r\n      new String(output.toByteArray());\r\n\r\ncreates a `byte[]` from the contents of the `ByteArrayOutputStream`, then creates a `String` from the `byte[]`.  That is doing an unnecessary copy of the data.\r\n\r\nThe fix&lt;sup&gt;1&lt;/sup&gt; suggested by Intellij is:\r\n\r\n     output.toString(StandardCharsets.UTF_8).\r\n\r\nwhich creates the `String` in a single operation without creating an intermediate `byte[]`.\r\n\r\nHow does it do this? \r\n\r\nWell `toString()` is passing the `ByteArrayOutputStream`&#39;s internal `byte[]` buffer to the `String` constructor.  By contrast, `output.toByteArray()` is copying the buffer to a new `byte[]` ... so that the caller cannot interfere with the actual buffer&#39;s contents.\r\n\r\n--------------------------\r\n\r\n&lt;sup&gt;1 - In fact the suggested fix doesn&#39;t have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform&#39;s default character set.  In context, it looks like the fix is *more correct* than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter *could* be mapping the bytes from one encoding to another behind the scenes.&lt;/sup&gt;\r\n","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>The explanation for this warning is that</p>\n<pre><code>  new String(output.toByteArray());\n</code></pre>\n<p>creates a <code>byte[]</code> from the contents of the <code>ByteArrayOutputStream</code>, then creates a <code>String</code> from the <code>byte[]</code>.  That is doing an unnecessary copy of the data.</p>\n<p>The fix<sup>1</sup> suggested by Intellij is:</p>\n<pre><code> output.toString(StandardCharsets.UTF_8).\n</code></pre>\n<p>which creates the <code>String</code> in a single operation without creating an intermediate <code>byte[]</code>.</p>\n<p>How does it do this?</p>\n<p>Well <code>toString()</code> is passing the <code>ByteArrayOutputStream</code>'s internal <code>byte[]</code> buffer to the <code>String</code> constructor.  By contrast, <code>output.toByteArray()</code> is copying the buffer to a new <code>byte[]</code> ... so that the caller cannot interfere with the actual buffer's contents.</p>\n<hr />\n<p><sup>1 - In fact the suggested fix doesn't have identical semantics to your original code.  The fix uses a specific character set for (UTF-8) converting the bytes to a string.  Your original code uses the platform's default character set.  In context, it looks like the fix is <em>more correct</em> than the original ... since the bytes seem to have started out as UTF-8.  However I guess that the converter <em>could</em> be mapping the bytes from one encoding to another behind the scenes.</sup></p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68710250,"answer_count":1,"score":1,"last_activity_date":1677300469,"creation_date":1628495841,"question_id":68708640,"body_markdown":"I have a `Spring Boot` application that converts the XML to JSON. The conversion is done by calling another `JAVA application` internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.\r\n\r\nThe called `Java Application` requires a `OutputStream` so I am using the `ByteArrayOutputStream` and passing it within the method. After receiving the output I am converting the `OutputStream` to `String`. During the conversion, I am running into the warning `Inefficient conversion from ByteArrayOutputStream`.\r\n\r\nI wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of `ByteArrayOutputStream` but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.\r\n\r\nCan someone please guide me on what I can do within my `Spring Boot` application `ByteArrayOutputStream` so as to fix the warning that I receive in my `Intellij IDE`:\r\n`Inefficient conversion from ByteArrayOutputStream`\r\n\r\nFollowing is my code sample:\r\n```\r\nfinal InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\r\nfinal var output = new ByteArrayOutputStream();\r\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\r\nreturn new String(output.toByteArray());\r\n```\r\n\r\nI am getting the warning for the line:\r\n`new String(output.toByteArray())`","title":"Conversion of ByteArrayInputStream.toString results in warning Inefficient conversion from ByteArrayOutputStream","body":"<p>I have a <code>Spring Boot</code> application that converts the XML to JSON. The conversion is done by calling another <code>JAVA application</code> internally and passing some information. The implementation of the called application is out of my control and I do not have access to make any changes to it.</p>\n<p>The called <code>Java Application</code> requires a <code>OutputStream</code> so I am using the <code>ByteArrayOutputStream</code> and passing it within the method. After receiving the output I am converting the <code>OutputStream</code> to <code>String</code>. During the conversion, I am running into the warning <code>Inefficient conversion from ByteArrayOutputStream</code>.</p>\n<p>I wanted to know how can I fix this warning. I researched a bit and found that we need to pass the size of <code>ByteArrayOutputStream</code> but in my case I am not aware how much size it can have because it would depend on the size of the input XML that I am giving. So I am unable to predict it and set it.</p>\n<p>Can someone please guide me on what I can do within my <code>Spring Boot</code> application <code>ByteArrayOutputStream</code> so as to fix the warning that I receive in my <code>Intellij IDE</code>:\n<code>Inefficient conversion from ByteArrayOutputStream</code></p>\n<p>Following is my code sample:</p>\n<pre><code>final InputStream inputStream = new ByteArrayInputStream(xmlEvents.getBytes(StandardCharsets.UTF_8));\nfinal var output = new ByteArrayOutputStream();\nnew Converter().convert(inputStream, new Handler&lt;&gt;(new Validator(), new StreamCollector(output)));\nreturn new String(output.toByteArray());\n</code></pre>\n<p>I am getting the warning for the line:\n<code>new String(output.toByteArray())</code></p>\n"},{"tags":["java","algorithm","geometry","collision-detection","game-development"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1677303859,"post_id":75563228,"comment_id":133315631,"body_markdown":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?","body":"Line or line segment? What do the comparisons of segment length with circlecenter-segmentend distance mean?"}],"owner":{"account_id":26918365,"reputation":43,"user_id":20492814,"display_name":"Brian Serrano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677297867,"creation_date":1677297867,"question_id":75563228,"body_markdown":"    public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\r\n\t\t\tint lineY2) {\r\n\t\tdouble a = lineY2 - lineY1;\r\n\t\tdouble b = lineX1 - lineX2;\r\n\t\tdouble c = lineX2 * lineY1 - lineX1 * lineY2;\r\n\r\n\t\tdouble distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\r\n\r\n\t\tdouble distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\r\n\t\tdouble distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\r\n\r\n\t\treturn distance &lt;= circleRadius\r\n\t\t\t\t&amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\r\n\t\t\t\t&amp;&amp; distance2 &lt;= Math\r\n\t\t\t\t\t\t.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\r\n\t}\r\nThis code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem","title":"Circle and diagonal line game collision in java","body":"<pre><code>public boolean checkCollision(int circleX, int circleY, int circleRadius, int lineX1, int lineY1, int lineX2,\n        int lineY2) {\n    double a = lineY2 - lineY1;\n    double b = lineX1 - lineX2;\n    double c = lineX2 * lineY1 - lineX1 * lineY2;\n\n    double distance = Math.abs(a * circleX + b * circleY + c) / Math.sqrt(a * a + b * b);\n\n    double distance1 = Math.sqrt((circleX - lineX1) * (circleX - lineX1) + (circleY - lineY1) * (circleY - lineY1));\n    double distance2 = Math.sqrt((circleX - lineX2) * (circleX - lineX2) + (circleY - lineY2) * (circleY - lineY2));\n\n    return distance &lt;= circleRadius\n            &amp;&amp; distance1 &lt;= Math.sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1))\n            &amp;&amp; distance2 &lt;= Math\n                    .sqrt((lineX2 - lineX1) * (lineX2 - lineX1) + (lineY2 - lineY1) * (lineY2 - lineY1));\n}\n</code></pre>\n<p>This code works if i place the line 0, 0 to the width and height of jframe but i cant make it work if i place the line 0, height to the width, 0. If the circle is from the top left and move down right it will exceed the line a bit before it execute the collision. If the circle is from bottom right and move up left it will not reach the line and it execute the collision. If i change the position of the points of line it will not work properly. Is there i can do to fix the problem</p>\n"},{"tags":["java","wiremock","stubbing"],"answers":[{"comments":[{"owner":{"account_id":2706428,"reputation":312,"user_id":2335939,"accept_rate":100,"display_name":"GBP"},"score":2,"creation_date":1560854555,"post_id":54756093,"comment_id":99864246,"body_markdown":"Thanks for posting the solution","body":"Thanks for posting the solution"},{"owner":{"account_id":15564090,"reputation":500,"user_id":11228436,"display_name":"Mansour.M"},"score":0,"creation_date":1591805688,"post_id":54756093,"comment_id":110198219,"body_markdown":"You deserve a cookie for this solution! The docs leave this out!","body":"You deserve a cookie for this solution! The docs leave this out!"},{"owner":{"account_id":3835019,"reputation":957,"user_id":5605546,"accept_rate":83,"display_name":"Adrian"},"score":0,"creation_date":1650530727,"post_id":54756093,"comment_id":127141139,"body_markdown":"How can I find the `testResource` path?","body":"How can I find the <code>testResource</code> path?"},{"owner":{"account_id":4824346,"reputation":1840,"user_id":3894163,"accept_rate":92,"display_name":"Jaydo"},"score":0,"creation_date":1670475390,"post_id":54756093,"comment_id":131885500,"body_markdown":"If you&#39;re using IntelliJ with the `Compact Middle Packages` setting turned on it can look you have the right directory structure e.g. `service.mappings` when you&#39;ve actually got a single directory with a `.` in the name which will not work","body":"If you&#39;re using IntelliJ with the <code>Compact Middle Packages</code> setting turned on it can look you have the right directory structure e.g. <code>service.mappings</code> when you&#39;ve actually got a single directory with a <code>.</code> in the name which will not work"}],"tags":[],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1550527711,"creation_date":1550527711,"answer_id":54756093,"question_id":54722250,"body_markdown":"I found solution for this. So, basically we need create a folder called &quot;mappings&quot; (exact name) under the directory identified by &quot;testResource&quot; variable. So in above code example, the mapping.json file will be stored at location: &quot;MockApp/resources/testconfig/mappings/mapping.json&quot;. \r\n\r\nOnce this, is done, it will print the following output. As can be seen in the logs, &quot;Stub mapping size is 1&quot;. This will be printed once you add the following line in the code.\r\n\r\n    System.out.println(&quot;Stub mapping size: &quot; + wireMockServer.getStubMappings().size());\r\n\r\n    Stub mapping size: 1\r\n    {\r\n      &quot;id&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;,\r\n      &quot;request&quot; : {\r\n        &quot;url&quot; : &quot;/some/thing&quot;,\r\n        &quot;method&quot; : &quot;GET&quot;\r\n      },\r\n      &quot;response&quot; : {\r\n        &quot;status&quot; : 200,\r\n        &quot;body&quot; : &quot;Hello world!&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;Content-Type&quot; : &quot;text/plain&quot;\r\n        }\r\n      },\r\n      &quot;uuid&quot; : &quot;da5735a6-b6cc-45aa-8256-fb88b5670610&quot;\r\n    }\r\n","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I found solution for this. So, basically we need create a folder called \"mappings\" (exact name) under the directory identified by \"testResource\" variable. So in above code example, the mapping.json file will be stored at location: \"MockApp/resources/testconfig/mappings/mapping.json\". </p>\n\n<p>Once this, is done, it will print the following output. As can be seen in the logs, \"Stub mapping size is 1\". This will be printed once you add the following line in the code.</p>\n\n<pre><code>System.out.println(\"Stub mapping size: \" + wireMockServer.getStubMappings().size());\n\nStub mapping size: 1\n{\n  \"id\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\",\n  \"request\" : {\n    \"url\" : \"/some/thing\",\n    \"method\" : \"GET\"\n  },\n  \"response\" : {\n    \"status\" : 200,\n    \"body\" : \"Hello world!\",\n    \"headers\" : {\n      \"Content-Type\" : \"text/plain\"\n    }\n  },\n  \"uuid\" : \"da5735a6-b6cc-45aa-8256-fb88b5670610\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26502072,"reputation":31,"user_id":20138846,"display_name":"Pavel Novikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677295646,"creation_date":1677295646,"answer_id":75563109,"question_id":54722250,"body_markdown":"For example url for your file is:\r\n*resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json*\r\n\r\nYou have to write in usingFilesUnderDirectory():\r\n*src/intTest/resources/__files/stubResponses/provider/mark/qu*\r\n\r\nDirectory &#39;*mappings*&#39; is very important.","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>For example url for your file is:\n<em>resources/__files/stubResponses/provider/mark/qu/mappings/response_200.json</em></p>\n<p>You have to write in usingFilesUnderDirectory():\n<em>src/intTest/resources/__files/stubResponses/provider/mark/qu</em></p>\n<p>Directory '<em>mappings</em>' is very important.</p>\n"}],"owner":{"account_id":2787037,"reputation":2031,"user_id":2398143,"accept_rate":85,"display_name":"AnilJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26776,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54756093,"answer_count":2,"score":8,"last_activity_date":1677295646,"creation_date":1550313959,"question_id":54722250,"body_markdown":"I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. \r\n\r\nWith this code, I get the following error when I issue the GET request from Postman (i.e. GET http://127.0.0.1:8089/some/thing). \r\n\r\n**No response could be served as there are no stub mappings in this WireMock instance.**\r\n\r\nWhat is missing in my setup/code? \r\n\r\n    import com.github.tomakehurst.wiremock.WireMockServer;\r\n    import com.github.tomakehurst.wiremock.core.WireMockConfiguration;\r\n    \r\n    public class MockApp {\r\n    \r\n        private WireMockServer wireMockServer;\r\n    \r\n        public MockApp(String testSpec) {\r\n            wireMockServer = new WireMockServer(WireMockConfiguration.options().\r\n                    port(8089).\r\n                    usingFilesUnderDirectory(testSpec).\r\n                    disableRequestJournal());\r\n        }\r\n    \r\n        public void start() {\r\n            wireMockServer.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            wireMockServer.stop();\r\n        }\r\n    }\r\n\r\nThe main function is:\r\n\r\n    public class MockMain {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String baseDir = System.getProperty(&quot;user.dir&quot;);\r\n            String testResource = baseDir + &quot;/resources/testconfig/&quot;;\r\n    \r\n            MockAMS mockAMS = new MockAMS(testResource);\r\n    \r\n            mockAMS.start();\r\n        }\r\n    }\r\n\r\nUnder &#39;resources/testconfig&#39;, there is a file called mapping.json containing:\r\n\r\n    {\r\n      &quot;request&quot;: {\r\n        &quot;method&quot;: &quot;GET&quot;,\r\n        &quot;url&quot;: &quot;/some/thing&quot;\r\n      },\r\n      &quot;response&quot;: {\r\n        &quot;status&quot;: 200,\r\n        &quot;body&quot;: &quot;Hello world!&quot;,\r\n        &quot;headers&quot;: {\r\n          &quot;Content-Type&quot;: &quot;text/plain&quot;\r\n        }\r\n      }\r\n    }","title":"Wiremock error - there are no stub mappings in this WireMock instance","body":"<p>I have implemented a basic WireMock with a sample REST/HTTP request simulation. The server code implemented as below. </p>\n\n<p>With this code, I get the following error when I issue the GET request from Postman (i.e. GET <a href=\"http://127.0.0.1:8089/some/thing\" rel=\"noreferrer\">http://127.0.0.1:8089/some/thing</a>). </p>\n\n<p><strong>No response could be served as there are no stub mappings in this WireMock instance.</strong></p>\n\n<p>What is missing in my setup/code? </p>\n\n<pre><code>import com.github.tomakehurst.wiremock.WireMockServer;\nimport com.github.tomakehurst.wiremock.core.WireMockConfiguration;\n\npublic class MockApp {\n\n    private WireMockServer wireMockServer;\n\n    public MockApp(String testSpec) {\n        wireMockServer = new WireMockServer(WireMockConfiguration.options().\n                port(8089).\n                usingFilesUnderDirectory(testSpec).\n                disableRequestJournal());\n    }\n\n    public void start() {\n        wireMockServer.start();\n    }\n\n    public void stop() {\n        wireMockServer.stop();\n    }\n}\n</code></pre>\n\n<p>The main function is:</p>\n\n<pre><code>public class MockMain {\n\n    public static void main(String[] args) {\n\n        String baseDir = System.getProperty(\"user.dir\");\n        String testResource = baseDir + \"/resources/testconfig/\";\n\n        MockAMS mockAMS = new MockAMS(testResource);\n\n        mockAMS.start();\n    }\n}\n</code></pre>\n\n<p>Under 'resources/testconfig', there is a file called mapping.json containing:</p>\n\n<pre><code>{\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/some/thing\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"body\": \"Hello world!\",\n    \"headers\": {\n      \"Content-Type\": \"text/plain\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","loops","validation","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1606613836,"post_id":65056112,"comment_id":115013671,"body_markdown":"`System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);` - this just prints the x value, the operator and the y value. It doesn&#39;t print the output of the calc. Also `public Double(String s) throws NumberFormatException` is `@Deprecated(since=&quot;9&quot;)`.","body":"<code>System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);</code> - this just prints the x value, the operator and the y value. It doesn&#39;t print the output of the calc. Also <code>public Double(String s) throws NumberFormatException</code> is <code>@Deprecated(since=&quot;9&quot;)</code>."},{"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"score":0,"creation_date":1606614075,"post_id":65056112,"comment_id":115013719,"body_markdown":"@RobertBain 1&gt; The question was not how to evaluate the expression, it was about how to validate user input in a loop, until he gets what is expected\n2&gt; Accepted. (my project is still on Java 8 and my IDE didnt show warning :))","body":"@RobertBain 1&gt; The question was not how to evaluate the expression, it was about how to validate user input in a loop, until he gets what is expected 2&gt; Accepted. (my project is still on Java 8 and my IDE didnt show warning :))"},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":1,"creation_date":1606614860,"post_id":65056112,"comment_id":115013840,"body_markdown":"Fair shout, I feel the catch block `catch(NumberFormatException ex)` that swallows the exception is a bit of a code smell too though. And the way we&#39;re boxing a primitive etc.","body":"Fair shout, I feel the catch block <code>catch(NumberFormatException ex)</code> that swallows the exception is a bit of a code smell too though. And the way we&#39;re boxing a primitive etc."},{"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"score":0,"creation_date":1606616502,"post_id":65056112,"comment_id":115014063,"body_markdown":"Indeed this is not production ready, hope the user does the &quot;tidying up&quot; :)","body":"Indeed this is not production ready, hope the user does the &quot;tidying up&quot; :)"}],"tags":[],"owner":{"account_id":1577308,"reputation":327,"user_id":1463440,"display_name":"joy"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606613152,"creation_date":1606613152,"answer_id":65056112,"question_id":65055872,"body_markdown":"    \r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        double valX=0,valY=0;\r\n        char operator=&#39;0&#39;;//dummy default\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n        Double dX = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value X: &quot;);\r\n            dX = getDouble(input.next());\r\n        }while (dX==null);\r\n        {\r\n            valX = dX;\r\n        }\r\n\r\n        Character op = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Operator: &quot;);\r\n            op = getOperator(input.next());\r\n        }while (op==null);\r\n        {\r\n            operator=op;\r\n        }\r\n\r\n\r\n        Double dY = null;\r\n        do\r\n        {\r\n            System.out.print(&quot;Value Y: &quot;);\r\n            dY = getDouble(input.next());\r\n        }while (dY==null);\r\n        {\r\n            valY = dY;\r\n        }\r\n\r\n\r\n        System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\r\n    }\r\n\r\n    static Double getDouble(String input) {\r\n        Double d = null;\r\n        try {\r\n            d = new Double(input);\r\n        }catch(NumberFormatException ex){\r\n        }\r\n        return d;\r\n    }\r\n\r\n    static Character getOperator(String input) {\r\n        Character c = null;\r\n        if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\r\n            c = input.charAt(0);\r\n        }\r\n        return c;\r\n    }\r\n\r\n","title":"Loops and user input validation in java, again","body":"<pre><code>public static void main(String[] args) {\n    double valX=0,valY=0;\n    char operator='0';//dummy default\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Calculator Activated.&quot;);\n\n    Double dX = null;\n    do\n    {\n        System.out.print(&quot;Value X: &quot;);\n        dX = getDouble(input.next());\n    }while (dX==null);\n    {\n        valX = dX;\n    }\n\n    Character op = null;\n    do\n    {\n        System.out.print(&quot;Operator: &quot;);\n        op = getOperator(input.next());\n    }while (op==null);\n    {\n        operator=op;\n    }\n\n\n    Double dY = null;\n    do\n    {\n        System.out.print(&quot;Value Y: &quot;);\n        dY = getDouble(input.next());\n    }while (dY==null);\n    {\n        valY = dY;\n    }\n\n\n    System.out.println(&quot;Done: &quot;+ valX + &quot; &quot;+operator + &quot; &quot; +valY);\n}\n\nstatic Double getDouble(String input) {\n    Double d = null;\n    try {\n        d = new Double(input);\n    }catch(NumberFormatException ex){\n    }\n    return d;\n}\n\nstatic Character getOperator(String input) {\n    Character c = null;\n    if(&quot;+&quot;.equals(input) || &quot;-&quot;.equals(input) || &quot;*&quot;.equals(input) || &quot;/&quot;.equals(input)){\n        c = input.charAt(0);\n    }\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606613530,"creation_date":1606613530,"answer_id":65056139,"question_id":65055872,"body_markdown":"In your final code example in the class called `CalTest` where you assign `valX = input.nextDouble();` you could a call recursive method that handles the exception until the input is what you want. Something like this:\r\n\r\n    private static double getNextDouble(Scanner input) {\r\n        try {\r\n            return input.nextDouble();\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Value X must be a number: &quot;);\r\n            input.next();\r\n            return getNextDouble(input);\r\n        }\r\n    }\r\n\r\nYou&#39;ll replace `valX = input.nextDouble();` with `valX = getNextDouble(input);`. \r\n\r\nYou can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.","title":"Loops and user input validation in java, again","body":"<p>In your final code example in the class called <code>CalTest</code> where you assign <code>valX = input.nextDouble();</code> you could a call recursive method that handles the exception until the input is what you want. Something like this:</p>\n<pre><code>private static double getNextDouble(Scanner input) {\n    try {\n        return input.nextDouble();\n    } catch (InputMismatchException e) {\n        System.out.println(&quot;Value X must be a number: &quot;);\n        input.next();\n        return getNextDouble(input);\n    }\n}\n</code></pre>\n<p>You'll replace <code>valX = input.nextDouble();</code> with <code>valX = getNextDouble(input);</code>.</p>\n<p>You can tidy this up and make it work for your other potential error cases, perhaps creating a parameter for the output message and passing it in as an argument.</p>\n"}],"owner":{"account_id":19981817,"reputation":27,"user_id":14644796,"display_name":"Nod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65056139,"answer_count":2,"score":0,"last_activity_date":1677295606,"creation_date":1606610394,"question_id":65055872,"body_markdown":"So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input.. \r\n\r\nSo I made a calculator and I wanted to loop every step of the program so that if the user didn&#39;t put a ```double``` (69, 42.0) or the appropriate operator ```char``` (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely. \r\n\r\nSo one thing I got from the last question about this is that I could make a ```boolean``` value called &quot;restart&quot; or something and encapsulate my entire code except for the ```main``` ```method``` obviously and at the end I could make a question that they could answer ```true``` or ```false``` and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I&#39;m sure this can be done more efficiently), It still didn&#39;t satiate me and my original problem.\r\n\r\nSO...\r\n\r\nI got to trying everything I could (I know stack likes people who show that they at least tried).\r\n\r\nEXAMPLE 1\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n        \r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n                do\r\n                {\r\n                    System.out.print(&quot;Value X: &quot;);\r\n                    valX = input.nextDouble();\r\n                }while (!input.hasNextDouble());\r\n                {\r\n                    System.out.println(&quot;Invalid number!&quot;);\r\n                }\r\n//Didn&#39;t work &#175;\\_()_/&#175;\r\n```\r\n\r\nEXAMPLE 2\r\n```\r\nScanner input = new Scanner(System.in);\r\n\r\n        double valX;\r\n\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            while (!input.hasNextDouble())\r\n            {\r\n                System.out.println(&quot;Value X: &quot;);\r\n                valX = input.nextDouble();\r\n            }\r\n//neither this one...\r\n```\r\n\r\nNote that the solution you guys give me has to apply to every step of the program.\r\n\r\nAnd for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CalTest\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\r\n        char operator;\r\n        boolean restart; //Didn&#39;t need to declare it true or false since I&#39;m using a Scanner anyway\r\n\r\n        do //Start of the entire program\r\n        {\r\n            System.out.println(&quot;Calculator Activated.&quot;);\r\n\r\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\r\n            valX = input.nextDouble();\r\n            \r\n            System.out.print(&quot;Operator: &quot;); //And here...\r\n            operator = input.next().charAt(0);\r\n\r\n            System.out.print(&quot;Value Y: &quot;); //And here too..\r\n            valY = input.nextDouble();\r\n\r\n            divided = valX / valY;\r\n            multiplied = valX * valY;\r\n            added = valX + valY;\r\n            subtracted = valX - valY;\r\n\r\n            if (operator == &#39;/&#39;)\r\n                System.out.println(&quot;Result: &quot; + divided );\r\n            else if (operator == &#39;*&#39;)\r\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if&#39;s\r\n            else if (operator == &#39;+&#39;)\r\n                System.out.println(&quot;Result: &quot; + added);\r\n            else if (operator == &#39;-&#39;)\r\n                System.out.println(&quot;Result: &quot; + subtracted);\r\n            else\r\n                System.out.println(&quot;Invalid operator!&quot;);\r\n\r\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\r\n            restart = input.nextBoolean();\r\n\r\n        } while (restart); //End of it if you declared false.\r\n        \r\n        System.out.println(&quot;Calculator terminated.&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAt one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.\r\n\r\n","title":"Loops and user input validation in java, again","body":"<p>So, I think about two days back I asked a question about input validation, and how to loop programs until the user gave a valid input..</p>\n<p>So I made a calculator and I wanted to loop every step of the program so that if the user didn't put a <code>double</code> (69, 42.0) or the appropriate operator <code>char</code> (/, *, +, -) they would be stuck on that step till they got it right or otherwise closed the app entirely.</p>\n<p>So one thing I got from the last question about this is that I could make a <code>boolean</code> value called &quot;restart&quot; or something and encapsulate my entire code except for the <code>main</code> <code>method</code> obviously and at the end I could make a question that they could answer <code>true</code> or <code>false</code> and the entire app could run again. While I admit having a &quot;start over&quot; button on my app is cool and useful for all my other a projects (probably not, I'm sure this can be done more efficiently), It still didn't satiate me and my original problem.</p>\n<p>SO...</p>\n<p>I got to trying everything I could (I know stack likes people who show that they at least tried).</p>\n<p>EXAMPLE 1</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n        \n            System.out.println(&quot;Calculator Activated.&quot;);\n\n                do\n                {\n                    System.out.print(&quot;Value X: &quot;);\n                    valX = input.nextDouble();\n                }while (!input.hasNextDouble());\n                {\n                    System.out.println(&quot;Invalid number!&quot;);\n                }\n//Didn't work \\_()_/\n</code></pre>\n<p>EXAMPLE 2</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\n        double valX;\n\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            while (!input.hasNextDouble())\n            {\n                System.out.println(&quot;Value X: &quot;);\n                valX = input.nextDouble();\n            }\n//neither this one...\n</code></pre>\n<p>Note that the solution you guys give me has to apply to every step of the program.</p>\n<p>And for a bit more clarity is the entire src code without the stuff I tried and the &quot;restart&quot; loop.</p>\n<pre><code>import java.util.Scanner;\n\npublic class CalTest\n{\n    public static void main(String[] args)\n    {\n        Scanner input = new Scanner(System.in);\n\n        double valX, valY, divided, multiplied, added, subtracted;  //Declared all my variables...\n        char operator;\n        boolean restart; //Didn't need to declare it true or false since I'm using a Scanner anyway\n\n        do //Start of the entire program\n        {\n            System.out.println(&quot;Calculator Activated.&quot;);\n\n            System.out.print(&quot;Value X: &quot;); //I need a loop here...\n            valX = input.nextDouble();\n            \n            System.out.print(&quot;Operator: &quot;); //And here...\n            operator = input.next().charAt(0);\n\n            System.out.print(&quot;Value Y: &quot;); //And here too..\n            valY = input.nextDouble();\n\n            divided = valX / valY;\n            multiplied = valX * valY;\n            added = valX + valY;\n            subtracted = valX - valY;\n\n            if (operator == '/')\n                System.out.println(&quot;Result: &quot; + divided );\n            else if (operator == '*')\n                System.out.println(&quot;Result: &quot; + multiplied); //&lt;--Not sure if I need a loop with the if's\n            else if (operator == '+')\n                System.out.println(&quot;Result: &quot; + added);\n            else if (operator == '-')\n                System.out.println(&quot;Result: &quot; + subtracted);\n            else\n                System.out.println(&quot;Invalid operator!&quot;);\n\n            System.out.print(&quot;Try again? &quot;); //I also need a loop here, I think.\n            restart = input.nextBoolean();\n\n        } while (restart); //End of it if you declared false.\n        \n        System.out.println(&quot;Calculator terminated.&quot;);\n    }\n}\n\n</code></pre>\n<p>At one point I tried to use the same &quot;restart the app&quot; concept and made a boolean variable for every single step in the code and it honestly was tiresome and not worth it.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636124424,"post_id":69853589,"comment_id":123480653,"body_markdown":"I assume you ought to assign `firebaseRecyclerAdapter` to a RecyclerView at some point? I cannot see that in your code.","body":"I assume you ought to assign <code>firebaseRecyclerAdapter</code> to a RecyclerView at some point? I cannot see that in your code."},{"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"score":0,"creation_date":1636127884,"post_id":69853589,"comment_id":123482119,"body_markdown":"@MartinMarconcini `listcustom.setAdapter(firebaseRecyclerAdapter);` you mean this?","body":"@MartinMarconcini <code>listcustom.setAdapter(firebaseRecyclerAdapter);</code> you mean this?"},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1636359963,"post_id":69853589,"comment_id":123525752,"body_markdown":"Yes, you&#39;re right, I didn&#39;t see that.","body":"Yes, you&#39;re right, I didn&#39;t see that."}],"answers":[{"tags":[],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636796295,"creation_date":1636796295,"answer_id":69953084,"question_id":69853589,"body_markdown":"I found the answer for this problem. In My xml File I&#39;ve been using `match_parent` on the height. Which caused the main thread to skip the layout, because it couldn&#39;t find the layout scales.\r\n\r\nSo I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.\r\n\r\nmy XML Code\r\n\r\n\r\n` \r\n\r\n       &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:id=&quot;@+id/myWorkListemp&quot;\r\n\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                        &lt;androidx.recyclerview.widget.RecyclerView\r\n                            android:visibility=&quot;gone&quot;\r\n\r\n                            android:id=&quot;@+id/myCustomerListCustom&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;700dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n`","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I found the answer for this problem. In My xml File I've been using <code>match_parent</code> on the height. Which caused the main thread to skip the layout, because it couldn't find the layout scales.</p>\n<p>So I changed the value to some standard height in dp. Eg: 600dp. Which defined the layout correctly so now the recyclerView is loading perfectly without skipping the layout.</p>\n<p>my XML Code</p>\n<p>`</p>\n<pre><code>   &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:id=&quot;@+id/myWorkListemp&quot;\n\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                    &lt;androidx.recyclerview.widget.RecyclerView\n                        android:visibility=&quot;gone&quot;\n\n                        android:id=&quot;@+id/myCustomerListCustom&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;700dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69953084,"answer_count":1,"score":0,"last_activity_date":1677295153,"creation_date":1636116849,"question_id":69853589,"body_markdown":"I&#39;m a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that **adapter not attached Skipping layout** even though I&#39;ve attached the adapter still its showing the same \r\n\r\nBelow is my code.\r\n\r\n\r\n\r\n    private RecyclerView bookList,listOrg,listcustom;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_work_employee);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUserID = mAuth.getCurrentUser().getUid();\r\n\r\n        MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\r\n        \r\n        bookList = findViewById(R.id.myCustomerList);\r\n        listcustom = findViewById(R.id.myCustomerListCustom);\r\n\r\n        bookList.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        bookList.setLayoutManager(linearLayoutManager);\r\n\r\n\r\n\r\n\r\n        listcustom.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\r\n        linearLayoutManager2.setReverseLayout(true);\r\n        linearLayoutManager2.setStackFromEnd(true);\r\n        listcustom.setLayoutManager(linearLayoutManager2);\r\n\r\n\r\n        //LoadDat();\r\n\r\n        DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\r\n\r\n\r\n       // DisplayCustom();\r\n\r\n    }\r\n\r\n\r\nThis is my Display Custom Function \r\n\r\n\r\n    private void DisplayCustom(String cmpnyUID,String empId) {\r\n\r\n\r\n        Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\r\n        Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\r\n\r\n        FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\r\n                .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\r\n                .build();\r\n        FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\r\n        {\r\n            @NonNull\r\n            @Override\r\n            public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\r\n            {\r\n                View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\r\n                MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\r\n                return viewHolder;\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\r\n            {\r\n                final String pos = getRef(position).getKey();\r\n                String cmpnyID = model.getCmpnyID();\r\n                String wrkID = model.getWrkSiteID();\r\n                String engID = model.getEngKey();\r\n                String usrID = model.getUsrkey();\r\n\r\n\r\n           \r\n\r\n\r\n\r\n                holder.bookname.setText(model.getUsrname());\r\n                holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\r\n\r\n\r\n                holder.mView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\r\n                        reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\r\n                        reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\r\n\r\n                        startActivity(reqIntent);\r\n                    }\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n\r\n        listcustom.setAdapter(firebaseRecyclerAdapter);\r\n        firebaseRecyclerAdapter.startListening();\r\n\r\n\r\n        }\r\n\r\n\r\n        public class PBooksViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView bookname, bookauthor,fees ,count;\r\n        ImageView profImage;\r\n        LinearLayout mView;\r\n        String t_area, b_area, plan, allow;\r\n        public PBooksViewHolder(@NonNull View itemView) {\r\n\r\n            super(itemView);\r\n\r\n\r\n            profImage = itemView.findViewById(R.id.ivRequestProfile);\r\n            bookname = itemView.findViewById(R.id.tvRequestUserName);\r\n            bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\r\n            mView = itemView.findViewById(R.id.request_layout);\r\n            fees =  itemView.findViewById(R.id.tvFeesEngineerList);\r\n\r\n            count =  itemView.findViewById(R.id.wrkCount);\r\n\r\n\r\n        }\r\n    }\r\n","title":"Firebase :RecyclerView Skipping layout no Adapter Attached","body":"<p>I'm a beinner working on firebase java android. My problem is that i cannot load the recyclerView it is showing that <strong>adapter not attached Skipping layout</strong> even though I've attached the adapter still its showing the same</p>\n<p>Below is my code.</p>\n<pre><code>private RecyclerView bookList,listOrg,listcustom;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_my_work_employee);\n\n    mAuth = FirebaseAuth.getInstance();\n    currentUserID = mAuth.getCurrentUser().getUid();\n\n    MyCustomWorkRef = FirebaseDatabase.getInstance().getReference().child(&quot;WorksCustomAdded&quot;);\n    \n    bookList = findViewById(R.id.myCustomerList);\n    listcustom = findViewById(R.id.myCustomerListCustom);\n\n    bookList.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager.setReverseLayout(true);\n    linearLayoutManager.setStackFromEnd(true);\n    bookList.setLayoutManager(linearLayoutManager);\n\n\n\n\n    listcustom.setHasFixedSize(true);\n    LinearLayoutManager linearLayoutManager2 = new LinearLayoutManager(MyWorkEmployeeActivity.this);\n    linearLayoutManager2.setReverseLayout(true);\n    linearLayoutManager2.setStackFromEnd(true);\n    listcustom.setLayoutManager(linearLayoutManager2);\n\n\n    //LoadDat();\n\n    DisplayCustom(&quot;ltG284DWVbbxfHlD3vAiiwkEv963&quot;,&quot;22883b15-d432-42b7-8ba5-1b3d4586ff09&quot;);\n\n\n   // DisplayCustom();\n\n}\n</code></pre>\n<p>This is my Display Custom Function</p>\n<pre><code>private void DisplayCustom(String cmpnyUID,String empId) {\n\n\n    Toast.makeText(getApplicationContext(), &quot;CompnUID : &quot; + cmpnyUID + &quot;\\n  empID : &quot;+empId, Toast.LENGTH_SHORT).show();\n    Query SortPostsInDecendingOrder = MyCustomWorkRef.child(cmpnyUID).orderByChild(&quot;empID&quot;).equalTo(empId);;\n\n    FirebaseRecyclerOptions&lt;MyCustomer&gt; options = new FirebaseRecyclerOptions.Builder&lt;MyCustomer&gt;()\n            .setQuery(SortPostsInDecendingOrder, MyCustomer.class)\n            .build();\n    FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;MyCustomer, MyWorkEmployeeActivity.PBooksViewHolder&gt;(options)\n    {\n        @NonNull\n        @Override\n        public MyWorkEmployeeActivity.PBooksViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i)\n        {\n            View view= LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.viewwork_list_eng, viewGroup, false);\n            MyWorkEmployeeActivity.PBooksViewHolder viewHolder =new MyWorkEmployeeActivity.PBooksViewHolder(view);\n            return viewHolder;\n        }\n\n        @Override\n        protected void onBindViewHolder(@NonNull MyWorkEmployeeActivity.PBooksViewHolder holder, int position, @NonNull MyCustomer model)\n        {\n            final String pos = getRef(position).getKey();\n            String cmpnyID = model.getCmpnyID();\n            String wrkID = model.getWrkSiteID();\n            String engID = model.getEngKey();\n            String usrID = model.getUsrkey();\n\n\n       \n\n\n\n            holder.bookname.setText(model.getUsrname());\n            holder.count.setText(&quot;Work No: \\n&quot;+model.getCnt());\n\n\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent reqIntent = new Intent(MyWorkEmployeeActivity.this, ViewCustomWrkActivity.class);\n                    reqIntent.putExtra(&quot;wrkID&quot;, model.getWrkSiteID());\n                    reqIntent.putExtra(&quot;usrkey&quot;,&quot;0&quot;);\n\n                    startActivity(reqIntent);\n                }\n            });\n\n        }\n    };\n\n\n    listcustom.setAdapter(firebaseRecyclerAdapter);\n    firebaseRecyclerAdapter.startListening();\n\n\n    }\n\n\n    public class PBooksViewHolder extends RecyclerView.ViewHolder {\n\n    TextView bookname, bookauthor,fees ,count;\n    ImageView profImage;\n    LinearLayout mView;\n    String t_area, b_area, plan, allow;\n    public PBooksViewHolder(@NonNull View itemView) {\n\n        super(itemView);\n\n\n        profImage = itemView.findViewById(R.id.ivRequestProfile);\n        bookname = itemView.findViewById(R.id.tvRequestUserName);\n        bookauthor = itemView.findViewById(R.id.tvWorksCompletedEngineerList);\n        mView = itemView.findViewById(R.id.request_layout);\n        fees =  itemView.findViewById(R.id.tvFeesEngineerList);\n\n        count =  itemView.findViewById(R.id.wrkCount);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":16038211,"reputation":82,"user_id":11575328,"display_name":"Bristol"},"score":0,"creation_date":1620470410,"post_id":67446571,"comment_id":119213604,"body_markdown":"implementing a backgroud service will be suited for your problem. checkout on this link https://developer.android.com/guide/components/services","body":"implementing a backgroud service will be suited for your problem. checkout on this link <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/services</a>"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620478800,"post_id":67446571,"comment_id":119215550,"body_markdown":"When do you want this check to happen, once in a day or some other business logic?","body":"When do you want this check to happen, once in a day or some other business logic?"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1620479411,"post_id":67446571,"comment_id":119215692,"body_markdown":"Do you mean that the logic for getting the difference between two dates is not workking?","body":"Do you mean that the logic for getting the difference between two dates is not workking?"}],"owner":{"account_id":20283480,"reputation":23,"user_id":14876661,"display_name":"Anees Ani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677295127,"creation_date":1620470087,"question_id":67446571,"body_markdown":"I am having trouble to make to alert a popup once the remaining days are finished.\r\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.\r\n\r\n```java\r\ntry {\r\n     String CurrentDate= curentDate;\r\n     String FinalDatea= FinalDate;\r\n     Date date1;\r\n               \r\n     Date date2;\r\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n     date1 = dates.parse(CurrentDate);\r\n     date2 = dates.parse(FinalDatea);\r\n     long difference = Math.abs(date1.getTime() - date2.getTime());\r\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\r\n     String dayDifference = Long.toString(differenceDates);\r\n     remainingDays = dayDifference +&quot; days remaining&quot;;\r\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\r\n     setSupportActionBar(mToolbar);\r\n     getSupportActionBar().setTitle(remainingDays);\r\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n} catch (Exception exception) {\r\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n```\r\n\r\nI&#39;ve used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.\r\n\r\n","title":"How to alert remaining days are finished on date picker?","body":"<p>I am having trouble to make to alert a popup once the remaining days are finished.\nHow do I call a function if the remaining days are finished i.e. when the remaining days turn to zero.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     String CurrentDate= curentDate;\n     String FinalDatea= FinalDate;\n     Date date1;\n               \n     Date date2;\n     SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n     date1 = dates.parse(CurrentDate);\n     date2 = dates.parse(FinalDatea);\n     long difference = Math.abs(date1.getTime() - date2.getTime());\n     long differenceDates = difference / (24 * 60 * 60 * 1000);\n     String dayDifference = Long.toString(differenceDates);\n     remainingDays = dayDifference +&quot; days remaining&quot;;\n     mToolbar = (Toolbar) findViewById(R.id.ViewWorkEng_page_toolbar);\n     setSupportActionBar(mToolbar);\n     getSupportActionBar().setTitle(remainingDays);\n     getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n} catch (Exception exception) {\n      Toast.makeText(getApplicationContext(), &quot;Unable to find date difference&quot;, Toast.LENGTH_SHORT).show();\n}\n\n</code></pre>\n<p>I've used the above code to get the remaining days between 2 dates. But whenever the CurrentDate and FinalDate become equal it is showing  &quot; 7 days remaining&quot;.</p>\n"},{"tags":["java","jpa","testing","junit","hibernate-entitymanager"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677293248,"post_id":75562597,"comment_id":133314790,"body_markdown":"Its been a bit since I worked with JUnit so Im not 100% sure this will work, but you can declare your `EntityManager` as an instance variable and instantiate it in a setup method with the `@BeforeAll` annotation.","body":"Its been a bit since I worked with JUnit so Im not 100% sure this will work, but you can declare your <code>EntityManager</code> as an instance variable and instantiate it in a setup method with the <code>@BeforeAll</code> annotation."}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677294081,"creation_date":1677294081,"answer_id":75563036,"question_id":75562597,"body_markdown":"It makes sense that its not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call `createEntityManager()` the second time, its like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.\r\n\r\nTo prevent having to initialize the in memory database a second time, I believe setting it up as a `@BeforeAll` should do the trick.\r\n\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    private EntityManager entityManager;\r\n\r\n    @BeforeAll\r\n    void setup() {\r\n        entityManager = entityManagerFactory.createEntityManager();\r\n    }","title":"Nullified stored data","body":"<p>It makes sense that its not keeping the same in memory database as, without really knowing much about it, I assume it works much the same as objects and is stored in the heap. When you call <code>createEntityManager()</code> the second time, its like creating a new object and the reference points to the new object, leaving the old one to get cleaned up by the GarbageCollector.</p>\n<p>To prevent having to initialize the in memory database a second time, I believe setting it up as a <code>@BeforeAll</code> should do the trick.</p>\n<pre><code>private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\nprivate EntityManager entityManager;\n\n@BeforeAll\nvoid setup() {\n    entityManager = entityManagerFactory.createEntityManager();\n}\n</code></pre>\n"}],"owner":{"account_id":2658598,"reputation":111,"user_id":2298785,"display_name":"Romillion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677294081,"creation_date":1677285860,"question_id":75562597,"body_markdown":"can you please explain me what i do wrong. I Am learning JPA and i&#39;m stuck with tests.\r\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.\r\n\r\nWhen i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.\r\n\r\ni understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.\r\n\r\nCan you tell me please how to share EntityManager between tests.\r\n\r\n**persistence.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             version=&quot;3.0&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\r\n\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n```\r\n\r\n**Tesla.java**\r\n```\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity()\r\npublic class Tesla implements Serializable {\r\n    @Id\r\n    @GeneratedValue\r\n    protected Long ID;\r\n\r\n    protected String vehicle;\r\n}\r\n```\r\n\r\n**TeslaTest.java**\r\n\r\n```\r\npackage com.caveatemptor.core.data.inheritance;\r\n\r\nimport com.caveatemptor.core.data.entites.Tesla;\r\nimport jakarta.persistence.*;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class TeslaTest {\r\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\r\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\r\n    @Test\r\n    void teslaOne(){\r\n        Tesla tesla = new Tesla();\r\n        tesla.setVehicle(&quot;Model X&quot;);\r\n\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            entityManager.persist(tesla);\r\n            transaction.commit();\r\n\r\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\r\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\r\n\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n\r\n    @Test\r\n    void teslaTwo(){\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n\r\n        try {\r\n            transaction.begin();\r\n\r\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\r\n            List&lt;Tesla&gt; items = query.getResultList();\r\n            assertEquals(1, items.size());\r\n        }\r\n        finally {\r\n            if(transaction.isActive()){\r\n                transaction.rollback();\r\n            }\r\n            entityManager.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Nullified stored data","body":"<p>can you please explain me what i do wrong. I Am learning JPA and i'm stuck with tests.\nOn the first test &quot;teslaOne&quot; i create and persist Entity to the db and i would like to get access to this data from second test &quot;teslaTwo&quot;.</p>\n<p>When i use Persistence.createEntityManagerFactory(&quot;h2database&quot;) it works but when i store it on the memoty Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;) it does not.</p>\n<p>i understand that &quot;h2database&quot; it is a fila, &quot;in.memory.test&quot; memory but it not clear for me why it have a different behavior and why it nullify data.</p>\n<p>Can you tell me please how to share EntityManager between tests.</p>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             version=&quot;3.0&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;h2database&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:file:./h2data/demodb&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n    &lt;persistence-unit name=&quot;in.memory.test&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.caveatemptor.core.data.entites.Tesla&lt;/class&gt;\n\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>Tesla.java</strong></p>\n<pre><code>@Setter\n@Getter\n@ToString\n@Entity()\npublic class Tesla implements Serializable {\n    @Id\n    @GeneratedValue\n    protected Long ID;\n\n    protected String vehicle;\n}\n</code></pre>\n<p><strong>TeslaTest.java</strong></p>\n<pre><code>package com.caveatemptor.core.data.inheritance;\n\nimport com.caveatemptor.core.data.entites.Tesla;\nimport jakarta.persistence.*;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class TeslaTest {\n//    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;h2database&quot;);\n    private final EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;in.memory.test&quot;);\n    @Test\n    void teslaOne(){\n        Tesla tesla = new Tesla();\n        tesla.setVehicle(&quot;Model X&quot;);\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            entityManager.persist(tesla);\n            transaction.commit();\n\n            Tesla teslaV = entityManager.find(Tesla.class, tesla.getID());\n            assertEquals(teslaV.getVehicle(), &quot;Model X&quot;);\n\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n\n    @Test\n    void teslaTwo(){\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        EntityTransaction transaction = entityManager.getTransaction();\n\n        try {\n            transaction.begin();\n\n            TypedQuery&lt;Tesla&gt; query = entityManager.createQuery(&quot;select t from Tesla t&quot;, Tesla.class);\n            List&lt;Tesla&gt; items = query.getResultList();\n            assertEquals(1, items.size());\n        }\n        finally {\n            if(transaction.isActive()){\n                transaction.rollback();\n            }\n            entityManager.close();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1677295079,"post_id":75563021,"comment_id":133314917,"body_markdown":"Your code, as written, is thread-safe. Using `synchronized` creates a _happens-before_ relationship, same as `volatile`. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the `currMap` field, that field is properly guarded. And the flow of your code is such that the `Map` _instance_ referenced by `currMap` is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]","body":"Your code, as written, is thread-safe. Using <code>synchronized</code> creates a <i>happens-before</i> relationship, same as <code>volatile</code>. The former is simply more versatile because you can guard an entire block of code rather than just a single field. Since you synchronize on the same lock object when reading and writing the <code>currMap</code> field, that field is properly guarded. And the flow of your code is such that the <code>Map</code> <i>instance</i> referenced by <code>currMap</code> is never accessed by multiple threads concurrently after the field has been assigned. Even after writing to the field, the old instance is simply [cont.]"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677295257,"post_id":75563021,"comment_id":133314932,"body_markdown":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do `foo.update(new HashMap&lt;&gt;(map))`. That copies the original `map` instance, which has the `0 -&gt; 0` entry. So, the map referenced by `currMap` can never _not_ have that entry. Given the fact the original `map` instance is never modified, and the call to `map.put(0, 0)` _happens-before_ both `reader.start()` and `writer.start()`, you can see why you never read the wrong value.","body":"[cont.] lost to the void, never to be accessed again by any thread, let alone the &quot;reader&quot; thread. And you always do <code>foo.update(new HashMap&lt;&gt;(map))</code>. That copies the original <code>map</code> instance, which has the <code>0 -&gt; 0</code> entry. So, the map referenced by <code>currMap</code> can never <i>not</i> have that entry. Given the fact the original <code>map</code> instance is never modified, and the call to <code>map.put(0, 0)</code> <i>happens-before</i> both <code>reader.start()</code> and <code>writer.start()</code>, you can see why you never read the wrong value."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1677295299,"post_id":75563021,"comment_id":133314934,"body_markdown":"...Specifically, When thread A _exits_ from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is `synchronized` on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for `ReentrantLock` objects and other `Lock` objects.","body":"...Specifically, When thread A <i>exits</i> from a block that is synchronized on some Object, o; that  event &quot;happens before&quot; some other thread B subsequently enters a block that is <code>synchronized</code> on the same object, o. In more practical terms, it means that whatever thread A did before it released some lock is guaranteed to be visible to thread B after thread B subsequently acquires the same lock. That rule also works for <code>ReentrantLock</code> objects and other <code>Lock</code> objects."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1677296892,"post_id":75563021,"comment_id":133315084,"body_markdown":"In addition, if `currMap` _was_ `volatile` but the `synchronized` blocks were not present, it _would not_ be threadsafe, as the read of `currMap` could read a value that has not yet been updated, then calls to `oldMap.remove(0)` and `currMap.getOrDefault(0, -1)` could execute concurrently on the same instance of the `HashMap`. The `synchronized` blocks ensure that the update and read operations execute atomically.","body":"In addition, if <code>currMap</code> <i>was</i> <code>volatile</code> but the <code>synchronized</code> blocks were not present, it <i>would not</i> be threadsafe, as the read of <code>currMap</code> could read a value that has not yet been updated, then calls to <code>oldMap.remove(0)</code> and <code>currMap.getOrDefault(0, -1)</code> could execute concurrently on the same instance of the <code>HashMap</code>. The <code>synchronized</code> blocks ensure that the update and read operations execute atomically."}],"owner":{"account_id":1343574,"reputation":1526,"user_id":1284735,"accept_rate":62,"display_name":"petabyte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677293702,"creation_date":1677293702,"question_id":75563021,"body_markdown":"I have a `Foo` class that I think should **not** be thread-safe, yet I can&#39;t seem to reproduce the issue. One method it has is `update` which sets the current map from the parameter and mutate the old map. The other method is `read` which always gets a value from current map.\r\n\r\nPlease take a look at the test example. I have two threads, one which calls `update` and the other `read`. I&#39;d expect `read` to sometimes read from an older version of `currMap` (because it&#39;s not `volatile`) which got mutated by `update`, and therefore return `-1`, yet it doesn&#39;t happen. Is this a coincidence or expected?\r\n\r\n\r\n```java\r\n  private static class Foo {\r\n    Map&lt;Integer, Integer&gt; currMap;\r\n    Object lock = new Object();\r\n\r\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\r\n      currMap = newMap;\r\n    }\r\n\r\n    void update(Map&lt;Integer, Integer&gt; newMap) {\r\n      synchronized (lock) {\r\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\r\n        currMap = newMap;\r\n        oldMap.remove(0);\r\n      }\r\n    }\r\n\r\n    int read() {\r\n      int val;\r\n      synchronized (lock) {\r\n        val = currMap.getOrDefault(0, -1);\r\n      }\r\n      return val;\r\n    }\r\n  }\r\n  @Test\r\n  public void testExample() throws InterruptedException {\r\n    AtomicInteger readWrong = new AtomicInteger(0);\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, 0);\r\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\r\n    Thread updater = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        foo.update(new HashMap&lt;&gt;(map));\r\n      }\r\n    });\r\n\r\n    Thread reader = new Thread(() -&gt; {\r\n      while (readWrong.get() == 0) {\r\n        if (foo.read() == -1) {\r\n          readWrong.incrementAndGet();\r\n        }\r\n      }\r\n    });\r\n\r\n    updater.start();\r\n    reader.start();\r\n\r\n    updater.join();\r\n    reader.join();\r\n\r\n    assertTrue(readWrong.get() &gt; 0);\r\n  }","title":"Does using a lock mitigate issues handled by the volatile keyword?","body":"<p>I have a <code>Foo</code> class that I think should <strong>not</strong> be thread-safe, yet I can't seem to reproduce the issue. One method it has is <code>update</code> which sets the current map from the parameter and mutate the old map. The other method is <code>read</code> which always gets a value from current map.</p>\n<p>Please take a look at the test example. I have two threads, one which calls <code>update</code> and the other <code>read</code>. I'd expect <code>read</code> to sometimes read from an older version of <code>currMap</code> (because it's not <code>volatile</code>) which got mutated by <code>update</code>, and therefore return <code>-1</code>, yet it doesn't happen. Is this a coincidence or expected?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static class Foo {\n    Map&lt;Integer, Integer&gt; currMap;\n    Object lock = new Object();\n\n    Foo(Map&lt;Integer, Integer&gt; newMap) {\n      currMap = newMap;\n    }\n\n    void update(Map&lt;Integer, Integer&gt; newMap) {\n      synchronized (lock) {\n        Map&lt;Integer, Integer&gt; oldMap = currMap;\n        currMap = newMap;\n        oldMap.remove(0);\n      }\n    }\n\n    int read() {\n      int val;\n      synchronized (lock) {\n        val = currMap.getOrDefault(0, -1);\n      }\n      return val;\n    }\n  }\n  @Test\n  public void testExample() throws InterruptedException {\n    AtomicInteger readWrong = new AtomicInteger(0);\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(0, 0);\n    Foo foo = new Foo(new HashMap&lt;&gt;(map));\n    Thread updater = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        foo.update(new HashMap&lt;&gt;(map));\n      }\n    });\n\n    Thread reader = new Thread(() -&gt; {\n      while (readWrong.get() == 0) {\n        if (foo.read() == -1) {\n          readWrong.incrementAndGet();\n        }\n      }\n    });\n\n    updater.start();\n    reader.start();\n\n    updater.join();\n    reader.join();\n\n    assertTrue(readWrong.get() &gt; 0);\n  }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":202726,"reputation":22092,"user_id":449958,"display_name":"Rawkode"},"score":0,"creation_date":1337078632,"post_id":10598607,"comment_id":13729485,"body_markdown":"Would you care to provide the log cat trace? Did you inflate the view if it&#39;s not visible?","body":"Would you care to provide the log cat trace? Did you inflate the view if it&#39;s not visible?"},{"owner":{"account_id":1474108,"reputation":45,"user_id":1384956,"accept_rate":50,"display_name":"Medo"},"score":0,"creation_date":1337081044,"post_id":10598607,"comment_id":13730414,"body_markdown":"log trace cant fit here to big sorry","body":"log trace cant fit here to big sorry"}],"tags":[],"owner":{"account_id":202726,"reputation":22092,"user_id":449958,"display_name":"Rawkode"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077036,"creation_date":1337077036,"answer_id":10598607,"question_id":10598547,"body_markdown":"Within ClassA\r\n\r\nDefine your TextView\r\n\r\n    private TextView1 txtView1;\r\n\r\nLoad it during onCreate\r\n\r\n    txtView1 = (TextView) findViewById(R.id.txtView1);\r\n\r\nWrite a setter\r\n\r\n    public void setTextOnTextView1(String text) {\r\n      txtView1.setText(text);\r\n    }\r\nIn your other class you can now\r\n\r\n    c.setTextOnTextView1(&quot;Hello&quot;);\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Within ClassA</p>\n\n<p>Define your TextView</p>\n\n<pre><code>private TextView1 txtView1;\n</code></pre>\n\n<p>Load it during onCreate</p>\n\n<pre><code>txtView1 = (TextView) findViewById(R.id.txtView1);\n</code></pre>\n\n<p>Write a setter</p>\n\n<pre><code>public void setTextOnTextView1(String text) {\n  txtView1.setText(text);\n}\n</code></pre>\n\n<p>In your other class you can now</p>\n\n<pre><code>c.setTextOnTextView1(\"Hello\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905032,"reputation":24172,"user_id":940096,"accept_rate":88,"display_name":"Praveenkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337077456,"creation_date":1337077115,"answer_id":10598634,"question_id":10598547,"body_markdown":"Yes, you can do -\r\n\r\n    Intent i = new Intent(classA.this, classB.class);\r\n    Bundle bundle = new Bundle();\r\n    bundle.putExtra(&quot;name For Identification&quot;, &quot;Value);\r\n    i.putExtras(bundle);\r\n    startActivity(i);\r\n\r\nIn your second class, i mean **Class B**\r\n\r\n    Bundle bundle = getIntent().getExtras(&quot;name for Identification&quot;);\r\n    String text = bundle.getString(&quot;name For Identification&quot;);\r\n\r\n\r\nSimply set this text to your `TextView` And, the **Class B** also should extends the `Activity` Otherwise, the `getIntent()` code will not work.","title":"how to set TextView from another Class (Android)","body":"<p>Yes, you can do -</p>\n\n<pre><code>Intent i = new Intent(classA.this, classB.class);\nBundle bundle = new Bundle();\nbundle.putExtra(\"name For Identification\", \"Value);\ni.putExtras(bundle);\nstartActivity(i);\n</code></pre>\n\n<p>In your second class, i mean <strong>Class B</strong></p>\n\n<pre><code>Bundle bundle = getIntent().getExtras(\"name for Identification\");\nString text = bundle.getString(\"name For Identification\");\n</code></pre>\n\n<p>Simply set this text to your <code>TextView</code> And, the <strong>Class B</strong> also should extends the <code>Activity</code> Otherwise, the <code>getIntent()</code> code will not work.</p>\n"},{"tags":[],"owner":{"account_id":1008625,"reputation":496,"user_id":1021695,"accept_rate":80,"display_name":"KMI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077496,"creation_date":1337077496,"answer_id":10598738,"question_id":10598547,"body_markdown":"Try this\r\n\r\nadd this in activity 1\r\n\r\n    Intent myIntent = new Intent(Activity1.this, Activity2.class);\r\n           myIntent.putExtra(&quot;UserId&quot;,UserId);\r\n           myIntent.putExtra(&quot;UserName&quot;,UserName);\r\n           startActivity(myIntent);\r\n\r\n  \r\n\r\nadd this in activity 2\r\n\r\n    Intent intent = getIntent();\r\n    UserId=intent.getStringExtra(&quot;UserId&quot;);\r\n    UserName=intent.getStringExtra(&quot;UserName&quot;);\r\n   \r\n","title":"how to set TextView from another Class (Android)","body":"<p>Try this</p>\n\n<p>add this in activity 1</p>\n\n<pre><code>Intent myIntent = new Intent(Activity1.this, Activity2.class);\n       myIntent.putExtra(\"UserId\",UserId);\n       myIntent.putExtra(\"UserName\",UserName);\n       startActivity(myIntent);\n</code></pre>\n\n<p>add this in activity 2</p>\n\n<pre><code>Intent intent = getIntent();\nUserId=intent.getStringExtra(\"UserId\");\nUserName=intent.getStringExtra(\"UserName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477917,"reputation":4706,"user_id":889688,"display_name":"user_CC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079021,"creation_date":1337077716,"answer_id":10598797,"question_id":10598547,"body_markdown":"Yup it can be done without using intent, use static methods/members of class\r\n\r\nGet the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA \r\n\r\n\r\nSo for example \r\n\r\n    class ClassA{\r\n    \r\n    static TextView tv; //this should be intialized in your code via findViewByID or by code depneds\r\n    \r\n    static int x;\r\n    \r\n    \r\n    static public TextView getTextView(){\r\n    return tv;\r\n    }\r\n    \r\n    \r\n    static public void setX(int xP){\r\n    x = xP;\r\n    }\r\n    \r\n    }\r\n\r\nfrom ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)\r\n\r\n\r\n\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Yup it can be done without using intent, use static methods/members of class</p>\n\n<p>Get the TextView object from a static method from ClassA and similarly define a static method setX(int x) method in ClassA </p>\n\n<p>So for example </p>\n\n<pre><code>class ClassA{\n\nstatic TextView tv; //this should be intialized in your code via findViewByID or by code depneds\n\nstatic int x;\n\n\nstatic public TextView getTextView(){\nreturn tv;\n}\n\n\nstatic public void setX(int xP){\nx = xP;\n}\n\n}\n</code></pre>\n\n<p>from ClassB you can invoke ClassA.getTextView() and ClassB.setX(12)</p>\n"},{"tags":[],"owner":{"account_id":375603,"reputation":2803,"user_id":726547,"accept_rate":60,"display_name":"Hassy31"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337077799,"creation_date":1337077799,"answer_id":10598824,"question_id":10598547,"body_markdown":"intent to class B from class A\r\n\r\n    Intent toClassB = new Intent(classA.this,classB.class);\r\n    toClassB.putExtra(&quot;StringId&quot;,&quot;value&quot;); \r\n    startActivity(toClassB);\r\n    \r\n    //get value\r\n    Intent intent = getIntent();\r\n    String getValue = intent.getStringExtra(&quot;StringId&quot;);\r\n    //set text\r\n    textView.setText(getValue);\r\n\r\nhope this helps","title":"how to set TextView from another Class (Android)","body":"<p>intent to class B from class A</p>\n\n<pre><code>Intent toClassB = new Intent(classA.this,classB.class);\ntoClassB.putExtra(\"StringId\",\"value\"); \nstartActivity(toClassB);\n\n//get value\nIntent intent = getIntent();\nString getValue = intent.getStringExtra(\"StringId\");\n//set text\ntextView.setText(getValue);\n</code></pre>\n\n<p>hope this helps</p>\n"},{"tags":[],"owner":{"account_id":471997,"reputation":535,"user_id":880174,"accept_rate":92,"display_name":"Parth Dani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337078357,"creation_date":1337078357,"answer_id":10598977,"question_id":10598547,"body_markdown":"To Pass value between two activites you can use shared Preferenceas follow\r\n\r\nIn Activity A:\r\n\r\n    public class activityA extends Activity{\r\n    \r\n    private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n    @Override\r\n    \tpublic void onCreate(Bundle savedInstanceState)\r\n    \t{\r\n    SharedPreferences myPrefs = getBaseContext().getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n     \t\t\t        SharedPreferences.Editor prefsEditor = myPrefs.edit();\r\n     \t\t\t        prefsEditor.putString(MY_value, &quot;xyz&quot;);\r\n     \t\t\t        prefsEditor.commit();\r\n    }\r\n    }\r\n\r\nIn Activity B you can retrive that value as follow:\r\n\r\n    public class activityB extends Activity{\r\n        \r\n        private  final String MY_value = &quot;value&quot;;//variable used for shared preference\r\n        @Override\r\n        \tpublic void onCreate(Bundle savedInstanceState)\r\n        \t{\r\n        SharedPreferences myPrefs1 = this.getSharedPreferences(&quot;myPrefs&quot;, MODE_WORLD_READABLE);\r\n    \t\t        roadworthynumber = myPrefs1.getString(MY_value, &quot;value&quot;);\r\n    \t\t        \r\n        }\r\n        }\r\n\r\n\t\r\n","title":"how to set TextView from another Class (Android)","body":"<p>To Pass value between two activites you can use shared Preferenceas follow</p>\n\n<p>In Activity A:</p>\n\n<pre><code>public class activityA extends Activity{\n\nprivate  final String MY_value = \"value\";//variable used for shared preference\n@Override\n    public void onCreate(Bundle savedInstanceState)\n    {\nSharedPreferences myPrefs = getBaseContext().getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                    SharedPreferences.Editor prefsEditor = myPrefs.edit();\n                    prefsEditor.putString(MY_value, \"xyz\");\n                    prefsEditor.commit();\n}\n}\n</code></pre>\n\n<p>In Activity B you can retrive that value as follow:</p>\n\n<pre><code>public class activityB extends Activity{\n\n    private  final String MY_value = \"value\";//variable used for shared preference\n    @Override\n        public void onCreate(Bundle savedInstanceState)\n        {\n    SharedPreferences myPrefs1 = this.getSharedPreferences(\"myPrefs\", MODE_WORLD_READABLE);\n                roadworthynumber = myPrefs1.getString(MY_value, \"value\");\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337079097,"creation_date":1337079097,"answer_id":10599199,"question_id":10598547,"body_markdown":"Create a function returnThis() in Class A\r\n    \r\n    ClassA returnThis()\r\n    {\r\n      return this;\r\n    }\r\n\r\nIn classB call this function and by using returned reference set textView of classA\r\n","title":"how to set TextView from another Class (Android)","body":"<p>Create a function returnThis() in Class A</p>\n\n<pre><code>ClassA returnThis()\n{\n  return this;\n}\n</code></pre>\n\n<p>In classB call this function and by using returned reference set textView of classA</p>\n"}],"owner":{"account_id":1474108,"reputation":45,"user_id":1384956,"accept_rate":50,"display_name":"Medo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677293637,"answer_count":7,"score":0,"last_activity_date":1677293647,"creation_date":1337076806,"question_id":10598547,"body_markdown":"i have this code but it doesnt work (Force Close)\r\n,i use this in C# but its not working in java\r\n\r\nClassA c = new ClassA();\r\nc.TextView1.setText(&quot;test&quot;);\r\n\r\ni need to set the text view from ClassB can it be done\r\nwithout using the Intent\r\nbecause the Intent need to start the Activity all over and all the data will be lost\r\n\r\ncan anyone suggest a code for this\r\n\r\nalso can i set the   int x   value in ClassA from ClassB\r\n","title":"how to set TextView from another Class (Android)","body":"<p>i have this code but it doesnt work (Force Close)\n,i use this in C# but its not working in java</p>\n\n<p>ClassA c = new ClassA();\nc.TextView1.setText(\"test\");</p>\n\n<p>i need to set the text view from ClassB can it be done\nwithout using the Intent\nbecause the Intent need to start the Activity all over and all the data will be lost</p>\n\n<p>can anyone suggest a code for this</p>\n\n<p>also can i set the   int x   value in ClassA from ClassB</p>\n"},{"tags":["java","mongodb","spring-boot","spring-mongodb","reactive-mongo-java"],"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677293539,"creation_date":1677287444,"question_id":75562707,"body_markdown":"I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -\r\n\r\n```lang-none\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mappingMongoConverter&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mappingMongoConverter&#39; parameter 1: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 66 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoMappingContext&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n\t... 80 common frames omitted\r\n```\r\n\r\nI am seeing there is issue with Mongo mapping context in mongo data configuration class.\r\nI am not sure why this error is coming and how to resolve it?\r\n\r\nMy Pom File -\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;XXXX&lt;/name&gt;\r\n\t&lt;description&gt;XXXXX&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        &lt;dependency&gt;\r\n      \t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t        &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n    \t        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.261&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20210307&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/projec&gt;\r\n```\r\n\r\nI tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17","title":"Java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible error in java 17","body":"<p>I am upgrading my application from Spring Boot version 2.7.3 to 3.0.2 and Java version 8 to 17. My build is successful but during server startup I am getting below exception -</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mappingMongoConverter' parameter 1: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 66 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataConfiguration.class]: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @2fd16761\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 80 common frames omitted\n</code></pre>\n<p>I am seeing there is issue with Mongo mapping context in mongo data configuration class.\nI am not sure why this error is coming and how to resolve it?</p>\n<p>My Pom File -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXXXX&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;XXXX&lt;/name&gt;\n    &lt;description&gt;XXXXX&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.261&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/projec&gt;\n</code></pre>\n<p>I tried to google the solution and explored mongo db forums. I am suspecting reactive mongo db dependency is not compatible with Java 17</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","jwt"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1677281009,"post_id":75562102,"comment_id":133313540,"body_markdown":"Neither `@EnableGlobalMethodSecurity` nor `@EnableWebSecurity` are meta annotations for `@Configuration`. Your `SecurityConfig` might just not be loaded. Have you tried to decorate it with `@Configuration`?","body":"Neither <code>@EnableGlobalMethodSecurity</code> nor <code>@EnableWebSecurity</code> are meta annotations for <code>@Configuration</code>. Your <code>SecurityConfig</code> might just not be loaded. Have you tried to decorate it with <code>@Configuration</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677291915,"creation_date":1677291915,"answer_id":75562932,"question_id":75562102,"body_markdown":"I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;17.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBy removing this dependency everything is working now.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>I found the reason why this was not working; I had a keycloak/springboot dependency that was using the old keycloak adaptor way of working:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;17.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By removing this dependency everything is working now.</p>\n"}],"owner":{"account_id":12301165,"reputation":1,"user_id":8975432,"display_name":"Shurbann Martes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75562932,"answer_count":1,"score":0,"last_activity_date":1677291915,"creation_date":1677279422,"question_id":75562102,"body_markdown":"At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.\r\n\r\nUnfortunately although the JWT token is valid I&#39;m getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:\r\n\r\n```\r\n@RequestMapping(\r\n        value = &quot;/companies&quot;\r\n        , produces = MediaTypes.HAL_JSON_VALUE\r\n)\r\npublic interface ICompanyController {\r\n\r\n    String REL_KEY_NAME = &quot;companies&quot;;\r\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\r\n\r\n    @GetMapping\r\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\r\n}\r\n```\r\n\r\nI&#39;ve already taken a look at my SecurityConfig as well and I don&#39;t see anything wrong here:\r\n\r\n```\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\r\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\napplication.yml:\r\n```yml\r\nspring:\r\n  application:\r\n    name: API\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\r\n    username: user\r\n    password: secret\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n        default_schema: api_resource\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://auth-dev.local/realms/bis-realm\r\n\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: &#39;when-authorized&#39;\r\n    roles: &#39;actuator&#39;\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &#39;*&#39;\r\nlogging:\r\n  level:\r\n    root: DEBUG\r\n    com.ictual: TRACE\r\n    com.tsparx: TRACE\r\nserver:\r\n  port: 8081\r\n  servlet:\r\n    context-path: /api\r\n```\r\n\r\nStill I&#39;m getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;. \r\n\r\nFind the trace below:\r\n\r\n```\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\r\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\r\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\r\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\r\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\r\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\r\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority(&#39;SCOPE_profile&#39;)]\r\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\r\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\nI&#39;ve tried to adjust the SecurityConfig in different ways without any success.","title":"Why am I getting an HTTP response 401 (access denied) when trying to make an HTTP GET request with Springboot with a valid JWT token","body":"<p>At this moment I succeeded to create a Springboot resource server that contacts Keycloak as the authorization server to validate the JWT token being send. This work as expected, so far so good.</p>\n<p>Unfortunately although the JWT token is valid I'm getting an 401 Unauthorized from the Springboot Resource server when I try to make a call to the RestController with the valid JWT token. The RestController is implementing the following interface:</p>\n<pre><code>@RequestMapping(\n        value = &quot;/companies&quot;\n        , produces = MediaTypes.HAL_JSON_VALUE\n)\npublic interface ICompanyController {\n\n    String REL_KEY_NAME = &quot;companies&quot;;\n    String REL_KEY_NAME_SINGLE = &quot;company&quot;;\n\n    @GetMapping\n    CollectionModel&lt;CompanyResponseDTO&gt; getCompanies(JwtAuthenticationToken principal);\n\n    @GetMapping(&quot;/{id}&quot;)\n    CompanyResponseDTO getCompanyById(@PathVariable Long id);\n}\n</code></pre>\n<p>I've already taken a look at my SecurityConfig as well and I don't see anything wrong here:</p>\n<pre><code>@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain getSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/companies&quot;)\n                        .hasAuthority(&quot;SCOPE_profile&quot;)\n                        .anyRequest()\n                        .authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: API\n  datasource:\n    url: jdbc:mysql://localhost:3306/resource?useSSL=false&amp;zeroDateTimeBehavior=convertToNull\n    username: user\n    password: secret\n  jpa:\n    hibernate:\n      ddl-auto: update\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\n        default_schema: api_resource\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://auth-dev.local/realms/bis-realm\n\nmanagement:\n  endpoint:\n    health:\n      show-details: 'when-authorized'\n    roles: 'actuator'\n  endpoints:\n    web:\n      exposure:\n        include: '*'\nlogging:\n  level:\n    root: DEBUG\n    com.ictual: TRACE\n    com.tsparx: TRACE\nserver:\n  port: 8081\n  servlet:\n    context-path: /api\n</code></pre>\n<p>Still I'm getting the following logs and Access Denied from Springboot when trying to make an HTTP call to the URL &quot;/companies&quot;.</p>\n<p>Find the trace below:</p>\n<pre><code>2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : AuthenticatedActionsValve.invoke http://localhost:8081/api/companies\n2023-02-24 18:47:40.409 DEBUG 74177 --- [nio-8081-exec-5] o.k.a.AuthenticatedActionsHandler        : Policy enforcement is disabled.\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /companies\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:40.410 DEBUG 74177 --- [nio-8081-exec-5] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : HTTP GET http://auth-dev.local/realms/bis-realm/protocol/openid-connect/certs\n2023-02-24 18:47:40.411 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1677278860900 sessioncount 0\n2023-02-24 18:47:40.900 DEBUG 74177 --- [alina-utility-1] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 0 expired sessions: 0\n2023-02-24 18:47:44.233 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@157ef9d25 pairs: {GET /realms/bis-realm/protocol/openid-connect/certs HTTP/1.1: null}{Accept: application/json, application/jwk-set+json}{User-Agent: Java/11.0.16.1}{Host: auth-dev.local}{Connection: keep-alive}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] s.n.www.protocol.http.HttpURLConnection  : sun.net.www.MessageHeader@11416fa59 pairs: {null: HTTP/1.1 200 OK}{Referrer-Policy: no-referrer}{X-Frame-Options: SAMEORIGIN}{Strict-Transport-Security: max-age=31536000; includeSubDomains}{Cache-Control: no-cache}{X-Content-Type-Options: nosniff}{X-XSS-Protection: 1; mode=block}{Content-Type: application/json}{content-length: 2933}\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Response 200 OK\n2023-02-24 18:47:44.255 DEBUG 74177 --- [nio-8081-exec-5] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json&quot;\n2023-02-24 18:47:44.257 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] .o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3380a05e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_email, SCOPE_profile]]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /companies] with attributes [hasAuthority('SCOPE_profile')]\n2023-02-24 18:47:44.258 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /companies\n2023-02-24 18:47:44.260 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-02-24 18:47:44.261 DEBUG 74177 --- [nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error\n2023-02-24 18:47:44.262 DEBUG 74177 --- [nio-8081-exec-5] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.isAllowed(RequestMatcherDelegatingWebInvocationPrivilegeEvaluator.java:76) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.7.8.jar:2.7.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:388) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:244) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>I've tried to adjust the SecurityConfig in different ways without any success.</p>\n"},{"tags":["java","android","json","ajax","spring"],"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1459768143,"post_id":36393402,"comment_id":60418293,"body_markdown":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem.","body":"Error 500 means that there was a server-side problem. You&#39;ll need to include the exception stack trace, the code without it isn&#39;t enough to diagnose the problem."}],"answers":[{"tags":[],"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677290874,"creation_date":1459744819,"answer_id":36394682,"question_id":36393402,"body_markdown":"The simple way, taken from [@Sachin Gurnani&#39;s answer][1] to https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\r\n\r\n&gt; ```java\r\n&gt; public void postData(String url,JSONObject obj) {\r\n&gt;     // Create a new HttpClient and Post Header\r\n&gt; \r\n&gt;     HttpParams myParams = new BasicHttpParams();\r\n&gt;     HttpConnectionParams.setConnectionTimeout(myParams, 10000);\r\n&gt;     HttpConnectionParams.setSoTimeout(myParams, 10000);\r\n&gt;     HttpClient httpclient = new DefaultHttpClient(myParams );\r\n&gt;     String json=obj.toString();\r\n&gt; \r\n&gt;     try {\r\n&gt; \r\n&gt;         HttpPost httppost = new HttpPost(url.toString());\r\n&gt;         httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n&gt; \r\n&gt;         StringEntity se = new StringEntity(obj.toString()); \r\n&gt;         se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\r\n&gt;         httppost.setEntity(se); \r\n&gt; \r\n&gt;         HttpResponse response = httpclient.execute(httppost);\r\n&gt;         String temp = EntityUtils.toString(response.getEntity());\r\n&gt;         Log.i(&quot;tag&quot;, temp);\r\n&gt; \r\n&gt; \r\n&gt;     } catch (ClientProtocolException e) {\r\n&gt; \r\n&gt;     } catch (IOException e) {\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nHow to use\r\n\r\n    JSONObject requestObject = new JSONObject();\r\n    requestObject.put(&quot;userid&quot;, email);\r\n    requestObject.put(&quot;password&quot;, password);\r\n\r\n    postData(&quot;http://your/login/url&quot;,requestObject)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9390152/4848308","title":"Android send json to Spring","body":"<p>The simple way, taken from <a href=\"https://stackoverflow.com/a/9390152/4848308\">@Sachin Gurnani's answer</a> to <a href=\"https://stackoverflow.com/questions/3027066/how-to-send-a-json-object-over-request-with-android\">How to send a JSON object over Request with Android?</a></p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public void postData(String url,JSONObject obj) {\n    // Create a new HttpClient and Post Header\n\n    HttpParams myParams = new BasicHttpParams();\n    HttpConnectionParams.setConnectionTimeout(myParams, 10000);\n    HttpConnectionParams.setSoTimeout(myParams, 10000);\n    HttpClient httpclient = new DefaultHttpClient(myParams );\n    String json=obj.toString();\n\n    try {\n\n        HttpPost httppost = new HttpPost(url.toString());\n        httppost.setHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n\n        StringEntity se = new StringEntity(obj.toString()); \n        se.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE, &quot;application/&gt; json&quot;));\n        httppost.setEntity(se); \n\n        HttpResponse response = httpclient.execute(httppost);\n        String temp = EntityUtils.toString(response.getEntity());\n        Log.i(&quot;tag&quot;, temp);\n\n\n    } catch (ClientProtocolException e) {\n\n    } catch (IOException e) {\n    }\n}\n</code></pre>\n</blockquote>\n<p>How to use</p>\n<pre><code>JSONObject requestObject = new JSONObject();\nrequestObject.put(&quot;userid&quot;, email);\nrequestObject.put(&quot;password&quot;, password);\n\npostData(&quot;http://your/login/url&quot;,requestObject)\n</code></pre>\n"}],"owner":{"account_id":4793131,"reputation":771,"user_id":3871734,"accept_rate":92,"display_name":"USER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36394682,"answer_count":1,"score":0,"last_activity_date":1677290874,"creation_date":1459733881,"question_id":36393402,"body_markdown":"Spring Controller \r\n\r\n \r\n\r\n     @RequestMapping(value = &quot;/login&quot;, produces=&quot;application/json;charset=UTF-8&quot; ,method = RequestMethod.POST)\r\n     @ResponseBody\r\n     public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\r\n    \t User user=new Gson().fromJson((String) params.get(&quot;user&quot;), User.class);\r\n         return userService.getUserInfo(user);\r\n     }   \r\n\r\nHTML\r\n\r\n    var params={userid:$(&quot;#userid&quot;).val(),password:$(&quot;#password&quot;).val()}\r\n    $ajax({method:&quot;post&quot;,data:{user:JSON.stringify(params)},url:&quot;foo.bar&quot;});\r\n\r\nIt worked on website.\r\nBut I don&#39;t know how to send that Json object for android.\r\n\r\n    data:{user:JSON.stringify(params)}\r\n\r\nI have tested \r\n\r\n        private static String makeJsonMsg() {\r\n        String retMsg = &quot;&quot;;\r\n\r\n        JSONStringer jsonStringer = new JSONStringer();\r\n\r\n        try {\r\n\r\n\r\n            retMsg = jsonStringer.object()\r\n                        .key(&quot;user&quot;).object()\r\n                            .key(&quot;userid&quot;).value(&quot;userid&quot;)\r\n                            .key(&quot;password&quot;).value(&quot;1234&quot;)\r\n                        .endObject()\r\n                    .endObject().toString();\r\n\r\n        } catch (JSONException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return retMsg;\r\n\r\n    }\r\n\r\nlike that,\r\nBut return 500 error.\r\nDo I need to add header or something else?\r\n","title":"Android send json to Spring","body":"<p>Spring Controller </p>\n\n<pre><code> @RequestMapping(value = \"/login\", produces=\"application/json;charset=UTF-8\" ,method = RequestMethod.POST)\n @ResponseBody\n public int checkLoginInfo(@RequestParam Map&lt;String, String&gt; params) {\n     User user=new Gson().fromJson((String) params.get(\"user\"), User.class);\n     return userService.getUserInfo(user);\n }   \n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>var params={userid:$(\"#userid\").val(),password:$(\"#password\").val()}\n$ajax({method:\"post\",data:{user:JSON.stringify(params)},url:\"foo.bar\"});\n</code></pre>\n\n<p>It worked on website.\nBut I don't know how to send that Json object for android.</p>\n\n<pre><code>data:{user:JSON.stringify(params)}\n</code></pre>\n\n<p>I have tested </p>\n\n<pre><code>    private static String makeJsonMsg() {\n    String retMsg = \"\";\n\n    JSONStringer jsonStringer = new JSONStringer();\n\n    try {\n\n\n        retMsg = jsonStringer.object()\n                    .key(\"user\").object()\n                        .key(\"userid\").value(\"userid\")\n                        .key(\"password\").value(\"1234\")\n                    .endObject()\n                .endObject().toString();\n\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return retMsg;\n\n}\n</code></pre>\n\n<p>like that,\nBut return 500 error.\nDo I need to add header or something else?</p>\n"},{"tags":["java","spring-boot","spring-cache","ehcache-3"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1672434087,"post_id":74965446,"comment_id":132290868,"body_markdown":"try to add `@EnableCaching` on `@Configuration` class","body":"try to add <code>@EnableCaching</code> on <code>@Configuration</code> class"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677285140,"creation_date":1677284792,"answer_id":75562529,"question_id":74965446,"body_markdown":"I believe [@dey][1] is correct.\r\n\r\nI suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework&#39;s `@EnableCaching` annotation ([Javadoc][2]).\r\n\r\nEven with Spring Boot&#39;s *auto-configuration*, and specifically when using **Ehcache** as a caching provider in Spring Framework&#39;s Cache Abstraction, **you still need to explicitly enable caching**, as [described in the documentation][3].\r\n\r\n**Ehcache** is a [supported caching provider][4] (as well as [in the core Spring Framework][5]) and Spring Boot does offer *auto-configuration* logic for this provider (via the JCache API). However, when using Spring Boot, an explicit `CacheManager` bean declaration (for *Ehcache*) in your application configuration is **not** required, only the `@EnableCaching` annotation is required (so long as both *Ehcache* and `spring-boot-starter-cache` are on your application classpath, as you have indicated):\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass MySpringBootApplicationConfiguration {\r\n\r\n  // your application managed bean declarations here\r\n\r\n}\r\n```\r\n\r\nAn explicit `CacheManager` bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring&#39;s Cache Abstraction, in which case you would need to implement Spring&#39;s `Cache and `CacheManager` SPI yourself, for the unsupported (OOTB) provider.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3703819/dey\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I believe <a href=\"https://stackoverflow.com/users/3703819/dey\">@dey</a> is correct.</p>\n<p>I suspect the problem you are having is that you have not explicitly enabled caching using Spring Framework's <code>@EnableCaching</code> annotation (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/EnableCaching.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>Even with Spring Boot's <em>auto-configuration</em>, and specifically when using <strong>Ehcache</strong> as a caching provider in Spring Framework's Cache Abstraction, <strong>you still need to explicitly enable caching</strong>, as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching\" rel=\"nofollow noreferrer\">described in the documentation</a>.</p>\n<p><strong>Ehcache</strong> is a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\" rel=\"nofollow noreferrer\">supported caching provider</a> (as well as <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration\" rel=\"nofollow noreferrer\">in the core Spring Framework</a>) and Spring Boot does offer <em>auto-configuration</em> logic for this provider (via the JCache API). However, when using Spring Boot, an explicit <code>CacheManager</code> bean declaration (for <em>Ehcache</em>) in your application configuration is <strong>not</strong> required, only the <code>@EnableCaching</code> annotation is required (so long as both <em>Ehcache</em> and <code>spring-boot-starter-cache</code> are on your application classpath, as you have indicated):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass MySpringBootApplicationConfiguration {\n\n  // your application managed bean declarations here\n\n}\n</code></pre>\n<p>An explicit <code>CacheManager</code> bean is required only when 1) you are not using Spring Boot, or 2) Spring does not (provide) support the provider as a caching provider in Spring's Cache Abstraction, in which case you would need to implement Spring's <code>Cache and </code>CacheManager` SPI yourself, for the unsupported (OOTB) provider.</p>\n"}],"owner":{"account_id":27300833,"reputation":47,"user_id":20817654,"display_name":"juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677289196,"creation_date":1672430904,"question_id":74965446,"body_markdown":"I am using  \r\n\r\n    @Service\r\n    public class Service{\r\n    @Autowired  \r\n    private CacheManager cacheManager;\r\n    }  \r\n  \r\nI included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file. \r\non running the application I am getting the error:  \r\n`Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.`  \r\nI am not sure how to go about resolving this error  \r\n  \r\n**My Thoughts:**  \r\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.","title":"Instantiate a CacheManager bean in Spring Boot application","body":"<p>I am using</p>\n<pre><code>@Service\npublic class Service{\n@Autowired  \nprivate CacheManager cacheManager;\n}  \n</code></pre>\n<p>I included org.ehcache:ehcache and spring-boot-starter-cache  library in the build.gradle file.\non running the application I am getting the error:<br />\n<code>Field cacheManager required a bean of type org.springframework.cache.CacheManager that could not be found.</code><br />\nI am not sure how to go about resolving this error</p>\n<p><strong>My Thoughts:</strong><br />\nLooks like I need to declare a class annotated with @Configuration and with methods @Bean which returns an object of type CacheManager. I am using EhCache here. Not sure exactly how to do this.</p>\n"},{"tags":["java","spring","caching","spring-data-jpa","spring-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672654631,"post_id":74981103,"comment_id":132319703,"body_markdown":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction.","body":"If you are using JPA don&#39;t use Spring Cache, use the Caching integration for your JPA provider (probably Hibernate) which will manage all that for you. Which would be the best practice and would integrate better, if you really want to use Spring Cache (which I wouldn&#39;t recommend in this case) use a transaction aware cache manager that will align with the transaction."},{"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"score":0,"creation_date":1672684227,"post_id":74981103,"comment_id":132327548,"body_markdown":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution","body":"@M.Deinum Thanks, I&#39;ve looked at how the hibernate cache works and it really does look like a solution"}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677288959,"creation_date":1677288297,"answer_id":75562760,"question_id":74981103,"body_markdown":"Using a JPA provider&#39;s cache, such as Hibernate&#39;s L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.\r\n\r\nFor instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?\r\n\r\n1 of the problems you will encounter, especially if you are just using the [&quot;Simple&quot; caching provider][1] provided by Spring [Boot] (also [described][2] in Spring Framework&#39;s Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.\r\n\r\nThis is similar to:\r\n\r\n```java\r\nMap&lt;String, User&gt; users = new HashMap&lt;&gt;();\r\n\r\n// populate Map, for example:\r\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\r\n\r\n// then...\r\nUser jonDoe = users.get(&quot;jonDoe&quot;)\r\n\r\njonDoe.setActive(false);\r\n\r\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\r\n```\r\n\r\nWorse yet is the situation where the (changed) state of the object cached is part of the `equals` and `hashCode` methods (often used by caches when performing cache operations: `get(key)`, `put(key, value)`, etc), which would affect the mapping, and affect any `Map`-based cache implementation.\r\n\r\nMost caching providers offer a setting, such as `copy-on-read` (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;*Near Caching*&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.\r\n\r\nIf the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.\r\n\r\nIf you are using Spring Boot&#39;s &quot;Simple&quot; (`ConcurrentMap`-backed) `Cache` implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; `Cache` to return copied values on read:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\nclass CustomCachingConfiguration {\r\n\r\n  @Bean\r\n  CacheManagerCustomizer cacheManagerCustomizer() {\r\n\r\n    return cacheManager -&gt; {\r\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\r\n        concurrentMapCacheManager.setStoreByValue(true);\r\n      }\r\n    };\r\n  }\r\n\r\n```\r\n\r\nThis configuration is specific to caching provider.\r\n\r\nWith Apache Geode (VMware GemFire), you would configure the cache using [`GemFireCache.copyOnRead(boolean)`][3]. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.\r\n\r\nWith Hazelcast, especially in embedded capacity (a form of *Near Caching*), you would use [`CacheConfig.setStoreByValue(boolean)`][4].\r\n\r\nAgain, many robust caching providers supported by Spring [Boot], that implement the *JCache* API and can function as a *JCache* caching provider as well (for which Spring and Spring Boot offer excellent [support][5], and [here][6]) offer similar configuration as well.\r\n\r\nThis should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\r\n  [3]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\r\n  [4]: https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\r\n  [5]: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>Using a JPA provider's cache, such as Hibernate's L2 cache, may be 1 solution, but now you have shifted the (configurable, conditional and optional) caching concern from the application to the persistence provider, which may not be desirable nor portable in all cases.</p>\n<p>For instance, what happens when you are not using JPA and a database as the persistence provider/backing store, but another store like Cassandra as your system of record (SOR) to back certain services? Or, maybe you are making a call to a [REST-based] Web service (e.g. Google Maps/Geocoding API) from your application service class? What then?</p>\n<p>1 of the problems you will encounter, especially if you are just using the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.simple\" rel=\"nofollow noreferrer\">&quot;Simple&quot; caching provider</a> provided by Spring [Boot] (also <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-store-configuration-jdk\" rel=\"nofollow noreferrer\">described</a> in Spring Framework's Cache Abstraction documentation), is that the reference to the object returned by the cache is the actual object stored in the cache.</p>\n<p>This is similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, User&gt; users = new HashMap&lt;&gt;();\n\n// populate Map, for example:\nusers.put(&quot;jonDoe&quot;, User.as(&quot;Jon Doe&quot;).active());\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isTrue();\n\n// then...\nUser jonDoe = users.get(&quot;jonDoe&quot;)\n\njonDoe.setActive(false);\n\nassertThat(users.get(&quot;jonDoe&quot;).isActive()).isFalse();\n</code></pre>\n<p>Worse yet is the situation where the (changed) state of the object cached is part of the <code>equals</code> and <code>hashCode</code> methods (often used by caches when performing cache operations: <code>get(key)</code>, <code>put(key, value)</code>, etc), which would affect the mapping, and affect any <code>Map</code>-based cache implementation.</p>\n<p>Most caching providers offer a setting, such as <code>copy-on-read</code> (semantics), when the cached value (object) is read from or stored to the cache. This is particularly useful in local-based caches (used in &quot;<em>Near Caching</em>&quot;), which can supplement a client/server based Cache (e.g. Redis) to decrease network hops on access, particularly for infrequently changing data.</p>\n<p>If the caching solution is pure client/server (with no local caching, just proxying to the server from the client), which is most production topology arrangements (given cached data is usually &quot;shared&quot;), then the fear of modifying the cache is nil since the value accessed to/from the server (e.g. Redis) needs to be de/serialized anyway.</p>\n<p>If you are using Spring Boot's &quot;Simple&quot; (<code>ConcurrentMap</code>-backed) <code>Cache</code> implementation, perhaps just for (profile-based) testing purposes, then you can even configure the &quot;Simple&quot; <code>Cache</code> to return copied values on read:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\nclass CustomCachingConfiguration {\n\n  @Bean\n  CacheManagerCustomizer cacheManagerCustomizer() {\n\n    return cacheManager -&gt; {\n      if (cacheManager instanceof ConcurrentMapCacheManager concurrentMapCacheManager) {\n        concurrentMapCacheManager.setStoreByValue(true);\n      }\n    };\n  }\n\n</code></pre>\n<p>This configuration is specific to caching provider.</p>\n<p>With Apache Geode (VMware GemFire), you would configure the cache using <a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/GemFireCache.html#setCopyOnRead-boolean-\" rel=\"nofollow noreferrer\"><code>GemFireCache.copyOnRead(boolean)</code></a>. Of course, in a non-local/non-embedded, proxy-only, client/server topology, this is not necessary.</p>\n<p>With Hazelcast, especially in embedded capacity (a form of <em>Near Caching</em>), you would use <a href=\"https://docs.hazelcast.org/docs/latest/javadoc/com/hazelcast/config/AbstractCacheConfig.html#setStoreByValue-boolean-\" rel=\"nofollow noreferrer\"><code>CacheConfig.setStoreByValue(boolean)</code></a>.</p>\n<p>Again, many robust caching providers supported by Spring [Boot], that implement the <em>JCache</em> API and can function as a <em>JCache</em> caching provider as well (for which Spring and Spring Boot offer excellent <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider.jcache\" rel=\"nofollow noreferrer\">support</a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-jsr-107\" rel=\"nofollow noreferrer\">here</a>) offer similar configuration as well.</p>\n<p>This should not affect any of your application code, only your configuration, and it should not be application tier (for example: persistence) dependent.</p>\n"}],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677288959,"creation_date":1672654194,"question_id":74981103,"body_markdown":"I want to show right away with an example. There is such a repository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    String USER_CACHE = &quot;users&quot;;\r\n\r\n    @Override\r\n    @CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\r\n    &lt;S extends User&gt; S save(S user);\r\n\r\n    @Override\r\n    @CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\r\n    void delete(User user);\r\n\r\n    @Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\r\n    User findByEmailIgnoreCase(String email);\r\n\r\n    }\r\n\r\nAnd there is such a service that saves the user&#39;s changes and sends a confirmation code to the mail:\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService, UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public User getUserByEmail(String email) {\r\n        return userRepository.findByEmailIgnoreCase(email);\r\n    }\r\n\r\n    @Override\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n    public void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\r\n        User user = getUserByEmail(registrationRequest.getEmail());\r\n\r\n        user.setPassword(registrationRequest.getPassword());\r\n        user.setApp(true);\r\n        user.setActivated(false);\r\n        user.setActivationCode(UUID.randomUUID().toString());\r\n        user.setLastVisit(LocalDateTime.now());\r\n\r\n        if (Strings.isEmpty(user.getImg())) {\r\n            user.setImg(DEFAULT_IMG);\r\n        }\r\n\r\n        mailSender.sendWelcomeMessage(user);    \r\n        userRepository.save(user);\r\n     }\r\n    }\r\n\r\nAnd the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.","title":"How to avoid changing object in cache before saving Spring Cache","body":"<p>I want to show right away with an example. There is such a repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\nString USER_CACHE = &quot;users&quot;;\n\n@Override\n@CachePut(value = USER_CACHE, key = &quot;#user.email&quot;, unless = &quot;#result == null&quot;)\n&lt;S extends User&gt; S save(S user);\n\n@Override\n@CacheEvict(value = USER_CACHE, key = &quot;#user.email&quot;)\nvoid delete(User user);\n\n@Cacheable(value = USER_CACHE, key = &quot;#email&quot;, unless = &quot;#result == null&quot;)\nUser findByEmailIgnoreCase(String email);\n\n}\n</code></pre>\n<p>And there is such a service that saves the user's changes and sends a confirmation code to the mail:</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService, UserDetailsService {\n\nprivate final UserRepository userRepository;\n\n@Override\npublic User getUserByEmail(String email) {\n    return userRepository.findByEmailIgnoreCase(email);\n}\n\n@Override\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic void createAppUser(RegistrationAppRequestDto registrationRequest) throws EmailSendingException {\n    User user = getUserByEmail(registrationRequest.getEmail());\n\n    user.setPassword(registrationRequest.getPassword());\n    user.setApp(true);\n    user.setActivated(false);\n    user.setActivationCode(UUID.randomUUID().toString());\n    user.setLastVisit(LocalDateTime.now());\n\n    if (Strings.isEmpty(user.getImg())) {\n        user.setImg(DEFAULT_IMG);\n    }\n\n    mailSender.sendWelcomeMessage(user);    \n    userRepository.save(user);\n }\n}\n</code></pre>\n<p>And the problem is that in case of an error (For example, when sending a message to the mail), the changes that were made with this user will remain in the cache, and these changes will not get into the database (which is correct). Is there any practice of working with such a case? Alternatively, i can use object cloning, but I think this is a bad practice. I will be grateful for any help.</p>\n"},{"tags":["java","arrays","java-8","java-stream","stringbuilder"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1557234965,"post_id":56023452,"comment_id":98690652,"body_markdown":"https://stackoverflow.com/q/22577197/2711488&#160;&#160;&#160;&#160;https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction","body":"<a href=\"https://stackoverflow.com/q/22577197/2711488\">stackoverflow.com/q/22577197/2711488</a>    <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1557236942,"post_id":56023452,"comment_id":98691919,"body_markdown":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation..","body":"Well the first thread to get to the reduce stage gets treated first :) if you await a sequential result, you better be using a sequential stream, or at least make it sequential before the reduce operation.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1557237498,"post_id":56023452,"comment_id":98692259,"body_markdown":"Its different every time because parallel means multiple threads executing at the same time.  Running at the same time means they do not execute in order.","body":"Its different every time because parallel means multiple threads executing at the same time.  Running at the same time means they do not execute in order."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1557238840,"post_id":56023452,"comment_id":98693078,"body_markdown":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream.","body":"@VGR I understand that parallel menas multiple threads, but if instead of reduce() I&#39;m using collect() it works perfectly even with parallel stream."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1557260092,"post_id":56023452,"comment_id":98703277,"body_markdown":"that _is_ the point - one is _mutable_ reduction and the other is _not_. you are using `reduce` like it&#39;s a mutable one, and it&#39;s not. hint: `accumulator` and `combiner` **must** return a _new_ instance of `StringBuilder`, all the time.","body":"that <i>is</i> the point - one is <i>mutable</i> reduction and the other is <i>not</i>. you are using <code>reduce</code> like it&#39;s a mutable one, and it&#39;s not. hint: <code>accumulator</code> and <code>combiner</code> <b>must</b> return a <i>new</i> instance of <code>StringBuilder</code>, all the time."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677288893,"creation_date":1557342659,"answer_id":56047530,"question_id":56023452,"body_markdown":"The problem lies in the fact you use [`Stream::reduce`][1] for [mutable reduction][2]. You should use [`Stream::collect`][3] instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: [Streams: Reduction][4].\r\n\r\nUnlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.\r\n\r\nNotice the differences in the Javadocs for the two methods:\r\n\r\n - [`reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)`][1]:\r\n    &gt; Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.\r\n - [`collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)`][3]: \r\n    &gt; Performs a mutable reduction operation on the elements of this stream.\r\n\r\nTherefore, I suggest you do the following:\r\n\r\n\tStringBuilder concat = Arrays.stream(grades)\r\n\t\t.parallel()\r\n\t\t.collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>The problem lies in the fact you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream::reduce</code></a> for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">mutable reduction</a>. You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>Stream::collect</code></a> instead that can be used for safe parallel processing. You may read more about their differences in the official Oracle documentation: <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">Streams: Reduction</a>.</p>\n<p>Unlike the reduce method, which always creates a new value when it processes an element, the collect method modifies or mutates an existing value.</p>\n<p>Notice the differences in the Javadocs for the two methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a reduction on the elements of this stream, using the provided identity, accumulation and combining functions.</p>\n</blockquote>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? super T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)</code></a>:\n<blockquote>\n<p>Performs a mutable reduction operation on the elements of this stream.</p>\n</blockquote>\n</li>\n</ul>\n<p>Therefore, I suggest you do the following:</p>\n<pre><code>StringBuilder concat = Arrays.stream(grades)\n    .parallel()\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append);\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3532,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":1,"score":6,"last_activity_date":1677288893,"creation_date":1557234792,"question_id":56023452,"body_markdown":"I try to understand how `reduce()` method works exactly with parallel streams and I don&#39;t understand why the following code do not return the concatenation of these strings. \r\n\r\nThis is the code:\r\n\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] grades = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;};\r\n    \t\t\r\n    \t\tStringBuilder concat = Arrays.stream(grades).parallel()\r\n    \t\t        .reduce(new StringBuilder(),\r\n    \t\t                (sb, s) -&gt; sb.append(s),\r\n    \t\t                (sb1, sb2) -&gt; sb1.append(sb2));\r\n    \t\t\r\n    \t\tSystem.out.println(concat);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe code works only with sequential streams, but with parallel streams it doesn&#39;t return the concatenation. The output is different every time. Can someone explain me what&#39;s happening there?","title":"How does reduce() method work with parallel streams in Java 8?","body":"<p>I try to understand how <code>reduce()</code> method works exactly with parallel streams and I don't understand why the following code do not return the concatenation of these strings. </p>\n\n<p>This is the code:</p>\n\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        String[] grades = {\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\"};\n\n        StringBuilder concat = Arrays.stream(grades).parallel()\n                .reduce(new StringBuilder(),\n                        (sb, s) -&gt; sb.append(s),\n                        (sb1, sb2) -&gt; sb1.append(sb2));\n\n        System.out.println(concat);\n\n    }\n}\n</code></pre>\n\n<p>The code works only with sequential streams, but with parallel streams it doesn't return the concatenation. The output is different every time. Can someone explain me what's happening there?</p>\n"},{"tags":["java","drag-and-drop","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371855211,"post_id":17245119,"comment_id":24990977,"body_markdown":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process","body":"By definition, a mouseClicked event will only occur in the point the mousePresses and mouseReleased is the same. Try using mouseReleased instead. You probably shouldn&#39;t be installing a transfer handler on a click event, but should be established as part of your normal initialization process"},{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1371870752,"post_id":17245119,"comment_id":24993602,"body_markdown":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback.","body":"Agreed -- but mouseReleased isn&#39;t called either.  I updated the code to match some of your feedback."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1371871682,"post_id":17245119,"comment_id":24993732,"body_markdown":"How I don&#39;t the `TransferHandler` API :P","body":"How I don&#39;t the <code>TransferHandler</code> API :P"}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1372111919,"creation_date":1372111919,"answer_id":17286009,"question_id":17245119,"body_markdown":"Do you really need the mouseReleased to fire or what? I think this should work well:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n\r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n\t\r\n\t    private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n\r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n\r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n\r\n            JTextArea area = new JTextArea();\r\n\r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n\r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n\r\n        }\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n\r\n\r\n            repaint();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n\t            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\r\n\t                    TransferHandler.COPY);\r\n        }\r\n\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n        }\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            System.out.println(&quot;mouseReleased&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\nI just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.","title":"Java Drag and Drop and Mouse Listeners","body":"<p>Do you really need the mouseReleased to fire or what? I think this should work well:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, me,\n                    TransferHandler.COPY);\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n\n<p>I just moved the call to start the drag event into the mouseDragged call, this way if you just click your mouse then everything calls normally. However, if you drag the mouse, it will fire the drag and drop call, which still does block other calls, but again only if you drag. If you just click, it all fires normally.</p>\n"},{"comments":[{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1677921935,"post_id":75562780,"comment_id":133435758,"body_markdown":"Put some context to your answer and explain how your answer solves actual problem.","body":"Put some context to your answer and explain how your answer solves actual problem."}],"tags":[],"owner":{"account_id":20883704,"reputation":1,"user_id":15340782,"display_name":"user15340782"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677288763,"creation_date":1677288763,"answer_id":75562780,"question_id":17245119,"body_markdown":"        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n\r\n            repaint();\r\n        }\r\n\r\nMouse Event..??","title":"Java Drag and Drop and Mouse Listeners","body":"<pre><code>    @Override\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(String.format(&quot;[mouseDragged] (%d, %d)&quot;, e.getX(),e.getY()));\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n        repaint();\n    }\n</code></pre>\n<p>Mouse Event..??</p>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18705,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17286009,"answer_count":2,"score":4,"last_activity_date":1677288763,"creation_date":1371852930,"question_id":17245119,"body_markdown":"I am using logic like the following with a touch interface, so I&#39;d like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.\r\n\r\nOn mousePressed, I have a drag being started.  On mouseClicked, I want it to print out &quot;mouseClicked&quot;, and to print mouseReleased on &quot;mouseReleased&quot; but for some reason the \r\n\r\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                TransferHandler.COPY);\r\n\r\nswallows the event causing mouseClicked and mouseReleased events not be fired even when I don&#39;t move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn&#39;t started).  \r\n\r\nHow can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn&#39;t do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.\r\n\r\nHere is some sample code I am working with that illustrates my actual problem:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.TransferHandler;\r\n    \r\n    public class DragTest extends JFrame implements MouseMotionListener,\r\n            MouseListener {\r\n    \r\n        private JPanel leftPanel = new JPanel(null);\r\n        private JPanel rightPanel = new JPanel(null);\r\n        JLabel dropLabel;\r\n    \r\n        public DragTest() {\r\n            this.setLayout(new GridLayout(1, 2));\r\n    \r\n            leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(leftPanel);\r\n            this.add(rightPanel);\r\n            leftPanel.addMouseListener(this);\r\n            leftPanel.addMouseMotionListener(this);\r\n    \r\n            JTextArea area = new JTextArea();\r\n    \r\n            rightPanel.setLayout(new GridLayout(1, 1));\r\n            rightPanel.add(area);\r\n            \r\n            dropLabel = new JLabel(&quot;drop&quot;);\r\n            dropLabel.setTransferHandler(new TransferHandler(&quot;text&quot;));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            System.out.println(&quot;mousePressed&quot;);\r\n    \r\n    \r\n            Dimension labelSize = dropLabel.getPreferredSize();\r\n            dropLabel.setSize(labelSize);\r\n            int x = e.getX() - labelSize.width / 2;\r\n            int y = e.getY() - labelSize.height / 2;\r\n            dropLabel.setLocation(x, y);\r\n            leftPanel.add(dropLabel);\r\n    \r\n    \r\n            dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\r\n                    TransferHandler.COPY);\r\n    \r\n            repaint();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseDragged(MouseEvent me) {\r\n            System.out.println(&quot;mouseDragged&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            System.out.println(&quot;mouseClicked&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n    \r\n            System.out.println(&quot;mouseReleased&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DragTest frame = new DragTest();\r\n            frame.setVisible(true);\r\n            frame.setSize(600, 400);\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\n","title":"Java Drag and Drop and Mouse Listeners","body":"<p>I am using logic like the following with a touch interface, so I'd like to be able to use mousePressed to initiate a drag, yet at the same time be able to use mouseClicked or mouseReleased if the user does not drag.</p>\n\n<p>On mousePressed, I have a drag being started.  On mouseClicked, I want it to print out \"mouseClicked\", and to print mouseReleased on \"mouseReleased\" but for some reason the </p>\n\n<pre><code>    dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n            TransferHandler.COPY);\n</code></pre>\n\n<p>swallows the event causing mouseClicked and mouseReleased events not be fired even when I don't move the mouse.  Notice that commenting out that line causes all listeners to be fired (but obviously the drag isn't started).  </p>\n\n<p>How can I get all mouse events to happen the way I want, specifically mouseClicked/mouseReleased when the user doesn't do any dragging, while still being able to exportAsDragged if the user does drag?  Any hacks/cracks/reflection solutions are welcome.</p>\n\n<p>Here is some sample code I am working with that illustrates my actual problem:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.TransferHandler;\n\npublic class DragTest extends JFrame implements MouseMotionListener,\n        MouseListener {\n\n    private JPanel leftPanel = new JPanel(null);\n    private JPanel rightPanel = new JPanel(null);\n    JLabel dropLabel;\n\n    public DragTest() {\n        this.setLayout(new GridLayout(1, 2));\n\n        leftPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        rightPanel.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(leftPanel);\n        this.add(rightPanel);\n        leftPanel.addMouseListener(this);\n        leftPanel.addMouseMotionListener(this);\n\n        JTextArea area = new JTextArea();\n\n        rightPanel.setLayout(new GridLayout(1, 1));\n        rightPanel.add(area);\n\n        dropLabel = new JLabel(\"drop\");\n        dropLabel.setTransferHandler(new TransferHandler(\"text\"));\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(\"mousePressed\");\n\n\n        Dimension labelSize = dropLabel.getPreferredSize();\n        dropLabel.setSize(labelSize);\n        int x = e.getX() - labelSize.width / 2;\n        int y = e.getY() - labelSize.height / 2;\n        dropLabel.setLocation(x, y);\n        leftPanel.add(dropLabel);\n\n\n        dropLabel.getTransferHandler().exportAsDrag(dropLabel, e,\n                TransferHandler.COPY);\n\n        repaint();\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        System.out.println(\"mouseDragged\");\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        System.out.println(\"mouseClicked\");\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n\n        System.out.println(\"mouseReleased\");\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n\n        DragTest frame = new DragTest();\n        frame.setVisible(true);\n        frame.setSize(600, 400);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","yaml"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677289067,"post_id":75562762,"comment_id":133314425,"body_markdown":"have you looked at this one `https://www.baeldung.com/jackson-yaml`","body":"have you looked at this one <code>https:&#47;&#47;www.baeldung.com&#47;jackson-yaml</code>"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677290597,"post_id":75562762,"comment_id":133314546,"body_markdown":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map","body":"@Popeye I don&#39;t think that would help because I should be able to get the data from the way the test does it for other fields, just need to parse through the nested yaml objects. And the test data is in the form of a linked hash map"},{"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"score":0,"creation_date":1677291490,"post_id":75562762,"comment_id":133314650,"body_markdown":"There are also multiple classes used in this overall JSON request","body":"There are also multiple classes used in this overall JSON request"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1677367432,"post_id":75562762,"comment_id":133324663,"body_markdown":"`Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&quot;).getAsJsonObject()\n                .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDouble();`","body":"<code>Double value = JsonParser.parseString(s).getAsJsonObject().get(&quot;restriction&zwnj;&#8203;&quot;).getAsJsonObject()                 .get(&quot;funding_limit&quot;).getAsJsonObject().get(&quot;value&quot;).getAsDo&zwnj;&#8203;uble();</code>"}],"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677288346,"creation_date":1677288346,"question_id":75562762,"body_markdown":"I have the following Yaml file of test data:\r\n\r\n    \r\n\r\n      SEARCH_CREDENTIALS_TEST:\r\n      testName: FB_0001\r\n      nttProductName: TESTNTT\r\n      tpanProductName: TESTTPAN\r\n      userProfile: USERPROFILE\r\n      credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\r\n      tsp: AETS\r\n      scProfile: Internal\r\n      otherCredentialTypes:\r\n        - E_COMMERCE_LONG_FORM\r\n      maxCachedCredentials: 2\r\n      metadata:\r\n        - HASHED=CUSTOMER_EMAIL\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      secondRequestMedata:\r\n        - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\r\n        - UNHASHED=MERCHANT_ID|AMOUNT\r\n      restriction:\r\n        fundinglimit:\r\n          -CURRENCY=USD\r\n          -VALUE=10.00\r\n\r\nI want to store the **funding limit** values of currency and value as properties of a Money object where the amount and currency are stored as string:\r\n\r\n    \r\n    Money m = new Money();\r\n    m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n    m.setCurrency(); \r\n\r\n \r\nHow do I get each part of the funding limit object into the money object? My full code snippet is below: \r\n\r\n    @Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\r\n        public void searchCredentialTest(LinkedHashMap testData) throws Exception {\r\n            \r\n            String credentialType = (String) testData.get(&quot;credentialType&quot;);\r\n    \r\n    \r\n            User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\r\n            SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\r\n            Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\r\n    \r\n    \r\n            Money m = new Money();\r\n            m.setAmount((String)testData.get(&quot;restriction&quot;));\r\n                m.setCurrency(String) testData.get(&quot;restriction&quot;);\r\n    }\r\n\r\n\r\nHere is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value: \r\n\r\n     {\r\n        &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\r\n        &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\r\n        &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\r\n        &quot;restriction&quot; : {\r\n        \t&quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\r\n        }\r\n    }","title":"Parse Test Data from Yaml file into Object","body":"<p>I have the following Yaml file of test data:</p>\n<pre><code>  SEARCH_CREDENTIALS_TEST:\n  testName: FB_0001\n  nttProductName: TESTNTT\n  tpanProductName: TESTTPAN\n  userProfile: USERPROFILE\n  credentialType: E_COMMERCE_SHORT_FORM_DYNAMIC\n  tsp: AETS\n  scProfile: Internal\n  otherCredentialTypes:\n    - E_COMMERCE_LONG_FORM\n  maxCachedCredentials: 2\n  metadata:\n    - HASHED=CUSTOMER_EMAIL\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  secondRequestMedata:\n    - HASHED=CUSTOMER_EMAIL|CUSTOMER_PHONE\n    - UNHASHED=MERCHANT_ID|AMOUNT\n  restriction:\n    fundinglimit:\n      -CURRENCY=USD\n      -VALUE=10.00\n</code></pre>\n<p>I want to store the <strong>funding limit</strong> values of currency and value as properties of a Money object where the amount and currency are stored as string:</p>\n<pre><code>Money m = new Money();\nm.setAmount((String)testData.get(&quot;restriction&quot;));\nm.setCurrency(); \n</code></pre>\n<p>How do I get each part of the funding limit object into the money object? My full code snippet is below:</p>\n<pre><code>@Test(dataProvider = &quot;NetworkTokens&quot;, groups = { &quot;p0&quot;, &quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot; })\n    public void searchCredentialTest(LinkedHashMap testData) throws Exception {\n        \n        String credentialType = (String) testData.get(&quot;credentialType&quot;);\n\n\n        User user = userUtil.createUser((String) testData.get(&quot;userProfile&quot;));\n        SecurityContext securityContext = securityContextUtil.createSecurityContext(&quot;Default&quot;, user);\n        Token ntt = createOnlineToken.createNtt(user, securityContext, (String) testData.get(&quot;nttProductName&quot;),(String) testData.get(&quot;testname&quot;));\n\n\n        Money m = new Money();\n        m.setAmount((String)testData.get(&quot;restriction&quot;));\n            m.setCurrency(String) testData.get(&quot;restriction&quot;);\n}\n</code></pre>\n<p>Here is the postman request for reference of the JSON object I am replicating in my test where I want to get the currency code and value:</p>\n<pre><code> {\n    &quot;product_name&quot;:&quot;TEST_PRODUCT&quot;,\n    &quot;value_to_tokenize&quot;:&quot;TEST_VALUE&quot;,\n    &quot;wallet_id&quot;: &quot;TEST_WALLET&quot;,\n    &quot;restriction&quot; : {\n        &quot;funding_limit&quot; : {&quot;currency_code&quot; : &quot;USD&quot;, &quot;value&quot; : &quot;10.00&quot;}\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","maven-2","maven-surefire-plugin"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1288966226,"post_id":4106524,"comment_id":4420890,"body_markdown":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored...","body":"@Bozho I also think so, but looks like these two files conflict. When I have them two NO logging config works. They both are just ignored..."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1288966801,"post_id":4106524,"comment_id":4421008,"body_markdown":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?","body":"I think maven just includes both resources in path, so log4j gets confused which one to use and instead just fails by not showing anything. Does Robert&#39;s solution work?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1288968547,"post_id":4106524,"comment_id":4421363,"body_markdown":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used `slf4j-jdk14` instead of `slf4j-log4j`. Everything works fine **without** the trick offered by Robert.","body":"Bozho is right, it works fine as it is. The problem was with my logging configuration. I used <code>slf4j-jdk14</code> instead of <code>slf4j-log4j</code>. Everything works fine <b>without</b> the trick offered by Robert."}],"answers":[{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1288969363,"post_id":4106563,"comment_id":4421547,"body_markdown":"I up-voted your answer, many thanks for it. Unfortunately, it is not helpful in my case, since the problem is not with the location of the file, but of `log4j` usage together with `slf4j`.","body":"I up-voted your answer, many thanks for it. Unfortunately, it is not helpful in my case, since the problem is not with the location of the file, but of <code>log4j</code> usage together with <code>slf4j</code>."}],"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1288965773,"creation_date":1288965773,"answer_id":4106563,"question_id":4106524,"body_markdown":"Rename your test configuration file to e.g. `log4j-surefire.properties` and configure log4j to pick it up during surefire execution:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;systemPropertyVariables&gt;\r\n            \t&lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\r\n\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Rename your test configuration file to e.g. <code>log4j-surefire.properties</code> and configure log4j to pick it up during surefire execution:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;log4j.configuration&gt;file:${project.build.testOutputDirectory}/log4j-surefire.properties&lt;/log4j.configuration&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"score":2,"creation_date":1423499562,"post_id":4108178,"comment_id":45162396,"body_markdown":"How is that you didn&#39;t clean the mess. don&#39;t know how to make them all work together and get the correct answer?","body":"How is that you didn&#39;t clean the mess. don&#39;t know how to make them all work together and get the correct answer?"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1289025759,"creation_date":1288976382,"answer_id":4108178,"question_id":4106524,"body_markdown":"It should work as it is, and it works. The problem is somewhere else.\r\n\r\nps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn&#39;t clean this mess yet, and I still don&#39;t know how to make all packages to use one logging facility and one configuration.","title":"How to override log4j.properties during testing?","body":"<p>It should work as it is, and it works. The problem is somewhere else.</p>\n\n<p>ps. I had a mess with loggers in my classpath: jog4j, slf4j, logback (from other dependencies). As I understand, all of them are in conflict. I didn't clean this mess yet, and I still don't know how to make all packages to use one logging facility and one configuration.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644330184,"creation_date":1644330184,"answer_id":71035510,"question_id":4106524,"body_markdown":"Beware of changed version for that, with 2.17.1 of log4j at least, **you&#39;ll have to change it from** `log4j.configuration` **to** `log4j.configurationFile` to avoid having \r\n\r\n`ERROR StatusLogger Reconfiguration failed: No configuration found for &#39;18b4aac2&#39; at &#39;null&#39; in &#39;null&#39;`\r\n\r\nHere an example\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!--\t\t\tDOC\thttp://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;!-- enables java assertions for tests --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t&lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\r\n\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"How to override log4j.properties during testing?","body":"<p>Beware of changed version for that, with 2.17.1 of log4j at least, <strong>you'll have to change it from</strong> <code>log4j.configuration</code> <strong>to</strong> <code>log4j.configurationFile</code> to avoid having</p>\n<p><code>ERROR StatusLogger Reconfiguration failed: No configuration found for '18b4aac2' at 'null' in 'null'</code></p>\n<p>Here an example</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!--            DOC http://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html --&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;!-- enables java assertions for tests --&gt;\n            &lt;configuration&gt;\n                &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;log4j.configurationFile&gt;src/test/resources/log4j2_for_surefire.xml&lt;/log4j.configurationFile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":4108178,"answer_count":3,"score":18,"last_activity_date":1677288090,"creation_date":1288965573,"question_id":4106524,"body_markdown":"I&#39;m trying to log all `DEBUG` messages to console during testing in maven. For this purpose I created a file `src/test/resources/log4j.properties`, which is going to override the configuration I already have in `src/main/resources/log4j.properties`. Unfortunately such an overriding is not happening. Why and how to fix it?","title":"How to override log4j.properties during testing?","body":"<p>I'm trying to log all <code>DEBUG</code> messages to console during testing in maven. For this purpose I created a file <code>src/test/resources/log4j.properties</code>, which is going to override the configuration I already have in <code>src/main/resources/log4j.properties</code>. Unfortunately such an overriding is not happening. Why and how to fix it?</p>\n"},{"tags":["java","linux","tomcat","linux-kernel","tomcat8"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177211,"post_id":49313567,"comment_id":85628703,"body_markdown":"That error tells you that the file name you typed is incorrect. Check if you have a space after `tar` in the file name","body":"That error tells you that the file name you typed is incorrect. Check if you have a space after <code>tar</code> in the file name"},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177581,"post_id":49313567,"comment_id":85628806,"body_markdown":"I copied it from name of file itself","body":"I copied it from name of file itself"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1521177869,"post_id":49313567,"comment_id":85628887,"body_markdown":"`apache-tomcat-8.5.29.tar: Cannot open: No such file or directory` means that the must have been `tar xzvf apache-tomcat-8.5.29.tar` or something like `tar xzvf apache-tomcat-8.5.29.tar .gz`. You only have to look close enough...","body":"<code>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</code> means that the must have been <code>tar xzvf apache-tomcat-8.5.29.tar</code> or something like <code>tar xzvf apache-tomcat-8.5.29.tar .gz</code>. You only have to look close enough..."},{"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"score":0,"creation_date":1521177999,"post_id":49313567,"comment_id":85628935,"body_markdown":"it is apache-tomcat-8.5.29.tar.gz","body":"it is apache-tomcat-8.5.29.tar.gz"}],"answers":[{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521179522,"creation_date":1521179522,"answer_id":49314021,"question_id":49313567,"body_markdown":"The error says:\r\n\r\ntar (child): **apache-tomcat-8.5.29.tar: Cannot open: No such file or directory**\r\n\r\nIt&#39;s means that the file name is incorrect or is not on the directory you are.\r\n\r\nTry this  \r\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz \r\n\r\nalso check the name of the file you typed.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>The error says:</p>\n\n<p>tar (child): <strong>apache-tomcat-8.5.29.tar: Cannot open: No such file or directory</strong></p>\n\n<p>It's means that the file name is incorrect or is not on the directory you are.</p>\n\n<p>Try this<br>\ntar xzvf /PATH_OF_THE_FILE/apache-tomcat-8.5.29.tar.gz </p>\n\n<p>also check the name of the file you typed.</p>\n"},{"tags":[],"owner":{"account_id":13153169,"reputation":1,"user_id":9501088,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521180465,"creation_date":1521180465,"answer_id":49314206,"question_id":49313567,"body_markdown":"when you extract the tar.gz file, you should see an output like this:\r\n\r\n    ...... (lot of information)\r\n    apache-tomcat-8.5.29/bin/configtest.sh\r\n    apache-tomcat-8.5.29/bin/daemon.sh\r\n    apache-tomcat-8.5.29/bin/digest.sh\r\n    apache-tomcat-8.5.29/bin/setclasspath.sh\r\n    apache-tomcat-8.5.29/bin/shutdown.sh\r\n    ......\r\n\r\nAnd a new directory must be created called **apache-tomcat-8.5.29**, now you only have to type the following command:\r\n\r\ncd apache-tomcat-8.5.29\r\n\r\nif you need to list it, then execute this\r\n\r\nls -l","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>when you extract the tar.gz file, you should see an output like this:</p>\n\n<pre><code>...... (lot of information)\napache-tomcat-8.5.29/bin/configtest.sh\napache-tomcat-8.5.29/bin/daemon.sh\napache-tomcat-8.5.29/bin/digest.sh\napache-tomcat-8.5.29/bin/setclasspath.sh\napache-tomcat-8.5.29/bin/shutdown.sh\n......\n</code></pre>\n\n<p>And a new directory must be created called <strong>apache-tomcat-8.5.29</strong>, now you only have to type the following command:</p>\n\n<p>cd apache-tomcat-8.5.29</p>\n\n<p>if you need to list it, then execute this</p>\n\n<p>ls -l</p>\n"},{"tags":[],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521203609,"creation_date":1521182247,"answer_id":49314589,"question_id":49313567,"body_markdown":"Done:\r\n\r\n    sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\r\n\r\nIt will extract tar file into extracted_folder_path.\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Done:</p>\n\n<pre><code>sudo tar xvzf /opt/file_path/apache-tomcat-7.0.54.tar.gz -C /opt/extracted_folder_path --strip components=1--\n</code></pre>\n\n<p>It will extract tar file into extracted_folder_path.</p>\n"},{"comments":[{"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"score":0,"creation_date":1676941008,"post_id":75515431,"comment_id":133234451,"body_markdown":"I forgot.... after unpacking tomcat go to bin folder and run: ./startup.sh","body":"I forgot.... after unpacking tomcat go to bin folder and run: ./startup.sh"}],"tags":[],"owner":{"account_id":27785600,"reputation":21,"user_id":21213111,"display_name":"cristianpaul76"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677287769,"creation_date":1676940810,"answer_id":75515431,"question_id":49313567,"body_markdown":"Before unpack with command tar try this:\r\n```bash\r\nsudo chmod 777 ./apache-tomcat-8.5.85\r\n```\r\nyou need to perform this action before, because after download tar file is colored *red* and you need to make it *green*. You achive this result with `chmod 777` which change permission on the file.","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>Before unpack with command tar try this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod 777 ./apache-tomcat-8.5.85\n</code></pre>\n<p>you need to perform this action before, because after download tar file is colored <em>red</em> and you need to make it <em>green</em>. You achive this result with <code>chmod 777</code> which change permission on the file.</p>\n"}],"owner":{"account_id":11108389,"reputation":9,"user_id":8154942,"display_name":"Shubham Deshmukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49314589,"answer_count":4,"score":0,"last_activity_date":1677287769,"creation_date":1521176859,"question_id":49313567,"body_markdown":"JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.\r\n\r\nExecuted the command `/path/tar xzvf apache-tomcat-8.5.29.tar.gz`, but now also there is tar file present. How do I get folders inside tomcat?\r\n","title":"How to install Tomcat8 tar.gz on Linux?","body":"<p>JDK is already installed there.I have downloaded the apache-tomcat-8.5.29.tar.gz in /opt/tomcat. I want their folder structure webapps and all.</p>\n\n<p>Executed the command <code>/path/tar xzvf apache-tomcat-8.5.29.tar.gz</code>, but now also there is tar file present. How do I get folders inside tomcat?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":74430,"reputation":554,"user_id":213884,"accept_rate":100,"display_name":"JERiv"},"score":0,"creation_date":1263482324,"post_id":2064852,"comment_id":1993717,"body_markdown":"Cool Beans! Thanks a lot.\n\nalso whats the best way to add and remove items from the array (save editing raw xml) - essentially updating any changes from the int[] to the xml.","body":"Cool Beans! Thanks a lot.  also whats the best way to add and remove items from the array (save editing raw xml) - essentially updating any changes from the int[] to the xml."},{"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"score":1,"creation_date":1263483309,"post_id":2064852,"comment_id":1993880,"body_markdown":"I&#39;m not sure it&#39;s possible to update the xml from code; all resources xml is compiled into binary when you build the apk.  You should make a new question on it, maybe someone else knows.","body":"I&#39;m not sure it&#39;s possible to update the xml from code; all resources xml is compiled into binary when you build the apk.  You should make a new question on it, maybe someone else knows."}],"tags":[],"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"comment_count":2,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1263480167,"creation_date":1263480167,"answer_id":2064852,"question_id":2064595,"body_markdown":"You need to use Resources to get the int array; however you&#39;re using the system resources, which only includes the standard Android resources (e.g., those accessible via `android.R.array.*`).  To get your own resources, you need to access the Resources via one of your Contexts.\r\n\r\nFor example, all Activities are Contexts, so in an Activity you can do this:\r\n\r\n    Resources r = getResources();\r\n    int[] bases = r.getIntArray(R.array.UserBases);\r\n\r\nThis is why it&#39;s often useful to pass around Context; you&#39;ll need it to get a hold of your application&#39;s Resources.","title":"Get an integer array from an xml resource in Android program","body":"<p>You need to use Resources to get the int array; however you're using the system resources, which only includes the standard Android resources (e.g., those accessible via <code>android.R.array.*</code>).  To get your own resources, you need to access the Resources via one of your Contexts.</p>\n\n<p>For example, all Activities are Contexts, so in an Activity you can do this:</p>\n\n<pre><code>Resources r = getResources();\nint[] bases = r.getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>This is why it's often useful to pass around Context; you'll need it to get a hold of your application's Resources.</p>\n"},{"tags":[],"owner":{"account_id":21566602,"reputation":11,"user_id":15900260,"display_name":"M. AsadUllah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677286654,"creation_date":1676888259,"answer_id":75507959,"question_id":2064595,"body_markdown":"get an array from xml resources of android project can be accessed.\r\n\r\nfrom array.xml\r\n\r\n    &lt;string-array name=&quot;weather_values&quot;&gt;\r\n        &lt;item&gt;sunny&lt;/item&gt;\r\n        &lt;item&gt;cloudy&lt;/item&gt;\r\n        &lt;item&gt;rainy&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nin Activity\r\n\r\n    String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nin Fragment\r\n\r\n    String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\r\n\r\nfor output in log\r\n\r\n    System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\r\n\r\noutput is\r\n\r\n    I/System.out: Array Values [sunny, cloudy, rainy]","title":"Get an integer array from an xml resource in Android program","body":"<p>get an array from xml resources of android project can be accessed.</p>\n<p>from array.xml</p>\n<pre><code>&lt;string-array name=&quot;weather_values&quot;&gt;\n    &lt;item&gt;sunny&lt;/item&gt;\n    &lt;item&gt;cloudy&lt;/item&gt;\n    &lt;item&gt;rainy&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>in Activity</p>\n<pre><code>String[] stringsArray = getApplicationContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>in Fragment</p>\n<pre><code>String[] stringsArray = getContext().getResources().getStringArray(R.array.weather_values);\n</code></pre>\n<p>for output in log</p>\n<pre><code>System.out.println(&quot;Array Values &quot; + Arrays.toString(stringsArray));\n</code></pre>\n<p>output is</p>\n<pre><code>I/System.out: Array Values [sunny, cloudy, rainy]\n</code></pre>\n"}],"owner":{"account_id":74430,"reputation":554,"user_id":213884,"accept_rate":100,"display_name":"JERiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57392,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2064852,"answer_count":2,"score":26,"last_activity_date":1677286654,"creation_date":1263478152,"question_id":2064595,"body_markdown":"Just a quickie, \r\n\r\ni have an xml resource in res/values/integers.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n         &lt;integer-array name=&quot;UserBases&quot;&gt;\r\n              &lt;item&gt;2&lt;/item&gt;\r\n              &lt;item&gt;8&lt;/item&gt;\r\n              &lt;item&gt;10&lt;/item&gt;\r\n              &lt;item&gt;16&lt;/item&gt;\r\n         &lt;/integer-array&gt;\r\n    &lt;/resources&gt;\r\n\r\nand ive tried several things to access it:\r\n\r\n    int[] bases = R.array.UserBases;\r\n\r\nthis just returns and int reference to UserBases not the array itself\r\n\r\n    int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\r\n\r\nand this throws an exception back at me telling me the int reference R.array.UserBases points to nothing\r\n\r\nwhat is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.\r\n\r\nI&#39;ve checked the android documentation but I haven&#39;t found anything terribly fruitful.","title":"Get an integer array from an xml resource in Android program","body":"<p>Just a quickie, </p>\n\n<p>i have an xml resource in res/values/integers.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n     &lt;integer-array name=\"UserBases\"&gt;\n          &lt;item&gt;2&lt;/item&gt;\n          &lt;item&gt;8&lt;/item&gt;\n          &lt;item&gt;10&lt;/item&gt;\n          &lt;item&gt;16&lt;/item&gt;\n     &lt;/integer-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>and ive tried several things to access it:</p>\n\n<pre><code>int[] bases = R.array.UserBases;\n</code></pre>\n\n<p>this just returns and int reference to UserBases not the array itself</p>\n\n<pre><code>int[] bases = Resources.getSystem().getIntArray(R.array.UserBases);\n</code></pre>\n\n<p>and this throws an exception back at me telling me the int reference R.array.UserBases points to nothing</p>\n\n<p>what is the best way to access this array, push it into a nice base-type int[] and then possibly push any modifications back into the xml resource.</p>\n\n<p>I've checked the android documentation but I haven't found anything terribly fruitful.</p>\n"},{"tags":["java","file-rename"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1346393985,"post_id":12209801,"comment_id":16354660,"body_markdown":"check Apache API for io, [FilenameUtils](http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html)","body":"check Apache API for io, <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FilenameUtils.html\" rel=\"nofollow noreferrer\">FilenameUtils</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1346393985,"post_id":12209801,"comment_id":16354661,"body_markdown":"I&#39;d start with reading [File.renameTo](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File))","body":"I&#39;d start with reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">File.renameTo</a>"},{"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"score":0,"creation_date":1346394411,"post_id":12209801,"comment_id":16354782,"body_markdown":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?","body":"@Nandkumar: Thanks I think it will be some useful for me. But the problem seems that I may unzip the file anytime later(May be in another session). How to I preserve it&#39;s previous extension?"},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cur"},"score":0,"creation_date":1541679865,"post_id":12209801,"comment_id":93303329,"body_markdown":"Possible duplicate of [Rename a file using Java](https://stackoverflow.com/questions/1158777/rename-a-file-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1158777/rename-a-file-using-java\">Rename a file using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1346394020,"creation_date":1346394020,"answer_id":12209877,"question_id":12209801,"body_markdown":"Try with:\r\n\r\n    File file  = new File(&quot;fileName.zip&quot;); // handler to your ZIP file\r\n    File file2 = new File(&quot;fileName.fileExtension&quot;); // destination dir of your file\r\n    boolean success = file.renameTo(file2);\r\n    if (success) {\r\n        // File has been renamed\r\n    }","title":"How to change file extension at runtime in Java","body":"<p>Try with:</p>\n\n<pre><code>File file  = new File(\"fileName.zip\"); // handler to your ZIP file\nFile file2 = new File(\"fileName.fileExtension\"); // destination dir of your file\nboolean success = file.renameTo(file2);\nif (success) {\n    // File has been renamed\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"score":0,"creation_date":1346396078,"post_id":12210064,"comment_id":16355276,"body_markdown":"Hi John. The same approach I am using currently. What I want to do is I can use the zipper and unzipper functionality separately. In that case I won&#39;t have the extension of the file.","body":"Hi John. The same approach I am using currently. What I want to do is I can use the zipper and unzipper functionality separately. In that case I won&#39;t have the extension of the file."},{"owner":{"account_id":264962,"reputation":6378,"user_id":551625,"accept_rate":57,"display_name":"brunoais"},"score":9,"creation_date":1399108470,"post_id":12210064,"comment_id":35931221,"body_markdown":"indexOf does not work. Try lastIndexOf() instead. That&#39;s because only the text after the last &quot;.&quot; is the extension and a file can have multiple &quot;.&quot; characters. Besides, searching from the end is, usually, faster to find that extension","body":"indexOf does not work. Try lastIndexOf() instead. That&#39;s because only the text after the last &quot;.&quot; is the extension and a file can have multiple &quot;.&quot; characters. Besides, searching from the end is, usually, faster to find that extension"},{"owner":{"account_id":291102,"reputation":597,"user_id":593045,"display_name":"BitLauncher"},"score":0,"creation_date":1519142395,"post_id":12210064,"comment_id":84783691,"body_markdown":"I would make two changes:\na) name newExtension as newExtensionWithDot\nb) return new File(f.getParent(), name + newExtension); // &quot;/&quot; is only Unix compatible, so the code can be use everywhere.","body":"I would make two changes: a) name newExtension as newExtensionWithDot b) return new File(f.getParent(), name + newExtension); // &quot;/&quot; is only Unix compatible, so the code can be use everywhere."}],"tags":[],"owner":{"account_id":263210,"reputation":10980,"user_id":548634,"accept_rate":78,"display_name":"John Eipe"},"comment_count":3,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1603643030,"creation_date":1346395010,"answer_id":12210064,"question_id":12209801,"body_markdown":"This is how I used to rename files or change its extension.\r\n\r\n    public static void modify(File file) \r\n        {\r\n            int index = file.getName().lastIndexOf(&quot;.&quot;);\r\n            //print filename\r\n            //System.out.println(file.getName().substring(0, index));\r\n            //print extension\r\n            //System.out.println(file.getName().substring(index));\r\n            String ext = file.getName().substring(index);\r\n            //use file.renameTo() to rename the file\r\n            file.renameTo(new File(&quot;Newname&quot;+ext));\r\n        }\r\n\r\n-------\r\n*edit*: John&#39;s method renames the file (keeping the extension). To change the extension do:\r\n\r\n    public static File changeExtension(File f, String newExtension) {\r\n      int i = f.getName().lastIndexOf(&#39;.&#39;);\r\n      String name = f.getName().substring(0,i);\r\n      return new File(f.getParent(), name + newExtension);\r\n    }\r\n\r\nThis changes only *the last extension* to a filename, i.e. the `.gz` part of `archive.tar.gz`. Therefore it works fine with Linux hidden files, for which the name starts with a `.`\r\nThis is quite safe because if `getParent()` returns `null` (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.\r\n\r\nThe only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the `null` is prepended to the rest of the path string.","title":"How to change file extension at runtime in Java","body":"<p>This is how I used to rename files or change its extension.</p>\n<pre><code>public static void modify(File file) \n    {\n        int index = file.getName().lastIndexOf(&quot;.&quot;);\n        //print filename\n        //System.out.println(file.getName().substring(0, index));\n        //print extension\n        //System.out.println(file.getName().substring(index));\n        String ext = file.getName().substring(index);\n        //use file.renameTo() to rename the file\n        file.renameTo(new File(&quot;Newname&quot;+ext));\n    }\n</code></pre>\n<hr />\n<p><em>edit</em>: John's method renames the file (keeping the extension). To change the extension do:</p>\n<pre><code>public static File changeExtension(File f, String newExtension) {\n  int i = f.getName().lastIndexOf('.');\n  String name = f.getName().substring(0,i);\n  return new File(f.getParent(), name + newExtension);\n}\n</code></pre>\n<p>This changes only <em>the last extension</em> to a filename, i.e. the <code>.gz</code> part of <code>archive.tar.gz</code>. Therefore it works fine with Linux hidden files, for which the name starts with a <code>.</code>\nThis is quite safe because if <code>getParent()</code> returns <code>null</code> (i.e. in the event of the parent being the system root) it is &quot;cast&quot; to an empty String as the whole argument to the File constructor is evaluated first.</p>\n<p>The only case where you will get a funny output is if you pass in a File representing the system root itself, in which case the <code>null</code> is prepended to the rest of the path string.</p>\n"},{"tags":[],"owner":{"account_id":4320263,"reputation":45,"user_id":3528738,"display_name":"Pankaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461717239,"creation_date":1461667091,"answer_id":36862487,"question_id":12209801,"body_markdown":"    FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + &quot;/&quot; +\r\n         FilenameUtils.getBaseName(doc.getDocLoc()) + &quot;.xml&quot;","title":"How to change file extension at runtime in Java","body":"<pre><code>FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + \"/\" +\n     FilenameUtils.getBaseName(doc.getDocLoc()) + \".xml\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":3,"creation_date":1532094101,"post_id":45007123,"comment_id":89857714,"body_markdown":"Fails for paths like &quot;/aaa.bbb/ccc&quot;. :-/ These things do matter.","body":"Fails for paths like &quot;/aaa.bbb/ccc&quot;. :-/ These things do matter."}],"tags":[],"owner":{"account_id":10803609,"reputation":181,"user_id":7946646,"display_name":"JavaBohne"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499675063,"creation_date":1499675063,"answer_id":45007123,"question_id":12209801,"body_markdown":"I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions\r\n\r\n    public File changeExtension(File file, String extension) {\r\n\t\tString filename = file.getName();\r\n\t\t\r\n\t\tif (filename.contains(&quot;.&quot;)) {\r\n\t\t\tfilename = filename.substring(0, filename.lastIndexOf(&#39;.&#39;));\r\n\t\t}\r\n\t\tfilename += &quot;.&quot; + extension;\r\n\r\n        file.renameTo(new File(file.getParentFile(), filename));\r\n\t\treturn file;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/aaa.bbb.ccc&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/aaa.bbb.txt&quot;)));\r\n\t\t\r\n\t\tassertThat(changeExtension(new File(&quot;C:/a/test&quot;), &quot;txt&quot;), \r\n\t\t\t\t\t\t\t\tis(new File(&quot;C:/a/test.txt&quot;)));\r\n\t}","title":"How to change file extension at runtime in Java","body":"<p>I would check, if the file has an extension before changing. The solution below works also with files without extension or multiple extensions</p>\n\n<pre><code>public File changeExtension(File file, String extension) {\n    String filename = file.getName();\n\n    if (filename.contains(\".\")) {\n        filename = filename.substring(0, filename.lastIndexOf('.'));\n    }\n    filename += \".\" + extension;\n\n    file.renameTo(new File(file.getParentFile(), filename));\n    return file;\n}\n\n@Test\npublic void test() {\n    assertThat(changeExtension(new File(\"C:/a/aaa.bbb.ccc\"), \"txt\"), \n                            is(new File(\"C:/a/aaa.bbb.txt\")));\n\n    assertThat(changeExtension(new File(\"C:/a/test\"), \"txt\"), \n                            is(new File(\"C:/a/test.txt\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677286501,"creation_date":1560475765,"answer_id":56590333,"question_id":12209801,"body_markdown":"By the same logic as mentioned [@hsz][1], but instead simply use replacement:\r\n\r\n    File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \r\n    String str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \r\n    file.renameTo(new File(str)); \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12209877/8370915","title":"How to change file extension at runtime in Java","body":"<p>By the same logic as mentioned <a href=\"https://stackoverflow.com/a/12209877/8370915\">@hsz</a>, but instead simply use replacement:</p>\n<pre><code>File file  = new File(&quot;fileName.fileExtension&quot;); // creating object of File \nString str = file.getPath().replace(&quot;.fileExtension&quot;, &quot;.zip&quot;); // replacing extension to another \nfile.renameTo(new File(str)); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1649423000,"post_id":59546643,"comment_id":126878123,"body_markdown":"Files.move(file, Paths.get(newFilename), StandardCopyOption.REPLACE_EXISTING); instead of Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));","body":"Files.move(file, Paths.get(newFilename), StandardCopyOption.REPLACE_EXISTING); instead of Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));"}],"tags":[],"owner":{"account_id":1332075,"reputation":179,"user_id":1275743,"display_name":"Mr. Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577811845,"creation_date":1577810857,"answer_id":59546643,"question_id":12209801,"body_markdown":"I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.\r\n\r\n    public void changeExtension(Path file, String extension) throws IOException {\r\n        String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\r\n        Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\r\n    }\r\n","title":"How to change file extension at runtime in Java","body":"<p>I want to avoid the new extension just happening to be in the path or filename itself. I like a combination of java.nio and apache StringFilenameUtils.</p>\n\n<pre><code>public void changeExtension(Path file, String extension) throws IOException {\n    String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;\n    Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1850004,"reputation":3735,"user_id":1676736,"accept_rate":80,"display_name":"Sayed Abolfazl Fatemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643544750,"creation_date":1643544750,"answer_id":70914512,"question_id":12209801,"body_markdown":"If you are using Kotlin you can use from this property of your `file` object:\r\n\r\n    file.nameWithoutExtension + &quot;extension&quot;","title":"How to change file extension at runtime in Java","body":"<p>If you are using Kotlin you can use from this property of your <code>file</code> object:</p>\n<pre><code>file.nameWithoutExtension + &quot;extension&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673142984,"post_id":75043376,"comment_id":132431732,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75043376/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27216228,"reputation":15,"user_id":20746213,"display_name":"Abheek Kumar Sarangi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673121412,"creation_date":1673121412,"answer_id":75043376,"question_id":12209801,"body_markdown":"My firend was working on a zipper in Java some 4 months back, I got this code from him.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class ZipFiles {\r\n    \r\n    List&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\r\n        String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\r\n        \r\n        File dir = new File(&quot;/Users/pankaj/tmp&quot;);\r\n        String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\r\n        \r\n        zipSingleFile(file, zipFileName);\r\n        \r\n        ZipFiles zipFiles = new ZipFiles();\r\n        zipFiles.zipDirectory(dir, zipDirName);\r\n    }\r\n\r\n    /**\r\n     * This method zips the directory\r\n     * @param dir\r\n     * @param zipDirName\r\n     */\r\n    private void zipDirectory(File dir, String zipDirName) {\r\n        try {\r\n            populateFilesList(dir);\r\n            //now zip files one by one\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipDirName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            for(String filePath : filesListInDir){\r\n                \r\n       System.out.println(&quot;Zipping &quot;+filePath);\r\n                //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\r\n                ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\r\n                zos.putNextEntry(ze);\r\n                //read the file and write to ZipOutputStream\r\n                FileInputStream fis = new FileInputStream(filePath);\r\n                byte[] buffer = new byte[1024];\r\n                int len;\r\n                while ((len = fis.read(buffer)) &gt; 0) {\r\n                    zos.write(buffer, 0, len);\r\n                }\r\n                zos.closeEntry();\r\n                fis.close();\r\n            }\r\n            zos.close();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n       }\r\n    \r\n    /**\r\n     * This method populates all the files in a directory to a List\r\n     * @param dir\r\n     * @throws IOException\r\n     */\r\n       private void populateFilesList(File dir) throws IOException {\r\n        File[] files = dir.listFiles();\r\n        for(File file : files){\r\n            if(file.isFile()) \r\n         filesListInDir.add(file.getAbsolutePath());\r\n            else \r\n     populateFilesList(file);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method compresses the single file to zip format\r\n     * @param file\r\n     * @param zipFileName\r\n     */\r\n    private static void zipSingleFile(File file, String zipFileName) {\r\n        try {\r\n            //create ZipOutputStream to write to the zip file\r\n            FileOutputStream fos = new FileOutputStream(zipFileName);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n            //add a new Zip Entry to the ZipOutputStream\r\n            ZipEntry ze = new ZipEntry(file.getName());\r\n            zos.putNextEntry(ze);\r\n            //read the file and write to ZipOutputStream\r\n            FileInputStream fis = new FileInputStream(file);\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = fis.read(buffer)) &gt; 0) {\r\n                zos.write(buffer, 0, len);\r\n            }\r\n            \r\n            //Close the zip entry to write to zip file\r\n            zos.closeEntry();\r\n            //Close resources\r\n            zos.close();\r\n            fis.close();\r\n            fos.close();\r\n            \r\n        System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nI haven&#39;t tried it personally, but he and also some of my other friends told me that it works.","title":"How to change file extension at runtime in Java","body":"<p>My firend was working on a zipper in Java some 4 months back, I got this code from him.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipFiles {\n\nList&lt;String&gt; filesListInDir = new ArrayList&lt;String&gt;();\n\npublic static void main(String[] args) {\n    File file = new File(&quot;/Users/pankaj/sitemap.xml&quot;);\n    String zipFileName = &quot;/Users/pankaj/sitemap.zip&quot;;\n    \n    File dir = new File(&quot;/Users/pankaj/tmp&quot;);\n    String zipDirName = &quot;/Users/pankaj/tmp.zip&quot;;\n    \n    zipSingleFile(file, zipFileName);\n    \n    ZipFiles zipFiles = new ZipFiles();\n    zipFiles.zipDirectory(dir, zipDirName);\n}\n\n/**\n * This method zips the directory\n * @param dir\n * @param zipDirName\n */\nprivate void zipDirectory(File dir, String zipDirName) {\n    try {\n        populateFilesList(dir);\n        //now zip files one by one\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipDirName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        for(String filePath : filesListInDir){\n            \n   System.out.println(&quot;Zipping &quot;+filePath);\n            //for ZipEntry we need to keep only relative file path, so we used substring on absolute path\n            ZipEntry ze = new ZipEntry(filePath.substring(dir.getAbsolutePath().length()+1, filePath.length()));\n            zos.putNextEntry(ze);\n            //read the file and write to ZipOutputStream\n            FileInputStream fis = new FileInputStream(filePath);\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = fis.read(buffer)) &gt; 0) {\n                zos.write(buffer, 0, len);\n            }\n            zos.closeEntry();\n            fis.close();\n        }\n        zos.close();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n   }\n\n/**\n * This method populates all the files in a directory to a List\n * @param dir\n * @throws IOException\n */\n   private void populateFilesList(File dir) throws IOException {\n    File[] files = dir.listFiles();\n    for(File file : files){\n        if(file.isFile()) \n     filesListInDir.add(file.getAbsolutePath());\n        else \n populateFilesList(file);\n    }\n}\n\n/**\n * This method compresses the single file to zip format\n * @param file\n * @param zipFileName\n */\nprivate static void zipSingleFile(File file, String zipFileName) {\n    try {\n        //create ZipOutputStream to write to the zip file\n        FileOutputStream fos = new FileOutputStream(zipFileName);\n        ZipOutputStream zos = new ZipOutputStream(fos);\n        //add a new Zip Entry to the ZipOutputStream\n        ZipEntry ze = new ZipEntry(file.getName());\n        zos.putNextEntry(ze);\n        //read the file and write to ZipOutputStream\n        FileInputStream fis = new FileInputStream(file);\n        byte[] buffer = new byte[1024];\n        int len;\n        while ((len = fis.read(buffer)) &gt; 0) {\n            zos.write(buffer, 0, len);\n        }\n        \n        //Close the zip entry to write to zip file\n        zos.closeEntry();\n        //Close resources\n        zos.close();\n        fis.close();\n        fos.close();\n        \n    System.out.println(file.getCanonicalPath()+&quot; is zipped to &quot;+zipFileName);\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n}\n</code></pre>\n<p>I haven't tried it personally, but he and also some of my other friends told me that it works.</p>\n"}],"owner":{"account_id":1754862,"reputation":327,"user_id":1603140,"accept_rate":50,"display_name":"rahul0789"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72784,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":8,"score":21,"last_activity_date":1677286501,"creation_date":1346393604,"question_id":12209801,"body_markdown":"I am trying to implement program to zip and unzip a file. All I want to do is to zip a **file (fileName.fileExtension)** with name as **fileName.zip** and on unzipping change it again to **fileName.fileExtension**.\r\n","title":"How to change file extension at runtime in Java","body":"<p>I am trying to implement program to zip and unzip a file. All I want to do is to zip a <strong>file (fileName.fileExtension)</strong> with name as <strong>fileName.zip</strong> and on unzipping change it again to <strong>fileName.fileExtension</strong>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":0,"creation_date":1677219127,"post_id":75553124,"comment_id":133298275,"body_markdown":"Can you please provide a minimal, reproducible example? \nhttps://stackoverflow.com/help/minimal-reproducible-example","body":"Can you please provide a minimal, reproducible example?  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222852,"post_id":75553124,"comment_id":133298901,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1677222891,"post_id":75553124,"comment_id":133298908,"body_markdown":"[Please add a minimal, complete, and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Please add a minimal, complete, and verifiable example</a>"}],"answers":[{"comments":[{"owner":{"account_id":10836932,"reputation":3,"user_id":7969627,"display_name":"Shridhar"},"score":0,"creation_date":1677223885,"post_id":75553237,"comment_id":133299091,"body_markdown":"After adding jakarta.xml.ws dependency it worked for me.","body":"After adding jakarta.xml.ws dependency it worked for me."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1677224485,"post_id":75553237,"comment_id":133299217,"body_markdown":"Then please mark the answer as accepted to complete this issue","body":"Then please mark the answer as accepted to complete this issue"}],"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677220059,"creation_date":1677220059,"answer_id":75553237,"question_id":75553124,"body_markdown":"Seems that you have no `jakarta/xml/ws/WebServiceException` class definition in Java Runtime.\r\n\r\nStill, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through `Class.forName`) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr like this for Gradle\r\n\r\n```\r\ncompile group: &#39;jakarta.xml.ws&#39;, name: &#39;jakarta.xml.ws-api&#39;, version: &#39;3.0.1&#39;\r\n```\r\n\r\nP.S: I have noticed the `jakarta` package, I&#39;m guessing you are in the process of transitioning from `javax` to `jakarta`, if so, you may find [this SO post][1] useful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<p>Seems that you have no <code>jakarta/xml/ws/WebServiceException</code> class definition in Java Runtime.</p>\n<p>Still, you managed to compile this, which means either this class is not needed during the compilation process (for instance loaded through <code>Class.forName</code>) or it is marked as compile time only. I do not know what build tool you are using, but it seems you need to put declare dependency like this for Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or like this for Gradle</p>\n<pre><code>compile group: 'jakarta.xml.ws', name: 'jakarta.xml.ws-api', version: '3.0.1'\n</code></pre>\n<p>P.S: I have noticed the <code>jakarta</code> package, I'm guessing you are in the process of transitioning from <code>javax</code> to <code>jakarta</code>, if so, you may find <a href=\"https://stackoverflow.com/questions/72159654/migrate-from-javax-to-jakarta-ee\">this SO post</a> useful.</p>\n"}],"owner":{"account_id":10836932,"reputation":3,"user_id":7969627,"display_name":"Shridhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1677310865,"accepted_answer_id":75553237,"answer_count":1,"score":-2,"last_activity_date":1677285032,"creation_date":1677218869,"question_id":75553124,"body_markdown":"```\r\norg.apache.catalina.connector.RequestFacade@2f6791f5\r\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\r\n\tat com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\r\n\tat com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\r\n\tat com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\r\n\tat com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\r\n\tat com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\r\n\tat com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\r\n\tat com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\r\n\tat javax.xml.ws.Service.getPort(Service.java:169)\r\n\r\n```\r\nI&#39;m trying to run my Batch application  during this I want to connect to another application via some property file.","title":"Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException","body":"<pre><code>org.apache.catalina.connector.RequestFacade@2f6791f5\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: jakarta/xml/ws/WebServiceException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.getFICodec(SOAPBindingCodec.java:491)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:183)\n    at com.sun.xml.ws.encoding.SOAPBindingCodec.&lt;init&gt;(SOAPBindingCodec.java:164)\n    at com.sun.xml.ws.api.pipe.Codecs.createSOAPBindingCodec(Codecs.java:73)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:96)\n    at com.sun.xml.ws.api.message.MessageContextFactory.&lt;init&gt;(MessageContextFactory.java:82)\n    at com.oracle.webservices.api.message.MessageContextFactory.&lt;clinit&gt;(MessageContextFactory.java:57)\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt;(DatabindingImpl.java:104)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:74)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create(DatabindingProviderImpl.java:58)\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime(DatabindingFactoryImpl.java:120)\n    at com.sun.xml.ws.client.WSServiceDelegate.buildRuntimeModel(WSServiceDelegate.java:882)\n    at com.sun.xml.ws.client.WSServiceDelegate.createSEIPortInfo(WSServiceDelegate.java:899)\n    at com.sun.xml.ws.client.WSServiceDelegate.addSEI(WSServiceDelegate.java:862)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:451)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:420)\n    at com.sun.xml.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:402)\n    at javax.xml.ws.Service.getPort(Service.java:169)\n\n</code></pre>\n<p>I'm trying to run my Batch application  during this I want to connect to another application via some property file.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677285836,"post_id":75562516,"comment_id":133314128,"body_markdown":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is https://developer.android.com/training/permissions/requesting and https://github.com/android/camera-samples","body":"Link to tutorial? Or at least a section of code and document which OpenCV library you are using? Otherwise there is <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a> and <a href=\"https://github.com/android/camera-samples\" rel=\"nofollow noreferrer\">github.com/android/camera-samples</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677284550,"creation_date":1677284550,"question_id":75562516,"body_markdown":"I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator\r\n\r\nI followed some comments and added \r\n\r\n`mOpenCvCameraView.setCameraPermissionGranted();`\r\n\r\n\r\nNow I get the error `It seems that your device does not support camera(or it is locked)`\r\n\r\nI found some solutions here https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked but I don&#39;t know how to implement them\r\n\r\nI was able to do it by enabling the camera permissions manually in the emulator&#39;s phone settings for my app, however I would like it to request permissions on its own \r\n\r\nThe answer, `It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.`\r\n\r\nWhere do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the `OnCreate` function. \r\n\r\n","title":"Android Studio. It seems that your device does not support camera(or it is locked)","body":"<p>I am following this tutorial to add opencv and camera support to a new app in Android Studio in Java using Android 11 and Pixel 4 as emulator</p>\n<p>I followed some comments and added</p>\n<p><code>mOpenCvCameraView.setCameraPermissionGranted();</code></p>\n<p>Now I get the error <code>It seems that your device does not support camera(or it is locked)</code></p>\n<p>I found some solutions here <a href=\"https://stackoverflow.com/questions/20666366/it-seems-that-your-device-does-not-support-cameraor-it-is-locked\">It seems that your device does not support camera(or it is locked)</a> but I don't know how to implement them</p>\n<p>I was able to do it by enabling the camera permissions manually in the emulator's phone settings for my app, however I would like it to request permissions on its own</p>\n<p>The answer, <code>It means that on Android 23 or above, besides the manifest, you need to request permission on runtime as well. In this case, camera access.</code></p>\n<p>Where do I add this code? Is this even Java code? I am getting so many undefined errors when trying to paste it in the <code>OnCreate</code> function.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677284260,"creation_date":1677284260,"answer_id":75562495,"question_id":75536104,"body_markdown":"After a little bit of experimenting I found out that `ApplicationListener` on `ContextClosedEvent` will always be executed before any `@PreDestroy` method or any bean&#39;s `destroyMethod` is called. I.e. `onApplicationEvent(ContextClosedEvent event)` is always called first.\r\n\r\nAn example is:\r\n\r\n    @Component\r\n    public class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\r\n        \r\n        @Autowired\r\n        private Server grpcServer;\r\n        \r\n        /**\r\n         * This blocking code will be executed before any \r\n         * @PreDestroy method or bean&#39;s `destroyMethod` is called.\r\n         */\r\n        @Override\r\n        public void onApplicationEvent(ContextClosedEvent event) {\r\n            grpcServer.shutdown();\r\n            // don&#39;t forget to await for existing\r\n            // calls to finish before returning from this method\r\n        }\r\n    }\r\n\r\n","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>After a little bit of experimenting I found out that <code>ApplicationListener</code> on <code>ContextClosedEvent</code> will always be executed before any <code>@PreDestroy</code> method or any bean's <code>destroyMethod</code> is called. I.e. <code>onApplicationEvent(ContextClosedEvent event)</code> is always called first.</p>\n<p>An example is:</p>\n<pre><code>@Component\npublic class PriorityShutdownListener implements ApplicationListener&lt;ContextClosedEvent&gt; {\n    \n    @Autowired\n    private Server grpcServer;\n    \n    /**\n     * This blocking code will be executed before any \n     * @PreDestroy method or bean's `destroyMethod` is called.\n     */\n    @Override\n    public void onApplicationEvent(ContextClosedEvent event) {\n        grpcServer.shutdown();\n        // don't forget to await for existing\n        // calls to finish before returning from this method\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75562495,"answer_count":1,"score":1,"last_activity_date":1677284260,"creation_date":1677086284,"question_id":75536104,"body_markdown":"Springs allows to register multiple pre-destroy hooks using `@PreDestroy` annotation which is useful to clear resources.   \r\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either `@Bean(destroyMethod = &quot;shutdown&quot;)` or a separate method annotated with `@PreDestroy` for a more complex shutdown process.   \r\nWe also have multiple modules related to endpoints implementations (like modules for `gRPC` endpoints, `GraphQL` endpoints, `REST` endpoints).   \r\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:  \r\n1. Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: `gRPC`, `GraphQL`, `REST`.\r\n2. Only after step `1.` is fully finished we should trigger beans destruction methods (i.e. methods annotated with `@PreDestroy` and specified via `destroyMethod`).\r\n\r\nHow to correctly inject specific hook which is called before all other hooks for SIGTERM signal?   \r\n\r\nP.S. I assume that we might be using `@PreDestroy` incorrectly because the functionality we are looking for is `@PrePreDestroy` which sounds silly.\r\n\r\nSide note: `server.shutdown=graceful` isn&#39;t an option for us because we are using custom servers and not default embedded servers.  ","title":"How to register Springs SIGTERM graceful shutdown synchronous method before PreDestroy?","body":"<p>Springs allows to register multiple pre-destroy hooks using <code>@PreDestroy</code> annotation which is useful to clear resources.<br />\nWe have multiple different modules where each module is related to a different database connection. In each of those modules we define destroy method for each of such database connection using either <code>@Bean(destroyMethod = &quot;shutdown&quot;)</code> or a separate method annotated with <code>@PreDestroy</code> for a more complex shutdown process.<br />\nWe also have multiple modules related to endpoints implementations (like modules for <code>gRPC</code> endpoints, <code>GraphQL</code> endpoints, <code>REST</code> endpoints).<br />\nWe want to add graceful shutdown process for applications using those endpoints. By graceful shutdown I mean the flow like below:</p>\n<ol>\n<li>Shutdown endpoint servers first (i.e. reject any new connections, but await for the current connections to be finished). I.e. we need to shutdown and await for the shutdown process to be finished for the following endpoint servers: <code>gRPC</code>, <code>GraphQL</code>, <code>REST</code>.</li>\n<li>Only after step <code>1.</code> is fully finished we should trigger beans destruction methods (i.e. methods annotated with <code>@PreDestroy</code> and specified via <code>destroyMethod</code>).</li>\n</ol>\n<p>How to correctly inject specific hook which is called before all other hooks for SIGTERM signal?</p>\n<p>P.S. I assume that we might be using <code>@PreDestroy</code> incorrectly because the functionality we are looking for is <code>@PrePreDestroy</code> which sounds silly.</p>\n<p>Side note: <code>server.shutdown=graceful</code> isn't an option for us because we are using custom servers and not default embedded servers.</p>\n"},{"tags":["java","android-sqlite"],"answers":[{"comments":[{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677303043,"post_id":75553062,"comment_id":133315547,"body_markdown":"Run the app on a different Android phone and the problem went away. So it is a device issue. The DB is not the issue. Time for a hunt.","body":"Run the app on a different Android phone and the problem went away. So it is a device issue. The DB is not the issue. Time for a hunt."},{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677304041,"post_id":75553062,"comment_id":133315643,"body_markdown":"The main difference is the phone that does it correctly is API 31 and the one the doesn&#39;t do it correctly is API 30. The Locale settings are same for both.","body":"The main difference is the phone that does it correctly is API 31 and the one the doesn&#39;t do it correctly is API 30. The Locale settings are same for both."},{"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"score":0,"creation_date":1677545868,"post_id":75553062,"comment_id":133355523,"body_markdown":"Discovered the reason. Did not set android:allowBackup=&quot;false&quot;. So when I uninstalled, it kept the old DB in data and it used that. My app copies its DB to data upon first run. Always the little things.","body":"Discovered the reason. Did not set android:allowBackup=&quot;false&quot;. So when I uninstalled, it kept the old DB in data and it used that. My app copies its DB to data upon first run. Always the little things."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1677549192,"post_id":75553062,"comment_id":133356038,"body_markdown":"@tridiak congrats, that would not have been the easiest thing to spot.","body":"@tridiak congrats, that would not have been the easiest thing to spot."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677284182,"creation_date":1677218112,"answer_id":75553062,"question_id":75552527,"body_markdown":"&gt; Is this a limitation of java String or SQLiteQueryBuilder/Cursor?\r\n\r\nNo, (as below)\r\n\r\n&gt; Is there a way around it or will I have to go lower level?\r\n\r\nThe device&#39;s locale or how the data is inserted would appear to be the issue (see following demo).\r\n\r\nConsider this variation on your code:-\r\n\r\n    void logValRetrieval() {\r\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n        qb.setTables(TABLE_TEST);\r\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n        int row_counter = 0;\r\n        while (csr.moveToNext()) {\r\n            row_counter++;\r\n            for (String c: csr.getColumnNames()) {\r\n\r\n                int idx = csr.getColumnIndex(c);\r\n                Log.d(\r\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                + &quot;STR=&quot; + csr.getString(idx)\r\n                                + &quot;INT=&quot; + csr.getInt(idx)\r\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                + &quot;OTH=&quot; + csr.getString(idx)\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nAnd some invoking code:-\r\n\r\n        db = DBHelper.getInstance(this);\r\n\r\n        db.insert(&quot;The quick brown fox ....&quot;);\r\n        db.insert(&quot;Mary Annings Plesiosaur&quot;);\r\n        db.insert(&quot;~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-&quot;);\r\n        db.logValRetrieval();\r\n\r\nThe result output to the log being\r\n\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@909dd7OTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@8f4e6c4OTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@e2e29adOTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@328a4e2OTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@3574073OTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@dbbab30OTH=Mary Annings Plesiosaur\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n    2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:&#39;/?.&gt;,&lt;[]{}`=-\r\n\r\ni.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe full DBHelper code, in case you want to try it (if it works then the issue isn&#39;t the locale) :-\r\n\r\n    class DBHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;test.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        public static final  String TABLE_TEST = &quot;test&quot;;\r\n        public static final String TEST_COL_V1 = &quot;v1&quot;;\r\n        public static final String TEST_COL_V2 = &quot;v2&quot;;\r\n        public static final String TEST_COL_V3 = &quot;v3&quot;;\r\n        public static final String TEST_COL_V4 = &quot;v4&quot;;\r\n        public static final String TEST_COL_V5 = &quot;v5&quot;;\r\n        public static final String TEST_COL_V6 = &quot;v6&quot;;\r\n        private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\r\n                + TEST_COL_V1 +&quot; TEXT &quot;\r\n                + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\r\n                + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\r\n                + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\r\n                + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\r\n                + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\r\n                + &quot;)&quot;;\r\n    \r\n        private DBHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n        }\r\n    \r\n        private static DBHelper instance;\r\n        public static DBHelper getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = new DBHelper(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(TEST_CRTSQL);\r\n        }\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n    \r\n        }\r\n    \r\n        long insert(String val) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(TEST_COL_V1,val);\r\n            cv.put(TEST_COL_V2,val);\r\n            cv.put(TEST_COL_V3,val);\r\n            cv.put(TEST_COL_V4,val);\r\n            cv.put(TEST_COL_V5,val);\r\n            cv.put(TEST_COL_V6,val);\r\n            return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\r\n        }\r\n    \r\n        void logValRetrieval() {\r\n            SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n            qb.setTables(TABLE_TEST);\r\n            Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\r\n            int row_counter = 0;\r\n            while (csr.moveToNext()) {\r\n                row_counter++;\r\n                for (String c: csr.getColumnNames()) {\r\n    \r\n                    int idx = csr.getColumnIndex(c);\r\n                    Log.d(\r\n                            &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\r\n                                    + &quot;STR=&quot; + csr.getString(idx)\r\n                                    + &quot;INT=&quot; + csr.getInt(idx)\r\n                                    + &quot;DBL=&quot; + csr.getDouble(idx)\r\n                                    + &quot;NUM=&quot; +  csr.getString(idx)\r\n                                    + &quot;BLB=&quot; + csr.getBlob(idx)\r\n                                    + &quot;OTH=&quot; + csr.getString(idx)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NApiW.png","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<blockquote>\n<p>Is this a limitation of java String or SQLiteQueryBuilder/Cursor?</p>\n</blockquote>\n<p>No, (as below)</p>\n<blockquote>\n<p>Is there a way around it or will I have to go lower level?</p>\n</blockquote>\n<p>The device's locale or how the data is inserted would appear to be the issue (see following demo).</p>\n<p>Consider this variation on your code:-</p>\n<pre><code>void logValRetrieval() {\n    SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n    qb.setTables(TABLE_TEST);\n    Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n    int row_counter = 0;\n    while (csr.moveToNext()) {\n        row_counter++;\n        for (String c: csr.getColumnNames()) {\n\n            int idx = csr.getColumnIndex(c);\n            Log.d(\n                    &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                            + &quot;STR=&quot; + csr.getString(idx)\n                            + &quot;INT=&quot; + csr.getInt(idx)\n                            + &quot;DBL=&quot; + csr.getDouble(idx)\n                            + &quot;NUM=&quot; +  csr.getString(idx)\n                            + &quot;BLB=&quot; + csr.getBlob(idx)\n                            + &quot;OTH=&quot; + csr.getString(idx)\n            );\n        }\n    }\n}\n</code></pre>\n<p>And some invoking code:-</p>\n<pre><code>    db = DBHelper.getInstance(this);\n\n    db.insert(&quot;The quick brown fox ....&quot;);\n    db.insert(&quot;Mary Annings Plesiosaur&quot;);\n    db.insert(&quot;~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-&quot;);\n    db.logValRetrieval();\n</code></pre>\n<p>The result output to the log being</p>\n<pre><code>2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v1STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@98fd0f5OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v2STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@664ce8aOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v3STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8962cfbOTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v4STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@ec7d118OTH=The quick brown fox ....\n2023-02-24 16:48:03.852 D/ROW1: COLUMN IS v5STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@d598771OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW1: COLUMN IS v6STR=The quick brown fox ....INT=0DBL=0.0NUM=The quick brown fox ....BLB=[B@8c94956OTH=The quick brown fox ....\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v1STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@909dd7OTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v2STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@8f4e6c4OTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v3STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@e2e29adOTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v4STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@328a4e2OTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.853 D/ROW2: COLUMN IS v5STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@3574073OTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.854 D/ROW2: COLUMN IS v6STR=Mary Annings PlesiosaurINT=0DBL=0.0NUM=Mary Annings PlesiosaurBLB=[B@dbbab30OTH=Mary Annings Plesiosaur\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v1STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@e30b3a9OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v2STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@f302d2eOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.854 D/ROW3: COLUMN IS v3STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4db70cfOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v4STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@ce84a5cOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v5STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@4b7e165OTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n2023-02-24 16:48:03.855 D/ROW3: COLUMN IS v6STR=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-INT=0DBL=0.0NUM=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-BLB=[B@215ee3aOTH=~!@#$%^&amp;*()_+:'/?.&gt;,&lt;[]{}`=-\n</code></pre>\n<p>i.e. No losses. Perhaps use App Inspection to view what data is stored e.g. for the above:-</p>\n<p><a href=\"https://i.stack.imgur.com/NApiW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NApiW.png\" alt=\"enter image description here\" /></a></p>\n<p>The full DBHelper code, in case you want to try it (if it works then the issue isn't the locale) :-</p>\n<pre><code>class DBHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;test.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public static final  String TABLE_TEST = &quot;test&quot;;\n    public static final String TEST_COL_V1 = &quot;v1&quot;;\n    public static final String TEST_COL_V2 = &quot;v2&quot;;\n    public static final String TEST_COL_V3 = &quot;v3&quot;;\n    public static final String TEST_COL_V4 = &quot;v4&quot;;\n    public static final String TEST_COL_V5 = &quot;v5&quot;;\n    public static final String TEST_COL_V6 = &quot;v6&quot;;\n    private static final String TEST_CRTSQL = &quot;CREATE TABLE IF NOt EXISTS &quot; + TABLE_TEST + &quot;(&quot;\n            + TEST_COL_V1 +&quot; TEXT &quot;\n            + &quot;,&quot; + TEST_COL_V2 + &quot; INTEGER &quot;\n            + &quot;,&quot; + TEST_COL_V3 + &quot; REAL &quot;\n            + &quot;,&quot; + TEST_COL_V4 + &quot; NUMERIC&quot;\n            + &quot;,&quot; + TEST_COL_V5 + &quot; BLOB&quot;\n            + &quot;,&quot; + TEST_COL_V6 + &quot; ANOTHER&quot;\n            + &quot;)&quot;;\n\n    private DBHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n    private static DBHelper instance;\n    public static DBHelper getInstance(Context context) {\n        if (instance==null) {\n            instance = new DBHelper(context);\n        }\n        return instance;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(TEST_CRTSQL);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n\n    }\n\n    long insert(String val) {\n        ContentValues cv = new ContentValues();\n        cv.put(TEST_COL_V1,val);\n        cv.put(TEST_COL_V2,val);\n        cv.put(TEST_COL_V3,val);\n        cv.put(TEST_COL_V4,val);\n        cv.put(TEST_COL_V5,val);\n        cv.put(TEST_COL_V6,val);\n        return this.getWritableDatabase().insert(TABLE_TEST,null,cv);\n    }\n\n    void logValRetrieval() {\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n        qb.setTables(TABLE_TEST);\n        Cursor csr = qb.query(this.getWritableDatabase(),new String[]{TEST_COL_V1,TEST_COL_V2,TEST_COL_V3,TEST_COL_V4,TEST_COL_V5,TEST_COL_V6},null,null,null,null,null);\n        int row_counter = 0;\n        while (csr.moveToNext()) {\n            row_counter++;\n            for (String c: csr.getColumnNames()) {\n\n                int idx = csr.getColumnIndex(c);\n                Log.d(\n                        &quot;ROW&quot; + row_counter, &quot;COLUMN IS &quot; + c\n                                + &quot;STR=&quot; + csr.getString(idx)\n                                + &quot;INT=&quot; + csr.getInt(idx)\n                                + &quot;DBL=&quot; + csr.getDouble(idx)\n                                + &quot;NUM=&quot; +  csr.getString(idx)\n                                + &quot;BLB=&quot; + csr.getBlob(idx)\n                                + &quot;OTH=&quot; + csr.getString(idx)\n                );\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4684334,"reputation":27,"user_id":3792167,"display_name":"tridiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677284182,"creation_date":1677211566,"question_id":75552527,"body_markdown":"Problem with cursor.getString(). It strips the single quote and accented characters of their accent.&lt;br&gt;\r\nExample: Mary Annings Plesiosaur -&gt; Mary Annings Plesiosaur&lt;br&gt;\r\nKi Te Ao Mrama -&gt; Ki Te Ao Marama&lt;br&gt;\r\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.&lt;br&gt;\r\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?&lt;br&gt;\r\nIs there a way around it or will I have to go lower level?&lt;br&gt;\r\ngetBlob() returns ascii codes.&lt;br&gt;\r\n\r\n```\r\nSQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n\r\nqb.setTables(&quot;art&quot;);\r\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\r\nif (cursor == null) { closeDatabase(); return names;}\r\nif (cursor.getCount() &gt; 0) {\r\n\tcursor.moveToFirst();\r\n\tString s;\r\n\tdo {\r\n\t\ts = cursor.getString(0);\r\n\t\tbyte[] b = cursor.getBlob(0);\r\n\t\tString r = new String(b, StandardCharsets.);\r\n\t\tnames.add(s);\r\n\t} while (cursor.moveToNext());\r\n}\r\ncursor.close();\r\n```","title":"SQLiteQueryBuilder; cursor.getString() strips accents for characters","body":"<p>Problem with cursor.getString(). It strips the single quote and accented characters of their accent.<br>\nExample: Mary Annings Plesiosaur -&gt; Mary Annings Plesiosaur<br>\nKi Te Ao Mrama -&gt; Ki Te Ao Marama<br>\nThe strings are valid in the SQLite DB and iOS app I have reads them correctly.<br>\nIs this a limitation of java String or SQLiteQueryBuilder/Cursor?<br>\nIs there a way around it or will I have to go lower level?<br>\ngetBlob() returns ascii codes.<br></p>\n<pre><code>SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n\nqb.setTables(&quot;art&quot;);\ncursor = qb.query(artDB, new String[] {&quot;name&quot;}, null, null, null, null, null);\nif (cursor == null) { closeDatabase(); return names;}\nif (cursor.getCount() &gt; 0) {\n    cursor.moveToFirst();\n    String s;\n    do {\n        s = cursor.getString(0);\n        byte[] b = cursor.getBlob(0);\n        String r = new String(b, StandardCharsets.);\n        names.add(s);\n    } while (cursor.moveToNext());\n}\ncursor.close();\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":3,"creation_date":1580900481,"post_id":60074285,"comment_id":106247690,"body_markdown":"You can try checkstyle, failing the build will have to handled by your CI.","body":"You can try checkstyle, failing the build will have to handled by your CI."},{"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1580900586,"post_id":60074285,"comment_id":106247759,"body_markdown":"@ShivamMohan With spotless we can run the `./gradlew spotlessCheck` command either locally or on the CI to verify if the code is formatted according to the standard","body":"@ShivamMohan With spotless we can run the <code>.&#47;gradlew spotlessCheck</code> command either locally or on the CI to verify if the code is formatted according to the standard"},{"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"score":0,"creation_date":1580900919,"post_id":60074285,"comment_id":106247951,"body_markdown":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly.","body":"You would have the same capability with checkstyle, in you IDE as well, what I meant was you will have to define quality gates in your CI, which if violated will fail the build or report accordingly."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677283209,"creation_date":1580904808,"answer_id":60075600,"question_id":60074285,"body_markdown":"&gt; I&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory.\r\n\r\n\r\nSpotless allows you specify custom rules to fulfill your requirements: https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\r\n\r\n[Checkstyle](https://checkstyle.org/) is another a great tool to enforce formatting. It is used by the [Spring Framework](https://github.com/spring-io/spring-javaformat) team. It also has an [excellent plugin for IntelliJ](https://plugins.jetbrains.com/plugin/1065-checkstyle-idea).\r\n\r\nSo suggestion is either:\r\n\r\n1. Try writing custom rules for Spotless to fulfill your needs.\r\n2. If (1) is not satisfactory, explore using Checkstyle with custom checks.\r\n\r\n\r\n&gt;  If code is submitted that does not conform to the rules, the build should fail.\r\n\r\nThere are a couple ways you can handle this:\r\n\r\nWhichever format plugin you use, there is a associated `check` task. So for Spotless that would be `spotlessCheck` and Checkstyle is just `check`.\r\n\r\nYou can configure the `build` task to have a [task dependency](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks) on those tasks.\r\n\r\nAnother way is to have a check in your pipeline that invokes which check task you configure.","title":"How can I enforce a standard style for Java code?","body":"<blockquote>\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory.</p>\n</blockquote>\n<p>Spotless allows you specify custom rules to fulfill your requirements: <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-gradle#custom</a></p>\n<p><a href=\"https://checkstyle.org/\" rel=\"nofollow noreferrer\">Checkstyle</a> is another a great tool to enforce formatting. It is used by the <a href=\"https://github.com/spring-io/spring-javaformat\" rel=\"nofollow noreferrer\">Spring Framework</a> team. It also has an <a href=\"https://plugins.jetbrains.com/plugin/1065-checkstyle-idea\" rel=\"nofollow noreferrer\">excellent plugin for IntelliJ</a>.</p>\n<p>So suggestion is either:</p>\n<ol>\n<li>Try writing custom rules for Spotless to fulfill your needs.</li>\n<li>If (1) is not satisfactory, explore using Checkstyle with custom checks.</li>\n</ol>\n<blockquote>\n<p>If code is submitted that does not conform to the rules, the build should fail.</p>\n</blockquote>\n<p>There are a couple ways you can handle this:</p>\n<p>Whichever format plugin you use, there is a associated <code>check</code> task. So for Spotless that would be <code>spotlessCheck</code> and Checkstyle is just <code>check</code>.</p>\n<p>You can configure the <code>build</code> task to have a <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:adding_dependencies_to_tasks\" rel=\"nofollow noreferrer\">task dependency</a> on those tasks.</p>\n<p>Another way is to have a check in your pipeline that invokes which check task you configure.</p>\n"}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4332,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1677415852,"answer_count":1,"score":4,"last_activity_date":1677283209,"creation_date":1580900301,"question_id":60074285,"body_markdown":"I&#39;m trying to introduce a tool to standardise the format of our java code. The requirements are:\r\n\r\n - Required format should be the Oracle standard (or something very very similar)\r\n - Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)\r\n - Gradle integration. If code is submitted that does not conform to the rules, the build should fail.\r\n - Autofixing - reformatting code to conform to the rules via a (Gradle) command\r\n - IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. [EditorConfig][1] might be useful for this.\r\n\r\nI&#39;ve tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code\r\n\r\n    var token = Jwts.builder()\r\n            .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE)\r\n            .setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles)\r\n            .setAudience(SecurityConstants.TOKEN_AUDIENCE)\r\n            .setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow))\r\n            .addClaims(user.getClaims())\r\n            .compact();\r\n\r\nWill fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess\r\n\r\n    var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\r\n            .claim(&quot;rol&quot;, roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\r\n            .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\r\n\r\nSo effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?\r\n\r\n\r\n  [1]: https://editorconfig.org/","title":"How can I enforce a standard style for Java code?","body":"<p>I'm trying to introduce a tool to standardise the format of our java code. The requirements are:</p>\n\n<ul>\n<li>Required format should be the Oracle standard (or something very very similar)</li>\n<li>Multiline statements should be respected, i.e. if the user adds linebreaks to split a statement over multiple lines in the interest of readability, these should not be removed (see above)</li>\n<li>Gradle integration. If code is submitted that does not conform to the rules, the build should fail.</li>\n<li>Autofixing - reformatting code to conform to the rules via a (Gradle) command</li>\n<li>IDE integration - reformatting code to conform to the rules within IntelliJ, VSCode, etc. <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">EditorConfig</a> might be useful for this.</li>\n</ul>\n\n<p>I've tried using Spotless, but the way it formats multiline statements is very unsatisfactory. For example, the following code</p>\n\n<pre><code>var token = Jwts.builder()\n        .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE)\n        .setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles)\n        .setAudience(SecurityConstants.TOKEN_AUDIENCE)\n        .setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow))\n        .addClaims(user.getClaims())\n        .compact();\n</code></pre>\n\n<p>Will fail the Spotless checks and if ./gradlew spotlessApply is run, it will be reformatted to this hideous mess</p>\n\n<pre><code>var token = Jwts.builder().signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n        .setHeaderParam(\"typ\", SecurityConstants.TOKEN_TYPE).setIssuer(SecurityConstants.TOKEN_ISSUER)\n        .claim(\"rol\", roles).setAudience(SecurityConstants.TOKEN_AUDIENCE).setSubject(user.getUsername())\n        .setExpiration(Timestamp.valueOf(tomorrow)).addClaims(user.getClaims()).compact();\n</code></pre>\n\n<p>So effectively, Spotless is behaving almost like an obfuscator. Is there a tool available that can satisfy most/all of the above requirements?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1639648726,"post_id":70376339,"comment_id":124404696,"body_markdown":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never.","body":"Why are you serializing a class whose structure can merely change from version to version or can be different between different JDK/JRE implementations breaking your design completely? You have no control over it at all. Gson, by design, uses reflection for objects it is not aware of (no special type adapters registered), thus it simply iterates through all object fields regardless they are public or private. Private stuff of a foreign library is never meant to be serialized like this. Never."},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1639677027,"post_id":70376339,"comment_id":124416180,"body_markdown":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no.","body":"We have two services. When A calls B, B can throw an exception. I serialize it and pass it back to A, so A can include it as the cause of the exception it throws. It&#39;s useful for investigating crashes; I didn&#39;t realise this was such a no-no."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":3,"creation_date":1639686378,"post_id":70376339,"comment_id":124419396,"body_markdown":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of `Throwable`s.","body":"Yeah, I understand the purpose, but you need your own data transfer objects (DTO) to carry the exceptions data, so that your DTOs are fully controlled by you and you decide what data should be taken from exceptions that may have more private fields than I even think of (private fields, package-private or private classes, various references or circular references, etc). It will require some code to map from exes to DTOs (and then back to exes if necessary), but then you will never run into such issues using only public API of <code>Throwable</code>s."}],"answers":[{"tags":[],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641945322,"creation_date":1641945322,"answer_id":70674804,"question_id":70376339,"body_markdown":"Here&#39;s the code I added to de/serialize exceptions. This can be used in a class like this:\r\n\r\n```\r\npublic class Result {\r\n    public final Object result;\r\n    public final Error error;\r\n\r\n    public Result(Object result) { ... }\r\n\r\n    public Result(Exception e) {\r\n        this.result = null;\r\n        this.error = new Error(e);\r\n    }\r\n}\r\n```\r\n\r\nAnd the on the other, call `result.error.toThrowable()`.\r\n\r\n    public static class Error {\r\n        public final String message;\r\n        public final List&lt;STE&gt; stackTrace;\r\n        public final Error cause;\r\n\r\n        public Error(Throwable e) {\r\n            message = e.getMessage();\r\n            stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\r\n            cause = e.getCause() != null ? new Error(e.getCause()) : null;\r\n        }\r\n\r\n        public Throwable toThrowable() {\r\n            Throwable t = new Throwable(message);\r\n            t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\r\n            if (cause != null) {\r\n                t.initCause(cause.toThrowable());\r\n            }\r\n            return t;\r\n        }\r\n\r\n        private static class STE {\r\n            public final String declaringClass;\r\n            public final String methodName;\r\n            public final String fileName;\r\n            public final int    lineNumber;\r\n\r\n            public STE(StackTraceElement ste) {\r\n                this.declaringClass = ste.getClassName();\r\n                this.methodName = ste.getMethodName();\r\n                this.fileName = ste.getFileName();\r\n                this.lineNumber = ste.getLineNumber();\r\n            }\r\n\r\n            public StackTraceElement toStackTraceElement() {\r\n                return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\r\n            }\r\n        }\r\n    }\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>Here's the code I added to de/serialize exceptions. This can be used in a class like this:</p>\n<pre><code>public class Result {\n    public final Object result;\n    public final Error error;\n\n    public Result(Object result) { ... }\n\n    public Result(Exception e) {\n        this.result = null;\n        this.error = new Error(e);\n    }\n}\n</code></pre>\n<p>And the on the other, call <code>result.error.toThrowable()</code>.</p>\n<pre><code>public static class Error {\n    public final String message;\n    public final List&lt;STE&gt; stackTrace;\n    public final Error cause;\n\n    public Error(Throwable e) {\n        message = e.getMessage();\n        stackTrace = Arrays.stream(e.getStackTrace()).map(STE::new).collect(Collectors.toList());\n        cause = e.getCause() != null ? new Error(e.getCause()) : null;\n    }\n\n    public Throwable toThrowable() {\n        Throwable t = new Throwable(message);\n        t.setStackTrace(stackTrace.stream().map(STE::toStackTraceElement).toArray(StackTraceElement[]::new));\n        if (cause != null) {\n            t.initCause(cause.toThrowable());\n        }\n        return t;\n    }\n\n    private static class STE {\n        public final String declaringClass;\n        public final String methodName;\n        public final String fileName;\n        public final int    lineNumber;\n\n        public STE(StackTraceElement ste) {\n            this.declaringClass = ste.getClassName();\n            this.methodName = ste.getMethodName();\n            this.fileName = ste.getFileName();\n            this.lineNumber = ste.getLineNumber();\n        }\n\n        public StackTraceElement toStackTraceElement() {\n            return new StackTraceElement(declaringClass, methodName, fileName, lineNumber);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895909,"reputation":151,"user_id":3224962,"display_name":"Matt McEwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644207792,"creation_date":1644207792,"answer_id":71013464,"question_id":70376339,"body_markdown":"I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.\r\n\r\nI think it&#39;s because of this: https://bugs.openjdk.java.net/browse/JDK-8256358\r\n\r\nI am lazy and using the GSON default reflection type adapter.\r\n\r\nYou have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.\r\n","title":"GSON unable to serialize exception with Java 17","body":"<p>I had this yesterday. I was using Java 17. I went back to Java 11 and it worked fine.</p>\n<p>I think it's because of this: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256358\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8256358</a></p>\n<p>I am lazy and using the GSON default reflection type adapter.</p>\n<p>You have to implement your own TypeAdapter to fix it. Or perhaps use another JSON deserializer like Jackson, which I might do later.</p>\n"},{"comments":[{"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"score":0,"creation_date":1677283219,"post_id":75306118,"comment_id":133313870,"body_markdown":"that didn&#39;t help with the issue","body":"that didn&#39;t help with the issue"}],"tags":[],"owner":{"account_id":10755509,"reputation":362,"user_id":7913588,"display_name":"Chameera W. Ashan"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1675230540,"creation_date":1675230540,"answer_id":75306118,"question_id":70376339,"body_markdown":"Try with the latest release. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[https://mvnrepository.com/artifact/com.google.code.gson/gson][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"GSON unable to serialize exception with Java 17","body":"<p>Try with the latest release.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.code.gson/gson</a></p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9203,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":70674804,"answer_count":3,"score":8,"last_activity_date":1677283179,"creation_date":1639645449,"question_id":70376339,"body_markdown":"The following code used to work on Java 11:\r\n\r\n```\r\nnew Gson().toJson(new Exception())\r\n```\r\n\r\nOn JDK 17 I get the following error:\r\n\r\n```\r\nUnable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\r\n```\r\n\r\nFrom reading [this page][1], I think I could resolve it with `--add-opens java.base/java.lang=ALL-UNNAMED`. Is there a better way however? Perhaps with a custom de/serializer? \r\n\r\n\r\n  [1]: https://github.com/google/gson/issues/1875","title":"GSON unable to serialize exception with Java 17","body":"<p>The following code used to work on Java 11:</p>\n<pre><code>new Gson().toJson(new Exception())\n</code></pre>\n<p>On JDK 17 I get the following error:</p>\n<pre><code>Unable to make field private java.lang.String java.lang.Throwable.detailMessage accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @147ed70f\n</code></pre>\n<p>From reading <a href=\"https://github.com/google/gson/issues/1875\" rel=\"noreferrer\">this page</a>, I think I could resolve it with <code>--add-opens java.base/java.lang=ALL-UNNAMED</code>. Is there a better way however? Perhaps with a custom de/serializer?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9605,"page":620,"page_size":100}
