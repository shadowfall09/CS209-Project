{"items":[{"tags":["java","frontend","zk","zul"],"answers":[{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674046298,"creation_date":1674046298,"answer_id":75159514,"question_id":75158987,"body_markdown":"So, I am solving my own question. Correct me if I am wrong:\r\n\r\nThe feature of composing `.zul` files is reserved for ZK Enterprise Edition, which is proprietary software. Those features, are included in the ZK library `zuti.jar`, that you could find outdated on the Internet.","title":"Image not being included in webpage when using component composition","body":"<p>So, I am solving my own question. Correct me if I am wrong:</p>\n<p>The feature of composing <code>.zul</code> files is reserved for ZK Enterprise Edition, which is proprietary software. Those features, are included in the ZK library <code>zuti.jar</code>, that you could find outdated on the Internet.</p>\n"},{"tags":[],"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674204124,"creation_date":1674204124,"answer_id":75181569,"question_id":75158987,"body_markdown":"The main issue I see in your code is that you encounter a small trap with the `&lt;include&gt;` component. `&lt;include&gt;` requires the `src` attribute to target the included page.\r\n\r\nThe `include` component will accept arbitrary named attributes, and pass them to the included page.\r\nIn this case, you are creating empty includes (empty because they don&#39;t have the `src=&quot;...&quot;` attribute, with arbitrary named parameters which use the &quot;templateURI&quot; name.\r\n\r\nThe `templateURI` name is specific to the `&lt;apply&gt;` shadow element, which can also be used for composition, and have different properties than `include`.\r\n(In short, the `apply` element will inject components directly in the outer page, while `include` will create a separate execution context for the inner page)\r\n\r\nIn regard to availability:\r\n`&lt;include&gt;` is in the base (open source) ZK packages\r\n`&lt;apply&gt;` is part of the ZK EE (enterprise edition) suite of addons (zuti.jar) specifically.\r\n\r\nAlso, it looks like your include to banner.zul is missing the .zul:\r\n\r\n    &lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\r\n    &lt;include src=&quot;~./zul/banner.zul&quot;/&gt;\r\n\r\nHope that clarifies it :)","title":"Image not being included in webpage when using component composition","body":"<p>The main issue I see in your code is that you encounter a small trap with the <code>&lt;include&gt;</code> component. <code>&lt;include&gt;</code> requires the <code>src</code> attribute to target the included page.</p>\n<p>The <code>include</code> component will accept arbitrary named attributes, and pass them to the included page.\nIn this case, you are creating empty includes (empty because they don't have the <code>src=&quot;...&quot;</code> attribute, with arbitrary named parameters which use the &quot;templateURI&quot; name.</p>\n<p>The <code>templateURI</code> name is specific to the <code>&lt;apply&gt;</code> shadow element, which can also be used for composition, and have different properties than <code>include</code>.\n(In short, the <code>apply</code> element will inject components directly in the outer page, while <code>include</code> will create a separate execution context for the inner page)</p>\n<p>In regard to availability:\n<code>&lt;include&gt;</code> is in the base (open source) ZK packages\n<code>&lt;apply&gt;</code> is part of the ZK EE (enterprise edition) suite of addons (zuti.jar) specifically.</p>\n<p>Also, it looks like your include to banner.zul is missing the .zul:</p>\n<pre><code>&lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\n&lt;include src=&quot;~./zul/banner.zul&quot;/&gt;\n</code></pre>\n<p>Hope that clarifies it :)</p>\n"}],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674204124,"creation_date":1674043566,"question_id":75158987,"body_markdown":"I am starting to work with ZK framework and I am currently stuck trying to display images in my page from the [first chapters of the ZK essentials documentation](http://books.zkoss.org/zkessentials-book/master/) where you create an example UI by using composition of different `.zul` files from the main `.zul` file `index.zul` . Here is how the code looks like:\r\n\r\nThe main `index.zul`\r\n```XML\r\n&lt;?link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;~./style.css&quot;?&gt;\r\n&lt;zk&gt;\r\n    &lt;custom-attributes org.zkoss.zul.image.preload=&quot;true&quot;/&gt;\r\n    &lt;borderlayout hflex=&quot;1&quot; vflex=&quot;1&quot;&gt;\r\n        &lt;north vflex=&quot;min&quot; border=&quot;none&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\r\n        &lt;/north&gt;\r\n        &lt;west width=&quot;260px&quot; border=&quot;none&quot; collapsible=&quot;true&quot; splittable=&quot;true&quot; minsize=&quot;300&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/sidebar.zul&quot;/&gt;\r\n        &lt;/west&gt;\r\n        &lt;center id=&quot;mainContent&quot; autoscroll=&quot;true&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/main.zul&quot;/&gt;\r\n        &lt;/center&gt;\r\n        &lt;south border=&quot;none&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/footer.zul&quot;/&gt;\r\n        &lt;/south&gt;\r\n    &lt;/borderlayout&gt;\r\n&lt;/zk&gt;\r\n```\r\n\r\nA component `banner.zul`\r\n```XML\r\n&lt;div hflex=&quot;1&quot; sclass=&quot;banner&quot;&gt;\r\n    &lt;hbox hflex=&quot;1&quot; align=&quot;center&quot;&gt;\r\n        &lt;a href=&quot;http://www.zkoss.org/&quot;&gt;\r\n            &lt;image src=&quot;~./img/zklogo.png&quot; width=&quot;90px&quot; /&gt;\r\n        &lt;/a&gt;\r\n        &lt;div width=&quot;400px&quot;&gt;\r\n            &lt;label value=&quot;Application Name&quot; sclass=&quot;banner-head&quot; /&gt;\r\n        &lt;/div&gt;\r\n        &lt;hbox hflex=&quot;1&quot; vflex=&quot;1&quot; pack=&quot;end&quot; align=&quot;end&quot;&gt;\r\n            Anonymous\r\n        &lt;/hbox&gt;\r\n    &lt;/hbox&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThe relevant file structure of my project looks like this:\r\n\r\n[![file structure of the project around zul files][1]][1]\r\n\r\n\r\nI am able to do the composition since my page actually displays the elements that I defined in the component `.zul` files. Here is the image:\r\n\r\n[![display of the page with format byut no images being displayed][2]][2]\r\n\r\n\r\nThe problem is that images do not appear. I inspected the page and images are not even in the source code of the page. \r\n\r\nNo errors or warning are shown in the server console when loading the page. \r\n\r\nBut, if I include the image directly in `index.zul` instead of using composition, the image are displayed perfectly and, of course, image files are included in source code of the page (the elements you see when inspecting element in the browser):\r\n\r\nModified `index.zul`:\r\n```XML\r\n&lt;?link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;~./style.css&quot;?&gt;\r\n&lt;zk&gt;\r\n    &lt;custom-attributes org.zkoss.zul.image.preload=&quot;true&quot;/&gt;\r\n    &lt;borderlayout hflex=&quot;1&quot; vflex=&quot;1&quot;&gt;\r\n        &lt;north vflex=&quot;min&quot; border=&quot;none&quot;&gt;\r\n            &lt;image src=&quot;~./img/zklogo.png&quot; width=&quot;90px&quot; /&gt;\r\n            &lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\r\n        &lt;/north&gt;\r\n        &lt;west width=&quot;260px&quot; border=&quot;none&quot; collapsible=&quot;true&quot; splittable=&quot;true&quot; minsize=&quot;300&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/sidebar.zul&quot;/&gt;\r\n        &lt;/west&gt;\r\n        &lt;center id=&quot;mainContent&quot; autoscroll=&quot;true&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/main.zul&quot;/&gt;\r\n        &lt;/center&gt;\r\n        &lt;south border=&quot;none&quot;&gt;\r\n            &lt;include templateURI=&quot;~./zul/footer.zul&quot;/&gt;\r\n        &lt;/south&gt;\r\n    &lt;/borderlayout&gt;\r\n&lt;/zk&gt;\r\n```\r\n\r\nAnd now I see this in the page: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI hope that someone can explain me why image are being displayed when being included directly in the top component, but not working when they are included in a component. I do not know what I am doing wrong.\r\n\r\nI am using Java 8, ZK 8.6.0.1 CE (build: 2018112010) and Spring Boot \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/smMWm.png\r\n  [2]: https://i.stack.imgur.com/vTGXg.png\r\n  [3]: https://i.stack.imgur.com/lj5hd.png","title":"Image not being included in webpage when using component composition","body":"<p>I am starting to work with ZK framework and I am currently stuck trying to display images in my page from the <a href=\"http://books.zkoss.org/zkessentials-book/master/\" rel=\"nofollow noreferrer\">first chapters of the ZK essentials documentation</a> where you create an example UI by using composition of different <code>.zul</code> files from the main <code>.zul</code> file <code>index.zul</code> . Here is how the code looks like:</p>\n<p>The main <code>index.zul</code></p>\n<pre><code>&lt;?link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;~./style.css&quot;?&gt;\n&lt;zk&gt;\n    &lt;custom-attributes org.zkoss.zul.image.preload=&quot;true&quot;/&gt;\n    &lt;borderlayout hflex=&quot;1&quot; vflex=&quot;1&quot;&gt;\n        &lt;north vflex=&quot;min&quot; border=&quot;none&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\n        &lt;/north&gt;\n        &lt;west width=&quot;260px&quot; border=&quot;none&quot; collapsible=&quot;true&quot; splittable=&quot;true&quot; minsize=&quot;300&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/sidebar.zul&quot;/&gt;\n        &lt;/west&gt;\n        &lt;center id=&quot;mainContent&quot; autoscroll=&quot;true&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/main.zul&quot;/&gt;\n        &lt;/center&gt;\n        &lt;south border=&quot;none&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/footer.zul&quot;/&gt;\n        &lt;/south&gt;\n    &lt;/borderlayout&gt;\n&lt;/zk&gt;\n</code></pre>\n<p>A component <code>banner.zul</code></p>\n<pre><code>&lt;div hflex=&quot;1&quot; sclass=&quot;banner&quot;&gt;\n    &lt;hbox hflex=&quot;1&quot; align=&quot;center&quot;&gt;\n        &lt;a href=&quot;http://www.zkoss.org/&quot;&gt;\n            &lt;image src=&quot;~./img/zklogo.png&quot; width=&quot;90px&quot; /&gt;\n        &lt;/a&gt;\n        &lt;div width=&quot;400px&quot;&gt;\n            &lt;label value=&quot;Application Name&quot; sclass=&quot;banner-head&quot; /&gt;\n        &lt;/div&gt;\n        &lt;hbox hflex=&quot;1&quot; vflex=&quot;1&quot; pack=&quot;end&quot; align=&quot;end&quot;&gt;\n            Anonymous\n        &lt;/hbox&gt;\n    &lt;/hbox&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The relevant file structure of my project looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/smMWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smMWm.png\" alt=\"file structure of the project around zul files\" /></a></p>\n<p>I am able to do the composition since my page actually displays the elements that I defined in the component <code>.zul</code> files. Here is the image:</p>\n<p><a href=\"https://i.stack.imgur.com/vTGXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vTGXg.png\" alt=\"display of the page with format byut no images being displayed\" /></a></p>\n<p>The problem is that images do not appear. I inspected the page and images are not even in the source code of the page.</p>\n<p>No errors or warning are shown in the server console when loading the page.</p>\n<p>But, if I include the image directly in <code>index.zul</code> instead of using composition, the image are displayed perfectly and, of course, image files are included in source code of the page (the elements you see when inspecting element in the browser):</p>\n<p>Modified <code>index.zul</code>:</p>\n<pre><code>&lt;?link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;~./style.css&quot;?&gt;\n&lt;zk&gt;\n    &lt;custom-attributes org.zkoss.zul.image.preload=&quot;true&quot;/&gt;\n    &lt;borderlayout hflex=&quot;1&quot; vflex=&quot;1&quot;&gt;\n        &lt;north vflex=&quot;min&quot; border=&quot;none&quot;&gt;\n            &lt;image src=&quot;~./img/zklogo.png&quot; width=&quot;90px&quot; /&gt;\n            &lt;include templateURI=&quot;~./zul/banner&quot;/&gt;\n        &lt;/north&gt;\n        &lt;west width=&quot;260px&quot; border=&quot;none&quot; collapsible=&quot;true&quot; splittable=&quot;true&quot; minsize=&quot;300&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/sidebar.zul&quot;/&gt;\n        &lt;/west&gt;\n        &lt;center id=&quot;mainContent&quot; autoscroll=&quot;true&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/main.zul&quot;/&gt;\n        &lt;/center&gt;\n        &lt;south border=&quot;none&quot;&gt;\n            &lt;include templateURI=&quot;~./zul/footer.zul&quot;/&gt;\n        &lt;/south&gt;\n    &lt;/borderlayout&gt;\n&lt;/zk&gt;\n</code></pre>\n<p>And now I see this in the page:</p>\n<p><a href=\"https://i.stack.imgur.com/lj5hd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lj5hd.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope that someone can explain me why image are being displayed when being included directly in the top component, but not working when they are included in a component. I do not know what I am doing wrong.</p>\n<p>I am using Java 8, ZK 8.6.0.1 CE (build: 2018112010) and Spring Boot</p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1663742184,"post_id":73796212,"comment_id":130307969,"body_markdown":"I don&#39;t understand your question. Do you already have the DTOs that are serialized as JSON? Can you change them? Can you add annotations on some fields/properties to ignore them when generating the JSON? Which part exactly is &quot;dynamic&quot;? Are you asking if a `Map&lt;String, Object&gt;` can be serialized to JSON?","body":"I don&#39;t understand your question. Do you already have the DTOs that are serialized as JSON? Can you change them? Can you add annotations on some fields/properties to ignore them when generating the JSON? Which part exactly is &quot;dynamic&quot;? Are you asking if a <code>Map&lt;String, Object&gt;</code> can be serialized to JSON?"},{"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"score":0,"creation_date":1663745399,"post_id":73796212,"comment_id":130308904,"body_markdown":"can you share the code for creating the json output you&#39;ve shown in the question?","body":"can you share the code for creating the json output you&#39;ve shown in the question?"}],"answers":[{"tags":[],"owner":{"account_id":26135982,"reputation":94,"user_id":19825967,"display_name":"hungtv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663743557,"creation_date":1663743236,"answer_id":73796488,"question_id":73796212,"body_markdown":"You can ignore null fields at the class level by using ```@JsonInclude(Include.NON_NULL)``` to only include non-null fields, thus excluding any attribute whose value is null.\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class testDto {\r\n\r\n         private String id;\r\n         private String name;\r\n         private String family;\r\n         private String code;\r\n         private List&lt;testDto&gt; subNotes;\r\n    }\r\n\r\nand then my result: \r\n\r\n    {\r\n      &quot;id&quot;: &quot;10001&quot;,\r\n      &quot;name&quot;: &quot;math&quot;,\r\n      &quot;family&quot;: &quot;mac&quot;,\r\n      &quot;code&quot;: &quot;1&quot;,\r\n      &quot;subNotes&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;john&quot;,\r\n          &quot;code&quot;: &quot;1-1&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;cris&quot;,\r\n          &quot;code&quot;: &quot;1-2&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nDocumentation: [3 ways to ignore null fields while converting Java object to JSON using Jackson][1]\r\n\r\n\r\n  [1]: https://www.java67.com/2019/09/3-ways-to-ignore-null-fields-in-json-java-jackson.html#:~:text=You%20can%20ignore%20null%20fields%20at%20the%20class%20level%20by,to%20json%20if%20it&#39;s%20null.","title":"how to generate dynamic Json in Spring boot","body":"<p>You can ignore null fields at the class level by using <code>@JsonInclude(Include.NON_NULL)</code> to only include non-null fields, thus excluding any attribute whose value is null.</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class testDto {\n\n     private String id;\n     private String name;\n     private String family;\n     private String code;\n     private List&lt;testDto&gt; subNotes;\n}\n</code></pre>\n<p>and then my result:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;10001&quot;,\n  &quot;name&quot;: &quot;math&quot;,\n  &quot;family&quot;: &quot;mac&quot;,\n  &quot;code&quot;: &quot;1&quot;,\n  &quot;subNotes&quot;: [\n    {\n      &quot;name&quot;: &quot;john&quot;,\n      &quot;code&quot;: &quot;1-1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;cris&quot;,\n      &quot;code&quot;: &quot;1-2&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Documentation: <a href=\"https://www.java67.com/2019/09/3-ways-to-ignore-null-fields-in-json-java-jackson.html#:%7E:text=You%20can%20ignore%20null%20fields%20at%20the%20class%20level%20by,to%20json%20if%20it%27s%20null.\" rel=\"nofollow noreferrer\">3 ways to ignore null fields while converting Java object to JSON using Jackson</a></p>\n"},{"tags":[],"owner":{"account_id":24783429,"reputation":3,"user_id":18666786,"display_name":"hamidreza_ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663760629,"creation_date":1663745222,"answer_id":73796879,"question_id":73796212,"body_markdown":"I used jackson annotation, it&#39;s working .\r\n\r\n```import com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n\r\npublic class TestDto implements Serializable {\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    private String id;\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    private String name;\r\n    \r\n    @JsonInclude(Include.NON_NULL)\r\n    private String family;\r\n    \r\n    @JsonInclude(Include.NON_NULL)\r\n    private String code;\r\n    \r\n    @JsonInclude(Include.NON_NULL)\r\n    private List&lt;TestDto&gt; subNotes;\r\n    \r\n    //getter and setter ...\r\n    \r\n}\r\n```","title":"how to generate dynamic Json in Spring boot","body":"<p>I used jackson annotation, it's working .</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude.Include;\n\npublic class TestDto implements Serializable {\n\n    @JsonInclude(Include.NON_NULL)\n    private String id;\n\n    @JsonInclude(Include.NON_NULL)\n    private String name;\n    \n    @JsonInclude(Include.NON_NULL)\n    private String family;\n    \n    @JsonInclude(Include.NON_NULL)\n    private String code;\n    \n    @JsonInclude(Include.NON_NULL)\n    private List&lt;TestDto&gt; subNotes;\n    \n    //getter and setter ...\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25938551,"reputation":1,"user_id":19658403,"display_name":"Khushboo Mistry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663745600,"creation_date":1663745493,"answer_id":73796937,"question_id":73796212,"body_markdown":"There are 3 way you can refactor the same Object without creating another for your purpose\r\n\r\n 1. @JsonIgnore at **properties you don&#39;t want to be included**\r\n 2. @JsonInclude(JsonInclude.Include.NON_NULL) when your field is always null and you do not want that\r\n 3. @JsonInclude(JsonInclude.Include.NON_EMPTY) when you do not want to include empty list\r\n\r\nPoint 2, 3 is alredy shared in answer so for first option\r\n\r\n    public class testDto {\r\n     @JsonIgnore\r\n     private String id;\r\n     private String name;\r\n     @JsonIgnore\r\n     private String family;\r\n     private String code;\r\n     @JsonIgnore\r\n     private List&lt;testDto&gt; subNotes;\r\n}\r\n","title":"how to generate dynamic Json in Spring boot","body":"<p>There are 3 way you can refactor the same Object without creating another for your purpose</p>\n<ol>\n<li>@JsonIgnore at <strong>properties you don't want to be included</strong></li>\n<li>@JsonInclude(JsonInclude.Include.NON_NULL) when your field is always null and you do not want that</li>\n<li>@JsonInclude(JsonInclude.Include.NON_EMPTY) when you do not want to include empty list</li>\n</ol>\n<p>Point 2, 3 is alredy shared in answer so for first option</p>\n<pre><code>public class testDto {\n @JsonIgnore\n private String id;\n private String name;\n @JsonIgnore\n private String family;\n private String code;\n @JsonIgnore\n private List&lt;testDto&gt; subNotes;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24783429,"reputation":3,"user_id":18666786,"display_name":"hamidreza_ahmadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73796488,"answer_count":3,"score":0,"last_activity_date":1674204006,"creation_date":1663741652,"question_id":73796212,"body_markdown":"I write a API Restful services. But JSON has to change now. I have to remove some fields in output JSON in output.\r\n\r\nmy JSON is:\r\n```\r\n{\r\n\t&quot;id&quot;: &quot;10001&quot;,\r\n\t&quot;name&quot;: &quot;math&quot;,\r\n\t&quot;family&quot;: &quot;mac&quot;,\r\n\t&quot;code&quot;: &quot;1&quot;,\r\n\t&quot;subNotes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;id&quot;: null,\r\n\t\t\t&quot;name&quot;: &quot;john&quot;,\r\n\t\t\t&quot;family&quot;: null,\r\n\t\t\t&quot;code&quot;: &quot;1-1&quot;,\r\n\t\t\t&quot;subNotes&quot;: null\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;id&quot;: null,\r\n\t\t\t&quot;name&quot;: &quot;cris&quot;,\r\n\t\t\t&quot;family&quot;: null,\r\n\t\t\t&quot;code&quot;: &quot;1-2&quot;,\r\n\t\t\t&quot;subNotes&quot;: null\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;id&quot;: null,\r\n\t\t\t&quot;name&quot;: &quot;eli&quot;,\r\n\t\t\t&quot;family&quot;: null,\r\n\t\t\t&quot;code&quot;: &quot;1-3&quot;,\r\n\t\t\t&quot;subNotes&quot;: null\r\n\t\t},\r\n\t]\r\n},\r\n```\r\n\r\nBut, the requirement is something like this:\r\n```\r\n{\r\n\t&quot;id&quot;: &quot;10001&quot;,\r\n\t&quot;name&quot;: &quot;math&quot;,\r\n\t&quot;family&quot;: &quot;mac&quot;,\r\n\t&quot;code&quot;: &quot;1&quot;,\r\n\t&quot;subNotes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;john&quot;,\r\n\t\t\t&quot;code&quot;: &quot;1-1&quot;,\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;cris&quot;,\r\n\t\t\t&quot;code&quot;: &quot;1-2&quot;,\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;eli&quot;,\r\n\t\t\t&quot;code&quot;: &quot;1-3&quot;,\r\n\t\t},\r\n\t]\r\n},\r\n```\r\n\r\ncan I change it without create 2 Object (parent, child) ?\r\nwhat&#39;s better solution ?\r\n","title":"how to generate dynamic Json in Spring boot","body":"<p>I write a API Restful services. But JSON has to change now. I have to remove some fields in output JSON in output.</p>\n<p>my JSON is:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;10001&quot;,\n    &quot;name&quot;: &quot;math&quot;,\n    &quot;family&quot;: &quot;mac&quot;,\n    &quot;code&quot;: &quot;1&quot;,\n    &quot;subNotes&quot;: [\n        {\n            &quot;id&quot;: null,\n            &quot;name&quot;: &quot;john&quot;,\n            &quot;family&quot;: null,\n            &quot;code&quot;: &quot;1-1&quot;,\n            &quot;subNotes&quot;: null\n        },\n        {\n            &quot;id&quot;: null,\n            &quot;name&quot;: &quot;cris&quot;,\n            &quot;family&quot;: null,\n            &quot;code&quot;: &quot;1-2&quot;,\n            &quot;subNotes&quot;: null\n        },\n        {\n            &quot;id&quot;: null,\n            &quot;name&quot;: &quot;eli&quot;,\n            &quot;family&quot;: null,\n            &quot;code&quot;: &quot;1-3&quot;,\n            &quot;subNotes&quot;: null\n        },\n    ]\n},\n</code></pre>\n<p>But, the requirement is something like this:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;10001&quot;,\n    &quot;name&quot;: &quot;math&quot;,\n    &quot;family&quot;: &quot;mac&quot;,\n    &quot;code&quot;: &quot;1&quot;,\n    &quot;subNotes&quot;: [\n        {\n            &quot;name&quot;: &quot;john&quot;,\n            &quot;code&quot;: &quot;1-1&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;cris&quot;,\n            &quot;code&quot;: &quot;1-2&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;eli&quot;,\n            &quot;code&quot;: &quot;1-3&quot;,\n        },\n    ]\n},\n</code></pre>\n<p>can I change it without create 2 Object (parent, child) ?\nwhat's better solution ?</p>\n"},{"tags":["java","performance","logging","coding-style"],"answers":[{"tags":[],"owner":{"account_id":6712,"reputation":2127,"user_id":11411,"accept_rate":50,"display_name":"Chei"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1237281125,"creation_date":1237281125,"answer_id":653474,"question_id":653469,"body_markdown":"I agree with the famous quote of [Michael A. Jackson][1]:\n\n&gt;The First Rule of Program Optimization: Don&#39;t do it.\n&gt;\n&gt;The Second Rule of Program Optimization – For experts only: Don&#39;t do it yet.\n\nI think that in the majority of cases it&#39;s not worth making the codebase more complex without being sure that the performance gain will be noticable / significant.\n\nI&#39;m aware of the performance improvement, but I think it shall be the responsibility of the individual programmer to decide whether it&#39;s worth to add those extra lines of code in a particular case. In most cases the extra lines are just adding complexity without any noticable gain on the performance side.\n\n\n  [1]: http://en.wikiquote.org/wiki/Michael_A._Jackson\n","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>I agree with the famous quote of <a href=\"http://en.wikiquote.org/wiki/Michael_A._Jackson\" rel=\"noreferrer\">Michael A. Jackson</a>:</p>\n<blockquote>\n<p>The First Rule of Program Optimization: Don't do it.</p>\n<p>The Second Rule of Program Optimization – For experts only: Don't do it yet.</p>\n</blockquote>\n<p>I think that in the majority of cases it's not worth making the codebase more complex without being sure that the performance gain will be noticable / significant.</p>\n<p>I'm aware of the performance improvement, but I think it shall be the responsibility of the individual programmer to decide whether it's worth to add those extra lines of code in a particular case. In most cases the extra lines are just adding complexity without any noticable gain on the performance side.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1237281332,"creation_date":1237281332,"answer_id":653482,"question_id":653469,"body_markdown":"It&#39;s a good policy for those occasions where the log string you&#39;re building up is actually going to affect performance significantly. This could be for two reasons:\r\n\r\n- A lot of work needs to go into building the string (e.g. it&#39;s got to do lookups, or build a very large string from lots of very small pieces)\r\n- It&#39;s in a loop which isn&#39;t doing much other work (but is called very often), so the *proportion* of the time spent building up even a simple log string is higher\r\n\r\nIt shouldn&#39;t be a blanket rule, and I&#39;d expect both of these situations to be *relatively* rare.\r\n\r\nOf course, what we really want is to be able to say, &quot;Call the debug method, passing in an argument which isn&#39;t the debug string itself, but is something which knows how to *build* the debug string, if and only if it&#39;s necessary.&quot; This would be ugly in Java without concise closures. (Even in a language with closures in the form of lambda expressions, capturing the relevant variables could be significant in some situations, depending on how the language handles the capture.)","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>It's a good policy for those occasions where the log string you're building up is actually going to affect performance significantly. This could be for two reasons:</p>\n\n<ul>\n<li>A lot of work needs to go into building the string (e.g. it's got to do lookups, or build a very large string from lots of very small pieces)</li>\n<li>It's in a loop which isn't doing much other work (but is called very often), so the <em>proportion</em> of the time spent building up even a simple log string is higher</li>\n</ul>\n\n<p>It shouldn't be a blanket rule, and I'd expect both of these situations to be <em>relatively</em> rare.</p>\n\n<p>Of course, what we really want is to be able to say, \"Call the debug method, passing in an argument which isn't the debug string itself, but is something which knows how to <em>build</em> the debug string, if and only if it's necessary.\" This would be ugly in Java without concise closures. (Even in a language with closures in the form of lambda expressions, capturing the relevant variables could be significant in some situations, depending on how the language handles the capture.)</p>\n"},{"tags":[],"owner":{"account_id":192113,"reputation":931,"user_id":433078,"accept_rate":75,"display_name":"grayger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1237281726,"creation_date":1237281726,"answer_id":653500,"question_id":653469,"body_markdown":"If &quot;model&quot; is already known, just logging it is not so expensive.\r\nBut, if the &quot;model&quot; should be fetched just for logging as below, simplicity can be compromised. \r\n\r\n    LOGGER.debug(&quot;model[&quot; + proxy.getModel() + &quot;]&quot;);\r\n\r\n","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>If \"model\" is already known, just logging it is not so expensive.\nBut, if the \"model\" should be fetched just for logging as below, simplicity can be compromised. </p>\n\n<pre><code>LOGGER.debug(\"model[\" + proxy.getModel() + \"]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344405748,"creation_date":1237281772,"answer_id":653505,"question_id":653469,"body_markdown":"I think it makes sence to put the isDebugEnabled() call before you write your log message.\r\nThan you easily can update your log message later.\r\nWe use the following code to make the log messages more flexible.\r\n\r\n\r\n    if (LOGGER.isDebugEnabled()) {  \r\n      String msg = &quot;A Message {0} you can put {1} differet Objects in {2}&quot;; //$NON-NLS-1$\r\n      Object[] args = new Object[] {file1.toString(),new Integer(23),anObject};\r\n      LOGGER.debug(MessageFormat.format(msg,args));\r\n    }\r\n\r\nWhen you would not have the if statement you would lose time. Remember... your project becomes bigger and your log messages too.\r\n\r\n\r\nLog messages should not slow down your code!","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>I think it makes sence to put the isDebugEnabled() call before you write your log message.\nThan you easily can update your log message later.\nWe use the following code to make the log messages more flexible.</p>\n\n<pre><code>if (LOGGER.isDebugEnabled()) {  \n  String msg = \"A Message {0} you can put {1} differet Objects in {2}\"; //$NON-NLS-1$\n  Object[] args = new Object[] {file1.toString(),new Integer(23),anObject};\n  LOGGER.debug(MessageFormat.format(msg,args));\n}\n</code></pre>\n\n<p>When you would not have the if statement you would lose time. Remember... your project becomes bigger and your log messages too.</p>\n\n<p>Log messages should not slow down your code!</p>\n"},{"tags":[],"owner":{"account_id":876695,"reputation":1297,"user_id":78878,"display_name":"Aries McRae"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1447415395,"creation_date":1237289558,"answer_id":653846,"question_id":653469,"body_markdown":"You should use _SLF4J_ and make _log4j_ your implementation.  With _SLF4J_, you can eliminate `isDebugEnabled()` altogether by using parameterized messages.\n\nSee the [section about logging performance in the slf4j FAQ](http://www.slf4j.org/faq.html#logging_performance)\n\n&gt; The following two lines will yield the exact same output. However, the second form will outperform the first form by a factor of at least 30, in case of a disabled logging statement.\n&gt;\n&gt; `logger.debug(&quot;The new entry is &quot; + entry + &quot;.&quot;);`\n&gt;\n&gt; `logger.debug(&quot;The new entry is {}.&quot;, entry);`","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>You should use <em>SLF4J</em> and make <em>log4j</em> your implementation.  With <em>SLF4J</em>, you can eliminate <code>isDebugEnabled()</code> altogether by using parameterized messages.</p>\n<p>See the <a href=\"http://www.slf4j.org/faq.html#logging_performance\" rel=\"noreferrer\">section about logging performance in the slf4j FAQ</a></p>\n<blockquote>\n<p>The following two lines will yield the exact same output. However, the second form will outperform the first form by a factor of at least 30, in case of a disabled logging statement.</p>\n<p><code>logger.debug(&quot;The new entry is &quot; + entry + &quot;.&quot;);</code></p>\n<p><code>logger.debug(&quot;The new entry is {}.&quot;, entry);</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237311784,"creation_date":1237311784,"answer_id":655306,"question_id":653469,"body_markdown":"I cannot find the reference online (perhaps I read it in a book) but there was an example of some BIOS call that wrote a String to the screen.  \r\n\r\nThe code the wrote the string to the screen checked to make sure that the String wasn&#39;t going to go off of the screen and then called a function to write out a char to the screen.  \r\n\r\nThe function that wrote the char to the screen checked to make sure that the character would not be written off of the screen.\r\n\r\nRemoving the checking code from the function that wrote the character to the screen resulted in a massive speed boost.  The was because printing each character happened very often.  They also provided a method that did the check for the cases when the screen position was not checked before the call.\r\n\r\nSo, if you can check at a high level and avoid the checks at the low level you can speed things up significantly.\r\n\r\nIn the case you provide, if the code is in a loop or if there are a lot of logging statements then there would be a clear benefit since you would:\r\n\r\n- remove the string creation (and the associated GC)\r\n- reduce the number of if statements (though hotspote very likely optimizes them out).\r\n\r\nI would say that, in general, you should not add anything that is known to be costly if there is an easy work around.  This clearly falls into that case - the addition of the if statement is not hard to do, it is a pain to put in later, and it provides a definite speed/memory improvement.\r\n\r\nI think the difference between this and premature optimization is that this is known to be always costly,so the issue comes down to is it a cumulative cost you want to add to the program or not?  The cost is pretty much constant and it is known at the point of writing the code.","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>I cannot find the reference online (perhaps I read it in a book) but there was an example of some BIOS call that wrote a String to the screen.  </p>\n\n<p>The code the wrote the string to the screen checked to make sure that the String wasn't going to go off of the screen and then called a function to write out a char to the screen.  </p>\n\n<p>The function that wrote the char to the screen checked to make sure that the character would not be written off of the screen.</p>\n\n<p>Removing the checking code from the function that wrote the character to the screen resulted in a massive speed boost.  The was because printing each character happened very often.  They also provided a method that did the check for the cases when the screen position was not checked before the call.</p>\n\n<p>So, if you can check at a high level and avoid the checks at the low level you can speed things up significantly.</p>\n\n<p>In the case you provide, if the code is in a loop or if there are a lot of logging statements then there would be a clear benefit since you would:</p>\n\n<ul>\n<li>remove the string creation (and the associated GC)</li>\n<li>reduce the number of if statements (though hotspote very likely optimizes them out).</li>\n</ul>\n\n<p>I would say that, in general, you should not add anything that is known to be costly if there is an easy work around.  This clearly falls into that case - the addition of the if statement is not hard to do, it is a pain to put in later, and it provides a definite speed/memory improvement.</p>\n\n<p>I think the difference between this and premature optimization is that this is known to be always costly,so the issue comes down to is it a cumulative cost you want to add to the program or not?  The cost is pretty much constant and it is known at the point of writing the code.</p>\n"},{"tags":[],"owner":{"account_id":11531106,"reputation":41,"user_id":8474641,"display_name":"Antony Glim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674203972,"creation_date":1674203972,"answer_id":75181544,"question_id":653469,"body_markdown":"I set the logger settings to INFO level, and ran the following test:\r\n\r\n    @Test\r\n    void loggerTest() {\r\n        System.out.println(&quot;START &quot; + LocalDateTime.now());\r\n\r\n        System.out.println(&quot;TRACE: &quot; + LocalDateTime.now());\r\n        log.trace(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;TRACE PRINT&quot;));\r\n        System.out.println(&quot;DEBUG: &quot; + LocalDateTime.now());\r\n        log.debug(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;DEBUG PRINT&quot;));\r\n        System.out.println(&quot;INFO: &quot; + LocalDateTime.now());\r\n        log.info(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;INFO PRINT&quot;));\r\n        System.out.println(&quot;WARN: &quot; + LocalDateTime.now());\r\n        log.warn(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;WARN PRINT&quot;));\r\n        System.out.println(&quot;ERROR: &quot; + LocalDateTime.now());\r\n        log.error(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;ERROR PRINT&quot;));\r\n\r\n        System.out.println(&quot;END &quot; + LocalDateTime.now());\r\n    }\r\n\r\n    public static String sleepAndReturnString(long millis, String message) {\r\n        try {\r\n            Thread.sleep(millis);\r\n        } catch (InterruptedException e) {\r\n            log.error(&quot;&quot;, e);\r\n        }\r\n        return message;\r\n    }\r\nlogback.xml file:\r\n\r\n    &lt;configuration&gt;\r\n\r\n    &lt;property name=&quot;MY__PATTERN&quot;\r\n              value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} | %highlight(%-5level) | %message%n%rEx&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;outputPatternAsHeader&gt;true&lt;/outputPatternAsHeader&gt;\r\n            &lt;pattern&gt;${MY__PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\nHere is what was printed in the console:\r\n\r\n    START 2023-01-20T11:17:57.255\r\n    TRACE: 2023-01-20T11:17:57.255\r\n    DEBUG: 2023-01-20T11:18:02.256\r\n    INFO: 2023-01-20T11:18:07.262\r\n    2023-01-20 11:18:12.267 | INFO  | INFO PRINT\r\n    WARN: 2023-01-20T11:18:12.283\r\n    2023-01-20 11:18:17.285 | WARN  | WARN PRINT\r\n    ERROR: 2023-01-20T11:18:17.285\r\n    2023-01-20 11:18:22.287 | ERROR | ERROR PRINT\r\n    END 2023-01-20T11:18:22.287\r\n\r\nAs we can see, each time the thread fell asleep for 5 seconds, although the TRACE and DEBUG messages were not printed to the console. This suggests that the use of isLevelEnabled is justified, and increases performance.","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>I set the logger settings to INFO level, and ran the following test:</p>\n<pre><code>@Test\nvoid loggerTest() {\n    System.out.println(&quot;START &quot; + LocalDateTime.now());\n\n    System.out.println(&quot;TRACE: &quot; + LocalDateTime.now());\n    log.trace(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;TRACE PRINT&quot;));\n    System.out.println(&quot;DEBUG: &quot; + LocalDateTime.now());\n    log.debug(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;DEBUG PRINT&quot;));\n    System.out.println(&quot;INFO: &quot; + LocalDateTime.now());\n    log.info(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;INFO PRINT&quot;));\n    System.out.println(&quot;WARN: &quot; + LocalDateTime.now());\n    log.warn(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;WARN PRINT&quot;));\n    System.out.println(&quot;ERROR: &quot; + LocalDateTime.now());\n    log.error(&quot;{}&quot;, sleepAndReturnString(5000L, &quot;ERROR PRINT&quot;));\n\n    System.out.println(&quot;END &quot; + LocalDateTime.now());\n}\n\npublic static String sleepAndReturnString(long millis, String message) {\n    try {\n        Thread.sleep(millis);\n    } catch (InterruptedException e) {\n        log.error(&quot;&quot;, e);\n    }\n    return message;\n}\n</code></pre>\n<p>logback.xml file:</p>\n<pre><code>&lt;configuration&gt;\n\n&lt;property name=&quot;MY__PATTERN&quot;\n          value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} | %highlight(%-5level) | %message%n%rEx&quot;/&gt;\n\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;outputPatternAsHeader&gt;true&lt;/outputPatternAsHeader&gt;\n        &lt;pattern&gt;${MY__PATTERN}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\nHere is what was printed in the console:\n<pre><code>START 2023-01-20T11:17:57.255\nTRACE: 2023-01-20T11:17:57.255\nDEBUG: 2023-01-20T11:18:02.256\nINFO: 2023-01-20T11:18:07.262\n2023-01-20 11:18:12.267 | INFO  | INFO PRINT\nWARN: 2023-01-20T11:18:12.283\n2023-01-20 11:18:17.285 | WARN  | WARN PRINT\nERROR: 2023-01-20T11:18:17.285\n2023-01-20 11:18:22.287 | ERROR | ERROR PRINT\nEND 2023-01-20T11:18:22.287\n</code></pre>\n<p>As we can see, each time the thread fell asleep for 5 seconds, although the TRACE and DEBUG messages were not printed to the console. This suggests that the use of isLevelEnabled is justified, and increases performance.</p>\n"}],"owner":{"account_id":6712,"reputation":2127,"user_id":11411,"accept_rate":50,"display_name":"Chei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20412,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":7,"score":28,"last_activity_date":1674203972,"creation_date":1237280832,"question_id":653469,"body_markdown":"Our team has the policy of doing logging like\n\n    if (LOGGER.isDebugEnabled()) {  \n      LOGGER.debug(&quot;model[&quot; + model + &quot;]&quot;);\n    }\ninstead of simply calling the logging method like this:\n\n    LOGGER.debug(&quot;model[&quot; + model + &quot;]&quot;);\n\nThis practice is capable of leading to some [performance improvement][1], but on the other hand it makes the codebase more complex.\nOur application has no performance problems, probably never will, the argument for the introduction of the policy was simply that it&#39;s a good practice, so it shall be used every time we are doing logging.\n\nDo you think it&#39;s a good policy?\n\n[1]: https://stackoverflow.com/questions/545844/biggest-performance-improvement-youve-had-with-the-smallest-change/#546409\n","title":"Enclosing calls to debug() in if isDebugEnabled(): a good policy?","body":"<p>Our team has the policy of doing logging like</p>\n<pre><code>if (LOGGER.isDebugEnabled()) {  \n  LOGGER.debug(&quot;model[&quot; + model + &quot;]&quot;);\n}\n</code></pre>\n<p>instead of simply calling the logging method like this:</p>\n<pre><code>LOGGER.debug(&quot;model[&quot; + model + &quot;]&quot;);\n</code></pre>\n<p>This practice is capable of leading to some <a href=\"https://stackoverflow.com/questions/545844/biggest-performance-improvement-youve-had-with-the-smallest-change/#546409\">performance improvement</a>, but on the other hand it makes the codebase more complex.\nOur application has no performance problems, probably never will, the argument for the introduction of the policy was simply that it's a good practice, so it shall be used every time we are doing logging.</p>\n<p>Do you think it's a good policy?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674126697,"post_id":75171248,"comment_id":132650347,"body_markdown":"You probably want to use `jakarta.transaction.Transactional` or even `javax.transaction.Transactional` instead","body":"You probably want to use <code>jakarta.transaction.Transactional</code> or even <code>javax.transaction.Transactional</code> instead"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674126884,"post_id":75171248,"comment_id":132650404,"body_markdown":"There is too little information here. How is this method being called? Where is this method defined, what does your configuration look like. Please add the full stacktrace instead of a snippet, the full stacktrace provides valuable information.","body":"There is too little information here. How is this method being called? Where is this method defined, what does your configuration look like. Please add the full stacktrace instead of a snippet, the full stacktrace provides valuable information."},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1674127094,"post_id":75171248,"comment_id":132650468,"body_markdown":"@XtremeBaumer i tried `jakarta.transaction.Transactional` but didn&#39;t work for me.","body":"@XtremeBaumer i tried <code>jakarta.transaction.Transactional</code> but didn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1674127627,"creation_date":1674127627,"answer_id":75171543,"question_id":75171248,"body_markdown":"This error typically occurs when we&#39;re trying to perform a database operation that modifies the database without a transaction.\r\n\r\nThe obvious solution is to wrap any database-modifying operation in a transaction:\r\n\r\n    Transaction txn = session.beginTransaction();\r\n    Query query\r\n      = session.createQuery(&quot;UPDATE Passage p SET p.dateDebut = p.dateDebut + 1 year, &quot;\r\n                + &quot;p.dateFin = p.dateFin + 1 year WHERE resident.cin = :cin and p.niveau = :niveau &quot;);\r\n        query.setParameter(&quot;cin&quot;, cin);\r\n        query.setParameter(&quot;niveau&quot;, niveau);\r\n    updateQuery.executeUpdate();\r\n    txn.commit();\r\n\r\nIn the code snippet above, we manually initiate and commit the transaction. Although in a Spring Boot environment, we can achieve this by using the `@Transactional` annotation.\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class FooService {\r\n        //...\r\n    }","title":"jakarta.persistence.TransactionRequiredException: Executing an update/delete query","body":"<p>This error typically occurs when we're trying to perform a database operation that modifies the database without a transaction.</p>\n<p>The obvious solution is to wrap any database-modifying operation in a transaction:</p>\n<pre><code>Transaction txn = session.beginTransaction();\nQuery query\n  = session.createQuery(&quot;UPDATE Passage p SET p.dateDebut = p.dateDebut + 1 year, &quot;\n            + &quot;p.dateFin = p.dateFin + 1 year WHERE resident.cin = :cin and p.niveau = :niveau &quot;);\n    query.setParameter(&quot;cin&quot;, cin);\n    query.setParameter(&quot;niveau&quot;, niveau);\nupdateQuery.executeUpdate();\ntxn.commit();\n</code></pre>\n<p>In the code snippet above, we manually initiate and commit the transaction. Although in a Spring Boot environment, we can achieve this by using the <code>@Transactional</code> annotation.</p>\n<pre><code>@Service\n@Transactional\npublic class FooService {\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1042,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674170538,"accepted_answer_id":75171543,"answer_count":1,"score":-1,"last_activity_date":1674203926,"creation_date":1674126068,"question_id":75171248,"body_markdown":"I use spring boot 3.0.0, I try to use query.executeUpdate() method in my service.\r\n\r\nThere is the code of my service:\r\n\r\n    \r\n```java\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.PersistenceContext;\r\nimport jakarta.persistence.Query;\r\nimport jakarta.persistence.TypedQuery;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport myRepositoriesPackage.PassageRepository;\r\n\r\n\r\n@Service\r\npublic class PassageSevice {\r\n\t@PersistenceContext\r\n\tEntityManager em;\r\n\r\n\t@Autowired\r\n\tprivate PassageRepository passageRepository;\r\n\r\n    @Transactional\r\n\tpublic void UpdatePassageByNiveau(int niveau, String cin) {\r\n\t\tString queryRecherche = &quot;UPDATE Passage p SET p.dateDebut = \r\n                 + &quot; p.dateDebut + 1 year, &quot;\r\n\t\t\t\t+ &quot;p.dateFin = p.dateFin + 1 year WHERE resident.cin = :cin \r\n                 + &quot;  and p.niveau = :niveau &quot;;\r\n\t\tQuery query = em.createQuery(queryRecherche);\r\n\t\tquery.setParameter(&quot;cin&quot;, cin);\r\n\t\tquery.setParameter(&quot;niveau&quot;, niveau);\r\n\t\tquery.executeUpdate();\r\n\t}\r\n}\r\n```\r\n\r\nI read that to use query.executeUpdate() method I have to add the annotation **@Transactional** from **org.springframework.transaction.annotation.Transactional**. But it didn&#39;t work, and i steal have this error : `jakarta.persistence.TransactionRequiredException: Executing an update/delete query|`.","title":"jakarta.persistence.TransactionRequiredException: Executing an update/delete query","body":"<p>I use spring boot 3.0.0, I try to use query.executeUpdate() method in my service.</p>\n<p>There is the code of my service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.EntityManager;\nimport jakarta.persistence.PersistenceContext;\nimport jakarta.persistence.Query;\nimport jakarta.persistence.TypedQuery;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport org.springframework.transaction.annotation.Transactional;\nimport myRepositoriesPackage.PassageRepository;\n\n\n@Service\npublic class PassageSevice {\n    @PersistenceContext\n    EntityManager em;\n\n    @Autowired\n    private PassageRepository passageRepository;\n\n    @Transactional\n    public void UpdatePassageByNiveau(int niveau, String cin) {\n        String queryRecherche = &quot;UPDATE Passage p SET p.dateDebut = \n                 + &quot; p.dateDebut + 1 year, &quot;\n                + &quot;p.dateFin = p.dateFin + 1 year WHERE resident.cin = :cin \n                 + &quot;  and p.niveau = :niveau &quot;;\n        Query query = em.createQuery(queryRecherche);\n        query.setParameter(&quot;cin&quot;, cin);\n        query.setParameter(&quot;niveau&quot;, niveau);\n        query.executeUpdate();\n    }\n}\n</code></pre>\n<p>I read that to use query.executeUpdate() method I have to add the annotation <strong>@Transactional</strong> from <strong>org.springframework.transaction.annotation.Transactional</strong>. But it didn't work, and i steal have this error : <code>jakarta.persistence.TransactionRequiredException: Executing an update/delete query|</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-redis"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674255256,"post_id":75181492,"comment_id":132683367,"body_markdown":"That&#39;s already 10000 records per second (0.1 milliseconds per record). How big are your records? What is your expected latency? How many records per second do you think are realistic?","body":"That&#39;s already 10000 records per second (0.1 milliseconds per record). How big are your records? What is your expected latency? How many records per second do you think are realistic?"}],"owner":{"account_id":27578738,"reputation":1,"user_id":21048377,"display_name":"Saurabh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674203765,"creation_date":1674203640,"question_id":75181492,"body_markdown":"I am using jedis. I need to fetch List of records having  around 70K records. But when I am using redisTemplate.opsForHash().get(key, hashKey), then it&#39;s taking around 7-8 seconds of time.\r\n\r\nAny suggestion to reduce this response time?","title":"redisTemplate.opsForHash().get(key, hashkey) is taking around 7-8 seconds to fetch List&lt;Records&gt;","body":"<p>I am using jedis. I need to fetch List of records having  around 70K records. But when I am using redisTemplate.opsForHash().get(key, hashKey), then it's taking around 7-8 seconds of time.</p>\n<p>Any suggestion to reduce this response time?</p>\n"},{"tags":["java","command","classpath"],"answers":[{"tags":[],"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601754264,"creation_date":1601754264,"answer_id":64188327,"question_id":64187765,"body_markdown":"I think you are using the wrong command. If you would like to _run_ the jar file, then you could call the following command:\r\n\r\n`java -jar /home/…/Cubyz\\ alpha\\ 0.6.0\\:\\ The\\ Enlightened\\ Update/main.jar`\r\n\r\nThis escapes the space and the colon characters by using the backslash (\\\\) escape character.\r\n\r\nYou could also use apostrophes, so that the command is seen as a string and in that case you don&#39;t have to escape the special characters:\r\n\r\n`java -jar &#39;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&#39;`\r\n\r\nOr with quotes (depending on terminal / OS being used):\r\n\r\n`java -jar &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot;`","title":"java classpath colon(&quot;:&quot;) in file name","body":"<p>I think you are using the wrong command. If you would like to <em>run</em> the jar file, then you could call the following command:</p>\n<p><code>java -jar /home/…/Cubyz\\ alpha\\ 0.6.0\\:\\ The\\ Enlightened\\ Update/main.jar</code></p>\n<p>This escapes the space and the colon characters by using the backslash (\\) escape character.</p>\n<p>You could also use apostrophes, so that the command is seen as a string and in that case you don't have to escape the special characters:</p>\n<p><code>java -jar '/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar'</code></p>\n<p>Or with quotes (depending on terminal / OS being used):</p>\n<p><code>java -jar &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot;</code></p>\n"}],"owner":{"account_id":18000620,"reputation":747,"user_id":13082649,"display_name":"QuantumDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674203198,"creation_date":1601750628,"question_id":64187765,"body_markdown":"I have a jar file in a folder, which has &quot;:&quot; in its name, like this:\r\n\r\n`/Cubyz alpha 0.6.0: The Enlightened Update/main.jar`\r\n\r\nI want to run it from outside the folder from command.\r\n\r\nBut it doesn&#39;t work because colon(&quot;:&quot;) is a reserved character.\r\n\r\nI tried the following things so far:\r\n\r\n`java -jar &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot;`\r\n\r\n`java -cp /home/…/Cubyz\\ alpha 0.6.0\\:\\ The\\ Enlightened\\ Update/main.jar MainClass`\r\n\r\n`java -cp &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot; MainClass`\r\n\r\n`java -cp &quot;/home/…/Cubyz alpha 0.6.0\\: The Enlightened Update/main.jar&quot; MainClass`\r\n\r\nAll of them output `Error: Could not find or load main class`.\r\n\r\nIs there any way I can escape the &quot;:&quot;?","title":"java classpath colon(&quot;:&quot;) in file name","body":"<p>I have a jar file in a folder, which has &quot;:&quot; in its name, like this:</p>\n<p><code>/Cubyz alpha 0.6.0: The Enlightened Update/main.jar</code></p>\n<p>I want to run it from outside the folder from command.</p>\n<p>But it doesn't work because colon(&quot;:&quot;) is a reserved character.</p>\n<p>I tried the following things so far:</p>\n<p><code>java -jar &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot;</code></p>\n<p><code>java -cp /home/…/Cubyz\\ alpha 0.6.0\\:\\ The\\ Enlightened\\ Update/main.jar MainClass</code></p>\n<p><code>java -cp &quot;/home/…/Cubyz alpha 0.6.0: The Enlightened Update/main.jar&quot; MainClass</code></p>\n<p><code>java -cp &quot;/home/…/Cubyz alpha 0.6.0\\: The Enlightened Update/main.jar&quot; MainClass</code></p>\n<p>All of them output <code>Error: Could not find or load main class</code>.</p>\n<p>Is there any way I can escape the &quot;:&quot;?</p>\n"},{"tags":["java","android","airplane-mode"],"owner":{"account_id":19138160,"reputation":13,"user_id":13978709,"display_name":"Abdul Rehman Jamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674203197,"creation_date":1674203197,"question_id":75181430,"body_markdown":"I am working on an Android app and want to enable and disable the airplane mode on a non-rooted device using Action voice assistant.\r\n\r\nIs it possible?\r\n\r\nI have tried this code but it open&#39;s the settings with intent.\r\n\r\n    public void setFlightMode(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) {\r\n            // API 17 onwards.\r\n            if (isRooted(context)) {\r\n                int enabled = isFlightModeEnabled(context) ? 0 : 1;\r\n                // Set Airplane / Flight mode using su commands.\r\n                String command = COMMAND_FLIGHT_MODE_1 + &quot; &quot; + enabled;\r\n                executeCommandWithoutWait(context, &quot;-c&quot;, command);\r\n                command = COMMAND_FLIGHT_MODE_2 + &quot; &quot; + enabled;\r\n                executeCommandWithoutWait(context, &quot;-c&quot;, command);\r\n            } else {\r\n                try {\r\n                    Log.e(&quot;non rooted&quot;, &quot;non&quot;);\r\n                    // No root permission, just show Airplane / Flight mode setting screen.\r\n                    Intent intent = new Intent(ACTION_VOICE_CONTROL_AIRPLANE_MODE);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    \r\n                    context.startActivity(intent);\r\n                } catch (ActivityNotFoundException e) {\r\n                    Log.e(TAG, &quot;Setting screen not found due to: &quot; + e.fillInStackTrace());\r\n                }\r\n            }\r\n        } else {\r\n            // API 16 and earlier.\r\n            boolean enabled = isFlightModeEnabled(context);\r\n            Settings.System.putInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, enabled ? 0 : 1);\r\n            Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);\r\n            intent.putExtra(&quot;state&quot;, !enabled);\r\n            context.sendBroadcast(intent);\r\n        }\r\n    }","title":"Enable Airplane mode Automatically in non rooted device","body":"<p>I am working on an Android app and want to enable and disable the airplane mode on a non-rooted device using Action voice assistant.</p>\n<p>Is it possible?</p>\n<p>I have tried this code but it open's the settings with intent.</p>\n<pre><code>public void setFlightMode(Context context) {\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN) {\n        // API 17 onwards.\n        if (isRooted(context)) {\n            int enabled = isFlightModeEnabled(context) ? 0 : 1;\n            // Set Airplane / Flight mode using su commands.\n            String command = COMMAND_FLIGHT_MODE_1 + &quot; &quot; + enabled;\n            executeCommandWithoutWait(context, &quot;-c&quot;, command);\n            command = COMMAND_FLIGHT_MODE_2 + &quot; &quot; + enabled;\n            executeCommandWithoutWait(context, &quot;-c&quot;, command);\n        } else {\n            try {\n                Log.e(&quot;non rooted&quot;, &quot;non&quot;);\n                // No root permission, just show Airplane / Flight mode setting screen.\n                Intent intent = new Intent(ACTION_VOICE_CONTROL_AIRPLANE_MODE);\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                \n                context.startActivity(intent);\n            } catch (ActivityNotFoundException e) {\n                Log.e(TAG, &quot;Setting screen not found due to: &quot; + e.fillInStackTrace());\n            }\n        }\n    } else {\n        // API 16 and earlier.\n        boolean enabled = isFlightModeEnabled(context);\n        Settings.System.putInt(context.getContentResolver(), Settings.System.AIRPLANE_MODE_ON, enabled ? 0 : 1);\n        Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);\n        intent.putExtra(&quot;state&quot;, !enabled);\n        context.sendBroadcast(intent);\n    }\n}\n</code></pre>\n"},{"tags":["java","properties","divider"],"answers":[{"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1326036708,"creation_date":1326036708,"answer_id":8778755,"question_id":8778717,"body_markdown":"Don&#39;t use a tool that isn&#39;t designed for the task - don&#39;t use `Properties` here.  Instead, I&#39;d just write your own - should be easy enough.\r\n\r\nYou can still use a `Properties` instance as your &quot;store&quot;, but don&#39;t use it for serializing the properties to text.  Instead, just use a `FileWriter`, iterate through the properties, and write the lines yourself - as `key + &quot;: &quot; + value`.","title":"How to change the Properties.store() divider symbol from &quot;=&quot; to &quot;:&quot;?","body":"<p>Don't use a tool that isn't designed for the task - don't use <code>Properties</code> here.  Instead, I'd just write your own - should be easy enough.</p>\n\n<p>You can still use a <code>Properties</code> instance as your \"store\", but don't use it for serializing the properties to text.  Instead, just use a <code>FileWriter</code>, iterate through the properties, and write the lines yourself - as <code>key + \": \" + value</code>.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327717724,"creation_date":1327717397,"answer_id":9042429,"question_id":8778717,"body_markdown":"New idea here\r\n\r\n*Your comment about converting the = to : got me thinking*: Properties.store() writes to a Stream.  You could use an in-memory ByteArrayOutputStream, convert as appropriate in memory *before* you write to a file, then write the file.  Likewise for Properties.load().  Or you could insert FilterXXXs instead.  (I&#39;d probably do it in memory).\r\n\r\n\r\n---\r\nI was looking into how hard it would be to subclass.  It&#39;s nearly impossible.  :-(\r\n\r\nIf you look at the source code for Properties, (I&#39;m looking at Java 6) store() calls store0().  Now, unfortunately, store0 is private, not protected, and the &quot;=&quot; is given as a magic constant, not something read from a property.  And it calls another private method called saveConvert() that also has a lot of magic constants.\r\n\r\nOverall, I rate this code as D- quality.  It breaks almost all the rules of good code and good style.\r\n\r\nBut, it&#39;s open source, so, theoretically, you could copy and paste (and improve!) a bunch of code into your own BetterProperties class.\r\n ","title":"How to change the Properties.store() divider symbol from &quot;=&quot; to &quot;:&quot;?","body":"<p>New idea here</p>\n\n<p><em>Your comment about converting the = to : got me thinking</em>: Properties.store() writes to a Stream.  You could use an in-memory ByteArrayOutputStream, convert as appropriate in memory <em>before</em> you write to a file, then write the file.  Likewise for Properties.load().  Or you could insert FilterXXXs instead.  (I'd probably do it in memory).</p>\n\n<hr>\n\n<p>I was looking into how hard it would be to subclass.  It's nearly impossible.  :-(</p>\n\n<p>If you look at the source code for Properties, (I'm looking at Java 6) store() calls store0().  Now, unfortunately, store0 is private, not protected, and the \"=\" is given as a magic constant, not something read from a property.  And it calls another private method called saveConvert() that also has a lot of magic constants.</p>\n\n<p>Overall, I rate this code as D- quality.  It breaks almost all the rules of good code and good style.</p>\n\n<p>But, it's open source, so, theoretically, you could copy and paste (and improve!) a bunch of code into your own BetterProperties class.</p>\n"}],"owner":{"account_id":1156796,"reputation":119,"user_id":1137183,"accept_rate":71,"display_name":"user1137183"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8778755,"answer_count":2,"score":1,"last_activity_date":1674203179,"creation_date":1326036457,"question_id":8778717,"body_markdown":"I recently found out about `java.util.Properties`, which allows me to write and read from a config without writing my own function for it.\r\n\r\nI was excited since it is so easy to use, but later noticed a flaw when I stored the modified config file.\r\n\r\nHere is my code, quite simple for now:\r\n\r\n    FileWriter writer = null;\r\n    Properties configFile = new Properties();\r\n    configFile.load(ReadFileTest.class.getClassLoader().getResourceAsStream(&quot;config.txt&quot;));\r\n\r\n    String screenwidth = configFile.getProperty(&quot;screenwidth&quot;);\r\n    String screenheight = configFile.getProperty(&quot;screenheight&quot;);\r\n    System.out.println(screenwidth);\r\n    System.out.println(screenheight);\r\n    configFile.setProperty(&quot;screenwidth&quot;, &quot;1024&quot;);\r\n    configFile.setProperty(&quot;screenheight&quot;, &quot;600&quot;);\r\n    try {\r\n        writer = new FileWriter(&quot;config.txt&quot; );\r\n        configFile.store(writer, null);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    writer.flush();\r\n    writer.close();\r\n\r\nThe problem I noticed was that the config file I try to edit is stored like this:\r\n\r\n    foo: bar\r\n    bar: foo\r\n    foobar: barfoo\r\n\r\nHowever, the output after `properties.store(writer, null)` is this:\r\n\r\n    foo=bar\r\n    bar=foo\r\n    foobar=barfoo\r\n\r\nThe config file I edit is not for my program, it is for an other application that needs the config file to be in the format shown above with `:` as divider or else it will reset the configuration to default.\r\n\r\nDoes anybody know how to easily change this?\r\n\r\nI searched through the first 5 Google pages now but found noone with a similar problem.\r\nI also checked the Javadoc and found no function that allows me to change it without writing a class for myself.\r\nI would like to use `Properties` for now since it is there and quite easy to use.\r\nI also got the idea of just replacing all `=` with `:` after I saved the file but maybe someone got a better suggestion?","title":"How to change the Properties.store() divider symbol from &quot;=&quot; to &quot;:&quot;?","body":"<p>I recently found out about <code>java.util.Properties</code>, which allows me to write and read from a config without writing my own function for it.</p>\n\n<p>I was excited since it is so easy to use, but later noticed a flaw when I stored the modified config file.</p>\n\n<p>Here is my code, quite simple for now:</p>\n\n<pre><code>FileWriter writer = null;\nProperties configFile = new Properties();\nconfigFile.load(ReadFileTest.class.getClassLoader().getResourceAsStream(\"config.txt\"));\n\nString screenwidth = configFile.getProperty(\"screenwidth\");\nString screenheight = configFile.getProperty(\"screenheight\");\nSystem.out.println(screenwidth);\nSystem.out.println(screenheight);\nconfigFile.setProperty(\"screenwidth\", \"1024\");\nconfigFile.setProperty(\"screenheight\", \"600\");\ntry {\n    writer = new FileWriter(\"config.txt\" );\n    configFile.store(writer, null);\n} catch (IOException e) {\n    e.printStackTrace();\n}\nwriter.flush();\nwriter.close();\n</code></pre>\n\n<p>The problem I noticed was that the config file I try to edit is stored like this:</p>\n\n<pre><code>foo: bar\nbar: foo\nfoobar: barfoo\n</code></pre>\n\n<p>However, the output after <code>properties.store(writer, null)</code> is this:</p>\n\n<pre><code>foo=bar\nbar=foo\nfoobar=barfoo\n</code></pre>\n\n<p>The config file I edit is not for my program, it is for an other application that needs the config file to be in the format shown above with <code>:</code> as divider or else it will reset the configuration to default.</p>\n\n<p>Does anybody know how to easily change this?</p>\n\n<p>I searched through the first 5 Google pages now but found noone with a similar problem.\nI also checked the Javadoc and found no function that allows me to change it without writing a class for myself.\nI would like to use <code>Properties</code> for now since it is there and quite easy to use.\nI also got the idea of just replacing all <code>=</code> with <code>:</code> after I saved the file but maybe someone got a better suggestion?</p>\n"},{"tags":["java","windows","hibernate"],"comments":[{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":0,"creation_date":1441284231,"post_id":32375755,"comment_id":52622741,"body_markdown":"What kind of query are you running? And what are you doing with the image URL? I can&#39;t see what the OS has to do with a Hibernate query.","body":"What kind of query are you running? And what are you doing with the image URL? I can&#39;t see what the OS has to do with a Hibernate query."},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1441284350,"post_id":32375755,"comment_id":52622827,"body_markdown":"OS has nothing to with this hibernate query or your URL column in Database. Post your entity and post your HQLQuery. Theory questions cant help any.","body":"OS has nothing to with this hibernate query or your URL column in Database. Post your entity and post your HQLQuery. Theory questions cant help any."},{"owner":{"account_id":5104734,"reputation":3,"user_id":4093164,"display_name":"Bruno Isoardi"},"score":0,"creation_date":1441286271,"post_id":32375755,"comment_id":52624310,"body_markdown":"I&#39;m doin&#39; a native query:\n \n&lt;code&gt;\n[UPDATE products SET products.title = &#39;On Cloudsurfer Running Women\\&#39;s Shoes Size 5.5&#39;, products.brand = &#39;On Running&#39;, products.urlImage = &#39;&quot;http://&quot;ecx.images-amazon.com/images/I/31NpvJwpEYL._SL75_.jpg&#39;, products.weight = 1.85, products.width = 7.8, products.height = 4.2, products.length = 10.9, products.amazonSize = &#39;5.5 B(M) Women\\&#39;s US&#39; WHERE products.sku=&#39;0000027001WM-SZ-5.5&#39;;]\nAnd my problem is with the colons... on ubuntu and mac, the prefix is not a problem, but it seems that windows needs it all the time, &#39;cause the images are not showing","body":"I&#39;m doin&#39; a native query:   &lt;code&gt; [UPDATE products SET products.title = &#39;On Cloudsurfer Running Women\\&#39;s Shoes Size 5.5&#39;, products.brand = &#39;On Running&#39;, products.urlImage = &#39;&quot;http://&quot;ecx.images-amazon.com/images/I/31NpvJwpEYL._SL75_.&zwnj;&#8203;jpg&#39;, products.weight = 1.85, products.width = 7.8, products.height = 4.2, products.length = 10.9, products.amazonSize = &#39;5.5 B(M) Women\\&#39;s US&#39; WHERE products.sku=&#39;0000027001WM-SZ-5.5&#39;;] And my problem is with the colons... on ubuntu and mac, the prefix is not a problem, but it seems that windows needs it all the time, &#39;cause the images are not showing"}],"answers":[{"tags":[],"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441284858,"creation_date":1441284858,"answer_id":32376254,"question_id":32375755,"body_markdown":"   Sometimes persistent objects may contain fields with characters like %, _, !, and so on. One issue with this arises in case one is using Hibernate’s criteria queries for filtering.\r\n     \r\nUse this code snipet for the reference: \r\n    \r\n\r\n    \r\n    public class EscapedRestrictions {\r\n        public static Criterion ilike(String propertyName, String value) {\r\n            return new EscapedILikeExpression(propertyName, value);\r\n        }\r\n     \r\n        public static Criterion ilike(String propertyName, String value, MatchMode matchMode) {\r\n            return new EscapedILikeExpression(propertyName, value, matchMode);\r\n        }\r\n    }\r\n     \r\n    class EscapedILikeExpression extends IlikeExpression {\r\n        private static final String HIBERNATE_ESCAPE_CHAR = &quot;\\\\&quot;;\r\n     \r\n        public EscapedILikeExpression(String propertyName, Object value) {\r\n            super(propertyName, value);\r\n        }\r\n     \r\n        public EscapedILikeExpression(String propertyName, String value, MatchMode matchMode) {\r\n            super(propertyName, replaceAll(value), matchMode);\r\n        }\r\n     \r\n        private static String replaceAll(String value) {\r\n            return value\r\n                    .replace(&quot;\\\\&quot;,  HIBERNATE_ESCAPE_CHAR + &quot;\\\\&quot;)\r\n                    .replace(&quot;_&quot;,   HIBERNATE_ESCAPE_CHAR + &quot;_&quot;)\r\n                    .replace(&quot;%&quot;,   HIBERNATE_ESCAPE_CHAR + &quot;%&quot;);\r\n     \r\n        }\r\n    }\r\n\r\n\r\nThe usage is the same as in the snippet above, with only difference of replacing Restrictions class with EscapedRestrictions.","title":"Read colons for an URL adress with hibernate","body":"<p>Sometimes persistent objects may contain fields with characters like %, _, !, and so on. One issue with this arises in case one is using Hibernate’s criteria queries for filtering.</p>\n\n<p>Use this code snipet for the reference: </p>\n\n<pre><code>public class EscapedRestrictions {\n    public static Criterion ilike(String propertyName, String value) {\n        return new EscapedILikeExpression(propertyName, value);\n    }\n\n    public static Criterion ilike(String propertyName, String value, MatchMode matchMode) {\n        return new EscapedILikeExpression(propertyName, value, matchMode);\n    }\n}\n\nclass EscapedILikeExpression extends IlikeExpression {\n    private static final String HIBERNATE_ESCAPE_CHAR = \"\\\\\";\n\n    public EscapedILikeExpression(String propertyName, Object value) {\n        super(propertyName, value);\n    }\n\n    public EscapedILikeExpression(String propertyName, String value, MatchMode matchMode) {\n        super(propertyName, replaceAll(value), matchMode);\n    }\n\n    private static String replaceAll(String value) {\n        return value\n                .replace(\"\\\\\",  HIBERNATE_ESCAPE_CHAR + \"\\\\\")\n                .replace(\"_\",   HIBERNATE_ESCAPE_CHAR + \"_\")\n                .replace(\"%\",   HIBERNATE_ESCAPE_CHAR + \"%\");\n\n    }\n}\n</code></pre>\n\n<p>The usage is the same as in the snippet above, with only difference of replacing Restrictions class with EscapedRestrictions.</p>\n"}],"owner":{"account_id":5104734,"reputation":3,"user_id":4093164,"display_name":"Bruno Isoardi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":32376254,"answer_count":1,"score":-1,"last_activity_date":1674203166,"creation_date":1441283583,"question_id":32375755,"body_markdown":"Well, I know there&#39;s a lot of stuff regarding to this issue, but I couldn&#39;t find an specific one that helps me with my problem. Or, at least, I didn&#39;t figure out it yet :/.\r\n\r\nMy issue is the folowing: I have a database with products, each of them with an image field that corresponds to an URL to that image. \r\n\r\nThen, when I wanna make the query to get the url image, which starts with &#39;http://&#39; or &#39;https://&#39;, I get the classic colon trouble due to hibernate behavior.\r\n\r\nThe big deal of this is that ubuntu and mac don&#39;t have ptoblems if that prefix is not present... but windows does. \r\n\r\nThat&#39;s my problem... if there&#39;s a way to fix the colons problem, or maybe to avoid the prefix on windows so it can load the images, I&#39;ll be the happiest man on Earth. I&#39;m sorry, but I really don&#39;t know what to do to solve this, or if there&#39;s even an alternative that allows me not to deal with this specific problem.\r\n\r\nThank you in advance for your time, people! :)\r\n\r\nI&#39;m doin&#39; a native query:\r\n \r\n&lt;code&gt;\r\n[UPDATE products SET products.title = &#39;On Cloudsurfer Running Women\\&#39;s Shoes Size 5.5&#39;, products.brand = &#39;On Running&#39;, products.urlImage = &#39;http://ecx.images-amazon.com/images/I/31NpvJwpEYL._SL75_.jpg&#39;, products.weight = 1.85, products.width = 7.8, products.height = 4.2, products.length = 10.9, products.amazonSize = &#39;5.5 B(M) Women\\&#39;s US&#39; WHERE products.sku=&#39;0000027001WM-SZ-5.5&#39;;]\r\n&lt;/code&gt;\r\n\r\nAnd my problem is with the colons... on ubuntu and mac, the prefix is not a problem, but it seems that windows needs it all the time, &#39;cause the images are not showing on windows.\r\n\r\n&lt;b&gt;ERRATA&lt;/b&gt;: sorry people! Please forget the fact that only windows don&#39;t show the pictures. The system is huge, and I forgot that I patched the &quot;:&quot; with &quot;\\\\&quot;. That&#39;s the reason ubuntu and mac shows the images but windows doesn&#39;t... \r\n\r\nAnyway, the colons issue is still a problem :(","title":"Read colons for an URL adress with hibernate","body":"<p>Well, I know there's a lot of stuff regarding to this issue, but I couldn't find an specific one that helps me with my problem. Or, at least, I didn't figure out it yet :/.</p>\n\n<p>My issue is the folowing: I have a database with products, each of them with an image field that corresponds to an URL to that image. </p>\n\n<p>Then, when I wanna make the query to get the url image, which starts with 'http://' or 'https://', I get the classic colon trouble due to hibernate behavior.</p>\n\n<p>The big deal of this is that ubuntu and mac don't have ptoblems if that prefix is not present... but windows does. </p>\n\n<p>That's my problem... if there's a way to fix the colons problem, or maybe to avoid the prefix on windows so it can load the images, I'll be the happiest man on Earth. I'm sorry, but I really don't know what to do to solve this, or if there's even an alternative that allows me not to deal with this specific problem.</p>\n\n<p>Thank you in advance for your time, people! :)</p>\n\n<p>I'm doin' a native query:</p>\n\n<p><code>\n[UPDATE products SET products.title = 'On Cloudsurfer Running Women\\'s Shoes Size 5.5', products.brand = 'On Running', products.urlImage = '<a href=\"http://ecx.images-amazon.com/images/I/31NpvJwpEYL._SL75_.jpg\" rel=\"nofollow\">http://ecx.images-amazon.com/images/I/31NpvJwpEYL.<em>SL75</em>.jpg</a>', products.weight = 1.85, products.width = 7.8, products.height = 4.2, products.length = 10.9, products.amazonSize = '5.5 B(M) Women\\'s US' WHERE products.sku='0000027001WM-SZ-5.5';]\n</code></p>\n\n<p>And my problem is with the colons... on ubuntu and mac, the prefix is not a problem, but it seems that windows needs it all the time, 'cause the images are not showing on windows.</p>\n\n<p><b>ERRATA</b>: sorry people! Please forget the fact that only windows don't show the pictures. The system is huge, and I forgot that I patched the \":\" with \"\\\". That's the reason ubuntu and mac shows the images but windows doesn't... </p>\n\n<p>Anyway, the colons issue is still a problem :(</p>\n"},{"tags":["java","grails","groovy"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1544603342,"post_id":53738785,"comment_id":94330273,"body_markdown":"Check the section on labeled statements  in groovy documentation: http://groovy-lang.org/semantics.html#_labeled_statements","body":"Check the section on labeled statements  in groovy documentation: <a href=\"http://groovy-lang.org/semantics.html#_labeled_statements\" rel=\"nofollow noreferrer\">groovy-lang.org/semantics.html#_labeled_statements</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1544603061,"creation_date":1544603061,"answer_id":53738838,"question_id":53738785,"body_markdown":"It&#39;s a label, just like it would be in Java. For example:\r\n\r\n    a:\r\n    for (int i = 0; i &lt; 10; i++)\r\n    {\r\n        String a = &quot;hello&quot;\r\n        println a\r\n    ​    break a; // This refers to the label before the loop\r\n    }​","title":"Why does &quot;:&quot; at the last of a groovy statement does not throw any error?","body":"<p>It's a label, just like it would be in Java. For example:</p>\n\n<pre><code>a:\nfor (int i = 0; i &lt; 10; i++)\n{\n    String a = \"hello\"\n    println a\n​    break a; // This refers to the label before the loop\n}​\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544605636,"creation_date":1544605636,"answer_id":53739445,"question_id":53738785,"body_markdown":"One good use of labels in Groovy I can think of is the `Spock Framework`, where they are used for clauses:\r\n\r\n    def &#39;test emailToNamespace&#39;() {\r\n      given:\r\n      Partner.metaClass.&#39;static&#39;.countByNamespaceLike = { count }\r\n      \r\n      expect:\r\n      Partner.emailToNamespace( email ) == res\r\n  \r\n      where:\r\n      email                                      |  res                       | count\r\n      &#39;aaa.com&#39;                                  |  &#39;com.aaa&#39;                 | 0\r\n      &#39;aaa.com&#39;                                  |  &#39;com.aaa1&#39;                | 1\r\n    }","title":"Why does &quot;:&quot; at the last of a groovy statement does not throw any error?","body":"<p>One good use of labels in Groovy I can think of is the <code>Spock Framework</code>, where they are used for clauses:</p>\n\n<pre><code>def 'test emailToNamespace'() {\n  given:\n  Partner.metaClass.'static'.countByNamespaceLike = { count }\n\n  expect:\n  Partner.emailToNamespace( email ) == res\n\n  where:\n  email                                      |  res                       | count\n  'aaa.com'                                  |  'com.aaa'                 | 0\n  'aaa.com'                                  |  'com.aaa1'                | 1\n}\n</code></pre>\n"}],"owner":{"account_id":6108244,"reputation":175,"user_id":4765371,"display_name":"BenHuman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53738838,"answer_count":2,"score":1,"last_activity_date":1674203118,"creation_date":1544602865,"question_id":53738785,"body_markdown":"I mistakenly wrote the following in the groovy console but afterwards I realized that it should throw error but it did not. What is the reason behind groovy not throwing any error for colon at last of the statement?Is it allocated for documentation or sth like that?\r\n\r\n\r\n\r\n        a:\r\n        String a\r\n        println a\r\n\r\n\r\nThis threw no error when i tried executing this code in https://groovyconsole.appspot.com/ \r\n\r\n","title":"Why does &quot;:&quot; at the last of a groovy statement does not throw any error?","body":"<p>I mistakenly wrote the following in the groovy console but afterwards I realized that it should throw error but it did not. What is the reason behind groovy not throwing any error for colon at last of the statement?Is it allocated for documentation or sth like that?</p>\n\n<pre><code>    a:\n    String a\n    println a\n</code></pre>\n\n<p>This threw no error when i tried executing this code in <a href=\"https://groovyconsole.appspot.com/\" rel=\"nofollow noreferrer\">https://groovyconsole.appspot.com/</a> </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":233608,"reputation":26927,"user_id":499214,"display_name":"John Dvorak"},"score":0,"creation_date":1354725182,"post_id":13727892,"comment_id":18858972,"body_markdown":"What do you need it for? Are you trying to parse JSON yourself?","body":"What do you need it for? Are you trying to parse JSON yourself?"},{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":0,"creation_date":1354725377,"post_id":13727892,"comment_id":18859101,"body_markdown":"are other `item:value` pairs included in the `blah blah` parts of your string?","body":"are other <code>item:value</code> pairs included in the <code>blah blah</code> parts of your string?"},{"owner":{"account_id":954051,"reputation":1630,"user_id":979663,"accept_rate":73,"display_name":"carboncomputed"},"score":0,"creation_date":1354725614,"post_id":13727892,"comment_id":18859243,"body_markdown":"Yes there are other pairs included. I have tried: item:\\s*(\\d+). But this gives me the item as well. I want the just the value.","body":"Yes there are other pairs included. I have tried: item:\\s*(\\d+). But this gives me the item as well. I want the just the value."}],"answers":[{"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1354725202,"creation_date":1354725202,"answer_id":13727909,"question_id":13727892,"body_markdown":"You can use this `regex`\r\n\r\n`:\\s*(\\w+)`\r\n\r\n`$1` or group 1 has the required value\r\n\r\n-----\r\n\r\n`\\s*` matches 0 to many spaces\r\n\r\n`\\w+` matches 1 to many characters which can be any 1 of `[a-zA-Z\\d_]`","title":"Whats the regular expression for a colon separated value?","body":"<p>You can use this <code>regex</code></p>\n\n<p><code>:\\s*(\\w+)</code></p>\n\n<p><code>$1</code> or group 1 has the required value</p>\n\n<hr>\n\n<p><code>\\s*</code> matches 0 to many spaces</p>\n\n<p><code>\\w+</code> matches 1 to many characters which can be any 1 of <code>[a-zA-Z\\d_]</code></p>\n"},{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354725296,"creation_date":1354725296,"answer_id":13727940,"question_id":13727892,"body_markdown":"The regular expression would be\r\n\r\n    :\r\n\r\n\r\nAs in, \r\n\r\n    String value = yourString.split(&quot;:&quot;)[1].split(&quot; &quot;)[0]","title":"Whats the regular expression for a colon separated value?","body":"<p>The regular expression would be</p>\n\n<pre><code>:\n</code></pre>\n\n<p>As in, </p>\n\n<pre><code>String value = yourString.split(\":\")[1].split(\" \")[0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354725723,"creation_date":1354725420,"answer_id":13727980,"question_id":13727892,"body_markdown":"for your exact String, using **`**String.split()**`**\r\n    \r\n    String s=&quot;blah blah item: value blah blah&quot;;\r\n    System.out.println(s.split(&quot;(:\\\\s+)&quot;)[1].split(&quot;\\\\s&quot;)[0]);\r\n\r\n    Output: value","title":"Whats the regular expression for a colon separated value?","body":"<p>for your exact String, using <strong><code>**String.split()**</code></strong></p>\n\n<pre><code>String s=\"blah blah item: value blah blah\";\nSystem.out.println(s.split(\"(:\\\\s+)\")[1].split(\"\\\\s\")[0]);\n\nOutput: value\n</code></pre>\n"}],"owner":{"account_id":954051,"reputation":1630,"user_id":979663,"accept_rate":73,"display_name":"carboncomputed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13727909,"answer_count":3,"score":1,"last_activity_date":1674203101,"creation_date":1354725113,"question_id":13727892,"body_markdown":"If I have a string such as:\r\n\r\n    blah blah item: value blah blah\r\n\r\nWhat would the expression be to just get value?","title":"Whats the regular expression for a colon separated value?","body":"<p>If I have a string such as:</p>\n\n<pre><code>blah blah item: value blah blah\n</code></pre>\n\n<p>What would the expression be to just get value?</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1559465429,"post_id":56413259,"comment_id":99423611,"body_markdown":"You should try running this for all days of the week (e.g. `for (var day : DayOfWeek.values())`), and see if it does what you think it would.","body":"You should try running this for all days of the week (e.g. <code>for (var day : DayOfWeek.values())</code>), and see if it does what you think it would."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1559482485,"post_id":56413259,"comment_id":99427036,"body_markdown":"@AndyTurner This seems to be some sort of trick question posed to the OP.","body":"@AndyTurner This seems to be some sort of trick question posed to the OP."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559463571,"creation_date":1559463571,"answer_id":56413364,"question_id":56413259,"body_markdown":"This looks like a nasty case of syntax abuse. In this particular case, `case MONDAY:` does what I think you expect.\r\n\r\nHowever, the `FRIDAY:` has *nothing at all* to do with the switch block. It&#39;s a [Java label](https://docs.oracle.com/javase/specs/jls/se12/html/jls-14.html#jls-14.7) attached to the following `println` statement, and since it&#39;s never referred to, it simply has no meaning other than to be seriously confusing.\r\n\r\nNote: Never use labels. There are much clearer ways to express your ideas.","title":"Unable to understand how it works case MONDAY : FRIDAY:","body":"<p>This looks like a nasty case of syntax abuse. In this particular case, <code>case MONDAY:</code> does what I think you expect.</p>\n\n<p>However, the <code>FRIDAY:</code> has <em>nothing at all</em> to do with the switch block. It's a <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">Java label</a> attached to the following <code>println</code> statement, and since it's never referred to, it simply has no meaning other than to be seriously confusing.</p>\n\n<p>Note: Never use labels. There are much clearer ways to express your ideas.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559467016,"creation_date":1559467016,"answer_id":56413728,"question_id":56413259,"body_markdown":"I think that chrylis has already nicely explained how your code works. As a little more background: Programming languages exist that accept a range of values as case label in a switch-like statement. However, in Java and other languages with C-like `switch` statements you need to specify each case individually, like this:\r\n\r\n        case MONDAY:\r\n        case TUESDAY:\r\n        case WEDNESDAY:\r\n        case THURSDAY:\r\n        case FRIDAY:\r\n            System.out.println(&quot;Boaring&quot;);\r\n            break;\r\n\r\nYou were also missing the `break` statement that I think was intended after printing `Boaring` (or the case would “fall through” to the next case and additionally print `QuestionMark`).\r\n\r\nJava 12 has some improvements of the `switch` statement syntax. See for example the edit in [this answer by YCF_L](https://stackoverflow.com/a/48233503/5772882).\r\n","title":"Unable to understand how it works case MONDAY : FRIDAY:","body":"<p>I think that chrylis has already nicely explained how your code works. As a little more background: Programming languages exist that accept a range of values as case label in a switch-like statement. However, in Java and other languages with C-like <code>switch</code> statements you need to specify each case individually, like this:</p>\n\n<pre><code>    case MONDAY:\n    case TUESDAY:\n    case WEDNESDAY:\n    case THURSDAY:\n    case FRIDAY:\n        System.out.println(\"Boaring\");\n        break;\n</code></pre>\n\n<p>You were also missing the <code>break</code> statement that I think was intended after printing <code>Boaring</code> (or the case would “fall through” to the next case and additionally print <code>QuestionMark</code>).</p>\n\n<p>Java 12 has some improvements of the <code>switch</code> statement syntax. See for example the edit in <a href=\"https://stackoverflow.com/a/48233503/5772882\">this answer by YCF_L</a>.</p>\n"}],"owner":{"account_id":16057153,"reputation":1,"user_id":11589114,"display_name":"NAUSHAD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674203092,"creation_date":1559462641,"question_id":56413259,"body_markdown":"    import java.time.LocalDate;\r\n    import static java.time.DayOfWeek.*;\r\n    public class Test \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tvar today=LocalDate.now().with(WEDNESDAY).getDayOfWeek();\r\n    \t\tswitch(today)\r\n    \t\t{\r\n    \t\t\tcase SUNDAY:\r\n    \t\t\tcase SATURDAY:\r\n    \t\t\t\tSystem.out.println(&quot;Enjoy&quot;);\r\n    \t\t\t    break;\r\n    \t\t\tcase MONDAY : FRIDAY:\r\n    \t\t\t\tSystem.out.println(&quot;Boaring&quot;);\r\n    \t\t\tdefault:\r\n    \t\t\t\tSystem.out.println(&quot;QuestionMark&quot;);\r\n    \t\t}\t\t\r\n    \t}\r\n    }\r\n\r\nHow it is working. any one can you please help. Especially this line eating my mind :\r\n\r\n    case MONDAY : FRIDAY:","title":"Unable to understand how it works case MONDAY : FRIDAY:","body":"<pre><code>import java.time.LocalDate;\nimport static java.time.DayOfWeek.*;\npublic class Test \n{\n    public static void main(String[] args) \n    {\n        var today=LocalDate.now().with(WEDNESDAY).getDayOfWeek();\n        switch(today)\n        {\n            case SUNDAY:\n            case SATURDAY:\n                System.out.println(\"Enjoy\");\n                break;\n            case MONDAY : FRIDAY:\n                System.out.println(\"Boaring\");\n            default:\n                System.out.println(\"QuestionMark\");\n        }       \n    }\n}\n</code></pre>\n\n<p>How it is working. any one can you please help. Especially this line eating my mind :</p>\n\n<pre><code>case MONDAY : FRIDAY:\n</code></pre>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1386446285,"post_id":20445635,"comment_id":30545844,"body_markdown":"To help us: please give an example of the input and print the details of this error that you are getting (stacktrace)","body":"To help us: please give an example of the input and print the details of this error that you are getting (stacktrace)"}],"answers":[{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386445296,"creation_date":1386445296,"answer_id":20445726,"question_id":20445635,"body_markdown":"Your `while`-loop is not correctly working because you check for `fileIn.hasNext()`, but afterwards use `fileIn.nextInt()` and `fileIn.next()` in different ways.\r\n\r\nWhat you probably want to use is:\r\n\r\n\twhile (fileIn.hasNextLine()) {\r\n\t\tString line = fileIn.nextLine();\r\n\t\tString[] bigParts = line.split(&quot; &quot;);\r\n\t\tString[] timeParts = bigParts[0].split(&quot;:&quot;);\r\n\t\troster.add(new Time(\r\n\t\t\tInteger.parseInt(timeParts[0]), \r\n\t\t\tInteger.parseInt(timeParts[1]), \r\n\t\t\tbigParts[1]\r\n\t\t));\r\n\t}\r\n\r\nThis reads the file line by line, then takes the line it has read. Following it splits the text up in three parts, first by ` ` (blank), then by `:` (colon).\r\n\r\n**UPDATE:** Added `Integer.parseInt()` as it was originally done aswell.","title":"TimeSorter: Read time(form of hh:mm a.m.) file using Scanner","body":"<p>Your <code>while</code>-loop is not correctly working because you check for <code>fileIn.hasNext()</code>, but afterwards use <code>fileIn.nextInt()</code> and <code>fileIn.next()</code> in different ways.</p>\n\n<p>What you probably want to use is:</p>\n\n<pre><code>while (fileIn.hasNextLine()) {\n    String line = fileIn.nextLine();\n    String[] bigParts = line.split(\" \");\n    String[] timeParts = bigParts[0].split(\":\");\n    roster.add(new Time(\n        Integer.parseInt(timeParts[0]), \n        Integer.parseInt(timeParts[1]), \n        bigParts[1]\n    ));\n}\n</code></pre>\n\n<p>This reads the file line by line, then takes the line it has read. Following it splits the text up in three parts, first by <code></code> (blank), then by <code>:</code> (colon).</p>\n\n<p><strong>UPDATE:</strong> Added <code>Integer.parseInt()</code> as it was originally done aswell.</p>\n"}],"owner":{"account_id":3697074,"reputation":13,"user_id":3078110,"display_name":"user3078110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20445726,"answer_count":1,"score":0,"last_activity_date":1674203080,"creation_date":1386444724,"question_id":20445635,"body_markdown":"Here is how far I&#39;ve done.\r\n\r\n    try\r\n       {\r\n          Scanner keyb = new Scanner(System.in);\r\n          System.out.print(&quot;Enter the name of the input file-&gt; &quot;);\r\n          String inFileName = keyb.next();\r\n          System.out.print(&quot;Enter the name of the output file-&gt; &quot;);\r\n          String outFileName = keyb.next();            \r\n          ArrayList&lt;Time&gt; roster = new ArrayList&lt;Time&gt;();\r\n          Scanner fileIn = new Scanner(new File(inFileName)); \r\n          while (fileIn.hasNext())\r\n          {\r\n             int hours = fileIn.nextInt();\r\n             int minutes = fileIn.nextInt();\r\n             String meridian = fileIn.next();\r\n             roster.add(new Time(hours,minutes,meridian));\r\n          }\r\n          fileIn.close();\r\n\r\nBasically, what I have to do is read &#39;appointment.txt&#39; file that has all different time that is in 11:30 a.m. form to sort it in order and save it different file name. But because of colon(:) in between hour and minutes, my while loop can&#39;t read time correctly and make error. What would make my while loop working?","title":"TimeSorter: Read time(form of hh:mm a.m.) file using Scanner","body":"<p>Here is how far I've done.</p>\n\n<pre><code>try\n   {\n      Scanner keyb = new Scanner(System.in);\n      System.out.print(\"Enter the name of the input file-&gt; \");\n      String inFileName = keyb.next();\n      System.out.print(\"Enter the name of the output file-&gt; \");\n      String outFileName = keyb.next();            \n      ArrayList&lt;Time&gt; roster = new ArrayList&lt;Time&gt;();\n      Scanner fileIn = new Scanner(new File(inFileName)); \n      while (fileIn.hasNext())\n      {\n         int hours = fileIn.nextInt();\n         int minutes = fileIn.nextInt();\n         String meridian = fileIn.next();\n         roster.add(new Time(hours,minutes,meridian));\n      }\n      fileIn.close();\n</code></pre>\n\n<p>Basically, what I have to do is read 'appointment.txt' file that has all different time that is in 11:30 a.m. form to sort it in order and save it different file name. But because of colon(:) in between hour and minutes, my while loop can't read time correctly and make error. What would make my while loop working?</p>\n"},{"tags":["java","properties"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1441174755,"creation_date":1429271073,"answer_id":29698220,"question_id":29698158,"body_markdown":"Ugly, but needs a backslash as instead of a `=`, one might use a colon.\r\nMore,customer-friendly would be a minus sign!.\r\n\r\n    keyPrefix\\:keySuffix = value\r\n\r\n.","title":"How to read properties with &quot;:&quot; colon in key name","body":"<p>Ugly, but needs a backslash as instead of a <code>=</code>, one might use a colon.\nMore,customer-friendly would be a minus sign!.</p>\n\n<pre><code>keyPrefix\\:keySuffix = value\n</code></pre>\n\n<p>.</p>\n"}],"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29698220,"answer_count":1,"score":0,"last_activity_date":1674203064,"creation_date":1429270896,"question_id":29698158,"body_markdown":"How to read properties, which having in key name &quot;:&quot; character?\r\n\r\nIn actual default use properties, colon is taken as delimiter too..\r\n\r\nAny ideas how to ?\r\n\r\n`keyPrefix:keySuffix = value`\r\n\r\n`keyPrefix:keySuffix` is meant as whole name where `:` is part of it.\r\n\r\nI know there is also possibility to store/read properties as XML format, but its not acceptable (customers &quot;noobs&quot; wont read XML `:)` ).\r\n\r\nI also know that I could make my own parser, but I before I do, I would better know other easier solution..","title":"How to read properties with &quot;:&quot; colon in key name","body":"<p>How to read properties, which having in key name \":\" character?</p>\n\n<p>In actual default use properties, colon is taken as delimiter too..</p>\n\n<p>Any ideas how to ?</p>\n\n<p><code>keyPrefix:keySuffix = value</code></p>\n\n<p><code>keyPrefix:keySuffix</code> is meant as whole name where <code>:</code> is part of it.</p>\n\n<p>I know there is also possibility to store/read properties as XML format, but its not acceptable (customers \"noobs\" wont read XML <code>:)</code> ).</p>\n\n<p>I also know that I could make my own parser, but I before I do, I would better know other easier solution..</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":3,"creation_date":1335629642,"post_id":10365263,"comment_id":13357199,"body_markdown":"Works for me. What `String` are you passing into your method? (Check it with `System.out`.)","body":"Works for me. What <code>String</code> are you passing into your method? (Check it with <code>System.out</code>.)"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1335629751,"post_id":10365263,"comment_id":13357227,"body_markdown":"What you *think* is happening is not happening. Whatever you&#39;re passing to that function *isn&#39;t* the string you show (which means none of the proposed solutions below are going to help either - your input isn&#39;t what you think it is).","body":"What you <i>think</i> is happening is not happening. Whatever you&#39;re passing to that function <i>isn&#39;t</i> the string you show (which means none of the proposed solutions below are going to help either - your input isn&#39;t what you think it is)."}],"answers":[{"tags":[],"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1335629649,"creation_date":1335629649,"answer_id":10365289,"question_id":10365263,"body_markdown":"Couldn&#39;t you just remove a colon that&#39;s followed by two digits if a space is the next character that follows?\r\n\r\n    String resultString = subjectString.replaceAll(&quot;:\\\\d{2}(?= )&quot;, &quot;&quot;);","title":"Java String split not working as expected using a colon (&quot;:&quot;)","body":"<p>Couldn't you just remove a colon that's followed by two digits if a space is the next character that follows?</p>\n\n<pre><code>String resultString = subjectString.replaceAll(\":\\\\d{2}(?= )\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1335629757,"creation_date":1335629757,"answer_id":10365303,"question_id":10365263,"body_markdown":"I would advise a different approach entirely: parse the value into the appropriate domain-specific type (I&#39;d use `LocalDateTime` from [Joda Time][1]) and then reformat it in the format you want. This will perform validation at the same time, so you don&#39;t propagate bad data through your system just because it happens to have a colon in it.\r\n\r\nJoda Time provides parse and format facilities (see [`DateTimeFormat`][2] and [`DateTimeFormatter`][3]), so it should be pretty simple.\r\n\r\n\r\n  [1]: http://joda-time.sf.net\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormat.html\r\n  [3]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html","title":"Java String split not working as expected using a colon (&quot;:&quot;)","body":"<p>I would advise a different approach entirely: parse the value into the appropriate domain-specific type (I'd use <code>LocalDateTime</code> from <a href=\"http://joda-time.sf.net\">Joda Time</a>) and then reformat it in the format you want. This will perform validation at the same time, so you don't propagate bad data through your system just because it happens to have a colon in it.</p>\n\n<p>Joda Time provides parse and format facilities (see <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormat.html\"><code>DateTimeFormat</code></a> and <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html\"><code>DateTimeFormatter</code></a>), so it should be pretty simple.</p>\n"},{"tags":[],"owner":{"account_id":1064637,"reputation":7437,"user_id":1065525,"display_name":"Alexis Pigeon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335629893,"creation_date":1335629893,"answer_id":10365318,"question_id":10365263,"body_markdown":"Why don&#39;t you use [SimpleDateFormat](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)?\r\n\r\nFirst parse the Date : \r\n\r\n`Date d = new SimpleDateFormat(&quot;MM/dd/yyyy h:mm:ss a&quot;).format(str);`\r\n\r\nThen format the Date : \r\n\r\n`new SimpleDateFormat(&quot;MM/dd/yyyy h:mm a&quot;).format(d);`","title":"Java String split not working as expected using a colon (&quot;:&quot;)","body":"<p>Why don't you use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>?</p>\n\n<p>First parse the Date : </p>\n\n<p><code>Date d = new SimpleDateFormat(\"MM/dd/yyyy h:mm:ss a\").format(str);</code></p>\n\n<p>Then format the Date : </p>\n\n<p><code>new SimpleDateFormat(\"MM/dd/yyyy h:mm a\").format(d);</code></p>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335629984,"creation_date":1335629984,"answer_id":10365327,"question_id":10365263,"body_markdown":"If the String is always of the same format (ending in 2 digits for the seconds, a space and them AM or PM), you can just extract the relevant parts with the `substring` method available on each `String` instance\r\n\r\n    String original = &quot;10/31/2009 9:46:16 AM&quot;;\r\n    //-6 since we want to remove the : as well\r\n    String firstPart = original.substring( 0, original.length() - 6 );\r\n    String secondPart = original.substring( original.length() - 3, original.length() );\r\n    String result = firstPart + secondPart;","title":"Java String split not working as expected using a colon (&quot;:&quot;)","body":"<p>If the String is always of the same format (ending in 2 digits for the seconds, a space and them AM or PM), you can just extract the relevant parts with the <code>substring</code> method available on each <code>String</code> instance</p>\n\n<pre><code>String original = \"10/31/2009 9:46:16 AM\";\n//-6 since we want to remove the : as well\nString firstPart = original.substring( 0, original.length() - 6 );\nString secondPart = original.substring( original.length() - 3, original.length() );\nString result = firstPart + secondPart;\n</code></pre>\n"}],"owner":{"account_id":1443822,"reputation":13,"user_id":1363080,"display_name":"Zack Andrews"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10365289,"answer_count":4,"score":1,"last_activity_date":1674203053,"creation_date":1335629474,"question_id":10365263,"body_markdown":"I am trying to remove the seconds off of this string:\r\n\r\n    10/31/2009 9:46:16 AM\r\n\r\nI&#39;m attempting using the following function to do this:\r\n\r\n    public static String correctValue4(String str) {\r\n\t\tString parts[] = str.split(&quot;:&quot;);\r\n\t\tString fixedStr = parts[0] + &quot;:&quot; + parts[1];\r\n\t\treturn fixedStr;\r\n\t}\r\n\r\nI figured it would parse through it and get the 10/31/2009 9 and then add the 46 at the end.  However, I am getting a &quot;java.lang.ArrayIndexOutOfBoundsException: 1&quot; error upon running.  Obviously, it&#39;s not picking up the parts[1].\r\n\r\nAny ideas?\r\n\r\nFor extra karma: I&#39;m needing to append the AM/PM back onto the end of the string.  So, in the end it should look like this:\r\n\r\n    10/31/2009 9:46 AM\r\n\r\nThanks, your help is greatly appreciated =)\r\n\r\nEDIT:\r\n\r\nSorry, I should have been more specific regarding the date.  What I&#39;m doing is accepting a tab delimited text file into the application and then formatting it and outputting it into  a new file.  All I was needing to do was drop the seconds from the date as per request and output it;  I think I was just way over complicating it. \r\n\r\nTim&#39;s answer worked in this case!\r\n\r\nThank you, everyone, who offered suggestions!","title":"Java String split not working as expected using a colon (&quot;:&quot;)","body":"<p>I am trying to remove the seconds off of this string:</p>\n\n<pre><code>10/31/2009 9:46:16 AM\n</code></pre>\n\n<p>I'm attempting using the following function to do this:</p>\n\n<pre><code>public static String correctValue4(String str) {\n    String parts[] = str.split(\":\");\n    String fixedStr = parts[0] + \":\" + parts[1];\n    return fixedStr;\n}\n</code></pre>\n\n<p>I figured it would parse through it and get the 10/31/2009 9 and then add the 46 at the end.  However, I am getting a \"java.lang.ArrayIndexOutOfBoundsException: 1\" error upon running.  Obviously, it's not picking up the parts[1].</p>\n\n<p>Any ideas?</p>\n\n<p>For extra karma: I'm needing to append the AM/PM back onto the end of the string.  So, in the end it should look like this:</p>\n\n<pre><code>10/31/2009 9:46 AM\n</code></pre>\n\n<p>Thanks, your help is greatly appreciated =)</p>\n\n<p>EDIT:</p>\n\n<p>Sorry, I should have been more specific regarding the date.  What I'm doing is accepting a tab delimited text file into the application and then formatting it and outputting it into  a new file.  All I was needing to do was drop the seconds from the date as per request and output it;  I think I was just way over complicating it. </p>\n\n<p>Tim's answer worked in this case!</p>\n\n<p>Thank you, everyone, who offered suggestions!</p>\n"},{"tags":["javascript","java","photoshop"],"comments":[{"owner":{"account_id":18365332,"reputation":10550,"user_id":13376511,"display_name":"Michael M."},"score":1,"creation_date":1674103335,"post_id":75160163,"comment_id":132644760,"body_markdown":"[Java is not JavaScript!](http://javascriptisnotjava.com/)","body":"<a href=\"http://javascriptisnotjava.com/\" rel=\"nofollow noreferrer\">Java is not JavaScript!</a>"},{"owner":{"account_id":1817615,"reputation":6587,"user_id":1654143,"accept_rate":71,"display_name":"Ghoul Fool"},"score":1,"creation_date":1674220648,"post_id":75160163,"comment_id":132673150,"body_markdown":"What&#39;s wrong with using contact sheet normally?? - you can use on a folder or a number of files and even ave the save file list as XML.","body":"What&#39;s wrong with using contact sheet normally?? - you can use on a folder or a number of files and even ave the save file list as XML."},{"owner":{"account_id":20647790,"reputation":89,"user_id":15158878,"display_name":"Sherlock_Holmes"},"score":0,"creation_date":1674232777,"post_id":75160163,"comment_id":132677780,"body_markdown":"What do you mean by normally? I need to make the sheet via script. Could you please kindly help me with scripting? Thanks.","body":"What do you mean by normally? I need to make the sheet via script. Could you please kindly help me with scripting? Thanks."},{"owner":{"account_id":11262638,"reputation":6110,"user_id":8260484,"display_name":"cybernetic.nomad"},"score":0,"creation_date":1674240533,"post_id":75160163,"comment_id":132680162,"body_markdown":"Have you tried running contact sheet in Photoshop?","body":"Have you tried running contact sheet in Photoshop?"},{"owner":{"account_id":20647790,"reputation":89,"user_id":15158878,"display_name":"Sherlock_Holmes"},"score":0,"creation_date":1674241031,"post_id":75160163,"comment_id":132680312,"body_markdown":"Yes. But I need to use via script. I don&#39;t understand the reason of this question you asked!","body":"Yes. But I need to use via script. I don&#39;t understand the reason of this question you asked!"}],"owner":{"account_id":20647790,"reputation":89,"user_id":15158878,"display_name":"Sherlock_Holmes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674202992,"creation_date":1674049372,"question_id":75160163,"body_markdown":"I tried to make a script to do this via photoshop. But unfortunately, no files will open in photoshop. Any help, please?\r\nPS:\r\n1. The name of files are: &quot;D:/MyBook.jpg&quot;,&quot;D:/TheSun.jpg&quot;,&quot;D:/Car.jpg&quot;\r\n2. They should load in alphabetic order. I mean the script should load it in alphabetic order.\r\n```\r\nfunction createContactSheet(fileNames){\r\nvar id = stringIDToTypeID( &quot;0B71D221-F8CE-11d2-B21B-0008C75B322C&quot; );\r\n    var desc1 = new ActionDescriptor();\r\n    var idCSIISettings = stringIDToTypeID( &quot;CSIISettings&quot; );\r\n    desc1.putString( idCSIISettings, &#39;&lt;ContactSheetIISettings&gt;&#39;+\r\n  &#39;&lt;source imageSource=&quot;Files&quot; selectFile=&quot;&#39;+ fileNames +&#39;&quot;/&gt;&#39;+\r\n  &#39;&lt;document units=&quot;pixels&quot; width=&quot;910&quot; height=&quot;25000&quot; resolution=&quot;72&quot; resUnits=&quot;pixels/inch&quot; mode=&quot;RGB Color&quot; bitDepth=&quot;8-bit&quot; colorProfile=&quot;sRGB IEC61966-2.1&quot; flattenLayers=&quot;true&quot;/&gt;&#39;+\r\n  &#39;&lt;thumbnail place=&quot;across first&quot; cols=&quot;1&quot; rows=&quot;100&quot; bestFit=&quot;false&quot; useAutospacing=&quot;true&quot; horz=&quot;1 px&quot; vert=&quot;1 px&quot;/&gt;&#39;+\r\n  &#39;&lt;caption enabled=&quot;false&quot;&gt;&#39;+\r\n  &#39;&lt;font name=&quot;Arial&quot; size=&quot;12&quot;/&gt;&#39;+\r\n  &#39;&lt;/caption&gt;&#39;+\r\n&#39;&lt;/ContactSheetIISettings&gt;&#39; );\r\n    var idMsge = charIDToTypeID( &quot;Msge&quot; );\r\n    desc1.putString( idMsge, &quot;Settings for Contact Sheet II&quot; );\r\nexecuteAction( id, desc1, DialogModes.NO );\r\n}\r\n\r\nvar fileNames = new File (&quot;D:/HardSub2SRT/Pic of Subs/J2testJva/0001.jpg&quot;,&quot;D:/MyBook.jpg&quot;,&quot;D:/TheSun.jpg&quot;,&quot;D:/Car.jpg&quot;);\r\n$.setenv(&quot;NoUI&quot;,false);\r\ncreateContactSheet(fileNames);\r\n$.setenv(&quot;NoUI&quot;,&quot;&quot;);\r\n```","title":"How to run Contact Sheet II on multiple files via JavaScript in photoshop?","body":"<p>I tried to make a script to do this via photoshop. But unfortunately, no files will open in photoshop. Any help, please?\nPS:</p>\n<ol>\n<li>The name of files are: &quot;D:/MyBook.jpg&quot;,&quot;D:/TheSun.jpg&quot;,&quot;D:/Car.jpg&quot;</li>\n<li>They should load in alphabetic order. I mean the script should load it in alphabetic order.</li>\n</ol>\n<pre><code>function createContactSheet(fileNames){\nvar id = stringIDToTypeID( &quot;0B71D221-F8CE-11d2-B21B-0008C75B322C&quot; );\n    var desc1 = new ActionDescriptor();\n    var idCSIISettings = stringIDToTypeID( &quot;CSIISettings&quot; );\n    desc1.putString( idCSIISettings, '&lt;ContactSheetIISettings&gt;'+\n  '&lt;source imageSource=&quot;Files&quot; selectFile=&quot;'+ fileNames +'&quot;/&gt;'+\n  '&lt;document units=&quot;pixels&quot; width=&quot;910&quot; height=&quot;25000&quot; resolution=&quot;72&quot; resUnits=&quot;pixels/inch&quot; mode=&quot;RGB Color&quot; bitDepth=&quot;8-bit&quot; colorProfile=&quot;sRGB IEC61966-2.1&quot; flattenLayers=&quot;true&quot;/&gt;'+\n  '&lt;thumbnail place=&quot;across first&quot; cols=&quot;1&quot; rows=&quot;100&quot; bestFit=&quot;false&quot; useAutospacing=&quot;true&quot; horz=&quot;1 px&quot; vert=&quot;1 px&quot;/&gt;'+\n  '&lt;caption enabled=&quot;false&quot;&gt;'+\n  '&lt;font name=&quot;Arial&quot; size=&quot;12&quot;/&gt;'+\n  '&lt;/caption&gt;'+\n'&lt;/ContactSheetIISettings&gt;' );\n    var idMsge = charIDToTypeID( &quot;Msge&quot; );\n    desc1.putString( idMsge, &quot;Settings for Contact Sheet II&quot; );\nexecuteAction( id, desc1, DialogModes.NO );\n}\n\nvar fileNames = new File (&quot;D:/HardSub2SRT/Pic of Subs/J2testJva/0001.jpg&quot;,&quot;D:/MyBook.jpg&quot;,&quot;D:/TheSun.jpg&quot;,&quot;D:/Car.jpg&quot;);\n$.setenv(&quot;NoUI&quot;,false);\ncreateContactSheet(fileNames);\n$.setenv(&quot;NoUI&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":["java","oop","instance"],"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1674202408,"post_id":75167636,"comment_id":132667586,"body_markdown":"Doesn&#39;t make any sense to &quot;have a strict deadline&quot; if you&#39;re &quot;new to coding&quot;. Maybe you should look for another employer soon if you don&#39;t want to be a slave.","body":"Doesn&#39;t make any sense to &quot;have a strict deadline&quot; if you&#39;re &quot;new to coding&quot;. Maybe you should look for another employer soon if you don&#39;t want to be a slave."}],"answers":[{"tags":[],"owner":{"account_id":25587262,"reputation":23,"user_id":19364794,"display_name":"Boycpu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674102909,"creation_date":1674101885,"answer_id":75167722,"question_id":75167636,"body_markdown":"Do you mean?\r\n\r\n    public class Pokemon {\r\n    \tprivate String name;\r\n    \tprivate String group;\r\n    \tprivate int defeatedTimes;\r\n    \r\n    \tpublic Pokemon(String name, String group, int defeatedTimes) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.pass = group;\r\n    \t\tthis.defeatedTimes = defeatedTimes;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getGroup() {\r\n    \t\treturn group;\r\n    \t}\r\n    \r\n    \tpublic void setGroup(String group) {\r\n    \t\tthis.group = group;\r\n    \t}\r\n    \r\n    \tpublic int getDefeatedTimes() {\r\n    \t\treturn defeatedTimes;\r\n    \t}\r\n    \r\n    \tpublic void setDefeatedTimes(int defeatedTimes) {\r\n    \t\tthis.defeatedTimes = defeatedTimes;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Access instance of a class in another class","body":"<p>Do you mean?</p>\n<pre><code>public class Pokemon {\n    private String name;\n    private String group;\n    private int defeatedTimes;\n\n    public Pokemon(String name, String group, int defeatedTimes) {\n        this.name = name;\n        this.pass = group;\n        this.defeatedTimes = defeatedTimes;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getGroup() {\n        return group;\n    }\n\n    public void setGroup(String group) {\n        this.group = group;\n    }\n\n    public int getDefeatedTimes() {\n        return defeatedTimes;\n    }\n\n    public void setDefeatedTimes(int defeatedTimes) {\n        this.defeatedTimes = defeatedTimes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674201885,"creation_date":1674113672,"answer_id":75168983,"question_id":75167636,"body_markdown":"You should not define your ```Pokemon``` inside a ```Battle```. You should instead pass your ```Pokemon``` into this ```Battle``` class.\r\n\r\nSo you should instead define your Pokemon in your Main class:  \r\n```java\r\npublic class Main {\r\n  // Your functions...\r\n\r\n  private ArrayList&lt;Pokemon&gt; getMyPokemons() {\r\n    ArrayList&lt;Pokemon&gt; myPokemonList = new ArrayList&lt;&gt;();\r\n    Pokemon fire = new Pokemon(&quot;Charmander&quot;, &quot;Fire&quot;);\r\n    Pokemon water = new Pokemon(&quot;Squirtle&quot;, &quot;Water&quot;);\r\n    Pokemon plant = new Pokemon(&quot;Bulbasaur&quot;, &quot;Grass&quot;);\r\n    Pokemon ground = new Pokemon(&quot;X&quot;, &quot;Ground&quot;);\r\n    myPokemonList.add(fire);\r\n    myPokemonList.add(water);\r\n    myPokemonList.add(plant);\r\n    myPokemonList.add(ground);\r\n    return myPokemonList;\r\n  }\r\n\r\n  private void triggerBattle() {\r\n    ArrayList&lt;Pokemon&gt; myPokemonList = getMyPokemons();\r\n    Battle battle = new Battle(myPokemonList);\r\n  }\r\n}\r\n```\r\nAnd in your ```Battle``` class,\r\n```java\r\npublic class Battle extends JFrame {\r\n  private ArrayList&lt;Pokemon&gt; myPokemons;\r\n  // Create constructor to receive your Pokemon\r\n  public Battle(ArrayList&lt;Pokemon&gt; myPokemons) {\r\n    this.myPokemons = myPokemons;\r\n  }\r\n\r\n  // And in other functions within this class, you can access\r\n  // myPokemons list\r\n}\r\n```\r\n\r\nAnd of course if you need more information related to the ```Pokemon```, you need to refer to @Boycpu suggestion and add more attributes to your ```Pokemon``` class.","title":"Access instance of a class in another class","body":"<p>You should not define your <code>Pokemon</code> inside a <code>Battle</code>. You should instead pass your <code>Pokemon</code> into this <code>Battle</code> class.</p>\n<p>So you should instead define your Pokemon in your Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  // Your functions...\n\n  private ArrayList&lt;Pokemon&gt; getMyPokemons() {\n    ArrayList&lt;Pokemon&gt; myPokemonList = new ArrayList&lt;&gt;();\n    Pokemon fire = new Pokemon(&quot;Charmander&quot;, &quot;Fire&quot;);\n    Pokemon water = new Pokemon(&quot;Squirtle&quot;, &quot;Water&quot;);\n    Pokemon plant = new Pokemon(&quot;Bulbasaur&quot;, &quot;Grass&quot;);\n    Pokemon ground = new Pokemon(&quot;X&quot;, &quot;Ground&quot;);\n    myPokemonList.add(fire);\n    myPokemonList.add(water);\n    myPokemonList.add(plant);\n    myPokemonList.add(ground);\n    return myPokemonList;\n  }\n\n  private void triggerBattle() {\n    ArrayList&lt;Pokemon&gt; myPokemonList = getMyPokemons();\n    Battle battle = new Battle(myPokemonList);\n  }\n}\n</code></pre>\n<p>And in your <code>Battle</code> class,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Battle extends JFrame {\n  private ArrayList&lt;Pokemon&gt; myPokemons;\n  // Create constructor to receive your Pokemon\n  public Battle(ArrayList&lt;Pokemon&gt; myPokemons) {\n    this.myPokemons = myPokemons;\n  }\n\n  // And in other functions within this class, you can access\n  // myPokemons list\n}\n</code></pre>\n<p>And of course if you need more information related to the <code>Pokemon</code>, you need to refer to @Boycpu suggestion and add more attributes to your <code>Pokemon</code> class.</p>\n"}],"owner":{"account_id":27569235,"reputation":3,"user_id":21040769,"display_name":"1004"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75168983,"answer_count":2,"score":-1,"last_activity_date":1674201885,"creation_date":1674100824,"question_id":75167636,"body_markdown":"I&#39;m very new to coding and have a strict deadline for this assignment so I couldn&#39;t find an explanation I understood very well so I am asking here.\r\n\r\nI am makign an instance of my Pokemon class in a another class for my main game. I however need info on how many times a pokemon was defeated in my catch pokemon class as I want a user to only be able to catch a pokemon if they&#39;ve beat it a certain amount of times. I have no clue how to do this however. \r\n\r\nThis is how the class is used if it is of any help:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class Battle extends JFrame{\r\n    \r\n    public Pokemon fire = new Pokemon(&quot;Charmander&quot;, &quot;Fire&quot;);\r\n    public Pokemon water = new Pokemon(&quot;Squirtle&quot;, &quot;Water&quot;);\r\n    public Pokemon plant = new Pokemon(&quot;Bulbasaur&quot;, &quot;Grass&quot;);\r\n    public Pokemon ground = new Pokemon(&quot;X&quot;, &quot;Ground&quot;);\r\n\r\n\r\n\r\nI have tried something like Battle.pikachu.toString() in the main class to just test how to access it because that is what someone else told me but the battle part confuses me as I don&#39;t think it is actually referrign to anything when in my main class. ","title":"Access instance of a class in another class","body":"<p>I'm very new to coding and have a strict deadline for this assignment so I couldn't find an explanation I understood very well so I am asking here.</p>\n<p>I am makign an instance of my Pokemon class in a another class for my main game. I however need info on how many times a pokemon was defeated in my catch pokemon class as I want a user to only be able to catch a pokemon if they've beat it a certain amount of times. I have no clue how to do this however.</p>\n<p>This is how the class is used if it is of any help:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Battle extends JFrame{\n\npublic Pokemon fire = new Pokemon(&quot;Charmander&quot;, &quot;Fire&quot;);\npublic Pokemon water = new Pokemon(&quot;Squirtle&quot;, &quot;Water&quot;);\npublic Pokemon plant = new Pokemon(&quot;Bulbasaur&quot;, &quot;Grass&quot;);\npublic Pokemon ground = new Pokemon(&quot;X&quot;, &quot;Ground&quot;);\n</code></pre>\n<p>I have tried something like Battle.pikachu.toString() in the main class to just test how to access it because that is what someone else told me but the battle part confuses me as I don't think it is actually referrign to anything when in my main class.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1674200220,"post_id":75180919,"comment_id":132667004,"body_markdown":"*&quot;When I replace line 2 with line 1 in code, it runs successfully.&quot;* because they do completely different things. One creates an `HashSet` with default capacity, the other creates an `HashSet` with initial capacity `x`, which may very well be 305589003, which is rather big.","body":"<i>&quot;When I replace line 2 with line 1 in code, it runs successfully.&quot;</i> because they do completely different things. One creates an <code>HashSet</code> with default capacity, the other creates an <code>HashSet</code> with initial capacity <code>x</code>, which may very well be 305589003, which is rather big."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674200722,"post_id":75180919,"comment_id":132667124,"body_markdown":"`computeIfAbsent` calls the 2nd parameter (a `Function`) with the key as argument, in this case `305589003`; the passed function `HashSet::new` is the `HashSet(int initialCapacity)` - as commented above, `305589003` as capacity is too big to be stored in the available memory (line 1 should be `k -&gt; new HashSet&lt;&gt;(k)` to be the same as line 2, both wrong)","body":"<code>computeIfAbsent</code> calls the 2nd parameter (a <code>Function</code>) with the key as argument, in this case <code>305589003</code>; the passed function <code>HashSet::new</code> is the <code>HashSet(int initialCapacity)</code> - as commented above, <code>305589003</code> as capacity is too big to be stored in the available memory (line 1 should be <code>k -&gt; new HashSet&lt;&gt;(k)</code> to be the same as line 2, both wrong)"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674201822,"creation_date":1674200717,"answer_id":75181094,"question_id":75180919,"body_markdown":"`HashSet::new` is a method reference pointing to `new HashSet(initialCapacity)`. See the  java-doc of [HashSet](https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#HashSet(int)).\r\n\r\nSo, it creates a bigger `HashSet`s than you expect, because it takes your `x` variable as parameter.","title":"Why does this code throw Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space?","body":"<p><code>HashSet::new</code> is a method reference pointing to <code>new HashSet(initialCapacity)</code>. See the  java-doc of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#HashSet(int)\" rel=\"nofollow noreferrer\">HashSet</a>.</p>\n<p>So, it creates a bigger <code>HashSet</code>s than you expect, because it takes your <code>x</code> variable as parameter.</p>\n"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75181094,"answer_count":1,"score":5,"last_activity_date":1674201822,"creation_date":1674199546,"question_id":75180919,"body_markdown":"```java\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\n\r\npublic class ComputeIfAbsentWithHashSetNew {\r\n    public static void main(String[] args) {\r\n        var map = new HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt;();\r\n        var data = new int[][]{{305589003, 4136}, {305589004, 4139}};\r\n        for (var entry : data) {\r\n            int x = entry[0];\r\n            int y = entry[1];\r\n//            map.computeIfAbsent(x, _x -&gt; new HashSet&lt;&gt;()).add(y); // ----- line 1\r\n            var k = map.computeIfAbsent(x, HashSet::new);           // ----- line 2\r\n            k.add(y);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAbove code throws at jdk 17、 18、 19: \r\n```\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.HashMap.resize(HashMap.java:702)\r\n\tat java.base/java.util.HashMap.putVal(HashMap.java:627)\r\n\tat java.base/java.util.HashMap.put(HashMap.java:610)\r\n\tat java.base/java.util.HashSet.add(HashSet.java:221)\r\n\tat _explore.ComputeIfAbsentWithHashSetNew.main(ComputeIfAbsentWithHashSetNew.java:15)\r\n```\r\n\r\nWhen debug, I see the `newCap` in `Hashmap::resize()` is very large, I don&#39;t know why. I thought both the lines do same thing previously.\r\n\r\nWhen I replace **line 2** with **line 1** in code, it runs successfully.","title":"Why does this code throw Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.HashSet;\n\npublic class ComputeIfAbsentWithHashSetNew {\n    public static void main(String[] args) {\n        var map = new HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt;();\n        var data = new int[][]{{305589003, 4136}, {305589004, 4139}};\n        for (var entry : data) {\n            int x = entry[0];\n            int y = entry[1];\n//            map.computeIfAbsent(x, _x -&gt; new HashSet&lt;&gt;()).add(y); // ----- line 1\n            var k = map.computeIfAbsent(x, HashSet::new);           // ----- line 2\n            k.add(y);\n        }\n    }\n}\n</code></pre>\n<p>Above code throws at jdk 17、 18、 19:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.HashMap.resize(HashMap.java:702)\n    at java.base/java.util.HashMap.putVal(HashMap.java:627)\n    at java.base/java.util.HashMap.put(HashMap.java:610)\n    at java.base/java.util.HashSet.add(HashSet.java:221)\n    at _explore.ComputeIfAbsentWithHashSetNew.main(ComputeIfAbsentWithHashSetNew.java:15)\n</code></pre>\n<p>When debug, I see the <code>newCap</code> in <code>Hashmap::resize()</code> is very large, I don't know why. I thought both the lines do same thing previously.</p>\n<p>When I replace <strong>line 2</strong> with <strong>line 1</strong> in code, it runs successfully.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1671702953,"post_id":74886677,"comment_id":132156788,"body_markdown":"Well ... I guess, the [official documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#XML) tells you how ...","body":"Well ... I guess, the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#XML\" rel=\"nofollow noreferrer\">official documentation</a> tells you how ..."},{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1671715049,"post_id":74886677,"comment_id":132160444,"body_markdown":"@Seelenvirtuose sorry I really know nothing about log4j configurations. I&#39;m trying to find a patter here to set a new one, but looks like each one have a specific tag, and there&#39;s no tag for &quot;HttpURLConnection&quot;, also there&#39;s no &quot;HttpURLConnection&quot; on the official documentation. I&#39;ll read to try to find where it would fit.","body":"@Seelenvirtuose sorry I really know nothing about log4j configurations. I&#39;m trying to find a patter here to set a new one, but looks like each one have a specific tag, and there&#39;s no tag for &quot;HttpURLConnection&quot;, also there&#39;s no &quot;HttpURLConnection&quot; on the official documentation. I&#39;ll read to try to find where it would fit."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671722748,"post_id":74886677,"comment_id":132163246,"body_markdown":"What does this have to do with WildFly?","body":"What does this have to do with WildFly?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671758606,"post_id":74886677,"comment_id":132171648,"body_markdown":"Not every class support log4j , if the class does not use log4j to logging something, even you add `xxx.level=ALL`, it will output nothing. HttpURLConnection.java (https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java)","body":"Not every class support log4j , if the class does not use log4j to logging something, even you add <code>xxx.level=ALL</code>, it will output nothing. HttpURLConnection.java (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/clas&zwnj;&#8203;ses/&hellip;</a>)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671758842,"post_id":74886677,"comment_id":132171677,"body_markdown":"google `github log4j.xml` have a lots of example code. example (https://gist.github.com/mwicat/1460284), you can find `&lt;logger name=&quot;org.jivesoftware.openfire.fastpath&quot;&gt;`","body":"google <code>github log4j.xml</code> have a lots of example code. example (<a href=\"https://gist.github.com/mwicat/1460284\" rel=\"nofollow noreferrer\">gist.github.com/mwicat/1460284</a>), you can find <code>&lt;logger name=&quot;org.jivesoftware.openfire.fastpath&quot;&gt;</code>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1671771674,"post_id":74886677,"comment_id":132173058,"body_markdown":"@Student: what version of Log4j are you using (by the name `log4j.xml` of the config file it appears it is the EOLed Log4j 1.2)? What version of the JRE? JRE components log in different ways (but never use an external library) and Log4j 1.2 has a different configuration than Log4j 2.x.","body":"@Student: what version of Log4j are you using (by the name <code>log4j.xml</code> of the config file it appears it is the EOLed Log4j 1.2)? What version of the JRE? JRE components log in different ways (but never use an external library) and Log4j 1.2 has a different configuration than Log4j 2.x."},{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1674130344,"post_id":74886677,"comment_id":132651455,"body_markdown":"@PiotrP.Karwasz log4j-1.2.8, jre 1.8_181","body":"@PiotrP.Karwasz log4j-1.2.8, jre 1.8_181"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674157461,"creation_date":1674157461,"answer_id":75177502,"question_id":74886677,"body_markdown":"At first glance, you will not be able to configure the logging level for `sun.net.www.protocol.http.HttpURLConnection` using Log4j, no matter if you use `properties` or `xml` configuration files.\r\n\r\nAs you can see in the [source code of the `HttpURLConnection` class](https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java), its logging is based in [`PlatformLogger`](https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/util/logging/PlatformLogger.java), which in turn uses `java.util.logging`.\r\n\r\nThe `PlatformLogger` javadoc describes how it should be configured:\r\n\r\n&gt; Platform logger provides an API for the JRE components to log\r\n&gt; messages.  This enables the runtime components to eliminate the\r\n&gt; static dependency of the logging facility and also defers the\r\n&gt; java.util.logging initialization until it is enabled.\r\n&gt; In addition, the PlatformLogger API can be used if the logging\r\n&gt; module does not exist.\r\n&gt;\r\n&gt; If the logging facility is not enabled, the platform loggers\r\n&gt; will output log messages per the default logging configuration\r\n&gt; (see below). In this implementation, it does not log the\r\n&gt; the stack frame information issuing the log message.\r\n&gt;\r\n&gt; When the logging facility is enabled (at startup or runtime),\r\n&gt; the java.util.logging.Logger will be created for each platform\r\n&gt; logger and all log messages will be forwarded to the Logger\r\n&gt; to handle.\r\n&gt;\r\n&gt; Logging facility is &quot;enabled&quot; when one of the following\r\n&gt; conditions is met:\r\n&gt; 1) a system property &quot;java.util.logging.config.class&quot; or\r\n&gt;    &quot;java.util.logging.config.file&quot; is set\r\n&gt; 2) java.util.logging.LogManager or java.util.logging.Logger\r\n&gt;    is referenced that will trigger the logging initialization.\r\n&gt;\r\n&gt; Default logging configuration:\r\n&gt;    global logging level = INFO\r\n&gt;    handlers = java.util.logging.ConsoleHandler\r\n&gt;    java.util.logging.ConsoleHandler.level = INFO\r\n&gt;    java.util.logging.ConsoleHandler.formatter =  java.util.logging.SimpleFormatter\r\n\r\nBasically, you need to configure the system property `java.util.logging.config.file` pointing to an appropriate `properties` file with the required properties:\r\n\r\n```\r\nhandlers=java.util.logging.ConsoleHandler\r\njava.util.logging.ConsoleHandler.level=INFO\r\nsun.net.www.protocol.http.HttpURLConnection.level=ALL\r\n```\r\n\r\nPlease, consider review this [related SO question](https://stackoverflow.com/questions/1445919/how-to-enable-wire-logging-for-a-java-httpurlconnection-traffic), it provides different examples and further information about how to do it.\r\n\r\nAs suggested in that question, you can use the system property `javax.net.debug` as well:\r\n\r\n```\r\n-Djavax.net.debug=all\r\n```\r\n\r\nIf you want to integrate Log4j and `java.util.logging`, you can try using libraries like [SLF4J](https://www.slf4j.org/) and the corresponding [bridges](https://www.slf4j.org/legacy.html). [This related SO question](https://stackoverflow.com/questions/869945/how-to-send-java-util-logging-to-log4j) provides more information.\r\n\r\n","title":"How to format the property &quot;sun.net.www.protocol.http.HttpURLConnection.level = ALL&quot; to log4j.xml?","body":"<p>At first glance, you will not be able to configure the logging level for <code>sun.net.www.protocol.http.HttpURLConnection</code> using Log4j, no matter if you use <code>properties</code> or <code>xml</code> configuration files.</p>\n<p>As you can see in the <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java\" rel=\"nofollow noreferrer\">source code of the <code>HttpURLConnection</code> class</a>, its logging is based in <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/util/logging/PlatformLogger.java\" rel=\"nofollow noreferrer\"><code>PlatformLogger</code></a>, which in turn uses <code>java.util.logging</code>.</p>\n<p>The <code>PlatformLogger</code> javadoc describes how it should be configured:</p>\n<blockquote>\n<p>Platform logger provides an API for the JRE components to log\nmessages.  This enables the runtime components to eliminate the\nstatic dependency of the logging facility and also defers the\njava.util.logging initialization until it is enabled.\nIn addition, the PlatformLogger API can be used if the logging\nmodule does not exist.</p>\n<p>If the logging facility is not enabled, the platform loggers\nwill output log messages per the default logging configuration\n(see below). In this implementation, it does not log the\nthe stack frame information issuing the log message.</p>\n<p>When the logging facility is enabled (at startup or runtime),\nthe java.util.logging.Logger will be created for each platform\nlogger and all log messages will be forwarded to the Logger\nto handle.</p>\n<p>Logging facility is &quot;enabled&quot; when one of the following\nconditions is met:</p>\n<ol>\n<li>a system property &quot;java.util.logging.config.class&quot; or\n&quot;java.util.logging.config.file&quot; is set</li>\n<li>java.util.logging.LogManager or java.util.logging.Logger\nis referenced that will trigger the logging initialization.</li>\n</ol>\n<p>Default logging configuration:\nglobal logging level = INFO\nhandlers = java.util.logging.ConsoleHandler\njava.util.logging.ConsoleHandler.level = INFO\njava.util.logging.ConsoleHandler.formatter =  java.util.logging.SimpleFormatter</p>\n</blockquote>\n<p>Basically, you need to configure the system property <code>java.util.logging.config.file</code> pointing to an appropriate <code>properties</code> file with the required properties:</p>\n<pre><code>handlers=java.util.logging.ConsoleHandler\njava.util.logging.ConsoleHandler.level=INFO\nsun.net.www.protocol.http.HttpURLConnection.level=ALL\n</code></pre>\n<p>Please, consider review this <a href=\"https://stackoverflow.com/questions/1445919/how-to-enable-wire-logging-for-a-java-httpurlconnection-traffic\">related SO question</a>, it provides different examples and further information about how to do it.</p>\n<p>As suggested in that question, you can use the system property <code>javax.net.debug</code> as well:</p>\n<pre><code>-Djavax.net.debug=all\n</code></pre>\n<p>If you want to integrate Log4j and <code>java.util.logging</code>, you can try using libraries like <a href=\"https://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J</a> and the corresponding <a href=\"https://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">bridges</a>. <a href=\"https://stackoverflow.com/questions/869945/how-to-send-java-util-logging-to-log4j\">This related SO question</a> provides more information.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674170612,"creation_date":1674170612,"answer_id":75179273,"question_id":74886677,"body_markdown":"**Remark**: Since Log4j 1.2.8 is [almost 20 years old](https://logging.apache.org/log4j/1.2/changes-report.html), declared end-of-life 8 years ago and with [several outstanding vulnerabilities](https://logging.apache.org/log4j/1.2/index.html), I don&#39;t believe you want to use it.\r\n\r\nAs you can see in [jccampanero&#39;s answer](https://stackoverflow.com/a/75177502/11748454), the `HttpURLConnection` class uses `PlatformLogger` for logging, which in Java 7 or 8 delegates all logging to `java.util.logging.LogManager`.\r\n\r\nSeveral alternative implementations of `java.util.logging.LogManager` exist, but WildFly uses its own implementation called [JBoss LogManager](https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/1.11/html/configuring_logging_with_quarkus/con-jboss-logmanager-and-supported-logging-frameworks_quarkus-configuring-logging), which is the easiest to use. To modify your logging configuration, you just need to edit your server&#39;s configuration and add:\r\n\r\n```lang-xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:3.0&quot;&gt;\r\n    ...\r\n    &lt;logger category=&quot;sun.net.www.protocol.http.HttpURLConnection&quot;&gt;\r\n        &lt;level name=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\n(cf. [documentation](https://docs.jboss.org/author/display/WFLY10/Logging%20Configuration.html)).","title":"How to format the property &quot;sun.net.www.protocol.http.HttpURLConnection.level = ALL&quot; to log4j.xml?","body":"<p><strong>Remark</strong>: Since Log4j 1.2.8 is <a href=\"https://logging.apache.org/log4j/1.2/changes-report.html\" rel=\"nofollow noreferrer\">almost 20 years old</a>, declared end-of-life 8 years ago and with <a href=\"https://logging.apache.org/log4j/1.2/index.html\" rel=\"nofollow noreferrer\">several outstanding vulnerabilities</a>, I don't believe you want to use it.</p>\n<p>As you can see in <a href=\"https://stackoverflow.com/a/75177502/11748454\">jccampanero's answer</a>, the <code>HttpURLConnection</code> class uses <code>PlatformLogger</code> for logging, which in Java 7 or 8 delegates all logging to <code>java.util.logging.LogManager</code>.</p>\n<p>Several alternative implementations of <code>java.util.logging.LogManager</code> exist, but WildFly uses its own implementation called <a href=\"https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/1.11/html/configuring_logging_with_quarkus/con-jboss-logmanager-and-supported-logging-frameworks_quarkus-configuring-logging\" rel=\"nofollow noreferrer\">JBoss LogManager</a>, which is the easiest to use. To modify your logging configuration, you just need to edit your server's configuration and add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:3.0&quot;&gt;\n    ...\n    &lt;logger category=&quot;sun.net.www.protocol.http.HttpURLConnection&quot;&gt;\n        &lt;level name=&quot;DEBUG&quot;/&gt;\n    &lt;/logger&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>(cf. <a href=\"https://docs.jboss.org/author/display/WFLY10/Logging%20Configuration.html\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n"}],"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674201704,"creation_date":1671702285,"question_id":74886677,"body_markdown":"I need to add to my logging.properties the line:\r\n\r\n    sun.net.www.protocol.http.HttpURLConnection.level = ALL\r\n\r\nBut this file is generated using log4j.xml, which is in xml format. And I&#39;m not finding how to correctly format this property to xml to generate this line.\r\n\r\nusing log4j-1.2.8, JRE and JDK 1.8_181, Wildfly 10.1.0.Final","title":"How to format the property &quot;sun.net.www.protocol.http.HttpURLConnection.level = ALL&quot; to log4j.xml?","body":"<p>I need to add to my logging.properties the line:</p>\n<pre><code>sun.net.www.protocol.http.HttpURLConnection.level = ALL\n</code></pre>\n<p>But this file is generated using log4j.xml, which is in xml format. And I'm not finding how to correctly format this property to xml to generate this line.</p>\n<p>using log4j-1.2.8, JRE and JDK 1.8_181, Wildfly 10.1.0.Final</p>\n"},{"tags":["java","azure-functions","telemetry"],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674201419,"creation_date":1674201419,"answer_id":75181188,"question_id":75173558,"body_markdown":"&gt;`Azure Function (Java) add attribute to CustomDimensions`\r\n\r\nIn Java, we have the Span attributes concept for adding the optional (extra) fields to the App Insights Schema that populates with the `customDimensions` in the form of various tables such as `traces`, `exceptions`, `dependencies`.\r\n\r\nFor that, one of the dependencies is required which is `opentelemetry-api-1.jar`.\r\n\r\n```java\r\nAttributeKey newAttributeKey= AttributeKey.stringKey(&quot;resourcecustomDimension&quot;); Span.current().setAttribute(newAttributeKey, &quot;customDimValue&quot;);\r\n```\r\n\r\nThis brings us the custom attributes for the custom dimensions that will be added to the Telemetry data.\r\n\r\nRefer to this [MS Doc](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#add-span-attributes) for more information on adding the attributes to the `customDimensions` and found the GitHub issue [13310](https://github.com/MicrosoftDocs/azure-docs/issues/13310) regarding the user seeking for the Java Code on `ITelemetryInitializer` where the sample code on it provided by @*dhaval24* user.","title":"Azure Function (Java) add attribute to CustomDimensions","body":"<blockquote>\n<p><code>Azure Function (Java) add attribute to CustomDimensions</code></p>\n</blockquote>\n<p>In Java, we have the Span attributes concept for adding the optional (extra) fields to the App Insights Schema that populates with the <code>customDimensions</code> in the form of various tables such as <code>traces</code>, <code>exceptions</code>, <code>dependencies</code>.</p>\n<p>For that, one of the dependencies is required which is <code>opentelemetry-api-1.jar</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AttributeKey newAttributeKey= AttributeKey.stringKey(&quot;resourcecustomDimension&quot;); Span.current().setAttribute(newAttributeKey, &quot;customDimValue&quot;);\n</code></pre>\n<p>This brings us the custom attributes for the custom dimensions that will be added to the Telemetry data.</p>\n<p>Refer to this <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#add-span-attributes\" rel=\"nofollow noreferrer\">MS Doc</a> for more information on adding the attributes to the <code>customDimensions</code> and found the GitHub issue <a href=\"https://github.com/MicrosoftDocs/azure-docs/issues/13310\" rel=\"nofollow noreferrer\">13310</a> regarding the user seeking for the Java Code on <code>ITelemetryInitializer</code> where the sample code on it provided by @<em>dhaval24</em> user.</p>\n"}],"owner":{"account_id":9699666,"reputation":31,"user_id":7195051,"display_name":"Stefan Starke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674201419,"creation_date":1674137444,"question_id":75173558,"body_markdown":"I am desperatly searching on how to add a new attribute to the custom dimensions collection in the request table of the log analytics in the context of a Java function.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI know in C# you can do it using Activity and ITelementryInitializer but for Java I can not get it to work.\r\nAny hints are appreciated. ;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YOleb.png","title":"Azure Function (Java) add attribute to CustomDimensions","body":"<p>I am desperatly searching on how to add a new attribute to the custom dimensions collection in the request table of the log analytics in the context of a Java function.</p>\n<p><a href=\"https://i.stack.imgur.com/YOleb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YOleb.png\" alt=\"enter image description here\" /></a></p>\n<p>I know in C# you can do it using Activity and ITelementryInitializer but for Java I can not get it to work.\nAny hints are appreciated. ;)</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674126850,"post_id":75169135,"comment_id":132650394,"body_markdown":"Welcome to SO. Please edit your question to clarify what it is you want to achieve, because your wording is unclear and ambiguous. Your code nsippet on the bottom of the question is not helping either. &quot;When a DTO is created&quot; sounds like you want to intercept constructor calls. Then you say you &quot;want it to be masked and stored using Spring AOP&quot;. I cannot imagine that you want to store the masked value instead of the original one. Maybe you want to **log** the masked value, but when exactly? Like I said, the question is totally unclear.","body":"Welcome to SO. Please edit your question to clarify what it is you want to achieve, because your wording is unclear and ambiguous. Your code nsippet on the bottom of the question is not helping either. &quot;When a DTO is created&quot; sounds like you want to intercept constructor calls. Then you say you &quot;want it to be masked and stored using Spring AOP&quot;. I cannot imagine that you want to store the masked value instead of the original one. Maybe you want to <b>log</b> the masked value, but when exactly? Like I said, the question is totally unclear."},{"owner":{"account_id":22070978,"reputation":5,"user_id":16331957,"display_name":"kaven"},"score":0,"creation_date":1674200750,"post_id":75169135,"comment_id":132667129,"body_markdown":"Thank you,\nWhen creating a DTO, I want to intercept the constructor and generate it as masked data.\nFinally, when providing it as API using dto, I want to provide it as masked data Even if there is unmasked data in the DB.","body":"Thank you, When creating a DTO, I want to intercept the constructor and generate it as masked data. Finally, when providing it as API using dto, I want to provide it as masked data Even if there is unmasked data in the DB."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674220231,"post_id":75169135,"comment_id":132673029,"body_markdown":"I understand it a little bit better now, but still not 100%, because your wording is still unclear: What does &quot;when providing it as API using dto&quot; mean? Your code does not communicate your intent, either. I suggest that you create an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, i.e. a minimal project isolating and reproducing your problem. Then write a little, failing unit test (or main method with asserts) verifying the behaviour you expect for both cases you described. then I can easily help you. But I do not like guessing.","body":"I understand it a little bit better now, but still not 100%, because your wording is still unclear: What does &quot;when providing it as API using dto&quot; mean? Your code does not communicate your intent, either. I suggest that you create an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, i.e. a minimal project isolating and reproducing your problem. Then write a little, failing unit test (or main method with asserts) verifying the behaviour you expect for both cases you described. then I can easily help you. But I do not like guessing."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674220762,"post_id":75169135,"comment_id":132673182,"body_markdown":"What I can tell you already is that if you want to intercept field read/write access or constructors, you cannot use the proxy-based Spring AOP anyway. It is an advanced case requiring native AspectJ. You can use AspectJ with or without Spring, and you are not limited to intercepting method calls of Spring components. It works for any code. If you want to avoid native AspectJ, you would have to create a Spring component with factory methods for your DTO, which you can intercept. If the DTO itself is a `@Component`, you can also intercept its setter/getter methods.","body":"What I can tell you already is that if you want to intercept field read/write access or constructors, you cannot use the proxy-based Spring AOP anyway. It is an advanced case requiring native AspectJ. You can use AspectJ with or without Spring, and you are not limited to intercepting method calls of Spring components. It works for any code. If you want to avoid native AspectJ, you would have to create a Spring component with factory methods for your DTO, which you can intercept. If the DTO itself is a <code>@Component</code>, you can also intercept its setter/getter methods."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674115076,"creation_date":1674115076,"answer_id":75169179,"question_id":75169135,"body_markdown":"You can write aspect for getters. Remember that Lombok `@Getter` generates plain old getter methods for fields which can be intercepted. You will probably have to mark your DTOs that should be affected with eg some annotation (and fields as well to show which fields should be obfuscated) \r\n\r\nFYI What you call &quot;Spring AOP&quot; will work only on managed beans (`@Component`s), but using AOP in general would work. As a crosspoint you could use `return` statements that returns your DTOs so it would become obfuscated right before passing controll back to spring.\r\n\r\n","title":"Can Spring AOP be applied to specific fields when creating DTO?","body":"<p>You can write aspect for getters. Remember that Lombok <code>@Getter</code> generates plain old getter methods for fields which can be intercepted. You will probably have to mark your DTOs that should be affected with eg some annotation (and fields as well to show which fields should be obfuscated)</p>\n<p>FYI What you call &quot;Spring AOP&quot; will work only on managed beans (<code>@Component</code>s), but using AOP in general would work. As a crosspoint you could use <code>return</code> statements that returns your DTOs so it would become obfuscated right before passing controll back to spring.</p>\n"},{"tags":[],"owner":{"account_id":10882557,"reputation":381,"user_id":8000978,"display_name":"dexter_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674123588,"creation_date":1674123588,"answer_id":75170754,"question_id":75169135,"body_markdown":"You would need a @Around advice on the annotation but only for the execution pointcut designator like - \r\n\r\n    @Around(&quot;@annotation(your.package.PersonalInfo) &amp;&amp; execution(* *.*(..))&quot;)\r\n    public Object maskValue(final ProceedingJoinPoint jp) {\r\n    \tObject obj = jp.proceed();\r\n    \tif (obj == null &amp;&amp; !jp.getSignature().getName().contains(&quot;get&quot;)) {\r\n    \t\treturn jp.proceed();\r\n    \t}\r\n    \tString value = String.valueOf(obj);\r\n    \tobj = someFunction(value); // method call for your logic\r\n    \treturn obj;\r\n    }\r\nThe execution(...) will scan for all packages for the said annotation. It can be directed to scan a particular package as well to limit the scan.","title":"Can Spring AOP be applied to specific fields when creating DTO?","body":"<p>You would need a @Around advice on the annotation but only for the execution pointcut designator like -</p>\n<pre><code>@Around(&quot;@annotation(your.package.PersonalInfo) &amp;&amp; execution(* *.*(..))&quot;)\npublic Object maskValue(final ProceedingJoinPoint jp) {\n    Object obj = jp.proceed();\n    if (obj == null &amp;&amp; !jp.getSignature().getName().contains(&quot;get&quot;)) {\n        return jp.proceed();\n    }\n    String value = String.valueOf(obj);\n    obj = someFunction(value); // method call for your logic\n    return obj;\n}\n</code></pre>\n<p>The execution(...) will scan for all packages for the said annotation. It can be directed to scan a particular package as well to limit the scan.</p>\n"}],"owner":{"account_id":22070978,"reputation":5,"user_id":16331957,"display_name":"kaven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75169179,"answer_count":2,"score":0,"last_activity_date":1674200836,"creation_date":1674114740,"question_id":75169135,"body_markdown":"I want to mask personal information when a Java DTO is created. I created an PersonalInfo annotation and added it to the field I want to mask. However, I don&#39;t know how to write an advice in the PersonalInfoAspect class.\r\n\r\n```\r\n@Getter\r\n@Builder\r\npublic class User {\r\n\r\n    private String id;\r\n\r\n    @PersonalInfo\r\n    private String name; \r\n}\r\n```\r\n\r\n\r\n```\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PersonalInfo {\r\n}\r\n```\r\n\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class PersonalInfoAspect {\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\nWhen the DTO is created, should AOP be called when the constructor is called to change the field value?\r\n\r\nWhen creating User DTO as shown below, I want it to be masked and stored using Spring AOP.\r\n\r\nWhen creating a DTO, I want to intercept the constructor and generate it as masked data.\r\nFinally, when providing it as API using dto, I want to provide it as masked data Even if there is unmasked data in the DB.","title":"Can Spring AOP be applied to specific fields when creating DTO?","body":"<p>I want to mask personal information when a Java DTO is created. I created an PersonalInfo annotation and added it to the field I want to mask. However, I don't know how to write an advice in the PersonalInfoAspect class.</p>\n<pre><code>@Getter\n@Builder\npublic class User {\n\n    private String id;\n\n    @PersonalInfo\n    private String name; \n}\n</code></pre>\n<pre><code>@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PersonalInfo {\n}\n</code></pre>\n<pre><code>@Aspect\n@Component\npublic class PersonalInfoAspect {\n    \n    // ...\n}\n</code></pre>\n<p>When the DTO is created, should AOP be called when the constructor is called to change the field value?</p>\n<p>When creating User DTO as shown below, I want it to be masked and stored using Spring AOP.</p>\n<p>When creating a DTO, I want to intercept the constructor and generate it as masked data.\nFinally, when providing it as API using dto, I want to provide it as masked data Even if there is unmasked data in the DB.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1434871782,"creation_date":1434871782,"answer_id":30962249,"question_id":30962186,"body_markdown":"AWS DynamoDB knows the column that is hash key of your table.\r\nYou just need to specify the value to be deleted. \r\nDeleteItemRequest has a fluent API for that :\r\n\r\n    Key keyToDelete = new Key().withHashKeyElement(new AttributeValue(&quot;214141&quot;));\r\n    DeleteItemRequest dir = new DeleteItemRequest()\r\n    \t.withTableName(&quot;ABC&quot;)\r\n    \t.withKey(keyToDelete);","title":"How to delete an item in DynamoDB using Java?","body":"<p>AWS DynamoDB knows the column that is hash key of your table.\nYou just need to specify the value to be deleted. \nDeleteItemRequest has a fluent API for that :</p>\n\n<pre><code>Key keyToDelete = new Key().withHashKeyElement(new AttributeValue(\"214141\"));\nDeleteItemRequest dir = new DeleteItemRequest()\n    .withTableName(\"ABC\")\n    .withKey(keyToDelete);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341024,"reputation":1015,"user_id":6266336,"accept_rate":38,"display_name":"Diana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674200734,"creation_date":1674200734,"answer_id":75181098,"question_id":30962186,"body_markdown":"**For Kotlin:**\r\n\r\nI have table with :\r\nPartition key: `account_id` (String)\r\nSort key: `message_id` (String)\r\n\r\nTo delete an item fron DynamoDb I do the following:\r\n\r\n```\r\n    fun deleteMessageById(messageId: String, accountId: String){\r\n        val item = HashMap&lt;String, AttributeValue&gt;()\r\n        item[&quot;account_id&quot;] = AttributeValue(accountId)\r\n        item[&quot;message_id&quot;] = AttributeValue(messageId)\r\n        val deleteRequest = DeleteItemRequest().withTableName(tableName).withKey(item)\r\n        dynamoConfiguration.amazonDynamoDB().deleteItem(deleteRequest)\r\n    }\r\n\r\n```","title":"How to delete an item in DynamoDB using Java?","body":"<p><strong>For Kotlin:</strong></p>\n<p>I have table with :\nPartition key: <code>account_id</code> (String)\nSort key: <code>message_id</code> (String)</p>\n<p>To delete an item fron DynamoDb I do the following:</p>\n<pre><code>    fun deleteMessageById(messageId: String, accountId: String){\n        val item = HashMap&lt;String, AttributeValue&gt;()\n        item[&quot;account_id&quot;] = AttributeValue(accountId)\n        item[&quot;message_id&quot;] = AttributeValue(messageId)\n        val deleteRequest = DeleteItemRequest().withTableName(tableName).withKey(item)\n        dynamoConfiguration.amazonDynamoDB().deleteItem(deleteRequest)\n    }\n\n</code></pre>\n"}],"owner":{"account_id":1568778,"reputation":5404,"user_id":1456962,"accept_rate":73,"display_name":"code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13055,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30962249,"answer_count":2,"score":6,"last_activity_date":1674200734,"creation_date":1434871060,"question_id":30962186,"body_markdown":"I know this sounds like a simple question, but for some reason I can&#39;t find a clear answer online or through StackOverflow.\r\n\r\nI have a DynamoDB with a Table named &quot;ABC&quot;. The primary key is &quot;ID&quot; as a String and one of the other attributes is &quot;Name&quot; as a String. How can I delete an item from this table using Java?\r\n\r\n        AmazonDynamoDBClient dynamoDB;\r\n        .\r\n        .\r\n        .\r\n        DeleteItemRequest dir = new DeleteItemRequest();\r\n        dir.withConditionExpression(&quot;ID = 214141&quot;).withTableName(&quot;ABC&quot;);\r\n        DeleteItemResult deleteResult = dynamoDB.deleteItem(dir);\r\n\r\nI have a validation exception:\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.AmazonServiceException: 1 validation error detected: Value null at &#39;key&#39; failed to satisfy constraint: Member must not be null (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: RQ70OIGOQAJ9MRGSUA0UIJLRUNVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n    \tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3240)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:972)\r\n    \tat DynamoDBUploader.deleteItems(DynamoDBUploader.java:168)\r\n    \tat Main.main(Main.java:56)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\n\r\n---------------------------------\r\nIf I need to know the Hash Key in order to delete an item in a DynamoDB Table, I think I may need to redesign my database in order to delete items efficiently.\r\n\r\nMy table looks like this:\r\nIf that is the case, ahh... I think I need to re-design my database table.\r\n\r\n    ID | Name | Date | Value\r\n    -----------------------------------\r\n    1  | TransactionA | 2015-06-21 | 30\r\n    2  | TransactionB | 2015-06-21 | 40\r\n    3  | TransactionC | 2015-06-21 | 50\r\n\r\n**Basically, I would like to easily delete all transactions with Date &quot;2015-06-21&quot;. How can I do this simply and quickly without having to deal with the Hash Key ID?**","title":"How to delete an item in DynamoDB using Java?","body":"<p>I know this sounds like a simple question, but for some reason I can't find a clear answer online or through StackOverflow.</p>\n\n<p>I have a DynamoDB with a Table named \"ABC\". The primary key is \"ID\" as a String and one of the other attributes is \"Name\" as a String. How can I delete an item from this table using Java?</p>\n\n<pre><code>    AmazonDynamoDBClient dynamoDB;\n    .\n    .\n    .\n    DeleteItemRequest dir = new DeleteItemRequest();\n    dir.withConditionExpression(\"ID = 214141\").withTableName(\"ABC\");\n    DeleteItemResult deleteResult = dynamoDB.deleteItem(dir);\n</code></pre>\n\n<p>I have a validation exception:</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.AmazonServiceException: 1 validation error detected: Value null at 'key' failed to satisfy constraint: Member must not be null (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: RQ70OIGOQAJ9MRGSUA0UIJLRUNVV4KQNSO5AEMVJF66Q9ASUAAJG)\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3240)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:972)\n    at DynamoDBUploader.deleteItems(DynamoDBUploader.java:168)\n    at Main.main(Main.java:56)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\n</code></pre>\n\n<hr>\n\n<p>If I need to know the Hash Key in order to delete an item in a DynamoDB Table, I think I may need to redesign my database in order to delete items efficiently.</p>\n\n<p>My table looks like this:\nIf that is the case, ahh... I think I need to re-design my database table.</p>\n\n<pre><code>ID | Name | Date | Value\n-----------------------------------\n1  | TransactionA | 2015-06-21 | 30\n2  | TransactionB | 2015-06-21 | 40\n3  | TransactionC | 2015-06-21 | 50\n</code></pre>\n\n<p><strong>Basically, I would like to easily delete all transactions with Date \"2015-06-21\". How can I do this simply and quickly without having to deal with the Hash Key ID?</strong></p>\n"},{"tags":["java","android","c","crash","java-native-interface"],"comments":[{"owner":{"display_name":"user13963867"},"score":0,"creation_date":1674201789,"post_id":75181074,"comment_id":132667432,"body_markdown":"Might help: https://stackoverflow.com/questions/1083154/how-can-i-catch-sigsegv-segmentation-fault-and-get-a-stack-trace-under-jni-on","body":"Might help: <a href=\"https://stackoverflow.com/questions/1083154/how-can-i-catch-sigsegv-segmentation-fault-and-get-a-stack-trace-under-jni-on\" title=\"how can i catch sigsegv segmentation fault and get a stack trace under jni on\">stackoverflow.com/questions/1083154/&hellip;</a>"},{"owner":{"account_id":18515076,"reputation":305,"user_id":15401262,"display_name":"usilo"},"score":0,"creation_date":1674203498,"post_id":75181074,"comment_id":132667885,"body_markdown":"Already tried, without more success :/","body":"Already tried, without more success :/"}],"owner":{"account_id":18515076,"reputation":305,"user_id":15401262,"display_name":"usilo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674200562,"creation_date":1674200562,"question_id":75181074,"body_markdown":"I&#39;m trying to &#39;catch&#39; a crash (SIGSEGV) in java.\r\n\r\nThis crash happens in the C code and I would like to report that failure correctly in java.\r\n\r\nSo that the whole app doesn&#39;t crash when the native code crashes I managed to move the call to the native code to another process inside a &#39;Service&#39; (by use of `android:process=&quot;:ffmpeg&quot;` in AndroidManifest.xml). This works fine.\r\n\r\nRight now I tried:\r\n- to add a signer handler in the C code and throw a java exception from there. `throwFfmpegHelperException(a, &quot;throwFfmpegHelperException message&quot;);`\r\n- to add a signer handler in the C code and call a java function from there.  `(*a)-&gt;CallStaticVoidMethod(a, obj, nativeCrashed);`\r\n- to use the &#39;thread&#39; approach by setting the uncaught exception handler of a java thread with: `t.setDefaultUncaughtExceptionHandler`\r\n\r\nHowever none of theses actually runs the code I put in java (ie. throws the java Exception I would like to see triggered).\r\n\r\n**Any idea what could be wrong here? Any alternative?**\r\nFor now, my workaround is to wait for some time the reply from the service and if timeout is reached, consider it means that the service crashed.\r\n\r\n#### Service (java)\r\ncontains the call to the &#39;java class that will call native function&#39; &amp; thread with its `setDefaultUncaughtExceptionHandler`\r\n```java\r\npublic class FfmpegBoundService extends Service {\r\n    /**\r\n     * Command to the service to display a message\r\n     */\r\n    static final int MSG_SAY_HELLO = 1;\r\n\r\n    /**\r\n     * Handler of incoming messages from clients.\r\n     */\r\n    static class IncomingHandler extends Handler {\r\n        Bitmap tb;\r\n        Messenger clientMessenger;\r\n\r\n        @Override\r\n        public void handleMessage(Message msg) {\r\n            switch (msg.what) {\r\n                case MSG_SAY_HELLO:\r\n                    clientMessenger = msg.replyTo;\r\n                    Runnable doSwscale = () -&gt; {\r\n                        try {\r\n                            tb = Smooth.rescale_with_crash((Bitmap) msg.obj, msg.arg1, msg.arg2, Smooth.AlgoParametrized1.LANCZOS, 3.0);  // 3 is default width in ffmpeg.\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    };\r\n\r\n                    Thread t = new Thread(doSwscale);\r\n\r\n                    // Set UncaughtExceptionHandler to catch crash\r\n                    t.setDefaultUncaughtExceptionHandler(new Thread.\r\n                            UncaughtExceptionHandler() {\r\n                        public void uncaughtException(Thread t, Throwable e) {\r\n                            try {\r\n                                throw new FfmpegHelperException(&quot;ffmpeg Crash&quot;);\r\n                            } catch (Exception e2) {\r\n                                e2.printStackTrace();\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    t.start();\r\n\r\n                    // Wait until thread is finished.\r\n                    try {\r\n                        t.join();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    // Reply to client and send the thumbnail\r\n                    Message reply = Message.obtain(null, 10, tb);\r\n                    try {\r\n                        clientMessenger.send(reply);\r\n                    } catch (RemoteException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    break;\r\n                default:\r\n                    super.handleMessage(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Target we publish for clients to send messages to IncomingHandler.\r\n     */\r\n    Messenger mMessenger;\r\n\r\n    /**\r\n     * When binding to the service, we return an interface to our messenger\r\n     * for sending messages to the service.\r\n     */\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        mMessenger = new Messenger(new IncomingHandler());\r\n        return mMessenger.getBinder();\r\n    }\r\n}\r\n```\r\n\r\n#### java (call to native function)\r\n```java\r\npublic class Smooth implements Serializable {\r\n    public static Bitmap rescale_with_crash(Bitmap src, int dstWidth, int dstHeight,\r\n                                 AlgoParametrized1 algo, double p0) throws Exception {\r\n        Bitmap aa = null;\r\n        int a = native_rescale_with_crash(src, Bitmap.createBitmap(dstWidth, dstHeight, src.getConfig()),\r\n                algo.flag, p0, 0.0);\r\n        return aa;\r\n    }\r\n\r\n    static void nativeCrashed() throws Exception {\r\n        //new RuntimeException(&quot;crashed here (native trace should follow after the Java trace)&quot;).printStackTrace();\r\n        //Log.e(&quot;eta&quot;, &quot;crashed here (native trace should follow after the Java trace)&quot;);\r\n        throw new FfmpegHelperException(&quot;native crashed here &quot;);\r\n    }\r\n\r\n    private static native Bitmap native_rescale(Bitmap src, Bitmap dst, int algo, double p0, double p1);\r\n    private static native int native_rescale_with_crash(Bitmap src, Bitmap dst, int algo, double p0, double p1);\r\n}\r\n\r\n```\r\n#### C code\r\n\r\n```c\r\njint throwFfmpegHelperException( JNIEnv *env, char *message );\r\n\r\nJNIEnv *a;\r\nstatic jclass obj;\r\nstatic jmethodID nativeCrashed;\r\n\r\nvoid Segfault_Handler(int signo)\r\n{\r\n    //(*a)-&gt;CallStaticVoidMethod(a, obj, nativeCrashed);\r\n    throwFfmpegHelperException(a, &quot;throwFfmpegHelperException message&quot;);\r\n    signal(signo, SIG_DFL);\r\n    raise(signo);\r\n}\r\n\r\nstatic int JNICALL native_rescale_impl_with_crash(JNIEnv *env, jclass clazz,\r\n                                           jobject srcBitmap, jobject dstBitmap, jint sws_algo, jdouble p0, jdouble p1) {\r\n\r\n    signal(SIGSEGV,Segfault_Handler);\r\n    a = env;\r\n    obj = clazz;\r\n    raise(SIGSEGV);\r\n    return 200;\r\n}\r\n\r\nstatic const char *g_rescaler_java_class = &quot;com/schokoladenbrown/Smooth&quot;;\r\nstatic const JNINativeMethod g_native_methods[] = {\r\n    {&quot;native_rescale&quot;,\r\n     &quot;(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;IDD)Landroid/graphics/Bitmap;&quot;,\r\n     native_rescale_impl},\r\n    {&quot;native_rescale_with_crash&quot;,\r\n            &quot;(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;IDD)I&quot;,\r\n            native_rescale_impl_with_crash},\r\n};\r\n\r\njint JNI_OnLoad(JavaVM *jvm, void *reserved) {\r\n    JNIEnv *env = NULL;\r\n    jclass cls;\r\n\r\n    (*jvm)-&gt;AttachCurrentThread(jvm, &amp;env, NULL);\r\n    cls = (*env)-&gt;FindClass(env, g_rescaler_java_class);\r\n    (*env)-&gt;RegisterNatives(env, cls, g_native_methods, sizeof g_native_methods / sizeof g_native_methods[0]);\r\n    nativeCrashed = (*env)-&gt;GetStaticMethodID(env, cls,  &quot;nativeCrashed&quot;, &quot;()V&quot;);\r\n\r\n}\r\n\r\njint throwNoClassDefError_( JNIEnv *env, char *message )\r\n{\r\n    jclass exClass;\r\n    char *className = &quot;java/lang/NoClassDefFoundError&quot;;\r\n\r\n    exClass = (*env)-&gt;FindClass( env, className);\r\n    if (exClass == NULL) {\r\n        return throwNoClassDefError_( env, className );\r\n    }\r\n\r\n    return (*env)-&gt;ThrowNew( env, exClass, message );\r\n}\r\n\r\n//https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code\r\n\r\njint throwFfmpegHelperException( JNIEnv *env, char *message )\r\n{\r\n    if ((*env)-&gt;ExceptionCheck(env) == JNI_TRUE) {\r\n        return 99;\r\n    }\r\n\r\n    jclass exClass;\r\n    char *className = &quot;com/exifthumbnailadder/app/exception/FfmpegHelperException&quot; ;\r\n\r\n    exClass = (*env)-&gt;FindClass( env, className );\r\n    if ( exClass == NULL ) {\r\n        return throwNoClassDefError_( env, className );\r\n    }\r\n\r\n    return (*env)-&gt;ThrowNew( env, exClass, message );\r\n}\r\n\r\n\r\n```","title":"attempts to catch native jni crash/SIGSEGV in java are failing","body":"<p>I'm trying to 'catch' a crash (SIGSEGV) in java.</p>\n<p>This crash happens in the C code and I would like to report that failure correctly in java.</p>\n<p>So that the whole app doesn't crash when the native code crashes I managed to move the call to the native code to another process inside a 'Service' (by use of <code>android:process=&quot;:ffmpeg&quot;</code> in AndroidManifest.xml). This works fine.</p>\n<p>Right now I tried:</p>\n<ul>\n<li>to add a signer handler in the C code and throw a java exception from there. <code>throwFfmpegHelperException(a, &quot;throwFfmpegHelperException message&quot;);</code></li>\n<li>to add a signer handler in the C code and call a java function from there.  <code>(*a)-&gt;CallStaticVoidMethod(a, obj, nativeCrashed);</code></li>\n<li>to use the 'thread' approach by setting the uncaught exception handler of a java thread with: <code>t.setDefaultUncaughtExceptionHandler</code></li>\n</ul>\n<p>However none of theses actually runs the code I put in java (ie. throws the java Exception I would like to see triggered).</p>\n<p><strong>Any idea what could be wrong here? Any alternative?</strong>\nFor now, my workaround is to wait for some time the reply from the service and if timeout is reached, consider it means that the service crashed.</p>\n<h4>Service (java)</h4>\n<p>contains the call to the 'java class that will call native function' &amp; thread with its <code>setDefaultUncaughtExceptionHandler</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FfmpegBoundService extends Service {\n    /**\n     * Command to the service to display a message\n     */\n    static final int MSG_SAY_HELLO = 1;\n\n    /**\n     * Handler of incoming messages from clients.\n     */\n    static class IncomingHandler extends Handler {\n        Bitmap tb;\n        Messenger clientMessenger;\n\n        @Override\n        public void handleMessage(Message msg) {\n            switch (msg.what) {\n                case MSG_SAY_HELLO:\n                    clientMessenger = msg.replyTo;\n                    Runnable doSwscale = () -&gt; {\n                        try {\n                            tb = Smooth.rescale_with_crash((Bitmap) msg.obj, msg.arg1, msg.arg2, Smooth.AlgoParametrized1.LANCZOS, 3.0);  // 3 is default width in ffmpeg.\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    };\n\n                    Thread t = new Thread(doSwscale);\n\n                    // Set UncaughtExceptionHandler to catch crash\n                    t.setDefaultUncaughtExceptionHandler(new Thread.\n                            UncaughtExceptionHandler() {\n                        public void uncaughtException(Thread t, Throwable e) {\n                            try {\n                                throw new FfmpegHelperException(&quot;ffmpeg Crash&quot;);\n                            } catch (Exception e2) {\n                                e2.printStackTrace();\n                            }\n                        }\n                    });\n\n                    t.start();\n\n                    // Wait until thread is finished.\n                    try {\n                        t.join();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n\n                    // Reply to client and send the thumbnail\n                    Message reply = Message.obtain(null, 10, tb);\n                    try {\n                        clientMessenger.send(reply);\n                    } catch (RemoteException e) {\n                        e.printStackTrace();\n                    }\n                    break;\n                default:\n                    super.handleMessage(msg);\n            }\n        }\n    }\n\n    /**\n     * Target we publish for clients to send messages to IncomingHandler.\n     */\n    Messenger mMessenger;\n\n    /**\n     * When binding to the service, we return an interface to our messenger\n     * for sending messages to the service.\n     */\n    @Override\n    public IBinder onBind(Intent intent) {\n        mMessenger = new Messenger(new IncomingHandler());\n        return mMessenger.getBinder();\n    }\n}\n</code></pre>\n<h4>java (call to native function)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class Smooth implements Serializable {\n    public static Bitmap rescale_with_crash(Bitmap src, int dstWidth, int dstHeight,\n                                 AlgoParametrized1 algo, double p0) throws Exception {\n        Bitmap aa = null;\n        int a = native_rescale_with_crash(src, Bitmap.createBitmap(dstWidth, dstHeight, src.getConfig()),\n                algo.flag, p0, 0.0);\n        return aa;\n    }\n\n    static void nativeCrashed() throws Exception {\n        //new RuntimeException(&quot;crashed here (native trace should follow after the Java trace)&quot;).printStackTrace();\n        //Log.e(&quot;eta&quot;, &quot;crashed here (native trace should follow after the Java trace)&quot;);\n        throw new FfmpegHelperException(&quot;native crashed here &quot;);\n    }\n\n    private static native Bitmap native_rescale(Bitmap src, Bitmap dst, int algo, double p0, double p1);\n    private static native int native_rescale_with_crash(Bitmap src, Bitmap dst, int algo, double p0, double p1);\n}\n\n</code></pre>\n<h4>C code</h4>\n<pre class=\"lang-c prettyprint-override\"><code>jint throwFfmpegHelperException( JNIEnv *env, char *message );\n\nJNIEnv *a;\nstatic jclass obj;\nstatic jmethodID nativeCrashed;\n\nvoid Segfault_Handler(int signo)\n{\n    //(*a)-&gt;CallStaticVoidMethod(a, obj, nativeCrashed);\n    throwFfmpegHelperException(a, &quot;throwFfmpegHelperException message&quot;);\n    signal(signo, SIG_DFL);\n    raise(signo);\n}\n\nstatic int JNICALL native_rescale_impl_with_crash(JNIEnv *env, jclass clazz,\n                                           jobject srcBitmap, jobject dstBitmap, jint sws_algo, jdouble p0, jdouble p1) {\n\n    signal(SIGSEGV,Segfault_Handler);\n    a = env;\n    obj = clazz;\n    raise(SIGSEGV);\n    return 200;\n}\n\nstatic const char *g_rescaler_java_class = &quot;com/schokoladenbrown/Smooth&quot;;\nstatic const JNINativeMethod g_native_methods[] = {\n    {&quot;native_rescale&quot;,\n     &quot;(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;IDD)Landroid/graphics/Bitmap;&quot;,\n     native_rescale_impl},\n    {&quot;native_rescale_with_crash&quot;,\n            &quot;(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;IDD)I&quot;,\n            native_rescale_impl_with_crash},\n};\n\njint JNI_OnLoad(JavaVM *jvm, void *reserved) {\n    JNIEnv *env = NULL;\n    jclass cls;\n\n    (*jvm)-&gt;AttachCurrentThread(jvm, &amp;env, NULL);\n    cls = (*env)-&gt;FindClass(env, g_rescaler_java_class);\n    (*env)-&gt;RegisterNatives(env, cls, g_native_methods, sizeof g_native_methods / sizeof g_native_methods[0]);\n    nativeCrashed = (*env)-&gt;GetStaticMethodID(env, cls,  &quot;nativeCrashed&quot;, &quot;()V&quot;);\n\n}\n\njint throwNoClassDefError_( JNIEnv *env, char *message )\n{\n    jclass exClass;\n    char *className = &quot;java/lang/NoClassDefFoundError&quot;;\n\n    exClass = (*env)-&gt;FindClass( env, className);\n    if (exClass == NULL) {\n        return throwNoClassDefError_( env, className );\n    }\n\n    return (*env)-&gt;ThrowNew( env, exClass, message );\n}\n\n//https://stackoverflow.com/questions/230689/best-way-to-throw-exceptions-in-jni-code\n\njint throwFfmpegHelperException( JNIEnv *env, char *message )\n{\n    if ((*env)-&gt;ExceptionCheck(env) == JNI_TRUE) {\n        return 99;\n    }\n\n    jclass exClass;\n    char *className = &quot;com/exifthumbnailadder/app/exception/FfmpegHelperException&quot; ;\n\n    exClass = (*env)-&gt;FindClass( env, className );\n    if ( exClass == NULL ) {\n        return throwNoClassDefError_( env, className );\n    }\n\n    return (*env)-&gt;ThrowNew( env, exClass, message );\n}\n\n\n</code></pre>\n"},{"tags":["java","flutter","gradle","java-7","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674200016,"creation_date":1674200016,"answer_id":75180991,"question_id":75180990,"body_markdown":"Change Java compiled version in ```Project Structure``` (Ctrl + Shift + Alt + S) on windows in specific module, in my case it was ```app``` module\r\n\r\nAnd change Gradle JDK in ```File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle``` or (Ctrl + Alt + S) on windows","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Change Java compiled version in <code>Project Structure</code> (Ctrl + Shift + Alt + S) on windows in specific module, in my case it was <code>app</code> module</p>\n<p>And change Gradle JDK in <code>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</code> or (Ctrl + Alt + S) on windows</p>\n"}],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674200016,"creation_date":1674200016,"question_id":75180990,"body_markdown":"I&#39;m having a problem with building Java project with Flutter module when compiling it.\r\nIt shows the next problem:\r\n\r\n```Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7```\r\n\r\nI&#39;ve changed gradle version in ```ProjectName\\gradle\\wrapper\\gradle-wrapper.properties``` and it didn&#39;t help.","title":"Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I'm having a problem with building Java project with Flutter module when compiling it.\nIt shows the next problem:</p>\n<p><code>Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7</code></p>\n<p>I've changed gradle version in <code>ProjectName\\gradle\\wrapper\\gradle-wrapper.properties</code> and it didn't help.</p>\n"},{"tags":["java","hibernate","annotations","syntax-error"],"comments":[{"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"score":0,"creation_date":1368740050,"post_id":16597814,"comment_id":23857557,"body_markdown":"Did you try with just one backslash?","body":"Did you try with just one backslash?"},{"owner":{"account_id":1355216,"reputation":825,"user_id":1293755,"accept_rate":90,"display_name":"Waylander"},"score":0,"creation_date":1368740122,"post_id":16597814,"comment_id":23857580,"body_markdown":"One backslash gives me a compilererror with &quot;Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )&quot;. Thanks for your comment.","body":"One backslash gives me a compilererror with &quot;Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ )&quot;. Thanks for your comment."},{"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"score":0,"creation_date":1368740622,"post_id":16597814,"comment_id":23857790,"body_markdown":"I&#39;d build the `name` parameter as a String, and reference the String in the annotation. If that doesn&#39;t work, I&#39;d try to reference the colon as a `char`, using single-quotes at first, and then referencing a `char colon = &#39;:&#39;;` field. (Obviously, I&#39;m just guessing, but I have Hibernate stuff to look forward to in the next couple weeks, and I&#39;ve never used it... :\\ )","body":"I&#39;d build the <code>name</code> parameter as a String, and reference the String in the annotation. If that doesn&#39;t work, I&#39;d try to reference the colon as a <code>char</code>, using single-quotes at first, and then referencing a <code>char colon = &#39;:&#39;;</code> field. (Obviously, I&#39;m just guessing, but I have Hibernate stuff to look forward to in the next couple weeks, and I&#39;ve never used it... :\\ )"},{"owner":{"account_id":1355216,"reputation":825,"user_id":1293755,"accept_rate":90,"display_name":"Waylander"},"score":0,"creation_date":1368742124,"post_id":16597814,"comment_id":23858380,"body_markdown":"Thanks for your comment! I tried this, but sadly it gives me a &quot;org.postgresql.util.PSQLException: FEHLER: Syntaxfehler bei &#187;\\&#171;&quot; exception (&quot;Error: Syntaxerror at &#187;\\&#171;&quot;), the same as when I try to use two backslashes.","body":"Thanks for your comment! I tried this, but sadly it gives me a &quot;org.postgresql.util.PSQLException: FEHLER: Syntaxfehler bei &#187;\\&#171;&quot; exception (&quot;Error: Syntaxerror at &#187;\\&#171;&quot;), the same as when I try to use two backslashes."},{"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"score":0,"creation_date":1368743013,"post_id":16597814,"comment_id":23858676,"body_markdown":"Hmm. Well, I cannot test with Hibernate, but other annotations *do* accept a colon in the string (`@RequestMapping(value=&quot;test:test&quot;)` works fine), and there&#39;s no indication from [here](http://docs.oracle.com/javaee/5/api/javax/persistence/Column.html) that the `@Column` annotation behaves particularly differently, so I&#39;d wager it&#39;s Hibernate&#39;s SQL translation (HSQL). I just checked your edit, though, and I wonder if you tried `@Column(name=&quot;&#39;addr:city&#39;&quot;)`, if it might work. (Also, I&#39;ll leave you be -- my guesses are probably unhelpful.)","body":"Hmm. Well, I cannot test with Hibernate, but other annotations <i>do</i> accept a colon in the string (<code>@RequestMapping(value=&quot;test:test&quot;)</code> works fine), and there&#39;s no indication from <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/Column.html\" rel=\"nofollow noreferrer\">here</a> that the <code>@Column</code> annotation behaves particularly differently, so I&#39;d wager it&#39;s Hibernate&#39;s SQL translation (HSQL). I just checked your edit, though, and I wonder if you tried <code>@Column(name=&quot;&#39;addr:city&#39;&quot;)</code>, if it might work. (Also, I&#39;ll leave you be -- my guesses are probably unhelpful.)"},{"owner":{"account_id":1355216,"reputation":825,"user_id":1293755,"accept_rate":90,"display_name":"Waylander"},"score":0,"creation_date":1368744311,"post_id":16597814,"comment_id":23859059,"body_markdown":"You were almost(!) right ;) Check my answer below and you see that you need to add extra escaped quotations at the right places. And actually your guesses were really inspiring me as well. Thanks for your time.","body":"You were almost(!) right ;) Check my answer below and you see that you need to add extra escaped quotations at the right places. And actually your guesses were really inspiring me as well. Thanks for your time."}],"answers":[{"tags":[],"owner":{"account_id":1355216,"reputation":825,"user_id":1293755,"accept_rate":90,"display_name":"Waylander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1368744223,"creation_date":1368744223,"answer_id":16598710,"question_id":16597814,"body_markdown":"I solved my problem. \r\n\r\nIf there is a colon in a columname in postgresql and you try to read it out with hibernate you need to declare it like this:\r\n\r\n    @Column(name = &quot;\\&quot;addr:city\\&quot;&quot;)\r\n    private String addrCity;\r\n\r\n","title":"How to read out a column with a colon (:) in its name in hibernate and postgresql","body":"<p>I solved my problem. </p>\n\n<p>If there is a colon in a columname in postgresql and you try to read it out with hibernate you need to declare it like this:</p>\n\n<pre><code>@Column(name = \"\\\"addr:city\\\"\")\nprivate String addrCity;\n</code></pre>\n"}],"owner":{"account_id":1355216,"reputation":825,"user_id":1293755,"accept_rate":90,"display_name":"Waylander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16598710,"answer_count":1,"score":3,"last_activity_date":1674199857,"creation_date":1368739757,"question_id":16597814,"body_markdown":"I am given a postgre database in which I have a table that has a column called:\r\n\r\naddr:city\r\n\r\nSince I cant use colons in java classvariables I tried to represent it this way: \r\n\r\n    @Column(name = &quot;addr:city&quot;)\r\n    private String addrCity;\r\n\r\nSadly this didn&#39;t work, I get the following exception (I am sorry for the german language in the exception text, I don&#39;t know why it is this way - translated it means a Syntax error at the : (colon)): \r\n\r\n&gt; ERROR: FEHLER: Syntaxfehler bei &#187;:&#171;   Position: 52 Exception in thread\r\n&gt; &quot;main&quot; org.hibernate.exception.SQLGrammarException: FEHLER:\r\n&gt; Syntaxfehler bei &#187;:&#171;   Position: 52 \tat\r\n&gt; org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:122)\r\n&gt; \tat\r\n&gt; org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)\r\n&gt; \tat $Proxy12.executeQuery(Unknown Source) \tat\r\n&gt; org.hibernate.loader.Loader.getResultSet(Loader.java:1978) \tat\r\n&gt; org.hibernate.loader.Loader.doQuery(Loader.java:829) \tat\r\n&gt; org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289)\r\n&gt; \tat org.hibernate.loader.Loader.doList(Loader.java:2463) \tat\r\n&gt; org.hibernate.loader.Loader.doList(Loader.java:2449) \tat\r\n&gt; org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2279) \tat\r\n&gt; org.hibernate.loader.Loader.list(Loader.java:2274) \tat\r\n&gt; org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470) \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:196)\r\n&gt; \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1115) \tat\r\n&gt; org.hibernate.internal.QueryImpl.list(QueryImpl.java:101) \tat\r\n&gt; database.BerlinPolygonDAO.getBerlinLocationByID(BerlinPolygonDAO.java:52)\r\n&gt; \tat databaseAccess.Tester.main(Tester.java:33) Caused by:\r\n&gt; org.postgresql.util.PSQLException: FEHLER: Syntaxfehler bei &#187;:&#171;  \r\n&gt; Position: 52 \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157)\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886)\r\n&gt; \tat\r\n&gt; org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417)\r\n&gt; \tat\r\n&gt; org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:302) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:601) \tat\r\n&gt; org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)\r\n&gt; \t... 16 more\r\n\r\nI read in some other posts that I should escape it the way below, but it did not work for me (exception that simply says that there is a syntax error with the &quot;\\&quot;) \r\n\r\n    @Column(name = &quot;addr\\\\:city&quot;)\r\n    private String addrCity;\r\n\r\nIt also didn&#39;t help to use two colons: \r\n\r\n    @Column(name = &quot;addr::city&quot;)\r\n    private String addrCity;\r\n\r\nThen I get an exception, that the column &quot;addr&quot; (so without the colon and the rest) doesn&#39;t exist. \r\n\r\nCan anyone tell me what I need to do for reading out this column? \r\n\r\nI found [this][1] related question that deals with the exact same column I&#39;m dealing with now and the problem with the colon, but **not** in hibernate. I&#39;m thinking if this might help somehow. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4940959/problem-with-a-column-name-contains-a-colon-in-postgresql","title":"How to read out a column with a colon (:) in its name in hibernate and postgresql","body":"<p>I am given a postgre database in which I have a table that has a column called:</p>\n<p>addr:city</p>\n<p>Since I cant use colons in java classvariables I tried to represent it this way:</p>\n<pre><code>@Column(name = &quot;addr:city&quot;)\nprivate String addrCity;\n</code></pre>\n<p>Sadly this didn't work, I get the following exception (I am sorry for the german language in the exception text, I don't know why it is this way - translated it means a Syntax error at the : (colon)):</p>\n<blockquote>\n<p>ERROR: FEHLER: Syntaxfehler bei »:«   Position: 52 Exception in thread\n&quot;main&quot; org.hibernate.exception.SQLGrammarException: FEHLER:\nSyntaxfehler bei »:«   Position: 52   at\norg.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:122)\nat\norg.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\nat\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\nat\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)\nat\norg.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)\nat\norg.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)\nat $Proxy12.executeQuery(Unknown Source)    at\norg.hibernate.loader.Loader.getResultSet(Loader.java:1978)    at\norg.hibernate.loader.Loader.doQuery(Loader.java:829)  at\norg.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289)\nat org.hibernate.loader.Loader.doList(Loader.java:2463)     at\norg.hibernate.loader.Loader.doList(Loader.java:2449)  at\norg.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2279)    at\norg.hibernate.loader.Loader.list(Loader.java:2274)    at\norg.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470)   at\norg.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)\nat\norg.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:196)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1115)   at\norg.hibernate.internal.QueryImpl.list(QueryImpl.java:101)     at\ndatabase.BerlinPolygonDAO.getBerlinLocationByID(BerlinPolygonDAO.java:52)\nat databaseAccess.Tester.main(Tester.java:33) Caused by:\norg.postgresql.util.PSQLException: FEHLER: Syntaxfehler bei »:«<br />\nPosition: 52  at\norg.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157)\nat\norg.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886)\nat\norg.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\nat\norg.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555)\nat\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417)\nat\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:302)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)     at\norg.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)\n... 16 more</p>\n</blockquote>\n<p>I read in some other posts that I should escape it the way below, but it did not work for me (exception that simply says that there is a syntax error with the &quot;&quot;)</p>\n<pre><code>@Column(name = &quot;addr\\\\:city&quot;)\nprivate String addrCity;\n</code></pre>\n<p>It also didn't help to use two colons:</p>\n<pre><code>@Column(name = &quot;addr::city&quot;)\nprivate String addrCity;\n</code></pre>\n<p>Then I get an exception, that the column &quot;addr&quot; (so without the colon and the rest) doesn't exist.</p>\n<p>Can anyone tell me what I need to do for reading out this column?</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/4940959/problem-with-a-column-name-contains-a-colon-in-postgresql\">this</a> related question that deals with the exact same column I'm dealing with now and the problem with the colon, but <strong>not</strong> in hibernate. I'm thinking if this might help somehow.</p>\n"},{"tags":["java","selenium","wait","invisible"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":1,"creation_date":1404316717,"post_id":24535720,"comment_id":37994115,"body_markdown":"possible duplicate of [Selenium - Wait until element is NOT visible](http://stackoverflow.com/questions/22646031/selenium-wait-until-element-is-not-visible)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22646031/selenium-wait-until-element-is-not-visible\">Selenium - Wait until element is NOT visible</a>"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1404317414,"post_id":24535720,"comment_id":37994555,"body_markdown":"Google will turn up many other solutions available.","body":"Google will turn up many other solutions available."},{"owner":{"account_id":1994759,"reputation":327,"user_id":1787945,"accept_rate":57,"display_name":"Christoph Zabinski"},"score":0,"creation_date":1404823987,"post_id":24535720,"comment_id":38176385,"body_markdown":"thank you for that but the referred solutions didn&#39;t do the trick. came up with my own &quot;waiting method&quot;.","body":"thank you for that but the referred solutions didn&#39;t do the trick. came up with my own &quot;waiting method&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4603303,"reputation":98,"user_id":3733448,"display_name":"Pierre-luc S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404390568,"creation_date":1404390568,"answer_id":24553729,"question_id":24535720,"body_markdown":"I&#39;m not sure, but you can try something like this :)\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); //time in second\r\n    WebElement we = driver.findElement(By.id(&quot;lblOrderHeaderSaving&quot;));   \r\n    assertEquals(&quot;none&quot;, we.getCssValue(&quot;display&quot;));","title":"Selenium: Waiting for an element do disappear","body":"<p>I'm not sure, but you can try something like this :)</p>\n\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); //time in second\nWebElement we = driver.findElement(By.id(\"lblOrderHeaderSaving\"));   \nassertEquals(\"none\", we.getCssValue(\"display\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2390902,"reputation":1570,"user_id":2090769,"accept_rate":70,"display_name":"Nguyen Vu Hoang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404813276,"creation_date":1404813276,"answer_id":24628833,"question_id":24535720,"body_markdown":"Webdriver has built in waiting functionality you just need to build in the condition to wait for.\r\n\r\n    Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n       .withTimeout(30, SECONDS)\r\n       .pollingEvery(5, SECONDS)\r\n       .ignoring(NoSuchElementException.class);\r\n\r\n    WebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\r\n     public WebElement apply(WebDriver driver) {\r\n       return (driver.findElements(By.id(&quot;lblOrderHeaderSaving&quot;)).size() == 0);\r\n     }\r\n    });","title":"Selenium: Waiting for an element do disappear","body":"<p>Webdriver has built in waiting functionality you just need to build in the condition to wait for.</p>\n\n<pre><code>Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n   .withTimeout(30, SECONDS)\n   .pollingEvery(5, SECONDS)\n   .ignoring(NoSuchElementException.class);\n\nWebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\n public WebElement apply(WebDriver driver) {\n   return (driver.findElements(By.id(\"lblOrderHeaderSaving\")).size() == 0);\n }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133512,"reputation":1707,"user_id":334927,"display_name":"1-14x0r"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1433281727,"creation_date":1433281727,"answer_id":30607213,"question_id":24535720,"body_markdown":"This works with selenium 2.4.0. you have to use the invisibility mehtod to find it.\r\n\r\n    final public static boolean waitForElToBeRemove(WebDriver driver, final By by) {\r\n\t\ttry {\r\n\t\t\tdriver.manage().timeouts()\r\n\t\t\t\t\t.implicitlyWait(0, TimeUnit.SECONDS);\r\n\r\n\t\t\tWebDriverWait wait = new WebDriverWait(UITestBase.driver,\r\n\t\t\t\t\tDEFAULT_TIMEOUT);\r\n\r\n\t\t\tboolean present = wait\r\n\t\t\t\t\t.ignoring(StaleElementReferenceException.class)\r\n\t\t\t\t\t.ignoring(NoSuchElementException.class)\r\n\t\t\t\t\t.until(ExpectedConditions.invisibilityOfElementLocated(by));\r\n\t\t\t\r\n\t\t\treturn present;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t} finally {\r\n\t\t\tdriver.manage().timeouts()\r\n\t\t\t\t\t.implicitlyWait(DEFAULT_TIMEOUT, TimeUnit.SECONDS);\r\n\t\t}\r\n\t}","title":"Selenium: Waiting for an element do disappear","body":"<p>This works with selenium 2.4.0. you have to use the invisibility mehtod to find it.</p>\n\n<pre><code>final public static boolean waitForElToBeRemove(WebDriver driver, final By by) {\n    try {\n        driver.manage().timeouts()\n                .implicitlyWait(0, TimeUnit.SECONDS);\n\n        WebDriverWait wait = new WebDriverWait(UITestBase.driver,\n                DEFAULT_TIMEOUT);\n\n        boolean present = wait\n                .ignoring(StaleElementReferenceException.class)\n                .ignoring(NoSuchElementException.class)\n                .until(ExpectedConditions.invisibilityOfElementLocated(by));\n\n        return present;\n    } catch (Exception e) {\n        return false;\n    } finally {\n        driver.manage().timeouts()\n                .implicitlyWait(DEFAULT_TIMEOUT, TimeUnit.SECONDS);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156897,"reputation":417,"user_id":4129893,"display_name":"TheFreddyKilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461615309,"creation_date":1461606748,"answer_id":36847689,"question_id":24535720,"body_markdown":"You can wait for a WebElement to throw a StaleElementReferenceException like this:\r\n\r\n    public void waitForInvisibility(WebElement webElement, int maxSeconds) {\r\n        Long startTime = System.currentTimeMillis();\r\n        try {\r\n            while (System.currentTimeMillis() - startTime &lt; maxSeconds * 1000 &amp;&amp; webElement.isDisplayed()) {}\r\n        } catch (StaleElementReferenceException e) {\r\n            return;\r\n        }\r\n    }\r\n\r\nSo you would pass in the WebElement you want to wait for, and the max amount of seconds you want to wait.","title":"Selenium: Waiting for an element do disappear","body":"<p>You can wait for a WebElement to throw a StaleElementReferenceException like this:</p>\n\n<pre><code>public void waitForInvisibility(WebElement webElement, int maxSeconds) {\n    Long startTime = System.currentTimeMillis();\n    try {\n        while (System.currentTimeMillis() - startTime &lt; maxSeconds * 1000 &amp;&amp; webElement.isDisplayed()) {}\n    } catch (StaleElementReferenceException e) {\n        return;\n    }\n}\n</code></pre>\n\n<p>So you would pass in the WebElement you want to wait for, and the max amount of seconds you want to wait.</p>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495712311,"creation_date":1495712311,"answer_id":44179661,"question_id":24535720,"body_markdown":"I used following C# code to handle this, you may convert it to Java\r\n\r\n        public bool WaitForElementDisapper(By element)\r\n        {\r\n            try\r\n            {\r\n                while (true)\r\n                {\r\n                    try\r\n                    {\r\n                        if (driver.FindElement(element).Displayed)\r\n                            Thread.Sleep(2000);\r\n                    }\r\n                    catch (NoSuchElementException)\r\n                    {\r\n                        break;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.Error(e.Message);\r\n                return false;\r\n            }\r\n        }","title":"Selenium: Waiting for an element do disappear","body":"<p>I used following C# code to handle this, you may convert it to Java</p>\n\n<pre><code>    public bool WaitForElementDisapper(By element)\n    {\n        try\n        {\n            while (true)\n            {\n                try\n                {\n                    if (driver.FindElement(element).Displayed)\n                        Thread.Sleep(2000);\n                }\n                catch (NoSuchElementException)\n                {\n                    break;\n                }\n            }\n            return true;\n        }\n        catch (Exception e)\n        {\n            logger.Error(e.Message);\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5575319,"reputation":8267,"user_id":4418897,"display_name":"Santosh Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507536296,"creation_date":1507536296,"answer_id":46641502,"question_id":24535720,"body_markdown":"You can also try waiting for the ajax calls to complete. I&#39;ve used this to check when the page load is complete and all the elements are visible. \r\n\r\nHere&#39;s the code  - https://stackoverflow.com/a/46640938/4418897","title":"Selenium: Waiting for an element do disappear","body":"<p>You can also try waiting for the ajax calls to complete. I've used this to check when the page load is complete and all the elements are visible. </p>\n\n<p>Here's the code  - <a href=\"https://stackoverflow.com/a/46640938/4418897\">https://stackoverflow.com/a/46640938/4418897</a></p>\n"},{"tags":[],"owner":{"account_id":9232584,"reputation":433,"user_id":9823031,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540297463,"creation_date":1540297463,"answer_id":52949025,"question_id":24535720,"body_markdown":"You could use XPath and WebDriverWait to check whether `display: none` is present in the style attribute of an element. Here is an example:\r\n\r\n    // Specify the time in seconds the driver should wait while searching for an element which is not present yet.\r\n    int WAITING_TIME = 10;\r\n    \r\n    // Use the driver for the browser you want to use.\r\n    ChromeDriver driver = new ChromeDriver();\r\n    WebDriverWait wait = new WebDriverWait(driver, WAITING_TIME);\r\n    \r\n    // Replace ELEMENT_ID with the ID of the element which should disappear. \r\n    // Waits unit style=&quot;display: none;&quot; is present in the element, which means the element is not visible anymore.\r\n    driver.wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[@id=&#39;ELEMENT_ID&#39;][contains(@style, &#39;display: block&#39;)]&quot;)));","title":"Selenium: Waiting for an element do disappear","body":"<p>You could use XPath and WebDriverWait to check whether <code>display: none</code> is present in the style attribute of an element. Here is an example:</p>\n\n<pre><code>// Specify the time in seconds the driver should wait while searching for an element which is not present yet.\nint WAITING_TIME = 10;\n\n// Use the driver for the browser you want to use.\nChromeDriver driver = new ChromeDriver();\nWebDriverWait wait = new WebDriverWait(driver, WAITING_TIME);\n\n// Replace ELEMENT_ID with the ID of the element which should disappear. \n// Waits unit style=\"display: none;\" is present in the element, which means the element is not visible anymore.\ndriver.wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//*[@id='ELEMENT_ID'][contains(@style, 'display: block')]\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15377055,"reputation":1,"user_id":11093459,"display_name":"Anh Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611730483,"creation_date":1611730483,"answer_id":65914203,"question_id":24535720,"body_markdown":"Try using `invisibilityOfElementLocated` method.\r\nYou can reference example here [How to wait until an element no longer exists in Selenium?][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/how-to-wait-until-an-element-no-longer-exists-in-selenium","title":"Selenium: Waiting for an element do disappear","body":"<p>Try using <code>invisibilityOfElementLocated</code> method.\nYou can reference example here <a href=\"https://www.tutorialspoint.com/how-to-wait-until-an-element-no-longer-exists-in-selenium\" rel=\"nofollow noreferrer\">How to wait until an element no longer exists in Selenium?</a></p>\n"},{"tags":[],"owner":{"account_id":27578334,"reputation":1,"user_id":21048033,"display_name":"user21048033"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199735,"creation_date":1674199611,"answer_id":75180927,"question_id":24535720,"body_markdown":"[enter image description here][1]I created my own method for element disappearing from dom....\r\n\r\nIn Conditions class   (In .m2\\repository\\org\\seleniumhq\\selenium\\selenium-support\\3.141.59\\selenium-support-3.141.59.jar!\\org\\openqa\\selenium\\support\\ui\\ExpectedConditions.class)\r\n\r\nwe can see that &#39;isInvisible&#39; method with &#39;isDisplayed&#39; method,,, i wrote the same with &#39;isEnabled&#39;\r\n\r\n    \r\n    public static ExpectedCondition&lt;Boolean&gt; invisibilityOf(final WebElement element) {\r\n        return new ExpectedCondition&lt;Boolean&gt;() {\r\n\r\n            @Override\r\n            public Boolean apply(WebDriver webDriver) {\r\n                return isRemovedFromDom(element);\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;invisibility of &quot; + element;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    private static boolean isRemovedFromDom(final WebElement element) {\r\n        try {\r\n            return !element.isEnabled();\r\n        } catch (StaleElementReferenceException ignored) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dp8SJ.png","title":"Selenium: Waiting for an element do disappear","body":"<p><a href=\"https://i.stack.imgur.com/Dp8SJ.png\" rel=\"nofollow noreferrer\">enter image description here</a>I created my own method for element disappearing from dom....</p>\n<p>In Conditions class   (In .m2\\repository\\org\\seleniumhq\\selenium\\selenium-support\\3.141.59\\selenium-support-3.141.59.jar!\\org\\openqa\\selenium\\support\\ui\\ExpectedConditions.class)</p>\n<p>we can see that 'isInvisible' method with 'isDisplayed' method,,, i wrote the same with 'isEnabled'</p>\n<pre><code>public static ExpectedCondition&lt;Boolean&gt; invisibilityOf(final WebElement element) {\n    return new ExpectedCondition&lt;Boolean&gt;() {\n\n        @Override\n        public Boolean apply(WebDriver webDriver) {\n            return isRemovedFromDom(element);\n        }\n\n        @Override\n        public String toString() {\n            return &quot;invisibility of &quot; + element;\n        }\n    };\n}\n\n\nprivate static boolean isRemovedFromDom(final WebElement element) {\n    try {\n        return !element.isEnabled();\n    } catch (StaleElementReferenceException ignored) {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1994759,"reputation":327,"user_id":1787945,"accept_rate":57,"display_name":"Christoph Zabinski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34280,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":9,"score":6,"last_activity_date":1674199735,"creation_date":1404316471,"question_id":24535720,"body_markdown":"I posed with a difficult task. I am fairly new to selenium and still working through the functionalities of waiting for elements and alike. \r\n\r\nI have to manipulate some data on a website and then proceed to another. Problem: the manipulation invokes a script that makes a little &quot;Saving...&quot; label appear while the manipulated data is being processed in the background. I have to wait until I can proceed to the next website.\r\n \r\nSo here it is: \r\nHow do i wait for and element to DISAPPEAR? Thing is: It is always present in the DOM but only made visible by some script (I suppose, see image below).\r\n![The palish code contains the said element][1] \r\n\r\n  [1]: http://i.stack.imgur.com/lDQUZ.png\r\n\r\n\r\nThis is what I tried but it just doesn&#39;t work - there is no waiting, selenium just proceeds to the next step (and gets stuck with an alert asking me if I want to leave or stay on the page because of the &quot;saving...&quot;). \r\n\r\n\tprivate By savingLableLocator = By.id(&quot;lblOrderHeaderSaving&quot;);\r\n\r\n    \tpublic boolean waitForSavingDone(By webelementLocator, Integer seconds){\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, seconds);\r\n\t\tBoolean element = wait.until(ExpectedConditions.invisibilityOfElementLocated(webelementLocator));\r\n\t\treturn element;\r\n\t}\r\n\r\nUPDATE / SOLUTION:\r\n\r\nI came up ith the following solution: I built my own method. Basically it checks in a loop for the CssValue to change. \r\n\r\nthe loops checks for a certain amount of time for the CSSVALUE &quot;display&quot; to go from &quot;block&quot; to another state. \r\n\r\n    public void waitForSavingOrderHeaderDone(Integer _seconds){\r\n\t\tWebElement savingLbl = driver.findElement(By.id(&quot;lblOrderHeaderSaving&quot;));   \r\n\t\tfor (int second = 0;; second++) {\r\n\t\t\tif (second &gt;= _seconds)\r\n\t\t\t\tSystem.out.println(&quot;Waiting for changes to be saved...&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tif (!(&quot;block&quot;.equals(savingLbl.getCssValue(&quot;display&quot;))))\r\n\t\t\t\t\tbreak;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}","title":"Selenium: Waiting for an element do disappear","body":"<p>I posed with a difficult task. I am fairly new to selenium and still working through the functionalities of waiting for elements and alike. </p>\n\n<p>I have to manipulate some data on a website and then proceed to another. Problem: the manipulation invokes a script that makes a little \"Saving...\" label appear while the manipulated data is being processed in the background. I have to wait until I can proceed to the next website.</p>\n\n<p>So here it is: \nHow do i wait for and element to DISAPPEAR? Thing is: It is always present in the DOM but only made visible by some script (I suppose, see image below).\n<img src=\"https://i.stack.imgur.com/lDQUZ.png\" alt=\"The palish code contains the said element\"> </p>\n\n<p>This is what I tried but it just doesn't work - there is no waiting, selenium just proceeds to the next step (and gets stuck with an alert asking me if I want to leave or stay on the page because of the \"saving...\"). </p>\n\n<pre><code>private By savingLableLocator = By.id(\"lblOrderHeaderSaving\");\n\n    public boolean waitForSavingDone(By webelementLocator, Integer seconds){\n    WebDriverWait wait = new WebDriverWait(driver, seconds);\n    Boolean element = wait.until(ExpectedConditions.invisibilityOfElementLocated(webelementLocator));\n    return element;\n}\n</code></pre>\n\n<p>UPDATE / SOLUTION:</p>\n\n<p>I came up ith the following solution: I built my own method. Basically it checks in a loop for the CssValue to change. </p>\n\n<p>the loops checks for a certain amount of time for the CSSVALUE \"display\" to go from \"block\" to another state. </p>\n\n<pre><code>public void waitForSavingOrderHeaderDone(Integer _seconds){\n    WebElement savingLbl = driver.findElement(By.id(\"lblOrderHeaderSaving\"));   \n    for (int second = 0;; second++) {\n        if (second &gt;= _seconds)\n            System.out.println(\"Waiting for changes to be saved...\");\n        try {\n            if (!(\"block\".equals(savingLbl.getCssValue(\"display\"))))\n                break;\n        } catch (Exception e) {\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":27489710,"reputation":37,"user_id":20975316,"display_name":"Hary Hillary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674199596,"creation_date":1674199596,"question_id":75180924,"body_markdown":"I&#39;m trying to handle an external url via my app, this is my xml deeplink code,\r\n```\r\n&lt;activity android:name=&quot;com.newdom.hio.MainActivity&quot;\r\n            android:exported=&quot;true&quot; android:launchMode=&quot;singleTask&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;!-- below line is to set the action to our intent to view --&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are adding a default category to our intent --&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are adding a category to make our app browsable --&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are specifying the host name and\r\n                    the scheme type from which we will be calling our app --&gt;\r\n                &lt;data\r\n                    android:host=&quot;www.mynewdom.com&quot;\r\n                    android:scheme=&quot;https&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;!-- below is the same filter as above just the scheme is changed to http --&gt;\r\n            &lt;!-- so we can open our app with the url starting with https and http as well --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:host=&quot;www.mynewdom.com&quot;\r\n                    android:scheme=&quot;http&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;!-- below line is to set the action to our intent to view --&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are adding a default category to our intent --&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are adding a category to make our app browsable --&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;!-- on below line we are specifying the host name and\r\n                    the scheme type from which we will be calling our app --&gt;\r\n                &lt;data\r\n                    android:host=&quot;mynewdom.com&quot;\r\n                    android:scheme=&quot;https&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;!-- below is the same filter as above just the scheme is changed to http --&gt;\r\n            &lt;!-- so we can open our app with the url starting with https and http as well --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:host=&quot;mynewdom.com&quot;\r\n                    android:scheme=&quot;http&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\nIt opens my app when the user clicks the link to my domain &quot;www.mynewdom.com&quot; from any other app, But How can i accept/handle the link when it opens my app? I have only MainActivty and so i tred the following code inside `override fun shouldOverrideUrlLoading()` ,\r\n```\r\nprivate var uri: Uri? = null\r\n uri = intent.data\r\n\r\n                    // checking if the uri is null or not.\r\n                    if (uri != null) {\r\n                        var rert = uri!!.toString()\r\n                        var intent: Intent = Intent(Intent.ACTION_VIEW, Uri.parse(rert))\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                        Log.d(TAG,&quot;INTENT TRIGGERED: &quot;+url.toString())\r\n                        startActivity(intent)\r\n\r\n                    }\r\n```\r\n\r\nbut it doesn&#39;t open the url as i thought, instead it just opens my app. So how can Make this url ( such as, https://mynewdom.com/anysuffix ) to open inside my webview when clicked from any other apps?\r\n\r\nI would always appreciate any help/corrections regarding this.","title":"How to Capture/handle Deep links in kotlin android webview app?","body":"<p>I'm trying to handle an external url via my app, this is my xml deeplink code,</p>\n<pre><code>&lt;activity android:name=&quot;com.newdom.hio.MainActivity&quot;\n            android:exported=&quot;true&quot; android:launchMode=&quot;singleTask&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;!-- below line is to set the action to our intent to view --&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;!-- on below line we are adding a default category to our intent --&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;!-- on below line we are adding a category to make our app browsable --&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;!-- on below line we are specifying the host name and\n                    the scheme type from which we will be calling our app --&gt;\n                &lt;data\n                    android:host=&quot;www.mynewdom.com&quot;\n                    android:scheme=&quot;https&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;!-- below is the same filter as above just the scheme is changed to http --&gt;\n            &lt;!-- so we can open our app with the url starting with https and http as well --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data\n                    android:host=&quot;www.mynewdom.com&quot;\n                    android:scheme=&quot;http&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;!-- below line is to set the action to our intent to view --&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;!-- on below line we are adding a default category to our intent --&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;!-- on below line we are adding a category to make our app browsable --&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;!-- on below line we are specifying the host name and\n                    the scheme type from which we will be calling our app --&gt;\n                &lt;data\n                    android:host=&quot;mynewdom.com&quot;\n                    android:scheme=&quot;https&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;!-- below is the same filter as above just the scheme is changed to http --&gt;\n            &lt;!-- so we can open our app with the url starting with https and http as well --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data\n                    android:host=&quot;mynewdom.com&quot;\n                    android:scheme=&quot;http&quot; /&gt;\n            &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>It opens my app when the user clicks the link to my domain &quot;www.mynewdom.com&quot; from any other app, But How can i accept/handle the link when it opens my app? I have only MainActivty and so i tred the following code inside <code>override fun shouldOverrideUrlLoading()</code> ,</p>\n<pre><code>private var uri: Uri? = null\n uri = intent.data\n\n                    // checking if the uri is null or not.\n                    if (uri != null) {\n                        var rert = uri!!.toString()\n                        var intent: Intent = Intent(Intent.ACTION_VIEW, Uri.parse(rert))\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                        Log.d(TAG,&quot;INTENT TRIGGERED: &quot;+url.toString())\n                        startActivity(intent)\n\n                    }\n</code></pre>\n<p>but it doesn't open the url as i thought, instead it just opens my app. So how can Make this url ( such as, <a href=\"https://mynewdom.com/anysuffix\" rel=\"nofollow noreferrer\">https://mynewdom.com/anysuffix</a> ) to open inside my webview when clicked from any other apps?</p>\n<p>I would always appreciate any help/corrections regarding this.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674122940,"post_id":75170431,"comment_id":132649096,"body_markdown":"Method parameter `student` has the same name as class field `student` (the field is populated with data), so it is the one used in the method. All array elements are initialized as `null`, so you don&#39;t have data to work with. Initialize the element at the index you want to work with.","body":"Method parameter <code>student</code> has the same name as class field <code>student</code> (the field is populated with data), so it is the one used in the method. All array elements are initialized as <code>null</code>, so you don&#39;t have data to work with. Initialize the element at the index you want to work with."},{"owner":{"account_id":4957782,"reputation":17,"user_id":3989887,"display_name":"Dan Chheng"},"score":0,"creation_date":1674128663,"post_id":75170431,"comment_id":132650959,"body_markdown":"I&#39;ve to try rename method parameter but not work.","body":"I&#39;ve to try rename method parameter but not work."}],"answers":[{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674123977,"creation_date":1674123977,"answer_id":75170827,"question_id":75170431,"body_markdown":"Are you depended on Arrays?\r\n\r\nIf not you could use Map with List or two Lists. My guess:\r\n```\r\nprivat Map&lt;int,List&lt;String&gt;&gt; students = new HashMap&lt;int, List&lt;String&gt;&gt;();\r\n\r\npublic void addStudent(int id,String name, String lastName, String birthdate,...){\r\n   List&lt;String&gt; student = new LinkedList&lt;String&gt;(); //LinkedList for fixed order\r\n   student.add(name);\r\n   student.add(lastName);\r\n   student.add(birthdate);\r\n\r\n   students.put(id, student);\r\n}\r\n```\r\n\r\nShould work like this and with LinkedList the order is fixed and you can get the data by knowing the index if needed\r\n\r\nOtherwise you could try a List in a List.\r\n\r\nAdvantage here ist that you can easy access the data of the students by index and good methods!","title":"How to add new element to the end of array in Java","body":"<p>Are you depended on Arrays?</p>\n<p>If not you could use Map with List or two Lists. My guess:</p>\n<pre><code>privat Map&lt;int,List&lt;String&gt;&gt; students = new HashMap&lt;int, List&lt;String&gt;&gt;();\n\npublic void addStudent(int id,String name, String lastName, String birthdate,...){\n   List&lt;String&gt; student = new LinkedList&lt;String&gt;(); //LinkedList for fixed order\n   student.add(name);\n   student.add(lastName);\n   student.add(birthdate);\n\n   students.put(id, student);\n}\n</code></pre>\n<p>Should work like this and with LinkedList the order is fixed and you can get the data by knowing the index if needed</p>\n<p>Otherwise you could try a List in a List.</p>\n<p>Advantage here ist that you can easy access the data of the students by index and good methods!</p>\n"},{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199530,"creation_date":1674199530,"answer_id":75180915,"question_id":75170431,"body_markdown":"Maybe try this\r\n\r\n```\r\n        String[] test = new String[]{&quot;Test1&quot;, &quot;Test2&quot;};\r\n\t\t\r\n\t\t//try new on\r\n\t\tString[] tester = new String[test.length + 1];\r\n\t\tfor(int i = 0; i &lt; test.length; i++){\r\n\t\t    tester[i] = test[i];\r\n\t\t}\r\n\t\t\r\n\t\t// -1 cause of index 0 to length - 1\r\n\t\ttester[tester.length - 1] = &quot;Test3&quot;;\r\n\t\t\r\n\t\ttest = tester;\r\n\t\t\r\n\t\tfor(String text : test){\r\n\t\t    System.out.println(text);\r\n\t\t}\r\n```\r\n\r\nworked fine for me","title":"How to add new element to the end of array in Java","body":"<p>Maybe try this</p>\n<pre><code>        String[] test = new String[]{&quot;Test1&quot;, &quot;Test2&quot;};\n        \n        //try new on\n        String[] tester = new String[test.length + 1];\n        for(int i = 0; i &lt; test.length; i++){\n            tester[i] = test[i];\n        }\n        \n        // -1 cause of index 0 to length - 1\n        tester[tester.length - 1] = &quot;Test3&quot;;\n        \n        test = tester;\n        \n        for(String text : test){\n            System.out.println(text);\n        }\n</code></pre>\n<p>worked fine for me</p>\n"}],"owner":{"account_id":4957782,"reputation":17,"user_id":3989887,"display_name":"Dan Chheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1674199530,"creation_date":1674122082,"question_id":75170431,"body_markdown":"    StudentModel[] student = new StudentModel[] {\r\n         new StudentModel(1, &quot;Kanha&quot;, &quot;Vong&quot;, &quot;Female&quot;, &quot;09/09/2000&quot;, &quot;Siem Reap&quot;, &quot;016663332&quot;),\r\n         new StudentModel(2, &quot;Echrysa&quot;, &quot;Chhy&quot;, &quot;Male&quot;, &quot;01/20/2000&quot;, &quot;Pursat&quot;, &quot;097222444&quot;),\r\n         new StudentModel(3, &quot;Sopheak&quot;, &quot;Chok&quot;, &quot;female&quot;, &quot;29/06/2005&quot;, &quot;Battambang&quot;, &quot;096565544&quot;),\r\n         new StudentModel(4, &quot;Sakda&quot;, &quot;Heang&quot;, &quot;Male&quot;, &quot;04/12/2001&quot;, &quot;Banteay Meanchey&quot;, &quot;097889900&quot;),\r\n         new StudentModel(5, &quot;TongHan&quot;, &quot;Khy&quot;, &quot;Male&quot;, &quot;03/06/2002&quot;, &quot;Pursat&quot;, &quot;0976543201&quot;),\r\n         new StudentModel(6, &quot;Seyma&quot;, &quot;Hor&quot;, &quot;Female&quot;, &quot;27/08/2004&quot;, &quot;Battambang&quot;, &quot;015765456&quot;)\r\n    };\r\n\r\n    public void insertStudent(StudentModel[] student){\r\n        int n = student.length;\r\n        student = new StudentModel[n+1];\r\n\r\n        System.out.print(&quot;Enter Student ID:&quot;);\r\n        student[n].setId(sc.nextInt());\r\n\r\n        System.out.print(&quot;Enter First Name:&quot;);\r\n        student[n].setFirstName(sc.nextLine());\r\n\r\n        .......................................\r\n\r\n\r\n    }\r\n\r\n\r\nI&#39;ve got error message: Cannot invoke &quot;StudentModel.setId(int)&quot;\r\nbecause &quot;student[n]&quot; is null. Anyone can help to fix this? Thank you!","title":"How to add new element to the end of array in Java","body":"<pre><code>StudentModel[] student = new StudentModel[] {\n     new StudentModel(1, &quot;Kanha&quot;, &quot;Vong&quot;, &quot;Female&quot;, &quot;09/09/2000&quot;, &quot;Siem Reap&quot;, &quot;016663332&quot;),\n     new StudentModel(2, &quot;Echrysa&quot;, &quot;Chhy&quot;, &quot;Male&quot;, &quot;01/20/2000&quot;, &quot;Pursat&quot;, &quot;097222444&quot;),\n     new StudentModel(3, &quot;Sopheak&quot;, &quot;Chok&quot;, &quot;female&quot;, &quot;29/06/2005&quot;, &quot;Battambang&quot;, &quot;096565544&quot;),\n     new StudentModel(4, &quot;Sakda&quot;, &quot;Heang&quot;, &quot;Male&quot;, &quot;04/12/2001&quot;, &quot;Banteay Meanchey&quot;, &quot;097889900&quot;),\n     new StudentModel(5, &quot;TongHan&quot;, &quot;Khy&quot;, &quot;Male&quot;, &quot;03/06/2002&quot;, &quot;Pursat&quot;, &quot;0976543201&quot;),\n     new StudentModel(6, &quot;Seyma&quot;, &quot;Hor&quot;, &quot;Female&quot;, &quot;27/08/2004&quot;, &quot;Battambang&quot;, &quot;015765456&quot;)\n};\n\npublic void insertStudent(StudentModel[] student){\n    int n = student.length;\n    student = new StudentModel[n+1];\n\n    System.out.print(&quot;Enter Student ID:&quot;);\n    student[n].setId(sc.nextInt());\n\n    System.out.print(&quot;Enter First Name:&quot;);\n    student[n].setFirstName(sc.nextLine());\n\n    .......................................\n\n\n}\n</code></pre>\n<p>I've got error message: Cannot invoke &quot;StudentModel.setId(int)&quot;\nbecause &quot;student[n]&quot; is null. Anyone can help to fix this? Thank you!</p>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":1709036,"reputation":381,"user_id":1567456,"display_name":"wasabi"},"score":0,"creation_date":1403111591,"post_id":24291412,"comment_id":37536616,"body_markdown":"Is it possible to connect to smtp.gmail.com at port 465 to circumvent this restriction?","body":"Is it possible to connect to smtp.gmail.com at port 465 to circumvent this restriction?"},{"owner":{"account_id":3822919,"reputation":309,"user_id":3170549,"accept_rate":56,"display_name":"Sunga"},"score":0,"creation_date":1403113625,"post_id":24291412,"comment_id":37537686,"body_markdown":"Nope. We have been instructed to only use port 25 by our client. The other ports are blocked.","body":"Nope. We have been instructed to only use port 25 by our client. The other ports are blocked."}],"answers":[{"tags":[],"owner":{"account_id":3822919,"reputation":309,"user_id":3170549,"accept_rate":56,"display_name":"Sunga"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1403184915,"creation_date":1403184915,"answer_id":24307933,"question_id":24291412,"body_markdown":"It turns out the company relay smtp server can be used without authentication using any spoofed email address that has their domain (e.g. ANYUSERNAME@COMPANYNAME.COM). Thus the need to authenticate against smtp.gmail.com is rendered moot.\r\n\r\nStill curious if it&#39;s possible to authenticate against a blocked smtp while sending the actual message through another. But my problem is solved.\r\n\r\nIf you are curious how to send an email without authentication there are many places to look up how to do it, but basically just change my code in my original question from:\r\n\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    .\r\n    .\r\n    .\r\n    Session session = Session.getInstance(props,\r\n\t\t\t  new javax.mail.Authenticator() {\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(email+&quot;@&quot;+domain, password);\r\n\t\t\t\t}\r\n\t\t\t  });\r\nChange the above portions to the following:\r\n\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\r\n    .\r\n    .\r\n    .\r\n    Session session = Session.getInstance(props);\r\n","title":"Send email in Java via relay server","body":"<p>It turns out the company relay smtp server can be used without authentication using any spoofed email address that has their domain (e.g. ANYUSERNAME@COMPANYNAME.COM). Thus the need to authenticate against smtp.gmail.com is rendered moot.</p>\n\n<p>Still curious if it's possible to authenticate against a blocked smtp while sending the actual message through another. But my problem is solved.</p>\n\n<p>If you are curious how to send an email without authentication there are many places to look up how to do it, but basically just change my code in my original question from:</p>\n\n<pre><code>props.put(\"mail.smtp.auth\", \"true\");\n.\n.\n.\nSession session = Session.getInstance(props,\n          new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(email+\"@\"+domain, password);\n            }\n          });\n</code></pre>\n\n<p>Change the above portions to the following:</p>\n\n<pre><code>props.put(\"mail.smtp.auth\", \"false\");\n.\n.\n.\nSession session = Session.getInstance(props);\n</code></pre>\n"}],"owner":{"account_id":3822919,"reputation":309,"user_id":3170549,"accept_rate":56,"display_name":"Sunga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14601,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24307933,"answer_count":1,"score":3,"last_activity_date":1674199519,"creation_date":1403111426,"question_id":24291412,"body_markdown":"I am running a Java web application and attempting to send email notifications from it. When we were hosting this application on one of our servers it worked perfectly fine. We pointed it to smtp.gmail.com on port 25 and the messages we able to be sent.\r\n\r\nBut now we are hosting this on one of our client&#39;s servers for security purposes. They happen to block all smtp domains and only allow their own (SMTPRELAY.COMPANYNAME.COM). I changed the host in my code, but now the authentication is failing.\r\n\r\nIs it possible to still authenticate my gmail account while using this company&#39;s relay server to send the emails? What is the best solution?\r\n\r\nBelow is the relevant portion of the code.\r\n\r\n    content = &quot;message content&quot;;\r\n    List&lt;String&gt; recipients = LIST_OF_RECIPIENT_EMAIL_ADDRESSES;\r\n\t\t\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;SMTPRELAY.COMPANYNAME.COM&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n\t\tprops.put(&quot;mail.smtp.ssl.trust&quot;, &quot;SMTPRELAY.COMPANYNAME.COM&quot;);\r\n\t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n\t\tSession session = Session.getInstance(props,\r\n\t\t  new javax.mail.Authenticator() {\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t//This is where the email account name and password are set\r\n\t\t\t\treturn new PasswordAuthentication(&quot;SUPPORTEMAILACCOUNT@gmail.com&quot;, &quot;PASSWORD&quot;);\r\n\t\t\t}\r\n\t\t  });\r\n\t\ttry{\r\n\t         MimeMessage message = new MimeMessage(session);\r\n\t         \r\n\t         message.setReplyTo(new Address[]{new InternetAddress(&quot;no-reply@gmail.com&quot;)});\r\n\t         for(String recipient: recipients){\r\n\t        \t message.addRecipient(Message.RecipientType.BCC,new InternetAddress(recipient));\r\n\t         }\r\n\t         message.setSubject(subject);\r\n\t         message.setContent(content,&quot;text/html&quot;);\r\n\t         Transport.send(message);\r\n\t         return true;\r\n\t      }catch (MessagingException mex) {\r\n\t         mex.printStackTrace();\r\n\t         return false;\r\n\t      }\r\n\r\nHere is the error I keep getting:\r\n\r\n    javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","title":"Send email in Java via relay server","body":"<p>I am running a Java web application and attempting to send email notifications from it. When we were hosting this application on one of our servers it worked perfectly fine. We pointed it to smtp.gmail.com on port 25 and the messages we able to be sent.</p>\n\n<p>But now we are hosting this on one of our client's servers for security purposes. They happen to block all smtp domains and only allow their own (SMTPRELAY.COMPANYNAME.COM). I changed the host in my code, but now the authentication is failing.</p>\n\n<p>Is it possible to still authenticate my gmail account while using this company's relay server to send the emails? What is the best solution?</p>\n\n<p>Below is the relevant portion of the code.</p>\n\n<pre><code>content = \"message content\";\nList&lt;String&gt; recipients = LIST_OF_RECIPIENT_EMAIL_ADDRESSES;\n\n    Properties props = new Properties();\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.smtp.host\", \"SMTPRELAY.COMPANYNAME.COM\");\n    props.put(\"mail.smtp.port\", \"25\");\n    props.put(\"mail.smtp.ssl.trust\", \"SMTPRELAY.COMPANYNAME.COM\");\n    props.put(\"mail.debug\", \"true\");\n\n    Session session = Session.getInstance(props,\n      new javax.mail.Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            //This is where the email account name and password are set\n            return new PasswordAuthentication(\"SUPPORTEMAILACCOUNT@gmail.com\", \"PASSWORD\");\n        }\n      });\n    try{\n         MimeMessage message = new MimeMessage(session);\n\n         message.setReplyTo(new Address[]{new InternetAddress(\"no-reply@gmail.com\")});\n         for(String recipient: recipients){\n             message.addRecipient(Message.RecipientType.BCC,new InternetAddress(recipient));\n         }\n         message.setSubject(subject);\n         message.setContent(content,\"text/html\");\n         Transport.send(message);\n         return true;\n      }catch (MessagingException mex) {\n         mex.printStackTrace();\n         return false;\n      }\n</code></pre>\n\n<p>Here is the error I keep getting:</p>\n\n<pre><code>javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\n</code></pre>\n"},{"tags":["java","selenium","webdriver","selenium-webdriver","selenium-ide"],"comments":[{"owner":{"account_id":467476,"reputation":3818,"user_id":872883,"accept_rate":91,"display_name":"Hari Reddy"},"score":0,"creation_date":1339136787,"post_id":10941184,"comment_id":22754295,"body_markdown":"You need to use the WebDriverWait class - check this out for more information - http://selenium.googlecode.com/svn/trunk/docs/api/java/index.html","body":"You need to use the WebDriverWait class - check this out for more information - <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/index.html\" rel=\"nofollow noreferrer\">selenium.googlecode.com/svn/trunk/docs/api/java/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":366679,"reputation":24153,"user_id":712358,"accept_rate":62,"display_name":"Mike Kwan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1339111484,"creation_date":1339111484,"answer_id":10941218,"question_id":10941184,"body_markdown":"Well the thing is that you probably actually don&#39;t want the test to run indefinitely. You just want to wait a longer amount of time before the library decides the element doesn&#39;t exist. In that case, the most elegant solution is to use implicit wait, which is designed for just that:\r\n\r\n    driver.manage().timeouts().implicitlyWait( ... )","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<p>Well the thing is that you probably actually don't want the test to run indefinitely. You just want to wait a longer amount of time before the library decides the element doesn't exist. In that case, the most elegant solution is to use implicit wait, which is designed for just that:</p>\n\n<pre><code>driver.manage().timeouts().implicitlyWait( ... )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1604316596,"creation_date":1339166127,"answer_id":10950905,"question_id":10941184,"body_markdown":"[Implicit and Explicit Waits](https://www.selenium.dev/documentation/en/webdriver/waits/)\r\n-----------------------------\r\n\r\nImplicit Wait\r\n\r\n&gt; An implicit wait is to tell WebDriver to poll the DOM for a certain\r\n&gt; amount of time when trying to find an element or elements if they are\r\n&gt; not immediately available. The default setting is 0. Once set, the\r\n&gt; implicit wait is set for the life of the WebDriver object instance.\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\r\n\r\nExplicit Wait + [Expected Conditions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html)\r\n\r\n&gt; An explicit waits is code you define to wait for a certain condition\r\n&gt; to occur before proceeding further in the code. The worst case of this\r\n&gt; is Thread.sleep(), which sets the condition to an exact time period to\r\n&gt; wait. There are some convenience methods provided that help you write\r\n&gt; code that will wait only as long as required. WebDriverWait in\r\n&gt; combination with ExpectedCondition is one way this can be\r\n&gt; accomplished.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(\r\n            ExpectedConditions.visibilityOfElementLocated(By.id(&quot;someid&quot;)));","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<h2><a href=\"https://www.selenium.dev/documentation/en/webdriver/waits/\" rel=\"noreferrer\">Implicit and Explicit Waits</a></h2>\n<p>Implicit Wait</p>\n<blockquote>\n<p>An implicit wait is to tell WebDriver to poll the DOM for a certain\namount of time when trying to find an element or elements if they are\nnot immediately available. The default setting is 0. Once set, the\nimplicit wait is set for the life of the WebDriver object instance.</p>\n</blockquote>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n</code></pre>\n<p>Explicit Wait + <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\">Expected Conditions</a></p>\n<blockquote>\n<p>An explicit waits is code you define to wait for a certain condition\nto occur before proceeding further in the code. The worst case of this\nis Thread.sleep(), which sets the condition to an exact time period to\nwait. There are some convenience methods provided that help you write\ncode that will wait only as long as required. WebDriverWait in\ncombination with ExpectedCondition is one way this can be\naccomplished.</p>\n</blockquote>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(\n        ExpectedConditions.visibilityOfElementLocated(By.id(&quot;someid&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1447239760,"creation_date":1353052447,"answer_id":13412506,"question_id":10941184,"body_markdown":"For individual element the code below could be used:\r\n\r\n\r\n    private boolean isElementPresent(By by) {\r\n    \t\ttry {\r\n    \t\t\tdriver.findElement(by);\r\n    \t\t\treturn true;\r\n    \t\t} catch (NoSuchElementException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    for (int second = 0;; second++) {\r\n     \t\t\tif (second &gt;= 60){\r\n     \t\t\t\tfail(&quot;timeout&quot;);\r\n     \t\t\t}\r\n     \t\t\ttry {\r\n     \t\t\t\tif (isElementPresent(By.id(&quot;someid&quot;))){\r\n     \t\t\t\t\tbreak;\r\n     \t\t\t\t}\r\n     \t\t\t\t}\r\n     \t\t\tcatch (Exception e) {\r\n     \t\t\t\t\r\n     \t\t\t}\r\n     \t\t\tThread.sleep(1000);\r\n     \t\t}\r\n\r\n","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<p>For individual element the code below could be used:</p>\n\n<pre><code>private boolean isElementPresent(By by) {\n        try {\n            driver.findElement(by);\n            return true;\n        } catch (NoSuchElementException e) {\n            return false;\n        }\n    }\nfor (int second = 0;; second++) {\n            if (second &gt;= 60){\n                fail(\"timeout\");\n            }\n            try {\n                if (isElementPresent(By.id(\"someid\"))){\n                    break;\n                }\n                }\n            catch (Exception e) {\n\n            }\n            Thread.sleep(1000);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1893377,"reputation":413,"user_id":1710861,"display_name":"user1710861"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1392573597,"creation_date":1392528434,"answer_id":21807697,"question_id":10941184,"body_markdown":"    WebElement myDynamicElement = (new WebDriverWait(driver, 10))\r\n    .until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;myDynamicElement&quot;)));\r\n\r\n&gt; \r\n&gt; This waits up to 10 seconds before throwing a TimeoutException or if\r\n&gt; it finds the element will return it in 0 - 10 seconds. WebDriverWait\r\n&gt; by default calls the ExpectedCondition every 500 milliseconds until it\r\n&gt; returns successfully. A successful return is for ExpectedCondition\r\n&gt; type is Boolean return true or not null return value for all other\r\n&gt; ExpectedCondition types.\r\n\r\n\r\n-------------------------------------------------------\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\n&gt; Element is Clickable - it is Displayed and Enabled.\r\n\r\nFrom [WebDriver docs: Explicit and Implicit Waits][1]\r\n\r\n\r\n  [1]: http://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<pre><code>WebElement myDynamicElement = (new WebDriverWait(driver, 10))\n.until(ExpectedConditions.presenceOfElementLocated(By.id(\"myDynamicElement\")));\n</code></pre>\n\n<blockquote>\n  <p>This waits up to 10 seconds before throwing a TimeoutException or if\n  it finds the element will return it in 0 - 10 seconds. WebDriverWait\n  by default calls the ExpectedCondition every 500 milliseconds until it\n  returns successfully. A successful return is for ExpectedCondition\n  type is Boolean return true or not null return value for all other\n  ExpectedCondition types.</p>\n</blockquote>\n\n<hr>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"someid\")));\n</code></pre>\n\n<blockquote>\n  <p>Element is Clickable - it is Displayed and Enabled.</p>\n</blockquote>\n\n<p>From <a href=\"http://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"noreferrer\">WebDriver docs: Explicit and Implicit Waits</a></p>\n"},{"tags":[],"owner":{"account_id":15315651,"reputation":35,"user_id":11049614,"display_name":"Veeksha A V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562303706,"creation_date":1562303706,"answer_id":56896900,"question_id":10941184,"body_markdown":"Another way to wait for maximum of certain amount say 10 seconds of time for the element to be displayed as below: \r\n\r\n```\r\n(new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\r\n            public Boolean apply(WebDriver d) {\r\n                return d.findElement(By.id(&quot;&lt;name&gt;&quot;)).isDisplayed();\r\n\r\n            }\r\n        });\r\n```\r\n        ","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<p>Another way to wait for maximum of certain amount say 10 seconds of time for the element to be displayed as below: </p>\n\n<pre><code>(new WebDriverWait(driver, 10)).until(new ExpectedCondition&lt;Boolean&gt;() {\n            public Boolean apply(WebDriver d) {\n                return d.findElement(By.id(\"&lt;name&gt;\")).isDisplayed();\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8002329,"reputation":15,"user_id":6036737,"display_name":"Jayesh Bidani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199294,"creation_date":1674199294,"answer_id":75180874,"question_id":10941184,"body_markdown":"    public static boolean waitForUntilVisible(WebDriver driver, Integer time, By by ) {\r\n\t\tWebDriverWait wait = new WebDriverWait(driver,  Duration.ofSeconds(time));\r\n\r\n\t\ttry {\r\n\t\t\twait.until( ExpectedConditions.presenceOfElementLocated(by) ); \r\n\t\t}catch(NoSuchElementException e) {\r\n\t\t\treturn false;\r\n\t\t}catch (TimeoutException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t    return true;\r\n\t}","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<pre><code>public static boolean waitForUntilVisible(WebDriver driver, Integer time, By by ) {\n    WebDriverWait wait = new WebDriverWait(driver,  Duration.ofSeconds(time));\n\n    try {\n        wait.until( ExpectedConditions.presenceOfElementLocated(by) ); \n    }catch(NoSuchElementException e) {\n        return false;\n    }catch (TimeoutException e) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201954,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":10950905,"answer_count":6,"score":59,"last_activity_date":1674199294,"creation_date":1339111156,"question_id":10941184,"body_markdown":"With &quot;HTML&quot; Selenium tests (created with Selenium IDE or manually), you can use some [very handy commands][1] like **`WaitForElementPresent`** or **`WaitForVisible`**.\r\n\r\n    &lt;tr&gt;\r\n    \t&lt;td&gt;waitForElementPresent&lt;/td&gt;\r\n    \t&lt;td&gt;id=saveButton&lt;/td&gt;\r\n    \t&lt;td&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n \r\nWhen coding Selenium tests in Java (Webdriver / Selenium RC—I&#39;m not sure of the terminology here), **is there something similar built-in**? \r\n\r\nFor example, for checking that a dialog (that takes a while to open) is visible...\r\n\r\n    WebElement dialog = driver.findElement(By.id(&quot;reportDialog&quot;));\r\n    assertTrue(dialog.isDisplayed());  // often fails as it isn&#39;t visible *yet*\r\n\r\nWhat&#39;s the cleanest *robust* way to code such check?\r\n\r\nAdding `Thread.sleep()` calls all over the place would be ugly and fragile, and rolling your own while loops seems pretty clumsy too...\r\n\r\n  [1]: http://release.seleniumhq.org/selenium-core/1.0.1/reference.html","title":"Equivalent of waitForVisible/waitForElementPresent in Selenium WebDriver tests using Java?","body":"<p>With \"HTML\" Selenium tests (created with Selenium IDE or manually), you can use some <a href=\"http://release.seleniumhq.org/selenium-core/1.0.1/reference.html\">very handy commands</a> like <strong><code>WaitForElementPresent</code></strong> or <strong><code>WaitForVisible</code></strong>.</p>\n\n<pre><code>&lt;tr&gt;\n    &lt;td&gt;waitForElementPresent&lt;/td&gt;\n    &lt;td&gt;id=saveButton&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>When coding Selenium tests in Java (Webdriver / Selenium RC—I'm not sure of the terminology here), <strong>is there something similar built-in</strong>? </p>\n\n<p>For example, for checking that a dialog (that takes a while to open) is visible...</p>\n\n<pre><code>WebElement dialog = driver.findElement(By.id(\"reportDialog\"));\nassertTrue(dialog.isDisplayed());  // often fails as it isn't visible *yet*\n</code></pre>\n\n<p>What's the cleanest <em>robust</em> way to code such check?</p>\n\n<p>Adding <code>Thread.sleep()</code> calls all over the place would be ugly and fragile, and rolling your own while loops seems pretty clumsy too...</p>\n"},{"tags":["java","byte-order-mark"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":0,"creation_date":1360076194,"post_id":14710366,"comment_id":20574589,"body_markdown":"Please inform: encoding of input file, OS environment you do this, default encoding of java Readers on your platform, how and wher is the data shown? (i.e. in a GUI, in a terminal window, or whatnot)","body":"Please inform: encoding of input file, OS environment you do this, default encoding of java Readers on your platform, how and wher is the data shown? (i.e. in a GUI, in a terminal window, or whatnot)"},{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":2,"creation_date":1360076239,"post_id":14710366,"comment_id":20574614,"body_markdown":"Google for BOM (Byte order mark)","body":"Google for BOM (Byte order mark)"}],"answers":[{"tags":[],"owner":{"account_id":2172788,"reputation":2115,"user_id":1924298,"accept_rate":60,"display_name":"Jens Peters"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1360076319,"creation_date":1360076319,"answer_id":14710440,"question_id":14710366,"body_markdown":"Does the read in textfile uses UTF-8 with BOM? It looks like BOM signs: &quot;&#239;&#187;&#191;&quot;\r\nhttp://en.wikipedia.org/wiki/Byte_order_mark\r\n\r\nAre you runnig Windows? Notepad++ sould be able to convert. If using linux or the VI(M) you can use &quot;:set nobomb&quot;","title":"Symbols &#39; &#239;&#187;&#191; &#39; is showing when reading from text file","body":"<p>Does the read in textfile uses UTF-8 with BOM? It looks like BOM signs: \"ï»¿\"\n<a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Byte_order_mark</a></p>\n\n<p>Are you runnig Windows? Notepad++ sould be able to convert. If using linux or the VI(M) you can use \":set nobomb\"</p>\n"},{"tags":[],"owner":{"account_id":1072342,"reputation":18061,"user_id":1071311,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360079436,"creation_date":1360076601,"answer_id":14710525,"question_id":14710366,"body_markdown":"I suppose your input file is encoded in [UTF-8 with BOM][1].\r\n\r\nYou can either save your input file without a BOM, or handle this in Java.\r\n\r\nThe thing one might want to do here is to use an [InputStreamReader][2] with appropriate encoding. Sadly, that&#39;s not possible. The thing is, Java [assumes that][3] an UTF-8 encoded file has no BOM, so you have to handle that case manually.\r\n\r\nA quick hack would be to check if the first three bytes of your file are `0xEF, 0xBB, 0xBF`, and if they are, ignore them.\r\n\r\nFor a more sophisticated example, have a look at the `UnicodeBOMInputStream` class [in this answer][4].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/io/InputStreamReader.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html\r\n  [4]: https://stackoverflow.com/a/1835529/1071311","title":"Symbols &#39; &#239;&#187;&#191; &#39; is showing when reading from text file","body":"<p>I suppose your input file is encoded in <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark#UTF-8\" rel=\"nofollow noreferrer\">UTF-8 with BOM</a>.</p>\n\n<p>You can either save your input file without a BOM, or handle this in Java.</p>\n\n<p>The thing one might want to do here is to use an <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\">InputStreamReader</a> with appropriate encoding. Sadly, that's not possible. The thing is, Java <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">assumes that</a> an UTF-8 encoded file has no BOM, so you have to handle that case manually.</p>\n\n<p>A quick hack would be to check if the first three bytes of your file are <code>0xEF, 0xBB, 0xBF</code>, and if they are, ignore them.</p>\n\n<p>For a more sophisticated example, have a look at the <code>UnicodeBOMInputStream</code> class <a href=\"https://stackoverflow.com/a/1835529/1071311\">in this answer</a>.</p>\n"}],"owner":{"account_id":1890622,"reputation":388,"user_id":1708813,"accept_rate":100,"display_name":"Mark Said Camilleri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6810,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14710440,"answer_count":2,"score":2,"last_activity_date":1674198317,"creation_date":1360076090,"question_id":14710366,"body_markdown":"Using the same project and text file as here: https://stackoverflow.com/questions/14632258/java-nullpointerexception-null-again/ the program is outputting the data but with `&#239;&#187;&#191;`. To put you in the picture:\r\n    \r\n\r\n&gt;This program is a telephone directory, ignoring the first &quot;code&quot; block, look at the second &quot;code&quot; block on that link, that is the text file with the entries. The program outputs them as it should but it is giving `&#239;&#187;&#191;` at the beginning of the entries read from the text file ONLY.\r\n\r\nAny help as to how to remove it? I am using Buffered Reader with File Reader in it.\r\n\r\n- Encoding of Text File: UTF-8\r\n- Using Java 7\r\n- Windows 7\r\n","title":"Symbols &#39; &#239;&#187;&#191; &#39; is showing when reading from text file","body":"<p>Using the same project and text file as here: <a href=\"https://stackoverflow.com/questions/14632258/java-nullpointerexception-null-again/\">Java.NullPointerException null (again)</a> the program is outputting the data but with <code>ï»¿</code>. To put you in the picture:</p>\n<blockquote>\n<p>This program is a telephone directory, ignoring the first &quot;code&quot; block, look at the second &quot;code&quot; block on that link, that is the text file with the entries. The program outputs them as it should but it is giving <code>ï»¿</code> at the beginning of the entries read from the text file ONLY.</p>\n</blockquote>\n<p>Any help as to how to remove it? I am using Buffered Reader with File Reader in it.</p>\n<ul>\n<li>Encoding of Text File: UTF-8</li>\n<li>Using Java 7</li>\n<li>Windows 7</li>\n</ul>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674198152,"creation_date":1674150754,"answer_id":75176375,"question_id":75174701,"body_markdown":"You can create a custom [`PropertyNamingStrategy`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/PropertyNamingStrategy.html) subclass and set it as the default naming strategy for one `ObjectMapper` mapper used only for serialization (you can check [this](https://stackoverflow.com/questions/34228942/from-snake-case-to-camelcase-in-java) for conversion of a string from snake_case to camelcase):\r\n\r\n~~~\r\npublic class SnakeCaseToCamelCase extends PropertyNamingStrategy {\r\n\r\n    @Override\r\n    public String nameForField(MapperConfig&lt;?&gt; config, AnnotatedField field, String defaultName) {\r\n        return Pattern.compile(&quot;_([a-z])&quot;)\r\n                      .matcher(defaultName)\r\n                      .replaceAll(m -&gt; m.group(1).toUpperCase());\r\n    }\r\n}\r\n\r\npublic class MyModel {\r\n    public String my_string = &quot;Example str&quot;;\r\n}\r\n\r\nMyModel model = new MyModel();\r\nmapper.setPropertyNamingStrategy(new SnakeCaseToCamelCase());\r\n//it prints {&quot;myString&quot;:&quot;Example str&quot;}\r\nSystem.out.println(mapper.writeValueAsString(model));\r\n~~~","title":"Jackson / Spring Boot - serialize a snake_case model to camelCase","body":"<p>You can create a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\"><code>PropertyNamingStrategy</code></a> subclass and set it as the default naming strategy for one <code>ObjectMapper</code> mapper used only for serialization (you can check <a href=\"https://stackoverflow.com/questions/34228942/from-snake-case-to-camelcase-in-java\">this</a> for conversion of a string from snake_case to camelcase):</p>\n<pre><code>public class SnakeCaseToCamelCase extends PropertyNamingStrategy {\n\n    @Override\n    public String nameForField(MapperConfig&lt;?&gt; config, AnnotatedField field, String defaultName) {\n        return Pattern.compile(&quot;_([a-z])&quot;)\n                      .matcher(defaultName)\n                      .replaceAll(m -&gt; m.group(1).toUpperCase());\n    }\n}\n\npublic class MyModel {\n    public String my_string = &quot;Example str&quot;;\n}\n\nMyModel model = new MyModel();\nmapper.setPropertyNamingStrategy(new SnakeCaseToCamelCase());\n//it prints {&quot;myString&quot;:&quot;Example str&quot;}\nSystem.out.println(mapper.writeValueAsString(model));\n</code></pre>\n"}],"owner":{"account_id":13042679,"reputation":373,"user_id":9425539,"display_name":"grizzasd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75176375,"answer_count":1,"score":1,"last_activity_date":1674198152,"creation_date":1674142690,"question_id":75174701,"body_markdown":"I am using my REST API, which is camelCase, to call a 3rd party graphQL API, which returns objects in snake_case. To do this, I am using a library to generate the mappers and model files ([graphql-java-codegen][1]). As a result, I end up with models that look like\r\n```\r\nclass MyModel {\r\n  public my_string;\r\n  //...\r\n}\r\n```\r\nI cannot force the model generation to be done in camelCase. I would like to directly return the generated models as ResponseObjects to my client, but would like the serialization to be in camelCase, without needing to copy the generated model with camelCase fields. So when returning the example, it would look like\r\n\r\n```\r\n{\r\n  &quot;myString&quot;: &quot;Example str&quot;\r\n}\r\n```\r\n\r\nIn my code generation configuration, I have the ability to add annotations at both the class and field level (but no way to customize it at each field, so no `@JsonProperty(&quot;myString&quot;`))\r\n\r\n\r\ntl;dr: \r\nIs there some annotation / Spring Boot configuration I can use to force models with snake_case naming to serialize into camelCase, without needing to specify the `@JsonProperty` for every field?\r\n\r\n\r\n[1]: https://github.com/kobylynskyi/graphql-java-codegen","title":"Jackson / Spring Boot - serialize a snake_case model to camelCase","body":"<p>I am using my REST API, which is camelCase, to call a 3rd party graphQL API, which returns objects in snake_case. To do this, I am using a library to generate the mappers and model files (<a href=\"https://github.com/kobylynskyi/graphql-java-codegen\" rel=\"nofollow noreferrer\">graphql-java-codegen</a>). As a result, I end up with models that look like</p>\n<pre><code>class MyModel {\n  public my_string;\n  //...\n}\n</code></pre>\n<p>I cannot force the model generation to be done in camelCase. I would like to directly return the generated models as ResponseObjects to my client, but would like the serialization to be in camelCase, without needing to copy the generated model with camelCase fields. So when returning the example, it would look like</p>\n<pre><code>{\n  &quot;myString&quot;: &quot;Example str&quot;\n}\n</code></pre>\n<p>In my code generation configuration, I have the ability to add annotations at both the class and field level (but no way to customize it at each field, so no <code>@JsonProperty(&quot;myString&quot;</code>))</p>\n<p>tl;dr:\nIs there some annotation / Spring Boot configuration I can use to force models with snake_case naming to serialize into camelCase, without needing to specify the <code>@JsonProperty</code> for every field?</p>\n"},{"tags":["java","spring","rest","jpa"],"answers":[{"tags":[],"owner":{"account_id":18007866,"reputation":415,"user_id":13088223,"display_name":"Xtof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674054201,"creation_date":1674054201,"answer_id":75161240,"question_id":75160566,"body_markdown":"You could use the annotation @RequestParam in your controller. It would be something like:\r\n\r\n    @GetMapping(&quot;/api/v1/campaigns&quot;)\r\n    @ResponseBody\r\n    public String CampaignController(@RequestParam(name = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page, @RequestParam (name = &quot;size&quot;, required = false, defaultValue = &quot;50&quot;) Integer size) {\r\n    return &quot;page: &quot; + page;\r\n    }\r\n\r\n","title":"How to Handle Mutltiple Query Parameters for the same endpoint with Springboot and JPA","body":"<p>You could use the annotation @RequestParam in your controller. It would be something like:</p>\n<pre><code>@GetMapping(&quot;/api/v1/campaigns&quot;)\n@ResponseBody\npublic String CampaignController(@RequestParam(name = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page, @RequestParam (name = &quot;size&quot;, required = false, defaultValue = &quot;50&quot;) Integer size) {\nreturn &quot;page: &quot; + page;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528021,"reputation":1224,"user_id":1425962,"display_name":"Slomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674054599,"creation_date":1674054599,"answer_id":75161333,"question_id":75160566,"body_markdown":"For paging and sorting, the Spring Framework comes with good support:\r\n\r\n    public interface CampaignRepository extends PagingAndSortingRepository&lt;Campaign, Long&gt; {\r\n    \r\n    }\r\n\r\n[PagingAndSortingRepository][1]\r\n\r\nThis provides you the possibility to append a Pageable to the methods. E.g. if you want to page through results filtered by status:\r\n\r\n    public interface CampaignRepository extends PagingAndSortingRepository&lt;Campaign, Long&gt; {\r\n\r\n        List&lt;Campaign&gt; findAllByStatusIn(Collection&lt;String&gt; status, Pageable pageRequest);\r\n\r\n    }\r\n\r\nYour Service can then easily prepare such a pageable, for example:\r\n\r\n    public List&lt;Campaign&gt; listByStatusSorted(Collection&lt;String&gt; status, int page, int pageSize, String sortProperty) {\r\n\r\n        PageRequest pageRequest = PageRequest.of(page, pageSize, Sort.by(sortProperty).ascending());\r\n        return campaignRepository.findAllByStatusIn(status, pageRequest);\r\n\r\n    }\r\n\r\n[PageRequest][2], [Sort][3]\r\n\r\nSorting ascending or descending can also be provided from the controller to the service of course. But in essence I would have one or two service methods. I think this is a matter of taste where you&#39;d rather have another service method instead of adding ever more parameters.\r\n\r\nI would try to mostly use one controller endpoint with default values. Something along the lines of:\r\n\r\n    public List&lt;Campaign&gt; listCampaigns(@RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) int page, @RequestParam(value = &quot;pageSize&quot;, required = false, defaultValue = &quot;20&quot;) int pageSize, ...) {\r\n        ...\r\n    }\r\n\r\nGoing by this, absolutely none of\r\n\r\n&gt; Collecting the parameters on a HashMap and create a generic Query for the database that deals with the parameters\r\n\r\nis needed. By using the naming conventions all is done for you. In fact, the repository I provided above should already work without any further code - just inject it in the service. [Further reading on the power of Spring Data Repositories.][4]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html\r\n  [4]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation","title":"How to Handle Mutltiple Query Parameters for the same endpoint with Springboot and JPA","body":"<p>For paging and sorting, the Spring Framework comes with good support:</p>\n<pre><code>public interface CampaignRepository extends PagingAndSortingRepository&lt;Campaign, Long&gt; {\n\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a></p>\n<p>This provides you the possibility to append a Pageable to the methods. E.g. if you want to page through results filtered by status:</p>\n<pre><code>public interface CampaignRepository extends PagingAndSortingRepository&lt;Campaign, Long&gt; {\n\n    List&lt;Campaign&gt; findAllByStatusIn(Collection&lt;String&gt; status, Pageable pageRequest);\n\n}\n</code></pre>\n<p>Your Service can then easily prepare such a pageable, for example:</p>\n<pre><code>public List&lt;Campaign&gt; listByStatusSorted(Collection&lt;String&gt; status, int page, int pageSize, String sortProperty) {\n\n    PageRequest pageRequest = PageRequest.of(page, pageSize, Sort.by(sortProperty).ascending());\n    return campaignRepository.findAllByStatusIn(status, pageRequest);\n\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"nofollow noreferrer\">PageRequest</a>, <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html\" rel=\"nofollow noreferrer\">Sort</a></p>\n<p>Sorting ascending or descending can also be provided from the controller to the service of course. But in essence I would have one or two service methods. I think this is a matter of taste where you'd rather have another service method instead of adding ever more parameters.</p>\n<p>I would try to mostly use one controller endpoint with default values. Something along the lines of:</p>\n<pre><code>public List&lt;Campaign&gt; listCampaigns(@RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) int page, @RequestParam(value = &quot;pageSize&quot;, required = false, defaultValue = &quot;20&quot;) int pageSize, ...) {\n    ...\n}\n</code></pre>\n<p>Going by this, absolutely none of</p>\n<blockquote>\n<p>Collecting the parameters on a HashMap and create a generic Query for the database that deals with the parameters</p>\n</blockquote>\n<p>is needed. By using the naming conventions all is done for you. In fact, the repository I provided above should already work without any further code - just inject it in the service. <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">Further reading on the power of Spring Data Repositories.</a></p>\n"},{"tags":[],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674198137,"creation_date":1674055104,"answer_id":75161440,"question_id":75160566,"body_markdown":"It looks like you are trying to build a dynamic query. In this case, not only can you accomplish this with a single controller method, but you will also only need one service method with the use of Specifications. Additionally, you can retrieve certain pages and limit its size with the `Page&lt;T&gt;` interface and the `PageRequest` class\r\n\r\n`CampaignController.java`:\r\n```java\r\n// receive all possible arguments\r\npublic Page&lt;Campaign&gt; filterCampaigns(..., Pageable pageable) {\r\n    return campaignService.getCampaignsByCriteria(..., pageable.getPageNumber());\r\n}\r\n```\r\nYou can pass all possible URL parameters to the controller method. To execute specifications, `CampaignRepository` will need to extend the `JpaSpecificationExecutor&lt;T&gt;` interface. Paginating campaigns will require another interface `PagingAndSortingRepository&lt;T, ID&gt;`\r\n\r\n`CampaignRepository.java`\r\n```java\r\npublic interface CampaignRepository extends \r\nJpaRepository&lt;Campaign, Long&gt;, JpaSpecificationExecutor&lt;Campaign&gt;, \r\nPagingAndSortingRepository&lt;Campaign, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nFollowing this, create a helper class that defines these specifications. Here&#39;s an example for finding by status, but you can have as many specifications as necessary\r\n\r\n`CampaignSpecification.java`\r\n```java\r\npublic static Specification&lt;Campaign&gt; hasStatus(String campaignStatus) {\r\n    return startDate == null ? null : (root, query, criteriaBuilder) -&gt; \r\n        criteriaBuilder.equal(root.get(&quot;status&quot;), campaignStatus);\r\n\r\n}\r\n```\r\nReturning the specification ***if a status value is provided*** or returning null otherwise makes it flexible because the `status` URL parameter is essentially optional this way. It&#39;s also worth noting that this is applicable for every parameter in the method. Now, you can execute this specification in the service.\r\n\r\n`CampaignService.java`\r\n```java\r\npublic Page&lt;Campaign&gt; getCampaignsByCriteria(String status, \r\n                                            LocalDateTime startDate, \r\n                                            int pageNumber) {\r\n\r\n    PageRequest campaignPageRequest = PageRequest\r\n        .of(pageNumber, 2, Sort.by(&quot;startDate&quot;).ascending());\r\n\r\n    return campaignRepository.findAll(Specification.where(\r\n        CampaignSpecification.hasStatus(status).\r\n        and(CampaignSpecification.hasSomethingElse(...)))\r\n        , campaignPageRequest)\r\n    )\r\n}\r\n```\r\nYou can chain as many specifications as you need. The `PageRequest` class allows you to specify the current page, the maximum number of items for each page, as well as perform sorting\r\n\r\nFurther reading:\r\n\r\n[Spring Data Specification][1]\r\n\r\n[Page interface][2]\r\n\r\n[PageRequest class][3]\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html","title":"How to Handle Mutltiple Query Parameters for the same endpoint with Springboot and JPA","body":"<p>It looks like you are trying to build a dynamic query. In this case, not only can you accomplish this with a single controller method, but you will also only need one service method with the use of Specifications. Additionally, you can retrieve certain pages and limit its size with the <code>Page&lt;T&gt;</code> interface and the <code>PageRequest</code> class</p>\n<p><code>CampaignController.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// receive all possible arguments\npublic Page&lt;Campaign&gt; filterCampaigns(..., Pageable pageable) {\n    return campaignService.getCampaignsByCriteria(..., pageable.getPageNumber());\n}\n</code></pre>\n<p>You can pass all possible URL parameters to the controller method. To execute specifications, <code>CampaignRepository</code> will need to extend the <code>JpaSpecificationExecutor&lt;T&gt;</code> interface. Paginating campaigns will require another interface <code>PagingAndSortingRepository&lt;T, ID&gt;</code></p>\n<p><code>CampaignRepository.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CampaignRepository extends \nJpaRepository&lt;Campaign, Long&gt;, JpaSpecificationExecutor&lt;Campaign&gt;, \nPagingAndSortingRepository&lt;Campaign, Long&gt; {\n\n}\n\n</code></pre>\n<p>Following this, create a helper class that defines these specifications. Here's an example for finding by status, but you can have as many specifications as necessary</p>\n<p><code>CampaignSpecification.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&lt;Campaign&gt; hasStatus(String campaignStatus) {\n    return startDate == null ? null : (root, query, criteriaBuilder) -&gt; \n        criteriaBuilder.equal(root.get(&quot;status&quot;), campaignStatus);\n\n}\n</code></pre>\n<p>Returning the specification <em><strong>if a status value is provided</strong></em> or returning null otherwise makes it flexible because the <code>status</code> URL parameter is essentially optional this way. It's also worth noting that this is applicable for every parameter in the method. Now, you can execute this specification in the service.</p>\n<p><code>CampaignService.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;Campaign&gt; getCampaignsByCriteria(String status, \n                                            LocalDateTime startDate, \n                                            int pageNumber) {\n\n    PageRequest campaignPageRequest = PageRequest\n        .of(pageNumber, 2, Sort.by(&quot;startDate&quot;).ascending());\n\n    return campaignRepository.findAll(Specification.where(\n        CampaignSpecification.hasStatus(status).\n        and(CampaignSpecification.hasSomethingElse(...)))\n        , campaignPageRequest)\n    )\n}\n</code></pre>\n<p>You can chain as many specifications as you need. The <code>PageRequest</code> class allows you to specify the current page, the maximum number of items for each page, as well as perform sorting</p>\n<p>Further reading:</p>\n<p><a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">Spring Data Specification</a></p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html\" rel=\"nofollow noreferrer\">Page interface</a></p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"nofollow noreferrer\">PageRequest class</a></p>\n"}],"owner":{"account_id":26733848,"reputation":17,"user_id":20335750,"display_name":"Guilherme Feulo do Espirito Sa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75161440,"answer_count":3,"score":0,"last_activity_date":1674198137,"creation_date":1674051215,"question_id":75160566,"body_markdown":"I am currently studying Springboot so I am developing a personal project. In this Project a Have an entity named Campaign and I want to build a endpoint to list all campaigns in the database filtering, sorting and paginating\r\n\r\nSome examples of requests:\r\n\r\n```\r\n\r\n# Pagination \r\n\r\nGET domain/api/v1/campaigns (return the first page with  all campaigns, default sorting and page size 20)\r\nGET domain/api/v1/campaigns?page=2&amp;size=50 (return the second page with all campaigns, default sorting and page size 50)\r\nGET domain/api/v1/campaigns?page=2&amp;size=100 (return the second page with all campaigns, default sorting and page size 50 which is the max)\r\n\r\n\r\n# SORTING\r\nGET domain/api/v1/campaigns?sort=name,asc (return the first page with all campaigns, sorting by name and page size 20)\r\nGET domain/api/v1/campaigns?sort=name,asc&amp;sort=startDate,dsc (return the first page with all campaigns, sorting by name and startDate and page size 20) \r\n\r\n# Filtering\r\n\r\nGET domain/api/v1/campaigns?status=open (return the first page with all campaigns with &quot;open&quot; status, default sorting and page size 20)\r\nGET domain/api/v1/campaigns?status=open&amp;status=new (return the first page with all campaigns with &quot;open&quot; and &quot;new&quot; status,default sorting and page size 20)\r\nGET domain/api/v1/campaigns?status=open&amp;startdate=2023-01-12 (return the first page with all campaigns with &quot;open&quot; status and startDate 2023-01-12, default sortin and page size 20)\r\n\r\n# Combined\r\nGET domain/api/v1/campaigns?status=open&amp;status=new&amp;page=2&amp;size=10&amp;sort=name,asc (returns page 2 with size 10 sorting by name the campaigns with statuses &quot;open&quot; and &quot;new&quot;)\r\n```\r\n\r\nWhich is the best way to implement this? A single Controller method that delegates to the correct service method based on the parameters? Collecting the parameters on a HashMap and create a generic Query for the database that deals with the parameters?  Many different controllers that receive a diffent set of parameters?\r\n\r\nHere is mt Campign Model and empty Repository, Service And Controller\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;CAMPAIGNS&quot;)\r\npublic class Campaign {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String name;\r\n    @Column(name = &quot;start_date&quot;)\r\n    private LocalDateTime startDate;\r\n    @Column(name = &quot;end_date&quot;)\r\n    private LocalDateTime endDate;\r\n    private String status;\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic interface CampaignRepository extends JpaRepository&lt;Campaign, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Service\r\n@AllArgsConstructor\r\npublic class CampaignService {\r\n    private final CampaignRepository campaignRepository;\r\n\r\n```\r\n\r\n```java\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/api/v1/campaigns&quot;)\r\npublic class CampaignController {\r\n    private final CampaignService campaignService;\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to Handle Mutltiple Query Parameters for the same endpoint with Springboot and JPA","body":"<p>I am currently studying Springboot so I am developing a personal project. In this Project a Have an entity named Campaign and I want to build a endpoint to list all campaigns in the database filtering, sorting and paginating</p>\n<p>Some examples of requests:</p>\n<pre><code>\n# Pagination \n\nGET domain/api/v1/campaigns (return the first page with  all campaigns, default sorting and page size 20)\nGET domain/api/v1/campaigns?page=2&amp;size=50 (return the second page with all campaigns, default sorting and page size 50)\nGET domain/api/v1/campaigns?page=2&amp;size=100 (return the second page with all campaigns, default sorting and page size 50 which is the max)\n\n\n# SORTING\nGET domain/api/v1/campaigns?sort=name,asc (return the first page with all campaigns, sorting by name and page size 20)\nGET domain/api/v1/campaigns?sort=name,asc&amp;sort=startDate,dsc (return the first page with all campaigns, sorting by name and startDate and page size 20) \n\n# Filtering\n\nGET domain/api/v1/campaigns?status=open (return the first page with all campaigns with &quot;open&quot; status, default sorting and page size 20)\nGET domain/api/v1/campaigns?status=open&amp;status=new (return the first page with all campaigns with &quot;open&quot; and &quot;new&quot; status,default sorting and page size 20)\nGET domain/api/v1/campaigns?status=open&amp;startdate=2023-01-12 (return the first page with all campaigns with &quot;open&quot; status and startDate 2023-01-12, default sortin and page size 20)\n\n# Combined\nGET domain/api/v1/campaigns?status=open&amp;status=new&amp;page=2&amp;size=10&amp;sort=name,asc (returns page 2 with size 10 sorting by name the campaigns with statuses &quot;open&quot; and &quot;new&quot;)\n</code></pre>\n<p>Which is the best way to implement this? A single Controller method that delegates to the correct service method based on the parameters? Collecting the parameters on a HashMap and create a generic Query for the database that deals with the parameters?  Many different controllers that receive a diffent set of parameters?</p>\n<p>Here is mt Campign Model and empty Repository, Service And Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;CAMPAIGNS&quot;)\npublic class Campaign {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n    @Column(name = &quot;start_date&quot;)\n    private LocalDateTime startDate;\n    @Column(name = &quot;end_date&quot;)\n    private LocalDateTime endDate;\n    private String status;\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CampaignRepository extends JpaRepository&lt;Campaign, Long&gt; {\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@AllArgsConstructor\npublic class CampaignService {\n    private final CampaignRepository campaignRepository;\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/api/v1/campaigns&quot;)\npublic class CampaignController {\n    private final CampaignService campaignService;\n\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674202424,"post_id":75180462,"comment_id":132667588,"body_markdown":"The code you have posted, uses the debugging API. It is not intended to run on the same JVM as the debugged program, hence, there should be no surprise that there is no way to get from the debug handle to the actual object.","body":"The code you have posted, uses the debugging API. It is not intended to run on the same JVM as the debugged program, hence, there should be no surprise that there is no way to get from the debug handle to the actual object."},{"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"score":0,"creation_date":1674274707,"post_id":75180462,"comment_id":132685249,"body_markdown":"How do Eclipse or IDEA get the actual instance object and its retained size? I&#39;m okay with getting the shallow size, not the deep size of an object.","body":"How do Eclipse or IDEA get the actual instance object and its retained size? I&#39;m okay with getting the shallow size, not the deep size of an object."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674290776,"post_id":75180462,"comment_id":132686713,"body_markdown":"Eclipse/IDEA never get the actual object because it is in a different JVM, they just use the debug APIs to talk to the other JVM. Where in Eclipse are you seeing information about the object size?","body":"Eclipse/IDEA never get the actual object because it is in a different JVM, they just use the debug APIs to talk to the other JVM. Where in Eclipse are you seeing information about the object size?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674459123,"post_id":75180462,"comment_id":132710241,"body_markdown":"@NOLFXceptMe letting the special case of JOL aside, there are only the two ways used by common tools, heap dumps or the debugging API. Neither allows to get to the actual runtime object.","body":"@NOLFXceptMe letting the special case of JOL aside, there are only the two ways used by common tools, heap dumps or the debugging API. Neither allows to get to the actual runtime object."},{"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"score":0,"creation_date":1674635352,"post_id":75180462,"comment_id":132754141,"body_markdown":"@greg-449 For IDEA it is very clear how to get the object size while debugging a JVM application - https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html","body":"@greg-449 For IDEA it is very clear how to get the object size while debugging a JVM application - <a href=\"https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html</a>"},{"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"score":0,"creation_date":1674635459,"post_id":75180462,"comment_id":132754172,"body_markdown":"@Holger If I have an `ObjectReference` and not the object, is it still possible to get the object size, like IDEA does?","body":"@Holger If I have an <code>ObjectReference</code> and not the object, is it still possible to get the object size, like IDEA does?"},{"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"score":0,"creation_date":1674635691,"post_id":75180462,"comment_id":132754242,"body_markdown":"Seems like I am wrong about Eclipse showing object sizes. During debugging it only shows all instances - https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fviews%2Fshared%2Fref-allinstances.htm Thanks for the correction.","body":"Seems like I am wrong about Eclipse showing object sizes. During debugging it only shows all instances - <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fviews%2Fshared%2Fref-allinstances.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a> Thanks for the correction."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674635921,"post_id":75180462,"comment_id":132754310,"body_markdown":"That IDEA page also says you have to set the &quot;Attach memory agent&quot; option - so it is using something special to get this information.","body":"That IDEA page also says you have to set the &quot;Attach memory agent&quot; option - so it is using something special to get this information."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674721519,"post_id":75180462,"comment_id":132775261,"body_markdown":"@greg-449 the term “agent” suggests that it is using the Instrumentation API, i.e. [`Instrumentation.getObjectSize(java.lang.Object)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getObjectSize(java.lang.Object)). The Java Agent is running within the same JVM then and sending the results to the other program (IDEA) that [loaded the Agent via the Attach API](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html#loadAgent(java.lang.String,java.lang.String)).","body":"@greg-449 the term “agent” suggests that it is using the Instrumentation API, i.e. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getObjectSize(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Instrumentation.getObjectSize(java.lang.Object)</code></a>. The Java Agent is running within the same JVM then and sending the results to the other program (IDEA) that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html#loadAgent(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">loaded the Agent via the Attach API</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674722365,"post_id":75180462,"comment_id":132775487,"body_markdown":"@NOLFXceptMe the [native API has a function](https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#GetObjectSize) but I didn’t find an equivalent in the JDI API.","body":"@NOLFXceptMe the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#GetObjectSize\" rel=\"nofollow noreferrer\">native API has a function</a> but I didn’t find an equivalent in the JDI API."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674198039,"creation_date":1674196214,"answer_id":75180494,"question_id":75180462,"body_markdown":"In Java objects are generally allocated on the heap. So without modifying the application, you can take a heap dump and analyze it. There are questions with answers here on SO, such as\r\n\r\n- https://stackoverflow.com/questions/18527054/how-to-take-heap-dump\r\n- https://stackoverflow.com/questions/26460410/how-can-i-analyze-a-heap-dump-in-intellij-memory-leak\r\n\r\nBut rather than creating the solution from scratch and inside your application you might want to look into [Application Performance Monitoring][1] tools that can easily be attached to any application and thus are reusable. Here is a noncomplete [list of such tools][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Application_performance_management\r\n  [2]: https://en.wikipedia.org/wiki/List_of_performance_analysis_tools#Java","title":"Size of all instances of a class on JVM","body":"<p>In Java objects are generally allocated on the heap. So without modifying the application, you can take a heap dump and analyze it. There are questions with answers here on SO, such as</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18527054/how-to-take-heap-dump\">How to take heap dump?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26460410/how-can-i-analyze-a-heap-dump-in-intellij-memory-leak\">How can I analyze a heap dump in IntelliJ? (memory leak)</a></li>\n</ul>\n<p>But rather than creating the solution from scratch and inside your application you might want to look into <a href=\"https://en.wikipedia.org/wiki/Application_performance_management\" rel=\"nofollow noreferrer\">Application Performance Monitoring</a> tools that can easily be attached to any application and thus are reusable. Here is a noncomplete <a href=\"https://en.wikipedia.org/wiki/List_of_performance_analysis_tools#Java\" rel=\"nofollow noreferrer\">list of such tools</a>.</p>\n"}],"owner":{"account_id":321052,"reputation":232,"user_id":639646,"display_name":"NOLFXceptMe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674198039,"creation_date":1674196000,"question_id":75180462,"body_markdown":"How do we find the size of all instances of a class in JVM? Interested in a general programmatic solution that can be used as a library and not use `jstat` or reference-counting that requires modifying the original source code.\r\n\r\n\r\n```\r\n        List&lt;ReferenceType&gt; classes = vm.classesByName(klass.getName());\r\n        List&lt;ObjectReference&gt; objectReferences = classes.get(0).instances(Long.MAX_VALUE);\r\n```\r\n\r\nUsing the code above gets me all the `ObjectReference`(s) to the objects of a particular class. Ideally, we should be able to get the object from the object-reference and invoke `VM.current().sizeOf(Object obj)` using JOL (https://github.com/openjdk/jol). Once I iterate through all object references, I&#39;ll get the total size occupied by objects of the class. However, I found no documentation for obtaining an `Object` from its `ObjectReference`.\r\n\r\nSeems like both Eclipse (https://help.eclipse.org/2022-12/index.jsp) and IntelliJ IDEA (https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html) can get objects and compute &#39;retained size&#39; for any classes. I wasn&#39;t able to discover how these IDEs implement this functionality.","title":"Size of all instances of a class on JVM","body":"<p>How do we find the size of all instances of a class in JVM? Interested in a general programmatic solution that can be used as a library and not use <code>jstat</code> or reference-counting that requires modifying the original source code.</p>\n<pre><code>        List&lt;ReferenceType&gt; classes = vm.classesByName(klass.getName());\n        List&lt;ObjectReference&gt; objectReferences = classes.get(0).instances(Long.MAX_VALUE);\n</code></pre>\n<p>Using the code above gets me all the <code>ObjectReference</code>(s) to the objects of a particular class. Ideally, we should be able to get the object from the object-reference and invoke <code>VM.current().sizeOf(Object obj)</code> using JOL (<a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jol</a>). Once I iterate through all object references, I'll get the total size occupied by objects of the class. However, I found no documentation for obtaining an <code>Object</code> from its <code>ObjectReference</code>.</p>\n<p>Seems like both Eclipse (<a href=\"https://help.eclipse.org/2022-12/index.jsp\" rel=\"nofollow noreferrer\">https://help.eclipse.org/2022-12/index.jsp</a>) and IntelliJ IDEA (<a href=\"https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html</a>) can get objects and compute 'retained size' for any classes. I wasn't able to discover how these IDEs implement this functionality.</p>\n"},{"tags":["java","swing","jtextfield","jformattedtextfield"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1340743093,"post_id":11215449,"comment_id":14727819,"body_markdown":"Use a [JFormattedTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) and a [MaskFormatter](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html).","body":"Use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html\" rel=\"nofollow noreferrer\">MaskFormatter</a>."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1340746559,"creation_date":1340746559,"answer_id":11216312,"question_id":11215449,"body_markdown":"The answer is to use a [JFormattedTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) and a [MaskFormatter](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html).\r\n\r\nFor example:\r\n\r\n    String mask = &quot;##:##&quot;;\r\n    MaskFormatter timeFormatter = new MaskFormatter(mask);\r\n    JFormattedTextField formattedField = new JFormattedTextField(timeFormatter);\r\n\r\nThe Java compiler will require that you catch or throw a ParseException when creating your MaskFormatter, and so be sure to do this.\r\n","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>The answer is to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\">JFormattedTextField</a> and a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html\">MaskFormatter</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>String mask = \"##:##\";\nMaskFormatter timeFormatter = new MaskFormatter(mask);\nJFormattedTextField formattedField = new JFormattedTextField(timeFormatter);\n</code></pre>\n\n<p>The Java compiler will require that you catch or throw a ParseException when creating your MaskFormatter, and so be sure to do this.</p>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340775221,"creation_date":1340775221,"answer_id":11219991,"question_id":11215449,"body_markdown":"Or just ditch your textfield and opt for two `JSpinner` instances separated by a `JLabel` containing the colon (or two `JTextField` instances).\r\n\r\nNot completely sure that this solution will be more intuitive to the user, but I think so.","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>Or just ditch your textfield and opt for two <code>JSpinner</code> instances separated by a <code>JLabel</code> containing the colon (or two <code>JTextField</code> instances).</p>\n\n<p>Not completely sure that this solution will be more intuitive to the user, but I think so.</p>\n"},{"tags":[],"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455402041,"creation_date":1455402041,"answer_id":35386010,"question_id":11215449,"body_markdown":"a late answer to an old question; making use of `DocumentFilter` may achieve that three req&#39;s.\r\n\r\na non-production quality code may be like this\r\n\r\n\tString TIME_PATTERN = &quot;^\\\\d\\\\d:\\\\d\\\\d\\\\s[AP]M$&quot;;\r\n    \r\n\tfinal JTextField tf = new JTextField(&quot;00:00 AM&quot;, 8);\r\n\t\r\n\t((AbstractDocument)tf.getDocument()).setDocumentFilter(new DocumentFilter() {\r\n        public void replace(FilterBypass fb, int offs, int length, String str, AttributeSet a) throws BadLocationException {\r\n        \t\r\n        \tString text = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n        \t\r\n        \ttext = text.substring(0, offs) + str + text.substring(offs + length);\r\n        \t\r\n        \tif(text.matches(TIME_PATTERN)) {\r\n        \t\tsuper.replace(fb, offs, length, str, a);\r\n        \t\treturn;\r\n        \t}\r\n        \t\r\n        \ttext = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n        \t\r\n        \tif(offs == 2 || offs == 5)\r\n        \t\ttf.setCaretPosition(++offs);\r\n\r\n        \tif(length == 0 &amp;&amp; (offs == 0 ||offs == 1 ||offs == 3 ||offs == 4 ||offs == 6))\r\n        \t\tlength = 1;\r\n\r\n        \ttext = text.substring(0, offs) + str + text.substring(offs + length);\r\n        \t\r\n        \tif(!text.matches(TIME_PATTERN))\r\n        \t\treturn;\r\n        \t\r\n        \tsuper.replace(fb, offs, length, str, a);\r\n        \t\r\n        }\r\n\r\n        public void insertString(FilterBypass fb, int offs, String str, AttributeSet a) throws BadLocationException { }\r\n        \r\n        public void remove(FilterBypass fb, int offset, int length) throws BadLocationException { }\r\n        \r\n    });\r\n","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>a late answer to an old question; making use of <code>DocumentFilter</code> may achieve that three req's.</p>\n\n<p>a non-production quality code may be like this</p>\n\n<pre><code>String TIME_PATTERN = \"^\\\\d\\\\d:\\\\d\\\\d\\\\s[AP]M$\";\n\nfinal JTextField tf = new JTextField(\"00:00 AM\", 8);\n\n((AbstractDocument)tf.getDocument()).setDocumentFilter(new DocumentFilter() {\n    public void replace(FilterBypass fb, int offs, int length, String str, AttributeSet a) throws BadLocationException {\n\n        String text = fb.getDocument().getText(0, fb.getDocument().getLength());\n\n        text = text.substring(0, offs) + str + text.substring(offs + length);\n\n        if(text.matches(TIME_PATTERN)) {\n            super.replace(fb, offs, length, str, a);\n            return;\n        }\n\n        text = fb.getDocument().getText(0, fb.getDocument().getLength());\n\n        if(offs == 2 || offs == 5)\n            tf.setCaretPosition(++offs);\n\n        if(length == 0 &amp;&amp; (offs == 0 ||offs == 1 ||offs == 3 ||offs == 4 ||offs == 6))\n            length = 1;\n\n        text = text.substring(0, offs) + str + text.substring(offs + length);\n\n        if(!text.matches(TIME_PATTERN))\n            return;\n\n        super.replace(fb, offs, length, str, a);\n\n    }\n\n    public void insertString(FilterBypass fb, int offs, String str, AttributeSet a) throws BadLocationException { }\n\n    public void remove(FilterBypass fb, int offset, int length) throws BadLocationException { }\n\n});\n</code></pre>\n"}],"owner":{"account_id":1589479,"reputation":55,"user_id":1473154,"accept_rate":60,"display_name":"rdemolish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":11216312,"answer_count":3,"score":2,"last_activity_date":1674197761,"creation_date":1340742708,"question_id":11215449,"body_markdown":"I want a user to input time, so like 12:00, but I need to figure out a few things and I am wicked lost.\r\n\r\n1. Can I limit the text to 5 characters and how?\r\n\r\n2. Can I have a colon embedded in the code so that it can&#39;t be deleted by the user?\r\n\r\n3. Finally, can I take that code and verify that it is only the digits (ignoring the colon of course)","title":"Is there a way to put a colon in a jtextfield so it can&#39;t be removed?","body":"<p>I want a user to input time, so like 12:00, but I need to figure out a few things and I am wicked lost.</p>\n<ol>\n<li><p>Can I limit the text to 5 characters and how?</p>\n</li>\n<li><p>Can I have a colon embedded in the code so that it can't be deleted by the user?</p>\n</li>\n<li><p>Finally, can I take that code and verify that it is only the digits (ignoring the colon of course)</p>\n</li>\n</ol>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1663171,"reputation":7769,"user_id":1531064,"accept_rate":76,"display_name":"Cataclysm"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1533617263,"creation_date":1425025628,"answer_id":28760498,"question_id":28760415,"body_markdown":"Open Intellij IDE&#39;s **vmoptions** file\r\n\r\n**For Mac Users**\r\n\r\n`Help | Edit Custom VM Options...`\r\n\r\nor\r\n\r\n\r\n`Library &gt; Preferences &gt; Idea&lt;YourVersion&gt; &gt; idea.vmoptions`\r\n\r\n**For Window (32bit) Users**\r\n\r\nC:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA `&lt;your_version&gt;`\\bin\\idea.exe.vmoptions\r\n\r\n**For Window (64bit) Users**\r\n\r\nC:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA `&lt;your_version&gt;`\\bin\\idea64.exe.vmoptions\r\n\r\nand setup it&#39;s memory as you wish. Below is sample settings for **2GB**\r\n\r\n    -Xms128m\r\n    -Xmx2048m\r\n    -XX:MaxPermSize=350m\r\n    -XX:ReservedCodeCacheSize=240m\r\n    -XX:+UseCodeCacheFlushing\r\n    -XX:+UseCompressedOops\r\n\r\nHopefully this help.","title":"How should I set the memory for IntelliJ 14?","body":"<p>Open Intellij IDE's <strong>vmoptions</strong> file</p>\n\n<p><strong>For Mac Users</strong></p>\n\n<p><code>Help | Edit Custom VM Options...</code></p>\n\n<p>or</p>\n\n<p><code>Library &gt; Preferences &gt; Idea&lt;YourVersion&gt; &gt; idea.vmoptions</code></p>\n\n<p><strong>For Window (32bit) Users</strong></p>\n\n<p>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA <code>&lt;your_version&gt;</code>\\bin\\idea.exe.vmoptions</p>\n\n<p><strong>For Window (64bit) Users</strong></p>\n\n<p>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA <code>&lt;your_version&gt;</code>\\bin\\idea64.exe.vmoptions</p>\n\n<p>and setup it's memory as you wish. Below is sample settings for <strong>2GB</strong></p>\n\n<pre><code>-Xms128m\n-Xmx2048m\n-XX:MaxPermSize=350m\n-XX:ReservedCodeCacheSize=240m\n-XX:+UseCodeCacheFlushing\n-XX:+UseCompressedOops\n</code></pre>\n\n<p>Hopefully this help.</p>\n"},{"tags":[],"owner":{"account_id":444611,"reputation":12343,"user_id":836540,"accept_rate":20,"display_name":"hidro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1425026159,"creation_date":1425026159,"answer_id":28760628,"question_id":28760415,"body_markdown":"If you still see this popup frequently even with high memory allocated, try:\r\n\r\n&gt; File &gt; Invalidate Caches / Restart...","title":"How should I set the memory for IntelliJ 14?","body":"<p>If you still see this popup frequently even with high memory allocated, try:</p>\n\n<blockquote>\n  <p>File > Invalidate Caches / Restart...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":67383,"reputation":17785,"user_id":197205,"display_name":"Peter Gromov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425029327,"creation_date":1425029327,"answer_id":28761567,"question_id":28760415,"body_markdown":"It really depends on the nature of the error. One thing to try is using idea64.exe instead of idea.exe.\r\n\r\nIf this doesn&#39;t help, please contact JetBrains by filing an issue to https://youtrack.jetbrains.com/newissue and attach your log there (Help | Show log).","title":"How should I set the memory for IntelliJ 14?","body":"<p>It really depends on the nature of the error. One thing to try is using idea64.exe instead of idea.exe.</p>\n\n<p>If this doesn't help, please contact JetBrains by filing an issue to <a href=\"https://youtrack.jetbrains.com/newissue\" rel=\"nofollow\">https://youtrack.jetbrains.com/newissue</a> and attach your log there (Help | Show log).</p>\n"},{"tags":[],"owner":{"account_id":5602414,"reputation":2900,"user_id":4438231,"display_name":"Sarneet Kaur"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437673332,"creation_date":1437673332,"answer_id":31594524,"question_id":28760415,"body_markdown":"I have allocated 4 GB to intelliJ 14 on windows 7. My settings in idea64.exe.vmoptions are :\r\n\r\n-Xms4608m  \r\n-Xmx4608m  \r\n-Xmn2g  \r\n-Xss128k  \r\n-XX:MaxPermSize=1536m  \r\n-XX:ParallelGCThreads=20","title":"How should I set the memory for IntelliJ 14?","body":"<p>I have allocated 4 GB to intelliJ 14 on windows 7. My settings in idea64.exe.vmoptions are :</p>\n\n<p>-Xms4608m<br>\n-Xmx4608m<br>\n-Xmn2g<br>\n-Xss128k<br>\n-XX:MaxPermSize=1536m<br>\n-XX:ParallelGCThreads=20</p>\n"},{"tags":[],"owner":{"account_id":3423003,"reputation":2107,"user_id":2869866,"accept_rate":100,"display_name":"martoncsukas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497015055,"creation_date":1497015055,"answer_id":44459138,"question_id":28760415,"body_markdown":"You can set IntelliJ IDEA&#39;s memory settings *and* your application&#39;s memory settings in the following places:\r\n\r\n**IDEA&#39;s vmoptions file:**\r\n\r\nUnder Windows it could be either of the followings, depending on which installation (x86, x64) you use: \r\n\r\n - C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n   2016.3.4\\bin\\idea.exe.vmoptions\r\n - C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\r\n   2016.3.4\\bin\\idea64.exe.vmoptions\r\n\r\n**VM Options in the Run/Debug Configuration:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1e0TW.jpg","title":"How should I set the memory for IntelliJ 14?","body":"<p>You can set IntelliJ IDEA's memory settings <em>and</em> your application's memory settings in the following places:</p>\n\n<p><strong>IDEA's vmoptions file:</strong></p>\n\n<p>Under Windows it could be either of the followings, depending on which installation (x86, x64) you use: </p>\n\n<ul>\n<li>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n2016.3.4\\bin\\idea.exe.vmoptions</li>\n<li>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA\n2016.3.4\\bin\\idea64.exe.vmoptions</li>\n</ul>\n\n<p><strong>VM Options in the Run/Debug Configuration:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1e0TW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1e0TW.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3174896,"reputation":7393,"user_id":2683013,"accept_rate":71,"display_name":"Sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54188,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":28760498,"answer_count":5,"score":43,"last_activity_date":1674197420,"creation_date":1425025336,"question_id":28760415,"body_markdown":"I just upgraded my IntelliJ to 14.0.3. But there&#39;s always an Out Of Memory dialog popped up to ask me to set the memory.\r\n \r\nFollowing is my settings:\r\n![enter image description here][1]\r\n\r\nI thought it&#39;s enough. But the dialog shows from time to time, and sometimes, it&#39;s not responding that I have to shutdown it.\r\n\r\nHow should I set this for IntelliJ 14? Any ideas?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KTiba.png","title":"How should I set the memory for IntelliJ 14?","body":"<p>I just upgraded my IntelliJ to 14.0.3. But there's always an Out Of Memory dialog popped up to ask me to set the memory.</p>\n<p>Following is my settings:\n<img src=\"https://i.stack.imgur.com/KTiba.png\" alt=\"enter image description here\" /></p>\n<p>I thought it's enough. But the dialog shows from time to time, and sometimes, it's not responding that I have to shutdown it.</p>\n<p>How should I set this for IntelliJ 14? Any ideas?</p>\n"},{"tags":["java","jshell"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674123682,"post_id":75170692,"comment_id":132649334,"body_markdown":"probably because some folder/file used for startup is not accessible to normal users. Maybe it is the startup script, try `jshell --no-startup` or `jshell -`","body":"probably because some folder/file used for startup is not accessible to normal users. Maybe it is the startup script, try <code>jshell --no-startup</code> or <code>jshell -</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674124097,"post_id":75170692,"comment_id":132649460,"body_markdown":"Do you have your path setup correctly? If your in the bin folder, then all the files there should be on the path. When you run as administrator, does it have a different path variable than when run as a normal user. ( %PATH% it might be called?)","body":"Do you have your path setup correctly? If your in the bin folder, then all the files there should be on the path. When you run as administrator, does it have a different path variable than when run as a normal user. ( %PATH% it might be called?)"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674126019,"post_id":75170692,"comment_id":132650118,"body_markdown":"@user16320675 `jshell --no-startup` has no error, `jshell -` same error","body":"@user16320675 <code>jshell --no-startup</code> has no error, <code>jshell -</code> same error"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674126195,"post_id":75170692,"comment_id":132650175,"body_markdown":"@matt I checked `$env:PATH` is correct and same for admin and normal user","body":"@matt I checked <code>$env:PATH</code> is correct and same for admin and normal user"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1674196782,"post_id":75170692,"comment_id":132666302,"body_markdown":"Hi, I updated description, this error seems only occur when I execute `jshell` at my home dir, i.e. `C:\\Users\\my_user_name`, error disappears when I switch to any other folder at powershell, I had delete several suspicious folders and files at home dir, `jshell` still not work there.","body":"Hi, I updated description, this error seems only occur when I execute <code>jshell</code> at my home dir, i.e. <code>C:\\Users\\my_user_name</code>, error disappears when I switch to any other folder at powershell, I had delete several suspicious folders and files at home dir, <code>jshell</code> still not work there."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674217018,"post_id":75170692,"comment_id":132672070,"body_markdown":"(1) Maybe the problem is not jshell, maybe it is xxx.jsh content problem. (2) In the user directory, create `Main.jsh`, the content is: `import javax.swing.*;\nJFrame f = new JFrame(&quot;frame&quot;);\nJOptionPane. showMessageDialog(f, &quot;Hello Wolrd!&quot;);\n/exit` (3) Open powershell, execute in the user directory, `jshell --startup Main.jsh`, (4) It can be executed normally, no error message is generated (5) After installing Oracle JDK 19, Windows installer msi, there is no Make any settings, do not set JAVA_HOME or PATH, execute to open powershell, execute jshell directly, and there is no error message.","body":"(1) Maybe the problem is not jshell, maybe it is xxx.jsh content problem. (2) In the user directory, create <code>Main.jsh</code>, the content is: <code>import javax.swing.*; JFrame f = new JFrame(&quot;frame&quot;); JOptionPane. showMessageDialog(f, &quot;Hello Wolrd!&quot;); &#47;exit</code> (3) Open powershell, execute in the user directory, <code>jshell --startup Main.jsh</code>, (4) It can be executed normally, no error message is generated (5) After installing Oracle JDK 19, Windows installer msi, there is no Make any settings, do not set JAVA_HOME or PATH, execute to open powershell, execute jshell directly, and there is no error message."}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674197285,"creation_date":1674123311,"question_id":75170692,"body_markdown":"When I run jshell 17 / 19 in windows powershell at my home\r\n   dir, i.e. `C:\\Users\\my_user_name`, jshell throws exception as following.\r\n\r\nJdk 19 installed with oracle win10 msi binary, path updated by `$env:PATH=&#39;C:\\Program Files\\Java\\jdk-19\\bin;&#39;+$env:PATH`\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.InternalError: Exception during analyze - java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:415)\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.&lt;init&gt;(TaskFactory.java:406)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$analyze$1(TaskFactory.java:178)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$runTask$4(TaskFactory.java:213)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskPool.getTask(JavacTaskPool.java:193)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.runTask(TaskFactory.java:206)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:175)\r\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:161)\r\n        at jdk.jshell/jdk.jshell.Eval.compileAndLoad(Eval.java:1060)\r\n        at jdk.jshell/jdk.jshell.Eval.declare(Eval.java:893)\r\n        at jdk.jshell/jdk.jshell.Eval.eval(Eval.java:140)\r\n        at jdk.jshell/jdk.jshell.JShell.eval(JShell.java:493)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSource(JShellTool.java:3624)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSourceCatchingReset(JShellTool.java:1348)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processInput(JShellTool.java:1246)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.run(JShellTool.java:1217)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.startUpRun(JShellTool.java:1178)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.resetState(JShellTool.java:1125)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.start(JShellTool.java:951)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolBuilder.start(JShellToolBuilder.java:261)\r\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolProvider.main(JShellToolProvider.java:120)\r\nCaused by: java.lang.IllegalStateException: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:383)\r\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:412)\r\n        ... 20 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\r\n        at jdk.compiler/com.sun.tools.javac.comp.TypeEnter.ensureImportsChecked(TypeEnter.java:170)\r\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.complete(Enter.java:628)\r\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.main(Enter.java:588)\r\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:1042)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.enter(JavacTaskImpl.java:345)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:399)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$analyze$1(JavacTaskImpl.java:379)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:379)\r\n        ... 21 more\r\n```\r\n\r\n\r\nBut `jshell` works when I first `cd` to any other dir **or** when I use jshell 11 at my home dir.\r\n\r\n - Update 1: run with `jshell --no-startup` the `internalError`\r\n   disappeared at startup, but when I type `import java.util.ArrayList;`\r\n   in jshell and type `enter`, `jshell` exits with same the error as\r\n   following.\r\n - Update 2: The error only occured when I execute `jshell` at my home\r\n   dir, i.e. `C:\\Users\\my_user_name`, but I didn&#39;t find out why. (Have\r\n   delete several suspicious folders and files at home dir, still not work). Maybe `jshell` reads something when startup from its `pwd`/`cwd` and get confused by some of my file at home directory ?\r\n","title":"Why jshell throw Exception at startup at windows when run `jshell` at my home directory?","body":"<p>When I run jshell 17 / 19 in windows powershell at my home\ndir, i.e. <code>C:\\Users\\my_user_name</code>, jshell throws exception as following.</p>\n<p>Jdk 19 installed with oracle win10 msi binary, path updated by <code>$env:PATH='C:\\Program Files\\Java\\jdk-19\\bin;'+$env:PATH</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InternalError: Exception during analyze - java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:415)\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.&lt;init&gt;(TaskFactory.java:406)\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$analyze$1(TaskFactory.java:178)\n        at jdk.jshell/jdk.jshell.TaskFactory.lambda$runTask$4(TaskFactory.java:213)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskPool.getTask(JavacTaskPool.java:193)\n        at jdk.jshell/jdk.jshell.TaskFactory.runTask(TaskFactory.java:206)\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:175)\n        at jdk.jshell/jdk.jshell.TaskFactory.analyze(TaskFactory.java:161)\n        at jdk.jshell/jdk.jshell.Eval.compileAndLoad(Eval.java:1060)\n        at jdk.jshell/jdk.jshell.Eval.declare(Eval.java:893)\n        at jdk.jshell/jdk.jshell.Eval.eval(Eval.java:140)\n        at jdk.jshell/jdk.jshell.JShell.eval(JShell.java:493)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSource(JShellTool.java:3624)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processSourceCatchingReset(JShellTool.java:1348)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.processInput(JShellTool.java:1246)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.run(JShellTool.java:1217)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.startUpRun(JShellTool.java:1178)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.resetState(JShellTool.java:1125)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellTool.start(JShellTool.java:951)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolBuilder.start(JShellToolBuilder.java:261)\n        at jdk.jshell/jdk.internal.jshell.tool.JShellToolProvider.main(JShellToolProvider.java:120)\nCaused by: java.lang.IllegalStateException: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:383)\n        at jdk.jshell/jdk.jshell.TaskFactory$AnalyzeTask.analyze(TaskFactory.java:412)\n        ... 20 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.tools.javac.code.Scope$StarImportScope.isFilled()&quot; because &quot;tree.starImportScope&quot; is null\n        at jdk.compiler/com.sun.tools.javac.comp.TypeEnter.ensureImportsChecked(TypeEnter.java:170)\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.complete(Enter.java:628)\n        at jdk.compiler/com.sun.tools.javac.comp.Enter.main(Enter.java:588)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:1042)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.enter(JavacTaskImpl.java:345)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:399)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$analyze$1(JavacTaskImpl.java:379)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n        at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.analyze(JavacTaskImpl.java:379)\n        ... 21 more\n</code></pre>\n<p>But <code>jshell</code> works when I first <code>cd</code> to any other dir <strong>or</strong> when I use jshell 11 at my home dir.</p>\n<ul>\n<li>Update 1: run with <code>jshell --no-startup</code> the <code>internalError</code>\ndisappeared at startup, but when I type <code>import java.util.ArrayList;</code>\nin jshell and type <code>enter</code>, <code>jshell</code> exits with same the error as\nfollowing.</li>\n<li>Update 2: The error only occured when I execute <code>jshell</code> at my home\ndir, i.e. <code>C:\\Users\\my_user_name</code>, but I didn't find out why. (Have\ndelete several suspicious folders and files at home dir, still not work). Maybe <code>jshell</code> reads something when startup from its <code>pwd</code>/<code>cwd</code> and get confused by some of my file at home directory ?</li>\n</ul>\n"},{"tags":["java","testing","groovy","automated-tests","katalon-studio"],"comments":[{"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"score":0,"creation_date":1674150361,"post_id":74196484,"comment_id":132658685,"body_markdown":"Is this some search field that you&#39;re pressing Enter on? Also, what made you want to `WebUI.click()` when you mean to send the Enter key?","body":"Is this some search field that you&#39;re pressing Enter on? Also, what made you want to <code>WebUI.click()</code> when you mean to send the Enter key?"}],"answers":[{"tags":[],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674197089,"creation_date":1669714756,"answer_id":74611896,"question_id":74196484,"body_markdown":"You can use [`WebUI.verifyElementPresent()`](https://docs.katalon.com/docs/author/keywords/keyword-description-in-katalon-studio/web-ui-keywords/webui-verify-element-present) method like this (Note: you are missing the parenthesis in your example. Also, timeout is required):\r\n``` \r\ncondition = true\r\nwhile (condition) {\r\n    WebUI.click(y)\r\n    if (WebUI.verifyElementPresent(x, 5)) { \r\n        condition = false\r\n    }\r\n}\r\nWebUI.setText(x, &#39;1&#39;)","title":"Create a loop while on Katalon with Groovy","body":"<p>You can use <a href=\"https://docs.katalon.com/docs/author/keywords/keyword-description-in-katalon-studio/web-ui-keywords/webui-verify-element-present\" rel=\"nofollow noreferrer\"><code>WebUI.verifyElementPresent()</code></a> method like this (Note: you are missing the parenthesis in your example. Also, timeout is required):</p>\n<pre><code>condition = true\nwhile (condition) {\n    WebUI.click(y)\n    if (WebUI.verifyElementPresent(x, 5)) { \n        condition = false\n    }\n}\nWebUI.setText(x, '1')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309337,"reputation":3766,"user_id":2027839,"accept_rate":71,"display_name":"Mike Warren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674158162,"creation_date":1674158162,"answer_id":75177616,"question_id":74196484,"body_markdown":"&gt; and there are some steps where I need to repeat the &#39;Enter&#39; key many times, so I am trying to create a loop where &#39;Enter&#39; is pressed until an object becomes available, or visible\r\n\r\nIt sounds like that field that &quot;Enter&quot; is being pressed on, is a search field, and that &quot;object becoming available or visible&quot; is a search result...\r\n\r\nAs for your retry logic, take a look at [my answer on the Katalon Studio forum](https://forum.katalon.com/t/how-you-can-retry-actions-in-katalon-studio/82146):\r\n\r\n```\r\npublic class ActionHandler {\r\n    public static void HandleRetryableAction(Closure onAction, Closure onDone, long timeOut) {\r\n        long startTime = System.currentTimeSeconds();\r\n        while (System.currentTimeSeconds() &lt; startTime + timeOut) {\r\n            try {\r\n                onDone(true, onAction());\r\n                return;\r\n            } catch (Exception ex) {\r\n                onDone(false, ex);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou should use this custom keyword like this: \r\n\r\n```\r\nActionHandler.HandleRetryableAction({\r\n\tWebUI.sendKeys(findTestObject(&#39;path/2&#39;), // you should REALLY name this something better...something more meaningful...\r\n\t\tKeys.ENTER.toString());\r\n\r\n\tfinal TestObject firstSearchResult = findTestObject(&#39;path/1&#39;); // again, fix the naming please!!\r\n\r\n\t// we&#39;re waiting on search result to **disappear**, in order to squash any flakiness that comes from the next step...\r\n\tWebUI.waitForElementNotPresent(firstSearchResult,\r\n\t\t1,\r\n\t\tFailureHandling.OPTIONAL);\r\n\r\n \treturn WebUI.waitForElementPresent(firstSearchResult,\r\n\t\t5); \r\n}, { boolean success, _ -&gt; \r\n\tif (!success) { \r\n\t\t// take additional actions, such as refreshing the page, clicking some refresh widget, ...\r\n\t}\r\n}, \r\n15, // I set it to 3 times the wait time specified by Mate Mrse, for good measure\r\n)\r\n```\r\n\r\nTake note of three things here...\r\n\r\n\r\n\r\n  1.) It&#39;s `WebUI.sendKeys()` to...well...send the keys. Also, the String argument is the stringification of `org.openqa.selenium.Keys.ENTER` . \r\n  \r\n  2.) We are using the `WebUI.waitForElementPresent()` here. This is built-in keyword.\r\n  \r\n  3.) I don&#39;t see any action we&#39;re taking if the result is NOT present after Enter, except spamming Enter. You should spell out what we should do in that case. \r\n\r\nIn the absence of any onRetry logic, I think your idea to use loop, and my idea to use `ActionHandler`, is overkill.\r\n\r\nPlease respond back with your full use case here, and maybe some screenshots of or link to the AUT itself, and I can adjust this answer to that!","title":"Create a loop while on Katalon with Groovy","body":"<blockquote>\n<p>and there are some steps where I need to repeat the 'Enter' key many times, so I am trying to create a loop where 'Enter' is pressed until an object becomes available, or visible</p>\n</blockquote>\n<p>It sounds like that field that &quot;Enter&quot; is being pressed on, is a search field, and that &quot;object becoming available or visible&quot; is a search result...</p>\n<p>As for your retry logic, take a look at <a href=\"https://forum.katalon.com/t/how-you-can-retry-actions-in-katalon-studio/82146\" rel=\"nofollow noreferrer\">my answer on the Katalon Studio forum</a>:</p>\n<pre><code>public class ActionHandler {\n    public static void HandleRetryableAction(Closure onAction, Closure onDone, long timeOut) {\n        long startTime = System.currentTimeSeconds();\n        while (System.currentTimeSeconds() &lt; startTime + timeOut) {\n            try {\n                onDone(true, onAction());\n                return;\n            } catch (Exception ex) {\n                onDone(false, ex);\n            }\n        }\n    }\n}\n</code></pre>\n<p>You should use this custom keyword like this:</p>\n<pre><code>ActionHandler.HandleRetryableAction({\n    WebUI.sendKeys(findTestObject('path/2'), // you should REALLY name this something better...something more meaningful...\n        Keys.ENTER.toString());\n\n    final TestObject firstSearchResult = findTestObject('path/1'); // again, fix the naming please!!\n\n    // we're waiting on search result to **disappear**, in order to squash any flakiness that comes from the next step...\n    WebUI.waitForElementNotPresent(firstSearchResult,\n        1,\n        FailureHandling.OPTIONAL);\n\n    return WebUI.waitForElementPresent(firstSearchResult,\n        5); \n}, { boolean success, _ -&gt; \n    if (!success) { \n        // take additional actions, such as refreshing the page, clicking some refresh widget, ...\n    }\n}, \n15, // I set it to 3 times the wait time specified by Mate Mrse, for good measure\n)\n</code></pre>\n<p>Take note of three things here...</p>\n<p>1.) It's <code>WebUI.sendKeys()</code> to...well...send the keys. Also, the String argument is the stringification of <code>org.openqa.selenium.Keys.ENTER</code> .</p>\n<p>2.) We are using the <code>WebUI.waitForElementPresent()</code> here. This is built-in keyword.</p>\n<p>3.) I don't see any action we're taking if the result is NOT present after Enter, except spamming Enter. You should spell out what we should do in that case.</p>\n<p>In the absence of any onRetry logic, I think your idea to use loop, and my idea to use <code>ActionHandler</code>, is overkill.</p>\n<p>Please respond back with your full use case here, and maybe some screenshots of or link to the AUT itself, and I can adjust this answer to that!</p>\n"}],"owner":{"account_id":26729090,"reputation":1,"user_id":20331766,"display_name":"David TG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674197089,"creation_date":1666711484,"question_id":74196484,"body_markdown":"I am automating a test, and there are some steps where I need to repeat the &#39;Enter&#39; key many times, so I am trying to create a loop where &#39;Enter&#39; is pressed until an object becomes available, or visible.\r\n\r\nI already tried quite a few different ways to do it, but it never works, normally the while statement or the if statement breaks without the condition being broken.\r\n\r\nOn the following example, I am creating object x and object y. I want to repeat y until I get to a window where x is available.\r\n\r\nAlso here are a few of my failed attempts.\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nTestObject x = findTestObject(&#39;path/1&#39;)\r\n\r\nTestObject y = findTestObject(&#39;path/2&#39;)\r\n\r\n\r\nwhile (true) {\r\n\tWebUI.click(y)\r\n\tif (WebUI.verifyElementPresent) break\r\n}\r\n\r\n//\r\n//while (WebUI.verifyElementNotPresent(x, 10)) {\r\n//    WebUI.click(y)\r\n//}\r\n\r\n\r\n//while(true) {\r\n//\tWebUI.click(y)\r\n//\tif(WebUI.verifyElementVisible(x))\r\n//\t\tWebUI.click(y)\r\n//}\r\n\r\n\r\nExample of what I am trying to avoid.\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.click(y)\r\n\r\nWebUI.setText(x, &#39;1&#39;)\r\n\r\n\r\n```","title":"Create a loop while on Katalon with Groovy","body":"<p>I am automating a test, and there are some steps where I need to repeat the 'Enter' key many times, so I am trying to create a loop where 'Enter' is pressed until an object becomes available, or visible.</p>\n<p>I already tried quite a few different ways to do it, but it never works, normally the while statement or the if statement breaks without the condition being broken.</p>\n<p>On the following example, I am creating object x and object y. I want to repeat y until I get to a window where x is available.</p>\n<p>Also here are a few of my failed attempts.</p>\n<pre><code>\n\n\nTestObject x = findTestObject('path/1')\n\nTestObject y = findTestObject('path/2')\n\n\nwhile (true) {\n    WebUI.click(y)\n    if (WebUI.verifyElementPresent) break\n}\n\n//\n//while (WebUI.verifyElementNotPresent(x, 10)) {\n//    WebUI.click(y)\n//}\n\n\n//while(true) {\n//  WebUI.click(y)\n//  if(WebUI.verifyElementVisible(x))\n//      WebUI.click(y)\n//}\n\n\nExample of what I am trying to avoid.\n\nWebUI.click(y)\n\nWebUI.click(y)\n\nWebUI.click(y)\n\nWebUI.setText(x, '1')\n\n\n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674198356,"post_id":75180586,"comment_id":132666611,"body_markdown":"Likely your background service runs with different environment variables and/or user account. Make sure the service has what it needs.","body":"Likely your background service runs with different environment variables and/or user account. Make sure the service has what it needs."}],"owner":{"account_id":27326037,"reputation":1,"user_id":20839003,"display_name":"jasmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674196935,"creation_date":1674196935,"question_id":75180586,"body_markdown":"I want to run a customer script which inturn runs multiple python files from my java programs. the script runs fine when in run the jar manually from the terminal using java -jar jarfilename.jar but fails when i run the same jar as service in background.\r\n\r\nI&#39;m getting the following error in my debug log\r\n\r\n    Site:16 RESULT:False:Vmin test completed with no report! Something went wrong.@_@\r\n    Site:9 Traceback (most recent call last):\r\n    Site:9&#160;&#160; File &quot;pexpect/spawnbase.py&quot;, line 166, in read_nonblocking\r\n    Site:9 OSError: [Errno 5] Input/output error\r\n    Site:9&#160;\r\n    Site:9 During handling of the above exception, another exception occurred:\r\n    Site:9&#160;\r\n    Site:9 Traceback (most recent call last):\r\n    Site:9&#160;&#160; File &quot;pexpect/expect.py&quot;, line 111, in expect_loop\r\n    Site:9&#160;&#160; File &quot;pexpect/pty_spawn.py&quot;, line 485, in read_nonblocking\r\n    Site:9&#160;&#160; File &quot;pexpect/spawnbase.py&quot;, line 171, in read_nonblocking\r\n    Site:9 pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\r\n    Site:9&#160;\r\n    Site:9 During handling of the above exception, another exception occurred:\r\n    Site:9&#160;\r\n    Site:9 Traceback (most recent call last):`\r\n\r\n\r\nThe above error shows OSError: [Errno 5] Input/output error which from this link [link](https://stackoverflow.com/questions/52376942/python-ioerror-errno-5-input-output-error)i found it might be due to the print stattement in py file but unfortunately i don&#39;t have access to any customer file how can we handle it from java side or any thing when writing a service might fix it?\r\n","title":"how to avoid IO error while running jar as service","body":"<p>I want to run a customer script which inturn runs multiple python files from my java programs. the script runs fine when in run the jar manually from the terminal using java -jar jarfilename.jar but fails when i run the same jar as service in background.</p>\n<p>I'm getting the following error in my debug log</p>\n<pre><code>Site:16 RESULT:False:Vmin test completed with no report! Something went wrong.@_@\nSite:9 Traceback (most recent call last):\nSite:9   File &quot;pexpect/spawnbase.py&quot;, line 166, in read_nonblocking\nSite:9 OSError: [Errno 5] Input/output error\nSite:9 \nSite:9 During handling of the above exception, another exception occurred:\nSite:9 \nSite:9 Traceback (most recent call last):\nSite:9   File &quot;pexpect/expect.py&quot;, line 111, in expect_loop\nSite:9   File &quot;pexpect/pty_spawn.py&quot;, line 485, in read_nonblocking\nSite:9   File &quot;pexpect/spawnbase.py&quot;, line 171, in read_nonblocking\nSite:9 pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\nSite:9 \nSite:9 During handling of the above exception, another exception occurred:\nSite:9 \nSite:9 Traceback (most recent call last):`\n</code></pre>\n<p>The above error shows OSError: [Errno 5] Input/output error which from this link <a href=\"https://stackoverflow.com/questions/52376942/python-ioerror-errno-5-input-output-error\">link</a>i found it might be due to the print stattement in py file but unfortunately i don't have access to any customer file how can we handle it from java side or any thing when writing a service might fix it?</p>\n"},{"tags":["java","sql","spring","spring-boot","oracle-sqldeveloper"],"owner":{"account_id":15467469,"reputation":55,"user_id":11158412,"display_name":"ProximanovaMetropolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674196491,"creation_date":1674196491,"question_id":75180533,"body_markdown":"I am new to JPA and Spring Boot and am creating a project for the first time. In my Spring Boot project, I have two tables as follows:\r\n\r\n1. Policy\r\n\r\n```\r\n@Entity (name = &quot;Policy&quot;)\r\n@Table (name = &quot;POLICY&quot;)\r\npublic class Policy {\r\n  @Id\r\n  private Long id;\r\n\r\n  @Column (name = &quot;POLICY_ID&quot;)\r\n  private Long policyId;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;COVER_ID&quot;)\r\n  private Long coverId;\r\n\r\n  @Column (name = &quot;ACCT_NUMBER&quot;)\r\n  private String accountNumber;\r\n\r\n  ...\r\n\r\n  @NotNull\r\n  @Column (name = &quot;UPDATE_DATE&quot;)\r\n  private Date updateDate;\r\n}\r\n```\r\namong other fields.\r\n\r\n2. Coverage\r\n```\r\n@Entity (name = &quot;Coverage&quot;)\r\n@Table (name = &quot;COVERAGE&quot;)\r\npublic class Coverage {\r\n  @Id\r\n  // @GeneratedValue (strategy = GenerationType.AUTO)\r\n  @Column (name = &quot;COVER_ID&quot;)\r\n  private Long coverId;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;ACCT_NUMBER&quot;)\r\n  private String accountNumber;\r\n\r\n  @NotNull\r\n  @Column (name = &quot;STATUS&quot;)\r\n  private String status;\r\n  ...\r\n\r\n  @NotNull\r\n  @Column (name = &quot;UPDATE_DATE&quot;)\r\n  private Date updateDate;\r\n}\r\n```\r\nCoverage has only one record for each account number, but Policy can have multiple records for the same account number, and the coverage ID in the Policy table references that in the Coverage table.\r\n\r\nI am using Oracle SQL Developer to store the tables. My requirement is to retrieve the 10 **latest** (most recent) records from the Coverage table where the status is `Active`, and then to retrieve the Policy records for **those** 10 records simultaneously. These records will then be written to text files, one for each of the two tables. Then some fields in them will be updated and the updated records will be written to new text files.\r\n\r\nHere, for the coverage records, I use `order by updateDate desc` to sort the results in descending order, and in SQL Developer, instead of `top (10)` I have to put `where rownum &lt;= 10`. Therefore the read method implementing the first SQL query is:\r\n\r\n```\r\n@Override\r\npublic List&lt;Coverage&gt; readCoverRecords() {\r\n  EntityManager em = transactionManager.getEntityManager();\r\n  String coverQuery = &quot;From Coverage where status = &#39;Active&#39; and rownum &lt;= 10 order by updateDate&quot;;\r\n  TypedQuery&lt;Coverage&gt; tq = em.createQuery(coverQuery, Coverage.class);\r\n  return tq.getResultList();\r\n}\r\n```\r\nwhich is easy enough. But the issue arises when I try to retrieve the Policy records for these ten Coverage records, which are linked by their account number. That is, if I were retrieving records from both tables, I would have used `Coverage.accountNumber = Policy.accountNumber` in the WHERE clause. But here I have to return a `List&lt;Policy&gt;` object, which in turn will be written to a file. Using a single SQL statement I would have written (my query may be wrong; it is only to specify the logic):\r\n```\r\nselect * from Policy P  where P.accountNumber in (select C.accountNumber from Coverage C where C.status = &#39;Active&#39; and rownum &lt;= 10 order by C.updateDate desc);\r\n```\r\nThis returns a *missing right parenthesis* error in SQL Developer. Moreover, in any case, this does not guarantee that the Policy records retrieved will be for the same account numbers as the Coverage records, since the updateDate of some records may have changed in the meantime. Therefore, I am looking for a solution which is able to ensure that the retrieved records for Policy will always correspond to the same account numbers as retrieved for Coverage.","title":"JPA Spring: Retrieving records from two related tables, ensuring that records do not change in the meantime","body":"<p>I am new to JPA and Spring Boot and am creating a project for the first time. In my Spring Boot project, I have two tables as follows:</p>\n<ol>\n<li>Policy</li>\n</ol>\n<pre><code>@Entity (name = &quot;Policy&quot;)\n@Table (name = &quot;POLICY&quot;)\npublic class Policy {\n  @Id\n  private Long id;\n\n  @Column (name = &quot;POLICY_ID&quot;)\n  private Long policyId;\n\n  @NotNull\n  @Column (name = &quot;COVER_ID&quot;)\n  private Long coverId;\n\n  @Column (name = &quot;ACCT_NUMBER&quot;)\n  private String accountNumber;\n\n  ...\n\n  @NotNull\n  @Column (name = &quot;UPDATE_DATE&quot;)\n  private Date updateDate;\n}\n</code></pre>\n<p>among other fields.</p>\n<ol start=\"2\">\n<li>Coverage</li>\n</ol>\n<pre><code>@Entity (name = &quot;Coverage&quot;)\n@Table (name = &quot;COVERAGE&quot;)\npublic class Coverage {\n  @Id\n  // @GeneratedValue (strategy = GenerationType.AUTO)\n  @Column (name = &quot;COVER_ID&quot;)\n  private Long coverId;\n\n  @NotNull\n  @Column (name = &quot;ACCT_NUMBER&quot;)\n  private String accountNumber;\n\n  @NotNull\n  @Column (name = &quot;STATUS&quot;)\n  private String status;\n  ...\n\n  @NotNull\n  @Column (name = &quot;UPDATE_DATE&quot;)\n  private Date updateDate;\n}\n</code></pre>\n<p>Coverage has only one record for each account number, but Policy can have multiple records for the same account number, and the coverage ID in the Policy table references that in the Coverage table.</p>\n<p>I am using Oracle SQL Developer to store the tables. My requirement is to retrieve the 10 <strong>latest</strong> (most recent) records from the Coverage table where the status is <code>Active</code>, and then to retrieve the Policy records for <strong>those</strong> 10 records simultaneously. These records will then be written to text files, one for each of the two tables. Then some fields in them will be updated and the updated records will be written to new text files.</p>\n<p>Here, for the coverage records, I use <code>order by updateDate desc</code> to sort the results in descending order, and in SQL Developer, instead of <code>top (10)</code> I have to put <code>where rownum &lt;= 10</code>. Therefore the read method implementing the first SQL query is:</p>\n<pre><code>@Override\npublic List&lt;Coverage&gt; readCoverRecords() {\n  EntityManager em = transactionManager.getEntityManager();\n  String coverQuery = &quot;From Coverage where status = 'Active' and rownum &lt;= 10 order by updateDate&quot;;\n  TypedQuery&lt;Coverage&gt; tq = em.createQuery(coverQuery, Coverage.class);\n  return tq.getResultList();\n}\n</code></pre>\n<p>which is easy enough. But the issue arises when I try to retrieve the Policy records for these ten Coverage records, which are linked by their account number. That is, if I were retrieving records from both tables, I would have used <code>Coverage.accountNumber = Policy.accountNumber</code> in the WHERE clause. But here I have to return a <code>List&lt;Policy&gt;</code> object, which in turn will be written to a file. Using a single SQL statement I would have written (my query may be wrong; it is only to specify the logic):</p>\n<pre><code>select * from Policy P  where P.accountNumber in (select C.accountNumber from Coverage C where C.status = 'Active' and rownum &lt;= 10 order by C.updateDate desc);\n</code></pre>\n<p>This returns a <em>missing right parenthesis</em> error in SQL Developer. Moreover, in any case, this does not guarantee that the Policy records retrieved will be for the same account numbers as the Coverage records, since the updateDate of some records may have changed in the meantime. Therefore, I am looking for a solution which is able to ensure that the retrieved records for Policy will always correspond to the same account numbers as retrieved for Coverage.</p>\n"},{"tags":["java","ruby","rfc2396"],"answers":[{"tags":[],"owner":{"account_id":2895425,"reputation":102454,"user_id":2483313,"display_name":"spickermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674196439,"creation_date":1674196439,"answer_id":75180523,"question_id":75179882,"body_markdown":"I would use `URI.parse` to validate a URL. `URL.parse` raises an exception if the URL is not valid:\r\n\r\n    require &#39;uri&#39;\r\n\r\n    URI.parse(&#39;https://example.com/&lt;network_id&gt;/1&#39;)\r\n    #=&gt; bad URI(is not URI?): &quot;https://example.com/&lt;network_id&gt;/1&quot; (URI::InvalidURIError)                                       \r\n\r\n\r\nWhich allows writing a simple URL validation method like this:\r\n\r\n    def valid_url?(url)\r\n      URI.parse(url) rescue false\r\n    end\r\n\r\n    valid_url?(&#39;https://example.com/&lt;network_id&gt;/1&#39;)\r\n    #=&gt; false\r\n\r\n    valid_url?(&#39;https://stackoverflow.com/questions/75179882&#39;)\r\n    #=&gt; #&lt;URI::HTTPS https://stackoverflow.com/questions/75179882&gt;\r\n\r\n","title":"Is Ruby&#39;s URI.regexp &quot;wrong&quot; to use as a validator?","body":"<p>I would use <code>URI.parse</code> to validate a URL. <code>URL.parse</code> raises an exception if the URL is not valid:</p>\n<pre><code>require 'uri'\n\nURI.parse('https://example.com/&lt;network_id&gt;/1')\n#=&gt; bad URI(is not URI?): &quot;https://example.com/&lt;network_id&gt;/1&quot; (URI::InvalidURIError)                                       \n</code></pre>\n<p>Which allows writing a simple URL validation method like this:</p>\n<pre><code>def valid_url?(url)\n  URI.parse(url) rescue false\nend\n\nvalid_url?('https://example.com/&lt;network_id&gt;/1')\n#=&gt; false\n\nvalid_url?('https://stackoverflow.com/questions/75179882')\n#=&gt; #&lt;URI::HTTPS https://stackoverflow.com/questions/75179882&gt;\n</code></pre>\n"}],"owner":{"account_id":15203,"reputation":1884,"user_id":31891,"accept_rate":23,"display_name":"Ken Mayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75180523,"answer_count":1,"score":1,"last_activity_date":1674196439,"creation_date":1674179011,"question_id":75179882,"body_markdown":"Given a url like `https://example.com/&lt;network_id&gt;/1`\r\n\r\n[Ruby&#39;s URI module](https://ruby-doc.org/stdlib-3.1.0/libdoc/uri/rdoc/URI.html) can validate URIs using a regular expression:\r\n\r\n```\r\nURI.regexp.match(&quot;https://example.com/&lt;network_id&gt;/1&quot;)\r\n=&gt; #&lt;MatchData &quot;https://example.com/&quot; 1:&quot;https&quot; 2:nil 3:nil 4:&quot;example.com&quot; 5:nil 6:nil 7:&quot;/&quot; 8:nil 9:nil&gt;\r\n```\r\n\r\nBut if you try to hand this off to another package, say [Java&#39;s URI class](https://docs.oracle.com/javase/8/docs/api/java/net/URI.html)\r\n\r\nIt will fail:\r\n\r\n```\r\nError message:\r\nIllegal character in path at index ...\r\n\r\n                               java.net.URI.create(URI.java:852)\r\norg.apache.http.client.methods.HttpPost.&lt;init&gt;(HttpPost.java:73)\r\n...\r\n```\r\n\r\nIs there a better URI validator, something that we can use in a Rails class?","title":"Is Ruby&#39;s URI.regexp &quot;wrong&quot; to use as a validator?","body":"<p>Given a url like <code>https://example.com/&lt;network_id&gt;/1</code></p>\n<p><a href=\"https://ruby-doc.org/stdlib-3.1.0/libdoc/uri/rdoc/URI.html\" rel=\"nofollow noreferrer\">Ruby's URI module</a> can validate URIs using a regular expression:</p>\n<pre><code>URI.regexp.match(&quot;https://example.com/&lt;network_id&gt;/1&quot;)\n=&gt; #&lt;MatchData &quot;https://example.com/&quot; 1:&quot;https&quot; 2:nil 3:nil 4:&quot;example.com&quot; 5:nil 6:nil 7:&quot;/&quot; 8:nil 9:nil&gt;\n</code></pre>\n<p>But if you try to hand this off to another package, say <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">Java's URI class</a></p>\n<p>It will fail:</p>\n<pre><code>Error message:\nIllegal character in path at index ...\n\n                               java.net.URI.create(URI.java:852)\norg.apache.http.client.methods.HttpPost.&lt;init&gt;(HttpPost.java:73)\n...\n</code></pre>\n<p>Is there a better URI validator, something that we can use in a Rails class?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"score":1,"creation_date":1656055463,"post_id":72740251,"comment_id":128482672,"body_markdown":"As it&#39;s working as expected with a direct call, I would suggest to change/add the tags of your question to include reactjs and to add the section of the reactjs code in your question.","body":"As it&#39;s working as expected with a direct call, I would suggest to change/add the tags of your question to include reactjs and to add the section of the reactjs code in your question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656058419,"post_id":72740251,"comment_id":128483630,"body_markdown":"You are using a JS framework to do requests and as such the browser doesn&#39;t handle the redirect the JS framework is. So you need to add code to handle the response.","body":"You are using a JS framework to do requests and as such the browser doesn&#39;t handle the redirect the JS framework is. So you need to add code to handle the response."}],"answers":[{"tags":[],"owner":{"account_id":11242615,"reputation":1,"user_id":8246330,"display_name":"EcOs9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196403,"creation_date":1672897234,"answer_id":75014274,"question_id":72740251,"body_markdown":"Just in case if someone run into something like this in the future.\r\n\r\nI end up using this code getting rid of 405 method not allowed while I am doing PUT-REDIRECT-GET pattern.\r\n\r\nNotice it is **@Controller** and not **@RestContorller**. Otherwise it won&#39;t work.\r\n\r\nIf this is to be implemented in an existing rest controller you may want to add @ResponseBody over the other methods but not on these.\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/redirect&quot;)\r\n    public class RedirectController {\r\n\r\n    @PutMapping()\r\n    public String redirect() {\r\n        return &quot;redirect:/redirect&quot;;\r\n    }\r\n\r\n    @GetMapping()\r\n    public String redirectPost() {\r\n        return &quot;redirect:https://www.google.com&quot;;\r\n    }\r\n}\r\n\r\n   \r\n\r\n","title":"Redirect to external URL from request mapping method in spring","body":"<p>Just in case if someone run into something like this in the future.</p>\n<p>I end up using this code getting rid of 405 method not allowed while I am doing PUT-REDIRECT-GET pattern.</p>\n<p>Notice it is <strong>@Controller</strong> and not <strong>@RestContorller</strong>. Otherwise it won't work.</p>\n<p>If this is to be implemented in an existing rest controller you may want to add @ResponseBody over the other methods but not on these.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/redirect&quot;)\npublic class RedirectController {\n\n@PutMapping()\npublic String redirect() {\n    return &quot;redirect:/redirect&quot;;\n}\n\n@GetMapping()\npublic String redirectPost() {\n    return &quot;redirect:https://www.google.com&quot;;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674196403,"creation_date":1656054832,"question_id":72740251,"body_markdown":"Below is the request mapping method:\r\n\r\n    @GetMapping(&quot;/redirect&quot;)\r\n        public ResponseEntity&lt;Void&gt; redirect() {\r\n    \r\n            String url = &quot;http://yahoo.com&quot;;\r\n    \r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .location(URI.create(url))\r\n                    .build();\r\n        }\r\n\r\nWhen I hit the URL http://somehost:8080/redirect in the browser I see that it takes me to yahoo.com, but when the /redirect is called from the UI(reactjs) the 302 Found httpstatus value is returned in the browser console but the page on the browser is blank. I was expecting to see the yahoo.com page. Seems it is not redirecting.\r\n\r\nI referred this link: https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc\r\n\r\nreactjs code:\r\n\r\n    yield globalAxios.get(http://somehost:8080/redirect)\r\n\r\nBelow image when the http://somehost:8080/redirect gets called from the UI\r\n[![enter image description here][1]][1]\r\n\r\nBelow image is when we the /redirect redirects to the link: yahoo.com\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lWzDO.png\r\n  [2]: https://i.stack.imgur.com/7nxp8.png\r\n\r\nIs it because of the 405 method not allowed error as seen in the above image","title":"Redirect to external URL from request mapping method in spring","body":"<p>Below is the request mapping method:</p>\n<pre><code>@GetMapping(&quot;/redirect&quot;)\n    public ResponseEntity&lt;Void&gt; redirect() {\n\n        String url = &quot;http://yahoo.com&quot;;\n\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .location(URI.create(url))\n                .build();\n    }\n</code></pre>\n<p>When I hit the URL http://somehost:8080/redirect in the browser I see that it takes me to yahoo.com, but when the /redirect is called from the UI(reactjs) the 302 Found httpstatus value is returned in the browser console but the page on the browser is blank. I was expecting to see the yahoo.com page. Seems it is not redirecting.</p>\n<p>I referred this link: <a href=\"https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc\">Redirect to an external URL from controller action in Spring MVC</a></p>\n<p>reactjs code:</p>\n<pre><code>yield globalAxios.get(http://somehost:8080/redirect)\n</code></pre>\n<p>Below image when the http://somehost:8080/redirect gets called from the UI\n<a href=\"https://i.stack.imgur.com/lWzDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWzDO.png\" alt=\"enter image description here\" /></a></p>\n<p>Below image is when we the /redirect redirects to the link: yahoo.com</p>\n<p><a href=\"https://i.stack.imgur.com/7nxp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7nxp8.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it because of the 405 method not allowed error as seen in the above image</p>\n"},{"tags":["java","xss","bufferedreader","encoder","checkmarx"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608323178,"creation_date":1608323178,"answer_id":65363496,"question_id":65362328,"body_markdown":"Try parsing the incoming data as JSON and then serializing it back to a string before sending it on.\r\n\r\nThat way you can be sure that your method only returns JSON to the client.  If for some reason, your incoming data isn&#39;t JSON, then your method would encounter an error parsing the JSON, which you can then handle appropriately.\r\n\r\n`Encode.forJava` isn&#39;t a helpful method to use here: it is used to encode a string to be inserted into a Java string literal.","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>Try parsing the incoming data as JSON and then serializing it back to a string before sending it on.</p>\n<p>That way you can be sure that your method only returns JSON to the client.  If for some reason, your incoming data isn't JSON, then your method would encounter an error parsing the JSON, which you can then handle appropriately.</p>\n<p><code>Encode.forJava</code> isn't a helpful method to use here: it is used to encode a string to be inserted into a Java string literal.</p>\n"},{"tags":[],"owner":{"account_id":27578059,"reputation":1,"user_id":21047815,"display_name":"Baybridge solutions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196187,"creation_date":1674196187,"answer_id":75180487,"question_id":65362328,"body_markdown":"output = Encode.forHtmlAttribute(br.readLine() works for me","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>output = Encode.forHtmlAttribute(br.readLine() works for me</p>\n"}],"owner":{"account_id":8827261,"reputation":913,"user_id":6595116,"accept_rate":95,"display_name":"TimeToCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674196187,"creation_date":1608316979,"question_id":65362328,"body_markdown":"I have scanned a java web project with the Checkmarx tool, and the analysis marks an XSS vulnerability in a method where a web service is executed that responds a JSON, the vulnerability is in the line `while((output = Encode.forJava(br.readLine())) != null) {`, specifically in `br.readLine()`.\r\n\r\nCheckmarx says:\r\n\r\n&gt; The attacker would be able to alter the returned web page by simply\r\n&gt; providing modified data in the user input `readLine`, which is read by\r\n&gt; the `NetClientPost` method. This input then flows through the code\r\n&gt; straight to the output web page, without sanitization.\r\n&gt; This can enable a Reflected Cross-Site Scripting (XSS) attack.\r\n\r\nI tried with OWASP for Java, implementing the method `Encode.forJava()`, but the vulnerability continues to appear in the analysis. This is the implementation of the method:\r\n\r\n    public String NetClientPost (String urlSer, String param){\r\n    \t\tString result =&quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tInetAddress ip = InetAddress.getLocalHost();\r\n    \t\t    String host = ip.getHostAddress();\r\n    \t\t    doTrustToCertificates();\r\n    \t\t\tURL url = new URL(urlSer);\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n    \t\t\tconn.setDoOutput(true);\r\n    \t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tconn.setConnectTimeout(2000);\r\n    \t\t\tString input = param;\r\n                String output = &quot;&quot;;\r\n    \r\n    \t\t\ttry(OutputStream os = conn.getOutputStream()) {\r\n    \t\t\t\tos.write(input.getBytes());\r\n    \t\t\t\tos.flush();\r\n    \t\t\t\tif (conn.getResponseCode() != 200) {\r\n    \t\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP  code : &quot; + conn.getResponseCode());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\ttry (BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())))) {\r\n    \t\t\t\t\twhile ((output = Encode.forJava(br.readLine())) != null) {//LINE OF CHECKMARX XSS\r\n    \t\t\t\t\t\tresult += output;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tconn.disconnect();\r\n    \t\t\treturn result;\r\n    \r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\treturn result;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturn result;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nAny have an idea of how to solve this?","title":"Reflected XSS on BufferedReader readLine() method","body":"<p>I have scanned a java web project with the Checkmarx tool, and the analysis marks an XSS vulnerability in a method where a web service is executed that responds a JSON, the vulnerability is in the line <code>while((output = Encode.forJava(br.readLine())) != null) {</code>, specifically in <code>br.readLine()</code>.</p>\n<p>Checkmarx says:</p>\n<blockquote>\n<p>The attacker would be able to alter the returned web page by simply\nproviding modified data in the user input <code>readLine</code>, which is read by\nthe <code>NetClientPost</code> method. This input then flows through the code\nstraight to the output web page, without sanitization.\nThis can enable a Reflected Cross-Site Scripting (XSS) attack.</p>\n</blockquote>\n<p>I tried with OWASP for Java, implementing the method <code>Encode.forJava()</code>, but the vulnerability continues to appear in the analysis. This is the implementation of the method:</p>\n<pre><code>public String NetClientPost (String urlSer, String param){\n        String result =&quot;&quot;;\n        try {\n            InetAddress ip = InetAddress.getLocalHost();\n            String host = ip.getHostAddress();\n            doTrustToCertificates();\n            URL url = new URL(urlSer);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setDoOutput(true);\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            conn.setConnectTimeout(2000);\n            String input = param;\n            String output = &quot;&quot;;\n\n            try(OutputStream os = conn.getOutputStream()) {\n                os.write(input.getBytes());\n                os.flush();\n                if (conn.getResponseCode() != 200) {\n                    throw new RuntimeException(&quot;Failed : HTTP  code : &quot; + conn.getResponseCode());\n                }\n                \n                try (BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())))) {\n                    while ((output = Encode.forJava(br.readLine())) != null) {//LINE OF CHECKMARX XSS\n                        result += output;\n                    }\n                }\n            }\n            \n            conn.disconnect();\n            return result;\n\n        } catch (MalformedURLException e) {\n            return result;\n        } catch (IOException e) {\n            return result;\n        } catch (Exception e) {\n            return result;\n        }\n    }\n</code></pre>\n<p>Any have an idea of how to solve this?</p>\n"},{"tags":["java","jmeter","serversocket","httpserver","get-request"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674196164,"creation_date":1674196164,"answer_id":75180484,"question_id":75180159,"body_markdown":"Your &quot;http server&quot; doesn&#39;t implement [HTTP protocol][1] hence you won&#39;t be able to use [HTTP Request][2] sampler for conducting the load. \r\n\r\nConsider moving either to [TCP Sampler][3] or [HTTP Raw Request][4] sampler (can be installed using [JMeter Plugins Manager][5]) \r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\r\n  [4]: https://jmeter-plugins.org/wiki/RawRequest/\r\n  [5]: https://www.blazemeter.com/blog/jmeter-plugins-manager","title":"java http server implementation and JMEter testing","body":"<p>Your &quot;http server&quot; doesn't implement <a href=\"https://www.rfc-editor.org/rfc/rfc2616\" rel=\"nofollow noreferrer\">HTTP protocol</a> hence you won't be able to use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler for conducting the load.</p>\n<p>Consider moving either to <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\" rel=\"nofollow noreferrer\">TCP Sampler</a> or <a href=\"https://jmeter-plugins.org/wiki/RawRequest/\" rel=\"nofollow noreferrer\">HTTP Raw Request</a> sampler (can be installed using <a href=\"https://www.blazemeter.com/blog/jmeter-plugins-manager\" rel=\"nofollow noreferrer\">JMeter Plugins Manager</a>)</p>\n"}],"owner":{"account_id":5738342,"reputation":1,"user_id":4531731,"display_name":"sanjana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674196164,"creation_date":1674193278,"question_id":75180159,"body_markdown":"the control is reaching the put,get,post requests but i am unable to get the reply back from server, the http://localhost:8080 is throwing  invalid ip error and jmeter test case is showing error status\r\n\r\nI have configured a server as below : public class HttpServer {\r\n\r\n \r\n\r\n    private static final int MAX_THREADS = 64;\r\n\r\n    private static final Map&lt;Integer, AtomicInteger&gt; threadCounts = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    private static final ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS);\r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n\r\n \r\n\r\n        ArrayList&lt;Integer&gt; portNodes;\r\n\r\n        ArrayList&lt;Integer&gt; timeout;\r\n\r\n \r\n\r\n        XMLFileHandler xmlFileHandler = new XMLFileHandler();\r\n\r\n        xmlFileHandler.readFromXML(&quot;config.xml&quot;);\r\n\r\n        portNodes = xmlFileHandler.getPortNodes();\r\n\r\n        timeout = xmlFileHandler.getTimeout();\r\n\r\n \r\n\r\n        for (int i = 0; i &lt; portNodes.size(); i++) {\r\n\r\n            int port = portNodes.get(i);\r\n\r\n            int timeouts = timeout.get(i);\r\n\r\n                      if (!threadCounts.containsKey(port)) {\r\n\r\n                                 threadCounts.put(port, new AtomicInteger(0));\r\n\r\n                      }         \r\n\r\n                      try {\r\n\r\n                                 ServerSocket serverSocket = new ServerSocket(port);\r\n\r\n                                 serverSocket.setSoTimeout(timeouts);\r\n\r\n                                 threadPool.submit(() -&gt; {\r\n\r\n                                            while (true) {\r\n\r\n                                                       try {\r\n\r\n                                                                  Socket socket = serverSocket.accept();\r\n\r\n                                                                  OutputStream os = socket.getOutputStream();\r\n\r\n                                                                  os.write(&quot;welcome to server&quot;.getBytes());\r\n\r\n                                                                  System.out.println(&quot;connected successfully&quot; + port);\r\n\r\n                                                                  threadCounts.get(port).incrementAndGet();\r\n\r\n                                                                  threadPool.submit(new RequestHandler(socket));\r\n\r\n                                                       }\r\n\r\n                                                       catch (SocketTimeoutException e) {\r\n\r\n                                                                  System.out.println(&quot;Timeout occurred on port: &quot; + port);\r\n\r\n                                                       }\r\n\r\n                                                       catch (IOException e) {\r\n\r\n                                                                  e.printStackTrace();\r\n\r\n                                                       }\r\n\r\n                                            }\r\n\r\n                                 });\r\n\r\n                                 }\r\n\r\n                      catch (BindException e) {\r\n\r\n                    System.out.println(&quot;Port &quot; + port + &quot; is already in use. Please choose a different port.&quot;);\r\n\r\n                }catch(IOException e) {\r\n\r\n                      System.out.println(&quot;erro&quot;+port);\r\n\r\n                }\r\n\r\n        }\r\n\r\n    }\r\n\r\n \r\n\r\nprivate static class RequestHandler implements Runnable {\r\n\r\n    private final Socket socket;\r\n\r\n \r\n\r\n    public RequestHandler(Socket socket) {\r\n\r\n        this.socket = socket;\r\n\r\n    }\r\n\r\n \r\n\r\n    public void run() {\r\n\r\n        try {\r\n\r\n           System.out.println(&quot;in request handler&quot;);\r\n\r\n            // Handle HTTP request\r\n\r\n            InputStream input = socket.getInputStream();\r\n\r\n            OutputStream output = socket.getOutputStream();\r\n\r\n \r\n\r\n            // Parse the request\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n\r\n            String[] requestLine = reader.readLine().split(&quot; &quot;);\r\n\r\n            String method = requestLine[0];\r\n\r\n            String url = requestLine[1];\r\n\r\n            String httpVersion = requestLine[2];\r\n\r\n \r\n\r\n            // Handle GET request\r\n\r\n                            if (method.equals(&quot;GET&quot;)) {\r\n\r\n                //TODO: Implement handling of GET request\r\n\r\n            }\r\n\r\n            // Handle POST request\r\n\r\n            else if (method.equals(&quot;POST&quot;)) {\r\n\r\n                //TODO: Implement handling of POST request\r\n\r\n            }\r\n\r\n            // Handle PUT request\r\n\r\n            else if (method.equals(&quot;PUT&quot;)) {\r\n\r\n                //TODO: Implement handling of PUT request\r\n\r\n            }\r\n\r\n            else {\r\n\r\n                // Send error message for unsupported method\r\n\r\n                output.write(&quot;HTTP/1.1 400 Bad Request\\r\\n\\r\\n&quot;.getBytes());\r\n\r\n            }\r\n\r\n \r\n\r\n            // Close socket and release resources\r\n\r\n            input.close();\r\n\r\n            output.close();\r\n\r\n            socket.close();\r\n\r\n            threadCounts.get(socket.getPort()).decrementAndGet();\r\n\r\n        } catch (IOException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n}\r\n\r\n \r\n\r\n\r\n ","title":"java http server implementation and JMEter testing","body":"<p>the control is reaching the put,get,post requests but i am unable to get the reply back from server, the http://localhost:8080 is throwing  invalid ip error and jmeter test case is showing error status</p>\n<p>I have configured a server as below : public class HttpServer {</p>\n<pre><code>private static final int MAX_THREADS = 64;\n\nprivate static final Map&lt;Integer, AtomicInteger&gt; threadCounts = new ConcurrentHashMap&lt;&gt;();\n\nprivate static final ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS);\n\n\n\npublic static void main(String[] args) {\n\n\n\n    ArrayList&lt;Integer&gt; portNodes;\n\n    ArrayList&lt;Integer&gt; timeout;\n\n\n\n    XMLFileHandler xmlFileHandler = new XMLFileHandler();\n\n    xmlFileHandler.readFromXML(&quot;config.xml&quot;);\n\n    portNodes = xmlFileHandler.getPortNodes();\n\n    timeout = xmlFileHandler.getTimeout();\n\n\n\n    for (int i = 0; i &lt; portNodes.size(); i++) {\n\n        int port = portNodes.get(i);\n\n        int timeouts = timeout.get(i);\n\n                  if (!threadCounts.containsKey(port)) {\n\n                             threadCounts.put(port, new AtomicInteger(0));\n\n                  }         \n\n                  try {\n\n                             ServerSocket serverSocket = new ServerSocket(port);\n\n                             serverSocket.setSoTimeout(timeouts);\n\n                             threadPool.submit(() -&gt; {\n\n                                        while (true) {\n\n                                                   try {\n\n                                                              Socket socket = serverSocket.accept();\n\n                                                              OutputStream os = socket.getOutputStream();\n\n                                                              os.write(&quot;welcome to server&quot;.getBytes());\n\n                                                              System.out.println(&quot;connected successfully&quot; + port);\n\n                                                              threadCounts.get(port).incrementAndGet();\n\n                                                              threadPool.submit(new RequestHandler(socket));\n\n                                                   }\n\n                                                   catch (SocketTimeoutException e) {\n\n                                                              System.out.println(&quot;Timeout occurred on port: &quot; + port);\n\n                                                   }\n\n                                                   catch (IOException e) {\n\n                                                              e.printStackTrace();\n\n                                                   }\n\n                                        }\n\n                             });\n\n                             }\n\n                  catch (BindException e) {\n\n                System.out.println(&quot;Port &quot; + port + &quot; is already in use. Please choose a different port.&quot;);\n\n            }catch(IOException e) {\n\n                  System.out.println(&quot;erro&quot;+port);\n\n            }\n\n    }\n\n}\n</code></pre>\n<p>private static class RequestHandler implements Runnable {</p>\n<pre><code>private final Socket socket;\n\n\n\npublic RequestHandler(Socket socket) {\n\n    this.socket = socket;\n\n}\n\n\n\npublic void run() {\n\n    try {\n\n       System.out.println(&quot;in request handler&quot;);\n\n        // Handle HTTP request\n\n        InputStream input = socket.getInputStream();\n\n        OutputStream output = socket.getOutputStream();\n\n\n\n        // Parse the request\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n\n        String[] requestLine = reader.readLine().split(&quot; &quot;);\n\n        String method = requestLine[0];\n\n        String url = requestLine[1];\n\n        String httpVersion = requestLine[2];\n\n\n\n        // Handle GET request\n\n                        if (method.equals(&quot;GET&quot;)) {\n\n            //TODO: Implement handling of GET request\n\n        }\n\n        // Handle POST request\n\n        else if (method.equals(&quot;POST&quot;)) {\n\n            //TODO: Implement handling of POST request\n\n        }\n\n        // Handle PUT request\n\n        else if (method.equals(&quot;PUT&quot;)) {\n\n            //TODO: Implement handling of PUT request\n\n        }\n\n        else {\n\n            // Send error message for unsupported method\n\n            output.write(&quot;HTTP/1.1 400 Bad Request\\r\\n\\r\\n&quot;.getBytes());\n\n        }\n\n\n\n        // Close socket and release resources\n\n        input.close();\n\n        output.close();\n\n        socket.close();\n\n        threadCounts.get(socket.getPort()).decrementAndGet();\n\n    } catch (IOException e) {\n\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>}</p>\n"},{"tags":["java","android","camera","surfaceview","video-recording"],"comments":[{"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"score":1,"creation_date":1641549355,"post_id":70379036,"comment_id":124837886,"body_markdown":"How do you make the video preview and camera preview on one surface? I didn&#39;t work on OpenGLES for a long time. Based on my experience, you need to use multiple OES textures to combine the preview, and use shared context to enable background recording. Take a look a this [sample project](https://github.com/google/grafika) and see if you can find any clue for your scenario.","body":"How do you make the video preview and camera preview on one surface? I didn&#39;t work on OpenGLES for a long time. Based on my experience, you need to use multiple OES textures to combine the preview, and use shared context to enable background recording. Take a look a this <a href=\"https://github.com/google/grafika\" rel=\"nofollow noreferrer\">sample project</a> and see if you can find any clue for your scenario."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1641556782,"post_id":70379036,"comment_id":124840349,"body_markdown":"@alijandro Thank you so much for your reply, but I&#39;m beginner in OpenGLES, will you explain in deeply?","body":"@alijandro Thank you so much for your reply, but I&#39;m beginner in OpenGLES, will you explain in deeply?"},{"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"score":0,"creation_date":1641997477,"post_id":70379036,"comment_id":124955098,"body_markdown":"Have you tried using MediaProjection? That allows you to record the screen with ImageReader so I think you can record the contents with media projection.","body":"Have you tried using MediaProjection? That allows you to record the screen with ImageReader so I think you can record the contents with media projection."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1642052067,"post_id":70379036,"comment_id":124970713,"body_markdown":"@FurkanYurdakul No, I think that is record whole screen of device, but I want only surface activity, is it possible with Media Projection?","body":"@FurkanYurdakul No, I think that is record whole screen of device, but I want only surface activity, is it possible with Media Projection?"}],"answers":[{"tags":[],"owner":{"account_id":15506875,"reputation":144,"user_id":11186796,"display_name":"Akshay Avaiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653762488,"creation_date":1642069464,"answer_id":70694993,"question_id":70379036,"body_markdown":"(1) I&#39;m highly recommend to refer **grafika** project from Google&#39;s repository in [Github](https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/RecordFBOActivity.java) and try with `RecordFBOActivity`.\r\n \r\n(2) see `EZFilter` repositoey in [Github](https://github.com/uestccokey/EZFilter).\r\n \r\nand \r\n\r\n(3) `RecordableSurfaceview` in [Github](https://github.com/spaceLenny/recordablesurfaceview)\r\n\r\n\r\n\r\nMay this will much helpful to you.","title":"Record a video from surface view(bind video and camera preview)","body":"<p>(1) I'm highly recommend to refer <strong>grafika</strong> project from Google's repository in <a href=\"https://github.com/google/grafika/blob/master/app/src/main/java/com/android/grafika/RecordFBOActivity.java\" rel=\"nofollow noreferrer\">Github</a> and try with <code>RecordFBOActivity</code>.</p>\n<p>(2) see <code>EZFilter</code> repositoey in <a href=\"https://github.com/uestccokey/EZFilter\" rel=\"nofollow noreferrer\">Github</a>.</p>\n<p>and</p>\n<p>(3) <code>RecordableSurfaceview</code> in <a href=\"https://github.com/spaceLenny/recordablesurfaceview\" rel=\"nofollow noreferrer\">Github</a></p>\n<p>May this will much helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":27353478,"reputation":11,"user_id":20862270,"display_name":"Priyanka Vadodariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674195486,"creation_date":1674195486,"answer_id":75180398,"question_id":70379036,"body_markdown":"try this solution with your clip result which is getting in the segmentation result from ML kit.\r\n\r\n \r\n\r\n    @ColorInt\r\n        private Bitmap maskColorsFromByteBuffer(ByteBuffer byteBuffer, int maskWidth, int maskHeight) {\r\n            @ColorInt int[] colors = new int[maskWidth * maskHeight];\r\n            for (int i = 0; i &lt; maskWidth * maskHeight; i++) {\r\n                float backgroundLikelihood = 1 - byteBuffer.getFloat();\r\n                if (backgroundLikelihood &gt; 0.9) {\r\n                    colors[i] = Color.GREEN;\r\n                } else if (backgroundLikelihood &gt; 0.2) {\r\n                    // Linear interpolation to make sure when backgroundLikelihood is 0.2, the alpha is 0 and\r\n                    // when backgroundLikelihood is 0.9, the alpha is 128.\r\n                    // +0.5 to round the float value to the nearest int.\r\n                    int alpha = (int) (182.9 * backgroundLikelihood - 36.6 + 0.5);\r\n                    colors[i] = Color.argb(alpha, 0, 255, 0);\r\n                }\r\n            }\r\n    \r\n    \r\n            Bitmap bitmap = Bitmap.createBitmap(maskWidth, maskHeight, this.bitmap.getConfig());\r\n            Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n            Canvas canvas = new Canvas(bitmap);\r\n            canvas.drawBitmap(this.bitmap, 0, 0, p);\r\n            p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_OUT));\r\n            canvas.drawBitmap(Bitmap.createBitmap(colors, maskWidth, maskHeight, this.bitmap.getConfig()), 0, 0, p);\r\n    \r\n    \r\n    //        canvas.drawPaint(p);\r\n    \r\n            return bitmap;\r\n        }","title":"Record a video from surface view(bind video and camera preview)","body":"<p>try this solution with your clip result which is getting in the segmentation result from ML kit.</p>\n<pre><code>@ColorInt\n    private Bitmap maskColorsFromByteBuffer(ByteBuffer byteBuffer, int maskWidth, int maskHeight) {\n        @ColorInt int[] colors = new int[maskWidth * maskHeight];\n        for (int i = 0; i &lt; maskWidth * maskHeight; i++) {\n            float backgroundLikelihood = 1 - byteBuffer.getFloat();\n            if (backgroundLikelihood &gt; 0.9) {\n                colors[i] = Color.GREEN;\n            } else if (backgroundLikelihood &gt; 0.2) {\n                // Linear interpolation to make sure when backgroundLikelihood is 0.2, the alpha is 0 and\n                // when backgroundLikelihood is 0.9, the alpha is 128.\n                // +0.5 to round the float value to the nearest int.\n                int alpha = (int) (182.9 * backgroundLikelihood - 36.6 + 0.5);\n                colors[i] = Color.argb(alpha, 0, 255, 0);\n            }\n        }\n\n\n        Bitmap bitmap = Bitmap.createBitmap(maskWidth, maskHeight, this.bitmap.getConfig());\n        Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);\n        Canvas canvas = new Canvas(bitmap);\n        canvas.drawBitmap(this.bitmap, 0, 0, p);\n        p.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.DST_OUT));\n        canvas.drawBitmap(Bitmap.createBitmap(colors, maskWidth, maskHeight, this.bitmap.getConfig()), 0, 0, p);\n\n\n//        canvas.drawPaint(p);\n\n        return bitmap;\n    }\n</code></pre>\n"}],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70694993,"answer_count":2,"score":2,"last_activity_date":1674195486,"creation_date":1639657690,"question_id":70379036,"body_markdown":"**I want to record video of whatever happens on surface.**\r\n\r\n\r\nI&#39;m playing video on surface and showing camera preview over it. I want to record both in one video and export as .mp4. what should I do for it. your help would be much appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/56NH5.jpg\r\n\r\n**Video and preview both are placed in one surface view.**","title":"Record a video from surface view(bind video and camera preview)","body":"<p><strong>I want to record video of whatever happens on surface.</strong></p>\n<p>I'm playing video on surface and showing camera preview over it. I want to record both in one video and export as .mp4. what should I do for it. your help would be much appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/56NH5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/56NH5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Video and preview both are placed in one surface view.</strong></p>\n"},{"tags":["java","scala","clojure","functional-programming","java-8"],"comments":[{"owner":{"account_id":6444111,"reputation":51041,"user_id":4993128,"accept_rate":43,"display_name":"jwvh"},"score":1,"creation_date":1470812752,"post_id":38866350,"comment_id":65095717,"body_markdown":"Scala: `val result = (arrA ++ arrB).sorted`","body":"Scala: <code>val result = (arrA ++ arrB).sorted</code>"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1470813450,"post_id":38866350,"comment_id":65096081,"body_markdown":"This won&#39;t be as efficient as the code mentioned in the question. Sorry to miss the important part. Updated the question","body":"This won&#39;t be as efficient as the code mentioned in the question. Sorry to miss the important part. Updated the question"}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470813277,"creation_date":1470813126,"answer_id":38866523,"question_id":38866350,"body_markdown":"You could _wrap_ the arrays you want to merge into a two-dimensional array and then do:\r\n\r\n    IntStream result = Arrays.stream(new int[][]{{3, 2, 1}, {5, 2, 4}})\r\n                             .flatMapToInt(Arrays::stream)\r\n                             .sorted();\r\n\r\nNote that it doesn&#39;t really matter if the arrays are pre-sorted or not.","title":"Merge two arrays using functional style","body":"<p>You could <em>wrap</em> the arrays you want to merge into a two-dimensional array and then do:</p>\n\n<pre><code>IntStream result = Arrays.stream(new int[][]{{3, 2, 1}, {5, 2, 4}})\n                         .flatMapToInt(Arrays::stream)\n                         .sorted();\n</code></pre>\n\n<p>Note that it doesn't really matter if the arrays are pre-sorted or not.</p>\n"},{"tags":[],"owner":{"account_id":949302,"reputation":4329,"user_id":975816,"accept_rate":78,"display_name":"Fatih Donmez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1470813312,"creation_date":1470813312,"answer_id":38866574,"question_id":38866350,"body_markdown":"You can also use folding to accomplish it in scala, \r\n\r\n    val l1 = List(1,2,3,4)\r\n    val l2 = List(1, 2, 3, 4, -1, 2, 3, 5, 6, 7, 8)\r\n\r\n    val merged = l2.foldLeft(l1)((acc,i) =&gt; acc :+ i).sorted\r\n","title":"Merge two arrays using functional style","body":"<p>You can also use folding to accomplish it in scala, </p>\n\n<pre><code>val l1 = List(1,2,3,4)\nval l2 = List(1, 2, 3, 4, -1, 2, 3, 5, 6, 7, 8)\n\nval merged = l2.foldLeft(l1)((acc,i) =&gt; acc :+ i).sorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051736,"reputation":17554,"user_id":5400548,"display_name":"leetwinski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1470816035,"creation_date":1470815250,"answer_id":38867216,"question_id":38866350,"body_markdown":"in fact there is the same approach everywhere: you recur over two collections, adding least of collections&#39; heads to the result, and recurring with the rest, until one of collections (or both) is empty. In clojure:\r\n\r\n    (defn merge-sorted [pred coll1 coll2]\r\n      (loop [coll1 coll1 coll2 coll2 res []]\r\n        (cond (or (empty? coll1) (empty? coll2)) (concat res coll1 coll2)\r\n              (pred (first coll1) (first coll2)) (recur (rest coll1)\r\n                                                        coll2\r\n                                                        (conj res (first coll1)))\r\n              :else (recur coll1 (rest coll2) (conj res (first coll2))))))\r\n\r\n    user&gt; (merge-sorted &lt; [1 3 5 6 7 8 9 40 50] [1 2 5 10 100])\r\n    (1 1 2 3 5 5 6 7 8 9 10 40 50 100)\r\n","title":"Merge two arrays using functional style","body":"<p>in fact there is the same approach everywhere: you recur over two collections, adding least of collections' heads to the result, and recurring with the rest, until one of collections (or both) is empty. In clojure:</p>\n\n<pre><code>(defn merge-sorted [pred coll1 coll2]\n  (loop [coll1 coll1 coll2 coll2 res []]\n    (cond (or (empty? coll1) (empty? coll2)) (concat res coll1 coll2)\n          (pred (first coll1) (first coll2)) (recur (rest coll1)\n                                                    coll2\n                                                    (conj res (first coll1)))\n          :else (recur coll1 (rest coll2) (conj res (first coll2))))))\n\nuser&gt; (merge-sorted &lt; [1 3 5 6 7 8 9 40 50] [1 2 5 10 100])\n(1 1 2 3 5 5 6 7 8 9 10 40 50 100)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1173302,"reputation":14792,"user_id":1149944,"accept_rate":94,"display_name":"gzm0"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470816365,"creation_date":1470816365,"answer_id":38867580,"question_id":38866350,"body_markdown":"I think this is really easiest expressed simply with tail-recursion:\r\n\r\n    def merge(x: List[Int], y: List[Int]): List[Int] = {\r\n      def loop(xss: List[Int], yss: List[Int], acc: List[Int]) = (xss, yss) match {\r\n        case (x :: xs, y :: ys) if x &lt; y =&gt; loop(xs, yss, x :: acc)\r\n        case (_, y :: ys) =&gt; loop(xss, ys, y :: acc)\r\n        case (x :: xs, Nil) =&gt; loop(xs, Nil, x :: acc)\r\n        case (Nil, Nil) =&gt; acc.reverse\r\n      }\r\n\r\n      loop(x, y, Nil)\r\n    }","title":"Merge two arrays using functional style","body":"<p>I think this is really easiest expressed simply with tail-recursion:</p>\n\n<pre><code>def merge(x: List[Int], y: List[Int]): List[Int] = {\n  def loop(xss: List[Int], yss: List[Int], acc: List[Int]) = (xss, yss) match {\n    case (x :: xs, y :: ys) if x &lt; y =&gt; loop(xs, yss, x :: acc)\n    case (_, y :: ys) =&gt; loop(xss, ys, y :: acc)\n    case (x :: xs, Nil) =&gt; loop(xs, Nil, x :: acc)\n    case (Nil, Nil) =&gt; acc.reverse\n  }\n\n  loop(x, y, Nil)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470817235,"creation_date":1470817235,"answer_id":38867870,"question_id":38866350,"body_markdown":"Something like this, perhaps? Can probably be done prettier, but the general idea should work.\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Stream&lt;T&gt; foldSorted(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\r\n        Iterator&lt;T&gt; leftIterator = left.iterator();\r\n        Iterator&lt;T&gt; rightIterator = right.iterator();\r\n\r\n        Iterator&lt;T&gt; iterator = new Iterator&lt;T&gt;() {\r\n            private T nextLeft = getNextLeft();\r\n            private T nextRight = getNextRight();\r\n\r\n            private T getNextLeft() {\r\n                return leftIterator.hasNext() ? leftIterator.next():null;\r\n            }\r\n\r\n            private T getNextRight() {\r\n                return rightIterator.hasNext() ? rightIterator.next():null;\r\n            }\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return nextLeft != null || nextRight != null;\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                T result = null;\r\n\r\n                if(nextLeft != null) {\r\n                    if(nextRight != null) {\r\n                        if(nextLeft.compareTo(nextRight) &lt; 0) {\r\n                            result = nextLeft;\r\n                            nextLeft = getNextLeft();\r\n                        } else {\r\n                            result = nextRight;\r\n                            nextRight = getNextRight();\r\n                        }\r\n                    } else {\r\n                        result = nextLeft;\r\n                        nextLeft = getNextLeft();\r\n                    }\r\n                } else {\r\n                    result = nextRight;\r\n                    nextRight = getNextRight();\r\n                }\r\n\r\n                return result;\r\n            }\r\n        };\r\n\r\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\r\n    }\r\n\r\nNow, you can do:\r\n\r\n    @Test\r\n    public void verifyFoldSorted() {\r\n        List&lt;Integer&gt; result = StreamUtils.foldSorted(Stream.of(1, 5, 7, 9), Stream.of(2, 5)).collect(Collectors.toList());\r\n        assertEquals(Arrays.asList(1, 2, 5, 5, 7, 9), result);\r\n\r\n        result = StreamUtils.foldSorted(Stream.of(8, 10), Stream.of(1, 2, 7, 9)).collect(Collectors.toList());\r\n        assertEquals(Arrays.asList(1, 2, 7, 8, 9, 10), result);\r\n    }","title":"Merge two arrays using functional style","body":"<p>Something like this, perhaps? Can probably be done prettier, but the general idea should work.</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; Stream&lt;T&gt; foldSorted(Stream&lt;T&gt; left, Stream&lt;T&gt; right) {\n    Iterator&lt;T&gt; leftIterator = left.iterator();\n    Iterator&lt;T&gt; rightIterator = right.iterator();\n\n    Iterator&lt;T&gt; iterator = new Iterator&lt;T&gt;() {\n        private T nextLeft = getNextLeft();\n        private T nextRight = getNextRight();\n\n        private T getNextLeft() {\n            return leftIterator.hasNext() ? leftIterator.next():null;\n        }\n\n        private T getNextRight() {\n            return rightIterator.hasNext() ? rightIterator.next():null;\n        }\n\n        @Override\n        public boolean hasNext() {\n            return nextLeft != null || nextRight != null;\n        }\n\n        @Override\n        public T next() {\n            T result = null;\n\n            if(nextLeft != null) {\n                if(nextRight != null) {\n                    if(nextLeft.compareTo(nextRight) &lt; 0) {\n                        result = nextLeft;\n                        nextLeft = getNextLeft();\n                    } else {\n                        result = nextRight;\n                        nextRight = getNextRight();\n                    }\n                } else {\n                    result = nextLeft;\n                    nextLeft = getNextLeft();\n                }\n            } else {\n                result = nextRight;\n                nextRight = getNextRight();\n            }\n\n            return result;\n        }\n    };\n\n    return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\n}\n</code></pre>\n\n<p>Now, you can do:</p>\n\n<pre><code>@Test\npublic void verifyFoldSorted() {\n    List&lt;Integer&gt; result = StreamUtils.foldSorted(Stream.of(1, 5, 7, 9), Stream.of(2, 5)).collect(Collectors.toList());\n    assertEquals(Arrays.asList(1, 2, 5, 5, 7, 9), result);\n\n    result = StreamUtils.foldSorted(Stream.of(8, 10), Stream.of(1, 2, 7, 9)).collect(Collectors.toList());\n    assertEquals(Arrays.asList(1, 2, 7, 8, 9, 10), result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6444111,"reputation":51041,"user_id":4993128,"accept_rate":43,"display_name":"jwvh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470821080,"creation_date":1470818484,"answer_id":38868283,"question_id":38866350,"body_markdown":"**Scala**\r\n\r\nIf you want a lazy evaluation, i.e. each element sorted and retrieved only as needed, then one approach is turn your `Array`s into `Iterator`s.\r\n\r\n    class ArrayMerger[A:Ordering](arrA:Array[A], arrB:Array[A]) extends Iterator[A] {\r\n      import math.Ordering.Implicits._\r\n      private val a: BufferedIterator[A] = arrA.toIterator.buffered\r\n      private val b: BufferedIterator[A] = arrB.toIterator.buffered\r\n    \r\n      override def hasNext: Boolean = a.hasNext || b.hasNext\r\n      override def next(): A =\r\n        if      (!a.hasNext) b.next()\r\n        else if (!b.hasNext) a.next()\r\n        else if (a.head &lt; b.head) a.next() else b.next()\r\n    }\r\n    \r\n    val am = new ArrayMerger(Array(&#39;a&#39;,&#39;c&#39;,&#39;t&#39;,&#39;y&#39;),Array(&#39;b&#39;,&#39;w&#39;,&#39;z&#39;))//Iterator[Char]\r\n    am.toArray  // Array(a, b, c, t, w, y, z)  &lt;-- iterator consumed\r\n\r\nA `Stream` also has lazy evaluation but it can be indexed as well.\r\n\r\n    val am = new ArrayMerger(Array(43, 78), Array(2, 36, 77, 87, 99)).toStream\r\n    am(1) // 36\r\n    am(4) // 78\r\n    am(6) // 99  &lt;-- only now have all elements been evaluated\r\n\r\n","title":"Merge two arrays using functional style","body":"<p><strong>Scala</strong></p>\n\n<p>If you want a lazy evaluation, i.e. each element sorted and retrieved only as needed, then one approach is turn your <code>Array</code>s into <code>Iterator</code>s.</p>\n\n<pre><code>class ArrayMerger[A:Ordering](arrA:Array[A], arrB:Array[A]) extends Iterator[A] {\n  import math.Ordering.Implicits._\n  private val a: BufferedIterator[A] = arrA.toIterator.buffered\n  private val b: BufferedIterator[A] = arrB.toIterator.buffered\n\n  override def hasNext: Boolean = a.hasNext || b.hasNext\n  override def next(): A =\n    if      (!a.hasNext) b.next()\n    else if (!b.hasNext) a.next()\n    else if (a.head &lt; b.head) a.next() else b.next()\n}\n\nval am = new ArrayMerger(Array('a','c','t','y'),Array('b','w','z'))//Iterator[Char]\nam.toArray  // Array(a, b, c, t, w, y, z)  &lt;-- iterator consumed\n</code></pre>\n\n<p>A <code>Stream</code> also has lazy evaluation but it can be indexed as well.</p>\n\n<pre><code>val am = new ArrayMerger(Array(43, 78), Array(2, 36, 77, 87, 99)).toStream\nam(1) // 36\nam(4) // 78\nam(6) // 99  &lt;-- only now have all elements been evaluated\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6517130,"reputation":13016,"user_id":5044950,"accept_rate":83,"display_name":"Sam Estep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470831129,"creation_date":1470831129,"answer_id":38873123,"question_id":38866350,"body_markdown":"&lt;!-- language-all: lang-clj --&gt;\r\n\r\nThe tail-recursive solution by @leetwinski works well, but it isn&#39;t lazy. Here&#39;s a lazy solution in Clojure:\r\n\r\n    (defn merge-sorted [pred coll1 coll2]\r\n      (lazy-seq\r\n       (if (some empty? [coll1 coll2])\r\n         (concat coll1 coll2)\r\n         (let [[head1 &amp; tail1] coll1\r\n               [head2 &amp; tail2] coll2]\r\n           (if (pred head1 head2)\r\n             (cons head1 (merge-sorted pred tail1 coll2))\r\n             (cons head2 (merge-sorted pred coll1 tail2)))))))\r\n\r\nExample:\r\n\r\n    (letfn [(multiples [x]\r\n              (iterate (partial +&#39; x) x))]\r\n      (take 10 (merge-sorted &lt; (multiples 2) (multiples 3))))\r\n    ;;=&gt; (2 3 4 6 6 8 9 10 12 12)","title":"Merge two arrays using functional style","body":"\n\n<p>The tail-recursive solution by @leetwinski works well, but it isn't lazy. Here's a lazy solution in Clojure:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(defn merge-sorted [pred coll1 coll2]\n  (lazy-seq\n   (if (some empty? [coll1 coll2])\n     (concat coll1 coll2)\n     (let [[head1 &amp; tail1] coll1\n           [head2 &amp; tail2] coll2]\n       (if (pred head1 head2)\n         (cons head1 (merge-sorted pred tail1 coll2))\n         (cons head2 (merge-sorted pred coll1 tail2)))))))\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(letfn [(multiples [x]\n          (iterate (partial +' x) x))]\n  (take 10 (merge-sorted &lt; (multiples 2) (multiples 3))))\n;;=&gt; (2 3 4 6 6 8 9 10 12 12)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194806,"creation_date":1484073080,"answer_id":41575887,"question_id":38866350,"body_markdown":"It can be done with third-party library [abacus-common][1]:\r\n\r\n    int[] a = { 1, 3, 5, 7 };\r\n    int[] b = { 2, 4, 6 };\r\n    int[] c = IntStream.merge(a, b, (v1, v2) -&gt; v1 &lt; v2 ? Nth.FIRST : Nth.SECOND).toArray();\r\n    N.println(c); // output: [1, 2, 3, 4, 5, 6, 7]\r\n\r\n\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Merge two arrays using functional style","body":"<p>It can be done with third-party library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>int[] a = { 1, 3, 5, 7 };\nint[] b = { 2, 4, 6 };\nint[] c = IntStream.merge(a, b, (v1, v2) -&gt; v1 &lt; v2 ? Nth.FIRST : Nth.SECOND).toArray();\nN.println(c); // output: [1, 2, 3, 4, 5, 6, 7]\n</code></pre>\n"}],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38867216,"answer_count":8,"score":7,"last_activity_date":1674194806,"creation_date":1470812476,"question_id":38866350,"body_markdown":"I was looking at one of the questions [How to merge two sorted arrays][1], and trying hard to convert the solution using Java 8 streams. But still no success. Actually, nothing useful that I can share here.\r\n\r\nThere has to be a way to handle such loops using indexes in functional programming. How would this been done in other languages, like Scala, Clojure, without changing the time complexity? May be then I can just try to copy it in Java.\r\n\r\n\r\nEdit: The code mentioned the question is the most efficient, and I don&#39;t want to compromise on it.\r\n\r\n  [1]: https://stackoverflow.com/questions/5958169/how-to-merge-two-sorted-arrays-into-a-sorted-array ","title":"Merge two arrays using functional style","body":"<p>I was looking at one of the questions <a href=\"https://stackoverflow.com/questions/5958169/how-to-merge-two-sorted-arrays-into-a-sorted-array\">How to merge two sorted arrays</a>, and trying hard to convert the solution using Java 8 streams. But still no success. Actually, nothing useful that I can share here.</p>\n\n<p>There has to be a way to handle such loops using indexes in functional programming. How would this been done in other languages, like Scala, Clojure, without changing the time complexity? May be then I can just try to copy it in Java.</p>\n\n<p>Edit: The code mentioned the question is the most efficient, and I don't want to compromise on it.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1424288931,"post_id":28592529,"comment_id":45491653,"body_markdown":"How would you solve it with enhanced-for-loop(s)?","body":"How would you solve it with enhanced-for-loop(s)?"},{"owner":{"account_id":5314084,"reputation":737,"user_id":4239498,"display_name":"Denis Borovikov"},"score":0,"creation_date":1424294630,"post_id":28592529,"comment_id":45494952,"body_markdown":"Take a look to [question](http://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip)","body":"Take a look to <a href=\"http://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\">question</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1424288856,"creation_date":1424288856,"answer_id":28592555,"question_id":28592529,"body_markdown":"That one isn&#39;t really doable the way you&#39;re hoping.  The closest you could get would probably be\r\n\r\n    IntStream.range(0, voterA.size())\r\n        .mapToObj(i -&gt; voterA.get(i) + voterB.get(i))\r\n        .collect(toList());\r\n\r\n...but there&#39;s no &quot;zip&quot; operation on streams, largely because two different streams can have backing spliterators that split at different points, so you can&#39;t line them up properly.","title":"Java 8 streams adding values from two or more lists","body":"<p>That one isn't really doable the way you're hoping.  The closest you could get would probably be</p>\n\n<pre><code>IntStream.range(0, voterA.size())\n    .mapToObj(i -&gt; voterA.get(i) + voterB.get(i))\n    .collect(toList());\n</code></pre>\n\n<p>...but there's no \"zip\" operation on streams, largely because two different streams can have backing spliterators that split at different points, so you can't line them up properly.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674194726,"creation_date":1481155224,"answer_id":41029535,"question_id":28592529,"body_markdown":"JDK doesn&#39;t provide the &#39;zip&#39; API. But it can be done with third library [abacus-common][1]:\r\n\r\n    List&lt;Integer&gt; voterA = Arrays.asList(1, 2, 3, 4, 5);\r\n    List&lt;Integer&gt; voterB = Arrays.asList(1, 2, 3, 4, 5);\r\n\r\n    List&lt;Integer&gt; sumVotes = Stream.zip(voterA, voterB, (a, b) -&gt; a + b).toList();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java 8 streams adding values from two or more lists","body":"<p>JDK doesn't provide the 'zip' API. But it can be done with third library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>List&lt;Integer&gt; voterA = Arrays.asList(1, 2, 3, 4, 5);\nList&lt;Integer&gt; voterB = Arrays.asList(1, 2, 3, 4, 5);\n\nList&lt;Integer&gt; sumVotes = Stream.zip(voterA, voterB, (a, b) -&gt; a + b).toList();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":5809538,"reputation":61,"user_id":4581100,"display_name":"Steve Carrigan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1674194726,"creation_date":1424288769,"question_id":28592529,"body_markdown":"I am trying to get into Java 8 and get my head around streams and lambdas to solve various problems and got stuck on this specific one which I normally use a forEach and store the values in a Map to solve.\r\n\r\nHow would you write the code to get the expected list using the new features in Java 8  ?\r\n\r\n    List&lt;Integer&gt; voterA = Arrays.asList(1,2,3,4,5);\r\n    List&lt;Integer&gt; voterB = Arrays.asList(1,2,3,4,5);\r\n    List&lt;List&lt;Integer&gt;&gt; votes = Arrays.asList(voterA, voterB);\r\n    \r\n    // expected list = (2,4,6,8,10)\r\n    List&lt;Integer&gt; sumVotes = ...","title":"Java 8 streams adding values from two or more lists","body":"<p>I am trying to get into Java 8 and get my head around streams and lambdas to solve various problems and got stuck on this specific one which I normally use a forEach and store the values in a Map to solve.</p>\n\n<p>How would you write the code to get the expected list using the new features in Java 8  ?</p>\n\n<pre><code>List&lt;Integer&gt; voterA = Arrays.asList(1,2,3,4,5);\nList&lt;Integer&gt; voterB = Arrays.asList(1,2,3,4,5);\nList&lt;List&lt;Integer&gt;&gt; votes = Arrays.asList(voterA, voterB);\n\n// expected list = (2,4,6,8,10)\nList&lt;Integer&gt; sumVotes = ...\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1396363821,"post_id":22789413,"comment_id":34748140,"body_markdown":"http://stackoverflow.com/a/18563928/829571","body":"<a href=\"http://stackoverflow.com/a/18563928/829571\">stackoverflow.com/a/18563928/829571</a>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1396371098,"post_id":22789413,"comment_id":34753066,"body_markdown":"@assylias Thanks for the plug. That prompted me to go clean up that answer. :-)","body":"@assylias Thanks for the plug. That prompted me to go clean up that answer. :-)"}],"answers":[{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1396364858,"creation_date":1396364858,"answer_id":22789835,"question_id":22789413,"body_markdown":"`Stream`s and `Iterator`s do not have to be finite. Both [`Stream::generate`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-)\r\n and [`Stream::iterate`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-) return infinite `Stream`s. How would you handle indexing with an infinite stream? Let the index overflow to negative numbers? Use a `BigInteger` (and potentially run out of memory)?\r\n\r\nThere isn&#39;t a good solution to handling indexing for infinite streams, so the designers (correctly, in my opinion) left it out of the API.\r\n","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p><code>Stream</code>s and <code>Iterator</code>s do not have to be finite. Both <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-\"><code>Stream::generate</code></a>\n and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-\"><code>Stream::iterate</code></a> return infinite <code>Stream</code>s. How would you handle indexing with an infinite stream? Let the index overflow to negative numbers? Use a <code>BigInteger</code> (and potentially run out of memory)?</p>\n\n<p>There isn't a good solution to handling indexing for infinite streams, so the designers (correctly, in my opinion) left it out of the API.</p>\n"},{"tags":[],"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1396366604,"creation_date":1396366604,"answer_id":22790483,"question_id":22789413,"body_markdown":"indexing every element requires a sequential assignment of the indexes. this would defeat the point of parallel operations, since each operation would have to synchronize to get its index.","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>indexing every element requires a sequential assignment of the indexes. this would defeat the point of parallel operations, since each operation would have to synchronize to get its index.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396438298,"creation_date":1396438298,"answer_id":22810051,"question_id":22789413,"body_markdown":"Adding a single method providing an index would require *all implementation* methods to be doubled to have one maintaining an index and one without. There’s more to it than visible in the API. If you are curious you may look at the type tree of the internal interface `java.util.stream.Sink&lt;T&gt;` to get an idea. All of them would be affected. The alternative would be to always maintain an index even if it is not required.\r\n\r\nAnd it adds an ambiguity. Does the index reflect the *source* index, i.e. does not change on filtering, or is it a *position* in the final stream? On the other hand you can always insert a mapping from an item type to a type holding the item and an index at any places in the chain. This would clear the ambiguity. And the limitations to that solution are the same that a JRE provided solution would have.\r\n\r\nIn case of an `Iterator` the answer is even simpler. Since `forEachRemaining` must be provided as a `default` interface method it cannot add the maintenance of an index. So at the time it is invoked, it doesn’t know how many items have been consumed so far. And starting the count with zero at that time, ignoring all previous items would be a feature that a lot of developers would question even more.\r\n","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>Adding a single method providing an index would require <em>all implementation</em> methods to be doubled to have one maintaining an index and one without. There’s more to it than visible in the API. If you are curious you may look at the type tree of the internal interface <code>java.util.stream.Sink&lt;T&gt;</code> to get an idea. All of them would be affected. The alternative would be to always maintain an index even if it is not required.</p>\n\n<p>And it adds an ambiguity. Does the index reflect the <em>source</em> index, i.e. does not change on filtering, or is it a <em>position</em> in the final stream? On the other hand you can always insert a mapping from an item type to a type holding the item and an index at any places in the chain. This would clear the ambiguity. And the limitations to that solution are the same that a JRE provided solution would have.</p>\n\n<p>In case of an <code>Iterator</code> the answer is even simpler. Since <code>forEachRemaining</code> must be provided as a <code>default</code> interface method it cannot add the maintenance of an index. So at the time it is invoked, it doesn’t know how many items have been consumed so far. And starting the count with zero at that time, ignoring all previous items would be a feature that a lot of developers would question even more.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674194697,"creation_date":1481153060,"answer_id":41029180,"question_id":22789413,"body_markdown":"I have read all above answers, however, personally i disagree with them. I think some method(e.g. indexed()) should be added and it can be executed sequentially, even in parallel stream because this method will be verify fast, no need to execute in parallel. You can add &#39;index&#39; by map. for example:\r\n\r\n    List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    final AtomicLong idx = new AtomicLong(0);\r\n    list.stream().map(e -&gt; Indexed.of(idx.getAndIncrement(), e)).forEach(N::println);\r\n\r\nOr you can use third library: [abacus-common][1], the code will be:\r\n\r\n    List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    Stream.of(list).indexed().forEach(N::println);\r\n    // output:\r\n    // [0]=a\r\n    // [1]=b\r\n    // [2]=c\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>I have read all above answers, however, personally i disagree with them. I think some method(e.g. indexed()) should be added and it can be executed sequentially, even in parallel stream because this method will be verify fast, no need to execute in parallel. You can add 'index' by map. for example:</p>\n<pre><code>List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nfinal AtomicLong idx = new AtomicLong(0);\nlist.stream().map(e -&gt; Indexed.of(idx.getAndIncrement(), e)).forEach(N::println);\n</code></pre>\n<p>Or you can use third library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>, the code will be:</p>\n<pre><code>List&lt;String&gt; list = N.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nStream.of(list).indexed().forEach(N::println);\n// output:\n// [0]=a\n// [1]=b\n// [2]=c\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1674194697,"creation_date":1396363774,"question_id":22789413,"body_markdown":"I was wondering about the Java 8 streams (`Stream&lt;E&gt;`), they have the following methods:\r\n\r\n- `forEach(Consumer&lt;? super E&gt; action)`\r\n- `forEachOrdered(Consumer&lt;? super E&gt; action)`\r\n\r\nWhat were the arguments against not supplying the following signature?\r\n\r\n- `forEachOrdered(BiConsumer&lt;Integer, ? super E&gt; action)`\r\n - Which would then return the index of the item in the stream and the item itself.\r\n\r\nWith this overload it would be possible to actually use the index in case the stream was ordered.\r\n\r\nI am really curious to see what the arguments are against it.\r\n\r\n*Edit*, the same actually holds for `Iterator&lt;E&gt;` with `forEachRemaining`, and possibly more classes.  \r\nIf none of the classes provide such option, then I suspect it has been considered for Java 8 and denied.","title":"What are the reasons for not having an index in Java 8 streams?","body":"<p>I was wondering about the Java 8 streams (<code>Stream&lt;E&gt;</code>), they have the following methods:</p>\n\n<ul>\n<li><code>forEach(Consumer&lt;? super E&gt; action)</code></li>\n<li><code>forEachOrdered(Consumer&lt;? super E&gt; action)</code></li>\n</ul>\n\n<p>What were the arguments against not supplying the following signature?</p>\n\n<ul>\n<li><code>forEachOrdered(BiConsumer&lt;Integer, ? super E&gt; action)</code>\n<ul>\n<li>Which would then return the index of the item in the stream and the item itself.</li>\n</ul></li>\n</ul>\n\n<p>With this overload it would be possible to actually use the index in case the stream was ordered.</p>\n\n<p>I am really curious to see what the arguments are against it.</p>\n\n<p><em>Edit</em>, the same actually holds for <code>Iterator&lt;E&gt;</code> with <code>forEachRemaining</code>, and possibly more classes.<br>\nIf none of the classes provide such option, then I suspect it has been considered for Java 8 and denied.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1453839315,"post_id":35022976,"comment_id":57772561,"body_markdown":"I don&#39;t understand the result. `&quot;ABC&quot;` is all uppercase and it is in the same group as `&quot;AbC&quot;`? Could you explain further &quot;that contain only case-different strings&quot;?","body":"I don&#39;t understand the result. <code>&quot;ABC&quot;</code> is all uppercase and it is in the same group as <code>&quot;AbC&quot;</code>? Could you explain further &quot;that contain only case-different strings&quot;?"},{"owner":{"account_id":7715574,"reputation":71,"user_id":5843467,"display_name":"Ilya"},"score":0,"creation_date":1453839477,"post_id":35022976,"comment_id":57772651,"body_markdown":"All strings in the bucket should be equal ignoring case, but of course they can be different if we compare it as usual. (`&quot;ABC&quot;.equalsIgnoreCase(&quot;AbC&quot;) == true` but `&quot;ABC&quot;.equals(&quot;AbC&quot;) == false`)","body":"All strings in the bucket should be equal ignoring case, but of course they can be different if we compare it as usual. (<code>&quot;ABC&quot;.equalsIgnoreCase(&quot;AbC&quot;) == true</code> but <code>&quot;ABC&quot;.equals(&quot;AbC&quot;) == false</code>)"},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1453839692,"post_id":35022976,"comment_id":57772800,"body_markdown":"Not sure you want to jump straight to a `Collector` here. Perhaps going through a `Map` of `Set`s, then dump the values into a `List`?","body":"Not sure you want to jump straight to a <code>Collector</code> here. Perhaps going through a <code>Map</code> of <code>Set</code>s, then dump the values into a <code>List</code>?"},{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1453840325,"post_id":35022976,"comment_id":57773200,"body_markdown":"Collect (in the normal way) into a Guava multimap built using a case-insensitive map (factory) as the collection supplier.  Gives you a different datatype than you specify (a `Map` instead of a `List`) but if that&#39;s not important to you then ...","body":"Collect (in the normal way) into a Guava multimap built using a case-insensitive map (factory) as the collection supplier.  Gives you a different datatype than you specify (a <code>Map</code> instead of a <code>List</code>) but if that&#39;s not important to you then ..."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":2,"creation_date":1453843621,"post_id":35022976,"comment_id":57775225,"body_markdown":"If this question is really specifically about collections of strings and grouping them while ignoring case please change the title to say so.","body":"If this question is really specifically about collections of strings and grouping them while ignoring case please change the title to say so."}],"answers":[{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453840220,"creation_date":1453839640,"answer_id":35023183,"question_id":35022976,"body_markdown":"Try:\r\n\r\n    List&lt;Set&lt;String&gt;&gt; result = \r\n      strs.stream()\r\n          .collect(groupingBy(String::toLowerCase, toSet())) // Map&lt;String, Set&lt;String&gt;&gt;\r\n          .values()            // Collection&lt;Set&lt;String&gt;&gt;\r\n          .stream()            // Stream&lt;Set&lt;String&gt;&gt; \r\n          .collect(toList());  // List&lt;Set&lt;String&gt;&gt;","title":"Java streams collect list of objects to buckets","body":"<p>Try:</p>\n\n<pre><code>List&lt;Set&lt;String&gt;&gt; result = \n  strs.stream()\n      .collect(groupingBy(String::toLowerCase, toSet())) // Map&lt;String, Set&lt;String&gt;&gt;\n      .values()            // Collection&lt;Set&lt;String&gt;&gt;\n      .stream()            // Stream&lt;Set&lt;String&gt;&gt; \n      .collect(toList());  // List&lt;Set&lt;String&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1453841398,"creation_date":1453841216,"answer_id":35023634,"question_id":35022976,"body_markdown":"The &quot;some collectors magic&quot; you are looking for can be done in two steps:\r\n\r\n - first, you need to group the elements by the property you are looking for. In this case since you want to ignore the casing, `String#toLowerCase` does the job (don&#39;t forget the overloaded method that takes a `Locale` as parameter). You also want the values grouped to be unique so you can use the overloaded version of `groupingBy` to put them into a `Set` (the default implementation uses a `List`)\r\n - since you&#39;re not interested in the keys, just grab the values from the resulting map and put them in a list (if you really need a list) using the `collectingAndThen` collector.\r\n\r\n&lt;hr/&gt;\r\n\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    import static java.util.stream.Collectors.toSet;\r\n  \r\n    ...\r\n  \r\n    List&lt;Set&lt;String&gt;&gt; result = \r\n        strs.stream()\r\n            .collect(collectingAndThen(groupingBy(String::toLowerCase, toSet()), \r\n                                       m -&gt; new ArrayList&lt;&gt;(m.values())));\r\n\r\n","title":"Java streams collect list of objects to buckets","body":"<p>The \"some collectors magic\" you are looking for can be done in two steps:</p>\n\n<ul>\n<li>first, you need to group the elements by the property you are looking for. In this case since you want to ignore the casing, <code>String#toLowerCase</code> does the job (don't forget the overloaded method that takes a <code>Locale</code> as parameter). You also want the values grouped to be unique so you can use the overloaded version of <code>groupingBy</code> to put them into a <code>Set</code> (the default implementation uses a <code>List</code>)</li>\n<li>since you're not interested in the keys, just grab the values from the resulting map and put them in a list (if you really need a list) using the <code>collectingAndThen</code> collector.</li>\n</ul>\n\n<hr/>\n\n<pre><code>import static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.toSet;\n\n...\n\nList&lt;Set&lt;String&gt;&gt; result = \n    strs.stream()\n        .collect(collectingAndThen(groupingBy(String::toLowerCase, toSet()), \n                                   m -&gt; new ArrayList&lt;&gt;(m.values())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674194585,"creation_date":1480459476,"answer_id":40877163,"question_id":35022976,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    List&lt;String&gt; strs = N.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\r\n    List&lt;Set&lt;String&gt;&gt; lists = Stream.of(strs).groupBy(N::toLowerCase, Collectors.toSet()).map(Entry::getValue).toList();\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Java streams collect list of objects to buckets","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>List&lt;String&gt; strs = N.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\nList&lt;Set&lt;String&gt;&gt; lists = Stream.of(strs).groupBy(N::toLowerCase, Collectors.toSet()).map(Entry::getValue).toList();\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":7715574,"reputation":71,"user_id":5843467,"display_name":"Ilya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5502,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":35023634,"answer_count":3,"score":5,"last_activity_date":1674194585,"creation_date":1453839002,"question_id":35022976,"body_markdown":"I have a problem of collecting some list values to buckets. For example, let&#39;s assume I have a list of Strings:\r\n\r\n    List&lt;String&gt; strs = Arrays.asList(&quot;ABC&quot;, &quot;abc&quot;, &quot;bca&quot;, &quot;BCa&quot;, &quot;AbC&quot;);\r\n\r\nAnd I want to put the strings into set (or list) of sets, that contain only case-different strings, i.e. for example above it would be collection of two sets: `[[&quot;ABC&quot;, &quot;abc&quot;, &quot;AbC&quot;], [&quot;bca&quot;, &quot;BCa&quot;]]`\r\n\r\nSo help me please to write collector for this problem.\r\n\r\n    List&lt;Set&lt;String&gt;&gt; result = strs.stream()\r\n                    .collect(/* some collectors magic here */)","title":"Java streams collect list of objects to buckets","body":"<p>I have a problem of collecting some list values to buckets. For example, let's assume I have a list of Strings:</p>\n\n<pre><code>List&lt;String&gt; strs = Arrays.asList(\"ABC\", \"abc\", \"bca\", \"BCa\", \"AbC\");\n</code></pre>\n\n<p>And I want to put the strings into set (or list) of sets, that contain only case-different strings, i.e. for example above it would be collection of two sets: <code>[[\"ABC\", \"abc\", \"AbC\"], [\"bca\", \"BCa\"]]</code></p>\n\n<p>So help me please to write collector for this problem.</p>\n\n<pre><code>List&lt;Set&lt;String&gt;&gt; result = strs.stream()\n                .collect(/* some collectors magic here */)\n</code></pre>\n"},{"tags":["java","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1455812743,"post_id":35486826,"comment_id":58667281,"body_markdown":"I don&#39;t think it is possible. Based on javadoc &quot;A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused.&quot;","body":"I don&#39;t think it is possible. Based on javadoc &quot;A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused.&quot;"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1455825638,"post_id":35486826,"comment_id":58675220,"body_markdown":"@Namban That&#39;s not what the question is about.","body":"@Namban That&#39;s not what the question is about."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1455813114,"creation_date":1455812853,"answer_id":35487026,"question_id":35486826,"body_markdown":"Yes, you can map each entry to another temporary entry that will hold the key and the parsed integer value. Then you can filter each entry based on their value.\r\n\r\n    Map&lt;String, Integer&gt; output =\r\n    \tinput.entrySet()\r\n    \t\t .stream()\r\n    \t\t .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(), Integer.valueOf(e.getValue())))\r\n    \t\t .filter(e -&gt; e.getValue() % 2 == 0)\r\n             .collect(Collectors.toMap(\r\n                 Map.Entry::getKey,\r\n                 Map.Entry::getValue\r\n             ));\r\n\r\nNote that I used `Integer.valueOf` instead of `parseInt` since we actually want a boxed `int`.\r\n\r\n&lt;hr&gt;\r\n\r\nIf you have the luxury to use the [StreamEx](https://github.com/amaembo/streamex) library, you can do it quite simply:\r\n\r\n    Map&lt;String, Integer&gt; output =\r\n        EntryStream.of(input).mapValues(Integer::valueOf).filterValues(v -&gt; v % 2 == 0).toMap();","title":"Transform and filter a Java Map with streams","body":"<p>Yes, you can map each entry to another temporary entry that will hold the key and the parsed integer value. Then you can filter each entry based on their value.</p>\n\n<pre><code>Map&lt;String, Integer&gt; output =\n    input.entrySet()\n         .stream()\n         .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(), Integer.valueOf(e.getValue())))\n         .filter(e -&gt; e.getValue() % 2 == 0)\n         .collect(Collectors.toMap(\n             Map.Entry::getKey,\n             Map.Entry::getValue\n         ));\n</code></pre>\n\n<p>Note that I used <code>Integer.valueOf</code> instead of <code>parseInt</code> since we actually want a boxed <code>int</code>.</p>\n\n<hr>\n\n<p>If you have the luxury to use the <a href=\"https://github.com/amaembo/streamex\">StreamEx</a> library, you can do it quite simply:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output =\n    EntryStream.of(input).mapValues(Integer::valueOf).filterValues(v -&gt; v % 2 == 0).toMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455824759,"creation_date":1455822959,"answer_id":35490465,"question_id":35486826,"body_markdown":"You could use the [`Stream.collect(supplier, accumulator, combiner)`][1] method to transform the entries and conditionally accumulate them:\r\n\r\n    Map&lt;String, Integer&gt; even = input.entrySet().stream().collect(\r\n        HashMap::new,\r\n        (m, e) -&gt; Optional.ofNullable(e)\r\n                .map(Map.Entry::getValue)\r\n                .map(Integer::valueOf)\r\n                .filter(i -&gt; i % 2 == 0)\r\n                .ifPresent(i -&gt; m.put(e.getKey(), i)),\r\n        Map::putAll);\r\n\r\n    System.out.println(even); // {a=1234, c=3456}\r\n\r\nHere, inside the accumulator, I&#39;m using `Optional` methods to apply both the transformation and the predicate, and, if the optional value is still present, I&#39;m adding it to the map being collected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-","title":"Transform and filter a Java Map with streams","body":"<p>You could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow\"><code>Stream.collect(supplier, accumulator, combiner)</code></a> method to transform the entries and conditionally accumulate them:</p>\n\n<pre><code>Map&lt;String, Integer&gt; even = input.entrySet().stream().collect(\n    HashMap::new,\n    (m, e) -&gt; Optional.ofNullable(e)\n            .map(Map.Entry::getValue)\n            .map(Integer::valueOf)\n            .filter(i -&gt; i % 2 == 0)\n            .ifPresent(i -&gt; m.put(e.getKey(), i)),\n    Map::putAll);\n\nSystem.out.println(even); // {a=1234, c=3456}\n</code></pre>\n\n<p>Here, inside the accumulator, I'm using <code>Optional</code> methods to apply both the transformation and the predicate, and, if the optional value is still present, I'm adding it to the map being collected.</p>\n"},{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455863343,"creation_date":1455823200,"answer_id":35490543,"question_id":35486826,"body_markdown":"Another way to do this is to remove the values you don&#39;t want from the transformed `Map`:\r\n\r\n\r\n\tMap&lt;String, Integer&gt; output = input.entrySet().stream()\r\n\t        .collect(Collectors.toMap(\r\n\t                Map.Entry::getKey,\r\n\t                e -&gt; Integer.parseInt(e.getValue()),\r\n\t                (a, b) -&gt; { throw new AssertionError(); },\r\n\t                HashMap::new\r\n\t         ));\r\n\toutput.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nThis assumes you want a mutable `Map` as the result, if not you can probably create an immutable one from `output`.\r\n\r\n---\r\n\r\nIf you are transforming the values into the same type and want to modify the `Map` in place this could be alot shorter with [`replaceAll`][1]:\r\n\r\n    input.replaceAll((k, v) -&gt; v + &quot; example&quot;);\r\n\tinput.values().removeIf(v -&gt; v.length() &gt; 10);\r\n\r\nThis also assumes `input` is mutable.\r\n\r\n---\r\n\r\nI don&#39;t recommend doing this because It will not work for all valid `Map` implementations and may stop working for `HashMap` in the future, but you can currently use `replaceAll` and cast a `HashMap` to change the type of the values:\r\n\r\n\r\n\t((Map)input).replaceAll((k, v) -&gt; Integer.parseInt((String)v));\r\n\tMap&lt;String, Integer&gt; output = (Map)input;\r\n\toutput.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nThis will also give you type safety warnings and if you try to retrieve a value from the `Map` through a reference of the old type like this:\r\n\r\n    String ex = input.get(&quot;a&quot;);\r\n\r\nIt will throw a `ClassCastException`.\r\n\r\n---\r\n\r\nYou could move the first transform part into a method to avoid the boilerplate if you expect to use it alot:\r\n\r\n\r\n\tpublic static &lt;K, VO, VN, M extends Map&lt;K, VN&gt;&gt; M transformValues(\r\n\t\t\tMap&lt;? extends K, ? extends VO&gt; old, \r\n\t\t\tFunction&lt;? super VO, ? extends VN&gt; f, \r\n            Supplier&lt;? extends M&gt; mapFactory){\r\n\t\treturn old.entrySet().stream().collect(Collectors.toMap(\r\n\t\t\t\tEntry::getKey, \r\n\t\t\t\te -&gt; f.apply(e.getValue()), \r\n\t\t\t\t(a, b) -&gt; { throw new IllegalStateException(&quot;Duplicate keys for values &quot; + a + &quot; &quot; + b); },\r\n\t\t\t\tmapFactory));\r\n\t}\r\n\r\nAnd use it like this:\r\n\r\n\r\n\t    Map&lt;String, Integer&gt; output = transformValues(input, Integer::parseInt, HashMap::new);\r\n\t    output.values().removeIf(v -&gt; v % 2 != 0);\r\n\r\nNote that the duplicate key exception can be thrown if, for example, the `old` `Map` is an `IdentityHashMap` and the `mapFactory` creates a `HashMap`.\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replaceAll-java.util.function.BiFunction-","title":"Transform and filter a Java Map with streams","body":"<p>Another way to do this is to remove the values you don't want from the transformed <code>Map</code>:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = input.entrySet().stream()\n        .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                e -&gt; Integer.parseInt(e.getValue()),\n                (a, b) -&gt; { throw new AssertionError(); },\n                HashMap::new\n         ));\noutput.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>This assumes you want a mutable <code>Map</code> as the result, if not you can probably create an immutable one from <code>output</code>.</p>\n\n<hr>\n\n<p>If you are transforming the values into the same type and want to modify the <code>Map</code> in place this could be alot shorter with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replaceAll-java.util.function.BiFunction-\" rel=\"nofollow\"><code>replaceAll</code></a>:</p>\n\n<pre><code>input.replaceAll((k, v) -&gt; v + \" example\");\ninput.values().removeIf(v -&gt; v.length() &gt; 10);\n</code></pre>\n\n<p>This also assumes <code>input</code> is mutable.</p>\n\n<hr>\n\n<p>I don't recommend doing this because It will not work for all valid <code>Map</code> implementations and may stop working for <code>HashMap</code> in the future, but you can currently use <code>replaceAll</code> and cast a <code>HashMap</code> to change the type of the values:</p>\n\n<pre><code>((Map)input).replaceAll((k, v) -&gt; Integer.parseInt((String)v));\nMap&lt;String, Integer&gt; output = (Map)input;\noutput.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>This will also give you type safety warnings and if you try to retrieve a value from the <code>Map</code> through a reference of the old type like this:</p>\n\n<pre><code>String ex = input.get(\"a\");\n</code></pre>\n\n<p>It will throw a <code>ClassCastException</code>.</p>\n\n<hr>\n\n<p>You could move the first transform part into a method to avoid the boilerplate if you expect to use it alot:</p>\n\n<pre><code>public static &lt;K, VO, VN, M extends Map&lt;K, VN&gt;&gt; M transformValues(\n        Map&lt;? extends K, ? extends VO&gt; old, \n        Function&lt;? super VO, ? extends VN&gt; f, \n        Supplier&lt;? extends M&gt; mapFactory){\n    return old.entrySet().stream().collect(Collectors.toMap(\n            Entry::getKey, \n            e -&gt; f.apply(e.getValue()), \n            (a, b) -&gt; { throw new IllegalStateException(\"Duplicate keys for values \" + a + \" \" + b); },\n            mapFactory));\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>    Map&lt;String, Integer&gt; output = transformValues(input, Integer::parseInt, HashMap::new);\n    output.values().removeIf(v -&gt; v % 2 != 0);\n</code></pre>\n\n<p>Note that the duplicate key exception can be thrown if, for example, the <code>old</code> <code>Map</code> is an <code>IdentityHashMap</code> and the <code>mapFactory</code> creates a <code>HashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1455823207,"creation_date":1455823207,"answer_id":35490546,"question_id":35486826,"body_markdown":"One way to solve the problem with much lesser overhead is to move the mapping and filtering down to the collector.\r\n\r\n    Map&lt;String, Integer&gt; output = input.entrySet().stream().collect(\r\n        HashMap::new,\r\n        (map,e)-&gt;{ int i=Integer.parseInt(e.getValue()); if(i%2==0) map.put(e.getKey(), i); },\r\n        Map::putAll);\r\nThis does not require the creation of intermediate `Map.Entry` instances and even better, will postpone the boxing of `int` values to the point when the values are actually added to the `Map`, which implies that values rejected by the filter are not boxed at all.\r\n\r\nCompared to what `Collectors.toMap(…)` does, the operation is also simplified by using `Map.put` rather than `Map.merge` as we know beforehand that we don’t have to handle key collisions here.\r\n\r\nHowever, as long as you don’t want to utilize parallel execution you may also consider the ordinary loop\r\n\r\n    HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\r\n    for(Map.Entry&lt;String, String&gt; e: input.entrySet()) {\r\n        int i = Integer.parseInt(e.getValue());\r\n        if(i%2==0) output.put(e.getKey(), i);\r\n    }\r\n\r\nor the internal iteration variant:\r\n\r\n    HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\r\n    input.forEach((k,v)-&gt;{ int i = Integer.parseInt(v); if(i%2==0) output.put(k, i); });\r\n\r\nthe latter being quite compact and at least on par with all other variants regarding single threaded performance.\r\n","title":"Transform and filter a Java Map with streams","body":"<p>One way to solve the problem with much lesser overhead is to move the mapping and filtering down to the collector.</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = input.entrySet().stream().collect(\n    HashMap::new,\n    (map,e)-&gt;{ int i=Integer.parseInt(e.getValue()); if(i%2==0) map.put(e.getKey(), i); },\n    Map::putAll);\n</code></pre>\n\n<p>This does not require the creation of intermediate <code>Map.Entry</code> instances and even better, will postpone the boxing of <code>int</code> values to the point when the values are actually added to the <code>Map</code>, which implies that values rejected by the filter are not boxed at all.</p>\n\n<p>Compared to what <code>Collectors.toMap(…)</code> does, the operation is also simplified by using <code>Map.put</code> rather than <code>Map.merge</code> as we know beforehand that we don’t have to handle key collisions here.</p>\n\n<p>However, as long as you don’t want to utilize parallel execution you may also consider the ordinary loop</p>\n\n<pre><code>HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\nfor(Map.Entry&lt;String, String&gt; e: input.entrySet()) {\n    int i = Integer.parseInt(e.getValue());\n    if(i%2==0) output.put(e.getKey(), i);\n}\n</code></pre>\n\n<p>or the internal iteration variant:</p>\n\n<pre><code>HashMap&lt;String,Integer&gt; output=new HashMap&lt;&gt;();\ninput.forEach((k,v)-&gt;{ int i = Integer.parseInt(v); if(i%2==0) output.put(k, i); });\n</code></pre>\n\n<p>the latter being quite compact and at least on par with all other variants regarding single threaded performance.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1455861553,"creation_date":1455859378,"answer_id":35497870,"question_id":35486826,"body_markdown":"[Guava][1]&#39;s your friend:\r\n\r\n    Map&lt;String, Integer&gt; output = Maps.filterValues(Maps.transformValues(input, Integer::valueOf), i -&gt; i % 2 == 0);\r\n\r\nKeep in mind that `output` is a transformed, filtered *view* of `input`. You&#39;ll need to make a copy if you want to operate on them independently.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html","title":"Transform and filter a Java Map with streams","body":"<p><a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html\" rel=\"noreferrer\">Guava</a>'s your friend:</p>\n\n<pre><code>Map&lt;String, Integer&gt; output = Maps.filterValues(Maps.transformValues(input, Integer::valueOf), i -&gt; i % 2 == 0);\n</code></pre>\n\n<p>Keep in mind that <code>output</code> is a transformed, filtered <em>view</em> of <code>input</code>. You'll need to make a copy if you want to operate on them independently.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194573,"creation_date":1480459164,"answer_id":40877095,"question_id":35486826,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    Map&lt;String, String&gt; input = N.asMap(&quot;a&quot;, &quot;1234&quot;, &quot;b&quot;, &quot;2345&quot;, &quot;c&quot;, &quot;3456&quot;, &quot;d&quot;, &quot;4567&quot;);\r\n\r\n    Map&lt;String, Integer&gt; output = Stream.of(input)\r\n                              .groupBy(e -&gt; e.getKey(), e -&gt; N.asInt(e.getValue()))\r\n                              .filter(e -&gt; e.getValue() % 2 == 0)\r\n                              .toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n\r\n    N.println(output.toString());\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Transform and filter a Java Map with streams","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;String, String&gt; input = N.asMap(&quot;a&quot;, &quot;1234&quot;, &quot;b&quot;, &quot;2345&quot;, &quot;c&quot;, &quot;3456&quot;, &quot;d&quot;, &quot;4567&quot;);\n\nMap&lt;String, Integer&gt; output = Stream.of(input)\n                          .groupBy(e -&gt; e.getKey(), e -&gt; N.asInt(e.getValue()))\n                          .filter(e -&gt; e.getValue() % 2 == 0)\n                          .toMap(Map.Entry::getKey, Map.Entry::getValue);\n\nN.println(output.toString());\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2618797,"reputation":880,"user_id":2267316,"display_name":"Paul I"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87407,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":35487026,"answer_count":6,"score":63,"last_activity_date":1674194573,"creation_date":1455812391,"question_id":35486826,"body_markdown":"I have a Java Map that I&#39;d like to transform and filter. As a trivial example, suppose I want to convert all values to Integers then remove the odd entries.\r\n\r\n    Map&lt;String, String&gt; input = new HashMap&lt;&gt;();\r\n    input.put(&quot;a&quot;, &quot;1234&quot;);\r\n    input.put(&quot;b&quot;, &quot;2345&quot;);\r\n    input.put(&quot;c&quot;, &quot;3456&quot;);\r\n    input.put(&quot;d&quot;, &quot;4567&quot;);\r\n\r\n    Map&lt;String, Integer&gt; output = input.entrySet().stream()\r\n            .collect(Collectors.toMap(\r\n                    Map.Entry::getKey,\r\n                    e -&gt; Integer.parseInt(e.getValue())\r\n            ))\r\n            .entrySet().stream()\r\n            .filter(e -&gt; e.getValue() % 2 == 0)\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\n\r\n    System.out.println(output.toString());\r\n\r\nThis is correct and yields: `{a=1234, c=3456}`\r\n\r\nHowever, I can&#39;t help but wonder if there&#39;s a way to avoid calling `.entrySet().stream()` twice.\r\n\r\nIs there a way I can perform both transform and filter operations and call  `.collect()` only once at the end?","title":"Transform and filter a Java Map with streams","body":"<p>I have a Java Map that I'd like to transform and filter. As a trivial example, suppose I want to convert all values to Integers then remove the odd entries.</p>\n\n<pre><code>Map&lt;String, String&gt; input = new HashMap&lt;&gt;();\ninput.put(\"a\", \"1234\");\ninput.put(\"b\", \"2345\");\ninput.put(\"c\", \"3456\");\ninput.put(\"d\", \"4567\");\n\nMap&lt;String, Integer&gt; output = input.entrySet().stream()\n        .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                e -&gt; Integer.parseInt(e.getValue())\n        ))\n        .entrySet().stream()\n        .filter(e -&gt; e.getValue() % 2 == 0)\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n\n\nSystem.out.println(output.toString());\n</code></pre>\n\n<p>This is correct and yields: <code>{a=1234, c=3456}</code></p>\n\n<p>However, I can't help but wonder if there's a way to avoid calling <code>.entrySet().stream()</code> twice.</p>\n\n<p>Is there a way I can perform both transform and filter operations and call  <code>.collect()</code> only once at the end?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1437728136,"post_id":31602425,"comment_id":51162701,"body_markdown":"if this is a simplified scenario then maybe the actual scenario would be useful to come up with the solution. in the unlikely case it isn&#39;t: you can just filter by modulo 2 or 3.","body":"if this is a simplified scenario then maybe the actual scenario would be useful to come up with the solution. in the unlikely case it isn&#39;t: you can just filter by modulo 2 or 3."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1527787671,"post_id":31602425,"comment_id":88269392,"body_markdown":"Why a stream? Is the source a stream? Is the result always ending up in a list? Then transform the stream to an iterator and use an external int to keep track of the item number. If the source isn&#39;t a stream, use a for-loop. The only reason to use a stream here would be if the result should be a stream or the source is a stream...","body":"Why a stream? Is the source a stream? Is the result always ending up in a list? Then transform the stream to an iterator and use an external int to keep track of the item number. If the source isn&#39;t a stream, use a for-loop. The only reason to use a stream here would be if the result should be a stream or the source is a stream..."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1620681053,"creation_date":1437714543,"answer_id":31602610,"question_id":31602425,"body_markdown":"One of the prime motivations for the introduction of Java streams was to allow parallel operations. This led to a requirement that operations on Java streams such as `map` and `filter` be independent of the position of the item in the stream or the items around it. This has the advantage of making it easy to split streams for parallel processing. It has the disadvantage of making certain operations more complex.\r\n\r\nSo the simple answer is that there is no easy way to do things such as take every nth item or map each item to the sum of all previous items.\r\n\r\nThe most straightforward way to implement your requirement is to use the index of the list you are streaming from:\r\n\r\n    List&lt;String&gt; list = ...;\r\n    return IntStream.range(0, list.size())\r\n        .filter(n -&gt; n % 3 == 0)\r\n        .mapToObj(list::get)\r\n        .toList();\r\n\r\nA more complicated solution would be to create a custom collector that collects every nth item into a list. \r\n\r\n    class EveryNth&lt;C&gt; {\r\n        private final int nth;\r\n        private final List&lt;List&lt;C&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n        private int next = 0;\r\n\r\n        private EveryNth(int nth) {\r\n            this.nth = nth;\r\n            IntStream.range(0, nth).forEach(i -&gt; lists.add(new ArrayList&lt;&gt;()));\r\n        }\r\n\r\n        private void accept(C item) {\r\n            lists.get(next++ % nth).add(item);\r\n        }\r\n\r\n        private EveryNth&lt;C&gt; combine(EveryNth&lt;C&gt; other) {\r\n            other.lists.forEach(l -&gt; lists.get(next++ % nth).addAll(l));\r\n            next += other.next;\r\n            return this;\r\n        }\r\n\r\n        private List&lt;C&gt; getResult() {\r\n            return lists.get(0);\r\n        }\r\n\r\n        public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector(int nth) {\r\n            return Collector.of(() -&gt; new EveryNth(nth), \r\n                EveryNth::accept, EveryNth::combine, EveryNth::getResult));\r\n    }\r\n\r\nThis could be used as follows:\r\n\r\n    Stream.of(&quot;Anne&quot;, &quot;Bill&quot;, &quot;Chris&quot;, &quot;Dean&quot;, &quot;Eve&quot;, &quot;Fred&quot;, &quot;George&quot;)\r\n        .parallel().collect(EveryNth.collector(3)).toList();\r\n\r\nWhich returns the result `[&quot;Anne&quot;, &quot;Dean&quot;, &quot;George&quot;]` as you would expect.\r\n\r\nThis is a very inefficient algorithm even with parallel processing. It splits all items it accepts into n lists and then just returns the first. Unfortunately it has to keep all items through the accumulation process because it&#39;s not until they are combined that it knows which list is the nth one. \r\n\r\nGiven the complexity and inefficiency of the collector solution I would definitely recommend sticking with the indices based solution above in preference to this if you can. If you aren&#39;t using a collection that supports `get` (e.g. you are passed a `Stream` rather than a `List`) then you will either need to collect the stream using `Collectors.toList` or use the `EveryNth` solution above.","title":"Take every nth element from a Java 8 stream","body":"<p>One of the prime motivations for the introduction of Java streams was to allow parallel operations. This led to a requirement that operations on Java streams such as <code>map</code> and <code>filter</code> be independent of the position of the item in the stream or the items around it. This has the advantage of making it easy to split streams for parallel processing. It has the disadvantage of making certain operations more complex.</p>\n<p>So the simple answer is that there is no easy way to do things such as take every nth item or map each item to the sum of all previous items.</p>\n<p>The most straightforward way to implement your requirement is to use the index of the list you are streaming from:</p>\n<pre><code>List&lt;String&gt; list = ...;\nreturn IntStream.range(0, list.size())\n    .filter(n -&gt; n % 3 == 0)\n    .mapToObj(list::get)\n    .toList();\n</code></pre>\n<p>A more complicated solution would be to create a custom collector that collects every nth item into a list.</p>\n<pre><code>class EveryNth&lt;C&gt; {\n    private final int nth;\n    private final List&lt;List&lt;C&gt;&gt; lists = new ArrayList&lt;&gt;();\n    private int next = 0;\n\n    private EveryNth(int nth) {\n        this.nth = nth;\n        IntStream.range(0, nth).forEach(i -&gt; lists.add(new ArrayList&lt;&gt;()));\n    }\n\n    private void accept(C item) {\n        lists.get(next++ % nth).add(item);\n    }\n\n    private EveryNth&lt;C&gt; combine(EveryNth&lt;C&gt; other) {\n        other.lists.forEach(l -&gt; lists.get(next++ % nth).addAll(l));\n        next += other.next;\n        return this;\n    }\n\n    private List&lt;C&gt; getResult() {\n        return lists.get(0);\n    }\n\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector(int nth) {\n        return Collector.of(() -&gt; new EveryNth(nth), \n            EveryNth::accept, EveryNth::combine, EveryNth::getResult));\n}\n</code></pre>\n<p>This could be used as follows:</p>\n<pre><code>Stream.of(&quot;Anne&quot;, &quot;Bill&quot;, &quot;Chris&quot;, &quot;Dean&quot;, &quot;Eve&quot;, &quot;Fred&quot;, &quot;George&quot;)\n    .parallel().collect(EveryNth.collector(3)).toList();\n</code></pre>\n<p>Which returns the result <code>[&quot;Anne&quot;, &quot;Dean&quot;, &quot;George&quot;]</code> as you would expect.</p>\n<p>This is a very inefficient algorithm even with parallel processing. It splits all items it accepts into n lists and then just returns the first. Unfortunately it has to keep all items through the accumulation process because it's not until they are combined that it knows which list is the nth one.</p>\n<p>Given the complexity and inefficiency of the collector solution I would definitely recommend sticking with the indices based solution above in preference to this if you can. If you aren't using a collection that supports <code>get</code> (e.g. you are passed a <code>Stream</code> rather than a <code>List</code>) then you will either need to collect the stream using <code>Collectors.toList</code> or use the <code>EveryNth</code> solution above.</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1511878675,"creation_date":1437766070,"answer_id":31618340,"question_id":31602425,"body_markdown":"**EDIT - Nov 28, 2017**\r\n\r\nAs user @Emiel suggests in the comments, the best way to do this would be to use `Stream.itearate` to drive the list through a sequence of indices:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n    \r\n    int skip = 3;\r\n    int size = list.size();\r\n    // Limit to carefully avoid IndexOutOfBoundsException\r\n    int limit = size / skip + Math.min(size % skip, 1);\r\n    \r\n    List&lt;Integer&gt; result = Stream.iterate(0, i -&gt; i + skip)\r\n        .limit(limit)\r\n        .map(list::get)\r\n        .collect(Collectors.toList());\r\n    \r\n    System.out.println(result); // [1, 4, 7, 10]\r\n\r\nThis approach doesn&#39;t have the drawbacks of my previous answer, which comes below (I&#39;ve decided to keep it for historical reasons).\r\n\r\n----------\r\n\r\n\r\nAnother approach would be to use `Stream.iterate()` the following way:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n\r\n    int skip = 3;\r\n    int size = list.size();\r\n    // Limit to carefully avoid IndexOutOfBoundsException\r\n    int limit = size / skip + Math.min(size % skip, 1);\r\n\r\n    List&lt;Integer&gt; result = Stream.iterate(list, l -&gt; l.subList(skip, l.size()))\r\n        .limit(limit)\r\n        .map(l -&gt; l.get(0))\r\n        .collect(Collectors.toList());\r\n\r\n    System.out.println(result); // [1, 4, 7, 10]\r\n\r\nThe idea is to create a stream of sublists, each one skipping the first `N` elements of the previous one (`N=3` in the example). \r\n\r\nWe have to limit the number of iterations so that we don&#39;t try to get a sublist whose bounds are out of range.\r\n\r\nThen, we map our sublists to their first element and collect our results. Keeping the first element of every sublist works as expected because every sublist&#39;s begin index is shifted `N` elements to the right, according to the source list.\r\n\r\nThis is also efficient, because the `List.sublist()` method returns a *view* of the original list, meaning that it doesn&#39;t create a new `List` for each iteration.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT:** After a while, I&#39;ve learnt that it&#39;s much better to take either one of @sprinter&#39;s approachs, since `subList()` creates a wrapper around the original list. This means that the second list of the stream would be a wrapper of the first list, the third list of the stream would be a wrapper of the second list (which is already a wrapper!), and so on...\r\n\r\nWhile this might work for small to medium-sized lists, it should be noted that for a very large source list, many wrappers would be created. And this might end up being expensive, or even generating a `StackOverflowError`.\r\n\r\n","title":"Take every nth element from a Java 8 stream","body":"<p><strong>EDIT - Nov 28, 2017</strong></p>\n\n<p>As user @Emiel suggests in the comments, the best way to do this would be to use <code>Stream.itearate</code> to drive the list through a sequence of indices:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\nint skip = 3;\nint size = list.size();\n// Limit to carefully avoid IndexOutOfBoundsException\nint limit = size / skip + Math.min(size % skip, 1);\n\nList&lt;Integer&gt; result = Stream.iterate(0, i -&gt; i + skip)\n    .limit(limit)\n    .map(list::get)\n    .collect(Collectors.toList());\n\nSystem.out.println(result); // [1, 4, 7, 10]\n</code></pre>\n\n<p>This approach doesn't have the drawbacks of my previous answer, which comes below (I've decided to keep it for historical reasons).</p>\n\n<hr>\n\n<p>Another approach would be to use <code>Stream.iterate()</code> the following way:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\nint skip = 3;\nint size = list.size();\n// Limit to carefully avoid IndexOutOfBoundsException\nint limit = size / skip + Math.min(size % skip, 1);\n\nList&lt;Integer&gt; result = Stream.iterate(list, l -&gt; l.subList(skip, l.size()))\n    .limit(limit)\n    .map(l -&gt; l.get(0))\n    .collect(Collectors.toList());\n\nSystem.out.println(result); // [1, 4, 7, 10]\n</code></pre>\n\n<p>The idea is to create a stream of sublists, each one skipping the first <code>N</code> elements of the previous one (<code>N=3</code> in the example). </p>\n\n<p>We have to limit the number of iterations so that we don't try to get a sublist whose bounds are out of range.</p>\n\n<p>Then, we map our sublists to their first element and collect our results. Keeping the first element of every sublist works as expected because every sublist's begin index is shifted <code>N</code> elements to the right, according to the source list.</p>\n\n<p>This is also efficient, because the <code>List.sublist()</code> method returns a <em>view</em> of the original list, meaning that it doesn't create a new <code>List</code> for each iteration.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> After a while, I've learnt that it's much better to take either one of @sprinter's approachs, since <code>subList()</code> creates a wrapper around the original list. This means that the second list of the stream would be a wrapper of the first list, the third list of the stream would be a wrapper of the second list (which is already a wrapper!), and so on...</p>\n\n<p>While this might work for small to medium-sized lists, it should be noted that for a very large source list, many wrappers would be created. And this might end up being expensive, or even generating a <code>StackOverflowError</code>.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1452156067,"creation_date":1452122391,"answer_id":34644711,"question_id":31602425,"body_markdown":"If you&#39;re willing to use a third party library, then [jOOλ][1] offers useful features like `zipWithIndex()`:\r\n\r\n### Every second element\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n       .zipWithIndex()             // This produces a Tuple2(yourvalue, index)\r\n       .filter(t -&gt; t.v2 % 2 == 0) // Filter by the index\r\n       .map(t -&gt; t.v1)             // Remove the index again\r\n       .toList()\r\n    );\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [1, 3, 5, 7, 9]\r\n\r\n### Every third element\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n       .zipWithIndex()\r\n       .filter(t -&gt; t.v2 % 3 == 0)\r\n       .map(t -&gt; t.v1)\r\n       .toList()\r\n    );\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [1, 4, 7, 10]\r\n\r\nDisclaimer: I work for the company behind jOOλ\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Take every nth element from a Java 8 stream","body":"<p>If you're willing to use a third party library, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a> offers useful features like <code>zipWithIndex()</code>:</p>\n\n<h3>Every second element</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n   .zipWithIndex()             // This produces a Tuple2(yourvalue, index)\n   .filter(t -&gt; t.v2 % 2 == 0) // Filter by the index\n   .map(t -&gt; t.v1)             // Remove the index again\n   .toList()\n);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[1, 3, 5, 7, 9]\n</code></pre>\n\n<h3>Every third element</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n   .zipWithIndex()\n   .filter(t -&gt; t.v2 % 3 == 0)\n   .map(t -&gt; t.v1)\n   .toList()\n);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[1, 4, 7, 10]\n</code></pre>\n\n<p>Disclaimer: I work for the company behind jOOλ</p>\n"},{"tags":[],"owner":{"account_id":267972,"reputation":1556,"user_id":556469,"accept_rate":71,"display_name":"Xavier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457261039,"creation_date":1457261039,"answer_id":35825888,"question_id":31602425,"body_markdown":"You could also use `flatMap` with a custom function that skips items:\r\n\r\n    private &lt;T&gt; Function&lt;T, Stream&lt;T&gt;&gt; everyNth(int n) {\r\n      return new Function&lt;T, Stream&lt;T&gt;&gt;() {\r\n        int i = 0;\r\n\r\n        @Override\r\n        public Stream&lt;T&gt; apply(T t) {\r\n          if (i++ % n == 0) {\r\n            return Stream.of(t);\r\n          }\r\n          return Stream.empty();\r\n        }\r\n      };\r\n    }\r\n\r\n    @Test\r\n    public void everyNth() {\r\n      assertEquals(\r\n        Arrays.asList(1, 4, 7, 10),\r\n        IntStream.rangeClosed(1, 10).boxed()\r\n          .flatMap(everyNth(3))\r\n          .collect(Collectors.toList())\r\n      );\r\n    }\r\n\r\nIt has the advantage of working with non-indexed streams. But it&#39;s not a good idea to use it with parallel streams (maybe switch to an atomic integer for `i`).","title":"Take every nth element from a Java 8 stream","body":"<p>You could also use <code>flatMap</code> with a custom function that skips items:</p>\n\n<pre><code>private &lt;T&gt; Function&lt;T, Stream&lt;T&gt;&gt; everyNth(int n) {\n  return new Function&lt;T, Stream&lt;T&gt;&gt;() {\n    int i = 0;\n\n    @Override\n    public Stream&lt;T&gt; apply(T t) {\n      if (i++ % n == 0) {\n        return Stream.of(t);\n      }\n      return Stream.empty();\n    }\n  };\n}\n\n@Test\npublic void everyNth() {\n  assertEquals(\n    Arrays.asList(1, 4, 7, 10),\n    IntStream.rangeClosed(1, 10).boxed()\n      .flatMap(everyNth(3))\n      .collect(Collectors.toList())\n  );\n}\n</code></pre>\n\n<p>It has the advantage of working with non-indexed streams. But it's not a good idea to use it with parallel streams (maybe switch to an atomic integer for <code>i</code>).</p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1457262863,"creation_date":1457262863,"answer_id":35826170,"question_id":31602425,"body_markdown":"Try this.\r\n\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n        int[] n = {0};\r\n        List&lt;Integer&gt; result = list.stream()\r\n            .filter(x -&gt; n[0]++ % 3 == 0)\r\n            .collect(Collectors.toList());\r\n        System.out.println(result);\r\n        // -&gt; [1, 4, 7, 10]\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>Try this.</p>\n\n<pre><code>    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n    int[] n = {0};\n    List&lt;Integer&gt; result = list.stream()\n        .filter(x -&gt; n[0]++ % 3 == 0)\n        .collect(Collectors.toList());\n    System.out.println(result);\n    // -&gt; [1, 4, 7, 10]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674194558,"creation_date":1480447835,"answer_id":40874262,"question_id":31602425,"body_markdown":"Here is code by [abacus-common][1]\r\n    \r\n    Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n            .filter(MutableInt.of(0), (e, idx) -&gt; idx.getAndDecrement() % 2 == 0)\r\n            .println();\r\n    // output: 1, 3, 5, 7, 9\r\n\r\nOr if index required:\r\n\r\n    Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n          .indexed().filter(i -&gt; i.index() % 2 == 0).println();\r\n    // output: [0]=1, [2]=3, [4]=5, [6]=7, [8]=9\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Take every nth element from a Java 8 stream","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n        .filter(MutableInt.of(0), (e, idx) -&gt; idx.getAndDecrement() % 2 == 0)\n        .println();\n// output: 1, 3, 5, 7, 9\n</code></pre>\n<p>Or if index required:</p>\n<pre><code>Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n      .indexed().filter(i -&gt; i.index() % 2 == 0).println();\n// output: [0]=1, [2]=3, [4]=5, [6]=7, [8]=9\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522905042,"creation_date":1522904253,"answer_id":49664430,"question_id":31602425,"body_markdown":"Use Guava:\r\n\r\n    Streams\r\n        .mapWithIndex(stream, SimpleImmutableEntry::new)\r\n        .filter(entry -&gt; entry.getValue() % 3 == 0)\r\n        .map(Entry::getKey)\r\n        .collect(Collectors.toList());","title":"Take every nth element from a Java 8 stream","body":"<p>Use Guava:</p>\n\n<pre><code>Streams\n    .mapWithIndex(stream, SimpleImmutableEntry::new)\n    .filter(entry -&gt; entry.getValue() % 3 == 0)\n    .map(Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15675758,"reputation":1,"user_id":11311057,"display_name":"mimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554376837,"creation_date":1554375618,"answer_id":55514269,"question_id":31602425,"body_markdown":"Can you try this\r\n\r\n    employees.stream()\r\n    .filter(e -&gt; e.getName().charAt(0) == &#39;s&#39;)\r\n    .skip(n-1)\r\n    .findFirst()","title":"Take every nth element from a Java 8 stream","body":"<p>Can you try this</p>\n\n<pre><code>employees.stream()\n.filter(e -&gt; e.getName().charAt(0) == 's')\n.skip(n-1)\n.findFirst()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562745135,"creation_date":1562745135,"answer_id":56965890,"question_id":31602425,"body_markdown":"I&#39;m coming here from https://stackoverflow.com/questions/56954988/how-to-avoid-memory-overflow-using-high-throughput-java-i-o-stream-from-jdbc-con?noredirect=1#comment100468250_56954988 which suggests you are concerned about foot print.\r\n\r\nI therefore suggest the following solution which should have a small rate of garbage collection\r\n\r\n    int[] counter = new int[]{0};\r\n\r\n    list.stream()\r\n    .filter(l -&gt; counter[0]++ % n == 0)\r\n\r\nOf course you need to ensure that your stream isn&#39;t parallel.\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>I'm coming here from <a href=\"https://stackoverflow.com/questions/56954988/how-to-avoid-memory-overflow-using-high-throughput-java-i-o-stream-from-jdbc-con?noredirect=1#comment100468250_56954988\">How to avoid memory overflow using high throughput JAVA I/O Stream from JDBC connectors?</a> which suggests you are concerned about foot print.</p>\n\n<p>I therefore suggest the following solution which should have a small rate of garbage collection</p>\n\n<pre><code>int[] counter = new int[]{0};\n\nlist.stream()\n.filter(l -&gt; counter[0]++ % n == 0)\n</code></pre>\n\n<p>Of course you need to ensure that your stream isn't parallel.</p>\n"}],"owner":{"account_id":118732,"reputation":14287,"user_id":309962,"accept_rate":70,"display_name":"Michel Kr&#228;mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63232,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":31602610,"answer_count":9,"score":60,"last_activity_date":1674194558,"creation_date":1437713451,"question_id":31602425,"body_markdown":"Suppose I have a list like this :\r\n\r\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\nIs it possible to use a Java 8 stream to take every second element from this list to obtain the following?\r\n\r\n    [1, 3, 5, 7, 9]\r\n\r\nOr maybe even every third element?\r\n\r\n    [1, 4, 7, 10]\r\n\r\nBasically, I&#39;m looking for a function to take every nth element of a stream:\r\n\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n    List&lt;Integer&gt; list2 = list.stream().takenth(3).collect(Collectors.toList());\r\n    System.out.println(list2);\r\n    // =&gt; [1, 4, 7, 10]\r\n","title":"Take every nth element from a Java 8 stream","body":"<p>Suppose I have a list like this :</p>\n\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>Is it possible to use a Java 8 stream to take every second element from this list to obtain the following?</p>\n\n<pre><code>[1, 3, 5, 7, 9]\n</code></pre>\n\n<p>Or maybe even every third element?</p>\n\n<pre><code>[1, 4, 7, 10]\n</code></pre>\n\n<p>Basically, I'm looking for a function to take every nth element of a stream:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\nList&lt;Integer&gt; list2 = list.stream().takenth(3).collect(Collectors.toList());\nSystem.out.println(list2);\n// =&gt; [1, 4, 7, 10]\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314172809,"creation_date":1314172809,"answer_id":7172240,"question_id":7172212,"body_markdown":"You can use [XStream][1] which is very easy and straightforward as shown in [this][2] 2 minute tutorial.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/\r\n  [2]: http://xstream.codehaus.org/tutorial.html","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>You can use <a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a> which is very easy and straightforward as shown in <a href=\"http://xstream.codehaus.org/tutorial.html\" rel=\"nofollow\">this</a> 2 minute tutorial.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1314173264,"creation_date":1314172825,"answer_id":7172244,"question_id":7172212,"body_markdown":"Any of these will do:\r\n\r\n - [XStream][1]\r\n - [XMLBeans][2]\r\n - [Simple][3]\r\n\r\nOr just plain JDK [`XMLEncoder`][4] / [`XMLDecoder`][5] ([introductory article][6]), but that&#39;s a royal pain in the donkey if you ask me.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/\r\n  [2]: http://xmlbeans.apache.org/\r\n  [3]: http://simple.sourceforge.net/\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/beans/XMLDecoder.html\r\n  [6]: http://java.sun.com/products/jfc/tsc/articles/persistence3/","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Any of these will do:</p>\n\n<ul>\n<li><a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a></li>\n<li><a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow\">XMLBeans</a></li>\n<li><a href=\"http://simple.sourceforge.net/\" rel=\"nofollow\">Simple</a></li>\n</ul>\n\n<p>Or just plain JDK <a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/XMLEncoder.html\" rel=\"nofollow\"><code>XMLEncoder</code></a> / <a href=\"http://download.oracle.com/javase/6/docs/api/java/beans/XMLDecoder.html\" rel=\"nofollow\"><code>XMLDecoder</code></a> (<a href=\"http://java.sun.com/products/jfc/tsc/articles/persistence3/\" rel=\"nofollow\">introductory article</a>), but that's a royal pain in the donkey if you ask me.</p>\n"},{"tags":[],"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314173358,"creation_date":1314173127,"answer_id":7172303,"question_id":7172212,"body_markdown":"Also, [JAXB][1]. ([Hello World example][2])\r\n\r\n\r\n  [1]: http://jaxb.java.net/\r\n  [2]: http://jaxb.java.net/tutorial/section_1_3-Hello-World.html#Hello%20World","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Also, <a href=\"http://jaxb.java.net/\" rel=\"nofollow\">JAXB</a>. (<a href=\"http://jaxb.java.net/tutorial/section_1_3-Hello-World.html#Hello%20World\" rel=\"nofollow\">Hello World example</a>)</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324402450,"creation_date":1314180296,"answer_id":7173634,"question_id":7172212,"body_markdown":"**Note:** I&#39;m the [EclipseLink JAXB (MOXy)][1] lead, and a member of the JAXB 2 ([JSR-222][2]) expert group.\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; How to convert a Java object to an XML string, and conversely convert\r\n&gt; XML to a Java object?\r\n\r\nWith JAXB you can marshal an Object to a `java.io.StringWriter` to produce a `String`, and leverage a `java.io.StringReader` to unmarshal an Object from a `String`.\r\n\r\n  - http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; then I want to store this object in the database\r\n\r\nThe **Java EE** solution is to use a **JPA** implementation (TopLink/[EclipseLink][3], Hibernate, Open JPA, etc.) to store the object in the database, and a **JAXB** implementation (TopLink/[EclipseLink][4], Metro, Apache JaxMe, etc.) to convert the object to/from XML.\r\n\r\nSince you will be persisting your objects to a database you need to be sure that your object-to-XML mapping (OXM) solution takes the following things into consideration:\r\n\r\n**Bidirectional Relationships**\r\n\r\nObject models used with object-to-relational mapping (ORM) solutions often have bidirectional relationships. You need to ensure this doesn&#39;t send your OXM layer into a loop. **MOXy JAXB** for example has the `@XmlInverseReference` extension to handle this:\r\n\r\n  - http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html\r\n  - http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html\r\n\r\n**Lazy Relationships**\r\n\r\nMany ORM solutions offer a mechanism to to have relationships between objects lazily realized. Some like TopLink/EclipseLink modify the Java bytecodes to add the logic to the &quot;get&quot; methods. You will need an OXM solution that is able to leverage both fields and properties.  In MOXy or any JAXB implementation this is done via `@XmlAccessorType`:\r\n\r\n  - http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\r\n  - https://stackoverflow.com/questions/6838323/moxy-jaxb-marshaling-and-hibernate-proxy-objects/6847497#6847497\r\n\r\n**Compound Keys/Embedded Key Classes**\r\n\r\nDatabase tables often have compound keys. If these keys will also be leveraged for intra-document references then you will need an OXM solution that can handle it. MOXy offers `@XmlKey` and `@XmlJoinNodes`:\r\n\r\n  - http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [2]: http://jcp.org/en/jsr/detail?id=222\r\n  [3]: http://www.eclipse.org/eclipselink/jpa.php\r\n  [4]: http://www.eclipse.org/eclipselink/moxy.php\r\n\r\n\r\n","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p><strong>Note:</strong> I'm the <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">EclipseLink JAXB (MOXy)</a> lead, and a member of the JAXB 2 (<a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\">JSR-222</a>) expert group.</p>\n\n<hr/>\n\n<blockquote>\n  <p>How to convert a Java object to an XML string, and conversely convert\n  XML to a Java object?</p>\n</blockquote>\n\n<p>With JAXB you can marshal an Object to a <code>java.io.StringWriter</code> to produce a <code>String</code>, and leverage a <code>java.io.StringReader</code> to unmarshal an Object from a <code>String</code>.</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html</a></li>\n</ul>\n\n<hr/>\n\n<blockquote>\n  <p>then I want to store this object in the database</p>\n</blockquote>\n\n<p>The <strong>Java EE</strong> solution is to use a <strong>JPA</strong> implementation (TopLink/<a href=\"http://www.eclipse.org/eclipselink/jpa.php\" rel=\"nofollow noreferrer\">EclipseLink</a>, Hibernate, Open JPA, etc.) to store the object in the database, and a <strong>JAXB</strong> implementation (TopLink/<a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">EclipseLink</a>, Metro, Apache JaxMe, etc.) to convert the object to/from XML.</p>\n\n<p>Since you will be persisting your objects to a database you need to be sure that your object-to-XML mapping (OXM) solution takes the following things into consideration:</p>\n\n<p><strong>Bidirectional Relationships</strong></p>\n\n<p>Object models used with object-to-relational mapping (ORM) solutions often have bidirectional relationships. You need to ensure this doesn't send your OXM layer into a loop. <strong>MOXy JAXB</strong> for example has the <code>@XmlInverseReference</code> extension to handle this:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html</a></li>\n<li><a href=\"http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2010/08/creating-restful-web-service-part-35.html</a></li>\n</ul>\n\n<p><strong>Lazy Relationships</strong></p>\n\n<p>Many ORM solutions offer a mechanism to to have relationships between objects lazily realized. Some like TopLink/EclipseLink modify the Java bytecodes to add the logic to the \"get\" methods. You will need an OXM solution that is able to leverage both fields and properties.  In MOXy or any JAXB implementation this is done via <code>@XmlAccessorType</code>:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6838323/moxy-jaxb-marshaling-and-hibernate-proxy-objects/6847497#6847497\">(moxy) jaxb marshaling and hibernate proxy objects</a></li>\n</ul>\n\n<p><strong>Compound Keys/Embedded Key Classes</strong></p>\n\n<p>Database tables often have compound keys. If these keys will also be leveraged for intra-document references then you will need an OXM solution that can handle it. MOXy offers <code>@XmlKey</code> and <code>@XmlJoinNodes</code>:</p>\n\n<ul>\n<li><a href=\"http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/EclipseLink/UserGuide/MOXy/Relationships/Shared_Reference/Keys_and_Foreign_Keys/Composite_Key</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194543,"creation_date":1480444495,"answer_id":40873260,"question_id":7172212,"body_markdown":"Here is the simplest and fastest code by [abacus-common][1]:\r\n    \r\n    Account account = N.fill(Account.class);\r\n    String xml = N.toXML(account);\r\n    N.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\r\n    Account account2 = N.fromXML(Account.class, xml);\r\n    assertEquals(account, account2);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Here is the simplest and fastest code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>Account account = N.fill(Account.class);\nString xml = N.toXML(account);\nN.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\nAccount account2 = N.fromXML(Account.class, xml);\nassertEquals(account, account2);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":540802,"reputation":45,"user_id":909128,"display_name":"tsaowe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7743,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":5,"score":2,"last_activity_date":1674194543,"creation_date":1314172646,"question_id":7172212,"body_markdown":"Assume a Java object:\r\n\r\n    Object obj = new Object();\r\n\r\nHow do I store this object in the database so to persist this status, and after I store it, it should be easy to convert to a Java object like when I store it?\r\n","title":"How to convert a Java object to an XML string, and conversely convert XML to a Java object?","body":"<p>Assume a Java object:</p>\n\n<pre><code>Object obj = new Object();\n</code></pre>\n\n<p>How do I store this object in the database so to persist this status, and after I store it, it should be easy to convert to a Java object like when I store it?</p>\n"},{"tags":["java","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":104434,"reputation":2853,"user_id":279218,"accept_rate":74,"display_name":"saugata"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1277891669,"creation_date":1277891669,"answer_id":3148140,"question_id":3147905,"body_markdown":"Pass a StringWriter object as argument to [marshal method][1] of Marshaller\r\n\r\n\r\n  [1]:  http://java.sun.com/webservices/docs/1.6/api/javax/xml/bind/Marshaller.html#marshal%28java.lang.Object,%20java.io.Writer%29","title":"Convert Java Object into a XML String using jaxb","body":"<p>Pass a StringWriter object as argument to <a href=\"http://java.sun.com/webservices/docs/1.6/api/javax/xml/bind/Marshaller.html#marshal%28java.lang.Object,%20java.io.Writer%29\" rel=\"noreferrer\">marshal method</a> of Marshaller</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674194528,"creation_date":1480444166,"answer_id":40873171,"question_id":3147905,"body_markdown":"Here is the simple code by [abacus-common][1]\r\n\r\n    \r\n    Account account = N.fill(Account.class);\r\n    String xml = N.toXML(account);\r\n    N.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\r\n    Account account2 = N.fromXML(Account.class, xml);\r\n    assertEquals(account, account2);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Convert Java Object into a XML String using jaxb","body":"<p>Here is the simple code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Account account = N.fill(Account.class);\nString xml = N.toXML(account);\nN.println(xml); // &lt;account&gt;&lt;id&gt;6264304841028291043&lt;/id&gt;&lt;gui&gt;33acdcbe-fd5b-49&lt;/gui&gt;&lt;emailAddress&gt;19c1400a-97ae-43&lt;/emailAddress&gt;&lt;firstName&gt;67922557-8bb4-47&lt;/firstName&gt;&lt;middleName&gt;7ef242c9-8ddf-48&lt;/middleName&gt;&lt;lastName&gt;1ec6c731-a3fd-42&lt;/lastName&gt;&lt;birthDate&gt;1480444055841&lt;/birthDate&gt;&lt;status&gt;1444930636&lt;/status&gt;&lt;lastUpdateTime&gt;1480444055841&lt;/lastUpdateTime&gt;&lt;createTime&gt;1480444055841&lt;/createTime&gt;&lt;/account&gt;\nAccount account2 = N.fromXML(Account.class, xml);\nassertEquals(account, account2);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674194528,"creation_date":1277889471,"question_id":3147905,"body_markdown":"I would like to convert a Java Object to a String containing the marshaled XML data. One of the ways I could find was to first marshal to a File and then read the file using BufferedReader to convert into a String. I feel this may not be the most efficient way, because the IO operations are performed twice (Once during marshaling and the second time during the conversion of file content into String)\r\n\r\nCould anyone please suggest any better approach?","title":"Convert Java Object into a XML String using jaxb","body":"<p>I would like to convert a Java Object to a String containing the marshaled XML data. One of the ways I could find was to first marshal to a File and then read the file using BufferedReader to convert into a String. I feel this may not be the most efficient way, because the IO operations are performed twice (Once during marshaling and the second time during the conversion of file content into String)</p>\n\n<p>Could anyone please suggest any better approach?</p>\n"},{"tags":["java","spring","jar","install4j"],"owner":{"account_id":7666865,"reputation":17,"user_id":5810357,"display_name":"sisir reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674193303,"creation_date":1674193303,"question_id":75180162,"body_markdown":"I have a signed jar while starting the application it is taking time to verify the signed jar. I would like to skip jar verification with the following command &quot;java -noverify -jar your_file.jar&quot; is there a way to add &quot;-noverify&quot; while running the jar","title":"How to run jar file with add on commands in install4j","body":"<p>I have a signed jar while starting the application it is taking time to verify the signed jar. I would like to skip jar verification with the following command &quot;java -noverify -jar your_file.jar&quot; is there a way to add &quot;-noverify&quot; while running the jar</p>\n"},{"tags":["java","android","android-layout","kotlin","android-custom-view"],"comments":[{"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"score":0,"creation_date":1539621543,"post_id":52820946,"comment_id":92559341,"body_markdown":"I&#39;ve suggested an edit to improve the formatting of your post. However, most of your library links aren&#39;t valid URLs. Please replace them with the correct ones, so that people can help better.","body":"I&#39;ve suggested an edit to improve the formatting of your post. However, most of your library links aren&#39;t valid URLs. Please replace them with the correct ones, so that people can help better."},{"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"score":0,"creation_date":1539668019,"post_id":52820946,"comment_id":92573578,"body_markdown":"You have to check this https://stackoverflow.com/a/16366645/5815673 and also this https://github.com/dkmeteor/CircleList","body":"You have to check this <a href=\"https://stackoverflow.com/a/16366645/5815673\">stackoverflow.com/a/16366645/5815673</a> and also this <a href=\"https://github.com/dkmeteor/CircleList\" rel=\"nofollow noreferrer\">github.com/dkmeteor/CircleList</a>"},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539668675,"post_id":52820946,"comment_id":92573757,"body_markdown":"@Shailesh the solution you are redirecting to contains only a textView while I&#39;m asking for any custom complex view.","body":"@Shailesh the solution you are redirecting to contains only a textView while I&#39;m asking for any custom complex view."},{"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"score":0,"creation_date":1539669541,"post_id":52820946,"comment_id":92574030,"body_markdown":"you have to use that for implement circular view and do some custom code for your custom layout. First you have to try then still you face any issue then share it here","body":"you have to use that for implement circular view and do some custom code for your custom layout. First you have to try then still you face any issue then share it here"},{"owner":{"account_id":9604354,"reputation":28158,"user_id":7130820,"display_name":"Andrii Turkovskyi"},"score":0,"creation_date":1539687044,"post_id":52820946,"comment_id":92583470,"body_markdown":"Did you look at this? https://github.com/kapil93/Circular-Layout-Manager","body":"Did you look at this? <a href=\"https://github.com/kapil93/Circular-Layout-Manager\" rel=\"nofollow noreferrer\">github.com/kapil93/Circular-Layout-Manager</a>"},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539696198,"post_id":52820946,"comment_id":92589067,"body_markdown":"thank you all finally this library helped me out. (https://github.com/SachinR90/VWUiDemo).  And I got the solution as per my requirement after little bit changes.","body":"thank you all finally this library helped me out. (<a href=\"https://github.com/SachinR90/VWUiDemo\" rel=\"nofollow noreferrer\">github.com/SachinR90/VWUiDemo</a>).  And I got the solution as per my requirement after little bit changes."},{"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"score":0,"creation_date":1539755254,"post_id":52820946,"comment_id":92611829,"body_markdown":"Thanks @AndreyTurkovsky https://github.com/kapil93/Circular-Layout-Manager also helped me.","body":"Thanks @AndreyTurkovsky <a href=\"https://github.com/kapil93/Circular-Layout-Manager\" rel=\"nofollow noreferrer\">github.com/kapil93/Circular-Layout-Manager</a> also helped me."}],"answers":[{"tags":[],"owner":{"account_id":16813178,"reputation":313,"user_id":12155702,"display_name":"Sumit Ojha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674192321,"creation_date":1674192321,"answer_id":75180071,"question_id":52820946,"body_markdown":"I&#39;m Using to this layout manager to show recycler view in android\r\n\r\nhttps://github.com/AndroidDeveloper98/CircularRecyclerView\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4Ixl.jpg","title":"How to implement a circular RecylerView / ListView using any CircularLayoutManager","body":"<p>I'm Using to this layout manager to show recycler view in android</p>\n<p><a href=\"https://github.com/AndroidDeveloper98/CircularRecyclerView\" rel=\"nofollow noreferrer\">https://github.com/AndroidDeveloper98/CircularRecyclerView</a></p>\n<p><a href=\"https://i.stack.imgur.com/X4Ixl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Ixl.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12864528,"reputation":165,"user_id":9305251,"display_name":"Kotdroid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674192321,"creation_date":1539620602,"question_id":52820946,"body_markdown":"I want to make a `CircularListView` that will be coming from corner click of screen and only half list item should be visible before scrolling. And the item in list is in Dynamic nature - [![enter image description here][1]][1].   \r\nAnd I have used these libraries from github but not getting any efficient solution from any of them. These libraries are: \r\n\r\n1. [RamotionCircleMenu][2] -&gt; In this library custom layout is not possible.\r\n\r\n2. [HellocslCursorWheelLayout][3] -&gt; Here no customization is possible, Item Selection is poor.\r\n\r\n3. [JungHsuanCircularList][4] -&gt; When you add items in bulk the item overlaps, circle radius not get updated according to item count(still this one is better)\r\n\r\n4. [LukedeightonWheelview][5] -&gt; Only `Drawable` as item is allowed.\r\n\r\nSo please let me know if anyone is having solution for it. I want the solution for dynamic item count, custom layout as item and smooth scroll of `List/RecyclerView`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HsrNM.png\r\n  [2]: https://github.com/Ramotion/circle-menu-android\r\n  [3]: https://github.com/BCsl/CursorWheelLayout\r\n  [4]: https://github.com/JungHsuan/CircularUI\r\n  [5]: https://github.com/LukeDeighton/WheelView","title":"How to implement a circular RecylerView / ListView using any CircularLayoutManager","body":"<p>I want to make a <code>CircularListView</code> that will be coming from corner click of screen and only half list item should be visible before scrolling. And the item in list is in Dynamic nature - <a href=\"https://i.stack.imgur.com/HsrNM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HsrNM.png\" alt=\"enter image description here\"></a>.<br>\nAnd I have used these libraries from github but not getting any efficient solution from any of them. These libraries are: </p>\n\n<ol>\n<li><p><a href=\"https://github.com/Ramotion/circle-menu-android\" rel=\"nofollow noreferrer\">RamotionCircleMenu</a> -> In this library custom layout is not possible.</p></li>\n<li><p><a href=\"https://github.com/BCsl/CursorWheelLayout\" rel=\"nofollow noreferrer\">HellocslCursorWheelLayout</a> -> Here no customization is possible, Item Selection is poor.</p></li>\n<li><p><a href=\"https://github.com/JungHsuan/CircularUI\" rel=\"nofollow noreferrer\">JungHsuanCircularList</a> -> When you add items in bulk the item overlaps, circle radius not get updated according to item count(still this one is better)</p></li>\n<li><p><a href=\"https://github.com/LukeDeighton/WheelView\" rel=\"nofollow noreferrer\">LukedeightonWheelview</a> -> Only <code>Drawable</code> as item is allowed.</p></li>\n</ol>\n\n<p>So please let me know if anyone is having solution for it. I want the solution for dynamic item count, custom layout as item and smooth scroll of <code>List/RecyclerView</code>.</p>\n"},{"tags":["java","spring-mvc","dependency-injection","autowired","spring-test"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1612141904,"post_id":65985642,"comment_id":116666563,"body_markdown":"`No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available` -- the dependency that&#39;s missing is a ***Spring*** dependency, not a Maven dependency.  Have you provided the necessary dummy implementation?","body":"<code>No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available</code> -- the dependency that&#39;s missing is a <b><i>Spring</i></b> dependency, not a Maven dependency.  Have you provided the necessary dummy implementation?"},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1612142279,"post_id":65985642,"comment_id":116666614,"body_markdown":"@JimGarrison Yes I did.","body":"@JimGarrison Yes I did."},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1612142431,"post_id":65985642,"comment_id":116666637,"body_markdown":"@JimGarrison And it&#39;s working in JDK8 but not on JDK11. Here is where I&#39;m having little trouble to understand. It looks like dependency problem. But it should be there in JDK8 too but it runs fine in there.","body":"@JimGarrison And it&#39;s working in JDK8 but not on JDK11. Here is where I&#39;m having little trouble to understand. It looks like dependency problem. But it should be there in JDK8 too but it runs fine in there."},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1612197433,"post_id":65985642,"comment_id":116685388,"body_markdown":"It sounds like it might be a visibility issue with the Java module system. What happens if you launch the JVM with `--add-opens java.base/java.lang=ALL-UNNAMED`?","body":"It sounds like it might be a visibility issue with the Java module system. What happens if you launch the JVM with <code>--add-opens java.base&#47;java.lang=ALL-UNNAMED</code>?"}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674192086,"creation_date":1612138760,"question_id":65985642,"body_markdown":"Tests run fine with Java 8. But As soon as I changes the runtime to JDK11, suddenly @Autowired doesn&#39;t work. \r\nI&#39;m getting the below exception when I do so.\r\n\r\n    04:44:41.427 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception \r\n    while allowing TestExecutionListener \r\n    [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4fce136b] to \r\n    prepare test instance [com.dummy.SomeListener@4aa83f4f]\r\n     org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.dummy.SomeTest&#39;: Unsatisfied dependency expressed through field &#39;depRepo&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1377) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464) [.cp/:?]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) [.cp/:?]\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.dummy.DummyRepositoryImpl&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1648) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\r\nAnd this is the example test class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;classpath*:/spring/test-context.xml&quot;})\r\n    public class SomeTest {\r\n\r\n\t   @Autowired\r\n\t   DummyRepositoryImpl dummyRepo;\r\n\t\r\n\t   @Test\r\n\t   public void letsTest() {\r\n\t\t   //Some code that uses dummyRepo\r\n\t   }\r\n    }\r\n\r\nFor you reference, I&#39;m including test related dependencies\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.27.0&lt;/version&gt;\r\n\t        &lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t      &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t      &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand plugins\r\n\r\n          &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;forkMode&gt;always&lt;/forkMode&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xmx1024m -XX:MetaspaceSize=1024m -XX:MaxMetaspaceSize=1024m ${surefireArgLine} -enableassertions&lt;/argLine&gt; \r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt; \r\n\t\t\t&lt;/plugin&gt;\r\n\r\nReference Project Structure I&#39;ve&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve been spending lot of time but unable to understand what&#39;s happening here \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwLvx.png","title":"@Autowired is getting failed in Test classes when I migrate to Java11 from Java8. Getting UnsatisfiedDependencyException","body":"<p>Tests run fine with Java 8. But As soon as I changes the runtime to JDK11, suddenly @Autowired doesn't work.\nI'm getting the below exception when I do so.</p>\n<pre><code>04:44:41.427 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception \nwhile allowing TestExecutionListener \n[org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4fce136b] to \nprepare test instance [com.dummy.SomeListener@4aa83f4f]\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.dummy.SomeTest': Unsatisfied dependency expressed through field 'depRepo'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.dummy.DummyRepositoryImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1377) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:396) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464) [.cp/:?]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) [.cp/:?]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.dummy.DummyRepositoryImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1648) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n</code></pre>\n<p>And this is the example test class</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {&quot;classpath*:/spring/test-context.xml&quot;})\npublic class SomeTest {\n\n   @Autowired\n   DummyRepositoryImpl dummyRepo;\n\n   @Test\n   public void letsTest() {\n       //Some code that uses dummyRepo\n   }\n}\n</code></pre>\n<p>For you reference, I'm including test related dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.27.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.el&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and plugins</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;forkMode&gt;always&lt;/forkMode&gt;\n                &lt;argLine&gt;-Xmx1024m -XX:MetaspaceSize=1024m -XX:MaxMetaspaceSize=1024m ${surefireArgLine} -enableassertions&lt;/argLine&gt; \n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                    &lt;version&gt;2.18.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt; \n        &lt;/plugin&gt;\n</code></pre>\n<p>Reference Project Structure I've<br>\n<a href=\"https://i.stack.imgur.com/zwLvx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwLvx.png\" alt=\"enter image description here\" /></a></p>\n<p>I've been spending lot of time but unable to understand what's happening here</p>\n"},{"tags":["java","hibernate","hql","orm"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280532590,"creation_date":1280532590,"answer_id":3376072,"question_id":3375762,"body_markdown":"AFAIK, your query won&#39;t return the expected result, it will only return the columns **before** the `null` (`id` in your case). However, the following would work \r\n\r\n    select id as first, &#39;&#39;, name from MyClass\r\n\r\nI don&#39;t know if this is a bug or just a non supported feature (the [HQL help: possible to &quot;select NULL as ...&quot;?][1] thread on the Hibernate forums seems to suggest it&#39;s a bug).\r\n\r\nI&#39;m not sure I understood why you need this (could a `select new` expression be an alternative?) but I&#39;m afraid you&#39;ll have to use native SQL here.\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=985612&amp;start=0","title":"Can I select null as a column value in HQL query?","body":"<p>AFAIK, your query won't return the expected result, it will only return the columns <strong>before</strong> the <code>null</code> (<code>id</code> in your case). However, the following would work </p>\n\n<pre><code>select id as first, '', name from MyClass\n</code></pre>\n\n<p>I don't know if this is a bug or just a non supported feature (the <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=985612&amp;start=0\" rel=\"nofollow noreferrer\">HQL help: possible to \"select NULL as ...\"?</a> thread on the Hibernate forums seems to suggest it's a bug).</p>\n\n<p>I'm not sure I understood why you need this (could a <code>select new</code> expression be an alternative?) but I'm afraid you'll have to use native SQL here.</p>\n"},{"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1280548860,"creation_date":1280548860,"answer_id":3376732,"question_id":3375762,"body_markdown":"Another option that seems to work (tested on DB2, MySQL, Oracle, and SQL Server): \r\n\r\n    select id, cast(null as char), name from ...\r\n\r\nYou could subclass the Hibernate dialect and abstract it with a custom function:\r\n\r\n    registerFunction(&quot;always_null&quot;, \r\n      new SQLFunctionTemplate(Hibernate.STRING, &quot;cast(null as char)&quot;));\r\n\r\nand then use this in your HQL:\r\n\r\n    select id, always_null(), name from ...","title":"Can I select null as a column value in HQL query?","body":"<p>Another option that seems to work (tested on DB2, MySQL, Oracle, and SQL Server): </p>\n\n<pre><code>select id, cast(null as char), name from ...\n</code></pre>\n\n<p>You could subclass the Hibernate dialect and abstract it with a custom function:</p>\n\n<pre><code>registerFunction(\"always_null\", \n  new SQLFunctionTemplate(Hibernate.STRING, \"cast(null as char)\"));\n</code></pre>\n\n<p>and then use this in your HQL:</p>\n\n<pre><code>select id, always_null(), name from ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":789637,"reputation":11,"user_id":707445,"display_name":"Viktoriia Lymareva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302764901,"creation_date":1302764901,"answer_id":5659750,"question_id":3375762,"body_markdown":"You can also try TO_CHAR(null). It works fine for HQL- Oracle in constructor new Foo(id, name, attr3) where attr3 - String value","title":"Can I select null as a column value in HQL query?","body":"<p>You can also try TO_CHAR(null). It works fine for HQL- Oracle in constructor new Foo(id, name, attr3) where attr3 - String value</p>\n"},{"tags":[],"owner":{"account_id":748580,"reputation":81,"user_id":739254,"display_name":"sohrab yousefi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1437464579,"creation_date":1304574319,"answer_id":5893168,"question_id":3375762,"body_markdown":"You can use `nullif()` function to generate null.\r\n\r\nIt accepts two arguments. If arguments are equal, it&#39;ll return `null` value.","title":"Can I select null as a column value in HQL query?","body":"<p>You can use <code>nullif()</code> function to generate null.</p>\n\n<p>It accepts two arguments. If arguments are equal, it'll return <code>null</code> value.</p>\n"},{"tags":[],"owner":{"account_id":2885894,"reputation":357,"user_id":2475820,"display_name":"Henrique Brisola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674191465,"creation_date":1674077215,"answer_id":75165461,"question_id":3375762,"body_markdown":"    select id, null as column_name, name \r\n    from MyClass","title":"Can I select null as a column value in HQL query?","body":"<pre><code>select id, null as column_name, name \nfrom MyClass\n</code></pre>\n"}],"owner":{"account_id":90146,"reputation":5999,"user_id":248258,"accept_rate":80,"display_name":"WSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18693,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":3376732,"answer_count":5,"score":18,"last_activity_date":1674191465,"creation_date":1280528106,"question_id":3375762,"body_markdown":"I need a list with three columns. column 1st and 3rd having values while 2nd as null.\r\nCan I do it through HQL query?   \r\n\r\nI need something like this:\r\n\r\n    select id, null, name from MyClass\r\n\r\nWhere MyClass as well as underlying table has only two properties/columns ie, &quot;id&quot; and &quot;name&quot;","title":"Can I select null as a column value in HQL query?","body":"<p>I need a list with three columns. column 1st and 3rd having values while 2nd as null.\nCan I do it through HQL query?   </p>\n\n<p>I need something like this:</p>\n\n<pre><code>select id, null, name from MyClass\n</code></pre>\n\n<p>Where MyClass as well as underlying table has only two properties/columns ie, \"id\" and \"name\"</p>\n"},{"tags":["java","spring-boot","spring-mvc","http-patch"],"comments":[{"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"score":0,"creation_date":1600937792,"post_id":64035229,"comment_id":113248735,"body_markdown":"I tried on a demo spring boot application and patch is working as expected. \n\nThere is one unrelated issue in your code... You are using &#39;&#39;@PathVariable(&quot;id&quot;)&quot; in updateById method without having a pathVariable placeholder in the URI.","body":"I tried on a demo spring boot application and patch is working as expected.   There is one unrelated issue in your code... You are using &#39;&#39;@PathVariable(&quot;id&quot;)&quot; in updateById method without having a pathVariable placeholder in the URI."},{"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"score":0,"creation_date":1600942223,"post_id":64035229,"comment_id":113250902,"body_markdown":"Oh. Good catch! I sure think that&#39;s the cause. I missed out the `{}`. Thank you.","body":"Oh. Good catch! I sure think that&#39;s the cause. I missed out the <code>{}</code>. Thank you."},{"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"score":0,"creation_date":1600946106,"post_id":64035229,"comment_id":113252779,"body_markdown":"If that solves your problem. Shall i pop-it out as an answer ?","body":"If that solves your problem. Shall i pop-it out as an answer ?"},{"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"score":0,"creation_date":1600959629,"post_id":64035229,"comment_id":113259964,"body_markdown":"Sure and I&#39;ll accept it as an answer.","body":"Sure and I&#39;ll accept it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":9679006,"reputation":119,"user_id":7181395,"display_name":"MrBrightside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600895709,"creation_date":1600895709,"answer_id":64036336,"question_id":64035229,"body_markdown":"The standard HTTP client does not support PATCH requests.\r\n\r\nYou can just add the apache HTTP client to your project. It should be automatically added by spring boot if it&#39;s found on the classpath.\r\n\r\nhttps://hc.apache.org/","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>The standard HTTP client does not support PATCH requests.</p>\n<p>You can just add the apache HTTP client to your project. It should be automatically added by spring boot if it's found on the classpath.</p>\n<p><a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">https://hc.apache.org/</a></p>\n"},{"tags":[],"owner":{"account_id":2897269,"reputation":2058,"user_id":2484748,"accept_rate":30,"display_name":"Sahil Gupta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601054578,"creation_date":1600946136,"answer_id":64045313,"question_id":64035229,"body_markdown":"I tried on a demo spring boot application and patch is working as expected. \r\n\r\nThere is one unrelated issue in your code... You are using `@PathVariable(&quot;id&quot;)` in `updateById` method without having a `pathVariable` placeholder in the URI.","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>I tried on a demo spring boot application and patch is working as expected.</p>\n<p>There is one unrelated issue in your code... You are using <code>@PathVariable(&quot;id&quot;)</code> in <code>updateById</code> method without having a <code>pathVariable</code> placeholder in the URI.</p>\n"},{"tags":[],"owner":{"account_id":18629379,"reputation":127,"user_id":13603753,"display_name":"tio_hecro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661264213,"creation_date":1640877713,"answer_id":70533531,"question_id":64035229,"body_markdown":"i did resolve the issues, in my case i made a mistake, i wrote \r\n\r\n\r\n`@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)`\r\n\r\ninstead of:\r\n\r\n`@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)`\r\n","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>i did resolve the issues, in my case i made a mistake, i wrote</p>\n<p><code>@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)</code></p>\n<p>instead of:</p>\n<p><code>@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":25994154,"reputation":23,"user_id":19705834,"display_name":"Us3rL0sT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674190833,"creation_date":1674190833,"answer_id":75179970,"question_id":64035229,"body_markdown":"I decided &quot;Request method &#39;PATCH&#39; not supported&quot; by replacing @PostMapping with @RequestMapping","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>I decided &quot;Request method 'PATCH' not supported&quot; by replacing @PostMapping with @RequestMapping</p>\n"}],"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64045313,"answer_count":4,"score":2,"last_activity_date":1674190833,"creation_date":1600890191,"question_id":64035229,"body_markdown":"Is HTTP PATCH not enabled by default in Spring MVC/Boot? I&#39;m getting the ff error:\r\n\r\n    org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;PATCH&#39; not supported\r\n            at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:213)\r\n\r\nFor my controller:\r\n\r\n    @PatchMapping(&quot;/id&quot;)\r\n    public ResourceResponse updateById(@PathVariable Long id, ServletServerHttpRequest request) {\r\n\r\nI have my configuration as follows:\r\n\r\n    .antMatchers(HttpMethod.PATCH, &quot;/products/**&quot;).hasRole(&quot;MANAGER&quot;)\r\n    ...\r\n    configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n\r\nI checked the source code of Spring `FrameworkServlet.java`, there is something special to PATCH:\r\n\r\n    @Override\r\n    protected void service(HttpServletRequest request, HttpServletResponse response)\r\n    \t\tthrows ServletException, IOException {\r\n    \r\n    \tHttpMethod httpMethod = HttpMethod.resolve(request.getMethod());\r\n    \tif (httpMethod == HttpMethod.PATCH || httpMethod == null) {\r\n    \t\tprocessRequest(request, response);\r\n    \t}\r\n    \telse {\r\n    \t\tsuper.service(request, response);\r\n    \t}\r\n    }\r\n\r\nI googled already but I was not able to find anything that can help resolve my issue.\r\n\r\nThank you.","title":"Spring MVC Request method &#39;PATCH&#39; not supported","body":"<p>Is HTTP PATCH not enabled by default in Spring MVC/Boot? I'm getting the ff error:</p>\n<pre><code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PATCH' not supported\n        at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:213)\n</code></pre>\n<p>For my controller:</p>\n<pre><code>@PatchMapping(&quot;/id&quot;)\npublic ResourceResponse updateById(@PathVariable Long id, ServletServerHttpRequest request) {\n</code></pre>\n<p>I have my configuration as follows:</p>\n<pre><code>.antMatchers(HttpMethod.PATCH, &quot;/products/**&quot;).hasRole(&quot;MANAGER&quot;)\n...\nconfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n</code></pre>\n<p>I checked the source code of Spring <code>FrameworkServlet.java</code>, there is something special to PATCH:</p>\n<pre><code>@Override\nprotected void service(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    HttpMethod httpMethod = HttpMethod.resolve(request.getMethod());\n    if (httpMethod == HttpMethod.PATCH || httpMethod == null) {\n        processRequest(request, response);\n    }\n    else {\n        super.service(request, response);\n    }\n}\n</code></pre>\n<p>I googled already but I was not able to find anything that can help resolve my issue.</p>\n<p>Thank you.</p>\n"},{"tags":["java","solr","lucene","solrj","solr5"],"comments":[{"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"score":0,"creation_date":1429329235,"post_id":29699018,"comment_id":47560777,"body_markdown":"@cheffe have any idea about this ?","body":"@cheffe have any idea about this ?"}],"answers":[{"tags":[],"owner":{"account_id":1529209,"reputation":3340,"user_id":1426861,"accept_rate":67,"display_name":"tonysepia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429738112,"creation_date":1429738112,"answer_id":29809194,"question_id":29699018,"body_markdown":"I just had the same problem. Your core config comes from a different version of Solr. \r\n\r\nSo a few solutions:\r\n\r\n - re-create config files from scratch\r\n - get a different version\r\n - get a Solr guru to pinpoint where the issue is :)","title":"SolrCore Initialization Failures","body":"<p>I just had the same problem. Your core config comes from a different version of Solr. </p>\n\n<p>So a few solutions:</p>\n\n<ul>\n<li>re-create config files from scratch</li>\n<li>get a different version</li>\n<li>get a Solr guru to pinpoint where the issue is :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4232379,"reputation":96,"user_id":3464440,"display_name":"bigboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434994091,"creation_date":1434994091,"answer_id":30986195,"question_id":29699018,"body_markdown":"Check if you do not have duplicated .jars. For me it was duplicated jar in core&#39;s lib folder. It started throwing null pointers after migrating to SOLR 5","title":"SolrCore Initialization Failures","body":"<p>Check if you do not have duplicated .jars. For me it was duplicated jar in core's lib folder. It started throwing null pointers after migrating to SOLR 5</p>\n"},{"tags":[],"owner":{"account_id":1854263,"reputation":1105,"user_id":1680187,"display_name":"Raul Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438798860,"creation_date":1438798860,"answer_id":31840008,"question_id":29699018,"body_markdown":"I copied a solr 5.0.0 core on windows 8.1 to a solr 5.2.1 installation on ubuntu 14.04. First, solr service didn&#39;t even start. Then I moved the core to another location and added it by hand (i.e. created directories, tried to add a core from webapp, copied missing files, tried to add a core from webapp, etc.).\r\nAt some time I came to that exception.\r\n\r\nThe problem was, that I had solr-dataimporthandler-5.0.0.jar and solr-dataimporthandler-extras-5.0.0.jar in the lib directory of my core. So I deleted those and copied solr-dataimporthandler-5.2.1 and solr-dataimporthandler-extras-5.2.1 from /opt/solr/dist to my core&#39;s lib directory and I had no more exceptions.","title":"SolrCore Initialization Failures","body":"<p>I copied a solr 5.0.0 core on windows 8.1 to a solr 5.2.1 installation on ubuntu 14.04. First, solr service didn't even start. Then I moved the core to another location and added it by hand (i.e. created directories, tried to add a core from webapp, copied missing files, tried to add a core from webapp, etc.).\nAt some time I came to that exception.</p>\n\n<p>The problem was, that I had solr-dataimporthandler-5.0.0.jar and solr-dataimporthandler-extras-5.0.0.jar in the lib directory of my core. So I deleted those and copied solr-dataimporthandler-5.2.1 and solr-dataimporthandler-extras-5.2.1 from /opt/solr/dist to my core's lib directory and I had no more exceptions.</p>\n"},{"tags":[],"owner":{"account_id":12678161,"reputation":150,"user_id":9212995,"display_name":"Namwanza Ronald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668102786,"creation_date":1668102786,"answer_id":74393370,"question_id":29699018,"body_markdown":"&gt;     SolrCore Initialization Failures\r\n\r\nI noticed that the data directory was not pointing to the correct data directory so I had to change it from `&lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;` to  `&lt;dataDir&gt;${solr.data.dir:/var/solr/data}&lt;/dataDir&gt;` in the file \r\n\r\n`/var/solr/data/ckan/conf/solrconfig.xml`\r\n\r\nOn going through the solrconfig.xml, I noted that extra comments were added eg  `&lt;!--&lt;!--&lt;!--` and and `--&gt;--&gt;--&gt;` respectively on some lines of code, this was also causing an issue for ckan to initiate.\r\n\r\n    &lt;!--&lt;!--&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; --&gt;--&gt;--&gt;\r\n\r\n \r\n\r\nIf that is the case, then comment it correctly for example;\r\n\r\n    &lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt;\r\n         &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n          &lt;lst name=&quot;typeMapping&quot;&gt;\r\n            &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt;\r\n            &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt;\r\n          &lt;/lst&gt;\r\n        &lt;/processor&gt;\r\n      --&gt;\r\n\r\nand make sure that everything else is well commented as I found other lines of code that were not commented well, ensure to comment them correctly.\r\n\r\n\r\nFinally, \r\n\r\n**restart solr**\r\n\r\n    /etc/init.d/solr restart\r\n\r\nor\r\n\r\n    sudo service solr restart\r\n\r\nand then, check to see that everything works fine and don&#39;t forget to look at the logging for any other issues.\r\n\r\nhttp://localhost:8983/solr/#/ckan \r\n\r\nHappy debugging !!","title":"SolrCore Initialization Failures","body":"<blockquote>\n<pre><code>SolrCore Initialization Failures\n</code></pre>\n</blockquote>\n<p>I noticed that the data directory was not pointing to the correct data directory so I had to change it from <code>&lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;</code> to  <code>&lt;dataDir&gt;${solr.data.dir:/var/solr/data}&lt;/dataDir&gt;</code> in the file</p>\n<p><code>/var/solr/data/ckan/conf/solrconfig.xml</code></p>\n<p>On going through the solrconfig.xml, I noted that extra comments were added eg  <code>&lt;!--&lt;!--&lt;!--</code> and and <code>--&gt;--&gt;--&gt;</code> respectively on some lines of code, this was also causing an issue for ckan to initiate.</p>\n<pre><code>&lt;!--&lt;!--&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt; --&gt;--&gt;--&gt;\n</code></pre>\n<p>If that is the case, then comment it correctly for example;</p>\n<pre><code>&lt;!-- &lt;processor class=&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&gt;\n     &lt;str name=&quot;defaultFieldType&quot;&gt;strings&lt;/str&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Boolean&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;booleans&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.util.Date&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tdates&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Long&lt;/str&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Integer&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tlongs&lt;/str&gt;\n      &lt;/lst&gt;\n      &lt;lst name=&quot;typeMapping&quot;&gt;\n        &lt;str name=&quot;valueClass&quot;&gt;java.lang.Number&lt;/str&gt;\n        &lt;str name=&quot;fieldType&quot;&gt;tdoubles&lt;/str&gt;\n      &lt;/lst&gt;\n    &lt;/processor&gt;\n  --&gt;\n</code></pre>\n<p>and make sure that everything else is well commented as I found other lines of code that were not commented well, ensure to comment them correctly.</p>\n<p>Finally,</p>\n<p><strong>restart solr</strong></p>\n<pre><code>/etc/init.d/solr restart\n</code></pre>\n<p>or</p>\n<pre><code>sudo service solr restart\n</code></pre>\n<p>and then, check to see that everything works fine and don't forget to look at the logging for any other issues.</p>\n<p>http://localhost:8983/solr/#/ckan</p>\n<p>Happy debugging !!</p>\n"},{"tags":[],"owner":{"account_id":2668205,"reputation":2229,"user_id":2306102,"accept_rate":50,"display_name":"Alexander Schranz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674179935,"creation_date":1674179935,"answer_id":75179941,"question_id":29699018,"body_markdown":"I had the same strange error message in my logs WebUI of Solr:\r\n\r\n&gt; SolrCore Initialization Failures gettingstarted: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Please check your logs for more information\r\n\r\nIt did happen after I switched to the `Solr` `cloud` mode:\r\n\r\nAnd then I did found out that my `docker-compose volume` still had old data in it so I did search for it via\r\n\r\n    docker volume ls | grep solr\r\n\r\nand removed it via\r\n\r\n    docker volume rm &lt;name&gt;\r\n\r\nIn my case I also had first to remove the container using it. But then it did not longer show up that error message.","title":"SolrCore Initialization Failures","body":"<p>I had the same strange error message in my logs WebUI of Solr:</p>\n<blockquote>\n<p>SolrCore Initialization Failures gettingstarted: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Please check your logs for more information</p>\n</blockquote>\n<p>It did happen after I switched to the <code>Solr</code> <code>cloud</code> mode:</p>\n<p>And then I did found out that my <code>docker-compose volume</code> still had old data in it so I did search for it via</p>\n<pre><code>docker volume ls | grep solr\n</code></pre>\n<p>and removed it via</p>\n<pre><code>docker volume rm &lt;name&gt;\n</code></pre>\n<p>In my case I also had first to remove the container using it. But then it did not longer show up that error message.</p>\n"}],"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20810,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1674179935,"creation_date":1429273097,"question_id":29699018,"body_markdown":"I am using Solr-5.0.0 and when i am trying to create  a core in that i am getting the following error in logging.\r\n\r\n    SolrCore Initialization Failures\r\n    org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n\r\nThis is the exception in the logging\r\n\r\n    4/17/2015, 3:49:23 PM\r\n    ERROR\r\n    SolrCore\r\n    java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n    \tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:190)\r\n    \tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)\r\n    \tat org.apache.solr.core.SolrCore.execute(SolrCore.java:1984)\r\n    \tat org.apache.solr.core.QuerySenderListener.newSearcher(QuerySenderListener.java:64)\r\n    \tat org.apache.solr.core.SolrCore$5.call(SolrCore.java:1751)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    4/17/2015, 3:49:23 PM\r\n    ERROR\r\n    CoreContainer\r\n    Error creating core [TEST]: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:885)\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:652)\r\n    \tat org.apache.solr.core.CoreContainer.create(CoreContainer.java:518)\r\n    \tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:283)\r\n    \tat org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:277)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NoSuchMethodError: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\r\n    \tat org.apache.solr.handler.dataimport.DataImportHandler.inform(DataImportHandler.java:100)\r\n    \tat org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:620)\r\n    \tat org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:868)\r\n\r\n\r\nMy actual data is in mongoDB.\r\n\r\nMy solrconfig.xml file is given below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;config&gt;\r\n    \r\n      &lt;luceneMatchVersion&gt;5.0.0&lt;/luceneMatchVersion&gt;\r\n    \r\n      \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/extraction/lib&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-cell-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/clustering/lib/&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-clustering-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/langid/lib/&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-langid-\\d.*\\.jar&quot; /&gt;\r\n    \r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/contrib/velocity/lib&quot; regex=&quot;.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/&quot; regex=&quot;solr-velocity-\\d.*\\.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/solr-mongo-importer-1.0.0.jar&quot; /&gt;\r\n      &lt;lib dir=&quot;${solr.install.dir:../../../..}/dist/mongo-java-driver-2.9.0.jar&quot; /&gt;\r\n    \r\n      \r\n      &lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;\r\n    \r\n    \r\n      &lt;directoryFactory name=&quot;DirectoryFactory&quot; \r\n                        class=&quot;${solr.directoryFactory:solr.NRTCachingDirectoryFactory}&quot;/&gt;\r\n    \r\n      &lt;codecFactory class=&quot;solr.SchemaCodecFactory&quot;/&gt;\r\n    \r\n     \r\n      &lt;schemaFactory class=&quot;ClassicIndexSchemaFactory&quot;/&gt;\r\n    \r\n      \r\n      &lt;indexConfig&gt;\r\n       \r\n        &lt;lockType&gt;${solr.lock.type:native}&lt;/lockType&gt;\r\n    \r\n       \r\n         &lt;infoStream&gt;true&lt;/infoStream&gt;\r\n      &lt;/indexConfig&gt;\r\n    \r\n    \r\n    \r\n      &lt;jmx /&gt;\r\n      \r\n      &lt;updateHandler class=&quot;solr.DirectUpdateHandler2&quot;&gt;\r\n    \r\n       \r\n        &lt;updateLog&gt;\r\n          &lt;str name=&quot;dir&quot;&gt;${solr.ulog.dir:}&lt;/str&gt;\r\n        &lt;/updateLog&gt;\r\n     \r\n       \r\n         &lt;autoCommit&gt; \r\n           &lt;maxTime&gt;${solr.autoCommit.maxTime:15000}&lt;/maxTime&gt; \r\n           &lt;openSearcher&gt;false&lt;/openSearcher&gt; \r\n         &lt;/autoCommit&gt;\r\n    \r\n        \r\n         &lt;autoSoftCommit&gt; \r\n           &lt;maxTime&gt;${solr.autoSoftCommit.maxTime:-1}&lt;/maxTime&gt; \r\n         &lt;/autoSoftCommit&gt;\r\n    \r\n        \r\n    \r\n      &lt;/updateHandler&gt;\r\n      \r\n      \r\n      &lt;query&gt;\r\n       \r\n        &lt;maxBooleanClauses&gt;1024&lt;/maxBooleanClauses&gt;\r\n    \r\n     \r\n        \r\n        &lt;slowQueryThresholdMillis&gt;-1&lt;/slowQueryThresholdMillis&gt;\r\n    \r\n    \r\n       \r\n        &lt;filterCache class=&quot;solr.FastLRUCache&quot;\r\n                     size=&quot;512&quot;\r\n                     initialSize=&quot;512&quot;\r\n                     autowarmCount=&quot;0&quot;/&gt;\r\n    \r\n        &lt;queryResultCache class=&quot;solr.LRUCache&quot;\r\n                         size=&quot;512&quot;\r\n                         initialSize=&quot;512&quot;\r\n                         autowarmCount=&quot;0&quot;/&gt;\r\n       \r\n        &lt;documentCache class=&quot;solr.LRUCache&quot;\r\n                       size=&quot;512&quot;\r\n                       initialSize=&quot;512&quot;\r\n                       autowarmCount=&quot;0&quot;/&gt;\r\n        \r\n       \r\n        &lt;cache name=&quot;perSegFilter&quot;\r\n          class=&quot;solr.search.LRUCache&quot;\r\n          size=&quot;10&quot;\r\n          initialSize=&quot;0&quot;\r\n          autowarmCount=&quot;10&quot;\r\n          regenerator=&quot;solr.NoOpRegenerator&quot; /&gt;\r\n    \r\n       \r\n        &lt;enableLazyFieldLoading&gt;true&lt;/enableLazyFieldLoading&gt;\r\n    \r\n       \r\n       &lt;queryResultWindowSize&gt;20&lt;/queryResultWindowSize&gt;\r\n    \r\n      \r\n       &lt;queryResultMaxDocsCached&gt;200&lt;/queryResultMaxDocsCached&gt;\r\n    \r\n        &lt;listener event=&quot;newSearcher&quot; class=&quot;solr.QuerySenderListener&quot;&gt;\r\n          &lt;arr name=&quot;queries&quot;&gt;\r\n          \r\n          &lt;/arr&gt;\r\n        &lt;/listener&gt;\r\n        &lt;listener event=&quot;firstSearcher&quot; class=&quot;solr.QuerySenderListener&quot;&gt;\r\n          &lt;arr name=&quot;queries&quot;&gt;\r\n            &lt;lst&gt;\r\n              &lt;str name=&quot;q&quot;&gt;static firstSearcher warming in solrconfig.xml&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/arr&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        \r\n        &lt;useColdSearcher&gt;false&lt;/useColdSearcher&gt;\r\n    \r\n       \r\n        &lt;maxWarmingSearchers&gt;2&lt;/maxWarmingSearchers&gt;\r\n    \r\n      &lt;/query&gt;\r\n    \r\n    \r\n      \r\n      &lt;requestDispatcher handleSelect=&quot;false&quot; &gt;\r\n       \r\n        &lt;requestParsers enableRemoteStreaming=&quot;true&quot; \r\n                        multipartUploadLimitInKB=&quot;2048000&quot;\r\n                        formdataUploadLimitInKB=&quot;2048&quot;\r\n                        addHttpRequestToContext=&quot;false&quot;/&gt;\r\n    \r\n        \r\n        &lt;httpCaching never304=&quot;true&quot; /&gt;\r\n       \r\n      &lt;/requestDispatcher&gt;\r\n    \r\n      \r\n    \r\n    \t&lt;requestHandler name=&quot;/dataimport&quot; class=&quot;org.apache.solr.handler.dataimport.DataImportHandler&quot;&gt;  \r\n    \t&lt;lst name=&quot;defaults&quot;&gt;\r\n    \t&lt;str name=&quot;config&quot;&gt;dealdeals-data-config.xml&lt;/str&gt;\r\n    \t&lt;/lst&gt;\r\n    \t&lt;/requestHandler&gt;\r\n      &lt;requestHandler name=&quot;/select&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n       \r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n           &lt;int name=&quot;rows&quot;&gt;10&lt;/int&gt;\r\n         &lt;/lst&gt;\r\n       \r\n        &lt;/requestHandler&gt;\r\n    \r\n     \r\n      &lt;requestHandler name=&quot;/query&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n           &lt;str name=&quot;wt&quot;&gt;json&lt;/str&gt;\r\n           &lt;str name=&quot;indent&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;df&quot;&gt;text&lt;/str&gt;\r\n         &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/export&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n        &lt;lst name=&quot;invariants&quot;&gt;\r\n          &lt;str name=&quot;rq&quot;&gt;{!xport}&lt;/str&gt;\r\n          &lt;str name=&quot;wt&quot;&gt;xsort&lt;/str&gt;\r\n          &lt;str name=&quot;distrib&quot;&gt;false&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;query&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/browse&quot; class=&quot;solr.SearchHandler&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n           &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n    \r\n           &lt;!-- VelocityResponseWriter settings --&gt;\r\n           &lt;str name=&quot;wt&quot;&gt;velocity&lt;/str&gt;\r\n           &lt;str name=&quot;v.template&quot;&gt;browse&lt;/str&gt;\r\n           &lt;str name=&quot;v.layout&quot;&gt;layout&lt;/str&gt;\r\n           &lt;str name=&quot;title&quot;&gt;Solritas&lt;/str&gt;\r\n    \r\n           &lt;!-- Query settings --&gt;\r\n           &lt;str name=&quot;defType&quot;&gt;edismax&lt;/str&gt;\r\n           &lt;str name=&quot;qf&quot;&gt;\r\n              text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n              title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\r\n           &lt;/str&gt;\r\n           &lt;str name=&quot;mm&quot;&gt;100%&lt;/str&gt;\r\n           &lt;str name=&quot;q.alt&quot;&gt;*:*&lt;/str&gt;\r\n           &lt;str name=&quot;rows&quot;&gt;10&lt;/str&gt;\r\n           &lt;str name=&quot;fl&quot;&gt;*,score&lt;/str&gt;\r\n    \r\n           &lt;str name=&quot;mlt.qf&quot;&gt;\r\n             text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n             title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\r\n           &lt;/str&gt;\r\n           &lt;str name=&quot;mlt.fl&quot;&gt;text,features,name,sku,id,manu,cat,title,description,keywords,author,resourcename&lt;/str&gt;\r\n           &lt;int name=&quot;mlt.count&quot;&gt;3&lt;/int&gt;\r\n    \r\n           &lt;!-- Faceting defaults --&gt;\r\n           &lt;str name=&quot;facet&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;facet.missing&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;cat&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;manu_exact&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;content_type&lt;/str&gt;\r\n           &lt;str name=&quot;facet.field&quot;&gt;author_s&lt;/str&gt;\r\n           &lt;str name=&quot;facet.query&quot;&gt;ipod&lt;/str&gt;\r\n           &lt;str name=&quot;facet.query&quot;&gt;GB&lt;/str&gt;\r\n           &lt;str name=&quot;facet.mincount&quot;&gt;1&lt;/str&gt;\r\n           &lt;str name=&quot;facet.pivot&quot;&gt;cat,inStock&lt;/str&gt;\r\n           &lt;str name=&quot;facet.range.other&quot;&gt;after&lt;/str&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;price&lt;/str&gt;\r\n           &lt;int name=&quot;f.price.facet.range.start&quot;&gt;0&lt;/int&gt;\r\n           &lt;int name=&quot;f.price.facet.range.end&quot;&gt;600&lt;/int&gt;\r\n           &lt;int name=&quot;f.price.facet.range.gap&quot;&gt;50&lt;/int&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;popularity&lt;/str&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.start&quot;&gt;0&lt;/int&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.end&quot;&gt;10&lt;/int&gt;\r\n           &lt;int name=&quot;f.popularity.facet.range.gap&quot;&gt;3&lt;/int&gt;\r\n           &lt;str name=&quot;facet.range&quot;&gt;manufacturedate_dt&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.start&quot;&gt;NOW/YEAR-10YEARS&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.end&quot;&gt;NOW&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.gap&quot;&gt;+1YEAR&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.other&quot;&gt;before&lt;/str&gt;\r\n           &lt;str name=&quot;f.manufacturedate_dt.facet.range.other&quot;&gt;after&lt;/str&gt;\r\n    \r\n           &lt;!-- Highlighting defaults --&gt;\r\n           &lt;str name=&quot;hl&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;hl.fl&quot;&gt;content features title name&lt;/str&gt;\r\n           &lt;str name=&quot;hl.preserveMulti&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;hl.encoder&quot;&gt;html&lt;/str&gt;\r\n           &lt;str name=&quot;hl.simple.pre&quot;&gt;&amp;lt;b&amp;gt;&lt;/str&gt;\r\n           &lt;str name=&quot;hl.simple.post&quot;&gt;&amp;lt;/b&amp;gt;&lt;/str&gt;\r\n           &lt;str name=&quot;f.title.hl.fragsize&quot;&gt;0&lt;/str&gt;\r\n           &lt;str name=&quot;f.title.hl.alternateField&quot;&gt;title&lt;/str&gt;\r\n           &lt;str name=&quot;f.name.hl.fragsize&quot;&gt;0&lt;/str&gt;\r\n           &lt;str name=&quot;f.name.hl.alternateField&quot;&gt;name&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.snippets&quot;&gt;3&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.fragsize&quot;&gt;200&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.alternateField&quot;&gt;content&lt;/str&gt;\r\n           &lt;str name=&quot;f.content.hl.maxAlternateFieldLength&quot;&gt;750&lt;/str&gt;\r\n    \r\n           &lt;!-- Spell checking defaults --&gt;\r\n           &lt;str name=&quot;spellcheck&quot;&gt;on&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.extendedResults&quot;&gt;false&lt;/str&gt;       \r\n           &lt;str name=&quot;spellcheck.count&quot;&gt;5&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.alternativeTermCount&quot;&gt;2&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.maxResultsForSuggest&quot;&gt;5&lt;/str&gt;       \r\n           &lt;str name=&quot;spellcheck.collate&quot;&gt;true&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.collateExtendedResults&quot;&gt;true&lt;/str&gt;  \r\n           &lt;str name=&quot;spellcheck.maxCollationTries&quot;&gt;5&lt;/str&gt;\r\n           &lt;str name=&quot;spellcheck.maxCollations&quot;&gt;3&lt;/str&gt;           \r\n         &lt;/lst&gt;\r\n    \r\n         &lt;!-- append spellchecking to our list of components --&gt;\r\n         &lt;arr name=&quot;last-components&quot;&gt;\r\n           &lt;str&gt;spellcheck&lt;/str&gt;\r\n         &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      &lt;!--&lt;requestHandler name=&quot;/update&quot; class=&quot;solr.UpdateRequestHandler&quot;&gt;\r\n      &lt;/requestHandler&gt;--&gt;\r\n      &lt;initParams path=&quot;/update/**,/query,/select,/tvrh,/elevate,/spell,/browse&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;df&quot;&gt;text&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/initParams&gt;\r\n    \r\n      &lt;initParams path=&quot;/update/json/docs&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;!--this ensures that the entire json doc will be stored verbatim into one field--&gt;\r\n          &lt;str name=&quot;srcField&quot;&gt;_src_&lt;/str&gt;\r\n         \r\n          &lt;str name=&quot;mapUniqueKeyOnly&quot;&gt;true&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n      &lt;/initParams&gt;\r\n    \r\n    \r\n       \r\n      &lt;requestHandler name=&quot;/update/extract&quot; \r\n                      startup=&quot;lazy&quot;\r\n                      class=&quot;solr.extraction.ExtractingRequestHandler&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;lowernames&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;uprefix&quot;&gt;ignored_&lt;/str&gt;\r\n    \r\n        \r\n          &lt;str name=&quot;captureAttr&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;fmap.a&quot;&gt;links&lt;/str&gt;\r\n          &lt;str name=&quot;fmap.div&quot;&gt;ignored_&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n    \r\n      &lt;requestHandler name=&quot;/analysis/field&quot; \r\n                      startup=&quot;lazy&quot;\r\n                      class=&quot;solr.FieldAnalysisRequestHandler&quot; /&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/analysis/document&quot; \r\n                      class=&quot;solr.DocumentAnalysisRequestHandler&quot; \r\n                      startup=&quot;lazy&quot; /&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/debug/dump&quot; class=&quot;solr.DumpRequestHandler&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n         &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt; \r\n         &lt;str name=&quot;echoHandler&quot;&gt;true&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/requestHandler&gt;\r\n      \r\n      \r\n      &lt;searchComponent name=&quot;spellcheck&quot; class=&quot;solr.SpellCheckComponent&quot;&gt;\r\n    \r\n        &lt;str name=&quot;queryAnalyzerFieldType&quot;&gt;text_general&lt;/str&gt;\r\n    \r\n       \r\n        &lt;lst name=&quot;spellchecker&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;default&lt;/str&gt;\r\n          &lt;str name=&quot;field&quot;&gt;text&lt;/str&gt;\r\n          &lt;str name=&quot;classname&quot;&gt;solr.DirectSolrSpellChecker&lt;/str&gt;\r\n          &lt;!-- the spellcheck distance measure used, the default is the internal levenshtein --&gt;\r\n          &lt;str name=&quot;distanceMeasure&quot;&gt;internal&lt;/str&gt;\r\n          &lt;!-- minimum accuracy needed to be considered a valid spellcheck suggestion --&gt;\r\n          &lt;float name=&quot;accuracy&quot;&gt;0.5&lt;/float&gt;\r\n          &lt;!-- the maximum #edits we consider when enumerating terms: can be 1 or 2 --&gt;\r\n          &lt;int name=&quot;maxEdits&quot;&gt;2&lt;/int&gt;\r\n          &lt;!-- the minimum shared prefix when enumerating terms --&gt;\r\n          &lt;int name=&quot;minPrefix&quot;&gt;1&lt;/int&gt;\r\n          &lt;!-- maximum number of inspections per result. --&gt;\r\n          &lt;int name=&quot;maxInspections&quot;&gt;5&lt;/int&gt;\r\n          &lt;!-- minimum length of a query term to be considered for correction --&gt;\r\n          &lt;int name=&quot;minQueryLength&quot;&gt;4&lt;/int&gt;\r\n          &lt;!-- maximum threshold of documents a query term can appear to be considered for correction --&gt;\r\n          &lt;float name=&quot;maxQueryFrequency&quot;&gt;0.01&lt;/float&gt;\r\n          &lt;!-- uncomment this to require suggestions to occur in 1% of the documents\r\n          \t&lt;float name=&quot;thresholdTokenFrequency&quot;&gt;.01&lt;/float&gt;\r\n          --&gt;\r\n        &lt;/lst&gt;\r\n        \r\n        &lt;!-- a spellchecker that can break or combine words.  See &quot;/spell&quot; handler below for usage --&gt;\r\n        &lt;lst name=&quot;spellchecker&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;wordbreak&lt;/str&gt;\r\n          &lt;str name=&quot;classname&quot;&gt;solr.WordBreakSolrSpellChecker&lt;/str&gt;      \r\n          &lt;str name=&quot;field&quot;&gt;name&lt;/str&gt;\r\n          &lt;str name=&quot;combineWords&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;breakWords&quot;&gt;true&lt;/str&gt;\r\n          &lt;int name=&quot;maxChanges&quot;&gt;10&lt;/int&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        \r\n      &lt;/searchComponent&gt;\r\n      \r\n     \r\n      &lt;requestHandler name=&quot;/spell&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n         \r\n          &lt;str name=&quot;spellcheck.dictionary&quot;&gt;default&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.dictionary&quot;&gt;wordbreak&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck&quot;&gt;on&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.extendedResults&quot;&gt;true&lt;/str&gt;       \r\n          &lt;str name=&quot;spellcheck.count&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.alternativeTermCount&quot;&gt;5&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.maxResultsForSuggest&quot;&gt;5&lt;/str&gt;       \r\n          &lt;str name=&quot;spellcheck.collate&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.collateExtendedResults&quot;&gt;true&lt;/str&gt;  \r\n          &lt;str name=&quot;spellcheck.maxCollationTries&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;spellcheck.maxCollations&quot;&gt;5&lt;/str&gt;         \r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;spellcheck&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent name=&quot;suggest&quot; class=&quot;solr.SuggestComponent&quot; \r\n                       enable=&quot;${solr.suggester.enabled:false}&quot;     &gt;\r\n        &lt;lst name=&quot;suggester&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;mySuggester&lt;/str&gt;\r\n          &lt;str name=&quot;lookupImpl&quot;&gt;FuzzyLookupFactory&lt;/str&gt;      \r\n          &lt;str name=&quot;dictionaryImpl&quot;&gt;DocumentDictionaryFactory&lt;/str&gt;\r\n          &lt;str name=&quot;field&quot;&gt;cat&lt;/str&gt;\r\n          &lt;str name=&quot;weightField&quot;&gt;price&lt;/str&gt;\r\n          &lt;str name=&quot;suggestAnalyzerFieldType&quot;&gt;string&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      &lt;requestHandler name=&quot;/suggest&quot; class=&quot;solr.SearchHandler&quot; \r\n                      startup=&quot;lazy&quot; enable=&quot;${solr.suggester.enabled:false}&quot; &gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;suggest&quot;&gt;true&lt;/str&gt;\r\n          &lt;str name=&quot;suggest.count&quot;&gt;10&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;suggest&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n     \r\n    \r\n    \r\n      \r\n      &lt;searchComponent name=&quot;tvComponent&quot; class=&quot;solr.TermVectorComponent&quot;/&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/tvrh&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;tv&quot;&gt;true&lt;/bool&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;tvComponent&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent name=&quot;clustering&quot;\r\n                       enable=&quot;${solr.clustering.enabled:false}&quot;\r\n                       class=&quot;solr.clustering.ClusteringComponent&quot; &gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;lingo&lt;/str&gt;\r\n    \r\n         \r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.lingo.LingoClusteringAlgorithm&lt;/str&gt;\r\n    \r\n          &lt;str name=&quot;carrot.resourcesDir&quot;&gt;clustering/carrot2&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;!-- An example definition for the STC clustering algorithm. --&gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;stc&lt;/str&gt;\r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.stc.STCClusteringAlgorithm&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n    \r\n        &lt;!-- An example definition for the bisecting kmeans clustering algorithm. --&gt;\r\n        &lt;lst name=&quot;engine&quot;&gt;\r\n          &lt;str name=&quot;name&quot;&gt;kmeans&lt;/str&gt;\r\n          &lt;str name=&quot;carrot.algorithm&quot;&gt;org.carrot2.clustering.kmeans.BisectingKMeansClusteringAlgorithm&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/clustering&quot;\r\n                      startup=&quot;lazy&quot;\r\n                      enable=&quot;${solr.clustering.enabled:false}&quot;\r\n                      class=&quot;solr.SearchHandler&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;clustering&quot;&gt;true&lt;/bool&gt;\r\n          &lt;bool name=&quot;clustering.results&quot;&gt;true&lt;/bool&gt;\r\n          &lt;!-- Field name with the logical &quot;title&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.title&quot;&gt;name&lt;/str&gt;\r\n          &lt;!-- Field name with the logical &quot;URL&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.url&quot;&gt;id&lt;/str&gt;\r\n          &lt;!-- Field name with the logical &quot;content&quot; of a each document (optional) --&gt;\r\n          &lt;str name=&quot;carrot.snippet&quot;&gt;features&lt;/str&gt;\r\n          &lt;!-- Apply highlighter to the title/ content and use this for clustering. --&gt;\r\n          &lt;bool name=&quot;carrot.produceSummary&quot;&gt;true&lt;/bool&gt;\r\n          &lt;!-- the maximum number of labels per cluster --&gt;\r\n          &lt;!--&lt;int name=&quot;carrot.numDescriptions&quot;&gt;5&lt;/int&gt;--&gt;\r\n          &lt;!-- produce sub clusters --&gt;\r\n          &lt;bool name=&quot;carrot.outputSubClusters&quot;&gt;false&lt;/bool&gt;\r\n    \r\n          &lt;!-- Configure the remaining request handler parameters. --&gt;\r\n          &lt;str name=&quot;defType&quot;&gt;edismax&lt;/str&gt;\r\n          &lt;str name=&quot;qf&quot;&gt;\r\n            text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\r\n          &lt;/str&gt;\r\n          &lt;str name=&quot;q.alt&quot;&gt;*:*&lt;/str&gt;\r\n          &lt;str name=&quot;rows&quot;&gt;10&lt;/str&gt;\r\n          &lt;str name=&quot;fl&quot;&gt;*,score&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;clustering&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n      \r\n     \r\n      &lt;searchComponent name=&quot;terms&quot; class=&quot;solr.TermsComponent&quot;/&gt;\r\n    \r\n      &lt;!-- A request handler for demonstrating the terms component --&gt;\r\n      &lt;requestHandler name=&quot;/terms&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n         &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;bool name=&quot;terms&quot;&gt;true&lt;/bool&gt;\r\n          &lt;bool name=&quot;distrib&quot;&gt;false&lt;/bool&gt;\r\n        &lt;/lst&gt;     \r\n        &lt;arr name=&quot;components&quot;&gt;\r\n          &lt;str&gt;terms&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      &lt;searchComponent name=&quot;elevator&quot; class=&quot;solr.QueryElevationComponent&quot; &gt;\r\n        &lt;!-- pick a fieldType to analyze queries --&gt;\r\n        &lt;str name=&quot;queryFieldType&quot;&gt;string&lt;/str&gt;\r\n        &lt;str name=&quot;config-file&quot;&gt;elevate.xml&lt;/str&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n      \r\n      &lt;requestHandler name=&quot;/elevate&quot; class=&quot;solr.SearchHandler&quot; startup=&quot;lazy&quot;&gt;\r\n        &lt;lst name=&quot;defaults&quot;&gt;\r\n          &lt;str name=&quot;echoParams&quot;&gt;explicit&lt;/str&gt;\r\n        &lt;/lst&gt;\r\n        &lt;arr name=&quot;last-components&quot;&gt;\r\n          &lt;str&gt;elevator&lt;/str&gt;\r\n        &lt;/arr&gt;\r\n      &lt;/requestHandler&gt;\r\n    \r\n      \r\n      &lt;searchComponent class=&quot;solr.HighlightComponent&quot; name=&quot;highlight&quot;&gt;\r\n        &lt;highlighting&gt;\r\n          &lt;!-- Configure the standard fragmenter --&gt;\r\n          &lt;!-- This could most likely be commented out in the &quot;default&quot; case --&gt;\r\n          &lt;fragmenter name=&quot;gap&quot; \r\n                      default=&quot;true&quot;\r\n                      class=&quot;solr.highlight.GapFragmenter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;int name=&quot;hl.fragsize&quot;&gt;100&lt;/int&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmenter&gt;\r\n    \r\n        \r\n          &lt;fragmenter name=&quot;regex&quot; \r\n                      class=&quot;solr.highlight.RegexFragmenter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;!-- slightly smaller fragsizes work better because of slop --&gt;\r\n              &lt;int name=&quot;hl.fragsize&quot;&gt;70&lt;/int&gt;\r\n              &lt;!-- allow 50% slop on fragment sizes --&gt;\r\n              &lt;float name=&quot;hl.regex.slop&quot;&gt;0.5&lt;/float&gt;\r\n              &lt;!-- a basic sentence pattern --&gt;\r\n              &lt;str name=&quot;hl.regex.pattern&quot;&gt;[-\\w ,/\\n\\&amp;quot;&amp;apos;]{20,200}&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmenter&gt;\r\n    \r\n          &lt;!-- Configure the standard formatter --&gt;\r\n          &lt;formatter name=&quot;html&quot; \r\n                     default=&quot;true&quot;\r\n                     class=&quot;solr.highlight.HtmlFormatter&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.simple.pre&quot;&gt;&lt;![CDATA[&lt;em&gt;]]&gt;&lt;/str&gt;\r\n              &lt;str name=&quot;hl.simple.post&quot;&gt;&lt;![CDATA[&lt;/em&gt;]]&gt;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/formatter&gt;\r\n    \r\n          &lt;!-- Configure the standard encoder --&gt;\r\n          &lt;encoder name=&quot;html&quot; \r\n                   class=&quot;solr.highlight.HtmlEncoder&quot; /&gt;\r\n    \r\n          &lt;!-- Configure the standard fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;simple&quot; \r\n                           class=&quot;solr.highlight.SimpleFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- Configure the single fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;single&quot; \r\n                           class=&quot;solr.highlight.SingleFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- Configure the weighted fragListBuilder --&gt;\r\n          &lt;fragListBuilder name=&quot;weighted&quot; \r\n                           default=&quot;true&quot;\r\n                           class=&quot;solr.highlight.WeightedFragListBuilder&quot;/&gt;\r\n          \r\n          &lt;!-- default tag FragmentsBuilder --&gt;\r\n          &lt;fragmentsBuilder name=&quot;default&quot; \r\n                            default=&quot;true&quot;\r\n                            class=&quot;solr.highlight.ScoreOrderFragmentsBuilder&quot;&gt;\r\n           \r\n          &lt;/fragmentsBuilder&gt;\r\n    \r\n          &lt;!-- multi-colored tag FragmentsBuilder --&gt;\r\n          &lt;fragmentsBuilder name=&quot;colored&quot; \r\n                            class=&quot;solr.highlight.ScoreOrderFragmentsBuilder&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.tag.pre&quot;&gt;&lt;![CDATA[\r\n                   &lt;b style=&quot;background:yellow&quot;&gt;,&lt;b style=&quot;background:lawgreen&quot;&gt;,\r\n                   &lt;b style=&quot;background:aquamarine&quot;&gt;,&lt;b style=&quot;background:magenta&quot;&gt;,\r\n                   &lt;b style=&quot;background:palegreen&quot;&gt;,&lt;b style=&quot;background:coral&quot;&gt;,\r\n                   &lt;b style=&quot;background:wheat&quot;&gt;,&lt;b style=&quot;background:khaki&quot;&gt;,\r\n                   &lt;b style=&quot;background:lime&quot;&gt;,&lt;b style=&quot;background:deepskyblue&quot;&gt;]]&gt;&lt;/str&gt;\r\n              &lt;str name=&quot;hl.tag.post&quot;&gt;&lt;![CDATA[&lt;/b&gt;]]&gt;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/fragmentsBuilder&gt;\r\n          \r\n          &lt;boundaryScanner name=&quot;default&quot; \r\n                           default=&quot;true&quot;\r\n                           class=&quot;solr.highlight.SimpleBoundaryScanner&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;str name=&quot;hl.bs.maxScan&quot;&gt;10&lt;/str&gt;\r\n              &lt;str name=&quot;hl.bs.chars&quot;&gt;.,!? &amp;#9;&amp;#10;&amp;#13;&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/boundaryScanner&gt;\r\n          \r\n          &lt;boundaryScanner name=&quot;breakIterator&quot; \r\n                           class=&quot;solr.highlight.BreakIteratorBoundaryScanner&quot;&gt;\r\n            &lt;lst name=&quot;defaults&quot;&gt;\r\n              &lt;!-- type should be one of CHARACTER, WORD(default), LINE and SENTENCE --&gt;\r\n              &lt;str name=&quot;hl.bs.type&quot;&gt;WORD&lt;/str&gt;\r\n              &lt;!-- language and country are used when constructing Locale object.  --&gt;\r\n              &lt;!-- And the Locale object will be used when getting instance of BreakIterator --&gt;\r\n              &lt;str name=&quot;hl.bs.language&quot;&gt;en&lt;/str&gt;\r\n              &lt;str name=&quot;hl.bs.country&quot;&gt;US&lt;/str&gt;\r\n            &lt;/lst&gt;\r\n          &lt;/boundaryScanner&gt;\r\n        &lt;/highlighting&gt;\r\n      &lt;/searchComponent&gt;\r\n    \r\n    \r\n      &lt;queryResponseWriter name=&quot;json&quot; class=&quot;solr.JSONResponseWriter&quot;&gt;\r\n        \r\n        &lt;str name=&quot;content-type&quot;&gt;text/plain; charset=UTF-8&lt;/str&gt;\r\n      &lt;/queryResponseWriter&gt;\r\n      \r\n      &lt;!--\r\n         Custom response writers can be declared as needed...\r\n        --&gt;\r\n        &lt;queryResponseWriter name=&quot;velocity&quot; class=&quot;solr.VelocityResponseWriter&quot; startup=&quot;lazy&quot;&gt;\r\n          &lt;str name=&quot;template.base.dir&quot;&gt;${velocity.template.base.dir:}&lt;/str&gt;\r\n        &lt;/queryResponseWriter&gt;\r\n      \r\n    \r\n      &lt;queryResponseWriter name=&quot;xslt&quot; class=&quot;solr.XSLTResponseWriter&quot;&gt;\r\n        &lt;int name=&quot;xsltCacheLifetimeSeconds&quot;&gt;5&lt;/int&gt;\r\n      &lt;/queryResponseWriter&gt;\r\n    \r\n      \r\n      &lt;admin&gt;\r\n        &lt;defaultQuery&gt;*:*&lt;/defaultQuery&gt;\r\n      &lt;/admin&gt;\r\n    \r\n    &lt;/config&gt;","title":"SolrCore Initialization Failures","body":"<p>I am using Solr-5.0.0 and when i am trying to create  a core in that i am getting the following error in logging.</p>\n\n<pre><code>SolrCore Initialization Failures\norg.apache.solr.common.SolrException:org.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n</code></pre>\n\n<p>This is the exception in the logging</p>\n\n<pre><code>4/17/2015, 3:49:23 PM\nERROR\nSolrCore\njava.lang.NullPointerException\njava.lang.NullPointerException\n    at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:190)\n    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)\n    at org.apache.solr.core.SolrCore.execute(SolrCore.java:1984)\n    at org.apache.solr.core.QuerySenderListener.newSearcher(QuerySenderListener.java:64)\n    at org.apache.solr.core.SolrCore$5.call(SolrCore.java:1751)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n4/17/2015, 3:49:23 PM\nERROR\nCoreContainer\nError creating core [TEST]: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\norg.apache.solr.common.SolrException: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:885)\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:652)\n    at org.apache.solr.core.CoreContainer.create(CoreContainer.java:518)\n    at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:283)\n    at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:277)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchMethodError: org.apache.solr.core.SolrCore.getRequestHandlers()Ljava/util/Map;\n    at org.apache.solr.handler.dataimport.DataImportHandler.inform(DataImportHandler.java:100)\n    at org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:620)\n    at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:868)\n</code></pre>\n\n<p>My actual data is in mongoDB.</p>\n\n<p>My solrconfig.xml file is given below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;config&gt;\n\n  &lt;luceneMatchVersion&gt;5.0.0&lt;/luceneMatchVersion&gt;\n\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/extraction/lib\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-cell-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/clustering/lib/\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-clustering-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/langid/lib/\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-langid-\\d.*\\.jar\" /&gt;\n\n  &lt;lib dir=\"${solr.install.dir:../../../..}/contrib/velocity/lib\" regex=\".*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/\" regex=\"solr-velocity-\\d.*\\.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/solr-mongo-importer-1.0.0.jar\" /&gt;\n  &lt;lib dir=\"${solr.install.dir:../../../..}/dist/mongo-java-driver-2.9.0.jar\" /&gt;\n\n\n  &lt;dataDir&gt;${solr.data.dir:}&lt;/dataDir&gt;\n\n\n  &lt;directoryFactory name=\"DirectoryFactory\" \n                    class=\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\"/&gt;\n\n  &lt;codecFactory class=\"solr.SchemaCodecFactory\"/&gt;\n\n\n  &lt;schemaFactory class=\"ClassicIndexSchemaFactory\"/&gt;\n\n\n  &lt;indexConfig&gt;\n\n    &lt;lockType&gt;${solr.lock.type:native}&lt;/lockType&gt;\n\n\n     &lt;infoStream&gt;true&lt;/infoStream&gt;\n  &lt;/indexConfig&gt;\n\n\n\n  &lt;jmx /&gt;\n\n  &lt;updateHandler class=\"solr.DirectUpdateHandler2\"&gt;\n\n\n    &lt;updateLog&gt;\n      &lt;str name=\"dir\"&gt;${solr.ulog.dir:}&lt;/str&gt;\n    &lt;/updateLog&gt;\n\n\n     &lt;autoCommit&gt; \n       &lt;maxTime&gt;${solr.autoCommit.maxTime:15000}&lt;/maxTime&gt; \n       &lt;openSearcher&gt;false&lt;/openSearcher&gt; \n     &lt;/autoCommit&gt;\n\n\n     &lt;autoSoftCommit&gt; \n       &lt;maxTime&gt;${solr.autoSoftCommit.maxTime:-1}&lt;/maxTime&gt; \n     &lt;/autoSoftCommit&gt;\n\n\n\n  &lt;/updateHandler&gt;\n\n\n  &lt;query&gt;\n\n    &lt;maxBooleanClauses&gt;1024&lt;/maxBooleanClauses&gt;\n\n\n\n    &lt;slowQueryThresholdMillis&gt;-1&lt;/slowQueryThresholdMillis&gt;\n\n\n\n    &lt;filterCache class=\"solr.FastLRUCache\"\n                 size=\"512\"\n                 initialSize=\"512\"\n                 autowarmCount=\"0\"/&gt;\n\n    &lt;queryResultCache class=\"solr.LRUCache\"\n                     size=\"512\"\n                     initialSize=\"512\"\n                     autowarmCount=\"0\"/&gt;\n\n    &lt;documentCache class=\"solr.LRUCache\"\n                   size=\"512\"\n                   initialSize=\"512\"\n                   autowarmCount=\"0\"/&gt;\n\n\n    &lt;cache name=\"perSegFilter\"\n      class=\"solr.search.LRUCache\"\n      size=\"10\"\n      initialSize=\"0\"\n      autowarmCount=\"10\"\n      regenerator=\"solr.NoOpRegenerator\" /&gt;\n\n\n    &lt;enableLazyFieldLoading&gt;true&lt;/enableLazyFieldLoading&gt;\n\n\n   &lt;queryResultWindowSize&gt;20&lt;/queryResultWindowSize&gt;\n\n\n   &lt;queryResultMaxDocsCached&gt;200&lt;/queryResultMaxDocsCached&gt;\n\n    &lt;listener event=\"newSearcher\" class=\"solr.QuerySenderListener\"&gt;\n      &lt;arr name=\"queries\"&gt;\n\n      &lt;/arr&gt;\n    &lt;/listener&gt;\n    &lt;listener event=\"firstSearcher\" class=\"solr.QuerySenderListener\"&gt;\n      &lt;arr name=\"queries\"&gt;\n        &lt;lst&gt;\n          &lt;str name=\"q\"&gt;static firstSearcher warming in solrconfig.xml&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/arr&gt;\n    &lt;/listener&gt;\n\n\n    &lt;useColdSearcher&gt;false&lt;/useColdSearcher&gt;\n\n\n    &lt;maxWarmingSearchers&gt;2&lt;/maxWarmingSearchers&gt;\n\n  &lt;/query&gt;\n\n\n\n  &lt;requestDispatcher handleSelect=\"false\" &gt;\n\n    &lt;requestParsers enableRemoteStreaming=\"true\" \n                    multipartUploadLimitInKB=\"2048000\"\n                    formdataUploadLimitInKB=\"2048\"\n                    addHttpRequestToContext=\"false\"/&gt;\n\n\n    &lt;httpCaching never304=\"true\" /&gt;\n\n  &lt;/requestDispatcher&gt;\n\n\n\n    &lt;requestHandler name=\"/dataimport\" class=\"org.apache.solr.handler.dataimport.DataImportHandler\"&gt;  \n    &lt;lst name=\"defaults\"&gt;\n    &lt;str name=\"config\"&gt;dealdeals-data-config.xml&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;/requestHandler&gt;\n  &lt;requestHandler name=\"/select\" class=\"solr.SearchHandler\"&gt;\n\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n       &lt;int name=\"rows\"&gt;10&lt;/int&gt;\n     &lt;/lst&gt;\n\n    &lt;/requestHandler&gt;\n\n\n  &lt;requestHandler name=\"/query\" class=\"solr.SearchHandler\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n       &lt;str name=\"wt\"&gt;json&lt;/str&gt;\n       &lt;str name=\"indent\"&gt;true&lt;/str&gt;\n       &lt;str name=\"df\"&gt;text&lt;/str&gt;\n     &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n\n  &lt;requestHandler name=\"/export\" class=\"solr.SearchHandler\"&gt;\n    &lt;lst name=\"invariants\"&gt;\n      &lt;str name=\"rq\"&gt;{!xport}&lt;/str&gt;\n      &lt;str name=\"wt\"&gt;xsort&lt;/str&gt;\n      &lt;str name=\"distrib\"&gt;false&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;query&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n\n  &lt;requestHandler name=\"/browse\" class=\"solr.SearchHandler\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n       &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n\n       &lt;!-- VelocityResponseWriter settings --&gt;\n       &lt;str name=\"wt\"&gt;velocity&lt;/str&gt;\n       &lt;str name=\"v.template\"&gt;browse&lt;/str&gt;\n       &lt;str name=\"v.layout\"&gt;layout&lt;/str&gt;\n       &lt;str name=\"title\"&gt;Solritas&lt;/str&gt;\n\n       &lt;!-- Query settings --&gt;\n       &lt;str name=\"defType\"&gt;edismax&lt;/str&gt;\n       &lt;str name=\"qf\"&gt;\n          text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n          title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\n       &lt;/str&gt;\n       &lt;str name=\"mm\"&gt;100%&lt;/str&gt;\n       &lt;str name=\"q.alt\"&gt;*:*&lt;/str&gt;\n       &lt;str name=\"rows\"&gt;10&lt;/str&gt;\n       &lt;str name=\"fl\"&gt;*,score&lt;/str&gt;\n\n       &lt;str name=\"mlt.qf\"&gt;\n         text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n         title^10.0 description^5.0 keywords^5.0 author^2.0 resourcename^1.0\n       &lt;/str&gt;\n       &lt;str name=\"mlt.fl\"&gt;text,features,name,sku,id,manu,cat,title,description,keywords,author,resourcename&lt;/str&gt;\n       &lt;int name=\"mlt.count\"&gt;3&lt;/int&gt;\n\n       &lt;!-- Faceting defaults --&gt;\n       &lt;str name=\"facet\"&gt;on&lt;/str&gt;\n       &lt;str name=\"facet.missing\"&gt;true&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;cat&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;manu_exact&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;content_type&lt;/str&gt;\n       &lt;str name=\"facet.field\"&gt;author_s&lt;/str&gt;\n       &lt;str name=\"facet.query\"&gt;ipod&lt;/str&gt;\n       &lt;str name=\"facet.query\"&gt;GB&lt;/str&gt;\n       &lt;str name=\"facet.mincount\"&gt;1&lt;/str&gt;\n       &lt;str name=\"facet.pivot\"&gt;cat,inStock&lt;/str&gt;\n       &lt;str name=\"facet.range.other\"&gt;after&lt;/str&gt;\n       &lt;str name=\"facet.range\"&gt;price&lt;/str&gt;\n       &lt;int name=\"f.price.facet.range.start\"&gt;0&lt;/int&gt;\n       &lt;int name=\"f.price.facet.range.end\"&gt;600&lt;/int&gt;\n       &lt;int name=\"f.price.facet.range.gap\"&gt;50&lt;/int&gt;\n       &lt;str name=\"facet.range\"&gt;popularity&lt;/str&gt;\n       &lt;int name=\"f.popularity.facet.range.start\"&gt;0&lt;/int&gt;\n       &lt;int name=\"f.popularity.facet.range.end\"&gt;10&lt;/int&gt;\n       &lt;int name=\"f.popularity.facet.range.gap\"&gt;3&lt;/int&gt;\n       &lt;str name=\"facet.range\"&gt;manufacturedate_dt&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.start\"&gt;NOW/YEAR-10YEARS&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.end\"&gt;NOW&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.gap\"&gt;+1YEAR&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.other\"&gt;before&lt;/str&gt;\n       &lt;str name=\"f.manufacturedate_dt.facet.range.other\"&gt;after&lt;/str&gt;\n\n       &lt;!-- Highlighting defaults --&gt;\n       &lt;str name=\"hl\"&gt;on&lt;/str&gt;\n       &lt;str name=\"hl.fl\"&gt;content features title name&lt;/str&gt;\n       &lt;str name=\"hl.preserveMulti\"&gt;true&lt;/str&gt;\n       &lt;str name=\"hl.encoder\"&gt;html&lt;/str&gt;\n       &lt;str name=\"hl.simple.pre\"&gt;&amp;lt;b&amp;gt;&lt;/str&gt;\n       &lt;str name=\"hl.simple.post\"&gt;&amp;lt;/b&amp;gt;&lt;/str&gt;\n       &lt;str name=\"f.title.hl.fragsize\"&gt;0&lt;/str&gt;\n       &lt;str name=\"f.title.hl.alternateField\"&gt;title&lt;/str&gt;\n       &lt;str name=\"f.name.hl.fragsize\"&gt;0&lt;/str&gt;\n       &lt;str name=\"f.name.hl.alternateField\"&gt;name&lt;/str&gt;\n       &lt;str name=\"f.content.hl.snippets\"&gt;3&lt;/str&gt;\n       &lt;str name=\"f.content.hl.fragsize\"&gt;200&lt;/str&gt;\n       &lt;str name=\"f.content.hl.alternateField\"&gt;content&lt;/str&gt;\n       &lt;str name=\"f.content.hl.maxAlternateFieldLength\"&gt;750&lt;/str&gt;\n\n       &lt;!-- Spell checking defaults --&gt;\n       &lt;str name=\"spellcheck\"&gt;on&lt;/str&gt;\n       &lt;str name=\"spellcheck.extendedResults\"&gt;false&lt;/str&gt;       \n       &lt;str name=\"spellcheck.count\"&gt;5&lt;/str&gt;\n       &lt;str name=\"spellcheck.alternativeTermCount\"&gt;2&lt;/str&gt;\n       &lt;str name=\"spellcheck.maxResultsForSuggest\"&gt;5&lt;/str&gt;       \n       &lt;str name=\"spellcheck.collate\"&gt;true&lt;/str&gt;\n       &lt;str name=\"spellcheck.collateExtendedResults\"&gt;true&lt;/str&gt;  \n       &lt;str name=\"spellcheck.maxCollationTries\"&gt;5&lt;/str&gt;\n       &lt;str name=\"spellcheck.maxCollations\"&gt;3&lt;/str&gt;           \n     &lt;/lst&gt;\n\n     &lt;!-- append spellchecking to our list of components --&gt;\n     &lt;arr name=\"last-components\"&gt;\n       &lt;str&gt;spellcheck&lt;/str&gt;\n     &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n  &lt;!--&lt;requestHandler name=\"/update\" class=\"solr.UpdateRequestHandler\"&gt;\n  &lt;/requestHandler&gt;--&gt;\n  &lt;initParams path=\"/update/**,/query,/select,/tvrh,/elevate,/spell,/browse\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"df\"&gt;text&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/initParams&gt;\n\n  &lt;initParams path=\"/update/json/docs\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;!--this ensures that the entire json doc will be stored verbatim into one field--&gt;\n      &lt;str name=\"srcField\"&gt;_src_&lt;/str&gt;\n\n      &lt;str name=\"mapUniqueKeyOnly\"&gt;true&lt;/str&gt;\n    &lt;/lst&gt;\n\n  &lt;/initParams&gt;\n\n\n\n  &lt;requestHandler name=\"/update/extract\" \n                  startup=\"lazy\"\n                  class=\"solr.extraction.ExtractingRequestHandler\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"lowernames\"&gt;true&lt;/str&gt;\n      &lt;str name=\"uprefix\"&gt;ignored_&lt;/str&gt;\n\n\n      &lt;str name=\"captureAttr\"&gt;true&lt;/str&gt;\n      &lt;str name=\"fmap.a\"&gt;links&lt;/str&gt;\n      &lt;str name=\"fmap.div\"&gt;ignored_&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;requestHandler name=\"/analysis/field\" \n                  startup=\"lazy\"\n                  class=\"solr.FieldAnalysisRequestHandler\" /&gt;\n\n  &lt;requestHandler name=\"/analysis/document\" \n                  class=\"solr.DocumentAnalysisRequestHandler\" \n                  startup=\"lazy\" /&gt;\n\n  &lt;requestHandler name=\"/debug/dump\" class=\"solr.DumpRequestHandler\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n     &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt; \n     &lt;str name=\"echoHandler\"&gt;true&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"spellcheck\" class=\"solr.SpellCheckComponent\"&gt;\n\n    &lt;str name=\"queryAnalyzerFieldType\"&gt;text_general&lt;/str&gt;\n\n\n    &lt;lst name=\"spellchecker\"&gt;\n      &lt;str name=\"name\"&gt;default&lt;/str&gt;\n      &lt;str name=\"field\"&gt;text&lt;/str&gt;\n      &lt;str name=\"classname\"&gt;solr.DirectSolrSpellChecker&lt;/str&gt;\n      &lt;!-- the spellcheck distance measure used, the default is the internal levenshtein --&gt;\n      &lt;str name=\"distanceMeasure\"&gt;internal&lt;/str&gt;\n      &lt;!-- minimum accuracy needed to be considered a valid spellcheck suggestion --&gt;\n      &lt;float name=\"accuracy\"&gt;0.5&lt;/float&gt;\n      &lt;!-- the maximum #edits we consider when enumerating terms: can be 1 or 2 --&gt;\n      &lt;int name=\"maxEdits\"&gt;2&lt;/int&gt;\n      &lt;!-- the minimum shared prefix when enumerating terms --&gt;\n      &lt;int name=\"minPrefix\"&gt;1&lt;/int&gt;\n      &lt;!-- maximum number of inspections per result. --&gt;\n      &lt;int name=\"maxInspections\"&gt;5&lt;/int&gt;\n      &lt;!-- minimum length of a query term to be considered for correction --&gt;\n      &lt;int name=\"minQueryLength\"&gt;4&lt;/int&gt;\n      &lt;!-- maximum threshold of documents a query term can appear to be considered for correction --&gt;\n      &lt;float name=\"maxQueryFrequency\"&gt;0.01&lt;/float&gt;\n      &lt;!-- uncomment this to require suggestions to occur in 1% of the documents\n        &lt;float name=\"thresholdTokenFrequency\"&gt;.01&lt;/float&gt;\n      --&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- a spellchecker that can break or combine words.  See \"/spell\" handler below for usage --&gt;\n    &lt;lst name=\"spellchecker\"&gt;\n      &lt;str name=\"name\"&gt;wordbreak&lt;/str&gt;\n      &lt;str name=\"classname\"&gt;solr.WordBreakSolrSpellChecker&lt;/str&gt;      \n      &lt;str name=\"field\"&gt;name&lt;/str&gt;\n      &lt;str name=\"combineWords\"&gt;true&lt;/str&gt;\n      &lt;str name=\"breakWords\"&gt;true&lt;/str&gt;\n      &lt;int name=\"maxChanges\"&gt;10&lt;/int&gt;\n    &lt;/lst&gt;\n\n\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/spell\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n\n      &lt;str name=\"spellcheck.dictionary\"&gt;default&lt;/str&gt;\n      &lt;str name=\"spellcheck.dictionary\"&gt;wordbreak&lt;/str&gt;\n      &lt;str name=\"spellcheck\"&gt;on&lt;/str&gt;\n      &lt;str name=\"spellcheck.extendedResults\"&gt;true&lt;/str&gt;       \n      &lt;str name=\"spellcheck.count\"&gt;10&lt;/str&gt;\n      &lt;str name=\"spellcheck.alternativeTermCount\"&gt;5&lt;/str&gt;\n      &lt;str name=\"spellcheck.maxResultsForSuggest\"&gt;5&lt;/str&gt;       \n      &lt;str name=\"spellcheck.collate\"&gt;true&lt;/str&gt;\n      &lt;str name=\"spellcheck.collateExtendedResults\"&gt;true&lt;/str&gt;  \n      &lt;str name=\"spellcheck.maxCollationTries\"&gt;10&lt;/str&gt;\n      &lt;str name=\"spellcheck.maxCollations\"&gt;5&lt;/str&gt;         \n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;spellcheck&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"suggest\" class=\"solr.SuggestComponent\" \n                   enable=\"${solr.suggester.enabled:false}\"     &gt;\n    &lt;lst name=\"suggester\"&gt;\n      &lt;str name=\"name\"&gt;mySuggester&lt;/str&gt;\n      &lt;str name=\"lookupImpl\"&gt;FuzzyLookupFactory&lt;/str&gt;      \n      &lt;str name=\"dictionaryImpl\"&gt;DocumentDictionaryFactory&lt;/str&gt;\n      &lt;str name=\"field\"&gt;cat&lt;/str&gt;\n      &lt;str name=\"weightField\"&gt;price&lt;/str&gt;\n      &lt;str name=\"suggestAnalyzerFieldType\"&gt;string&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/searchComponent&gt;\n\n  &lt;requestHandler name=\"/suggest\" class=\"solr.SearchHandler\" \n                  startup=\"lazy\" enable=\"${solr.suggester.enabled:false}\" &gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"suggest\"&gt;true&lt;/str&gt;\n      &lt;str name=\"suggest.count\"&gt;10&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;suggest&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n\n\n  &lt;searchComponent name=\"tvComponent\" class=\"solr.TermVectorComponent\"/&gt;\n\n\n  &lt;requestHandler name=\"/tvrh\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"tv\"&gt;true&lt;/bool&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;tvComponent&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"clustering\"\n                   enable=\"${solr.clustering.enabled:false}\"\n                   class=\"solr.clustering.ClusteringComponent\" &gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;lingo&lt;/str&gt;\n\n\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.lingo.LingoClusteringAlgorithm&lt;/str&gt;\n\n      &lt;str name=\"carrot.resourcesDir\"&gt;clustering/carrot2&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- An example definition for the STC clustering algorithm. --&gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;stc&lt;/str&gt;\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.stc.STCClusteringAlgorithm&lt;/str&gt;\n    &lt;/lst&gt;\n\n    &lt;!-- An example definition for the bisecting kmeans clustering algorithm. --&gt;\n    &lt;lst name=\"engine\"&gt;\n      &lt;str name=\"name\"&gt;kmeans&lt;/str&gt;\n      &lt;str name=\"carrot.algorithm\"&gt;org.carrot2.clustering.kmeans.BisectingKMeansClusteringAlgorithm&lt;/str&gt;\n    &lt;/lst&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/clustering\"\n                  startup=\"lazy\"\n                  enable=\"${solr.clustering.enabled:false}\"\n                  class=\"solr.SearchHandler\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"clustering\"&gt;true&lt;/bool&gt;\n      &lt;bool name=\"clustering.results\"&gt;true&lt;/bool&gt;\n      &lt;!-- Field name with the logical \"title\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.title\"&gt;name&lt;/str&gt;\n      &lt;!-- Field name with the logical \"URL\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.url\"&gt;id&lt;/str&gt;\n      &lt;!-- Field name with the logical \"content\" of a each document (optional) --&gt;\n      &lt;str name=\"carrot.snippet\"&gt;features&lt;/str&gt;\n      &lt;!-- Apply highlighter to the title/ content and use this for clustering. --&gt;\n      &lt;bool name=\"carrot.produceSummary\"&gt;true&lt;/bool&gt;\n      &lt;!-- the maximum number of labels per cluster --&gt;\n      &lt;!--&lt;int name=\"carrot.numDescriptions\"&gt;5&lt;/int&gt;--&gt;\n      &lt;!-- produce sub clusters --&gt;\n      &lt;bool name=\"carrot.outputSubClusters\"&gt;false&lt;/bool&gt;\n\n      &lt;!-- Configure the remaining request handler parameters. --&gt;\n      &lt;str name=\"defType\"&gt;edismax&lt;/str&gt;\n      &lt;str name=\"qf\"&gt;\n        text^0.5 features^1.0 name^1.2 sku^1.5 id^10.0 manu^1.1 cat^1.4\n      &lt;/str&gt;\n      &lt;str name=\"q.alt\"&gt;*:*&lt;/str&gt;\n      &lt;str name=\"rows\"&gt;10&lt;/str&gt;\n      &lt;str name=\"fl\"&gt;*,score&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;clustering&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent name=\"terms\" class=\"solr.TermsComponent\"/&gt;\n\n  &lt;!-- A request handler for demonstrating the terms component --&gt;\n  &lt;requestHandler name=\"/terms\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n     &lt;lst name=\"defaults\"&gt;\n      &lt;bool name=\"terms\"&gt;true&lt;/bool&gt;\n      &lt;bool name=\"distrib\"&gt;false&lt;/bool&gt;\n    &lt;/lst&gt;     \n    &lt;arr name=\"components\"&gt;\n      &lt;str&gt;terms&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n  &lt;searchComponent name=\"elevator\" class=\"solr.QueryElevationComponent\" &gt;\n    &lt;!-- pick a fieldType to analyze queries --&gt;\n    &lt;str name=\"queryFieldType\"&gt;string&lt;/str&gt;\n    &lt;str name=\"config-file\"&gt;elevate.xml&lt;/str&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;requestHandler name=\"/elevate\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n      &lt;str name=\"echoParams\"&gt;explicit&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n      &lt;str&gt;elevator&lt;/str&gt;\n    &lt;/arr&gt;\n  &lt;/requestHandler&gt;\n\n\n  &lt;searchComponent class=\"solr.HighlightComponent\" name=\"highlight\"&gt;\n    &lt;highlighting&gt;\n      &lt;!-- Configure the standard fragmenter --&gt;\n      &lt;!-- This could most likely be commented out in the \"default\" case --&gt;\n      &lt;fragmenter name=\"gap\" \n                  default=\"true\"\n                  class=\"solr.highlight.GapFragmenter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;int name=\"hl.fragsize\"&gt;100&lt;/int&gt;\n        &lt;/lst&gt;\n      &lt;/fragmenter&gt;\n\n\n      &lt;fragmenter name=\"regex\" \n                  class=\"solr.highlight.RegexFragmenter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;!-- slightly smaller fragsizes work better because of slop --&gt;\n          &lt;int name=\"hl.fragsize\"&gt;70&lt;/int&gt;\n          &lt;!-- allow 50% slop on fragment sizes --&gt;\n          &lt;float name=\"hl.regex.slop\"&gt;0.5&lt;/float&gt;\n          &lt;!-- a basic sentence pattern --&gt;\n          &lt;str name=\"hl.regex.pattern\"&gt;[-\\w ,/\\n\\&amp;quot;&amp;apos;]{20,200}&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/fragmenter&gt;\n\n      &lt;!-- Configure the standard formatter --&gt;\n      &lt;formatter name=\"html\" \n                 default=\"true\"\n                 class=\"solr.highlight.HtmlFormatter\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.simple.pre\"&gt;&lt;![CDATA[&lt;em&gt;]]&gt;&lt;/str&gt;\n          &lt;str name=\"hl.simple.post\"&gt;&lt;![CDATA[&lt;/em&gt;]]&gt;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/formatter&gt;\n\n      &lt;!-- Configure the standard encoder --&gt;\n      &lt;encoder name=\"html\" \n               class=\"solr.highlight.HtmlEncoder\" /&gt;\n\n      &lt;!-- Configure the standard fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"simple\" \n                       class=\"solr.highlight.SimpleFragListBuilder\"/&gt;\n\n      &lt;!-- Configure the single fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"single\" \n                       class=\"solr.highlight.SingleFragListBuilder\"/&gt;\n\n      &lt;!-- Configure the weighted fragListBuilder --&gt;\n      &lt;fragListBuilder name=\"weighted\" \n                       default=\"true\"\n                       class=\"solr.highlight.WeightedFragListBuilder\"/&gt;\n\n      &lt;!-- default tag FragmentsBuilder --&gt;\n      &lt;fragmentsBuilder name=\"default\" \n                        default=\"true\"\n                        class=\"solr.highlight.ScoreOrderFragmentsBuilder\"&gt;\n\n      &lt;/fragmentsBuilder&gt;\n\n      &lt;!-- multi-colored tag FragmentsBuilder --&gt;\n      &lt;fragmentsBuilder name=\"colored\" \n                        class=\"solr.highlight.ScoreOrderFragmentsBuilder\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.tag.pre\"&gt;&lt;![CDATA[\n               &lt;b style=\"background:yellow\"&gt;,&lt;b style=\"background:lawgreen\"&gt;,\n               &lt;b style=\"background:aquamarine\"&gt;,&lt;b style=\"background:magenta\"&gt;,\n               &lt;b style=\"background:palegreen\"&gt;,&lt;b style=\"background:coral\"&gt;,\n               &lt;b style=\"background:wheat\"&gt;,&lt;b style=\"background:khaki\"&gt;,\n               &lt;b style=\"background:lime\"&gt;,&lt;b style=\"background:deepskyblue\"&gt;]]&gt;&lt;/str&gt;\n          &lt;str name=\"hl.tag.post\"&gt;&lt;![CDATA[&lt;/b&gt;]]&gt;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/fragmentsBuilder&gt;\n\n      &lt;boundaryScanner name=\"default\" \n                       default=\"true\"\n                       class=\"solr.highlight.SimpleBoundaryScanner\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;str name=\"hl.bs.maxScan\"&gt;10&lt;/str&gt;\n          &lt;str name=\"hl.bs.chars\"&gt;.,!? &amp;#9;&amp;#10;&amp;#13;&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/boundaryScanner&gt;\n\n      &lt;boundaryScanner name=\"breakIterator\" \n                       class=\"solr.highlight.BreakIteratorBoundaryScanner\"&gt;\n        &lt;lst name=\"defaults\"&gt;\n          &lt;!-- type should be one of CHARACTER, WORD(default), LINE and SENTENCE --&gt;\n          &lt;str name=\"hl.bs.type\"&gt;WORD&lt;/str&gt;\n          &lt;!-- language and country are used when constructing Locale object.  --&gt;\n          &lt;!-- And the Locale object will be used when getting instance of BreakIterator --&gt;\n          &lt;str name=\"hl.bs.language\"&gt;en&lt;/str&gt;\n          &lt;str name=\"hl.bs.country\"&gt;US&lt;/str&gt;\n        &lt;/lst&gt;\n      &lt;/boundaryScanner&gt;\n    &lt;/highlighting&gt;\n  &lt;/searchComponent&gt;\n\n\n  &lt;queryResponseWriter name=\"json\" class=\"solr.JSONResponseWriter\"&gt;\n\n    &lt;str name=\"content-type\"&gt;text/plain; charset=UTF-8&lt;/str&gt;\n  &lt;/queryResponseWriter&gt;\n\n  &lt;!--\n     Custom response writers can be declared as needed...\n    --&gt;\n    &lt;queryResponseWriter name=\"velocity\" class=\"solr.VelocityResponseWriter\" startup=\"lazy\"&gt;\n      &lt;str name=\"template.base.dir\"&gt;${velocity.template.base.dir:}&lt;/str&gt;\n    &lt;/queryResponseWriter&gt;\n\n\n  &lt;queryResponseWriter name=\"xslt\" class=\"solr.XSLTResponseWriter\"&gt;\n    &lt;int name=\"xsltCacheLifetimeSeconds\"&gt;5&lt;/int&gt;\n  &lt;/queryResponseWriter&gt;\n\n\n  &lt;admin&gt;\n    &lt;defaultQuery&gt;*:*&lt;/defaultQuery&gt;\n  &lt;/admin&gt;\n\n&lt;/config&gt;\n</code></pre>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674085941,"post_id":75166425,"comment_id":132642660,"body_markdown":"And are your results for quarters, dimes and nickels correct?","body":"And are your results for quarters, dimes and nickels correct?"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674085916,"creation_date":1674085916,"answer_id":75166444,"question_id":75166425,"body_markdown":"Since `amount` is a `double`, you could do something like \r\n\r\n    long totalCents = Math.round(amount * 100);\r\n\r\nThe [`Math.round` method](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#round(double)) takes a `double` value and returns the `long` that&#39;s closest to it, so it can round up or down.  There&#39;s also a version that takes a `float` value and returns an `int`.\r\n\r\nOnce you&#39;ve done that, the process for turning your total number of cents into pennies, nickels, dimes and quarters will be very similar to what you&#39;ve already done for turning dollars into twenties, tens, fives and ones.","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<p>Since <code>amount</code> is a <code>double</code>, you could do something like</p>\n<pre><code>long totalCents = Math.round(amount * 100);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\"><code>Math.round</code> method</a> takes a <code>double</code> value and returns the <code>long</code> that's closest to it, so it can round up or down.  There's also a version that takes a <code>float</code> value and returns an <code>int</code>.</p>\n<p>Once you've done that, the process for turning your total number of cents into pennies, nickels, dimes and quarters will be very similar to what you've already done for turning dollars into twenties, tens, fives and ones.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674178514,"creation_date":1674093626,"answer_id":75167085,"question_id":75166425,"body_markdown":"Solution 1: Calculate using cents instead of dollars:\r\n-----------------------------------------------------\r\n\r\nOne way is to approach this is to convert the amount entered into an integer, and do the calculations in cents instead of dollars:\r\n\r\n        long amount, quarters, dimes, nickels, pennies;\r\n        long hundreds, fifties, twenties, tens, fives, ones;\r\n        double amountIn;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n    \r\n        Scanner sc = new Scanner(System.in); \r\n        amountIn = (double) sc.nextDouble();\r\n        amount = Math.round (amountIn * 100.0);\r\n        \r\n         hundreds = amount / 100_00;\r\n         amount = amount % 100_00;\r\n         fifties = amount / 50_00;\r\n         amount = amount % 50_00;         \r\n\r\nand so on.\r\n\r\nUse of the underscore is a style preference:  The underscore represents where the decimal point would be if the number is in dollars.[1] This may make the code easier to read.\r\n\r\nSolution 2: Use BigDecimal:\r\n---------------------------\r\n\r\nFloating point is inaccurate when representing almost all decimal fractions. This is one reason it is preferred to do monetary calculations using decimal instead of binary. \r\n\r\nAlthough this is  likely not useful for the O/P now, in the future the O/P might want to know how to use Java&#39;s [`BigDecimal` class](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html). This alternative shows how `BigDecimal` might be used for this problem:\r\n \r\n    public static void change2() {\r\n\r\n        int quarters, dimes, nickels, pennies;\r\n        int hundreds, fifties, twenties, tens, fives, ones;\r\n        BigDecimal amount;\r\n        BigDecimal[] amountDivRemainder;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        amount = sc.nextBigDecimal();\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;100.00&quot;));\r\n        hundreds = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;50.00&quot;));\r\n        fifties = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n        amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;20.00&quot;));\r\n        twenties = amountDivRemainder[0].intValue();\r\n        amount = amountDivRemainder[1];\r\n\r\n\r\nand so on. \r\n\r\nOff-Topic: Style\r\n----------------\r\n\r\nWhen Old Dog Programmer, for one, sees repeated code with only minor differences, he asks this question: Can the code be improved with arrays, loops, and / or additional methods? The O/P code has a repeating pattern: \r\n\r\n     c = a / b;\r\n     a = a % b;\r\n\r\nHere is one way to use arrays and loops:\r\n\r\n    \r\n    public static void change3() {\r\n\r\n        class Denomination {\r\n\r\n            String name;\r\n            int value;\r\n            int quantity;\r\n\r\n            Denomination(String name, int value) {\r\n                this.name = name;\r\n                this.value = value;\r\n                this.quantity = 0;\r\n            }\r\n        }\r\n        Denomination[] denomination = {\r\n            new Denomination(&quot;Hundreds&quot;, 100_00),\r\n            new Denomination(&quot;Fifties&quot;, 50_00),\r\n            new Denomination(&quot;Twenties&quot;, 20_00),\r\n            new Denomination(&quot;Tens&quot;, 10_00),\r\n            new Denomination(&quot;Fives&quot;, 5_00),\r\n            new Denomination(&quot;Ones&quot;, 1_00),\r\n            new Denomination(&quot;Quarters&quot;, 25),\r\n            new Denomination(&quot;Dimes&quot;, 10),\r\n            new Denomination(&quot;Nickels&quot;, 5),\r\n            new Denomination(&quot;Pennies&quot;, 1)\r\n        };\r\n\r\n        double amountIn;\r\n        int amount;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        amountIn = (double) sc.nextDouble();\r\n        amount = (int) Math.round(amountIn * 100.0);\r\n\r\n        for (int i = 0; i &lt; denomination.length; ++i) {\r\n            denomination[i].quantity = amount / denomination[i].value;\r\n            amount = amount % denomination[i].value;\r\n        }\r\n\r\n        System.out.println(&quot;The amount is distributed: &quot;);\r\n        for (int i = 0; i &lt; denomination.length; ++i) {\r\n            System.out.println(denomination[i].name + &quot;: &quot; + denomination[i].quantity);\r\n        }\r\n    }\r\n     \r\n\r\nHere, this uses a `class` in which each instance holds information about the monetary denomination:  The name, the value in cents, and the count to be distributed. The count is initially zero. \r\n\r\nUse of the `Denomination` class avoids use of tightly coupled arrays:\r\n\r\n       String [] denominationName = {&quot;Hundreds&quot;, &quot;Fifites&quot;, &quot;Twenties&quot;, ...\r\n       int [] denominationValue = {100_00, 50_00, 20_00, ...\r\n       int [] denominationCount = new int [10];\r\n\r\nIf the code needs to be changed to add, for example, half-dollar coins and 2 dollar bills, the only thing that needs to be done is to add two elements to the array, in the appropriate places.\r\n\r\nThis can be adapted for use in the `BigDecimal` approach. \r\n\r\nTwo loops preserve the characteristic in the O/P code where all the calculations are completed prior to printing any result.\r\n\r\n\r\n\r\nNotes:\r\n------\r\n[1] **Do not** use `0` as the first digit. Java will interpret that as an octal value. For example, `0_10` will be `8`, not `10` cents.","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<h2>Solution 1: Calculate using cents instead of dollars:</h2>\n<p>One way is to approach this is to convert the amount entered into an integer, and do the calculations in cents instead of dollars:</p>\n<pre><code>    long amount, quarters, dimes, nickels, pennies;\n    long hundreds, fifties, twenties, tens, fives, ones;\n    double amountIn;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in); \n    amountIn = (double) sc.nextDouble();\n    amount = Math.round (amountIn * 100.0);\n    \n     hundreds = amount / 100_00;\n     amount = amount % 100_00;\n     fifties = amount / 50_00;\n     amount = amount % 50_00;         \n</code></pre>\n<p>and so on.</p>\n<p>Use of the underscore is a style preference:  The underscore represents where the decimal point would be if the number is in dollars.[1] This may make the code easier to read.</p>\n<h2>Solution 2: Use BigDecimal:</h2>\n<p>Floating point is inaccurate when representing almost all decimal fractions. This is one reason it is preferred to do monetary calculations using decimal instead of binary.</p>\n<p>Although this is  likely not useful for the O/P now, in the future the O/P might want to know how to use Java's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code> class</a>. This alternative shows how <code>BigDecimal</code> might be used for this problem:</p>\n<pre><code>public static void change2() {\n\n    int quarters, dimes, nickels, pennies;\n    int hundreds, fifties, twenties, tens, fives, ones;\n    BigDecimal amount;\n    BigDecimal[] amountDivRemainder;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in);\n    amount = sc.nextBigDecimal();\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;100.00&quot;));\n    hundreds = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;50.00&quot;));\n    fifties = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n\n    amountDivRemainder = amount.divideAndRemainder(new BigDecimal(&quot;20.00&quot;));\n    twenties = amountDivRemainder[0].intValue();\n    amount = amountDivRemainder[1];\n</code></pre>\n<p>and so on.</p>\n<h2>Off-Topic: Style</h2>\n<p>When Old Dog Programmer, for one, sees repeated code with only minor differences, he asks this question: Can the code be improved with arrays, loops, and / or additional methods? The O/P code has a repeating pattern:</p>\n<pre><code> c = a / b;\n a = a % b;\n</code></pre>\n<p>Here is one way to use arrays and loops:</p>\n<pre><code>public static void change3() {\n\n    class Denomination {\n\n        String name;\n        int value;\n        int quantity;\n\n        Denomination(String name, int value) {\n            this.name = name;\n            this.value = value;\n            this.quantity = 0;\n        }\n    }\n    Denomination[] denomination = {\n        new Denomination(&quot;Hundreds&quot;, 100_00),\n        new Denomination(&quot;Fifties&quot;, 50_00),\n        new Denomination(&quot;Twenties&quot;, 20_00),\n        new Denomination(&quot;Tens&quot;, 10_00),\n        new Denomination(&quot;Fives&quot;, 5_00),\n        new Denomination(&quot;Ones&quot;, 1_00),\n        new Denomination(&quot;Quarters&quot;, 25),\n        new Denomination(&quot;Dimes&quot;, 10),\n        new Denomination(&quot;Nickels&quot;, 5),\n        new Denomination(&quot;Pennies&quot;, 1)\n    };\n\n    double amountIn;\n    int amount;\n\n    System.out.println(&quot;Enter your dollar amount:&quot;);\n\n    Scanner sc = new Scanner(System.in);\n    amountIn = (double) sc.nextDouble();\n    amount = (int) Math.round(amountIn * 100.0);\n\n    for (int i = 0; i &lt; denomination.length; ++i) {\n        denomination[i].quantity = amount / denomination[i].value;\n        amount = amount % denomination[i].value;\n    }\n\n    System.out.println(&quot;The amount is distributed: &quot;);\n    for (int i = 0; i &lt; denomination.length; ++i) {\n        System.out.println(denomination[i].name + &quot;: &quot; + denomination[i].quantity);\n    }\n}\n \n</code></pre>\n<p>Here, this uses a <code>class</code> in which each instance holds information about the monetary denomination:  The name, the value in cents, and the count to be distributed. The count is initially zero.</p>\n<p>Use of the <code>Denomination</code> class avoids use of tightly coupled arrays:</p>\n<pre><code>   String [] denominationName = {&quot;Hundreds&quot;, &quot;Fifites&quot;, &quot;Twenties&quot;, ...\n   int [] denominationValue = {100_00, 50_00, 20_00, ...\n   int [] denominationCount = new int [10];\n</code></pre>\n<p>If the code needs to be changed to add, for example, half-dollar coins and 2 dollar bills, the only thing that needs to be done is to add two elements to the array, in the appropriate places.</p>\n<p>This can be adapted for use in the <code>BigDecimal</code> approach.</p>\n<p>Two loops preserve the characteristic in the O/P code where all the calculations are completed prior to printing any result.</p>\n<h2>Notes:</h2>\n<p>[1] <strong>Do not</strong> use <code>0</code> as the first digit. Java will interpret that as an octal value. For example, <code>0_10</code> will be <code>8</code>, not <code>10</code> cents.</p>\n"}],"owner":{"account_id":22740404,"reputation":5,"user_id":16902004,"display_name":"jose013"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1674527581,"answer_count":2,"score":-3,"last_activity_date":1674178514,"creation_date":1674085709,"question_id":75166425,"body_markdown":"I am working on a java program, the program takes an input of a dollar amount and returns the number of hundreds, fifties, twenties, tens, fives, ones, quarters, dimes, nickels and cents the value contains.\r\n\r\nThe output should look like this (but with actual numbers):\r\n\r\n- 0 hundred\r\n- 0 fifty\r\n- 0 twenty\r\n- 0 ten\r\n- 0 five\r\n- 0 ones\r\n- 0 quarters\r\n- 0 dimes\r\n- 0 nickels\r\n- 0 cents\r\n\r\nHere is my code below:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\npublic static void main(String\\[\\] args)\r\n{\r\ndouble amount, quarters, dimes, nickels, pennies;\r\nint hundreds, fifties, twenties, tens, fives, ones;\r\n\r\n        System.out.println(&quot;Enter your dollar amount:&quot;);\r\n    \r\n        try (Scanner sc = new Scanner(System.in)) {\r\n    \t\tamount = (double) sc.nextDouble();\r\n        \r\n         hundreds = (int)amount / 100;\r\n         amount = amount % 100;\r\n         fifties = (int)amount / 50;\r\n         amount = amount % 50;\r\n         twenties = (int) amount / 20;\r\n         amount = amount % 20;\r\n         tens = (int)amount / 10;\r\n         amount = amount % 10;\r\n         fives = (int)amount / 5;\r\n         amount = amount % 5;\r\n         ones = (int)amount / 1;\r\n         amount = amount % 1;\r\n         quarters = amount / 25;\r\n         amount = amount % 25;\r\n         dimes = amount / 10;\r\n         amount = amount % 10;\r\n         nickels = amount / 5;\r\n         amount = amount % 5;\r\n         pennies = amount;\r\n    \r\n         System.out.println(&quot;You have:&quot;);\r\n         System.out.println(hundreds + &quot; hundreds&quot;);\r\n         System.out.println(fifties + &quot; fifties&quot;);\r\n         System.out.println(twenties + &quot; twenties&quot;);\r\n         System.out.println(tens + &quot; tens&quot;);\r\n         System.out.println(fives + &quot; fives&quot;);\r\n         System.out.println(ones + &quot; ones&quot;);\r\n         System.out.println(quarters + &quot; quarters&quot;);\r\n         System.out.println(dimes + &quot; dimes&quot;);\r\n         System.out.println(nickels + &quot; nickels&quot;);\r\n         System.out.println(pennies + &quot; pennies&quot;);\r\n         System.out.println(&quot;Goodbye!&quot;);\r\n     }\r\n\r\n}\r\n}\r\n```\r\nI figured out how to calculate the dollar amounts, but cannot figure out the logistics for the cent values. I need it to print out as a whole number, so I know the amount needs to be converted to an integer at some point. Can anyone point me in the right direction?","title":"Writing a Java program that asks the user to enter an amount to be written in terms of dollar and cents, cannot figure out how to calculate cents","body":"<p>I am working on a java program, the program takes an input of a dollar amount and returns the number of hundreds, fifties, twenties, tens, fives, ones, quarters, dimes, nickels and cents the value contains.</p>\n<p>The output should look like this (but with actual numbers):</p>\n<ul>\n<li>0 hundred</li>\n<li>0 fifty</li>\n<li>0 twenty</li>\n<li>0 ten</li>\n<li>0 five</li>\n<li>0 ones</li>\n<li>0 quarters</li>\n<li>0 dimes</li>\n<li>0 nickels</li>\n<li>0 cents</li>\n</ul>\n<p>Here is my code below:</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\npublic static void main(String\\[\\] args)\n{\ndouble amount, quarters, dimes, nickels, pennies;\nint hundreds, fifties, twenties, tens, fives, ones;\n\n        System.out.println(&quot;Enter your dollar amount:&quot;);\n    \n        try (Scanner sc = new Scanner(System.in)) {\n            amount = (double) sc.nextDouble();\n        \n         hundreds = (int)amount / 100;\n         amount = amount % 100;\n         fifties = (int)amount / 50;\n         amount = amount % 50;\n         twenties = (int) amount / 20;\n         amount = amount % 20;\n         tens = (int)amount / 10;\n         amount = amount % 10;\n         fives = (int)amount / 5;\n         amount = amount % 5;\n         ones = (int)amount / 1;\n         amount = amount % 1;\n         quarters = amount / 25;\n         amount = amount % 25;\n         dimes = amount / 10;\n         amount = amount % 10;\n         nickels = amount / 5;\n         amount = amount % 5;\n         pennies = amount;\n    \n         System.out.println(&quot;You have:&quot;);\n         System.out.println(hundreds + &quot; hundreds&quot;);\n         System.out.println(fifties + &quot; fifties&quot;);\n         System.out.println(twenties + &quot; twenties&quot;);\n         System.out.println(tens + &quot; tens&quot;);\n         System.out.println(fives + &quot; fives&quot;);\n         System.out.println(ones + &quot; ones&quot;);\n         System.out.println(quarters + &quot; quarters&quot;);\n         System.out.println(dimes + &quot; dimes&quot;);\n         System.out.println(nickels + &quot; nickels&quot;);\n         System.out.println(pennies + &quot; pennies&quot;);\n         System.out.println(&quot;Goodbye!&quot;);\n     }\n\n}\n}\n</code></pre>\n<p>I figured out how to calculate the dollar amounts, but cannot figure out the logistics for the cent values. I need it to print out as a whole number, so I know the amount needs to be converted to an integer at some point. Can anyone point me in the right direction?</p>\n"},{"tags":["java","string","security","passwords","char"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":6,"up_vote_count":4735,"is_accepted":true,"score":4729,"last_activity_date":1524246627,"creation_date":1326723976,"answer_id":8881376,"question_id":8881291,"body_markdown":"**Strings are immutable**. That means once you&#39;ve created the `String`, if another process can dump memory, there&#39;s no way (aside from [reflection](https://en.wikipedia.org/wiki/Reflection_%28computer_programming%29)) you can get rid of the data before [garbage collection](https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29) kicks in.\r\n\r\nWith an array, you can explicitly wipe the data after you&#39;re done with it. You can overwrite the array with anything you like, and the password won&#39;t be present anywhere in the system, even before garbage collection.\r\n\r\nSo yes, this *is* a security concern - but even using `char[]` only reduces the window of opportunity for an attacker, and it&#39;s only for this specific type of attack.\r\n\r\nAs noted in the comments, it&#39;s possible that arrays being moved by the garbage collector will leave stray copies of the data in memory. I believe this is implementation-specific - the garbage collector *may* clear all memory as it goes, to avoid this sort of thing. Even if it does, there&#39;s still the time during which the `char[]` contains the actual characters as an attack window.","title":"Why is char[] preferred over String for passwords?","body":"<p><strong>Strings are immutable</strong>. That means once you've created the <code>String</code>, if another process can dump memory, there's no way (aside from <a href=\"https://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a>) you can get rid of the data before <a href=\"https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29\" rel=\"noreferrer\">garbage collection</a> kicks in.</p>\n\n<p>With an array, you can explicitly wipe the data after you're done with it. You can overwrite the array with anything you like, and the password won't be present anywhere in the system, even before garbage collection.</p>\n\n<p>So yes, this <em>is</em> a security concern - but even using <code>char[]</code> only reduces the window of opportunity for an attacker, and it's only for this specific type of attack.</p>\n\n<p>As noted in the comments, it's possible that arrays being moved by the garbage collector will leave stray copies of the data in memory. I believe this is implementation-specific - the garbage collector <em>may</em> clear all memory as it goes, to avoid this sort of thing. Even if it does, there's still the time during which the <code>char[]</code> contains the actual characters as an attack window.</p>\n"},{"tags":[],"owner":{"account_id":995700,"reputation":4908,"user_id":1011704,"display_name":"alephx"},"down_vote_count":1,"up_vote_count":393,"is_accepted":false,"score":392,"last_activity_date":1331401852,"creation_date":1326724053,"answer_id":8881395,"question_id":8881291,"body_markdown":"Character arrays (`char[]`) can be cleared after use by setting each character to zero and Strings not. If someone can somehow see the memory image, they can see a password in plain text if Strings are used, but if `char[]` is used, after purging data with 0&#39;s, the password is secure.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>Character arrays (<code>char[]</code>) can be cleared after use by setting each character to zero and Strings not. If someone can somehow see the memory image, they can see a password in plain text if Strings are used, but if <code>char[]</code> is used, after purging data with 0's, the password is secure.</p>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":2,"up_vote_count":95,"is_accepted":false,"score":93,"last_activity_date":1326724074,"creation_date":1326724074,"answer_id":8881399,"question_id":8881291,"body_markdown":"I don&#39;t think this is a valid suggestion, but, I can at least guess at the reason.\r\n\r\nI think the motivation is wanting to make sure that you can erase all trace of the password in memory promptly and with certainty after it is used. With a `char[]` you could overwrite each element of the array with a blank or something for sure. You can&#39;t edit the internal value of a `String` that way.\r\n\r\nBut that alone isn&#39;t a good answer; why not just make sure a reference to the `char[]` or `String` doesn&#39;t escape? Then there&#39;s no security issue. But the thing is that `String` objects can be `intern()`ed in theory and kept alive inside the constant pool. I suppose using `char[]` forbids this possibility.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>I don't think this is a valid suggestion, but, I can at least guess at the reason.</p>\n\n<p>I think the motivation is wanting to make sure that you can erase all trace of the password in memory promptly and with certainty after it is used. With a <code>char[]</code> you could overwrite each element of the array with a blank or something for sure. You can't edit the internal value of a <code>String</code> that way.</p>\n\n<p>But that alone isn't a good answer; why not just make sure a reference to the <code>char[]</code> or <code>String</code> doesn't escape? Then there's no security issue. But the thing is that <code>String</code> objects can be <code>intern()</code>ed in theory and kept alive inside the constant pool. I suppose using <code>char[]</code> forbids this possibility.</p>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"down_vote_count":8,"up_vote_count":245,"is_accepted":false,"score":237,"last_activity_date":1437346321,"creation_date":1326724345,"answer_id":8881461,"question_id":8881291,"body_markdown":"Some people believe that you have to overwrite the memory used to store the password once you no longer need it. This reduces the time window an attacker has to read the password from your system and completely ignores the fact that the attacker already needs enough access to hijack the JVM memory to do this. An attacker with that much access can catch your key events making this completely useless (AFAIK, so please correct me if I am wrong).\r\n\r\n**Update**\r\n\r\nThanks to the comments I have to update my answer. Apparently there are two cases where this can add a (very) minor security improvement as it reduces the time a password could land on the hard drive. Still I think it&#39;s overkill for most use cases.\r\n\r\n* Your target system may be badly configured or you have to assume it is and you have to be paranoid about core dumps (can be valid if the systems are not managed by an administrator). \r\n* Your software has to be overly paranoid to prevent data leaks with the attacker gaining access to the hardware - using things like [TrueCrypt][1] (discontinued), [VeraCrypt][2], or [CipherShed][3].\r\n\r\nIf possible, disabling core dumps and the swap file would take care of both problems. However, they would require administrator rights and may reduce functionality (less memory to use) and pulling RAM from a running system would still be a valid concern.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/TrueCrypt\r\n  [2]: https://veracrypt.codeplex.com/\r\n  [3]: https://ciphershed.org/","title":"Why is char[] preferred over String for passwords?","body":"<p>Some people believe that you have to overwrite the memory used to store the password once you no longer need it. This reduces the time window an attacker has to read the password from your system and completely ignores the fact that the attacker already needs enough access to hijack the JVM memory to do this. An attacker with that much access can catch your key events making this completely useless (AFAIK, so please correct me if I am wrong).</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to the comments I have to update my answer. Apparently there are two cases where this can add a (very) minor security improvement as it reduces the time a password could land on the hard drive. Still I think it's overkill for most use cases.</p>\n\n<ul>\n<li>Your target system may be badly configured or you have to assume it is and you have to be paranoid about core dumps (can be valid if the systems are not managed by an administrator). </li>\n<li>Your software has to be overly paranoid to prevent data leaks with the attacker gaining access to the hardware - using things like <a href=\"http://en.wikipedia.org/wiki/TrueCrypt\" rel=\"noreferrer\">TrueCrypt</a> (discontinued), <a href=\"https://veracrypt.codeplex.com/\" rel=\"noreferrer\">VeraCrypt</a>, or <a href=\"https://ciphershed.org/\" rel=\"noreferrer\">CipherShed</a>.</li>\n</ul>\n\n<p>If possible, disabling core dumps and the swap file would take care of both problems. However, they would require administrator rights and may reduce functionality (less memory to use) and pulling RAM from a running system would still be a valid concern.</p>\n"},{"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"down_vote_count":13,"up_vote_count":1348,"is_accepted":false,"score":1335,"last_activity_date":1326996714,"creation_date":1326742650,"answer_id":8885343,"question_id":8881291,"body_markdown":"While other suggestions here seem valid, there is one other good reason. With plain `String` you have much higher chances of **accidentally printing the password to logs**, monitors or some other insecure place. `char[]` is less vulnerable.\r\n\r\nConsider this:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tObject pw = &quot;Password&quot;;\r\n\t\tSystem.out.println(&quot;String: &quot; + pw);\r\n\t\r\n\t\tpw = &quot;Password&quot;.toCharArray();\r\n\t\tSystem.out.println(&quot;Array: &quot; + pw);\r\n\t}\r\n\r\nPrints:\r\n\r\n\tString: Password\r\n\tArray: [C@5829428e","title":"Why is char[] preferred over String for passwords?","body":"<p>While other suggestions here seem valid, there is one other good reason. With plain <code>String</code> you have much higher chances of <strong>accidentally printing the password to logs</strong>, monitors or some other insecure place. <code>char[]</code> is less vulnerable.</p>\n\n<p>Consider this:</p>\n\n<pre><code>public static void main(String[] args) {\n    Object pw = \"Password\";\n    System.out.println(\"String: \" + pw);\n\n    pw = \"Password\".toCharArray();\n    System.out.println(\"Array: \" + pw);\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>String: Password\nArray: [C@5829428e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":1,"up_vote_count":746,"is_accepted":false,"score":745,"last_activity_date":1326770457,"creation_date":1326770457,"answer_id":8889285,"question_id":8881291,"body_markdown":"To quote an official document, the [Java Cryptography Architecture guide][1] says this about `char[]` vs. `String` passwords (about password-based encryption, but this is more generally about passwords of course):\r\n\r\n&gt; It would seem logical to collect and store the password in an object\r\n&gt; of type `java.lang.String`. However, here&#39;s the caveat: `Object`s of\r\n&gt; type `String` are immutable, i.e., there are no methods defined that\r\n&gt; allow you to change (overwrite) or zero out the contents of a `String`\r\n&gt; after usage. This feature makes `String` objects unsuitable for\r\n&gt; storing security sensitive information such as user passwords. You\r\n&gt; should always collect and store security sensitive information in a\r\n&gt; `char` array instead.\r\n\r\n[Guideline 2-2 of the Secure Coding Guidelines for the Java Programming Language, Version 4.0][2] also says something similar (although it is originally in the context of logging):\r\n\r\n&gt; *Guideline 2-2: Do not log highly sensitive information*\r\n&gt; \r\n&gt; Some information, such as Social Security numbers (SSNs) and\r\n&gt; passwords, is highly sensitive. This information should not be kept\r\n&gt; for longer than necessary nor where it may be seen, even by\r\n&gt; administrators. For instance, it should not be sent to log files and\r\n&gt; its presence should not be detectable through searches. Some transient\r\n&gt; data may be kept in mutable data structures, such as char arrays, and\r\n&gt; cleared immediately after use. Clearing data structures has reduced\r\n&gt; effectiveness on typical Java runtime systems as objects are moved in\r\n&gt; memory transparently to the programmer.\r\n&gt; \r\n&gt; This guideline also has implications for implementation and use of\r\n&gt; lower-level libraries that do not have semantic knowledge of the data\r\n&gt; they are dealing with. As an example, a low-level string parsing\r\n&gt; library may log the text it works on. An application may parse an SSN\r\n&gt; with the library. This creates a situation where the SSNs are\r\n&gt; available to administrators with access to the log files.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx\r\n  [2]: http://www.oracle.com/technetwork/java/seccodeguide-139067.html#2","title":"Why is char[] preferred over String for passwords?","body":"<p>To quote an official document, the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#PBEEx\">Java Cryptography Architecture guide</a> says this about <code>char[]</code> vs. <code>String</code> passwords (about password-based encryption, but this is more generally about passwords of course):</p>\n\n<blockquote>\n  <p>It would seem logical to collect and store the password in an object\n  of type <code>java.lang.String</code>. However, here's the caveat: <code>Object</code>s of\n  type <code>String</code> are immutable, i.e., there are no methods defined that\n  allow you to change (overwrite) or zero out the contents of a <code>String</code>\n  after usage. This feature makes <code>String</code> objects unsuitable for\n  storing security sensitive information such as user passwords. You\n  should always collect and store security sensitive information in a\n  <code>char</code> array instead.</p>\n</blockquote>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/seccodeguide-139067.html#2\">Guideline 2-2 of the Secure Coding Guidelines for the Java Programming Language, Version 4.0</a> also says something similar (although it is originally in the context of logging):</p>\n\n<blockquote>\n  <p><em>Guideline 2-2: Do not log highly sensitive information</em></p>\n  \n  <p>Some information, such as Social Security numbers (SSNs) and\n  passwords, is highly sensitive. This information should not be kept\n  for longer than necessary nor where it may be seen, even by\n  administrators. For instance, it should not be sent to log files and\n  its presence should not be detectable through searches. Some transient\n  data may be kept in mutable data structures, such as char arrays, and\n  cleared immediately after use. Clearing data structures has reduced\n  effectiveness on typical Java runtime systems as objects are moved in\n  memory transparently to the programmer.</p>\n  \n  <p>This guideline also has implications for implementation and use of\n  lower-level libraries that do not have semantic knowledge of the data\n  they are dealing with. As an example, a low-level string parsing\n  library may log the text it works on. An application may parse an SSN\n  with the library. This creates a situation where the SSNs are\n  available to administrators with access to the log files.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1327001987,"creation_date":1327001987,"answer_id":8932215,"question_id":8881291,"body_markdown":"The answer has already been given, but I&#39;d like to share an issue that I discovered lately with Java standard libraries. While they take great care now of replacing password strings with `char[]` everywhere (which of course is a good thing), other security-critical data seems to be overlooked when it comes to clearing it from memory.\r\n\r\nI&#39;m thinking of e.g. the [PrivateKey](http://docs.oracle.com/javase/6/docs/api/java/security/PrivateKey.html) class. Consider a scenario where you would load a private RSA key from a PKCS#12 file, using it to perform some operation. Now in this case, sniffing the password alone wouldn&#39;t help you much as long as physical access to the key file is properly restricted. As an attacker, you would be much better off if you obtained the key directly instead of the password. The desired information can be leaked manifold, core dumps, a debugger session or swap files are just some examples.\r\n\r\nAnd as it turns out, there is nothing that lets you clear the private information of a `PrivateKey` from memory, because there&#39;s no API that lets you wipe the bytes that form the corresponding information.\r\n\r\nThis is a bad situation, as this [paper](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.77.3297&amp;rep=rep1&amp;type=pdf) describes how this circumstance could be potentially exploited.\r\n\r\nThe OpenSSL library for example overwrites critical memory sections before private keys are freed. Since Java is garbage-collected, we would need explicit methods to wipe and invalidate private information for Java keys, which are to be applied immediately after using the key. \r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>The answer has already been given, but I'd like to share an issue that I discovered lately with Java standard libraries. While they take great care now of replacing password strings with <code>char[]</code> everywhere (which of course is a good thing), other security-critical data seems to be overlooked when it comes to clearing it from memory.</p>\n\n<p>I'm thinking of e.g. the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/PrivateKey.html\" rel=\"noreferrer\">PrivateKey</a> class. Consider a scenario where you would load a private RSA key from a PKCS#12 file, using it to perform some operation. Now in this case, sniffing the password alone wouldn't help you much as long as physical access to the key file is properly restricted. As an attacker, you would be much better off if you obtained the key directly instead of the password. The desired information can be leaked manifold, core dumps, a debugger session or swap files are just some examples.</p>\n\n<p>And as it turns out, there is nothing that lets you clear the private information of a <code>PrivateKey</code> from memory, because there's no API that lets you wipe the bytes that form the corresponding information.</p>\n\n<p>This is a bad situation, as this <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.77.3297&amp;rep=rep1&amp;type=pdf\" rel=\"noreferrer\">paper</a> describes how this circumstance could be potentially exploited.</p>\n\n<p>The OpenSSL library for example overwrites critical memory sections before private keys are freed. Since Java is garbage-collected, we would need explicit methods to wipe and invalidate private information for Java keys, which are to be applied immediately after using the key. </p>\n"},{"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1579288123,"creation_date":1422085420,"answer_id":28123411,"question_id":8881291,"body_markdown":"There is nothing that char array gives you vs String unless you clean it up manually after use, and I haven&#39;t seen anyone actually doing that. So to me the preference of char[] vs String is a bit exaggerated.\r\n\r\nTake a look at the &lt;sub&gt;widely used&lt;/sub&gt; Spring Security library [here](http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.1.RELEASE/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#73) and ask yourself - are Spring Security guys incompetent or char[] passwords just don&#39;t make much sense. When some nasty hacker grabs memory dumps of your RAM be sure s/he&#39;ll get all the passwords even if you use sophisticated ways to hide them.\r\n\r\nHowever, Java changes all the time, and some scary features like https://stackoverflow.com/questions/27949213/string-deduplication-feature-of-java-8 might intern String objects without your knowledge. But that&#39;s a different conversation.","title":"Why is char[] preferred over String for passwords?","body":"<p>There is nothing that char array gives you vs String unless you clean it up manually after use, and I haven't seen anyone actually doing that. So to me the preference of char[] vs String is a bit exaggerated.</p>\n\n<p>Take a look at the <sub>widely used</sub> Spring Security library <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/3.0.1.RELEASE/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java#73\" rel=\"noreferrer\">here</a> and ask yourself - are Spring Security guys incompetent or char[] passwords just don't make much sense. When some nasty hacker grabs memory dumps of your RAM be sure s/he'll get all the passwords even if you use sophisticated ways to hide them.</p>\n\n<p>However, Java changes all the time, and some scary features like <a href=\"https://stackoverflow.com/questions/27949213/string-deduplication-feature-of-java-8\">String Deduplication feature of Java 8</a> might intern String objects without your knowledge. But that's a different conversation.</p>\n"},{"tags":[],"owner":{"account_id":3956319,"reputation":699,"user_id":3264657,"accept_rate":50,"display_name":"Graph Theory"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1469567648,"creation_date":1428451499,"answer_id":29503590,"question_id":8881291,"body_markdown":"**Edit:** Coming back to this answer after a year of security research, I realize it makes the rather unfortunate implication that you would ever actually compare plaintext passwords. Please don&#39;t. [Use a secure one-way hash with a salt and a reasonable number of iterations][1]. Consider using a library: this stuff is hard to get right!\r\n\r\n**Original answer:** What about the fact that String.equals() uses [short-circuit evaluation][2], and is therefore vulnerable to a timing attack? It may be unlikely, but you could *theoretically* time the password comparison in order to determine the correct sequence of characters.\r\n\r\n    public boolean equals(Object anObject) {\r\n        if (this == anObject) {\r\n            return true;\r\n        }\r\n        if (anObject instanceof String) {\r\n            String anotherString = (String)anObject;\r\n            int n = value.length;\r\n            // Quits here if Strings are different lengths.\r\n            if (n == anotherString.value.length) {\r\n                char v1[] = value;\r\n                char v2[] = anotherString.value;\r\n                int i = 0;\r\n                // Quits here at first different character.\r\n                while (n-- != 0) {\r\n                    if (v1[i] != v2[i])\r\n                        return false;\r\n                    i++;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nSome more resources on timing attacks:\r\n\r\n - [A Lesson In Timing Attacks][3]\r\n - [A discussion about timing attacks][4] over on Information Security Stack Exchange\r\n - And of course, the [Timing Attack Wikipedia page][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2860943/how-can-i-hash-a-password-in-java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.equals%28java.lang.Object%29\r\n  [3]: http://codahale.com/a-lesson-in-timing-attacks/\r\n  [4]: https://security.stackexchange.com/a/83671\r\n  [5]: http://en.wikipedia.org/wiki/Timing_attack","title":"Why is char[] preferred over String for passwords?","body":"<p><strong>Edit:</strong> Coming back to this answer after a year of security research, I realize it makes the rather unfortunate implication that you would ever actually compare plaintext passwords. Please don't. <a href=\"https://stackoverflow.com/questions/2860943/how-can-i-hash-a-password-in-java\">Use a secure one-way hash with a salt and a reasonable number of iterations</a>. Consider using a library: this stuff is hard to get right!</p>\n\n<p><strong>Original answer:</strong> What about the fact that String.equals() uses <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"noreferrer\">short-circuit evaluation</a>, and is therefore vulnerable to a timing attack? It may be unlikely, but you could <em>theoretically</em> time the password comparison in order to determine the correct sequence of characters.</p>\n\n<pre><code>public boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    if (anObject instanceof String) {\n        String anotherString = (String)anObject;\n        int n = value.length;\n        // Quits here if Strings are different lengths.\n        if (n == anotherString.value.length) {\n            char v1[] = value;\n            char v2[] = anotherString.value;\n            int i = 0;\n            // Quits here at first different character.\n            while (n-- != 0) {\n                if (v1[i] != v2[i])\n                    return false;\n                i++;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Some more resources on timing attacks:</p>\n\n<ul>\n<li><a href=\"http://codahale.com/a-lesson-in-timing-attacks/\" rel=\"noreferrer\">A Lesson In Timing Attacks</a></li>\n<li><a href=\"https://security.stackexchange.com/a/83671\">A discussion about timing attacks</a> over on Information Security Stack Exchange</li>\n<li>And of course, the <a href=\"http://en.wikipedia.org/wiki/Timing_attack\" rel=\"noreferrer\">Timing Attack Wikipedia page</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1436348043,"creation_date":1436347615,"answer_id":31288609,"question_id":8881291,"body_markdown":"As Jon Skeet states, there is no way except by using reflection. \r\n\r\nHowever, if reflection is an option for you, you can do this.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;please enter a password&quot;);\r\n        // don&#39;t actually do this, this is an example only.\r\n        Scanner in = new Scanner(System.in);\r\n        String password = in.nextLine();\r\n        usePassword(password);\r\n\r\n        clearString(password);\r\n\r\n        System.out.println(&quot;password: &#39;&quot; + password + &quot;&#39;&quot;);\r\n    }\r\n\r\n    private static void usePassword(String password) {\r\n\r\n    }\r\n\r\n    private static void clearString(String password) {\r\n        try {\r\n            Field value = String.class.getDeclaredField(&quot;value&quot;);\r\n            value.setAccessible(true);\r\n            char[] chars = (char[]) value.get(password);\r\n            Arrays.fill(chars, &#39;*&#39;);\r\n        } catch (Exception e) {\r\n            throw new AssertionError(e);\r\n        }\r\n    }\r\n\r\nwhen run\r\n\r\n    please enter a password\r\n    hello world\r\n    password: &#39;***********&#39;\r\n\r\nNote: if the String&#39;s char[] has been copied as a part of a GC cycle, there is a chance the previous copy is somewhere in memory.  \r\n\r\nThis old copy wouldn&#39;t appear in a heap dump, but if you have direct access to the raw memory of the process you could see it.  In general you should avoid anyone having such access.","title":"Why is char[] preferred over String for passwords?","body":"<p>As Jon Skeet states, there is no way except by using reflection. </p>\n\n<p>However, if reflection is an option for you, you can do this.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"please enter a password\");\n    // don't actually do this, this is an example only.\n    Scanner in = new Scanner(System.in);\n    String password = in.nextLine();\n    usePassword(password);\n\n    clearString(password);\n\n    System.out.println(\"password: '\" + password + \"'\");\n}\n\nprivate static void usePassword(String password) {\n\n}\n\nprivate static void clearString(String password) {\n    try {\n        Field value = String.class.getDeclaredField(\"value\");\n        value.setAccessible(true);\n        char[] chars = (char[]) value.get(password);\n        Arrays.fill(chars, '*');\n    } catch (Exception e) {\n        throw new AssertionError(e);\n    }\n}\n</code></pre>\n\n<p>when run</p>\n\n<pre><code>please enter a password\nhello world\npassword: '***********'\n</code></pre>\n\n<p>Note: if the String's char[] has been copied as a part of a GC cycle, there is a chance the previous copy is somewhere in memory.  </p>\n\n<p>This old copy wouldn't appear in a heap dump, but if you have direct access to the raw memory of the process you could see it.  In general you should avoid anyone having such access.</p>\n"},{"tags":[],"owner":{"account_id":35904,"reputation":23169,"user_id":102040,"accept_rate":66,"display_name":"Geek"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1438080400,"creation_date":1438080400,"answer_id":31674073,"question_id":8881291,"body_markdown":"Strings are immutable and cannot be altered once they have been created. Creating a password as a string will leave stray references to the password on the heap or on the String pool. Now if someone takes a heap dump of the Java process and carefully scans through he might be able to guess the passwords. Of course these non used strings will be garbage collected but that depends on when the GC kicks in.\r\n\r\nOn the other side char[] are mutable as soon as the authentication is done you can overwrite them with any character like all M&#39;s or backslashes. Now even if someone takes a heap dump he might not be able to get the passwords which are not currently in use. This gives you more control in the sense like clearing the Object content yourself vs waiting for the GC to do it.","title":"Why is char[] preferred over String for passwords?","body":"<p>Strings are immutable and cannot be altered once they have been created. Creating a password as a string will leave stray references to the password on the heap or on the String pool. Now if someone takes a heap dump of the Java process and carefully scans through he might be able to guess the passwords. Of course these non used strings will be garbage collected but that depends on when the GC kicks in.</p>\n\n<p>On the other side char[] are mutable as soon as the authentication is done you can overwrite them with any character like all M's or backslashes. Now even if someone takes a heap dump he might not be able to get the passwords which are not currently in use. This gives you more control in the sense like clearing the Object content yourself vs waiting for the GC to do it.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":7,"up_vote_count":32,"is_accepted":false,"score":25,"last_activity_date":1515195612,"creation_date":1481310174,"answer_id":41067215,"question_id":8881291,"body_markdown":"The short and straightforward answer would be because `char[]` is mutable while `String` objects are not.\r\n\r\n`Strings` in Java are immutable objects. That is why they can&#39;t be modified once created, and therefore the only way for their contents to be removed from memory is to have them garbage collected. It will be only then when the memory freed by the object can be overwritten, and the data will be gone.\r\n\r\nNow garbage collection in Java doesn&#39;t happen at any guaranteed interval. The `String` can thus persist in memory for a long time, and if a process crashes during this time, the contents of the string may end up in a memory dump or some log. \r\n\r\nWith a *character array*, you can read the password, finish working with it as soon as you can, and then immediately change the contents.\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>The short and straightforward answer would be because <code>char[]</code> is mutable while <code>String</code> objects are not.</p>\n\n<p><code>Strings</code> in Java are immutable objects. That is why they can't be modified once created, and therefore the only way for their contents to be removed from memory is to have them garbage collected. It will be only then when the memory freed by the object can be overwritten, and the data will be gone.</p>\n\n<p>Now garbage collection in Java doesn't happen at any guaranteed interval. The <code>String</code> can thus persist in memory for a long time, and if a process crashes during this time, the contents of the string may end up in a memory dump or some log. </p>\n\n<p>With a <em>character array</em>, you can read the password, finish working with it as soon as you can, and then immediately change the contents.</p>\n"},{"tags":[],"owner":{"account_id":11117292,"reputation":277,"user_id":8161256,"display_name":"Saathvik"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1674164116,"creation_date":1501223586,"answer_id":45366401,"question_id":8881291,"body_markdown":"A string in Java is immutable. So whenever a string is created, it will remain in memory until it is garbage collected. So anyone who has access to the memory can read the value of the string.\r\n\r\nIf the value of the string is modified then it will end up creating a new string. So both the original value and the modified value stay in the memory until it is garbage collected.\r\n\r\nWith the character array, the contents of the array can be modified or erased once the purpose of the password is served. The original contents of the array will not be found in memory after it is modified and even before the garbage collection kicks in.\r\n\r\nBecause of the security concern it is better to store password as a character array.\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>A string in Java is immutable. So whenever a string is created, it will remain in memory until it is garbage collected. So anyone who has access to the memory can read the value of the string.</p>\n<p>If the value of the string is modified then it will end up creating a new string. So both the original value and the modified value stay in the memory until it is garbage collected.</p>\n<p>With the character array, the contents of the array can be modified or erased once the purpose of the password is served. The original contents of the array will not be found in memory after it is modified and even before the garbage collection kicks in.</p>\n<p>Because of the security concern it is better to store password as a character array.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1674177422,"creation_date":1524695995,"answer_id":50032305,"question_id":8881291,"body_markdown":"String is immutable and it goes to the string pool. Once written, it cannot be overwritten.\r\n\r\n`char[]` is an array which you should overwrite once you used the password and this is how it should be done:\r\n\r\n    char[] passw = request.getPassword().toCharArray()\r\n    if (comparePasswords(dbPassword, passw) {\r\n      allowUser = true;\r\n      cleanPassword(passw);\r\n      cleanPassword(dbPassword);\r\n      passw = null;\r\n    }\r\n\r\n    private static void cleanPassword (char[] pass) {\r\n\r\n      Arrays.fill(pass, &#39;0&#39;);\r\n    }\r\n\r\nOne scenario where the attacker could use it is a crashdump&amp;mdash;when the JVM crashes and generates a memory dump&amp;mdash;you will be able to see the password.\r\n\r\nThat is not necessarily a malicious external attacker. This could be a support user that has access to the server for monitoring purposes. He/she could peek into a crashdump and find the passwords.\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>String is immutable and it goes to the string pool. Once written, it cannot be overwritten.</p>\n<p><code>char[]</code> is an array which you should overwrite once you used the password and this is how it should be done:</p>\n<pre><code>char[] passw = request.getPassword().toCharArray()\nif (comparePasswords(dbPassword, passw) {\n  allowUser = true;\n  cleanPassword(passw);\n  cleanPassword(dbPassword);\n  passw = null;\n}\n\nprivate static void cleanPassword (char[] pass) {\n\n  Arrays.fill(pass, '0');\n}\n</code></pre>\n<p>One scenario where the attacker could use it is a crashdump—when the JVM crashes and generates a memory dump—you will be able to see the password.</p>\n<p>That is not necessarily a malicious external attacker. This could be a support user that has access to the server for monitoring purposes. He/she could peek into a crashdump and find the passwords.</p>\n"},{"tags":[],"owner":{"account_id":13876098,"reputation":171,"user_id":10017725,"display_name":"Neeraj"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1557401012,"creation_date":1543818706,"answer_id":53588592,"question_id":8881291,"body_markdown":"It is debatable as to whether you should use String or use Char[] for this purpose because both have their advantages and disadvantages. It depends on what the user needs.\r\n\r\nSince Strings in Java are immutable, whenever some tries to manipulate your string it creates a new Object and the existing String remains unaffected. This could be seen as an advantage for storing a password as a String, but the object remains in memory even after use. So if anyone somehow got the memory location of the object, that person can easily trace your password stored at that location.\r\n\r\nChar[] is mutable, but it has the advantage that after its usage the programmer can explicitly clean the array or override values. So when it&#39;s done being used it is cleaned and no one could ever know about the information you had stored.\r\n\r\nBased on the above circumstances, one can get an idea whether to go with String or to go with Char[] for their requirements.\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>It is debatable as to whether you should use String or use Char[] for this purpose because both have their advantages and disadvantages. It depends on what the user needs.</p>\n\n<p>Since Strings in Java are immutable, whenever some tries to manipulate your string it creates a new Object and the existing String remains unaffected. This could be seen as an advantage for storing a password as a String, but the object remains in memory even after use. So if anyone somehow got the memory location of the object, that person can easily trace your password stored at that location.</p>\n\n<p>Char[] is mutable, but it has the advantage that after its usage the programmer can explicitly clean the array or override values. So when it's done being used it is cleaned and no one could ever know about the information you had stored.</p>\n\n<p>Based on the above circumstances, one can get an idea whether to go with String or to go with Char[] for their requirements.</p>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1587731037,"creation_date":1587731037,"answer_id":61408307,"question_id":8881291,"body_markdown":"Case String:\r\n\r\n        String password = &quot;ill stay in StringPool after Death !!!&quot;;\r\n        // some long code goes\r\n        // ...Now I want to remove traces of password\r\n        password = null;\r\n        password = &quot;&quot;;\r\n        // above attempts wil change value of password\r\n        // but the actual password can be traced from String pool through memory dump, if not garbage collected\r\n        \r\nCase CHAR ARRAY:\r\n        \r\n        char[] passArray = {&#39;p&#39;,&#39;a&#39;,&#39;s&#39;,&#39;s&#39;,&#39;w&#39;,&#39;o&#39;,&#39;r&#39;,&#39;d&#39;};\r\n        // some long code goes\r\n        // ...Now I want to remove traces of password\r\n        for (int i=0; i&lt;passArray.length;i++){\r\n            passArray[i] = &#39;x&#39;;\r\n        }\r\n        // Now you ACTUALLY DESTROYED traces of password form memory\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>Case String:</p>\n\n<pre><code>    String password = \"ill stay in StringPool after Death !!!\";\n    // some long code goes\n    // ...Now I want to remove traces of password\n    password = null;\n    password = \"\";\n    // above attempts wil change value of password\n    // but the actual password can be traced from String pool through memory dump, if not garbage collected\n</code></pre>\n\n<p>Case CHAR ARRAY:</p>\n\n<pre><code>    char[] passArray = {'p','a','s','s','w','o','r','d'};\n    // some long code goes\n    // ...Now I want to remove traces of password\n    for (int i=0; i&lt;passArray.length;i++){\n        passArray[i] = 'x';\n    }\n    // Now you ACTUALLY DESTROYED traces of password form memory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3102275,"reputation":117,"user_id":2626085,"display_name":"Dibsyhex"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674163962,"creation_date":1615211495,"answer_id":66531085,"question_id":8881291,"body_markdown":"A lot of the previous answers are great. There is another point which I am assuming (please correct me if I am wrong).\r\n\r\nBy default Java uses UTF-16 for storing strings. Using character arrays, *char[] array*, facilitates use of Unicode, regional characters, etc. This technique allows all character set to be respected equally for storing the passwords and henceforth will not initiate certain crypto issues due to character set confusion. Finally, using the character array, we can convert the password array to our desired character set string.\r\n\r\n\r\n\r\n","title":"Why is char[] preferred over String for passwords?","body":"<p>A lot of the previous answers are great. There is another point which I am assuming (please correct me if I am wrong).</p>\n<p>By default Java uses UTF-16 for storing strings. Using character arrays, <em>char[] array</em>, facilitates use of Unicode, regional characters, etc. This technique allows all character set to be respected equally for storing the passwords and henceforth will not initiate certain crypto issues due to character set confusion. Finally, using the character array, we can convert the password array to our desired character set string.</p>\n"}],"owner":{"account_id":921513,"reputation":39385,"user_id":953140,"accept_rate":100,"display_name":"Ahamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510777,"favorite_count":0,"down_vote_count":9,"up_vote_count":3846,"accepted_answer_id":8881376,"answer_count":17,"score":3837,"last_activity_date":1674177422,"creation_date":1326723642,"question_id":8881291,"body_markdown":"In Swing, the password field has a `getPassword()` (returns `char[]`) method instead of the usual `getText()` (returns `String`) method. Similarly, I have come across a suggestion not to use `String` to handle passwords.\r\n\r\nWhy does `String` pose a threat to security when it comes to passwords?\r\nIt feels inconvenient to use `char[]`.","title":"Why is char[] preferred over String for passwords?","body":"<p>In Swing, the password field has a <code>getPassword()</code> (returns <code>char[]</code>) method instead of the usual <code>getText()</code> (returns <code>String</code>) method. Similarly, I have come across a suggestion not to use <code>String</code> to handle passwords.</p>\n\n<p>Why does <code>String</code> pose a threat to security when it comes to passwords?\nIt feels inconvenient to use <code>char[]</code>.</p>\n"},{"tags":["java","regex","csv"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1241445429,"creation_date":1241445429,"answer_id":820215,"question_id":820172,"body_markdown":"Try:\r\n\r\n    String array[] = str.split(&quot;(?&lt;!\\\\\\\\),&quot;);\r\n\r\nBasically this is saying split on a comma, except where that comma is preceded by two backslashes. This is called a [negative lookbehind zero-width assertion][1].\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>Try:</p>\n\n<pre><code>String array[] = str.split(\"(?&lt;!\\\\\\\\),\");\n</code></pre>\n\n<p>Basically this is saying split on a comma, except where that comma is preceded by two backslashes. This is called a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">negative lookbehind zero-width assertion</a>.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1241447058,"creation_date":1241445485,"answer_id":820223,"question_id":820172,"body_markdown":"The regular expression\r\n\r\n    [^\\\\],\r\n\r\nmeans &quot;match a character which is not a backslash followed by a comma&quot; - this is why patterns such as `t,` are matching, because `t` is a character which is not a backslash. \r\n\r\nI think you need to use some sort of [negative lookbehind][1], to capture a `,` which is not preceded by a `\\` without capturing the preceding character, something like\r\n\r\n    (?&lt;!\\\\),\r\n\r\n(BTW, note that I have purposefully not doubly-escaped the backslashes to make this more readable)\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>The regular expression</p>\n\n<pre><code>[^\\\\],\n</code></pre>\n\n<p>means \"match a character which is not a backslash followed by a comma\" - this is why patterns such as <code>t,</code> are matching, because <code>t</code> is a character which is not a backslash. </p>\n\n<p>I think you need to use some sort of <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">negative lookbehind</a>, to capture a <code>,</code> which is not preceded by a <code>\\</code> without capturing the preceding character, something like</p>\n\n<pre><code>(?&lt;!\\\\),\n</code></pre>\n\n<p>(BTW, note that I have purposefully not doubly-escaped the backslashes to make this more readable)</p>\n"},{"tags":[],"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1242160113,"creation_date":1241465541,"answer_id":821603,"question_id":820172,"body_markdown":"For future reference, here is the complete method i ended up with:\r\n\r\n    public static String[] commaDelimitedListToStringArray(String str, String escapeChar) {\r\n    \t// these characters need to be escaped in a regular expression\r\n        String regularExpressionSpecialChars = &quot;/.*+?|()[]{}\\\\&quot;;\r\n        \r\n        String escapedEscapeChar = escapeChar;\r\n        \r\n        // if the escape char for our comma separated list needs to be escaped \r\n        // for the regular expression, escape it using the \\ char\r\n        if(regularExpressionSpecialChars.indexOf(escapeChar) != -1) \r\n        \tescapedEscapeChar = &quot;\\\\&quot; + escapeChar;\r\n    \r\n        // see http://stackoverflow.com/questions/820172/how-to-split-a-comma-separated-string-while-ignoring-escaped-commas\r\n        String[] temp = str.split(&quot;(?&lt;!&quot; + escapedEscapeChar + &quot;),&quot;, -1);\r\n        \r\n        // remove the escapeChar for the end result\r\n        String[] result = new String[temp.length];\r\n        for(int i=0; i&lt;temp.length; i++) {\r\n        \tresult[i] = temp[i].replaceAll(escapedEscapeChar + &quot;,&quot;, &quot;,&quot;);\r\n        }\r\n        \r\n        return result;\r\n    }","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>For future reference, here is the complete method i ended up with:</p>\n\n<pre><code>public static String[] commaDelimitedListToStringArray(String str, String escapeChar) {\n    // these characters need to be escaped in a regular expression\n    String regularExpressionSpecialChars = \"/.*+?|()[]{}\\\\\";\n\n    String escapedEscapeChar = escapeChar;\n\n    // if the escape char for our comma separated list needs to be escaped \n    // for the regular expression, escape it using the \\ char\n    if(regularExpressionSpecialChars.indexOf(escapeChar) != -1) \n        escapedEscapeChar = \"\\\\\" + escapeChar;\n\n    // see http://stackoverflow.com/questions/820172/how-to-split-a-comma-separated-string-while-ignoring-escaped-commas\n    String[] temp = str.split(\"(?&lt;!\" + escapedEscapeChar + \"),\", -1);\n\n    // remove the escapeChar for the end result\n    String[] result = new String[temp.length];\n    for(int i=0; i&lt;temp.length; i++) {\n        result[i] = temp[i].replaceAll(escapedEscapeChar + \",\", \",\");\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908606,"reputation":2020,"user_id":1722982,"accept_rate":75,"display_name":"boumbh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363094397,"creation_date":1363093477,"answer_id":15362066,"question_id":820172,"body_markdown":"As matt b said, `[^\\\\],` will interpret the character preceding the comma as a part of the delimiter.\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,tes&quot; , &quot;test&quot;]\r\n\r\n\r\nAs drvdijk said, `(?&lt;!\\\\),` will misinterpret escaped backslashes.\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test&quot; , &quot;test&quot;]\r\n      -(unescape commas)-&gt;\r\n    [&quot;test\\\\\\\\,test\\\\,test,test&quot; , &quot;test&quot;]\r\n\r\nI would expect being able to escape backslashes as well...\r\n\r\n    &quot;test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test&quot;\r\n      -(split)-&gt;\r\n    [&quot;test\\\\\\\\\\\\,test\\\\\\\\&quot; , &quot;test\\\\,test&quot; , &quot;test&quot;]\r\n      -(unescape commas and backslashes)-&gt;\r\n    [&quot;test\\\\,test\\\\&quot; , &quot;test,test&quot; , &quot;test&quot;]\r\n\r\ndrvdijk suggested `(?&lt;=(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\){0,100}),` which works well for lists with elements ending with up to 100 backslashes. This is far enough... but why a limit? Is there a more efficient way (isn&#39;t lookbehind greedy)? What about invalid strings?\r\n\r\nI searched for a while for a generic solution, then I wrote the thing myself... The idea is to split following a pattern that matches the list elements (instead of matching the delimiter).\r\n\r\nMy answer does not take the escape character as a parameter.\r\n\r\n    public static List&lt;String&gt; commaDelimitedListStringToStringList(String list) {\r\n        // Check the validity of the list\r\n        // ex: &quot;te\\\\st&quot; is not valid, backslash should be escaped\r\n    \tif (!list.matches(&quot;^(([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(,|$))+&quot;)) {\r\n            // Could also raise an exception\r\n            return null;\r\n    \t}\r\n        // Matcher for the list elements\r\n    \tMatcher matcher = Pattern\r\n                .compile(&quot;(?&lt;=(^|,))([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(?=(,|$))&quot;)\r\n                .matcher(list);\r\n    \tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \twhile (matcher.find()) {\r\n    \t\t// Unescape the list element\r\n    \t\tresult.add(matcher.group().replaceAll(&quot;\\\\\\\\([\\\\\\\\,])&quot;, &quot;$1&quot;));\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nDescription for the pattern (unescaped):\r\n\r\n`(?&lt;=(^|,))` forward is start of string or a `,`\r\n\r\n`([^\\\\,]|\\\\,|\\\\\\\\)*` the element composed of `\\,`, `\\\\` or characters wich are neither `\\` nor `,`\r\n\r\n`(?=(,|$))` behind is end of string or a `,`\r\n\r\nThe pattern may be simplified.\r\n\r\nEven with the 3 parsings (`matches` + `find` + `replaceAll`), this method seems faster than the one suggested by drvdijk. It can still be optimized by writing a specific parser.\r\n\r\nAlso, what is the need of having an escape character if only one character is special, it could simply be doubled...\r\n\r\n    public static List&lt;String&gt; commaDelimitedListStringToStringList2(String list) {\r\n    \tif (!list.matches(&quot;^(([^,]|,,)*(,|$))+&quot;)) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tMatcher matcher = Pattern.compile(&quot;(?&lt;=(^|,))([^,]|,,)*(?=(,|$))&quot;)\r\n                        .matcher(list);\r\n    \tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \twhile (matcher.find()) {\r\n    \t\tresult.add(matcher.group().replaceAll(&quot;,,&quot;, &quot;,&quot;));\r\n    \t}\r\n    \treturn result;\r\n    }","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>As matt b said, <code>[^\\\\],</code> will interpret the character preceding the comma as a part of the delimiter.</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,tes\" , \"test\"]\n</code></pre>\n\n<p>As drvdijk said, <code>(?&lt;!\\\\),</code> will misinterpret escaped backslashes.</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test\" , \"test\"]\n  -(unescape commas)-&gt;\n[\"test\\\\\\\\,test\\\\,test,test\" , \"test\"]\n</code></pre>\n\n<p>I would expect being able to escape backslashes as well...</p>\n\n<pre><code>\"test\\\\\\\\\\\\,test\\\\\\\\,test\\\\,test,test\"\n  -(split)-&gt;\n[\"test\\\\\\\\\\\\,test\\\\\\\\\" , \"test\\\\,test\" , \"test\"]\n  -(unescape commas and backslashes)-&gt;\n[\"test\\\\,test\\\\\" , \"test,test\" , \"test\"]\n</code></pre>\n\n<p>drvdijk suggested <code>(?&lt;=(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\){0,100}),</code> which works well for lists with elements ending with up to 100 backslashes. This is far enough... but why a limit? Is there a more efficient way (isn't lookbehind greedy)? What about invalid strings?</p>\n\n<p>I searched for a while for a generic solution, then I wrote the thing myself... The idea is to split following a pattern that matches the list elements (instead of matching the delimiter).</p>\n\n<p>My answer does not take the escape character as a parameter.</p>\n\n<pre><code>public static List&lt;String&gt; commaDelimitedListStringToStringList(String list) {\n    // Check the validity of the list\n    // ex: \"te\\\\st\" is not valid, backslash should be escaped\n    if (!list.matches(\"^(([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(,|$))+\")) {\n        // Could also raise an exception\n        return null;\n    }\n    // Matcher for the list elements\n    Matcher matcher = Pattern\n            .compile(\"(?&lt;=(^|,))([^\\\\\\\\,]|\\\\\\\\,|\\\\\\\\\\\\\\\\)*(?=(,|$))\")\n            .matcher(list);\n    ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    while (matcher.find()) {\n        // Unescape the list element\n        result.add(matcher.group().replaceAll(\"\\\\\\\\([\\\\\\\\,])\", \"$1\"));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Description for the pattern (unescaped):</p>\n\n<p><code>(?&lt;=(^|,))</code> forward is start of string or a <code>,</code></p>\n\n<p><code>([^\\\\,]|\\\\,|\\\\\\\\)*</code> the element composed of <code>\\,</code>, <code>\\\\</code> or characters wich are neither <code>\\</code> nor <code>,</code></p>\n\n<p><code>(?=(,|$))</code> behind is end of string or a <code>,</code></p>\n\n<p>The pattern may be simplified.</p>\n\n<p>Even with the 3 parsings (<code>matches</code> + <code>find</code> + <code>replaceAll</code>), this method seems faster than the one suggested by drvdijk. It can still be optimized by writing a specific parser.</p>\n\n<p>Also, what is the need of having an escape character if only one character is special, it could simply be doubled...</p>\n\n<pre><code>public static List&lt;String&gt; commaDelimitedListStringToStringList2(String list) {\n    if (!list.matches(\"^(([^,]|,,)*(,|$))+\")) {\n        return null;\n    }\n    Matcher matcher = Pattern.compile(\"(?&lt;=(^|,))([^,]|,,)*(?=(,|$))\")\n                    .matcher(list);\n    ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    while (matcher.find()) {\n        result.add(matcher.group().replaceAll(\",,\", \",\"));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98159,"reputation":9280,"user_id":265877,"accept_rate":68,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613323524,"creation_date":1613323524,"answer_id":66198091,"question_id":820172,"body_markdown":"`split(/(?&lt;!\\\\),/g)` worked for me, but the accepted answer did not\r\n\r\n```\r\n&gt; var x = &quot;test,test\\,test\\,test,test&quot;\r\nundefined\r\n&gt; x.split(/(?&lt;!\\\\),/g)\r\n[ &#39;test&#39;, &#39;test\\\\,test\\\\,test&#39;, &#39;test&#39; ]\r\n&gt; x.split(&quot;(?&lt;!\\\\\\\\),&quot;)\r\n[ &#39;test,test\\\\,test\\\\,test,test&#39; ]\r\n```","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p><code>split(/(?&lt;!\\\\),/g)</code> worked for me, but the accepted answer did not</p>\n<pre><code>&gt; var x = &quot;test,test\\,test\\,test,test&quot;\nundefined\n&gt; x.split(/(?&lt;!\\\\),/g)\n[ 'test', 'test\\\\,test\\\\,test', 'test' ]\n&gt; x.split(&quot;(?&lt;!\\\\\\\\),&quot;)\n[ 'test,test\\\\,test\\\\,test,test' ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1454282,"reputation":1077,"user_id":1505369,"accept_rate":60,"display_name":"kcpr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674177085,"creation_date":1674177085,"answer_id":75179748,"question_id":820172,"body_markdown":"It&#39;s probably not &quot;super fancy&quot; solution, but possibly more time-efficient one. Escaping an escape character is also supported and it&#39;s working in [browsers not supporting &#39;lookbehinds&#39;][1].\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function splitByDelimiterIfItIsNotEscaped (text, delimiter, escapeCharacter) {\r\n        const splittedText = []\r\n        let numberOfDelimitersBeforeOtherCharacter = 0\r\n        let nextSplittedTextPartIndex = 0\r\n        for (let characterIndex = 0, character = text[0]; characterIndex &lt; text.length; characterIndex++, character = text[characterIndex]) {\r\n            if (character === escapeCharacter) {\r\n                numberOfDelimitersBeforeOtherCharacter++\r\n            } else if (character === delimiter &amp;&amp; (!numberOfDelimitersBeforeOtherCharacter || !(numberOfDelimitersBeforeOtherCharacter % 2))) {\r\n                splittedText.push(text.substring(nextSplittedTextPartIndex, characterIndex))\r\n                nextSplittedTextPartIndex = characterIndex + 1\r\n            } else {\r\n                numberOfDelimitersBeforeOtherCharacter = 0\r\n            }\r\n        }\r\n        if (nextSplittedTextPartIndex &lt;= text.length) {\r\n            splittedText.push(text.substring(nextSplittedTextPartIndex, text.length))\r\n        }\r\n        return splittedText\r\n    }\r\n\r\n    function onChange () {\r\n        console.log(splitByDelimiterIfItIsNotEscaped(inputBox.value, &#39;,&#39;, &#39;\\\\&#39;))\r\n    }\r\n\r\n    addEventListener(&#39;change&#39;, onChange)\r\n\r\n    onChange()\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    \r\n    After making a change unfocus the input box (use tab for example).\r\n    &lt;input id=&quot;inputBox&quot; value=&quot;test,test\\,test\\,test,test&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://caniuse.com/js-regexp-lookbehind","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>It's probably not &quot;super fancy&quot; solution, but possibly more time-efficient one. Escaping an escape character is also supported and it's working in <a href=\"https://caniuse.com/js-regexp-lookbehind\" rel=\"nofollow noreferrer\">browsers not supporting 'lookbehinds'</a>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function splitByDelimiterIfItIsNotEscaped (text, delimiter, escapeCharacter) {\n    const splittedText = []\n    let numberOfDelimitersBeforeOtherCharacter = 0\n    let nextSplittedTextPartIndex = 0\n    for (let characterIndex = 0, character = text[0]; characterIndex &lt; text.length; characterIndex++, character = text[characterIndex]) {\n        if (character === escapeCharacter) {\n            numberOfDelimitersBeforeOtherCharacter++\n        } else if (character === delimiter &amp;&amp; (!numberOfDelimitersBeforeOtherCharacter || !(numberOfDelimitersBeforeOtherCharacter % 2))) {\n            splittedText.push(text.substring(nextSplittedTextPartIndex, characterIndex))\n            nextSplittedTextPartIndex = characterIndex + 1\n        } else {\n            numberOfDelimitersBeforeOtherCharacter = 0\n        }\n    }\n    if (nextSplittedTextPartIndex &lt;= text.length) {\n        splittedText.push(text.substring(nextSplittedTextPartIndex, text.length))\n    }\n    return splittedText\n}\n\nfunction onChange () {\n    console.log(splitByDelimiterIfItIsNotEscaped(inputBox.value, ',', '\\\\'))\n}\n\naddEventListener('change', onChange)\n\nonChange()</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>After making a change unfocus the input box (use tab for example).\n&lt;input id=\"inputBox\" value=\"test,test\\,test\\,test,test\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2949,"reputation":6056,"user_id":4186,"accept_rate":82,"display_name":"arturh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58047,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":820223,"answer_count":6,"score":32,"last_activity_date":1674177085,"creation_date":1241444920,"question_id":820172,"body_markdown":"I need to write a extended version of the StringUtils.commaDelimitedListToStringArray function which gets an additional parameter: the escape char.\r\n\r\nso calling my:\r\n \r\n    commaDelimitedListToStringArray(&quot;test,test\\\\,test\\\\,test,test&quot;, &quot;\\\\&quot;)\r\n\r\nshould return:\r\n \r\n    [&quot;test&quot;, &quot;test,test,test&quot;, &quot;test&quot;]\r\n\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nMy current attempt is to use String.split() to split the String using regular expressions:\r\n\r\n    String[] array = str.split(&quot;[^\\\\\\\\],&quot;);\r\n\r\nBut the returned array is:\r\n\r\n    [&quot;tes&quot;, &quot;test\\,test\\,tes&quot;, &quot;test&quot;]\r\n\r\n\r\nAny ideas?","title":"How to split a comma separated String while ignoring escaped commas?","body":"<p>I need to write a extended version of the StringUtils.commaDelimitedListToStringArray function which gets an additional parameter: the escape char.</p>\n\n<p>so calling my:</p>\n\n<pre><code>commaDelimitedListToStringArray(\"test,test\\\\,test\\\\,test,test\", \"\\\\\")\n</code></pre>\n\n<p>should return:</p>\n\n<pre><code>[\"test\", \"test,test,test\", \"test\"]\n</code></pre>\n\n<p><br><br>\nMy current attempt is to use String.split() to split the String using regular expressions:</p>\n\n<pre><code>String[] array = str.split(\"[^\\\\\\\\],\");\n</code></pre>\n\n<p>But the returned array is:</p>\n\n<pre><code>[\"tes\", \"test\\,test\\,tes\", \"test\"]\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","maven","intellij-idea","graalvm","exec-maven-plugin"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1673979040,"post_id":74551099,"comment_id":132615498,"body_markdown":"that error does not have the details for what error graalvm getting, can you share longer stacktrace or a reproducer would be easier to see the error.","body":"that error does not have the details for what error graalvm getting, can you share longer stacktrace or a reproducer would be easier to see the error."},{"owner":{"account_id":26542603,"reputation":3,"user_id":20361787,"display_name":"TDC_404"},"score":0,"creation_date":1674136807,"post_id":74551099,"comment_id":132653663,"body_markdown":"Here is full trace https://github.com/graalvm/native-build-tools/issues/385","body":"Here is full trace <a href=\"https://github.com/graalvm/native-build-tools/issues/385\" rel=\"nofollow noreferrer\">github.com/graalvm/native-build-tools/issues/385</a>"}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674176227,"creation_date":1674175656,"answer_id":75179664,"question_id":74551099,"body_markdown":"For building javaFX with graalVM I used [gluonhq](https://github.com/gluonhq/gluon-samples), looks like Gluon is the responsible of javaFX at [here](https://openjfx.io/highlights/19/) they say\r\n&gt; Kudos go to the fine people at Gluon who took care of the bulk of the work on JavaFX 19. Do check their JavaFX Long Term Support services. \r\n\r\nI tried to fix your reproducer first but it has so many maven plugin configured it was confusing and bulky so I created a clean pom xml from [gluon start page](https://start.gluon.io) then added your reproducer and required configuration. [Here](https://github.com/ozkanpakdil/java-examlpes/blob/master/CovidRisk/pom.xml) is the result.\r\n\r\nMost important part is below\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;target&gt;${gluonfx.target}&lt;/target&gt;\r\n        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n        &lt;attachList&gt;\r\n            &lt;list&gt;display&lt;/list&gt;\r\n            &lt;list&gt;lifecycle&lt;/list&gt;\r\n            &lt;list&gt;statusbar&lt;/list&gt;\r\n            &lt;list&gt;storage&lt;/list&gt;\r\n        &lt;/attachList&gt;\r\n        &lt;bundlesList&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk&lt;/list&gt;\r\n        &lt;/bundlesList&gt;\r\n        &lt;reflectionList&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.RootLayoutController&lt;/list&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.PersonOverviewController&lt;/list&gt;\r\n            &lt;list&gt;adianov.sergei.covidrisk.PersonEditDialogController&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Button&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.CheckBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.CheckMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ChoiceBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ColorPicker&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ComboBox&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Menu&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuBar&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuButton&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.MenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.RadioMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ScrollPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Separator&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.SeparatorMenuItem&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.Slider&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.SplitPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TableView&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TableColumn&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TextArea&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.TextField&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.control.ToggleButton&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.image.ImageView&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.FlowPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.GridPane&lt;/list&gt;\r\n            &lt;list&gt;javafx.scene.layout.HBox&lt;/list&gt;\r\n        &lt;/reflectionList&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIt was annoying to add those classes one by one, otherwise native image throws class not found exception. \r\n\r\nI tried to use graalvm native maven plugin but for javafx we can not use that because javafx requires extra libraries which is covered by gluon plugin and one more thing I needed to use [gluon graalvm](https://github.com/gluonhq/graal/releases)\r\n\r\nI used [sdkman](https://sdkman.io/) for gluon graalvm installation\r\n```\r\nsdk list java\r\nsdk install java 22.1.0.1.r17-gln\r\n```\r\nI had one more problem related to compile was &quot;not found libraries&quot;, to fix that I used\r\n```\r\nsudo apt install libasound2-dev libavcodec-dev libavformat-dev libavutil-dev libgl-dev libgtk-3-dev libpango1.0-dev libxtst-dev\r\n```\r\nfound the apt command from [here](https://docs.gluonhq.com/). To be honest my expectation from javaFX was higher. It is hard to compile and have a result with it, Swing looks easier even [they say](https://stackoverflow.com/a/10589875/175554) javaFX is strong. After all intellij still [uses swing](https://stackoverflow.com/a/12311981/175554).\r\n\r\nThis is how it looks in my computer\r\n[![How look][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJcpf.png","title":"Can&#39;t build project with maven and graalvm","body":"<p>For building javaFX with graalVM I used <a href=\"https://github.com/gluonhq/gluon-samples\" rel=\"nofollow noreferrer\">gluonhq</a>, looks like Gluon is the responsible of javaFX at <a href=\"https://openjfx.io/highlights/19/\" rel=\"nofollow noreferrer\">here</a> they say</p>\n<blockquote>\n<p>Kudos go to the fine people at Gluon who took care of the bulk of the work on JavaFX 19. Do check their JavaFX Long Term Support services.</p>\n</blockquote>\n<p>I tried to fix your reproducer first but it has so many maven plugin configured it was confusing and bulky so I created a clean pom xml from <a href=\"https://start.gluon.io\" rel=\"nofollow noreferrer\">gluon start page</a> then added your reproducer and required configuration. <a href=\"https://github.com/ozkanpakdil/java-examlpes/blob/master/CovidRisk/pom.xml\" rel=\"nofollow noreferrer\">Here</a> is the result.</p>\n<p>Most important part is below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;target&gt;${gluonfx.target}&lt;/target&gt;\n        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n        &lt;attachList&gt;\n            &lt;list&gt;display&lt;/list&gt;\n            &lt;list&gt;lifecycle&lt;/list&gt;\n            &lt;list&gt;statusbar&lt;/list&gt;\n            &lt;list&gt;storage&lt;/list&gt;\n        &lt;/attachList&gt;\n        &lt;bundlesList&gt;\n            &lt;list&gt;adianov.sergei.covidrisk&lt;/list&gt;\n        &lt;/bundlesList&gt;\n        &lt;reflectionList&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.RootLayoutController&lt;/list&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.PersonOverviewController&lt;/list&gt;\n            &lt;list&gt;adianov.sergei.covidrisk.PersonEditDialogController&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Button&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.CheckBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.CheckMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ChoiceBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ColorPicker&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ComboBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Menu&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuBar&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuButton&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.MenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.RadioMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ScrollPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Separator&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.SeparatorMenuItem&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.Slider&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.SplitPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TableView&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TableColumn&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TextArea&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.TextField&lt;/list&gt;\n            &lt;list&gt;javafx.scene.control.ToggleButton&lt;/list&gt;\n            &lt;list&gt;javafx.scene.image.ImageView&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.FlowPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.GridPane&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.HBox&lt;/list&gt;\n        &lt;/reflectionList&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It was annoying to add those classes one by one, otherwise native image throws class not found exception.</p>\n<p>I tried to use graalvm native maven plugin but for javafx we can not use that because javafx requires extra libraries which is covered by gluon plugin and one more thing I needed to use <a href=\"https://github.com/gluonhq/graal/releases\" rel=\"nofollow noreferrer\">gluon graalvm</a></p>\n<p>I used <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a> for gluon graalvm installation</p>\n<pre><code>sdk list java\nsdk install java 22.1.0.1.r17-gln\n</code></pre>\n<p>I had one more problem related to compile was &quot;not found libraries&quot;, to fix that I used</p>\n<pre><code>sudo apt install libasound2-dev libavcodec-dev libavformat-dev libavutil-dev libgl-dev libgtk-3-dev libpango1.0-dev libxtst-dev\n</code></pre>\n<p>found the apt command from <a href=\"https://docs.gluonhq.com/\" rel=\"nofollow noreferrer\">here</a>. To be honest my expectation from javaFX was higher. It is hard to compile and have a result with it, Swing looks easier even <a href=\"https://stackoverflow.com/a/10589875/175554\">they say</a> javaFX is strong. After all intellij still <a href=\"https://stackoverflow.com/a/12311981/175554\">uses swing</a>.</p>\n<p>This is how it looks in my computer\n<a href=\"https://i.stack.imgur.com/LJcpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJcpf.png\" alt=\"How look\" /></a></p>\n"}],"owner":{"account_id":26542603,"reputation":3,"user_id":20361787,"display_name":"TDC_404"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179664,"answer_count":1,"score":0,"last_activity_date":1674176227,"creation_date":1669225818,"question_id":74551099,"body_markdown":"What did I do wrong?\r\nTrying to build native-image app following [this](https://www.graalvm.org/dev/reference-manual/native-image/guides/use-native-image-maven-plugin/) graalvm guide.But I can&#39;t.\r\n\r\nMaybe it lacks some linking inside project...\r\nI&#39;m working in IntellijIDEA and it says, that I can&#39;t use &lt;agent&gt; where I use it. From net seraching I concluded, that it isn&#39;t important, but maybe there is my problem?\r\nHere is pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;java-agent&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;executable&gt;java&lt;/executable&gt;\r\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\r\n                                    &lt;arguments&gt;\r\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                                        &lt;classpath/&gt;\r\n                                        &lt;argument&gt;${mainClass}&lt;/argument&gt;\r\n                                    &lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;executable&gt;${project.build.directory}/${imageName}&lt;/executable&gt;\r\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${native.maven.plugin.version}&lt;/version&gt;\r\n                        &lt;extensions&gt;true&lt;/extensions&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;test-native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;fallback&gt;false&lt;/fallback&gt;\r\n                            &lt;buildArgs&gt;\r\n                                &lt;arg&gt;-H:DashboardDump=fortune -H:+DashboardAll&lt;/arg&gt;\r\n                            &lt;/buildArgs&gt;\r\n                            &lt;agent&gt;\r\n                                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                &lt;options&gt;\r\n                                    &lt;option&gt;experimental-class-loader-support&lt;/option&gt;\r\n                                &lt;/options&gt;\r\n                            &lt;/agent&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;adianov.sergei&lt;/groupId&gt;\r\n    &lt;artifactId&gt;COVID-Risk&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;COVID-Risk&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;native.maven.plugin.version&gt;0.9.18&lt;/native.maven.plugin.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.specification.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.specification.version}&lt;/maven.compiler.target&gt;\r\n        &lt;imageName&gt;COVID Risking&lt;/imageName&gt;\r\n        &lt;mainClass&gt;MainApp&lt;/mainClass&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/exec-maven-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.5.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;to&gt;\r\n                        &lt;image&gt;docker.io/heartofglass404/COVID_Risking&lt;/image&gt;\r\n                    &lt;/to&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;adianov.sergei.covidrisk/adianov.sergei.covidrisk.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd error: \r\n\r\n&gt; [ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n    at java.lang.reflect.Method.invoke (Method.java:578)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n","title":"Can&#39;t build project with maven and graalvm","body":"<p>What did I do wrong?\nTrying to build native-image app following <a href=\"https://www.graalvm.org/dev/reference-manual/native-image/guides/use-native-image-maven-plugin/\" rel=\"nofollow noreferrer\">this</a> graalvm guide.But I can't.</p>\n<p>Maybe it lacks some linking inside project...\nI'm working in IntellijIDEA and it says, that I can't use  where I use it. From net seraching I concluded, that it isn't important, but maybe there is my problem?\nHere is pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;java-agent&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;exec&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;executable&gt;java&lt;/executable&gt;\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n                                    &lt;arguments&gt;\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                                        &lt;classpath/&gt;\n                                        &lt;argument&gt;${mainClass}&lt;/argument&gt;\n                                    &lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;exec&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;executable&gt;${project.build.directory}/${imageName}&lt;/executable&gt;\n                                    &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${native.maven.plugin.version}&lt;/version&gt;\n                        &lt;extensions&gt;true&lt;/extensions&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;test-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;fallback&gt;false&lt;/fallback&gt;\n                            &lt;buildArgs&gt;\n                                &lt;arg&gt;-H:DashboardDump=fortune -H:+DashboardAll&lt;/arg&gt;\n                            &lt;/buildArgs&gt;\n                            &lt;agent&gt;\n                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                &lt;options&gt;\n                                    &lt;option&gt;experimental-class-loader-support&lt;/option&gt;\n                                &lt;/options&gt;\n                            &lt;/agent&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;adianov.sergei&lt;/groupId&gt;\n    &lt;artifactId&gt;COVID-Risk&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;COVID-Risk&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;native.maven.plugin.version&gt;0.9.18&lt;/native.maven.plugin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n        &lt;maven.compiler.source&gt;${java.specification.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.specification.version}&lt;/maven.compiler.target&gt;\n        &lt;imageName&gt;COVID Risking&lt;/imageName&gt;\n        &lt;mainClass&gt;MainApp&lt;/mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/exec-maven-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.5.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;to&gt;\n                        &lt;image&gt;docker.io/heartofglass404/COVID_Risking&lt;/image&gt;\n                    &lt;/to&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;adianov.sergei.covidrisk/adianov.sergei.covidrisk.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And error:</p>\n<blockquote>\n<p>[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\nat org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\nat org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\nat org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\nat org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\nat org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\nat java.lang.reflect.Method.invoke (Method.java:578)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)</p>\n</blockquote>\n"},{"tags":["java","spring","jpa","h2"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1674078869,"post_id":75165151,"comment_id":132641247,"body_markdown":"Based on your entity&#39;s annotations, JPA should not be cascading persist (or any other) operations from the entity to its related parent or root entities.  I see no reason to suppose that changing the database would affect that, exceptions notwithstanding.","body":"Based on your entity&#39;s annotations, JPA should not be cascading persist (or any other) operations from the entity to its related parent or root entities.  I see no reason to suppose that changing the database would affect that, exceptions notwithstanding."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1674079104,"post_id":75165151,"comment_id":132641304,"body_markdown":"The code presented is not enough to diagnose the issue, but my guess would be that it is attributable to some other change that went live at or about the same time as the DB upgrade.","body":"The code presented is not enough to diagnose the issue, but my guess would be that it is attributable to some other change that went live at or about the same time as the DB upgrade."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1674082870,"post_id":75165151,"comment_id":132642185,"body_markdown":"@John Bollinger Thanks for your comment. I don&#39;t think there is some other change. It&#39;s an In-Memory database that is created before each test. And I have done tests moving from one version to the other and back, and the exception is triggered only on the latest version.","body":"@John Bollinger Thanks for your comment. I don&#39;t think there is some other change. It&#39;s an In-Memory database that is created before each test. And I have done tests moving from one version to the other and back, and the exception is triggered only on the latest version."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1674087171,"post_id":75165151,"comment_id":132642830,"body_markdown":"It looks like a row with explicitly specified value of `id` column was inserted earlier. It isn&#39;t possible to mix insertions with custom `id` values and auto-generated `id` values into identity columns that easy, modern versions of H2 are standard-compliant by default in that area and don&#39;t change base value of identity column generator after insertion of explicitly specified values.","body":"It looks like a row with explicitly specified value of <code>id</code> column was inserted earlier. It isn&#39;t possible to mix insertions with custom <code>id</code> values and auto-generated <code>id</code> values into identity columns that easy, modern versions of H2 are standard-compliant by default in that area and don&#39;t change base value of identity column generator after insertion of explicitly specified values."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1674144055,"post_id":75165151,"comment_id":132656397,"body_markdown":"@Evgenij Ryazanov You are right! That was the issue. Please add your comment as an answer, and I will accept it. Thanks for your help.","body":"@Evgenij Ryazanov You are right! That was the issue. Please add your comment as an answer, and I will accept it. Thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674174975,"creation_date":1674174975,"answer_id":75179625,"question_id":75165151,"body_markdown":"Identity columns have a generator that produces values for each new row. If an identity column was declared as generated by default, it is possible to specify an own value for it, in this case generator isn&#39;t used. If the specified value is from the range of generated values it may conflict with values produced by this generator. For example, \r\n```lang-sql\r\nCREATE TABLE TEST(\r\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\r\n    VAL INTEGER\r\n);\r\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\r\nINSERT INTO TEST(ID, VAL) VALUES (DEFAULT, 20); // &lt;- generator also returns 1\r\n```\r\nTo avoid this, you should avoid insertion of custom values into these columns, always specify `DEFAULT` or don&#39;t include these columns into lists of columns in `INSERT` commands. If this is not an option, you need to adjust generator by yourself after such insertions:\r\n```lang-sql\r\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\r\nINSERT INTO TEST(ID, VAL) VALUES (2, 11);\r\n// ...\r\nALTER TABLE TEST ALTER COLUMN ID RESTART WITH (SELECT MAX(ID) FROM TEST) + 1;\r\n```\r\nYou can also specify a custom interval for identity column (with `GENERATED BY DEFAULT AS IDENTITY(START WITH 1000)`, for example) and use values outside of this interval for insertions with custom values.\r\n\r\n---\r\n\r\nThis issue doesn&#39;t appear with historic unsupported version of H2 database, because they incorrectly perform automatic adjustment of generator after insertions of custom values, this behavior was copied from auto-increment columns from MySQL.\r\n\r\nH2 2.\\*.\\* implements identity columns from the SQL Standard and doesn&#39;t adjust their generators by itself (excluding some compatibility modes where such adjustment is performed for compatibility with other database systems).\r\n\r\nAutomatic adjustment is actually insecure, because a user with limited access  permissions can exhaust generator of identity column with only one insertion of special value and break following insertions with generated values.","title":"Tree Data Structure with JPA and H2 Databse","body":"<p>Identity columns have a generator that produces values for each new row. If an identity column was declared as generated by default, it is possible to specify an own value for it, in this case generator isn't used. If the specified value is from the range of generated values it may conflict with values produced by this generator. For example,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE TEST(\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\n    VAL INTEGER\n);\nINSERT INTO TEST(ID, VAL) VALUES (1, 10);\nINSERT INTO TEST(ID, VAL) VALUES (DEFAULT, 20); // &lt;- generator also returns 1\n</code></pre>\n<p>To avoid this, you should avoid insertion of custom values into these columns, always specify <code>DEFAULT</code> or don't include these columns into lists of columns in <code>INSERT</code> commands. If this is not an option, you need to adjust generator by yourself after such insertions:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO TEST(ID, VAL) VALUES (1, 10);\nINSERT INTO TEST(ID, VAL) VALUES (2, 11);\n// ...\nALTER TABLE TEST ALTER COLUMN ID RESTART WITH (SELECT MAX(ID) FROM TEST) + 1;\n</code></pre>\n<p>You can also specify a custom interval for identity column (with <code>GENERATED BY DEFAULT AS IDENTITY(START WITH 1000)</code>, for example) and use values outside of this interval for insertions with custom values.</p>\n<hr />\n<p>This issue doesn't appear with historic unsupported version of H2 database, because they incorrectly perform automatic adjustment of generator after insertions of custom values, this behavior was copied from auto-increment columns from MySQL.</p>\n<p>H2 2.*.* implements identity columns from the SQL Standard and doesn't adjust their generators by itself (excluding some compatibility modes where such adjustment is performed for compatibility with other database systems).</p>\n<p>Automatic adjustment is actually insecure, because a user with limited access  permissions can exhaust generator of identity column with only one insertion of special value and break following insertions with generated values.</p>\n"}],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179625,"answer_count":1,"score":0,"last_activity_date":1674174975,"creation_date":1674075036,"question_id":75165151,"body_markdown":"I have an entity class representing a tree data structure. \r\n\r\nWhen using [H2 Database Engine][1] v1.4.200, I can persist entities without a problem. \r\n\r\nHowever, when migrating to [H2][1]&#39;s latest version (v2.1.214), it throws an exception because of a `primary key` violation. It seems that is persisting the `parent` and the `root` with the entity (see exception below).\r\n\r\nAny idea what could have changed in [H2][1] from v1.4.200 to v2.1.214 that may be affecting the entity&#39;s persistence?\r\n\r\n***Node.java***\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Transient;\r\n\r\n    @Entity\r\n    public class Node {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;parent_id&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate Node parent;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;root_id&quot;)\r\n        @JsonIgnore\r\n        public Node root;\r\n    \r\n    \t@Transient\r\n        public List&lt;Node&gt; children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n***NodeController.java***\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/node&quot;)\r\n    public class NodeController {\r\n\r\n        private NodeService nodeService;\r\n\r\n\t    public NodeController(NodeService nodeService) {\r\n\t\t    this.nodeService = nodeService;\r\n\t    }\r\n\r\n        @PostMapping(&quot;/save&quot;)\r\n        public ResponseEntity&lt;?&gt; create(@RequestBody Node node) {\r\n            Node entity = nodeService.save(node);\r\n            return new ResponseEntity&lt;&gt;(entity, HttpStatus.CREATED);\r\n        }\r\n\r\n    }\r\n\r\n***Exception***\r\n\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper:\r\n        Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;Node 1&#39;, NULL, NULL)&quot;; SQL statement:\r\n        insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]\r\n\r\n    .m.m.a.ExceptionHandlerExceptionResolver:\r\n        Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;Node 1&#39;, NULL, NULL)&quot;; SQL statement:&lt;EOL&gt;insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n\r\n  [1]: https://www.h2database.com/html/main.html","title":"Tree Data Structure with JPA and H2 Databse","body":"<p>I have an entity class representing a tree data structure.</p>\n<p>When using <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2 Database Engine</a> v1.4.200, I can persist entities without a problem.</p>\n<p>However, when migrating to <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a>'s latest version (v2.1.214), it throws an exception because of a <code>primary key</code> violation. It seems that is persisting the <code>parent</code> and the <code>root</code> with the entity (see exception below).</p>\n<p>Any idea what could have changed in <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> from v1.4.200 to v2.1.214 that may be affecting the entity's persistence?</p>\n<p><em><strong>Node.java</strong></em></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Transient;\n\n@Entity\npublic class Node {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    @JsonIgnore\n    private Node parent;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;root_id&quot;)\n    @JsonIgnore\n    public Node root;\n\n    @Transient\n    public List&lt;Node&gt; children = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><em><strong>NodeController.java</strong></em></p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(value = &quot;/api/node&quot;)\npublic class NodeController {\n\n    private NodeService nodeService;\n\n    public NodeController(NodeService nodeService) {\n        this.nodeService = nodeService;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public ResponseEntity&lt;?&gt; create(@RequestBody Node node) {\n        Node entity = nodeService.save(node);\n        return new ResponseEntity&lt;&gt;(entity, HttpStatus.CREATED);\n    }\n\n}\n</code></pre>\n<p><em><strong>Exception</strong></em></p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper:\n    Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'Node 1', NULL, NULL)&quot;; SQL statement:\n    insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]\n\n.m.m.a.ExceptionHandlerExceptionResolver:\n    Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.NODE(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'Node 1', NULL, NULL)&quot;; SQL statement:&lt;EOL&gt;insert into node (id, name, parent_id, root_id) values (default, ?, ?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1485443126,"post_id":41876122,"comment_id":70934760,"body_markdown":"There isn&#39;t any, what&#39;s stopping you from doing it yourself?","body":"There isn&#39;t any, what&#39;s stopping you from doing it yourself?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485443193,"post_id":41876122,"comment_id":70934804,"body_markdown":"@isah you mean create such a function for spring data myself?","body":"@isah you mean create such a function for spring data myself?"},{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1485443390,"post_id":41876122,"comment_id":70934932,"body_markdown":"Create such a function for yourself I mean, wherever you&#39;re calling this repository, after loading the list, you can map it to `Map` with a Java 8 one-liner.","body":"Create such a function for yourself I mean, wherever you&#39;re calling this repository, after loading the list, you can map it to <code>Map</code> with a Java 8 one-liner."},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485443688,"post_id":41876122,"comment_id":70935158,"body_markdown":"@isah that is one possibility. I am not sure if it is good in terms of performance. Iteration takes time, especially when my `&lt;List&gt;` contains 10 000 - 100 000 `Transaction` objects. I have to match id&#39;s of two `&lt;List&gt;` with `Transaction` objects and was wondering if I can shave some time off by using `*Map` constructions when doing matching. But if I can only get a `&lt;List&gt;` and then convert it to `*Map` and then do the matching, I am not quite sure this will bring me any additional improvements in speed.","body":"@isah that is one possibility. I am not sure if it is good in terms of performance. Iteration takes time, especially when my <code>&lt;List&gt;</code> contains 10 000 - 100 000 <code>Transaction</code> objects. I have to match id&#39;s of two <code>&lt;List&gt;</code> with <code>Transaction</code> objects and was wondering if I can shave some time off by using <code>*Map</code> constructions when doing matching. But if I can only get a <code>&lt;List&gt;</code> and then convert it to <code>*Map</code> and then do the matching, I am not quite sure this will bring me any additional improvements in speed."},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485444944,"post_id":41876122,"comment_id":70936131,"body_markdown":"How would your sql look like to? What will be the key and whats the value?","body":"How would your sql look like to? What will be the key and whats the value?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445044,"post_id":41876122,"comment_id":70936212,"body_markdown":"@Patrick key would be the `id` and value = `Transaction` object","body":"@Patrick key would be the <code>id</code> and value = <code>Transaction</code> object"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485445348,"post_id":41876122,"comment_id":70936461,"body_markdown":"and `id` is the same `id` of its Transaction in value?","body":"and <code>id</code> is the same <code>id</code> of its Transaction in value?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445382,"post_id":41876122,"comment_id":70936489,"body_markdown":"@Patrick yes that is true","body":"@Patrick yes that is true"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1485445797,"post_id":41876122,"comment_id":70936823,"body_markdown":"can you provide more information in your question what you really want to do and how the map should look like. I think you will also use a map&lt;Long, List&lt;Transaction&gt;&gt;?","body":"can you provide more information in your question what you really want to do and how the map should look like. I think you will also use a map&lt;Long, List&lt;Transaction&gt;&gt;?"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1485445925,"post_id":41876122,"comment_id":70936927,"body_markdown":"@Patrick map will look like this: `Map&lt;Long, Transaction&gt; transactionMap = new HashMap&lt;Long, Transaction&gt;();`","body":"@Patrick map will look like this: <code>Map&lt;Long, Transaction&gt; transactionMap = new HashMap&lt;Long, Transaction&gt;();</code>"},{"owner":{"account_id":1143154,"reputation":19795,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":1,"creation_date":1485490082,"post_id":41876122,"comment_id":70955891,"body_markdown":"[Map is not a supported return type for Spring Data repository methods](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_supported_query_return_types) so @Patrick&#39;s answer below is the correct solution.","body":"<a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_supported_query_return_types\" rel=\"nofollow noreferrer\">Map is not a supported return type for Spring Data repository methods</a> so @Patrick&#39;s answer below is the correct solution."},{"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"score":1,"creation_date":1503476389,"post_id":41876122,"comment_id":78625747,"body_markdown":"@DenissM.The iteration will result in linear time complexity, which you will get anyway, if you need to visit each item, so this is not a problem: https://en.wikipedia.org/wiki/Time_complexity","body":"@DenissM.The iteration will result in linear time complexity, which you will get anyway, if you need to visit each item, so this is not a problem: <a href=\"https://en.wikipedia.org/wiki/Time_complexity\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Time_complexity</a>"}],"answers":[{"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1503475494,"creation_date":1485446634,"answer_id":41877736,"question_id":41876122,"body_markdown":"I dont think you will find an easier solution as to create a simple one liner to convert your result to a map. It is simple and fast with java 8 lambdas:\r\n\r\n    Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream()\r\n             .collect(Collectors.toMap(Transaction::getId, Function.identity()));\r\n","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>I dont think you will find an easier solution as to create a simple one liner to convert your result to a map. It is simple and fast with java 8 lambdas:</p>\n\n<pre><code>Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream()\n         .collect(Collectors.toMap(Transaction::getId, Function.identity()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904336,"reputation":1326,"user_id":2499285,"accept_rate":86,"display_name":"Matt R"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1530769617,"creation_date":1530769617,"answer_id":51184124,"question_id":41876122,"body_markdown":"Just had to solve something similar and Patricks answer helped but it can be improved by indicating where to add it. \r\n\r\nTo to make it appear like the JPA repo returns a map, an improvement would to wrap this up in a default method in the repository interface. Saves you having to perform a stream in all the consuming classes.\r\n\r\n    @Repository\r\n    public interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n\r\n        List&lt;TransactionModel&gt; findAll();\r\n        \r\n        default Map&lt;Long, TransactionModel&gt; findAllMap() {\r\n            return findAll().stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\r\n        }\r\n\r\n        List&lt;TransactionModel&gt; findByClientId(Long id);\r\n\r\n        default Map&lt;Long, TransactionModel&gt; findByClientIdMap(Long id) {\r\n            return findByClientId(id).stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\r\n        }\r\n    }","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Just had to solve something similar and Patricks answer helped but it can be improved by indicating where to add it. </p>\n\n<p>To to make it appear like the JPA repo returns a map, an improvement would to wrap this up in a default method in the repository interface. Saves you having to perform a stream in all the consuming classes.</p>\n\n<pre><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    List&lt;TransactionModel&gt; findAll();\n\n    default Map&lt;Long, TransactionModel&gt; findAllMap() {\n        return findAll().stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\n    }\n\n    List&lt;TransactionModel&gt; findByClientId(Long id);\n\n    default Map&lt;Long, TransactionModel&gt; findByClientIdMap(Long id) {\n        return findByClientId(id).stream().collect(Collectors.toMap(TransactionModel::getId, v -&gt; v));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8893009,"reputation":348,"user_id":6638958,"display_name":"Karim M. Fadel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1625483817,"creation_date":1625483817,"answer_id":68255215,"question_id":41876122,"body_markdown":"\r\nAnother Solution use java 8 lambdas:\r\n\r\nUsing a **groupingBy** method of Collectors that grouping transactionList by ID and storing results in a Map instance\r\n\r\n    Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream().collect(Collectors.groupingBy(v-&gt;v.getId()));","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Another Solution use java 8 lambdas:</p>\n<p>Using a <strong>groupingBy</strong> method of Collectors that grouping transactionList by ID and storing results in a Map instance</p>\n<pre><code>Map&lt;Long, Transaction&gt; transactionMap = transactionList.stream().collect(Collectors.groupingBy(v-&gt;v.getId()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21347392,"reputation":95,"user_id":15717256,"display_name":"Ems"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1672415371,"creation_date":1672415371,"answer_id":74963384,"question_id":41876122,"body_markdown":"Creating a map after having retrieved your entities is not a solution if you are trying to improve your performance. It will take longer to retrieve the whole entity and then add the selected fields into a map, than to directly retrieve a map, or a list.","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>Creating a map after having retrieved your entities is not a solution if you are trying to improve your performance. It will take longer to retrieve the whole entity and then add the selected fields into a map, than to directly retrieve a map, or a list.</p>\n"},{"tags":[],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674172612,"creation_date":1674169410,"answer_id":75179156,"question_id":41876122,"body_markdown":"You could get your map from a custom streamable wrapper type which is documented in [Spring Data JPA reference](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.streamable-wrapper).\r\n\r\n```java\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\npublic class TransactionModels implements Streamable&lt;TransactionModel&gt; {\r\n    \r\n    private final Streamable&lt;TransactionModel&gt; streamable;\r\n\r\n    @Override\r\n    public Iterator&lt;TransactionModel&gt; iterator() {\r\n        return streamable.iterator();\r\n    }\r\n\r\n    public Map&lt;Long, TransactionModel&gt; asMap() {\r\n        return streamable.stream()\r\n            .collect(Collectors.toMap(Transaction::getId, Function.identity()));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n\r\n    TransactionModels findAll();\r\n\r\n    TransactionModels findByClientId(Long id);\r\n\r\n}\r\n```\r\n\r\nThe reason why you cannot get your desired `Map&lt;Long, TransactionModel&gt;` method in Spring Data is that `java.util.Map&lt;K,V&gt;` will be delegated to `org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution` instead of `org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution` by default. And it&#39;s reasonable becuase [`Map` is not extending from `Collection` in Java](https://stackoverflow.com/questions/2651819/why-doesnt-java-map-extend-collection). But in your case you would like to use `Map` as a &quot;collection&quot;. Fortunately you can [extend Spring Data repository with custom methods](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior) which could return any type you like. ","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>You could get your map from a custom streamable wrapper type which is documented in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.collections-and-iterables.streamable-wrapper\" rel=\"nofollow noreferrer\">Spring Data JPA reference</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(staticName = &quot;of&quot;)\npublic class TransactionModels implements Streamable&lt;TransactionModel&gt; {\n    \n    private final Streamable&lt;TransactionModel&gt; streamable;\n\n    @Override\n    public Iterator&lt;TransactionModel&gt; iterator() {\n        return streamable.iterator();\n    }\n\n    public Map&lt;Long, TransactionModel&gt; asMap() {\n        return streamable.stream()\n            .collect(Collectors.toMap(Transaction::getId, Function.identity()));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    TransactionModels findAll();\n\n    TransactionModels findByClientId(Long id);\n\n}\n</code></pre>\n<p>The reason why you cannot get your desired <code>Map&lt;Long, TransactionModel&gt;</code> method in Spring Data is that <code>java.util.Map&lt;K,V&gt;</code> will be delegated to <code>org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution</code> instead of <code>org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution</code> by default. And it's reasonable becuase <a href=\"https://stackoverflow.com/questions/2651819/why-doesnt-java-map-extend-collection\"><code>Map</code> is not extending from <code>Collection</code> in Java</a>. But in your case you would like to use <code>Map</code> as a &quot;collection&quot;. Fortunately you can <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">extend Spring Data repository with custom methods</a> which could return any type you like.</p>\n"}],"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71574,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":41877736,"answer_count":5,"score":29,"last_activity_date":1674172612,"creation_date":1485442133,"question_id":41876122,"body_markdown":"I have a Spring Data JPA repository interface that looks something like this:\r\n\r\n    @Repository\r\n    public interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\r\n   \r\n    \tList&lt;TransactionModel&gt; findAll();\r\n        List&lt;TransactionModel&gt; findByClientId(Long id);\r\n    }\r\n\r\nIs there a workaround to make the same but for a Collection to be returned of type `HashMap&lt;K, V&gt;`? I&#39;ve looked through the Spring Data classes and couldn&#39;t find anything other than List&lt;&gt; return values. \r\n\r\n","title":"Spring Data: JPA repository findAll() to return *Map instead of List?","body":"<p>I have a Spring Data JPA repository interface that looks something like this:</p>\n\n<pre><code>@Repository\npublic interface DBReportRepository extends JpaRepository&lt;TransactionModel, Long&gt; {\n\n    List&lt;TransactionModel&gt; findAll();\n    List&lt;TransactionModel&gt; findByClientId(Long id);\n}\n</code></pre>\n\n<p>Is there a workaround to make the same but for a Collection to be returned of type <code>HashMap&lt;K, V&gt;</code>? I've looked through the Spring Data classes and couldn't find anything other than List&lt;> return values. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322748,"reputation":36417,"user_id":642340,"accept_rate":83,"display_name":"soulcheck"},"score":0,"creation_date":1395829127,"post_id":22657783,"comment_id":34511805,"body_markdown":"here&#39;s some more info on [brancing statements in java](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html)","body":"here&#39;s some more info on <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">brancing statements in java</a>"},{"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"score":0,"creation_date":1395829143,"post_id":22657783,"comment_id":34511815,"body_markdown":"It&#39;s basically a goto. See: http://stackoverflow.com/questions/2430782/alternative-to-a-goto-statement-in-java","body":"It&#39;s basically a goto. See: <a href=\"http://stackoverflow.com/questions/2430782/alternative-to-a-goto-statement-in-java\" title=\"alternative to a goto statement in java\">stackoverflow.com/questions/2430782/&hellip;</a>"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1395829207,"post_id":22657783,"comment_id":34511853,"body_markdown":"Spaghetti code ensues.","body":"Spaghetti code ensues."},{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":0,"creation_date":1395829344,"post_id":22657783,"comment_id":34511957,"body_markdown":"Also more info here: http://stackoverflow.com/questions/12070942/whats-the-point-of-using-labeled-statements-in-java","body":"Also more info here: <a href=\"http://stackoverflow.com/questions/12070942/whats-the-point-of-using-labeled-statements-in-java\" title=\"whats the point of using labeled statements in java\">stackoverflow.com/questions/12070942/&hellip;</a>"},{"owner":{"account_id":1240857,"reputation":2683,"user_id":1203489,"accept_rate":48,"display_name":"Sikorski"},"score":0,"creation_date":1395829366,"post_id":22657783,"comment_id":34511968,"body_markdown":"check this out too : http://stackoverflow.com/questions/5057931/using-labels-in-java-without-loops","body":"check this out too : <a href=\"http://stackoverflow.com/questions/5057931/using-labels-in-java-without-loops\" title=\"using labels in java without loops\">stackoverflow.com/questions/5057931/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395829123,"creation_date":1395829123,"answer_id":22657841,"question_id":22657783,"body_markdown":"This is a syntax a bit similar to old goto instructions. When a break occurs, you will exit from the loop right after the &quot;z&quot;, in this case the most outer for loop. This works also with continue statements.","title":"What does the colon do in Java?","body":"<p>This is a syntax a bit similar to old goto instructions. When a break occurs, you will exit from the loop right after the \"z\", in this case the most outer for loop. This works also with continue statements.</p>\n"},{"tags":[],"owner":{"account_id":1103578,"reputation":21525,"user_id":1095451,"accept_rate":58,"display_name":"Kashif Nazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395829285,"creation_date":1395829285,"answer_id":22657912,"question_id":22657783,"body_markdown":"It&#39;s a label. You can use `continue` keyword to skip the current iteration and to reach to this point, also skipping the innermost loop.","title":"What does the colon do in Java?","body":"<p>It's a label. You can use <code>continue</code> keyword to skip the current iteration and to reach to this point, also skipping the innermost loop.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395830090,"creation_date":1395829324,"answer_id":22657930,"question_id":22657783,"body_markdown":"It a [label][1] for a *directed [`break`][2]* (or a [*directed `continue`*][3]). See comments added below:\r\n\r\n    public void go(){\r\n        String o = &quot;&quot;;\r\n        z:                       // &lt;=== Labels the loop that follows\r\n        for (int x = 0; x&lt;3; x++) {\r\n            for (int y = 0; y&lt;2;y++) {\r\n                if (x==1) \r\n                    break;       // &lt;=== Not directed, only breaks the inner loop\r\n                if (x==2 &amp;&amp; y==1)\r\n                    break z;     // &lt;=== Directed break, breaks the loop labelled with `z`\r\n                o = o + x+y;\r\n            }\r\n        }\r\n    \r\n        System.out.println(o);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.7\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.15\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.16","title":"What does the colon do in Java?","body":"<p>It a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.7\" rel=\"nofollow\">label</a> for a <em>directed <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.15\" rel=\"nofollow\"><code>break</code></a></em> (or a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.16\" rel=\"nofollow\"><em>directed <code>continue</code></em></a>). See comments added below:</p>\n\n<pre><code>public void go(){\n    String o = \"\";\n    z:                       // &lt;=== Labels the loop that follows\n    for (int x = 0; x&lt;3; x++) {\n        for (int y = 0; y&lt;2;y++) {\n            if (x==1) \n                break;       // &lt;=== Not directed, only breaks the inner loop\n            if (x==2 &amp;&amp; y==1)\n                break z;     // &lt;=== Directed break, breaks the loop labelled with `z`\n            o = o + x+y;\n        }\n    }\n\n    System.out.println(o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2185975,"reputation":1589,"user_id":1934396,"accept_rate":88,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395829401,"creation_date":1395829401,"answer_id":22657966,"question_id":22657783,"body_markdown":"Basically it is a jump mark. See here: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html (there is a jump mark called search implemented and explained)","title":"What does the colon do in Java?","body":"<p>Basically it is a jump mark. See here: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html</a> (there is a jump mark called search implemented and explained)</p>\n"}],"owner":{"account_id":4231318,"reputation":1,"user_id":3463561,"display_name":"user3463561"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1674172540,"creation_date":1395828987,"question_id":22657783,"body_markdown":"    public void go(){\r\n        String o = &quot;&quot;;\r\n        z:\r\n    \tfor (int x = 0; x&lt;3; x++) {\r\n    \t\tfor (int y = 0; y&lt;2;y++) {\r\n    \t\t\tif (x==1) \r\n    \t\t\t\tbreak;\r\n    \t\t\tif (x==2 &amp;&amp; y==1)\r\n    \t\t\t\tbreak z;\r\n    \t\t\to = o + x+y;\r\n    \t\t}\r\n    \t}\r\n\r\n    \tSystem.out.println(o);\r\n    }\r\n    \t\t\r\n\r\n","title":"What does the colon do in Java?","body":"<pre><code>public void go(){\n    String o = \"\";\n    z:\n    for (int x = 0; x&lt;3; x++) {\n        for (int y = 0; y&lt;2;y++) {\n            if (x==1) \n                break;\n            if (x==2 &amp;&amp; y==1)\n                break z;\n            o = o + x+y;\n        }\n    }\n\n    System.out.println(o);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673553573,"post_id":75100618,"comment_id":132531437,"body_markdown":"This is a duplicate of this question - https://stackoverflow.com/questions/75088925/manually-authenticate-user-with-authenticationmanager-throws-illegalargumentexce/75089627#75089627.  Since you are inputting a password with a prefix {bcrypt} you need a DelegationPasswordEncoder. See this link for more details - https://www.baeldung.com/spring-security-5-password-storage","body":"This is a duplicate of this question - <a href=\"https://stackoverflow.com/questions/75088925/manually-authenticate-user-with-authenticationmanager-throws-illegalargumentexce/75089627#75089627\" title=\"manually authenticate user with authenticationmanager throws illegalargumentexce\">stackoverflow.com/questions/75088925/&hellip;</a>.  Since you are inputting a password with a prefix {bcrypt} you need a DelegationPasswordEncoder. See this link for more details - <a href=\"https://www.baeldung.com/spring-security-5-password-storage\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-5-password-storage</a>"},{"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"score":0,"creation_date":1673554618,"post_id":75100618,"comment_id":132531733,"body_markdown":"I&#39;ve edited the post trying to best awnser both responses, if any of you could add any further input, it would be appreciated.","body":"I&#39;ve edited the post trying to best awnser both responses, if any of you could add any further input, it would be appreciated."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673565858,"post_id":75100618,"comment_id":132534429,"body_markdown":"you do not need 2 password encoders, you can set the default password encoder in `passworEncoder.setDefaultPasswordEncoderForMatches` to the bcrypt if you have passwords with no prefix and for others the other hashmap will determine the encoder to use using the password prefix... so you should remove the BCryptPasswordEncoder  bean config and set the delegating password encoder bean in ur auth manager builder.. try and let us know..","body":"you do not need 2 password encoders, you can set the default password encoder in <code>passworEncoder.setDefaultPasswordEncoderForMatches</code> to the bcrypt if you have passwords with no prefix and for others the other hashmap will determine the encoder to use using the password prefix... so you should remove the BCryptPasswordEncoder  bean config and set the delegating password encoder bean in ur auth manager builder.. try and let us know.."},{"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"score":0,"creation_date":1673621953,"post_id":75100618,"comment_id":132547083,"body_markdown":"@Neeraj, I&#39;ve tried what you told me, but now I get a new exception thrown, if you&#39;ve faced it in the past or know how to solve it, I would appreciate a lot if you could help me.","body":"@Neeraj, I&#39;ve tried what you told me, but now I get a new exception thrown, if you&#39;ve faced it in the past or know how to solve it, I would appreciate a lot if you could help me."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673718629,"post_id":75100618,"comment_id":132562603,"body_markdown":"When you say - password is being sent like {bcrypt}*** do you mean the user is inputting password like that? Just to double check the way it should be - password in db is like {bcrypt}***and user inputs password normally e.g. pass123..","body":"When you say - password is being sent like {bcrypt}*** do you mean the user is inputting password like that? Just to double check the way it should be - password in db is like {bcrypt}***and user inputs password normally e.g. pass123.."}],"answers":[{"tags":[],"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674172243,"creation_date":1674172138,"answer_id":75179393,"question_id":75100618,"body_markdown":"While I was debugging I found out that the authenticationManager was using a DaoAuthenticationProvider that contained the wrong passwordEncoder. Defining a Bean of a custom DaoAuthenticationProvider like so: \r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        return authProvider;\r\n    }\r\n\r\nAnd setting my AuthenticationManagerBuilder like so:\r\n\r\n    @Override\r\n        protected void configure(AuthenticationManagerBuilder auth){\r\n            auth.authenticationProvider(authProvider());\r\n    }\r\n\r\nInside the WebSecurity.java configuration file solved all my problems.\r\n\r\nReference: [Custom Authentication Provider][1]\r\n\r\n\r\n  [1]: https://www.javadevjournal.com/spring-security/spring-security-authentication-providers/","title":"Manual authentication with authenticationManager spring boot java","body":"<p>While I was debugging I found out that the authenticationManager was using a DaoAuthenticationProvider that contained the wrong passwordEncoder. Defining a Bean of a custom DaoAuthenticationProvider like so:</p>\n<pre><code>@Bean\npublic DaoAuthenticationProvider authProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService);\n    authProvider.setPasswordEncoder(bCryptPasswordEncoder);\n    return authProvider;\n}\n</code></pre>\n<p>And setting my AuthenticationManagerBuilder like so:</p>\n<pre><code>@Override\n    protected void configure(AuthenticationManagerBuilder auth){\n        auth.authenticationProvider(authProvider());\n}\n</code></pre>\n<p>Inside the WebSecurity.java configuration file solved all my problems.</p>\n<p>Reference: <a href=\"https://www.javadevjournal.com/spring-security/spring-security-authentication-providers/\" rel=\"nofollow noreferrer\">Custom Authentication Provider</a></p>\n"}],"owner":{"account_id":27512708,"reputation":1,"user_id":20994302,"display_name":"thiagoS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75179393,"answer_count":1,"score":0,"last_activity_date":1674172243,"creation_date":1673547005,"question_id":75100618,"body_markdown":"I&#39;m trying to manually authenticate an user, inside a service, with the authenticationManager:\r\n```\r\nAuthentication authenticate = authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                    user,\r\n                    senha,\r\n                    Collections.emptyList()\r\n            ));\r\n```\r\nBut every time I get the following exception from said manager:\r\n```\r\n&quot;There is no PasswordEncoder mapped for the id \\&quot;null\\&quot;&quot;\r\n```\r\n\r\nThe authenticationManager is beeing imported this way:\r\n\r\n```\r\n@Autowired\r\nprivate AuthenticationManager authenticationManager;\r\n```\r\n\r\nI&#39;ve already tried to change the password input to {bcrypt}password, to inform the correct passwordEncoder but the error persists, I&#39;ve also created a BCryptPassword Bean, that&#39;s defined inside a config file, just like this:\r\n```\r\n    @Configuration\r\n    public class BeansConfig {\r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n```\r\n\r\nEDIT1: This is the format the password is sent to the authenticationManager: \r\n```{bcrypt}$2a$10$[...]```\r\n\r\nEDIT2: As suggested I&#39;ve implemented the following Bean, inside the same config file as the BCryptPasswordEncoder:\r\n```\r\n@Bean\r\npublic PasswordEncoder delegatingPasswordEncoder() {\r\n    PasswordEncoder defaultEncoder = new StandardPasswordEncoder();\r\n    Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n    encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\n    encoders.put(&quot;scrypt&quot;, new SCryptPasswordEncoder());\r\n\r\n    DelegatingPasswordEncoder passworEncoder = new DelegatingPasswordEncoder(\r\n      &quot;bcrypt&quot;, encoders);\r\n    passworEncoder.setDefaultPasswordEncoderForMatches(defaultEncoder);\r\n\r\n    return passworEncoder;\r\n}\r\n```\r\nBut the error persists.\r\n\r\nFor further questions, this is how I&#39;ve configured my password encoding within the ```WebSecurity.java``` file :\r\n```\r\n    @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n```\r\n\r\nEDIT4: As proposed I&#39;ve removed the BCryptPassword bean and set my password encoding to the delegatingPasswordEncoding, like this,\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n    \r\n    public WebSecurity(UserDetailsServiceImpl userService, PasswordEncoder passwordEncoder){\r\n            this.userDetailsService = userService;\r\n            this.passwordEncoder = passwordEncoder;\r\n    }\r\n    \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder);\r\n    }\r\n\r\nBut now I get the following error, \r\n\r\n    java.lang.IllegalArgumentException: Detected a Non-hex character at 1 or 2 position\r\n    \tat org.springframework.security.crypto.codec.Hex.decode(Hex.java:58) ~[spring-security-crypto-5.7.1.jar:5.7.1]\r\n    \tat org.springframework.security.crypto.password.StandardPasswordEncoder.decode(StandardPasswordEncoder.java:106) ~[spring-security-crypto-5.7.1.jar:5.7.1]\r\n\r\nMy password is, still, beeing sent like this:\r\n```{bcrypt}$2a$10$[...]```\r\n\r\nFor reference, I&#39;m trying to do this: https://www.baeldung.com/manually-set-user-authentication-spring-security\r\n\r\n","title":"Manual authentication with authenticationManager spring boot java","body":"<p>I'm trying to manually authenticate an user, inside a service, with the authenticationManager:</p>\n<pre><code>Authentication authenticate = authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    user,\n                    senha,\n                    Collections.emptyList()\n            ));\n</code></pre>\n<p>But every time I get the following exception from said manager:</p>\n<pre><code>&quot;There is no PasswordEncoder mapped for the id \\&quot;null\\&quot;&quot;\n</code></pre>\n<p>The authenticationManager is beeing imported this way:</p>\n<pre><code>@Autowired\nprivate AuthenticationManager authenticationManager;\n</code></pre>\n<p>I've already tried to change the password input to {bcrypt}password, to inform the correct passwordEncoder but the error persists, I've also created a BCryptPassword Bean, that's defined inside a config file, just like this:</p>\n<pre><code>    @Configuration\n    public class BeansConfig {\n        @Bean\n        public BCryptPasswordEncoder bCryptPasswordEncoder(){\n            return new BCryptPasswordEncoder();\n        }\n    }\n</code></pre>\n<p>EDIT1: This is the format the password is sent to the authenticationManager:\n<code>{bcrypt}$2a$10$[...]</code></p>\n<p>EDIT2: As suggested I've implemented the following Bean, inside the same config file as the BCryptPasswordEncoder:</p>\n<pre><code>@Bean\npublic PasswordEncoder delegatingPasswordEncoder() {\n    PasswordEncoder defaultEncoder = new StandardPasswordEncoder();\n    Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n    encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\n    encoders.put(&quot;scrypt&quot;, new SCryptPasswordEncoder());\n\n    DelegatingPasswordEncoder passworEncoder = new DelegatingPasswordEncoder(\n      &quot;bcrypt&quot;, encoders);\n    passworEncoder.setDefaultPasswordEncoderForMatches(defaultEncoder);\n\n    return passworEncoder;\n}\n</code></pre>\n<p>But the error persists.</p>\n<p>For further questions, this is how I've configured my password encoding within the <code>WebSecurity.java</code> file :</p>\n<pre><code>    @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n</code></pre>\n<p>EDIT4: As proposed I've removed the BCryptPassword bean and set my password encoding to the delegatingPasswordEncoding, like this,</p>\n<pre><code>@Autowired\nprivate PasswordEncoder passwordEncoder;\n\npublic WebSecurity(UserDetailsServiceImpl userService, PasswordEncoder passwordEncoder){\n        this.userDetailsService = userService;\n        this.passwordEncoder = passwordEncoder;\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(this.passwordEncoder);\n}\n</code></pre>\n<p>But now I get the following error,</p>\n<pre><code>java.lang.IllegalArgumentException: Detected a Non-hex character at 1 or 2 position\n    at org.springframework.security.crypto.codec.Hex.decode(Hex.java:58) ~[spring-security-crypto-5.7.1.jar:5.7.1]\n    at org.springframework.security.crypto.password.StandardPasswordEncoder.decode(StandardPasswordEncoder.java:106) ~[spring-security-crypto-5.7.1.jar:5.7.1]\n</code></pre>\n<p>My password is, still, beeing sent like this:\n<code>{bcrypt}$2a$10$[...]</code></p>\n<p>For reference, I'm trying to do this: <a href=\"https://www.baeldung.com/manually-set-user-authentication-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/manually-set-user-authentication-spring-security</a></p>\n"},{"tags":["java","arrays","stack","push"],"answers":[{"tags":[],"owner":{"account_id":20226248,"reputation":128,"user_id":14834046,"display_name":"codexistent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674171151,"creation_date":1673292890,"answer_id":75062142,"question_id":75062094,"body_markdown":"This is because you are setting every stack in ``Gameboard`` to the same stack , ``Square``. So every time you push an element into any of the stacks in ``Gameboard``, you will also be pushing that same element into every other stack in ``Gameboard``. In other words, because you set every element in ``Gameboard`` to the same stack in your ``Fillboard()`` function, every element in ``Gameboard`` will always be identical. Instead, use a new stack for every element, like so(with `GameBoard` renamed `gameboard`, per java naming conventions):\r\n```java\r\n    public Stack&lt;Integer&gt;[][] gameboard = new Stack[3][3];\r\n    public Stack&lt;Integer&gt;[][] FillBoard() {\r\n        //fill board with squares\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                Stack&lt;Integer&gt; square = new Stack&lt;&gt;();\r\n                square.push(0);\r\n                gameboard[i][j] = square;\r\n            }\r\n        }\r\n        gameboard[1][1].push(1);\r\n        return gameboard;\r\n    }\r\n```","title":"Java Pushing an element into a single stack of a 2d array of stacks","body":"<p>This is because you are setting every stack in <code>Gameboard</code> to the same stack , <code>Square</code>. So every time you push an element into any of the stacks in <code>Gameboard</code>, you will also be pushing that same element into every other stack in <code>Gameboard</code>. In other words, because you set every element in <code>Gameboard</code> to the same stack in your <code>Fillboard()</code> function, every element in <code>Gameboard</code> will always be identical. Instead, use a new stack for every element, like so(with <code>GameBoard</code> renamed <code>gameboard</code>, per java naming conventions):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Stack&lt;Integer&gt;[][] gameboard = new Stack[3][3];\n    public Stack&lt;Integer&gt;[][] FillBoard() {\n        //fill board with squares\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                Stack&lt;Integer&gt; square = new Stack&lt;&gt;();\n                square.push(0);\n                gameboard[i][j] = square;\n            }\n        }\n        gameboard[1][1].push(1);\n        return gameboard;\n    }\n</code></pre>\n"}],"owner":{"account_id":27481179,"reputation":21,"user_id":20968232,"display_name":"Thomas Cameron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75062142,"answer_count":1,"score":1,"last_activity_date":1674171151,"creation_date":1673292540,"question_id":75062094,"body_markdown":"I have a 2d array of stacks.\r\n```\r\npublic Stack&lt;Integer&gt;[][] GameBoard = new Stack[3][3];\r\n\r\n    //make square\r\n    public Stack&lt;Integer&gt; Square = new Stack&lt;&gt;();\r\n\r\n    public Stack&lt;Integer&gt;[][] FillBoard() {\r\n        //initialize each square to have 0\r\n        Square.push(0);\r\n        //fill board with squares\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                GameBoard[i][j] = Square;\r\n            }\r\n        }\r\n        GameBoard[1][1].push(1);\r\n        return GameBoard;\r\n    }\r\n```\r\n\r\n\r\nIn this code, I give every stack in the 2d array a stack, `Square`, with the element of 0. When I then attempted to add an element to a certain stack (`GameBoard[1][2].push(1)`) it adds it to every stack in the array. so instead of `{{0,0,0},{0,1,0},(0,0,0}}` it returns `{{1,1,1},{1,1,1},{1,1,1}}`.\r\nMy only guess is that in the stack class, the list that stack uses is static? \r\nThank you in advance.","title":"Java Pushing an element into a single stack of a 2d array of stacks","body":"<p>I have a 2d array of stacks.</p>\n<pre><code>public Stack&lt;Integer&gt;[][] GameBoard = new Stack[3][3];\n\n    //make square\n    public Stack&lt;Integer&gt; Square = new Stack&lt;&gt;();\n\n    public Stack&lt;Integer&gt;[][] FillBoard() {\n        //initialize each square to have 0\n        Square.push(0);\n        //fill board with squares\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                GameBoard[i][j] = Square;\n            }\n        }\n        GameBoard[1][1].push(1);\n        return GameBoard;\n    }\n</code></pre>\n<p>In this code, I give every stack in the 2d array a stack, <code>Square</code>, with the element of 0. When I then attempted to add an element to a certain stack (<code>GameBoard[1][2].push(1)</code>) it adds it to every stack in the array. so instead of <code>{{0,0,0},{0,1,0},(0,0,0}}</code> it returns <code>{{1,1,1},{1,1,1},{1,1,1}}</code>.\nMy only guess is that in the stack class, the list that stack uses is static?\nThank you in advance.</p>\n"},{"tags":["java","json","org.json"],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674170494,"creation_date":1674170494,"question_id":75179259,"body_markdown":"I have a legacy system at hand. This system was using an old version of `org.json.JSONObject`. For this version the following json was valid\r\n```\r\n{\r\n  &quot;key&quot; = &quot;value&quot;,\r\n  &quot;key2&quot;: &quot;value2&quot;\r\n}\r\n```\r\nThe json is actually invalid but for this version it was valid. \r\n\r\nNow I upgraded the version to the latest one and everything is failing because of `=`. I get error that `Expected &#39;:&#39; at char XX` everytime. I could change my local tests and integ tests but what about clients? I have no idea whether they pass `=` or `:` and knowing them they would be passing `=`. \r\n\r\nIs there a way i make the latest version on JSONObject accept `=` as valid assignment and alternative to `:` or is this a lost cause?\r\n\r\n","title":"org.json breaking change with update","body":"<p>I have a legacy system at hand. This system was using an old version of <code>org.json.JSONObject</code>. For this version the following json was valid</p>\n<pre><code>{\n  &quot;key&quot; = &quot;value&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>The json is actually invalid but for this version it was valid.</p>\n<p>Now I upgraded the version to the latest one and everything is failing because of <code>=</code>. I get error that <code>Expected ':' at char XX</code> everytime. I could change my local tests and integ tests but what about clients? I have no idea whether they pass <code>=</code> or <code>:</code> and knowing them they would be passing <code>=</code>.</p>\n<p>Is there a way i make the latest version on JSONObject accept <code>=</code> as valid assignment and alternative to <code>:</code> or is this a lost cause?</p>\n"},{"tags":["java","integer","integer-arithmetic"],"comments":[{"owner":{"account_id":16792058,"reputation":81,"user_id":12139442,"display_name":"Biryanii"},"score":0,"creation_date":1674155132,"post_id":75177116,"comment_id":132660202,"body_markdown":"When I run the code I get 2^28=268,435,456","body":"When I run the code I get 2^28=268,435,456"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674156147,"creation_date":1674156147,"answer_id":75177296,"question_id":75177116,"body_markdown":"Consider how this looks with all the values expressed in binary.\r\n\r\nInitially, `x = 00000000000000000000000100010000`.  Then every time you multiply by 16, you add 4 zeroes to the right, and remove 4 digits from the left.  \r\n\r\nSo you get results like \r\n\r\n    00000000000000000001000100000000\r\n    00000000000000010001000000000000\r\n\r\nand so on.  But once you&#39;ve done this 6 times, the first `1` disappears off the left end of the number - this is the integer overflow.  So you&#39;re left with \r\n\r\n    00010000000000000000000000000000\r\n\r\nwhich is 2 to the 28.","title":"Why is the result of my int multiplication wrong?","body":"<p>Consider how this looks with all the values expressed in binary.</p>\n<p>Initially, <code>x = 00000000000000000000000100010000</code>.  Then every time you multiply by 16, you add 4 zeroes to the right, and remove 4 digits from the left.</p>\n<p>So you get results like</p>\n<pre><code>00000000000000000001000100000000\n00000000000000010001000000000000\n</code></pre>\n<p>and so on.  But once you've done this 6 times, the first <code>1</code> disappears off the left end of the number - this is the integer overflow.  So you're left with</p>\n<pre><code>00010000000000000000000000000000\n</code></pre>\n<p>which is 2 to the 28.</p>\n"}],"owner":{"account_id":16792058,"reputation":81,"user_id":12139442,"display_name":"Biryanii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75177296,"answer_count":1,"score":0,"last_activity_date":1674169886,"creation_date":1674154924,"question_id":75177116,"body_markdown":"I have the the following code where the results exceeds the limit an integer  type variable can store and need to understand why I am getting this result (268,435,456=2^28)\r\n\r\n    public static void main(String[] args) {\r\n    int x = 16+256;\r\n    for( int i =0; i&lt;6; i++) {\r\n    \t\t\tx*=16;\r\n    \t\t}\r\n    \t\tSystem.out.println(x);\r\n    }\r\n    }","title":"Why is the result of my int multiplication wrong?","body":"<p>I have the the following code where the results exceeds the limit an integer  type variable can store and need to understand why I am getting this result (268,435,456=2^28)</p>\n<pre><code>public static void main(String[] args) {\nint x = 16+256;\nfor( int i =0; i&lt;6; i++) {\n            x*=16;\n        }\n        System.out.println(x);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1773932,"reputation":11088,"user_id":1618135,"accept_rate":78,"display_name":"blackpanther"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386423785,"creation_date":1386423785,"answer_id":20442047,"question_id":20442004,"body_markdown":"If you are going to upgrade your Spring version, upgrade it to the latest v3: `3.2.5.RELEASE` as outlined in the Maven mvn repository: http://mvnrepository.com/artifact/org.springframework\r\n\r\nHowever, your problem is here:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nThere is no artifactId &#39;spring&#39; it should be `spring-core`. ","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>If you are going to upgrade your Spring version, upgrade it to the latest v3: <code>3.2.5.RELEASE</code> as outlined in the Maven mvn repository: <a href=\"http://mvnrepository.com/artifact/org.springframework\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.springframework</a></p>\n\n<p>However, your problem is here:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>There is no artifactId 'spring' it should be <code>spring-core</code>. </p>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386423973,"creation_date":1386423973,"answer_id":20442080,"question_id":20442004,"body_markdown":"There is no dependancy named `org.springframework:spring:3.1.0.RELEASE`. The last jar that was available with this groupId/artifactId combination was for version `2.5.6.SEC03`.\r\n\r\nYou will have to change this dependency and re-name it to `spring-core` instead of `spring`\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>There is no dependancy named <code>org.springframework:spring:3.1.0.RELEASE</code>. The last jar that was available with this groupId/artifactId combination was for version <code>2.5.6.SEC03</code>.</p>\n\n<p>You will have to change this dependency and re-name it to <code>spring-core</code> instead of <code>spring</code></p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2627294,"reputation":906,"user_id":2274060,"accept_rate":0,"display_name":"user2274060"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674169385,"creation_date":1386423564,"question_id":20442004,"body_markdown":"I&#39;ve created a maven project. Before, in my pom.xml, I used the spring version 2.5.6 and now, I change the version number of spring to use the 3.1.0.RELEASE. \r\n\r\nTo update the different dependencies and update the different jar in my WEB-INF/lib, I used the following command line :&#39;mvn clean install&#39; and I&#39;ve the following error\r\n\r\n    [WARNING] The POM for org.springframework:spring:jar:3.1.0.RELEASE is missing, no dependency information available\r\n    [INFO] BUILD FAILURE\r\n    [INFO] Total time: 0.847s\r\n    [INFO] Finished at: Sat Dec 07 13:49:20 CET 2013\r\n    [INFO] Final Memory: 4M/15M\r\n    [ERROR] Failed to execute goal on project myGoogleAppEngine: Could not resolve dependencies for project com.application:myGoogleAppEngine:war:0.0.1-SNAPSHOT: Failure to find org.springframework:spring:jar:3.1.0.RELEASE in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nDo you have any solutions ? \r\n\r\nThank you\r\n\r\nA part of my pom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\r\n        &lt;appengine.target.version&gt;1.8.0&lt;/appengine.target.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;org.springframework.version&gt;3.1.0.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n         &lt;!-- Spring framework --&gt;\r\n         &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n              &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n\r\n         &lt;!-- Spring MVC framework --&gt;\r\n         &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n               &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n               &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMy WEB-INF/lib\r\n\r\n    -spring-2.5.6.jar\r\n    -spring-aop-3.1.0.RELEASE.jar\r\n    -spring-asm-3.1.0.RELEASE.jar\r\n    -spring-beans-2.5.6.jar\r\n    -spring-beans-3.1.0.RELEASE.jar\r\n    -spring-context-2.5.6.jar\r\n    -spring-context-3.1.0.RELEASE.jar\r\n    -spring-context-support-2.5.6.jar\r\n    -spring-context-support-3.1.0.RELEASE.jar\r\n    -spring-core-2.5.6.jar\r\n    -spring-core-3.1.0.RELEASE.jar\r\n    -spring-expression-3.1.0.RELEASE.jar\r\n    -spring-web-2.5.6.jar\r\n    -spring-web-3.1.0.RELEASE.jar\r\n    -spring-webmvc-2.5.6.jar\r\n    -spring-webmvc-3.1.0.RELEASE.jar\r\n    -...","title":"maven clean install - Failed to execute goal on project myGoogleAppEngine","body":"<p>I've created a maven project. Before, in my pom.xml, I used the spring version 2.5.6 and now, I change the version number of spring to use the 3.1.0.RELEASE. </p>\n\n<p>To update the different dependencies and update the different jar in my WEB-INF/lib, I used the following command line :'mvn clean install' and I've the following error</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring:jar:3.1.0.RELEASE is missing, no dependency information available\n[INFO] BUILD FAILURE\n[INFO] Total time: 0.847s\n[INFO] Finished at: Sat Dec 07 13:49:20 CET 2013\n[INFO] Final Memory: 4M/15M\n[ERROR] Failed to execute goal on project myGoogleAppEngine: Could not resolve dependencies for project com.application:myGoogleAppEngine:war:0.0.1-SNAPSHOT: Failure to find org.springframework:spring:jar:3.1.0.RELEASE in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n\n<p>Do you have any solutions ? </p>\n\n<p>Thank you</p>\n\n<p>A part of my pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;appengine.app.version&gt;1&lt;/appengine.app.version&gt;\n    &lt;appengine.target.version&gt;1.8.0&lt;/appengine.target.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;org.springframework.version&gt;3.1.0.RELEASE&lt;/org.springframework.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n     &lt;!-- Spring framework --&gt;\n     &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;spring&lt;/artifactId&gt;\n          &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n\n     &lt;!-- Spring MVC framework --&gt;\n     &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n           &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n\n     &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n           &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My WEB-INF/lib</p>\n\n<pre><code>-spring-2.5.6.jar\n-spring-aop-3.1.0.RELEASE.jar\n-spring-asm-3.1.0.RELEASE.jar\n-spring-beans-2.5.6.jar\n-spring-beans-3.1.0.RELEASE.jar\n-spring-context-2.5.6.jar\n-spring-context-3.1.0.RELEASE.jar\n-spring-context-support-2.5.6.jar\n-spring-context-support-3.1.0.RELEASE.jar\n-spring-core-2.5.6.jar\n-spring-core-3.1.0.RELEASE.jar\n-spring-expression-3.1.0.RELEASE.jar\n-spring-web-2.5.6.jar\n-spring-web-3.1.0.RELEASE.jar\n-spring-webmvc-2.5.6.jar\n-spring-webmvc-3.1.0.RELEASE.jar\n-...\n</code></pre>\n"},{"tags":["java","iteration"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674166621,"post_id":75177605,"comment_id":132663439,"body_markdown":"I added working code in my answer. HTH.","body":"I added working code in my answer. HTH."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674448900,"post_id":75177605,"comment_id":132708932,"body_markdown":"You got some answers to your question. Remember that people volunteer their time here to help, least you can do is to accept an answer, or ask further questions as to why an answer can&#39;t be accepted. Asking a question and simply walking away is bad manner.","body":"You got some answers to your question. Remember that people volunteer their time here to help, least you can do is to accept an answer, or ask further questions as to why an answer can&#39;t be accepted. Asking a question and simply walking away is bad manner."},{"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"score":0,"creation_date":1675100054,"post_id":75177605,"comment_id":132851434,"body_markdown":"My apologies. I went to do so some days ago, but the site was under maintenance and I couldn&#39;t do anything. Then it slipped my mind. Thank you for reminding me!","body":"My apologies. I went to do so some days ago, but the site was under maintenance and I couldn&#39;t do anything. Then it slipped my mind. Thank you for reminding me!"}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674168744,"creation_date":1674158459,"answer_id":75177658,"question_id":75177605,"body_markdown":"You can certainly use if-else control structures to do this, but a simpler option would be to create the inner box with 2 rows and 2 columns fewer than the given dimensions, and then append the borders. You didn’t say what the expectation is for boxes of 1 or 2 rows only, so, you’ll have to handle those cases as well.\r\n\r\nAlso, for testability purposes, I’d create a method that accepts the dimensions as integers, and returns the box. You can then print the box in the main method. You can even take it one step further and create one method to create the inner box, and another to pad it with borders. Basically, try not to shove your entire project into one main method.\r\n\r\n**Implementation 1:**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          if (args.length &lt; 2) {\r\n              throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\r\n          }    \r\n          int rows = Integer.parseInt(args[0]);\r\n          int cols = Integer.parseInt(args[1]);\r\n          List&lt;String&gt; inner = createBox(rows - 2, cols - 2);\r\n          List&lt;String&gt; box = new ArrayList&lt;&gt;();\r\n          box.add(&quot;X&quot;.repeat(cols));\r\n          for (String row : inner) {\r\n              box.add(&quot;X&quot; + row + &quot;X&quot;);\r\n          }\r\n          if (rows &gt; 1) {\r\n              box.add(box.get(0));\r\n          }\r\n          \r\n          for (String row : box) {\r\n              System.out.println(row);\r\n          }\r\n        }\r\n        \r\n        private static List&lt;String&gt; createBox(int rows, int cols) {\r\n            if (rows &lt;= 0 || cols &lt;= 0) {\r\n                return Collections.emptyList();\r\n            }\r\n            String row = &quot;O&quot;.repeat(cols);\r\n            return Collections.nCopies(rows, row);\r\n        }\r\n    }\r\n\r\n**Implementation 2, slightly optimized:**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          if (args.length &lt; 2) {\r\n              throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\r\n          }    \r\n          int rows = Integer.parseInt(args[0]);\r\n          int cols = Integer.parseInt(args[1]);\r\n          int innerRows = rows - 2;\r\n          int innerCols = cols - 2;\r\n          String innerRow = innerRows &gt; 0 &amp;&amp; innerCols &gt; 0 ? &quot;O&quot;.repeat(innerCols) : &quot;&quot;;\r\n          List&lt;String&gt; box = new ArrayList&lt;&gt;();\r\n          box.add(&quot;X&quot;.repeat(cols));\r\n          for (int i = 0; i &lt; innerRows; i++) {\r\n              box.add(&quot;X&quot; + innerRow + &quot;X&quot;);\r\n          }\r\n          if (rows &gt; 1) {\r\n              box.add(box.get(0));\r\n          }\r\n          \r\n          for (String row : box) {\r\n              System.out.println(row);\r\n          }\r\n        }\r\n    }","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>You can certainly use if-else control structures to do this, but a simpler option would be to create the inner box with 2 rows and 2 columns fewer than the given dimensions, and then append the borders. You didn’t say what the expectation is for boxes of 1 or 2 rows only, so, you’ll have to handle those cases as well.</p>\n<p>Also, for testability purposes, I’d create a method that accepts the dimensions as integers, and returns the box. You can then print the box in the main method. You can even take it one step further and create one method to create the inner box, and another to pad it with borders. Basically, try not to shove your entire project into one main method.</p>\n<p><strong>Implementation 1:</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      if (args.length &lt; 2) {\n          throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\n      }    \n      int rows = Integer.parseInt(args[0]);\n      int cols = Integer.parseInt(args[1]);\n      List&lt;String&gt; inner = createBox(rows - 2, cols - 2);\n      List&lt;String&gt; box = new ArrayList&lt;&gt;();\n      box.add(&quot;X&quot;.repeat(cols));\n      for (String row : inner) {\n          box.add(&quot;X&quot; + row + &quot;X&quot;);\n      }\n      if (rows &gt; 1) {\n          box.add(box.get(0));\n      }\n      \n      for (String row : box) {\n          System.out.println(row);\n      }\n    }\n    \n    private static List&lt;String&gt; createBox(int rows, int cols) {\n        if (rows &lt;= 0 || cols &lt;= 0) {\n            return Collections.emptyList();\n        }\n        String row = &quot;O&quot;.repeat(cols);\n        return Collections.nCopies(rows, row);\n    }\n}\n</code></pre>\n<p><strong>Implementation 2, slightly optimized:</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      if (args.length &lt; 2) {\n          throw new IllegalArgumentException(&quot;Usage: java MyClass &lt;rows&gt; &lt;cols&gt;&quot;);\n      }    \n      int rows = Integer.parseInt(args[0]);\n      int cols = Integer.parseInt(args[1]);\n      int innerRows = rows - 2;\n      int innerCols = cols - 2;\n      String innerRow = innerRows &gt; 0 &amp;&amp; innerCols &gt; 0 ? &quot;O&quot;.repeat(innerCols) : &quot;&quot;;\n      List&lt;String&gt; box = new ArrayList&lt;&gt;();\n      box.add(&quot;X&quot;.repeat(cols));\n      for (int i = 0; i &lt; innerRows; i++) {\n          box.add(&quot;X&quot; + innerRow + &quot;X&quot;);\n      }\n      if (rows &gt; 1) {\n          box.add(box.get(0));\n      }\n      \n      for (String row : box) {\n          System.out.println(row);\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674159873,"creation_date":1674159334,"answer_id":75177802,"question_id":75177605,"body_markdown":"Change:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt; width; i++) {\r\n        System.out.print(border);\r\n      }\r\n      System.out.print(border);\r\n      System.out.println(&quot;&quot;);\r\n    }\r\n\r\nTo:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt;= width; i++) {\r\n        if (j==0 || j==(height-1)) {\r\n          System.out.print(border);\r\n        }\r\n        else {\r\n          if (i==1 || i==width) {\r\n            System.out.print(border);\r\n          }\r\n          else {\r\n            System.out.print(interior);\r\n          }  \r\n        }\r\n      }\r\n      System.out.println();\r\n    }\r\n\r\nThis could obviously be written in many different ways, some much more compact than this. I think this way is easy to understand, though...\r\n\r\nFor instance, here&#39;s a shorter version that works, but is harder to interpret:\r\n\r\n    for (int j = 0; j &lt; height; j++) {\r\n      for (int i = 1; i &lt;= width; i++) {\r\n        System.out.print(((j==0 || j==(height-1)) || (i==1 || i==width)) ? border : interior);\r\n      }\r\n      System.out.println();\r\n    }\r\n","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>Change:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt; width; i++) {\n    System.out.print(border);\n  }\n  System.out.print(border);\n  System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt;= width; i++) {\n    if (j==0 || j==(height-1)) {\n      System.out.print(border);\n    }\n    else {\n      if (i==1 || i==width) {\n        System.out.print(border);\n      }\n      else {\n        System.out.print(interior);\n      }  \n    }\n  }\n  System.out.println();\n}\n</code></pre>\n<p>This could obviously be written in many different ways, some much more compact than this. I think this way is easy to understand, though...</p>\n<p>For instance, here's a shorter version that works, but is harder to interpret:</p>\n<pre><code>for (int j = 0; j &lt; height; j++) {\n  for (int i = 1; i &lt;= width; i++) {\n    System.out.print(((j==0 || j==(height-1)) || (i==1 || i==width)) ? border : interior);\n  }\n  System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75177802,"answer_count":2,"score":0,"last_activity_date":1674168744,"creation_date":1674158075,"question_id":75177605,"body_markdown":"I need to create a box using user inputs. My inputs are the dimensions (height x width), the &quot;interior&quot; (the character that the box is filled with), and the &quot;border&quot; (the character surrounding the interior). I&#39;m almost done, I believe; I can assemble the box given the dimensions and border, but I&#39;m struggling to figure out how to fill the inside. \r\n\r\nI don&#39;t know how to use decision statements to determine which characters belong on which line. If the current line is the first line, I want to print only border characters, or if the current character on the line is the first character in that line, print a border character, but print the interior for the following characters (until the end char), etc.\r\n\r\nMy code:\r\n```\r\n// Below this comment: import the Scanner\r\nimport java.util.Scanner;\r\npublic class Box {\r\n   public static void main(String[] args) {\r\n      // Below this comment: declare and instantiate a Scanner\r\n      Scanner scnr = new Scanner(System.in);\r\n\r\n      // Below this comment: declare any other variables you may need\r\n      int width;\r\n      int height;\r\n      char border;\r\n      char interior;\r\n\r\n\r\n      // Below this comment: collect the required inputs\r\n      System.out.println(&quot;Enter width    : &quot;);\r\n      width = scnr.nextInt();\r\n      System.out.println(&quot;Enter height   : &quot;);\r\n      height = scnr.nextInt();\r\n      System.out.println(&quot;Enter border   : &quot;);\r\n      border = scnr.next().charAt(0);\r\n      System.out.print(&quot;Enter interior : &quot;);\r\n      interior = scnr.next().charAt(0);\r\n\r\n\r\n      // Below this comment: display the required results\r\n\r\n      for (int j = 0; j &lt; height; j++) {\r\n         for (int i = 1; i &lt; width; i++) {\r\n            System.out.print(border);\r\n         }\r\n         System.out.print(border);\r\n         System.out.println(&quot;&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nAs an arbitrary example, running my code with 7x5 dimensions and X and O characters gives me:\r\n```\r\nXXXXXXX\r\nXXXXXXX\r\nXXXXXXX\r\nXXXXXXX\r\n```\r\nBut my desired result would be:\r\n```\r\nXXXXXXX\r\nXOOOOOX\r\nXOOOOOX\r\nXOOOOOX\r\nXXXXXXX\r\n```","title":"Creating a box in Java from user inputs, but how do I replace the interior of the box with a different input than its borders?","body":"<p>I need to create a box using user inputs. My inputs are the dimensions (height x width), the &quot;interior&quot; (the character that the box is filled with), and the &quot;border&quot; (the character surrounding the interior). I'm almost done, I believe; I can assemble the box given the dimensions and border, but I'm struggling to figure out how to fill the inside.</p>\n<p>I don't know how to use decision statements to determine which characters belong on which line. If the current line is the first line, I want to print only border characters, or if the current character on the line is the first character in that line, print a border character, but print the interior for the following characters (until the end char), etc.</p>\n<p>My code:</p>\n<pre><code>// Below this comment: import the Scanner\nimport java.util.Scanner;\npublic class Box {\n   public static void main(String[] args) {\n      // Below this comment: declare and instantiate a Scanner\n      Scanner scnr = new Scanner(System.in);\n\n      // Below this comment: declare any other variables you may need\n      int width;\n      int height;\n      char border;\n      char interior;\n\n\n      // Below this comment: collect the required inputs\n      System.out.println(&quot;Enter width    : &quot;);\n      width = scnr.nextInt();\n      System.out.println(&quot;Enter height   : &quot;);\n      height = scnr.nextInt();\n      System.out.println(&quot;Enter border   : &quot;);\n      border = scnr.next().charAt(0);\n      System.out.print(&quot;Enter interior : &quot;);\n      interior = scnr.next().charAt(0);\n\n\n      // Below this comment: display the required results\n\n      for (int j = 0; j &lt; height; j++) {\n         for (int i = 1; i &lt; width; i++) {\n            System.out.print(border);\n         }\n         System.out.print(border);\n         System.out.println(&quot;&quot;);\n      }\n   }\n}\n</code></pre>\n<p>As an arbitrary example, running my code with 7x5 dimensions and X and O characters gives me:</p>\n<pre><code>XXXXXXX\nXXXXXXX\nXXXXXXX\nXXXXXXX\n</code></pre>\n<p>But my desired result would be:</p>\n<pre><code>XXXXXXX\nXOOOOOX\nXOOOOOX\nXOOOOOX\nXXXXXXX\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1673808356,"post_id":75127551,"comment_id":132575281,"body_markdown":"I would hope that this is impossible.  I wouldn&#39;t want an app to be able to change my phone language, only the settings...","body":"I would hope that this is impossible.  I wouldn&#39;t want an app to be able to change my phone language, only the settings..."}],"answers":[{"tags":[],"owner":{"account_id":1262856,"reputation":2627,"user_id":1220743,"accept_rate":74,"display_name":"mol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673808706,"creation_date":1673808706,"answer_id":75127605,"question_id":75127551,"body_markdown":"It&#39;s impossible to do it programmatically. The best you can do is to open Locale Settings screen like this:\r\n\r\n    startActivityForResult(new Intent(Settings.ACTION_LOCALE_SETTINGS), 0);\r\n","title":"How can I change a phone&#39;s language using Kotlin?","body":"<p>It's impossible to do it programmatically. The best you can do is to open Locale Settings screen like this:</p>\n<pre><code>startActivityForResult(new Intent(Settings.ACTION_LOCALE_SETTINGS), 0);\n</code></pre>\n"}],"owner":{"account_id":17601680,"reputation":19,"user_id":12771529,"display_name":"lamine ml"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75127605,"answer_count":1,"score":-1,"last_activity_date":1674168274,"creation_date":1673808274,"question_id":75127551,"body_markdown":"How can I change the language of a phone using Kotlin?\r\n[![An example of what I want to change][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uTpsc.jpg\r\nThis is a picture showing the thing that I want to change through the code. Can it be done through the code or not?","title":"How can I change a phone&#39;s language using Kotlin?","body":"<p>How can I change the language of a phone using Kotlin?\n<a href=\"https://i.stack.imgur.com/uTpsc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTpsc.jpg\" alt=\"An example of what I want to change\" /></a></p>\n<p>This is a picture showing the thing that I want to change through the code. Can it be done through the code or not?</p>\n"},{"tags":["java","exception","junit","mockito","ioexception"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1674168921,"post_id":75179037,"comment_id":132663950,"body_markdown":"Try to call the tested method without wrapping it with `assertThrows`, the stack strace should be more helpful.","body":"Try to call the tested method without wrapping it with <code>assertThrows</code>, the stack strace should be more helpful."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674170122,"post_id":75179037,"comment_id":132664119,"body_markdown":"Where do you define `staticConfigPartnerAliasesPersistenceFacade`?","body":"Where do you define <code>staticConfigPartnerAliasesPersistenceFacade</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674170186,"post_id":75179037,"comment_id":132664129,"body_markdown":"And personally I would just wrap the `Resources` class in a bean instead of messing about with mocking static methods.","body":"And personally I would just wrap the <code>Resources</code> class in a bean instead of messing about with mocking static methods."}],"owner":{"account_id":12076714,"reputation":151,"user_id":8829888,"display_name":"Neha Bhoi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674168155,"creation_date":1674168155,"question_id":75179037,"body_markdown":"here is the code for which I want to write a test case for catch block\r\n\r\n\r\n    public class X {\r\n    \r\n    protected String getInputString(final String inputPath) {\r\n            try {\r\n                return Resources.asCharSource(Resources.getResource(inputPath), UTF_8).read();\r\n            } catch (final IOException e) {\r\n                log.error(&quot;Error loading partner aliases from local config&quot;, e);\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        }\r\n    \r\n    } \r\n\r\n have tried mocking the staic method asCharSource as bellow:\r\n\r\n    @Test\r\n        public void Failed() throws Exception{\r\n            URL url = Resources.getResource(&quot;resources/linearPartners.json&quot;);\r\n            CharSource s;\r\n            try{\r\n                s = new CharSource() {\r\n                    @Override\r\n                    public Reader openStream() throws IOException {\r\n                        throw new IOException(&quot;Expected as a test&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public String read() throws IOException {\r\n                        throw new IOException(&quot;Expected as a test&quot;);\r\n                    }\r\n                };\r\n                try (MockedStatic&lt;Resources&gt; resources = Mockito.mockStatic(Resources.class)) {\r\n                    resources.when(() -&gt; Resources.asCharSource(url, UTF_8))\r\n                        .thenReturn(s);\r\n                    Assertions.assertThrows(UncheckedIOException.class, () -&gt; staticConfigPartnerAliasesPersistenceFacade.getInputString(&quot;resources/file.json&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nbellow is the error\r\n\r\n    org.opentest4j.AssertionFailedError: Unexpected exception type thrown ==&gt; expected: &lt;java.io.UncheckedIOException&gt; but was: &lt;java.lang.NullPointerException&gt;\r\n         [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:65)\r\n         [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\r\n         [java]        org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\r\n\r\nI did not understand, where is the NullPointerException is coming from. Please guide me on this","title":"How to mock IOException for CharSource.read()?","body":"<p>here is the code for which I want to write a test case for catch block</p>\n<pre><code>public class X {\n\nprotected String getInputString(final String inputPath) {\n        try {\n            return Resources.asCharSource(Resources.getResource(inputPath), UTF_8).read();\n        } catch (final IOException e) {\n            log.error(&quot;Error loading partner aliases from local config&quot;, e);\n            throw new UncheckedIOException(e);\n        }\n    }\n\n} \n</code></pre>\n<p>have tried mocking the staic method asCharSource as bellow:</p>\n<pre><code>@Test\n    public void Failed() throws Exception{\n        URL url = Resources.getResource(&quot;resources/linearPartners.json&quot;);\n        CharSource s;\n        try{\n            s = new CharSource() {\n                @Override\n                public Reader openStream() throws IOException {\n                    throw new IOException(&quot;Expected as a test&quot;);\n                }\n\n                @Override\n                public String read() throws IOException {\n                    throw new IOException(&quot;Expected as a test&quot;);\n                }\n            };\n            try (MockedStatic&lt;Resources&gt; resources = Mockito.mockStatic(Resources.class)) {\n                resources.when(() -&gt; Resources.asCharSource(url, UTF_8))\n                    .thenReturn(s);\n                Assertions.assertThrows(UncheckedIOException.class, () -&gt; staticConfigPartnerAliasesPersistenceFacade.getInputString(&quot;resources/file.json&quot;));\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>bellow is the error</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown ==&gt; expected: &lt;java.io.UncheckedIOException&gt; but was: &lt;java.lang.NullPointerException&gt;\n     [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:65)\n     [java]        org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\n     [java]        org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\n</code></pre>\n<p>I did not understand, where is the NullPointerException is coming from. Please guide me on this</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611232668,"creation_date":1611232668,"answer_id":65827604,"question_id":65822114,"body_markdown":"To resolve the generic type warning, you can set the generic type as a wildcard (?) ie.\r\n\r\n    WebClient.RequestHeadersSpec&lt;?&gt; requestBodySpec = webClient.get().uri(&quot;https://google.com&quot;);\r\n\r\nAn alternate solution for adding a header based off of a flag in config is to use an ExchangeFilterFunction. \r\n\r\n    public class RefreshExchangeFilterFunction implements ExchangeFilterFunction {\r\n\r\n        private Config config;\r\n\r\n        @Override\r\n        public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n            if(config.isRefresh()) {\r\n                return next.exchange(ClientRequest.from(request)\r\n                        .header(&quot;Refresh-Cache&quot;, &quot;true&quot;)\r\n                        .build());\r\n            }\r\n            return next.exchange(request);\r\n        }\r\n    }\r\n\r\nThis can then be applied to any/all web clients that need this behaviour \r\n\r\n    WebClient.builder()\r\n             .filter(refreshExchangeFilterFunction)\r\n             .build();","title":"Add optional header to WebClient get request","body":"<p>To resolve the generic type warning, you can set the generic type as a wildcard (?) ie.</p>\n<pre><code>WebClient.RequestHeadersSpec&lt;?&gt; requestBodySpec = webClient.get().uri(&quot;https://google.com&quot;);\n</code></pre>\n<p>An alternate solution for adding a header based off of a flag in config is to use an ExchangeFilterFunction.</p>\n<pre><code>public class RefreshExchangeFilterFunction implements ExchangeFilterFunction {\n\n    private Config config;\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        if(config.isRefresh()) {\n            return next.exchange(ClientRequest.from(request)\n                    .header(&quot;Refresh-Cache&quot;, &quot;true&quot;)\n                    .build());\n        }\n        return next.exchange(request);\n    }\n}\n</code></pre>\n<p>This can then be applied to any/all web clients that need this behaviour</p>\n<pre><code>WebClient.builder()\n         .filter(refreshExchangeFilterFunction)\n         .build();\n</code></pre>\n"}],"owner":{"account_id":307332,"reputation":2597,"user_id":618563,"accept_rate":47,"display_name":"samxiao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674168033,"creation_date":1611210101,"question_id":65822114,"body_markdown":"\r\n\r\nIs there a way to add an optional header to `WebClient` `get()` request?  \r\n\r\n```\r\n    if (config.getRefresh()) {\r\n        webClient.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\r\n    }\r\n```\r\n\r\nIt seems the whole request is chained on `webClient`\r\n\r\n```\r\nreturn webClient\r\n  .get()\r\n  .uri(uri)\r\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\r\n  .retrieve()\r\n  .bodyToMono(String.class)\r\n  .block();\r\n```\r\n\r\n\r\nI try to switch to `RequestHeadersSpec` but got this generic type warning\r\n\r\n```\r\n\r\nWebClient.RequestHeadersSpec is a raw type. References to generic type \r\nWebClient.RequestHeadersSpec&lt;S&gt; should be parameterized Java(16777788)\r\n\r\n```\r\n\r\n\r\nI know with `post()`, we can do this\r\n\r\n```\r\nrequestBodySpec = webClientBuilder.build().post().uri(uri);\r\n```\r\n\r\n```\r\n    if (config.getRefresh()) {\r\n        requestBodySpec.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\r\n    }\r\n```\r\n\r\n\r\n```\r\nreturn requestBodySpec\r\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\r\n  .body(Mono.just(request), MyRequest.class)\r\n  .retrieve()\r\n  .bodyToMono(String.class)\r\n  .block();\r\n```\r\n","title":"Add optional header to WebClient get request","body":"<p>Is there a way to add an optional header to <code>WebClient</code> <code>get()</code> request?</p>\n<pre><code>    if (config.getRefresh()) {\n        webClient.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\n    }\n</code></pre>\n<p>It seems the whole request is chained on <code>webClient</code></p>\n<pre><code>return webClient\n  .get()\n  .uri(uri)\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\n  .retrieve()\n  .bodyToMono(String.class)\n  .block();\n</code></pre>\n<p>I try to switch to <code>RequestHeadersSpec</code> but got this generic type warning</p>\n<pre><code>\nWebClient.RequestHeadersSpec is a raw type. References to generic type \nWebClient.RequestHeadersSpec&lt;S&gt; should be parameterized Java(16777788)\n\n</code></pre>\n<p>I know with <code>post()</code>, we can do this</p>\n<pre><code>requestBodySpec = webClientBuilder.build().post().uri(uri);\n</code></pre>\n<pre><code>    if (config.getRefresh()) {\n        requestBodySpec.header(&quot;Refresh-Cache&quot;, &quot;true&quot;);\n    }\n</code></pre>\n<pre><code>return requestBodySpec\n  .header(&quot;Authorization&quot;, BEARER_TOKEN)\n  .body(Mono.just(request), MyRequest.class)\n  .retrieve()\n  .bodyToMono(String.class)\n  .block();\n</code></pre>\n"},{"tags":["java","jpa","openjpa"],"comments":[{"owner":{"account_id":10198614,"reputation":1,"user_id":7529693,"display_name":"Valeriy"},"score":0,"creation_date":1486482243,"post_id":19042416,"comment_id":71367000,"body_markdown":"also it happens when there is no @Embeddable in JPA key","body":"also it happens when there is no @Embeddable in JPA key"}],"answers":[{"tags":[],"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1380264422,"creation_date":1380264422,"answer_id":19044352,"question_id":19042416,"body_markdown":"The ChangeRoutineConsumedPK class was not added to the persistence.xml and i had turned off automatic class scanning.\r\n\r\nAdding the class to the persistence.xml fixed the problem\r\n\r\n    &lt;persistence-unit ...&gt;\r\n    ...\r\n    &lt;class&gt;au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&lt;/class&gt;\r\n    ...\r\n    &lt;/persistence-unit&gt;\r\n","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>The ChangeRoutineConsumedPK class was not added to the persistence.xml and i had turned off automatic class scanning.</p>\n\n<p>Adding the class to the persistence.xml fixed the problem</p>\n\n<pre><code>&lt;persistence-unit ...&gt;\n...\n&lt;class&gt;au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&lt;/class&gt;\n...\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4312299,"reputation":1,"user_id":3523078,"display_name":"Dheeraj Pure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475664035,"creation_date":1475664035,"answer_id":39871780,"question_id":19042416,"body_markdown":"if you are executing from main class pass below parameter in execution\r\njava -javaagent:&lt;jar file path&gt;/openjpa.jar com.xyz.Main\r\n\r\nif using eclipse give above value in run Configuration &gt; arguments &gt; VM arguments.","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>if you are executing from main class pass below parameter in execution\njava -javaagent:/openjpa.jar com.xyz.Main</p>\n\n<p>if using eclipse give above value in run Configuration > arguments > VM arguments.</p>\n"},{"tags":[],"owner":{"account_id":27576683,"reputation":1,"user_id":21046732,"display_name":"LucasS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167573,"creation_date":1674167573,"answer_id":75178973,"question_id":19042416,"body_markdown":"Similar to an answer above, on MacOS in Intellij I added the following to the JUnit run arguments:\r\n\r\n`-javaagent:/Users/YOUR_USERNAME/.ivy2/cache/org.apache.openjpa/openjpa/bundles/openjpa-3.1.1.jar`\r\n\r\nThis fixed the issue for me.","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>Similar to an answer above, on MacOS in Intellij I added the following to the JUnit run arguments:</p>\n<p><code>-javaagent:/Users/YOUR_USERNAME/.ivy2/cache/org.apache.openjpa/openjpa/bundles/openjpa-3.1.1.jar</code></p>\n<p>This fixed the issue for me.</p>\n"}],"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19044352,"answer_count":3,"score":1,"last_activity_date":1674167573,"creation_date":1380254055,"question_id":19042416,"body_markdown":"I am running WebSphere v8, and using JPA persistence in a Java EE 6 environment.\r\n\r\nWhen I attempt to run code that deals with a particular entity, I run into this exception:\r\n\r\n&gt; javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is: &lt;openjpa-2.1.2-SNAPSHOT-r422266:1497841 fatal user error&gt; org.apache.openjpa.persistence.ArgumentException: The type &quot;class au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK&quot; has not been enhanced.\r\n\r\nHowever, [this article][1] says that my classes should already be enhanced at runtime. ChangeRoutineConsumedPK is an Embeddable Class. Could someone take a look at my class and tell me what i&#39;m doing wrong? thank you.\r\n\r\n&lt;b&gt;ChangeRoutineConsumed:&lt;/b&gt;\r\n\r\n\t@Entity\r\n\t@Table(name = ChangeRoutineConsumed.TABLE_NAME)\r\n\tpublic class ChangeRoutineConsumed extends BaseBusinessObject {\r\n\t\t\r\n\t\tpublic static final String TABLE_NAME = &quot;COCHANGEROUTINECONSUMED&quot;;\r\n\t\t\r\n\t\t@EmbeddedId\r\n\t\tprivate ChangeRoutineConsumedPK id;\r\n\t\t\r\n\t\tprotected ChangeRoutineConsumed() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumed(@Min(1) long changeRoutineId, @NotNull String consumedBy){\r\n\t\t\tthis(new ChangeRoutineConsumedPK(changeRoutineId, consumedBy));\r\n\t\t}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumed(@NotNull ChangeRoutineConsumedPK id){\r\n\t\t\tsuper();\r\n\t\t\tsetId(id);\r\n\t\t}\r\n\t\t...\r\n\t\tpublic int hashCode(){...};\r\n\t\tpublic boolean equals(Object obj){...}\r\n\t}\r\n\r\n&lt;b&gt;ChangeRoutineConsumedPK:&lt;/b&gt;\r\n\r\n\t@Embeddable\r\n\tpublic class ChangeRoutineConsumedPK {\r\n\r\n\t\t@Column\r\n\t\tprivate long changeRoutineId;\r\n\t\t@Column\r\n\t\tprivate String consumedBy;\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumedPK(){}\r\n\t\t\r\n\t\tpublic ChangeRoutineConsumedPK(long changeRoutineId, String consumedBy) {\r\n\t\t\tsetChangeRoutineId(changeRoutineId);\r\n\t\t\tsetConsumedBy(consumedBy);\r\n\t\t}\r\n\t\t...\r\n\r\n\t\tpublic int hashCode() {...}\r\n\t\tpublic boolean equals(Object obj) {...}\r\n\t}\r\n\r\n\r\n[1]:http://webspherepersistence.blogspot.com.au/2009/02/openjpa-enhancement.html","title":"The type &quot;class *&quot; has not been enhanced JPA exception","body":"<p>I am running WebSphere v8, and using JPA persistence in a Java EE 6 environment.</p>\n\n<p>When I attempt to run code that deals with a particular entity, I run into this exception:</p>\n\n<blockquote>\n  <p>javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is:  org.apache.openjpa.persistence.ArgumentException: The type \"class au.com.combined.domain.changeroutine.ChangeRoutineConsumedPK\" has not been enhanced.</p>\n</blockquote>\n\n<p>However, <a href=\"http://webspherepersistence.blogspot.com.au/2009/02/openjpa-enhancement.html\" rel=\"nofollow\">this article</a> says that my classes should already be enhanced at runtime. ChangeRoutineConsumedPK is an Embeddable Class. Could someone take a look at my class and tell me what i'm doing wrong? thank you.</p>\n\n<p><b>ChangeRoutineConsumed:</b></p>\n\n<pre><code>@Entity\n@Table(name = ChangeRoutineConsumed.TABLE_NAME)\npublic class ChangeRoutineConsumed extends BaseBusinessObject {\n\n    public static final String TABLE_NAME = \"COCHANGEROUTINECONSUMED\";\n\n    @EmbeddedId\n    private ChangeRoutineConsumedPK id;\n\n    protected ChangeRoutineConsumed() {\n        super();\n    }\n\n    public ChangeRoutineConsumed(@Min(1) long changeRoutineId, @NotNull String consumedBy){\n        this(new ChangeRoutineConsumedPK(changeRoutineId, consumedBy));\n    }\n\n    public ChangeRoutineConsumed(@NotNull ChangeRoutineConsumedPK id){\n        super();\n        setId(id);\n    }\n    ...\n    public int hashCode(){...};\n    public boolean equals(Object obj){...}\n}\n</code></pre>\n\n<p><b>ChangeRoutineConsumedPK:</b></p>\n\n<pre><code>@Embeddable\npublic class ChangeRoutineConsumedPK {\n\n    @Column\n    private long changeRoutineId;\n    @Column\n    private String consumedBy;\n\n    public ChangeRoutineConsumedPK(){}\n\n    public ChangeRoutineConsumedPK(long changeRoutineId, String consumedBy) {\n        setChangeRoutineId(changeRoutineId);\n        setConsumedBy(consumedBy);\n    }\n    ...\n\n    public int hashCode() {...}\n    public boolean equals(Object obj) {...}\n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","css-selectors","build-automation"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167394,"creation_date":1674165842,"answer_id":75178768,"question_id":75178453,"body_markdown":"You can use this XPath to locate that element:\r\n```\r\n&quot;//a[contains(@href,&#39;Logout&#39;)]&quot;\r\n```\r\nOr this CSS Selector:\r\n```\r\n&quot;a[href*=&#39;Logout&#39;]&quot;\r\n```","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>You can use this XPath to locate that element:</p>\n<pre><code>&quot;//a[contains(@href,'Logout')]&quot;\n</code></pre>\n<p>Or this CSS Selector:</p>\n<pre><code>&quot;a[href*='Logout']&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674167258,"creation_date":1674167258,"answer_id":75178932,"question_id":75178453,"body_markdown":"If you observe closely the text _**Sign out**_ is actually within a `&lt;div&gt;` which have an ancestor `&lt;span&gt;` which again have an ancestor `&lt;a&gt;`\r\n\r\nSo an effective [locator strategy](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver) can be:\r\n\r\n- Using _xpath_:\r\n\r\n\t  @FindBy(xpath=&quot;//a//span//div[text()=&#39;Sign out&#39;]&quot;)\r\n\t  WebElement logoutLink;","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>If you observe closely the text <em><strong>Sign out</strong></em> is actually within a <code>&lt;div&gt;</code> which have an ancestor <code>&lt;span&gt;</code> which again have an ancestor <code>&lt;a&gt;</code></p>\n<p>So an effective <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategy</a> can be:</p>\n<ul>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>@FindBy(xpath=&quot;//a//span//div[text()='Sign out']&quot;)\nWebElement logoutLink;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27523498,"reputation":1,"user_id":21003233,"display_name":"Thao Le"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674167394,"creation_date":1674163608,"question_id":75178453,"body_markdown":"I&#39;m trying to perform a click action on the &quot;sign out&quot; link on Gmail but my console keep saying that it&#39;s unable to locate the element. Below is my code.Thank you!\r\n\r\n\r\n\r\n```\r\n@FindBy(linkText=&quot;Sign out&quot;)\r\nWebElement logoutLink;\r\n```\r\nThis is the HTML:\r\n\r\n[enter image description here](https://i.stack.imgur.com/OQ9SL.png)\r\n\r\nAnd this is the WebElement:\r\n\r\nhttps://i.stack.imgur.com/JI9r6.png\r\n\r\n\r\n","title":"Java, Selenium. How to locate a hyperlink WebElement?","body":"<p>I'm trying to perform a click action on the &quot;sign out&quot; link on Gmail but my console keep saying that it's unable to locate the element. Below is my code.Thank you!</p>\n<pre><code>@FindBy(linkText=&quot;Sign out&quot;)\nWebElement logoutLink;\n</code></pre>\n<p>This is the HTML:</p>\n<p><a href=\"https://i.stack.imgur.com/OQ9SL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And this is the WebElement:</p>\n<p><a href=\"https://i.stack.imgur.com/JI9r6.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JI9r6.png</a></p>\n"},{"tags":["java","instrumentation","open-telemetry","telemetry","otlp-grpc"],"comments":[{"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"score":0,"creation_date":1674126661,"post_id":75169063,"comment_id":132650336,"body_markdown":"Can you also add some exception logs?","body":"Can you also add some exception logs?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1674160146,"post_id":75169063,"comment_id":132661774,"body_markdown":"Sounds like you&#39;re not using a dependency manager like Maven?","body":"Sounds like you&#39;re not using a dependency manager like Maven?"},{"owner":{"account_id":4634829,"reputation":213,"user_id":3756360,"accept_rate":67,"display_name":"Rotem E"},"score":0,"creation_date":1674369231,"post_id":75169063,"comment_id":132697500,"body_markdown":"@Ga&#235;lJ it&#39;s true, we did it manually. Why do you ask?","body":"@Ga&#235;lJ it&#39;s true, we did it manually. Why do you ask?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1674370115,"post_id":75169063,"comment_id":132697553,"body_markdown":"I suppose using a dependency manager would avoid the trouble. Sounds the library you think is added to your project is not in reality.","body":"I suppose using a dependency manager would avoid the trouble. Sounds the library you think is added to your project is not in reality."},{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1680797253,"post_id":75169063,"comment_id":133961928,"body_markdown":"Are you sure all your dependencies are using the same version? We strongly recommend using the opentelemetry-bom to keep dependencies versions in sync: https://github.com/open-telemetry/opentelemetry-java#published-releases","body":"Are you sure all your dependencies are using the same version? We strongly recommend using the opentelemetry-bom to keep dependencies versions in sync: <a href=\"https://github.com/open-telemetry/opentelemetry-java#published-releases\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java#published-relea&zwnj;&#8203;ses</a>"}],"owner":{"account_id":14818098,"reputation":11,"user_id":10701360,"display_name":"AKH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674166957,"creation_date":1674114192,"question_id":75169063,"body_markdown":"I&#39;ve been trying to create a SdkTracerProvider as described in the formal guide of OpenTelemetry (https://opentelemetry.io/docs/instrumentation/java/manual/)\r\nbut keep getting a &quot;**NoClassDefFoundError**&quot; for **Marshaler.java** which is in opentelemetry-exporter-otlp-common jar.\r\n\r\n```\r\nResource resource = Resource.getDefault()\r\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;logical-service-name&quot;)));\r\n\r\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\r\n            .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\r\n            .setResource(resource)\r\n            .build();\r\n```\r\n\r\n\r\nThe exception is thrown at - \r\n```\r\nOtlpGrpcSpanExporter.builder()\r\n```\r\n\r\nI have defined a new library in the project structure with source and class, and created the dependency needed for the module I use. I see the class itself appears in the external libraries consumed by the project.\r\nAlso, I was able to consume other jars in the library without errors -\r\n```\r\nio.opentelemetry.sdk.resources.Resource \r\n```\r\nfor example.\r\n\r\nStack trace:\r\n\r\n    java.lang.NoClassDefFoundError: io/opentelemetry/exporter/internal/marshal/Marshaler    \r\n        at ---Calling class---\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:648)\r\n        at org.testng.TestRunner.run(TestRunner.java:505)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1049)\r\n        at org.testng.TestNG.run(TestNG.java:1017)\r\n        at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n        at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    Caused by: java.lang.ClassNotFoundException: io.opentelemetry.exporter.internal.marshal.Marshaler\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 25 more","title":"OpenTelemetry manual instrumentation NoClassDefFoundError - Java","body":"<p>I've been trying to create a SdkTracerProvider as described in the formal guide of OpenTelemetry (<a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/manual/</a>)\nbut keep getting a &quot;<strong>NoClassDefFoundError</strong>&quot; for <strong>Marshaler.java</strong> which is in opentelemetry-exporter-otlp-common jar.</p>\n<pre><code>Resource resource = Resource.getDefault()\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;logical-service-name&quot;)));\n\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\n            .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\n            .setResource(resource)\n            .build();\n</code></pre>\n<p>The exception is thrown at -</p>\n<pre><code>OtlpGrpcSpanExporter.builder()\n</code></pre>\n<p>I have defined a new library in the project structure with source and class, and created the dependency needed for the module I use. I see the class itself appears in the external libraries consumed by the project.\nAlso, I was able to consume other jars in the library without errors -</p>\n<pre><code>io.opentelemetry.sdk.resources.Resource \n</code></pre>\n<p>for example.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.NoClassDefFoundError: io/opentelemetry/exporter/internal/marshal/Marshaler    \n    at ---Calling class---\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n    at org.testng.TestRunner.privateRun(TestRunner.java:648)\n    at org.testng.TestRunner.run(TestRunner.java:505)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.ClassNotFoundException: io.opentelemetry.exporter.internal.marshal.Marshaler\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","android","jvm","android-studio"],"comments":[{"owner":{"account_id":1806723,"reputation":708,"user_id":1643692,"display_name":"Veselin Romić"},"score":0,"creation_date":1406067337,"post_id":24898684,"comment_id":38679770,"body_markdown":"Just for reference, my JAVA_HOME is identical to yours, so you can rule that out as an issue as long as you&#39;re sure your JDK is 64-bit.","body":"Just for reference, my JAVA_HOME is identical to yours, so you can rule that out as an issue as long as you&#39;re sure your JDK is 64-bit."},{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406067506,"post_id":24898684,"comment_id":38679830,"body_markdown":"I installed x64 bit version of JDK .. also as you can see my JDK path its not inside `Program Files (x86)` folder so that clears this also ..","body":"I installed x64 bit version of JDK .. also as you can see my JDK path its not inside <code>Program Files (x86)</code> folder so that clears this also .."},{"owner":{"account_id":2133493,"reputation":21013,"user_id":1893766,"display_name":"ozbek"},"score":0,"creation_date":1406080863,"post_id":24898684,"comment_id":38683372,"body_markdown":"Just be on the safe side, please include the output of `java -version` in the question body.","body":"Just be on the safe side, please include the output of <code>java -version</code> in the question body."},{"owner":{"account_id":147282,"reputation":33873,"user_id":358281,"display_name":"Varun"},"score":1,"creation_date":1406338745,"post_id":24898684,"comment_id":38807758,"body_markdown":"I think you cant run Android Studio with Java 8. I installed Studio on a Mac Yosemite today and studio complained that it needed Java 6. Try installing java 7. On windows I used to have a Java 7 installed.","body":"I think you cant run Android Studio with Java 8. I installed Studio on a Mac Yosemite today and studio complained that it needed Java 6. Try installing java 7. On windows I used to have a Java 7 installed."},{"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"score":0,"creation_date":1406418866,"post_id":24898684,"comment_id":38826265,"body_markdown":"Well, that&#39;s my assumption too that it doesn&#39;t runs with java 8 .. but why and where it is reported ? as I can&#39;t see any where this thing listed ..","body":"Well, that&#39;s my assumption too that it doesn&#39;t runs with java 8 .. but why and where it is reported ? as I can&#39;t see any where this thing listed .."},{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1406441184,"post_id":24898684,"comment_id":38829479,"body_markdown":"Read the system requirements at developer.android.com","body":"Read the system requirements at developer.android.com"},{"owner":{"account_id":1855114,"reputation":364,"user_id":1680876,"display_name":"krunal shah"},"score":0,"creation_date":1441953652,"post_id":24898684,"comment_id":52892340,"body_markdown":"make sure java bin path also set in &quot;system variables&quot;.","body":"make sure java bin path also set in &quot;system variables&quot;."},{"owner":{"account_id":125851,"reputation":774,"user_id":321922,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1454038125,"post_id":24898684,"comment_id":57875296,"body_markdown":"For those getting this error on Windows 10, try installing JDK 7 64-bit from here - it worked for me. http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html","body":"For those getting this error on Windows 10, try installing JDK 7 64-bit from here - it worked for me. <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>"},{"owner":{"account_id":7009562,"reputation":529,"user_id":5376073,"accept_rate":80,"display_name":"Tomislav Brabec"},"score":0,"creation_date":1615216662,"post_id":24898684,"comment_id":117616039,"body_markdown":"I have [answered on another thread](https://stackoverflow.com/a/66532284/5376073) what was working for me.","body":"I have <a href=\"https://stackoverflow.com/a/66532284/5376073\">answered on another thread</a> what was working for me."}],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406436392,"creation_date":1406337820,"answer_id":24966609,"question_id":24898684,"body_markdown":"According to Oracle&#39;s [installation notes](http://www.oracle.com/technetwork/java/javase/documentation/install-windows-142126.html), you should download/install [JDK for the correct system](http://download.oracle.com/otn-pub/java/jdk/8u11-b12/jdk-8u11-windows-x64.exe). For your convenience, I have linked to it from the sentence above. If you still encounter problems, leave a comment. I have written some quick code that will tell you if [your JVM is 64 or 32-bit](https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program), below. I&#39;d suggest you run this class and leave a comment as to its output:\r\n\r\n    public class CheckMemoryMode {\r\n        public static void main(String[] args) {\r\n            System.err.println(System.getProperty(&quot;sun.arch.data.model&quot;));\r\n        }\r\n    }","title":"Android Studio - No JVM Installation found","body":"<p>According to Oracle's <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/install-windows-142126.html\" rel=\"nofollow noreferrer\">installation notes</a>, you should download/install <a href=\"http://download.oracle.com/otn-pub/java/jdk/8u11-b12/jdk-8u11-windows-x64.exe\" rel=\"nofollow noreferrer\">JDK for the correct system</a>. For your convenience, I have linked to it from the sentence above. If you still encounter problems, leave a comment. I have written some quick code that will tell you if <a href=\"https://stackoverflow.com/questions/2062020/how-can-i-tell-if-im-running-in-64-bit-jvm-or-32-bit-jvm-from-within-a-program\">your JVM is 64 or 32-bit</a>, below. I'd suggest you run this class and leave a comment as to its output:</p>\n\n<pre><code>public class CheckMemoryMode {\n    public static void main(String[] args) {\n        System.err.println(System.getProperty(\"sun.arch.data.model\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":469429,"reputation":3282,"user_id":876001,"accept_rate":100,"display_name":"Martin Revert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406601406,"creation_date":1406601406,"answer_id":25007422,"question_id":24898684,"body_markdown":"Uninstall Java 8 and clean your JDK_HOME and your JAVA_HOME enviromental paths. Then install 64bit JAVA 6 or 7 JDK of your preference.","title":"Android Studio - No JVM Installation found","body":"<p>Uninstall Java 8 and clean your JDK_HOME and your JAVA_HOME enviromental paths. Then install 64bit JAVA 6 or 7 JDK of your preference.</p>\n"},{"tags":[],"owner":{"account_id":2882320,"reputation":684,"user_id":2472905,"display_name":"Robert Dean"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1418638669,"creation_date":1406680171,"answer_id":25027037,"question_id":24898684,"body_markdown":"I reproduced your issue on my **Windows 8.1** system :\r\n\r\n 1. Installed [64-bit JDK 1.8.0_11][1].\r\n 2. Installed latest Android Studio Bundle.\r\n 3. Went to **Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables...**\r\n 4. Added **JDK_HOME** pointing to my 64-bit JDK.\r\n 5. Launched **studio64.exe**\r\n\r\nI got the same message you did. Thinking that it might be the environment variable, I did the following :\r\n\r\n 1. Went to **Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables...**\r\n 2. Changed the name of **JDK_HOME** to **JAVA_HOME**.\r\n 3. Launched **studio64.exe**\r\n\r\nIt came up successfully !\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"Android Studio - No JVM Installation found","body":"<p>I reproduced your issue on my <strong>Windows 8.1</strong> system :</p>\n\n<ol>\n<li>Installed <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">64-bit JDK 1.8.0_11</a>.</li>\n<li>Installed latest Android Studio Bundle.</li>\n<li>Went to <strong>Control Panel -> System -> Advanced system settings -> Environment Variables...</strong></li>\n<li>Added <strong>JDK_HOME</strong> pointing to my 64-bit JDK.</li>\n<li>Launched <strong>studio64.exe</strong></li>\n</ol>\n\n<p>I got the same message you did. Thinking that it might be the environment variable, I did the following :</p>\n\n<ol>\n<li>Went to <strong>Control Panel -> System -> Advanced system settings -> Environment Variables...</strong></li>\n<li>Changed the name of <strong>JDK_HOME</strong> to <strong>JAVA_HOME</strong>.</li>\n<li>Launched <strong>studio64.exe</strong></li>\n</ol>\n\n<p>It came up successfully !</p>\n"},{"tags":[],"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1406877201,"creation_date":1406795112,"answer_id":25054118,"question_id":24898684,"body_markdown":"I had the same problem. I tried setting all kind of paths but nothing worked. So I had to do some dirty fix. The only problem with this is that it opens a blank command line window.\r\n\r\nI did the following to make it work.\r\n\r\n * goto the AndroidStudio installation folder.\r\n * goto `bin` folder and open `studio.bat` in text editor\r\n * add `set JAVA_HOME=C:\\Program Files\\Java2\\jdk1.8.0`//your java path after the ECHO line.\r\n * goto `Start` -&gt; `All Programmes` -&gt; `Android Studio` -&gt; \r\n * right click on `Android Studio` and click on `properties`.\r\n * You will see the `Target` something like `&lt;installation path&gt;android-studio\\bin\\studio64.exe`\r\n * change it to `&lt;installation path&gt;android-studio\\bin\\studio.bat`\r\n\r\nNow you can access it by clicking it from the menu.\r\n\r\n**Note :** I tried it with 8, It works.","title":"Android Studio - No JVM Installation found","body":"<p>I had the same problem. I tried setting all kind of paths but nothing worked. So I had to do some dirty fix. The only problem with this is that it opens a blank command line window.</p>\n\n<p>I did the following to make it work.</p>\n\n<ul>\n<li>goto the AndroidStudio installation folder.</li>\n<li>goto <code>bin</code> folder and open <code>studio.bat</code> in text editor</li>\n<li>add <code>set JAVA_HOME=C:\\Program Files\\Java2\\jdk1.8.0</code>//your java path after the ECHO line.</li>\n<li>goto <code>Start</code> -> <code>All Programmes</code> -> <code>Android Studio</code> -> </li>\n<li>right click on <code>Android Studio</code> and click on <code>properties</code>.</li>\n<li>You will see the <code>Target</code> something like <code>&lt;installation path&gt;android-studio\\bin\\studio64.exe</code></li>\n<li>change it to <code>&lt;installation path&gt;android-studio\\bin\\studio.bat</code></li>\n</ul>\n\n<p>Now you can access it by clicking it from the menu.</p>\n\n<p><strong>Note :</strong> I tried it with 8, It works.</p>\n"},{"tags":[],"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1406867489,"creation_date":1406867489,"answer_id":25072904,"question_id":24898684,"body_markdown":"I think Android does not support Java 8. Officially android need java 6 as mentioned at the below: \r\n\r\nhttps://developer.android.com/sdk/installing/installing-adt.html\r\n\r\nHere I&#39;m providing you a good link, hope those will clear this question :\r\n\r\nhttps://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development","title":"Android Studio - No JVM Installation found","body":"<p>I think Android does not support Java 8. Officially android need java 6 as mentioned at the below: </p>\n\n<p><a href=\"https://developer.android.com/sdk/installing/installing-adt.html\" rel=\"nofollow noreferrer\">https://developer.android.com/sdk/installing/installing-adt.html</a></p>\n\n<p>Here I'm providing you a good link, hope those will clear this question :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\">Is it possible to use Java 8 for Android development?</a></p>\n"},{"tags":[],"owner":{"account_id":4911830,"reputation":127,"user_id":3956934,"display_name":"fatah amine"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1408460886,"creation_date":1408460886,"answer_id":25386926,"question_id":24898684,"body_markdown":"1-Right click on Android Studio and click on properties.\r\n\r\n2-Replace studio64.exe in link by studio.exe.","title":"Android Studio - No JVM Installation found","body":"<p>1-Right click on Android Studio and click on properties.</p>\n\n<p>2-Replace studio64.exe in link by studio.exe.</p>\n"},{"tags":[],"owner":{"account_id":5204800,"reputation":1,"user_id":4163099,"display_name":"Alberto Saint Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419324596,"creation_date":1413829447,"answer_id":26472377,"question_id":24898684,"body_markdown":"In my case\r\n\r\nIn `Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables` there is no `JDK_HOME` OR `JAVA_HOME`\r\n\r\nSO\r\n\r\n **I added** an entry named: **JDK_HOME**   pointing to: **C:\\Program Files\\Java\\jdk1.8.0_25\\\\** (you have to point this to your JDK instalation path)\r\n\r\n\r\nAnd all seems to work fine now","title":"Android Studio - No JVM Installation found","body":"<p>In my case</p>\n\n<p>In <code>Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables</code> there is no <code>JDK_HOME</code> OR <code>JAVA_HOME</code></p>\n\n<p>SO</p>\n\n<p><strong>I added</strong> an entry named: <strong>JDK_HOME</strong>   pointing to: <strong>C:\\Program Files\\Java\\jdk1.8.0_25\\</strong> (you have to point this to your JDK instalation path)</p>\n\n<p>And all seems to work fine now</p>\n"},{"tags":[],"owner":{"account_id":1652470,"reputation":318,"user_id":1522765,"display_name":"Nigel Crasto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419323674,"creation_date":1414213158,"answer_id":26559477,"question_id":24898684,"body_markdown":"Android Studio Works Perfectly fine with `Java 1.8` or `Java 8`. I was also having invalid JVM error. The reason was including &quot;;&quot; (semicolon) at the end of `JAVA_HOME` path value. The correct format for path value is:\r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_xx  (Replace xx with your current version)\r\n\r\nDo not include `;` (semicolon) at the end of `JAVA_HOME` value","title":"Android Studio - No JVM Installation found","body":"<p>Android Studio Works Perfectly fine with <code>Java 1.8</code> or <code>Java 8</code>. I was also having invalid JVM error. The reason was including \";\" (semicolon) at the end of <code>JAVA_HOME</code> path value. The correct format for path value is:</p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.8.0_xx  (Replace xx with your current version)</p>\n</blockquote>\n\n<p>Do not include <code>;</code> (semicolon) at the end of <code>JAVA_HOME</code> value</p>\n"},{"tags":[],"owner":{"account_id":5292740,"reputation":25,"user_id":4224789,"display_name":"Nico"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1415312204,"creation_date":1415312204,"answer_id":26790440,"question_id":24898684,"body_markdown":"Here comes the solution. \r\n\r\nJust start ANDROID STUDIO as **administrator** if you are using a non administrator windows profile!\r\n\r\nIf your environment variables are correct that will do the trick. Enjoy!","title":"Android Studio - No JVM Installation found","body":"<p>Here comes the solution. </p>\n\n<p>Just start ANDROID STUDIO as <strong>administrator</strong> if you are using a non administrator windows profile!</p>\n\n<p>If your environment variables are correct that will do the trick. Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":5378497,"reputation":11,"user_id":4284548,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416754910,"creation_date":1416754910,"answer_id":27090318,"question_id":24898684,"body_markdown":"* For me this turns out to be Environment Variables not being inherited.\r\n* Quick answer: reboot, than click on studio.bat, not studio.exe or studio64.exe\r\n\r\n================ Details =================\r\n\r\n* &quot;Right Click&quot;-&quot;Run as Administrator&quot; works for me **if**:\r\n**  JDK_HOME or JAVA_HOME was set. (PATH didn&#39;t need to be changed for me)\r\n** I run studio.bat, not studio.exe\r\n** Note: By Default I am an administrator on a Microsoft Account (That Microsoft part may be affecting things), and I seldom reboot. I&#39;m running Win8.1 64bit. I installed both JDKv1.8.0.0_25 32bit and 64 bit, and had JRE 32bit and 64 bit already installed (used by other software). \r\n\r\n* I found there was a difference in clicking on studio.bat, studio.exe, and running studio.bat from a command prompt. There is also a difference if I rebooted or not.\r\n\r\n* The difference: The System Environment Variables aren&#39;t all there depending on how I start the program.\r\n* To test:\r\n\r\n* In start menu drag a copy of &quot;command prompt&quot; to your desktop, then change properties so &quot;Start In&quot; is location of studio.bat\r\n* copy studio.bat to studio_debug.bat (one we can mess with)\r\n* drag a shortcut of studio_debug.bat to desktop for convenience.\r\n* edit studio_debug.bat (right click --&gt; edit) \r\n\r\n== Change:\r\n\r\n    @echo off\r\n\r\n== to \r\n\r\n    @echo on         \r\n    echo Set===================\r\n    set\r\n    echo ======================\r\n    pause\r\n\r\n* This may also help in debugging studio.bat:\r\n\r\n== change:\r\n\r\n    &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n\r\n== to\r\n\r\n    echo =================\r\n    echo Starting: &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n    pause\r\n    &quot;%JAVA_EXE%&quot; %ALL_JVM_ARGS% -cp &quot;%CLASS_PATH%&quot; %MAIN_CLASS_NAME% %*\r\n    echo =================\r\n\r\n* Now when you run studio.bat from command prompt versus double clicking you may see difference in environment variables including JAVA_HOME and PATH. If you do you have same problem as me. \r\n\r\n* The problem seems to depend on: \r\n 1. did you reboot since changing environment variables?\r\n 2. didn&#39;t seem to matter if I was local or microsoft account\r\n 3. may depend whether you are an administrator or other account type\r\n 4. whether you start using studio.bat, studio.exe, or studio64.exe\r\n\r\n* .\r\n* FYI: The actual successful startup command executed by studio.bat on my system was as follows (includes studio64.exe):\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe&quot; &quot;-Xms128m&quot; &quot;-Xmx750m&quot; &quot;-XX:MaxPermSize=350m&quot; &quot;-XX:ReservedCodeCacheSize=96m&quot; &quot;-ea&quot; &quot;-Dsun.io.useCanonCaches=false&quot; &quot;-Djava.net.preferIPv4Stack=true&quot; &quot;-Djsse.enableSNIExtension=false&quot; &quot;-XX:+UseCodeCacheFlushing&quot; &quot;-XX:+UseConcMarkSweepGC&quot; &quot;-XX:SoftRefLRUPolicyMSPerMB=50&quot; &quot;-XX:+HeapDumpOnOutOfMemoryError&quot; &quot;-Didea.platform.prefix=AndroidStudio&quot; &quot;-Didea.paths.selector=AndroidStudioBeta&quot; -Djb.vmOptionsFile=&quot;C:\\android-studio\\bin\\\\studio64.exe.vmoptions&quot; &quot;-Xbootclasspath/a:C:\\android-studio\\bin\\\\../lib/boot.jar&quot; -Didea.paths.selector=AndroidStudioBeta  -Didea.platform.prefix=AndroidStudio  -cp &quot;C:\\android-studio\\bin\\\\..\\lib\\bootstrap.jar;C:\\android-studio\\bin\\\\..\\lib\\extensions.jar;C:\\android-studio\\bin\\\\..\\lib\\util.jar;C:\\android-studio\\bin\\\\..\\lib\\jdom.jar;C:\\android-studio\\bin\\\\..\\lib\\log4j.jar;C:\\android-studio\\bin\\\\..\\lib\\trove4j.jar;C:\\android-studio\\bin\\\\..\\lib\\jna.jar;C:\\Program Files\\Java\\jdk1.8.0_25\\lib\\tools.jar&quot; com.intellij.idea.Main\r\n\r\n* Hope that helps someone else.\r\n\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<ul>\n<li>For me this turns out to be Environment Variables not being inherited.</li>\n<li>Quick answer: reboot, than click on studio.bat, not studio.exe or studio64.exe</li>\n</ul>\n\n<p>================ Details =================</p>\n\n<ul>\n<li><p>\"Right Click\"-\"Run as Administrator\" works for me <strong>if</strong>:\n**  JDK_HOME or JAVA_HOME was set. (PATH didn't need to be changed for me)\n** I run studio.bat, not studio.exe\n** Note: By Default I am an administrator on a Microsoft Account (That Microsoft part may be affecting things), and I seldom reboot. I'm running Win8.1 64bit. I installed both JDKv1.8.0.0_25 32bit and 64 bit, and had JRE 32bit and 64 bit already installed (used by other software). </p></li>\n<li><p>I found there was a difference in clicking on studio.bat, studio.exe, and running studio.bat from a command prompt. There is also a difference if I rebooted or not.</p></li>\n<li><p>The difference: The System Environment Variables aren't all there depending on how I start the program.</p></li>\n<li><p>To test:</p></li>\n<li><p>In start menu drag a copy of \"command prompt\" to your desktop, then change properties so \"Start In\" is location of studio.bat</p></li>\n<li>copy studio.bat to studio_debug.bat (one we can mess with)</li>\n<li>drag a shortcut of studio_debug.bat to desktop for convenience.</li>\n<li>edit studio_debug.bat (right click --> edit) </li>\n</ul>\n\n<p>== Change:</p>\n\n<pre><code>@echo off\n</code></pre>\n\n<p>== to </p>\n\n<pre><code>@echo on         \necho Set===================\nset\necho ======================\npause\n</code></pre>\n\n<ul>\n<li>This may also help in debugging studio.bat:</li>\n</ul>\n\n<p>== change:</p>\n\n<pre><code>\"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\n</code></pre>\n\n<p>== to</p>\n\n<pre><code>echo =================\necho Starting: \"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\npause\n\"%JAVA_EXE%\" %ALL_JVM_ARGS% -cp \"%CLASS_PATH%\" %MAIN_CLASS_NAME% %*\necho =================\n</code></pre>\n\n<ul>\n<li><p>Now when you run studio.bat from command prompt versus double clicking you may see difference in environment variables including JAVA_HOME and PATH. If you do you have same problem as me. </p></li>\n<li><p>The problem seems to depend on: </p>\n\n<ol>\n<li>did you reboot since changing environment variables?</li>\n<li>didn't seem to matter if I was local or microsoft account</li>\n<li>may depend whether you are an administrator or other account type</li>\n<li>whether you start using studio.bat, studio.exe, or studio64.exe</li>\n</ol></li>\n<li><p>.</p></li>\n<li><p>FYI: The actual successful startup command executed by studio.bat on my system was as follows (includes studio64.exe):</p>\n\n<p>\"C:\\Program Files\\Java\\jdk1.8.0_25\\bin\\java.exe\" \"-Xms128m\" \"-Xmx750m\" \"-XX:MaxPermSize=350m\" \"-XX:ReservedCodeCacheSize=96m\" \"-ea\" \"-Dsun.io.useCanonCaches=false\" \"-Djava.net.preferIPv4Stack=true\" \"-Djsse.enableSNIExtension=false\" \"-XX:+UseCodeCacheFlushing\" \"-XX:+UseConcMarkSweepGC\" \"-XX:SoftRefLRUPolicyMSPerMB=50\" \"-XX:+HeapDumpOnOutOfMemoryError\" \"-Didea.platform.prefix=AndroidStudio\" \"-Didea.paths.selector=AndroidStudioBeta\" -Djb.vmOptionsFile=\"C:\\android-studio\\bin\\studio64.exe.vmoptions\" \"-Xbootclasspath/a:C:\\android-studio\\bin\\../lib/boot.jar\" -Didea.paths.selector=AndroidStudioBeta  -Didea.platform.prefix=AndroidStudio  -cp \"C:\\android-studio\\bin\\..\\lib\\bootstrap.jar;C:\\android-studio\\bin\\..\\lib\\extensions.jar;C:\\android-studio\\bin\\..\\lib\\util.jar;C:\\android-studio\\bin\\..\\lib\\jdom.jar;C:\\android-studio\\bin\\..\\lib\\log4j.jar;C:\\android-studio\\bin\\..\\lib\\trove4j.jar;C:\\android-studio\\bin\\..\\lib\\jna.jar;C:\\Program Files\\Java\\jdk1.8.0_25\\lib\\tools.jar\" com.intellij.idea.Main</p></li>\n<li><p>Hope that helps someone else.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5420233,"reputation":23,"user_id":4314101,"display_name":"Orlando S. Gondar"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1419324596,"creation_date":1417491173,"answer_id":27241404,"question_id":24898684,"body_markdown":"For crying out loud this is so VERY EASY TO Fix!!\r\n\r\n 1. Go to : &quot;Control Panel\\All Control Panel Items\\System&quot; once there click on &quot;Advanced system settings&quot; on the left hand side\r\n\r\n 2. The window that pops shows a box that says says `Environment Variables`! Click it.\r\n\r\n 3. Click &quot;add new&quot; to add new variable.\r\n\r\n 4. Type `JAVA_HOME` in the first box and in the second box the address to, IE / in my case `C:\\Program Files\\Java\\jdk1.8.0_25` save it. exit everything. THATS IT!! \r\n\r\nEnjoy Android Studio! \r\nObviously for the above to work you have to install java first or how else can you use it or point to it on your pc and all that. The above instructions are amazingly mislead and complicated. For the record I am on widows 8.1, YES it works on latest windows and is ridiculously simple to fix.\r\n\r\n-OSG","title":"Android Studio - No JVM Installation found","body":"<p>For crying out loud this is so VERY EASY TO Fix!!</p>\n\n<ol>\n<li><p>Go to : \"Control Panel\\All Control Panel Items\\System\" once there click on \"Advanced system settings\" on the left hand side</p></li>\n<li><p>The window that pops shows a box that says says <code>Environment Variables</code>! Click it.</p></li>\n<li><p>Click \"add new\" to add new variable.</p></li>\n<li><p>Type <code>JAVA_HOME</code> in the first box and in the second box the address to, IE / in my case <code>C:\\Program Files\\Java\\jdk1.8.0_25</code> save it. exit everything. THATS IT!! </p></li>\n</ol>\n\n<p>Enjoy Android Studio! \nObviously for the above to work you have to install java first or how else can you use it or point to it on your pc and all that. The above instructions are amazingly mislead and complicated. For the record I am on widows 8.1, YES it works on latest windows and is ridiculously simple to fix.</p>\n\n<p>-OSG</p>\n"},{"tags":[],"owner":{"account_id":5065444,"reputation":57,"user_id":4065643,"display_name":"6abhishek jha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419323673,"creation_date":1418823483,"answer_id":27526867,"question_id":24898684,"body_markdown":"Make sure you set the path in the `SYSTEM VARIABLES` not in the `USER VARIABLES` also.....name the variable name as `JAVA_HOME` and the address as `C:\\Program Files\\Java\\jdk1.8.0_25\\`    be sure that you didn&#39;t place any semicolon. ","title":"Android Studio - No JVM Installation found","body":"<p>Make sure you set the path in the <code>SYSTEM VARIABLES</code> not in the <code>USER VARIABLES</code> also.....name the variable name as <code>JAVA_HOME</code> and the address as <code>C:\\Program Files\\Java\\jdk1.8.0_25\\</code>    be sure that you didn't place any semicolon. </p>\n"},{"tags":[],"owner":{"account_id":2640300,"reputation":1317,"user_id":2284107,"accept_rate":60,"display_name":"kAmol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419047984,"creation_date":1419047984,"answer_id":27576779,"question_id":24898684,"body_markdown":"Just make sure that the installed version of both, Android Studio and JDK, are of either 32-bit or 64-bit. If JDK is of 32-bit and Android Studio of 64-bit or vice-verse, then it won&#39;t work though you set up JAVA_HOME.","title":"Android Studio - No JVM Installation found","body":"<p>Just make sure that the installed version of both, Android Studio and JDK, are of either 32-bit or 64-bit. If JDK is of 32-bit and Android Studio of 64-bit or vice-verse, then it won't work though you set up JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":5216290,"reputation":2431,"user_id":4818540,"accept_rate":56,"display_name":"Farshid Shekari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419497787,"creation_date":1419248858,"answer_id":27602108,"question_id":24898684,"body_markdown":"You must just install jdk1.8.0 and then right click on my computer icon and then select properties,then in left panel, select advanced system settings, then in dialog bog select Environment Variables, then in that&#39;s dialog box,in section user variables create new variable that&#39;s name must be `JAVA_HOME` and path is `C:\\Program Files\\Java\\jdk1.8.0`(in my pc) then sytem variable section, select `PATH` variable and append it&#39;s end this path `C:\\Program Files\\Java\\jdk1.8.0\\bin` and then select ok for all dialog box and after this steps run Android studio. And for test, run cmd in windows and run this command `java -version` if returned a java version and ... it is installed correctly.  \r\n\r\nNote: I get answer in windows 8.1 64 bit.","title":"Android Studio - No JVM Installation found","body":"<p>You must just install jdk1.8.0 and then right click on my computer icon and then select properties,then in left panel, select advanced system settings, then in dialog bog select Environment Variables, then in that's dialog box,in section user variables create new variable that's name must be <code>JAVA_HOME</code> and path is <code>C:\\Program Files\\Java\\jdk1.8.0</code>(in my pc) then sytem variable section, select <code>PATH</code> variable and append it's end this path <code>C:\\Program Files\\Java\\jdk1.8.0\\bin</code> and then select ok for all dialog box and after this steps run Android studio. And for test, run cmd in windows and run this command <code>java -version</code> if returned a java version and ... it is installed correctly.  </p>\n\n<p>Note: I get answer in windows 8.1 64 bit.</p>\n"},{"tags":[],"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1419758364,"creation_date":1419757935,"answer_id":27675089,"question_id":24898684,"body_markdown":"This is tested on my Windows 7 64Bit machine.\r\n\r\nQuite strange... I had the same issue - WHILE IntelliJ Idea (including the Android Plug-in) was working perfectly. \r\n\r\nHowever, here is what I did to get Android Studio 1.0 working (no step missing -&gt; maybe it will help programming beginners).\r\n\r\nJust set up a **new** environment variable by...\r\n\r\n1. pressing Windows-Key and typing ***env***... you&#39;ll see &quot;Edit the system environment variables&quot;. Click! \r\n2. Now click &quot;Environment Variables...&quot;\r\n3. Under **System variables** (NOT &quot;User variables&quot;) add a new entry named `JAVA_HOME` and set the value to your Java folder (like `C:\\Program Files\\Java\\jdk1.8.0_25`)\r\n4. apply and you are good to go. \r\n\r\nPS: I don&#39;t know why some people writing about nuclear science when they want to explain how to set the Java path..","title":"Android Studio - No JVM Installation found","body":"<p>This is tested on my Windows 7 64Bit machine.</p>\n\n<p>Quite strange... I had the same issue - WHILE IntelliJ Idea (including the Android Plug-in) was working perfectly. </p>\n\n<p>However, here is what I did to get Android Studio 1.0 working (no step missing -> maybe it will help programming beginners).</p>\n\n<p>Just set up a <strong>new</strong> environment variable by...</p>\n\n<ol>\n<li>pressing Windows-Key and typing <strong><em>env</em></strong>... you'll see \"Edit the system environment variables\". Click! </li>\n<li>Now click \"Environment Variables...\"</li>\n<li>Under <strong>System variables</strong> (NOT \"User variables\") add a new entry named <code>JAVA_HOME</code> and set the value to your Java folder (like <code>C:\\Program Files\\Java\\jdk1.8.0_25</code>)</li>\n<li>apply and you are good to go. </li>\n</ol>\n\n<p>PS: I don't know why some people writing about nuclear science when they want to explain how to set the Java path..</p>\n"},{"tags":[],"owner":{"account_id":3534593,"reputation":1345,"user_id":2953225,"accept_rate":25,"display_name":"Testing Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478858055,"creation_date":1420739085,"answer_id":27846328,"question_id":24898684,"body_markdown":"`My JAVA_HOME` was pointing to `c:/jre` directly. So I changed it to `C:/java/jre` because it was confused to pick up which one to use, so I changed it to the specific one and it works for me. Note: It is better to have only one JRE install on your machine","title":"Android Studio - No JVM Installation found","body":"<p><code>My JAVA_HOME</code> was pointing to <code>c:/jre</code> directly. So I changed it to <code>C:/java/jre</code> because it was confused to pick up which one to use, so I changed it to the specific one and it works for me. Note: It is better to have only one JRE install on your machine</p>\n"},{"tags":[],"owner":{"account_id":4735230,"reputation":3415,"user_id":3829801,"display_name":"aknay"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1421116254,"creation_date":1421116254,"answer_id":27914068,"question_id":24898684,"body_markdown":"1 .Download 64 bit version of JDK from [here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n2. As shown in next picture, go to `Control Panel` -&gt; `System and Security` -&gt; `Advanced system settings` -&gt; `Environment Variables` -&gt; `New` (System variables)\r\n\r\n3. Then add variable name: JAVA_HOME and variable value: C:\\Program Files\\Java\\jdk1.8.0_25 \r\n\r\nPlease note that `jdk1.8.0_25` may be vary depending on JDK version. \r\n![enter image description here][3]\r\n\r\n4. Click OK button on the rest of the windows left.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: http://i.stack.imgur.com/d6atp.jpg\r\n  [3]: http://i.stack.imgur.com/fhIhz.jpg","title":"Android Studio - No JVM Installation found","body":"<p>1 .Download 64 bit version of JDK from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">here</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/d6atp.jpg\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li><p>As shown in next picture, go to <code>Control Panel</code> -> <code>System and Security</code> -> <code>Advanced system settings</code> -> <code>Environment Variables</code> -> <code>New</code> (System variables)</p></li>\n<li><p>Then add variable name: JAVA_HOME and variable value: C:\\Program Files\\Java\\jdk1.8.0_25 </p></li>\n</ol>\n\n<p>Please note that <code>jdk1.8.0_25</code> may be vary depending on JDK version. \n<img src=\"https://i.stack.imgur.com/fhIhz.jpg\" alt=\"enter image description here\"></p>\n\n<ol start=\"4\">\n<li>Click OK button on the rest of the windows left.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":290925,"reputation":475,"user_id":592751,"accept_rate":44,"display_name":"randall"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1421872370,"creation_date":1421871962,"answer_id":28076192,"question_id":24898684,"body_markdown":"Ok, was having this issue as well and this is what fixed it for me. For the record I&#39;m using Windows 8.1 and Java JDK 1.8.31, all 64-bit.\r\n\r\nThe problem is with the space between &quot;Program&quot; and &quot;Files&quot; in the path set in `JAVA_HOME`. I&#39;ve had this problem before but didn&#39;t really realize until I was checking the instructions [here](https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows) for setting `JAVA HOME`, then it all made sense.\r\n\r\nIn a nutshell, change the `JAVA_HOME` path from:\r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_31`\r\n\r\nto\r\n\r\n`C:\\Progra~1\\Java\\jdk1.8.0_31`\r\n\r\nMake sure to set the correct JDK version number for your installation. Removing the space from the path fixed everything on my system.\r\n\r\nAs noted on the page linked above,\r\n\r\nuse `C:\\Progra~1\\` for `C:\\Program Files\\`\r\n\r\nand `C:\\Progra~2\\` for `C:\\Program Files(x86)\\`\r\n\r\ndepending on where you have the JDK installed on your system.\r\n\r\n\r\nNote: Just to be clear, before making this change my system correctly echoed the value of `JAVA_HOME` to be `C:\\Program Files\\Java\\jdk1.8.0_31` in the command window, leading me to believe all was well. However, attempting to run `%JAVA_HOME%\\bin\\javac` reported that the path could not be found. After removing the space from the `JAVA_HOME` path the same command runs perfectly.","title":"Android Studio - No JVM Installation found","body":"<p>Ok, was having this issue as well and this is what fixed it for me. For the record I'm using Windows 8.1 and Java JDK 1.8.31, all 64-bit.</p>\n\n<p>The problem is with the space between \"Program\" and \"Files\" in the path set in <code>JAVA_HOME</code>. I've had this problem before but didn't really realize until I was checking the instructions <a href=\"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows\" rel=\"noreferrer\">here</a> for setting <code>JAVA HOME</code>, then it all made sense.</p>\n\n<p>In a nutshell, change the <code>JAVA_HOME</code> path from:</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_31</code></p>\n\n<p>to</p>\n\n<p><code>C:\\Progra~1\\Java\\jdk1.8.0_31</code></p>\n\n<p>Make sure to set the correct JDK version number for your installation. Removing the space from the path fixed everything on my system.</p>\n\n<p>As noted on the page linked above,</p>\n\n<p>use <code>C:\\Progra~1\\</code> for <code>C:\\Program Files\\</code></p>\n\n<p>and <code>C:\\Progra~2\\</code> for <code>C:\\Program Files(x86)\\</code></p>\n\n<p>depending on where you have the JDK installed on your system.</p>\n\n<p>Note: Just to be clear, before making this change my system correctly echoed the value of <code>JAVA_HOME</code> to be <code>C:\\Program Files\\Java\\jdk1.8.0_31</code> in the command window, leading me to believe all was well. However, attempting to run <code>%JAVA_HOME%\\bin\\javac</code> reported that the path could not be found. After removing the space from the <code>JAVA_HOME</code> path the same command runs perfectly.</p>\n"},{"tags":[],"owner":{"account_id":3182594,"reputation":332,"user_id":2688998,"display_name":"Gaurav Pangam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1423378337,"creation_date":1423378337,"answer_id":28391391,"question_id":24898684,"body_markdown":"The solution is given in the error itself, Goto My computer(Right click)--&gt;properties--&gt;Advanced system settings--&gt;Environment variables--&gt;Create new variable.\r\n\r\nGive the following details to it:\r\n\r\nVariable name : JAVA_HOME.\r\n\r\nVariable value : (your path to java jdk installation folder).\r\n\r\nTo find the path for java installation, go to program files in your window installation drive (normally C drive). Find folder named JAVA, in that navigate to JDK folder.\r\n\r\nCopy the link address from the top, and paste it in the Variable value .\r\n\r\nNow Press Ok and once environment variable gets created restart the android studio.\r\n\r\nHope it helps.","title":"Android Studio - No JVM Installation found","body":"<p>The solution is given in the error itself, Goto My computer(Right click)-->properties-->Advanced system settings-->Environment variables-->Create new variable.</p>\n\n<p>Give the following details to it:</p>\n\n<p>Variable name : JAVA_HOME.</p>\n\n<p>Variable value : (your path to java jdk installation folder).</p>\n\n<p>To find the path for java installation, go to program files in your window installation drive (normally C drive). Find folder named JAVA, in that navigate to JDK folder.</p>\n\n<p>Copy the link address from the top, and paste it in the Variable value .</p>\n\n<p>Now Press Ok and once environment variable gets created restart the android studio.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435001867,"creation_date":1435001867,"answer_id":30988392,"question_id":24898684,"body_markdown":"My fix was to **remove** the double quotes that I had enclosed the JAVA_HOME path in.\r\n\r\nInstead of declaring JAVA_HOME as &quot;C\\Program Files\\...&quot;\r\n\r\nI removed the &quot; and declared JAVA_HOME as C\\Program Files\\...\r\n\r\nI am on Win 7, x64","title":"Android Studio - No JVM Installation found","body":"<p>My fix was to <strong>remove</strong> the double quotes that I had enclosed the JAVA_HOME path in.</p>\n\n<p>Instead of declaring JAVA_HOME as \"C\\Program Files...\"</p>\n\n<p>I removed the \" and declared JAVA_HOME as C\\Program Files...</p>\n\n<p>I am on Win 7, x64</p>\n"},{"tags":[],"owner":{"account_id":3005450,"reputation":619,"user_id":2550068,"display_name":"Optimus Krish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435743692,"creation_date":1435743692,"answer_id":31157815,"question_id":24898684,"body_markdown":"I also faced the same issue. The solution which helped me was I downloaded and installed 64 bit JDK from this [link][1] and set the &quot;**java_home**&quot; variable to the new JDK installed path like C:\\Program Files\\Java\\jdk1.7.0_45. Hope this helps.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html","title":"Android Studio - No JVM Installation found","body":"<p>I also faced the same issue. The solution which helped me was I downloaded and installed 64 bit JDK from this <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"nofollow\">link</a> and set the \"<strong>java_home</strong>\" variable to the new JDK installed path like C:\\Program Files\\Java\\jdk1.7.0_45. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1855114,"reputation":364,"user_id":1680876,"display_name":"krunal shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442051991,"creation_date":1442051991,"answer_id":32537511,"question_id":24898684,"body_markdown":"if your &quot;enviornment variables&quot; set well, than try to update\r\n **Start &gt; All Programs &gt; Android Studio &gt; Android Studio**\r\n\r\ndo right click, click **Properties** and set **android studio sdk** path\r\n\r\nin \r\n\r\n**shortcut &gt; Target**\r\n","title":"Android Studio - No JVM Installation found","body":"<p>if your \"enviornment variables\" set well, than try to update\n <strong>Start > All Programs > Android Studio > Android Studio</strong></p>\n\n<p>do right click, click <strong>Properties</strong> and set <strong>android studio sdk</strong> path</p>\n\n<p>in </p>\n\n<p><strong>shortcut > Target</strong></p>\n"},{"tags":[],"owner":{"account_id":5494668,"reputation":89,"user_id":4366227,"display_name":"Mansi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452142957,"creation_date":1452142957,"answer_id":34647693,"question_id":24898684,"body_markdown":"If you are using **windows 7**, make sure you install jdk-xxxx-windows-x64.exe.\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\nI had previously installed 32 bit instead of 64 bit version hence it was installed in program files x(86) folder. But if you install 64 bit sdk setup, its installed in program files folder.\r\nThen set the JAVA_HOME=&#39;C:\\Program Files\\Java\\jdk1.8.0_65&#39;\r\nIt should work fine.\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<p>If you are using <strong>windows 7</strong>, make sure you install jdk-xxxx-windows-x64.exe.\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>\nI had previously installed 32 bit instead of 64 bit version hence it was installed in program files x(86) folder. But if you install 64 bit sdk setup, its installed in program files folder.\nThen set the JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_65'\nIt should work fine.</p>\n"},{"tags":[],"owner":{"account_id":4424737,"reputation":949,"user_id":3603499,"display_name":"Thanasis Kapelonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461838260,"creation_date":1461838260,"answer_id":36911509,"question_id":24898684,"body_markdown":"My variables pointed to other system variables so JDK_HOME was\r\n\r\n`%programfiles%\\Java\\jdk1.8.0_45`\r\n\r\nand i had to explicitly change it to\r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_45`\r\n\r\nSimilar for JAVA_HOME","title":"Android Studio - No JVM Installation found","body":"<p>My variables pointed to other system variables so JDK_HOME was</p>\n\n<p><code>%programfiles%\\Java\\jdk1.8.0_45</code></p>\n\n<p>and i had to explicitly change it to</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_45</code></p>\n\n<p>Similar for JAVA_HOME</p>\n"},{"tags":[],"owner":{"account_id":5771266,"reputation":492,"user_id":4554652,"display_name":"pradip garala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1464411166,"creation_date":1464411166,"answer_id":37495307,"question_id":24898684,"body_markdown":"**Control Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables**\r\n\r\nI changed **JAVA_HOME** to **JAVA** and again changed **JAVA** to **JAVA_HOME**.\r\n\r\nand Its working fine.\r\n\r\n","title":"Android Studio - No JVM Installation found","body":"<p><strong>Control Panel -> System -> Advanced system settings -> Environment Variables</strong></p>\n\n<p>I changed <strong>JAVA_HOME</strong> to <strong>JAVA</strong> and again changed <strong>JAVA</strong> to <strong>JAVA_HOME</strong>.</p>\n\n<p>and Its working fine.</p>\n"},{"tags":[],"owner":{"account_id":7492474,"reputation":156,"user_id":5693691,"display_name":"NelsonRoberts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466031769,"creation_date":1466031769,"answer_id":37847245,"question_id":24898684,"body_markdown":"Had the same problem after upgrading my machine from 7 to 10 had to reinstall the JDK all overgain and took me only a few seconds.\r\nHere are the steps I followed.\r\n\r\nGo to this link\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n\r\nAgree to oracle contact agreement.Then pick your windows version in my case is 64 bit after that its ..Next..Next,,once compete you can relaunch your Android studio without any problem. Hope this helps","title":"Android Studio - No JVM Installation found","body":"<p>Had the same problem after upgrading my machine from 7 to 10 had to reinstall the JDK all overgain and took me only a few seconds.\nHere are the steps I followed.</p>\n\n<p>Go to this link\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>Agree to oracle contact agreement.Then pick your windows version in my case is 64 bit after that its ..Next..Next,,once compete you can relaunch your Android studio without any problem. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":9046329,"reputation":704,"user_id":6738494,"accept_rate":100,"display_name":"RazaUsman_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520520374,"creation_date":1513467375,"answer_id":47850945,"question_id":24898684,"body_markdown":"I solved the problem in my case by deleting file \r\n\r\n&gt; **C:\\Users\\username\\.AndroidStudioX\\studio64.exe.vmoptions**\r\n\r\n ***( x denotes the version of your android studio so it can be different )*** , because I created it before to customize VM options.\r\nIt&#39;s that simple \r\n","title":"Android Studio - No JVM Installation found","body":"<p>I solved the problem in my case by deleting file </p>\n\n<blockquote>\n  <p><strong>C:\\Users\\username.AndroidStudioX\\studio64.exe.vmoptions</strong></p>\n</blockquote>\n\n<p><strong><em>( x denotes the version of your android studio so it can be different )</em></strong> , because I created it before to customize VM options.\nIt's that simple </p>\n"},{"tags":[],"owner":{"account_id":6973870,"reputation":117,"user_id":5349217,"display_name":"Vikram B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529399329,"creation_date":1529399329,"answer_id":50924551,"question_id":24898684,"body_markdown":"Add the your installation path and java path to the default system path by separating the ;\r\n\r\nRight click on My Computer--&gt;Properties--&gt;Advances System Setting--&gt;Advanced --&gt;Environment Variables--&gt;Under System Variables category find the &quot;Path&quot;--&gt;add the android installation path and java path by separating with ;...\r\n\r\nBelieve it works","title":"Android Studio - No JVM Installation found","body":"<p>Add the your installation path and java path to the default system path by separating the ;</p>\n\n<p>Right click on My Computer-->Properties-->Advances System Setting-->Advanced -->Environment Variables-->Under System Variables category find the \"Path\"-->add the android installation path and java path by separating with ;...</p>\n\n<p>Believe it works</p>\n"},{"tags":[],"owner":{"account_id":4757190,"reputation":1167,"user_id":3845649,"accept_rate":0,"display_name":"Kerim Tim."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535128203,"creation_date":1535128203,"answer_id":52008486,"question_id":24898684,"body_markdown":"If it does not work after setting paths in environment variables correctly,  \r\nReinstall Android Studio and it worked for me.","title":"Android Studio - No JVM Installation found","body":"<p>If it does not work after setting paths in environment variables correctly,<br>\nReinstall Android Studio and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2008634,"reputation":766,"user_id":1797735,"accept_rate":61,"display_name":"PHPFan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562783908,"creation_date":1562783908,"answer_id":56976796,"question_id":24898684,"body_markdown":"Under my Android Studio\\bin there are two folder\r\n\r\n\r\n studio.exe  and studio64.exe \r\n\r\nI tried to run the first program and it gives me the mentioned error.\r\n\r\nBut when running  studio64.exe it works.","title":"Android Studio - No JVM Installation found","body":"<p>Under my Android Studio\\bin there are two folder</p>\n\n<p>studio.exe  and studio64.exe </p>\n\n<p>I tried to run the first program and it gives me the mentioned error.</p>\n\n<p>But when running  studio64.exe it works.</p>\n"},{"tags":[],"owner":{"account_id":6534124,"reputation":33,"user_id":5322146,"display_name":"Cloud Strifes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166868,"creation_date":1674166868,"answer_id":75178884,"question_id":24898684,"body_markdown":"If setting JAVA_HOME not works, install Visual Studio C++, you can download &quot;all versions in one&quot; installer here: https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/","title":"Android Studio - No JVM Installation found","body":"<p>If setting JAVA_HOME not works, install Visual Studio C++, you can download &quot;all versions in one&quot; installer here: <a href=\"https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/\" rel=\"nofollow noreferrer\">https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/</a></p>\n"}],"owner":{"account_id":263359,"reputation":4826,"user_id":548854,"accept_rate":100,"display_name":"Qarib Haider"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247908,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":25054118,"answer_count":31,"score":90,"last_activity_date":1674166868,"creation_date":1406066777,"question_id":24898684,"body_markdown":"I&#39;m having issues trying to boot-up `Android Studio`\r\n\r\nWhen I try to launch it after installation I&#39;m getting this error:\r\n\r\n`No JVM Installation found. Please install a 64 bit JDK.`\r\n\r\n----------\r\n\r\n**My current system specification:**  \r\n\r\nOperating System: `Windows 8.0 64 bit version`  \r\nJDK installed: `JDK 1.8.0`  \r\n\r\n----------\r\n\r\n**What I have tried:**  \r\n\r\nI have tried what was reported in the error, and also in most of the solutions to set the `JDK_HOME` variable in environment variables to my JDK path (64 bit version) i.e. `C:\\Program Files\\Java\\jdk1.8.0_05`  \r\n\r\n*`*I also have tried rebooting system, just in case to test if the environment variable is not working without a restart`*\r\n\r\n----------\r\n\r\nI have seen these solutions and tried but none of them works, so don&#39;t mark it as a duplicate of any of these:   \r\nhttps://stackoverflow.com/questions/16574189/android-studio-installation-on-windows-7-fails-no-jdk-found  \r\nhttps://stackoverflow.com/questions/20033231/with-android-studio-no-jvm-found-java-home-has-been-set  \r\nhttps://stackoverflow.com/questions/16596520/android-studio-start-fails-on-windows-8-64bit  \r\nhttps://stackoverflow.com/questions/16574544/android-studio-does-not-launch-after-installation\r\n\r\n----------\r\n\r\nHere is the cmd output for java version:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/peGJ9.jpg","title":"Android Studio - No JVM Installation found","body":"<p>I'm having issues trying to boot-up <code>Android Studio</code></p>\n\n<p>When I try to launch it after installation I'm getting this error:</p>\n\n<p><code>No JVM Installation found. Please install a 64 bit JDK.</code></p>\n\n<hr>\n\n<p><strong>My current system specification:</strong>  </p>\n\n<p>Operating System: <code>Windows 8.0 64 bit version</code><br>\nJDK installed: <code>JDK 1.8.0</code>  </p>\n\n<hr>\n\n<p><strong>What I have tried:</strong>  </p>\n\n<p>I have tried what was reported in the error, and also in most of the solutions to set the <code>JDK_HOME</code> variable in environment variables to my JDK path (64 bit version) i.e. <code>C:\\Program Files\\Java\\jdk1.8.0_05</code>  </p>\n\n<p><em><code>*I also have tried rebooting system, just in case to test if the environment variable is not working without a restart</code></em></p>\n\n<hr>\n\n<p>I have seen these solutions and tried but none of them works, so don't mark it as a duplicate of any of these:<br>\n<a href=\"https://stackoverflow.com/questions/16574189/android-studio-installation-on-windows-7-fails-no-jdk-found\">Android Studio installation on Windows 7 fails, no JDK found</a><br>\n<a href=\"https://stackoverflow.com/questions/20033231/with-android-studio-no-jvm-found-java-home-has-been-set\">With android studio no jvm found, JAVA_HOME has been set</a><br>\n<a href=\"https://stackoverflow.com/questions/16596520/android-studio-start-fails-on-windows-8-64bit\">Android Studio start fails on Windows 8 64bit</a><br>\n<a href=\"https://stackoverflow.com/questions/16574544/android-studio-does-not-launch-after-installation\">Android Studio does not launch after installation</a></p>\n\n<hr>\n\n<p>Here is the cmd output for java version:</p>\n\n<p><img src=\"https://i.stack.imgur.com/peGJ9.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1553175506,"post_id":55281658,"comment_id":97293185,"body_markdown":"Your `CustomMethodSecurityExpressionRoot`  must be a spring component ! and to inject your `UserRepository`, you can do it by using `@Autowired`","body":"Your <code>CustomMethodSecurityExpressionRoot</code>  must be a spring component ! and to inject your <code>UserRepository</code>, you can do it by using <code>@Autowired</code>"},{"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"score":0,"creation_date":1553176125,"post_id":55281658,"comment_id":97293615,"body_markdown":"@TinyOS Thanks for your (very) fast reply ! I tried to add `@Component` at the top of the class &amp; set `@Autowired` to UserRepository and I have an exception when starting my server: `Error creating bean with name &#39;methodSecurityConfig&#39;: **Injection of autowired dependencies failed; nested exception is java.lang.RuntimeException: Could not postProcess` (sorry I&#39;m very new to SpringBoot, coming from Node.JS :p)","body":"@TinyOS Thanks for your (very) fast reply ! I tried to add <code>@Component</code> at the top of the class &amp; set <code>@Autowired</code> to UserRepository and I have an exception when starting my server: <code>Error creating bean with name &#39;methodSecurityConfig&#39;: **Injection of autowired dependencies failed; nested exception is java.lang.RuntimeException: Could not postProcess</code> (sorry I&#39;m very new to SpringBoot, coming from Node.JS :p)"},{"owner":{"account_id":2519330,"reputation":728,"user_id":2189998,"display_name":"user2189998"},"score":0,"creation_date":1553176739,"post_id":55281658,"comment_id":97294048,"body_markdown":"I&#39;m not familiar with SecurityExpressionRoot but that does not feel the right way to go.\n\nThe user should be already in the UserDetails at  this time, thus no call to database should be done in that expression.\n\nLook for DaoAuthenticationProvider and DaoAuthenticationProvider (spring security classes) for some pointers on how to do that.","body":"I&#39;m not familiar with SecurityExpressionRoot but that does not feel the right way to go.  The user should be already in the UserDetails at  this time, thus no call to database should be done in that expression.  Look for DaoAuthenticationProvider and DaoAuthenticationProvider (spring security classes) for some pointers on how to do that."},{"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"score":0,"creation_date":1553176977,"post_id":55281658,"comment_id":97294202,"body_markdown":"Thanks, I used this &quot;hack&quot; because user&#39;s informations in UserDetails was not updated (it seems user&#39;s informations was not refreshed from the database). I&#39;m going to check `DaoAuthenticationProvider` thanks for the tip !","body":"Thanks, I used this &quot;hack&quot; because user&#39;s informations in UserDetails was not updated (it seems user&#39;s informations was not refreshed from the database). I&#39;m going to check <code>DaoAuthenticationProvider</code> thanks for the tip !"}],"answers":[{"tags":[],"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553177900,"creation_date":1553177900,"answer_id":55282523,"question_id":55281658,"body_markdown":"If you can&#39;t make your class a spring component, the best approach is to pass `UserRepository` also in the constructor and pass it from a service as an argument.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>If you can't make your class a spring component, the best approach is to pass <code>UserRepository</code> also in the constructor and pass it from a service as an argument.</p>\n"},{"tags":[],"owner":{"account_id":10330710,"reputation":9,"user_id":7620621,"display_name":"dases"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641252624,"creation_date":1641247004,"answer_id":70571885,"question_id":55281658,"body_markdown":"the `CustomMethodSecurityExpressionRoot` must be a spring component and inject the `UserRepository` by using `@Autowired`.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>the <code>CustomMethodSecurityExpressionRoot</code> must be a spring component and inject the <code>UserRepository</code> by using <code>@Autowired</code>.</p>\n"},{"tags":[],"owner":{"account_id":14333512,"reputation":79,"user_id":10353679,"display_name":"argmnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166837,"creation_date":1674166837,"answer_id":75178883,"question_id":55281658,"body_markdown":"Maybe you can apply what is done in the link https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\r\nIn the MethodSecurityConfig she passes ApplicationContext to MethodSecurityExpressionHandler. And inside of MethodSecurityExpressionHandler she gets UserService bean from ApplicationContext and passes to CustomMethodSecurityExpressionRoot via setter.","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>Maybe you can apply what is done in the link <a href=\"https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\" rel=\"nofollow noreferrer\">https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f</a>\nIn the MethodSecurityConfig she passes ApplicationContext to MethodSecurityExpressionHandler. And inside of MethodSecurityExpressionHandler she gets UserService bean from ApplicationContext and passes to CustomMethodSecurityExpressionRoot via setter.</p>\n"}],"owner":{"account_id":6570811,"reputation":713,"user_id":5078902,"accept_rate":100,"display_name":"iStornZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1674166837,"creation_date":1553175332,"question_id":55281658,"body_markdown":"I had a problem on my SpringBoot server REST API. In fact, I created a custom security expression in order to check if a specific user is allowed to access to a ressource (this is not a role).\r\n\r\nSo my class extends **SecurityExpressionRoot** and implements **MethodSecurityExpressionOperations**. Everything is working fine (method called successfully) but I can&quot;t use my UserRepository attribute: it&#39;s null.\r\n\r\nSo my question is, how to be able to use **UserRepository** instance inside a **custom security expression** ?\r\n\r\nThanks in advance !\r\n\r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n        public CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n            super(authentication);\r\n        }\r\n    \r\n        @Inject\r\n        private UserRepository userRepository; // This is always null\r\n    \r\n        @Override\r\n        public void setFilterObject(Object o) { }\r\n    \r\n        @Override\r\n        public Object getFilterObject() { return null; }\r\n    \r\n        @Override\r\n        public void setReturnObject(Object o) { }\r\n    \r\n        @Override\r\n        public Object getReturnObject() { return null; }\r\n    \r\n        @Override\r\n        public Object getThis() { return null; }\r\n    \r\n        public boolean isValidated() {\r\n            UserDetails principalUser = (UserDetails)authentication.getPrincipal();\r\n    \r\n            Optional&lt;User&gt; userFromDatabase = userRepository.findOneByLogin(principalUser.getUsername()); // Username is found here\r\n            return userFromDatabase.map(user -&gt; { // Not executed because userFromDatabase is null :/\r\n                return true;\r\n            }).orElseThrow(() -&gt; {\r\n                return new UsernameNotFoundException(&quot;user was not found in the database&quot;);\r\n            });\r\n        }\r\n    }","title":"Can&#39;t access to UserRepository property inside a custom security expression","body":"<p>I had a problem on my SpringBoot server REST API. In fact, I created a custom security expression in order to check if a specific user is allowed to access to a ressource (this is not a role).</p>\n\n<p>So my class extends <strong>SecurityExpressionRoot</strong> and implements <strong>MethodSecurityExpressionOperations</strong>. Everything is working fine (method called successfully) but I can\"t use my UserRepository attribute: it's null.</p>\n\n<p>So my question is, how to be able to use <strong>UserRepository</strong> instance inside a <strong>custom security expression</strong> ?</p>\n\n<p>Thanks in advance !</p>\n\n<pre><code>public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    @Inject\n    private UserRepository userRepository; // This is always null\n\n    @Override\n    public void setFilterObject(Object o) { }\n\n    @Override\n    public Object getFilterObject() { return null; }\n\n    @Override\n    public void setReturnObject(Object o) { }\n\n    @Override\n    public Object getReturnObject() { return null; }\n\n    @Override\n    public Object getThis() { return null; }\n\n    public boolean isValidated() {\n        UserDetails principalUser = (UserDetails)authentication.getPrincipal();\n\n        Optional&lt;User&gt; userFromDatabase = userRepository.findOneByLogin(principalUser.getUsername()); // Username is found here\n        return userFromDatabase.map(user -&gt; { // Not executed because userFromDatabase is null :/\n            return true;\n        }).orElseThrow(() -&gt; {\n            return new UsernameNotFoundException(\"user was not found in the database\");\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1551374302,"post_id":54930449,"comment_id":96626423,"body_markdown":"what tom solved without code? show the code and explain the problem","body":"what tom solved without code? show the code and explain the problem"}],"answers":[{"tags":[],"owner":{"account_id":12158451,"reputation":341,"user_id":8876737,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1567808406,"creation_date":1567808406,"answer_id":57829115,"question_id":54930449,"body_markdown":"So, the Spring application collects metrics on all inbound and outbound API calls. These metrics may be queried to see how many times a certain URL has been called.\r\n\r\nIn your `public Maybevehicle call()` method, you are building the url by appending to a String. This will put every URL with a unique rfidtag in its own URI tag bucket. \r\n\r\nIn order to avoid this problem, you can use a uriVariables map:\r\n```\r\nString url = “http://url/{rfidtag}”;\r\nMap&lt;String, ?&gt; uriVariables = new HashMap&lt;&gt;();\r\nuriVariables.put(“rfidtag”, veh.getB().getRfidtag();\r\n…\r\nResponseEntity&lt;Bmwvehiclemain&gt; results = appRestTemplate\r\n        .exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class, uriVariables);\r\n```\r\nThis lets Spring collect metrics on `http://url/{rfidtag}` instead of having a URI tag for `http://url/rfidtag1`, `http://url/rfidtag2`, `http://url/rfidtag3`, and so forth. \r\n\r\nThis should reduce the number of URI tags your application is creating.\r\n\r\nThe default value for the maximum number of URI tags is 100. If you want metrics on more than that, you can customize it by setting its property value to something else. For example, my Spring application is configured with my `projectname-ws/src/main/resources/config/application.yml` file. In this file I could put something like\r\n```\r\nmanagement:\r\n  metrics:\r\n    web:\r\n      client:\r\n        max-uri-tags: 200\r\n      server:\r\n        max-uri-tags: 200\r\n```\r\nto increase the maximum number of URI tags used for metrics.\r\n\r\nIf you simply don’t want the `Reached the maximum number of URI tags for http.client.requests` warning, you can put \r\n```\r\n@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\r\n``` \r\nat the top of whatever class you run your application from which will rid you of the warning message but probably not resolve the underlying issue.","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>So, the Spring application collects metrics on all inbound and outbound API calls. These metrics may be queried to see how many times a certain URL has been called.</p>\n\n<p>In your <code>public Maybevehicle call()</code> method, you are building the url by appending to a String. This will put every URL with a unique rfidtag in its own URI tag bucket. </p>\n\n<p>In order to avoid this problem, you can use a uriVariables map:</p>\n\n<pre><code>String url = “http://url/{rfidtag}”;\nMap&lt;String, ?&gt; uriVariables = new HashMap&lt;&gt;();\nuriVariables.put(“rfidtag”, veh.getB().getRfidtag();\n…\nResponseEntity&lt;Bmwvehiclemain&gt; results = appRestTemplate\n        .exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class, uriVariables);\n</code></pre>\n\n<p>This lets Spring collect metrics on <code>http://url/{rfidtag}</code> instead of having a URI tag for <code>http://url/rfidtag1</code>, <code>http://url/rfidtag2</code>, <code>http://url/rfidtag3</code>, and so forth. </p>\n\n<p>This should reduce the number of URI tags your application is creating.</p>\n\n<p>The default value for the maximum number of URI tags is 100. If you want metrics on more than that, you can customize it by setting its property value to something else. For example, my Spring application is configured with my <code>projectname-ws/src/main/resources/config/application.yml</code> file. In this file I could put something like</p>\n\n<pre><code>management:\n  metrics:\n    web:\n      client:\n        max-uri-tags: 200\n      server:\n        max-uri-tags: 200\n</code></pre>\n\n<p>to increase the maximum number of URI tags used for metrics.</p>\n\n<p>If you simply don’t want the <code>Reached the maximum number of URI tags for http.client.requests</code> warning, you can put </p>\n\n<pre><code>@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\n</code></pre>\n\n<p>at the top of whatever class you run your application from which will rid you of the warning message but probably not resolve the underlying issue.</p>\n"},{"tags":[],"owner":{"account_id":3187733,"reputation":1050,"user_id":2692895,"display_name":"Michael Yakobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674166512,"creation_date":1674166512,"answer_id":75178843,"question_id":54930449,"body_markdown":"Indeed this warning is about HTTP requests that concatenate variable data to the URL instead of using variables. \r\nAnd, as Paul explained, you should replace URL concatenation with parametric URLs.\r\nAnother way, using the &quot;fluent style&quot;, to achieve this using web-client is:\r\n```java\r\nwebClient\r\n   .method(HttpMethod.GET)\r\n   .uri(&quot;/.../...s/{id}/overview&quot;, id)\r\n   .retrieve()\r\n```\r\n\r\nHowever, please note that ignoring such warning has its implications... \r\n\r\nFor example, if you are using Prometheus to scrape metrics from your app, using such concatenated URLs results with huge number of metrics such as `http_client_requests_seconds_count{clientName=&quot;...&quot;,environment=&quot;&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,region=&quot;&quot;,service_name=&quot;&quot;,status=&quot;200&quot;,uri=&quot;/api/.../1234-5678-90/...&quot;,}` (because spring cannot tell that two such requests that only differ in the &quot;id&quot; are actually the same). \r\n&lt;br&gt;\r\nSo, in addition to spamming your Prometheus, such metrics are mostly useless.\r\n\r\nIn my case, my app was using a library that in turn is using web-client and is concatenating URLs.\r\n&lt;b&gt;\r\nI was looking for a way to identify these calls so I can ask them to be fixed.\r\nEventually I found I could use the `actuator/prometheus` endpoint to see all the web-client metrics which indeed was huge because of this issue.","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>Indeed this warning is about HTTP requests that concatenate variable data to the URL instead of using variables.\nAnd, as Paul explained, you should replace URL concatenation with parametric URLs.\nAnother way, using the &quot;fluent style&quot;, to achieve this using web-client is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient\n   .method(HttpMethod.GET)\n   .uri(&quot;/.../...s/{id}/overview&quot;, id)\n   .retrieve()\n</code></pre>\n<p>However, please note that ignoring such warning has its implications...</p>\n<p>For example, if you are using Prometheus to scrape metrics from your app, using such concatenated URLs results with huge number of metrics such as <code>http_client_requests_seconds_count{clientName=&quot;...&quot;,environment=&quot;&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,region=&quot;&quot;,service_name=&quot;&quot;,status=&quot;200&quot;,uri=&quot;/api/.../1234-5678-90/...&quot;,}</code> (because spring cannot tell that two such requests that only differ in the &quot;id&quot; are actually the same).\n<br>\nSo, in addition to spamming your Prometheus, such metrics are mostly useless.</p>\n<p>In my case, my app was using a library that in turn is using web-client and is concatenating URLs.\n\nI was looking for a way to identify these calls so I can ask them to be fixed.\nEventually I found I could use the <code>actuator/prometheus</code> endpoint to see all the web-client metrics which indeed was huge because of this issue.</p>\n"}],"owner":{"account_id":13588864,"reputation":427,"user_id":9802794,"display_name":"Roro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20290,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1674166512,"creation_date":1551372186,"question_id":54930449,"body_markdown":"I receive this warning on my app.  I am reading rfidtags from about 30 readers at the same time.  Each time a tag comes in I am hitting the database to see if its in there. I have a rest api that I am using.  So I use a rest template to hit the rest api. Any ideas on how to solve this?  Thanks!\r\n\r\nHere&#39;s some of my code:\r\n\r\n    private void vehicleRequests(List&lt;Maybevehicle&gt; vehicles){\r\n\t\t//process list of unique tags to see if they are in the database and linked to a vehicle\r\n\t\tList&lt;Maybevehicle&gt; foundMaybeVehs= new ArrayList&lt;&gt;();\r\n\t\tList&lt;Maybevehicle&gt; notFound=new ArrayList&lt;&gt;();\r\n\t\t if(!vehicles.isEmpty()){\r\n\t\t\t\t for (Maybevehicle v: vehicles){\r\n\t\t\t\t\tFuture&lt;Maybevehicle&gt; r=aService.batchVehTags(v);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tMaybevehicle m=r.get(2000, TimeUnit.SECONDS);\r\n\t\t\t\t\t\tif(r.isDone()){\r\n\t\t\t\t\t\t\tif (!(m.getB().getVin().equals(&quot;notindb&quot;))){\r\n\t\t\t\t\t\t\t\tfoundMaybeVehs.add(m);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(InterruptedException | ExecutionException | TimeoutException e){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t\t \r\n\t\t\t\t  if(!foundMaybeVehs.isEmpty()){\r\n\t\t\t\t\t addLocation(foundMaybeVehs);\r\n\t\t\t\t }\r\n\t\t }else{\r\n\t\t\t log.info(&quot;no vehicles to check.&quot;);\r\n\t\t }\r\n\t\t \r\n\t}\t\t\r\n\r\n\r\n    @Override\r\n\tpublic Future&lt;Maybevehicle&gt; batchVehTags(Maybevehicle v) {\r\n\t\tFuture&lt;Maybevehicle&gt; future=null;\r\n\t\t\t try{\r\n\t\t\t\t\t SimpleTaskMaybeveh task=new SimpleTaskMaybeveh(v, appRestTemplate);\r\n\t\t\t\t\t  future=dbService.submit(task);\r\n\t\t\t\t\t\r\n\t\t\t\t }catch(Exception e){\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t }\r\n\t\t\t\t\r\n\t\t\t\treturn future;\r\n\t\t\t}\r\n\r\n\r\n\t \r\n\t \r\n    }\r\n\r\n    public class SimpleTaskMaybeveh implements Callable&lt;Maybevehicle&gt;{\r\n\t\r\n\tprivate RestTemplate appRestTemplate;\r\n\tprivate Maybevehicle veh;\r\n\t\r\n\tpublic SimpleTaskMaybeveh(Maybevehicle veh, RestTemplate appRestTemplate){\r\n\t\tthis.veh=veh;\r\n\t\tthis.appRestTemplate=appRestTemplate;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Maybevehicle call(){\r\n\t  String url=&quot;http://url/&quot;+veh.getB().getRfidtag();\r\n\t\tString authString= &quot;&quot;;\r\n\t    byte[] encodedAuth= Base64.encodeBase64(authString.getBytes(Charset.forName(&quot;US-ASCII&quot;)));\r\n\t    String authHeader=&quot;Basic &quot;+new String(encodedAuth);\r\n\t    HttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n\t\theaders.set(&quot;Authorization&quot;, authHeader);\r\n\t\tHttpEntity&lt;Bmwvehiclemain&gt; requestEntity=new HttpEntity &lt;Bmwvehiclemain&gt;(headers);\r\n\t\tResponseEntity&lt;Bmwvehiclemain&gt; results=appRestTemplate.exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class);\r\n\t\ttry{\r\n\t\t\tBmwvehiclemain n=results.getBody();\r\n\t\t\tMaybevehicle d=new Maybevehicle(n,veh.getNewtaglocation());\r\n\t\t\treturn d;\r\n\t\t}catch(Exception e){\r\n\t\t\tMaybevehicle notveh=new Maybevehicle(&quot;notindb&quot;);\r\n\t\t\treturn notveh;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n","title":"How do I solve &quot;Reached the maximum number of URI tags for http.client.requests&quot; warning?","body":"<p>I receive this warning on my app.  I am reading rfidtags from about 30 readers at the same time.  Each time a tag comes in I am hitting the database to see if its in there. I have a rest api that I am using.  So I use a rest template to hit the rest api. Any ideas on how to solve this?  Thanks!</p>\n\n<p>Here's some of my code:</p>\n\n<pre><code>private void vehicleRequests(List&lt;Maybevehicle&gt; vehicles){\n    //process list of unique tags to see if they are in the database and linked to a vehicle\n    List&lt;Maybevehicle&gt; foundMaybeVehs= new ArrayList&lt;&gt;();\n    List&lt;Maybevehicle&gt; notFound=new ArrayList&lt;&gt;();\n     if(!vehicles.isEmpty()){\n             for (Maybevehicle v: vehicles){\n                Future&lt;Maybevehicle&gt; r=aService.batchVehTags(v);\n\n                try{\n                    Maybevehicle m=r.get(2000, TimeUnit.SECONDS);\n                    if(r.isDone()){\n                        if (!(m.getB().getVin().equals(\"notindb\"))){\n                            foundMaybeVehs.add(m);\n                        }\n                        }\n                    }\n                }catch(InterruptedException | ExecutionException | TimeoutException e){\n\n                }\n             }\n\n              if(!foundMaybeVehs.isEmpty()){\n                 addLocation(foundMaybeVehs);\n             }\n     }else{\n         log.info(\"no vehicles to check.\");\n     }\n\n}       \n\n\n@Override\npublic Future&lt;Maybevehicle&gt; batchVehTags(Maybevehicle v) {\n    Future&lt;Maybevehicle&gt; future=null;\n         try{\n                 SimpleTaskMaybeveh task=new SimpleTaskMaybeveh(v, appRestTemplate);\n                  future=dbService.submit(task);\n\n             }catch(Exception e){\n                    e.printStackTrace();\n                 }\n\n            return future;\n        }\n\n\n\n\n}\n\npublic class SimpleTaskMaybeveh implements Callable&lt;Maybevehicle&gt;{\n\nprivate RestTemplate appRestTemplate;\nprivate Maybevehicle veh;\n\npublic SimpleTaskMaybeveh(Maybevehicle veh, RestTemplate appRestTemplate){\n    this.veh=veh;\n    this.appRestTemplate=appRestTemplate;\n}\n\n@Override\npublic Maybevehicle call(){\n  String url=\"http://url/\"+veh.getB().getRfidtag();\n    String authString= \"\";\n    byte[] encodedAuth= Base64.encodeBase64(authString.getBytes(Charset.forName(\"US-ASCII\")));\n    String authHeader=\"Basic \"+new String(encodedAuth);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    headers.set(\"Authorization\", authHeader);\n    HttpEntity&lt;Bmwvehiclemain&gt; requestEntity=new HttpEntity &lt;Bmwvehiclemain&gt;(headers);\n    ResponseEntity&lt;Bmwvehiclemain&gt; results=appRestTemplate.exchange(url, HttpMethod.GET, requestEntity, Bmwvehiclemain.class);\n    try{\n        Bmwvehiclemain n=results.getBody();\n        Maybevehicle d=new Maybevehicle(n,veh.getNewtaglocation());\n        return d;\n    }catch(Exception e){\n        Maybevehicle notveh=new Maybevehicle(\"notindb\");\n        return notveh;\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring","jdbc","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":11822,"reputation":18132,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1224257047,"creation_date":1224257047,"answer_id":212632,"question_id":212569,"body_markdown":"If you want to just perform a query and get the results, why don&#39;t you use plain jdbc and grab the resultset? Notice that you don&#39;t need spring to do just this.\r\n\r\n        Connection c = ...\r\n        c.prepareCall(&quot;select ...&quot;).getResultSet();\r\n\r\nBesides, you get an advantage by using an object as a DTO. You don&#39;t need to change your DTO class even if your data acess or your report tool changes (let&#39;s say you start using xquery instead of jdbc or you use apache-poi instead of jasper.","title":"getResultSet from Spring-JDBC","body":"<p>If you want to just perform a query and get the results, why don't you use plain jdbc and grab the resultset? Notice that you don't need spring to do just this.</p>\n\n<pre><code>    Connection c = ...\n    c.prepareCall(\"select ...\").getResultSet();\n</code></pre>\n\n<p>Besides, you get an advantage by using an object as a DTO. You don't need to change your DTO class even if your data acess or your report tool changes (let's say you start using xquery instead of jdbc or you use apache-poi instead of jasper.</p>\n"},{"tags":[],"owner":{"account_id":972323,"reputation":667,"user_id":994605,"display_name":"Bill Poitras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319682911,"creation_date":1319682911,"answer_id":7911154,"question_id":212569,"body_markdown":"You can either invoke Jasper inside a JdbcTemplate callback (like a ResultSetExtractor) or use straight JDBC to pass the ResultSet to Jasper.  Either way when you call Jasper your connection to the database is still active until your report is finished.","title":"getResultSet from Spring-JDBC","body":"<p>You can either invoke Jasper inside a JdbcTemplate callback (like a ResultSetExtractor) or use straight JDBC to pass the ResultSet to Jasper.  Either way when you call Jasper your connection to the database is still active until your report is finished.</p>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14507,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":212632,"answer_count":2,"score":7,"last_activity_date":1674166508,"creation_date":1224256078,"question_id":212569,"body_markdown":"I&#39;m using Spring&#39;s support for JDBC. I&#39;d like to use [JdbcTemplate][1] (or SimpleJdbcTemplate) to execute a query and obtain the result as an instance of ResultSet.\r\n\r\nThe only way that I can see of achieving this is using:\r\n\r\n    String sql = &quot;select * from....&quot;;\r\n    SqlRowSet results = jdbcTemplate.queryForRowSet(sql);\r\n    ((ResultSetWrappingSqlRowSet) results).getResultSet();\r\n\r\nAn obvious shortcoming of this approach is that it requires me to make an assumption (by casting) about the implementation type of SqlRowSet, but is there a better way?\r\n\r\n**Background info...**\r\n\r\nThe reason I want to obtain the results as a ResultSet, rather than a collection of beans, is because the results will be passed straight to a Jasper report for display. In other words, the Java bean would be used for nothing other than temporarily storing each row in the ResultSet, and I&#39;d like to avoid creating such a bean for every Jasper report if possible.\r\n\r\nCheers, Don\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\r\n","title":"getResultSet from Spring-JDBC","body":"<p>I'm using Spring's support for JDBC. I'd like to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\">JdbcTemplate</a> (or SimpleJdbcTemplate) to execute a query and obtain the result as an instance of ResultSet.</p>\n<p>The only way that I can see of achieving this is using:</p>\n<pre><code>String sql = &quot;select * from....&quot;;\nSqlRowSet results = jdbcTemplate.queryForRowSet(sql);\n((ResultSetWrappingSqlRowSet) results).getResultSet();\n</code></pre>\n<p>An obvious shortcoming of this approach is that it requires me to make an assumption (by casting) about the implementation type of SqlRowSet, but is there a better way?</p>\n<p><strong>Background info...</strong></p>\n<p>The reason I want to obtain the results as a ResultSet, rather than a collection of beans, is because the results will be passed straight to a Jasper report for display. In other words, the Java bean would be used for nothing other than temporarily storing each row in the ResultSet, and I'd like to avoid creating such a bean for every Jasper report if possible.</p>\n<p>Cheers, Don</p>\n"},{"tags":["java","spring","spring-boot","exception","controller-advice"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654630337,"post_id":72477541,"comment_id":128135278,"body_markdown":"Hmm, I did some test and it seems like you are right. I was conviced that it works like I explained. Need to investigate this further","body":"Hmm, I did some test and it seems like you are right. I was conviced that it works like I explained. Need to investigate this further"}],"answers":[{"tags":[],"owner":{"account_id":14395021,"reputation":21,"user_id":10398579,"display_name":"Francisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674166446,"creation_date":1674166446,"answer_id":75178833,"question_id":72477541,"body_markdown":"Although this may be an old question, I want to provide an answer for anyone who may come across it in the future.\r\n\r\nWhen you raise an exception in the preHandle method of a HandlerInterceptor, it may be wrapped in another exception called NestedServletException. This is a specific exception thrown by the Spring framework.\r\n\r\nIt&#39;s worth noting that NestedServletException is a runtime exception that occurs when a servlet or filter throws an exception. It encloses the original exception and provides additional information about the location where the exception occurred.","title":"ExceptionHandler doesn&#39;t catch HandlerInterceptor exception if endpoint path is unknown","body":"<p>Although this may be an old question, I want to provide an answer for anyone who may come across it in the future.</p>\n<p>When you raise an exception in the preHandle method of a HandlerInterceptor, it may be wrapped in another exception called NestedServletException. This is a specific exception thrown by the Spring framework.</p>\n<p>It's worth noting that NestedServletException is a runtime exception that occurs when a servlet or filter throws an exception. It encloses the original exception and provides additional information about the location where the exception occurred.</p>\n"}],"owner":{"account_id":6299828,"reputation":615,"user_id":4894814,"accept_rate":38,"display_name":"Christophe Schutz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674166446,"creation_date":1654178530,"question_id":72477541,"body_markdown":"I have a component that implements the HandlerInterceptor interface, and implements the preHandle method. In this method I retrieve a parameter from the request, and throw an IllegalArgumentException if that parameter is missing.\r\n\r\n```\r\n@Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n        String parameter = request.getHeader(&quot;parameter123&quot;);\r\n        if (StringUtils.isEmpty(parameter)) {\r\n            throw new IllegalArgumentException(&quot;parameter123 not specified&quot;);\r\n        }\r\n        [...]\r\n        return true;\r\n    }\r\n```\r\n\r\n\r\nIn another class annotated with @ControllerAdvice, I have a ExceptionHandler that catches the IllegalArgumentExceptions and turns those into a formatted response with HTTP status code 400.\r\n\r\nWhen this is executed by triggering a valid path of my API, everything works just fine. Problems arise when I try to call an invalid/unexisting path of my API. The HandlerInterceptor is called and the exception is thrown but my ExceptionHandler is not triggered and the result is a basic HTTP status code 500 exception. It seems to both override the basic HTTP status 404 mechanism, while also preventing the triggering of my ExceptionHandlers (even an ExceptionHandler on Exception.class doesn&#39;t ever get called).\r\n\r\nAny explanations regarding this behaviour are welcome ! Thanks","title":"ExceptionHandler doesn&#39;t catch HandlerInterceptor exception if endpoint path is unknown","body":"<p>I have a component that implements the HandlerInterceptor interface, and implements the preHandle method. In this method I retrieve a parameter from the request, and throw an IllegalArgumentException if that parameter is missing.</p>\n<pre><code>@Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n        String parameter = request.getHeader(&quot;parameter123&quot;);\n        if (StringUtils.isEmpty(parameter)) {\n            throw new IllegalArgumentException(&quot;parameter123 not specified&quot;);\n        }\n        [...]\n        return true;\n    }\n</code></pre>\n<p>In another class annotated with @ControllerAdvice, I have a ExceptionHandler that catches the IllegalArgumentExceptions and turns those into a formatted response with HTTP status code 400.</p>\n<p>When this is executed by triggering a valid path of my API, everything works just fine. Problems arise when I try to call an invalid/unexisting path of my API. The HandlerInterceptor is called and the exception is thrown but my ExceptionHandler is not triggered and the result is a basic HTTP status code 500 exception. It seems to both override the basic HTTP status 404 mechanism, while also preventing the triggering of my ExceptionHandlers (even an ExceptionHandler on Exception.class doesn't ever get called).</p>\n<p>Any explanations regarding this behaviour are welcome ! Thanks</p>\n"},{"tags":["java","swing","colors","jtable","jtabbedpane"],"answers":[{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1468469420,"creation_date":1468469420,"answer_id":38365332,"question_id":38355163,"body_markdown":"Probably `TabbedPane.contentAreaColor`(top of the `TabbedPane.contentBorderInsets`):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.*;\r\n    \r\n    public final class BasicTabbedPaneColorTest {\r\n      private JComponent makeUI() {\r\n        //UIManager.put(&quot;TabbedPane.contentBorderInsets&quot;,  new Insets(10, 10, 10, 10));\r\n        //UIManager.put(&quot;TabbedPane.contentBorderInsets&quot;,  new Insets(0, 10, 10, 10));\r\n    \r\n        UIManager.put(&quot;TabbedPane.contentAreaColor&quot;, Color.GREEN);\r\n        UIManager.put(&quot;TabbedPane.highlight&quot;,        Color.RED);\r\n    \r\n        JTabbedPane tabs = new JTabbedPane();\r\n        tabs.setUI(new BasicTabbedPaneUI());\r\n        //tabs.setBackground(Color.ORANGE);\r\n        //tabs.setOpaque(true);\r\n    \r\n        tabs.addTab(&quot;JTable&quot;, new JScrollPane(new JTable(20, 3)));\r\n        tabs.addTab(&quot;JTree&quot;,  new JScrollPane(new JTree()));\r\n        return tabs;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new BasicTabbedPaneColorTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/m1LWc.png","title":"Change Color of Line between Tab and JTable","body":"<p>Probably <code>TabbedPane.contentAreaColor</code>(top of the <code>TabbedPane.contentBorderInsets</code>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/m1LWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m1LWc.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.basic.*;\n\npublic final class BasicTabbedPaneColorTest {\n  private JComponent makeUI() {\n    //UIManager.put(\"TabbedPane.contentBorderInsets\",  new Insets(10, 10, 10, 10));\n    //UIManager.put(\"TabbedPane.contentBorderInsets\",  new Insets(0, 10, 10, 10));\n\n    UIManager.put(\"TabbedPane.contentAreaColor\", Color.GREEN);\n    UIManager.put(\"TabbedPane.highlight\",        Color.RED);\n\n    JTabbedPane tabs = new JTabbedPane();\n    tabs.setUI(new BasicTabbedPaneUI());\n    //tabs.setBackground(Color.ORANGE);\n    //tabs.setOpaque(true);\n\n    tabs.addTab(\"JTable\", new JScrollPane(new JTable(20, 3)));\n    tabs.addTab(\"JTree\",  new JScrollPane(new JTree()));\n    return tabs;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new BasicTabbedPaneColorTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4906648,"reputation":698,"user_id":3953199,"accept_rate":89,"display_name":"KJaeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38365332,"answer_count":1,"score":1,"last_activity_date":1674166300,"creation_date":1468421700,"question_id":38355163,"body_markdown":"I am customizing the visual appearance of my `JTabbedPane`, which contains three `JTables`.\r\n\r\nWhile I was successfully coloring the selection color of the tab, including a changing of the text color, I changed the tab border colors by creating an own `BasicTabbedPaneUI`. But there is still one line, which remained in the way it was. This line is located between the tab and the table. See the following picture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe line I am talking about is marked with three litte red dots.\r\nWhat is this line? If it is a border, where does it belong to? I didn&#39;t find a way to set its color. I checked the `JTable`, he `JTabbedPane`, and even the components of the `JTabbedPane`.\r\n\r\nJust to show, what I am able to access, I painted every component green.\r\n[![enter image description here][2]][2]\r\n\r\nYou can see, that this blue line still remains.\r\nDoes anyone know how to change its color?\r\nRemoving it would be another acceptable option.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/upeXK.jpg\r\n  [2]: http://i.stack.imgur.com/JOrLh.jpg","title":"Change Color of Line between Tab and JTable","body":"<p>I am customizing the visual appearance of my <code>JTabbedPane</code>, which contains three <code>JTables</code>.</p>\n\n<p>While I was successfully coloring the selection color of the tab, including a changing of the text color, I changed the tab border colors by creating an own <code>BasicTabbedPaneUI</code>. But there is still one line, which remained in the way it was. This line is located between the tab and the table. See the following picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/upeXK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upeXK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The line I am talking about is marked with three litte red dots.\nWhat is this line? If it is a border, where does it belong to? I didn't find a way to set its color. I checked the <code>JTable</code>, he <code>JTabbedPane</code>, and even the components of the <code>JTabbedPane</code>.</p>\n\n<p>Just to show, what I am able to access, I painted every component green.\n<a href=\"https://i.stack.imgur.com/JOrLh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOrLh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can see, that this blue line still remains.\nDoes anyone know how to change its color?\nRemoving it would be another acceptable option.</p>\n"},{"tags":["java","maven","kotlin"],"owner":{"account_id":288857,"reputation":2475,"user_id":589509,"accept_rate":89,"display_name":"NOCARRIER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674166128,"creation_date":1674166128,"question_id":75178801,"body_markdown":"When a failure occurs in my maven build due to a klint violation, the report displays the line number **but not the file name**. \r\n\r\nThe error message is as follows:\r\n\r\n&gt;Failed to execute goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format (default-cli) on project foo-project: Execution default-cli of goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format failed: 89:33 Unexpected tokens (use &#39;;&#39; to separate expressions on the same line) -&gt; [Help 1]\r\n[ERROR]\r\n\r\n I have read through the gant docs (https://github.com/gantsign/ktlint-maven-plugin) but do not see any options to control this. My configuration is as follows: \r\n\r\n```\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;default&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${ktlint-maven-plugin.version}&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;format&lt;/goal&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;format&lt;/goal&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;build-pr&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\r\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;check&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n```\r\n\r\nIs there any options that will allow the file name to appear or is this a bug in the build tool?","title":"Klint Maven CLI does not report file names during failure","body":"<p>When a failure occurs in my maven build due to a klint violation, the report displays the line number <strong>but not the file name</strong>.</p>\n<p>The error message is as follows:</p>\n<blockquote>\n<p>Failed to execute goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format (default-cli) on project foo-project: Execution default-cli of goal com.github.gantsign.maven:ktlint-maven-plugin:1.15.2:format failed: 89:33 Unexpected tokens (use ';' to separate expressions on the same line) -&gt; [Help 1]\n[ERROR]</p>\n</blockquote>\n<p>I have read through the gant docs (<a href=\"https://github.com/gantsign/ktlint-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/gantsign/ktlint-maven-plugin</a>) but do not see any options to control this. My configuration is as follows:</p>\n<pre><code>  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;default&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\n              &lt;version&gt;${ktlint-maven-plugin.version}&lt;/version&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;format&lt;/goal&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;format&lt;/goal&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;build-pr&lt;/id&gt;\n      &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;com.github.gantsign.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;ktlint-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-sources&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                  &lt;id&gt;format-and-check-tests&lt;/id&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt; &lt;!-- run linting first --&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n</code></pre>\n<p>Is there any options that will allow the file name to appear or is this a bug in the build tool?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":2,"creation_date":1546705978,"post_id":54053916,"comment_id":94942123,"body_markdown":"Why do these screenshots show different classes?","body":"Why do these screenshots show different classes?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1546706803,"post_id":54053916,"comment_id":94942338,"body_markdown":"As for the errors in question, you&#39;re likely getting different errors; the error in the first screenshot is caused by a missing `import`.  The error in the second screenshot is likely a missing method error because you misspelled [`Executors`](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executors.html) (a class with static methods) as [`Executor`](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executor.html) (an interface with no static methods)","body":"As for the errors in question, you&#39;re likely getting different errors; the error in the first screenshot is caused by a missing <code>import</code>.  The error in the second screenshot is likely a missing method error because you misspelled <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> (a class with static methods) as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\"><code>Executor</code></a> (an interface with no static methods)"},{"owner":{"account_id":984921,"reputation":1829,"user_id":1901823,"accept_rate":61,"display_name":"Mariano L"},"score":0,"creation_date":1546707387,"post_id":54053916,"comment_id":94942492,"body_markdown":"Is the same code, different class name. Those are just practice exercises. About the mispell, you are correct. But the problem is the same: Errors in Linux(doesn&#39;t matter wich error) are not highlighted, when in windows they are. Corrected the mispell error(now has the same error than windows), and still not highlighted.","body":"Is the same code, different class name. Those are just practice exercises. About the mispell, you are correct. But the problem is the same: Errors in Linux(doesn&#39;t matter wich error) are not highlighted, when in windows they are. Corrected the mispell error(now has the same error than windows), and still not highlighted."},{"owner":{"account_id":216144,"reputation":1333,"user_id":471199,"accept_rate":75,"display_name":"mithrandir"},"score":0,"creation_date":1556412602,"post_id":54053916,"comment_id":98430037,"body_markdown":"I seem to have the same issue with Mac.","body":"I seem to have the same issue with Mac."}],"answers":[{"tags":[],"owner":{"account_id":6271996,"reputation":2560,"user_id":4957620,"accept_rate":88,"display_name":"chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674165087,"creation_date":1674165087,"answer_id":75178666,"question_id":54053916,"body_markdown":"If it helps, this is how I solved it: \r\n\r\n 1. Shift + Ctrl + P\r\n 2. Type `Java: Clean Java Language Server Workspace` and select it\r\n 3. Reload VS Code","title":"Visual Studio Code with Java Extension Pack not highlighting errors in Linux","body":"<p>If it helps, this is how I solved it:</p>\n<ol>\n<li>Shift + Ctrl + P</li>\n<li>Type <code>Java: Clean Java Language Server Workspace</code> and select it</li>\n<li>Reload VS Code</li>\n</ol>\n"}],"owner":{"account_id":984921,"reputation":1829,"user_id":1901823,"accept_rate":61,"display_name":"Mariano L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674165087,"creation_date":1546705732,"question_id":54053916,"body_markdown":"I&#39;m using Visual Studio Code with the Java Extension. In windows, I get a highlight of all the errors in the IDE, as you can see in this screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I write the same code, with the same errors and with the same extensions in linux, the highlight doesn&#39;t work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBefore you say it, yes the error is there. If a run the code I get the error &quot;Executer&quot;. Compared settings and are all the same. Java is detected, the thumb is up. \r\n\r\nThe version in linux mint and windows is 1.30.1. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGjMX.png\r\n  [2]: https://i.stack.imgur.com/6EOzp.png","title":"Visual Studio Code with Java Extension Pack not highlighting errors in Linux","body":"<p>I'm using Visual Studio Code with the Java Extension. In windows, I get a highlight of all the errors in the IDE, as you can see in this screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nGjMX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nGjMX.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I write the same code, with the same errors and with the same extensions in linux, the highlight doesn't work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6EOzp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6EOzp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before you say it, yes the error is there. If a run the code I get the error \"Executer\". Compared settings and are all the same. Java is detected, the thumb is up. </p>\n\n<p>The version in linux mint and windows is 1.30.1. </p>\n"},{"tags":["java","linux","raspberry-pi","orange-pi"],"answers":[{"tags":[],"owner":{"account_id":1681873,"reputation":2085,"user_id":1545952,"accept_rate":100,"display_name":"Xvolks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456873114,"creation_date":1456873114,"answer_id":35735300,"question_id":35735120,"body_markdown":"I saw this post that may help you : https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I\r\n\r\nAs I do not own this device, so I cannot verify by myself.","title":"pi4J For Orange Pi Plus 2","body":"<p>I saw this post that may help you : <a href=\"https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/pi4j/T30EUL2Z10I</a></p>\n\n<p>As I do not own this device, so I cannot verify by myself.</p>\n"},{"tags":[],"owner":{"account_id":3300524,"reputation":1,"user_id":2776819,"display_name":"Matt Brenner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479067247,"creation_date":1479067247,"answer_id":40578214,"question_id":35735120,"body_markdown":"For Raspberry Pi there is the well-known wiringPi library, written in C, for GPIO access and control. This library has been ported for the Orange Pi. The port is called wiringPO. I wrote a simple Java class with a native method. The native method gives me access to the wiringPO library, and I use JNI to allow my java application to interact with the native method. Works like a charm.","title":"pi4J For Orange Pi Plus 2","body":"<p>For Raspberry Pi there is the well-known wiringPi library, written in C, for GPIO access and control. This library has been ported for the Orange Pi. The port is called wiringPO. I wrote a simple Java class with a native method. The native method gives me access to the wiringPO library, and I use JNI to allow my java application to interact with the native method. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":9789988,"reputation":26,"user_id":7254956,"display_name":"The Pi4J Project"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481000816,"creation_date":1480992417,"answer_id":40987004,"question_id":35735120,"body_markdown":"Experimental support for `OrangePi` is now included in the latest `Pi4J v1.2-SNAPSHOT` builds.  Please be aware that this is largely untested at this time.  Feel free to try it out and report issues to the project.\r\n\r\nI&#39;m afraid that the `WiringPi` port for `OrangePi (WiringOP)` may be slightly outdated and may not support the newer/latest `OrangePi` hardware models, but more testing is needed to confirm which models are working.\r\n","title":"pi4J For Orange Pi Plus 2","body":"<p>Experimental support for <code>OrangePi</code> is now included in the latest <code>Pi4J v1.2-SNAPSHOT</code> builds.  Please be aware that this is largely untested at this time.  Feel free to try it out and report issues to the project.</p>\n\n<p>I'm afraid that the <code>WiringPi</code> port for <code>OrangePi (WiringOP)</code> may be slightly outdated and may not support the newer/latest <code>OrangePi</code> hardware models, but more testing is needed to confirm which models are working.</p>\n"},{"tags":[],"owner":{"account_id":1677787,"reputation":63,"user_id":1542890,"accept_rate":25,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485627883,"creation_date":1485626171,"answer_id":41912968,"question_id":35735120,"body_markdown":"Add the line: \r\n\r\n    GpioFactory.setDefaultProvider(new OrangePiGpioProvider());\r\n\r\nbefore getting instance: `gpio = GpioFactory.getInstance();`","title":"pi4J For Orange Pi Plus 2","body":"<p>Add the line: </p>\n\n<pre><code>GpioFactory.setDefaultProvider(new OrangePiGpioProvider());\n</code></pre>\n\n<p>before getting instance: <code>gpio = GpioFactory.getInstance();</code></p>\n"},{"tags":[],"owner":{"account_id":27419094,"reputation":1,"user_id":20917826,"display_name":"james"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674164372,"creation_date":1674164372,"answer_id":75178564,"question_id":35735120,"body_markdown":"the problem is with every orange pi, the problem is with resolv.conf in /etc/resolv.conf.\r\ndo\r\nsudo nano /../etc/resolv.conf\r\nand then add\r\nnameserver 8.8.8.8\r\nto it\r\nand control-o to save it","title":"pi4J For Orange Pi Plus 2","body":"<p>the problem is with every orange pi, the problem is with resolv.conf in /etc/resolv.conf.\ndo\nsudo nano /../etc/resolv.conf\nand then add\nnameserver 8.8.8.8\nto it\nand control-o to save it</p>\n"}],"owner":{"account_id":7955508,"reputation":183,"user_id":6004973,"accept_rate":67,"display_name":"Goodwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40987004,"answer_count":5,"score":0,"last_activity_date":1674164372,"creation_date":1456872322,"question_id":35735120,"body_markdown":"for a school project I recently bought an Orange Pi +2 hoping to use it to control a few electronics with the GPIO pins. I have many years of Java experience so I naturally wanted to write my code in that language. When trying to install pi4j which is a java library for raspberry pi I get this error:\r\n\r\n    mackenzie@OrangePI:~$ sudo java -jar LCD.jar\r\n    sudo: unable to resolve host OrangePI\r\n    Unable to determine hardware version. I see: Hardware   : sun8i,\r\n    - expecting BCM2708 or BCM2709. Please report this to projects@drogon.net\r\nI was wondering if anyone had any ports for the Orange Pi and if not I will have to write my program in C. I am running Debian 8 jacer 2 as the os.\r\n","title":"pi4J For Orange Pi Plus 2","body":"<p>for a school project I recently bought an Orange Pi +2 hoping to use it to control a few electronics with the GPIO pins. I have many years of Java experience so I naturally wanted to write my code in that language. When trying to install pi4j which is a java library for raspberry pi I get this error:</p>\n\n<pre><code>mackenzie@OrangePI:~$ sudo java -jar LCD.jar\nsudo: unable to resolve host OrangePI\nUnable to determine hardware version. I see: Hardware   : sun8i,\n- expecting BCM2708 or BCM2709. Please report this to projects@drogon.net\n</code></pre>\n\n<p>I was wondering if anyone had any ports for the Orange Pi and if not I will have to write my program in C. I am running Debian 8 jacer 2 as the os.</p>\n"},{"tags":["java","spring-boot","graphql","java-17","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674164041,"creation_date":1674164041,"answer_id":75178516,"question_id":75173790,"body_markdown":"The issue can be resolved declaring correspond scalar type in `graphqls` file `scalar LocalDate`.\r\n\r\nSo `schema.graphqls` looks like:\r\n\r\n```\r\nscalar LocalDate\r\n\r\ntype Query {\r\n    bookById(id: ID): Book\r\n}\r\n\r\ntype Book {\r\n    id: ID\r\n    name: String\r\n    pageCount: Int\r\n    authors: [Author]!\r\n    productionDate: LocalDate\r\n}\r\n\r\ntype Author {\r\n    id: ID\r\n    firstName: String\r\n    lastName: String\r\n}\r\n```\r\n\r\nThe fix is [published to the git][1] also.\r\n\r\n\r\n  [1]: https://github.com/SergiiVlasiuk/stackoverflow-questions/blob/master/graphql-tutorials/src/main/resources/graphql/schema.graphqls","title":"GraphQL custom scalar type doesn&#39;t work in spring boot application","body":"<p>The issue can be resolved declaring correspond scalar type in <code>graphqls</code> file <code>scalar LocalDate</code>.</p>\n<p>So <code>schema.graphqls</code> looks like:</p>\n<pre><code>scalar LocalDate\n\ntype Query {\n    bookById(id: ID): Book\n}\n\ntype Book {\n    id: ID\n    name: String\n    pageCount: Int\n    authors: [Author]!\n    productionDate: LocalDate\n}\n\ntype Author {\n    id: ID\n    firstName: String\n    lastName: String\n}\n</code></pre>\n<p>The fix is <a href=\"https://github.com/SergiiVlasiuk/stackoverflow-questions/blob/master/graphql-tutorials/src/main/resources/graphql/schema.graphqls\" rel=\"nofollow noreferrer\">published to the git</a> also.</p>\n"}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75178516,"answer_count":1,"score":2,"last_activity_date":1674164041,"creation_date":1674138412,"question_id":75173790,"body_markdown":"I&#39;ve configured GraphQL in spring boot application which uses `java 17`. \r\nTo start application you need `gradle bootRun`.\r\n\r\nTo try `GrapqQL` request you can use `curl`:\r\n```\r\ncurl -X POST http://localhost:8085/graphql \\\r\n    -H &quot;Content-Type: application/json&quot; \\\r\n    -d &#39;{&quot;query&quot;:&quot;query {\\n  bookById(id: \\&quot;book-1\\&quot;){\\n    id\\n    name\\n    pageCount\\n    productionDate\\n    authors {\\n      id\\n      firstName\\n      lastName\\n    }\\n  }\\n}&quot;}&#39;\r\n```\r\n\r\nThe current configuration doesn&#39;t use custom type `LocalDate` and no date formatting with pattern`&quot;dd/MM/yyyy&quot;`.\r\n\r\nThe GraphQL configuration `schema.graphqls` \r\n```\r\ntype Query {\r\n    bookById(id: ID): Book\r\n}\r\n\r\ntype Book {\r\n    id: ID\r\n    name: String\r\n    pageCount: Int\r\n    authors: [Author]!\r\n    productionDate: String\r\n#    productionDate: LocalDate\r\n}\r\n\r\ntype Author {\r\n    id: ID\r\n    firstName: String\r\n    lastName: String\r\n}\r\n```\r\nrequires `productionDate: LocalDate` (in the line 10). The custom `java` configuration is managed in the `ScalarConfiguration.java` following [spring-boot][1],\r\n```\r\npackage com.graphqljava.tutorial.bookDetails;\r\n\r\nimport graphql.language.StringValue;\r\nimport graphql.schema.*;\r\nimport org.springframework.boot.autoconfigure.graphql.GraphQlSourceBuilderCustomizer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.graphql.execution.RuntimeWiringConfigurer;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\n\r\n@Configuration(proxyBeanMethods = false)\r\npublic class ScalarConfiguration {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n\r\n    @Bean\r\n    public GraphQLScalarType dateScalar() {\r\n        return GraphQLScalarType.newScalar()\r\n                .name(&quot;LocalDate&quot;)\r\n                .description(&quot;Java 8 LocalDate as scalar.&quot;)\r\n                .coercing(new Coercing&lt;Object, Object&gt;() {\r\n                    @Override\r\n                    public String serialize(final Object dataFetcherResult) {\r\n                        if (dataFetcherResult instanceof LocalDate) {\r\n                            return formatter.format((LocalDate) dataFetcherResult);\r\n                        } else {\r\n                            throw new CoercingSerializeException(&quot;Expected a LocalDate object.&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public LocalDate parseValue(final Object input) {\r\n                        try {\r\n                            if (input instanceof String) {\r\n                                return LocalDate.parse((String) input, formatter);\r\n                            } else {\r\n                                throw new CoercingParseValueException(&quot;Expected a String&quot;);\r\n                            }\r\n                        } catch (DateTimeParseException e) {\r\n                            throw new CoercingParseValueException(String.format(&quot;Not a valid date: &#39;%s&#39;.&quot;, input), e\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public LocalDate parseLiteral(final Object input) {\r\n                        if (input instanceof StringValue) {\r\n                            try {\r\n                                return LocalDate.parse(((StringValue) input).getValue(), formatter);\r\n                            } catch (DateTimeParseException e) {\r\n                                throw new CoercingParseLiteralException(e);\r\n                            }\r\n                        } else {\r\n                            throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\r\n                        }\r\n                    }\r\n                }).build();\r\n    }\r\n\r\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource-runtimewiring-configurer\r\n    @Bean\r\n    RuntimeWiringConfigurer runtimeWiringConfigurer() {\r\n        GraphQLScalarType scalarType = dateScalar();\r\n        return wiringBuilder -&gt; wiringBuilder.scalar(scalarType);\r\n    }\r\n\r\n/*\r\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource\r\n    @Bean\r\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\r\n        GraphQLScalarType scalarType = dateScalar();\r\n        return (builder) -&gt;\r\n                builder.configureGraphQl(graphQlBuilder -&gt;\r\n                        graphQlBuilder.executionIdProvider((query, operationName, context) -&gt; null));\r\n    }\r\n*/\r\n\r\n}\r\n```\r\nso `runtimeWiringConfigurer` loads correctly, but `LocalDate` doesn&#39;t work in my `schema.graphqls` and I&#39;m looking for help and solution with described issue.\r\n\r\nP.S.\r\n---\r\n- [The git source is here][2].\r\n- I&#39;ve detected there similar questions, but their answers didn&#39;t help me properly. In current question I&#39;ve provided git java project which can be fixed to make working it with `LocalDate`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html\r\n  [2]: https://github.com/SergiiVlasiuk/stackoverflow-questions/tree/master/graphql-tutorials","title":"GraphQL custom scalar type doesn&#39;t work in spring boot application","body":"<p>I've configured GraphQL in spring boot application which uses <code>java 17</code>.\nTo start application you need <code>gradle bootRun</code>.</p>\n<p>To try <code>GrapqQL</code> request you can use <code>curl</code>:</p>\n<pre><code>curl -X POST http://localhost:8085/graphql \\\n    -H &quot;Content-Type: application/json&quot; \\\n    -d '{&quot;query&quot;:&quot;query {\\n  bookById(id: \\&quot;book-1\\&quot;){\\n    id\\n    name\\n    pageCount\\n    productionDate\\n    authors {\\n      id\\n      firstName\\n      lastName\\n    }\\n  }\\n}&quot;}'\n</code></pre>\n<p>The current configuration doesn't use custom type <code>LocalDate</code> and no date formatting with pattern<code>&quot;dd/MM/yyyy&quot;</code>.</p>\n<p>The GraphQL configuration <code>schema.graphqls</code></p>\n<pre><code>type Query {\n    bookById(id: ID): Book\n}\n\ntype Book {\n    id: ID\n    name: String\n    pageCount: Int\n    authors: [Author]!\n    productionDate: String\n#    productionDate: LocalDate\n}\n\ntype Author {\n    id: ID\n    firstName: String\n    lastName: String\n}\n</code></pre>\n<p>requires <code>productionDate: LocalDate</code> (in the line 10). The custom <code>java</code> configuration is managed in the <code>ScalarConfiguration.java</code> following <a href=\"https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html\" rel=\"nofollow noreferrer\">spring-boot</a>,</p>\n<pre><code>package com.graphqljava.tutorial.bookDetails;\n\nimport graphql.language.StringValue;\nimport graphql.schema.*;\nimport org.springframework.boot.autoconfigure.graphql.GraphQlSourceBuilderCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.graphql.execution.RuntimeWiringConfigurer;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\n\n@Configuration(proxyBeanMethods = false)\npublic class ScalarConfiguration {\n\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\n    @Bean\n    public GraphQLScalarType dateScalar() {\n        return GraphQLScalarType.newScalar()\n                .name(&quot;LocalDate&quot;)\n                .description(&quot;Java 8 LocalDate as scalar.&quot;)\n                .coercing(new Coercing&lt;Object, Object&gt;() {\n                    @Override\n                    public String serialize(final Object dataFetcherResult) {\n                        if (dataFetcherResult instanceof LocalDate) {\n                            return formatter.format((LocalDate) dataFetcherResult);\n                        } else {\n                            throw new CoercingSerializeException(&quot;Expected a LocalDate object.&quot;);\n                        }\n                    }\n\n                    @Override\n                    public LocalDate parseValue(final Object input) {\n                        try {\n                            if (input instanceof String) {\n                                return LocalDate.parse((String) input, formatter);\n                            } else {\n                                throw new CoercingParseValueException(&quot;Expected a String&quot;);\n                            }\n                        } catch (DateTimeParseException e) {\n                            throw new CoercingParseValueException(String.format(&quot;Not a valid date: '%s'.&quot;, input), e\n                            );\n                        }\n                    }\n\n                    @Override\n                    public LocalDate parseLiteral(final Object input) {\n                        if (input instanceof StringValue) {\n                            try {\n                                return LocalDate.parse(((StringValue) input).getValue(), formatter);\n                            } catch (DateTimeParseException e) {\n                                throw new CoercingParseLiteralException(e);\n                            }\n                        } else {\n                            throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\n                        }\n                    }\n                }).build();\n    }\n\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource-runtimewiring-configurer\n    @Bean\n    RuntimeWiringConfigurer runtimeWiringConfigurer() {\n        GraphQLScalarType scalarType = dateScalar();\n        return wiringBuilder -&gt; wiringBuilder.scalar(scalarType);\n    }\n\n/*\n    // https://docs.spring.io/spring-graphql/docs/1.1.0-RC1/reference/html/#execution-graphqlsource\n    @Bean\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\n        GraphQLScalarType scalarType = dateScalar();\n        return (builder) -&gt;\n                builder.configureGraphQl(graphQlBuilder -&gt;\n                        graphQlBuilder.executionIdProvider((query, operationName, context) -&gt; null));\n    }\n*/\n\n}\n</code></pre>\n<p>so <code>runtimeWiringConfigurer</code> loads correctly, but <code>LocalDate</code> doesn't work in my <code>schema.graphqls</code> and I'm looking for help and solution with described issue.</p>\n<h2>P.S.</h2>\n<ul>\n<li><a href=\"https://github.com/SergiiVlasiuk/stackoverflow-questions/tree/master/graphql-tutorials\" rel=\"nofollow noreferrer\">The git source is here</a>.</li>\n<li>I've detected there similar questions, but their answers didn't help me properly. In current question I've provided git java project which can be fixed to make working it with <code>LocalDate</code>.</li>\n</ul>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674164055,"post_id":75178475,"comment_id":132662821,"body_markdown":"No,  it&#39;s not a &quot;race&quot; condition. You&#39;re blocking the Swing event thread with the long-running task and what you need to do is to run that task in a background thread, a SwingWorker, as per the &quot;[Lesson: Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/)&quot; tutorial.","body":"No,  it&#39;s not a &quot;race&quot; condition. You&#39;re blocking the Swing event thread with the long-running task and what you need to do is to run that task in a background thread, a SwingWorker, as per the &quot;<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>&quot; tutorial."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1674164149,"post_id":75178475,"comment_id":132662848,"body_markdown":"If you need to change the state of the GUI once the long-running task has been completed, then use one of the call-back tools that the SwingWorker offers, either by responding to the `done()` method or by using a PropertyChangeListener and listening for the SwingWorker&#39;s state to change to `StateValue.DONE`.","body":"If you need to change the state of the GUI once the long-running task has been completed, then use one of the call-back tools that the SwingWorker offers, either by responding to the <code>done()</code> method or by using a PropertyChangeListener and listening for the SwingWorker&#39;s state to change to <code>StateValue.DONE</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674164175,"post_id":75178475,"comment_id":132662856,"body_markdown":"And no, don&#39;t use invokeAndWait here, since that does not solve the problem that you&#39;re running into.","body":"And no, don&#39;t use invokeAndWait here, since that does not solve the problem that you&#39;re running into."},{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1674164872,"post_id":75178475,"comment_id":132663043,"body_markdown":"@HovercraftFullOfEels Excellent information, it&#39;s overriding the &quot;done&quot; method was what to execute the rest of the ActionListener code that I was missing.  Love the name BTW, here&#39;s a box of matches.","body":"@HovercraftFullOfEels Excellent information, it&#39;s overriding the &quot;done&quot; method was what to execute the rest of the ActionListener code that I was missing.  Love the name BTW, here&#39;s a box of matches."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1674166762,"post_id":75178475,"comment_id":132663480,"body_markdown":"Glad that that worked. For my money, I usually use the PropertyChangeListener route, especially if my worker code is isolated from the gui code, since this allows for looser coupling, since the worker has to have no knowledge about the calling GUI. Also, don&#39;t forget to call `get()` from the worker once it has completed its task, if only to capture and handle any exceptions that might occur.","body":"Glad that that worked. For my money, I usually use the PropertyChangeListener route, especially if my worker code is isolated from the gui code, since this allows for looser coupling, since the worker has to have no knowledge about the calling GUI. Also, don&#39;t forget to call <code>get()</code> from the worker once it has completed its task, if only to capture and handle any exceptions that might occur."},{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1674167368,"post_id":75178475,"comment_id":132663634,"body_markdown":"@HovercraftFullOfEels good advice for get().  Not that there&#39;s much that could go wrong with enabling buttons/changing text, but it *IS* a computer lol.","body":"@HovercraftFullOfEels good advice for get().  Not that there&#39;s much that could go wrong with enabling buttons/changing text, but it <i>IS</i> a computer lol."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1674167497,"post_id":75178475,"comment_id":132663658,"body_markdown":"No, no, the get will capture any exceptions thrown from the worker&#39;s background thread. Often it is tricky to get those exceptions into the GUI.","body":"No, no, the get will capture any exceptions thrown from the worker&#39;s background thread. Often it is tricky to get those exceptions into the GUI."}],"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674164002,"answer_count":0,"score":0,"last_activity_date":1674163746,"creation_date":1674163746,"question_id":75178475,"body_markdown":"I know this is a race condition, and I&#39;ve tried a few methods to solve it, including an unsuccessful use of invokeAndWait to no avail.  All I want to do is have it change the text on the button to &quot;Connecting&quot;, however before the UI updates, it starts the ts = new TallyState(); call which freezes the program for up to 20 seconds while it tries to reach the controller.\r\n\r\n    JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\r\n    \tbtnConnectSerial.addActionListener(new ActionListener() {\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tbtnConnectSerial.setText(&quot;Connecting&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tts = new TallyState();\r\n    \t\t\t} catch (IOException tse) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t} catch (Exception tse2) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n\r\nI&#39;m sure this has been answered before but I can&#39;t seem to phrase my question correctly to Google to get the answer I need.\r\n\r\nAlso tried this but the rest of the ActionListener executes.  It needs wait to know if &quot;ts&quot; was able to be built (e.g. the connection doesn&#39;t time out and thus throw exception/message). \r\n\r\n\t\tJButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\r\n\t\tbtnConnectSerial.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tbtnConnectSerial.setText(&quot;Connecting&quot;);\r\n\t\t\t\tSwingWorker myWorker= new SwingWorker&lt;String, Void&gt;()  {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected String doInBackground() throws Exception {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tts = new TallyState();\r\n\t\t\t\t\t\t} catch (IOException tse) {\r\n\t\t\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t} catch (Exception tse2) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tmyWorker.execute();\r\n\t\t\t\t\r\nReferenced: https://stackoverflow.com/questions/4921009/swing-how-to-properly-update-the-ui, https://stackoverflow.com/questions/5499921/invokeandwait-method-in-swingutilities and links off of them.","title":"Update GUI before executing new item","body":"<p>I know this is a race condition, and I've tried a few methods to solve it, including an unsuccessful use of invokeAndWait to no avail.  All I want to do is have it change the text on the button to &quot;Connecting&quot;, however before the UI updates, it starts the ts = new TallyState(); call which freezes the program for up to 20 seconds while it tries to reach the controller.</p>\n<pre><code>JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\n    btnConnectSerial.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            btnConnectSerial.setText(&quot;Connecting&quot;);\n            try {\n                ts = new TallyState();\n            } catch (IOException tse) {\n                JOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\n                return;\n            } catch (Exception tse2) {\n                \n            }\n</code></pre>\n<p>I'm sure this has been answered before but I can't seem to phrase my question correctly to Google to get the answer I need.</p>\n<p>Also tried this but the rest of the ActionListener executes.  It needs wait to know if &quot;ts&quot; was able to be built (e.g. the connection doesn't time out and thus throw exception/message).</p>\n<pre><code>    JButton btnConnectSerial = new JButton(&quot;Connect Controller&quot;);\n    btnConnectSerial.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            btnConnectSerial.setText(&quot;Connecting&quot;);\n            SwingWorker myWorker= new SwingWorker&lt;String, Void&gt;()  {\n                @Override\n                protected String doInBackground() throws Exception {\n                    try {\n                        ts = new TallyState();\n                    } catch (IOException tse) {\n                        JOptionPane.showMessageDialog(null, &quot;Failed to Connect to Controller&quot;);\n                        return null;\n                    } catch (Exception tse2) {\n                        \n                    }\n                    return null;\n                }\n            };\n            myWorker.execute();\n            \n</code></pre>\n<p>Referenced: <a href=\"https://stackoverflow.com/questions/4921009/swing-how-to-properly-update-the-ui\">Swing, how to properly update the UI</a>, <a href=\"https://stackoverflow.com/questions/5499921/invokeandwait-method-in-swingutilities\">invokeAndWait method in SwingUtilities</a> and links off of them.</p>\n"},{"tags":["java","spring-boot","csv"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1674154195,"post_id":75176776,"comment_id":132659910,"body_markdown":"Not sure if overkill or not, but you could create a POST endpoint that has a MultipartFile param and then use RestTemplate to POST to that endpoint with your file","body":"Not sure if overkill or not, but you could create a POST endpoint that has a MultipartFile param and then use RestTemplate to POST to that endpoint with your file"}],"answers":[{"tags":[],"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674163145,"creation_date":1674158479,"answer_id":75177663,"question_id":75176776,"body_markdown":"I think you have different ways of doing this. \r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    \r\n    import org.springframework.web.multipart.MultipartFile;\r\n    import org.springframework.web.multipart.support.ByteArrayMultipartFileEditor;\r\n    \r\n    // read the csv file from disk\r\n    File csvFile = new File(&quot;/path/to/your/file.csv&quot;);\r\n    try(InputStream csvFileInputStream = new FileInputStream(csvFile)) {\r\n     \r\n        // create a ByteArrayMultipartFileEditor\r\n        ByteArrayMultipartFileEditor byteArrayMultipartFileEditor = new ByteArrayMultipartFileEditor();\r\n        \r\n        // set the data in the byteArrayMultipartFileEditor\r\n        byteArrayMultipartFileEditor.setValue(csvFileInputStream);\r\n        \r\n        // create a MultipartFile[]\r\n        MultipartFile[] multipartFiles = {byteArrayMultipartFileEditor.getValue()};\r\n        \r\n        // pass the multipartFiles to your existing function\r\n        yourFunction(multipartFiles);\r\n    }\r\n\r\n   \r\n`ByteArrayMultipartFileEditor` converts the inputStream to a `MultipartFile[]` named `multipartFiles` which can be passed to your existing function.\r\n\r\nThere is also this other way.\r\n\r\n    ...\r\n    import org.springframework.web.multipart.commons.CommonsMultipartFile;\r\n    import java.nio.file.Files;\r\n    \r\n    File csvFile = new File(&quot;/path/to/your/file.csv&quot;);\r\n    FileItem fileItem = new DiskFileItem(&quot;file&quot;, Files.probeContentType(csvFile.toPath()), false, csvFile.getName(), (int) csvFile.length(), csvFile.getParentFile());\r\n    CommonsMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\r\n    \r\n    yourFunction(new MultipartFile[] { multipartFile });\r\n\r\nI hope this answers your question.\r\n","title":"Java - Create in memory csv and convert to MultipartFile[]","body":"<p>I think you have different ways of doing this.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\n\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.multipart.support.ByteArrayMultipartFileEditor;\n\n// read the csv file from disk\nFile csvFile = new File(&quot;/path/to/your/file.csv&quot;);\ntry(InputStream csvFileInputStream = new FileInputStream(csvFile)) {\n \n    // create a ByteArrayMultipartFileEditor\n    ByteArrayMultipartFileEditor byteArrayMultipartFileEditor = new ByteArrayMultipartFileEditor();\n    \n    // set the data in the byteArrayMultipartFileEditor\n    byteArrayMultipartFileEditor.setValue(csvFileInputStream);\n    \n    // create a MultipartFile[]\n    MultipartFile[] multipartFiles = {byteArrayMultipartFileEditor.getValue()};\n    \n    // pass the multipartFiles to your existing function\n    yourFunction(multipartFiles);\n}\n</code></pre>\n<p><code>ByteArrayMultipartFileEditor</code> converts the inputStream to a <code>MultipartFile[]</code> named <code>multipartFiles</code> which can be passed to your existing function.</p>\n<p>There is also this other way.</p>\n<pre><code>...\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\nimport java.nio.file.Files;\n\nFile csvFile = new File(&quot;/path/to/your/file.csv&quot;);\nFileItem fileItem = new DiskFileItem(&quot;file&quot;, Files.probeContentType(csvFile.toPath()), false, csvFile.getName(), (int) csvFile.length(), csvFile.getParentFile());\nCommonsMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\n\nyourFunction(new MultipartFile[] { multipartFile });\n</code></pre>\n<p>I hope this answers your question.</p>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674163145,"creation_date":1674152986,"question_id":75176776,"body_markdown":"I have some data that I need to attach to an email as a csv file, I&#39;m looking for a way to create the csv in memory, then pass to an existing function that only accepts attachments as MultipartFile[].\r\n\r\nI got as far as saving a csv to disk, but have no idea how to skip that step / convert it to a MultipartFile[].","title":"Java - Create in memory csv and convert to MultipartFile[]","body":"<p>I have some data that I need to attach to an email as a csv file, I'm looking for a way to create the csv in memory, then pass to an existing function that only accepts attachments as MultipartFile[].</p>\n<p>I got as far as saving a csv to disk, but have no idea how to skip that step / convert it to a MultipartFile[].</p>\n"},{"tags":["java","button"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264851911,"creation_date":1264851911,"answer_id":2167759,"question_id":2167751,"body_markdown":"You call `button.addActionListener( this )`, because `this` implements the interface [`ActionListener`][1]. When the button is clicked, the method `actionPerformed(ActionEvent e)` (defined by the interface and implemented by your class) is called.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html","title":"What does a addActionListener do?","body":"<p>You call <code>button.addActionListener( this )</code>, because <code>this</code> implements the interface <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>. When the button is clicked, the method <code>actionPerformed(ActionEvent e)</code> (defined by the interface and implemented by your class) is called.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1264855958,"creation_date":1264851939,"answer_id":2167761,"question_id":2167751,"body_markdown":"An [`ActionListener`][1] is a callback mechanism. Whenever a control it is added to fires an `ActionEvent`, the `public void actionPerformed(ActionEvent e)` method will be invoked.\r\n\r\n&gt; What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called.\r\n\r\nThis is called by the internal mechanisms of the UI component. Conceptually, you can think of the code looking a bit like this:\r\n\r\n    public class Button {\r\n      private final List&lt;ActionListener&gt; listeners = new ArrayList&lt;ActionListener&gt;();\r\n    \r\n      public void addActionListener(ActionListener l) {\r\n        listeners.add(l);\r\n      }\r\n    \r\n      public void click() {\r\n        ActionEvent event = new ActionEvent(this, 0, &quot;click&quot;);\r\n        for (ActionListener l : listeners) {\r\n          l.actionPerformed(event);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html","title":"What does a addActionListener do?","body":"<p>An <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"noreferrer\"><code>ActionListener</code></a> is a callback mechanism. Whenever a control it is added to fires an <code>ActionEvent</code>, the <code>public void actionPerformed(ActionEvent e)</code> method will be invoked.</p>\n\n<blockquote>\n  <p>What I do not understand is where the actionPerformed is called. I see that it is defined within the class but there is no place where this method is called.</p>\n</blockquote>\n\n<p>This is called by the internal mechanisms of the UI component. Conceptually, you can think of the code looking a bit like this:</p>\n\n<pre><code>public class Button {\n  private final List&lt;ActionListener&gt; listeners = new ArrayList&lt;ActionListener&gt;();\n\n  public void addActionListener(ActionListener l) {\n    listeners.add(l);\n  }\n\n  public void click() {\n    ActionEvent event = new ActionEvent(this, 0, \"click\");\n    for (ActionListener l : listeners) {\n      l.actionPerformed(event);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264859444,"creation_date":1264859444,"answer_id":2168061,"question_id":2167751,"body_markdown":"Each [`JButton`][1], has an [`EventListenerList`][2]. Calling `addActionListener(this)` adds your [`ActionListener `][3], a callback function named `actionPerformed()`, to the list. You can see an outline of the code that calls your method [here][2]. The actual `fireActionPerformed()` method is in [`AbstractButton`][6]. A [`JButton`][1] is a [`JComponent`][4], which you can [see listed][5] among the various classes that use the event listener list mechanism.\r\n\r\n[1]:http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\r\n[2]:http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\r\n[3]:http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\r\n[4]:http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\r\n[5]:http://java.sun.com/javase/6/docs/api/javax/swing/event/class-use/EventListenerList.html\r\n[6]:http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html\r\n","title":"What does a addActionListener do?","body":"<p>Each <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code></a>, has an <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\" rel=\"nofollow noreferrer\"><code>EventListenerList</code></a>. Calling <code>addActionListener(this)</code> adds your <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>, a callback function named <code>actionPerformed()</code>, to the list. You can see an outline of the code that calls your method <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html\" rel=\"nofollow noreferrer\">here</a>. The actual <code>fireActionPerformed()</code> method is in <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/AbstractButton.html\" rel=\"nofollow noreferrer\"><code>AbstractButton</code></a>. A <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code></a> is a <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\"><code>JComponent</code></a>, which you can <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/event/class-use/EventListenerList.html\" rel=\"nofollow noreferrer\">see listed</a> among the various classes that use the event listener list mechanism.</p>\n"},{"tags":[],"owner":{"account_id":1933358,"reputation":387,"user_id":1742288,"accept_rate":19,"display_name":"CCNA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674162568,"creation_date":1483933904,"answer_id":41540790,"question_id":2167751,"body_markdown":"Basically, the mechanism of UI event handling is the JVM queue&#39;s events, and each type of event has its subscribers. When an event is fired, like the button is clicked, the JVM will accordingly delegate the processing to the event&#39;s subscriber. And this subscriber class has to define the method, or, event handler, to process the event.\r\n\r\nIn your case, when calling\r\n\r\n    button.addActionListener(this);\r\n\r\nthe code actually subscribes this KeyEventDemo instance to the event of type click. Then, when the button is clicked, the KeyEventDemo&#39;s method of actionPerformed will be triggered.\r\n\r\n\r\n","title":"What does a addActionListener do?","body":"<p>Basically, the mechanism of UI event handling is the JVM queue's events, and each type of event has its subscribers. When an event is fired, like the button is clicked, the JVM will accordingly delegate the processing to the event's subscriber. And this subscriber class has to define the method, or, event handler, to process the event.</p>\n<p>In your case, when calling</p>\n<pre><code>button.addActionListener(this);\n</code></pre>\n<p>the code actually subscribes this KeyEventDemo instance to the event of type click. Then, when the button is clicked, the KeyEventDemo's method of actionPerformed will be triggered.</p>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59143,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2167761,"answer_count":4,"score":11,"last_activity_date":1674162568,"creation_date":1264851724,"question_id":2167751,"body_markdown":"I have the following code:\r\n\r\n    JButton button = new JButton(&quot;Clear&quot;);\r\n    button.addActionListener(this);\r\n\r\nAs far as I understand, I create a button on which it is written &quot;Clear&quot;. Then I have to associate an action with this button (what will happen if the button is pressed) and it is done by `addActionListener`. Is it right?\r\n\r\nBut what I do not understand is where the action is specified. The press of the button should clear text area and, as far as I understand, there should be somewhere a code which clear the text area. But in the given example there is only &quot;this&quot; in the arguments of the **`addActionListener()`**.\r\n\r\nHow does the program know that it should clear the text area when the button is pressed?\r\n\r\nIf it is needed, the full code is given [here][1].\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/examples/events/KeyEventDemoProject/src/events/KeyEventDemo.java\r\n\r\n\r\n","title":"What does a addActionListener do?","body":"<p>I have the following code:</p>\n<pre><code>JButton button = new JButton(&quot;Clear&quot;);\nbutton.addActionListener(this);\n</code></pre>\n<p>As far as I understand, I create a button on which it is written &quot;Clear&quot;. Then I have to associate an action with this button (what will happen if the button is pressed) and it is done by <code>addActionListener</code>. Is it right?</p>\n<p>But what I do not understand is where the action is specified. The press of the button should clear text area and, as far as I understand, there should be somewhere a code which clear the text area. But in the given example there is only &quot;this&quot; in the arguments of the <strong><code>addActionListener()</code></strong>.</p>\n<p>How does the program know that it should clear the text area when the button is pressed?</p>\n<p>If it is needed, the full code is given <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/examples/events/KeyEventDemoProject/src/events/KeyEventDemo.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1353785029,"post_id":13544677,"comment_id":18549849,"body_markdown":"Unless you mean relative names, you are not doing what you say you are doing.","body":"Unless you mean relative names, you are not doing what you say you are doing."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":1,"creation_date":1353785904,"post_id":13544677,"comment_id":18550063,"body_markdown":"You need to compile shapeclass before Triangle class","body":"You need to compile shapeclass before Triangle class"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674159992,"post_id":13544677,"comment_id":132661732,"body_markdown":"What is the exact command you are using to compile `Triangle.java`?","body":"What is the exact command you are using to compile <code>Triangle.java</code>?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1674160850,"post_id":13544677,"comment_id":132661976,"body_markdown":"Why was *&quot;separate folder&quot;* changed to *&quot;same folder&quot;* in revision 3? A guess (the OP is gone - *&quot;Last seen more than 8 years ago&quot;*)? Was it due to [Mukul Goel&#39;s answer](https://stackoverflow.com/questions/13544677/how-can-i-use-multiple-classes-in-one-package-in-java/13544721#13544721)? Related: *[Exit strategies for &quot;chameleon questions&quot;](https://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions)*","body":"Why was <i>&quot;separate folder&quot;</i> changed to <i>&quot;same folder&quot;</i> in revision 3? A guess (the OP is gone - <i>&quot;Last seen more than 8 years ago&quot;</i>)? Was it due to <a href=\"https://stackoverflow.com/questions/13544677/how-can-i-use-multiple-classes-in-one-package-in-java/13544721#13544721\">Mukul Goel&#39;s answer</a>? Related: <i><a href=\"https://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions\">Exit strategies for &quot;chameleon questions&quot;</a></i>"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674162040,"post_id":13544677,"comment_id":132662290,"body_markdown":"My bad...I didn&#39;t realize this is a very old question...","body":"My bad...I didn&#39;t realize this is a very old question..."}],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674160260,"creation_date":1353784909,"answer_id":13544705,"question_id":13544677,"body_markdown":"You have mentioned\r\n\r\n&gt; I have put both classes in separate folder named MyShape \r\n\r\nAs per [JLS][1], it is required to have both of the classes in the same folder.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>You have mentioned</p>\n<blockquote>\n<p>I have put both classes in separate folder named MyShape</p>\n</blockquote>\n<p>As per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html\" rel=\"nofollow noreferrer\">JLS</a>, it is required to have both of the classes in the same folder.</p>\n"},{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161840,"creation_date":1353785064,"answer_id":13544721,"question_id":13544677,"body_markdown":"Both classes, *ShapeClass* and *Triangle*, need to be in the same folder if you are using the basic *[javac][1]*.\r\n\r\nIf you have them in different folders, you would need to use the `-d` option of *javac* to specify the directory. Refer to here for details: [javac][2]\r\n\r\nSo it’s advisable to keep both files in the same folder, *MyShape*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Javac\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javac.html\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Both classes, <em>ShapeClass</em> and <em>Triangle</em>, need to be in the same folder if you are using the basic <em><a href=\"https://en.wikipedia.org/wiki/Javac\" rel=\"nofollow noreferrer\">javac</a></em>.</p>\n<p>If you have them in different folders, you would need to use the <code>-d</code> option of <em>javac</em> to specify the directory. Refer to here for details: <a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/javac.html\" rel=\"nofollow noreferrer\">javac</a></p>\n<p>So it’s advisable to keep both files in the same folder, <em>MyShape</em>.</p>\n"},{"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674161030,"creation_date":1353786191,"answer_id":13544897,"question_id":13544677,"body_markdown":"1. Verify the *filenames* match the *class names*, exactly - upper/lower case on each letter.\r\n\r\n2. Verify that your *current working directory (CWD)* is at the root of your package hierarchy; according to your compiler output that would be &quot;C:\\Users\\Desktop&quot;.  This is so that the compiler can find the package path &quot;MyShape&quot; as an immediate subdirectory.\r\n\r\n3. Specify the fully qualified package\\class name (MyShape\\Triangle) as the filename to compile.\r\n\r\nThus your command-line, showing CWD as the prompt and the *javac* command, might look like (on Windows):\r\n\r\n```lang-none\r\ncd C:\\Users\\Desktop\r\njavac MyShape\\Triangle\r\n```\r\n","title":"How can I use multiple classes in one package in Java?","body":"<ol>\n<li><p>Verify the <em>filenames</em> match the <em>class names</em>, exactly - upper/lower case on each letter.</p>\n</li>\n<li><p>Verify that your <em>current working directory (CWD)</em> is at the root of your package hierarchy; according to your compiler output that would be &quot;C:\\Users\\Desktop&quot;.  This is so that the compiler can find the package path &quot;MyShape&quot; as an immediate subdirectory.</p>\n</li>\n<li><p>Specify the fully qualified package\\class name (MyShape\\Triangle) as the filename to compile.</p>\n</li>\n</ol>\n<p>Thus your command-line, showing CWD as the prompt and the <em>javac</em> command, might look like (on Windows):</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd C:\\Users\\Desktop\njavac MyShape\\Triangle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353786858,"creation_date":1353786858,"answer_id":13544996,"question_id":13544677,"body_markdown":"As long as they&#39;re in the same folder and package, you&#39;ll be OK.\r\n\r\nHowever, I would make the following changes to your classes:\r\n\r\n1. Rename `Shapeclass` to `Shape`... we *know* it&#39;s a class already. Putting &quot;class&quot; in a class name adds no value\r\n2. Since you require subclasses to declare an `area()` method, call *that* from within your `print()` method\r\n3. Don&#39;t store the `area` value in `your shape - just call the `area()` method if you need it\r\n\r\nMaking these changes simplifies your code a lot:\r\n\r\n    public abstract class Shape {\r\n        public abstract double area(double radius);\r\n    \r\n        protected void print() { // don&#39;t pass anything in!\r\n            System.out.print(&quot;Area is:&quot; + area()); // call the area() method\r\n        }\r\n    }\r\n    \r\n    public class Triangle extends Shape {\r\n        double radius; // triangles don&#39;t have radii, you&#39;ll need to store something else\r\n\r\n        public double area() {\r\n            return radius * radius; // This is a questionable calculation. fix it\r\n        }\r\n    }\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>As long as they're in the same folder and package, you'll be OK.</p>\n\n<p>However, I would make the following changes to your classes:</p>\n\n<ol>\n<li>Rename <code>Shapeclass</code> to <code>Shape</code>... we <em>know</em> it's a class already. Putting \"class\" in a class name adds no value</li>\n<li>Since you require subclasses to declare an <code>area()</code> method, call <em>that</em> from within your <code>print()</code> method</li>\n<li>Don't store the <code>area</code> value in <code>your shape - just call the</code>area()` method if you need it</li>\n</ol>\n\n<p>Making these changes simplifies your code a lot:</p>\n\n<pre><code>public abstract class Shape {\n    public abstract double area(double radius);\n\n    protected void print() { // don't pass anything in!\n        System.out.print(\"Area is:\" + area()); // call the area() method\n    }\n}\n\npublic class Triangle extends Shape {\n    double radius; // triangles don't have radii, you'll need to store something else\n\n    public double area() {\n        return radius * radius; // This is a questionable calculation. fix it\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1353796573,"creation_date":1353795652,"answer_id":13546223,"question_id":13544677,"body_markdown":"**From C:\\Users\\Desktop ...**\r\n    \r\n    javac -cp . MyShape\\Triangle.java\r\n\r\n**OR if you aren&#39;t in C:\\Users\\Desktop ...**\r\n\r\n    javac -cp C:\\Users\\Desktop C:\\Users\\Desktop\\MyShape\\Triangle.java\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p><strong>From C:\\Users\\Desktop ...</strong></p>\n\n<pre><code>javac -cp . MyShape\\Triangle.java\n</code></pre>\n\n<p><strong>OR if you aren't in C:\\Users\\Desktop ...</strong></p>\n\n<pre><code>javac -cp C:\\Users\\Desktop C:\\Users\\Desktop\\MyShape\\Triangle.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12549523,"reputation":1,"user_id":9131736,"display_name":"Avinish Panwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161720,"creation_date":1513959688,"answer_id":47944490,"question_id":13544677,"body_markdown":"Program of two classes in a single package\r\n\r\nHere is the code of package with two classes:\r\n\r\n    package pack;\r\n\r\n    class pack_add_sub\r\n    {\r\n        public void ad (int x, int y)\r\n        {\r\n            System.out.println(&quot;The Add of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot; + (x + y));\r\n        }\r\n    }\r\n\r\n    public class pack_add_subb extends pack_add_sub\r\n    {\r\n        public void su (int x, int y)\r\n        {\r\n            super.ad(x, y);\r\n            System.out.println(&quot;The Sub of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot;+  (x - y));\r\n        }\r\n    }\r\n\r\nNow we compile it and save class file in the package name folder. which created in bin folder.\r\n\r\nNow, here is the code to call both classes which created in package:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import pack.pack_add_subb;\r\n\r\n    class calling_pack_add_subb\r\n    {\r\n         public static void main (String arr[])\r\n         {\r\n             int a, b;\r\n             Scanner ob = new Scanner (System.in);\r\n             System.out.println(&quot;Enter the same value for add and sub: &quot;);\r\n             a = ob.nextInt();\r\n             b = ob.nextInt();\r\n\r\n             pack_add_subb ob1 = new pack_add_subb ();\r\n             ob1.su(a, b);\r\n         }\r\n    }\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Program of two classes in a single package</p>\n<p>Here is the code of package with two classes:</p>\n<pre><code>package pack;\n\nclass pack_add_sub\n{\n    public void ad (int x, int y)\n    {\n        System.out.println(&quot;The Add of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot; + (x + y));\n    }\n}\n\npublic class pack_add_subb extends pack_add_sub\n{\n    public void su (int x, int y)\n    {\n        super.ad(x, y);\n        System.out.println(&quot;The Sub of  &quot; + x + &quot; &amp; &quot; + y + &quot; is: &quot;+  (x - y));\n    }\n}\n</code></pre>\n<p>Now we compile it and save class file in the package name folder. which created in bin folder.</p>\n<p>Now, here is the code to call both classes which created in package:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport pack.pack_add_subb;\n\nclass calling_pack_add_subb\n{\n     public static void main (String arr[])\n     {\n         int a, b;\n         Scanner ob = new Scanner (System.in);\n         System.out.println(&quot;Enter the same value for add and sub: &quot;);\n         a = ob.nextInt();\n         b = ob.nextInt();\n\n         pack_add_subb ob1 = new pack_add_subb ();\n         ob1.su(a, b);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":2076930,"reputation":29,"user_id":1850015,"display_name":"Kameron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14871,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":6,"score":2,"last_activity_date":1674161840,"creation_date":1353784779,"question_id":13544677,"body_markdown":"Say I have the following two classes:\r\n\r\n    package MyShape;\r\n\r\n    public abstract class Shapeclass {\r\n        public abstract double area(double radius);\r\n\r\n        protected void print(double area) {\r\n            System.out.print(&quot;Area is:&quot; + area);\r\n        }\r\n    }\r\n\r\nAnd another class, *Triangle*;\r\n\r\n    package MyShape;\r\n\r\n    public class Triangle extends Shapeclass {\r\n        double area;\r\n\r\n        public double area(double radius) {\r\n            return radius * radius;\r\n        }\r\n\r\n        public void print() {\r\n            super.print(area);\r\n        }\r\n    }\r\n\r\nI have put both classes in the same folder named *MyShape*. But when I try to compile the Triangle class compiler, it shows the following error;\r\n\r\n```lang-none\r\nC:\\Users\\Desktop\\MyShape\\Triangle.java:3: error: cannot find symbol\r\npublic class Triangle extends Shapeclass\r\n                              ^\r\n  symbol: class Shapeclass\r\nC:\\Users\\Desktop\\MyShape\\Triangle.java:13: error: cannot find symbol\r\nsuper.print(area);\r\n^\r\n  symbol:   variable super\r\n  location: class Triangle\r\n```\r\n\r\nHow can I solve it?\r\n\r\n","title":"How can I use multiple classes in one package in Java?","body":"<p>Say I have the following two classes:</p>\n<pre><code>package MyShape;\n\npublic abstract class Shapeclass {\n    public abstract double area(double radius);\n\n    protected void print(double area) {\n        System.out.print(&quot;Area is:&quot; + area);\n    }\n}\n</code></pre>\n<p>And another class, <em>Triangle</em>;</p>\n<pre><code>package MyShape;\n\npublic class Triangle extends Shapeclass {\n    double area;\n\n    public double area(double radius) {\n        return radius * radius;\n    }\n\n    public void print() {\n        super.print(area);\n    }\n}\n</code></pre>\n<p>I have put both classes in the same folder named <em>MyShape</em>. But when I try to compile the Triangle class compiler, it shows the following error;</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Desktop\\MyShape\\Triangle.java:3: error: cannot find symbol\npublic class Triangle extends Shapeclass\n                              ^\n  symbol: class Shapeclass\nC:\\Users\\Desktop\\MyShape\\Triangle.java:13: error: cannot find symbol\nsuper.print(area);\n^\n  symbol:   variable super\n  location: class Triangle\n</code></pre>\n<p>How can I solve it?</p>\n"},{"tags":["java","arrays","multidimensional-array","boolean"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674167550,"post_id":75178041,"comment_id":132663671,"body_markdown":"1) What is &quot;reverse Tetris&quot;?  2) I understand the game field and figure (piece) arrays.  What does the boolean array do?  3) Edit your question to include a [mre] as text that we can copy into our IDE, compile, run, and test.","body":"1) What is &quot;reverse Tetris&quot;?  2) I understand the game field and figure (piece) arrays.  What does the boolean array do?  3) Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as text that we can copy into our IDE, compile, run, and test."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674175870,"post_id":75178041,"comment_id":132664874,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27576055,"reputation":1,"user_id":21046231,"display_name":"Tanya Fondaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674161809,"creation_date":1674160815,"question_id":75178041,"body_markdown":"I am trying to code a reverse tetris game for fun, but I am stumped on a part of my implementation :(\r\nSo I have a boolean 2D array of size m by n, another integer 2D array representing the field also of size m by n, and another integer 2D array of size r by c (the tetris piece). \r\n\r\nExample:\r\nGame field:\r\nint[][] field =  {{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};\r\n\r\nTetris piece: \r\nint[][] figure = {{1, 1, 1}, {1, 0, 1}, {1, 0, 1}};\r\n\r\nBoolean 2d Array: (Wrote code for this)\r\nboolean[][] fieldbool = [[true, true, true, true, true], [true, true, true, true, true], [true, true, true, true, true], [false, false, true, true, true], [false, false, false, true, false]]\r\n\r\nExpected output:\r\nfinal field matrix \r\nint[][] field =  {{1, 1, 1, 0, 0},{1, 0, 1, 0, 0},{1, 0, 1, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};\r\n\r\nI want to fit the tetris piece in the smallest row and column index possible. I am super confused on how to do this. Worked on it for four hours and still stumped :(\r\n\r\n\r\n\r\nSo far, I tried maintaining two integer variables that store count for the number of times there is true for row and for col. If the count is equal to the height/width of the tetris piece, I have a for loop that goes back from the index currently in minus that count and fill the values in the field. It&#39;s not working as I my output is the same as the given field. ","title":"Boolean 2d array of size m by n, another integer 2d array also with size m by n, and another integer 2d array of size r by c, replace values","body":"<p>I am trying to code a reverse tetris game for fun, but I am stumped on a part of my implementation :(\nSo I have a boolean 2D array of size m by n, another integer 2D array representing the field also of size m by n, and another integer 2D array of size r by c (the tetris piece).</p>\n<p>Example:\nGame field:\nint[][] field =  {{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{0, 0, 0, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};</p>\n<p>Tetris piece:\nint[][] figure = {{1, 1, 1}, {1, 0, 1}, {1, 0, 1}};</p>\n<p>Boolean 2d Array: (Wrote code for this)\nboolean[][] fieldbool = [[true, true, true, true, true], [true, true, true, true, true], [true, true, true, true, true], [false, false, true, true, true], [false, false, false, true, false]]</p>\n<p>Expected output:\nfinal field matrix\nint[][] field =  {{1, 1, 1, 0, 0},{1, 0, 1, 0, 0},{1, 0, 1, 0, 0},{1, 1, 0, 1, 0},{1, 0, 1, 0, 1}};</p>\n<p>I want to fit the tetris piece in the smallest row and column index possible. I am super confused on how to do this. Worked on it for four hours and still stumped :(</p>\n<p>So far, I tried maintaining two integer variables that store count for the number of times there is true for row and for col. If the count is equal to the height/width of the tetris piece, I have a for loop that goes back from the index currently in minus that count and fill the values in the field. It's not working as I my output is the same as the given field.</p>\n"},{"tags":["java","open-telemetry","telemetry"],"comments":[{"owner":{"account_id":14812666,"reputation":733,"user_id":10697769,"display_name":"James Moessis"},"score":0,"creation_date":1674441738,"post_id":75160039,"comment_id":132708289,"body_markdown":"The 4th log line has a warning for the logging exporter, I would suggest updating your config to the logging exporter to not use the deprecated fields and see if that fixes it.","body":"The 4th log line has a warning for the logging exporter, I would suggest updating your config to the logging exporter to not use the deprecated fields and see if that fixes it."},{"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"score":1,"creation_date":1674655905,"post_id":75160039,"comment_id":132760903,"body_markdown":"I have tried with verbosity: detailed but same issue,...","body":"I have tried with verbosity: detailed but same issue,..."},{"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"score":0,"creation_date":1674656146,"post_id":75160039,"comment_id":132760995,"body_markdown":"It was not working for me so I have tried with sending binary instead of json and worked smoothly (https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/otlp.md#otlphttp)","body":"It was not working for me so I have tried with sending binary instead of json and worked smoothly (<a href=\"https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/otlp.md#otlphttp\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-specification/blob/&zwnj;&#8203;main/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674161753,"creation_date":1674161753,"answer_id":75178199,"question_id":75160039,"body_markdown":"Use older OTLP collector version, which has older OTLP protocol version and you will get error response for your payload:\r\n```\r\n{\r\n\t&quot;code&quot;: 3,\r\n\t&quot;message&quot;: &quot;unknown field \\&quot;unknownFields\\&quot; in v1.ExportMetricsServiceRequest&quot;\r\n}\r\n```\r\nNewer versions ignore unknowns fields silently, so you don&#39;t see any error.\r\n\r\nTested with `public.ecr.aws/aws-observability/aws-otel-collector:v0.21.0`","title":"Telemetry Collector not logging/exporting http calls","body":"<p>Use older OTLP collector version, which has older OTLP protocol version and you will get error response for your payload:</p>\n<pre><code>{\n    &quot;code&quot;: 3,\n    &quot;message&quot;: &quot;unknown field \\&quot;unknownFields\\&quot; in v1.ExportMetricsServiceRequest&quot;\n}\n</code></pre>\n<p>Newer versions ignore unknowns fields silently, so you don't see any error.</p>\n<p>Tested with <code>public.ecr.aws/aws-observability/aws-otel-collector:v0.21.0</code></p>\n"}],"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674161753,"creation_date":1674048829,"question_id":75160039,"body_markdown":"I am using Opentelemetry collector with below configuration which uses http receiver and export it to logs but when I call the API it returns 200 http code but in the console of collector I don&#39;t see any logs.\r\n\r\n\r\nNOTE: I am using otel/opentelemetry-collector-contrib:0.68.0 Image\r\n\r\n**collector-config.yaml**\r\n````\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      http: http://localhost:4318\r\n      \r\nexporters:\r\n  logging:\r\n    loglevel: debug\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n    metrics:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n    logs:\r\n      exporters: [logging]\r\n      receivers: [otlp]\r\n  telemetry:\r\n    metrics:\r\n      level: detailed\r\n````\r\n**Http Call:**\r\nPOST: http://localhost:4318/v1/metrics\r\n\r\nRequest Body\r\n````\r\n{\r\n    &quot;resourceMetrics_&quot;: [\r\n        {\r\n            &quot;resource_&quot;: {\r\n                &quot;attributes_&quot;: [\r\n                    {\r\n                        &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                        &quot;value_&quot;: {\r\n                            &quot;valueCase_&quot;: 1,\r\n                            &quot;value_&quot;: &quot;http.status&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    },\r\n                    {\r\n                        &quot;key_&quot;: &quot;loki.resource.labels&quot;,\r\n                        &quot;value_&quot;: {\r\n                            &quot;valueCase_&quot;: 1,\r\n                            &quot;value_&quot;: &quot;host.name, pod.name&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    }\r\n                ],\r\n                &quot;droppedAttributesCount_&quot;: 0,\r\n                &quot;memoizedIsInitialized&quot;: -1,\r\n                &quot;unknownFields&quot;: {\r\n                    &quot;fields&quot;: {}\r\n                },\r\n                &quot;memoizedSize&quot;: -1,\r\n                &quot;memoizedHashCode&quot;: 0\r\n            },\r\n            &quot;scopeMetrics_&quot;: [\r\n                {\r\n                    &quot;scope_&quot;: {\r\n                        &quot;name_&quot;: &quot;otelcol/hostmetricsreceiver/load&quot;,\r\n                        &quot;version_&quot;: &quot;0.68.0&quot;,\r\n                        &quot;attributes_&quot;: [],\r\n                        &quot;droppedAttributesCount_&quot;: 0,\r\n                        &quot;memoizedIsInitialized&quot;: -1,\r\n                        &quot;unknownFields&quot;: {\r\n                            &quot;fields&quot;: {}\r\n                        },\r\n                        &quot;memoizedSize&quot;: -1,\r\n                        &quot;memoizedHashCode&quot;: 0\r\n                    },\r\n                    &quot;metrics_&quot;: [\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.94,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.15m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 15 minutes.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.99,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.1m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 1 minute.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        },\r\n                        {\r\n                            &quot;dataCase_&quot;: 5,\r\n                            &quot;data_&quot;: {\r\n                                &quot;dataPoints_&quot;: [\r\n                                    {\r\n                                        &quot;valueCase_&quot;: 4,\r\n                                        &quot;value_&quot;: 0.81,\r\n                                        &quot;attributes_&quot;: [\r\n                                            {\r\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\r\n                                                &quot;value_&quot;: {\r\n                                                    &quot;valueCase_&quot;: 1,\r\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\r\n                                                    &quot;memoizedIsInitialized&quot;: -1,\r\n                                                    &quot;unknownFields&quot;: {\r\n                                                        &quot;fields&quot;: {}\r\n                                                    },\r\n                                                    &quot;memoizedSize&quot;: -1,\r\n                                                    &quot;memoizedHashCode&quot;: 0\r\n                                                },\r\n                                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                                &quot;unknownFields&quot;: {\r\n                                                    &quot;fields&quot;: {}\r\n                                                },\r\n                                                &quot;memoizedSize&quot;: -1,\r\n                                                &quot;memoizedHashCode&quot;: 0\r\n                                            }\r\n                                        ],\r\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\r\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\r\n                                        &quot;exemplars_&quot;: [],\r\n                                        &quot;flags_&quot;: 0,\r\n                                        &quot;memoizedIsInitialized&quot;: -1,\r\n                                        &quot;unknownFields&quot;: {\r\n                                            &quot;fields&quot;: {}\r\n                                        },\r\n                                        &quot;memoizedSize&quot;: -1,\r\n                                        &quot;memoizedHashCode&quot;: 0\r\n                                    }\r\n                                ],\r\n                                &quot;memoizedIsInitialized&quot;: -1,\r\n                                &quot;unknownFields&quot;: {\r\n                                    &quot;fields&quot;: {}\r\n                                },\r\n                                &quot;memoizedSize&quot;: -1,\r\n                                &quot;memoizedHashCode&quot;: 0\r\n                            },\r\n                            &quot;name_&quot;: &quot;system.cpu.load_average.5m&quot;,\r\n                            &quot;description_&quot;: &quot;Average CPU Load over 5 minutes.&quot;,\r\n                            &quot;unit_&quot;: &quot;1&quot;,\r\n                            &quot;memoizedIsInitialized&quot;: -1,\r\n                            &quot;unknownFields&quot;: {\r\n                                &quot;fields&quot;: {}\r\n                            },\r\n                            &quot;memoizedSize&quot;: -1,\r\n                            &quot;memoizedHashCode&quot;: 0\r\n                        }\r\n                    ],\r\n                    &quot;schemaUrl_&quot;: &quot;&quot;,\r\n                    &quot;memoizedIsInitialized&quot;: -1,\r\n                    &quot;unknownFields&quot;: {\r\n                        &quot;fields&quot;: {}\r\n                    },\r\n                    &quot;memoizedSize&quot;: -1,\r\n                    &quot;memoizedHashCode&quot;: 0\r\n                }\r\n            ],\r\n            &quot;schemaUrl_&quot;: &quot;https://opentelemetry.io/schemas/1.9.0&quot;,\r\n            &quot;memoizedIsInitialized&quot;: -1,\r\n            &quot;unknownFields&quot;: {\r\n                &quot;fields&quot;: {}\r\n            },\r\n            &quot;memoizedSize&quot;: -1,\r\n            &quot;memoizedHashCode&quot;: 0\r\n        }\r\n    ],\r\n    &quot;memoizedIsInitialized&quot;: 1,\r\n    &quot;unknownFields&quot;: {\r\n        &quot;fields&quot;: {}\r\n    },\r\n    &quot;memoizedSize&quot;: -1,\r\n    &quot;memoizedHashCode&quot;: 0\r\n}\r\n````\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Collector Logs:**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6vaM3.png\r\n  [2]: https://i.stack.imgur.com/az9G6.png","title":"Telemetry Collector not logging/exporting http calls","body":"<p>I am using Opentelemetry collector with below configuration which uses http receiver and export it to logs but when I call the API it returns 200 http code but in the console of collector I don't see any logs.</p>\n<p>NOTE: I am using otel/opentelemetry-collector-contrib:0.68.0 Image</p>\n<p><strong>collector-config.yaml</strong></p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      http: http://localhost:4318\n      \nexporters:\n  logging:\n    loglevel: debug\n\nservice:\n  pipelines:\n    traces:\n      exporters: [logging]\n      receivers: [otlp]\n    metrics:\n      exporters: [logging]\n      receivers: [otlp]\n    logs:\n      exporters: [logging]\n      receivers: [otlp]\n  telemetry:\n    metrics:\n      level: detailed\n</code></pre>\n<p><strong>Http Call:</strong>\nPOST: http://localhost:4318/v1/metrics</p>\n<p>Request Body</p>\n<pre><code>{\n    &quot;resourceMetrics_&quot;: [\n        {\n            &quot;resource_&quot;: {\n                &quot;attributes_&quot;: [\n                    {\n                        &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                        &quot;value_&quot;: {\n                            &quot;valueCase_&quot;: 1,\n                            &quot;value_&quot;: &quot;http.status&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    },\n                    {\n                        &quot;key_&quot;: &quot;loki.resource.labels&quot;,\n                        &quot;value_&quot;: {\n                            &quot;valueCase_&quot;: 1,\n                            &quot;value_&quot;: &quot;host.name, pod.name&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    }\n                ],\n                &quot;droppedAttributesCount_&quot;: 0,\n                &quot;memoizedIsInitialized&quot;: -1,\n                &quot;unknownFields&quot;: {\n                    &quot;fields&quot;: {}\n                },\n                &quot;memoizedSize&quot;: -1,\n                &quot;memoizedHashCode&quot;: 0\n            },\n            &quot;scopeMetrics_&quot;: [\n                {\n                    &quot;scope_&quot;: {\n                        &quot;name_&quot;: &quot;otelcol/hostmetricsreceiver/load&quot;,\n                        &quot;version_&quot;: &quot;0.68.0&quot;,\n                        &quot;attributes_&quot;: [],\n                        &quot;droppedAttributesCount_&quot;: 0,\n                        &quot;memoizedIsInitialized&quot;: -1,\n                        &quot;unknownFields&quot;: {\n                            &quot;fields&quot;: {}\n                        },\n                        &quot;memoizedSize&quot;: -1,\n                        &quot;memoizedHashCode&quot;: 0\n                    },\n                    &quot;metrics_&quot;: [\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.94,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.15m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 15 minutes.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.99,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.1m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 1 minute.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        },\n                        {\n                            &quot;dataCase_&quot;: 5,\n                            &quot;data_&quot;: {\n                                &quot;dataPoints_&quot;: [\n                                    {\n                                        &quot;valueCase_&quot;: 4,\n                                        &quot;value_&quot;: 0.81,\n                                        &quot;attributes_&quot;: [\n                                            {\n                                                &quot;key_&quot;: &quot;loki.attribute.labels&quot;,\n                                                &quot;value_&quot;: {\n                                                    &quot;valueCase_&quot;: 1,\n                                                    &quot;value_&quot;: &quot;http.status_code&quot;,\n                                                    &quot;memoizedIsInitialized&quot;: -1,\n                                                    &quot;unknownFields&quot;: {\n                                                        &quot;fields&quot;: {}\n                                                    },\n                                                    &quot;memoizedSize&quot;: -1,\n                                                    &quot;memoizedHashCode&quot;: 0\n                                                },\n                                                &quot;memoizedIsInitialized&quot;: -1,\n                                                &quot;unknownFields&quot;: {\n                                                    &quot;fields&quot;: {}\n                                                },\n                                                &quot;memoizedSize&quot;: -1,\n                                                &quot;memoizedHashCode&quot;: 0\n                                            }\n                                        ],\n                                        &quot;startTimeUnixNano_&quot;: 1673933623000000000,\n                                        &quot;timeUnixNano_&quot;: 1673962743472355755,\n                                        &quot;exemplars_&quot;: [],\n                                        &quot;flags_&quot;: 0,\n                                        &quot;memoizedIsInitialized&quot;: -1,\n                                        &quot;unknownFields&quot;: {\n                                            &quot;fields&quot;: {}\n                                        },\n                                        &quot;memoizedSize&quot;: -1,\n                                        &quot;memoizedHashCode&quot;: 0\n                                    }\n                                ],\n                                &quot;memoizedIsInitialized&quot;: -1,\n                                &quot;unknownFields&quot;: {\n                                    &quot;fields&quot;: {}\n                                },\n                                &quot;memoizedSize&quot;: -1,\n                                &quot;memoizedHashCode&quot;: 0\n                            },\n                            &quot;name_&quot;: &quot;system.cpu.load_average.5m&quot;,\n                            &quot;description_&quot;: &quot;Average CPU Load over 5 minutes.&quot;,\n                            &quot;unit_&quot;: &quot;1&quot;,\n                            &quot;memoizedIsInitialized&quot;: -1,\n                            &quot;unknownFields&quot;: {\n                                &quot;fields&quot;: {}\n                            },\n                            &quot;memoizedSize&quot;: -1,\n                            &quot;memoizedHashCode&quot;: 0\n                        }\n                    ],\n                    &quot;schemaUrl_&quot;: &quot;&quot;,\n                    &quot;memoizedIsInitialized&quot;: -1,\n                    &quot;unknownFields&quot;: {\n                        &quot;fields&quot;: {}\n                    },\n                    &quot;memoizedSize&quot;: -1,\n                    &quot;memoizedHashCode&quot;: 0\n                }\n            ],\n            &quot;schemaUrl_&quot;: &quot;https://opentelemetry.io/schemas/1.9.0&quot;,\n            &quot;memoizedIsInitialized&quot;: -1,\n            &quot;unknownFields&quot;: {\n                &quot;fields&quot;: {}\n            },\n            &quot;memoizedSize&quot;: -1,\n            &quot;memoizedHashCode&quot;: 0\n        }\n    ],\n    &quot;memoizedIsInitialized&quot;: 1,\n    &quot;unknownFields&quot;: {\n        &quot;fields&quot;: {}\n    },\n    &quot;memoizedSize&quot;: -1,\n    &quot;memoizedHashCode&quot;: 0\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6vaM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vaM3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Collector Logs:</strong>\n<a href=\"https://i.stack.imgur.com/az9G6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/az9G6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":13982649,"reputation":364,"user_id":10098462,"display_name":"jackssrt"},"score":0,"creation_date":1674153761,"post_id":75176873,"comment_id":132659767,"body_markdown":"Please don&#39;t post images of your code, but instead use code blocks.","body":"Please don&#39;t post images of your code, but instead use code blocks."},{"owner":{"account_id":14605414,"reputation":11,"user_id":19660868,"display_name":"lugowyties"},"score":0,"creation_date":1674153993,"post_id":75176873,"comment_id":132659839,"body_markdown":"Sorry, I don&#39;t use this website regularly","body":"Sorry, I don&#39;t use this website regularly"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1674154447,"post_id":75176873,"comment_id":132659980,"body_markdown":"Off-topic:  A better design would be to have a class that has both a name and a score: `class Student { String name; int score; ...` You can create a [`Comparator`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html) to find the Student with the maximum score. https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection,%20java.util.Comparator)","body":"Off-topic:  A better design would be to have a class that has both a name and a score: <code>class Student { String name; int score; ...</code> You can create a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> to find the Student with the maximum score. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max(java.util.Collection,%20java.util.Comparator)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674161315,"creation_date":1674153720,"answer_id":75176906,"question_id":75176873,"body_markdown":"First find the element with the highest value. Remember the index at which you found that value.\r\n\r\nThen print from both arraylists the element with the index you remembered before.\r\n\r\nWith the line\r\n\r\n    Integer max = Collections.max(scores);\r\n\r\nyou get the maximum value easily, but you do not know at which index it occurred. Find another way to get the max, since actually you are interested in the index, not the value.","title":"Printing the corresponding item of two ArrayLists?","body":"<p>First find the element with the highest value. Remember the index at which you found that value.</p>\n<p>Then print from both arraylists the element with the index you remembered before.</p>\n<p>With the line</p>\n<pre><code>Integer max = Collections.max(scores);\n</code></pre>\n<p>you get the maximum value easily, but you do not know at which index it occurred. Find another way to get the max, since actually you are interested in the index, not the value.</p>\n"}],"owner":{"account_id":14605414,"reputation":11,"user_id":19660868,"display_name":"lugowyties"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1674161315,"creation_date":1674153536,"question_id":75176873,"body_markdown":"[1] I want to print out the highest value from the second ArrayList (300) with its corresponding name from the first ArrayList (in this case, Abraham Lincoln)\r\n\r\nEx. &quot;Abraham Lincoln 300&quot;\r\n\r\nWith the code I&#39;ve already written, the entirety of the first ArrayList and the highest value in the second ArrayList will print.\r\n\r\nHow could I go about this? I tried using an index method but I was unsure how to properly apply it.\r\n\r\n\r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Names {\r\n    \tpublic static void main(String args[]){\r\n    \r\n    ArrayList&lt;String&gt; students = new ArrayList&lt;&gt;();\r\n    students.add(&quot;John F. Kennedy&quot;);\r\n    students.add(&quot;Donald Trump&quot;);\r\n    students.add(&quot;Theodore Roosevelt&quot;);\r\n    students.add(&quot;Abraham Lincoln&quot;);\r\n    students.add(&quot;Millard Fillmore&quot;);\r\n    \r\n    System.out.println(students);\r\n    \r\n    ArrayList&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\r\n    scores.add(100);\r\n    scores.add(250);\r\n    scores.add(120);\r\n    scores.add(300);\r\n    scores.add(200);\r\n    \r\n    Integer max = Collections.max(scores);\r\n    System.out.println(max); \r\n    \t}\r\n    }","title":"Printing the corresponding item of two ArrayLists?","body":"<p>[1] I want to print out the highest value from the second ArrayList (300) with its corresponding name from the first ArrayList (in this case, Abraham Lincoln)</p>\n<p>Ex. &quot;Abraham Lincoln 300&quot;</p>\n<p>With the code I've already written, the entirety of the first ArrayList and the highest value in the second ArrayList will print.</p>\n<p>How could I go about this? I tried using an index method but I was unsure how to properly apply it.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Names {\n    public static void main(String args[]){\n\nArrayList&lt;String&gt; students = new ArrayList&lt;&gt;();\nstudents.add(&quot;John F. Kennedy&quot;);\nstudents.add(&quot;Donald Trump&quot;);\nstudents.add(&quot;Theodore Roosevelt&quot;);\nstudents.add(&quot;Abraham Lincoln&quot;);\nstudents.add(&quot;Millard Fillmore&quot;);\n\nSystem.out.println(students);\n\nArrayList&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\nscores.add(100);\nscores.add(250);\nscores.add(120);\nscores.add(300);\nscores.add(200);\n\nInteger max = Collections.max(scores);\nSystem.out.println(max); \n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","classpath"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1469799099,"creation_date":1407336147,"answer_id":25163361,"question_id":25162773,"body_markdown":"In Eclipse, there is a build classpath and a runtime classpath. There is also the build output location, which by default is `bin`. You don&#39;t want to add resources directly to `bin` because Eclipse can delete its contents when doing a clean build. What you need to do is add a `resources` folder in your project to contain any non-Java files that you want included in your build output.\r\n\r\nTo include the contents of this `resources` folder in the build output (`bin`), right-click the project and select Properties. In the Project Properties, select the **Java Build Path** section, then the **Source** tab.\r\n\r\n![enter image description here][1]\r\n\r\nUse the **Add Folder...** button to select the `resources` folder from your project, then **OK** to save the changes. At that point, Eclipse will automatically copy everything from `resources` into `bin` when it builds.\r\n\r\n  [1]: http://i.stack.imgur.com/zOOlY.png","title":"How do I add a directory to the eclipse classpath?","body":"<p>In Eclipse, there is a build classpath and a runtime classpath. There is also the build output location, which by default is <code>bin</code>. You don't want to add resources directly to <code>bin</code> because Eclipse can delete its contents when doing a clean build. What you need to do is add a <code>resources</code> folder in your project to contain any non-Java files that you want included in your build output.</p>\n\n<p>To include the contents of this <code>resources</code> folder in the build output (<code>bin</code>), right-click the project and select Properties. In the Project Properties, select the <strong>Java Build Path</strong> section, then the <strong>Source</strong> tab.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zOOlY.png\" alt=\"enter image description here\"></p>\n\n<p>Use the <strong>Add Folder...</strong> button to select the <code>resources</code> folder from your project, then <strong>OK</strong> to save the changes. At that point, Eclipse will automatically copy everything from <code>resources</code> into <code>bin</code> when it builds.</p>\n"},{"tags":[],"owner":{"account_id":7394270,"reputation":41,"user_id":5626736,"display_name":"Vivek Vardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476779499,"creation_date":1476779499,"answer_id":40103303,"question_id":25162773,"body_markdown":"Right Click on the *project-name* in **Package Explorer**, select **Properties**, select **Java Build Path** on the left, select **Source** tab on the right, click on **Add Folder**, browse through the project&#39;s directories to select the resources folder or whatever you need to add to the eclipse classpath, hit **OK**, again hit **OK**. Done.","title":"How do I add a directory to the eclipse classpath?","body":"<p>Right Click on the <em>project-name</em> in <strong>Package Explorer</strong>, select <strong>Properties</strong>, select <strong>Java Build Path</strong> on the left, select <strong>Source</strong> tab on the right, click on <strong>Add Folder</strong>, browse through the project's directories to select the resources folder or whatever you need to add to the eclipse classpath, hit <strong>OK</strong>, again hit <strong>OK</strong>. Done.</p>\n"},{"tags":[],"owner":{"account_id":4041783,"reputation":71,"user_id":3324410,"display_name":"user3324410"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502919904,"creation_date":1502917428,"answer_id":45722968,"question_id":25162773,"body_markdown":"This is for a maven project:\r\n\r\n 1. Right click on project\r\n 2. click on run configurations\r\n 3. click on the classpath tab (Oxygen Eclipse)\r\n 4. click on user entries\r\n 5.  click on Advanced\r\n 6. first radio selection default should be &#39;Add Folders&#39;\r\n 7. click OK\r\n\r\n\r\n\r\n","title":"How do I add a directory to the eclipse classpath?","body":"<p>This is for a maven project:</p>\n\n<ol>\n<li>Right click on project</li>\n<li>click on run configurations</li>\n<li>click on the classpath tab (Oxygen Eclipse)</li>\n<li>click on user entries</li>\n<li>click on Advanced</li>\n<li>first radio selection default should be 'Add Folders'</li>\n<li>click OK</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13269596,"reputation":21,"user_id":9581112,"display_name":"Rajesh Guna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523223040,"creation_date":1523222929,"answer_id":49722956,"question_id":25162773,"body_markdown":"Follow these steps to get this issue fixed:\r\n\r\n1. Right click on Project\r\n1. Click on Run As and select Run Configurations\r\n1. Click on the classpath tab (Oxygen Eclipse)\r\n1. Click on user entries\r\n1. Click on Add External JARs.. and choose the downloaded JAR file\r\n1. Click Apply and run your project...\r\n","title":"How do I add a directory to the eclipse classpath?","body":"<p>Follow these steps to get this issue fixed:</p>\n\n<ol>\n<li>Right click on Project</li>\n<li>Click on Run As and select Run Configurations</li>\n<li>Click on the classpath tab (Oxygen Eclipse)</li>\n<li>Click on user entries</li>\n<li>Click on Add External JARs.. and choose the downloaded JAR file</li>\n<li>Click Apply and run your project...</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2168414,"reputation":1,"user_id":2521889,"display_name":"Phil A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602127074,"creation_date":1602127074,"answer_id":64255284,"question_id":25162773,"body_markdown":"If you don&#39;t want the properties file to be copied to the bin folder, you can try the following:\r\n\r\n1. Right click your project, select **Build Path**, select **Configure Build Path..**\r\n\r\n2. Select **Libraries** tab\r\n\r\n3. Select **Add class folder..**\r\n\r\n4. Add your resource folder.","title":"How do I add a directory to the eclipse classpath?","body":"<p>If you don't want the properties file to be copied to the bin folder, you can try the following:</p>\n<ol>\n<li><p>Right click your project, select <strong>Build Path</strong>, select <strong>Configure Build Path..</strong></p>\n</li>\n<li><p>Select <strong>Libraries</strong> tab</p>\n</li>\n<li><p>Select <strong>Add class folder..</strong></p>\n</li>\n<li><p>Add your resource folder.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2528231,"reputation":667,"user_id":2197116,"accept_rate":73,"display_name":"user2197116"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61450,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":25163361,"answer_count":5,"score":18,"last_activity_date":1674160200,"creation_date":1407334647,"question_id":25162773,"body_markdown":"I&#39;m attempting to run an already existing eclipse project created by another person.  \r\nAfter importing it to eclipse, and attempting to Run As-&gt;Java Application, it fails because it cannot find a .properties file in bin/resources\r\n\r\nI printed out the classpath eclipse was using\r\n\r\n    logger.info(System.getProperty(&quot;java.class.path&quot;));\r\n\r\nand sure enough, it includes bin, and all the lib/*.jars, but not bin/resources. Copying the .properties file into bin makes the program work, but I wanted to understand how to add a directory to the eclipse classpath. \r\n\r\nI tried several things, none of which worked\r\n\r\n    export CLASSPATH=$CLASSPATH:/home/me/programdir/bin/resources\r\n\r\nThis didn&#39;t work. I understand it&#39;s not a desirable way to approach the issue, but I had thought it would fix the problem (I have more of a windows than linux background so perhaps I am missing some nuances of system variables in linux)\r\n\r\nNext up, I tried modifying the VM arguments in the Run-&gt;Configurations dialog in Eclipse\r\n\r\n    -classpath &quot;/home/me/programdir/bin/resources&quot;\r\n\r\nNo luck here either, which confused me, as I was sure it would work and seemed like a reasonable solution to a specific program needing one additional folder added to the classpath. \r\n\r\nNext I tried modifying build.xml directly. I found the part that defines the classpath and added my own line for bin/resources, as follows:\r\n\r\n\t&lt;path id=&quot;classpath&quot;&gt;\r\n\t    &lt;fileset dir=&quot;./bin/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\r\n\t\t&lt;fileset dir=&quot;./lib&quot; includes=&quot;**/*.jar&quot; /&gt; \r\n\t&lt;/path&gt;\r\n\r\nthis too was unsuccessful. This perplexed me even more, so I commented out the entire path element, and the classpath printed out  by the logger was unchanged, so it is apparent that whatever classpath eclipse was using, it certainly wasn&#39;t this one. This seemed to me the best solution, had it worked: the build.xml file could be checked in with the correct additions to prevent future users from experiencing the problem. \r\n\r\nNext I tried the IDE approach. Run-&gt;Configurations-&gt;Classpath-&gt; User Entries-&gt;Advanced and simply added the bin/resources folder. That worked perfectly, the program finds the properties file, all is well. However, I am dissatisfied that my previous efforts failed without me really understanding why. It seems that each one should have worked. \r\n\r\nAdditionally, I want to ensure that I fix this problem in such a way that it is captured by the code I check in so that subsequent users do not have to go through the same steps. My solution is thus not very satisfactory as I am not sure what actual piece of code changed, and thus cannot verify that the &#39;fix&#39; is checked in. \r\n\r\nHow do you find the actual definition that eclipse is using for its classpath? I had thought it would be the build.xml classpath definition, but that did not seem to be the case at all. ","title":"How do I add a directory to the eclipse classpath?","body":"<p>I'm attempting to run an already existing eclipse project created by another person.<br>\nAfter importing it to eclipse, and attempting to Run As->Java Application, it fails because it cannot find a .properties file in bin/resources</p>\n\n<p>I printed out the classpath eclipse was using</p>\n\n<pre><code>logger.info(System.getProperty(\"java.class.path\"));\n</code></pre>\n\n<p>and sure enough, it includes bin, and all the lib/*.jars, but not bin/resources. Copying the .properties file into bin makes the program work, but I wanted to understand how to add a directory to the eclipse classpath. </p>\n\n<p>I tried several things, none of which worked</p>\n\n<pre><code>export CLASSPATH=$CLASSPATH:/home/me/programdir/bin/resources\n</code></pre>\n\n<p>This didn't work. I understand it's not a desirable way to approach the issue, but I had thought it would fix the problem (I have more of a windows than linux background so perhaps I am missing some nuances of system variables in linux)</p>\n\n<p>Next up, I tried modifying the VM arguments in the Run->Configurations dialog in Eclipse</p>\n\n<pre><code>-classpath \"/home/me/programdir/bin/resources\"\n</code></pre>\n\n<p>No luck here either, which confused me, as I was sure it would work and seemed like a reasonable solution to a specific program needing one additional folder added to the classpath. </p>\n\n<p>Next I tried modifying build.xml directly. I found the part that defines the classpath and added my own line for bin/resources, as follows:</p>\n\n<pre><code>&lt;path id=\"classpath\"&gt;\n    &lt;fileset dir=\"./bin/resources\" includes=\"**/*.properties\"/&gt;\n    &lt;fileset dir=\"./lib\" includes=\"**/*.jar\" /&gt; \n&lt;/path&gt;\n</code></pre>\n\n<p>this too was unsuccessful. This perplexed me even more, so I commented out the entire path element, and the classpath printed out  by the logger was unchanged, so it is apparent that whatever classpath eclipse was using, it certainly wasn't this one. This seemed to me the best solution, had it worked: the build.xml file could be checked in with the correct additions to prevent future users from experiencing the problem. </p>\n\n<p>Next I tried the IDE approach. Run->Configurations->Classpath-> User Entries->Advanced and simply added the bin/resources folder. That worked perfectly, the program finds the properties file, all is well. However, I am dissatisfied that my previous efforts failed without me really understanding why. It seems that each one should have worked. </p>\n\n<p>Additionally, I want to ensure that I fix this problem in such a way that it is captured by the code I check in so that subsequent users do not have to go through the same steps. My solution is thus not very satisfactory as I am not sure what actual piece of code changed, and thus cannot verify that the 'fix' is checked in. </p>\n\n<p>How do you find the actual definition that eclipse is using for its classpath? I had thought it would be the build.xml classpath definition, but that did not seem to be the case at all. </p>\n"},{"tags":["java","android","animation","android-intent","android-activity"],"answers":[{"tags":[],"owner":{"account_id":217372,"reputation":774,"user_id":473140,"accept_rate":86,"display_name":"CoolMcGrrr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1480313476,"creation_date":1286875756,"answer_id":3913210,"question_id":3504619,"body_markdown":"You should take a look [Activity.overridePendingTransition()][1].\r\n\r\nOf course, this requires that you run at least version 2.0 of the SDK.\r\n\r\n  [1]: http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int,%20int)","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>You should take a look <a href=\"http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int,%20int)\" rel=\"nofollow noreferrer\">Activity.overridePendingTransition()</a>.</p>\n\n<p>Of course, this requires that you run at least version 2.0 of the SDK.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1480313736,"creation_date":1309196862,"answer_id":6496809,"question_id":3504619,"body_markdown":"CoolMcGrr is right, you want to use [`overridePendingTransition(int enterAnim, int exitAnim)`][1].\r\n\r\nTo specifically get the standard &quot;back button&quot; transition, I use these as the `enterAnim` and `exitAnim` transitions:\r\n\r\n**push_right_in.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;translate android:fromXDelta=&quot;-100%p&quot; android:toXDelta=&quot;0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot;/&gt;\r\n    \t&lt;alpha android:fromAlpha=&quot;0.0&quot; android:toAlpha=&quot;1.0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\n\r\n----------\r\n**push_right_out.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;translate android:fromXDelta=&quot;0&quot; android:toXDelta=&quot;100%p&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot;/&gt;\r\n    \t&lt;alpha android:fromAlpha=&quot;1.0&quot; android:toAlpha=&quot;0.0&quot; android:duration=&quot;@android:integer/config_shortAnimTime&quot; /&gt;\r\n    &lt;/set&gt;\r\n\r\n[1]: https://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int%2C%20int)","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>CoolMcGrr is right, you want to use <a href=\"https://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int%2C%20int)\" rel=\"nofollow noreferrer\"><code>overridePendingTransition(int enterAnim, int exitAnim)</code></a>.</p>\n\n<p>To specifically get the standard \"back button\" transition, I use these as the <code>enterAnim</code> and <code>exitAnim</code> transitions:</p>\n\n<p><strong>push_right_in.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;translate android:fromXDelta=\"-100%p\" android:toXDelta=\"0\" android:duration=\"@android:integer/config_shortAnimTime\"/&gt;\n    &lt;alpha android:fromAlpha=\"0.0\" android:toAlpha=\"1.0\" android:duration=\"@android:integer/config_shortAnimTime\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>push_right_out.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;translate android:fromXDelta=\"0\" android:toXDelta=\"100%p\" android:duration=\"@android:integer/config_shortAnimTime\"/&gt;\n    &lt;alpha android:fromAlpha=\"1.0\" android:toAlpha=\"0.0\" android:duration=\"@android:integer/config_shortAnimTime\" /&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":187685,"reputation":2246,"user_id":425932,"display_name":"dzeikei"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1350887821,"creation_date":1350887821,"answer_id":13006088,"question_id":3504619,"body_markdown":"Problem occurs nowadays because pre-ICS and ICS have different built-in activity transitions.\r\nThis is much cleaner than defining your own animation and SDK independant:\r\n\r\n    Intent intent = new Intent(this, MMConnection.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n    this.startActivity(intent);\r\n    finish();\r\n\r\nThis will start the activity (not visible yet) and play the &quot;activity finish&quot; transition to the new activity.","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>Problem occurs nowadays because pre-ICS and ICS have different built-in activity transitions.\nThis is much cleaner than defining your own animation and SDK independant:</p>\n\n<pre><code>Intent intent = new Intent(this, MMConnection.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NO_ANIMATION);\nthis.startActivity(intent);\nfinish();\n</code></pre>\n\n<p>This will start the activity (not visible yet) and play the \"activity finish\" transition to the new activity.</p>\n"},{"tags":[],"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1486983901,"creation_date":1409845607,"answer_id":25669749,"question_id":3504619,"body_markdown":"I used this code:\r\n\r\n    overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n\r\nYou can see these examples in [GmailAnimation][1] or [LopeAnimations][2]. Also you can see more in this [Blog][3].\r\n\r\n\r\n  [1]: https://github.com/CabezasGonzalezJavier/GmailAnimation\r\n  [2]: https://github.com/CabezasGonzalezJavier/LopeAnimations\r\n  [3]: http://thedeveloperworldisyours.com/android/gmail-overriding-pending-transition/#sthash.CEhJwJLg.dpbs","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>I used this code:</p>\n\n<pre><code>overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n</code></pre>\n\n<p>You can see these examples in <a href=\"https://github.com/CabezasGonzalezJavier/GmailAnimation\" rel=\"nofollow noreferrer\">GmailAnimation</a> or <a href=\"https://github.com/CabezasGonzalezJavier/LopeAnimations\" rel=\"nofollow noreferrer\">LopeAnimations</a>. Also you can see more in this <a href=\"http://thedeveloperworldisyours.com/android/gmail-overriding-pending-transition/#sthash.CEhJwJLg.dpbs\" rel=\"nofollow noreferrer\">Blog</a>.</p>\n"}],"owner":{"account_id":133099,"reputation":11077,"user_id":334209,"accept_rate":82,"display_name":"Romain Piel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59602,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":6496809,"answer_count":4,"score":35,"last_activity_date":1674160118,"creation_date":1282061765,"question_id":3504619,"body_markdown":"In my android app, I&#39;m making a method that pop all activities and bring up the first activity.\r\n\r\nI use this code:\r\n\r\n    Intent intent = new Intent(this, MMConnection.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    this.startActivity(intent);\r\n\r\nAs I noticed that the transition was still a left to right animation, does someone know if there is a way to change system animation when starting an activity?\r\n\r\nActually, I&#39;d ideally like to have a right to left transition (like when the return button is tapped)\r\n\r\nthanks for help!","title":"Animation transition between activities using FLAG_ACTIVITY_CLEAR_TOP","body":"<p>In my android app, I'm making a method that pop all activities and bring up the first activity.</p>\n\n<p>I use this code:</p>\n\n<pre><code>Intent intent = new Intent(this, MMConnection.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nthis.startActivity(intent);\n</code></pre>\n\n<p>As I noticed that the transition was still a left to right animation, does someone know if there is a way to change system animation when starting an activity?</p>\n\n<p>Actually, I'd ideally like to have a right to left transition (like when the return button is tapped)</p>\n\n<p>thanks for help!</p>\n"},{"tags":["java","android","eclipse","certificate","keystore"],"comments":[{"owner":{"account_id":1037230,"reputation":836,"user_id":1044153,"display_name":"Sebastian Olsson"},"score":0,"creation_date":1329925546,"post_id":9398019,"comment_id":11874696,"body_markdown":"Which OS are you running? ~/.android/debug.keystore will only work on unix like operating systems","body":"Which OS are you running? ~/.android/debug.keystore will only work on unix like operating systems"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":4,"creation_date":1329925873,"post_id":9398019,"comment_id":11874854,"body_markdown":"and %USERPROFILE%\\.android\\debug.keystore will work on windows","body":"and %USERPROFILE%\\.android\\debug.keystore will work on windows"},{"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"score":0,"creation_date":1329926992,"post_id":9398019,"comment_id":11875372,"body_markdown":"OSX 10.6 If I remember correctly.","body":"OSX 10.6 If I remember correctly."}],"answers":[{"tags":[],"owner":{"account_id":185392,"reputation":17382,"user_id":422060,"accept_rate":100,"display_name":"Ben Weiss"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1441878936,"creation_date":1329925547,"answer_id":9398066,"question_id":9398019,"body_markdown":"On Linux / OSX use your favorite terminal and type `rm ~/.android/debug.keystore` to remove the debug keystore.\r\n\r\nYou can create a new keystore after that by [following these steps][1].\r\n\r\n\r\n  [1]: http://developer.android.com/guide/publishing/app-signing.html#debugmode","title":"I can&#39;t find the debug.keystore file","body":"<p>On Linux / OSX use your favorite terminal and type <code>rm ~/.android/debug.keystore</code> to remove the debug keystore.</p>\n\n<p>You can create a new keystore after that by <a href=\"http://developer.android.com/guide/publishing/app-signing.html#debugmode\" rel=\"noreferrer\">following these steps</a>.</p>\n"},{"tags":[],"owner":{"account_id":262258,"reputation":64223,"user_id":546999,"accept_rate":97,"display_name":"Nanne"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329925798,"creation_date":1329925798,"answer_id":9398138,"question_id":9398019,"body_markdown":"I believe it is in the `.android/avd/` directory in OSX, but it could also be just in `/.android/` as you suggest.\r\n\r\nRemember that `~` means your home directory, so you do not need to look for it in your SDK!\r\n\r\n(disclaimer) It&#39;s been a while since [I&#39;ve battled with this][1], and I didn&#39;t do it on a mac.\r\n\r\n\r\n  [1]: http://androblip.huiges.nl/2010/08/25/android-debug-key-expiration-sdkeclipse/","title":"I can&#39;t find the debug.keystore file","body":"<p>I believe it is in the <code>.android/avd/</code> directory in OSX, but it could also be just in <code>/.android/</code> as you suggest.</p>\n\n<p>Remember that <code>~</code> means your home directory, so you do not need to look for it in your SDK!</p>\n\n<p>(disclaimer) It's been a while since <a href=\"http://androblip.huiges.nl/2010/08/25/android-debug-key-expiration-sdkeclipse/\" rel=\"nofollow\">I've battled with this</a>, and I didn't do it on a mac.</p>\n"},{"tags":[],"owner":{"account_id":296946,"reputation":973,"user_id":602198,"display_name":"Marcell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329925948,"creation_date":1329925948,"answer_id":9398185,"question_id":9398019,"body_markdown":"Expiry of the Debug Certificate\r\n\r\nThe self-signed certificate used to sign your application in debug mode (the default on Eclipse/ADT and Ant builds) will have an expiration date of 365 days from its creation date.\r\n\r\nWhen the certificate expires, you will get a build error. On Ant builds, the error looks like this:\r\n\r\ndebug:\r\n[echo] Packaging bin/samples-debug.apk, and signing it with a debug key...\r\n[exec] Debug Certificate expired on 8/4/08 3:43 PM\r\nIn Eclipse/ADT, you will see a similar error in the Android console.\r\n\r\nTo fix this problem, simply delete the debug.keystore file. The default storage location for AVDs is in ~/.android/ on OS X and Linux, in C:\\Documents and Settings\\&lt;user&gt;\\.android\\ on Windows XP, and in C:\\Users\\&lt;user&gt;\\.android\\ on Windows Vista and Windows 7.\r\n\r\nSource: Android Publishing Guide:\r\nhttp://developer.android.com/guide/publishing/app-signing.html","title":"I can&#39;t find the debug.keystore file","body":"<p>Expiry of the Debug Certificate</p>\n\n<p>The self-signed certificate used to sign your application in debug mode (the default on Eclipse/ADT and Ant builds) will have an expiration date of 365 days from its creation date.</p>\n\n<p>When the certificate expires, you will get a build error. On Ant builds, the error looks like this:</p>\n\n<p>debug:\n[echo] Packaging bin/samples-debug.apk, and signing it with a debug key...\n[exec] Debug Certificate expired on 8/4/08 3:43 PM\nIn Eclipse/ADT, you will see a similar error in the Android console.</p>\n\n<p>To fix this problem, simply delete the debug.keystore file. The default storage location for AVDs is in ~/.android/ on OS X and Linux, in C:\\Documents and Settings\\.android\\ on Windows XP, and in C:\\Users\\.android\\ on Windows Vista and Windows 7.</p>\n\n<p>Source: Android Publishing Guide:\n<a href=\"http://developer.android.com/guide/publishing/app-signing.html\" rel=\"nofollow\">http://developer.android.com/guide/publishing/app-signing.html</a></p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1329927410,"creation_date":1329927410,"answer_id":9398619,"question_id":9398019,"body_markdown":"Open Eclipse Preferences, then navigate to **Android** &gt; **Build**. There you&#39;ll see a field that tells the location of your debug keystore.","title":"I can&#39;t find the debug.keystore file","body":"<p>Open Eclipse Preferences, then navigate to <strong>Android</strong> > <strong>Build</strong>. There you'll see a field that tells the location of your debug keystore.</p>\n"}],"owner":{"account_id":1202824,"reputation":673,"user_id":1173126,"accept_rate":33,"display_name":"user1173126"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70483,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"answer_count":4,"score":52,"last_activity_date":1674160052,"creation_date":1329925411,"question_id":9398019,"body_markdown":"I&#39;m having an error with Eclipse and Android&#39;s SDK. apparently, it comes from the fact that my certificate expired. So I googled the error and I found that I have to remove the ~/.android/debug.keystore file. The thing is I can&#39;t find this file. It&#39;s not in my SDK.\r\n\r\nCan someone help me with this ?\r\n\r\nEdit: I work on Mac.","title":"I can&#39;t find the debug.keystore file","body":"<p>I'm having an error with Eclipse and Android's SDK. apparently, it comes from the fact that my certificate expired. So I googled the error and I found that I have to remove the ~/.android/debug.keystore file. The thing is I can't find this file. It's not in my SDK.</p>\n\n<p>Can someone help me with this ?</p>\n\n<p>Edit: I work on Mac.</p>\n"},{"tags":["java","android","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1494534514,"creation_date":1302773060,"answer_id":5661039,"question_id":5660887,"body_markdown":"    final CharSequence[] choice = {&quot;Choose from Gallery&quot;,&quot;Capture a photo&quot;};\r\n    \r\n    int from; //This must be declared as global !\r\n    \r\n    AlertDialog.Builder alert = new AlertDialog.Builder(activity);\r\n    alert.setTitle(&quot;Upload Photo&quot;);\r\n    alert.setSingleChoiceItems(choice, -1, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            if (choice[which] == &quot;Choose from Gallery&quot;) {\r\n                from = 1;\r\n            } else if (choice[which] == &quot;Capture a photo&quot;) {\r\n                from = 2;\r\n            }\r\n        }\r\n    });\r\n    alert.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            if (from == 0) {\r\n                Toast.makeText(activity, &quot;Select One Choice&quot;, \r\n                            Toast.LENGTH_SHORT).show();\r\n            } else if (from == 1) {\r\n                // Your Code\r\n            } else if (from == 2) {\r\n                // Your Code\r\n            }\r\n        }\r\n    });\r\n    alert.show();\r\n\r\n","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<pre><code>final CharSequence[] choice = {\"Choose from Gallery\",\"Capture a photo\"};\n\nint from; //This must be declared as global !\n\nAlertDialog.Builder alert = new AlertDialog.Builder(activity);\nalert.setTitle(\"Upload Photo\");\nalert.setSingleChoiceItems(choice, -1, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        if (choice[which] == \"Choose from Gallery\") {\n            from = 1;\n        } else if (choice[which] == \"Capture a photo\") {\n            from = 2;\n        }\n    }\n});\nalert.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        if (from == 0) {\n            Toast.makeText(activity, \"Select One Choice\", \n                        Toast.LENGTH_SHORT).show();\n        } else if (from == 1) {\n            // Your Code\n        } else if (from == 2) {\n            // Your Code\n        }\n    }\n});\nalert.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1311792217,"creation_date":1311792217,"answer_id":6849534,"question_id":5660887,"body_markdown":"Using a final variable obviously won&#39;t work (since it can only be assigned once, at declaration time). So-called &quot;global&quot; variables are usually a code smell (especially when they become part of an Activity class, which is usually where AlertDialogs are created).\r\nThe cleaner solution is to cast the DialogInterface object to an AlertDialog and then call getListView().getCheckedItemPosition(). Like this:\r\n\r\n    new AlertDialog.Builder(this)\r\n    \t\t.setSingleChoiceItems(items, 0, null)\r\n    \t\t.setPositiveButton(R.string.ok_button_label, new DialogInterface.OnClickListener() {\r\n    \t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t\tdialog.dismiss();\r\n    \t\t\t\tint selectedPosition = ((AlertDialog)dialog).getListView().getCheckedItemPosition();\r\n    \t\t\t\t// Do something useful withe the position of the selected radio button\r\n    \t\t\t}\r\n    \t\t})\r\n    \t\t.show();\r\n","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>Using a final variable obviously won't work (since it can only be assigned once, at declaration time). So-called \"global\" variables are usually a code smell (especially when they become part of an Activity class, which is usually where AlertDialogs are created).\nThe cleaner solution is to cast the DialogInterface object to an AlertDialog and then call getListView().getCheckedItemPosition(). Like this:</p>\n\n<pre><code>new AlertDialog.Builder(this)\n        .setSingleChoiceItems(items, 0, null)\n        .setPositiveButton(R.string.ok_button_label, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                dialog.dismiss();\n                int selectedPosition = ((AlertDialog)dialog).getListView().getCheckedItemPosition();\n                // Do something useful withe the position of the selected radio button\n            }\n        })\n        .show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":899204,"reputation":16222,"user_id":935779,"accept_rate":94,"display_name":"Kirk"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1381849657,"creation_date":1360643300,"answer_id":14825379,"question_id":5660887,"body_markdown":"This has been answered just fine, but I keep finding this answer from Google and I wanted to share a non-anonymous class solution. I prefer reusable classes myself and may be helpful to others.\r\n\r\nIn this example, I&#39;m using a `DialogFragment` implementation and retrieving a value via a _callback_ method.\r\n\r\nThe _callback_ method to get values from a _Dialog_ can be done by creating a public **interface**\r\n\r\n    public interface OnDialogSelectorListener {\r\n        public void onSelectedOption(int selectedIndex);\r\n    }\r\n\r\nAlso the `DialogFragment` implements `DialogInterface.OnClickListener` which means you can register the class you&#39;ve implemented as the _OnClickListener_ for the `DialogFragment` that is being created.\r\n\r\nFor example\r\n\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \tfinal AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\r\n    \t\r\n    \tbuilder.setTitle(R.string.select);\r\n    \tbuilder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\r\n    \tbuilder.setPositiveButton(R.string.ok, this);\r\n    \tbuilder.setNegativeButton(R.string.cancel, this);\r\n    \treturn builder.create();\r\n    }\r\n\r\nThe line\r\n\r\n`builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);`\r\n\r\nCreates a choice dialog with the options from a _resource array_ stored in _mResourceArray_. This also preselects an option index from what is stored in _mSelectedIndex_ and finally it sets `this` itself as the _OnClickListener_. (See full code at the end if this paragraph is a tad confusing)\r\n\r\n\r\nNow, the _OnClick_ method is where you grab the value that comes from the dialog\r\n\r\n\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n    \t\r\n    \tswitch (which) {\r\n    \t\tcase Dialog.BUTTON_NEGATIVE: // Cancel button selected, do nothing\r\n    \t\t\tdialog.cancel();\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tcase Dialog.BUTTON_POSITIVE: // OK button selected, send the data back\r\n    \t\t\tdialog.dismiss();\r\n    \t\t\t// message selected value to registered callbacks with the\r\n                        // selected value.\r\n    \t\t\tmDialogSelectorCallback.onSelectedOption(mSelectedIndex);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tdefault: // choice item selected\r\n                        // store the new selected value in the static variable\r\n    \t\t\tmSelectedIndex = which;\r\n    \t\t\tbreak;\r\n    \t}\r\n    }\r\n\r\nWhat happens here is when an item is selected, it&#39;s stored in a variable. If the user clicks the _Cancel_ button, no update is sent back and nothing changes. If the user clicks the OK button, it returns the value to the `Activity` that created it via the _callback_ created.\r\n\r\nAs an example, here is how you would create the dialog from a `FragmentActivity`.\r\n\r\n    final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\r\n    sd.show(getSupportFragmentManager(), TAG);\r\n\r\nHere, the resource array _R.array.selector_array_ is an array of strings to show in the dialog and _preSelectedValue_ is the index to select on open.\r\n\r\nFinally, your `FragmentActivity` will implement `OnDialogSelectorListener` and will receive the callback message.\r\n\r\n    public class MyActivity extends FragmentActivity implements OnDialogSelectorListener {\r\n    // ....\r\n    \r\n        public void onSelectedOption(int selectedIndex) {\r\n        \t// do something with the newly selected index\r\n        }\r\n    }\r\n\r\nI hope this is helpful to someone, as it took me MANY attempts to understand it. A full implementation of this type of `DialogFragment` with a _callback_ is here.\r\n\r\n    public class SelectorDialog extends DialogFragment implements OnClickListener {\r\n    \tstatic final String TAG = &quot;SelectorDialog&quot;;\r\n    \t\r\n    \tstatic int mResourceArray;\r\n    \tstatic int mSelectedIndex;\r\n        static OnDialogSelectorListener mDialogSelectorCallback;\r\n        \r\n        public interface OnDialogSelectorListener {\r\n        \tpublic void onSelectedOption(int dialogId);\r\n    \t}\r\n     \r\n        public static DialogSelectorDialog newInstance(int res, int selected) {\r\n        \tfinal DialogSelectorDialog dialog  = new DialogSelectorDialog();\r\n        \tmResourceArray = res;\r\n        \tmSelectedIndex = selected;\r\n        \t\r\n        \treturn dialog;\r\n        }\r\n        \r\n        @Override\r\n    \tpublic void onAttach(Activity activity) {\r\n    \t\tsuper.onAttach(activity);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tmDialogSelectorCallback = (OnDialogSelectorListener)activity;\r\n            } catch (final ClassCastException e) {\r\n                throw new ClassCastException(activity.toString() + &quot; must implement OnDialogSelectorListener&quot;);\r\n            }\r\n    \t}\r\n        \r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        \tfinal AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\r\n        \t\r\n        \tbuilder.setTitle(R.string.select);\r\n        \tbuilder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\r\n            builder.setPositiveButton(R.string.ok, this);\r\n            builder.setNegativeButton(R.string.cancel, this);\r\n            return builder.create();\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void onClick(DialogInterface dialog, int which) {\r\n    \t\t\r\n    \t\tswitch (which) {\r\n    \t\t\tcase Dialog.BUTTON_NEGATIVE:\r\n    \t\t\t\tdialog.cancel();\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase Dialog.BUTTON_POSITIVE:\r\n    \t\t        dialog.dismiss();\r\n    \t\t        // message selected value to registered calbacks\r\n    \t\t        mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tdefault: // choice selected click\r\n    \t\t\t\tmSelectedIndex = which;\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**Question from a comment** How to call this from a `Fragment` instead of an `Activity`.\r\n\r\nFirst make a few changes to the `DialogFragment`.\r\n\r\nRemove the `onAttach` event since that&#39;s not the easiest way in this scenario.\r\n\r\nAdd a new method to add a reference to the callback\r\n\r\n    public void setDialogSelectorListener (OnDialogSelectorListener listener) {\r\n    \tthis.mListener = listener;\r\n    }\r\n\r\nImplement the listener in your `Fragment`\r\n\r\n    public class MyFragment extends Fragment implements SelectorDialog.OnDialogSelectorListener {\r\n    // ....\r\n    \r\n        public void onSelectedOption(int selectedIndex) {\r\n            // do something with the newly selected index\r\n        }\r\n    }\r\n\r\nNow create a new instance and pass in a reference to the `Fragment` to use it.\r\n\r\n    final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\r\n    // this is a reference to MyFragment\r\n    sd.setDialogSelectorListener(this);\r\n    // mActivity is just a reference to the activity attached to MyFragment\r\n    sd.show(this.mActivity.getSupportFragmentManager(), TAG);","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>This has been answered just fine, but I keep finding this answer from Google and I wanted to share a non-anonymous class solution. I prefer reusable classes myself and may be helpful to others.</p>\n\n<p>In this example, I'm using a <code>DialogFragment</code> implementation and retrieving a value via a <em>callback</em> method.</p>\n\n<p>The <em>callback</em> method to get values from a <em>Dialog</em> can be done by creating a public <strong>interface</strong></p>\n\n<pre><code>public interface OnDialogSelectorListener {\n    public void onSelectedOption(int selectedIndex);\n}\n</code></pre>\n\n<p>Also the <code>DialogFragment</code> implements <code>DialogInterface.OnClickListener</code> which means you can register the class you've implemented as the <em>OnClickListener</em> for the <code>DialogFragment</code> that is being created.</p>\n\n<p>For example</p>\n\n<pre><code>public Dialog onCreateDialog(Bundle savedInstanceState) {\n    final AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\n\n    builder.setTitle(R.string.select);\n    builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\n    builder.setPositiveButton(R.string.ok, this);\n    builder.setNegativeButton(R.string.cancel, this);\n    return builder.create();\n}\n</code></pre>\n\n<p>The line</p>\n\n<p><code>builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);</code></p>\n\n<p>Creates a choice dialog with the options from a <em>resource array</em> stored in <em>mResourceArray</em>. This also preselects an option index from what is stored in <em>mSelectedIndex</em> and finally it sets <code>this</code> itself as the <em>OnClickListener</em>. (See full code at the end if this paragraph is a tad confusing)</p>\n\n<p>Now, the <em>OnClick</em> method is where you grab the value that comes from the dialog</p>\n\n<pre><code>@Override\npublic void onClick(DialogInterface dialog, int which) {\n\n    switch (which) {\n        case Dialog.BUTTON_NEGATIVE: // Cancel button selected, do nothing\n            dialog.cancel();\n            break;\n\n        case Dialog.BUTTON_POSITIVE: // OK button selected, send the data back\n            dialog.dismiss();\n            // message selected value to registered callbacks with the\n                    // selected value.\n            mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\n            break;\n\n        default: // choice item selected\n                    // store the new selected value in the static variable\n            mSelectedIndex = which;\n            break;\n    }\n}\n</code></pre>\n\n<p>What happens here is when an item is selected, it's stored in a variable. If the user clicks the <em>Cancel</em> button, no update is sent back and nothing changes. If the user clicks the OK button, it returns the value to the <code>Activity</code> that created it via the <em>callback</em> created.</p>\n\n<p>As an example, here is how you would create the dialog from a <code>FragmentActivity</code>.</p>\n\n<pre><code>final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\nsd.show(getSupportFragmentManager(), TAG);\n</code></pre>\n\n<p>Here, the resource array _R.array.selector_array_ is an array of strings to show in the dialog and <em>preSelectedValue</em> is the index to select on open.</p>\n\n<p>Finally, your <code>FragmentActivity</code> will implement <code>OnDialogSelectorListener</code> and will receive the callback message.</p>\n\n<pre><code>public class MyActivity extends FragmentActivity implements OnDialogSelectorListener {\n// ....\n\n    public void onSelectedOption(int selectedIndex) {\n        // do something with the newly selected index\n    }\n}\n</code></pre>\n\n<p>I hope this is helpful to someone, as it took me MANY attempts to understand it. A full implementation of this type of <code>DialogFragment</code> with a <em>callback</em> is here.</p>\n\n<pre><code>public class SelectorDialog extends DialogFragment implements OnClickListener {\n    static final String TAG = \"SelectorDialog\";\n\n    static int mResourceArray;\n    static int mSelectedIndex;\n    static OnDialogSelectorListener mDialogSelectorCallback;\n\n    public interface OnDialogSelectorListener {\n        public void onSelectedOption(int dialogId);\n    }\n\n    public static DialogSelectorDialog newInstance(int res, int selected) {\n        final DialogSelectorDialog dialog  = new DialogSelectorDialog();\n        mResourceArray = res;\n        mSelectedIndex = selected;\n\n        return dialog;\n    }\n\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n\n        try {\n            mDialogSelectorCallback = (OnDialogSelectorListener)activity;\n        } catch (final ClassCastException e) {\n            throw new ClassCastException(activity.toString() + \" must implement OnDialogSelectorListener\");\n        }\n    }\n\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        final AlertDialog.Builder builder = new AlertDialog.Builder(this.getActivity());\n\n        builder.setTitle(R.string.select);\n        builder.setSingleChoiceItems(mResourceArray, mSelectedIndex, this);\n        builder.setPositiveButton(R.string.ok, this);\n        builder.setNegativeButton(R.string.cancel, this);\n        return builder.create();\n    }\n\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n\n        switch (which) {\n            case Dialog.BUTTON_NEGATIVE:\n                dialog.cancel();\n                break;\n\n            case Dialog.BUTTON_POSITIVE:\n                dialog.dismiss();\n                // message selected value to registered calbacks\n                mDialogSelectorCallback.onSelectedOption(mSelectedIndex);\n                break;\n\n            default: // choice selected click\n                mSelectedIndex = which;\n                break;\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Question from a comment</strong> How to call this from a <code>Fragment</code> instead of an <code>Activity</code>.</p>\n\n<p>First make a few changes to the <code>DialogFragment</code>.</p>\n\n<p>Remove the <code>onAttach</code> event since that's not the easiest way in this scenario.</p>\n\n<p>Add a new method to add a reference to the callback</p>\n\n<pre><code>public void setDialogSelectorListener (OnDialogSelectorListener listener) {\n    this.mListener = listener;\n}\n</code></pre>\n\n<p>Implement the listener in your <code>Fragment</code></p>\n\n<pre><code>public class MyFragment extends Fragment implements SelectorDialog.OnDialogSelectorListener {\n// ....\n\n    public void onSelectedOption(int selectedIndex) {\n        // do something with the newly selected index\n    }\n}\n</code></pre>\n\n<p>Now create a new instance and pass in a reference to the <code>Fragment</code> to use it.</p>\n\n<pre><code>final SelectorDialog sd = SelectorDialog.newInstance(R.array.selector_array, preSelectedValue);\n// this is a reference to MyFragment\nsd.setDialogSelectorListener(this);\n// mActivity is just a reference to the activity attached to MyFragment\nsd.show(this.mActivity.getSupportFragmentManager(), TAG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5065303,"reputation":149,"user_id":4124085,"display_name":"Nikhil jassal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542277335,"creation_date":1542274962,"answer_id":53316480,"question_id":5660887,"body_markdown":"Try this. \r\n\r\n    final String[] fonts = {&quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot;, &quot;Huge&quot;};\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(TopicDetails.this);\r\n    builder.setTitle(&quot;Select a text size&quot;);\r\n    builder.setItems(fonts, new DialogInterface.OnClickListener() {\r\n      @Override\r\n      public void onClick(DialogInterface dialog, int which) {\r\n        if (&quot;Small&quot;.equals(fonts[which])) {\r\n          Toast.makeText(MainActivity.this,&quot;you nailed it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Medium&quot;.equals(fonts[which])) {\r\n          Toast.makeText(MainActivity.this,&quot;you cracked it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Large&quot;.equals(fonts[which])){\r\n          Toast.makeText(MainActivity.this,&quot;you hacked it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (&quot;Huge&quot;.equals(fonts[which])){\r\n         Toast.makeText(MainActivity.this,&quot;you digged it&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n      // the user clicked on colors[which]\r\n      }\r\n    });\r\n    builder.show();","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>Try this. </p>\n\n<pre><code>final String[] fonts = {\"Small\", \"Medium\", \"Large\", \"Huge\"};\n\nAlertDialog.Builder builder = new AlertDialog.Builder(TopicDetails.this);\nbuilder.setTitle(\"Select a text size\");\nbuilder.setItems(fonts, new DialogInterface.OnClickListener() {\n  @Override\n  public void onClick(DialogInterface dialog, int which) {\n    if (\"Small\".equals(fonts[which])) {\n      Toast.makeText(MainActivity.this,\"you nailed it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Medium\".equals(fonts[which])) {\n      Toast.makeText(MainActivity.this,\"you cracked it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Large\".equals(fonts[which])){\n      Toast.makeText(MainActivity.this,\"you hacked it\", Toast.LENGTH_SHORT).show();\n    }\n    else if (\"Huge\".equals(fonts[which])){\n     Toast.makeText(MainActivity.this,\"you digged it\", Toast.LENGTH_SHORT).show();\n    }\n  // the user clicked on colors[which]\n  }\n});\nbuilder.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545388037,"creation_date":1545388037,"answer_id":53883093,"question_id":5660887,"body_markdown":"As others have pointed out,  **implementation &#39;com.google.android.material:material:1.0.0&#39;** it is more simply \r\n\r\nRefere this material guide for more. https://material.io/develop/android/docs/getting-started/\r\n\r\n\r\n    CharSequence[] choices = {&quot;Choice1&quot;, &quot;Choice2&quot;, &quot;Choice3&quot;};\r\n    boolean[] choicesInitial = {false, true, false};\r\n    AlertDialog.Builder alertDialogBuilder = new MaterialAlertDialogBuilder(getContext())\r\n        .setTitle(title)\r\n        .setPositiveButton(&quot;Accept&quot;, null)\r\n        .setNeutralButton(&quot;Cancel&quot;, null)\r\n        .setMultiChoiceItems(choices, choicesInitial, new DialogInterface.OnMultiChoiceClickListener() {\r\n          @Override\r\n          public void onClick(DialogInterface dialog, int which, boolean isChecked) {\r\n\r\n          }\r\n        });\r\n    alertDialogBuilder.show();\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WalnQ.png","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>As others have pointed out,  <strong>implementation 'com.google.android.material:material:1.0.0'</strong> it is more simply </p>\n\n<p>Refere this material guide for more. <a href=\"https://material.io/develop/android/docs/getting-started/\" rel=\"noreferrer\">https://material.io/develop/android/docs/getting-started/</a></p>\n\n<pre><code>CharSequence[] choices = {\"Choice1\", \"Choice2\", \"Choice3\"};\nboolean[] choicesInitial = {false, true, false};\nAlertDialog.Builder alertDialogBuilder = new MaterialAlertDialogBuilder(getContext())\n    .setTitle(title)\n    .setPositiveButton(\"Accept\", null)\n    .setNeutralButton(\"Cancel\", null)\n    .setMultiChoiceItems(choices, choicesInitial, new DialogInterface.OnMultiChoiceClickListener() {\n      @Override\n      public void onClick(DialogInterface dialog, int which, boolean isChecked) {\n\n      }\n    });\nalertDialogBuilder.show();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WalnQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WalnQ.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":204397,"reputation":1469,"user_id":452584,"accept_rate":71,"display_name":"LuckyStarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96036,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":6849534,"answer_count":5,"score":45,"last_activity_date":1674159969,"creation_date":1302772145,"question_id":5660887,"body_markdown":"I have an alert dialog with a single-choice list and two buttons: an `OK` button and a `cancel` button. The code below show how I implemented it.\r\n\r\n    private final Dialog createListFile(final String[] fileList) {\r\n\t  AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\t  builder.setTitle(&quot;Compare with:&quot;);\r\n\t\t\r\n      builder.setSingleChoiceItems(fileList, -1, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {\r\n          Log.d(TAG,&quot;The wrong button was tapped: &quot; + fileList[whichButton]);\r\n        }\r\n      });\r\n        \r\n      builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {}\r\n      });\r\n        \r\n      builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int whichButton) {}\r\n      });\r\n\t\t\r\n      return builder.create();\r\n\t}\r\n\r\nMy goal is to obtain the name of the selected radio button when the `OK` button is tapped. I tried to save the string in a variable, but inside an inner class it is possible to access only final variables. Is there a way to avoid using a final variable to store the selected radio button?","title":"How to select a entry in AlertDialog with single choice checkbox android?","body":"<p>I have an alert dialog with a single-choice list and two buttons: an <code>OK</code> button and a <code>cancel</code> button. The code below show how I implemented it.</p>\n\n<pre><code>private final Dialog createListFile(final String[] fileList) {\n  AlertDialog.Builder builder = new AlertDialog.Builder(this);\n  builder.setTitle(\"Compare with:\");\n\n  builder.setSingleChoiceItems(fileList, -1, new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {\n      Log.d(TAG,\"The wrong button was tapped: \" + fileList[whichButton]);\n    }\n  });\n\n  builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {}\n  });\n\n  builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int whichButton) {}\n  });\n\n  return builder.create();\n}\n</code></pre>\n\n<p>My goal is to obtain the name of the selected radio button when the <code>OK</code> button is tapped. I tried to save the string in a variable, but inside an inner class it is possible to access only final variables. Is there a way to avoid using a final variable to store the selected radio button?</p>\n"},{"tags":["java","android","kotlin","broadcastreceiver","activity-recognition"],"comments":[{"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"score":0,"creation_date":1666240393,"post_id":74132300,"comment_id":130890130,"body_markdown":"you need to use work manager for that","body":"you need to use work manager for that"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1666263551,"post_id":74132300,"comment_id":130897319,"body_markdown":"@ParthLotia For registering BR or Activity Manager ?","body":"@ParthLotia For registering BR or Activity Manager ?"},{"owner":{"account_id":10191483,"reputation":59,"user_id":7524755,"display_name":"Devdatta"},"score":0,"creation_date":1669265688,"post_id":74132300,"comment_id":131606543,"body_markdown":"@androidXP have you got resolution?","body":"@androidXP have you got resolution?"}],"answers":[{"tags":[],"owner":{"account_id":16163774,"reputation":206,"user_id":11669229,"display_name":"Mehran Sahandi Far"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674159904,"creation_date":1674159904,"answer_id":75177895,"question_id":74132300,"body_markdown":"I also had this problem with a new update, but after a deeper debugging I realised that it actually works but it takes more time to retrieve data, so just be patient or run for longer time","title":"Android 12 - Activity Recognition With broadcast receiver in background not working","body":"<p>I also had this problem with a new update, but after a deeper debugging I realised that it actually works but it takes more time to retrieve data, so just be patient or run for longer time</p>\n"}],"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674159904,"creation_date":1666216302,"question_id":74132300,"body_markdown":"I am trying to get user activity states by `ActivityRecognition` API and it works in foreground and for few hours in background too (When user exit the app) but after more than 4/5 hours it stop sending user activity states by `ActivityRecognition` API. \r\n\r\nSetup Activity Recognition and Registering BroadcastReceiver In Main Activity\r\n\r\n    public static void ActivityRecognitionSetup() {\r\n            final String TRANSITIONS_RECEIVER_ACTION = &quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\r\n            Intent mintent = new Intent(TRANSITIONS_RECEIVER_ACTION);\r\n    \r\n            ActivityRecognitionClient client = ActivityRecognition.getClient(context);\r\n            PendingIntent pendingIntent;\r\n            if (App_Functions.runningSOrLater){\r\n                pendingIntent = PendingIntent.getBroadcast(Application.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT|PendingIntent.FLAG_MUTABLE);\r\n            }else {\r\n                pendingIntent = PendingIntent.getBroadcast(MyApplication.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n            ActivityRecognitionBroadcastReceiver broadcastReceiver = new ActivityRecognitionBroadcastReceiver();\r\n    \r\n             Task&lt;Void&gt; task = client.requestActivityUpdates(6 * 60 * 60 * 1000, pendingIntent);\r\n                task.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Log.d(TAG, &quot;onSuccess: Activity recognition Started&quot;);\r\n                        context.registerReceiver(broadcastReceiver, new IntentFilter(TRANSITIONS_RECEIVER_ACTION));\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure: Activity recognition Failed&quot;);\r\n                    }\r\n                });\r\n        }\r\n\r\n\r\nAlso Registering BR in Manifest \r\n\r\n     &lt;receiver\r\n                android:name=&quot;.ActivityRecognitionBroadcastReceiver&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:permission=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n\r\n\r\nBroadcast Receiver \r\n\r\n    public class ActivityRecognitionBroadcastReceiver extends BroadcastReceiver {\r\n       \r\n        final String TRANSITIONS_RECEIVER_ACTION =&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (!TextUtils.equals(TRANSITIONS_RECEIVER_ACTION, intent.getAction())) {            \r\n                return;\r\n            }\r\n            \r\n            if (ActivityRecognitionResult.hasResult(intent)) {\r\n                ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\r\n                // This Method Will Show Notification On Every Activity Recognition Detection\r\n    \t\t\tshowNotification(&quot;Activity Recognition &quot;+activity.getConfidence(),result.getProbableActivities())\r\n            }else{\r\n                Log.d(TAG, &quot;ActivityRecognition Has NO Result &quot;+ActivityRecognitionResult.hasResult(intent));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nEven on idle the device is getting notifications but after 4-5 hours or sometimes more it stop receiving any broadcast from activity recognition api. Any ideas why this happening?","title":"Android 12 - Activity Recognition With broadcast receiver in background not working","body":"<p>I am trying to get user activity states by <code>ActivityRecognition</code> API and it works in foreground and for few hours in background too (When user exit the app) but after more than 4/5 hours it stop sending user activity states by <code>ActivityRecognition</code> API.</p>\n<p>Setup Activity Recognition and Registering BroadcastReceiver In Main Activity</p>\n<pre><code>public static void ActivityRecognitionSetup() {\n        final String TRANSITIONS_RECEIVER_ACTION = &quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\n        Intent mintent = new Intent(TRANSITIONS_RECEIVER_ACTION);\n\n        ActivityRecognitionClient client = ActivityRecognition.getClient(context);\n        PendingIntent pendingIntent;\n        if (App_Functions.runningSOrLater){\n            pendingIntent = PendingIntent.getBroadcast(Application.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT|PendingIntent.FLAG_MUTABLE);\n        }else {\n            pendingIntent = PendingIntent.getBroadcast(MyApplication.getmContext(), 255, mintent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n        ActivityRecognitionBroadcastReceiver broadcastReceiver = new ActivityRecognitionBroadcastReceiver();\n\n         Task&lt;Void&gt; task = client.requestActivityUpdates(6 * 60 * 60 * 1000, pendingIntent);\n            task.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    Log.d(TAG, &quot;onSuccess: Activity recognition Started&quot;);\n                    context.registerReceiver(broadcastReceiver, new IntentFilter(TRANSITIONS_RECEIVER_ACTION));\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.d(TAG, &quot;onFailure: Activity recognition Failed&quot;);\n                }\n            });\n    }\n</code></pre>\n<p>Also Registering BR in Manifest</p>\n<pre><code> &lt;receiver\n            android:name=&quot;.ActivityRecognitionBroadcastReceiver&quot;\n            android:exported=&quot;false&quot;\n            android:permission=&quot;com.google.android.gms.permission.ACTIVITY_RECOGNITION&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p>Broadcast Receiver</p>\n<pre><code>public class ActivityRecognitionBroadcastReceiver extends BroadcastReceiver {\n   \n    final String TRANSITIONS_RECEIVER_ACTION =&quot;com.example.TRANSITIONS_RECEIVER_ACTION&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (!TextUtils.equals(TRANSITIONS_RECEIVER_ACTION, intent.getAction())) {            \n            return;\n        }\n        \n        if (ActivityRecognitionResult.hasResult(intent)) {\n            ActivityRecognitionResult result = ActivityRecognitionResult.extractResult(intent);\n            // This Method Will Show Notification On Every Activity Recognition Detection\n            showNotification(&quot;Activity Recognition &quot;+activity.getConfidence(),result.getProbableActivities())\n        }else{\n            Log.d(TAG, &quot;ActivityRecognition Has NO Result &quot;+ActivityRecognitionResult.hasResult(intent));\n        }\n    }\n\n}\n</code></pre>\n<p>Even on idle the device is getting notifications but after 4-5 hours or sometimes more it stop receiving any broadcast from activity recognition api. Any ideas why this happening?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9278,"page":714,"page_size":100}
